{"items":[{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1361189798,"post_id":14935833,"comment_id":20960144,"body_markdown":"Does your comment start with `/**`?","body":"Does your comment start with <code>&#47;**</code>?"},{"owner":{"account_id":426849,"reputation":2355,"user_id":808298,"accept_rate":52,"display_name":"mooonli"},"score":1,"creation_date":1361189850,"post_id":14935833,"comment_id":20960176,"body_markdown":"could you post an example of the javadoc you entered and a printscreen of the corresponding checkstyle settings you made?","body":"could you post an example of the javadoc you entered and a printscreen of the corresponding checkstyle settings you made?"},{"owner":{"account_id":2084662,"reputation":3205,"user_id":1855889,"accept_rate":40,"display_name":"Monty"},"score":0,"creation_date":1361190819,"post_id":14935833,"comment_id":20960679,"body_markdown":"these comments only java docs comments.","body":"these comments only java docs comments."}],"answers":[{"tags":[],"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361189683,"creation_date":1361189683,"answer_id":14936063,"question_id":14935833,"body_markdown":"You get the warning because the javadoc comments are missing:\r\nExample\r\n\r\n    /**\r\n     * Gets the distance between tw points.\r\n     */\r\n    double getDistance(Point a, Point b);\r\n\r\nThis comment is not complete because the params are not documented, but it is the minimal that checkstyle will accept ( in the default rules)\r\n\r\nSame has to be done for class, sometimes for fields, too.\r\n\r\nYou can enable and disable specific checkstyle rules, but first try to write your code sucht that the default rules (sun checks) do not deliver warnings.","title":"code review in check style in eclipse","body":"<p>You get the warning because the javadoc comments are missing:\nExample</p>\n\n<pre><code>/**\n * Gets the distance between tw points.\n */\ndouble getDistance(Point a, Point b);\n</code></pre>\n\n<p>This comment is not complete because the params are not documented, but it is the minimal that checkstyle will accept ( in the default rules)</p>\n\n<p>Same has to be done for class, sometimes for fields, too.</p>\n\n<p>You can enable and disable specific checkstyle rules, but first try to write your code sucht that the default rules (sun checks) do not deliver warnings.</p>\n"},{"tags":[],"owner":{"account_id":14858440,"reputation":456,"user_id":10730157,"display_name":"aqteifan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579284143,"creation_date":1579284143,"answer_id":59792708,"question_id":14935833,"body_markdown":"You need a comment above your class as well.","title":"code review in check style in eclipse","body":"<p>You need a comment above your class as well.</p>\n"}],"owner":{"account_id":2084662,"reputation":3205,"user_id":1855889,"accept_rate":40,"display_name":"Monty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696730440,"creation_date":1361188921,"question_id":14935833,"body_markdown":"I am reviewing my code with **check style** . this is waste plugin in this ide.\r\n\r\nI don&#39;t know why my code always show `missing javadoc comment.`\r\n\r\neven i am giving the proper comments.\r\n\r\n\r\nplease is there any way to review the code in proper way.\r\n\r\n **can i make my own rules.**\r\n\r\n\r\n**update**\r\n\r\nevery line is showing missing javadoc ...after putting comment also\r\n\r\n    public class MyTest {\r\n    \r\n    \t/**\r\n    \t * integer Variable I\r\n    \t */\r\n    \tpublic static int I = 10;\r\n    \t\r\n    \t/**\r\n    \t * String Variable Name\r\n    \t */\r\n    \tpublic static String NAME = &quot;XYZ&quot;;\r\n    \t\r\n    \t/**\r\n    \t * Constructor\r\n    \t */\r\n    \tpublic MyTest() {\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Main method\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSystem.out.print(NAME+&quot;\\n&quot;+I);\r\n    \t}\r\n    }\r\n\r\n","title":"code review in check style in eclipse","body":"<p>I am reviewing my code with <strong>check style</strong> . this is waste plugin in this ide.</p>\n\n<p>I don't know why my code always show <code>missing javadoc comment.</code></p>\n\n<p>even i am giving the proper comments.</p>\n\n<p>please is there any way to review the code in proper way.</p>\n\n<p><strong>can i make my own rules.</strong></p>\n\n<p><strong>update</strong></p>\n\n<p>every line is showing missing javadoc ...after putting comment also</p>\n\n<pre><code>public class MyTest {\n\n    /**\n     * integer Variable I\n     */\n    public static int I = 10;\n\n    /**\n     * String Variable Name\n     */\n    public static String NAME = \"XYZ\";\n\n    /**\n     * Constructor\n     */\n    public MyTest() {\n    }\n\n    /**\n     * Main method\n     * @param args\n     */\n    public static void main(String[] args) {\n\n        System.out.print(NAME+\"\\n\"+I);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"display_name":"user1311286"},"score":1,"creation_date":1358990284,"post_id":14490681,"comment_id":20197031,"body_markdown":"I have come to a partial solution. It seems to work better now. I can get more consecutive proper paste take overs. But I still miss a few now and then. @Patashu is there anyway we could discuss the code I now have?","body":"I have come to a partial solution. It seems to work better now. I can get more consecutive proper paste take overs. But I still miss a few now and then. @Patashu is there anyway we could discuss the code I now have?"}],"tags":[],"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358980566,"creation_date":1358980566,"answer_id":14490681,"question_id":14489733,"body_markdown":"Some other program has the clipboard open, and the code you are using throws an exception to indicate this.\r\n\r\nSo, it at first seems like you&#39;d have to busy-wait and give up if you wait for too long. But, there&#39;s a possible way around this, by setting your program to be the owner of the clipboard and re-acquiring ownership whenever you lose it (as the owner of the clipboard is notified when it loses ownership).\r\n\r\nRead the thread here for a possible solution: http://www.coderanch.com/t/377833/java/java/listen-clipboard","title":"Error &quot;Cannot Open System Clipboard&quot;, trying to set system clipboard fails/works on and off. What is the cause?","body":"<p>Some other program has the clipboard open, and the code you are using throws an exception to indicate this.</p>\n\n<p>So, it at first seems like you'd have to busy-wait and give up if you wait for too long. But, there's a possible way around this, by setting your program to be the owner of the clipboard and re-acquiring ownership whenever you lose it (as the owner of the clipboard is notified when it loses ownership).</p>\n\n<p>Read the thread here for a possible solution: <a href=\"http://www.coderanch.com/t/377833/java/java/listen-clipboard\" rel=\"nofollow\">http://www.coderanch.com/t/377833/java/java/listen-clipboard</a></p>\n"}],"owner":{"display_name":"user1311286"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9229,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1696730440,"creation_date":1358976566,"question_id":14489733,"body_markdown":"I am writing a program, and within my program at a point I wish to watch the keyboard while my program does not have focus. I use a jar called &quot;JNativeHook&quot; and can be found here http://code.google.com/p/jnativehook/\r\n\r\nOnto my issue:\r\nThis jar works and captures each key press and release event. In my code I keep track of these, on each key press event if a &quot;v&quot; or ctrl key are pressed I set a flag for each, if both are true the user is pasting. When the user initially pastes the program increments a counter to 1. On next paste if the counter is 1 it sets the text of the system clipboard to &quot;Test Paste1&quot; increments the counter, it does this 3 times and on the third it modulus the counter by 3 and restarts. (I plan to add control so that if a certain combination is pressed the keyListener is active and trying to change the system clipboard; pressed again it turns it off) \r\n\r\nMy problem is that sometimes it does modify the clipboard and I do actually paste the right text and sometimes it does not and I get a error thrown \r\n\r\n    Exception in thread &quot;pool-1-thread-135&quot; java.lang.IllegalStateException: cannot open system clipboard\r\nSo sometimes I can open the keyboard and sometimes not. I am using notepad to do the testing. So I run my program, open notepad, copy something. Then I paste, it says it, then next paste sometimes its right sometimes not, and the next (2nd paste), and the next (3rd). Then if I get all the way through that it starts over. \r\n\r\nWhy can I not access the clipboard at times, how could I write this so I am guaranteed the text gets to the clipboard? \r\n\r\nI figure put the line in a while loop and while there is no exception continue. But I could get into an infinite loop if the clipboard is &quot;in-accessible&quot; for x time. \r\n\r\n\r\n\r\nContinued:\r\n\r\n    http://stackoverflow.com/questions/14492472/cannot-gain-control-over-clipboard-even-with-controlling-logic\r\n\r\n","title":"Error &quot;Cannot Open System Clipboard&quot;, trying to set system clipboard fails/works on and off. What is the cause?","body":"<p>I am writing a program, and within my program at a point I wish to watch the keyboard while my program does not have focus. I use a jar called \"JNativeHook\" and can be found here <a href=\"http://code.google.com/p/jnativehook/\" rel=\"nofollow\">http://code.google.com/p/jnativehook/</a></p>\n\n<p>Onto my issue:\nThis jar works and captures each key press and release event. In my code I keep track of these, on each key press event if a \"v\" or ctrl key are pressed I set a flag for each, if both are true the user is pasting. When the user initially pastes the program increments a counter to 1. On next paste if the counter is 1 it sets the text of the system clipboard to \"Test Paste1\" increments the counter, it does this 3 times and on the third it modulus the counter by 3 and restarts. (I plan to add control so that if a certain combination is pressed the keyListener is active and trying to change the system clipboard; pressed again it turns it off) </p>\n\n<p>My problem is that sometimes it does modify the clipboard and I do actually paste the right text and sometimes it does not and I get a error thrown </p>\n\n<pre><code>Exception in thread \"pool-1-thread-135\" java.lang.IllegalStateException: cannot open system clipboard\n</code></pre>\n\n<p>So sometimes I can open the keyboard and sometimes not. I am using notepad to do the testing. So I run my program, open notepad, copy something. Then I paste, it says it, then next paste sometimes its right sometimes not, and the next (2nd paste), and the next (3rd). Then if I get all the way through that it starts over. </p>\n\n<p>Why can I not access the clipboard at times, how could I write this so I am guaranteed the text gets to the clipboard? </p>\n\n<p>I figure put the line in a while loop and while there is no exception continue. But I could get into an infinite loop if the clipboard is \"in-accessible\" for x time. </p>\n\n<p>Continued:</p>\n\n<pre><code>http://stackoverflow.com/questions/14492472/cannot-gain-control-over-clipboard-even-with-controlling-logic\n</code></pre>\n"},{"tags":["java","spring","keycloak"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1696458501,"post_id":77233300,"comment_id":136157341,"body_markdown":"There really isn&#39;t enough information here to answer properly but normally you validate the `iss` field in a JWT with a previously known issuer.  Keycloak, by default, has an issuer that looks like `https://hostname/realms/realmName`.  Do you know how you are validating the token?  Is this using something like Quarkus or Spring or something else?","body":"There really isn&#39;t enough information here to answer properly but normally you validate the <code>iss</code> field in a JWT with a previously known issuer.  Keycloak, by default, has an issuer that looks like <code>https:&#47;&#47;hostname&#47;realms&#47;realmName</code>.  Do you know how you are validating the token?  Is this using something like Quarkus or Spring or something else?"},{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1696458854,"post_id":77233300,"comment_id":136157382,"body_markdown":"Yeah sorry. Its just ussing spring.","body":"Yeah sorry. Its just ussing spring."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1696459048,"post_id":77233300,"comment_id":136157409,"body_markdown":"Do you have the &quot;well known&quot; URL setup correctly?  Check the docs [here](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html) for the issuer information.","body":"Do you have the &quot;well known&quot; URL setup correctly?  Check the docs <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">here</a> for the issuer information."},{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1696459541,"post_id":77233300,"comment_id":136157461,"body_markdown":"@stdunbar I updated the question with my jwk-set-uri var that I am using.","body":"@stdunbar I updated the question with my jwk-set-uri var that I am using."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1696459808,"post_id":77233300,"comment_id":136157487,"body_markdown":"What version of Keycloak are you using?  The URL with &quot;/auth&quot; in it was removed in Keycloak 18.  It&#39;s the same URL but without the &quot;/auth&quot; part.","body":"What version of Keycloak are you using?  The URL with &quot;/auth&quot; in it was removed in Keycloak 18.  It&#39;s the same URL but without the &quot;/auth&quot; part."},{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1696459971,"post_id":77233300,"comment_id":136157499,"body_markdown":"I dont believe it should be that...\nI am running this image: jboss/keycloak:15.0.2\n\nThis run ok locally. With the keycloak in a container and the be running locally it all works. Just when the be is in a container it breaks..","body":"I dont believe it should be that... I am running this image: jboss/keycloak:15.0.2  This run ok locally. With the keycloak in a container and the be running locally it all works. Just when the be is in a container it breaks.."},{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1696465349,"post_id":77233300,"comment_id":136157948,"body_markdown":"@stdunbar I  have found a solution but it feels super hacky. Care to give your opinion?","body":"@stdunbar I  have found a solution but it feels super hacky. Care to give your opinion?"}],"answers":[{"tags":[],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696730401,"creation_date":1696465305,"answer_id":77233650,"question_id":77233300,"body_markdown":"Just add a mapping to your hosts file in windows is: \r\n *C:\\Windows\\System32\\drivers\\etc\\hosts*\r\n\r\nIt should be like so: \r\n\r\n    127.0.0.1 keycloakblog\r\n\r\nkeycloakblog being your container name. \r\n\r\nThen when creating your oauth request just use this host name for it.  \r\n\r\n    http://keycloakblog:8080/auth/realms/wheelmeet/protocol/openid-connect/auth\r\n\r\nIf you use localhost, witch you still can because they are the same, keycloak will set the issuer as localhost, but if you use the name of the host you just maped the issuer will be that name. \r\n\r\nAfter that just set the Java issuer/jwt strings to the host name you chose. If you run the Java server in a container it will try to go to *keycloakblog* and that will resolve it as the container name. If you run the Java server outside the container it will try to go to *keycloakblog* and resolve it as localhost. Both will work.\r\n\r\n**OLD SOLUTION:**\r\n\r\n***Atention!** If for any reason you do use this solution keep in mind that on spring 3+ the jwt decoder is nimbus-jose and it does not decode the jwt if it has 2 claims with the same name. Previous Spring versions work fine.* \r\n\r\nOk so I found a solution. But it seems super hacky and doesn&#39;t feel at all like the right way to get it done. \r\n\r\nSo like I said the problem was that the **issuer is not the same as the one on the access token**. If the keycloak server would be on the web it would be no problem because the url would be the same, but because the keycloak server is running in a container I have to either give Java the gateway IP or the container name (if its on the same network). But then the issuer will not be the same and throw said error. \r\n\r\nThe solution is simple enough. Just create a mapper for the &quot;iss&quot; claim in the access token and put in either the gateway ip or the container name. I switched  everything back to only one network (this was how it was first) and just putted the container name. Like so: \r\n[![enter image description here][1]][1]\r\n\r\nDoes anybody know if there are any security concerns doing this? \r\nAlso would this be suitable for a production enviroment? \r\n\r\nPlease respond with a better solution if you have one! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C5YIE.png","title":"Keycloak InvalidBearerTokenException Invalid issuer","body":"<p>Just add a mapping to your hosts file in windows is:\n<em>C:\\Windows\\System32\\drivers\\etc\\hosts</em></p>\n<p>It should be like so:</p>\n<pre><code>127.0.0.1 keycloakblog\n</code></pre>\n<p>keycloakblog being your container name.</p>\n<p>Then when creating your oauth request just use this host name for it.</p>\n<pre><code>http://keycloakblog:8080/auth/realms/wheelmeet/protocol/openid-connect/auth\n</code></pre>\n<p>If you use localhost, witch you still can because they are the same, keycloak will set the issuer as localhost, but if you use the name of the host you just maped the issuer will be that name.</p>\n<p>After that just set the Java issuer/jwt strings to the host name you chose. If you run the Java server in a container it will try to go to <em>keycloakblog</em> and that will resolve it as the container name. If you run the Java server outside the container it will try to go to <em>keycloakblog</em> and resolve it as localhost. Both will work.</p>\n<p><strong>OLD SOLUTION:</strong></p>\n<p><em><strong>Atention!</strong> If for any reason you do use this solution keep in mind that on spring 3+ the jwt decoder is nimbus-jose and it does not decode the jwt if it has 2 claims with the same name. Previous Spring versions work fine.</em></p>\n<p>Ok so I found a solution. But it seems super hacky and doesn't feel at all like the right way to get it done.</p>\n<p>So like I said the problem was that the <strong>issuer is not the same as the one on the access token</strong>. If the keycloak server would be on the web it would be no problem because the url would be the same, but because the keycloak server is running in a container I have to either give Java the gateway IP or the container name (if its on the same network). But then the issuer will not be the same and throw said error.</p>\n<p>The solution is simple enough. Just create a mapper for the &quot;iss&quot; claim in the access token and put in either the gateway ip or the container name. I switched  everything back to only one network (this was how it was first) and just putted the container name. Like so:\n<a href=\"https://i.stack.imgur.com/C5YIE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C5YIE.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anybody know if there are any security concerns doing this?\nAlso would this be suitable for a production enviroment?</p>\n<p>Please respond with a better solution if you have one!</p>\n"},{"comments":[{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1696530688,"post_id":77239685,"comment_id":136168606,"body_markdown":"If I do that It wont properly complete the authorization flow.","body":"If I do that It wont properly complete the authorization flow."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1696531071,"post_id":77239685,"comment_id":136168688,"body_markdown":"Why that? you set as hostname a DNS entry that is reachable by all actors: OAuth2 client, OAuth2 resource server and user browser","body":"Why that? you set as hostname a DNS entry that is reachable by all actors: OAuth2 client, OAuth2 resource server and user browser"},{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1696534840,"post_id":77239685,"comment_id":136169319,"body_markdown":"I&#39;m so lost... I dont understand what should I do with DNS... Do I have to configure a local DNS server? Or just some setting in docker ?  Like the &quot;--hostname&quot; ?","body":"I&#39;m so lost... I dont understand what should I do with DNS... Do I have to configure a local DNS server? Or just some setting in docker ?  Like the &quot;--hostname&quot; ?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1696536524,"post_id":77239685,"comment_id":136169641,"body_markdown":"You use the **same name** for your authorization server in it&#39;s conf (`hostanme` in keycloak configuration), in docker (`--hostname`), in Spring Security configuration properties, and in client conf if using a &quot;public&quot; client. What is complicated there?","body":"You use the <b>same name</b> for your authorization server in it&#39;s conf (<code>hostanme</code> in keycloak configuration), in docker (<code>--hostname</code>), in Spring Security configuration properties, and in client conf if using a &quot;public&quot; client. What is complicated there?"},{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1696540687,"post_id":77239685,"comment_id":136170221,"body_markdown":"If I change the hostname in keycloak to the docker container hostname (and put the hostname mapping in the hosts file in windows) I cant even complete the oauth flow for login. Just get 400 Bad request...","body":"If I change the hostname in keycloak to the docker container hostname (and put the hostname mapping in the hosts file in windows) I cant even complete the oauth flow for login. Just get 400 Bad request..."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1696546227,"post_id":77239685,"comment_id":136170882,"body_markdown":"I suggest that you follow [this very simple tutorial](https://github.com/tvogel8570/samples/tree/main/infrastructure/keycloak). It works for me like a charm using `https://bravo-ch4mp:8443/realms/master`, `bravo-ch4mp` being my laptop hostname. I set that as value for `container_name` in the `compose.yaml` the author of this tutorial kindly provides.","body":"I suggest that you follow <a href=\"https://github.com/tvogel8570/samples/tree/main/infrastructure/keycloak\" rel=\"nofollow noreferrer\">this very simple tutorial</a>. It works for me like a charm using <code>https:&#47;&#47;bravo-ch4mp:8443&#47;realms&#47;master</code>, <code>bravo-ch4mp</code> being my laptop hostname. I set that as value for <code>container_name</code> in the <code>compose.yaml</code> the author of this tutorial kindly provides."},{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1696729722,"post_id":77239685,"comment_id":136190347,"body_markdown":"Got it to work with just creating a host mapping in windows to the name of the keycloak container in docker... Feel like I tried that before, but I guess I was doing something wrong.... Thanks for the input! &lt;3","body":"Got it to work with just creating a host mapping in windows to the name of the keycloak container in docker... Feel like I tried that before, but I guess I was doing something wrong.... Thanks for the input! &lt;3"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1696731618,"post_id":77239685,"comment_id":136190459,"body_markdown":"Well, that has to do with the &quot;reachable by all actors&quot; in the 1st paragraph. Using your hostname is simpler, configuring a DNS server on your network more complicated, but the 3 should work.","body":"Well, that has to do with the &quot;reachable by all actors&quot; in the 1st paragraph. Using your hostname is simpler, configuring a DNS server on your network more complicated, but the 3 should work."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696546506,"creation_date":1696530174,"answer_id":77239685,"question_id":77233300,"body_markdown":"What you want is probably setting [Keycloak `hostname` configuration properties][1] with DNS entry that is reachable by all actors: OAuth2 client, OAuth2 resource server and user browser. If you don&#39;t have one yet, then maybe you should [configure docker][2] for that.\r\n\r\nAlso you don&#39;t have to configure Spring Boot `issuer-uri` if you provide a `jwk-set-uri`: only the JWKS endpoint is required to fetch the public key used to validate tokens. Issuer URI serves two purposes:\r\n- adds an issuer validator to JWT decoders (if not provided, the `iss` claim is not checked, which would remove your error)\r\n- if the JWKS endpoint is not explicitly configured, give the opportunity to find the OpenID configuration by trying a few &quot;well-known&quot; paths, and get the JWKS endpoint from this conf.\r\n\r\nSo if your Keycloak conf is OK, only one of `jwk-set-uri` and `issuer-uri` is required (you have to provide the two only when the host in `iss` claim is not reachable by clients and resource servers **and** you want `iss` claim validator in JWT decoder).\r\n\r\n`issuer-uri` is generally preferred because it adds the check on `iss` claim (but you already know that the token was signed with the right private key, so ...)\r\n\r\n\r\n  [1]: https://www.keycloak.org/server/hostname\r\n  [2]: https://docs.docker.com/network/","title":"Keycloak InvalidBearerTokenException Invalid issuer","body":"<p>What you want is probably setting <a href=\"https://www.keycloak.org/server/hostname\" rel=\"nofollow noreferrer\">Keycloak <code>hostname</code> configuration properties</a> with DNS entry that is reachable by all actors: OAuth2 client, OAuth2 resource server and user browser. If you don't have one yet, then maybe you should <a href=\"https://docs.docker.com/network/\" rel=\"nofollow noreferrer\">configure docker</a> for that.</p>\n<p>Also you don't have to configure Spring Boot <code>issuer-uri</code> if you provide a <code>jwk-set-uri</code>: only the JWKS endpoint is required to fetch the public key used to validate tokens. Issuer URI serves two purposes:</p>\n<ul>\n<li>adds an issuer validator to JWT decoders (if not provided, the <code>iss</code> claim is not checked, which would remove your error)</li>\n<li>if the JWKS endpoint is not explicitly configured, give the opportunity to find the OpenID configuration by trying a few &quot;well-known&quot; paths, and get the JWKS endpoint from this conf.</li>\n</ul>\n<p>So if your Keycloak conf is OK, only one of <code>jwk-set-uri</code> and <code>issuer-uri</code> is required (you have to provide the two only when the host in <code>iss</code> claim is not reachable by clients and resource servers <strong>and</strong> you want <code>iss</code> claim validator in JWT decoder).</p>\n<p><code>issuer-uri</code> is generally preferred because it adds the check on <code>iss</code> claim (but you already know that the token was signed with the right private key, so ...)</p>\n"}],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696730401,"creation_date":1696457803,"question_id":77233300,"body_markdown":"I have a Java Spring backend running in a docker container and then a Keycloak also running in a separate container. Both on their own networks. \r\n\r\nWhen I try to make a request to the Java backend that is protected by the keycloak BE with OAUTH, I get this error: \r\n\r\n    InvalidBearerTokenException: Invalid issuer\r\n\r\nI am setting the location of the keycloak server in the java be as the IP of the gateway of the container. From what I understand because this gateway IP is not the same as the issuer url that is why it gives this error. \r\n\r\nI have looked at [this][1] and [this][2] questions and tried to implement some of the solutions to no avail. Maybe I am not understanding them.. \r\n\r\nI have tried to set KEYCLOAK_FRONTEND_URL on the admin dashboard to the ip of the api gateway but this then does not let me get the access token in postman has it will redirect to this ip, and break the auth flow. \r\n\r\n I have also tried setting this: \r\n\r\n      PROXY_ADDRESS_FORWARDING: &quot;true&quot;\r\n      KEYCLOAK_FRONTEND_URL: &quot;https://example.com/auth&quot;\r\nNo luck. \r\n\r\nCan someone tell me what I am doing wrong and point me in the right direction ? Please tell me if you need more information. \r\n\r\nThis is what my security filter looks like on the backend: \r\n\r\n        @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeHttpRequests(authorize -&gt; {\r\n                    try {\r\n                        authorize\r\n                                .antMatchers(HttpMethod.DELETE, &quot;/development/deleteAllUsers&quot;).permitAll()\r\n                                .mvcMatchers(HttpMethod.POST, &quot;/createUser&quot;).permitAll()\r\n                                .mvcMatchers(HttpMethod.GET,&quot;/test&quot;).permitAll()\r\n                                .anyRequest().authenticated();\r\n                    } catch (Exception e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                })\r\n                .oauth2ResourceServer(\r\n                        oauth2 -&gt; oauth2.authenticationManagerResolver(getJwtIssuerAuthenticationManagerResolver()));\r\n\r\n        http.headers()\r\n                .xssProtection()\r\n                .disable()\r\n                .frameOptions()\r\n                .deny()\r\n                .contentSecurityPolicy(&quot;default-src &#39;self&#39;&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean(&quot;CurrentUser&quot;)\r\n    public Supplier&lt;JwtAuthenticationToken&gt; currentUser() {\r\n        return () -&gt; (JwtAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\r\n    }\r\n\r\n    private JwtIssuerAuthenticationManagerResolver getJwtIssuerAuthenticationManagerResolver() {\r\n        Map&lt;String, AuthenticationManager&gt; managers = providersProperty.getProviders()\r\n                .values()\r\n                .stream()\r\n                .collect(Collectors.toMap(p -&gt; p.getIssuerUri(),\r\n                        p -&gt; jwtProviderStrategy.getProvider(p.getKey())::authenticate));\r\n\r\n        return new JwtIssuerAuthenticationManagerResolver(managers::get);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61966384/keycloak-invalid-token-issuer\r\n  [2]: https://stackoverflow.com/questions/42342367/keycloak-behind-apache-reverse-proxy/42504805#42504805\r\n\r\n\r\n\r\nAlso I am setting this properties in application.yml \r\n\r\n \r\n\r\n     jwk-set-uri: http://${KEYCLOAK_HOST:localhost}:${KEYCLOAK_PORT:8180}/auth/realms/myrealm/protocol/openid-connect/certs\r\n     issuer-uri: http://${KEYCLOAK_HOST:localhost}:${KEYCLOAK_PORT:8180}/auth/realms/myrealm\r\n\r\n\r\nIf I run the Java backend locally it work normally. Just breaks on docker. ","title":"Keycloak InvalidBearerTokenException Invalid issuer","body":"<p>I have a Java Spring backend running in a docker container and then a Keycloak also running in a separate container. Both on their own networks.</p>\n<p>When I try to make a request to the Java backend that is protected by the keycloak BE with OAUTH, I get this error:</p>\n<pre><code>InvalidBearerTokenException: Invalid issuer\n</code></pre>\n<p>I am setting the location of the keycloak server in the java be as the IP of the gateway of the container. From what I understand because this gateway IP is not the same as the issuer url that is why it gives this error.</p>\n<p>I have looked at <a href=\"https://stackoverflow.com/questions/61966384/keycloak-invalid-token-issuer\">this</a> and <a href=\"https://stackoverflow.com/questions/42342367/keycloak-behind-apache-reverse-proxy/42504805#42504805\">this</a> questions and tried to implement some of the solutions to no avail. Maybe I am not understanding them..</p>\n<p>I have tried to set KEYCLOAK_FRONTEND_URL on the admin dashboard to the ip of the api gateway but this then does not let me get the access token in postman has it will redirect to this ip, and break the auth flow.</p>\n<p>I have also tried setting this:</p>\n<pre><code>  PROXY_ADDRESS_FORWARDING: &quot;true&quot;\n  KEYCLOAK_FRONTEND_URL: &quot;https://example.com/auth&quot;\n</code></pre>\n<p>No luck.</p>\n<p>Can someone tell me what I am doing wrong and point me in the right direction ? Please tell me if you need more information.</p>\n<p>This is what my security filter looks like on the backend:</p>\n<pre><code>    @Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf().disable().authorizeHttpRequests(authorize -&gt; {\n                try {\n                    authorize\n                            .antMatchers(HttpMethod.DELETE, &quot;/development/deleteAllUsers&quot;).permitAll()\n                            .mvcMatchers(HttpMethod.POST, &quot;/createUser&quot;).permitAll()\n                            .mvcMatchers(HttpMethod.GET,&quot;/test&quot;).permitAll()\n                            .anyRequest().authenticated();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            })\n            .oauth2ResourceServer(\n                    oauth2 -&gt; oauth2.authenticationManagerResolver(getJwtIssuerAuthenticationManagerResolver()));\n\n    http.headers()\n            .xssProtection()\n            .disable()\n            .frameOptions()\n            .deny()\n            .contentSecurityPolicy(&quot;default-src 'self'&quot;);\n\n    return http.build();\n}\n\n@Bean(&quot;CurrentUser&quot;)\npublic Supplier&lt;JwtAuthenticationToken&gt; currentUser() {\n    return () -&gt; (JwtAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\n}\n\nprivate JwtIssuerAuthenticationManagerResolver getJwtIssuerAuthenticationManagerResolver() {\n    Map&lt;String, AuthenticationManager&gt; managers = providersProperty.getProviders()\n            .values()\n            .stream()\n            .collect(Collectors.toMap(p -&gt; p.getIssuerUri(),\n                    p -&gt; jwtProviderStrategy.getProvider(p.getKey())::authenticate));\n\n    return new JwtIssuerAuthenticationManagerResolver(managers::get);\n}\n</code></pre>\n<p>Also I am setting this properties in application.yml</p>\n<pre><code> jwk-set-uri: http://${KEYCLOAK_HOST:localhost}:${KEYCLOAK_PORT:8180}/auth/realms/myrealm/protocol/openid-connect/certs\n issuer-uri: http://${KEYCLOAK_HOST:localhost}:${KEYCLOAK_PORT:8180}/auth/realms/myrealm\n</code></pre>\n<p>If I run the Java backend locally it work normally. Just breaks on docker.</p>\n"},{"tags":["javascript","java","android","html","mit-scratch"],"comments":[{"owner":{"account_id":4990268,"reputation":372,"user_id":4012708,"display_name":"Heath Mitchell"},"score":1,"creation_date":1594149000,"post_id":56915310,"comment_id":111023765,"body_markdown":"This code is just CSS styling","body":"This code is just CSS styling"}],"answers":[{"tags":[],"owner":{"account_id":20512725,"reputation":51,"user_id":15054116,"display_name":"Aetinx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611258909,"creation_date":1611258909,"answer_id":65834849,"question_id":56915310,"body_markdown":"Just use HTMLifier. You can use it here: https://sheeptester.github.io/htmlifier/","title":"Is it possible to convert a Scratch project to an Android app?","body":"<p>Just use HTMLifier. You can use it here: <a href=\"https://sheeptester.github.io/htmlifier/\" rel=\"nofollow noreferrer\">https://sheeptester.github.io/htmlifier/</a></p>\n"},{"tags":[],"owner":{"account_id":24934295,"reputation":23,"user_id":18801066,"display_name":"Ayushman Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650010364,"creation_date":1650010364,"answer_id":71881628,"question_id":56915310,"body_markdown":"No, you can&#39;t convert Scratch projects to Android apps. But if you want to create an Android app, you can perhaps use a framework like Kivy in Python.","title":"Is it possible to convert a Scratch project to an Android app?","body":"<p>No, you can't convert Scratch projects to Android apps. But if you want to create an Android app, you can perhaps use a framework like Kivy in Python.</p>\n"},{"tags":[],"owner":{"account_id":26800827,"reputation":15,"user_id":20392792,"display_name":"Best Codes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696727997,"creation_date":1667782536,"answer_id":74340954,"question_id":56915310,"body_markdown":"&lt;h1&gt;Yes, it is absolutely possible!&lt;/h1&gt;\r\n\r\nJust go to the scratch project url, then type “fullscreen” at the end:\r\n\r\n`https://scratch.mit.edu/projects/888787589/` to `https://scratch.mit.edu/projects/888787589/fullscreen`\r\n\r\nNow go to a website like\r\nhttps://websitetoapk.com/\r\nOr [search on Google][1] for a website to APK convertor. There are plenty of awesome free online ones. (Most will require an account, though).\r\n\r\n\r\nPaste your modified Scratch project URL into the converter, then create your app!\r\n\r\nOr, you can use the outdated packager here:\r\n\r\nhttps://forkphorus.github.io/packager/\r\n\r\nOr use this:\r\n\r\nhttps://sheeptester.github.io/htmlifier/\r\n\r\nI hope this helps!\r\n\r\n\r\n\r\n  [1]: https://www.google.com/search?q=free%20online%20website%20to%20apk%20converter","title":"Is it possible to convert a Scratch project to an Android app?","body":"<h1>Yes, it is absolutely possible!</h1>\n<p>Just go to the scratch project url, then type “fullscreen” at the end:</p>\n<p><code>https://scratch.mit.edu/projects/888787589/</code> to <code>https://scratch.mit.edu/projects/888787589/fullscreen</code></p>\n<p>Now go to a website like\n<a href=\"https://websitetoapk.com/\" rel=\"nofollow noreferrer\">https://websitetoapk.com/</a>\nOr <a href=\"https://www.google.com/search?q=free%20online%20website%20to%20apk%20converter\" rel=\"nofollow noreferrer\">search on Google</a> for a website to APK convertor. There are plenty of awesome free online ones. (Most will require an account, though).</p>\n<p>Paste your modified Scratch project URL into the converter, then create your app!</p>\n<p>Or, you can use the outdated packager here:</p>\n<p><a href=\"https://forkphorus.github.io/packager/\" rel=\"nofollow noreferrer\">https://forkphorus.github.io/packager/</a></p>\n<p>Or use this:</p>\n<p><a href=\"https://sheeptester.github.io/htmlifier/\" rel=\"nofollow noreferrer\">https://sheeptester.github.io/htmlifier/</a></p>\n<p>I hope this helps!</p>\n"}],"owner":{"display_name":"user11747945"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5498,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1696727997,"creation_date":1562425799,"question_id":56915310,"body_markdown":"For those of you who don&#39;t know, Scratch (**scratch.mit.edu**) is a programming language based around connecting &#39;blocks&#39; of code in order to create a project.\r\n\r\nI have tried using a Scratch to HTML converter (**forkphorus.github.io**) in order to convert my Scratch code into HTML in order to see if the HTML code could be ported to Android. The Scratch converter has options to port all of the code (including the Scratch engine) into a single file that is playable on internet browsers. After converting the code to HTML, I followed the next step of the tutorial to pull the source code of the **forkphorus** (Scratch to HTML) and use **Adobe PhoneGap** in order to convert the code into an .apk file. Once I tried to install the .apk file, however, it was stuck on the loading screen.\r\n\r\nI have a feeling that it is possible to convert Scratch code into an Android app but I just don&#39;t know how. If anyone has any suggestions, I would be grateful...\r\n\r\nProject I am trying to convert: **Bounce 1.3.1**\r\n\r\nSnippet of Scratch project code in HTML, if it helps:\r\n\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;style&gt;\r\n        .forkphorus-root {\r\n      position: relative;\r\n      font-family: sans-serif;\r\n      width: 480px;\r\n      height: 360px;\r\n      font-size: 10px;\r\n      background-color: #fff;\r\n      color: black;\r\n      overflow: hidden;\r\n      user-select: none;\r\n    }\r\n    \r\n    .forkphorus-root &gt; * {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      transform: translateZ(0);\r\n      width: 100%;\r\n      height: 100%;\r\n    }","title":"Is it possible to convert a Scratch project to an Android app?","body":"<p>For those of you who don't know, Scratch (<strong>scratch.mit.edu</strong>) is a programming language based around connecting 'blocks' of code in order to create a project.</p>\n\n<p>I have tried using a Scratch to HTML converter (<strong>forkphorus.github.io</strong>) in order to convert my Scratch code into HTML in order to see if the HTML code could be ported to Android. The Scratch converter has options to port all of the code (including the Scratch engine) into a single file that is playable on internet browsers. After converting the code to HTML, I followed the next step of the tutorial to pull the source code of the <strong>forkphorus</strong> (Scratch to HTML) and use <strong>Adobe PhoneGap</strong> in order to convert the code into an .apk file. Once I tried to install the .apk file, however, it was stuck on the loading screen.</p>\n\n<p>I have a feeling that it is possible to convert Scratch code into an Android app but I just don't know how. If anyone has any suggestions, I would be grateful...</p>\n\n<p>Project I am trying to convert: <strong>Bounce 1.3.1</strong></p>\n\n<p>Snippet of Scratch project code in HTML, if it helps:</p>\n\n<pre><code>&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;style&gt;\n    .forkphorus-root {\n  position: relative;\n  font-family: sans-serif;\n  width: 480px;\n  height: 360px;\n  font-size: 10px;\n  background-color: #fff;\n  color: black;\n  overflow: hidden;\n  user-select: none;\n}\n\n.forkphorus-root &gt; * {\n  position: absolute;\n  left: 0;\n  top: 0;\n  transform: translateZ(0);\n  width: 100%;\n  height: 100%;\n}\n</code></pre>\n"},{"tags":["javascript","java","c#","protocol-buffers"],"answers":[{"comments":[{"owner":{"account_id":695899,"reputation":7,"user_id":576261,"display_name":"Pauli"},"score":0,"creation_date":1295081907,"post_id":4696457,"comment_id":5184853,"body_markdown":"As I said, currently there is a single entry point on the server/client. Basically that&#39;s where later the (HTTP) request comes in which encapsulates several messages each of which is mapped to a POJO. I&#39;m not an expert in webservices but according to my understanding I would need to expose several methods as a webservice (one for each change/POJO) in order to get the according WSDL to generate the objects in the target language. Probably I am wrong, but this would then lead to one HTTP request per change which would be even slower than WS are by nature. And what about WSDL and JavaScript?","body":"As I said, currently there is a single entry point on the server/client. Basically that&#39;s where later the (HTTP) request comes in which encapsulates several messages each of which is mapped to a POJO. I&#39;m not an expert in webservices but according to my understanding I would need to expose several methods as a webservice (one for each change/POJO) in order to get the according WSDL to generate the objects in the target language. Probably I am wrong, but this would then lead to one HTTP request per change which would be even slower than WS are by nature. And what about WSDL and JavaScript?"},{"owner":{"account_id":267411,"reputation":28959,"user_id":555576,"accept_rate":50,"display_name":"Konstantin Komissarchik"},"score":0,"creation_date":1295307944,"post_id":4696457,"comment_id":5212169,"body_markdown":"You can design your WS however makes sense to you. No reason it has to be many fine-grained requests. It can be a few complex requests. Just design your service input and output accordingly.","body":"You can design your WS however makes sense to you. No reason it has to be many fine-grained requests. It can be a few complex requests. Just design your service input and output accordingly."}],"tags":[],"owner":{"account_id":267411,"reputation":28959,"user_id":555576,"accept_rate":50,"display_name":"Konstantin Komissarchik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295042565,"creation_date":1295042565,"answer_id":4696457,"question_id":4696391,"body_markdown":"I would recommend using webservices. The WSDL language defines objects and messages of your protocol in abstract form. Most modern languages like Java and C# have tools for converting WSDL to native types and libraries for handling I/O.","title":"java server &lt;-&gt; c# + javascript + java + * clients","body":"<p>I would recommend using webservices. The WSDL language defines objects and messages of your protocol in abstract form. Most modern languages like Java and C# have tools for converting WSDL to native types and libraries for handling I/O.</p>\n"},{"comments":[{"owner":{"account_id":695899,"reputation":7,"user_id":576261,"display_name":"Pauli"},"score":0,"creation_date":1295082320,"post_id":4696581,"comment_id":5184882,"body_markdown":"JSON sounds reasonable to me. That&#39;s why I thought of Google&#39;s protobuf which is basically binary JSON. But how did you do the serialization. Did you serialize your objects &quot;manually&quot; to JSON on either side or did you have (generated) objects for each message and target language which are serialized through a JSON lib? And how did you do the communication? Simple HTTP?","body":"JSON sounds reasonable to me. That&#39;s why I thought of Google&#39;s protobuf which is basically binary JSON. But how did you do the serialization. Did you serialize your objects &quot;manually&quot; to JSON on either side or did you have (generated) objects for each message and target language which are serialized through a JSON lib? And how did you do the communication? Simple HTTP?"},{"owner":{"account_id":278218,"reputation":25841,"user_id":572680,"display_name":"Martin Jespersen"},"score":0,"creation_date":1295087942,"post_id":4696581,"comment_id":5185256,"body_markdown":"For c#/mvc we use models &amp; DataContractJsonSerializer. For javascript we use amongst other things the json2 library which is a drop in for browsers like ie7 that doesn&#39;t have native support for the JSON object, and there it is just pure json, since object initialization is way to slow with the amount of data we handle. the javascript part of our setup is actually a very long and complicated story since some of the tools we needed wasn&#39;t on the market when we started the project two years ago, so we have quite a few homegrown solutions, because of our performance needs.","body":"For c#/mvc we use models &amp; DataContractJsonSerializer. For javascript we use amongst other things the json2 library which is a drop in for browsers like ie7 that doesn&#39;t have native support for the JSON object, and there it is just pure json, since object initialization is way to slow with the amount of data we handle. the javascript part of our setup is actually a very long and complicated story since some of the tools we needed wasn&#39;t on the market when we started the project two years ago, so we have quite a few homegrown solutions, because of our performance needs."},{"owner":{"account_id":278218,"reputation":25841,"user_id":572680,"display_name":"Martin Jespersen"},"score":0,"creation_date":1295088012,"post_id":4696581,"comment_id":5185259,"body_markdown":"For the rest of the languages i don&#39;t know tbh i have never touched that part of the project","body":"For the rest of the languages i don&#39;t know tbh i have never touched that part of the project"},{"owner":{"account_id":278218,"reputation":25841,"user_id":572680,"display_name":"Martin Jespersen"},"score":0,"creation_date":1295088561,"post_id":4696581,"comment_id":5185314,"body_markdown":"Regarding communication, we run on many different platforms, and there are probably more than i know. the ones i know we use: iis, apache &amp; jetty (we run a realtime presence gateway through that using the cometd library).","body":"Regarding communication, we run on many different platforms, and there are probably more than i know. the ones i know we use: iis, apache &amp; jetty (we run a realtime presence gateway through that using the cometd library)."}],"tags":[],"owner":{"account_id":278218,"reputation":25841,"user_id":572680,"display_name":"Martin Jespersen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295043425,"creation_date":1295043425,"answer_id":4696581,"question_id":4696391,"body_markdown":"For the last two years i have been involved in building a  similar system: backend for our project is c#, java and bunch of other languages, frontend is phone clients for ios, android, symbian, all the common webbrowsers and even windows desktop apps.\r\n\r\nFor all these services we use JSON, since it seems to be most widely supported format across all languages and platforms, it decodes fairly fast on the clients compared to xml based solution (esp. webbrowsers/javascript) and it has a pretty low overhead that compresses extremely well which is great for clients that lack bandwidth.\r\n\r\n","title":"java server &lt;-&gt; c# + javascript + java + * clients","body":"<p>For the last two years i have been involved in building a  similar system: backend for our project is c#, java and bunch of other languages, frontend is phone clients for ios, android, symbian, all the common webbrowsers and even windows desktop apps.</p>\n\n<p>For all these services we use JSON, since it seems to be most widely supported format across all languages and platforms, it decodes fairly fast on the clients compared to xml based solution (esp. webbrowsers/javascript) and it has a pretty low overhead that compresses extremely well which is great for clients that lack bandwidth.</p>\n"}],"owner":{"account_id":695899,"reputation":7,"user_id":576261,"display_name":"Pauli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1697040025,"answer_count":2,"score":-1,"last_activity_date":1696727857,"creation_date":1295042077,"question_id":4696391,"body_markdown":"*What &quot;technology&quot; would you suggest to exchange some kind of messages between a Java server and several clients written in C#, Javascript and Java?*\r\n\r\n--- \r\n\r\nThe background story:\r\n\r\nIn our current project we&#39;re trying to build a generic UI backend in Java (running on the server) which is then &quot;bridged&quot; into several UI frontends by means of different UI adaptors (running on the client, the server, or both). While our server technology will always be Java, there will be C# (Silverlight), JavaScript and Java clients. Maybe even more in the future (different Smartphones, Tablets). \r\n\r\nThe UI backend and UI frontends communicate through a bunch of more or less simple messages (mostly name/value-pairs) each of which encapsulates a specific property/state/data change on the client or server respectively. Within a single request cycle, several such simple messages are aggregated into one big message which is then passed from backend to frontend or vice versa. At the moment sending and receiving messages is done at a single entry point on the client as well as on the server. So there are no server methods exposed as WebService etc. - simply because this would most definitely be to slow in our case.\r\n\r\nOur current prototype consists solely of a Java server, a Java Desktop Client (Swing) and a Java Web Client (Vaadin). The message exchanged between backend and frontend is effectively a list of POJOs (each representing a specific &quot;change&quot;) serialized/deserialized to/from XML. So far, so good.\r\n\r\nNow C# and Javascript come to the table. Since we want to work with some kind of object in each technology, we thought it would be a good idea to specify the messages/changes/pojos in some kind of abstract language and then generate objects for each target language. At some point these objects could then be serialized/deserialized and sent over the wire (probably via http/s). For this purpose we thought of Google&#39;s protocol buffers or Thrift. What do you think?\r\n\r\nFor the moment our synchronous request-response-cycle is enough but we will need asynchronous request-response or server-push respectively pretty soon. That&#39;s why we thought of using something like ActiveMQ straight away. What do you think? Too much? If not, how can we accomplish the object generation mentioned above (xsd, jaxb, ? for js)? Are there better ways? I&#39;ve never used ActiveMQ but according to the website it should be possible with Java, C# (Spring.NET) and somehow with Javascript (STOMP) too. However, this seems pretty complex to me...\r\n\r\nAny tips, hints, experiences or comments about this or related topics would be really helpful.\r\n\r\nThank you in advance.","title":"java server &lt;-&gt; c# + javascript + java + * clients","body":"<p><em>What \"technology\" would you suggest to exchange some kind of messages between a Java server and several clients written in C#, Javascript and Java?</em></p>\n\n<hr>\n\n<p>The background story:</p>\n\n<p>In our current project we're trying to build a generic UI backend in Java (running on the server) which is then \"bridged\" into several UI frontends by means of different UI adaptors (running on the client, the server, or both). While our server technology will always be Java, there will be C# (Silverlight), JavaScript and Java clients. Maybe even more in the future (different Smartphones, Tablets). </p>\n\n<p>The UI backend and UI frontends communicate through a bunch of more or less simple messages (mostly name/value-pairs) each of which encapsulates a specific property/state/data change on the client or server respectively. Within a single request cycle, several such simple messages are aggregated into one big message which is then passed from backend to frontend or vice versa. At the moment sending and receiving messages is done at a single entry point on the client as well as on the server. So there are no server methods exposed as WebService etc. - simply because this would most definitely be to slow in our case.</p>\n\n<p>Our current prototype consists solely of a Java server, a Java Desktop Client (Swing) and a Java Web Client (Vaadin). The message exchanged between backend and frontend is effectively a list of POJOs (each representing a specific \"change\") serialized/deserialized to/from XML. So far, so good.</p>\n\n<p>Now C# and Javascript come to the table. Since we want to work with some kind of object in each technology, we thought it would be a good idea to specify the messages/changes/pojos in some kind of abstract language and then generate objects for each target language. At some point these objects could then be serialized/deserialized and sent over the wire (probably via http/s). For this purpose we thought of Google's protocol buffers or Thrift. What do you think?</p>\n\n<p>For the moment our synchronous request-response-cycle is enough but we will need asynchronous request-response or server-push respectively pretty soon. That's why we thought of using something like ActiveMQ straight away. What do you think? Too much? If not, how can we accomplish the object generation mentioned above (xsd, jaxb, ? for js)? Are there better ways? I've never used ActiveMQ but according to the website it should be possible with Java, C# (Spring.NET) and somehow with Javascript (STOMP) too. However, this seems pretty complex to me...</p>\n\n<p>Any tips, hints, experiences or comments about this or related topics would be really helpful.</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["c#","java","jms","activemq"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1296995119,"post_id":4913227,"comment_id":5472313,"body_markdown":"ActiveMQ was written in Java so it has better support for Java.  Perhaps you are looking for a messaging service which was written for .NET?","body":"ActiveMQ was written in Java so it has better support for Java.  Perhaps you are looking for a messaging service which was written for .NET?"},{"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"score":0,"creation_date":1296995169,"post_id":4913227,"comment_id":5472317,"body_markdown":"My projects can be in both world that&#39;s why I was looking at it :)","body":"My projects can be in both world that&#39;s why I was looking at it :)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1296995789,"post_id":4913227,"comment_id":5472393,"body_markdown":"I suggest you use the broker from the Java side and use the clients from Java/C# as I believe this is how it was designed.","body":"I suggest you use the broker from the Java side and use the clients from Java/C# as I believe this is how it was designed."}],"answers":[{"tags":[],"owner":{"account_id":116458,"reputation":4101,"user_id":305364,"display_name":"Hiram Chirino"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1297338243,"creation_date":1297338243,"answer_id":4956657,"question_id":4913227,"body_markdown":"ActiveMQ .NET clients support all the features that Java clients enjoy.  It even comes with WCF integration! About the only tricky feature that Java clients can use which would be tricky to get working on .NET is that Java client can [boot up a ActiveMQ server in the same process as the client][1].  The need to do that is not very common.  If you really need to do it, you might want to try running the ActiveMQ server in [IKVM][2].  \r\n\r\n\r\n  [1]: http://activemq.apache.org/how-do-i-embed-a-broker-inside-a-connection.html\r\n  [2]: http://www.ikvm.net/","title":"Why Apache ActiveMQ isn’t good for .NET developers?","body":"<p>ActiveMQ .NET clients support all the features that Java clients enjoy.  It even comes with WCF integration! About the only tricky feature that Java clients can use which would be tricky to get working on .NET is that Java client can <a href=\"http://activemq.apache.org/how-do-i-embed-a-broker-inside-a-connection.html\" rel=\"noreferrer\">boot up a ActiveMQ server in the same process as the client</a>.  The need to do that is not very common.  If you really need to do it, you might want to try running the ActiveMQ server in <a href=\"http://www.ikvm.net/\" rel=\"noreferrer\">IKVM</a>.  </p>\n"}],"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9824,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1476368621,"accepted_answer_id":4956657,"answer_count":1,"score":1,"last_activity_date":1696727470,"creation_date":1296994865,"question_id":4913227,"body_markdown":"According to [this article][1] even though Apache ActiveMQ supports .NET, this feature is limited only to basic client operations. Apache ActiveMQ does not give access to manipulate ActiveMQ broker, persistent store or transports.\r\n\r\nI don&#39;t really understand what prevents Apache ActiveMQ to present same features for .NET client as for Java client: is it because they &quot;forget&quot;, they don&#39;t want, they can&#39;t but could in the future?\r\n\r\n\r\n  [1]: http://blog.goyello.com/2009/09/07/why-apache-activemq-isnt-good-for-net-developers/","title":"Why Apache ActiveMQ isn’t good for .NET developers?","body":"<p>According to <a href=\"http://blog.goyello.com/2009/09/07/why-apache-activemq-isnt-good-for-net-developers/\" rel=\"nofollow noreferrer\">this article</a> even though Apache ActiveMQ supports .NET, this feature is limited only to basic client operations. Apache ActiveMQ does not give access to manipulate ActiveMQ broker, persistent store or transports.</p>\n<p>I don't really understand what prevents Apache ActiveMQ to present same features for .NET client as for Java client: is it because they &quot;forget&quot;, they don't want, they can't but could in the future?</p>\n"},{"tags":["java","swing","jbutton"],"answers":[{"comments":[{"owner":{"account_id":24515289,"reputation":11,"user_id":18429148,"display_name":"Zhanhuo0"},"score":0,"creation_date":1696727703,"post_id":77248949,"comment_id":136190258,"body_markdown":"The code has been modified.","body":"The code has been modified."}],"tags":[],"owner":{"account_id":17069028,"reputation":94,"user_id":12350325,"display_name":"bahman karami"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696671356,"creation_date":1696666235,"answer_id":77248949,"question_id":77248656,"body_markdown":"The reason why your code does not work as expected is because you are missing two important steps after removing all the components from the panel. You need to call `panel.revalidate()` and `panel.repaint()` to update the panel&#39;s layout and appearance. Otherwise, the changes will not be reflected on the screen. You can fix your code:\r\n\r\n    public void Init(){\r\n        JPanel panel=new JPanel();\r\n        JButton bt=new JButton(&quot;按钮&quot;);\r\n        JCheckBox checkBox1=new JCheckBox(&quot;aaaaa&quot;);\r\n        JCheckBox checkBox2=new JCheckBox(&quot;bbbbb&quot;);\r\n        JCheckBox checkBox3=new JCheckBox(&quot;ccccc&quot;);\r\n\r\n        bt.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                panel.removeAll(); // remove all components from the panel\r\n                panel.revalidate(); // update the panel&#39;s layout\r\n                panel.repaint(); // repaint the panel\r\n            }\r\n        });\r\n\r\n        panel.add(bt);\r\n        panel.add(checkBox1);\r\n        panel.add(checkBox2);\r\n        panel.add(checkBox3);\r\n\r\n        frame.add(panel);\r\n    }\r\n","title":"Click bt, there is no response, the button has been clicked","body":"<p>The reason why your code does not work as expected is because you are missing two important steps after removing all the components from the panel. You need to call <code>panel.revalidate()</code> and <code>panel.repaint()</code> to update the panel's layout and appearance. Otherwise, the changes will not be reflected on the screen. You can fix your code:</p>\n<pre><code>public void Init(){\n    JPanel panel=new JPanel();\n    JButton bt=new JButton(&quot;按钮&quot;);\n    JCheckBox checkBox1=new JCheckBox(&quot;aaaaa&quot;);\n    JCheckBox checkBox2=new JCheckBox(&quot;bbbbb&quot;);\n    JCheckBox checkBox3=new JCheckBox(&quot;ccccc&quot;);\n\n    bt.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            panel.removeAll(); // remove all components from the panel\n            panel.revalidate(); // update the panel's layout\n            panel.repaint(); // repaint the panel\n        }\n    });\n\n    panel.add(bt);\n    panel.add(checkBox1);\n    panel.add(checkBox2);\n    panel.add(checkBox3);\n\n    frame.add(panel);\n}\n</code></pre>\n"}],"owner":{"account_id":24515289,"reputation":11,"user_id":18429148,"display_name":"Zhanhuo0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696727455,"creation_date":1696660521,"question_id":77248656,"body_markdown":"```java\r\npublic void Init(){\r\n    JPanel panel=new JPanel();\r\n    JButton bt=new JButton(&quot;按钮&quot;);\r\n    JCheckBox checkBox1=new JCheckBox(&quot;aaaaa&quot;);\r\n    JCheckBox checkBox2=new JCheckBox(&quot;bbbbb&quot;);\r\n    JCheckBox checkBox3=new JCheckBox(&quot;ccccc&quot;);\r\n\r\n    JCheckBox checkBox4=new JCheckBox(&quot;ddddd&quot;);\r\n    JCheckBox checkBox5=new JCheckBox(&quot;eeeee&quot;);\r\n\r\n    bt.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            panel.removeAll();\r\n            panel.add(checkBox4);\r\n            panel.add(checkBox5);\r\n            panel.repaint();\r\n        }\r\n    });\r\n\r\n    panel.add(bt);\r\n    panel.add(checkBox1);\r\n    panel.add(checkBox2);\r\n    panel.add(checkBox3);\r\n\r\n    frame.add(panel);\r\n}\r\n```\r\nWhen I click `bt` there is no response, the button has been clicked.\r\n\r\nI hope to be able to perform the operations in `actionPerformed` after clicking `bt`.","title":"Click bt, there is no response, the button has been clicked","body":"<pre class=\"lang-java prettyprint-override\"><code>public void Init(){\n    JPanel panel=new JPanel();\n    JButton bt=new JButton(&quot;按钮&quot;);\n    JCheckBox checkBox1=new JCheckBox(&quot;aaaaa&quot;);\n    JCheckBox checkBox2=new JCheckBox(&quot;bbbbb&quot;);\n    JCheckBox checkBox3=new JCheckBox(&quot;ccccc&quot;);\n\n    JCheckBox checkBox4=new JCheckBox(&quot;ddddd&quot;);\n    JCheckBox checkBox5=new JCheckBox(&quot;eeeee&quot;);\n\n    bt.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            panel.removeAll();\n            panel.add(checkBox4);\n            panel.add(checkBox5);\n            panel.repaint();\n        }\n    });\n\n    panel.add(bt);\n    panel.add(checkBox1);\n    panel.add(checkBox2);\n    panel.add(checkBox3);\n\n    frame.add(panel);\n}\n</code></pre>\n<p>When I click <code>bt</code> there is no response, the button has been clicked.</p>\n<p>I hope to be able to perform the operations in <code>actionPerformed</code> after clicking <code>bt</code>.</p>\n"},{"tags":["java","android","caching","gitlab-ci","pipeline"],"comments":[{"owner":{"account_id":16989917,"reputation":1287,"user_id":12289730,"display_name":"Origin"},"score":0,"creation_date":1696402583,"post_id":77221901,"comment_id":136146409,"body_markdown":"if there are no frequent changes. U can create a custom base image with whatever u need and use that for the job","body":"if there are no frequent changes. U can create a custom base image with whatever u need and use that for the job"},{"owner":{"account_id":14832150,"reputation":317,"user_id":10711348,"display_name":"Josip Maričević"},"score":0,"creation_date":1696489469,"post_id":77221901,"comment_id":136159943,"body_markdown":"That would be great, but I don&#39;t have access to the server where GitLab and GitLab-runners are running.","body":"That would be great, but I don&#39;t have access to the server where GitLab and GitLab-runners are running."},{"owner":{"account_id":16989917,"reputation":1287,"user_id":12289730,"display_name":"Origin"},"score":0,"creation_date":1696581896,"post_id":77221901,"comment_id":136174379,"body_markdown":"u can push a image to dockerhub and use it from there","body":"u can push a image to dockerhub and use it from there"},{"owner":{"account_id":14832150,"reputation":317,"user_id":10711348,"display_name":"Josip Maričević"},"score":0,"creation_date":1696835019,"post_id":77221901,"comment_id":136198641,"body_markdown":"Also, during my research, I came across a statement from a GitLab developer where he says that it is not possible to cache anything outside the repository scope.","body":"Also, during my research, I came across a statement from a GitLab developer where he says that it is not possible to cache anything outside the repository scope."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1696835399,"post_id":77221901,"comment_id":136198714,"body_markdown":"@JosipMaričević Yes, which is why caching an image in a container registry remains the most effective way to bypass the repetitive JDK installation.","body":"@JosipMaričević Yes, which is why caching an image in a container registry remains the most effective way to bypass the repetitive JDK installation."},{"owner":{"account_id":14832150,"reputation":317,"user_id":10711348,"display_name":"Josip Maričević"},"score":0,"creation_date":1696836619,"post_id":77221901,"comment_id":136198891,"body_markdown":"Perhaps it would be even better if I had a dedicated runner just for this project, with everything necessary pre-installed on it so that I don&#39;t have to pull the docker image every time, right?","body":"Perhaps it would be even better if I had a dedicated runner just for this project, with everything necessary pre-installed on it so that I don&#39;t have to pull the docker image every time, right?"}],"answers":[{"comments":[{"owner":{"account_id":14832150,"reputation":317,"user_id":10711348,"display_name":"Josip Maričević"},"score":0,"creation_date":1696834528,"post_id":77251924,"comment_id":136198555,"body_markdown":"I would never say that it is so easy to upload a new image to the docker hub. I would never say that it is so easy to upload a new image to the docker hub. Thank you for your answer.","body":"I would never say that it is so easy to upload a new image to the docker hub. I would never say that it is so easy to upload a new image to the docker hub. Thank you for your answer."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1696834576,"post_id":77251924,"comment_id":136198567,"body_markdown":"@JosipMaričević True. Do you have access to any other docker registries in your environment? A [GitLab Container Registry](https://docs.gitlab.com/ee/user/packages/container_registry/) maybe?","body":"@JosipMaričević True. Do you have access to any other docker registries in your environment? A <a href=\"https://docs.gitlab.com/ee/user/packages/container_registry/\" rel=\"nofollow noreferrer\">GitLab Container Registry</a> maybe?"},{"owner":{"account_id":14832150,"reputation":317,"user_id":10711348,"display_name":"Josip Maričević"},"score":0,"creation_date":1696834905,"post_id":77251924,"comment_id":136198626,"body_markdown":"I don&#39;t know, is there a way to check it?","body":"I don&#39;t know, is there a way to check it?"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1696835258,"post_id":77251924,"comment_id":136198685,"body_markdown":"@JosipMaričević Yes, by giving more information about your development environment. Are you using a self-managed on-premise GitLab instance, or gitlab.com? Which version of GitLab are you using? Can you check if the [GitLab Container Registry ](https://docs.gitlab.com/ee/administration/packages/container_registry.html) is enabled?","body":"@JosipMaričević Yes, by giving more information about your development environment. Are you using a self-managed on-premise GitLab instance, or gitlab.com? Which version of GitLab are you using? Can you check if the [GitLab Container Registry ](<a href=\"https://docs.gitlab.com/ee/administration/packages/container_registry.html\" rel=\"nofollow noreferrer\">docs.gitlab.com/ee/administration/packages/&hellip;</a>) is enabled?"},{"owner":{"account_id":14832150,"reputation":317,"user_id":10711348,"display_name":"Josip Maričević"},"score":0,"creation_date":1696836440,"post_id":77251924,"comment_id":136198866,"body_markdown":"I am working on clients gitlab which is self-hosted on their server. And I just have access to Gitlab pipelines in the CI/CD section of the repository. Also, I am using one of their shared GitLab runners from other projects.","body":"I am working on clients gitlab which is self-hosted on their server. And I just have access to Gitlab pipelines in the CI/CD section of the repository. Also, I am using one of their shared GitLab runners from other projects."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1696837250,"post_id":77251924,"comment_id":136199013,"body_markdown":"@JosipMaričević So the admins for that GitLab instance can tell you if the registry is set up.","body":"@JosipMaričević So the admins for that GitLab instance can tell you if the registry is set up."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696725106,"creation_date":1696725106,"answer_id":77251924,"question_id":77221901,"body_markdown":"To expand on the comments, the use of a custom Docker image to encapsulate the necessary environment for your jobs should be helpful.  \r\nIf you do not have direct access to the server where GitLab and GitLab runners are running, you can push a custom Docker image to a publicly accessible Docker registry like [Docker Hub](https://hub.docker.com/).\r\n\r\nCreate a `Dockerfile` with the necessary JDK installation and any other dependencies you require:\r\n```dockerfile\r\nFROM fabernovel/android:api-33-v1.7.0\r\nRUN apt-get update &amp;&amp; apt-get install -y openjdk-17-jdk\r\n```\r\nAnd build your Docker image locally:\r\n```bash\r\ndocker build -t your-username/your-image-name:your-tag .\r\n```\r\n\r\n\r\nThen push the custom docker image to Docker Hub**:\r\n```bash\r\ndocker login --username=your-username\r\ndocker push your-username/your-image-name:your-tag\r\n```\r\n\r\nModify your `.gitlab-ci.yml` file to use the custom Docker image you pushed to Docker Hub:\r\n```yaml\r\nimage: your-username/your-image-name:your-tag\r\n\r\n# Rest of your workflow\r\n```\r\n\r\nHaving a custom Docker image with the JDK pre-installed should significantly speed up your GitLab pipeline runs as it will no longer need to install the JDK in every run. ","title":"I need to find a way to cache jdk instalation in gitlab pipeline","body":"<p>To expand on the comments, the use of a custom Docker image to encapsulate the necessary environment for your jobs should be helpful.<br />\nIf you do not have direct access to the server where GitLab and GitLab runners are running, you can push a custom Docker image to a publicly accessible Docker registry like <a href=\"https://hub.docker.com/\" rel=\"nofollow noreferrer\">Docker Hub</a>.</p>\n<p>Create a <code>Dockerfile</code> with the necessary JDK installation and any other dependencies you require:</p>\n<pre><code>FROM fabernovel/android:api-33-v1.7.0\nRUN apt-get update &amp;&amp; apt-get install -y openjdk-17-jdk\n</code></pre>\n<p>And build your Docker image locally:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker build -t your-username/your-image-name:your-tag .\n</code></pre>\n<p>Then push the custom docker image to Docker Hub**:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker login --username=your-username\ndocker push your-username/your-image-name:your-tag\n</code></pre>\n<p>Modify your <code>.gitlab-ci.yml</code> file to use the custom Docker image you pushed to Docker Hub:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>image: your-username/your-image-name:your-tag\n\n# Rest of your workflow\n</code></pre>\n<p>Having a custom Docker image with the JDK pre-installed should significantly speed up your GitLab pipeline runs as it will no longer need to install the JDK in every run.</p>\n"}],"owner":{"account_id":14832150,"reputation":317,"user_id":10711348,"display_name":"Josip Maričević"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1696725106,"creation_date":1696332906,"question_id":77221901,"body_markdown":"I am running a GitLab pipeline for testing and building an Android app.\r\n\r\nHere is my current `gitlab-ci.yml`:\r\n\r\n    image: fabernovel/android:api-33-v1.7.0\r\n    \r\n    stages:\r\n      - test\r\n      - build\r\n      - beta\r\n    \r\n    cache:\r\n      key:\r\n        files:\r\n          - Gemfile.lock\r\n      paths:\r\n        - vendor/bundle\r\n    \r\n    before_script:\r\n      - apt-get update &amp;&amp; apt-get install -y openjdk-17-jdk\r\n      - jenv add /usr/lib/jvm/java-17-openjdk-amd64\r\n      - jenv global 17.0\r\n      - bundle check --path vendor/bundle || bundle install --path vendor/bundle --jobs $(nproc)\r\n    \r\n    test:\r\n      image: fabernovel/android:api-33-v1.7.0\r\n      tags:\r\n        - docker-ansible\r\n      stage: test\r\n      cache:\r\n        key:\r\n          files:\r\n            - gradle/wrapper/gradle-wrapper.properties\r\n        paths:\r\n          - cache/caches/\r\n          - cache/notifications/\r\n          - cache/wrapper/\r\n    \r\n      script:\r\n        - bundle exec fastlane test\r\n    \r\n    build:\r\n      image: fabernovel/android:api-33-v1.7.0\r\n      tags:\r\n        - docker-ansible\r\n      stage: build\r\n      cache:\r\n        key:\r\n          files:\r\n            - gradle/wrapper/gradle-wrapper.properties\r\n        paths:\r\n          - cache/caches/\r\n          - cache/notifications/\r\n          - cache/wrapper/\r\n      variables:\r\n        SECURE_FILES_DOWNLOAD_PATH: &#39;./&#39;\r\n      script:\r\n        - apt update -y &amp;&amp; apt install -y curl\r\n        - curl -s https://gitlab.com/gitlab-org/incubation-engineering/mobile-devops/download-secure-files/-/raw/main/installer | bash\r\n        - bundle exec fastlane build\r\n      artifacts:\r\n        paths:\r\n          - app/build/outputs/bundle/release/app-release.aab\r\n    \r\n    beta:\r\n      image: fabernovel/android:api-33-v1.7.0\r\n      tags:\r\n        - docker-ansible\r\n      stage: beta\r\n      script:\r\n        - bundle exec fastlane beta\r\n      when: manual\r\n      allow_failure: true\r\n      only:\r\n        refs:\r\n          - main\r\n\r\nCurrently, it is working fine, but is very slow because every time I run it jdk is installed for every stage again. I can&#39;t find a valid way to cache to skip that part in the next build.\r\nAlso if there is any other way to speed up or cache, suggestions are very welcome.","title":"I need to find a way to cache jdk instalation in gitlab pipeline","body":"<p>I am running a GitLab pipeline for testing and building an Android app.</p>\n<p>Here is my current <code>gitlab-ci.yml</code>:</p>\n<pre><code>image: fabernovel/android:api-33-v1.7.0\n\nstages:\n  - test\n  - build\n  - beta\n\ncache:\n  key:\n    files:\n      - Gemfile.lock\n  paths:\n    - vendor/bundle\n\nbefore_script:\n  - apt-get update &amp;&amp; apt-get install -y openjdk-17-jdk\n  - jenv add /usr/lib/jvm/java-17-openjdk-amd64\n  - jenv global 17.0\n  - bundle check --path vendor/bundle || bundle install --path vendor/bundle --jobs $(nproc)\n\ntest:\n  image: fabernovel/android:api-33-v1.7.0\n  tags:\n    - docker-ansible\n  stage: test\n  cache:\n    key:\n      files:\n        - gradle/wrapper/gradle-wrapper.properties\n    paths:\n      - cache/caches/\n      - cache/notifications/\n      - cache/wrapper/\n\n  script:\n    - bundle exec fastlane test\n\nbuild:\n  image: fabernovel/android:api-33-v1.7.0\n  tags:\n    - docker-ansible\n  stage: build\n  cache:\n    key:\n      files:\n        - gradle/wrapper/gradle-wrapper.properties\n    paths:\n      - cache/caches/\n      - cache/notifications/\n      - cache/wrapper/\n  variables:\n    SECURE_FILES_DOWNLOAD_PATH: './'\n  script:\n    - apt update -y &amp;&amp; apt install -y curl\n    - curl -s https://gitlab.com/gitlab-org/incubation-engineering/mobile-devops/download-secure-files/-/raw/main/installer | bash\n    - bundle exec fastlane build\n  artifacts:\n    paths:\n      - app/build/outputs/bundle/release/app-release.aab\n\nbeta:\n  image: fabernovel/android:api-33-v1.7.0\n  tags:\n    - docker-ansible\n  stage: beta\n  script:\n    - bundle exec fastlane beta\n  when: manual\n  allow_failure: true\n  only:\n    refs:\n      - main\n</code></pre>\n<p>Currently, it is working fine, but is very slow because every time I run it jdk is installed for every stage again. I can't find a valid way to cache to skip that part in the next build.\nAlso if there is any other way to speed up or cache, suggestions are very welcome.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696723257,"creation_date":1696722887,"answer_id":77251862,"question_id":77251633,"body_markdown":"You may have been close with using the `@EnableConfigurationProperties` annotation because Spring did not know how to map the properties from your file to the class.\r\nHave a look at the examples from [the docs](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.constructor-binding). Each dot implies the nesting of the properties.\r\n\r\nTo be able to do it you can change the `PasswordConfig` so that it corresponds with the password.properties structure:\r\n\r\n```java\r\n@Configuration\r\n@EnableConfigurationProperties(PasswordConfig.class)\r\n@Log4j2\r\n@Validated\r\n@ConfigurationProperties\r\n@Setter\r\n@PropertySource(&quot;classpath:password.properties&quot;)\r\npublic class PasswordConfig {\r\n\r\n    private Range length;\r\n    private Character character;\r\n\r\n    @Setter\r\n    @ToString\r\n    static class Character {\r\n        private MinBoxed digit;\r\n        private MinBoxed lowercase;\r\n        private MinBoxed uppercase;\r\n        private MinBoxed special;\r\n    }\r\n\r\n    @Setter\r\n    @ToString\r\n    static class Range {\r\n        @Min(1)\r\n        private Integer max;\r\n        @Min(1)\r\n        private Integer min;\r\n    }\r\n\r\n    @Setter\r\n    @ToString\r\n    static class MinBoxed {\r\n        @Min(1)\r\n        private Integer min;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordValidator passwordValidator() throws IOException {\r\n        log.info(&quot;Password validator [LENGTH: {}-{}, NUMBERS: {}, LOWERCASE: {}, UPPERCASE: {}, SPECIAL: {}]&quot;, length.min,\r\n                length.max, character.digit.min, character.lowercase.min, character.uppercase.min, character.special.min\r\n        );\r\n\r\n        return new PasswordValidator(List.of(\r\n                new LengthRule(length.min, length.max),\r\n                new CharacterRule(EnglishCharacterData.Digit, character.digit.min),\r\n                new CharacterRule(EnglishCharacterData.LowerCase, character.lowercase.min),\r\n                new CharacterRule(EnglishCharacterData.UpperCase, character.uppercase.min),\r\n                new CharacterRule(EnglishCharacterData.Special, character.special.min),\r\n                new WhitespaceRule()\r\n        ));\r\n    }\r\n}\r\n```\r\nAdditional notes: \r\n 1. In your original snippet the `LengthRule` parameters should be flipped\r\n 2. You can use `@AllArgsConstructor` annotation istead of `@Setter`. You have to combine it with the `@ConstructorBinding` annotation. For example for the Character nested class:\r\n```java\r\n    @ConstructorBinding\r\n    @AllArgsConstructor\r\n    @ToString\r\n    static class Character {\r\n        private MinBoxed digit;\r\n        private MinBoxed lowercase;\r\n        private MinBoxed uppercase;\r\n        private MinBoxed special;\r\n    }\r\n```\r\n\r\n","title":"Spring Configuration Properties with PropertySource returning null","body":"<p>You may have been close with using the <code>@EnableConfigurationProperties</code> annotation because Spring did not know how to map the properties from your file to the class.\nHave a look at the examples from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.constructor-binding\" rel=\"nofollow noreferrer\">the docs</a>. Each dot implies the nesting of the properties.</p>\n<p>To be able to do it you can change the <code>PasswordConfig</code> so that it corresponds with the password.properties structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableConfigurationProperties(PasswordConfig.class)\n@Log4j2\n@Validated\n@ConfigurationProperties\n@Setter\n@PropertySource(&quot;classpath:password.properties&quot;)\npublic class PasswordConfig {\n\n    private Range length;\n    private Character character;\n\n    @Setter\n    @ToString\n    static class Character {\n        private MinBoxed digit;\n        private MinBoxed lowercase;\n        private MinBoxed uppercase;\n        private MinBoxed special;\n    }\n\n    @Setter\n    @ToString\n    static class Range {\n        @Min(1)\n        private Integer max;\n        @Min(1)\n        private Integer min;\n    }\n\n    @Setter\n    @ToString\n    static class MinBoxed {\n        @Min(1)\n        private Integer min;\n    }\n\n    @Bean\n    public PasswordValidator passwordValidator() throws IOException {\n        log.info(&quot;Password validator [LENGTH: {}-{}, NUMBERS: {}, LOWERCASE: {}, UPPERCASE: {}, SPECIAL: {}]&quot;, length.min,\n                length.max, character.digit.min, character.lowercase.min, character.uppercase.min, character.special.min\n        );\n\n        return new PasswordValidator(List.of(\n                new LengthRule(length.min, length.max),\n                new CharacterRule(EnglishCharacterData.Digit, character.digit.min),\n                new CharacterRule(EnglishCharacterData.LowerCase, character.lowercase.min),\n                new CharacterRule(EnglishCharacterData.UpperCase, character.uppercase.min),\n                new CharacterRule(EnglishCharacterData.Special, character.special.min),\n                new WhitespaceRule()\n        ));\n    }\n}\n</code></pre>\n<p>Additional notes:</p>\n<ol>\n<li>In your original snippet the <code>LengthRule</code> parameters should be flipped</li>\n<li>You can use <code>@AllArgsConstructor</code> annotation istead of <code>@Setter</code>. You have to combine it with the <code>@ConstructorBinding</code> annotation. For example for the Character nested class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @ConstructorBinding\n    @AllArgsConstructor\n    @ToString\n    static class Character {\n        private MinBoxed digit;\n        private MinBoxed lowercase;\n        private MinBoxed uppercase;\n        private MinBoxed special;\n    }\n</code></pre>\n"}],"owner":{"account_id":23987549,"reputation":50,"user_id":17974178,"display_name":"Victor Hugo Pongolino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77251862,"answer_count":1,"score":0,"last_activity_date":1696723257,"creation_date":1696715460,"question_id":77251633,"body_markdown":"I&#39;m trying to configure a Spring Bean with a custom configuration property called `password.properties`. In order to prevent using @Valid for every field , I&#39;m using both @ConfigurationProperties (for loading the property values into fields) and @PropertySource (for loading a custom properties file)\r\n\r\nHowever, the fields are all nulls. I&#39;ve generated the setters, getters and I&#39;ve also tried generating a default no-argument constructor, as well as one with all argumets. What could be causing this problem?\r\n\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties\r\n@ConfigurationPropertiesScan\r\n@PropertySource(&quot;classpath:password.properties&quot;)\r\n@ConfigurationProperties\r\n@Setter\r\n@Validated\r\n@Log4j2\r\npublic class PasswordConfig {\r\n\r\n    @Min(1)\r\n    private Integer minLength;\r\n    @Min(1)\r\n    private Integer maxLength;\r\n    @Min(1)\r\n    private Integer characterDigitMin;\r\n    @Min(1)\r\n    private Integer characterLowercaseMin;\r\n    @Min(1)\r\n    private Integer characterUppercaseMin;\r\n    @Min(1)\r\n    private Integer characterSpecialMin;\r\n\r\n    @Bean\r\n    public PasswordValidator passwordValidator() throws IOException {\r\n        log.debug(&quot;Password validator [LENGTH: {}-{}, NUMBERS: {}, LOWERCASE: {}, UPPERCASE: {}, SPECIAL: {}]&quot;, minLength,\r\n                maxLength, characterDigitMin, characterLowercaseMin, characterUppercaseMin, characterSpecialMin\r\n        );\r\n\r\n        return new PasswordValidator(List.of(\r\n                new LengthRule(minLength, maxLength),\r\n                new CharacterRule(EnglishCharacterData.Digit, characterDigitMin),\r\n                new CharacterRule(EnglishCharacterData.LowerCase, characterLowercaseMin),\r\n                new CharacterRule(EnglishCharacterData.UpperCase, characterUppercaseMin),\r\n                new CharacterRule(EnglishCharacterData.Special, characterSpecialMin),\r\n                new WhitespaceRule()\r\n        ));\r\n    }\r\n}\r\n```\r\n\r\n\r\nsrc/main/resources/password.properties\r\n```\r\nlength.max=15\r\nlength.min=5\r\ncharacter.digit.min=1\r\ncharacter.uppercase.min=1\r\ncharacter.lowercase.min=1\r\ncharacter.special.min=1\r\n```\r\n\r\n\r\nMain Spring Class\r\n```\r\n@SpringBootApplication\r\n@ConfigurationPropertiesScan\r\npublic class ReportsApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ReportsApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nError Log:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;passwordValidator&#39; defined in class path resource [reports/config/PasswordConfig.class]: Failed to instantiate [org.passay.PasswordValidator]: Factory method &#39;passwordValidator&#39; threw exception with message: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;reports.config.PasswordConfig.getMinLength()&quot; is null\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.passay.PasswordValidator]: Factory method &#39;passwordValidator&#39; threw exception with message: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;reports.config.PasswordConfig.getMinLength()&quot; is null\r\n\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;reports.config.PasswordConfig.getMinLength()&quot; is null\r\n\tat reports.config.PasswordConfig.passwordValidator(PasswordConfig.java:52) ~[classes/:na]\r\n\tat reports.config.PasswordConfig$$SpringCGLIB$$0.CGLIB$passwordValidator$11(&lt;generated&gt;) ~[classes/:na]\r\n\tat reports.config.PasswordConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat reports.config.PasswordConfig$$SpringCGLIB$$0.passwordValidator(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.12.jar:6.0.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.12.jar:6.0.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.12.jar:6.0.12]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.12.jar:6.0.12]\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.12.jar:6.0.12]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.12.jar:6.0.12]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.12.jar:6.0.12]\r\n\tat reports.config.PasswordConfig$$SpringCGLIB$$3.passwordValidator(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t... 25 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\n\r\nMy Attempts:\r\n- I tried to add @NoArgsConstructor @AllArgsConstructor in the class (Failed)\r\n- I tried to add @EnableConfigurationProperties in the class (Failed)\r\n- I tried to add @ConfigurationPropertiesScan in the class (Failed)","title":"Spring Configuration Properties with PropertySource returning null","body":"<p>I'm trying to configure a Spring Bean with a custom configuration property called <code>password.properties</code>. In order to prevent using @Valid for every field , I'm using both @ConfigurationProperties (for loading the property values into fields) and @PropertySource (for loading a custom properties file)</p>\n<p>However, the fields are all nulls. I've generated the setters, getters and I've also tried generating a default no-argument constructor, as well as one with all argumets. What could be causing this problem?</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties\n@ConfigurationPropertiesScan\n@PropertySource(&quot;classpath:password.properties&quot;)\n@ConfigurationProperties\n@Setter\n@Validated\n@Log4j2\npublic class PasswordConfig {\n\n    @Min(1)\n    private Integer minLength;\n    @Min(1)\n    private Integer maxLength;\n    @Min(1)\n    private Integer characterDigitMin;\n    @Min(1)\n    private Integer characterLowercaseMin;\n    @Min(1)\n    private Integer characterUppercaseMin;\n    @Min(1)\n    private Integer characterSpecialMin;\n\n    @Bean\n    public PasswordValidator passwordValidator() throws IOException {\n        log.debug(&quot;Password validator [LENGTH: {}-{}, NUMBERS: {}, LOWERCASE: {}, UPPERCASE: {}, SPECIAL: {}]&quot;, minLength,\n                maxLength, characterDigitMin, characterLowercaseMin, characterUppercaseMin, characterSpecialMin\n        );\n\n        return new PasswordValidator(List.of(\n                new LengthRule(minLength, maxLength),\n                new CharacterRule(EnglishCharacterData.Digit, characterDigitMin),\n                new CharacterRule(EnglishCharacterData.LowerCase, characterLowercaseMin),\n                new CharacterRule(EnglishCharacterData.UpperCase, characterUppercaseMin),\n                new CharacterRule(EnglishCharacterData.Special, characterSpecialMin),\n                new WhitespaceRule()\n        ));\n    }\n}\n</code></pre>\n<p>src/main/resources/password.properties</p>\n<pre><code>length.max=15\nlength.min=5\ncharacter.digit.min=1\ncharacter.uppercase.min=1\ncharacter.lowercase.min=1\ncharacter.special.min=1\n</code></pre>\n<p>Main Spring Class</p>\n<pre><code>@SpringBootApplication\n@ConfigurationPropertiesScan\npublic class ReportsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ReportsApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Error Log:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'passwordValidator' defined in class path resource [reports/config/PasswordConfig.class]: Failed to instantiate [org.passay.PasswordValidator]: Factory method 'passwordValidator' threw exception with message: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;reports.config.PasswordConfig.getMinLength()&quot; is null\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.passay.PasswordValidator]: Factory method 'passwordValidator' threw exception with message: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;reports.config.PasswordConfig.getMinLength()&quot; is null\n\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;reports.config.PasswordConfig.getMinLength()&quot; is null\n    at reports.config.PasswordConfig.passwordValidator(PasswordConfig.java:52) ~[classes/:na]\n    at reports.config.PasswordConfig$$SpringCGLIB$$0.CGLIB$passwordValidator$11(&lt;generated&gt;) ~[classes/:na]\n    at reports.config.PasswordConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.12.jar:6.0.12]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.12.jar:6.0.12]\n    at reports.config.PasswordConfig$$SpringCGLIB$$0.passwordValidator(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.12.jar:6.0.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.12.jar:6.0.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.12.jar:6.0.12]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.12.jar:6.0.12]\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.12.jar:6.0.12]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.12.jar:6.0.12]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.12.jar:6.0.12]\n    at reports.config.PasswordConfig$$SpringCGLIB$$3.passwordValidator(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.12.jar:6.0.12]\n    ... 25 common frames omitted\n\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>My Attempts:</p>\n<ul>\n<li>I tried to add @NoArgsConstructor @AllArgsConstructor in the class (Failed)</li>\n<li>I tried to add @EnableConfigurationProperties in the class (Failed)</li>\n<li>I tried to add @ConfigurationPropertiesScan in the class (Failed)</li>\n</ul>\n"},{"tags":["java","swing","graphics","jpanel","graphics2d"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696620217,"post_id":77227930,"comment_id":136181587,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77227930/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24708475,"reputation":13,"user_id":18598973,"display_name":"Das heilige D&#246;nerhuhn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696723079,"creation_date":1696407734,"answer_id":77227930,"question_id":77227727,"body_markdown":"Figured it out, I was creating a new CompressedColor instead of setting BaseColors Color to a new Color, which made BaseColor point to a different object locally, then globally. Repainting the JPanel just repainted it with the old, global value for BaseColor. I just didn&#39;t have a good overview of my pointers.","title":"Updating graphics in a jpanel","body":"<p>Figured it out, I was creating a new CompressedColor instead of setting BaseColors Color to a new Color, which made BaseColor point to a different object locally, then globally. Repainting the JPanel just repainted it with the old, global value for BaseColor. I just didn't have a good overview of my pointers.</p>\n"}],"owner":{"account_id":24708475,"reputation":13,"user_id":18598973,"display_name":"Das heilige D&#246;nerhuhn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77227930,"answer_count":1,"score":0,"last_activity_date":1696723079,"creation_date":1696405901,"question_id":77227727,"body_markdown":"I am struggling with refreshing the graphics in a jpanel.\r\n\r\nI tried to make the JPanel extending class &quot;ShadeSelectPane&quot; update it&#39;s Graphics object everytime I use a JColorChooser to choose a new colour, stored in the BaseColor object, but it doesn&#39;t. Can one of you tell me why? I am calling repaint after all. Thank you in advance.\r\nTheir are two files in my code, Main.java and CompressedColor.java. Main.java extends JFrame and just serves as a entry point and storage for most of the code. CompressedColor stores a colour and some more shades of it in rgb565 and as a Color Object. I stripped the code of all the initialisation code for Swing components, which resides in Mains constructor.\r\nWhen ran, the code draws all the shades of the initial Color CompressedColor is set to, but it doesn&#39;t update the ShadeSelectPane when  changing the BaseColor Object.\r\n\r\n```\r\nThis is my Main.java file\r\n\r\n public class Main extends JFrame implements ActionListener \r\n\r\n { \r\n\r\n     CompressedColor BaseColor; \r\n\r\n     JMenuBar bar; \r\n\r\n     JMenu file; \r\n\r\n     JMenu edit; \r\n\r\n     JMenuItem save; \r\n\r\n     JMenuItem exportdata; \r\n\r\n     JMenuItem exportfunction; \r\n\r\n     JMenuItem bgcolor; \r\n\r\n     ImagePane canvas; \r\n\r\n     ShadeSelectPane shadeselector; \r\n\r\n  \r\n\r\n     \r\n     // main-Methode \r\n\r\n     public static void main(String[] args) \r\n\r\n     {                                                 \r\n\r\n         Main frame = new Main(); \r\n\r\n         frame.setVisible(true);    \r\n\r\n  \r\n\r\n     } \r\n\r\n     public void actionPerformed (ActionEvent ae){ \r\n\r\n  \r\n\r\n         if(ae.getSource() == this.bgcolor){ \r\n\r\n             BaseColor = new CompressedColor(JColorChooser.showDialog(null, &quot;Farbauswahl&quot;, null)); \r\n\r\n             BaseColor.updateShades(); \r\n\r\n             System.out.println(Integer.toHexString(BaseColor.rgb565)); \r\n\r\n             shadeselector.repaint(); \r\n\r\n         } \r\n\r\n         else if(ae.getSource() == this.save){ \r\n\r\n             System.out.println(&quot;Save was pressed!&quot;); \r\n\r\n         } \r\n\r\n         else if(ae.getSource() == this.exportdata){ \r\n\r\n             System.out.println(&quot;Export Data was pressed!&quot;); \r\n\r\n         } \r\n\r\n         else if(ae.getSource() == this.exportfunction){ \r\n\r\n             System.out.println(&quot;Export Function was pressed&quot;); \r\n\r\n         } \r\n\r\n     } \r\n\r\n } \r\n\r\n class ImagePane extends JPanel { \r\n\r\n  \r\n\r\n     @Override \r\n\r\n     public void paintComponent(Graphics g) { \r\n\r\n         super.paintComponent(g); \r\n\r\n         g.drawString(&quot;BLAH&quot;, 20, 20); \r\n\r\n         g.drawRect(200, 200, 200, 200); \r\n\r\n     } \r\n\r\n } \r\n\r\n class ShadeSelectPane extends JPanel { \r\n\r\n     CompressedColor BaseColor; \r\n\r\n     ShadeSelectPane(CompressedColor baseColor){ \r\n\r\n         super(); \r\n\r\n         BaseColor = baseColor; \r\n\r\n     } \r\n\r\n     @Override \r\n\r\n     public void paintComponent(Graphics g) { \r\n\r\n         super.paintComponent(g); \r\n\r\n         for (int i = 0; i &lt; 8; i++) { \r\n\r\n             g.setColor(BaseColor.shades[i].color); \r\n\r\n            g.fillRect(0, i*(this.getHeight()/8), this.getWidth(), i*(this.getHeight()/8)+(this.getHeight()/8));  \r\n\r\n         } \r\n\r\n  \r\n\r\n  \r\n\r\n     } \r\n\r\n } \r\n\r\n This is CompressedColor.java \r\n\r\n  \r\n\r\n import java.awt.Color; \r\n\r\n  \r\n\r\n public class CompressedColor { \r\n\r\n     Color color; \r\n\r\n     short rgb565; \r\n\r\n     CompressedColor[] shades; \r\n\r\n     void updateShades(){ \r\n\r\n         for (int i = 0; i &lt; shades.length; i++) { \r\n\r\n             shades[i]  = new CompressedColor(new Color((color.getRed()-(i&lt;&lt;3))&amp;0xFF, (color.getGreen()-(i&lt;&lt;3))&amp;0xff, (color.getBlue()-(i&lt;&lt;3))&amp;0xff)); \r\n\r\n         } \r\n\r\n     } \r\n\r\n     void setColor(Color clr){ \r\n\r\n         color = clr; \r\n\r\n         rgb565=(short)((((clr.getRed() &amp; 0b11111000) &lt;&lt; 8) | ((clr.getGreen() &amp; 0b11111100) &lt;&lt; 3) | (clr.getBlue() &gt;&gt; 3))&amp;0xFFFF); \r\n\r\n  \r\n\r\n     } \r\n\r\n     CompressedColor(short clr){ \r\n\r\n         shades = new CompressedColor[8]; \r\n\r\n         rgb565 = clr; \r\n\r\n         color= new Color((clr&gt;&gt;8)&amp;0xF8, (clr&gt;&gt;3)&amp;0xFC, (clr&lt;&lt;3)&amp;0xF8); \r\n\r\n     } \r\n\r\n     CompressedColor(Color clr){ \r\n\r\n         shades = new CompressedColor[8]; \r\n\r\n         color = clr; \r\n\r\n         rgb565=(short)((((clr.getRed() &amp; 0b11111000) &lt;&lt; 8) | ((clr.getGreen() &amp; 0b11111100) &lt;&lt; 3) | (clr.getBlue() &gt;&gt; 3))&amp;0xFFFF); \r\n\r\n     } \r\n\r\n }```","title":"Updating graphics in a jpanel","body":"<p>I am struggling with refreshing the graphics in a jpanel.</p>\n<p>I tried to make the JPanel extending class &quot;ShadeSelectPane&quot; update it's Graphics object everytime I use a JColorChooser to choose a new colour, stored in the BaseColor object, but it doesn't. Can one of you tell me why? I am calling repaint after all. Thank you in advance.\nTheir are two files in my code, Main.java and CompressedColor.java. Main.java extends JFrame and just serves as a entry point and storage for most of the code. CompressedColor stores a colour and some more shades of it in rgb565 and as a Color Object. I stripped the code of all the initialisation code for Swing components, which resides in Mains constructor.\nWhen ran, the code draws all the shades of the initial Color CompressedColor is set to, but it doesn't update the ShadeSelectPane when  changing the BaseColor Object.</p>\n<pre><code>This is my Main.java file\n\n public class Main extends JFrame implements ActionListener \n\n { \n\n     CompressedColor BaseColor; \n\n     JMenuBar bar; \n\n     JMenu file; \n\n     JMenu edit; \n\n     JMenuItem save; \n\n     JMenuItem exportdata; \n\n     JMenuItem exportfunction; \n\n     JMenuItem bgcolor; \n\n     ImagePane canvas; \n\n     ShadeSelectPane shadeselector; \n\n  \n\n     \n     // main-Methode \n\n     public static void main(String[] args) \n\n     {                                                 \n\n         Main frame = new Main(); \n\n         frame.setVisible(true);    \n\n  \n\n     } \n\n     public void actionPerformed (ActionEvent ae){ \n\n  \n\n         if(ae.getSource() == this.bgcolor){ \n\n             BaseColor = new CompressedColor(JColorChooser.showDialog(null, &quot;Farbauswahl&quot;, null)); \n\n             BaseColor.updateShades(); \n\n             System.out.println(Integer.toHexString(BaseColor.rgb565)); \n\n             shadeselector.repaint(); \n\n         } \n\n         else if(ae.getSource() == this.save){ \n\n             System.out.println(&quot;Save was pressed!&quot;); \n\n         } \n\n         else if(ae.getSource() == this.exportdata){ \n\n             System.out.println(&quot;Export Data was pressed!&quot;); \n\n         } \n\n         else if(ae.getSource() == this.exportfunction){ \n\n             System.out.println(&quot;Export Function was pressed&quot;); \n\n         } \n\n     } \n\n } \n\n class ImagePane extends JPanel { \n\n  \n\n     @Override \n\n     public void paintComponent(Graphics g) { \n\n         super.paintComponent(g); \n\n         g.drawString(&quot;BLAH&quot;, 20, 20); \n\n         g.drawRect(200, 200, 200, 200); \n\n     } \n\n } \n\n class ShadeSelectPane extends JPanel { \n\n     CompressedColor BaseColor; \n\n     ShadeSelectPane(CompressedColor baseColor){ \n\n         super(); \n\n         BaseColor = baseColor; \n\n     } \n\n     @Override \n\n     public void paintComponent(Graphics g) { \n\n         super.paintComponent(g); \n\n         for (int i = 0; i &lt; 8; i++) { \n\n             g.setColor(BaseColor.shades[i].color); \n\n            g.fillRect(0, i*(this.getHeight()/8), this.getWidth(), i*(this.getHeight()/8)+(this.getHeight()/8));  \n\n         } \n\n  \n\n  \n\n     } \n\n } \n\n This is CompressedColor.java \n\n  \n\n import java.awt.Color; \n\n  \n\n public class CompressedColor { \n\n     Color color; \n\n     short rgb565; \n\n     CompressedColor[] shades; \n\n     void updateShades(){ \n\n         for (int i = 0; i &lt; shades.length; i++) { \n\n             shades[i]  = new CompressedColor(new Color((color.getRed()-(i&lt;&lt;3))&amp;0xFF, (color.getGreen()-(i&lt;&lt;3))&amp;0xff, (color.getBlue()-(i&lt;&lt;3))&amp;0xff)); \n\n         } \n\n     } \n\n     void setColor(Color clr){ \n\n         color = clr; \n\n         rgb565=(short)((((clr.getRed() &amp; 0b11111000) &lt;&lt; 8) | ((clr.getGreen() &amp; 0b11111100) &lt;&lt; 3) | (clr.getBlue() &gt;&gt; 3))&amp;0xFFFF); \n\n  \n\n     } \n\n     CompressedColor(short clr){ \n\n         shades = new CompressedColor[8]; \n\n         rgb565 = clr; \n\n         color= new Color((clr&gt;&gt;8)&amp;0xF8, (clr&gt;&gt;3)&amp;0xFC, (clr&lt;&lt;3)&amp;0xF8); \n\n     } \n\n     CompressedColor(Color clr){ \n\n         shades = new CompressedColor[8]; \n\n         color = clr; \n\n         rgb565=(short)((((clr.getRed() &amp; 0b11111000) &lt;&lt; 8) | ((clr.getGreen() &amp; 0b11111100) &lt;&lt; 3) | (clr.getBlue() &gt;&gt; 3))&amp;0xFFFF); \n\n     } \n\n }```\n</code></pre>\n"},{"tags":["java","python","web-services","compilation"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1496149534,"post_id":44262565,"comment_id":75534188,"body_markdown":"Sounds good. Have you tried that? (e.g. via simple exec: https://stackoverflow.com/questions/3577736/compiling-and-executing-java-code-using-runtimeexec) - The only thing you should not do is to expose this openly on the internet because you allow people to run arbitrary code on your server which will soon be controlled by evil people. Sites like ideone.com use specialized sandboxed environments that are safe but that&#39;s nothing you can easily recreate besides bying a comercial solution.","body":"Sounds good. Have you tried that? (e.g. via simple exec: <a href=\"https://stackoverflow.com/questions/3577736/compiling-and-executing-java-code-using-runtimeexec\" title=\"compiling and executing java code using runtimeexec\">stackoverflow.com/questions/3577736/&hellip;</a>) - The only thing you should not do is to expose this openly on the internet because you allow people to run arbitrary code on your server which will soon be controlled by evil people. Sites like ideone.com use specialized sandboxed environments that are safe but that&#39;s nothing you can easily recreate besides bying a comercial solution."},{"owner":{"account_id":4698948,"reputation":61,"user_id":3803077,"display_name":"de-loke"},"score":0,"creation_date":1496839446,"post_id":44262565,"comment_id":75824846,"body_markdown":"No, I haven&#39;t tried anything yet. The problem is: I&#39;ll search for a way to to that because we wan&#39;t to create an interactive online tutorial what fitts exactly the needs of my University. And for now i&#39;m only looking for Ideas, how it is possible to do that.","body":"No, I haven&#39;t tried anything yet. The problem is: I&#39;ll search for a way to to that because we wan&#39;t to create an interactive online tutorial what fitts exactly the needs of my University. And for now i&#39;m only looking for Ideas, how it is possible to do that."}],"owner":{"account_id":4698948,"reputation":61,"user_id":3803077,"display_name":"de-loke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696722483,"creation_date":1496147992,"question_id":44262565,"body_markdown":"I&#39;d like to compile and execute Java code on a website, and automatically compare its output on a website.\r\n\r\nThe Java code should be typed in by the website-user.\r\n\r\nI think the solution must be something like: Creating a webservice which calls a blackbox java instance and sends the output back as output for the webservice via JSON. But I don&#39;t really know how to do that and if there is a more practical solution to get the execution results of the Java code, I would love to hear about that.\r\n\r\nI&#39;m interested in doing things like this in Python too for example. Is there a similar solution to do that?\r\n\r\nHope somebody can help me to do that.\r\n\r\nGreetings and thank you","title":"compile and interpret code via webservice (blackbox?)","body":"<p>I'd like to compile and execute Java code on a website, and automatically compare its output on a website.</p>\n<p>The Java code should be typed in by the website-user.</p>\n<p>I think the solution must be something like: Creating a webservice which calls a blackbox java instance and sends the output back as output for the webservice via JSON. But I don't really know how to do that and if there is a more practical solution to get the execution results of the Java code, I would love to hear about that.</p>\n<p>I'm interested in doing things like this in Python too for example. Is there a similar solution to do that?</p>\n<p>Hope somebody can help me to do that.</p>\n<p>Greetings and thank you</p>\n"},{"tags":["java","kotlin","value-class"],"comments":[{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1636582284,"post_id":69920555,"comment_id":123599232,"body_markdown":"This is likely due to name mangling with value classes. Kotlin does that to avoid overload conflicts on Java side. You might be able to get around it with `@JvmName` to customize the Java method name","body":"This is likely due to name mangling with value classes. Kotlin does that to avoid overload conflicts on Java side. You might be able to get around it with <code>@JvmName</code> to customize the Java method name"},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636582801,"post_id":69920555,"comment_id":123599401,"body_markdown":"oh... I think that might solve it!","body":"oh... I think that might solve it!"},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636583089,"post_id":69920555,"comment_id":123599500,"body_markdown":"Well...kinda... I still don&#39;t end up with a &quot;CountryId&quot; I have a UUID... which isn&#39;t the type I want... ideally, I&#39;d just like the constructor to work and not use the factory (which doesn&#39;t work anyhow)","body":"Well...kinda... I still don&#39;t end up with a &quot;CountryId&quot; I have a UUID... which isn&#39;t the type I want... ideally, I&#39;d just like the constructor to work and not use the factory (which doesn&#39;t work anyhow)"},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1636583946,"post_id":69920555,"comment_id":123599732,"body_markdown":"I&#39;m confused now, the regular `CountryId` constructor works fine for me from Java. What do you mean it doesn&#39;t work for you?","body":"I&#39;m confused now, the regular <code>CountryId</code> constructor works fine for me from Java. What do you mean it doesn&#39;t work for you?"},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636584124,"post_id":69920555,"comment_id":123599769,"body_markdown":"It expects 0 arguments in java for some reason. Looks like it&#39;s marked the constructor as private?","body":"It expects 0 arguments in java for some reason. Looks like it&#39;s marked the constructor as private?"},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1636584342,"post_id":69920555,"comment_id":123599817,"body_markdown":"Maybe this has to do with how the project is published / imported, but it shouldn&#39;t really. In my case I&#39;m doing my tests with both the Kotlin and the Java class in the same project (under `src/main/kotlin` and `src/main/java` respectively).","body":"Maybe this has to do with how the project is published / imported, but it shouldn&#39;t really. In my case I&#39;m doing my tests with both the Kotlin and the Java class in the same project (under <code>src&#47;main&#47;kotlin</code> and <code>src&#47;main&#47;java</code> respectively)."},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636584525,"post_id":69920555,"comment_id":123599859,"body_markdown":"We&#39;re publishing a jar to maven, and pulling it in on the java side.","body":"We&#39;re publishing a jar to maven, and pulling it in on the java side."},{"owner":{"account_id":7299550,"reputation":3898,"user_id":5562901,"accept_rate":25,"display_name":"Saurabh Padwekar"},"score":0,"creation_date":1678199325,"post_id":69920555,"comment_id":133484190,"body_markdown":"I am not able to find the IdentifierFactory class. Getting Error: Cannot resolve symbol &#39;IdentifierFactory&#39;. Can you tell me to which package this belongs? Or if I am missing anything?","body":"I am not able to find the IdentifierFactory class. Getting Error: Cannot resolve symbol &#39;IdentifierFactory&#39;. Can you tell me to which package this belongs? Or if I am missing anything?"}],"answers":[{"comments":[{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636584377,"post_id":69921101,"comment_id":123599823,"body_markdown":"Yep, the factory worked as you stated... but I&#39;m really trying to create a variable of &quot;CountryId&quot; in Java, using the kotlin class ... not sure why the constructor isn&#39;t working. If I go into the bytecode (from the java side) and tell it to decompile, I see it&#39;s a private constructor (see update to initial post)","body":"Yep, the factory worked as you stated... but I&#39;m really trying to create a variable of &quot;CountryId&quot; in Java, using the kotlin class ... not sure why the constructor isn&#39;t working. If I go into the bytecode (from the java side) and tell it to decompile, I see it&#39;s a private constructor (see update to initial post)"},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1636584532,"post_id":69921101,"comment_id":123599862,"body_markdown":"@CaffGeek it&#39;s strange that it&#39;s private for you. In my case the constructor with `UUID` is definitely accessible. Have you tried using the constructor from a Java class in the Kotlin project, just to test it?","body":"@CaffGeek it&#39;s strange that it&#39;s private for you. In my case the constructor with <code>UUID</code> is definitely accessible. Have you tried using the constructor from a Java class in the Kotlin project, just to test it?"},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636584909,"post_id":69921101,"comment_id":123599955,"body_markdown":"We have nothing going in that direction right now. The java app is our legacy stuff, and it&#39;s consuming new services and these id types from our kotlin projects.","body":"We have nothing going in that direction right now. The java app is our legacy stuff, and it&#39;s consuming new services and these id types from our kotlin projects."},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636585546,"post_id":69921101,"comment_id":123600092,"body_markdown":"I wonder if it&#39;s related to versions? We&#39;re on Kotlin 1.5.21 and Java 12 (I &quot;think&quot; an upgrade to 17 is in the works...)","body":"I wonder if it&#39;s related to versions? We&#39;re on Kotlin 1.5.21 and Java 12 (I &quot;think&quot; an upgrade to 17 is in the works...)"},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1636585962,"post_id":69921101,"comment_id":123600185,"body_markdown":"I&#39;m using 1.5.31 for my tests here, and JDK 11","body":"I&#39;m using 1.5.31 for my tests here, and JDK 11"},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1636586854,"post_id":69921101,"comment_id":123600388,"body_markdown":"I examined the bytecode for the `CountryId` class on my side, and I also get a private constructor there. I have no idea why this constructor can successfully be called from my Java class","body":"I examined the bytecode for the <code>CountryId</code> class on my side, and I also get a private constructor there. I have no idea why this constructor can successfully be called from my Java class"},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636586927,"post_id":69921101,"comment_id":123600410,"body_markdown":"haha, weird. I updated to 1.5.31, and still have a private constructor as well... weird.","body":"haha, weird. I updated to 1.5.31, and still have a private constructor as well... weird."},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636987987,"post_id":69921101,"comment_id":123697629,"body_markdown":"any idea what&#39;s going on, why you can call that private constructor but I can&#39;t?","body":"any idea what&#39;s going on, why you can call that private constructor but I can&#39;t?"},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":1,"creation_date":1636989232,"post_id":69921101,"comment_id":123698173,"body_markdown":"if I put it in another project beside the java one, it seems to work... the issue seems to be when brining it in from a jar via maven","body":"if I put it in another project beside the java one, it seems to work... the issue seems to be when brining it in from a jar via maven"},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1636992897,"post_id":69921101,"comment_id":123699863,"body_markdown":"@CaffGeek I tried to actually run this stuff and I do get a runtime exception (`Cannot find symbol`) when trying to call the constructor. So I guess it might be an IDE bug?","body":"@CaffGeek I tried to actually run this stuff and I do get a runtime exception (<code>Cannot find symbol</code>) when trying to call the constructor. So I guess it might be an IDE bug?"},{"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"score":0,"creation_date":1636992986,"post_id":69921101,"comment_id":123699899,"body_markdown":"interesting. Looks like this simply isn&#39;t going to work then I guess :(","body":"interesting. Looks like this simply isn&#39;t going to work then I guess :("}],"tags":[],"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"comment_count":11,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1636626882,"creation_date":1636584291,"answer_id":69921101,"question_id":69920555,"body_markdown":"&gt; Is Java really this awful with Value classes?\r\n\r\nValue classes are a Kotlin feature. They are basically sugar to allow more type safety (in Kotlin!) while reducing allocations by unboxing the inner value. The fact that the `CountryId` class exists in the bytecode is mostly because some instances need to be boxed in some cases (when used as a generic type, or a supertype, or a nullable type - in short, somewhat like primitives). But technically it&#39;s not really meant to be used from the Java side of things.\r\n\r\n&gt; In java, I can call IdentifierFactory.Companion.buildString() and it will work, but IdentifierFactory.Companion.buildCountry() doesn&#39;t even exist.\r\n\r\nThe functions with value classes in their signature are intentionally not visible from Java by default, in order to avoid strange issues with overloads in Java. This is accomplished via [name mangling](https://kotlinlang.org/docs/inline-classes.html#mangling). You can override the name for the Java method by using the `@JvmName` annotation on the factory function on Kotlin side to make it visible from Java:\r\n\r\n```kotlin\r\n@JvmName(&quot;buildCountryUUID&quot;) // prevents mangling due to value class\r\nfun buildCountry(): CountryId {\r\n    return CountryId.empty()\r\n}\r\n```\r\n\r\nThen it is accessible on Java side and returns a `UUID` (the inlined value):\r\n\r\n```java\r\nUUID uuid = IdentifierFactory.Companion.buildCountryUUID();\r\n```\r\n\r\n&gt; ideally, I&#39;d just like the constructor to work and not use the factory\r\n\r\nI realized from the comments that you were after creating actual `CountryId` instances from Java. Using the `CountryId` constructor from Java works fine for me:\r\n\r\n```java\r\nCountryId country = new CountryId(UUID.randomUUID());\r\n```\r\nBut I am not sure how this is possible, given that the generated constructor is private in the bytecode...","title":"Using Kotlin Value classes in Java","body":"<blockquote>\n<p>Is Java really this awful with Value classes?</p>\n</blockquote>\n<p>Value classes are a Kotlin feature. They are basically sugar to allow more type safety (in Kotlin!) while reducing allocations by unboxing the inner value. The fact that the <code>CountryId</code> class exists in the bytecode is mostly because some instances need to be boxed in some cases (when used as a generic type, or a supertype, or a nullable type - in short, somewhat like primitives). But technically it's not really meant to be used from the Java side of things.</p>\n<blockquote>\n<p>In java, I can call IdentifierFactory.Companion.buildString() and it will work, but IdentifierFactory.Companion.buildCountry() doesn't even exist.</p>\n</blockquote>\n<p>The functions with value classes in their signature are intentionally not visible from Java by default, in order to avoid strange issues with overloads in Java. This is accomplished via <a href=\"https://kotlinlang.org/docs/inline-classes.html#mangling\" rel=\"noreferrer\">name mangling</a>. You can override the name for the Java method by using the <code>@JvmName</code> annotation on the factory function on Kotlin side to make it visible from Java:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JvmName(&quot;buildCountryUUID&quot;) // prevents mangling due to value class\nfun buildCountry(): CountryId {\n    return CountryId.empty()\n}\n</code></pre>\n<p>Then it is accessible on Java side and returns a <code>UUID</code> (the inlined value):</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID uuid = IdentifierFactory.Companion.buildCountryUUID();\n</code></pre>\n<blockquote>\n<p>ideally, I'd just like the constructor to work and not use the factory</p>\n</blockquote>\n<p>I realized from the comments that you were after creating actual <code>CountryId</code> instances from Java. Using the <code>CountryId</code> constructor from Java works fine for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CountryId country = new CountryId(UUID.randomUUID());\n</code></pre>\n<p>But I am not sure how this is possible, given that the generated constructor is private in the bytecode...</p>\n"}],"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2023,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1696721527,"creation_date":1636580432,"question_id":69920555,"body_markdown":"We have two projects, and the kotlin one publishes a package that&#39;s imported by java.\r\n\r\nIn kotlin, is a value class like \r\n\r\n    @JvmInline\r\n    value class CountryId(private val id: UUID) {\r\n        override fun toString(): String = id.toString()\r\n        companion object { fun empty(): CountryId = CountryId(EMPTY_UUID) }\r\n    }\r\n\r\nIn java, we can&#39;t see a constructor, or actually instantiate this class. I have also tried creating a factory in Kotlin to create them\r\n\r\n\r\n\tclass IdentifierFactory \r\n\t{\r\n\t\tcompanion object {\r\n\t\t\tfun buildString(): String {\r\n\t\t\t\treturn &quot;hello&quot;\r\n\t\t\t}\r\n\t\r\n\t\t\tfun buildCountry(): CountryId {\r\n\t\t\t\treturn CountryId.empty()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIn java, I can call `IdentifierFactory.Companion.buildString()` and it will work, but `IdentifierFactory.Companion.buildCountry()` doesn&#39;t even exist.\r\n\r\nIs Java really this awful with Value classes?\r\n\r\nps. I&#39;ve attempted with @JvmStatic as well, with no success\r\n\r\npps. If I decompile the kotlin bytecode from the java side, and get a CountryId.decompiled.java, this is what the constructor looks like\r\n\r\n    // $FF: synthetic method\r\n    private CountryId(UUID id) {\r\n        Intrinsics.checkNotNullParameter(id, &quot;id&quot;);\r\n        super();\r\n        this.id = id;\r\n    }\r\n\r\nppps. Kotlin 1.5.21 and Java 12","title":"Using Kotlin Value classes in Java","body":"<p>We have two projects, and the kotlin one publishes a package that's imported by java.</p>\n<p>In kotlin, is a value class like</p>\n<pre><code>@JvmInline\nvalue class CountryId(private val id: UUID) {\n    override fun toString(): String = id.toString()\n    companion object { fun empty(): CountryId = CountryId(EMPTY_UUID) }\n}\n</code></pre>\n<p>In java, we can't see a constructor, or actually instantiate this class. I have also tried creating a factory in Kotlin to create them</p>\n<pre><code>class IdentifierFactory \n{\n    companion object {\n        fun buildString(): String {\n            return &quot;hello&quot;\n        }\n\n        fun buildCountry(): CountryId {\n            return CountryId.empty()\n        }\n    }\n}\n</code></pre>\n<p>In java, I can call <code>IdentifierFactory.Companion.buildString()</code> and it will work, but <code>IdentifierFactory.Companion.buildCountry()</code> doesn't even exist.</p>\n<p>Is Java really this awful with Value classes?</p>\n<p>ps. I've attempted with @JvmStatic as well, with no success</p>\n<p>pps. If I decompile the kotlin bytecode from the java side, and get a CountryId.decompiled.java, this is what the constructor looks like</p>\n<pre><code>// $FF: synthetic method\nprivate CountryId(UUID id) {\n    Intrinsics.checkNotNullParameter(id, &quot;id&quot;);\n    super();\n    this.id = id;\n}\n</code></pre>\n<p>ppps. Kotlin 1.5.21 and Java 12</p>\n"},{"tags":["java","spring-boot","google-api","dialogflow-es","google-oauth"],"comments":[{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":0,"creation_date":1569274438,"post_id":58070342,"comment_id":102536535,"body_markdown":"Is this working in local? Sounds like your server firewall stopping egress traffic","body":"Is this working in local? Sounds like your server firewall stopping egress traffic"},{"owner":{"account_id":8195161,"reputation":542,"user_id":6168264,"accept_rate":40,"display_name":"xiao"},"score":0,"creation_date":1569274907,"post_id":58070342,"comment_id":102536645,"body_markdown":"Yes I run it in local. I just turn off the firewall but it still throws that error :(","body":"Yes I run it in local. I just turn off the firewall but it still throws that error :("},{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":1,"creation_date":1569275337,"post_id":58070342,"comment_id":102536743,"body_markdown":"`curl -I &quot;https://oauth2.googleapis.com/token&quot;` see if this works in your server","body":"<code>curl -I &quot;https:&#47;&#47;oauth2.googleapis.com&#47;token&quot;</code> see if this works in your server"},{"owner":{"account_id":8195161,"reputation":542,"user_id":6168264,"accept_rate":40,"display_name":"xiao"},"score":0,"creation_date":1569287341,"post_id":58070342,"comment_id":102539205,"body_markdown":"em... &quot;Failed to connect to oauth2.googleapis.com port 443: Timed out&quot;","body":"em... &quot;Failed to connect to oauth2.googleapis.com port 443: Timed out&quot;"},{"owner":{"account_id":8195161,"reputation":542,"user_id":6168264,"accept_rate":40,"display_name":"xiao"},"score":0,"creation_date":1569295770,"post_id":58070342,"comment_id":102540577,"body_markdown":"but if I use postman to generate the access token in OAuth2 with the access token url `&quot;https://oauth2.googleapis.com/token&quot;` , it works. what are the differences between them","body":"but if I use postman to generate the access token in OAuth2 with the access token url <code>&quot;https:&#47;&#47;oauth2.googleapis.com&#47;token&quot;</code> , it works. what are the differences between them"},{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":0,"creation_date":1569333230,"post_id":58070342,"comment_id":102558042,"body_markdown":"Your local postman has good access to outside world network, but your server still behind firewall, not sure you have ufw or some network level firewall from your cloud/server provider.","body":"Your local postman has good access to outside world network, but your server still behind firewall, not sure you have ufw or some network level firewall from your cloud/server provider."}],"answers":[{"tags":[],"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681418294,"creation_date":1681418294,"answer_id":76009652,"question_id":58070342,"body_markdown":"This was internet connectivity issue in my case. I routed the request via an HTTP PROXY and it worked fine. JVM options for java:\r\n\r\n    -Dhttps.proxyHost=10.128.0.3\r\n    -Dhttps.proxyPort=3128\r\n\r\n","title":"google OAuth2 getting access token for service account: connect timed out","body":"<p>This was internet connectivity issue in my case. I routed the request via an HTTP PROXY and it worked fine. JVM options for java:</p>\n<pre><code>-Dhttps.proxyHost=10.128.0.3\n-Dhttps.proxyPort=3128\n</code></pre>\n"}],"owner":{"account_id":8195161,"reputation":542,"user_id":6168264,"accept_rate":40,"display_name":"xiao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8614,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696719820,"creation_date":1569273634,"question_id":58070342,"body_markdown":"I&#39;m working on a server-to-server interactions with Google DialogFlow APIs on behalf of the service account by using google OAuth2.\r\nBut I get the error when try to generate the access token(credentials.refreshIfExpired()): \r\n\r\n`java.io.IOException: Error getting access token for service account: connect timed out`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhere the codes:\r\n\r\n    \r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(System.getenv(&quot;GOOGLE_APPLICATION_CREDENTIALS&quot;)));\r\n\r\n        if (credentials.createScopedRequired()) {\r\n            credentials = credentials.createScoped(Collections.singletonList(&quot;https://www.googleapis.com/auth/dialogflow&quot;));\r\n        }\r\n\r\n        credentials.refreshIfExpired();\r\n        AccessToken token = credentials.getAccessToken();\r\n\r\n        System.out.println(token.getTokenValue());\r\n\r\nI have tried to find the solution in many ways, and someone said that it may cause of the synchronization between my server time and google&#39;s time.\r\n\r\nThen I set default timeZone in GMT\r\n\r\n    @SpringBootApplication\r\n    public class DialogFlowDemoApplication {\r\n    \r\n        @PostConstruct\r\n        public void init(){\r\n            TimeZone.setDefault(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n            System.out.println(&quot;Spring boot application running in GMT timezone :&quot;+new Date());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            SpringApplication.run(DialogFlowDemoApplication.class, args);\r\n    \r\n        }\r\n    }\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut it doesn&#39;t help, that really drives me crazy.\r\n\r\nmy dependencies as follow:\r\n\r\n    &lt;!--start google dependencies--&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-cloud-dialogflow&lt;/artifactId&gt;\r\n        &lt;version&gt;0.108.0-alpha&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n        &lt;version&gt;1.30.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n        &lt;version&gt;1.90.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n        &lt;version&gt;1.30.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--end of google dependencies--&gt; \r\n\r\n**Please help, thanks!**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J9bhZ.png\r\n  [2]: https://i.stack.imgur.com/BynPv.png","title":"google OAuth2 getting access token for service account: connect timed out","body":"<p>I'm working on a server-to-server interactions with Google DialogFlow APIs on behalf of the service account by using google OAuth2.\nBut I get the error when try to generate the access token(credentials.refreshIfExpired()): </p>\n\n<p><code>java.io.IOException: Error getting access token for service account: connect timed out</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/J9bhZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J9bhZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>here the codes:</p>\n\n<pre><code>    GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(System.getenv(\"GOOGLE_APPLICATION_CREDENTIALS\")));\n\n    if (credentials.createScopedRequired()) {\n        credentials = credentials.createScoped(Collections.singletonList(\"https://www.googleapis.com/auth/dialogflow\"));\n    }\n\n    credentials.refreshIfExpired();\n    AccessToken token = credentials.getAccessToken();\n\n    System.out.println(token.getTokenValue());\n</code></pre>\n\n<p>I have tried to find the solution in many ways, and someone said that it may cause of the synchronization between my server time and google's time.</p>\n\n<p>Then I set default timeZone in GMT</p>\n\n<pre><code>@SpringBootApplication\npublic class DialogFlowDemoApplication {\n\n    @PostConstruct\n    public void init(){\n        TimeZone.setDefault(TimeZone.getTimeZone(\"GMT\"));\n        System.out.println(\"Spring boot application running in GMT timezone :\"+new Date());\n    }\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(DialogFlowDemoApplication.class, args);\n\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BynPv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BynPv.png\" alt=\"enter image description here\"></a></p>\n\n<p>But it doesn't help, that really drives me crazy.</p>\n\n<p>my dependencies as follow:</p>\n\n<pre><code>&lt;!--start google dependencies--&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-dialogflow&lt;/artifactId&gt;\n    &lt;version&gt;0.108.0-alpha&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n    &lt;version&gt;1.30.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n    &lt;version&gt;1.90.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;1.30.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!--end of google dependencies--&gt; \n</code></pre>\n\n<p><strong>Please help, thanks!</strong></p>\n"},{"tags":["java","kotlin","concurrency","operating-system"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695496163,"post_id":77161852,"comment_id":136033305,"body_markdown":"Edit the title and body of your Question to get a narrow focus. An open-ended discussion of concurrency theory would be off-topic for Stack Overflow.","body":"Edit the title and body of your Question to get a narrow focus. An open-ended discussion of concurrency theory would be off-topic for Stack Overflow."},{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1695536481,"post_id":77161852,"comment_id":136035884,"body_markdown":"Although this question would make you think lots of subject, but I still think that it doesn&#39;t need to be fixed, &#39;cause it actually can be answered only with &#39;yes or no&#39; with any additional personal opinion or even without no opinion.","body":"Although this question would make you think lots of subject, but I still think that it doesn&#39;t need to be fixed, &#39;cause it actually can be answered only with &#39;yes or no&#39; with any additional personal opinion or even without no opinion."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696255222,"post_id":77161852,"comment_id":136125982,"body_markdown":"@chl The question isn&#39;t off topic because it&#39;s opinion based, it&#39;s off topic because it&#39;s too broad. StackOverflow is for specific coding questions, not for open-ended discussions.","body":"@chl The question isn&#39;t off topic because it&#39;s opinion based, it&#39;s off topic because it&#39;s too broad. StackOverflow is for specific coding questions, not for open-ended discussions."}],"answers":[{"comments":[{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1697470758,"post_id":77251700,"comment_id":136280909,"body_markdown":"sorry for late acception. Things you described is exactly same with my personal idea, leading me satisfied. and `block` in point 2 means the former one. I chose wrong words, but was trying to say &quot;An execution flow can be stopped and give away resource(=thread) to another execution flow e.g., `yield` in kotlin coroutine.&quot;","body":"sorry for late acception. Things you described is exactly same with my personal idea, leading me satisfied. and <code>block</code> in point 2 means the former one. I chose wrong words, but was trying to say &quot;An execution flow can be stopped and give away resource(=thread) to another execution flow e.g., <code>yield</code> in kotlin coroutine.&quot;"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697472873,"post_id":77251700,"comment_id":136281312,"body_markdown":"Yes, and it even has the same name. Internally, virtual threads use an internal class [`Continuation`](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/jdk/internal/vm/Continuation.java) where the method responsible for unmounting the platform thread is called `yield`.","body":"Yes, and it even has the same name. Internally, virtual threads use an internal class <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/jdk/internal/vm/Continuation.java\" rel=\"nofollow noreferrer\"><code>Continuation</code></a> where the method responsible for unmounting the platform thread is called <code>yield</code>."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696718214,"creation_date":1696717498,"answer_id":77251700,"question_id":77161852,"body_markdown":"&gt; Is there anything incorrect in the list above? Please point out any misunderstandings if they exist.\r\n\r\nYes, I would agree with your list (except maybe 2. where I am not entirely sure whether you refer to the operation needing to be put on hold or whether you are talking about actually blocking the (platform) thread when talking about &quot;blocking&quot;).\r\n\r\nThe idea behind these constructs is that threads are a (somewhat) valuable resource. While you want to handle a lot of requests (or other operations) concurrently, you can&#39;t have as many threads as requests/tasks/operations you want to perform. So the idea behind these concepts is to get a few threads doing work and if some request/task/operation requires performing some I/O or blocking operation, some other request/task/operation can use the thread in the meantime. \r\nThis way, you can increase CPU utilization i.e. you are not wasting time where the CPU is idle.\r\n\r\n&gt; Elements like Virtual Threads, Tasks, and Events are used to process code but may potentially become blocked. \r\n\r\nWhat these tools do is allow you to reuse threads while some operation would need to wait for something (e.g. I/O). As a programmer, you should make sure that you are not actually doing something blocking the (platform) thread.\r\n\r\n## The difference \r\n\r\n&gt; If everything in the list is accurate, is the only difference between these models related to how they are used? (e.g., their APIs, concepts, or mental models) \r\n\r\nWhat is different between these approaches is their implementation and how they can be used.\r\n\r\n### virtual threads \r\n\r\nVirtual Threads are implemented in the JVM. You can just write normal code and the virtual threads will automatically yield/unmount the carrier thread and let other threads continue when performing a blocking operation. In contrast to other methods, this allows you to actually use blocking operations like `Socket#accept` while maintaining the said concurrency benefits (though it should be noted that there are still some cases where you might not get the performance you want, e.g. in case of pinning _for too long_ or performing operations like file I/O where it might need to extend the thread pool if it can&#39;t be done asynchronously (internally).\r\n\r\nWith virtual threads, you can use stack traces and all the tooling like you would with normal blocking code without using virtual threads.\r\n\r\nTo summarize, virtual threads take _existing_ blocking operations and let other threads do work in the meantime.\r\n\r\n### (Java) reactive frameworks\r\n\r\nReactive frameworks in Java are not written inside the JVM, they are written on top of it. If you are using reactive frameworks, you shouldn&#39;t use any blocking operations (if possible). Instead, you should use some operation that is compatible with the framework and register a callback. The framework then manages what is executed when.\r\n\r\n### Kotlin coroutines\r\n\r\nKotlin coroutines internally work like reactive frameworks (or it will use a reactive framework internally) but they have language support.\r\n\r\nSo, Kotlin coroutines are also built on top of the JVM and not part of the JVM so you shouldn&#39;t call any actual blocking operations on them. However, you can certainly call `suspend` functions and wait for them to finish and Kotlin coroutines (together with the reactive framework) will take of running your code at the right time without you needing to register callbacks by yourself. For example, you should use `delay()` (which can handle that) instead of `Thread.sleep()`.\r\n\r\nEssentially, Kotlin coroutines provide an abstraction over reactive frameworks that is part of the language. You should still not call bllcking operations but you don&#39;t have to deal with having all of these callbacks/lambdas.  \r\nHowever, that does limit you to using Kotlin.","title":"Is there any disparity in fundamental concepts among modern concurrency models","body":"<blockquote>\n<p>Is there anything incorrect in the list above? Please point out any misunderstandings if they exist.</p>\n</blockquote>\n<p>Yes, I would agree with your list (except maybe 2. where I am not entirely sure whether you refer to the operation needing to be put on hold or whether you are talking about actually blocking the (platform) thread when talking about &quot;blocking&quot;).</p>\n<p>The idea behind these constructs is that threads are a (somewhat) valuable resource. While you want to handle a lot of requests (or other operations) concurrently, you can't have as many threads as requests/tasks/operations you want to perform. So the idea behind these concepts is to get a few threads doing work and if some request/task/operation requires performing some I/O or blocking operation, some other request/task/operation can use the thread in the meantime.\nThis way, you can increase CPU utilization i.e. you are not wasting time where the CPU is idle.</p>\n<blockquote>\n<p>Elements like Virtual Threads, Tasks, and Events are used to process code but may potentially become blocked.</p>\n</blockquote>\n<p>What these tools do is allow you to reuse threads while some operation would need to wait for something (e.g. I/O). As a programmer, you should make sure that you are not actually doing something blocking the (platform) thread.</p>\n<h2>The difference</h2>\n<blockquote>\n<p>If everything in the list is accurate, is the only difference between these models related to how they are used? (e.g., their APIs, concepts, or mental models)</p>\n</blockquote>\n<p>What is different between these approaches is their implementation and how they can be used.</p>\n<h3>virtual threads</h3>\n<p>Virtual Threads are implemented in the JVM. You can just write normal code and the virtual threads will automatically yield/unmount the carrier thread and let other threads continue when performing a blocking operation. In contrast to other methods, this allows you to actually use blocking operations like <code>Socket#accept</code> while maintaining the said concurrency benefits (though it should be noted that there are still some cases where you might not get the performance you want, e.g. in case of pinning <em>for too long</em> or performing operations like file I/O where it might need to extend the thread pool if it can't be done asynchronously (internally).</p>\n<p>With virtual threads, you can use stack traces and all the tooling like you would with normal blocking code without using virtual threads.</p>\n<p>To summarize, virtual threads take <em>existing</em> blocking operations and let other threads do work in the meantime.</p>\n<h3>(Java) reactive frameworks</h3>\n<p>Reactive frameworks in Java are not written inside the JVM, they are written on top of it. If you are using reactive frameworks, you shouldn't use any blocking operations (if possible). Instead, you should use some operation that is compatible with the framework and register a callback. The framework then manages what is executed when.</p>\n<h3>Kotlin coroutines</h3>\n<p>Kotlin coroutines internally work like reactive frameworks (or it will use a reactive framework internally) but they have language support.</p>\n<p>So, Kotlin coroutines are also built on top of the JVM and not part of the JVM so you shouldn't call any actual blocking operations on them. However, you can certainly call <code>suspend</code> functions and wait for them to finish and Kotlin coroutines (together with the reactive framework) will take of running your code at the right time without you needing to register callbacks by yourself. For example, you should use <code>delay()</code> (which can handle that) instead of <code>Thread.sleep()</code>.</p>\n<p>Essentially, Kotlin coroutines provide an abstraction over reactive frameworks that is part of the language. You should still not call bllcking operations but you don't have to deal with having all of these callbacks/lambdas.<br />\nHowever, that does limit you to using Kotlin.</p>\n"}],"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":77251700,"answer_count":1,"score":-2,"last_activity_date":1696718214,"creation_date":1695449262,"question_id":77161852,"body_markdown":"I&#39;ve recently been studying various modern concurrency models, such as Virtual Thread (JDK 21), Kotlin coroutines, the Event Loop within Spring Webflux (which may refer to Netty), and related topics like Java NIO or multiplexing with &#39;epoll&#39;. However, as I delved into these, I&#39;ve noticed that they seem quite similar from the following perspectives (please excuse any mixed-up keywords or terminology, as I&#39;m still a novice):\r\n\r\n1. They all share the same goal of achieving high concurrency with a limited number of threads.\r\n2. Elements like Virtual Threads, Tasks, and Events are used to process code but may potentially become blocked.\r\n3. If blocking occurs during execution, the executor (or thread) defers its current task and proceeds with another task.\r\n4. The blocked task can resume execution after an I/O operation.\r\n\r\nSo, here are my questions:\r\n\r\n1. Is there anything incorrect in the list above? Please point out any misunderstandings if they exist.\r\n2. If everything in the list is accurate, is the only difference between these models related to how they are used? (e.g., their APIs, concepts, or mental models)\r\n\r\nI realize that these questions may sound ambiguous, basic and also dumb, but I&#39;d greatly appreciate any insights you can provide. Thank you in advance.","title":"Is there any disparity in fundamental concepts among modern concurrency models","body":"<p>I've recently been studying various modern concurrency models, such as Virtual Thread (JDK 21), Kotlin coroutines, the Event Loop within Spring Webflux (which may refer to Netty), and related topics like Java NIO or multiplexing with 'epoll'. However, as I delved into these, I've noticed that they seem quite similar from the following perspectives (please excuse any mixed-up keywords or terminology, as I'm still a novice):</p>\n<ol>\n<li>They all share the same goal of achieving high concurrency with a limited number of threads.</li>\n<li>Elements like Virtual Threads, Tasks, and Events are used to process code but may potentially become blocked.</li>\n<li>If blocking occurs during execution, the executor (or thread) defers its current task and proceeds with another task.</li>\n<li>The blocked task can resume execution after an I/O operation.</li>\n</ol>\n<p>So, here are my questions:</p>\n<ol>\n<li>Is there anything incorrect in the list above? Please point out any misunderstandings if they exist.</li>\n<li>If everything in the list is accurate, is the only difference between these models related to how they are used? (e.g., their APIs, concepts, or mental models)</li>\n</ol>\n<p>I realize that these questions may sound ambiguous, basic and also dumb, but I'd greatly appreciate any insights you can provide. Thank you in advance.</p>\n"},{"tags":["java","spring","spring-boot","microservices","spring-cloud-config"],"answers":[{"tags":[],"owner":{"account_id":19358745,"reputation":386,"user_id":14898689,"display_name":"henry sneed"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630082377,"creation_date":1630082377,"answer_id":68956813,"question_id":68955538,"body_markdown":"As documented [here][1], \r\n\r\n&gt; If you use the bootstrap flag, the config server needs to have its\r\n&gt; name and repository URI configured in bootstrap.yml.\r\n\r\nYou did not post your bootstrap files so it is unclear if you have defined them. If you have not, that could be the source of your problem since you have set spring.cloud.config.server.bootstrap to true. In your bootstrap.properties file within the resources folder for your config server, you will need to have the following properties defined:\r\n\r\n**config server bootstrap.properties**\r\n```\r\nspring:\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          uri: https://github.com/TEK-Leads/Config-Properties.git\r\n          clone-on-start: true\r\n        bootstrap: true\r\n      enabled: true\r\n   \r\n  application:\r\n    name: Config-Server\r\n```\r\n**config client bootstrap.properties**\r\n```\r\nspring:\r\n  application:\r\n    name: client-config\r\n    \r\n  cloud:\r\n    config:\r\n      uri: http://localhost:9090\r\n  config:\r\n    activate:\r\n      on-profile:\r\n        active:prod\r\n```\r\n\r\nIt also might be worth noting that bootstrap context initialization is deprecated since Spring Boot 2.4 so using bootstrapping is no longer required for this setup. More information on that can be found at https://docs.spring.io/spring-cloud-config/docs/current/reference/html/.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-config/multi/multi__embedding_the_config_server.html","title":"If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration","body":"<p>As documented <a href=\"https://cloud.spring.io/spring-cloud-config/multi/multi__embedding_the_config_server.html\" rel=\"nofollow noreferrer\">here</a>,</p>\n<blockquote>\n<p>If you use the bootstrap flag, the config server needs to have its\nname and repository URI configured in bootstrap.yml.</p>\n</blockquote>\n<p>You did not post your bootstrap files so it is unclear if you have defined them. If you have not, that could be the source of your problem since you have set spring.cloud.config.server.bootstrap to true. In your bootstrap.properties file within the resources folder for your config server, you will need to have the following properties defined:</p>\n<p><strong>config server bootstrap.properties</strong></p>\n<pre><code>spring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/TEK-Leads/Config-Properties.git\n          clone-on-start: true\n        bootstrap: true\n      enabled: true\n   \n  application:\n    name: Config-Server\n</code></pre>\n<p><strong>config client bootstrap.properties</strong></p>\n<pre><code>spring:\n  application:\n    name: client-config\n    \n  cloud:\n    config:\n      uri: http://localhost:9090\n  config:\n    activate:\n      on-profile:\n        active:prod\n</code></pre>\n<p>It also might be worth noting that bootstrap context initialization is deprecated since Spring Boot 2.4 so using bootstrapping is no longer required for this setup. More information on that can be found at <a href=\"https://docs.spring.io/spring-cloud-config/docs/current/reference/html/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-config/docs/current/reference/html/</a>.</p>\n"},{"tags":[],"owner":{"account_id":2327403,"reputation":573,"user_id":2041552,"accept_rate":57,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1639030869,"creation_date":1639030869,"answer_id":70285512,"question_id":68955538,"body_markdown":"Try to add the dependency in the `pom.xml` file:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n&lt;/dependency&gt;","title":"If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration","body":"<p>Try to add the dependency in the <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8027063,"reputation":89,"user_id":6053575,"display_name":"Uchiha Suryajit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667211417,"creation_date":1667211417,"answer_id":74261784,"question_id":68955538,"body_markdown":"If nothing is working for you, then I would like you to try removing the below xml tag from your pom.xml in your config-server.\r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\nAlso, don&#39;t forget you just need only one dependency to get started with your Spring Cloud Config Server.\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n  ","title":"If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration","body":"<p>If nothing is working for you, then I would like you to try removing the below xml tag from your pom.xml in your config-server.</p>\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n<p>Also, don't forget you just need only one dependency to get started with your Spring Cloud Config Server.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696717570,"creation_date":1630076231,"question_id":68955538,"body_markdown":"**Problem :** how to get the data in the location **https://github.com/TEK-Leads/Config-Properties.git**\r\n\r\nWhen I try to run this application, it does not showing any result, It only shows the default pass result (**see.** MessageController). or ConfigClient side logs showing\r\nthis type of massage.\r\n\r\n**Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused; nested exception is java.net.ConnectException: Connection refused**\r\n\r\nWhen changing the **config-Server** side **application.yml** file to **bootstrap.yml**, when throwing the exception in below.\r\n\r\n    If you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\r\n\r\n\r\n**Config Server Part**\r\n\r\n\r\n----------\r\n\r\n\r\n**Pom.xml**\r\n\r\n    \t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\r\n**application.yml**\r\n\r\n    server:\r\n      port: 9090\r\n\r\n    spring:\r\n      cloud:\r\n        config:\r\n          server:\r\n            git:\r\n              uri: https://github.com/TEK-Leads/Config-Properties.git\r\n              clone-on-start: true\r\n            bootstrap: true\r\n          enabled: true\r\n       \r\n      application:\r\n        name: Config-Server\r\n    \r\n    management:\r\n      security:\r\n        enabled: false\r\n\r\n\r\n**ConfigurationServerApp.class**\r\n\r\n    package com.ramgovindhare.configserverapp;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.config.server.EnableConfigServer;\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigServer\r\n    public class ConfigServerAppApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ConfigServerAppApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**Config Client Part**\r\n\r\n\r\n----------\r\n\r\n**Pom.xml**\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n**application.yml**\r\n\r\n  \r\n\r\n    spring:\r\n      application:\r\n        name: client-config\r\n        \r\n      cloud:\r\n        config:\r\n          uri: http://localhost:9090\r\n      config:\r\n        activate:\r\n          on-profile:\r\n            active:prod\r\n                \r\n    management:\r\n      security:\r\n        enabled:false\r\n      \r\n**ConfigClient.class**\r\n\r\n        package com.ramgovindhare.configserverclientapp.contorller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.cloud.context.config.annotation.RefreshScope;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RefreshScope\r\n    @RestController\r\n    public class MessageController {\r\n    \t\r\n    \t@Value(&quot;${msg:Config Server is not working. Please check..}&quot;)\r\n    \tprivate String msg;\r\n    \t\r\n    \t@GetMapping(&quot;/msg&quot;)\r\n    \tpublic String getMsg() {\r\n    \t\treturn this.msg;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration","body":"<p><strong>Problem :</strong> how to get the data in the location <strong><a href=\"https://github.com/TEK-Leads/Config-Properties.git\" rel=\"nofollow noreferrer\">https://github.com/TEK-Leads/Config-Properties.git</a></strong></p>\n<p>When I try to run this application, it does not showing any result, It only shows the default pass result (<strong>see.</strong> MessageController). or ConfigClient side logs showing\nthis type of massage.</p>\n<p><strong>Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused; nested exception is java.net.ConnectException: Connection refused</strong></p>\n<p>When changing the <strong>config-Server</strong> side <strong>application.yml</strong> file to <strong>bootstrap.yml</strong>, when throwing the exception in below.</p>\n<pre><code>If you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\n</code></pre>\n<p><strong>Config Server Part</strong></p>\n<hr />\n<p><strong>Pom.xml</strong></p>\n<pre><code>    &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>server:\n  port: 9090\n\nspring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/TEK-Leads/Config-Properties.git\n          clone-on-start: true\n        bootstrap: true\n      enabled: true\n   \n  application:\n    name: Config-Server\n\nmanagement:\n  security:\n    enabled: false\n</code></pre>\n<p><strong>ConfigurationServerApp.class</strong></p>\n<pre><code>package com.ramgovindhare.configserverapp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.config.server.EnableConfigServer;\n\n@SpringBootApplication\n@EnableConfigServer\npublic class ConfigServerAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ConfigServerAppApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>Config Client Part</strong></p>\n<hr />\n<p><strong>Pom.xml</strong></p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>spring:\n  application:\n    name: client-config\n    \n  cloud:\n    config:\n      uri: http://localhost:9090\n  config:\n    activate:\n      on-profile:\n        active:prod\n            \nmanagement:\n  security:\n    enabled:false\n  \n</code></pre>\n<p><strong>ConfigClient.class</strong></p>\n<pre><code>    package com.ramgovindhare.configserverclientapp.contorller;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RefreshScope\n@RestController\npublic class MessageController {\n    \n    @Value(&quot;${msg:Config Server is not working. Please check..}&quot;)\n    private String msg;\n    \n    @GetMapping(&quot;/msg&quot;)\n    public String getMsg() {\n        return this.msg;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","ssl"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1504135831,"post_id":45971094,"comment_id":78901389,"body_markdown":"What is &quot;Google&#39;s HTTP Client for Java&quot;? Do you mean the `HttpClient` API that is in the Android SDK (and has been discontinued for some time)? Do you mean an independent library offering a more-current version of Apache&#39;s HttpClient classes? Do you mean something else? Regardless, on Android 7.0+, you can use network security configuration to teach Android about your self-signed certificate: https://developer.android.com/training/articles/security-config.html","body":"What is &quot;Google&#39;s HTTP Client for Java&quot;? Do you mean the <code>HttpClient</code> API that is in the Android SDK (and has been discontinued for some time)? Do you mean an independent library offering a more-current version of Apache&#39;s HttpClient classes? Do you mean something else? Regardless, on Android 7.0+, you can use network security configuration to teach Android about your self-signed certificate: <a href=\"https://developer.android.com/training/articles/security-config.html\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/security-config.html</a>"},{"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"score":0,"creation_date":1504137274,"post_id":45971094,"comment_id":78901663,"body_markdown":"I&#39;m using com.google.api.client.http.* found at https://developers.google.com/api-client-library/java/","body":"I&#39;m using com.google.api.client.http.* found at <a href=\"https://developers.google.com/api-client-library/java/\" rel=\"nofollow noreferrer\">developers.google.com/api-client-library/java</a>"},{"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"score":0,"creation_date":1504137404,"post_id":45971094,"comment_id":78901693,"body_markdown":"And my QA testers are going to be testing Android 5.0+ so I won&#39;t be able to use the 7.0+ solution, but I&#39;ll definitely read through that for future knowledge!","body":"And my QA testers are going to be testing Android 5.0+ so I won&#39;t be able to use the 7.0+ solution, but I&#39;ll definitely read through that for future knowledge!"},{"owner":{"account_id":1867552,"reputation":838,"user_id":1690718,"accept_rate":25,"display_name":"mega-crazy"},"score":3,"creation_date":1557852473,"post_id":45971094,"comment_id":98901172,"body_markdown":"I know this is a bit late, but they have a method now to not validate certs. so something like this: `NetHttpTransport.Builder builder = new NetHttpTransport.Builder();\n        builder.doNotValidateCertificate();\n        builder.setProxy(proxy);\n        requestFactory = builder.build().createRequestFactory();`","body":"I know this is a bit late, but they have a method now to not validate certs. so something like this: <code>NetHttpTransport.Builder builder = new NetHttpTransport.Builder();         builder.doNotValidateCertificate();         builder.setProxy(proxy);         requestFactory = builder.build().createRequestFactory();</code>"}],"answers":[{"tags":[],"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504143296,"creation_date":1504143296,"answer_id":45971951,"question_id":45971094,"body_markdown":"I spent some time crawling through the javadocs for Google&#39;s HttpTransport and found my answer indirectly. \r\n\r\nGoogle provides two implementations of HttpTransport: NetHttpTransport and ApacheHttpTransport. The former uses Java&#39;s basic HttpURLConnection to do all of the communication and is the preferred choice. The latter uses an Apache httpclient under the covers and the Google HttpTransport docs say to use the Apache one if you need advanced configuration parameters that aren&#39;t available in the basic NetHttpTransport.\r\n\r\nInstead of initializing my transport constant like this:\r\n\r\n    static final HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\r\n\r\nI&#39;m using the ApacheHttpTransport Builder which gives an option to skip the certificate validation.\r\n\r\n    ... new ApacheHttpTransport.Builder().doNotValidateCertificate().build();\r\n\r\nNOTE: For anyone coming to this answer later, this is A BAD IDEA. I&#39;m only doing this in a controlled QA environment and for a short period of time while we get our properly signed SSL certificate in place. Once our signed cert is in place, then I&#39;ll be going back to the original code above and requiring a properly signed certificate for all of my app&#39;s api communication. \r\n\r\nDO NOT DO THIS IN PRODUCTION CODE. :) \r\n\r\n\r\n\r\n","title":"Google Http Client for Java: Ignore java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>I spent some time crawling through the javadocs for Google's HttpTransport and found my answer indirectly. </p>\n\n<p>Google provides two implementations of HttpTransport: NetHttpTransport and ApacheHttpTransport. The former uses Java's basic HttpURLConnection to do all of the communication and is the preferred choice. The latter uses an Apache httpclient under the covers and the Google HttpTransport docs say to use the Apache one if you need advanced configuration parameters that aren't available in the basic NetHttpTransport.</p>\n\n<p>Instead of initializing my transport constant like this:</p>\n\n<pre><code>static final HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\n</code></pre>\n\n<p>I'm using the ApacheHttpTransport Builder which gives an option to skip the certificate validation.</p>\n\n<pre><code>... new ApacheHttpTransport.Builder().doNotValidateCertificate().build();\n</code></pre>\n\n<p>NOTE: For anyone coming to this answer later, this is A BAD IDEA. I'm only doing this in a controlled QA environment and for a short period of time while we get our properly signed SSL certificate in place. Once our signed cert is in place, then I'll be going back to the original code above and requiring a properly signed certificate for all of my app's api communication. </p>\n\n<p>DO NOT DO THIS IN PRODUCTION CODE. :) </p>\n"}],"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1504143946,"answer_count":1,"score":2,"last_activity_date":1696716452,"creation_date":1504135474,"question_id":45971094,"body_markdown":"I&#39;m using [Google&#39;s HTTP Client for Java][1] in my Android app. My server is temporarily using a self-signed certificate while we do QA testing. We&#39;ll have a properly signed cert when we release, but for now I just need to ignore the... \r\n\r\n    CertPathValidatorException: Trust anchor for certification path not found.\r\n\r\n... error message and tell the API to continue processing the http request/response.\r\n\r\nI can&#39;t find anything in Google&#39;s documentation on where I can disable this check. I found several Stack Overflow posts for other APIs, but not the Google HTTP Client.\r\n\r\n    import com.google.api.client.http.GenericUrl;\r\n    import com.google.api.client.http.HttpRequest;\r\n    import com.google.api.client.http.HttpRequestFactory;\r\n    import com.google.api.client.http.HttpRequestInitializer;\r\n    import com.google.api.client.http.HttpResponse;\r\n    import com.google.api.client.http.HttpTransport;\r\n    import com.google.api.client.http.UrlEncodedContent;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.JsonFactory;\r\n    import com.google.api.client.json.JsonObjectParser;\r\n    import com.google.api.client.json.jackson2.JacksonFactory;\r\n    import com.google.api.client.util.Maps;\r\n    import com.google.api.client.util.escape.CharEscapers;\r\n\r\n...\r\n\r\n    static final HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\r\n    HttpRequestFactory requestFactory =\r\n    \t\t\t\tHTTP_TRANSPORT.createRequestFactory(new HttpRequestInitializer() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void initialize(HttpRequest request) {\r\n    \t\t\t\t\t\trequest.setParser(new JsonObjectParser(JSON_FACTORY));\r\n    \t\t\t\t\t\trequest.setConnectTimeout(defaultTimeoutSeconds()*1000);\r\n    \t\t\t\t\t\trequest.setReadTimeout(defaultTimeoutSeconds()*1000);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n\r\n\r\n  [1]: https://developers.google.com/api-client-library/java/","title":"Google Http Client for Java: Ignore java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>I'm using <a href=\"https://developers.google.com/api-client-library/java/\" rel=\"nofollow noreferrer\">Google's HTTP Client for Java</a> in my Android app. My server is temporarily using a self-signed certificate while we do QA testing. We'll have a properly signed cert when we release, but for now I just need to ignore the...</p>\n<pre><code>CertPathValidatorException: Trust anchor for certification path not found.\n</code></pre>\n<p>... error message and tell the API to continue processing the http request/response.</p>\n<p>I can't find anything in Google's documentation on where I can disable this check. I found several Stack Overflow posts for other APIs, but not the Google HTTP Client.</p>\n<pre><code>import com.google.api.client.http.GenericUrl;\nimport com.google.api.client.http.HttpRequest;\nimport com.google.api.client.http.HttpRequestFactory;\nimport com.google.api.client.http.HttpRequestInitializer;\nimport com.google.api.client.http.HttpResponse;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.http.UrlEncodedContent;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.JsonObjectParser;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.client.util.Maps;\nimport com.google.api.client.util.escape.CharEscapers;\n</code></pre>\n<p>...</p>\n<pre><code>static final HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\nHttpRequestFactory requestFactory =\n                HTTP_TRANSPORT.createRequestFactory(new HttpRequestInitializer() {\n                    @Override\n                    public void initialize(HttpRequest request) {\n                        request.setParser(new JsonObjectParser(JSON_FACTORY));\n                        request.setConnectTimeout(defaultTimeoutSeconds()*1000);\n                        request.setReadTimeout(defaultTimeoutSeconds()*1000);\n                    }\n                });\n</code></pre>\n"},{"tags":["java","maven","encoding","maven-2","maven-3"],"comments":[{"owner":{"account_id":22114,"reputation":199,"user_id":54281,"display_name":"rmp"},"score":1,"creation_date":1358187803,"post_id":3017695,"comment_id":20806316,"body_markdown":"Be careful that UTF-8 encoding is what you actually want to specify as the encoding. You may be better off using a simpler encoding such as ISO-8859-1 (aka Latin-1) or even US-ASCII.","body":"Be careful that UTF-8 encoding is what you actually want to specify as the encoding. You may be better off using a simpler encoding such as ISO-8859-1 (aka Latin-1) or even US-ASCII."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":76,"creation_date":1377250367,"post_id":3017695,"comment_id":27023589,"body_markdown":"&quot;You may be better off using a simpler encoding such as...&quot;\n\nyeah, and bug end-users, as well as other developers... Nowadays it&#39;s best to try to use UTF-8 as much as possible and care about other encodings only when a multi-encoding application requirement is thrown to you. Here, we&#39;re talking mostly about the encoding of source and configuration files, the encoding of user input is managed differently (with &#39;java -Dfile.encoding ...&#39; and with a lot of painful programming effort).","body":"&quot;You may be better off using a simpler encoding such as...&quot;  yeah, and bug end-users, as well as other developers... Nowadays it&#39;s best to try to use UTF-8 as much as possible and care about other encodings only when a multi-encoding application requirement is thrown to you. Here, we&#39;re talking mostly about the encoding of source and configuration files, the encoding of user input is managed differently (with &#39;java -Dfile.encoding ...&#39; and with a lot of painful programming effort)."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1399650577,"post_id":3017695,"comment_id":36167368,"body_markdown":"I personally decided that the encoding issues were so elusive that I went for encoding ASCII in pom.xml and then took the encoding issues up front.  This is naturally prompted by having a non-ASCII character in my name giving issues from day 1:)","body":"I personally decided that the encoding issues were so elusive that I went for encoding ASCII in pom.xml and then took the encoding issues up front.  This is naturally prompted by having a non-ASCII character in my name giving issues from day 1:)"},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1431691313,"post_id":3017695,"comment_id":48617534,"body_markdown":"What encoding is set in parent pom.xml ?","body":"What encoding is set in parent pom.xml ?"}],"answers":[{"comments":[{"owner":{"account_id":6255376,"reputation":123,"user_id":4864156,"display_name":"Bob Small"},"score":1,"creation_date":1488471646,"post_id":3018152,"comment_id":72255335,"body_markdown":"So I had this issue and I added the properties from above like this:  &lt;profiles&gt;\n\t\t&lt;profile&gt;\n\t\t\t&lt;activation&gt;\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n\t\t\t&lt;/activation&gt;\n\t\t\t&lt;id&gt;local&lt;/id&gt;\n\t\t\t&lt;properties&gt;\n\t\t\t\t&lt;url&gt;https://earneventapi.intra1.e1.v2.epaas.aexp.com&lt;/url&gt;\n\t\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\t\t\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\t\t\t&lt;/properties&gt;\n\t\t&lt;/profile&gt;","body":"So I had this issue and I added the properties from above like this:  &lt;profiles&gt; \t\t&lt;profile&gt; \t\t\t&lt;activation&gt; \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt; \t\t\t&lt;/activation&gt; \t\t\t&lt;id&gt;local&lt;/id&gt; \t\t\t&lt;properties&gt; \t\t\t\t&lt;url&gt;<a href=\"https://earneventapi.intra1.e1.v2.epaas.aexp.com&lt;/url\" rel=\"nofollow noreferrer\">earneventapi.intra1.e1.v2.epaas.aexp.com&lt;/url</a>&gt; \t\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourc&zwnj;&#8203;eEncoding&gt; \t\t\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporti&zwnj;&#8203;ng.outputEncoding&gt; \t\t\t&lt;/properties&gt; \t\t&lt;/profile&gt;"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1583768123,"post_id":3018152,"comment_id":107218264,"body_markdown":"No, the only global setting of coding is to be done by env. variable: https://stackoverflow.com/a/9976788/715269","body":"No, the only global setting of coding is to be done by env. variable: <a href=\"https://stackoverflow.com/a/9976788/715269\">stackoverflow.com/a/9976788/715269</a>"},{"owner":{"account_id":143771,"reputation":428,"user_id":5811638,"display_name":"jpruiz114"},"score":1,"creation_date":1586116792,"post_id":3018152,"comment_id":108002752,"body_markdown":"This works as expected while adding the 2 properties to the properties block of the pom.xml file. Thanks.","body":"This works as expected while adding the 2 properties to the properties block of the pom.xml file. Thanks."},{"owner":{"account_id":224209,"reputation":81,"user_id":483866,"display_name":"udoline"},"score":0,"creation_date":1618565187,"post_id":3018152,"comment_id":118645046,"body_markdown":"_SET MAVEN_OPTS=-Dfile.encoding=utf-8_ or unix like _export MAVEN_OPTS=-Dfile.encoding=utf-8_  is the only correct answer ... ;-)","body":"<i>SET MAVEN_OPTS=-Dfile.encoding=utf-8</i> or unix like <i>export MAVEN_OPTS=-Dfile.encoding=utf-8</i>  is the only correct answer ... ;-)"}],"tags":[],"owner":{"account_id":55234,"reputation":15884,"user_id":165345,"accept_rate":54,"display_name":"Ethan Leroy"},"comment_count":4,"down_vote_count":0,"up_vote_count":744,"is_accepted":true,"score":744,"last_activity_date":1696714801,"creation_date":1276201059,"answer_id":3018152,"question_id":3017695,"body_markdown":"OK, I have found the problem.\r\n\r\nI use some reporting plugins. In the documentation of the [`failsafe-maven-plugin`](http://maven.apache.org/plugins/maven-failsafe-plugin/integration-test-mojo.html) I found, that the `&lt;encoding&gt;` configuration - of course - uses `${project.reporting.outputEncoding}` by default.\r\n\r\nSo I added the property as a child element of the `project` element and everything is fine now:\r\n\r\n```lang-xml\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nSee also *[How do I prevent &quot;[WARNING] Using platform encoding (CP-1252 actually) to copy filtered resources, i.e. build is platform dependent!&quot;][1]*.\r\n\r\n  [1]: https://maven.apache.org/general.html#encoding-warning\r\n\r\n","title":"How can I configure encoding in Maven?","body":"<p>OK, I have found the problem.</p>\n<p>I use some reporting plugins. In the documentation of the <a href=\"http://maven.apache.org/plugins/maven-failsafe-plugin/integration-test-mojo.html\" rel=\"nofollow noreferrer\"><code>failsafe-maven-plugin</code></a> I found, that the <code>&lt;encoding&gt;</code> configuration - of course - uses <code>${project.reporting.outputEncoding}</code> by default.</p>\n<p>So I added the property as a child element of the <code>project</code> element and everything is fine now:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>See also <em><a href=\"https://maven.apache.org/general.html#encoding-warning\" rel=\"nofollow noreferrer\">How do I prevent &quot;[WARNING] Using platform encoding (CP-1252 actually) to copy filtered resources, i.e. build is platform dependent!&quot;</a></em>.</p>\n"},{"comments":[{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1427949925,"post_id":28470840,"comment_id":46985064,"body_markdown":"Not sure if there&#39;s a maven way to do this, since this is a JVM setting, not Maven.","body":"Not sure if there&#39;s a maven way to do this, since this is a JVM setting, not Maven."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":4,"creation_date":1436271163,"post_id":28470840,"comment_id":50530944,"body_markdown":"I think you are mixing things up. You only need to set `-Dfile.encoding` if you use I/O in Java without explicitly specifying an encoding (which is not recommended). I don&#39;t see what this has to do with scandic letters in Java source files. Non-ASCII in Java source files works with Maven when `project.build.sourceEncoding` is set correctly, as described in  Ethan Leroy&#39;s answer.","body":"I think you are mixing things up. You only need to set <code>-Dfile.encoding</code> if you use I/O in Java without explicitly specifying an encoding (which is not recommended). I don&#39;t see what this has to do with scandic letters in Java source files. Non-ASCII in Java source files works with Maven when <code>project.build.sourceEncoding</code> is set correctly, as described in  Ethan Leroy&#39;s answer."},{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1443702944,"post_id":28470840,"comment_id":53605189,"body_markdown":"@sleske I would assume the same would be enough, but when I first ended here and did the pom.xml changes, it did not fix my problem. After more search and after trial and error the solution described worked. I think that the reason for what happens is because the maven calls the javac of the installed/referred JDK which in turn uses the O/S encoding as default. If someone knows a way to specify the encoding for the javac call in pom.xml would solve this issue in &quot;maven way&quot;.","body":"@sleske I would assume the same would be enough, but when I first ended here and did the pom.xml changes, it did not fix my problem. After more search and after trial and error the solution described worked. I think that the reason for what happens is because the maven calls the javac of the installed/referred JDK which in turn uses the O/S encoding as default. If someone knows a way to specify the encoding for the javac call in pom.xml would solve this issue in &quot;maven way&quot;."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":5,"creation_date":1443703789,"post_id":28470840,"comment_id":53605792,"body_markdown":"@VilleMyrskyneva: When Maven invokes `javac`, it will pass along the encoding set by `project.build.sourceEncoding` (you can check using `mvn -X`), so I don&#39;t see how what you describe is necessary. If you still get encoding problems in your project, consider asking that as a separate question - it seems you are running into a different problem. Ideally, post a reproducible test case.","body":"@VilleMyrskyneva: When Maven invokes <code>javac</code>, it will pass along the encoding set by <code>project.build.sourceEncoding</code> (you can check using <code>mvn -X</code>), so I don&#39;t see how what you describe is necessary. If you still get encoding problems in your project, consider asking that as a separate question - it seems you are running into a different problem. Ideally, post a reproducible test case."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":1,"creation_date":1490327153,"post_id":28470840,"comment_id":73073290,"body_markdown":"@sleske I have project.build.sourceEncoding in pom.xml, but mvn test still have problem with encoding. while that -Dfile.encoding=UTF8 solves it. I don&#39;t understand why. http://stackoverflow.com/questions/42990644/maven-test-fails-at-a-eastern-language-character-while-idea-success","body":"@sleske I have project.build.sourceEncoding in pom.xml, but mvn test still have problem with encoding. while that -Dfile.encoding=UTF8 solves it. I don&#39;t understand why. <a href=\"http://stackoverflow.com/questions/42990644/maven-test-fails-at-a-eastern-language-character-while-idea-success\" title=\"maven test fails at a eastern language character while idea success\">stackoverflow.com/questions/42990644/&hellip;</a>"},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1490327393,"post_id":28470840,"comment_id":73073348,"body_markdown":"IDEA in windows does not need to specify as such when test. No idea why","body":"IDEA in windows does not need to specify as such when test. No idea why"}],"tags":[],"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"comment_count":6,"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1696704430,"creation_date":1423722665,"answer_id":28470840,"question_id":3017695,"body_markdown":"This would be in addition to [the previous answer][1], if someone meets a problem with Scandinavian letters that isn&#39;t solved with the solution in the previous answer.\r\n\r\nIf the Java source files contain Scandinavian letters, they need to be interpreted correctly by the **Java used for compiling** (e.g., Scandinavian letters used in constants).\r\n\r\nEven that the files are stored in UTF-8 and the Maven is configured to use UTF-8, the *system* Java used by the Maven will still use the system default (e.g., in Windows: [Windows-1252][2]).\r\n\r\nThis will be visible only running the tests via Maven (possibly printing the values of these constants in tests. The printed Scandinavian letters would show as &#39;&lt; ?&gt;&#39;.)\r\nIf not tested properly, this would corrupt the class files as the compile result and be left unnoticed.\r\n\r\nTo prevent this, you have to set the **Java used for compiling** to use UTF-8 encoding.\r\nIt is not enough to have the encoding settings in the Maven *[pom.xml][3]* file; you need to set the environment variable:\r\n\r\n```lang-none\r\nJAVA_TOOL_OPTIONS = -Dfile.encoding=UTF8\r\n```\r\n\r\nAlso, if using Eclipse in Windows, you may need to set the encoding used in addition to this (if you run individual tests via Eclipse).\r\n\r\n  [1]: https://stackoverflow.com/questions/3017695/how-can-i-configure-encoding-in-maven/3018152#3018152\r\n  [2]: https://en.wikipedia.org/wiki/Windows-1252\r\n  [3]: https://maven.apache.org/pom.html#What_is_the_POM.3F\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I configure encoding in Maven?","body":"<p>This would be in addition to <a href=\"https://stackoverflow.com/questions/3017695/how-can-i-configure-encoding-in-maven/3018152#3018152\">the previous answer</a>, if someone meets a problem with Scandinavian letters that isn't solved with the solution in the previous answer.</p>\n<p>If the Java source files contain Scandinavian letters, they need to be interpreted correctly by the <strong>Java used for compiling</strong> (e.g., Scandinavian letters used in constants).</p>\n<p>Even that the files are stored in UTF-8 and the Maven is configured to use UTF-8, the <em>system</em> Java used by the Maven will still use the system default (e.g., in Windows: <a href=\"https://en.wikipedia.org/wiki/Windows-1252\" rel=\"nofollow noreferrer\">Windows-1252</a>).</p>\n<p>This will be visible only running the tests via Maven (possibly printing the values of these constants in tests. The printed Scandinavian letters would show as '&lt; ?&gt;'.)\nIf not tested properly, this would corrupt the class files as the compile result and be left unnoticed.</p>\n<p>To prevent this, you have to set the <strong>Java used for compiling</strong> to use UTF-8 encoding.\nIt is not enough to have the encoding settings in the Maven <em><a href=\"https://maven.apache.org/pom.html#What_is_the_POM.3F\" rel=\"nofollow noreferrer\">pom.xml</a></em> file; you need to set the environment variable:</p>\n<pre class=\"lang-none prettyprint-override\"><code>JAVA_TOOL_OPTIONS = -Dfile.encoding=UTF8\n</code></pre>\n<p>Also, if using Eclipse in Windows, you may need to set the encoding used in addition to this (if you run individual tests via Eclipse).</p>\n"},{"comments":[{"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"score":0,"creation_date":1490283444,"post_id":36683004,"comment_id":73053219,"body_markdown":"Particularly important, we shouldn&#39;t forget that not only the sources, but also the resources need this encoding setting.","body":"Particularly important, we shouldn&#39;t forget that not only the sources, but also the resources need this encoding setting."}],"tags":[],"owner":{"account_id":7035369,"reputation":658,"user_id":5389695,"accept_rate":86,"display_name":"fsimon"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1460932737,"creation_date":1460932737,"answer_id":36683004,"question_id":3017695,"body_markdown":"Try this:\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              ...\r\n              &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n              ...\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        ...\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;","title":"How can I configure encoding in Maven?","body":"<p>Try this:</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n        &lt;configuration&gt;\n          ...\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n          ...\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    ...\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":533160,"reputation":2822,"user_id":903783,"display_name":"George Birbilis"},"score":1,"creation_date":1527637236,"post_id":38092996,"comment_id":88198026,"body_markdown":"the default seems to be ${project.build.sourceEncoding}, so you shouldn&#39;t need to define it explicitly for the maven-resources-plugin (see https://maven.apache.org/plugins/maven-resources-plugin/examples/encoding.html, https://maven.apache.org/plugins/maven-resources-plugin/resources-mojo.html#encoding, https://maven.apache.org/general.html#encoding-warning)","body":"the default seems to be ${project.build.sourceEncoding}, so you shouldn&#39;t need to define it explicitly for the maven-resources-plugin (see <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/encoding.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-resources-plugin/examples/&hellip;</a>, <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/resources-mojo.html#encoding\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-resources-plugin/&hellip;</a>, <a href=\"https://maven.apache.org/general.html#encoding-warning\" rel=\"nofollow noreferrer\">maven.apache.org/general.html#encoding-warning</a>)"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1583768105,"post_id":38092996,"comment_id":107218256,"body_markdown":"No, the only global setting of coding is to be done by env. variable: https://stackoverflow.com/a/9976788/715269","body":"No, the only global setting of coding is to be done by env. variable: <a href=\"https://stackoverflow.com/a/9976788/715269\">stackoverflow.com/a/9976788/715269</a>"}],"tags":[],"owner":{"account_id":286974,"reputation":3435,"user_id":586522,"display_name":"bhdrk"},"comment_count":2,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1696703735,"creation_date":1467185163,"answer_id":38092996,"question_id":3017695,"body_markdown":"If you combine the previous answers, here is finally a *[pom.xml][1]*, that configured for UTF-8, should seem like that.\r\n\r\n**pom.xml**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;YOUR_COMPANY&lt;/groupId&gt;\r\n        &lt;artifactId&gt;YOUR_APP&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.java.version&gt;1.8&lt;/project.java.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- Your dependencies --&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${project.java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${project.java.version}&lt;/target&gt;\r\n                        &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: https://maven.apache.org/pom.html#What_is_the_POM.3F\r\n\r\n","title":"How can I configure encoding in Maven?","body":"<p>If you combine the previous answers, here is finally a <em><a href=\"https://maven.apache.org/pom.html#What_is_the_POM.3F\" rel=\"nofollow noreferrer\">pom.xml</a></em>, that configured for UTF-8, should seem like that.</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;YOUR_COMPANY&lt;/groupId&gt;\n    &lt;artifactId&gt;YOUR_APP&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.java.version&gt;1.8&lt;/project.java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Your dependencies --&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${project.java.version}&lt;/source&gt;\n                    &lt;target&gt;${project.java.version}&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518910861,"creation_date":1518910861,"answer_id":48847011,"question_id":3017695,"body_markdown":"In my case I was using the `maven-dependency-plugin` so in order to resolve the issue I had to add the following property:\r\n\r\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\nSee [Apache Maven Resources Plugin /  Specifying a character encoding scheme][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-resources-plugin/examples/encoding.html","title":"How can I configure encoding in Maven?","body":"<p>In my case I was using the <code>maven-dependency-plugin</code> so in order to resolve the issue I had to add the following property:</p>\n\n<pre><code>  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n</code></pre>\n\n<p>See <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/encoding.html\" rel=\"nofollow noreferrer\">Apache Maven Resources Plugin /  Specifying a character encoding scheme</a></p>\n"},{"comments":[{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1583768093,"post_id":54670026,"comment_id":107218250,"body_markdown":"No, the only global setting of coding is to be done by env. variable: https://stackoverflow.com/a/9976788/715269","body":"No, the only global setting of coding is to be done by env. variable: <a href=\"https://stackoverflow.com/a/9976788/715269\">stackoverflow.com/a/9976788/715269</a>"}],"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1696715992,"creation_date":1550060258,"answer_id":54670026,"question_id":3017695,"body_markdown":"It seems people mix a content encoding with a built files/resources encoding. Having only Maven properties is not enough. Having `-Dfile.encoding=UTF8` is not effective. To avoid having issues with encoding, you should follow the following simple rules:\r\n\r\n1. Set Maven encoding, as described above:\r\n\r\n    ```lang-xml\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    ```\r\n\r\n2. Always set encoding explicitly, when work with files, strings, and I/O in your code. If you do not follow this rule, your application depends on the environment. The `-Dfile.encoding=UTF8` exactly is responsible for run-time environment configuration, but we should not depend on it. If you have thousands of clients, it takes more effort to configure systems and to find issues because of it. You just have an additional dependency on it which you can avoid by setting it explicitly. Most methods in Java that use a default encoding are marked as deprecated because of it.\r\n\r\n3. Make sure the content, you are working with, also is in the same encoding that you expect. If it is not, the previous steps do not matter! For instance, a file will not be processed correctly, if its encoding is not UTF-8, but you expect it. To check file encoding on Linux:\r\n\r\n    ```lang-none\r\n    file --mime F_PRDAUFT.dsv\r\n    ```\r\n\r\n4. Force clients/server set encoding explicitly in requests/responses. Here are examples:\r\n\r\n    ```lang-none\r\n    @Produces(&quot;application/json; charset=UTF-8&quot;)\r\n    @Consumes(&quot;application/json; charset=UTF-8&quot;)\r\n    ```\r\n\r\n","title":"How can I configure encoding in Maven?","body":"<p>It seems people mix a content encoding with a built files/resources encoding. Having only Maven properties is not enough. Having <code>-Dfile.encoding=UTF8</code> is not effective. To avoid having issues with encoding, you should follow the following simple rules:</p>\n<ol>\n<li><p>Set Maven encoding, as described above:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n</code></pre>\n</li>\n<li><p>Always set encoding explicitly, when work with files, strings, and I/O in your code. If you do not follow this rule, your application depends on the environment. The <code>-Dfile.encoding=UTF8</code> exactly is responsible for run-time environment configuration, but we should not depend on it. If you have thousands of clients, it takes more effort to configure systems and to find issues because of it. You just have an additional dependency on it which you can avoid by setting it explicitly. Most methods in Java that use a default encoding are marked as deprecated because of it.</p>\n</li>\n<li><p>Make sure the content, you are working with, also is in the same encoding that you expect. If it is not, the previous steps do not matter! For instance, a file will not be processed correctly, if its encoding is not UTF-8, but you expect it. To check file encoding on Linux:</p>\n<pre class=\"lang-none prettyprint-override\"><code>file --mime F_PRDAUFT.dsv\n</code></pre>\n</li>\n<li><p>Force clients/server set encoding explicitly in requests/responses. Here are examples:</p>\n<pre class=\"lang-none prettyprint-override\"><code>@Produces(&quot;application/json; charset=UTF-8&quot;)\n@Consumes(&quot;application/json; charset=UTF-8&quot;)\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696715685,"creation_date":1689019705,"answer_id":76657008,"question_id":3017695,"body_markdown":"(As of 2023, but actually has always been so)\r\n\r\nIf you use Spring Boot,\r\nyou don&#39;t need to do anything.\r\n\r\nIt already applies such properties in the parent.\r\n\r\n```xml\r\n&lt;properties&gt;\r\n    ...\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF8&lt;/project.reporting.outputEncoding&gt;\r\n    ...\r\n&lt;/properties&gt;\r\n```\r\n\r\nAnd **in the general case**, these two lines above are enough.  \r\nAnd you should not add something in any other places or plugins, unless you know what you are doing.\r\n\r\nIf you see advice to do more, most likely it is something outdated.\r\n","title":"How can I configure encoding in Maven?","body":"<p>(As of 2023, but actually has always been so)</p>\n<p>If you use Spring Boot,\nyou don't need to do anything.</p>\n<p>It already applies such properties in the parent.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    ...\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF8&lt;/project.reporting.outputEncoding&gt;\n    ...\n&lt;/properties&gt;\n</code></pre>\n<p>And <strong>in the general case</strong>, these two lines above are enough.<br />\nAnd you should not add something in any other places or plugins, unless you know what you are doing.</p>\n<p>If you see advice to do more, most likely it is something outdated.</p>\n"}],"owner":{"account_id":55234,"reputation":15884,"user_id":165345,"accept_rate":54,"display_name":"Ethan Leroy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361691,"favorite_count":0,"down_vote_count":0,"up_vote_count":506,"accepted_answer_id":3018152,"answer_count":7,"score":506,"last_activity_date":1696715992,"creation_date":1276197628,"question_id":3017695,"body_markdown":"When I run `maven install` on my multi-module Maven project I always get the following output:\r\n\r\n```lang-none\r\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n```\r\n\r\nSo, I googled around a bit, but all I could find was that I have to add:\r\n\r\n```lang-xml\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n...to my *[pom.xml][1]* file. But it&#39;s already there (in the parent *pom.xml*).\r\n\r\nConfiguring `&lt;encoding&gt;` for the *maven-resources-plugin* or the *maven-compiler-plugin* also doesn&#39;t fix it.\r\n\r\nSo what&#39;s the problem?\r\n\r\n  [1]: https://maven.apache.org/pom.html#What_is_the_POM.3F\r\n","title":"How can I configure encoding in Maven?","body":"<p>When I run <code>maven install</code> on my multi-module Maven project I always get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n</code></pre>\n<p>So, I googled around a bit, but all I could find was that I have to add:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>...to my <em><a href=\"https://maven.apache.org/pom.html#What_is_the_POM.3F\" rel=\"nofollow noreferrer\">pom.xml</a></em> file. But it's already there (in the parent <em>pom.xml</em>).</p>\n<p>Configuring <code>&lt;encoding&gt;</code> for the <em>maven-resources-plugin</em> or the <em>maven-compiler-plugin</em> also doesn't fix it.</p>\n<p>So what's the problem?</p>\n"},{"tags":["java","jersey","jersey-client"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1384028379,"post_id":19882456,"comment_id":29576286,"body_markdown":"Yes, there&#39;s an XML schema declaration involved. You should post the exact XML you send, and the exact content you receive.","body":"Yes, there&#39;s an XML schema declaration involved. You should post the exact XML you send, and the exact content you receive."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384028422,"post_id":19882456,"comment_id":29576300,"body_markdown":"How do I know these? I just use this Java code, not sure what happens at the lower level.","body":"How do I know these? I just use this Java code, not sure what happens at the lower level."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1384028491,"post_id":19882456,"comment_id":29576314,"body_markdown":"You can enable Jersey logging.","body":"You can enable Jersey logging."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1384028761,"post_id":19882456,"comment_id":29576416,"body_markdown":"This is what I have, see if it helps: `ClientBuilder.newClient(new ClientConfig(new JacksonJaxbJsonProvider())).register(new LoggingFilter(Logger.getGlobal(), true))`","body":"This is what I have, see if it helps: <code>ClientBuilder.newClient(new ClientConfig(new JacksonJaxbJsonProvider())).register(new LoggingFilter(Logger.getGlobal(), true))</code>"},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384028767,"post_id":19882456,"comment_id":29576417,"body_markdown":"OK, posted something from the client.","body":"OK, posted something from the client."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384028873,"post_id":19882456,"comment_id":29576461,"body_markdown":"If a POST method has an argument of type A, am I allowed to return anything else but the same type A object from it? Asking this as I return another object of type B. Posted my method code too.","body":"If a POST method has an argument of type A, am I allowed to return anything else but the same type A object from it? Asking this as I return another object of type B. Posted my method code too."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1384029007,"post_id":19882456,"comment_id":29576497,"body_markdown":"The posted XML has the proper NS, the one your error message complains is missing.","body":"The posted XML has the proper NS, the one your error message complains is missing."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384029080,"post_id":19882456,"comment_id":29576512,"body_markdown":"Yes, I know. But that&#39;s the point, what is it complaining about?! The return is just a different type of object in JSON format. What is it trying to unmarshall?!","body":"Yes, I know. But that&#39;s the point, what is it complaining about?! The return is just a different type of object in JSON format. What is it trying to unmarshall?!"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1384029338,"post_id":19882456,"comment_id":29576582,"body_markdown":"Well `WebApplicationException` is thrown by the server. That&#39;s part of the mistery :)","body":"Well <code>WebApplicationException</code> is thrown by the server. That&#39;s part of the mistery :)"},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384029377,"post_id":19882456,"comment_id":29576592,"body_markdown":"If I just do (1) service.path(&quot;Asset&quot;).entity(data, MediaType.APPLICATION_XML).post(data);    OR  (2) service.path(&quot;Asset&quot;).entity(data, MediaType.APPLICATION_XML).post(); in my client, I don&#39;t get this error. Hm, weird, OK, seems now my only problem is how to get the JSON result back in the client.","body":"If I just do (1) service.path(&quot;Asset&quot;).entity(data, MediaType.APPLICATION_XML).post(data);    OR  (2) service.path(&quot;Asset&quot;).entity(data, MediaType.APPLICATION_XML).post(); in my client, I don&#39;t get this error. Hm, weird, OK, seems now my only problem is how to get the JSON result back in the client."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384029481,"post_id":19882456,"comment_id":29576634,"body_markdown":"Hm, I don&#39;t think anything is thrown on the server. Anyway. Thanks for all your timely help. If you know how I can get the JSON back just let me know! Thanks once again!","body":"Hm, I don&#39;t think anything is thrown on the server. Anyway. Thanks for all your timely help. If you know how I can get the JSON back just let me know! Thanks once again!"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1384029754,"post_id":19882456,"comment_id":29576705,"body_markdown":"I just wanted to comment on that line code of yours... the one you have in the question is wrong, I believe, and (2) is good as far making the request. Just add the class into which you want to unmarshall the response.","body":"I just wanted to comment on that line code of yours... the one you have in the question is wrong, I believe, and (2) is good as far making the request. Just add the class into which you want to unmarshall the response."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384030309,"post_id":19882456,"comment_id":29576850,"body_markdown":"I don&#39;t know where to add it. Googling doesn&#39;t help much too. The response is just simple JSON representation of this simple AssetResult bean.","body":"I don&#39;t know where to add it. Googling doesn&#39;t help much too. The response is just simple JSON representation of this simple AssetResult bean."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1384030438,"post_id":19882456,"comment_id":29576886,"body_markdown":"Add it as the argument to `post`. `post(AssetResult.class)`.","body":"Add it as the argument to <code>post</code>. <code>post(AssetResult.class)</code>."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1384030519,"post_id":19882456,"comment_id":29576909,"body_markdown":"And [here&#39;s the Javadoc link](https://jersey.java.net/apidocs/1.17/jersey/com/sun/jersey/api/client/UniformInterface.html#post(java.lang.Class)) to what I&#39;m talking about.","body":"And <a href=\"https://jersey.java.net/apidocs/1.17/jersey/com/sun/jersey/api/client/UniformInterface.html#post(java.lang.Class)\" rel=\"nofollow noreferrer\">here&#39;s the Javadoc link</a> to what I&#39;m talking about."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384031035,"post_id":19882456,"comment_id":29577054,"body_markdown":"Thanks, I just got that. But now I am sort of back to where we started. [javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;assetResult&quot;). Expected elements are &lt;{http://company/module/result}assetResult&gt;]. The client doesn&#39;t seem to know the xmlns now (of AssetResult).","body":"Thanks, I just got that. But now I am sort of back to where we started. [javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;assetResult&quot;). Expected elements are &lt;{<a href=\"http://company/module/result\" rel=\"nofollow noreferrer\">company/module/result</a>}assetResult&gt;]. The client doesn&#39;t seem to know the xmlns now (of AssetResult)."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1384031131,"post_id":19882456,"comment_id":29577083,"body_markdown":"The client apparently expects an XML response. Also its error message is bogus as there&#39;s clearly no `assetResult` nor `input` element in te response.","body":"The client apparently expects an XML response. Also its error message is bogus as there&#39;s clearly no <code>assetResult</code> nor <code>input</code> element in te response."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384031557,"post_id":19882456,"comment_id":29577206,"body_markdown":"Thanks again for all your help. I think of trying this. http://stackoverflow.com/questions/3097595/jaxb-with-namespace-unmarshalling-using-jersey-from-rest-service","body":"Thanks again for all your help. I think of trying this. <a href=\"http://stackoverflow.com/questions/3097595/jaxb-with-namespace-unmarshalling-using-jersey-from-rest-service\" title=\"jaxb with namespace unmarshalling using jersey from rest service\">stackoverflow.com/questions/3097595/&hellip;</a>"},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384031675,"post_id":19882456,"comment_id":29577237,"body_markdown":"No luck. Maybe I should give up for now. I&#39;ve been working 5-6 hours on this now. Thank you once again!!!","body":"No luck. Maybe I should give up for now. I&#39;ve been working 5-6 hours on this now. Thank you once again!!!"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1384032110,"post_id":19882456,"comment_id":29577382,"body_markdown":"The way I see it, it could be that your Jersey client doesn&#39;t even support XML requests and JSON responses.","body":"The way I see it, it could be that your Jersey client doesn&#39;t even support XML requests and JSON responses."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1384032662,"post_id":19882456,"comment_id":29577540,"body_markdown":"Yes, I sort of also came to this conclusion now. I changed my REST method to return XML and now everything works fine. Old Jersey library probably. It really thinks it&#39;s XML back, even though I tell explicitly .accept(MediaType.APPLICATION_JSON) in my client call. Thank you, Marko.","body":"Yes, I sort of also came to this conclusion now. I changed my REST method to return XML and now everything works fine. Old Jersey library probably. It really thinks it&#39;s XML back, even though I tell explicitly .accept(MediaType.APPLICATION_JSON) in my client call. Thank you, Marko."}],"answers":[{"tags":[],"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1384033632,"creation_date":1384033632,"answer_id":19883501,"question_id":19882456,"body_markdown":"I finally returned JSON from the method and slightly changed the client. Below is a client which finally works. The key points are two. 1) Post with String.class; 2) Use Gson and unmarshal the returned AssetResult object on the client side with Gson.\r\n\r\n\r\n    package com.company.module.test;\r\n    \r\n    import java.net.URI;\r\n    \r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.UriBuilder;\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.sun.jersey.api.client.Client;\r\n    import com.sun.jersey.api.client.WebResource;\r\n    import com.sun.jersey.api.client.config.ClientConfig;\r\n    import com.sun.jersey.api.client.config.DefaultClientConfig;\r\n    import com.sun.jersey.api.client.filter.LoggingFilter;\r\n    import com.company.common.DateUtil;\r\n    import com.company.module.input.AssetOperation;\r\n    import com.company.module.input.AssetOperationData;\r\n    import com.company.module.result.AssetResult;\r\n    \r\n    public class MainProg002 {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ClientConfig config = new DefaultClientConfig();\r\n            Client client = Client.create(config);\r\n            client.addFilter(new LoggingFilter());\r\n            \r\n            WebResource service = client.resource(getBaseURI());\r\n            \r\n            AssetOperationData data = new AssetOperationData();\r\n            AssetOperation op1 = new AssetOperation();\r\n            op1.setAssetID(&quot;1234&quot;);\r\n            op1.setDate(DateUtil.getDate(2013, 12, 22));\r\n            op1.setOperation(&quot;pause&quot;);\r\n            AssetOperation op2 = new AssetOperation();\r\n            op2.setAssetID(&quot;5050&quot;);\r\n            op2.setDate(DateUtil.getDate(2013, 12, 5));\r\n            op2.setOperation(&quot;resume&quot;);\r\n            data.getAssetOperations().add(op1);\r\n            data.getAssetOperations().add(op2);\r\n            \r\n            String res = service.path(&quot;Asset&quot;).entity(data, MediaType.APPLICATION_XML).accept(MediaType.APPLICATION_JSON).post(String.class);\r\n            Gson gson = new Gson();\r\n            AssetResult result = gson.fromJson(res, AssetResult.class);\r\n                    \r\n            System.out.println(&quot;DONE!&quot;);\r\n        }\r\n        \r\n        private static URI getBaseURI() {\r\n            return UriBuilder.fromUri(&quot;http://localhost:8080/module/service&quot;).build();\r\n        }\r\n    }\r\n    \r\n    \r\n","title":"RESTful WS - Jersey - client side unmarshalling issue","body":"<p>I finally returned JSON from the method and slightly changed the client. Below is a client which finally works. The key points are two. 1) Post with String.class; 2) Use Gson and unmarshal the returned AssetResult object on the client side with Gson.</p>\n\n<pre><code>package com.company.module.test;\n\nimport java.net.URI;\n\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.UriBuilder;\n\nimport com.google.gson.Gson;\nimport com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.WebResource;\nimport com.sun.jersey.api.client.config.ClientConfig;\nimport com.sun.jersey.api.client.config.DefaultClientConfig;\nimport com.sun.jersey.api.client.filter.LoggingFilter;\nimport com.company.common.DateUtil;\nimport com.company.module.input.AssetOperation;\nimport com.company.module.input.AssetOperationData;\nimport com.company.module.result.AssetResult;\n\npublic class MainProg002 {\n\n    public static void main(String[] args) throws Exception {\n        ClientConfig config = new DefaultClientConfig();\n        Client client = Client.create(config);\n        client.addFilter(new LoggingFilter());\n\n        WebResource service = client.resource(getBaseURI());\n\n        AssetOperationData data = new AssetOperationData();\n        AssetOperation op1 = new AssetOperation();\n        op1.setAssetID(\"1234\");\n        op1.setDate(DateUtil.getDate(2013, 12, 22));\n        op1.setOperation(\"pause\");\n        AssetOperation op2 = new AssetOperation();\n        op2.setAssetID(\"5050\");\n        op2.setDate(DateUtil.getDate(2013, 12, 5));\n        op2.setOperation(\"resume\");\n        data.getAssetOperations().add(op1);\n        data.getAssetOperations().add(op2);\n\n        String res = service.path(\"Asset\").entity(data, MediaType.APPLICATION_XML).accept(MediaType.APPLICATION_JSON).post(String.class);\n        Gson gson = new Gson();\n        AssetResult result = gson.fromJson(res, AssetResult.class);\n\n        System.out.println(\"DONE!\");\n    }\n\n    private static URI getBaseURI() {\n        return UriBuilder.fromUri(\"http://localhost:8080/module/service\").build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19883501,"answer_count":1,"score":0,"last_activity_date":1696715856,"creation_date":1384027522,"question_id":19882456,"body_markdown":"I am trying to call a REST WS which I built myself.\r\nBelow is my code on the client side.\r\nOn the server side this call completes fine,\r\nI can see the arguments which I want to see\r\nin the debugger. The method is POST, \r\nhas an XML argument, returns JSON.\r\nI am using Java and Jersey.\r\n\r\nI am using this version of Jersey:\r\njersey-client-1.0.3.jar\r\njersey-core-1.0.3.jar\r\njersey-json-1.0.3.jar\r\njersey-server-1.0.3.jar\r\n\r\nI cannot upgrade that easily, it&#39;s not up to me.\r\n\r\n\r\n\r\n\r\n    package com.company.module.test;\r\n    \r\n    import java.net.URI;\r\n    \r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.UriBuilder;\r\n    \r\n    import com.sun.jersey.api.client.Client;\r\n    import com.sun.jersey.api.client.WebResource;\r\n    import com.sun.jersey.api.client.config.ClientConfig;\r\n    import com.sun.jersey.api.client.config.DefaultClientConfig;\r\n    import com.company.common.DateUtil;\r\n    import com.company.module.input.AssetOperation;\r\n    import com.company.module.input.AssetOperationData;\r\n    \r\n    public class MainProg002 {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ClientConfig config = new DefaultClientConfig();\r\n            Client client = Client.create(config);\r\n            WebResource service = client.resource(getBaseURI());\r\n            \r\n            AssetOperationData data = new AssetOperationData();\r\n            AssetOperation op1 = new AssetOperation();\r\n            op1.setAssetID(&quot;1234&quot;);\r\n            op1.setDate(DateUtil.getDate(2013, 12, 22));\r\n            op1.setOperation(&quot;pause&quot;);\r\n            AssetOperation op2 = new AssetOperation();\r\n            op2.setAssetID(&quot;5050&quot;);\r\n            op2.setDate(DateUtil.getDate(2013, 12, 5));\r\n            op2.setOperation(&quot;resume&quot;);\r\n            data.getAssetOperations().add(op1);\r\n            data.getAssetOperations().add(op2);\r\n            \r\n            service.path(&quot;Asset&quot;).entity(data, MediaType.APPLICATION_XML).post(AssetOperationData.class, data);\r\n        }\r\n        \r\n        private static URI getBaseURI() {\r\n            return UriBuilder.fromUri(&quot;http://localhost:8080/module/service&quot;).build();\r\n        }\r\n    }\r\n    \r\n    \r\n\r\nSeems to me the problem is then that the client cannot unmarshal some objects properly on the client side. Below is the exception which I get. I think it has something to do with element namespaces in XSD. I have no idea how to tell the client to use a particular XSD.\r\n\r\nAlso, I am not sure if that&#39;s needed at all, because the RESTful service returns JSON in this case. Also I am puzzled by the fact that the exception mentions &quot;input&quot; which is an element from the arguments, not from the return values!\r\n\r\n\r\n    Exception in thread &quot;main&quot; javax.ws.rs.WebApplicationException: javax.xml.bind.UnmarshalException\r\n     - with linked exception:\r\n    [javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;input&quot;). Expected elements are &lt;{http://company.com/module/input}input&gt;]\r\n    \tat com.sun.jersey.core.provider.jaxb.AbstractRootElementProvider.readFrom(AbstractRootElementProvider.java:99)\r\n    \tat com.sun.jersey.api.client.ClientResponse.getEntity(ClientResponse.java:259)\r\n    \tat com.sun.jersey.api.client.ClientResponse.getEntity(ClientResponse.java:220)\r\n    \tat com.sun.jersey.api.client.WebResource.handle(WebResource.java:561)\r\n    \tat com.sun.jersey.api.client.WebResource.access$300(WebResource.java:69)\r\n    \tat com.sun.jersey.api.client.WebResource$Builder.post(WebResource.java:499)\r\n    \tat com.company.module.test.MainProg002.main(MainProg002.java:36)\r\n    Caused by: javax.xml.bind.UnmarshalException\r\n     - with linked exception:\r\n    [javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;input&quot;). Expected elements are &lt;{http://company.com/module/input}input&gt;]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:435)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:372)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:342)\r\n    \tat com.sun.jersey.json.impl.provider.entity.JSONRootElementProvider.readFrom(JSONRootElementProvider.java:110)\r\n    \tat com.sun.jersey.core.provider.jaxb.AbstractRootElementProvider.readFrom(AbstractRootElementProvider.java:97)\r\n    \t... 6 more\r\n    Caused by: javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;input&quot;). Expected elements are &lt;{http://company.com/module/input}input&gt;\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:662)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:258)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:253)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:120)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1063)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:498)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:480)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:75)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleStartElement(StAXStreamConnector.java:246)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:180)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:370)\r\n    \t... 9 more\r\n    Caused by: javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;input&quot;). Expected elements are &lt;{http://company.com/module/input}input&gt;\r\n    \t... 20 more\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\n   \r\n\r\nOn the client side: \r\n\r\n    1 * Out-bound request\r\n    1 &gt; POST http://localhost:8080/module/service/Asset\r\n    1 &gt; Content-Type: application/xml\r\n    1 &gt; \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;input xmlns=&quot;http://company.com/module/input&quot;&gt;&lt;item&gt;&lt;assetID&gt;1234&lt;/assetID&gt;&lt;date&gt;2014-01-22-05:00&lt;/date&gt;&lt;operation&gt;pause&lt;/operation&gt;&lt;/item&gt;&lt;item&gt;&lt;assetID&gt;5050&lt;/assetID&gt;&lt;date&gt;2014-01-05-05:00&lt;/date&gt;&lt;operation&gt;resume&lt;/operation&gt;&lt;/item&gt;&lt;/input&gt;\r\n    1 &lt; 200\r\n    1 &lt; Transfer-Encoding: chunked\r\n    1 &lt; Content-Type: application/json\r\n    1 &lt; Server: Apache-Coyote/1.1\r\n    1 &lt; Date: Sat, 09 Nov 2013 20:23:22 GMT\r\n    1 &lt; \r\n    {&quot;error&quot;:&quot;&quot;,&quot;id&quot;:&quot;10&quot;}\r\n    1 * In-bound response\r\n    \r\n    \r\n\r\nThis is how my method looks like.\r\n\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_XML)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public AssetResult manageAssets(AssetOperationData data) {\r\n        LogProvider.logInfo(this, &quot;BEGIN&quot;);\r\n        LogProvider.logInfo(this, &quot;Found POST data = &quot; + data);\r\n        AssetResult result = new AssetResult();\r\n        result.setId(10);\r\n        LogProvider.logInfo(this, &quot;END&quot;);\r\n        return result;\r\n    }\r\n\r\n\r\n","title":"RESTful WS - Jersey - client side unmarshalling issue","body":"<p>I am trying to call a REST WS which I built myself.\nBelow is my code on the client side.\nOn the server side this call completes fine,\nI can see the arguments which I want to see\nin the debugger. The method is POST,\nhas an XML argument, returns JSON.\nI am using Java and Jersey.</p>\n<p>I am using this version of Jersey:\njersey-client-1.0.3.jar\njersey-core-1.0.3.jar\njersey-json-1.0.3.jar\njersey-server-1.0.3.jar</p>\n<p>I cannot upgrade that easily, it's not up to me.</p>\n<pre><code>package com.company.module.test;\n\nimport java.net.URI;\n\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.UriBuilder;\n\nimport com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.WebResource;\nimport com.sun.jersey.api.client.config.ClientConfig;\nimport com.sun.jersey.api.client.config.DefaultClientConfig;\nimport com.company.common.DateUtil;\nimport com.company.module.input.AssetOperation;\nimport com.company.module.input.AssetOperationData;\n\npublic class MainProg002 {\n\n    public static void main(String[] args) throws Exception {\n        ClientConfig config = new DefaultClientConfig();\n        Client client = Client.create(config);\n        WebResource service = client.resource(getBaseURI());\n        \n        AssetOperationData data = new AssetOperationData();\n        AssetOperation op1 = new AssetOperation();\n        op1.setAssetID(&quot;1234&quot;);\n        op1.setDate(DateUtil.getDate(2013, 12, 22));\n        op1.setOperation(&quot;pause&quot;);\n        AssetOperation op2 = new AssetOperation();\n        op2.setAssetID(&quot;5050&quot;);\n        op2.setDate(DateUtil.getDate(2013, 12, 5));\n        op2.setOperation(&quot;resume&quot;);\n        data.getAssetOperations().add(op1);\n        data.getAssetOperations().add(op2);\n        \n        service.path(&quot;Asset&quot;).entity(data, MediaType.APPLICATION_XML).post(AssetOperationData.class, data);\n    }\n    \n    private static URI getBaseURI() {\n        return UriBuilder.fromUri(&quot;http://localhost:8080/module/service&quot;).build();\n    }\n}\n</code></pre>\n<p>Seems to me the problem is then that the client cannot unmarshal some objects properly on the client side. Below is the exception which I get. I think it has something to do with element namespaces in XSD. I have no idea how to tell the client to use a particular XSD.</p>\n<p>Also, I am not sure if that's needed at all, because the RESTful service returns JSON in this case. Also I am puzzled by the fact that the exception mentions &quot;input&quot; which is an element from the arguments, not from the return values!</p>\n<pre><code>Exception in thread &quot;main&quot; javax.ws.rs.WebApplicationException: javax.xml.bind.UnmarshalException\n - with linked exception:\n[javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;input&quot;). Expected elements are &lt;{http://company.com/module/input}input&gt;]\n    at com.sun.jersey.core.provider.jaxb.AbstractRootElementProvider.readFrom(AbstractRootElementProvider.java:99)\n    at com.sun.jersey.api.client.ClientResponse.getEntity(ClientResponse.java:259)\n    at com.sun.jersey.api.client.ClientResponse.getEntity(ClientResponse.java:220)\n    at com.sun.jersey.api.client.WebResource.handle(WebResource.java:561)\n    at com.sun.jersey.api.client.WebResource.access$300(WebResource.java:69)\n    at com.sun.jersey.api.client.WebResource$Builder.post(WebResource.java:499)\n    at com.company.module.test.MainProg002.main(MainProg002.java:36)\nCaused by: javax.xml.bind.UnmarshalException\n - with linked exception:\n[javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;input&quot;). Expected elements are &lt;{http://company.com/module/input}input&gt;]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:435)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:372)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:342)\n    at com.sun.jersey.json.impl.provider.entity.JSONRootElementProvider.readFrom(JSONRootElementProvider.java:110)\n    at com.sun.jersey.core.provider.jaxb.AbstractRootElementProvider.readFrom(AbstractRootElementProvider.java:97)\n    ... 6 more\nCaused by: javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;input&quot;). Expected elements are &lt;{http://company.com/module/input}input&gt;\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:662)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:258)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:253)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:120)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1063)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:498)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:480)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:75)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleStartElement(StAXStreamConnector.java:246)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:180)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:370)\n    ... 9 more\nCaused by: javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;input&quot;). Expected elements are &lt;{http://company.com/module/input}input&gt;\n    ... 20 more\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\n</code></pre>\n<p>On the client side:</p>\n<pre><code>1 * Out-bound request\n1 &gt; POST http://localhost:8080/module/service/Asset\n1 &gt; Content-Type: application/xml\n1 &gt; \n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;input xmlns=&quot;http://company.com/module/input&quot;&gt;&lt;item&gt;&lt;assetID&gt;1234&lt;/assetID&gt;&lt;date&gt;2014-01-22-05:00&lt;/date&gt;&lt;operation&gt;pause&lt;/operation&gt;&lt;/item&gt;&lt;item&gt;&lt;assetID&gt;5050&lt;/assetID&gt;&lt;date&gt;2014-01-05-05:00&lt;/date&gt;&lt;operation&gt;resume&lt;/operation&gt;&lt;/item&gt;&lt;/input&gt;\n1 &lt; 200\n1 &lt; Transfer-Encoding: chunked\n1 &lt; Content-Type: application/json\n1 &lt; Server: Apache-Coyote/1.1\n1 &lt; Date: Sat, 09 Nov 2013 20:23:22 GMT\n1 &lt; \n{&quot;error&quot;:&quot;&quot;,&quot;id&quot;:&quot;10&quot;}\n1 * In-bound response\n</code></pre>\n<p>This is how my method looks like.</p>\n<pre><code>@POST\n@Consumes(MediaType.APPLICATION_XML)\n@Produces(MediaType.APPLICATION_JSON)\npublic AssetResult manageAssets(AssetOperationData data) {\n    LogProvider.logInfo(this, &quot;BEGIN&quot;);\n    LogProvider.logInfo(this, &quot;Found POST data = &quot; + data);\n    AssetResult result = new AssetResult();\n    result.setId(10);\n    LogProvider.logInfo(this, &quot;END&quot;);\n    return result;\n}\n</code></pre>\n"},{"tags":["java","hashtable"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1297546438,"creation_date":1297546438,"answer_id":4980769,"question_id":4980757,"body_markdown":"It will use the equals method to see if the key is present even and especially if there are more than one element in the same bucket.","title":"How do HashTables deal with collisions?","body":"<p>It will use the equals method to see if the key is present even and especially if there are more than one element in the same bucket.</p>\n"},{"comments":[{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":0,"creation_date":1297546924,"post_id":4980789,"comment_id":5562263,"body_markdown":"It&#39;s true for both `Hashtable` and `HashMap` in jdk 1.6.0_22 by Sun/Oracle.","body":"It&#39;s true for both <code>Hashtable</code> and <code>HashMap</code> in jdk 1.6.0_22 by Sun/Oracle."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1297547134,"post_id":4980789,"comment_id":5562289,"body_markdown":"@Nikita: not sure about Hashtable, and I don&#39;t have access to the sources right now, but I am 100% certain HashMap uses chaining and not linear probing in every single version I&#39;ve ever seen in my debugger.","body":"@Nikita: not sure about Hashtable, and I don&#39;t have access to the sources right now, but I am 100% certain HashMap uses chaining and not linear probing in every single version I&#39;ve ever seen in my debugger."},{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":0,"creation_date":1297547512,"post_id":4980789,"comment_id":5562334,"body_markdown":"@Michael Well, I&#39;m looking at the source of HashMap&#39;s `public V get(Object key)` right now (same version as above). If you do find precise version where those linked lists appear, I&#39;d be interested to know.","body":"@Michael Well, I&#39;m looking at the source of HashMap&#39;s <code>public V get(Object key)</code> right now (same version as above). If you do find precise version where those linked lists appear, I&#39;d be interested to know."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1297549062,"post_id":4980789,"comment_id":5562535,"body_markdown":"@Niki: I&#39;m now looking at the same method, and I see it using a for loop to iterate through a linked list of `Entry` objects: `localEntry = localEntry.next`","body":"@Niki: I&#39;m now looking at the same method, and I see it using a for loop to iterate through a linked list of <code>Entry</code> objects: <code>localEntry = localEntry.next</code>"},{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":0,"creation_date":1297549713,"post_id":4980789,"comment_id":5562613,"body_markdown":"@Michael Sorry, it&#39;s my mistake. I interpreted code in wrong way. naturally, `e = e.next` is not `++index`. +1","body":"@Michael Sorry, it&#39;s my mistake. I interpreted code in wrong way. naturally, <code>e = e.next</code> is not <code>++index</code>. +1"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1297550323,"post_id":4980789,"comment_id":5562699,"body_markdown":"Ah, while I was writing my answer, you already resolved this discussion :-(","body":"Ah, while I was writing my answer, you already resolved this discussion :-("},{"owner":{"account_id":2860543,"reputation":370,"user_id":2455904,"accept_rate":62,"display_name":"Eklavyaa"},"score":0,"creation_date":1483169303,"post_id":4980789,"comment_id":70015717,"body_markdown":"you actually answered all question rather than accepted one","body":"you actually answered all question rather than accepted one"}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":7,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1558356981,"creation_date":1297546726,"answer_id":4980789,"question_id":4980757,"body_markdown":"&gt; I&#39;ve heard in my degree classes that a\r\n&gt; HashTable will place a new entry into\r\n&gt; the &#39;next available&#39; bucket if the new\r\n&gt; Key entry collides with another.\r\n\r\nThis is actually not true, at least for the Oracle JDK (it *is* an implementation detail that could vary between different implementations of the API). Instead, each bucket contains a linked list of entries prior to Java 8, and a balanced tree in Java 8 or above.\r\n\r\n&gt; then how would the HashTable still\r\n&gt; return the correct Value if this\r\n&gt; collision occurs when calling for one\r\n&gt; back with the collision key?\r\n\r\nIt uses the `equals()` to find the actually matching entry.\r\n\r\n&gt; If I implement my own hashing function\r\n&gt; and use it as part of a look-up table\r\n&gt; (i.e. a HashMap or Dictionary), what\r\n&gt; strategies exist for dealing with\r\n&gt; collisions?\r\n\r\nThere are various collision handling strategies with different advantages and disadvantages.\r\n[Wikipedia&#39;s entry on hash tables][1] gives a good overview.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Hash_table#Collision_resolution","title":"How do HashTables deal with collisions?","body":"<blockquote>\n  <p>I've heard in my degree classes that a\n  HashTable will place a new entry into\n  the 'next available' bucket if the new\n  Key entry collides with another.</p>\n</blockquote>\n\n<p>This is actually not true, at least for the Oracle JDK (it <em>is</em> an implementation detail that could vary between different implementations of the API). Instead, each bucket contains a linked list of entries prior to Java 8, and a balanced tree in Java 8 or above.</p>\n\n<blockquote>\n  <p>then how would the HashTable still\n  return the correct Value if this\n  collision occurs when calling for one\n  back with the collision key?</p>\n</blockquote>\n\n<p>It uses the <code>equals()</code> to find the actually matching entry.</p>\n\n<blockquote>\n  <p>If I implement my own hashing function\n  and use it as part of a look-up table\n  (i.e. a HashMap or Dictionary), what\n  strategies exist for dealing with\n  collisions?</p>\n</blockquote>\n\n<p>There are various collision handling strategies with different advantages and disadvantages.\n<a href=\"http://en.wikipedia.org/wiki/Hash_table#Collision_resolution\" rel=\"nofollow noreferrer\">Wikipedia's entry on hash tables</a> gives a good overview.</p>\n"},{"comments":[{"owner":{"account_id":85818,"reputation":4884,"user_id":239036,"accept_rate":99,"display_name":"Alex"},"score":3,"creation_date":1297547428,"post_id":4980796,"comment_id":5562325,"body_markdown":"HashMaps are very interesting and they go deep! : )","body":"HashMaps are very interesting and they go deep! : )"},{"owner":{"account_id":5163592,"reputation":466,"user_id":4134429,"accept_rate":100,"display_name":"Prashant Shubham"},"score":1,"creation_date":1570814541,"post_id":4980796,"comment_id":103046768,"body_markdown":"I think question is regarding HashTables not HashMap","body":"I think question is regarding HashTables not HashMap"}],"tags":[],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1297546815,"creation_date":1297546815,"answer_id":4980796,"question_id":4980757,"body_markdown":"I strongly suggest you to read this blog post which appeared on HackerNews recently: \r\n[How HashMap works in Java][1]\r\n\r\nIn short, the answer is\r\n\r\n&gt; What will happen if two different\r\n&gt; HashMap key objects have same\r\n&gt; hashcode?\r\n&gt; \r\n&gt; They will be stored in same bucket but\r\n&gt; no next node of linked list. And keys\r\n&gt; equals () method will be used to\r\n&gt; identify correct key value pair in\r\n&gt; HashMap.\r\n\r\n\r\n  [1]: http://javarevisited.blogspot.com/2011/02/how-hashmap-works-in-java.html","title":"How do HashTables deal with collisions?","body":"<p>I strongly suggest you to read this blog post which appeared on HackerNews recently: \n<a href=\"http://javarevisited.blogspot.com/2011/02/how-hashmap-works-in-java.html\" rel=\"noreferrer\">How HashMap works in Java</a></p>\n\n<p>In short, the answer is</p>\n\n<blockquote>\n  <p>What will happen if two different\n  HashMap key objects have same\n  hashcode?</p>\n  \n  <p>They will be stored in same bucket but\n  no next node of linked list. And keys\n  equals () method will be used to\n  identify correct key value pair in\n  HashMap.</p>\n</blockquote>\n"},{"comments":[{"owner":{"display_name":"user142019"},"score":1,"creation_date":1367731698,"post_id":4980797,"comment_id":23477987,"body_markdown":"In the case of the first option, is there any reason a linked list is used instead of an array or even a binary search tree?","body":"In the case of the first option, is there any reason a linked list is used instead of an array or even a binary search tree?"},{"owner":{"account_id":195439,"reputation":60926,"user_id":438319,"accept_rate":73,"display_name":"ams"},"score":1,"creation_date":1367849460,"post_id":4980797,"comment_id":23510538,"body_markdown":"the above explanation is high level, I don&#39;t think it makes much difference as to linked list vs. array. I think a binary search tree would be overkill. Also I think if you dig into things like ConcurrentHashMap and others there any many low level implement details that can make a performance difference, that the high level explanation above does not account for.","body":"the above explanation is high level, I don&#39;t think it makes much difference as to linked list vs. array. I think a binary search tree would be overkill. Also I think if you dig into things like ConcurrentHashMap and others there any many low level implement details that can make a performance difference, that the high level explanation above does not account for."},{"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"score":5,"creation_date":1444449842,"post_id":4980797,"comment_id":53920968,"body_markdown":"If chaining is used, when given a key, how do we know which item to get back?","body":"If chaining is used, when given a key, how do we know which item to get back?"},{"owner":{"account_id":195439,"reputation":60926,"user_id":438319,"accept_rate":73,"display_name":"ams"},"score":2,"creation_date":1444613540,"post_id":4980797,"comment_id":53961978,"body_markdown":"@ChaoSXDemon you can traverse the list in the chain by key, duplicate keys are not the issue the issue is two different keys having the same has hashcode.","body":"@ChaoSXDemon you can traverse the list in the chain by key, duplicate keys are not the issue the issue is two different keys having the same has hashcode."},{"owner":{"account_id":3716230,"reputation":17016,"user_id":3092377,"accept_rate":73,"display_name":"Shashank Vivek"},"score":1,"creation_date":1510922530,"post_id":4980797,"comment_id":81653810,"body_markdown":"@ams : Which one is preferred ? is There any limit for Hash collision,  after which 2nd point is executed by JAVA ?","body":"@ams : Which one is preferred ? is There any limit for Hash collision,  after which 2nd point is executed by JAVA ?"}],"tags":[],"owner":{"account_id":195439,"reputation":60926,"user_id":438319,"accept_rate":73,"display_name":"ams"},"comment_count":5,"down_vote_count":2,"up_vote_count":110,"is_accepted":true,"score":108,"last_activity_date":1492009108,"creation_date":1297546820,"answer_id":4980797,"question_id":4980757,"body_markdown":"Hash tables deal with collisions in one of two ways. \r\n\r\n**Option 1:** By having each bucket contain a linked list of elements that are hashed to that bucket. This is why a bad hash function can make lookups in hash tables very slow.\r\n\r\n**Option 2:** If the hash table entries are all full then the hash table can increase the number of buckets that it has and then redistribute all the elements in the table. The hash function returns an integer and the hash table has to take the result of the hash function and mod it against the size of the table that way it can be sure it will get to bucket. So by increasing the size, it will rehash and run the modulo calculations which if you are lucky might send the objects to different buckets.\r\n\r\nJava uses both option 1 and 2 in its hash table implementations.","title":"How do HashTables deal with collisions?","body":"<p>Hash tables deal with collisions in one of two ways. </p>\n\n<p><strong>Option 1:</strong> By having each bucket contain a linked list of elements that are hashed to that bucket. This is why a bad hash function can make lookups in hash tables very slow.</p>\n\n<p><strong>Option 2:</strong> If the hash table entries are all full then the hash table can increase the number of buckets that it has and then redistribute all the elements in the table. The hash function returns an integer and the hash table has to take the result of the hash function and mod it against the size of the table that way it can be sure it will get to bucket. So by increasing the size, it will rehash and run the modulo calculations which if you are lucky might send the objects to different buckets.</p>\n\n<p>Java uses both option 1 and 2 in its hash table implementations.</p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":1,"creation_date":1297550269,"post_id":4981071,"comment_id":5562692,"body_markdown":"I marked this as *community wiki*, since it doesn&#39;t really is a answer, more a bit of discussion to the other answers. In comments simply isn&#39;t enough space for such code citations.","body":"I marked this as <i>community wiki</i>, since it doesn&#39;t really is a answer, more a bit of discussion to the other answers. In comments simply isn&#39;t enough space for such code citations."}],"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1297550166,"creation_date":1297550166,"answer_id":4981071,"question_id":4980757,"body_markdown":"As there is some confusion about which algorithm Java&#39;s HashMap is using (in the Sun/Oracle/OpenJDK implementation), here the relevant source code snippets (from OpenJDK, 1.6.0_20, on Ubuntu):\r\n\r\n    /**\r\n     * Returns the entry associated with the specified key in the\r\n     * HashMap.  Returns null if the HashMap contains no mapping\r\n     * for the key.\r\n     */\r\n    final Entry&lt;K,V&gt; getEntry(Object key) {\r\n        int hash = (key == null) ? 0 : hash(key.hashCode());\r\n        for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];\r\n             e != null;\r\n             e = e.next) {\r\n            Object k;\r\n            if (e.hash == hash &amp;&amp;\r\n                ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n                return e;\r\n        }\r\n        return null;\r\n    }\r\n\r\nThis method (cite is from lines 355 to 371) is called when looking up an entry in the table, for example from `get()`, `containsKey()` and some others. The for loop here goes through the linked list formed by the entry objects.\r\n\r\nHere the code for the entry objects (lines 691-705 + 759):\r\n\r\n    static class Entry&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\r\n        final K key;\r\n        V value;\r\n        Entry&lt;K,V&gt; next;\r\n        final int hash;\r\n\r\n        /**\r\n         * Creates new entry.\r\n         */\r\n        Entry(int h, K k, V v, Entry&lt;K,V&gt; n) {\r\n            value = v;\r\n            next = n;\r\n            key = k;\r\n            hash = h;\r\n        }\r\n\r\n      // (methods left away, they are straight-forward implementations of Map.Entry)\r\n\r\n    }\r\n\r\nRight after this comes the `addEntry()` method:\r\n\r\n    /**\r\n     * Adds a new entry with the specified key, value and hash code to\r\n     * the specified bucket.  It is the responsibility of this\r\n     * method to resize the table if appropriate.\r\n     *\r\n     * Subclass overrides this to alter the behavior of put method.\r\n     */\r\n    void addEntry(int hash, K key, V value, int bucketIndex) {\r\n        Entry&lt;K,V&gt; e = table[bucketIndex];\r\n        table[bucketIndex] = new Entry&lt;K,V&gt;(hash, key, value, e);\r\n        if (size++ &gt;= threshold)\r\n            resize(2 * table.length);\r\n    }\r\n\r\nThis adds the new Entry on the front of the bucket, with a link to the old *first* entry (or null, if no such one). Similarily, the `removeEntryForKey()` method goes through the list and takes care of deleting only one entry, letting the rest of the list intact.\r\n\r\n\r\nSo, here is a linked entry list for each bucket, and I very doubt that this changed from `_20` to `_22`, since it was like this from 1.2 on.\r\n\r\n(This code is (c) 1997-2007 Sun Microsystems, and available under GPL, but for copying better use the original file, contained in src.zip in each JDK from Sun/Oracle, and also in OpenJDK.)","title":"How do HashTables deal with collisions?","body":"<p>As there is some confusion about which algorithm Java's HashMap is using (in the Sun/Oracle/OpenJDK implementation), here the relevant source code snippets (from OpenJDK, 1.6.0_20, on Ubuntu):</p>\n\n<pre><code>/**\n * Returns the entry associated with the specified key in the\n * HashMap.  Returns null if the HashMap contains no mapping\n * for the key.\n */\nfinal Entry&lt;K,V&gt; getEntry(Object key) {\n    int hash = (key == null) ? 0 : hash(key.hashCode());\n    for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];\n         e != null;\n         e = e.next) {\n        Object k;\n        if (e.hash == hash &amp;&amp;\n            ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n            return e;\n    }\n    return null;\n}\n</code></pre>\n\n<p>This method (cite is from lines 355 to 371) is called when looking up an entry in the table, for example from <code>get()</code>, <code>containsKey()</code> and some others. The for loop here goes through the linked list formed by the entry objects.</p>\n\n<p>Here the code for the entry objects (lines 691-705 + 759):</p>\n\n<pre><code>static class Entry&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\n    final K key;\n    V value;\n    Entry&lt;K,V&gt; next;\n    final int hash;\n\n    /**\n     * Creates new entry.\n     */\n    Entry(int h, K k, V v, Entry&lt;K,V&gt; n) {\n        value = v;\n        next = n;\n        key = k;\n        hash = h;\n    }\n\n  // (methods left away, they are straight-forward implementations of Map.Entry)\n\n}\n</code></pre>\n\n<p>Right after this comes the <code>addEntry()</code> method:</p>\n\n<pre><code>/**\n * Adds a new entry with the specified key, value and hash code to\n * the specified bucket.  It is the responsibility of this\n * method to resize the table if appropriate.\n *\n * Subclass overrides this to alter the behavior of put method.\n */\nvoid addEntry(int hash, K key, V value, int bucketIndex) {\n    Entry&lt;K,V&gt; e = table[bucketIndex];\n    table[bucketIndex] = new Entry&lt;K,V&gt;(hash, key, value, e);\n    if (size++ &gt;= threshold)\n        resize(2 * table.length);\n}\n</code></pre>\n\n<p>This adds the new Entry on the front of the bucket, with a link to the old <em>first</em> entry (or null, if no such one). Similarily, the <code>removeEntryForKey()</code> method goes through the list and takes care of deleting only one entry, letting the rest of the list intact.</p>\n\n<p>So, here is a linked entry list for each bucket, and I very doubt that this changed from <code>_20</code> to <code>_22</code>, since it was like this from 1.2 on.</p>\n\n<p>(This code is (c) 1997-2007 Sun Microsystems, and available under GPL, but for copying better use the original file, contained in src.zip in each JDK from Sun/Oracle, and also in OpenJDK.)</p>\n"},{"tags":[],"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425242057,"creation_date":1364328917,"answer_id":15646538,"question_id":4980757,"body_markdown":"here&#39;s a very simple hash table implementation in java. in only implements `put()` and `get()`, but you can easily add whatever you like. it relies on java&#39;s `hashCode()` method that is implemented by all objects. you could easily create your own interface,\r\n\r\n\r\n    interface Hashable {\r\n      int getHash();\r\n    }\r\n\r\nand force it to be implemented by the keys if you like.\r\n\r\n\r\n    public class Hashtable&lt;K, V&gt; {\r\n    \tprivate static class Entry&lt;K,V&gt; {\r\n    \t\tprivate final K key;\r\n    \t\tprivate final V val;\r\n    \t\t\r\n    \t\tEntry(K key, V val) {\r\n    \t\t\tthis.key = key;\r\n    \t\t\tthis.val = val;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static int BUCKET_COUNT = 13;\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tprivate List&lt;Entry&gt;[] buckets = new List[BUCKET_COUNT];\r\n    \t\r\n    \tpublic Hashtable() {\r\n    \t\tfor (int i = 0, l = buckets.length; i &lt; l; i++) {\r\n    \t\t\tbuckets[i] = new ArrayList&lt;Entry&lt;K,V&gt;&gt;();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic V get(K key) {\r\n    \t\tint b = key.hashCode() % BUCKET_COUNT;\r\n    \t\tList&lt;Entry&gt; entries = buckets[b];\r\n    \t\tfor (Entry e: entries) {\r\n    \t\t\tif (e.key.equals(key)) {\r\n    \t\t\t\treturn e.val;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tpublic void put(K key, V val) {\r\n    \t\tint b = key.hashCode() % BUCKET_COUNT;\r\n    \t\tList&lt;Entry&gt; entries = buckets[b];\r\n    \t\tentries.add(new Entry&lt;K,V&gt;(key, val));\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"How do HashTables deal with collisions?","body":"<p>here's a very simple hash table implementation in java. in only implements <code>put()</code> and <code>get()</code>, but you can easily add whatever you like. it relies on java's <code>hashCode()</code> method that is implemented by all objects. you could easily create your own interface,</p>\n\n<pre><code>interface Hashable {\n  int getHash();\n}\n</code></pre>\n\n<p>and force it to be implemented by the keys if you like.</p>\n\n<pre><code>public class Hashtable&lt;K, V&gt; {\n    private static class Entry&lt;K,V&gt; {\n        private final K key;\n        private final V val;\n\n        Entry(K key, V val) {\n            this.key = key;\n            this.val = val;\n        }\n    }\n\n    private static int BUCKET_COUNT = 13;\n\n    @SuppressWarnings(\"unchecked\")\n    private List&lt;Entry&gt;[] buckets = new List[BUCKET_COUNT];\n\n    public Hashtable() {\n        for (int i = 0, l = buckets.length; i &lt; l; i++) {\n            buckets[i] = new ArrayList&lt;Entry&lt;K,V&gt;&gt;();\n        }\n    }\n\n    public V get(K key) {\n        int b = key.hashCode() % BUCKET_COUNT;\n        List&lt;Entry&gt; entries = buckets[b];\n        for (Entry e: entries) {\n            if (e.key.equals(key)) {\n                return e.val;\n            }\n        }\n        return null;\n    }\n\n    public void put(K key, V val) {\n        int b = key.hashCode() % BUCKET_COUNT;\n        List&lt;Entry&gt; entries = buckets[b];\n        entries.add(new Entry&lt;K,V&gt;(key, val));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2190508,"reputation":193,"user_id":1937685,"display_name":"Infusion of Wormwood n Asfodel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371190295,"creation_date":1371190295,"answer_id":17102148,"question_id":4980757,"body_markdown":"There are various methods for collision resolution.Some of them are Separate Chaining,Open addressing,Robin Hood hashing,Cuckoo Hashing etc.\r\n\r\nJava uses Separate Chaining for resolving collisions in Hash tables.Here is a great link to how it happens:\r\nhttp://javapapers.com/core-java/java-hashtable/","title":"How do HashTables deal with collisions?","body":"<p>There are various methods for collision resolution.Some of them are Separate Chaining,Open addressing,Robin Hood hashing,Cuckoo Hashing etc.</p>\n\n<p>Java uses Separate Chaining for resolving collisions in Hash tables.Here is a great link to how it happens:\n<a href=\"http://javapapers.com/core-java/java-hashtable/\" rel=\"nofollow\">http://javapapers.com/core-java/java-hashtable/</a></p>\n"},{"comments":[{"owner":{"account_id":106580,"reputation":1715,"user_id":283879,"display_name":"mtone"},"score":3,"creation_date":1435528451,"post_id":20678111,"comment_id":50225415,"body_markdown":"&quot;[...] requires that the keys (or pointers to them) be stored in the table, together with the associated values&quot;. Thanks, this is the point that is not always immediately clear when reading about mechanisms for storing values.","body":"&quot;[...] requires that the keys (or pointers to them) be stored in the table, together with the associated values&quot;. Thanks, this is the point that is not always immediately clear when reading about mechanisms for storing values."}],"tags":[],"owner":{"account_id":1238452,"reputation":49641,"user_id":2589776,"accept_rate":94,"display_name":"herohuyongtao"},"comment_count":1,"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1387451917,"creation_date":1387446247,"answer_id":20678111,"question_id":4980757,"body_markdown":"When you talked about &quot;Hash Table will place a new entry into the &#39;next available&#39; bucket if the new Key entry collides with another.&quot;, you are talking about the **Open addressing strategy** of Collision resolution of hash table.\r\n\r\n***\r\nThere are several strategies for hash table to resolve collision.\r\n\r\nFirst kind of big method require that the keys (or pointers to them) be stored in the table, together with the associated values, which further includes:\r\n\r\n* **Separate chaining** \r\n\r\n![enter image description here][1]\r\n\r\n* **Open addressing**\r\n\r\n![enter image description here][2]\r\n\r\n* **Coalesced hashing**\r\n* **Cuckoo hashing**\r\n* **Robin Hood hashing**\r\n* **2-choice hashing**\r\n* **Hopscotch hashing**\r\n\r\n---\r\nAnother important method to handle collision is by **Dynamic resizing**, which further has several ways:\r\n\r\n* **Resizing by copying all entries**\r\n* **Incremental resizing**\r\n* **Monotonic keys**\r\n\r\n***\r\n**EDIT**: the above are borrowed from [wiki_hash_table](http://en.wikipedia.org/wiki/Hash_table#Collision_resolution), where you should go to have a look to get more info.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/JGX80.png\r\n  [2]: http://i.stack.imgur.com/diHhF.png","title":"How do HashTables deal with collisions?","body":"<p>When you talked about \"Hash Table will place a new entry into the 'next available' bucket if the new Key entry collides with another.\", you are talking about the <strong>Open addressing strategy</strong> of Collision resolution of hash table.</p>\n\n<hr>\n\n<p>There are several strategies for hash table to resolve collision.</p>\n\n<p>First kind of big method require that the keys (or pointers to them) be stored in the table, together with the associated values, which further includes:</p>\n\n<ul>\n<li><strong>Separate chaining</strong> </li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/JGX80.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li><strong>Open addressing</strong></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/diHhF.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li><strong>Coalesced hashing</strong></li>\n<li><strong>Cuckoo hashing</strong></li>\n<li><strong>Robin Hood hashing</strong></li>\n<li><strong>2-choice hashing</strong></li>\n<li><strong>Hopscotch hashing</strong></li>\n</ul>\n\n<hr>\n\n<p>Another important method to handle collision is by <strong>Dynamic resizing</strong>, which further has several ways:</p>\n\n<ul>\n<li><strong>Resizing by copying all entries</strong></li>\n<li><strong>Incremental resizing</strong></li>\n<li><strong>Monotonic keys</strong></li>\n</ul>\n\n<hr>\n\n<p><strong>EDIT</strong>: the above are borrowed from <a href=\"http://en.wikipedia.org/wiki/Hash_table#Collision_resolution\">wiki_hash_table</a>, where you should go to have a look to get more info.</p>\n"},{"tags":[],"owner":{"account_id":6543898,"reputation":719,"user_id":5060478,"display_name":"Jatinder Pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1541909403,"creation_date":1435753373,"answer_id":31161193,"question_id":4980757,"body_markdown":"There are multiple techniques available to handle collision. I will explain some of them\r\n\r\n**Chaining:**\r\nIn chaining we use array indexes to store the values. If hash code of second value also points to the same index then we replace that index value with an linked list and all values pointing to that index are stored in the linked list and actual array index points to the head of the the linked list.\r\nBut if there is only one hash code pointing to an index of array then the value is directly stored in that index. Same logic is applied while retrieving the values. This is used in Java HashMap/Hashtable to avoid collisions.\r\n\r\n**Linear probing:** This technique is used when we have more index in the table than the values to be stored. Linear probing technique works on the concept of keep incrementing until you find an empty slot. The pseudo code looks like this:\r\n    \r\n    index = h(k) \r\n\r\n    while( val(index) is occupied) \r\n\r\n    index = (index+1) mod n\r\n\r\n\r\n**Double hashing technique:** In this technique we use two hashing functions h1(k) and h2(k). If the slot at h1(k) is occupied then the second hashing function h2(k) used to increment the index. The pseudo-code looks like this:\r\n\r\n    index = h1(k)\r\n\r\n    while( val(index) is occupied)\r\n\r\n    index = (index + h2(k)) mod n\r\n\r\nLinear probing and double hashing techniques are part of open addressing technique and it can only be used if available slots are more than the number of items to be added. It takes less memory than chaining because there is no extra structure used here but its slow because of lot of movement happen until we find an empty slot. Also in open addressing technique when an item is removed from a slot we put an tombstone to indicate that the item is removed from here that is why its empty.\r\n\r\nFor more information see [this site](http://coder2design.com/hashing/).","title":"How do HashTables deal with collisions?","body":"<p>There are multiple techniques available to handle collision. I will explain some of them</p>\n\n<p><strong>Chaining:</strong>\nIn chaining we use array indexes to store the values. If hash code of second value also points to the same index then we replace that index value with an linked list and all values pointing to that index are stored in the linked list and actual array index points to the head of the the linked list.\nBut if there is only one hash code pointing to an index of array then the value is directly stored in that index. Same logic is applied while retrieving the values. This is used in Java HashMap/Hashtable to avoid collisions.</p>\n\n<p><strong>Linear probing:</strong> This technique is used when we have more index in the table than the values to be stored. Linear probing technique works on the concept of keep incrementing until you find an empty slot. The pseudo code looks like this:</p>\n\n<pre><code>index = h(k) \n\nwhile( val(index) is occupied) \n\nindex = (index+1) mod n\n</code></pre>\n\n<p><strong>Double hashing technique:</strong> In this technique we use two hashing functions h1(k) and h2(k). If the slot at h1(k) is occupied then the second hashing function h2(k) used to increment the index. The pseudo-code looks like this:</p>\n\n<pre><code>index = h1(k)\n\nwhile( val(index) is occupied)\n\nindex = (index + h2(k)) mod n\n</code></pre>\n\n<p>Linear probing and double hashing techniques are part of open addressing technique and it can only be used if available slots are more than the number of items to be added. It takes less memory than chaining because there is no extra structure used here but its slow because of lot of movement happen until we find an empty slot. Also in open addressing technique when an item is removed from a slot we put an tombstone to indicate that the item is removed from here that is why its empty.</p>\n\n<p>For more information see <a href=\"http://coder2design.com/hashing/\" rel=\"noreferrer\">this site</a>.</p>\n"},{"comments":[{"owner":{"account_id":168802,"reputation":11558,"user_id":394484,"accept_rate":52,"display_name":"mbm29414"},"score":0,"creation_date":1532993649,"post_id":51200059,"comment_id":90173072,"body_markdown":"Can you explain how worst case insertion for a linked-list HashMap is only O(1), and not O(N)? Seems to me that if you have a collision rate of 100% for non-duplicate keys, you end up having to traverse every object in the HashMap to find the end of the linked list, right? What am I missing?","body":"Can you explain how worst case insertion for a linked-list HashMap is only O(1), and not O(N)? Seems to me that if you have a collision rate of 100% for non-duplicate keys, you end up having to traverse every object in the HashMap to find the end of the linked list, right? What am I missing?"},{"owner":{"account_id":2402456,"reputation":1067,"user_id":2099833,"accept_rate":62,"display_name":"Daniel Valland"},"score":0,"creation_date":1533082791,"post_id":51200059,"comment_id":90212554,"body_markdown":"In the specific case of hashmap implementation you are actually right, but not because you need to find the end of the list. In a general case linked-list implementation, a pointer is stored to both head and tail, and hence insertion can be done in O(1) by attaching the next node to the tail directly, but in the case of hashmap, the insert method needs to ensure no duplicates, and thus must search the list to check if the element already exists, and hence we end up with O(n). And so it is the set property imposed on a linked-list that is causing O(N). I will make a correction to my answer :)","body":"In the specific case of hashmap implementation you are actually right, but not because you need to find the end of the list. In a general case linked-list implementation, a pointer is stored to both head and tail, and hence insertion can be done in O(1) by attaching the next node to the tail directly, but in the case of hashmap, the insert method needs to ensure no duplicates, and thus must search the list to check if the element already exists, and hence we end up with O(n). And so it is the set property imposed on a linked-list that is causing O(N). I will make a correction to my answer :)"}],"tags":[],"owner":{"account_id":2402456,"reputation":1067,"user_id":2099833,"accept_rate":62,"display_name":"Daniel Valland"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1533082452,"creation_date":1530825583,"answer_id":51200059,"question_id":4980757,"body_markdown":"**Update since Java 8:** Java 8 uses a self-balanced tree for collision-handling, improving the worst case from O(n) to O(log n) for lookup. The use of a self-balanced tree was introduced in Java 8 as an improvement over chaining (used until java 7), which uses a linked-list, and has a worst case of O(n) for lookup (as it needs to traverse the list)\n\nTo answer the second part of your question, insertion is done by mapping a given element to a given index in the underlying array of the hashmap, however, when a collision occurs, all elements must still be preserved (stored in a secondary data-structure, and not just replaced in the underlying array). This is usually done by making each array-component (slot) be a secondary datastructure (aka bucket), and the element is added to the bucket residing on the given array-index (if the key does not already exist in the bucket, in which case it is replaced).\n\nDuring lookup, the key is hashed to it&#39;s corresponding array-index, and search is performed for an element matching the (exact) key in the given bucket. Because the bucket does not need to handle collisions (compares keys directly), this solves the problem of collisions, but does so at the cost of having to perform insertion and lookup on the secondary datastructure. The key point is that in a hashmap, both the key and the value is stored, and so even if the hash collides, keys are compared directly for equality (in the bucket), and thus can be uniquely identified in the bucket.\n\nCollission-handling brings the worst-case performance of insertion and lookup from O(1) in the case of no collission-handling to O(n) for chaining (a linked-list is used as secondary datastructure) and O(log n) for self-balanced tree.\n\nReferences:\n\n&gt; Java 8 has come with the following improvements/changes of HashMap\n&gt; objects in case of high collisions.\n&gt; \n&gt; - The alternative String hash function added in Java 7 has been removed.\n&gt;\n&gt; - Buckets containing a large number of colliding keys will store their entries in a balanced tree instead of a linked list after\n&gt; certain threshold is reached.\n&gt; \n&gt; Above changes ensure performance of O(log(n)) in worst case scenarios\n(https://www.nagarro.com/en/blog/post/24/performance-improvement-for-hashmap-in-java-8)","title":"How do HashTables deal with collisions?","body":"<p><strong>Update since Java 8:</strong> Java 8 uses a self-balanced tree for collision-handling, improving the worst case from O(n) to O(log n) for lookup. The use of a self-balanced tree was introduced in Java 8 as an improvement over chaining (used until java 7), which uses a linked-list, and has a worst case of O(n) for lookup (as it needs to traverse the list)</p>\n<p>To answer the second part of your question, insertion is done by mapping a given element to a given index in the underlying array of the hashmap, however, when a collision occurs, all elements must still be preserved (stored in a secondary data-structure, and not just replaced in the underlying array). This is usually done by making each array-component (slot) be a secondary datastructure (aka bucket), and the element is added to the bucket residing on the given array-index (if the key does not already exist in the bucket, in which case it is replaced).</p>\n<p>During lookup, the key is hashed to it's corresponding array-index, and search is performed for an element matching the (exact) key in the given bucket. Because the bucket does not need to handle collisions (compares keys directly), this solves the problem of collisions, but does so at the cost of having to perform insertion and lookup on the secondary datastructure. The key point is that in a hashmap, both the key and the value is stored, and so even if the hash collides, keys are compared directly for equality (in the bucket), and thus can be uniquely identified in the bucket.</p>\n<p>Collission-handling brings the worst-case performance of insertion and lookup from O(1) in the case of no collission-handling to O(n) for chaining (a linked-list is used as secondary datastructure) and O(log n) for self-balanced tree.</p>\n<p>References:</p>\n<blockquote>\n<p>Java 8 has come with the following improvements/changes of HashMap\nobjects in case of high collisions.</p>\n<ul>\n<li><p>The alternative String hash function added in Java 7 has been removed.</p>\n</li>\n<li><p>Buckets containing a large number of colliding keys will store their entries in a balanced tree instead of a linked list after\ncertain threshold is reached.</p>\n</li>\n</ul>\n<p>Above changes ensure performance of O(log(n)) in worst case scenarios\n(<a href=\"https://www.nagarro.com/en/blog/post/24/performance-improvement-for-hashmap-in-java-8\" rel=\"noreferrer\">https://www.nagarro.com/en/blog/post/24/performance-improvement-for-hashmap-in-java-8</a>)</p>\n</blockquote>\n"}],"owner":{"account_id":85818,"reputation":4884,"user_id":239036,"accept_rate":99,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177654,"favorite_count":0,"down_vote_count":0,"up_vote_count":127,"accepted_answer_id":4980797,"answer_count":10,"score":127,"last_activity_date":1696715451,"creation_date":1297546239,"question_id":4980757,"body_markdown":"I&#39;ve heard in my degree classes that a `HashTable` will place a new entry into the &#39;next available&#39; bucket if the new Key entry collides with another.\r\n\r\nHow would the `HashTable` still return the correct Value if this collision occurs when calling for one back with the collision key?\r\n\r\nI&#39;m assuming that the `Keys` are `String` type and the `hashCode()` returns the default generated by say Java.\r\n\r\n\r\nIf I implement my own hashing function and use it as part of a look-up table (i.e. a `HashMap` or `Dictionary`), what strategies exist for dealing with collisions?\r\n\r\nI&#39;ve even seen notes relating to prime numbers! Information not so clear from Google search.","title":"How do HashTables deal with collisions?","body":"<p>I've heard in my degree classes that a <code>HashTable</code> will place a new entry into the 'next available' bucket if the new Key entry collides with another.</p>\n\n<p>How would the <code>HashTable</code> still return the correct Value if this collision occurs when calling for one back with the collision key?</p>\n\n<p>I'm assuming that the <code>Keys</code> are <code>String</code> type and the <code>hashCode()</code> returns the default generated by say Java.</p>\n\n<p>If I implement my own hashing function and use it as part of a look-up table (i.e. a <code>HashMap</code> or <code>Dictionary</code>), what strategies exist for dealing with collisions?</p>\n\n<p>I've even seen notes relating to prime numbers! Information not so clear from Google search.</p>\n"},{"tags":["java","minecraft-fabric"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695285720,"post_id":77145171,"comment_id":136004890,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":29622079,"reputation":16,"user_id":22702793,"display_name":"Robert Mans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696714032,"creation_date":1696714032,"answer_id":77251568,"question_id":77145171,"body_markdown":"The simplest way to do it is to use\\\r\n```new CommandDispatcher&lt;S&gt;().execute(commandString, source);```\\\r\nwhere commandString is the command which you want to execute(e.g. ```&quot;/kill @e&quot;```\r\n) and source is an object of type ```S``` - for example if you are doing this from a command, you would do \\\r\n```new CommandDispatcher&lt;CommandContext&lt;ServerCommandSource&gt;&gt;.execute(&quot;/kill @e&quot;, myCommandContext)```\r\n","title":"Sending a command to the server with a fabric mod","body":"<p>The simplest way to do it is to use<br />\n<code>new CommandDispatcher&lt;S&gt;().execute(commandString, source);</code><br />\nwhere commandString is the command which you want to execute(e.g. <code>&quot;/kill @e&quot;</code>\n) and source is an object of type <code>S</code> - for example if you are doing this from a command, you would do <br />\n<code>new CommandDispatcher&lt;CommandContext&lt;ServerCommandSource&gt;&gt;.execute(&quot;/kill @e&quot;, myCommandContext)</code></p>\n"}],"owner":{"account_id":25335983,"reputation":3,"user_id":19155122,"display_name":"Scrapmine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77251568,"answer_count":1,"score":-1,"last_activity_date":1696714032,"creation_date":1695234984,"question_id":77145171,"body_markdown":"How do I send a command to the server like &quot;/msg someone some important event happened!&quot; using a fabric mod in Minecraft 1.20.1?\r\n\r\nI haven&#39;t been able to find any code to try out that is not using classes that do not exist anymore.","title":"Sending a command to the server with a fabric mod","body":"<p>How do I send a command to the server like &quot;/msg someone some important event happened!&quot; using a fabric mod in Minecraft 1.20.1?</p>\n<p>I haven't been able to find any code to try out that is not using classes that do not exist anymore.</p>\n"},{"tags":["java","spring","jms"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":0,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1282203605,"creation_date":1282203605,"answer_id":3519685,"question_id":3518292,"body_markdown":"This might seem a bit odd, you need to tell JmsTemplate that it&#39;s a topic rather than a queue, by setting its `pubSubDomain` property to `true`.\r\n\r\nThat means you&#39;re going to need two `JmsTemplate` beans, one for the queue, and one for the topic:\r\n\r\n    &lt;bean id=&quot;jmsQueueTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;\r\n       &lt;constructor-arg ref=&quot;connectionFactory&quot; /&gt;\r\n       &lt;property name=&quot;pubSubDomain&quot; value=&quot;false&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;jmsTopicTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;\r\n       &lt;constructor-arg ref=&quot;connectionFactory&quot; /&gt;\r\n       &lt;property name=&quot;pubSubDomain&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n","title":"How do you publish a JMS topic with Spring JMS?","body":"<p>This might seem a bit odd, you need to tell JmsTemplate that it's a topic rather than a queue, by setting its <code>pubSubDomain</code> property to <code>true</code>.</p>\n\n<p>That means you're going to need two <code>JmsTemplate</code> beans, one for the queue, and one for the topic:</p>\n\n<pre><code>&lt;bean id=\"jmsQueueTemplate\" class=\"org.springframework.jms.core.JmsTemplate\"&gt;\n   &lt;constructor-arg ref=\"connectionFactory\" /&gt;\n   &lt;property name=\"pubSubDomain\" value=\"false\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"jmsTopicTemplate\" class=\"org.springframework.jms.core.JmsTemplate\"&gt;\n   &lt;constructor-arg ref=\"connectionFactory\" /&gt;\n   &lt;property name=\"pubSubDomain\" value=\"true\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161697,"reputation":2345,"user_id":382683,"accept_rate":75,"display_name":"Eran Harel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1282308807,"creation_date":1282308807,"answer_id":3530982,"question_id":3518292,"body_markdown":"If you create the destination as a spring bean rather than using the destination name in your code, Spring won&#39;t need to know whether it is a topic or a queue. Else the solution suggested above should work as well.\r\n\r\nAMQ JMS destinations can be created by directly instantiating them:\r\n\r\n      &lt;bean id=&quot;destination&quot; class=&quot;org.apache.activemq.command.ActiveMQTopic&quot;&gt;\r\n        &lt;constructor-arg value=&quot;TOPIC_NAME&quot; /&gt;\r\n      &lt;/bean&gt;\r\n\r\nor fetching from JNDI:  \r\n\r\n    &lt;bean id=&quot;topic&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;jndiName&quot; value=&quot;TOPIC_NAME&quot;/&gt;\r\n            &lt;property name=&quot;jndiTemplate&quot; ref=&quot;jmsJndiTemplate&quot;/&gt; \r\n    &lt;/bean&gt;\r\n\r\n\r\nI prefer the JNDI technique as it is more standard.","title":"How do you publish a JMS topic with Spring JMS?","body":"<p>If you create the destination as a spring bean rather than using the destination name in your code, Spring won't need to know whether it is a topic or a queue. Else the solution suggested above should work as well.</p>\n\n<p>AMQ JMS destinations can be created by directly instantiating them:</p>\n\n<pre><code>  &lt;bean id=\"destination\" class=\"org.apache.activemq.command.ActiveMQTopic\"&gt;\n    &lt;constructor-arg value=\"TOPIC_NAME\" /&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>or fetching from JNDI:  </p>\n\n<pre><code>&lt;bean id=\"topic\" class=\"org.springframework.jndi.JndiObjectFactoryBean\"&gt;\n        &lt;property name=\"jndiName\" value=\"TOPIC_NAME\"/&gt;\n        &lt;property name=\"jndiTemplate\" ref=\"jmsJndiTemplate\"/&gt; \n&lt;/bean&gt;\n</code></pre>\n\n<p>I prefer the JNDI technique as it is more standard.</p>\n"},{"comments":[{"owner":{"account_id":156272,"reputation":66,"user_id":373460,"display_name":"danielnovy"},"score":0,"creation_date":1515792733,"post_id":32995566,"comment_id":83451099,"body_markdown":"Worked perfectly for me. If you add @Component to the DestinationResolver, you don&#39;t even need to set it on JmsTemplate","body":"Worked perfectly for me. If you add @Component to the DestinationResolver, you don&#39;t even need to set it on JmsTemplate"},{"owner":{"account_id":25805,"reputation":22420,"user_id":66629,"display_name":"Gian Marco"},"score":0,"creation_date":1515914086,"post_id":32995566,"comment_id":83477486,"body_markdown":"@danielnovy if you found the answer useful, a vote up would be appreciated :)","body":"@danielnovy if you found the answer useful, a vote up would be appreciated :)"}],"tags":[],"owner":{"account_id":25805,"reputation":22420,"user_id":66629,"display_name":"Gian Marco"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1444235520,"creation_date":1444229613,"answer_id":32995566,"question_id":3518292,"body_markdown":"If it&#39;s ok for you to use a naming convention for queue/topics, then you can implement a custom `org.springframework.jms.support.destination.DestinationResolver`\r\n\r\n    public class NamingDestinationResolver implements DestinationResolver {\r\n       public Destination resolveDestinationName(Session session, String destinationName, boolean pubSubDomain) throws JMSException {\r\n          if (destinationName.endsWith(&quot;Queue&quot;)) {\r\n             return session.createQueue(destinationName);\r\n          } else if (destinationName.endsWith(&quot;Topic&quot;)) {\r\n             return session.createTopic(destinationName);\r\n          }\r\n          throw new RuntimeException(&quot;Naming convention not respected for destination &quot; + destinationName);\r\n       }\r\n    }\r\n\r\nand reference it using `JmsTemplate.setDestinationResolver`","title":"How do you publish a JMS topic with Spring JMS?","body":"<p>If it's ok for you to use a naming convention for queue/topics, then you can implement a custom <code>org.springframework.jms.support.destination.DestinationResolver</code></p>\n\n<pre><code>public class NamingDestinationResolver implements DestinationResolver {\n   public Destination resolveDestinationName(Session session, String destinationName, boolean pubSubDomain) throws JMSException {\n      if (destinationName.endsWith(\"Queue\")) {\n         return session.createQueue(destinationName);\n      } else if (destinationName.endsWith(\"Topic\")) {\n         return session.createTopic(destinationName);\n      }\n      throw new RuntimeException(\"Naming convention not respected for destination \" + destinationName);\n   }\n}\n</code></pre>\n\n<p>and reference it using <code>JmsTemplate.setDestinationResolver</code></p>\n"}],"owner":{"account_id":31584,"reputation":3841,"user_id":86857,"accept_rate":73,"display_name":"wsb3383"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45608,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":3519685,"answer_count":3,"score":28,"last_activity_date":1696713570,"creation_date":1282185172,"question_id":3518292,"body_markdown":"I have a component that sends messages to a queue to be handled by another system. It should also publish a topic about job statuses every once in a while. Can I just use the same JmsTemplate used to send to a queue AND to publish to a topic?\r\n\r\nI created a new topic in ActiveMQ, except that when I send from JmsTemplate a message, a new queue with the topic name gets created with the sent message (instead of sending the data to the actual topic), what am I doing wrong here?\r\n\r\nhere&#39;s my config:\r\n\r\n&lt;amq:connectionFactory id=&quot;amqConnectionFactory&quot; brokerURL=&quot;tcp://localhost:61616&quot; /&gt;\r\n\t&lt;!-- CachingConnectionFactory Definition, sessionCacheSize property is the number of sessions to cache --&gt;\r\n\r\n\t&lt;bean id=&quot;connectionFactory&quot; class=&quot;org.springframework.jms.connection.CachingConnectionFactory&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;amqConnectionFactory&quot; /&gt;\r\n\t\t&lt;property name=&quot;exceptionListener&quot; ref=&quot;jmsExceptionListener&quot; /&gt;\r\n\t\t&lt;property name=&quot;sessionCacheSize&quot; value=&quot;100&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;!--  JmsTemplate Definition --&gt;\r\n\t&lt;bean id=&quot;jmsTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;connectionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t\r\n\t&lt;bean id=&quot;messageFacade&quot; class=&quot;org.foo.MessageFacadeJms&quot;&gt;\r\n\t\t&lt;property name=&quot;jmsTemplate&quot; ref=&quot;jmsTemplate&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nMessageFacadeJms is the class I use to send a queue message (and it works), can I also just used that to publish a topic?\r\n\r\nCan I just use this to do both queue sending and topic publishing?:\r\n\r\n    jmsTemplate.convertAndSend(&quot;TOPIC_NAME&quot; /* or queue name */, message);","title":"How do you publish a JMS topic with Spring JMS?","body":"<p>I have a component that sends messages to a queue to be handled by another system. It should also publish a topic about job statuses every once in a while. Can I just use the same JmsTemplate used to send to a queue AND to publish to a topic?</p>\n\n<p>I created a new topic in ActiveMQ, except that when I send from JmsTemplate a message, a new queue with the topic name gets created with the sent message (instead of sending the data to the actual topic), what am I doing wrong here?</p>\n\n<p>here's my config:</p>\n\n<p>\n    </p>\n\n<pre><code>&lt;bean id=\"connectionFactory\" class=\"org.springframework.jms.connection.CachingConnectionFactory\"&gt;\n    &lt;constructor-arg ref=\"amqConnectionFactory\" /&gt;\n    &lt;property name=\"exceptionListener\" ref=\"jmsExceptionListener\" /&gt;\n    &lt;property name=\"sessionCacheSize\" value=\"100\" /&gt;\n&lt;/bean&gt;\n\n&lt;!--  JmsTemplate Definition --&gt;\n&lt;bean id=\"jmsTemplate\" class=\"org.springframework.jms.core.JmsTemplate\"&gt;\n    &lt;constructor-arg ref=\"connectionFactory\" /&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=\"messageFacade\" class=\"org.foo.MessageFacadeJms\"&gt;\n    &lt;property name=\"jmsTemplate\" ref=\"jmsTemplate\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>MessageFacadeJms is the class I use to send a queue message (and it works), can I also just used that to publish a topic?</p>\n\n<p>Can I just use this to do both queue sending and topic publishing?:</p>\n\n<pre><code>jmsTemplate.convertAndSend(\"TOPIC_NAME\" /* or queue name */, message);\n</code></pre>\n"},{"tags":["java","concurrency","jmh","project-panama"],"comments":[{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1629886809,"post_id":68875404,"comment_id":121803783,"body_markdown":"The example you mentioned (JMHSample_22_FalseSharing) makes only plain read and write (with no any membars involved). Your benchmark: 1. uses VarHandle based operations instead of direct access to a field (typically VH operations are optimized, but I&#39;d expect additional perf penalty anyway) 2. introduces membars with getAcquire/setRelease. So, the tests are very different from each other. To make more detailed analysts you may try to use JMH &quot;perfasm&quot; profiler. Or even better https://software.intel.com/content/www/us/en/develop/documentation/vtune-cookbook/top/tuning-recipes/false-sharing.html","body":"The example you mentioned (JMHSample_22_FalseSharing) makes only plain read and write (with no any membars involved). Your benchmark: 1. uses VarHandle based operations instead of direct access to a field (typically VH operations are optimized, but I&#39;d expect additional perf penalty anyway) 2. introduces membars with getAcquire/setRelease. So, the tests are very different from each other. To make more detailed analysts you may try to use JMH &quot;perfasm&quot; profiler. Or even better <a href=\"https://software.intel.com/content/www/us/en/develop/documentation/vtune-cookbook/top/tuning-recipes/false-sharing.html\" rel=\"nofollow noreferrer\">software.intel.com/content/www/us/en/develop/documentation/&hellip;</a>"},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1629886864,"post_id":68875404,"comment_id":121803818,"body_markdown":"Intel VTune can be configured for analysis of a java process easily","body":"Intel VTune can be configured for analysis of a java process easily"}],"answers":[{"tags":[],"owner":{"account_id":6995097,"reputation":1409,"user_id":5363011,"display_name":"George Leung"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696712678,"creation_date":1696656526,"answer_id":77248478,"question_id":68875404,"body_markdown":"Belated answer, now that the FFM API is quite different.\r\n\r\n---\r\n\r\nTake a look at the following JShell session.\r\n\r\n```java\r\njshell --add-modules jdk.incubator.foreign\r\n|  Welcome to JShell -- Version 17.0.2\r\n|  For an introduction type: /help intro\r\n\r\njshell&gt; import jdk.incubator.foreign.*;\r\n   ...&gt; ResourceScope rs = ResourceScope.newSharedScope();\r\n   ...&gt;\r\nrs ==&gt; jdk.internal.foreign.SharedScope@238e0d81\r\n\r\njshell&gt; final MemorySegment readSegment = MemorySegment.allocateNative(MemoryLayouts.JAVA_LONG, rs);\r\n   ...&gt; final MemorySegment writeSegment = MemorySegment.allocateNative(MemoryLayouts.JAVA_LONG, rs);\r\n   ...&gt;\r\nreadSegment ==&gt; MemorySegment{ id=0x28758e86 limit: 8 }\r\nwriteSegment ==&gt; MemorySegment{ id=0x286203e6 limit: 8 }\r\n\r\njshell&gt; writeSegment.address().toRawLongValue() - readSegment.address().toRawLongValue()\r\n$5 ==&gt; 24928\r\n\r\njshell&gt;\r\n```\r\n\r\nThe two `MemorySegment`s I allocated, like how you do in `StateBaseline`, are far away from each other. So there&#39;s no false sharing.\r\n\r\nContrast that with the `readOnly` and `writeOnly` fields in `JMHSample_22_FalseSharing.StateBaseline`. They are next to each other in the same object, so the various tricks to separate them improve the performance by preventing false sharing.\r\n\r\n---\r\n\r\nNow as to why the two `MemorySegments` are so far away, [this answer](https://stackoverflow.com/a/8217737/5363011) might be relevant.\r\n\r\nHowever they can be close to each other.\r\nIn fact when I do\\\r\n`try (ResourceScope rs = ResourceScope.newSharedScope()) {`, or\\\r\nin Java 21: `try (Arena arena = Arena.ofConfined()) {`,\\\r\nthey are usually close, or sometimes next to each other.\r\n\r\n---\r\n\r\nTo test false sharing with `MemorySegment` you can try the following (in Java 21):\r\n\r\n```java\r\nMemorySegment longArray = Arena.global().allocateArray(ValueLayout.JAVA_LONG, 0, 0);\r\nMemorySegment readSegment = longArray.asSlice(0, ValueLayout.JAVA_LONG);\r\nMemorySegment writeSegment = longArray.asSlice(ValueLayout.JAVA_LONG.byteSize(), ValueLayout.JAVA_LONG);\r\n\r\nMemorySegment structArray = Arena.global().allocateArray(gl, 2);\r\n```","title":"Panama: Padding doesn&#39;t prevent false sharing","body":"<p>Belated answer, now that the FFM API is quite different.</p>\n<hr />\n<p>Take a look at the following JShell session.</p>\n<pre class=\"lang-java prettyprint-override\"><code>jshell --add-modules jdk.incubator.foreign\n|  Welcome to JShell -- Version 17.0.2\n|  For an introduction type: /help intro\n\njshell&gt; import jdk.incubator.foreign.*;\n   ...&gt; ResourceScope rs = ResourceScope.newSharedScope();\n   ...&gt;\nrs ==&gt; jdk.internal.foreign.SharedScope@238e0d81\n\njshell&gt; final MemorySegment readSegment = MemorySegment.allocateNative(MemoryLayouts.JAVA_LONG, rs);\n   ...&gt; final MemorySegment writeSegment = MemorySegment.allocateNative(MemoryLayouts.JAVA_LONG, rs);\n   ...&gt;\nreadSegment ==&gt; MemorySegment{ id=0x28758e86 limit: 8 }\nwriteSegment ==&gt; MemorySegment{ id=0x286203e6 limit: 8 }\n\njshell&gt; writeSegment.address().toRawLongValue() - readSegment.address().toRawLongValue()\n$5 ==&gt; 24928\n\njshell&gt;\n</code></pre>\n<p>The two <code>MemorySegment</code>s I allocated, like how you do in <code>StateBaseline</code>, are far away from each other. So there's no false sharing.</p>\n<p>Contrast that with the <code>readOnly</code> and <code>writeOnly</code> fields in <code>JMHSample_22_FalseSharing.StateBaseline</code>. They are next to each other in the same object, so the various tricks to separate them improve the performance by preventing false sharing.</p>\n<hr />\n<p>Now as to why the two <code>MemorySegments</code> are so far away, <a href=\"https://stackoverflow.com/a/8217737/5363011\">this answer</a> might be relevant.</p>\n<p>However they can be close to each other.\nIn fact when I do<br />\n<code>try (ResourceScope rs = ResourceScope.newSharedScope()) {</code>, or<br />\nin Java 21: <code>try (Arena arena = Arena.ofConfined()) {</code>,<br />\nthey are usually close, or sometimes next to each other.</p>\n<hr />\n<p>To test false sharing with <code>MemorySegment</code> you can try the following (in Java 21):</p>\n<pre class=\"lang-java prettyprint-override\"><code>MemorySegment longArray = Arena.global().allocateArray(ValueLayout.JAVA_LONG, 0, 0);\nMemorySegment readSegment = longArray.asSlice(0, ValueLayout.JAVA_LONG);\nMemorySegment writeSegment = longArray.asSlice(ValueLayout.JAVA_LONG.byteSize(), ValueLayout.JAVA_LONG);\n\nMemorySegment structArray = Arena.global().allocateArray(gl, 2);\n</code></pre>\n"}],"owner":{"account_id":17776757,"reputation":97,"user_id":12908964,"display_name":"sqlearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696712678,"creation_date":1629567763,"question_id":68875404,"body_markdown":"I am trying to benchmark the effects false sharing has on the performance of a program.\r\n \r\nIn this example: https://github.com/lexburner/JMH-samples/blob/master/src/main/java/org/openjdk/jmh/samples/JMHSample_22_FalseSharing.java\r\n, cache line padding results in a performance improvement by an order-of-magnitude.\r\n\r\nHowever when I use project panamas Foreign Memory Access API the cache line padding actually makes the performance slightly worse. Do MemorySegments implicitly use padding? What else could be causing this behaviour?\r\n\r\nI have already tried to run the benchmarks on different Hardware and to turn off hyperthreading with the same outcome.\r\n\r\nBenchmark details:  \r\n \r\n```\r\n@BenchmarkMode(Mode.Throughput)\r\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Fork(5)\r\npublic class JMH_FalseSharing {\r\n\r\n\t@State(Scope.Group)\r\n    public static class StateBaseline {\r\n\t\t@TearDown(Level.Trial)\r\n        public void tearDown(){\r\n            rs.close();\r\n        }\r\n\r\n\t\tResourceScope rs = ResourceScope.newSharedScope();\r\n\t\tstatic final VarHandle VH;\r\n\t\tfinal MemorySegment readSegment = MemorySegment.allocateNative(MemoryLayouts.JAVA_LONG, rs);\r\n\t\tfinal MemorySegment writeSegment = MemorySegment.allocateNative(MemoryLayouts.JAVA_LONG, rs);\r\n\r\n\t\tstatic{\r\n\t\t\tVH = MemoryLayouts.JAVA_LONG.varHandle(long.class);\r\n\t\t}\r\n    }\r\n\t\r\n\t@State(Scope.Group)\r\n    public static class StatePadded {\r\n\t\t@TearDown(Level.Trial)\r\n        public void tearDown(){\r\n            rs.close();\r\n        }\r\n\t\r\n\t\tResourceScope rs = ResourceScope.newSharedScope();\r\n\t\tstatic final VarHandle VH;\r\n\t\tprivate static final GroupLayout gl = MemoryLayout.structLayout(\r\n            MemoryLayout.paddingLayout(448L),\r\n            MemoryLayouts.JAVA_LONG.withName(&quot;val&quot;),\r\n            MemoryLayout.paddingLayout(448L)\r\n            );\r\n\t\t\t\r\n\t\tfinal MemorySegment readSegment  = MemorySegment.allocateNative(gl, rs);\r\n\t\tfinal MemorySegment writeSegment = MemorySegment.allocateNative(gl, rs);\r\n\r\n\t\tstatic{\r\n\t\t\tVH = gl.varHandle(long.class, MemoryLayout.PathElement.groupElement(&quot;val&quot;));\r\n\t\t}\r\n    }\r\n\t\r\n\t@Group(&quot;baseline&quot;)\r\n    @Benchmark\r\n    public void baselineWrite(StateBaseline baselineState){\r\n\t\tStateBaseline.VH.setRelease(baselineState.writeSegment, (long)StateBaseline.VH.getAcquire(baselineState.writeSegment) + 1);\r\n    }\r\n\r\n    @Group(&quot;baseline&quot;)\r\n    @Benchmark\r\n    public void baselineRead(Blackhole blackhole, StateBaseline baselineState){\r\n\t\tblackhole.consume((long)StateBaseline.VH.getAcquire(baselineState.readSegment));\r\n    }\r\n\t\r\n\t@Group(&quot;padded&quot;)\r\n    @Benchmark\r\n    public void paddedWrite(StatePadded paddedState){\r\n\t\tStatePadded.VH.setRelease(paddedState.writeSegment, (long)StatePadded.VH.getAcquire(paddedState.writeSegment) + 1);\r\n    }\r\n\r\n    @Group(&quot;padded&quot;)\r\n    @Benchmark\r\n    public void paddedRead(Blackhole blackhole, StatePadded paddedState){\r\n\t\tblackhole.consume((long)StatePadded.VH.getAcquire(paddedState.readSegment));\r\n    }\r\n}\r\n```","title":"Panama: Padding doesn&#39;t prevent false sharing","body":"<p>I am trying to benchmark the effects false sharing has on the performance of a program.</p>\n<p>In this example: <a href=\"https://github.com/lexburner/JMH-samples/blob/master/src/main/java/org/openjdk/jmh/samples/JMHSample_22_FalseSharing.java\" rel=\"nofollow noreferrer\">https://github.com/lexburner/JMH-samples/blob/master/src/main/java/org/openjdk/jmh/samples/JMHSample_22_FalseSharing.java</a>\n, cache line padding results in a performance improvement by an order-of-magnitude.</p>\n<p>However when I use project panamas Foreign Memory Access API the cache line padding actually makes the performance slightly worse. Do MemorySegments implicitly use padding? What else could be causing this behaviour?</p>\n<p>I have already tried to run the benchmarks on different Hardware and to turn off hyperthreading with the same outcome.</p>\n<p>Benchmark details:</p>\n<pre><code>@BenchmarkMode(Mode.Throughput)\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Fork(5)\npublic class JMH_FalseSharing {\n\n    @State(Scope.Group)\n    public static class StateBaseline {\n        @TearDown(Level.Trial)\n        public void tearDown(){\n            rs.close();\n        }\n\n        ResourceScope rs = ResourceScope.newSharedScope();\n        static final VarHandle VH;\n        final MemorySegment readSegment = MemorySegment.allocateNative(MemoryLayouts.JAVA_LONG, rs);\n        final MemorySegment writeSegment = MemorySegment.allocateNative(MemoryLayouts.JAVA_LONG, rs);\n\n        static{\n            VH = MemoryLayouts.JAVA_LONG.varHandle(long.class);\n        }\n    }\n    \n    @State(Scope.Group)\n    public static class StatePadded {\n        @TearDown(Level.Trial)\n        public void tearDown(){\n            rs.close();\n        }\n    \n        ResourceScope rs = ResourceScope.newSharedScope();\n        static final VarHandle VH;\n        private static final GroupLayout gl = MemoryLayout.structLayout(\n            MemoryLayout.paddingLayout(448L),\n            MemoryLayouts.JAVA_LONG.withName(&quot;val&quot;),\n            MemoryLayout.paddingLayout(448L)\n            );\n            \n        final MemorySegment readSegment  = MemorySegment.allocateNative(gl, rs);\n        final MemorySegment writeSegment = MemorySegment.allocateNative(gl, rs);\n\n        static{\n            VH = gl.varHandle(long.class, MemoryLayout.PathElement.groupElement(&quot;val&quot;));\n        }\n    }\n    \n    @Group(&quot;baseline&quot;)\n    @Benchmark\n    public void baselineWrite(StateBaseline baselineState){\n        StateBaseline.VH.setRelease(baselineState.writeSegment, (long)StateBaseline.VH.getAcquire(baselineState.writeSegment) + 1);\n    }\n\n    @Group(&quot;baseline&quot;)\n    @Benchmark\n    public void baselineRead(Blackhole blackhole, StateBaseline baselineState){\n        blackhole.consume((long)StateBaseline.VH.getAcquire(baselineState.readSegment));\n    }\n    \n    @Group(&quot;padded&quot;)\n    @Benchmark\n    public void paddedWrite(StatePadded paddedState){\n        StatePadded.VH.setRelease(paddedState.writeSegment, (long)StatePadded.VH.getAcquire(paddedState.writeSegment) + 1);\n    }\n\n    @Group(&quot;padded&quot;)\n    @Benchmark\n    public void paddedRead(Blackhole blackhole, StatePadded paddedState){\n        blackhole.consume((long)StatePadded.VH.getAcquire(paddedState.readSegment));\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":2,"creation_date":1696712755,"post_id":77251503,"comment_id":136189293,"body_markdown":"You make it too complicated. In the for loop, `x &lt; customers.size()` will always fail, because there are no elements in there yet. So instead of the whole `for` loop (all 5 lines), write that one line: `customers.add(c);`. `ArrayList` automatically increases its size, you will NOT overwrite anything in there if you simply call `.add(obj)`, because that will ALWAYS be inserted as the last element.","body":"You make it too complicated. In the for loop, <code>x &lt; customers.size()</code> will always fail, because there are no elements in there yet. So instead of the whole <code>for</code> loop (all 5 lines), write that one line: <code>customers.add(c);</code>. <code>ArrayList</code> automatically increases its size, you will NOT overwrite anything in there if you simply call <code>.add(obj)</code>, because that will ALWAYS be inserted as the last element."}],"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696712557,"creation_date":1696712414,"question_id":77251503,"body_markdown":"I&#39;m not using anything that saves permanent changes, so when the program ends, the ArrayList is also reset. Now, when the program runs, a user will enter two values. Those values will be used in the creation of a class object, and said object will be assigned to an array index. Here&#39;s that code below:\r\n\r\n```\r\nSystem.out.print(&quot;\\nEnter a name of your choosing: &quot;);\r\nsName = s.nextLine();\r\nSystem.out.print(&quot;\\nPlease enter a password: &quot;);\r\nsPass = s.nextLine();\r\nCustomer c = new Customer(sName, &quot;&quot;, sName, sPass, 0, 0);\r\nfor (int x = 0; x &lt; customers.size(); x++) {\r\n     if (x == customers.size()) {\r\n         customers.add(x, c);\r\n     }\r\n}\r\nreturn;\r\n```\r\nArrayList statement, if it helps. \r\n```\r\nstatic ArrayList&lt;Customer&gt; customers = new ArrayList();\r\n```\r\nThe values for &quot;Customer c&quot; besides &#39;sName&#39; and &#39;sPass&#39; are not important in this context. The idea here is that when a person registers a new customer account, this register function can be used indefinitely. (ex: entering &quot;David&quot;, &quot;monkey1&quot; will be customers[0]. Entering &quot;Amy&quot;, &quot;turtles4ever&quot; will be customers[1]).\r\n\r\nWithin the for loop, I added that it will only be added to customers[] if &#39;x&#39; is equal to the max array size, which  can be found with &#39;.size()&#39;. This way, the object **won&#39;t** just overwrite all the previous array values. \r\n\r\nDespite all that, for some reason, nothing happens. Debugging shows that there is *nothing* in the element. Or the array for that matter. It should also be noted that doing the customer.add() statement outside the for-loop works just fine. \r\n\r\nI&#39;m pretty sure this happens because there&#39;s nothing in the Customer ArrayList (it&#39;s empty), so it kinda just does nothing when the for-loop starts. I could just reverse the logic, but I don&#39;t feel that&#39;s right solution to this problem. In conclusion, I&#39;m stuck.","title":"How do I add objects to an ArrayList while the program is running?","body":"<p>I'm not using anything that saves permanent changes, so when the program ends, the ArrayList is also reset. Now, when the program runs, a user will enter two values. Those values will be used in the creation of a class object, and said object will be assigned to an array index. Here's that code below:</p>\n<pre><code>System.out.print(&quot;\\nEnter a name of your choosing: &quot;);\nsName = s.nextLine();\nSystem.out.print(&quot;\\nPlease enter a password: &quot;);\nsPass = s.nextLine();\nCustomer c = new Customer(sName, &quot;&quot;, sName, sPass, 0, 0);\nfor (int x = 0; x &lt; customers.size(); x++) {\n     if (x == customers.size()) {\n         customers.add(x, c);\n     }\n}\nreturn;\n</code></pre>\n<p>ArrayList statement, if it helps.</p>\n<pre><code>static ArrayList&lt;Customer&gt; customers = new ArrayList();\n</code></pre>\n<p>The values for &quot;Customer c&quot; besides 'sName' and 'sPass' are not important in this context. The idea here is that when a person registers a new customer account, this register function can be used indefinitely. (ex: entering &quot;David&quot;, &quot;monkey1&quot; will be customers[0]. Entering &quot;Amy&quot;, &quot;turtles4ever&quot; will be customers[1]).</p>\n<p>Within the for loop, I added that it will only be added to customers[] if 'x' is equal to the max array size, which  can be found with '.size()'. This way, the object <strong>won't</strong> just overwrite all the previous array values.</p>\n<p>Despite all that, for some reason, nothing happens. Debugging shows that there is <em>nothing</em> in the element. Or the array for that matter. It should also be noted that doing the customer.add() statement outside the for-loop works just fine.</p>\n<p>I'm pretty sure this happens because there's nothing in the Customer ArrayList (it's empty), so it kinda just does nothing when the for-loop starts. I could just reverse the logic, but I don't feel that's right solution to this problem. In conclusion, I'm stuck.</p>\n"},{"tags":["java","maven","java-21","maven-3.9.5"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1696708694,"post_id":77251065,"comment_id":136188914,"body_markdown":"Have you downloaded the src or the bin archives (zip file for windows `\tapache-maven-3.9.5-bin.zip`) artifact? Why do you use M2_HOME?","body":"Have you downloaded the src or the bin archives (zip file for windows `\tapache-maven-3.9.5-bin.zip`) artifact? Why do you use M2_HOME?"},{"owner":{"account_id":11410810,"reputation":1856,"user_id":8365012,"accept_rate":100,"display_name":"cmprogram"},"score":1,"creation_date":1696720461,"post_id":77251065,"comment_id":136189870,"body_markdown":"@khmarbaise I was using the src archives, I&#39;ve since changed to the bin archives and it all works. Thank you very much for your response.","body":"@khmarbaise I was using the src archives, I&#39;ve since changed to the bin archives and it all works. Thank you very much for your response."}],"answers":[{"comments":[{"owner":{"account_id":11410810,"reputation":1856,"user_id":8365012,"accept_rate":100,"display_name":"cmprogram"},"score":0,"creation_date":1696720516,"post_id":77251492,"comment_id":136189874,"body_markdown":"Fantastic, this worked! This was absolutely the problem, I see now that he source files are for building maven yourself. Thanks very much for your answer!","body":"Fantastic, this worked! This was absolutely the problem, I see now that he source files are for building maven yourself. Thanks very much for your answer!"}],"tags":[],"owner":{"account_id":6016955,"reputation":186,"user_id":4725439,"display_name":"Nahid"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696712224,"creation_date":1696712224,"answer_id":77251492,"question_id":77251065,"body_markdown":"You are trying with source. Download the binaries from https://dlcdn.apache.org/maven/maven-3/3.9.5/binaries/apache-maven-3.9.5-bin.zip ","title":"Maven 3.9.5 - Error: -classpath requires class path specification","body":"<p>You are trying with source. Download the binaries from <a href=\"https://dlcdn.apache.org/maven/maven-3/3.9.5/binaries/apache-maven-3.9.5-bin.zip\" rel=\"nofollow noreferrer\">https://dlcdn.apache.org/maven/maven-3/3.9.5/binaries/apache-maven-3.9.5-bin.zip</a></p>\n"}],"owner":{"account_id":11410810,"reputation":1856,"user_id":8365012,"accept_rate":100,"display_name":"cmprogram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77251492,"answer_count":1,"score":0,"last_activity_date":1696712224,"creation_date":1696704108,"question_id":77251065,"body_markdown":"When running `mvn -v` or `mvn -version` I receive the following error:   \r\n`Error: -classpath requires class path specification`\r\n\r\nHowever, I have followed the instruction as defined on both:\r\nhttps://www.oracle.com/uk/java/technologies/downloads/#jdk21-windows and https://maven.apache.org/download.cgi\r\n\r\nWhat is missing or misconfigured that could be causing this error?\r\n\r\n**I am using:**   \r\nMaven 3.9.5   \r\nJava Version: 21\r\n\r\n**Directory Locations:**   \r\nMaven is located at:\r\n`C:\\Maven`   \r\nJava JDK is located at:\r\n`C:\\Program Files\\Java`\r\n\r\n**Environment Variables:**   \r\nUser Variables:   \r\n`JAVA_HOME`: `C:\\Program Files\\Java\\jdk-21`    \r\n`M2_HOME`: `C:\\Maven\\apache-maven-3.9.5-src\\apache-maven-3.9.5\\apache-maven\\src`   \r\n`M2`: `%M2_HOME%\\bin`   \r\n`MAVEN_HOME`: `C:\\Maven\\apache-maven-3.9.5-src\\apache-maven-3.9.5\\apache-maven\\src`\r\n\r\n**Path Variable:** // This reflects my various attempts to get this to work.  \r\n`%JAVA_HOME%\\bin`   \r\n`C:\\Program Files\\Java\\jdk-21\\bin`   \r\n`C:\\Maven\\apache-maven-3.9.5-src\\apache-maven-3.9.5\\`       \r\n`%M2%`   \r\n`C:\\Maven\\apache-maven-3.9.5-src\\apache-maven-3.9.5\\apache-maven\\src\\bin`\r\n`%M2_HOME%`    \r\n`C:\\Program Files\\Java\\jdk-21`\r\n\r\nLastly, when running `java -version`, the following is returned:\r\n```\r\njava version &quot;21&quot; 2023-09-19 LTS\r\nJava(TM) SE Runtime Environment (build 21+35-LTS-2513)\r\nJava HotSpot(TM) 64-Bit Server VM (build 21+35-LTS-2513, mixed mode, sharing)\r\n```\r\n","title":"Maven 3.9.5 - Error: -classpath requires class path specification","body":"<p>When running <code>mvn -v</code> or <code>mvn -version</code> I receive the following error:<br />\n<code>Error: -classpath requires class path specification</code></p>\n<p>However, I have followed the instruction as defined on both:\n<a href=\"https://www.oracle.com/uk/java/technologies/downloads/#jdk21-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/uk/java/technologies/downloads/#jdk21-windows</a> and <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://maven.apache.org/download.cgi</a></p>\n<p>What is missing or misconfigured that could be causing this error?</p>\n<p><strong>I am using:</strong><br />\nMaven 3.9.5<br />\nJava Version: 21</p>\n<p><strong>Directory Locations:</strong><br />\nMaven is located at:\n<code>C:\\Maven</code><br />\nJava JDK is located at:\n<code>C:\\Program Files\\Java</code></p>\n<p><strong>Environment Variables:</strong><br />\nUser Variables:<br />\n<code>JAVA_HOME</code>: <code>C:\\Program Files\\Java\\jdk-21</code><br />\n<code>M2_HOME</code>: <code>C:\\Maven\\apache-maven-3.9.5-src\\apache-maven-3.9.5\\apache-maven\\src</code><br />\n<code>M2</code>: <code>%M2_HOME%\\bin</code><br />\n<code>MAVEN_HOME</code>: <code>C:\\Maven\\apache-maven-3.9.5-src\\apache-maven-3.9.5\\apache-maven\\src</code></p>\n<p><strong>Path Variable:</strong> // This reflects my various attempts to get this to work.<br />\n<code>%JAVA_HOME%\\bin</code><br />\n<code>C:\\Program Files\\Java\\jdk-21\\bin</code><br />\n<code>C:\\Maven\\apache-maven-3.9.5-src\\apache-maven-3.9.5\\</code><br />\n<code>%M2%</code><br />\n<code>C:\\Maven\\apache-maven-3.9.5-src\\apache-maven-3.9.5\\apache-maven\\src\\bin</code>\n<code>%M2_HOME%</code><br />\n<code>C:\\Program Files\\Java\\jdk-21</code></p>\n<p>Lastly, when running <code>java -version</code>, the following is returned:</p>\n<pre><code>java version &quot;21&quot; 2023-09-19 LTS\nJava(TM) SE Runtime Environment (build 21+35-LTS-2513)\nJava HotSpot(TM) 64-Bit Server VM (build 21+35-LTS-2513, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","json","spring","jackson","boot"],"owner":{"account_id":374940,"reputation":475,"user_id":725455,"accept_rate":51,"display_name":"user725455"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696712189,"creation_date":1696712189,"question_id":77251489,"body_markdown":"When I try to deseriliaze a sub class for Jackson Maps. I am getting following exception.Probably, \r\nI have a problem  JsonTypeInfo JsonSubType definition\r\n\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.siemens.datamanagement.dto.macro.configuration.ObserverCaller]: missing type id property &#39;type&#39; (for POJO property &#39;observerCaller&#39;)\r\n\r\nI have following object structure\r\n```\r\n@Data\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n    @JsonSubTypes.Type(value = ObserverCaller.class, name = &quot;observerCaller&quot;),\r\n    @JsonSubTypes.Type(value = DynamicCaller.class, name = &quot;dynamicCaller&quot;),\r\n    @JsonSubTypes.Type(value = FileCaller.class, name = &quot;fileCaller&quot;)})\r\npublic abstract class AbstractCaller {\r\n\r\n    private String type = &quot;default&quot;;\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n}\r\n\r\nThese are sub classes.\r\n\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonTypeName(&quot;dynamicCaller&quot;)\r\npublic class ObserverCaller extends AbstractCaller implements Caller {\r\n\r\n\r\n    @Override\r\n    public String getType() {\r\n        return OBSERVER_CALLER.getDescription();\r\n    }\r\n\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonTypeName(&quot;dynamicCaller&quot;)\r\npublic class DynamicCaller extends AbstractCaller implements Caller {\r\n\r\n    @Override\r\n    public String getType() {\r\n        return DYNAMIC_CALLER.getDescription();\r\n    }\r\n}\r\n\r\n\r\n\r\nThis is class which I want to serialize caller object according to type attribute. This caller can be observercaller or dynamiccaller\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ReferenceCaller implements Caller {\r\n\r\n    private AbstractCaller caller;\r\n\r\n    @Override\r\n    public String getType() {\r\n        return REFERENCE_CALLER.getDescription();\r\n    }\r\n}\r\n\r\n\r\nThis is json object which I want to serialize [![json][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/By9OP.png","title":"Jackson Object Mapper - &quot;Missing type id &quot; on concrete class deserialization","body":"<p>When I try to deseriliaze a sub class for Jackson Maps. I am getting following exception.Probably,\nI have a problem  JsonTypeInfo JsonSubType definition</p>\n<p>Caused by: com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.siemens.datamanagement.dto.macro.configuration.ObserverCaller]: missing type id property 'type' (for POJO property 'observerCaller')</p>\n<p>I have following object structure</p>\n<pre><code>@Data\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = ObserverCaller.class, name = &quot;observerCaller&quot;),\n    @JsonSubTypes.Type(value = DynamicCaller.class, name = &quot;dynamicCaller&quot;),\n    @JsonSubTypes.Type(value = FileCaller.class, name = &quot;fileCaller&quot;)})\npublic abstract class AbstractCaller {\n\n    private String type = &quot;default&quot;;\n\n    public String getType() {\n        return type;\n    }\n}\n\nThese are sub classes.\n\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonTypeName(&quot;dynamicCaller&quot;)\npublic class ObserverCaller extends AbstractCaller implements Caller {\n\n\n    @Override\n    public String getType() {\n        return OBSERVER_CALLER.getDescription();\n    }\n\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonTypeName(&quot;dynamicCaller&quot;)\npublic class DynamicCaller extends AbstractCaller implements Caller {\n\n    @Override\n    public String getType() {\n        return DYNAMIC_CALLER.getDescription();\n    }\n}\n\n\n\nThis is class which I want to serialize caller object according to type attribute. This caller can be observercaller or dynamiccaller\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ReferenceCaller implements Caller {\n\n    private AbstractCaller caller;\n\n    @Override\n    public String getType() {\n        return REFERENCE_CALLER.getDescription();\n    }\n}\n\n\nThis is json object which I want to serialize [![json][1]][1]\n\n\n  [1]: https://i.stack.imgur.com/By9OP.png\n</code></pre>\n"},{"tags":["java","jar","environment-variables","classpath","git-bash"],"comments":[{"owner":{"account_id":23093411,"reputation":258,"user_id":17203927,"display_name":"redwards"},"score":0,"creation_date":1696711588,"post_id":77251340,"comment_id":136189182,"body_markdown":"For git-bash (MSYS), you need to use forward slashes:  /c/Users/geniu/testclasspath.jar","body":"For git-bash (MSYS), you need to use forward slashes:  /c/Users/geniu/testclasspath.jar"}],"answers":[{"tags":[],"owner":{"account_id":23093411,"reputation":258,"user_id":17203927,"display_name":"redwards"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696711908,"creation_date":1696711908,"answer_id":77251478,"question_id":77251340,"body_markdown":"For git-bash (MSYS), you need to use forward slashes: /c/Users/geniu/testclasspath.jar \r\n\r\n    $ echo $CLASSPATH\r\n    /c/bin/\r\n    \r\n    redwa@robert-lg MINGW64 ~\r\n    $ export CLASSPATH=$CLASSPATH:/c/Users/geniu/testclasspath.jar\r\n    \r\n    redwa@robert-lg MINGW64 ~\r\n    $ echo $CLASSPATH\r\n    /c/bin:/c/Users/geniu/testclasspath.jar\r\n\r\n","title":"Setting up environment variables for windows using GitBash","body":"<p>For git-bash (MSYS), you need to use forward slashes: /c/Users/geniu/testclasspath.jar</p>\n<pre><code>$ echo $CLASSPATH\n/c/bin/\n\nredwa@robert-lg MINGW64 ~\n$ export CLASSPATH=$CLASSPATH:/c/Users/geniu/testclasspath.jar\n\nredwa@robert-lg MINGW64 ~\n$ echo $CLASSPATH\n/c/bin:/c/Users/geniu/testclasspath.jar\n</code></pre>\n"}],"owner":{"account_id":27806089,"reputation":119,"user_id":21229467,"display_name":"T. J. Foster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696711908,"creation_date":1696708993,"question_id":77251340,"body_markdown":"I am trying to set up several java jar files and packages as environment variables for a computational linear algebra class.  \r\n\r\nI am using the GitBash terminal on Windows OS.  \r\n\r\nI open the file &quot;.bashrc&quot; and use the following string \r\n\r\nexport CLASSPATH=$CLASSPATH:C:\\Users\\geniu\\testclasspath.jar:.\r\n\r\nThe address is based on the &quot;copy as address&quot; command for the jar file I wanted to use. \r\n\r\nI also tried different ways of acknowledging the root directory including &quot;\\c:&quot;, &quot;\\c\\Users...&quot; and starting with &quot;\\Users&quot; as the examples on the course website show. \r\n\r\nWhen I use the command:\r\n\r\n echo $CLASSPATH.\r\n\r\nThe GitBash terminal shows no results, and the program provided by the professor used to test environment variables does not work.  I eventually need multiple classpaths, which I believe require a &quot;:&quot; between each file location.\r\n\r\n\r\n\r\n\r\n","title":"Setting up environment variables for windows using GitBash","body":"<p>I am trying to set up several java jar files and packages as environment variables for a computational linear algebra class.</p>\n<p>I am using the GitBash terminal on Windows OS.</p>\n<p>I open the file &quot;.bashrc&quot; and use the following string</p>\n<p>export CLASSPATH=$CLASSPATH:C:\\Users\\geniu\\testclasspath.jar:.</p>\n<p>The address is based on the &quot;copy as address&quot; command for the jar file I wanted to use.</p>\n<p>I also tried different ways of acknowledging the root directory including &quot;\\c:&quot;, &quot;\\c\\Users...&quot; and starting with &quot;\\Users&quot; as the examples on the course website show.</p>\n<p>When I use the command:</p>\n<p>echo $CLASSPATH.</p>\n<p>The GitBash terminal shows no results, and the program provided by the professor used to test environment variables does not work.  I eventually need multiple classpaths, which I believe require a &quot;:&quot; between each file location.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"score":1,"creation_date":1685180629,"post_id":76346248,"comment_id":134627827,"body_markdown":"Are you overriding the managed version of hibernate-core for a reason? I would suggest to let Spring Boot use the managed version **6.2.2.Final** by removing the version from the implementation declaration","body":"Are you overriding the managed version of hibernate-core for a reason? I would suggest to let Spring Boot use the managed version <b>6.2.2.Final</b> by removing the version from the implementation declaration"},{"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"score":0,"creation_date":1685180868,"post_id":76346248,"comment_id":134627857,"body_markdown":"You can also remove **implementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;**, it is imported by **hibernate-core**","body":"You can also remove <b>implementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;</b>, it is imported by <b>hibernate-core</b>"}],"answers":[{"tags":[],"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685182357,"creation_date":1685182357,"answer_id":76346396,"question_id":76346248,"body_markdown":"The cause of the error is the dependency\r\n\r\n    implementation &#39;org.hibernate:hibernate-core:5.4.30.Final&#39;\r\n\r\nYou are overriding Spring Boot managed dependency with an unsupported version.\r\n\r\nYou can remove the depencency, Spring Boot will use the managed version **6.2.2.Final**","title":"Error creating bean with name &#39;entityManagerFactory&#39;?","body":"<p>The cause of the error is the dependency</p>\n<pre><code>implementation 'org.hibernate:hibernate-core:5.4.30.Final'\n</code></pre>\n<p>You are overriding Spring Boot managed dependency with an unsupported version.</p>\n<p>You can remove the depencency, Spring Boot will use the managed version <strong>6.2.2.Final</strong></p>\n"}],"owner":{"display_name":"user20894127"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76346396,"answer_count":1,"score":0,"last_activity_date":1696711316,"creation_date":1685179926,"question_id":76346248,"body_markdown":"Can you please tell me, what is causing this error and how can I fix it?\r\n\r\n```\r\n21:38:16 main            SpringApplicati ERROR  Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n```\r\n\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;17&#39;\r\n\r\ndependencies {\r\n    implementation &#39;org.postgresql:postgresql:42.3.8&#39;\r\n    implementation &#39;org.hibernate:hibernate-core:5.4.30.Final&#39;\r\n    implementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n    implementation &#39;io.springfox:springfox-swagger2:2.9.2&#39;\r\n    implementation &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    implementation &#39;ch.qos.logback:logback-classic:1.4.6&#39;\r\n    testImplementation &#39;junit:junit:4.13.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.1&#39;\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/database\r\n\r\nspring.datasource.username=admin\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\n\r\ngithub project -&gt; -----------\r\n\r\nfull stack -&gt; ---------\r\n\r\n","title":"Error creating bean with name &#39;entityManagerFactory&#39;?","body":"<p>Can you please tell me, what is causing this error and how can I fix it?</p>\n<pre><code>21:38:16 main            SpringApplicati ERROR  Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n</code></pre>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\nsourceCompatibility = '17'\n\ndependencies {\n    implementation 'org.postgresql:postgresql:42.3.8'\n    implementation 'org.hibernate:hibernate-core:5.4.30.Final'\n    implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n    implementation 'io.springfox:springfox-swagger2:2.9.2'\n    implementation 'io.springfox:springfox-swagger-ui:2.9.2'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'ch.qos.logback:logback-classic:1.4.6'\n    testImplementation 'junit:junit:4.13.1'\n    testImplementation 'junit:junit:4.13.1'\n}\n</code></pre>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/database\n\nspring.datasource.username=admin\nspring.datasource.password=root\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>github project -&gt; -----------</p>\n<p>full stack -&gt; ---------</p>\n"},{"tags":["java","android","kotlin","android-asynctask","kotlin-coroutines"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":45,"creation_date":1573221124,"post_id":58767733,"comment_id":103821444,"body_markdown":"&quot;Deprecated&quot; means that Google is recommending that you move to something else. It does not mean that the class will be removed any time soon. In particular, `AsyncTask` cannot be removed without breaking backwards compatibility.","body":"&quot;Deprecated&quot; means that Google is recommending that you move to something else. It does not mean that the class will be removed any time soon. In particular, <code>AsyncTask</code> cannot be removed without breaking backwards compatibility."},{"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"score":0,"creation_date":1573222899,"post_id":58767733,"comment_id":103822391,"body_markdown":"Possible duplicate of [Is AsyncTask deprecated now w/ AsyncTaskLoader?](https://stackoverflow.com/questions/43990084/is-asynctask-deprecated-now-w-asynctaskloader)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/43990084/is-asynctask-deprecated-now-w-asynctaskloader\">Is AsyncTask deprecated now w/ AsyncTaskLoader?</a>"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":11,"creation_date":1573224932,"post_id":58767733,"comment_id":103823548,"body_markdown":"@Style-7 it is not.","body":"@Style-7 it is not."},{"owner":{"account_id":417402,"reputation":379,"user_id":793392,"accept_rate":29,"display_name":"beroal"},"score":0,"creation_date":1583431014,"post_id":58767733,"comment_id":107123600,"body_markdown":"There is no such thing as a &quot;static inner class&quot;. You mean a static nested class.","body":"There is no such thing as a &quot;static inner class&quot;. You mean a static nested class."},{"owner":{"account_id":3739249,"reputation":2113,"user_id":3109401,"accept_rate":29,"display_name":"Kimi Chiu"},"score":29,"creation_date":1620542108,"post_id":58767733,"comment_id":119227969,"body_markdown":"This is a disaster. It&#39;s recommended to use `AsyncTask` from official Android Document. I was a backend developer, already familiar with the executorService. For this recommendation, I migrated all background tasks to use `AsyncTask`. And now they tell us not to use it?","body":"This is a disaster. It&#39;s recommended to use <code>AsyncTask</code> from official Android Document. I was a backend developer, already familiar with the executorService. For this recommendation, I migrated all background tasks to use <code>AsyncTask</code>. And now they tell us not to use it?"},{"owner":{"account_id":448670,"reputation":1563,"user_id":843001,"accept_rate":47,"display_name":"Duna"},"score":1,"creation_date":1628785104,"post_id":58767733,"comment_id":121520342,"body_markdown":"@CommonsWare starting with Android 11 Google started deleting deprecated methods.","body":"@CommonsWare starting with Android 11 Google started deleting deprecated methods."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1628793673,"post_id":58767733,"comment_id":121523187,"body_markdown":"@Duna: Got any examples? They delete deprecated methods from libraries, as developers control the versions of libraries that they use. But, as I noted, `AsyncTask` cannot be removed without breaking backwards compatibility.","body":"@Duna: Got any examples? They delete deprecated methods from libraries, as developers control the versions of libraries that they use. But, as I noted, <code>AsyncTask</code> cannot be removed without breaking backwards compatibility."},{"owner":{"account_id":8656280,"reputation":91,"user_id":6480433,"display_name":"Addy"},"score":0,"creation_date":1637737429,"post_id":58767733,"comment_id":123903129,"body_markdown":"@CommonsWare yes it is working fine in android 11 and i&#39;m going to use till it is working or i should move to alternative asap?","body":"@CommonsWare yes it is working fine in android 11 and i&#39;m going to use till it is working or i should move to alternative asap?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1637755559,"post_id":58767733,"comment_id":123909854,"body_markdown":"@Addy: The specific concern that I commented on here is `AsyncTask` being *deleted*, and that cannot happen without breaking lots of existing apps. Programmers should learn other techniques than `AsyncTask` (RxJava, Kotlin coroutines, etc.) simply because they are better and at this point are used more widely in professional settings.","body":"@Addy: The specific concern that I commented on here is <code>AsyncTask</code> being <i>deleted</i>, and that cannot happen without breaking lots of existing apps. Programmers should learn other techniques than <code>AsyncTask</code> (RxJava, Kotlin coroutines, etc.) simply because they are better and at this point are used more widely in professional settings."},{"owner":{"account_id":19447652,"reputation":189,"user_id":14224774,"display_name":"metvsk"},"score":0,"creation_date":1639487461,"post_id":58767733,"comment_id":124356325,"body_markdown":"@EpicPandaForce https://developer.android.com/reference/android/os/AsyncTask it is","body":"@EpicPandaForce <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/AsyncTask</a> it is"},{"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"score":0,"creation_date":1640938387,"post_id":58767733,"comment_id":124694313,"body_markdown":"Maybe this can help you  https://medium.com/swlh/asynctask-is-deprecated-now-what-f30c31362761","body":"Maybe this can help you  <a href=\"https://medium.com/swlh/asynctask-is-deprecated-now-what-f30c31362761\" rel=\"nofollow noreferrer\">medium.com/swlh/asynctask-is-deprecated-now-what-f30c3136276&zwnj;&#8203;1</a>"},{"owner":{"account_id":2884344,"reputation":1275,"user_id":2474581,"accept_rate":90,"display_name":"Kustekj&#233; Meklootn"},"score":1,"creation_date":1678636029,"post_id":58767733,"comment_id":133567867,"body_markdown":"@KimiChiu; this is one of the many things why I hate developing in Android. Pages full of fancy stuff and arty-farty concepts, saying they have the solution for the worlds problem, ending up throwing it all in the bin because it&#39;s so bad after all. CreateThread in win32 is more than 30 years old, it has it&#39;s flaws, but it does the job if you know what you are doing. Also reading the MSDN-programming-reference doesn&#39;t take ages like with Android...","body":"@KimiChiu; this is one of the many things why I hate developing in Android. Pages full of fancy stuff and arty-farty concepts, saying they have the solution for the worlds problem, ending up throwing it all in the bin because it&#39;s so bad after all. CreateThread in win32 is more than 30 years old, it has it&#39;s flaws, but it does the job if you know what you are doing. Also reading the MSDN-programming-reference doesn&#39;t take ages like with Android..."},{"owner":{"account_id":1825464,"reputation":1003,"user_id":3152516,"accept_rate":80,"display_name":"Dan Chase"},"score":0,"creation_date":1687884587,"post_id":58767733,"comment_id":134998390,"body_markdown":"@KimiChiu I learned a long time ago spending time on someone else&#39;s agenda is normally a waste of time. This is just like HTML certain HTML tags like center being deprecated - that doesn&#39;t really matter because all browsers still support it and probably won&#39;t stop. If they do, some day, I&#39;ll go through all of my code, if it even matters to me at that point in time.","body":"@KimiChiu I learned a long time ago spending time on someone else&#39;s agenda is normally a waste of time. This is just like HTML certain HTML tags like center being deprecated - that doesn&#39;t really matter because all browsers still support it and probably won&#39;t stop. If they do, some day, I&#39;ll go through all of my code, if it even matters to me at that point in time."}],"answers":[{"comments":[{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1573259868,"post_id":58767934,"comment_id":103836561,"body_markdown":"I am getting an error on `executor.post`.  Cannot resolve method","body":"I am getting an error on <code>executor.post</code>.  Cannot resolve method"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1573298045,"post_id":58767934,"comment_id":103842022,"body_markdown":"@KrisB apparently it&#39;s called `execute()` instead of `post()`","body":"@KrisB apparently it&#39;s called <code>execute()</code> instead of <code>post()</code>"},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1573339242,"post_id":58767934,"comment_id":103851708,"body_markdown":"Do you know if it&#39;s ok to pass a `Context` into this?  I know that passing a `Context` into `AsyncTask` was one of it&#39;s issues.","body":"Do you know if it&#39;s ok to pass a <code>Context</code> into this?  I know that passing a <code>Context</code> into <code>AsyncTask</code> was one of it&#39;s issues."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1573342129,"post_id":58767934,"comment_id":103852215,"body_markdown":"You still need to run this in a ViewModel, retained fragment, singleton, or whatever else, as you normally would with anything async in Android.","body":"You still need to run this in a ViewModel, retained fragment, singleton, or whatever else, as you normally would with anything async in Android."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1573399318,"post_id":58767934,"comment_id":103861875,"body_markdown":"For progress update support, you can check this Kotlin example: https://www.reddit.com/r/androiddev/comments/dt2kbh/google_is_deprecating_androids_asynctask_api_in/f747k2e/","body":"For progress update support, you can check this Kotlin example: <a href=\"https://www.reddit.com/r/androiddev/comments/dt2kbh/google_is_deprecating_androids_asynctask_api_in/f747k2e/\" rel=\"nofollow noreferrer\">reddit.com/r/androiddev/comments/dt2kbh/&hellip;</a>"},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1573400982,"post_id":58767934,"comment_id":103862321,"body_markdown":"Thanks, I replaced all my `AsyncTasks` with your code.  Do you know if I should be using `newSingleThreadExecutor` for all async operations or is one better for database reads vs. writers?","body":"Thanks, I replaced all my <code>AsyncTasks</code> with your code.  Do you know if I should be using <code>newSingleThreadExecutor</code> for all async operations or is one better for database reads vs. writers?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1573434486,"post_id":58767934,"comment_id":103870296,"body_markdown":"`newSingleThreadExecutor` is better for writes, but you should definitely use the `THREAD_POOL_EXECUTOR` at the end of the post for database reads.","body":"<code>newSingleThreadExecutor</code> is better for writes, but you should definitely use the <code>THREAD_POOL_EXECUTOR</code> at the end of the post for database reads."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1582219408,"post_id":58767934,"comment_id":106710993,"body_markdown":"The `WeakReference` hack isn&#39;t inherently tied to AsyncTask, though, is it? The Runnable someone passes to your `TaskRunner.executeAsync()` is likely to capture an Activity/Fragment reference and leak it if not dealt with. Someone might try the same WeakReference hack to get around that instead of properly supporting cancellation. In the same way `AsyncTask` could be used in a more proper way, supporting cancellation and being actively cancelled by the user in `onDestroy()`. Though I&#39;m not complaining about them deprecating such a clumsy tool.","body":"The <code>WeakReference</code> hack isn&#39;t inherently tied to AsyncTask, though, is it? The Runnable someone passes to your <code>TaskRunner.executeAsync()</code> is likely to capture an Activity/Fragment reference and leak it if not dealt with. Someone might try the same WeakReference hack to get around that instead of properly supporting cancellation. In the same way <code>AsyncTask</code> could be used in a more proper way, supporting cancellation and being actively cancelled by the user in <code>onDestroy()</code>. Though I&#39;m not complaining about them deprecating such a clumsy tool."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1582223086,"post_id":58767934,"comment_id":106712672,"body_markdown":"That&#39;s why the sample I provided runs it in the ViewModel instead &#128527; although yes, what I wrote doesn&#39;t cancel the task. You could handle it with interruptions if needed, but it&#39;s almost easier to run the async task in a singleton global context and use event emission (just like how ViewModel communicates one-off events to its view)","body":"That&#39;s why the sample I provided runs it in the ViewModel instead 😏 although yes, what I wrote doesn&#39;t cancel the task. You could handle it with interruptions if needed, but it&#39;s almost easier to run the async task in a singleton global context and use event emission (just like how ViewModel communicates one-off events to its view)"},{"owner":{"account_id":1619176,"reputation":2177,"user_id":1496122,"display_name":"k2col"},"score":2,"creation_date":1588149013,"post_id":58767934,"comment_id":108785614,"body_markdown":"In TaskRunner I get a compiler error &quot;Unhandled Exception java.lang.Exception` at `callable.call()`  ... what&#39;s the best way to handle this?","body":"In TaskRunner I get a compiler error &quot;Unhandled Exception java.lang.Exception` at <code>callable.call()</code>  ... what&#39;s the best way to handle this?"},{"owner":{"account_id":85690,"reputation":41035,"user_id":238753,"accept_rate":61,"display_name":"Sam"},"score":0,"creation_date":1588990098,"post_id":58767934,"comment_id":109121464,"body_markdown":"Is there a built-in equivalent to `TaskRunner` in Android or AndroidX? It looks like a neat way to do it but seems strange that something so important isn&#39;t built-in.","body":"Is there a built-in equivalent to <code>TaskRunner</code> in Android or AndroidX? It looks like a neat way to do it but seems strange that something so important isn&#39;t built-in."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1589018531,"post_id":58767934,"comment_id":109128056,"body_markdown":"@Sam the built-in version was called AsyncTask and it was so bad it got deprecated :p","body":"@Sam the built-in version was called AsyncTask and it was so bad it got deprecated :p"},{"owner":{"account_id":13195532,"reputation":121,"user_id":9530524,"display_name":"Jones"},"score":0,"creation_date":1592307454,"post_id":58767934,"comment_id":110372720,"body_markdown":"How to know if my task is finished or not?","body":"How to know if my task is finished or not?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1592309907,"post_id":58767934,"comment_id":110374060,"body_markdown":"You get a callback when it&#39;s done. If you didn&#39;t get a callback, then it&#39;s not yet done.","body":"You get a callback when it&#39;s done. If you didn&#39;t get a callback, then it&#39;s not yet done."},{"owner":{"account_id":260284,"reputation":4759,"user_id":543743,"accept_rate":82,"display_name":"dontangg"},"score":2,"creation_date":1593039419,"post_id":58767934,"comment_id":110643858,"body_markdown":"I really appreciated this example. Thanks! I ended up using this almost exactly as is. I used a `static` executor like you showed in your code sample at the very end but still used `Executors.newSingleThreadExecutor()`.","body":"I really appreciated this example. Thanks! I ended up using this almost exactly as is. I used a <code>static</code> executor like you showed in your code sample at the very end but still used <code>Executors.newSingleThreadExecutor()</code>."},{"owner":{"account_id":13195532,"reputation":121,"user_id":9530524,"display_name":"Jones"},"score":0,"creation_date":1593080318,"post_id":58767934,"comment_id":110656739,"body_markdown":"How can I cancel an Task which is Executed this way (and interrupt it)?","body":"How can I cancel an Task which is Executed this way (and interrupt it)?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":2,"creation_date":1593081629,"post_id":58767934,"comment_id":110657369,"body_markdown":"If you do need cancelation, then instead of executor.execute, you have to use executor.submit and cancel the future. https://www.baeldung.com/java-future","body":"If you do need cancelation, then instead of executor.execute, you have to use executor.submit and cancel the future. <a href=\"https://www.baeldung.com/java-future\" rel=\"nofollow noreferrer\">baeldung.com/java-future</a>"},{"owner":{"account_id":5506247,"reputation":1185,"user_id":4374150,"accept_rate":100,"display_name":"Paula Livingstone"},"score":0,"creation_date":1597751587,"post_id":58767934,"comment_id":112230513,"body_markdown":"Oh god, so it turns out Handler is now deprecated also.....","body":"Oh god, so it turns out Handler is now deprecated also....."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1597757408,"post_id":58767934,"comment_id":112233562,"body_markdown":"That can&#39;t be right. `android.os.Handler` is essential for communicating to the UI thread or any other HandlerThreads. Only the no-arg constructor seems to be deprecated, `Handler(Looper.getMainLooper())` seems to be legit.","body":"That can&#39;t be right. <code>android.os.Handler</code> is essential for communicating to the UI thread or any other HandlerThreads. Only the no-arg constructor seems to be deprecated, <code>Handler(Looper.getMainLooper())</code> seems to be legit."},{"owner":{"account_id":13381081,"reputation":13847,"user_id":9656320,"display_name":"Son Truong"},"score":1,"creation_date":1605937211,"post_id":58767934,"comment_id":114811980,"body_markdown":"I feel like this solution is a simple version of the AsyncTask, because AsyncTask uses Executor and Handler under the hood and provides other features such as cancel, update progress, etc.","body":"I feel like this solution is a simple version of the AsyncTask, because AsyncTask uses Executor and Handler under the hood and provides other features such as cancel, update progress, etc."},{"owner":{"account_id":5072434,"reputation":11721,"user_id":4070848,"accept_rate":39,"display_name":"drmrbrewer"},"score":0,"creation_date":1606432796,"post_id":58767934,"comment_id":114968325,"body_markdown":"So why are we deprecating AsyncTask only to re-create it from scratch, and still follow apparently bad habits with memory leaks?  If I need to hold a reference to an Activity for use after my async task completes (using whatever async mechanism) then surely I am *still* going to need a WeakReference to the Activity, just as before?  I don&#39;t see what is gained by using something that is not AsyncTask but basically is...","body":"So why are we deprecating AsyncTask only to re-create it from scratch, and still follow apparently bad habits with memory leaks?  If I need to hold a reference to an Activity for use after my async task completes (using whatever async mechanism) then surely I am <i>still</i> going to need a WeakReference to the Activity, just as before?  I don&#39;t see what is gained by using something that is not AsyncTask but basically is..."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1606441466,"post_id":58767934,"comment_id":114969709,"body_markdown":"You&#39;ve never once needed a WeakReference, you needed non-config instance scope (retained fragment scope, now ViewModel scope) and observer pattern for pending values. You only need weak ref if you&#39;re building a reactive data layer, and even then only if you&#39;re not building on top of lifecycle awareness or structured concurrency.","body":"You&#39;ve never once needed a WeakReference, you needed non-config instance scope (retained fragment scope, now ViewModel scope) and observer pattern for pending values. You only need weak ref if you&#39;re building a reactive data layer, and even then only if you&#39;re not building on top of lifecycle awareness or structured concurrency."},{"owner":{"account_id":5072434,"reputation":11721,"user_id":4070848,"accept_rate":39,"display_name":"drmrbrewer"},"score":1,"creation_date":1606751953,"post_id":58767934,"comment_id":115049502,"body_markdown":"But the use of `WeakReference` isn&#39;t connected specifically to the use of `AsyncTask`, so your opening statement &quot;Good riddance that it [AsyncTask] is deprecated, because the WeakReference&lt;Context&gt; was always a hack, and not a proper solution&quot; isn&#39;t really relevant? Anyway, I&#39;ve now used your `TaskRunner` to eliminate `AsyncTask` entirely from my code, and maybe it does seem a bit cleaner overall, which is good, but nothing has fundamentally changed... in particular I still use `WeakReference` just as I did before, rather proving the point. Maybe that is a task for the next cleanup. Thanks!","body":"But the use of <code>WeakReference</code> isn&#39;t connected specifically to the use of <code>AsyncTask</code>, so your opening statement &quot;Good riddance that it [AsyncTask] is deprecated, because the WeakReference&lt;Context&gt; was always a hack, and not a proper solution&quot; isn&#39;t really relevant? Anyway, I&#39;ve now used your <code>TaskRunner</code> to eliminate <code>AsyncTask</code> entirely from my code, and maybe it does seem a bit cleaner overall, which is good, but nothing has fundamentally changed... in particular I still use <code>WeakReference</code> just as I did before, rather proving the point. Maybe that is a task for the next cleanup. Thanks!"},{"owner":{"account_id":4152447,"reputation":393,"user_id":3404480,"accept_rate":71,"display_name":"Prashant"},"score":0,"creation_date":1610905215,"post_id":58767934,"comment_id":116274256,"body_markdown":"How do I publish progress ?","body":"How do I publish progress ?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1610916580,"post_id":58767934,"comment_id":116277685,"body_markdown":"@prashant https://stackoverflow.com/questions/58767733/android-asynctask-api-deprecating-in-android-11-what-are-the-alternatives/58767934?noredirect=1#comment103861875_58767934","body":"@prashant <a href=\"https://stackoverflow.com/questions/58767733/android-asynctask-api-deprecating-in-android-11-what-are-the-alternatives/58767934?noredirect=1#comment103861875_58767934\" title=\"android asynctask api deprecating in android 11 what are the alternatives\">stackoverflow.com/questions/58767733/&hellip;</a>"},{"owner":{"account_id":1573770,"reputation":1077,"user_id":1460828,"accept_rate":30,"display_name":"quilkin"},"score":0,"creation_date":1613582049,"post_id":58767934,"comment_id":117121273,"body_markdown":"I tried this and the app just drops out (with no errors in logcat) as soon as execute() is called. Tried both types of Executor. Mind you, I&#39;m calling from an Activity rather than from  a ViewModel. Is this the reason?","body":"I tried this and the app just drops out (with no errors in logcat) as soon as execute() is called. Tried both types of Executor. Mind you, I&#39;m calling from an Activity rather than from  a ViewModel. Is this the reason?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1613590469,"post_id":58767934,"comment_id":117124991,"body_markdown":"I&#39;d have to see the code and the exception stack trace to tell you","body":"I&#39;d have to see the code and the exception stack trace to tell you"},{"owner":{"account_id":12522523,"reputation":762,"user_id":11338467,"display_name":"Undefined function"},"score":0,"creation_date":1619443501,"post_id":58767934,"comment_id":118899970,"body_markdown":"There are some cases when you really need a `WeakReference`, an example would be when working with a local library that accept a View parameter to do some fetching from network and update it. Since it is not part of your app module directly there is no way you can apply its changes without moving those classes to your app module itself. I would rather say that as much as possible avoid using `WeakReference` as it means you have a bad structure but no total restriction is imposed. After all they still exist until today and I see no Android documentation against using it.","body":"There are some cases when you really need a <code>WeakReference</code>, an example would be when working with a local library that accept a View parameter to do some fetching from network and update it. Since it is not part of your app module directly there is no way you can apply its changes without moving those classes to your app module itself. I would rather say that as much as possible avoid using <code>WeakReference</code> as it means you have a bad structure but no total restriction is imposed. After all they still exist until today and I see no Android documentation against using it."},{"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"score":0,"creation_date":1631599818,"post_id":58767934,"comment_id":122258376,"body_markdown":"@EpicPandaForce in that `LongRunningTask`, how do you get the reference to a context?","body":"@EpicPandaForce in that <code>LongRunningTask</code>, how do you get the reference to a context?"},{"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"score":0,"creation_date":1631610169,"post_id":58767934,"comment_id":122262399,"body_markdown":"@EpicPandaForce can you please review [this](https://codereview.stackexchange.com/q/267985/241242).","body":"@EpicPandaForce can you please review <a href=\"https://codereview.stackexchange.com/q/267985/241242\">this</a>."},{"owner":{"account_id":14891443,"reputation":415,"user_id":10752962,"display_name":"Vivek Thummar"},"score":0,"creation_date":1633504442,"post_id":58767934,"comment_id":122773745,"body_markdown":"I have one class which have `AsyncTask` like this - `new AsyncTask&lt;Integer, Void, Float&gt;() {...}` means directly, it&#39;s not like i&#39;m calling it from somewhere, so what about `params` from `doInBackground`??, for more info look at this - https://github.com/sharish/ScratchView/blob/master/views/src/main/java/com/cooltechworks/views/ScratchTextView.java#L317","body":"I have one class which have <code>AsyncTask</code> like this - <code>new AsyncTask&lt;Integer, Void, Float&gt;() {...}</code> means directly, it&#39;s not like i&#39;m calling it from somewhere, so what about <code>params</code> from <code>doInBackground</code>??, for more info look at this - <a href=\"https://github.com/sharish/ScratchView/blob/master/views/src/main/java/com/cooltechworks/views/ScratchTextView.java#L317\" rel=\"nofollow noreferrer\">github.com/sharish/ScratchView/blob/master/views/src/main/ja&zwnj;&#8203;va/&hellip;</a>"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1633508355,"post_id":58767934,"comment_id":122775218,"body_markdown":"@VivekThummar see `LongRunningTask ` in the answer","body":"@VivekThummar see <code>LongRunningTask </code> in the answer"},{"owner":{"account_id":5072434,"reputation":11721,"user_id":4070848,"accept_rate":39,"display_name":"drmrbrewer"},"score":0,"creation_date":1650183366,"post_id":58767934,"comment_id":127053246,"body_markdown":"Is there a version of this with an in-built timeout feature?","body":"Is there a version of this with an in-built timeout feature?"},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1674760296,"post_id":58767934,"comment_id":132787769,"body_markdown":"`LiveData.observe(myActivity, ...)` method is even worse than a weak-ref, because the observer is IGNORED once life-cycle ends, **but instead** if we capture a weak-ref inside a normal observer, we at least can handle `null`, like by changing configurations to retry later. **See also [Static way to get Context in Android](https://stackoverflow.com/a/5114361/8740349)**","body":"<code>LiveData.observe(myActivity, ...)</code> method is even worse than a weak-ref, because the observer is IGNORED once life-cycle ends, <b>but instead</b> if we capture a weak-ref inside a normal observer, we at least can handle <code>null</code>, like by changing configurations to retry later. <b>See also <a href=\"https://stackoverflow.com/a/5114361/8740349\">Static way to get Context in Android</a></b>"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1674769512,"post_id":58767934,"comment_id":132789995,"body_markdown":"@Top-Master you store a `MutableLiveData` in a `ViewModel` and therefore it makes sense for the observer to be ignored, as that&#39;s just to get the result to an activity. You handle the logic in either the ViewModel, or if you are handling onCleared and this shouldn&#39;t be cancellable then you run the operation in a singleton. WeakReferences for Activity/Fragment are effectively never needed.","body":"@Top-Master you store a <code>MutableLiveData</code> in a <code>ViewModel</code> and therefore it makes sense for the observer to be ignored, as that&#39;s just to get the result to an activity. You handle the logic in either the ViewModel, or if you are handling onCleared and this shouldn&#39;t be cancellable then you run the operation in a singleton. WeakReferences for Activity/Fragment are effectively never needed."},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1674771125,"post_id":58767934,"comment_id":132790360,"body_markdown":"@EpicPandaForce I talk about the answer&#39;s [WeakReference&lt;Context&gt; is hack](https://proandroiddev.com/a-quick-story-about-async-callbacks-memory-leaks-weakreferences-and-misconceptions-78003b3d6b26) linked-post --- where first it complains that weak-ref gets `null`, while we may need to do something important, but then suggests as solution `observer` never being called ;-)","body":"@EpicPandaForce I talk about the answer&#39;s <a href=\"https://proandroiddev.com/a-quick-story-about-async-callbacks-memory-leaks-weakreferences-and-misconceptions-78003b3d6b26\" rel=\"nofollow noreferrer\">WeakReference&lt;Context&gt; is hack</a> linked-post --- where first it complains that weak-ref gets <code>null</code>, while we may need to do something important, but then suggests as solution <code>observer</code> never being called ;-)"},{"owner":{"account_id":1761357,"reputation":609,"user_id":1608385,"display_name":"user1608385"},"score":0,"creation_date":1681419383,"post_id":58767934,"comment_id":134057722,"body_markdown":"You say &quot;Progress&quot; is no longer needed, and that may be true for long running operations for which we only want to be notified upon completion, but don&#39;t you think it would be useful to show the progress of a long running task such as a data download and if so, how would you incorporate progress reporting into this scheme?","body":"You say &quot;Progress&quot; is no longer needed, and that may be true for long running operations for which we only want to be notified upon completion, but don&#39;t you think it would be useful to show the progress of a long running task such as a data download and if so, how would you incorporate progress reporting into this scheme?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1681435821,"post_id":58767934,"comment_id":134059810,"body_markdown":"@user1608385 i did write it here https://www.reddit.com/r/androiddev/comments/dt2kbh/google_is_deprecating_androids_asynctask_api_in/f747k2e/","body":"@user1608385 i did write it here <a href=\"https://www.reddit.com/r/androiddev/comments/dt2kbh/google_is_deprecating_androids_asynctask_api_in/f747k2e/\" rel=\"nofollow noreferrer\">reddit.com/r/androiddev/comments/dt2kbh/&hellip;</a>"}],"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"comment_count":38,"down_vote_count":2,"up_vote_count":127,"is_accepted":true,"score":125,"last_activity_date":1573298032,"creation_date":1573221331,"answer_id":58767934,"question_id":58767733,"body_markdown":"&gt;     private WeakReference&lt;MyActivity&gt; activityReference;\r\n\r\nGood riddance that it&#39;s deprecated, [because the `WeakReference&lt;Context&gt;` was always a hack, and not a proper solution](https://proandroiddev.com/a-quick-story-about-async-callbacks-memory-leaks-weakreferences-and-misconceptions-78003b3d6b26).\r\n\r\nNow people will have the opportunity to sanitize their code.\r\n\r\n---------\r\n\r\n&gt;     AsyncTask&lt;String, Void, MyPojo&gt; \r\n\r\nBased on this code, `Progress` is actually not needed, and there is a `String` input + `MyPojo` output. \r\n\r\nThis is actually quite easy to accomplish without any use of AsyncTask.\r\n\r\n    public class TaskRunner {\r\n        private final Executor executor = Executors.newSingleThreadExecutor(); // change according to your requirements\r\n        private final Handler handler = new Handler(Looper.getMainLooper());\r\n\r\n        public interface Callback&lt;R&gt; {\r\n            void onComplete(R result);\r\n        }\r\n\r\n        public &lt;R&gt; void executeAsync(Callable&lt;R&gt; callable, Callback&lt;R&gt; callback) {\r\n            executor.execute(() -&gt; {\r\n                final R result = callable.call();\r\n                handler.post(() -&gt; {\r\n                    callback.onComplete(result);\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\nHow to pass in the String? Like so:\r\n\r\n    class LongRunningTask implements Callable&lt;MyPojo&gt; {\r\n        private final String input;\r\n\r\n        public LongRunningTask(String input) {\r\n            this.input = input;\r\n        }\r\n\r\n        @Override\r\n        public MyPojo call() {\r\n            // Some long running task\r\n            return myPojo;\r\n        }\r\n    }\r\n\r\nAnd\r\n\r\n    // in ViewModel\r\n    taskRunner.executeAsync(new LongRunningTask(input), (data) -&gt; {\r\n        // MyActivity activity = activityReference.get();\r\n        // activity.progressBar.setVisibility(View.GONE);\r\n        // populateData(activity, data) ;\r\n\r\n        loadingLiveData.setValue(false);\r\n        dataLiveData.setValue(data);\r\n    });\r\n\r\n    // in Activity\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.main_activity);\r\n\r\n        viewModel = ViewModelProviders.of(this).get(MyViewModel.class);\r\n        viewModel.loadingLiveData.observe(this, (loading) -&gt; {\r\n            if(loading) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n            } else {\r\n                progressBar.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n        viewModel.dataLiveData.observe(this, (data) -&gt; {\r\n            populateData(data);\r\n        }); \r\n    }\r\n\r\n----\r\n\r\nThis example used a single-threaded pool which is good for DB writes (or serialized network requests), but if you want something for DB reads or multiple requests, you can consider the following Executor configuration:\r\n\r\n    private static final Executor THREAD_POOL_EXECUTOR =\r\n            new ThreadPoolExecutor(5, 128, 1,\r\n                    TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<blockquote>\n<pre><code>private WeakReference&lt;MyActivity&gt; activityReference;\n</code></pre>\n</blockquote>\n\n<p>Good riddance that it's deprecated, <a href=\"https://proandroiddev.com/a-quick-story-about-async-callbacks-memory-leaks-weakreferences-and-misconceptions-78003b3d6b26\" rel=\"noreferrer\">because the <code>WeakReference&lt;Context&gt;</code> was always a hack, and not a proper solution</a>.</p>\n\n<p>Now people will have the opportunity to sanitize their code.</p>\n\n<hr>\n\n<blockquote>\n<pre><code>AsyncTask&lt;String, Void, MyPojo&gt; \n</code></pre>\n</blockquote>\n\n<p>Based on this code, <code>Progress</code> is actually not needed, and there is a <code>String</code> input + <code>MyPojo</code> output. </p>\n\n<p>This is actually quite easy to accomplish without any use of AsyncTask.</p>\n\n<pre><code>public class TaskRunner {\n    private final Executor executor = Executors.newSingleThreadExecutor(); // change according to your requirements\n    private final Handler handler = new Handler(Looper.getMainLooper());\n\n    public interface Callback&lt;R&gt; {\n        void onComplete(R result);\n    }\n\n    public &lt;R&gt; void executeAsync(Callable&lt;R&gt; callable, Callback&lt;R&gt; callback) {\n        executor.execute(() -&gt; {\n            final R result = callable.call();\n            handler.post(() -&gt; {\n                callback.onComplete(result);\n            });\n        });\n    }\n}\n</code></pre>\n\n<p>How to pass in the String? Like so:</p>\n\n<pre><code>class LongRunningTask implements Callable&lt;MyPojo&gt; {\n    private final String input;\n\n    public LongRunningTask(String input) {\n        this.input = input;\n    }\n\n    @Override\n    public MyPojo call() {\n        // Some long running task\n        return myPojo;\n    }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>// in ViewModel\ntaskRunner.executeAsync(new LongRunningTask(input), (data) -&gt; {\n    // MyActivity activity = activityReference.get();\n    // activity.progressBar.setVisibility(View.GONE);\n    // populateData(activity, data) ;\n\n    loadingLiveData.setValue(false);\n    dataLiveData.setValue(data);\n});\n\n// in Activity\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.main_activity);\n\n    viewModel = ViewModelProviders.of(this).get(MyViewModel.class);\n    viewModel.loadingLiveData.observe(this, (loading) -&gt; {\n        if(loading) {\n            progressBar.setVisibility(View.VISIBLE);\n        } else {\n            progressBar.setVisibility(View.GONE);\n        }\n    });\n\n    viewModel.dataLiveData.observe(this, (data) -&gt; {\n        populateData(data);\n    }); \n}\n</code></pre>\n\n<hr>\n\n<p>This example used a single-threaded pool which is good for DB writes (or serialized network requests), but if you want something for DB reads or multiple requests, you can consider the following Executor configuration:</p>\n\n<pre><code>private static final Executor THREAD_POOL_EXECUTOR =\n        new ThreadPoolExecutor(5, 128, 1,\n                TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12183171,"reputation":914,"user_id":8894035,"display_name":"Wahab Khan Jadon"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1575108857,"creation_date":1575108857,"answer_id":59115135,"question_id":58767733,"body_markdown":"Google recommends using Java’s Concurrency framework or Kotlin Coroutines. but Rxjava end to have much more flexibility and features then java concurrency so gained quite a bit of popularity.","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>Google recommends using Java’s Concurrency framework or Kotlin Coroutines. but Rxjava end to have much more flexibility and features then java concurrency so gained quite a bit of popularity.</p>\n"},{"comments":[{"owner":{"account_id":18108683,"reputation":78,"user_id":13165893,"display_name":"Branddd"},"score":0,"creation_date":1605091834,"post_id":62322156,"comment_id":114544237,"body_markdown":"I heard Coroutines had &quot;easy entry&quot;. Does that mean its easy to breach?","body":"I heard Coroutines had &quot;easy entry&quot;. Does that mean its easy to breach?"},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1665176645,"post_id":62322156,"comment_id":130646665,"body_markdown":"Implementation using Kotlin Coroutines https://stackoverflow.com/a/62748880/1731626","body":"Implementation using Kotlin Coroutines <a href=\"https://stackoverflow.com/a/62748880/1731626\">stackoverflow.com/a/62748880/1731626</a>"}],"tags":[],"owner":{"account_id":5971918,"reputation":10303,"user_id":4694013,"accept_rate":79,"display_name":"Anoop M Maddasseri"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1591871290,"creation_date":1591870930,"answer_id":62322156,"question_id":58767733,"body_markdown":"Android deprecated &lt;s&gt;AsyncTask&lt;/s&gt; API in Android 11 to get rid of a share of problems to begin with. \r\n\r\nSo, what&#39;s now?  \r\n============\r\n\r\n - Threads\r\n - Executers\r\n - RxJava\r\n - Listenable Futures\r\n - Coroutines &#128293;\r\n\r\nWhy Coroutines?\r\n----------------\r\n\r\n&gt; Coroutines are the Kotlin way to do asynchronous programming. Compiler\r\n&gt; support is stable since Kotlin 1.3, together with a\r\n&gt; [`kotlinx.coroutines`][1] library -\r\n\r\n - Structured Concurrency\r\n - Non-blocking, sequential code\r\n - Cancellation propagation\r\n - Natural Exception Handling\r\n\r\n  [1]: https://github.com/Kotlin/kotlinx.coroutines","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>Android deprecated <s>AsyncTask</s> API in Android 11 to get rid of a share of problems to begin with. </p>\n\n<h1>So, what's now?</h1>\n\n<ul>\n<li>Threads</li>\n<li>Executers</li>\n<li>RxJava</li>\n<li>Listenable Futures</li>\n<li>Coroutines 🔥</li>\n</ul>\n\n<h2>Why Coroutines?</h2>\n\n<blockquote>\n  <p>Coroutines are the Kotlin way to do asynchronous programming. Compiler\n  support is stable since Kotlin 1.3, together with a\n  <a href=\"https://github.com/Kotlin/kotlinx.coroutines\" rel=\"noreferrer\"><code>kotlinx.coroutines</code></a> library -</p>\n</blockquote>\n\n<ul>\n<li>Structured Concurrency</li>\n<li>Non-blocking, sequential code</li>\n<li>Cancellation propagation</li>\n<li>Natural Exception Handling</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2183598,"reputation":10930,"user_id":1932522,"accept_rate":90,"display_name":"Peter"},"score":0,"creation_date":1594446941,"post_id":62748880,"comment_id":111135238,"body_markdown":"Do you have any suggestions on how to implement the `onProgressUpdate` as well using  the kotlin coroutines?","body":"Do you have any suggestions on how to implement the <code>onProgressUpdate</code> as well using  the kotlin coroutines?"},{"owner":{"account_id":14646821,"reputation":553,"user_id":10577926,"display_name":"Adnan haider"},"score":5,"creation_date":1615614693,"post_id":62748880,"comment_id":117751318,"body_markdown":"have this solution available in java?","body":"have this solution available in java?"},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1615702859,"post_id":62748880,"comment_id":117770082,"body_markdown":"@Adnanhaider I am afraid it is not.","body":"@Adnanhaider I am afraid it is not."},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1619426703,"post_id":62748880,"comment_id":118892312,"body_markdown":"@Undefinedfunction `executeAsyncTask` is an extension function on `CoroutineScope`, you can create your own `CoroutineScope` and call `executeAsyncTask` on it.","body":"@Undefinedfunction <code>executeAsyncTask</code> is an extension function on <code>CoroutineScope</code>, you can create your own <code>CoroutineScope</code> and call <code>executeAsyncTask</code> on it."},{"owner":{"account_id":12522523,"reputation":762,"user_id":11338467,"display_name":"Undefined function"},"score":0,"creation_date":1619432263,"post_id":62748880,"comment_id":118894717,"body_markdown":"I tried to update the UI in `onPostExecute` but what I get is error `ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.` which seems that its not running in UI thread","body":"I tried to update the UI in <code>onPostExecute</code> but what I get is error <code>ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.</code> which seems that its not running in UI thread"},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1619440505,"post_id":62748880,"comment_id":118898523,"body_markdown":"@Undefinedfunction please try to use `MainScope` (https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-main-scope.html) to call `executeAsyncTask` method: `mainScope.executeAsyncTask ()`","body":"@Undefinedfunction please try to use <code>MainScope</code> (<a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-main-scope.html\" rel=\"nofollow noreferrer\">kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core&zwnj;&#8203;/&hellip;</a>) to call <code>executeAsyncTask</code> method: <code>mainScope.executeAsyncTask ()</code>"},{"owner":{"account_id":12522523,"reputation":762,"user_id":11338467,"display_name":"Undefined function"},"score":0,"creation_date":1619441371,"post_id":62748880,"comment_id":118898943,"body_markdown":"The solution is really good however I think this approach means that your async task will be always inside ViewModel, Activity, or Fragment not in just regular class for example that only implements an interface.","body":"The solution is really good however I think this approach means that your async task will be always inside ViewModel, Activity, or Fragment not in just regular class for example that only implements an interface."},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1619450117,"post_id":62748880,"comment_id":118903283,"body_markdown":"To call `executeAsyncTask` we need some `CoroutineScope` with `Dispatchers.Main` context to run appropriate methods(`onPreExecute()`...) on the Main Thread. You can create a `CoroutineScope` with `Dispatchers.Main` context in any class.","body":"To call <code>executeAsyncTask</code> we need some <code>CoroutineScope</code> with <code>Dispatchers.Main</code> context to run appropriate methods(<code>onPreExecute()</code>...) on the Main Thread. You can create a <code>CoroutineScope</code> with <code>Dispatchers.Main</code> context in any class."},{"owner":{"account_id":23002935,"reputation":86,"user_id":17126650,"display_name":"Fahad-Android"},"score":1,"creation_date":1650557901,"post_id":62748880,"comment_id":127152019,"body_markdown":"This solution saves the day! Ton thanks brooo","body":"This solution saves the day! Ton thanks brooo"}],"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"comment_count":9,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1651495867,"creation_date":1594006572,"answer_id":62748880,"question_id":58767733,"body_markdown":"According to the [Android documentation][1] `AsyncTask` was deprecated in **API level 30** and it is suggested to use the **standard java.util.concurrent or [Kotlin concurrency utilities][2]** instead.\r\n\r\nUsing the latter it can be achieved pretty simple:\r\n\r\n1. Create generic extension function on `CoroutineScope`:\r\n\r\n        fun &lt;R&gt; CoroutineScope.executeAsyncTask(\r\n                onPreExecute: () -&gt; Unit,\r\n                doInBackground: () -&gt; R,\r\n                onPostExecute: (R) -&gt; Unit\r\n        ) = launch {\r\n            onPreExecute() // runs in Main Thread\r\n            val result = withContext(Dispatchers.IO) { \r\n                doInBackground() // runs in background thread without blocking the Main Thread\r\n            }\r\n            onPostExecute(result) // runs in Main Thread\r\n        } \r\n\r\n2. Use the function with any `CoroutineScope` which has `Dispatchers.Main` context:\r\n\r\n    - In [`ViewModel`][3]:\r\n\r\n\r\n          class MyViewModel : ViewModel() {\r\n    \r\n              fun someFun() {\r\n                  viewModelScope.executeAsyncTask(onPreExecute = {\r\n                      // ... runs in Main Thread\r\n                  }, doInBackground = {\r\n                      // ... runs in Worker(Background) Thread\r\n                      &quot;Result&quot; // send data to &quot;onPostExecute&quot;\r\n                  }, onPostExecute = {\r\n                      // runs in Main Thread\r\n                      // ... here &quot;it&quot; is the data returned from &quot;doInBackground&quot;\r\n                  })\r\n              }\r\n          }\r\n\r\n    - In `Activity` or `Fragment`:\r\n\r\n\r\n          lifecycleScope.executeAsyncTask(onPreExecute = {\r\n              // ... runs in Main Thread\r\n          }, doInBackground = {\r\n              // ... runs in Worker(Background) Thread\r\n              &quot;Result&quot; // send data to &quot;onPostExecute&quot;\r\n          }, onPostExecute = {\r\n              // runs in Main Thread\r\n              // ... here &quot;it&quot; is the data returned from &quot;doInBackground&quot;\r\n          })\r\n\r\n     To use `viewModelScope` or `lifecycleScope` add next line(s) to dependencies of the app&#39;s **build.gradle** file:\r\n\r\n       implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$LIFECYCLE_VERSION&quot; // for viewModelScope\r\n       implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:$LIFECYCLE_VERSION&quot; // for lifecycleScope\r\n\r\n\r\n    At the time of writing `final LIFECYCLE_VERSION = &quot;2.3.0-alpha05&quot;`\r\n\r\n\r\n\r\n\r\n**UPDATE**:\r\n\r\nAlso we can implement progress updating using `onProgressUpdate` function:\r\n\r\n    fun &lt;P, R&gt; CoroutineScope.executeAsyncTask(\r\n            onPreExecute: () -&gt; Unit,\r\n            doInBackground: suspend (suspend (P) -&gt; Unit) -&gt; R,\r\n            onPostExecute: (R) -&gt; Unit,\r\n            onProgressUpdate: (P) -&gt; Unit\r\n    ) = launch {\r\n        onPreExecute()\r\n    \r\n        val result = withContext(Dispatchers.IO) {\r\n            doInBackground {\r\n                withContext(Dispatchers.Main) { onProgressUpdate(it) }\r\n            }\r\n        }\r\n        onPostExecute(result)\r\n    }\r\n\r\nUsing any `CoroutineScope` (`viewModelScope`/`lifecycleScope`, see implementations above) with `Dispatchers.Main` context we can call it:\r\n\r\n    someScope.executeAsyncTask(\r\n        onPreExecute = {\r\n            // ... runs in Main Thread\r\n        }, doInBackground = { publishProgress: suspend (progress: Int) -&gt; Unit -&gt;\r\n            \r\n            // ... runs in Background Thread\r\n\r\n            // simulate progress update\r\n            publishProgress(50) // call `publishProgress` to update progress, `onProgressUpdate` will be called\r\n            delay(1000)\r\n            publishProgress(100)\r\n\r\n            \r\n            &quot;Result&quot; // send data to &quot;onPostExecute&quot;\r\n        }, onPostExecute = {\r\n            // runs in Main Thread\r\n            // ... here &quot;it&quot; is a data returned from &quot;doInBackground&quot;\r\n        }, onProgressUpdate = {\r\n            // runs in Main Thread\r\n            // ... here &quot;it&quot; contains progress\r\n        }\r\n    )\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask\r\n  [2]: https://developer.android.com/topic/libraries/architecture/coroutines\r\n  [3]: https://developer.android.com/topic/libraries/architecture/viewmodel","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>According to the <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"noreferrer\">Android documentation</a> <code>AsyncTask</code> was deprecated in <strong>API level 30</strong> and it is suggested to use the <strong>standard java.util.concurrent or <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines\" rel=\"noreferrer\">Kotlin concurrency utilities</a></strong> instead.</p>\n<p>Using the latter it can be achieved pretty simple:</p>\n<ol>\n<li><p>Create generic extension function on <code>CoroutineScope</code>:</p>\n<pre><code> fun &lt;R&gt; CoroutineScope.executeAsyncTask(\n         onPreExecute: () -&gt; Unit,\n         doInBackground: () -&gt; R,\n         onPostExecute: (R) -&gt; Unit\n ) = launch {\n     onPreExecute() // runs in Main Thread\n     val result = withContext(Dispatchers.IO) { \n         doInBackground() // runs in background thread without blocking the Main Thread\n     }\n     onPostExecute(result) // runs in Main Thread\n } \n</code></pre>\n</li>\n<li><p>Use the function with any <code>CoroutineScope</code> which has <code>Dispatchers.Main</code> context:</p>\n<ul>\n<li><p>In <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"noreferrer\"><code>ViewModel</code></a>:</p>\n<pre><code>class MyViewModel : ViewModel() {\n\n    fun someFun() {\n        viewModelScope.executeAsyncTask(onPreExecute = {\n            // ... runs in Main Thread\n        }, doInBackground = {\n            // ... runs in Worker(Background) Thread\n            &quot;Result&quot; // send data to &quot;onPostExecute&quot;\n        }, onPostExecute = {\n            // runs in Main Thread\n            // ... here &quot;it&quot; is the data returned from &quot;doInBackground&quot;\n        })\n    }\n}\n</code></pre>\n</li>\n<li><p>In <code>Activity</code> or <code>Fragment</code>:</p>\n<pre><code>lifecycleScope.executeAsyncTask(onPreExecute = {\n    // ... runs in Main Thread\n}, doInBackground = {\n    // ... runs in Worker(Background) Thread\n    &quot;Result&quot; // send data to &quot;onPostExecute&quot;\n}, onPostExecute = {\n    // runs in Main Thread\n    // ... here &quot;it&quot; is the data returned from &quot;doInBackground&quot;\n})\n</code></pre>\n</li>\n</ul>\n<p>To use <code>viewModelScope</code> or <code>lifecycleScope</code> add next line(s) to dependencies of the app's <strong>build.gradle</strong> file:</p>\n<pre><code>implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$LIFECYCLE_VERSION&quot; // for viewModelScope\nimplementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:$LIFECYCLE_VERSION&quot; // for lifecycleScope\n</code></pre>\n<p>At the time of writing <code>final LIFECYCLE_VERSION = &quot;2.3.0-alpha05&quot;</code></p>\n</li>\n</ol>\n<p><strong>UPDATE</strong>:</p>\n<p>Also we can implement progress updating using <code>onProgressUpdate</code> function:</p>\n<pre><code>fun &lt;P, R&gt; CoroutineScope.executeAsyncTask(\n        onPreExecute: () -&gt; Unit,\n        doInBackground: suspend (suspend (P) -&gt; Unit) -&gt; R,\n        onPostExecute: (R) -&gt; Unit,\n        onProgressUpdate: (P) -&gt; Unit\n) = launch {\n    onPreExecute()\n\n    val result = withContext(Dispatchers.IO) {\n        doInBackground {\n            withContext(Dispatchers.Main) { onProgressUpdate(it) }\n        }\n    }\n    onPostExecute(result)\n}\n</code></pre>\n<p>Using any <code>CoroutineScope</code> (<code>viewModelScope</code>/<code>lifecycleScope</code>, see implementations above) with <code>Dispatchers.Main</code> context we can call it:</p>\n<pre><code>someScope.executeAsyncTask(\n    onPreExecute = {\n        // ... runs in Main Thread\n    }, doInBackground = { publishProgress: suspend (progress: Int) -&gt; Unit -&gt;\n        \n        // ... runs in Background Thread\n\n        // simulate progress update\n        publishProgress(50) // call `publishProgress` to update progress, `onProgressUpdate` will be called\n        delay(1000)\n        publishProgress(100)\n\n        \n        &quot;Result&quot; // send data to &quot;onPostExecute&quot;\n    }, onPostExecute = {\n        // runs in Main Thread\n        // ... here &quot;it&quot; is a data returned from &quot;doInBackground&quot;\n    }, onProgressUpdate = {\n        // runs in Main Thread\n        // ... here &quot;it&quot; contains progress\n    }\n)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1420332,"reputation":2257,"user_id":1345089,"accept_rate":85,"display_name":"Darksymphony"},"score":11,"creation_date":1603913558,"post_id":63302963,"comment_id":114189980,"body_markdown":"no kotlin please, first use Java, then maybe Kotlin as an alternative for those who are using it. Thanks","body":"no kotlin please, first use Java, then maybe Kotlin as an alternative for those who are using it. Thanks"},{"owner":{"account_id":264582,"reputation":82175,"user_id":550966,"accept_rate":97,"display_name":"Pankaj Kumar"},"score":7,"creation_date":1608780681,"post_id":63302963,"comment_id":115683989,"body_markdown":"@Darksymphony I completely disagree with you, question is old in terms of using Java. If you are still using Java for Android, you need to rethink your choice. He wrote a very good alternative for AsynTask.","body":"@Darksymphony I completely disagree with you, question is old in terms of using Java. If you are still using Java for Android, you need to rethink your choice. He wrote a very good alternative for AsynTask."},{"owner":{"account_id":1420332,"reputation":2257,"user_id":1345089,"accept_rate":85,"display_name":"Darksymphony"},"score":22,"creation_date":1609627303,"post_id":63302963,"comment_id":115882786,"body_markdown":"hopefully Java will stay for next X years as the basic language for android. Someone lazy came with Kotlin and forced it to android devs with it&#39;s funny commands :) Maybe one day I will rethink. But as long as we have a choice, I&#39;ll stay with Java","body":"hopefully Java will stay for next X years as the basic language for android. Someone lazy came with Kotlin and forced it to android devs with it&#39;s funny commands :) Maybe one day I will rethink. But as long as we have a choice, I&#39;ll stay with Java"},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1610378701,"post_id":63302963,"comment_id":116107113,"body_markdown":"@Darksymphony Where is the problem to write some parts with Kotlin and some with JAVA? Should work without any real problems.","body":"@Darksymphony Where is the problem to write some parts with Kotlin and some with JAVA? Should work without any real problems."},{"owner":{"account_id":1420332,"reputation":2257,"user_id":1345089,"accept_rate":85,"display_name":"Darksymphony"},"score":0,"creation_date":1610380201,"post_id":63302963,"comment_id":116107853,"body_markdown":"@TheincredibleJan yes you are right, but works not without including Kotlin dependencies","body":"@TheincredibleJan yes you are right, but works not without including Kotlin dependencies"},{"owner":{"account_id":12522523,"reputation":762,"user_id":11338467,"display_name":"Undefined function"},"score":0,"creation_date":1619435131,"post_id":63302963,"comment_id":118896044,"body_markdown":"Great this work really well with non context class but how will you cancel it or get a progress?","body":"Great this work really well with non context class but how will you cancel it or get a progress?"},{"owner":{"account_id":448670,"reputation":1563,"user_id":843001,"accept_rate":47,"display_name":"Duna"},"score":0,"creation_date":1628837641,"post_id":63302963,"comment_id":121532061,"body_markdown":"Great example but instead of GlobalScope I would recommend to use CoroutineContext","body":"Great example but instead of GlobalScope I would recommend to use CoroutineContext"},{"owner":{"account_id":3616211,"reputation":887,"user_id":3015986,"accept_rate":25,"display_name":"BeLambda"},"score":2,"creation_date":1629760896,"post_id":63302963,"comment_id":121767401,"body_markdown":"@Darksymphony Kotlin is the superior language, no question. You have to adapt to the times.","body":"@Darksymphony Kotlin is the superior language, no question. You have to adapt to the times."},{"owner":{"account_id":7282863,"reputation":186,"user_id":5551975,"display_name":"dcarl661"},"score":0,"creation_date":1662755310,"post_id":63302963,"comment_id":130087644,"body_markdown":"Koltin isn&#39;t necessary &quot;superior&quot; the reason it was hastily invented is because google doesn&#39;t outright own java.  \nAnd google knows this may become a problem even if that problem is all in their heads.\nAndroid itself is a hastily invented thing before Apple was the only phone solution on the planet.","body":"Koltin isn&#39;t necessary &quot;superior&quot; the reason it was hastily invented is because google doesn&#39;t outright own java.   And google knows this may become a problem even if that problem is all in their heads. Android itself is a hastily invented thing before Apple was the only phone solution on the planet."},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1667243394,"post_id":63302963,"comment_id":131119773,"body_markdown":"@Darksymphony you can save this Kotlin code in separate class and work with it with Java, you don&#39;t even look into it after that.","body":"@Darksymphony you can save this Kotlin code in separate class and work with it with Java, you don&#39;t even look into it after that."}],"tags":[],"owner":{"account_id":340810,"reputation":127,"user_id":671037,"accept_rate":0,"display_name":"Kumar"},"comment_count":10,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1599118797,"creation_date":1596807327,"answer_id":63302963,"question_id":58767733,"body_markdown":"Here I created a Alternative for AsyncTask using Coroutines which can be used same as AsyncTask without changing much code base in your project.\r\n\r\n1. Create a new Abstract class AsyncTaskCoroutine which takes input parameter and output parameter datatypes of-course these parameters are optional :)\r\n\r\n   \r\n        import kotlinx.coroutines.Dispatchers\r\n        import kotlinx.coroutines.GlobalScope\r\n        import kotlinx.coroutines.async\r\n        import kotlinx.coroutines.launch\r\n        \r\n        abstract class AsyncTaskCoroutine&lt;I, O&gt; {\r\n            var result: O? = null\r\n            //private var result: O\r\n            open fun onPreExecute() {}\r\n        \r\n            open fun onPostExecute(result: O?) {}\r\n            abstract fun doInBackground(vararg params: I): O\r\n        \r\n            fun &lt;T&gt; execute(vararg input: I) {\r\n                GlobalScope.launch(Dispatchers.Main) {\r\n                    onPreExecute()\r\n                    callAsync(*input)\r\n                }\r\n            }\r\n        \r\n            private suspend fun callAsync(vararg input: I) {\r\n                GlobalScope.async(Dispatchers.IO) {\r\n                    result = doInBackground(*input)\r\n                }.await()\r\n                GlobalScope.launch(Dispatchers.Main) {\r\n        \r\n                    onPostExecute(result)\r\n        \r\n        \r\n                }\r\n            }\r\n        }\r\n\r\n2 . Inside Activity use this as same as your old AsycnTask now\r\n \r\n\r\n   \r\n\r\n     new AsyncTaskCoroutine() {\r\n                    @Override\r\n                    public Object doInBackground(Object[] params) {\r\n                        return null;\r\n                    }\r\n        \r\n                    @Override\r\n                    public void onPostExecute(@Nullable Object result) {\r\n        \r\n                    }\r\n        \r\n                    @Override\r\n                    public void onPreExecute() {\r\n        \r\n                    }\r\n                }.execute();\r\n\r\n3. InCase if you need to send pass params\r\n     \r\n   \r\n         new AsyncTaskCoroutine&lt;Integer, Boolean&gt;() {\r\n\r\n            @Override\r\n            public Boolean doInBackground(Integer... params) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public void onPostExecute(@Nullable Boolean result) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onPreExecute() {\r\n    \r\n            }\r\n        }.execute();\r\n\r\n","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>Here I created a Alternative for AsyncTask using Coroutines which can be used same as AsyncTask without changing much code base in your project.</p>\n<ol>\n<li><p>Create a new Abstract class AsyncTaskCoroutine which takes input parameter and output parameter datatypes of-course these parameters are optional :)</p>\n<pre><code> import kotlinx.coroutines.Dispatchers\n import kotlinx.coroutines.GlobalScope\n import kotlinx.coroutines.async\n import kotlinx.coroutines.launch\n\n abstract class AsyncTaskCoroutine&lt;I, O&gt; {\n     var result: O? = null\n     //private var result: O\n     open fun onPreExecute() {}\n\n     open fun onPostExecute(result: O?) {}\n     abstract fun doInBackground(vararg params: I): O\n\n     fun &lt;T&gt; execute(vararg input: I) {\n         GlobalScope.launch(Dispatchers.Main) {\n             onPreExecute()\n             callAsync(*input)\n         }\n     }\n\n     private suspend fun callAsync(vararg input: I) {\n         GlobalScope.async(Dispatchers.IO) {\n             result = doInBackground(*input)\n         }.await()\n         GlobalScope.launch(Dispatchers.Main) {\n\n             onPostExecute(result)\n\n\n         }\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>2 . Inside Activity use this as same as your old AsycnTask now</p>\n<pre><code> new AsyncTaskCoroutine() {\n                @Override\n                public Object doInBackground(Object[] params) {\n                    return null;\n                }\n    \n                @Override\n                public void onPostExecute(@Nullable Object result) {\n    \n                }\n    \n                @Override\n                public void onPreExecute() {\n    \n                }\n            }.execute();\n</code></pre>\n<ol start=\"3\">\n<li><p>InCase if you need to send pass params</p>\n<pre><code>  new AsyncTaskCoroutine&lt;Integer, Boolean&gt;() {\n\n     @Override\n     public Boolean doInBackground(Integer... params) {\n         return null;\n     }\n\n     @Override\n     public void onPostExecute(@Nullable Boolean result) {\n\n     }\n\n     @Override\n     public void onPreExecute() {\n\n     }\n }.execute();\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1667243638,"post_id":63317382,"comment_id":131119853,"body_markdown":"Wow, nice, but isn&#39;t it an implementation which Google using in their AsyncTask? Sorry, I don&#39;t know how are they implements it.","body":"Wow, nice, but isn&#39;t it an implementation which Google using in their AsyncTask? Sorry, I don&#39;t know how are they implements it."}],"tags":[],"owner":{"account_id":9219099,"reputation":121,"user_id":6849205,"display_name":"Honza Johny Pejsar"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1599782915,"creation_date":1596901993,"answer_id":63317382,"question_id":58767733,"body_markdown":"My custom replacement: https://github.com/JohnyDaDeveloper/AndroidAsync\r\n\r\nIt only works when the app is running (more specifically the activity which scheduled the task), but it&#39;s capable of updating the UI after the background task was completed\r\n\r\nEDIT: My AsyncTask no longer reqires Activiy to function.","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>My custom replacement: <a href=\"https://github.com/JohnyDaDeveloper/AndroidAsync\" rel=\"nofollow noreferrer\">https://github.com/JohnyDaDeveloper/AndroidAsync</a></p>\n<p>It only works when the app is running (more specifically the activity which scheduled the task), but it's capable of updating the UI after the background task was completed</p>\n<p>EDIT: My AsyncTask no longer reqires Activiy to function.</p>\n"},{"comments":[{"owner":{"account_id":3642523,"reputation":4487,"user_id":3036320,"display_name":"Ahamadullah Saikat"},"score":2,"creation_date":1601727364,"post_id":63500657,"comment_id":113498915,"body_markdown":"How to show percentage when background stuff called?","body":"How to show percentage when background stuff called?"},{"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"score":0,"creation_date":1601731036,"post_id":63500657,"comment_id":113499867,"body_markdown":"You need to use runOnUiThread to update your progress-bar or any other mechanism you are using for updating / displaying % of task completed.","body":"You need to use runOnUiThread to update your progress-bar or any other mechanism you are using for updating / displaying % of task completed."},{"owner":{"account_id":13381081,"reputation":13847,"user_id":9656320,"display_name":"Son Truong"},"score":25,"creation_date":1605938022,"post_id":63500657,"comment_id":114812103,"body_markdown":"This solution has several drawbacks. First, the thread keeps a reference to the activity, this might leak the context and crash the app. Second, we cannot use this from a fragment. Third, we cannot update progress of the background task, Fourth, there is no way to cancel the thread. Finally, it creates many boilerplate code in the app.","body":"This solution has several drawbacks. First, the thread keeps a reference to the activity, this might leak the context and crash the app. Second, we cannot use this from a fragment. Third, we cannot update progress of the background task, Fourth, there is no way to cancel the thread. Finally, it creates many boilerplate code in the app."},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1611880636,"post_id":63500657,"comment_id":116599926,"body_markdown":"Your code does not even compile....I think has some typos in, for example when you say `new Runnable({...})` you mean `new Runnable(){...}`. Because the first one is like you call a constructor and pass an array initializer, triggering a compiler error. the second one is the proper way to create anonymous inner classes","body":"Your code does not even compile....I think has some typos in, for example when you say <code>new Runnable({...})</code> you mean <code>new Runnable(){...}</code>. Because the first one is like you call a constructor and pass an array initializer, triggering a compiler error. the second one is the proper way to create anonymous inner classes"},{"owner":{"account_id":13217532,"reputation":576,"user_id":13485979,"display_name":"Faisal Khan"},"score":0,"creation_date":1614698730,"post_id":63500657,"comment_id":117461224,"body_markdown":"@Son Truong I have solutions for three of your four problems. First, WeakReference can be used to prevent leak. Second, you can absolutely use this inside fragments via getActivity(). Fourth, you can cancel at any time using Executer and Future.","body":"@Son Truong I have solutions for three of your four problems. First, WeakReference can be used to prevent leak. Second, you can absolutely use this inside fragments via getActivity(). Fourth, you can cancel at any time using Executer and Future."},{"owner":{"account_id":5962728,"reputation":2317,"user_id":4687402,"accept_rate":50,"display_name":"Benjamin Basmaci"},"score":3,"creation_date":1628691165,"post_id":63500657,"comment_id":121489509,"body_markdown":"@SonTruong I have a few genuine questions to those drawbacks.\n1: How/Why does the thread keep a reference of the activity, if its not specifically passed? I understand `runOnUiThread`, but for short tasks, this shouldn&#39;t be a problem, no? 3:  Can&#39;t the progress of the background task simply be handled by a respective call within `runOnUiThread`, just like `publishProgress`/`onProgressionUpdate`? 4: Going Down `AsyncTask` and `FutureTask` code, all it does is use the `Thread.interrupt` functionality to create the `cancel` functionality. Wouldnt it be possible to do the same with this approach?","body":"@SonTruong I have a few genuine questions to those drawbacks. 1: How/Why does the thread keep a reference of the activity, if its not specifically passed? I understand <code>runOnUiThread</code>, but for short tasks, this shouldn&#39;t be a problem, no? 3:  Can&#39;t the progress of the background task simply be handled by a respective call within <code>runOnUiThread</code>, just like <code>publishProgress</code>/<code>onProgressionUpdate</code>? 4: Going Down <code>AsyncTask</code> and <code>FutureTask</code> code, all it does is use the <code>Thread.interrupt</code> functionality to create the <code>cancel</code> functionality. Wouldnt it be possible to do the same with this approach?"}],"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"comment_count":6,"down_vote_count":1,"up_vote_count":61,"is_accepted":false,"score":60,"last_activity_date":1646037979,"creation_date":1597910084,"answer_id":63500657,"question_id":58767733,"body_markdown":"One of the simplest alternative is to use `Thread`\r\n\r\n```java\r\nnew Thread(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n        // do your stuff\r\n        runOnUiThread(new Runnable() {\r\n            public void run() {\r\n                // do onPostExecute stuff\r\n            }\r\n        });\r\n    }\r\n}).start();\r\n```\r\n\r\nIf your project supports **JAVA 8**, you can use `lambda`:\r\n\r\n```java\r\nnew Thread(() -&gt; {\r\n    // do background stuff here\r\n    runOnUiThread(()-&gt;{\r\n        // OnPostExecute stuff here\r\n    });\r\n}).start();\r\n```","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>One of the simplest alternative is to use <code>Thread</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        // do your stuff\n        runOnUiThread(new Runnable() {\n            public void run() {\n                // do onPostExecute stuff\n            }\n        });\n    }\n}).start();\n</code></pre>\n<p>If your project supports <strong>JAVA 8</strong>, you can use <code>lambda</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Thread(() -&gt; {\n    // do background stuff here\n    runOnUiThread(()-&gt;{\n        // OnPostExecute stuff here\n    });\n}).start();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3471091,"reputation":108,"user_id":2905354,"display_name":"Trasd"},"score":0,"creation_date":1688157596,"post_id":64153396,"comment_id":135041531,"body_markdown":"I changed my mind, this is by far the best, easiest implementation I&#39;ve found.  I do however have a couple questions: is it safe to call shutdown with threads still active (like a cancel)?  If I forget to shut it down, does it shutdown after 60 seconds (your default) of inactivity?  I&#39;ll study the code too and try to answer these questions on my own, but multithreading escapes me (hopefully not after I study the code).  Thanks.","body":"I changed my mind, this is by far the best, easiest implementation I&#39;ve found.  I do however have a couple questions: is it safe to call shutdown with threads still active (like a cancel)?  If I forget to shut it down, does it shutdown after 60 seconds (your default) of inactivity?  I&#39;ll study the code too and try to answer these questions on my own, but multithreading escapes me (hopefully not after I study the code).  Thanks."},{"owner":{"account_id":3471091,"reputation":108,"user_id":2905354,"display_name":"Trasd"},"score":0,"creation_date":1688159635,"post_id":64153396,"comment_id":135041793,"body_markdown":"No need to answer.  Found what I needed.  Thanks, again.","body":"No need to answer.  Found what I needed.  Thanks, again."}],"tags":[],"owner":{"account_id":8495232,"reputation":2977,"user_id":6370015,"accept_rate":44,"display_name":"Kishan Donga"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1601547652,"creation_date":1601547652,"answer_id":64153396,"question_id":58767733,"body_markdown":"You can use this custom class as an alternative of the AsyncTask&lt;&gt;, this is the same as AsyncTask so you not need to apply extra efforts for the same.\r\n\r\n    import android.os.Handler;\r\n    import android.os.Looper;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    \r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.SynchronousQueue;\r\n    import java.util.concurrent.ThreadPoolExecutor;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class TaskRunner {\r\n    \r\n        private static final int CORE_THREADS = 3;\r\n        private static final long KEEP_ALIVE_SECONDS = 60L;\r\n        private static TaskRunner taskRunner = null;\r\n        private Handler handler = new Handler(Looper.getMainLooper());\r\n        private ThreadPoolExecutor executor;\r\n    \r\n        private TaskRunner() {\r\n            executor = newThreadPoolExecutor();\r\n        }\r\n    \r\n        public static TaskRunner getInstance() {\r\n            if (taskRunner == null) {\r\n                taskRunner = new TaskRunner();\r\n            }\r\n            return taskRunner;\r\n        }\r\n    \r\n        public void shutdownService() {\r\n            if (executor != null) {\r\n                executor.shutdown();\r\n            }\r\n        }\r\n    \r\n        public void execute(Runnable command) {\r\n            executor.execute(command);\r\n        }\r\n    \r\n        public ExecutorService getExecutor() {\r\n            return executor;\r\n        }\r\n    \r\n        public &lt;R&gt; void executeCallable(@NonNull Callable&lt;R&gt; callable, @NonNull OnCompletedCallback&lt;R&gt; callback) {\r\n            executor.execute(() -&gt; {\r\n                R result = null;\r\n                try {\r\n                    result = callable.call();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace(); // log this exception\r\n                } finally {\r\n                    final R finalResult = result;\r\n                    handler.post(() -&gt; callback.onComplete(finalResult));\r\n                }\r\n            });\r\n        }\r\n    \r\n        private ThreadPoolExecutor newThreadPoolExecutor() {\r\n            return new ThreadPoolExecutor(\r\n                    CORE_THREADS,\r\n                    Integer.MAX_VALUE,\r\n                    KEEP_ALIVE_SECONDS,\r\n                    TimeUnit.SECONDS,\r\n                    new SynchronousQueue&lt;&gt;()\r\n            );\r\n        }\r\n    \r\n        public interface OnCompletedCallback&lt;R&gt; {\r\n            void onComplete(@Nullable R result);\r\n        }\r\n    }\r\n\r\nHow to use it? Please follow the below examples.\r\n\r\nWith lambda expressions\r\n\r\n    TaskRunner.getInstance().executeCallable(() -&gt; 1, result -&gt; {\r\n    });\r\n    \r\n    \r\n    TaskRunner.getInstance().execute(() -&gt; {\r\n    });\r\n\r\n\r\nWithout lambda expressions\r\n\r\n    TaskRunner.getInstance().executeCallable(new Callable&lt;Integer&gt;() {\r\n        @Override\r\n        public Integer call() throws Exception {\r\n            return 1;\r\n        }\r\n    }, new TaskRunner.OnCompletedCallback&lt;Integer&gt;() {\r\n        @Override\r\n        public void onComplete(@Nullable Integer result) {\r\n    \r\n        }\r\n    });\r\n    \r\n    TaskRunner.getInstance().execute(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n    \r\n        }\r\n    });\r\n\r\nNote: Don&#39;t forget to shutdown executors service \r\n\r\n    TaskRunner.getInstance().shutdownService();","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>You can use this custom class as an alternative of the AsyncTask&lt;&gt;, this is the same as AsyncTask so you not need to apply extra efforts for the same.</p>\n<pre><code>import android.os.Handler;\nimport android.os.Looper;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.SynchronousQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\npublic class TaskRunner {\n\n    private static final int CORE_THREADS = 3;\n    private static final long KEEP_ALIVE_SECONDS = 60L;\n    private static TaskRunner taskRunner = null;\n    private Handler handler = new Handler(Looper.getMainLooper());\n    private ThreadPoolExecutor executor;\n\n    private TaskRunner() {\n        executor = newThreadPoolExecutor();\n    }\n\n    public static TaskRunner getInstance() {\n        if (taskRunner == null) {\n            taskRunner = new TaskRunner();\n        }\n        return taskRunner;\n    }\n\n    public void shutdownService() {\n        if (executor != null) {\n            executor.shutdown();\n        }\n    }\n\n    public void execute(Runnable command) {\n        executor.execute(command);\n    }\n\n    public ExecutorService getExecutor() {\n        return executor;\n    }\n\n    public &lt;R&gt; void executeCallable(@NonNull Callable&lt;R&gt; callable, @NonNull OnCompletedCallback&lt;R&gt; callback) {\n        executor.execute(() -&gt; {\n            R result = null;\n            try {\n                result = callable.call();\n            } catch (Exception e) {\n                e.printStackTrace(); // log this exception\n            } finally {\n                final R finalResult = result;\n                handler.post(() -&gt; callback.onComplete(finalResult));\n            }\n        });\n    }\n\n    private ThreadPoolExecutor newThreadPoolExecutor() {\n        return new ThreadPoolExecutor(\n                CORE_THREADS,\n                Integer.MAX_VALUE,\n                KEEP_ALIVE_SECONDS,\n                TimeUnit.SECONDS,\n                new SynchronousQueue&lt;&gt;()\n        );\n    }\n\n    public interface OnCompletedCallback&lt;R&gt; {\n        void onComplete(@Nullable R result);\n    }\n}\n</code></pre>\n<p>How to use it? Please follow the below examples.</p>\n<p>With lambda expressions</p>\n<pre><code>TaskRunner.getInstance().executeCallable(() -&gt; 1, result -&gt; {\n});\n\n\nTaskRunner.getInstance().execute(() -&gt; {\n});\n</code></pre>\n<p>Without lambda expressions</p>\n<pre><code>TaskRunner.getInstance().executeCallable(new Callable&lt;Integer&gt;() {\n    @Override\n    public Integer call() throws Exception {\n        return 1;\n    }\n}, new TaskRunner.OnCompletedCallback&lt;Integer&gt;() {\n    @Override\n    public void onComplete(@Nullable Integer result) {\n\n    }\n});\n\nTaskRunner.getInstance().execute(new Runnable() {\n    @Override\n    public void run() {\n\n    }\n});\n</code></pre>\n<p>Note: Don't forget to shutdown executors service</p>\n<pre><code>TaskRunner.getInstance().shutdownService();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7282863,"reputation":186,"user_id":5551975,"display_name":"dcarl661"},"score":0,"creation_date":1662762099,"post_id":64665154,"comment_id":130088952,"body_markdown":"could parameters to the thread be added without creating a new class?","body":"could parameters to the thread be added without creating a new class?"}],"tags":[],"owner":{"account_id":13733259,"reputation":1173,"user_id":9910265,"display_name":"Mohamed Ben Romdhane"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1604415030,"creation_date":1604415030,"answer_id":64665154,"question_id":58767733,"body_markdown":"Just replace the whole class with this Thread and put it in a method to pass variables\r\n````\r\nnew Thread(() -&gt; {\r\n            // do background stuff here\r\n            runOnUiThread(()-&gt;{\r\n                // OnPostExecute stuff here\r\n              \r\n            });\r\n        }).start();\r\n````\r\nand in Fragment add the Context to the `runOnUiThread()` methode:\r\n````\r\n new Thread(() -&gt; {\r\n            // do background stuff here\r\n            context.runOnUiThread(()-&gt;{\r\n                // OnPostExecute stuff here\r\n            });\r\n        }).start();","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>Just replace the whole class with this Thread and put it in a method to pass variables</p>\n<pre><code>new Thread(() -&gt; {\n            // do background stuff here\n            runOnUiThread(()-&gt;{\n                // OnPostExecute stuff here\n              \n            });\n        }).start();\n</code></pre>\n<p>and in Fragment add the Context to the <code>runOnUiThread()</code> methode:</p>\n<pre><code> new Thread(() -&gt; {\n            // do background stuff here\n            context.runOnUiThread(()-&gt;{\n                // OnPostExecute stuff here\n            });\n        }).start();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20675307,"reputation":348,"user_id":15180061,"display_name":"arun"},"score":7,"creation_date":1628468596,"post_id":64969640,"comment_id":121420761,"body_markdown":"Actually you can go one more step down:\n\nExecutors.newSingleThreadExecutor().execute(() -&gt; dao.insert(data));","body":"Actually you can go one more step down:  Executors.newSingleThreadExecutor().execute(() -&gt; dao.insert(data));"},{"owner":{"account_id":16405115,"reputation":266,"user_id":11849871,"display_name":"Kroi"},"score":2,"creation_date":1636292337,"post_id":64969640,"comment_id":123512325,"body_markdown":"Thank you for this! It helped me a lot when calling server API calls. But what if I want to show some updating progress bars? where can I put the onProgressUpdate part?","body":"Thank you for this! It helped me a lot when calling server API calls. But what if I want to show some updating progress bars? where can I put the onProgressUpdate part?"},{"owner":{"account_id":9780715,"reputation":1250,"user_id":7595401,"display_name":"pavi2410"},"score":0,"creation_date":1647075832,"post_id":64969640,"comment_id":126286118,"body_markdown":"@Kroi you&#39;d have to call `handler.post` everytime you want to post an update to main thread","body":"@Kroi you&#39;d have to call <code>handler.post</code> everytime you want to post an update to main thread"},{"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"score":0,"creation_date":1647973756,"post_id":64969640,"comment_id":126504801,"body_markdown":"How to stop the execution of tasks?, for example when closing the activity that has called it, etc. In my case I use it in a word search engine of my database, I want that when changing the text of an EditText it stops the current query and starts a new one, but I can&#39;t find a way to stop the ExecutorService.","body":"How to stop the execution of tasks?, for example when closing the activity that has called it, etc. In my case I use it in a word search engine of my database, I want that when changing the text of an EditText it stops the current query and starts a new one, but I can&#39;t find a way to stop the ExecutorService."},{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":0,"creation_date":1665238091,"post_id":64969640,"comment_id":130655357,"body_markdown":"I try it, I can&#39;t understand when the background task is still executing and I&#39;m receiving the post execute result immediately. Where is the catch","body":"I try it, I can&#39;t understand when the background task is still executing and I&#39;m receiving the post execute result immediately. Where is the catch"},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":1,"creation_date":1674664253,"post_id":64969640,"comment_id":132763989,"body_markdown":"d= (◕‿↼ ) Nice short and clean answer, where &quot;clean&quot; means without the non-sense about &quot;don&#39;t use `WeakReference&lt;Context&gt;` and go use `LiveData` instead&quot;.","body":"d= (◕‿↼ ) Nice short and clean answer, where &quot;clean&quot; means without the non-sense about &quot;don&#39;t use <code>WeakReference&lt;Context&gt;</code> and go use <code>LiveData</code> instead&quot;."},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1674664354,"post_id":64969640,"comment_id":132764023,"body_markdown":"`LiveData.observe(myActivity, ...)` method is even worse than a weak-ref, because the observer is IGNORED once life-cycle ends, **but** if we capture a weak-ref inside a normal observer, we at least can handle `null`, like changing configurations to retry later. See also [Static way to get `Context` in Android](https://stackoverflow.com/a/5114361/8740349)","body":"<code>LiveData.observe(myActivity, ...)</code> method is even worse than a weak-ref, because the observer is IGNORED once life-cycle ends, <b>but</b> if we capture a weak-ref inside a normal observer, we at least can handle <code>null</code>, like changing configurations to retry later. See also <a href=\"https://stackoverflow.com/a/5114361/8740349\">Static way to get <code>Context</code> in Android</a>"},{"owner":{"account_id":1761357,"reputation":609,"user_id":1608385,"display_name":"user1608385"},"score":3,"creation_date":1681419028,"post_id":64969640,"comment_id":134057651,"body_markdown":"I don&#39;t see what advantage this has over using AsyncTask correctly.  Both your approach and AsyncTask use similar components from Java&#39;s concurerncy package and the code shown above does not do anything to prevent the &quot;memory leaks&quot; associated with improper use of AsyncTask when used from within the context of an Activity or Fragment.","body":"I don&#39;t see what advantage this has over using AsyncTask correctly.  Both your approach and AsyncTask use similar components from Java&#39;s concurerncy package and the code shown above does not do anything to prevent the &quot;memory leaks&quot; associated with improper use of AsyncTask when used from within the context of an Activity or Fragment."},{"owner":{"account_id":12605951,"reputation":2564,"user_id":9166855,"display_name":"Prajwal Waingankar"},"score":0,"creation_date":1687260554,"post_id":64969640,"comment_id":134908797,"body_markdown":"what about progressUpdate? How to handle that?","body":"what about progressUpdate? How to handle that?"}],"tags":[],"owner":{"account_id":8357908,"reputation":2305,"user_id":6277444,"display_name":"Kashfa Khan"},"comment_count":9,"down_vote_count":0,"up_vote_count":197,"is_accepted":false,"score":197,"last_activity_date":1646038180,"creation_date":1606139048,"answer_id":64969640,"question_id":58767733,"body_markdown":"You can directly use `Executors` from `java.util.concurrent` package. \r\n\r\nI also searched about it and I found a solution in this [Android Async API is Deprecated][1] post.\r\n\r\nUnfortunately, the post is using Kotlin, but after a little effort I have converted it into Java. So here is the solution. \r\n\r\n```java\r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\nHandler handler = new Handler(Looper.getMainLooper());\r\n\r\nexecutor.execute(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n\r\n        //Background work here\r\n\r\n        handler.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                //UI Thread work here\r\n            }\r\n        });\r\n    }\r\n});\r\n```\r\n\r\nPretty simple right? You can simplify it little more if you are using Java 8 in your project. \r\n\r\n```java\r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\nHandler handler = new Handler(Looper.getMainLooper());\r\n\r\nexecutor.execute(() -&gt; {\r\n    //Background work here\r\n    handler.post(() -&gt; {\r\n        //UI Thread work here\r\n    });\r\n});\r\n```\r\n\r\nStill, it cannot defeat kotlin terms of conciseness of the code, but better than the previous java version. \r\n\r\nHope this will help you. Thank You\r\n\r\n  [1]: https://www.simplifiedcoding.net/android-asynctask/","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>You can directly use <code>Executors</code> from <code>java.util.concurrent</code> package.</p>\n<p>I also searched about it and I found a solution in this <a href=\"https://www.simplifiedcoding.net/android-asynctask/\" rel=\"noreferrer\">Android Async API is Deprecated</a> post.</p>\n<p>Unfortunately, the post is using Kotlin, but after a little effort I have converted it into Java. So here is the solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executor = Executors.newSingleThreadExecutor();\nHandler handler = new Handler(Looper.getMainLooper());\n\nexecutor.execute(new Runnable() {\n    @Override\n    public void run() {\n\n        //Background work here\n\n        handler.post(new Runnable() {\n            @Override\n            public void run() {\n                //UI Thread work here\n            }\n        });\n    }\n});\n</code></pre>\n<p>Pretty simple right? You can simplify it little more if you are using Java 8 in your project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executor = Executors.newSingleThreadExecutor();\nHandler handler = new Handler(Looper.getMainLooper());\n\nexecutor.execute(() -&gt; {\n    //Background work here\n    handler.post(() -&gt; {\n        //UI Thread work here\n    });\n});\n</code></pre>\n<p>Still, it cannot defeat kotlin terms of conciseness of the code, but better than the previous java version.</p>\n<p>Hope this will help you. Thank You</p>\n"},{"comments":[{"owner":{"account_id":3699244,"reputation":417,"user_id":3079559,"accept_rate":59,"display_name":"user3079559"},"score":0,"creation_date":1680349016,"post_id":65108879,"comment_id":133885526,"body_markdown":"I am trying to implement this code in my app but the post execute code does not terminate. It continues running till i close the app. What can be done to eliminate this?","body":"I am trying to implement this code in my app but the post execute code does not terminate. It continues running till i close the app. What can be done to eliminate this?"}],"tags":[],"owner":{"account_id":11007169,"reputation":860,"user_id":9821661,"display_name":"milan pithadia"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1620752798,"creation_date":1606915136,"answer_id":65108879,"question_id":58767733,"body_markdown":"Use this class to execute background task in Background Thread this class is **work for all android API version include Android 11** also this code is same work like **AsyncTask** with **doInBackground** and **onPostExecute** methods\r\n\r\n    public abstract class BackgroundTask {\r\n    \r\n        private Activity activity;\r\n        public BackgroundTask(Activity activity) {\r\n            this.activity = activity;\r\n        }\r\n    \r\n        private void startBackground() {\r\n            new Thread(new Runnable() {\r\n                public void run() {\r\n    \r\n                    doInBackground();\r\n                    activity.runOnUiThread(new Runnable() {\r\n                        public void run() {\r\n    \r\n                            onPostExecute();\r\n                        }\r\n                    });\r\n                }\r\n            }).start();\r\n        }\r\n        public void execute(){\r\n            startBackground();\r\n        }\r\n    \r\n        public abstract void doInBackground();\r\n        public abstract void onPostExecute();\r\n    \r\n    }\r\n\r\nAfter copying the above class, you can then use it with this:\r\n\r\n    new BackgroundTask(MainActivity.this) {\r\n            @Override\r\n            public void doInBackground() {\r\n    \r\n                //put you background code\r\n                //same like doingBackground\r\n                //Background Thread\r\n            }\r\n    \r\n            @Override\r\n            public void onPostExecute() {\r\n    \r\n                //hear is result part same\r\n                //same like post execute\r\n                //UI Thread(update your UI widget)\r\n            }\r\n        }.execute();\r\n\r\n\r\n","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>Use this class to execute background task in Background Thread this class is <strong>work for all android API version include Android 11</strong> also this code is same work like <strong>AsyncTask</strong> with <strong>doInBackground</strong> and <strong>onPostExecute</strong> methods</p>\n<pre><code>public abstract class BackgroundTask {\n\n    private Activity activity;\n    public BackgroundTask(Activity activity) {\n        this.activity = activity;\n    }\n\n    private void startBackground() {\n        new Thread(new Runnable() {\n            public void run() {\n\n                doInBackground();\n                activity.runOnUiThread(new Runnable() {\n                    public void run() {\n\n                        onPostExecute();\n                    }\n                });\n            }\n        }).start();\n    }\n    public void execute(){\n        startBackground();\n    }\n\n    public abstract void doInBackground();\n    public abstract void onPostExecute();\n\n}\n</code></pre>\n<p>After copying the above class, you can then use it with this:</p>\n<pre><code>new BackgroundTask(MainActivity.this) {\n        @Override\n        public void doInBackground() {\n\n            //put you background code\n            //same like doingBackground\n            //Background Thread\n        }\n\n        @Override\n        public void onPostExecute() {\n\n            //hear is result part same\n            //same like post execute\n            //UI Thread(update your UI widget)\n        }\n    }.execute();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1675627626,"post_id":65356425,"comment_id":132965411,"body_markdown":"Simply [un-deprecate AsyncTask](https://stackoverflow.com/a/75355078/8740349) - because if it depends on our needs, we would already be using one of above, if we really didn&#39;t need `AsyncTasks`&#39;s features ;-)","body":"Simply <a href=\"https://stackoverflow.com/a/75355078/8740349\">un-deprecate AsyncTask</a> - because if it depends on our needs, we would already be using one of above, if we really didn&#39;t need <code>AsyncTasks</code>&#39;s features ;-)"}],"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610379678,"creation_date":1608291645,"answer_id":65356425,"question_id":58767733,"body_markdown":"You can migrate to next approaches depends your needs\r\n\r\n - Thread + Handler\r\n - Executor\r\n - Future\r\n - IntentService\r\n - JobScheduler\r\n - RxJava\r\n - Coroutines (Kotlin)\r\n\r\n[\\[Android async variants\\]][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49338894/4770877","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>You can migrate to next approaches depends your needs</p>\n<ul>\n<li>Thread + Handler</li>\n<li>Executor</li>\n<li>Future</li>\n<li>IntentService</li>\n<li>JobScheduler</li>\n<li>RxJava</li>\n<li>Coroutines (Kotlin)</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/a/49338894/4770877\">[Android async variants]</a></p>\n"},{"tags":[],"owner":{"account_id":357590,"reputation":6120,"user_id":697856,"accept_rate":40,"display_name":"wf9a5m75"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620094981,"creation_date":1620094981,"answer_id":67377993,"question_id":58767733,"body_markdown":"This is my code\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.concurrent.Callable;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.Future;\r\n\r\npublic abstract class AsyncTaskRunner&lt;T&gt; {\r\n\r\n    private ExecutorService executorService = null;\r\n    private Set&lt;Callable&lt;T&gt;&gt; tasks = new HashSet&lt;&gt;();\r\n\r\n    public AsyncTaskRunner() {\r\n        this.executorService = Executors.newSingleThreadExecutor();\r\n    }\r\n    \r\n    public AsyncTaskRunner(int threadNum) {\r\n        this.executorService = Executors.newFixedThreadPool(threadNum);\r\n    }\r\n\r\n\r\n    public void addTask(Callable&lt;T&gt; task) {\r\n        tasks.add(task);\r\n    }\r\n\r\n    public void execute() {\r\n        try {\r\n            List&lt;Future&lt;T&gt;&gt; features = executorService.invokeAll(tasks);\r\n\r\n            List&lt;T&gt; results = new ArrayList&lt;&gt;();\r\n            for (Future&lt;T&gt; feature : features) {\r\n                results.add(feature.get());\r\n            }\r\n            this.onPostExecute(results);\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            e.printStackTrace();\r\n            this.onCancelled();\r\n        } finally {\r\n            executorService.shutdown();\r\n        }\r\n\r\n    }\r\n\r\n    protected abstract void onPostExecute(List&lt;T&gt; results);\r\n\r\n    protected void onCancelled() {\r\n        // stub\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd usage example.\r\nExtends the `AsyncTaskRunner` class,\r\n\r\n\r\n```java\r\nclass AsyncCalc extends AsyncTaskRunner&lt;Integer&gt; {\r\n\r\n    public void addRequest(final Integer int1, final Integer int2) {\r\n        this.addTask(new Callable&lt;Integer&gt;() {\r\n            @Override\r\n            public Integer call() throws Exception {\r\n                // Do something in background\r\n                return int1 + int2;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(List&lt;Integer&gt; results) {\r\n        for (Integer answer: results) {\r\n            Log.d(&quot;AsyncCalc&quot;, answer.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nthen use it!\r\n\r\n```java\r\nAsyncCalc calc = new AsyncCalc();\r\ncalc.addRequest(1, 2);\r\ncalc.addRequest(2, 3);\r\ncalc.addRequest(3, 4);\r\ncalc.execute();\r\n```","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>This is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic abstract class AsyncTaskRunner&lt;T&gt; {\n\n    private ExecutorService executorService = null;\n    private Set&lt;Callable&lt;T&gt;&gt; tasks = new HashSet&lt;&gt;();\n\n    public AsyncTaskRunner() {\n        this.executorService = Executors.newSingleThreadExecutor();\n    }\n    \n    public AsyncTaskRunner(int threadNum) {\n        this.executorService = Executors.newFixedThreadPool(threadNum);\n    }\n\n\n    public void addTask(Callable&lt;T&gt; task) {\n        tasks.add(task);\n    }\n\n    public void execute() {\n        try {\n            List&lt;Future&lt;T&gt;&gt; features = executorService.invokeAll(tasks);\n\n            List&lt;T&gt; results = new ArrayList&lt;&gt;();\n            for (Future&lt;T&gt; feature : features) {\n                results.add(feature.get());\n            }\n            this.onPostExecute(results);\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n            this.onCancelled();\n        } finally {\n            executorService.shutdown();\n        }\n\n    }\n\n    protected abstract void onPostExecute(List&lt;T&gt; results);\n\n    protected void onCancelled() {\n        // stub\n    }\n\n}\n</code></pre>\n<p>And usage example.\nExtends the <code>AsyncTaskRunner</code> class,</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AsyncCalc extends AsyncTaskRunner&lt;Integer&gt; {\n\n    public void addRequest(final Integer int1, final Integer int2) {\n        this.addTask(new Callable&lt;Integer&gt;() {\n            @Override\n            public Integer call() throws Exception {\n                // Do something in background\n                return int1 + int2;\n            }\n        });\n    }\n\n    @Override\n    protected void onPostExecute(List&lt;Integer&gt; results) {\n        for (Integer answer: results) {\n            Log.d(&quot;AsyncCalc&quot;, answer.toString());\n        }\n    }\n}\n</code></pre>\n<p>then use it!</p>\n<pre class=\"lang-java prettyprint-override\"><code>AsyncCalc calc = new AsyncCalc();\ncalc.addRequest(1, 2);\ncalc.addRequest(2, 3);\ncalc.addRequest(3, 4);\ncalc.execute();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5594948,"reputation":503,"user_id":4432988,"display_name":"Mikhail Vasilyev"},"score":2,"creation_date":1629651174,"post_id":68395429,"comment_id":121737366,"body_markdown":"Your usage of `mIsInterrupted` is not thread-safe. Either it must be made atomic/volatile or the methods using it must be synchronized.","body":"Your usage of <code>mIsInterrupted</code> is not thread-safe. Either it must be made atomic/volatile or the methods using it must be synchronized."},{"owner":{"account_id":2980335,"reputation":846,"user_id":2530423,"accept_rate":29,"display_name":"Bhavna"},"score":0,"creation_date":1641884010,"post_id":68395429,"comment_id":124917034,"body_markdown":"@Vitaly Can you please add the implementation for onProgressUpdate  also","body":"@Vitaly Can you please add the implementation for onProgressUpdate  also"}],"tags":[],"owner":{"account_id":13461714,"reputation":334,"user_id":10501582,"display_name":"Vitaly"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1626358711,"creation_date":1626358216,"answer_id":68395429,"question_id":58767733,"body_markdown":"The accepted answer is good. But...\r\nI didn&#39;t see cancel() method implementation\r\n\r\nSo my implementation with possibility to cancel the running task (simulating cancellation) is below.\r\nCancel is needed to not run postExecute() method in case of task interruption.\r\n\r\n    public abstract class AsyncTaskExecutor&lt;Params&gt; {\r\n        public static final String TAG = &quot;AsyncTaskRunner&quot;;\r\n    \r\n        private static final Executor THREAD_POOL_EXECUTOR =\r\n                new ThreadPoolExecutor(5, 128, 1,\r\n                        TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\r\n    \r\n        private final Handler mHandler = new Handler(Looper.getMainLooper());\r\n        private boolean mIsInterrupted = false;\r\n    \r\n        protected void onPreExecute(){}\r\n        protected abstract Void doInBackground(Params... params);\r\n        protected void onPostExecute(){}\r\n        protected void onCancelled() {}\r\n    \r\n        @SafeVarargs\r\n        public final void executeAsync(Params... params) {\r\n            THREAD_POOL_EXECUTOR.execute(() -&gt; {\r\n                try {\r\n                    checkInterrupted();\r\n                    mHandler.post(this::onPreExecute);\r\n    \r\n                    checkInterrupted();\r\n                    doInBackground(params);\r\n    \r\n                    checkInterrupted();\r\n                    mHandler.post(this::onPostExecute);\r\n                } catch (InterruptedException ex) {\r\n                    mHandler.post(this::onCancelled);\r\n                } catch (Exception ex) {\r\n                    Log.e(TAG, &quot;executeAsync: &quot; + ex.getMessage() + &quot;\\n&quot; + Debug.getStackTrace(ex));\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void checkInterrupted() throws InterruptedException {\r\n            if (isInterrupted()){\r\n                throw new InterruptedException();\r\n            }\r\n        }\r\n    \r\n        public void cancel(boolean mayInterruptIfRunning){\r\n            setInterrupted(mayInterruptIfRunning);\r\n        }\r\n    \r\n        public boolean isInterrupted() {\r\n            return mIsInterrupted;\r\n        }\r\n    \r\n        public void setInterrupted(boolean interrupted) {\r\n            mIsInterrupted = interrupted;\r\n        }\r\n    }\r\n\r\nExample of using this class:\r\n\r\n    public class MySearchTask extends AsyncTaskExecutor&lt;String&gt; {\r\n    \r\n        public MySearchTask(){\r\n        }\r\n    \r\n        @Override\r\n        protected Void doInBackground(String... params) {\r\n            // Your long running task\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostExecute() {\r\n            // update UI on task completed\r\n        }\r\n    \r\n        @Override\r\n        protected void onCancelled() {\r\n            // update UI on task cancelled\r\n        }\r\n    }\r\n\r\n    MySearchTask searchTask = new MySearchTask();\r\n    searchTask.executeAsync(&quot;Test&quot;);","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>The accepted answer is good. But...\nI didn't see cancel() method implementation</p>\n<p>So my implementation with possibility to cancel the running task (simulating cancellation) is below.\nCancel is needed to not run postExecute() method in case of task interruption.</p>\n<pre><code>public abstract class AsyncTaskExecutor&lt;Params&gt; {\n    public static final String TAG = &quot;AsyncTaskRunner&quot;;\n\n    private static final Executor THREAD_POOL_EXECUTOR =\n            new ThreadPoolExecutor(5, 128, 1,\n                    TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\n\n    private final Handler mHandler = new Handler(Looper.getMainLooper());\n    private boolean mIsInterrupted = false;\n\n    protected void onPreExecute(){}\n    protected abstract Void doInBackground(Params... params);\n    protected void onPostExecute(){}\n    protected void onCancelled() {}\n\n    @SafeVarargs\n    public final void executeAsync(Params... params) {\n        THREAD_POOL_EXECUTOR.execute(() -&gt; {\n            try {\n                checkInterrupted();\n                mHandler.post(this::onPreExecute);\n\n                checkInterrupted();\n                doInBackground(params);\n\n                checkInterrupted();\n                mHandler.post(this::onPostExecute);\n            } catch (InterruptedException ex) {\n                mHandler.post(this::onCancelled);\n            } catch (Exception ex) {\n                Log.e(TAG, &quot;executeAsync: &quot; + ex.getMessage() + &quot;\\n&quot; + Debug.getStackTrace(ex));\n            }\n        });\n    }\n\n    private void checkInterrupted() throws InterruptedException {\n        if (isInterrupted()){\n            throw new InterruptedException();\n        }\n    }\n\n    public void cancel(boolean mayInterruptIfRunning){\n        setInterrupted(mayInterruptIfRunning);\n    }\n\n    public boolean isInterrupted() {\n        return mIsInterrupted;\n    }\n\n    public void setInterrupted(boolean interrupted) {\n        mIsInterrupted = interrupted;\n    }\n}\n</code></pre>\n<p>Example of using this class:</p>\n<pre><code>public class MySearchTask extends AsyncTaskExecutor&lt;String&gt; {\n\n    public MySearchTask(){\n    }\n\n    @Override\n    protected Void doInBackground(String... params) {\n        // Your long running task\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute() {\n        // update UI on task completed\n    }\n\n    @Override\n    protected void onCancelled() {\n        // update UI on task cancelled\n    }\n}\n\nMySearchTask searchTask = new MySearchTask();\nsearchTask.executeAsync(&quot;Test&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11907697,"reputation":732,"user_id":8713823,"display_name":"Islam Alshnawey"},"score":0,"creation_date":1630145442,"post_id":68859991,"comment_id":121879450,"body_markdown":"why you still name your solution with async task , even you use ExecutorService .","body":"why you still name your solution with async task , even you use ExecutorService ."},{"owner":{"account_id":2773463,"reputation":3896,"user_id":2387564,"accept_rate":74,"display_name":"Attaullah"},"score":1,"creation_date":1630162219,"post_id":68859991,"comment_id":121883325,"body_markdown":"Just for simplicity for the beginner","body":"Just for simplicity for the beginner"},{"owner":{"account_id":15835153,"reputation":164,"user_id":11425232,"display_name":"Patrick"},"score":0,"creation_date":1634072061,"post_id":68859991,"comment_id":122932219,"body_markdown":"In the above code from user Attaullah, is it possible to assign a specific name to each background task that is created through that class? That would make it easier to analyse the background tasks in the profiler of Android studio.","body":"In the above code from user Attaullah, is it possible to assign a specific name to each background task that is created through that class? That would make it easier to analyse the background tasks in the profiler of Android studio."},{"owner":{"account_id":2773463,"reputation":3896,"user_id":2387564,"accept_rate":74,"display_name":"Attaullah"},"score":0,"creation_date":1634104298,"post_id":68859991,"comment_id":122933061,"body_markdown":"Yes, possible you can easily give it a name.","body":"Yes, possible you can easily give it a name."},{"owner":{"account_id":15835153,"reputation":164,"user_id":11425232,"display_name":"Patrick"},"score":0,"creation_date":1634676156,"post_id":68859991,"comment_id":123088479,"body_markdown":"I&#39;ve added &quot;Thread.currentThread().setName(threadName);&quot; just below &quot;public void run()&quot; and I&#39;m passing threadName through the Execute-method. That&#39;s working perfect.","body":"I&#39;ve added &quot;Thread.currentThread().setName(threadName);&quot; just below &quot;public void run()&quot; and I&#39;m passing threadName through the Execute-method. That&#39;s working perfect."},{"owner":{"account_id":15835153,"reputation":164,"user_id":11425232,"display_name":"Patrick"},"score":0,"creation_date":1634676310,"post_id":68859991,"comment_id":123088526,"body_markdown":"Another question on your code: How do you call the Shutdown-method in your code? Do you call it through &quot;private AsyncTasks mTask;&quot; -&gt; &quot;mTask = new AsyncTasks();&quot; -&gt; &quot;mTask.execute();&quot; and right afterwards &quot;mTask.shutdown();&quot;?","body":"Another question on your code: How do you call the Shutdown-method in your code? Do you call it through &quot;private AsyncTasks mTask;&quot; -&gt; &quot;mTask = new AsyncTasks();&quot; -&gt; &quot;mTask.execute();&quot; and right afterwards &quot;mTask.shutdown();&quot;?"},{"owner":{"account_id":2773463,"reputation":3896,"user_id":2387564,"accept_rate":74,"display_name":"Attaullah"},"score":0,"creation_date":1634684770,"post_id":68859991,"comment_id":123090403,"body_markdown":"Yes first check if is running then try to shutdown. if (!isShutdown()) mTask.shutdown();","body":"Yes first check if is running then try to shutdown. if (!isShutdown()) mTask.shutdown();"},{"owner":{"account_id":3471091,"reputation":108,"user_id":2905354,"display_name":"Trasd"},"score":0,"creation_date":1688092088,"post_id":68859991,"comment_id":135030633,"body_markdown":"I&#39;m glad someone understands this stuff better than I do!  This is the only solution I&#39;ve found that works for my situation.  My question is, since you use Executors, would it be possible (for someone too old to learn new tricks without a week&#39;s studying) to implement a thread pool?  Or, is that what @Patrick solved with his thread-naming addition?  Thanks...  EDIT: Um, maybe I should have looked further, it looks like a thread-pool system has already been implemented by another person who understands this stuff better than I do.  I&#39;m beginning to think everyone does!  LOL","body":"I&#39;m glad someone understands this stuff better than I do!  This is the only solution I&#39;ve found that works for my situation.  My question is, since you use Executors, would it be possible (for someone too old to learn new tricks without a week&#39;s studying) to implement a thread pool?  Or, is that what @Patrick solved with his thread-naming addition?  Thanks...  EDIT: Um, maybe I should have looked further, it looks like a thread-pool system has already been implemented by another person who understands this stuff better than I do.  I&#39;m beginning to think everyone does!  LOL"},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1696587350,"post_id":68859991,"comment_id":136175342,"body_markdown":"How would you do `onProgressUpdate` (automatically switches to the main thread, so you can update the UI from &quot;within&quot; the task) with this?","body":"How would you do <code>onProgressUpdate</code> (automatically switches to the main thread, so you can update the UI from &quot;within&quot; the task) with this?"}],"tags":[],"owner":{"account_id":2773463,"reputation":3896,"user_id":2387564,"accept_rate":74,"display_name":"Attaullah"},"comment_count":9,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1629451715,"creation_date":1629451715,"answer_id":68859991,"question_id":58767733,"body_markdown":"Here I also created an Alternative for AsyncTask using abstract class and it can be just copied as a class.\r\n\r\n**/app/src/main/java/../AsyncTasks.java**\r\n\r\n    public abstract class AsyncTasks {\r\n        private final ExecutorService executors;\r\n    \r\n        public AsyncTasks() {\r\n            this.executors = Executors.newSingleThreadExecutor();\r\n        }\r\n    \r\n        private void startBackground() {\r\n            onPreExecute();\r\n            executors.execute(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    doInBackground();\r\n                    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            onPostExecute();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void execute() {\r\n            startBackground();\r\n        }\r\n    \r\n        public void shutdown() {\r\n            executors.shutdown();\r\n        }\r\n    \r\n        public boolean isShutdown() {\r\n            return executors.isShutdown();\r\n        }\r\n    \r\n        public abstract void onPreExecute();\r\n    \r\n        public abstract void doInBackground();\r\n    \r\n        public abstract void onPostExecute();\r\n    }\r\n\r\nImplementation/ use of the above class\r\n\r\n    new AsyncTasks() {\r\n         @Override\r\n                public void onPreExecute() { \r\n                 // before execution\r\n          }\r\n    \r\n         @Override\r\n                public void doInBackground() {\r\n                  // background task here \r\n                }\r\n    \r\n         @Override\r\n                public void onPostExecute() { \r\n                 // Ui task here\r\n                }\r\n         }.execute();\r\n","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>Here I also created an Alternative for AsyncTask using abstract class and it can be just copied as a class.</p>\n<p><strong>/app/src/main/java/../AsyncTasks.java</strong></p>\n<pre><code>public abstract class AsyncTasks {\n    private final ExecutorService executors;\n\n    public AsyncTasks() {\n        this.executors = Executors.newSingleThreadExecutor();\n    }\n\n    private void startBackground() {\n        onPreExecute();\n        executors.execute(new Runnable() {\n            @Override\n            public void run() {\n                doInBackground();\n                new Handler(Looper.getMainLooper()).post(new Runnable() {\n                    @Override\n                    public void run() {\n                        onPostExecute();\n                    }\n                });\n            }\n        });\n    }\n\n    public void execute() {\n        startBackground();\n    }\n\n    public void shutdown() {\n        executors.shutdown();\n    }\n\n    public boolean isShutdown() {\n        return executors.isShutdown();\n    }\n\n    public abstract void onPreExecute();\n\n    public abstract void doInBackground();\n\n    public abstract void onPostExecute();\n}\n</code></pre>\n<p>Implementation/ use of the above class</p>\n<pre><code>new AsyncTasks() {\n     @Override\n            public void onPreExecute() { \n             // before execution\n      }\n\n     @Override\n            public void doInBackground() {\n              // background task here \n            }\n\n     @Override\n            public void onPostExecute() { \n             // Ui task here\n            }\n     }.execute();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1211508,"reputation":510,"user_id":1180091,"display_name":"gxcare"},"score":0,"creation_date":1675415368,"post_id":73484115,"comment_id":132928227,"body_markdown":"This answer executes code on the same main thread, not on a different one like it happens for AsyncTask","body":"This answer executes code on the same main thread, not on a different one like it happens for AsyncTask"}],"tags":[],"owner":{"account_id":4458093,"reputation":8404,"user_id":3627736,"accept_rate":79,"display_name":"Yuliia Ashomok"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1661415372,"creation_date":1661415372,"answer_id":73484115,"question_id":58767733,"body_markdown":"[Docs says:][1] \r\n\r\n&gt; **AsyncTask** This class was deprecated in API level 30. Use the standard\r\n&gt; java.util.concurrent or Kotlin concurrency utilities instead.\r\n\r\nYou need to use `Handler` or coroutines instead `AsyncTask`.\r\n\r\n## Use Handler for Java\r\n\r\n    new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Your Code\r\n        }\r\n    }, 3000);\r\n\r\n## Use Handler for Kotlin\r\n\r\n    Handler(Looper.getMainLooper()).postDelayed({\r\n        // Your Code\r\n    }, 3000)\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p><a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">Docs says:</a></p>\n<blockquote>\n<p><strong>AsyncTask</strong> This class was deprecated in API level 30. Use the standard\njava.util.concurrent or Kotlin concurrency utilities instead.</p>\n</blockquote>\n<p>You need to use <code>Handler</code> or coroutines instead <code>AsyncTask</code>.</p>\n<h2>Use Handler for Java</h2>\n<pre><code>new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        // Your Code\n    }\n}, 3000);\n</code></pre>\n<h2>Use Handler for Kotlin</h2>\n<pre><code>Handler(Looper.getMainLooper()).postDelayed({\n    // Your Code\n}, 3000)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7282863,"reputation":186,"user_id":5551975,"display_name":"dcarl661"},"score":1,"creation_date":1662755881,"post_id":73666782,"comment_id":130087749,"body_markdown":"IMO except you don&#39;t show how String url is passed in.","body":"IMO except you don&#39;t show how String url is passed in."}],"tags":[],"owner":{"account_id":14636108,"reputation":1436,"user_id":10570201,"display_name":"nhcodes"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680743091,"creation_date":1662752206,"answer_id":73666782,"question_id":58767733,"body_markdown":"You can use [Executors][1] and [CompletableFutures][2]:\r\n\r\nThis is the helper class:\r\n\r\n    public class Async {\r\n    \r\n        private static final ExecutorService THREAD_POOL = Executors.newCachedThreadPool();\r\n    \r\n        private static final HandlerExecutor THREAD_MAIN = new HandlerExecutor(Looper.getMainLooper());\r\n    \r\n        public static &lt;T&gt; void execute(Supplier&lt;T&gt; async, Consumer&lt;T&gt; sync) {\r\n            CompletableFuture.supplyAsync(async, THREAD_POOL).thenAcceptAsync(sync, THREAD_MAIN);\r\n        }\r\n    \r\n        public static void execute(Runnable async) {\r\n            CompletableFuture.runAsync(async);\r\n        }\r\n    \r\n    }\r\n\r\nAnd here&#39;s an example on how to use it:\r\n\r\n    public static void main(String[] args) {\r\n        String url = &quot;https://example.com/&quot;;\r\n\r\n        Async.execute(() -&gt; {\r\n            //do something async without result\r\n        });\r\n\r\n        Async.execute(\r\n                () -&gt; {\r\n                    //do something async and return result\r\n                    try {\r\n                        HttpURLConnection connection = (HttpURLConnection) new URL(url).openConnection();\r\n                        return connection.getResponseCode();\r\n                    } catch (Exception e) {\r\n                        return null;\r\n                    }\r\n                },\r\n                (responseCode) -&gt; {\r\n                    //do something with result on main thread\r\n                    Log.e(&quot;Async&quot;, &quot;responseCode=&quot; + responseCode);\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">Executors</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFutures</a>:</p>\n<p>This is the helper class:</p>\n<pre><code>public class Async {\n\n    private static final ExecutorService THREAD_POOL = Executors.newCachedThreadPool();\n\n    private static final HandlerExecutor THREAD_MAIN = new HandlerExecutor(Looper.getMainLooper());\n\n    public static &lt;T&gt; void execute(Supplier&lt;T&gt; async, Consumer&lt;T&gt; sync) {\n        CompletableFuture.supplyAsync(async, THREAD_POOL).thenAcceptAsync(sync, THREAD_MAIN);\n    }\n\n    public static void execute(Runnable async) {\n        CompletableFuture.runAsync(async);\n    }\n\n}\n</code></pre>\n<p>And here's an example on how to use it:</p>\n<pre><code>public static void main(String[] args) {\n    String url = &quot;https://example.com/&quot;;\n\n    Async.execute(() -&gt; {\n        //do something async without result\n    });\n\n    Async.execute(\n            () -&gt; {\n                //do something async and return result\n                try {\n                    HttpURLConnection connection = (HttpURLConnection) new URL(url).openConnection();\n                    return connection.getResponseCode();\n                } catch (Exception e) {\n                    return null;\n                }\n            },\n            (responseCode) -&gt; {\n                //do something with result on main thread\n                Log.e(&quot;Async&quot;, &quot;responseCode=&quot; + responseCode);\n            }\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1679594341,"creation_date":1675626713,"answer_id":75355078,"question_id":58767733,"body_markdown":"`AsyncTask` class does not seem to be removed any time soon, but we did simply un-deprecate it anyway, because:\r\n\r\n* We didn&#39;t want to add lots of suppress annotations.\r\n* The alternative solutions have too much boiler-plate, or in most cases, without any real advantage vs `AsyncTask`.\r\n* We didn&#39;t want to re-invent the wheel.\r\n* We didn&#39;t want to fear the day it will finally be removed.\r\n* Refactoring takes too much time.\r\n\r\n## Example\r\nSimply add below file to your project, then search for &quot;`android.os.AsyncTask`&quot; imports, and replase all to the packge you did choose for said file.\r\n\r\nAs you may already know, this is no big deal, and is basically what the well known `AndroidX` library does all the time.\r\n\r\n**Get `AsyncTask.java` file at:** https://gist.github.com/top-master/0efddec3e2c35d77e30331e8c3bc725c\r\n","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p><code>AsyncTask</code> class does not seem to be removed any time soon, but we did simply un-deprecate it anyway, because:</p>\n<ul>\n<li>We didn't want to add lots of suppress annotations.</li>\n<li>The alternative solutions have too much boiler-plate, or in most cases, without any real advantage vs <code>AsyncTask</code>.</li>\n<li>We didn't want to re-invent the wheel.</li>\n<li>We didn't want to fear the day it will finally be removed.</li>\n<li>Refactoring takes too much time.</li>\n</ul>\n<h2>Example</h2>\n<p>Simply add below file to your project, then search for &quot;<code>android.os.AsyncTask</code>&quot; imports, and replase all to the packge you did choose for said file.</p>\n<p>As you may already know, this is no big deal, and is basically what the well known <code>AndroidX</code> library does all the time.</p>\n<p><strong>Get <code>AsyncTask.java</code> file at:</strong> <a href=\"https://gist.github.com/top-master/0efddec3e2c35d77e30331e8c3bc725c\" rel=\"nofollow noreferrer\">https://gist.github.com/top-master/0efddec3e2c35d77e30331e8c3bc725c</a></p>\n"},{"tags":[],"owner":{"account_id":11740512,"reputation":67,"user_id":8593001,"display_name":"Murat Gungor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696710241,"creation_date":1696710241,"answer_id":77251399,"question_id":58767733,"body_markdown":"WorkManager is the way to go\r\n\r\n    OneTimeWorkRequest mywork = new OneTimeWorkRequest.Builder(FlipMediaPeriodicWorker.class)\r\n                    .setInitialDelay(activity.currentMedia.timing, TimeUnit.SECONDS)\r\n                    .build(); \r\n    WorkManager.getInstance(activity).enqueue(mywork);\r\n\r\nYou can make it recursive to repeat tasks for less than 15 minutes. \r\n\r\n\r\n\r\n\r\n\r\n","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>WorkManager is the way to go</p>\n<pre><code>OneTimeWorkRequest mywork = new OneTimeWorkRequest.Builder(FlipMediaPeriodicWorker.class)\n                .setInitialDelay(activity.currentMedia.timing, TimeUnit.SECONDS)\n                .build(); \nWorkManager.getInstance(activity).enqueue(mywork);\n</code></pre>\n<p>You can make it recursive to repeat tasks for less than 15 minutes.</p>\n"}],"owner":{"account_id":2315704,"reputation":11993,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202879,"favorite_count":0,"down_vote_count":0,"up_vote_count":233,"accepted_answer_id":58767934,"answer_count":19,"score":233,"last_activity_date":1696710241,"creation_date":1573220582,"question_id":58767733,"body_markdown":"Google is deprecating Android AsyncTask API in Android 11 and suggesting to use `java.util.concurrent` instead. you can check out the commit [here](https://android-review.googlesource.com/c/platform/frameworks/base/+/1156409)\r\n\r\n     *\r\n     * @deprecated Use the standard &lt;code&gt;java.util.concurrent&lt;/code&gt; or\r\n     *   &lt;a href=&quot;https://developer.android.com/topic/libraries/architecture/coroutines&quot;&gt;\r\n     *   Kotlin concurrency utilities&lt;/a&gt; instead.\r\n     */\r\n    @Deprecated\r\n    public abstract class AsyncTask&lt;Params, Progress, Result&gt; {\r\n\r\n\r\nIf you’re maintaining an older codebase with asynchronous tasks in Android, you’re likely going to have to change it in future. My question is that what should be proper replacement of the code snippet shown below using `java.util.concurrent`. It is a static inner class of an Activity. I am looking for something that will work with `minSdkVersion 16`\r\n\r\n    private static class LongRunningTask extends AsyncTask&lt;String, Void, MyPojo&gt; {\r\n            private static final String TAG = MyActivity.LongRunningTask.class.getSimpleName();\r\n            private WeakReference&lt;MyActivity&gt; activityReference;\r\n    \r\n            LongRunningTask(MyActivity context) {\r\n                activityReference = new WeakReference&lt;&gt;(context);\r\n            }\r\n    \r\n            @Override\r\n            protected MyPojo doInBackground(String... params) {\r\n    \t\t\t// Some long running task\r\n                \r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(MyPojo data) {\r\n    \r\n                MyActivity activity = activityReference.get();\r\n    \t\t\tactivity.progressBar.setVisibility(View.GONE);\r\n    \t\t\tpopulateData(activity, data) ;\r\n            }     \r\n    \r\n    \r\n        }\r\n\r\n\r\n\r\n","title":"The AsyncTask API is deprecated in Android 11. What are the alternatives?","body":"<p>Google is deprecating Android AsyncTask API in Android 11 and suggesting to use <code>java.util.concurrent</code> instead. you can check out the commit <a href=\"https://android-review.googlesource.com/c/platform/frameworks/base/+/1156409\" rel=\"noreferrer\">here</a></p>\n<pre><code> *\n * @deprecated Use the standard &lt;code&gt;java.util.concurrent&lt;/code&gt; or\n *   &lt;a href=&quot;https://developer.android.com/topic/libraries/architecture/coroutines&quot;&gt;\n *   Kotlin concurrency utilities&lt;/a&gt; instead.\n */\n@Deprecated\npublic abstract class AsyncTask&lt;Params, Progress, Result&gt; {\n</code></pre>\n<p>If you’re maintaining an older codebase with asynchronous tasks in Android, you’re likely going to have to change it in future. My question is that what should be proper replacement of the code snippet shown below using <code>java.util.concurrent</code>. It is a static inner class of an Activity. I am looking for something that will work with <code>minSdkVersion 16</code></p>\n<pre><code>private static class LongRunningTask extends AsyncTask&lt;String, Void, MyPojo&gt; {\n        private static final String TAG = MyActivity.LongRunningTask.class.getSimpleName();\n        private WeakReference&lt;MyActivity&gt; activityReference;\n\n        LongRunningTask(MyActivity context) {\n            activityReference = new WeakReference&lt;&gt;(context);\n        }\n\n        @Override\n        protected MyPojo doInBackground(String... params) {\n            // Some long running task\n            \n        }\n\n        @Override\n        protected void onPostExecute(MyPojo data) {\n\n            MyActivity activity = activityReference.get();\n            activity.progressBar.setVisibility(View.GONE);\n            populateData(activity, data) ;\n        }     \n\n\n    }\n</code></pre>\n"},{"tags":["java","groovy","pdfbox"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1696537401,"post_id":77239929,"comment_id":136169766,"body_markdown":"according to source code warning just informs you that close() not called and then calls close() anyway https://github.com/BrentDouglas/pdfbox/blob/master/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java#L588","body":"according to source code warning just informs you that close() not called and then calls close() anyway <a href=\"https://github.com/BrentDouglas/pdfbox/blob/master/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java#L588\" rel=\"nofollow noreferrer\">github.com/BrentDouglas/pdfbox/blob/master/pdfbox/src/main/j&zwnj;&#8203;ava/&hellip;</a>"},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1696559329,"post_id":77239929,"comment_id":136171857,"body_markdown":"@daggett it does, but I&#39;m clearly calling close for every PDDocument within scope so eventhough it warns and cleans itself up.  It shouldn&#39;t ever print that unless close wasn&#39;t called, and I can&#39;t find an instance that wouldn&#39;t have close called on it.  So where are all of these COSDocuments that aren&#39;t being closed?","body":"@daggett it does, but I&#39;m clearly calling close for every PDDocument within scope so eventhough it warns and cleans itself up.  It shouldn&#39;t ever print that unless close wasn&#39;t called, and I can&#39;t find an instance that wouldn&#39;t have close called on it.  So where are all of these COSDocuments that aren&#39;t being closed?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1696737117,"post_id":77239929,"comment_id":136190680,"body_markdown":"Unrelated but important: you should close the result documents only after all documents are saved, due to the sometimes (depends of source PDF) sharing of resources (e.g. fonts).","body":"Unrelated but important: you should close the result documents only after all documents are saved, due to the sometimes (depends of source PDF) sharing of resources (e.g. fonts)."},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1696898470,"post_id":77239929,"comment_id":136208936,"body_markdown":"@TilmanHausherr Thanks for the feedback.  Wouldn&#39;t it be nice if Splitter had a close method on it to do just that?  That way it&#39;s easy to clean up the entire thing correctly upon completion.  No real need to understand intricacies of PDDocument relationships between the top level file and the pages&#39; PDDocuments leading to better encapsulation and less special knowledge needed to operate it.","body":"@TilmanHausherr Thanks for the feedback.  Wouldn&#39;t it be nice if Splitter had a close method on it to do just that?  That way it&#39;s easy to clean up the entire thing correctly upon completion.  No real need to understand intricacies of PDDocument relationships between the top level file and the pages&#39; PDDocuments leading to better encapsulation and less special knowledge needed to operate it."}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696710101,"creation_date":1696710101,"answer_id":77251393,"question_id":77239929,"body_markdown":"Ok I think I found the answer.  The warning only shows up after the OutOfMemoryError is thrown.  Since the Splitter pre-allocates the PDDocument for each page and saves those to a List you need to have enough memory to store the full file along with all the pages in memory.  I had a document with 2009 pages within it, and that would trigger the OOME in the middle, and at that point all of the existing pages would be placed on the finalize queue.  And it was the instances that were allocated by Splitter where I hadn&#39;t yet visited those that would print that error message.  The fix that I described already was to lower the cached memory in `MemorySettings` so that all of the pages could be processed.  As Dagget pointed out all of those pages will be eventually free, but the warning message makes it seem like the OOME was due to NOT calling close which isn&#39;t true.  You just don&#39;t have enough memory.  &#175;\\_(ツ)_/&#175;","title":"Problems with OutOfMemoryError with pdfbox after using the Splitter on several PDF files","body":"<p>Ok I think I found the answer.  The warning only shows up after the OutOfMemoryError is thrown.  Since the Splitter pre-allocates the PDDocument for each page and saves those to a List you need to have enough memory to store the full file along with all the pages in memory.  I had a document with 2009 pages within it, and that would trigger the OOME in the middle, and at that point all of the existing pages would be placed on the finalize queue.  And it was the instances that were allocated by Splitter where I hadn't yet visited those that would print that error message.  The fix that I described already was to lower the cached memory in <code>MemorySettings</code> so that all of the pages could be processed.  As Dagget pointed out all of those pages will be eventually free, but the warning message makes it seem like the OOME was due to NOT calling close which isn't true.  You just don't have enough memory.  ¯_(ツ)_/¯</p>\n"}],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77251393,"answer_count":1,"score":0,"last_activity_date":1696710101,"creation_date":1696532840,"question_id":77239929,"body_markdown":"I have a batch of PDF files I have to split into multiple PDFs for each page.  I&#39;ve written a script that processes the PDFs, and works for individual files or a couple of files.  But when processing multiple PDFs (total 6000 pages) it eventually runs out of memory, and prints &quot;Warning: You did not close a PDF Document&quot;.  I&#39;ve gotten it to work by lowering the memory settings with `MemoryUsageSetting.setupMixed(50_000_000)`, but if I set it to 200mb it always runs out.  I&#39;m convinced there is an internal `COSDocument` that is opened by pdfbox that I can&#39;t close, and that&#39;s why I&#39;m seeing the warning.  I know I&#39;m closing all of the `PDDocument` that I create. In fact I wrote some code to check each instance I have access to and none of those log statements show up.  Here is my code:\r\n\r\n```\r\n    int splitPdf( File pdfFile ) {\r\n        String filePrefix = prefix\r\n        if( !filePrefix ) filePrefix = pdfFile.name[0..&lt;(pdfFile.name.lastIndexOf(&quot;.&quot;))]\r\n        logger.info(&quot;Splitting ${pdfFile.name} pages ${startAtPage} - ${endAtPage} every ${splitPagesEvery} pages&quot;)\r\n        PDDocument document = PDDocument.load( pdfFile, MemoryUsageSetting.setupTempFileOnly() )\r\n        try {\r\n            Splitter splitter = new Splitter()\r\n            splitter.setStartPage(startAtPage)\r\n            splitter.setEndPage(endAtPage)\r\n            splitter.setSplitAtPage(splitPagesEvery)\r\n            splitter.memoryUsageSetting = MemoryUsageSetting.setupMixed(50_000_000)\r\n            int page = startAtPage &gt; 0 ? startAtPage : 1\r\n            splitter.split(document).each { PDDocument doc -&gt;\r\n                String filename = &quot;${filePrefix}-${page}.pdf&quot;\r\n                try {\r\n                    if( extractions ) {\r\n                        PDFTextStripper stripper = new PDFTextStripper()\r\n                        String pageText = stripper.getText( doc )\r\n                        Map&lt;String,String&gt; results = extractions.collectEntries([filename: filename]) { name, spec -&gt;\r\n                            [ name, spec.call(pageText) ]\r\n                        }\r\n                        this.manifest.write(results)\r\n                    }\r\n                    doc.save( new File( destDir, filename) )\r\n                    page++\r\n                } finally {\r\n                    doc.close()\r\n                    if( !doc.document.isClosed() ) logger.info(&quot;${filename} is NOT closed!&quot;)\r\n                }\r\n            }\r\n            return page - startAtPage\r\n        } finally {\r\n            document.close()\r\n            if( !document.document.isClosed() ) logger.info(&quot;${pdfFile.name} is NOT closed!&quot;)\r\n        }\r\n    }\r\n```\r\n\r\nI don&#39;t have proof of a memory leak in pdfbox 2.0.29, but I can&#39;t explain this any other way as to why I see loads of warnings about not closing a PDF Document.  I&#39;m working on creating another script I can run in a profiler to see if the number of COSDOcuments are way higher than the ones I know should be there.\r\n\r\nMy question is there any way an extra COSDocument could be created inside pdfbox that isn&#39;t being freed up while performing page splitting?","title":"Problems with OutOfMemoryError with pdfbox after using the Splitter on several PDF files","body":"<p>I have a batch of PDF files I have to split into multiple PDFs for each page.  I've written a script that processes the PDFs, and works for individual files or a couple of files.  But when processing multiple PDFs (total 6000 pages) it eventually runs out of memory, and prints &quot;Warning: You did not close a PDF Document&quot;.  I've gotten it to work by lowering the memory settings with <code>MemoryUsageSetting.setupMixed(50_000_000)</code>, but if I set it to 200mb it always runs out.  I'm convinced there is an internal <code>COSDocument</code> that is opened by pdfbox that I can't close, and that's why I'm seeing the warning.  I know I'm closing all of the <code>PDDocument</code> that I create. In fact I wrote some code to check each instance I have access to and none of those log statements show up.  Here is my code:</p>\n<pre><code>    int splitPdf( File pdfFile ) {\n        String filePrefix = prefix\n        if( !filePrefix ) filePrefix = pdfFile.name[0..&lt;(pdfFile.name.lastIndexOf(&quot;.&quot;))]\n        logger.info(&quot;Splitting ${pdfFile.name} pages ${startAtPage} - ${endAtPage} every ${splitPagesEvery} pages&quot;)\n        PDDocument document = PDDocument.load( pdfFile, MemoryUsageSetting.setupTempFileOnly() )\n        try {\n            Splitter splitter = new Splitter()\n            splitter.setStartPage(startAtPage)\n            splitter.setEndPage(endAtPage)\n            splitter.setSplitAtPage(splitPagesEvery)\n            splitter.memoryUsageSetting = MemoryUsageSetting.setupMixed(50_000_000)\n            int page = startAtPage &gt; 0 ? startAtPage : 1\n            splitter.split(document).each { PDDocument doc -&gt;\n                String filename = &quot;${filePrefix}-${page}.pdf&quot;\n                try {\n                    if( extractions ) {\n                        PDFTextStripper stripper = new PDFTextStripper()\n                        String pageText = stripper.getText( doc )\n                        Map&lt;String,String&gt; results = extractions.collectEntries([filename: filename]) { name, spec -&gt;\n                            [ name, spec.call(pageText) ]\n                        }\n                        this.manifest.write(results)\n                    }\n                    doc.save( new File( destDir, filename) )\n                    page++\n                } finally {\n                    doc.close()\n                    if( !doc.document.isClosed() ) logger.info(&quot;${filename} is NOT closed!&quot;)\n                }\n            }\n            return page - startAtPage\n        } finally {\n            document.close()\n            if( !document.document.isClosed() ) logger.info(&quot;${pdfFile.name} is NOT closed!&quot;)\n        }\n    }\n</code></pre>\n<p>I don't have proof of a memory leak in pdfbox 2.0.29, but I can't explain this any other way as to why I see loads of warnings about not closing a PDF Document.  I'm working on creating another script I can run in a profiler to see if the number of COSDOcuments are way higher than the ones I know should be there.</p>\n<p>My question is there any way an extra COSDocument could be created inside pdfbox that isn't being freed up while performing page splitting?</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":1225662,"reputation":12165,"user_id":1191247,"accept_rate":75,"display_name":"user1191247"},"score":1,"creation_date":1696707201,"post_id":77250647,"comment_id":136188796,"body_markdown":"Have you tried `spring.datasource.url=jdbc:mysql://localhost:3306/books?createDatabaseIfNotExist=true`?","body":"Have you tried <code>spring.datasource.url=jdbc:mysql:&#47;&#47;localhost:3306&#47;books?crea&zwnj;&#8203;teDatabaseIfNotExist&zwnj;&#8203;=true</code>?"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1696708078,"post_id":77250647,"comment_id":136188871,"body_markdown":"No I haven&#39;t. Now trying...","body":"No I haven&#39;t. Now trying..."},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1696709320,"post_id":77250647,"comment_id":136188971,"body_markdown":"YES! it DID worked finally! thanks a lot. I am wondering why is that magical flag needed, when there are already two properties set for the same reason `spring.jpa.generate-ddl=true` and `spring.jpa.hibernate.ddl-auto=update`.","body":"YES! it DID worked finally! thanks a lot. I am wondering why is that magical flag needed, when there are already two properties set for the same reason <code>spring.jpa.generate-ddl=true</code> and <code>spring.jpa.hibernate.ddl-auto=update</code>."},{"owner":{"account_id":1225662,"reputation":12165,"user_id":1191247,"accept_rate":75,"display_name":"user1191247"},"score":1,"creation_date":1696710546,"post_id":77250647,"comment_id":136189085,"body_markdown":"I think, the other two properties relate to the database content, not the database itself. Glad it worked.","body":"I think, the other two properties relate to the database content, not the database itself. Glad it worked."},{"owner":{"account_id":15413608,"reputation":99,"user_id":11529048,"display_name":"Akhil"},"score":1,"creation_date":1696777433,"post_id":77250647,"comment_id":136193877,"body_markdown":"If your database is not created OR if your application can&#39;t connect to the DB. The ddl-flags provided will be ignored.","body":"If your database is not created OR if your application can&#39;t connect to the DB. The ddl-flags provided will be ignored."},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1696850183,"post_id":77250647,"comment_id":136201343,"body_markdown":"Ok. @Akhil noted. Thanks.","body":"Ok. @Akhil noted. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696709601,"creation_date":1696709601,"answer_id":77251371,"question_id":77250647,"body_markdown":"As told by @user1191247 I included `?createDatabaseIfNotExist=true` with my \r\n\r\nconnection string and it worked. I did try many things. Change the driver \r\n\r\nclass `pom` `mysql` dependency, various versions.. nothing worked but at last on \r\n\r\n@user1191247 advice I put the above flag, and it just clicked! Thank You so much.","title":"unable to generate mysql schema using spring.jpa.hibernate.ddl-auto","body":"<p>As told by @user1191247 I included <code>?createDatabaseIfNotExist=true</code> with my</p>\n<p>connection string and it worked. I did try many things. Change the driver</p>\n<p>class <code>pom</code> <code>mysql</code> dependency, various versions.. nothing worked but at last on</p>\n<p>@user1191247 advice I put the above flag, and it just clicked! Thank You so much.</p>\n"}],"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696709601,"creation_date":1696696273,"question_id":77250647,"body_markdown":"I am trying generate `mysql` schema via my `springboot` application using property `spring.jpa.hibernate.ddl-auto=create` But getting error stating `Caused by: java.sql.SQLSyntaxErrorException: Unknown database &#39;books&#39;`\r\n\r\napplication.properties file:\r\n\r\n    # SERVER\r\n    server.port = 5555\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/books\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    \r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    #spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.naming.implicit-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n    spring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    \r\n    #spring.security.user.name=user\r\n    #spring.security.user.password=123\r\n    application.security.jwt.secret-key=404E635266556A597H3272357538782F413F4497H72B4B6250645367566B5970\r\n    application.security.jwt.expiration=7200000\r\n    application.security.jwt.refresh-token.expiration=604800000\r\n    \r\n    \r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.database=Books\r\n\r\nMain class\r\n\r\n    package com.books;\r\n    \r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties\r\n    @EntityScan(basePackages = {&quot;com.books.token&quot;,&quot;com.books.user&quot;})\r\n    public class SecurityApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SecurityApplication.class, args);\r\n    \t}\t\r\n    }\r\n\r\n\r\nentity class user\r\n\r\n    package com.books.user;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import com.books.token.Token;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.EnumType;\r\n    import jakarta.persistence.Enumerated;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.OneToMany;\r\n    import jakarta.persistence.Table;\r\n    import jakarta.persistence.Temporal;\r\n    import jakarta.persistence.TemporalType;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;_user&quot;)\r\n    public class User implements UserDetails {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n      private Integer id;\r\n      @Column(name=&quot;firstName&quot;)\r\n      private String firstname;\r\n      @Column(name=&quot;lastName&quot;)\r\n      private String lastname;\r\n      @Column(name=&quot;userName&quot;,unique = true)\r\n      private String email;\r\n      @Column(name=&quot;password&quot;)\r\n      private String password;\r\n      @Column(name=&quot;role&quot;)\r\n      @Enumerated(EnumType.STRING)\r\n      private Role role;\r\n    \r\n      @OneToMany(mappedBy = &quot;user&quot;)\r\n      private List&lt;Token&gt; tokens;\r\n    \r\n      @Temporal(TemporalType.TIMESTAMP)\r\n    \t@JsonFormat(pattern = &quot;dd-MM-yyyy hh:mm:ss&quot;)\r\n      @Column(name=&quot;createdDate&quot;)\r\n      private Date createdDate;\r\n      @Column(name=&quot;updatedDate&quot;)\r\n      @Temporal(TemporalType.TIMESTAMP)\r\n     \t@JsonFormat(pattern = &quot;dd-MM-yyyy hh:mm:ss&quot;)\r\n      private Date updatedDate;\r\n      @Column(name=&quot;refreshToken&quot;)\r\n      private String refreshToken;\r\n      \r\n      @Override\r\n      public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return role.getAuthorities();\r\n      }\r\n    \r\n      @Override\r\n      public String getPassword() {\r\n        return password;\r\n      }\r\n    \r\n      @Override\r\n      public String getUsername() {\r\n        return email;\r\n      }\r\n    \r\n      @Override\r\n      public boolean isAccountNonExpired() {\r\n        return true;\r\n      }\r\n    \r\n      @Override\r\n      public boolean isAccountNonLocked() {\r\n        return true;\r\n      }\r\n    \r\n      @Override\r\n      public boolean isCredentialsNonExpired() {\r\n        return true;\r\n      }\r\n    \r\n      @Override\r\n      public boolean isEnabled() {\r\n        return true;\r\n      }\r\n    }\r\n\r\nentity class token\r\n\r\n    package com.books.token;\r\n    \r\n    import com.books.user.User;\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.EnumType;\r\n    import jakarta.persistence.Enumerated;\r\n    import jakarta.persistence.FetchType;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.JoinColumn;\r\n    import jakarta.persistence.ManyToOne;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class Token {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n      public Integer id;\r\n    \r\n      @Column(unique = true)\r\n      public String token;\r\n    \r\n      @Column(name = &quot;tokenType&quot;)\r\n      @Enumerated(EnumType.STRING)\r\n      public TokenType tokenType = TokenType.BEARER;\r\n    \r\n      \r\n      public boolean revoked;\r\n    \r\n      public boolean expired;\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;user_id&quot;)\r\n      public User user;\r\n    }\r\n\r\nNo matter what I try `create` or `update` for `spring.jpa.hibernate.ddl-auto` property, I am getting error:\r\n\r\n    Caused by: org.hibernate.exception.SQLGrammarException: Unable to open JDBC Connection for DDL execution\r\n    ...\r\n    Caused by: java.sql.SQLSyntaxErrorException: Unknown database &#39;books&#39;\r\n    ...\r\n\r\n\r\nmysql dependency in POM.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nspringboot version 3.0.5\r\nand mysql db version is 8.0.32\r\n\r\n","title":"unable to generate mysql schema using spring.jpa.hibernate.ddl-auto","body":"<p>I am trying generate <code>mysql</code> schema via my <code>springboot</code> application using property <code>spring.jpa.hibernate.ddl-auto=create</code> But getting error stating <code>Caused by: java.sql.SQLSyntaxErrorException: Unknown database 'books'</code></p>\n<p>application.properties file:</p>\n<pre><code># SERVER\nserver.port = 5555\nspring.datasource.url=jdbc:mysql://localhost:3306/books\nspring.datasource.username=root\nspring.datasource.password=root\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n#spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.naming.implicit-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\n#spring.security.user.name=user\n#spring.security.user.password=123\napplication.security.jwt.secret-key=404E635266556A597H3272357538782F413F4497H72B4B6250645367566B5970\napplication.security.jwt.expiration=7200000\napplication.security.jwt.refresh-token.expiration=604800000\n\n\nspring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=Books\n</code></pre>\n<p>Main class</p>\n<pre><code>package com.books;\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\n\n@SpringBootApplication\n@EnableConfigurationProperties\n@EntityScan(basePackages = {&quot;com.books.token&quot;,&quot;com.books.user&quot;})\npublic class SecurityApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SecurityApplication.class, args);\n    }   \n}\n</code></pre>\n<p>entity class user</p>\n<pre><code>package com.books.user;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.books.token.Token;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EnumType;\nimport jakarta.persistence.Enumerated;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.Temporal;\nimport jakarta.persistence.TemporalType;\n\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.List;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;_user&quot;)\npublic class User implements UserDetails {\n\n  @Id\n  @GeneratedValue(strategy=GenerationType.IDENTITY)\n  private Integer id;\n  @Column(name=&quot;firstName&quot;)\n  private String firstname;\n  @Column(name=&quot;lastName&quot;)\n  private String lastname;\n  @Column(name=&quot;userName&quot;,unique = true)\n  private String email;\n  @Column(name=&quot;password&quot;)\n  private String password;\n  @Column(name=&quot;role&quot;)\n  @Enumerated(EnumType.STRING)\n  private Role role;\n\n  @OneToMany(mappedBy = &quot;user&quot;)\n  private List&lt;Token&gt; tokens;\n\n  @Temporal(TemporalType.TIMESTAMP)\n    @JsonFormat(pattern = &quot;dd-MM-yyyy hh:mm:ss&quot;)\n  @Column(name=&quot;createdDate&quot;)\n  private Date createdDate;\n  @Column(name=&quot;updatedDate&quot;)\n  @Temporal(TemporalType.TIMESTAMP)\n    @JsonFormat(pattern = &quot;dd-MM-yyyy hh:mm:ss&quot;)\n  private Date updatedDate;\n  @Column(name=&quot;refreshToken&quot;)\n  private String refreshToken;\n  \n  @Override\n  public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    return role.getAuthorities();\n  }\n\n  @Override\n  public String getPassword() {\n    return password;\n  }\n\n  @Override\n  public String getUsername() {\n    return email;\n  }\n\n  @Override\n  public boolean isAccountNonExpired() {\n    return true;\n  }\n\n  @Override\n  public boolean isAccountNonLocked() {\n    return true;\n  }\n\n  @Override\n  public boolean isCredentialsNonExpired() {\n    return true;\n  }\n\n  @Override\n  public boolean isEnabled() {\n    return true;\n  }\n}\n</code></pre>\n<p>entity class token</p>\n<pre><code>package com.books.token;\n\nimport com.books.user.User;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EnumType;\nimport jakarta.persistence.Enumerated;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Token {\n\n  @Id\n  @GeneratedValue(strategy=GenerationType.IDENTITY)\n  public Integer id;\n\n  @Column(unique = true)\n  public String token;\n\n  @Column(name = &quot;tokenType&quot;)\n  @Enumerated(EnumType.STRING)\n  public TokenType tokenType = TokenType.BEARER;\n\n  \n  public boolean revoked;\n\n  public boolean expired;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;user_id&quot;)\n  public User user;\n}\n</code></pre>\n<p>No matter what I try <code>create</code> or <code>update</code> for <code>spring.jpa.hibernate.ddl-auto</code> property, I am getting error:</p>\n<pre><code>Caused by: org.hibernate.exception.SQLGrammarException: Unable to open JDBC Connection for DDL execution\n...\nCaused by: java.sql.SQLSyntaxErrorException: Unknown database 'books'\n...\n</code></pre>\n<p>mysql dependency in POM.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>springboot version 3.0.5\nand mysql db version is 8.0.32</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1696698274,"post_id":77250532,"comment_id":136187958,"body_markdown":"That&#39;s correct.  If OnClickListener had multiple functions, you wouldn&#39;t be able to use a lambda.  A lambda can only be used where it&#39;s replacing an interface with a single function.","body":"That&#39;s correct.  If OnClickListener had multiple functions, you wouldn&#39;t be able to use a lambda.  A lambda can only be used where it&#39;s replacing an interface with a single function."},{"owner":{"account_id":29620657,"reputation":9,"user_id":22701736,"display_name":"kapDev"},"score":0,"creation_date":1696707982,"post_id":77250532,"comment_id":136188859,"body_markdown":"Okay thank you @GabeSechan","body":"Okay thank you @GabeSechan"}],"owner":{"account_id":29620657,"reputation":9,"user_id":22701736,"display_name":"kapDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1696878549,"answer_count":0,"score":0,"last_activity_date":1696708439,"creation_date":1696694447,"question_id":77250532,"body_markdown":"Got confused about lambda in android studio\r\n\r\nI wanted to create a listener for a button in android studio and coded this:\r\n\r\n```\r\nButtonName.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                System.out.println(&quot;On click test&quot;));\r\n            }\r\n        });\r\n```\r\n\r\nAnd it&#39;s working but IDE suggested to use lambda like this:\r\n\r\n`ButtonName.setOnClickListener((view) -&gt; System.out.println(&quot;On click test&quot;));`\r\n\r\nAnd it also works and I got interested into lambda and want to know if I understand it.\r\n\r\nIt works because function *View.OnClickListener()* has only one abstract Method *onClick* so lambda automaticly uses *onClick* method ?\r\nI&#39;m a little confused about lambda.","title":"Lambda in android studio","body":"<p>Got confused about lambda in android studio</p>\n<p>I wanted to create a listener for a button in android studio and coded this:</p>\n<pre><code>ButtonName.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                System.out.println(&quot;On click test&quot;));\n            }\n        });\n</code></pre>\n<p>And it's working but IDE suggested to use lambda like this:</p>\n<p><code>ButtonName.setOnClickListener((view) -&gt; System.out.println(&quot;On click test&quot;));</code></p>\n<p>And it also works and I got interested into lambda and want to know if I understand it.</p>\n<p>It works because function <em>View.OnClickListener()</em> has only one abstract Method <em>onClick</em> so lambda automaticly uses <em>onClick</em> method ?\nI'm a little confused about lambda.</p>\n"},{"tags":["java","exception","try-catch","block","throw"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1385172166,"post_id":20156973,"comment_id":30047036,"body_markdown":"Blame a guy named Goodenough, ca 1974.","body":"Blame a guy named Goodenough, ca 1974."}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696664805,"creation_date":1385166830,"answer_id":20156997,"question_id":20156973,"body_markdown":"You need to add a `throws` in the method signature **only** for checked exceptions. For example:\r\n\r\n    public static void divide(double x, double y) throws Exception {\r\n     ...\r\n    }\r\n\r\nSince [ArithmeticException extends RuntimeException][1], there&#39;s no need of a `throws` in the second example. \r\n\r\nMore info:\r\n\r\n - [Unchecked Exceptions][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ArithmeticException.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html","title":"Why can&#39;t I throw an exception from a method","body":"<p>You need to add a <code>throws</code> in the method signature <strong>only</strong> for checked exceptions. For example:</p>\n<pre><code>public static void divide(double x, double y) throws Exception {\n ...\n}\n</code></pre>\n<p>Since <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ArithmeticException.html\" rel=\"nofollow noreferrer\">ArithmeticException extends RuntimeException</a>, there's no need of a <code>throws</code> in the second example.</p>\n<p>More info:</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">Unchecked Exceptions</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10554252,"reputation":331,"user_id":7775986,"display_name":"Lealo"},"score":0,"creation_date":1512950065,"post_id":20156999,"comment_id":82449595,"body_markdown":"I would like to generate a NotSerializableException when an object is being set up for Serialization - by checking `if(someObj instanceof Serializable)` That is not possible then?","body":"I would like to generate a NotSerializableException when an object is being set up for Serialization - by checking <code>if(someObj instanceof Serializable)</code> That is not possible then?"}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1385167292,"creation_date":1385166837,"answer_id":20156999,"question_id":20156973,"body_markdown":"An [`ArithmeticException`][1] is a `RuntimeException`, so it doesn&#39;t need to be declared in a `throws` clause or caught by a `catch` block.  But `Exception` isn&#39;t a `RuntimeException`.\r\n\r\n[Section 11.2 of the JLS][2] covers this:\r\n\r\n&gt; The unchecked exception classes (&#167;11.1.1) are exempted from compile-time checking.\r\n\r\nThe &quot;unchecked exception classes&quot; include `Error`s and `RuntimeException`s.\r\n\r\nAdditionally, you&#39;ll want to check if `y` is `0`, not if `x / y` is `0`.\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ArithmeticException.html\r\n[2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-11.html#jls-11.2","title":"Why can&#39;t I throw an exception from a method","body":"<p>An <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ArithmeticException.html\" rel=\"nofollow noreferrer\"><code>ArithmeticException</code></a> is a <code>RuntimeException</code>, so it doesn't need to be declared in a <code>throws</code> clause or caught by a <code>catch</code> block.  But <code>Exception</code> isn't a <code>RuntimeException</code>.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-11.html#jls-11.2\" rel=\"nofollow noreferrer\">Section 11.2 of the JLS</a> covers this:</p>\n\n<blockquote>\n  <p>The unchecked exception classes (§11.1.1) are exempted from compile-time checking.</p>\n</blockquote>\n\n<p>The \"unchecked exception classes\" include <code>Error</code>s and <code>RuntimeException</code>s.</p>\n\n<p>Additionally, you'll want to check if <code>y</code> is <code>0</code>, not if <code>x / y</code> is <code>0</code>.</p>\n"},{"tags":[],"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385166973,"creation_date":1385166973,"answer_id":20157020,"question_id":20156973,"body_markdown":"Methods that throw exceptions in Java must delcare it in the method signature\r\n\r\n`public static void divide(double x, double y) throws Exception`\r\n\r\nWithout the declaration your code will not compile.\r\n\r\nThere is a special subset of exceptions that extend the `RuntimeException` class. These exceptions do not need to be declared in the method signature.\r\n\r\n`ArithmeticException` extends a `RuntimeException`","title":"Why can&#39;t I throw an exception from a method","body":"<p>Methods that throw exceptions in Java must delcare it in the method signature</p>\n\n<p><code>public static void divide(double x, double y) throws Exception</code></p>\n\n<p>Without the declaration your code will not compile.</p>\n\n<p>There is a special subset of exceptions that extend the <code>RuntimeException</code> class. These exceptions do not need to be declared in the method signature.</p>\n\n<p><code>ArithmeticException</code> extends a <code>RuntimeException</code></p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696707690,"creation_date":1696707690,"answer_id":77251266,"question_id":20156973,"body_markdown":"[`ArithmeticException`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ArithmeticException.html) is an unchecked exception, since it extends [`RuntimeException`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/RuntimeException.html).  [`Exception`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html), by contrast, is an checked exception type, as it does not extend either `RuntimeException` or [`Error`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Error.html).\r\n\r\nChecked exceptions must be declared in the throws clause of the method signature of any method that can throw them.  Unchecked exceptions do not.\r\n\r\nUsing your example, adding `throws Exception` will be enough to get the method to compile.  Note though that any calling code would then need to handle the exception, either by catching it or declaring it as being thrown.\r\n\r\n```lang-java\r\npublic static void divide(double x, double y) throws Exception {\r\n    if (y == 0){\r\n        throw new Exception(&quot;Cannot divide by zero.&quot;); \r\n        // Generates error message that states the exception type is unhanded \r\n    }\r\n    else\r\n        System.out.println(x + &quot; divided by &quot; + y + &quot; is &quot; + x/y);\r\n        // other code follows\r\n}\r\n```\r\n\r\nThis is documented in the [Java Language Specification (JLS)](https://docs.oracle.com/javase/specs/jls/se21/html/jls-11.html):\r\n\r\n&gt; ## 11.1.1. The Kinds of Exceptions\r\n&gt; […]\r\n&gt; \r\n&gt; The _unchecked exception classes_ are the run-time exception classes and the error classes.\r\n&gt;\r\n&gt; The _checked exception classes_ are all exception classes other than the unchecked exception classes. That is, the checked exception classes are `Throwable` and all its subclasses other than `RuntimeException` and its subclasses and `Error` and its subclasses.\r\n&gt;\r\n&gt; […]\r\n&gt;\r\n&gt; # 11.2. Compile-Time Checking of Exceptions\r\n&gt;\r\n&gt; The Java programming language requires that a program contains handlers for _checked exceptions_ which can result from execution of a method or constructor ([&#167;8.4.6](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.6 &quot;8.4.6.&#160;Method Throws&quot;), [&#167;8.8.5](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.8.5 &quot;8.8.5.&#160;Constructor Throws&quot;)). This compile-time checking for the presence of exception handlers is designed to reduce the number of exceptions which are not properly handled. For each checked exception which is a possible result, the `throws` clause for the method or constructor must mention the class of that exception or one of the superclasses of the class of that exception ([&#167;11.2.3](https://docs.oracle.com/javase/specs/jls/se21/html/jls-11.html#jls-11.2.3 &quot;11.2.3.&#160;Exception Checking&quot;)).\r\n&gt;\r\n&gt; […]\r\n&gt; The unchecked exception classes ([&#167;11.1.1](https://docs.oracle.com/javase/specs/jls/se21/html/jls-11.html#jls-11.1.1 &quot;11.1.1.&#160;The Kinds of Exceptions&quot;)) are exempted from compile-time checking.","title":"Why can&#39;t I throw an exception from a method","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ArithmeticException.html\" rel=\"nofollow noreferrer\"><code>ArithmeticException</code></a> is an unchecked exception, since it extends <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/RuntimeException.html\" rel=\"nofollow noreferrer\"><code>RuntimeException</code></a>.  <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html\" rel=\"nofollow noreferrer\"><code>Exception</code></a>, by contrast, is an checked exception type, as it does not extend either <code>RuntimeException</code> or <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Error.html\" rel=\"nofollow noreferrer\"><code>Error</code></a>.</p>\n<p>Checked exceptions must be declared in the throws clause of the method signature of any method that can throw them.  Unchecked exceptions do not.</p>\n<p>Using your example, adding <code>throws Exception</code> will be enough to get the method to compile.  Note though that any calling code would then need to handle the exception, either by catching it or declaring it as being thrown.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void divide(double x, double y) throws Exception {\n    if (y == 0){\n        throw new Exception(&quot;Cannot divide by zero.&quot;); \n        // Generates error message that states the exception type is unhanded \n    }\n    else\n        System.out.println(x + &quot; divided by &quot; + y + &quot; is &quot; + x/y);\n        // other code follows\n}\n</code></pre>\n<p>This is documented in the <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-11.html\" rel=\"nofollow noreferrer\">Java Language Specification (JLS)</a>:</p>\n<blockquote>\n<h2>11.1.1. The Kinds of Exceptions</h2>\n<p>[…]</p>\n<p>The <em>unchecked exception classes</em> are the run-time exception classes and the error classes.</p>\n<p>The <em>checked exception classes</em> are all exception classes other than the unchecked exception classes. That is, the checked exception classes are <code>Throwable</code> and all its subclasses other than <code>RuntimeException</code> and its subclasses and <code>Error</code> and its subclasses.</p>\n<p>[…]</p>\n<h1>11.2. Compile-Time Checking of Exceptions</h1>\n<p>The Java programming language requires that a program contains handlers for <em>checked exceptions</em> which can result from execution of a method or constructor (<a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.6\" rel=\"nofollow noreferrer\" title=\"8.4.6. Method Throws\">§8.4.6</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.8.5\" rel=\"nofollow noreferrer\" title=\"8.8.5. Constructor Throws\">§8.8.5</a>). This compile-time checking for the presence of exception handlers is designed to reduce the number of exceptions which are not properly handled. For each checked exception which is a possible result, the <code>throws</code> clause for the method or constructor must mention the class of that exception or one of the superclasses of the class of that exception (<a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-11.html#jls-11.2.3\" rel=\"nofollow noreferrer\" title=\"11.2.3. Exception Checking\">§11.2.3</a>).</p>\n<p>[…]\nThe unchecked exception classes (<a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-11.html#jls-11.1.1\" rel=\"nofollow noreferrer\" title=\"11.1.1. The Kinds of Exceptions\">§11.1.1</a>) are exempted from compile-time checking.</p>\n</blockquote>\n"}],"owner":{"display_name":"user2923308"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5216,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":20156999,"answer_count":4,"score":5,"last_activity_date":1696707690,"creation_date":1385166726,"question_id":20156973,"body_markdown":"I am new at Java and am experiencing a bit of a problem with throwing exceptions. Namely, why is this incorrect\r\n\r\n    public static void divide(double x, double y) {\r\n        if (y == 0){\r\n\t        throw new Exception(&quot;Cannot divide by zero.&quot;); \r\n            // Generates error message that states the exception type is unhanded \r\n\t    }\r\n\t    else\r\n\t        System.out.println(x + &quot; divided by &quot; + y + &quot; is &quot; + x/y);\r\n            // other code follows\r\n    }\r\n\r\nBut this OK?\r\n\r\n    public static void divide(double x, double y) {\r\n\t    if (y == 0)\r\n\t        throw new ArithmeticException(&quot;Cannot divide by zero.&quot;);\r\n\t    else\r\n\t        System.out.println(x + &quot; divided by &quot; + y + &quot; is &quot; + x/y);\r\n            // other code follows\r\n    }\r\n","title":"Why can&#39;t I throw an exception from a method","body":"<p>I am new at Java and am experiencing a bit of a problem with throwing exceptions. Namely, why is this incorrect</p>\n<pre><code>public static void divide(double x, double y) {\n    if (y == 0){\n        throw new Exception(&quot;Cannot divide by zero.&quot;); \n        // Generates error message that states the exception type is unhanded \n    }\n    else\n        System.out.println(x + &quot; divided by &quot; + y + &quot; is &quot; + x/y);\n        // other code follows\n}\n</code></pre>\n<p>But this OK?</p>\n<pre><code>public static void divide(double x, double y) {\n    if (y == 0)\n        throw new ArithmeticException(&quot;Cannot divide by zero.&quot;);\n    else\n        System.out.println(x + &quot; divided by &quot; + y + &quot; is &quot; + x/y);\n        // other code follows\n}\n</code></pre>\n"},{"tags":["java","android","android-view"],"answers":[{"comments":[{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1696675588,"post_id":77249308,"comment_id":136185852,"body_markdown":"Thank you for help but with your code etTitle background is like this underline color, looks like both have the same color","body":"Thank you for help but with your code etTitle background is like this underline color, looks like both have the same color"}],"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696673139,"creation_date":1696673139,"answer_id":77249308,"question_id":77249076,"body_markdown":"Try this \r\n\r\n\r\n    EditText etTitle = new EditText(fragment.requireContext());\r\n    etTitle.setId(Util.getIdNotUsed(fragment.requireActivity()));\r\n    \r\n    Drawable[] layers = new Drawable[2];\r\n    \r\n    \r\n    TypedArray a = fragment.requireActivity().getTheme().obtainStyledAttributes(isDarkMode ? R.style.notepad_dark : R.style.notepad_light, new int[] {R.attr.myColorBottomNavigationViewBg});\r\n    int attributeResourceId = a.getResourceId(0, 0);\r\n    Drawable backgroundDrawable = ContextCompat.getDrawable(fragment.requireContext(), attributeResourceId);\r\n    layers[0] = backgroundDrawable;\r\n    \r\n    \r\n    ShapeDrawable underlineDrawable = new ShapeDrawable(new RectShape());\r\n    underlineDrawable.getPaint().setColor(ContextCompat.getColor(fragment.requireContext(), R.color.your_underline_color)); // Set your desired underline color here\r\n    layers[1] = underlineDrawable;\r\n    \r\n    LayerDrawable layerDrawable = new LayerDrawable(layers);\r\n    \r\n    etTitle.setBackground(layerDrawable);\r\n\r\n","title":"Android edittext underline missing when background is set","body":"<p>Try this</p>\n<pre><code>EditText etTitle = new EditText(fragment.requireContext());\netTitle.setId(Util.getIdNotUsed(fragment.requireActivity()));\n\nDrawable[] layers = new Drawable[2];\n\n\nTypedArray a = fragment.requireActivity().getTheme().obtainStyledAttributes(isDarkMode ? R.style.notepad_dark : R.style.notepad_light, new int[] {R.attr.myColorBottomNavigationViewBg});\nint attributeResourceId = a.getResourceId(0, 0);\nDrawable backgroundDrawable = ContextCompat.getDrawable(fragment.requireContext(), attributeResourceId);\nlayers[0] = backgroundDrawable;\n\n\nShapeDrawable underlineDrawable = new ShapeDrawable(new RectShape());\nunderlineDrawable.getPaint().setColor(ContextCompat.getColor(fragment.requireContext(), R.color.your_underline_color)); // Set your desired underline color here\nlayers[1] = underlineDrawable;\n\nLayerDrawable layerDrawable = new LayerDrawable(layers);\n\netTitle.setBackground(layerDrawable);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":1,"creation_date":1696701541,"post_id":77249731,"comment_id":136188219,"body_markdown":"Actually I needed to modify it a bit but generally this concept works, thumb up!","body":"Actually I needed to modify it a bit but generally this concept works, thumb up!"}],"tags":[],"owner":{"account_id":1281728,"reputation":73134,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696706434,"creation_date":1696681146,"answer_id":77249731,"question_id":77249076,"body_markdown":"Android `EditText` underline is typically a part of the default background drawable. Setting a new background drawable would naturally override it and to work that around I&#39;d go for layered drawable, which allows to stack multiple drawables on top of each other. That way you&#39;d have both your custom background and the default underline, and then set that as the background of your `EditText` (of course you can create your drawable from code as well):\r\n\r\n```\r\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item&gt;\r\n        &lt;color android:color=&quot;@color/your_background_color&quot;/&gt;\r\n    &lt;/item&gt;\r\n    &lt;item&gt;\r\n        &lt;bitmap\r\n            android:gravity=&quot;bottom&quot;\r\n            android:src=&quot;@drawable/your_underline_image&quot; /&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;\r\n```\r\n\r\nThen use it in your code\r\n\r\n```\r\nDrawable layeredDrawable = ContextCompat.getDrawable(fragment.requireContext(), R.drawable.your_layered_drawable);\r\netTitle.setBackground(layeredDrawable);\r\n```","title":"Android edittext underline missing when background is set","body":"<p>Android <code>EditText</code> underline is typically a part of the default background drawable. Setting a new background drawable would naturally override it and to work that around I'd go for layered drawable, which allows to stack multiple drawables on top of each other. That way you'd have both your custom background and the default underline, and then set that as the background of your <code>EditText</code> (of course you can create your drawable from code as well):</p>\n<pre><code>&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;\n        &lt;color android:color=&quot;@color/your_background_color&quot;/&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;bitmap\n            android:gravity=&quot;bottom&quot;\n            android:src=&quot;@drawable/your_underline_image&quot; /&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p>Then use it in your code</p>\n<pre><code>Drawable layeredDrawable = ContextCompat.getDrawable(fragment.requireContext(), R.drawable.your_layered_drawable);\netTitle.setBackground(layeredDrawable);\n</code></pre>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77249731,"answer_count":2,"score":1,"last_activity_date":1696706434,"creation_date":1696668937,"question_id":77249076,"body_markdown":"I want to set a background of dynamically created edittext and to have its underline at the same time. Now it has a background, but it does not have underline. When I remove setBackground() then underline is shown. \r\n\r\nI tried a constructor of edittext like that but it didn&#39;t help: `etTitle = new EditText(new ContextThemeWrapper(fragment.requireContext(), R.style.editText));`\r\n\r\nI don&#39;t want transparency on this background.\r\n\r\n\r\n                    etTitle = new EditText(fragment.requireContext());\r\n                    etTitle.setId(Util.getIdNotUsed(fragment.requireActivity()));\r\n\r\n                    TypedArray a = fragment.requireActivity().getTheme().obtainStyledAttributes(isDarkMode ? R.style.notepad_dark : R.style.notepad_light, new int[] {R.attr.myColorBottomNavigationViewBg});\r\n                    int attributeResourceId = a.getResourceId(0, 0);\r\n                    Drawable drawable = ContextCompat.getDrawable(fragment.requireContext(), attributeResourceId);\r\n\r\n                    etTitle.setBackground(drawable);\r\n\r\n\r\nHow to solve that?","title":"Android edittext underline missing when background is set","body":"<p>I want to set a background of dynamically created edittext and to have its underline at the same time. Now it has a background, but it does not have underline. When I remove setBackground() then underline is shown.</p>\n<p>I tried a constructor of edittext like that but it didn't help: <code>etTitle = new EditText(new ContextThemeWrapper(fragment.requireContext(), R.style.editText));</code></p>\n<p>I don't want transparency on this background.</p>\n<pre><code>                etTitle = new EditText(fragment.requireContext());\n                etTitle.setId(Util.getIdNotUsed(fragment.requireActivity()));\n\n                TypedArray a = fragment.requireActivity().getTheme().obtainStyledAttributes(isDarkMode ? R.style.notepad_dark : R.style.notepad_light, new int[] {R.attr.myColorBottomNavigationViewBg});\n                int attributeResourceId = a.getResourceId(0, 0);\n                Drawable drawable = ContextCompat.getDrawable(fragment.requireContext(), attributeResourceId);\n\n                etTitle.setBackground(drawable);\n</code></pre>\n<p>How to solve that?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1696702951,"post_id":77250965,"comment_id":136188373,"body_markdown":"It&#39;s a language feature, the methods are already implemented so there&#39;s no requirement to override them. This other answer about what happens when a class implements two interfaces which have a method with the same signature gives a bit more information and has links to the java language specification: https://stackoverflow.com/questions/2801878/implementing-two-interfaces-in-a-class-with-same-method-which-interface-method","body":"It&#39;s a language feature, the methods are already implemented so there&#39;s no requirement to override them. This other answer about what happens when a class implements two interfaces which have a method with the same signature gives a bit more information and has links to the java language specification: <a href=\"https://stackoverflow.com/questions/2801878/implementing-two-interfaces-in-a-class-with-same-method-which-interface-method\" title=\"implementing two interfaces in a class with same method which interface method\">stackoverflow.com/questions/2801878/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29571728,"reputation":136,"user_id":22663720,"display_name":"Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696703396,"creation_date":1696703396,"answer_id":77251023,"question_id":77250965,"body_markdown":"As you said, the Object class is implementing those method default so every new instance of class that implements your interface also extends `Object` class, therefore the interface is implemented and there is no need to require special implementation for those methods.\r\n\r\nIf you want to &quot;force&quot; overriding the default implementation you can use `abstract class` instead of interface, something like:\r\n```java\r\npublic abstract class Comparator {\r\n    public abstract int compare(String o1, String o2);\r\n\r\n    @Override\r\n    public abstract String toString();\r\n\r\n    @Override\r\n    public abstract boolean equals(Object other);\r\n}\r\n```\r\n\r\nThis will require the classes extending this class to implement `equals` and `toString()` but notice you can extend only one class but many interfaces.\r\n\r\nThen the implementation of some class could look like:\r\n```java\r\npublic class MyComparator extends Comparator {\r\n    @Override\r\n    public int compare(String o1, String o2) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Why Are Equals and ToString Methods Optional When Implementing an Interface in Java?","body":"<p>As you said, the Object class is implementing those method default so every new instance of class that implements your interface also extends <code>Object</code> class, therefore the interface is implemented and there is no need to require special implementation for those methods.</p>\n<p>If you want to &quot;force&quot; overriding the default implementation you can use <code>abstract class</code> instead of interface, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Comparator {\n    public abstract int compare(String o1, String o2);\n\n    @Override\n    public abstract String toString();\n\n    @Override\n    public abstract boolean equals(Object other);\n}\n</code></pre>\n<p>This will require the classes extending this class to implement <code>equals</code> and <code>toString()</code> but notice you can extend only one class but many interfaces.</p>\n<p>Then the implementation of some class could look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyComparator extends Comparator {\n    @Override\n    public int compare(String o1, String o2) {\n        return 0;\n    }\n\n    @Override\n    public String toString() {\n        return null;\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        return false;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696703879,"creation_date":1696703879,"answer_id":77251050,"question_id":77250965,"body_markdown":"When you are implementing an interface, it is not mandatory to implement an abstract method in your class if there is an implementation(or default method) of a method with the same signature in any of your super classes(super interfaces) (unless there is a conflict). In your case, the definition of `equals` and `toString` is found in the `Object` class which is the default super class. So, that&#39;s why you don&#39;t need to override them. You can learn more about overriding and hiding in [here](https://docs.oracle.com/javase/tutorial/java/IandI/override.html)\r\n\r\nBut it would be different if it was an Abstract class instead of an interface. For example:\r\n```java\r\nabstract class AbsCompare {\r\n    public abstract int compare(String o1, String o2);\r\n    public abstract boolean equals(Object obj);\r\n    public abstract String toString();\r\n}\r\n```\r\nIn this case if you try to extend `AbsCompare` you have to implement all 3 methods. Because there is no definition found in your super class.  ","title":"Why Are Equals and ToString Methods Optional When Implementing an Interface in Java?","body":"<p>When you are implementing an interface, it is not mandatory to implement an abstract method in your class if there is an implementation(or default method) of a method with the same signature in any of your super classes(super interfaces) (unless there is a conflict). In your case, the definition of <code>equals</code> and <code>toString</code> is found in the <code>Object</code> class which is the default super class. So, that's why you don't need to override them. You can learn more about overriding and hiding in <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>But it would be different if it was an Abstract class instead of an interface. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class AbsCompare {\n    public abstract int compare(String o1, String o2);\n    public abstract boolean equals(Object obj);\n    public abstract String toString();\n}\n</code></pre>\n<p>In this case if you try to extend <code>AbsCompare</code> you have to implement all 3 methods. Because there is no definition found in your super class.</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696706268,"creation_date":1696705826,"answer_id":77251169,"question_id":77250965,"body_markdown":"## Why Are Object Methods &quot;Optional&quot;?\r\n\r\nAll classes in Java ultimately inherit from `java.lang.Object`.&#160;Any method defined in an interface whose signature matches a method defined by that root class is already implemented. So, from the point of view of the compiler, you don&#39;t have to explicitly define an implementation of such methods.\r\n\r\n## Why Define Object Methods in an Interface?\r\n\r\nTo extend the contract. As an example, look at [`java.util.List#equals(Object)`][1].\r\n\r\n&gt; Compares the specified object with this list for equality. Returns `true` if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are _equal_. (Two elements `e1` and `e2` are equal if `Objects.equals(e1, e2)`.) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the `List` interface.\r\n\r\nThis tells you exactly what it means for any two lists to be equal, _regardless of implementation_. Without this contract, it would be impossible to compare two lists in a consistent manner without forcing the use of a specific list implementation. Note that while the compiler won&#39;t force you to override `equals` when implementing `List`, you are logically still required to override it in order to meet the contract of `List`.\r\n\r\n\r\n\r\n\r\n \r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#equals(java.lang.Object)","title":"Why Are Equals and ToString Methods Optional When Implementing an Interface in Java?","body":"<h2>Why Are Object Methods &quot;Optional&quot;?</h2>\n<p>All classes in Java ultimately inherit from <code>java.lang.Object</code>. Any method defined in an interface whose signature matches a method defined by that root class is already implemented. So, from the point of view of the compiler, you don't have to explicitly define an implementation of such methods.</p>\n<h2>Why Define Object Methods in an Interface?</h2>\n<p>To extend the contract. As an example, look at <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>java.util.List#equals(Object)</code></a>.</p>\n<blockquote>\n<p>Compares the specified object with this list for equality. Returns <code>true</code> if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are <em>equal</em>. (Two elements <code>e1</code> and <code>e2</code> are equal if <code>Objects.equals(e1, e2)</code>.) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the <code>List</code> interface.</p>\n</blockquote>\n<p>This tells you exactly what it means for any two lists to be equal, <em>regardless of implementation</em>. Without this contract, it would be impossible to compare two lists in a consistent manner without forcing the use of a specific list implementation. Note that while the compiler won't force you to override <code>equals</code> when implementing <code>List</code>, you are logically still required to override it in order to meet the contract of <code>List</code>.</p>\n"}],"owner":{"account_id":17694375,"reputation":3,"user_id":12845474,"display_name":"Blank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77251169,"answer_count":3,"score":0,"last_activity_date":1696706268,"creation_date":1696702398,"question_id":77250965,"body_markdown":"I&#39;m fairly new to Java, and I&#39;ve been exploring the concept of implementing interfaces. It&#39;s a common understanding that when you implement an interface, you typically need to provide implementations for all the methods declared in that interface. However, I&#39;ve encountered a scenario where I declared an interface with three method signatures. Interestingly, two of them are using the same signatures as `equals `and `toString `methods from the `Object `class, and one is a custom method called `compare`.\r\n\r\nHere&#39;s my question: When I attempted to implement this interface, it appears that I&#39;m only required to implement the compare method, while the equals and toString methods are not `mandatory`. Could someone please clarify why this is the case?\r\n\r\nHere is the interface :\r\n\r\n```\r\npublic interface ICompare {\r\n    public int compare(String o1, String o2);\r\n    public boolean equals(Object obj);\r\n    public String toString();\r\n}\r\n\r\n```\r\n\r\nand for the code :\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n     ICompare c = new ICompare() {\r\n         @Override\r\n         public int compare(String o1, String o2) {\r\n             throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n         }\r\n     };\r\n    }\r\n}\r\n```\r\nI get that the Object class already declares the signatures for those two methods. However, what&#39;s the benefit of explicitly including their signatures in the interface if we&#39;re not compelled to override them?","title":"Why Are Equals and ToString Methods Optional When Implementing an Interface in Java?","body":"<p>I'm fairly new to Java, and I've been exploring the concept of implementing interfaces. It's a common understanding that when you implement an interface, you typically need to provide implementations for all the methods declared in that interface. However, I've encountered a scenario where I declared an interface with three method signatures. Interestingly, two of them are using the same signatures as <code>equals </code>and <code>toString </code>methods from the <code>Object </code>class, and one is a custom method called <code>compare</code>.</p>\n<p>Here's my question: When I attempted to implement this interface, it appears that I'm only required to implement the compare method, while the equals and toString methods are not <code>mandatory</code>. Could someone please clarify why this is the case?</p>\n<p>Here is the interface :</p>\n<pre><code>public interface ICompare {\n    public int compare(String o1, String o2);\n    public boolean equals(Object obj);\n    public String toString();\n}\n\n</code></pre>\n<p>and for the code :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n     ICompare c = new ICompare() {\n         @Override\n         public int compare(String o1, String o2) {\n             throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\n         }\n     };\n    }\n}\n</code></pre>\n<p>I get that the Object class already declares the signatures for those two methods. However, what's the benefit of explicitly including their signatures in the interface if we're not compelled to override them?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1398126115,"post_id":23208203,"comment_id":35501656,"body_markdown":"You need to make sure that every project is compile to the same level.  That is, either using the same Java Version or compatibility level.  You will also need to ensure that any external libraries also support your targeted Java version...","body":"You need to make sure that every project is compile to the same level.  That is, either using the same Java Version or compatibility level.  You will also need to ensure that any external libraries also support your targeted Java version..."},{"owner":{"account_id":4361502,"reputation":59,"user_id":3558436,"display_name":"ferrago"},"score":0,"creation_date":1398126465,"post_id":23208203,"comment_id":35501747,"body_markdown":"I have made sure every project should be compiling with 1.7.0_55 and they are using the same libraries they were using before I upgraded to 1.8 when everything worked fine. The server uses java 1.7.0_51, which is totally compatible with 1.7.0_55.","body":"I have made sure every project should be compiling with 1.7.0_55 and they are using the same libraries they were using before I upgraded to 1.8 when everything worked fine. The server uses java 1.7.0_51, which is totally compatible with 1.7.0_55."},{"owner":{"account_id":4361502,"reputation":59,"user_id":3558436,"display_name":"ferrago"},"score":0,"creation_date":1398126693,"post_id":23208203,"comment_id":35501802,"body_markdown":"Fixed it, fyi Clean and Build is actually useful.","body":"Fixed it, fyi Clean and Build is actually useful."},{"owner":{"account_id":132300,"reputation":2222,"user_id":332897,"accept_rate":76,"display_name":"Enrique San Mart&#237;n"},"score":0,"creation_date":1443626681,"post_id":23208203,"comment_id":53571615,"body_markdown":"http://stackoverflow.com/questions/32199584/compiling-any-javafx-project-in-netbeans-returns-unsupported-major-minor-version\r\n\r\nthe solution is change the default jdk to 1.8","body":"<a href=\"http://stackoverflow.com/questions/32199584/compiling-any-javafx-project-in-netbeans-returns-unsupported-major-minor-version\" title=\"compiling any javafx project in netbeans returns unsupported major minor version\">stackoverflow.com/questions/32199584/&hellip;</a>    the solution is change the default jdk to 1.8"},{"owner":{"account_id":1540531,"reputation":1589,"user_id":1435322,"display_name":"Autar"},"score":0,"creation_date":1444742818,"post_id":23208203,"comment_id":54022638,"body_markdown":"Possible duplicate of [Unsupported major.minor version 52.0](http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0\">Unsupported major.minor version 52.0</a>"},{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1623172702,"post_id":23208203,"comment_id":120000783,"body_markdown":"Why did you upgrade to a 7 years old Netbeans 8.0 and not the latest version?","body":"Why did you upgrade to a 7 years old Netbeans 8.0 and not the latest version?"}],"answers":[{"tags":[],"owner":{"account_id":1611888,"reputation":546,"user_id":1490583,"display_name":"dav.garcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505910435,"creation_date":1505910435,"answer_id":46322109,"question_id":23208203,"body_markdown":"If you are using Maven, you can set the JDK version of each module by placing a file called `nb-configuration.xml` beside your `pom.xml` with the following content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project-shared-configuration&gt;\r\n        &lt;properties xmlns=&quot;http://www.netbeans.org/ns/maven-properties-data/1&quot;&gt;\r\n            &lt;netbeans.hint.jdkPlatform&gt;JDK_1.7&lt;/netbeans.hint.jdkPlatform&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project-shared-configuration&gt;\r\n\r\nThe &quot;JDK_1.7&quot; Java platform must be configured in Tools -&gt; Java Platforms -&gt; Add Platform...","title":"Netbeans 8.0 Unsupported major.minor version 52.0 error","body":"<p>If you are using Maven, you can set the JDK version of each module by placing a file called <code>nb-configuration.xml</code> beside your <code>pom.xml</code> with the following content:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project-shared-configuration&gt;\n    &lt;properties xmlns=\"http://www.netbeans.org/ns/maven-properties-data/1\"&gt;\n        &lt;netbeans.hint.jdkPlatform&gt;JDK_1.7&lt;/netbeans.hint.jdkPlatform&gt;\n    &lt;/properties&gt;\n&lt;/project-shared-configuration&gt;\n</code></pre>\n\n<p>The \"JDK_1.7\" Java platform must be configured in Tools -> Java Platforms -> Add Platform...</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599717983,"creation_date":1599615084,"answer_id":63803574,"question_id":23208203,"body_markdown":"&gt; Does anyone know what I am missing?\r\n\r\nWell the one thing you were missing is that everything needs to be **built** for Java 1.7.  It is not sufficient to just configure the IDE to use JDK 1.7.  You have to make the IDE **do the rebuild** ... **for everything** that was previously built with Java 1.8 as the target.\r\n\r\nClean and rebuild all relevant projects after changing the project&#39;s Java target platform.\r\n\r\nI also recommend that you start using Maven / Gradle / whatever to specify your build configs.  This allows you to specify in the build configs what the target platform should be.  If you do this, you are less likely to be burned with bad builds when you upgrade your IDE and/or development machine&#39;s default Java install.\r\n\r\n","title":"Netbeans 8.0 Unsupported major.minor version 52.0 error","body":"<blockquote>\n<p>Does anyone know what I am missing?</p>\n</blockquote>\n<p>Well the one thing you were missing is that everything needs to be <strong>built</strong> for Java 1.7.  It is not sufficient to just configure the IDE to use JDK 1.7.  You have to make the IDE <strong>do the rebuild</strong> ... <strong>for everything</strong> that was previously built with Java 1.8 as the target.</p>\n<p>Clean and rebuild all relevant projects after changing the project's Java target platform.</p>\n<p>I also recommend that you start using Maven / Gradle / whatever to specify your build configs.  This allows you to specify in the build configs what the target platform should be.  If you do this, you are less likely to be burned with bad builds when you upgrade your IDE and/or development machine's default Java install.</p>\n"}],"owner":{"account_id":4361502,"reputation":59,"user_id":3558436,"display_name":"ferrago"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10063,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1696705440,"creation_date":1398125916,"question_id":23208203,"body_markdown":"I am having a problem with compiled .jar projects in netbeans. I recently upgraded to java 1.8 and netbeans 8.0. After updating every project I compile and put onto my server running java 1.7.0_55 I get the &quot;Unsupported major.minor version 52.0&quot; issue. I know this is due to incompatible java versions. I have tried changing the jdk used for building everywhere I can find it. I have tried building with 1.7.0_55 and 1.7.0_07 and still get this issue. Does anyone know what I am missing? Each time I have changed the build settings I make sure to recompile the project. It is not possible to update the version of java on the server just yet.","title":"Netbeans 8.0 Unsupported major.minor version 52.0 error","body":"<p>I am having a problem with compiled .jar projects in netbeans. I recently upgraded to java 1.8 and netbeans 8.0. After updating every project I compile and put onto my server running java 1.7.0_55 I get the \"Unsupported major.minor version 52.0\" issue. I know this is due to incompatible java versions. I have tried changing the jdk used for building everywhere I can find it. I have tried building with 1.7.0_55 and 1.7.0_07 and still get this issue. Does anyone know what I am missing? Each time I have changed the build settings I make sure to recompile the project. It is not possible to update the version of java on the server just yet.</p>\n"},{"tags":["java","android","in-app-purchase","in-app-billing"],"answers":[{"comments":[{"owner":{"account_id":23992638,"reputation":5,"user_id":17978536,"display_name":"Jorge Barajas"},"score":0,"creation_date":1696805259,"post_id":77246765,"comment_id":136196479,"body_markdown":"Thanks man, you are right I needed to get the token from the list","body":"Thanks man, you are right I needed to get the token from the list"}],"tags":[],"owner":{"account_id":29520193,"reputation":932,"user_id":22623172,"display_name":"Vlad Guriev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696618267,"creation_date":1696618267,"answer_id":77246765,"question_id":77246604,"body_markdown":"This error often occurs when incorrect data is passed to the Billing Library.\r\n\r\nIn your case, please find the relevant `offerToken`:\r\n\r\n```String offerToken = productDetailsList.get(0).getSubscriptionOfferDetails().get(0).getOfferToken();```\r\n\r\n(Of course, this is just an example, and I&#39;m omitting various checks. I&#39;m assuming that the first product is a subscription and that your desired offer is the first in the list returned by `getSubscriptionOfferDetails()`.You should use your custom logic to find the right offer.)\r\n\r\nAfterward, try removing the line `.setOfferToken(String.valueOf(productDetailsList.get(0).getSubscriptionOfferDetails()))` with `setOfferToken(offerToken)`","title":"Google Play Billing V6 show error DF-DFERH-01","body":"<p>This error often occurs when incorrect data is passed to the Billing Library.</p>\n<p>In your case, please find the relevant <code>offerToken</code>:</p>\n<p><code>String offerToken = productDetailsList.get(0).getSubscriptionOfferDetails().get(0).getOfferToken();</code></p>\n<p>(Of course, this is just an example, and I'm omitting various checks. I'm assuming that the first product is a subscription and that your desired offer is the first in the list returned by <code>getSubscriptionOfferDetails()</code>.You should use your custom logic to find the right offer.)</p>\n<p>Afterward, try removing the line <code>.setOfferToken(String.valueOf(productDetailsList.get(0).getSubscriptionOfferDetails()))</code> with <code>setOfferToken(offerToken)</code></p>\n"}],"owner":{"account_id":23992638,"reputation":5,"user_id":17978536,"display_name":"Jorge Barajas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77246765,"answer_count":1,"score":0,"last_activity_date":1696705107,"creation_date":1696616022,"question_id":77246604,"body_markdown":"Hi I am integrating Google Play Billing Library on my project on a `fragment` in android studio to sell a subscription, I alrready make the set up in the Google Play Console uploading my app in internal test and making the subscription basic plan, then I continued to make the logic process in my app following the steps in the documentation, everything is fine, I checked the product list and it has the subscription&#180;s information, but when the app tries to show up the google play window it appears the next error message:\r\n\r\n![errorImage](https://i.stack.imgur.com/yhVxp.jpg)\r\n\r\nI searched in internet and they said to clear the data, cache of the google play store and google play service and restart the phone I did it but it did not work, I open another app with subscription and it shows the window of the google play subscription without problem, so I dont think the problem is the google play store\r\n\r\n\r\n![otherAppSubscription](https://i.stack.imgur.com/RgXxG.jpg)\r\n\r\n\r\nI have tried a lot of things, download the app from google play store (internal test), changing a fragment for an activity, using the downgrade version of the libray and nothing work, I share you my code, thanks in advance\r\n\r\n```\r\n@Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        view = inflater.inflate(R.layout.fragment_sin_anuncios, container, false);\r\n        PurchasesUpdatedListener purchasesUpdatedListener = new PurchasesUpdatedListener() {\r\n            @Override\r\n            public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n                // To be implemented in a later section.\r\n            }\r\n        };\r\n\r\n        billingClient = BillingClient.newBuilder(getContext())\r\n                .setListener(purchasesUpdatedListener)\r\n                .enablePendingPurchases()\r\n                .build();\r\n\r\n        connectToGooglePlayBilling();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void connectToGooglePlayBilling(){\r\n\r\n        billingClient.startConnection(new BillingClientStateListener() {\r\n            @Override\r\n            public void onBillingSetupFinished(BillingResult billingResult) {\r\n\r\n                if (billingResult.getResponseCode() ==  BillingClient.BillingResponseCode.OK) {\r\n                    // The BillingClient is ready. You can query purchases here.\r\n                    getProductDeatils();\r\n\r\n                }\r\n\r\n            }\r\n            @Override\r\n            public void onBillingServiceDisconnected() {\r\n                // Try to restart the connection on the next request to\r\n                // Google Play by calling the startConnection() method.\r\n                Toast.makeText(getContext(), &quot;No se pudo conectar a GooglePlay, revisa tu conexion a internet.\\nIntentando conectarse nuevamente.&quot;, Toast.LENGTH_SHORT).show();\r\n                connectToGooglePlayBilling();\r\n                \r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    private void getProductDeatils(){\r\n\r\n        QueryProductDetailsParams queryProductDetailsParams =\r\n                QueryProductDetailsParams.newBuilder()\r\n                        .setProductList(\r\n                                ImmutableList.of(\r\n                                        QueryProductDetailsParams.Product.newBuilder()\r\n                                                .setProductId(&quot;version_sin_anuncios&quot;)\r\n                                                .setProductType(BillingClient.ProductType.SUBS)\r\n                                                .build()))\r\n                        .build();\r\n\r\n        Activity activity = getActivity();\r\n\r\n        billingClient.queryProductDetailsAsync(\r\n                queryProductDetailsParams,\r\n                new ProductDetailsResponseListener() {\r\n                    public void onProductDetailsResponse(BillingResult billingResult,\r\n                                                         List&lt;ProductDetails&gt; productDetailsList) {\r\n                        // check billingResult\r\n                        // process returned productDetailsList\r\n\r\n                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; productDetailsList != null){\r\n                            TextView descripcion = view.findViewById(R.id.textViewSinAnuncios);\r\n                            descripcion.setText(productDetailsList.get(0).getDescription());\r\n\r\n                            Button BotonSinAnuncios = (Button) view.findViewById(R.id.buttonSinAnuncios);\r\n                            BotonSinAnuncios.setOnClickListener(new View.OnClickListener()\r\n                            {\r\n\r\n                                @Override\r\n                                public void onClick(View v)\r\n                                {\r\n                                    Log.d(&quot;GoogleBillingService&quot;, &quot;onBillingSetupFinished: billingResult: &quot; + billingResult);\r\n                                    Log.d(&quot;GoogleBillingService&quot;, &quot;Product detatils: &quot; + productDetailsList.get(0));\r\n\r\n                                    ImmutableList productDetailsParamsList =\r\n                                            ImmutableList.of(\r\n                                                    BillingFlowParams.ProductDetailsParams.newBuilder()\r\n                                                            // retrieve a value for &quot;productDetails&quot; by calling queryProductDetailsAsync()\r\n                                                            .setProductDetails(productDetailsList.get(0))\r\n                                                            // to get an offer token, call ProductDetails.getSubscriptionOfferDetails()\r\n                                                            // for a list of offers that are available to the user\r\n                                                            .setOfferToken(String.valueOf(productDetailsList.get(0).getSubscriptionOfferDetails()))\r\n                                                            .build()\r\n                                            );\r\n\r\n\r\n                                    BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\r\n                                            .setProductDetailsParamsList(productDetailsParamsList)\r\n                                            .build();\r\n\r\n\r\n                                    // Launch the billing flow\r\n                                    billingClient.launchBillingFlow(activity, billingFlowParams);\r\n\r\n                                }\r\n                            });\r\n\r\n\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n\r\n    }\r\n\r\n}\r\n```","title":"Google Play Billing V6 show error DF-DFERH-01","body":"<p>Hi I am integrating Google Play Billing Library on my project on a <code>fragment</code> in android studio to sell a subscription, I alrready make the set up in the Google Play Console uploading my app in internal test and making the subscription basic plan, then I continued to make the logic process in my app following the steps in the documentation, everything is fine, I checked the product list and it has the subscription´s information, but when the app tries to show up the google play window it appears the next error message:</p>\n<p><img src=\"https://i.stack.imgur.com/yhVxp.jpg\" alt=\"errorImage\" /></p>\n<p>I searched in internet and they said to clear the data, cache of the google play store and google play service and restart the phone I did it but it did not work, I open another app with subscription and it shows the window of the google play subscription without problem, so I dont think the problem is the google play store</p>\n<p><img src=\"https://i.stack.imgur.com/RgXxG.jpg\" alt=\"otherAppSubscription\" /></p>\n<p>I have tried a lot of things, download the app from google play store (internal test), changing a fragment for an activity, using the downgrade version of the libray and nothing work, I share you my code, thanks in advance</p>\n<pre><code>@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        view = inflater.inflate(R.layout.fragment_sin_anuncios, container, false);\n        PurchasesUpdatedListener purchasesUpdatedListener = new PurchasesUpdatedListener() {\n            @Override\n            public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n                // To be implemented in a later section.\n            }\n        };\n\n        billingClient = BillingClient.newBuilder(getContext())\n                .setListener(purchasesUpdatedListener)\n                .enablePendingPurchases()\n                .build();\n\n        connectToGooglePlayBilling();\n\n        return view;\n    }\n\n    private void connectToGooglePlayBilling(){\n\n        billingClient.startConnection(new BillingClientStateListener() {\n            @Override\n            public void onBillingSetupFinished(BillingResult billingResult) {\n\n                if (billingResult.getResponseCode() ==  BillingClient.BillingResponseCode.OK) {\n                    // The BillingClient is ready. You can query purchases here.\n                    getProductDeatils();\n\n                }\n\n            }\n            @Override\n            public void onBillingServiceDisconnected() {\n                // Try to restart the connection on the next request to\n                // Google Play by calling the startConnection() method.\n                Toast.makeText(getContext(), &quot;No se pudo conectar a GooglePlay, revisa tu conexion a internet.\\nIntentando conectarse nuevamente.&quot;, Toast.LENGTH_SHORT).show();\n                connectToGooglePlayBilling();\n                \n            }\n        });\n\n    }\n\n\n    private void getProductDeatils(){\n\n        QueryProductDetailsParams queryProductDetailsParams =\n                QueryProductDetailsParams.newBuilder()\n                        .setProductList(\n                                ImmutableList.of(\n                                        QueryProductDetailsParams.Product.newBuilder()\n                                                .setProductId(&quot;version_sin_anuncios&quot;)\n                                                .setProductType(BillingClient.ProductType.SUBS)\n                                                .build()))\n                        .build();\n\n        Activity activity = getActivity();\n\n        billingClient.queryProductDetailsAsync(\n                queryProductDetailsParams,\n                new ProductDetailsResponseListener() {\n                    public void onProductDetailsResponse(BillingResult billingResult,\n                                                         List&lt;ProductDetails&gt; productDetailsList) {\n                        // check billingResult\n                        // process returned productDetailsList\n\n                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; productDetailsList != null){\n                            TextView descripcion = view.findViewById(R.id.textViewSinAnuncios);\n                            descripcion.setText(productDetailsList.get(0).getDescription());\n\n                            Button BotonSinAnuncios = (Button) view.findViewById(R.id.buttonSinAnuncios);\n                            BotonSinAnuncios.setOnClickListener(new View.OnClickListener()\n                            {\n\n                                @Override\n                                public void onClick(View v)\n                                {\n                                    Log.d(&quot;GoogleBillingService&quot;, &quot;onBillingSetupFinished: billingResult: &quot; + billingResult);\n                                    Log.d(&quot;GoogleBillingService&quot;, &quot;Product detatils: &quot; + productDetailsList.get(0));\n\n                                    ImmutableList productDetailsParamsList =\n                                            ImmutableList.of(\n                                                    BillingFlowParams.ProductDetailsParams.newBuilder()\n                                                            // retrieve a value for &quot;productDetails&quot; by calling queryProductDetailsAsync()\n                                                            .setProductDetails(productDetailsList.get(0))\n                                                            // to get an offer token, call ProductDetails.getSubscriptionOfferDetails()\n                                                            // for a list of offers that are available to the user\n                                                            .setOfferToken(String.valueOf(productDetailsList.get(0).getSubscriptionOfferDetails()))\n                                                            .build()\n                                            );\n\n\n                                    BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\n                                            .setProductDetailsParamsList(productDetailsParamsList)\n                                            .build();\n\n\n                                    // Launch the billing flow\n                                    billingClient.launchBillingFlow(activity, billingFlowParams);\n\n                                }\n                            });\n\n\n                        }\n                    }\n                }\n        );\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","ssl-certificate"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696696977,"post_id":77250606,"comment_id":136187845,"body_markdown":"Are you sure the files are exactly as they were generated? Check whether some line endings were changed or maybe something was appended (e.g. a newline at the end of a file).","body":"Are you sure the files are exactly as they were generated? Check whether some line endings were changed or maybe something was appended (e.g. a newline at the end of a file)."},{"owner":{"account_id":24193369,"reputation":63,"user_id":18152301,"display_name":"Alexender"},"score":0,"creation_date":1696697162,"post_id":77250606,"comment_id":136187863,"body_markdown":"I checked. I tried to connect to the database using IDEA and PgAdmin and everything worked out. I used exactly the same files","body":"I checked. I tried to connect to the database using IDEA and PgAdmin and everything worked out. I used exactly the same files"}],"owner":{"account_id":24193369,"reputation":63,"user_id":18152301,"display_name":"Alexender"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696705033,"creation_date":1696695752,"question_id":77250606,"body_markdown":"I want to join the Postgresql database over ssl, I tried to place the certificate files both in the resources folder and in any other folder. \r\nI get this error java.io.IOException: extra data at the end. \r\n\r\nWhen I connect using IDEA or pgAdmin everything is successful.\r\n\r\nBut when programmatically an error appears\r\n\r\n\r\n```\r\norg.postgresql.util.PSQLException: Could not read SSL key file D:\\key\\externalAPI\\client-key.pem.\r\n\tat org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:284) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat java.base/sun.security.ssl.AbstractKeyManagerWrapper.getPrivateKey(SSLContextImpl.java:1696) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:254) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:209) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:93) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440) ~[na:na]\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1030) ~[na:na]\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:893) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:571) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat com.example.dbconnection.DbConnectionApplication.main(DbConnectionApplication.java:10) ~[classes/:na]\r\nCaused by: java.io.IOException: extra data at the end\r\n\tat java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:428) ~[na:na]\r\n\tat java.base/sun.security.util.DerValue.wrap(DerValue.java:330) ~[na:na]\r\n\tat java.base/sun.security.util.DerValue.wrap(DerValue.java:315) ~[na:na]\r\n\tat java.base/javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:87) ~[na:na]\r\n\tat org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:236) ~[postgresql-42.3.4.jar:42.3.4]\r\n\t... 73 common frames omitted\r\n```\r\n\r\napplication.yml settings\r\n\r\n```\r\nspring:\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.PostgreSQLDialect\r\n  datasource:\r\n    hikari.data-source-properties:\r\n      ssl: true\r\n      sslmode: verify-ca\r\n      sslcert: D:\\key\\externalAPI\\client-crt.pem\r\n      sslkey: D:\\key\\externalAPI\\client-key.pem\r\n      sslrootcert: D:\\key\\externalAPI\\db-cert.pem\r\n      sslpassword: 1111\r\n    url: jdbc:postgresql://00.000.00.0:5432/integration_db\r\n\r\n\r\n    username: integration_api\r\n    password: 1111\r\n    driver-class-name: org.postgresql.Driver\r\n```\r\n\r\n\r\nclient-key.pem looks like\r\n\r\n    -----BEGIN RSA PRIVATE KEY-----\r\n    MIIJKAIBAAKCAgEAsiwBwzEhd2DLxCRpIUEHeBscwU4UJ3ZMRd7zWNOiPJIA8z8X\r\n    Q9mKiUjnMGS02AQuPDevwSroeXYV7w/twi7VPZvc96yXjct858NDzq/3XOkcWPr+\r\n    ...\r\n    6fgph9GcCef4B7los0PfLJNbO+nLpgL9MG/TbMjlfi9FhiTik+jCi49JYq4=\r\n    -----END RSA PRIVATE KEY-----\r\n    \r\n\r\n\r\n\r\n\r\n\r\nI tried to place the files in the resources folder, but then the program could not find these files\r\nI tried to set the files via the connection url\r\n\r\n        url: jdbc:postgresql://00.000.00.0:5432/integration_db?ssl=true&amp;sslmode=verify-ca&amp;sslcert=D:\\key\\externalAPI\\client-crt.pem&amp;sslkey=D:\\key\\externalAPI\\client-key.pem&amp;sslrootcert=D:\\key\\externalAPI\\db-cert.pem\r\n\r\n\r\nbut it didn&#39;t work\r\n\r\nI try converting your PEM key to DER\r\nlike in\r\nhttps://github.com/dbeaver/dbeaver/issues/2859\r\n\r\nnow i get this exeption\r\n```\r\norg.postgresql.util.PSQLException: Could not read SSL key file D:\\key\\externalAPI2\\client-key.der.\r\n\tat org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:284) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat java.base/sun.security.ssl.AbstractKeyManagerWrapper.getPrivateKey(SSLContextImpl.java:1696) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:254) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:209) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:93) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440) ~[na:na]\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1030) ~[na:na]\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:893) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:571) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.4.jar:42.3.4]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat com.example.dbconnection.DbConnectionApplication.main(DbConnectionApplication.java:10) ~[classes/:na]\r\nCaused by: java.io.IOException: overrun, bytes = 1824\r\n\tat java.base/javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:98) ~[na:na]\r\n\tat org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:236) ~[postgresql-42.3.4.jar:42.3.4]\r\n\t... 73 common frames omitted\r\n```\r\nI guess something is wrong with the client-key file\r\ni don&#39;t understand what","title":"Connecting Spring boot data to a database with ssl verify-ca","body":"<p>I want to join the Postgresql database over ssl, I tried to place the certificate files both in the resources folder and in any other folder.\nI get this error java.io.IOException: extra data at the end.</p>\n<p>When I connect using IDEA or pgAdmin everything is successful.</p>\n<p>But when programmatically an error appears</p>\n<pre><code>org.postgresql.util.PSQLException: Could not read SSL key file D:\\key\\externalAPI\\client-key.pem.\n    at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:284) ~[postgresql-42.3.4.jar:42.3.4]\n    at java.base/sun.security.ssl.AbstractKeyManagerWrapper.getPrivateKey(SSLContextImpl.java:1696) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:254) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:209) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:93) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440) ~[na:na]\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1030) ~[na:na]\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:893) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:571) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.4.jar:42.3.4]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\n    at com.example.dbconnection.DbConnectionApplication.main(DbConnectionApplication.java:10) ~[classes/:na]\nCaused by: java.io.IOException: extra data at the end\n    at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:428) ~[na:na]\n    at java.base/sun.security.util.DerValue.wrap(DerValue.java:330) ~[na:na]\n    at java.base/sun.security.util.DerValue.wrap(DerValue.java:315) ~[na:na]\n    at java.base/javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:87) ~[na:na]\n    at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:236) ~[postgresql-42.3.4.jar:42.3.4]\n    ... 73 common frames omitted\n</code></pre>\n<p>application.yml settings</p>\n<pre><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n  datasource:\n    hikari.data-source-properties:\n      ssl: true\n      sslmode: verify-ca\n      sslcert: D:\\key\\externalAPI\\client-crt.pem\n      sslkey: D:\\key\\externalAPI\\client-key.pem\n      sslrootcert: D:\\key\\externalAPI\\db-cert.pem\n      sslpassword: 1111\n    url: jdbc:postgresql://00.000.00.0:5432/integration_db\n\n\n    username: integration_api\n    password: 1111\n    driver-class-name: org.postgresql.Driver\n</code></pre>\n<p>client-key.pem looks like</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nMIIJKAIBAAKCAgEAsiwBwzEhd2DLxCRpIUEHeBscwU4UJ3ZMRd7zWNOiPJIA8z8X\nQ9mKiUjnMGS02AQuPDevwSroeXYV7w/twi7VPZvc96yXjct858NDzq/3XOkcWPr+\n...\n6fgph9GcCef4B7los0PfLJNbO+nLpgL9MG/TbMjlfi9FhiTik+jCi49JYq4=\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>I tried to place the files in the resources folder, but then the program could not find these files\nI tried to set the files via the connection url</p>\n<pre><code>    url: jdbc:postgresql://00.000.00.0:5432/integration_db?ssl=true&amp;sslmode=verify-ca&amp;sslcert=D:\\key\\externalAPI\\client-crt.pem&amp;sslkey=D:\\key\\externalAPI\\client-key.pem&amp;sslrootcert=D:\\key\\externalAPI\\db-cert.pem\n</code></pre>\n<p>but it didn't work</p>\n<p>I try converting your PEM key to DER\nlike in\n<a href=\"https://github.com/dbeaver/dbeaver/issues/2859\" rel=\"nofollow noreferrer\">https://github.com/dbeaver/dbeaver/issues/2859</a></p>\n<p>now i get this exeption</p>\n<pre><code>org.postgresql.util.PSQLException: Could not read SSL key file D:\\key\\externalAPI2\\client-key.der.\n    at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:284) ~[postgresql-42.3.4.jar:42.3.4]\n    at java.base/sun.security.ssl.AbstractKeyManagerWrapper.getPrivateKey(SSLContextImpl.java:1696) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:254) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:209) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:93) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440) ~[na:na]\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1030) ~[na:na]\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:893) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:571) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.4.jar:42.3.4]\n    at org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.4.jar:42.3.4]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\n    at com.example.dbconnection.DbConnectionApplication.main(DbConnectionApplication.java:10) ~[classes/:na]\nCaused by: java.io.IOException: overrun, bytes = 1824\n    at java.base/javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:98) ~[na:na]\n    at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:236) ~[postgresql-42.3.4.jar:42.3.4]\n    ... 73 common frames omitted\n</code></pre>\n<p>I guess something is wrong with the client-key file\ni don't understand what</p>\n"},{"tags":["java","selenium","firefox","geckodriver","webdriverwait"],"answers":[{"comments":[{"owner":{"account_id":13189641,"reputation":1995,"user_id":9526337,"display_name":"shayanmalinda"},"score":1,"creation_date":1592981290,"post_id":44456085,"comment_id":110615643,"body_markdown":"How to login with Firefox?","body":"How to login with Firefox?"},{"owner":{"account_id":1587683,"reputation":529,"user_id":1471666,"accept_rate":51,"display_name":"la1"},"score":2,"creation_date":1599764354,"post_id":44456085,"comment_id":112882995,"body_markdown":"Thanks for the details script sharing @DebanjanB. However, getting an error &quot;Couldn&#39;t sign you in&quot; after entering the Gmail Email id, we have functionality where otp would be sent to gmail, so need to login and read the email to get otp. Though added above Chromeoptions arguments, facing &quot;Couldn&#39;t sign you in&quot; issue. Please guide.","body":"Thanks for the details script sharing @DebanjanB. However, getting an error &quot;Couldn&#39;t sign you in&quot; after entering the Gmail Email id, we have functionality where otp would be sent to gmail, so need to login and read the email to get otp. Though added above Chromeoptions arguments, facing &quot;Couldn&#39;t sign you in&quot; issue. Please guide."},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":1,"creation_date":1613624200,"post_id":44456085,"comment_id":117133801,"body_markdown":"Same issue. Gmail block web driver. Any workaround?","body":"Same issue. Gmail block web driver. Any workaround?"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1578172715,"creation_date":1497006050,"answer_id":44456085,"question_id":44455269,"body_markdown":"Here is the working code block to login into your Gmail account through a valid set of credentials-\r\n\r\n    \t\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\your_directory\\\\geckodriver.exe&quot;);\r\n\tWebDriver driver = new FirefoxDriver();\r\n    driver.manage().window().maximize();\r\n    String url = &quot;https://accounts.google.com/signin&quot;;\r\n    driver.get(url);\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); \r\n    WebElement email_phone = driver.findElement(By.xpath(&quot;//input[@id=&#39;identifierId&#39;]&quot;));\r\n    email_phone.sendKeys(&quot;your_email_phone&quot;);\r\n    driver.findElement(By.id(&quot;identifierNext&quot;)).click();\r\n    WebElement password = driver.findElement(By.xpath(&quot;//input[@name=&#39;password&#39;]&quot;));\r\n    WebDriverWait wait = new WebDriverWait(driver, 20);\r\n    wait.until(ExpectedConditions.elementToBeClickable(password));\r\n    password.sendKeys(&quot;your_password&quot;);\r\n    driver.findElement(By.id(&quot;passwordNext&quot;)).click();\r\n\r\n\r\n----------\r\n\r\n\r\nUpdate(5-Jan-2020)\r\n------------------\r\nOptimizing the above code block and adding a couple of arguments you can use:\r\n\r\n    public class browserAppDemo \r\n    {\r\n        public static void main(String[] args) throws Exception \r\n        {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Utility\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\r\n            ChromeOptions options = new ChromeOptions();\r\n            options.addArguments(&quot;start-maximized&quot;);\r\n            options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n            options.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\r\n            WebDriver driver =  new ChromeDriver(options); \r\n            driver.get(&quot;https://accounts.google.com/signin&quot;)\r\n            new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@id=&#39;identifierId&#39;]&quot;))).sendKeys(&quot;emailID&quot;);\r\n            driver.findElement(By.id(&quot;identifierNext&quot;)).click();\r\n            new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@name=&#39;password&#39;]&quot;))).sendKeys(&quot;password&quot;);\r\n            driver.findElement(By.id(&quot;passwordNext&quot;)).click();\r\n        }\r\n    }","title":"Gmail login using selenium webdriver in java","body":"<p>Here is the working code block to login into your Gmail account through a valid set of credentials-</p>\n\n<pre><code>System.setProperty(\"webdriver.gecko.driver\",\"C:\\\\your_directory\\\\geckodriver.exe\");\nWebDriver driver = new FirefoxDriver();\ndriver.manage().window().maximize();\nString url = \"https://accounts.google.com/signin\";\ndriver.get(url);\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); \nWebElement email_phone = driver.findElement(By.xpath(\"//input[@id='identifierId']\"));\nemail_phone.sendKeys(\"your_email_phone\");\ndriver.findElement(By.id(\"identifierNext\")).click();\nWebElement password = driver.findElement(By.xpath(\"//input[@name='password']\"));\nWebDriverWait wait = new WebDriverWait(driver, 20);\nwait.until(ExpectedConditions.elementToBeClickable(password));\npassword.sendKeys(\"your_password\");\ndriver.findElement(By.id(\"passwordNext\")).click();\n</code></pre>\n\n<hr>\n\n<h2>Update(5-Jan-2020)</h2>\n\n<p>Optimizing the above code block and adding a couple of arguments you can use:</p>\n\n<pre><code>public class browserAppDemo \n{\n    public static void main(String[] args) throws Exception \n    {\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Utility\\\\BrowserDrivers\\\\chromedriver.exe\");\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(\"start-maximized\");\n        options.setExperimentalOption(\"useAutomationExtension\", false);\n        options.setExperimentalOption(\"excludeSwitches\", Collections.singletonList(\"enable-automation\"));\n        WebDriver driver =  new ChromeDriver(options); \n        driver.get(\"https://accounts.google.com/signin\")\n        new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//input[@id='identifierId']\"))).sendKeys(\"emailID\");\n        driver.findElement(By.id(\"identifierNext\")).click();\n        new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//input[@name='password']\"))).sendKeys(\"password\");\n        driver.findElement(By.id(\"passwordNext\")).click();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11081233,"reputation":67,"user_id":8136364,"display_name":"chandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54664,"favorite_count":0,"down_vote_count":6,"up_vote_count":7,"answer_count":1,"score":1,"last_activity_date":1696704644,"creation_date":1497003612,"question_id":44455269,"body_markdown":"    import java.util.concurrent.TimeUnit;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    public class NewGmail {\r\n        public static void main(String[] args) {\r\n                WebDriver driver = new FirefoxDriver();\r\n                driver.manage().window().maximize();\r\n                String url = &quot;https://accounts.google.com/signin&quot;;\r\n                driver.get(url);\r\n                driver.findElement(By.id(&quot;identifierId&quot;)).sendKeys(&quot;cp8805&quot;); \r\n                //driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS); \t\t\r\n                WebDriverWait wait=new WebDriverWait(driver, 20); \t\t \t\t\r\n                driver.findElement(By.xpath(&quot;//span[@class=&#39;RveJvd snByac&#39;]&quot;)).click();  \t\t\r\n                driver.manage().timeouts().implicitlyWait(40, TimeUnit.SECONDS);   \t\t\r\n                driver.findElement(By.xpath(&quot;//input[@class=&#39;whsOnd zHQkBf&#39;]&quot;)).sendKeys(&quot;xxxxxx&quot;);      \t\t\r\n                driver.findElement(By.xpath(&quot;//span[@class=&#39;RveJvd snByac&#39;]&quot;)).click(); \r\n   \t    }  \r\n    }\r\n\r\n   after mail id my password also get written in the id box option &amp; the server redirect to to next password page. i want to ask what i will do so that my password would be entered only in password page.","title":"Gmail login using selenium webdriver in java","body":"<pre><code>import java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\npublic class NewGmail {\n    public static void main(String[] args) {\n            WebDriver driver = new FirefoxDriver();\n            driver.manage().window().maximize();\n            String url = \"https://accounts.google.com/signin\";\n            driver.get(url);\n            driver.findElement(By.id(\"identifierId\")).sendKeys(\"cp8805\"); \n            //driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);      \n            WebDriverWait wait=new WebDriverWait(driver, 20);               \n            driver.findElement(By.xpath(\"//span[@class='RveJvd snByac']\")).click();         \n            driver.manage().timeouts().implicitlyWait(40, TimeUnit.SECONDS);        \n            driver.findElement(By.xpath(\"//input[@class='whsOnd zHQkBf']\")).sendKeys(\"xxxxxx\");             \n            driver.findElement(By.xpath(\"//span[@class='RveJvd snByac']\")).click(); \n    }  \n}\n</code></pre>\n\n<p>after mail id my password also get written in the id box option &amp; the server redirect to to next password page. i want to ask what i will do so that my password would be entered only in password page.</p>\n"},{"tags":["java","visual-studio","gradle"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1696716226,"post_id":77251055,"comment_id":136189554,"body_markdown":"Try running gradle in a terminal, e.g., `gradlew assemblex86Debug`. Or check if VS Code can show you the Gradle output. It should print error messages. Quick guesses: your code isn&#39;t in the right folder, or you didn&#39;t put the dependencies in the build script. If that doesn&#39;t fix it, [edit] your question and add your `build.gradle`. Be more specific about what you mean by &quot;it didn&#39;t work&quot;. What exactly did you do, and what happened? See [ask].","body":"Try running gradle in a terminal, e.g., <code>gradlew assemblex86Debug</code>. Or check if VS Code can show you the Gradle output. It should print error messages. Quick guesses: your code isn&#39;t in the right folder, or you didn&#39;t put the dependencies in the build script. If that doesn&#39;t fix it, <a href=\"https://stackoverflow.com/posts/77251055/edit\">edit</a> your question and add your <code>build.gradle</code>. Be more specific about what you mean by &quot;it didn&#39;t work&quot;. What exactly did you do, and what happened? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":29621399,"reputation":1,"user_id":22702286,"display_name":"Gospik"},"score":0,"creation_date":1696802261,"post_id":77251055,"comment_id":136196286,"body_markdown":"I will try that. Thanks for the reply","body":"I will try that. Thanks for the reply"}],"owner":{"account_id":29621399,"reputation":1,"user_id":22702286,"display_name":"Gospik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696703960,"creation_date":1696703960,"question_id":77251055,"body_markdown":"I am a beginner programmer. Recently I wanted to program an android app on Visual Studio. I created a project in Basic Application (Android,Gradle). I tried to run the program **without** even writing any code but it seems it gives me this stupid error   \r\n\r\n```\r\n\tMSB3073\tThe command &quot;gradlew.bat -p &quot;C:\\Users\\burak\\source\\repos\\firstandroidapp\\firstandroidapp\\app&quot;  assemblex86Debug&quot; exited with code 1.\t\r\n\r\n```\r\nThis is the error line\r\n\r\n```\r\n    &lt;Exec Command=&quot;%(GradlePackage.ToolName) $(GradleParameters)&quot; WorkingDirectory=&quot;$(WorkingDirectory)&quot;/&gt;\r\n\r\n```\r\n\r\n\r\nAnd the Java file is ok.\r\n\r\n```\r\n\r\npackage com.firstandroidapp;\r\n\r\nimport android.app.Activity;\r\nimport android.widget.TextView;\r\nimport android.os.Bundle;\r\n\r\npublic class firstandroidapp extends Activity\r\n{\r\n    /** Called when the activity is first created. */\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        /* Create a TextView and set its text to &quot;Hello world&quot; */\r\n        TextView  tv = new TextView(this);\r\n        tv.setText(&quot;Hello World!&quot;);\r\n        setContentView(tv);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI am looking forward for your replies bcs I&#39;m about to lose my mind here.\r\n\r\nI tried installing Gradle, and set up the path, but it didn&#39;t work. I tried reinstalling visual studio but nothing again.","title":"Error in running mobile app code in Visual Studio","body":"<p>I am a beginner programmer. Recently I wanted to program an android app on Visual Studio. I created a project in Basic Application (Android,Gradle). I tried to run the program <strong>without</strong> even writing any code but it seems it gives me this stupid error</p>\n<pre><code>    MSB3073 The command &quot;gradlew.bat -p &quot;C:\\Users\\burak\\source\\repos\\firstandroidapp\\firstandroidapp\\app&quot;  assemblex86Debug&quot; exited with code 1.    \n\n</code></pre>\n<p>This is the error line</p>\n<pre><code>    &lt;Exec Command=&quot;%(GradlePackage.ToolName) $(GradleParameters)&quot; WorkingDirectory=&quot;$(WorkingDirectory)&quot;/&gt;\n\n</code></pre>\n<p>And the Java file is ok.</p>\n<pre><code>\npackage com.firstandroidapp;\n\nimport android.app.Activity;\nimport android.widget.TextView;\nimport android.os.Bundle;\n\npublic class firstandroidapp extends Activity\n{\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n\n        /* Create a TextView and set its text to &quot;Hello world&quot; */\n        TextView  tv = new TextView(this);\n        tv.setText(&quot;Hello World!&quot;);\n        setContentView(tv);\n    }\n}\n\n</code></pre>\n<p>I am looking forward for your replies bcs I'm about to lose my mind here.</p>\n<p>I tried installing Gradle, and set up the path, but it didn't work. I tried reinstalling visual studio but nothing again.</p>\n"},{"tags":["java","struts2","simpledateformat","struts-tags"],"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":1,"creation_date":1489139022,"post_id":42715037,"comment_id":72550515,"body_markdown":"`&lt;s:property value=&quot;%{(new java.text.SimpleDateFormat().format())}&quot;&gt;` ?","body":"<code>&lt;s:property value=&quot;%{(new java.text.SimpleDateFormat().format())}&quot;&gt;</code> ?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1489143641,"post_id":42715037,"comment_id":72553482,"body_markdown":"you have a syntax error in OGNL expression","body":"you have a syntax error in OGNL expression"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1489169761,"post_id":42715037,"comment_id":72569959,"body_markdown":"You cannot use `new` keyword in the JSP any longer. Format date in the backend.","body":"You cannot use <code>new</code> keyword in the JSP any longer. Format date in the backend."},{"owner":{"account_id":10428980,"reputation":13,"user_id":7689371,"display_name":"Wangke"},"score":0,"creation_date":1489463389,"post_id":42715037,"comment_id":72669643,"body_markdown":"@Roman C  can you tell me where the wrong syntax place? please!","body":"@Roman C  can you tell me where the wrong syntax place? please!"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1489474722,"post_id":42715037,"comment_id":72673291,"body_markdown":"@Wangke (new java.text.SimpleDateFormat().format())","body":"@Wangke (new java.text.SimpleDateFormat().format())"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696703534,"creation_date":1489479261,"answer_id":42780809,"question_id":42715037,"body_markdown":"Instead of writing ugly OGNL expression in property tag, that even doesn&#39;t work, why not to create a property/method in action class that does format the value.\r\n\r\n&gt;## [How to format dates and numbers:][1]\r\n&gt;\r\n&gt;A frequently asked question is how best to display dates and numbers using a specified format. There are a number of approaches for this, the most naive of which would be to add a method to your action class to do the formatting for you. This method would take in a `Date` (or subclass) object as a parameter, and return a formatted `String`.\r\n\r\n\r\n----------\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/formatting-dates-and-numbers","title":"struts2&#39;s property tag attribute cant resolve value=&quot;(new java.text.SimpleDateFormat(&quot;&quot;).format())&quot; at struts2 version 2.3.32","body":"<p>Instead of writing ugly OGNL expression in property tag, that even doesn't work, why not to create a property/method in action class that does format the value.</p>\n<blockquote>\n<h2><a href=\"https://struts.apache.org/core-developers/formatting-dates-and-numbers\" rel=\"nofollow noreferrer\">How to format dates and numbers:</a></h2>\n<p>A frequently asked question is how best to display dates and numbers using a specified format. There are a number of approaches for this, the most naive of which would be to add a method to your action class to do the formatting for you. This method would take in a <code>Date</code> (or subclass) object as a parameter, and return a formatted <code>String</code>.</p>\n</blockquote>\n<hr />\n"}],"owner":{"account_id":10428980,"reputation":13,"user_id":7689371,"display_name":"Wangke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42780809,"answer_count":1,"score":1,"last_activity_date":1696703534,"creation_date":1489138856,"question_id":42715037,"body_markdown":"i was encounter this problem when i update the Struts2 from version 2.3.15 to 2.3.32. At version 2.3.32 , `&lt;s:property value=&quot;(new java.text.SimpleDateFormat().format())&quot;&gt; `could not be parsed,and no error. So, how to resolve this problem? ","title":"struts2&#39;s property tag attribute cant resolve value=&quot;(new java.text.SimpleDateFormat(&quot;&quot;).format())&quot; at struts2 version 2.3.32","body":"<p>i was encounter this problem when i update the Struts2 from version 2.3.15 to 2.3.32. At version 2.3.32 , <code>&lt;s:property value=\"(new java.text.SimpleDateFormat().format())\"&gt;</code>could not be parsed,and no error. So, how to resolve this problem? </p>\n"},{"tags":["java","eclipse","debugging"],"answers":[{"comments":[{"owner":{"account_id":297863,"reputation":2957,"user_id":603588,"accept_rate":76,"display_name":"ltfishie"},"score":0,"creation_date":1314908140,"post_id":7275720,"comment_id":8759847,"body_markdown":"Thank you, I am aware I can expand each MapEntry to see the key and value.  However, this is very tedious if you want to locate an entry in a map of any reasonable size.","body":"Thank you, I am aware I can expand each MapEntry to see the key and value.  However, this is very tedious if you want to locate an entry in a map of any reasonable size."},{"owner":{"account_id":297863,"reputation":2957,"user_id":603588,"accept_rate":76,"display_name":"ltfishie"},"score":1,"creation_date":1315510221,"post_id":7275720,"comment_id":8871551,"body_markdown":"Can you please remove your answer since it does not address my question?","body":"Can you please remove your answer since it does not address my question?"},{"owner":{"account_id":545061,"reputation":6934,"user_id":914705,"accept_rate":100,"display_name":"Mike Sokolov"},"score":1,"creation_date":1316001716,"post_id":7275720,"comment_id":8962182,"body_markdown":"I&#39;m sorry, but I don&#39;t think you understood my answer.  If you simply select (ie click on it, making it be highlighted), the value you want to inspect, its toString() is shown in a nearby panel - no expanding required.","body":"I&#39;m sorry, but I don&#39;t think you understood my answer.  If you simply select (ie click on it, making it be highlighted), the value you want to inspect, its toString() is shown in a nearby panel - no expanding required."},{"owner":{"account_id":297863,"reputation":2957,"user_id":603588,"accept_rate":76,"display_name":"ltfishie"},"score":0,"creation_date":1316445072,"post_id":7275720,"comment_id":9043056,"body_markdown":"Thanks for clarify, you are right.  The window right below the variables panel shows the string equivalent...","body":"Thanks for clarify, you are right.  The window right below the variables panel shows the string equivalent..."},{"owner":{"account_id":304252,"reputation":785,"user_id":613651,"display_name":"Keith Tyler"},"score":1,"creation_date":1563224328,"post_id":7275720,"comment_id":100621573,"body_markdown":"For very large hashtables this is no good because the displayed value is truncated at 10,000 chars.","body":"For very large hashtables this is no good because the displayed value is truncated at 10,000 chars."}],"tags":[],"owner":{"account_id":545061,"reputation":6934,"user_id":914705,"accept_rate":100,"display_name":"Mike Sokolov"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1314906781,"creation_date":1314906781,"answer_id":7275720,"question_id":7275520,"body_markdown":"I find that when I select a value in the &quot;Variables&quot; pane in the debugger, its value is shown below using the toString() method.  This works nicely for maps, for example.","title":"Inspecting Java Map with Eclipse: Display key and value in Variables view&#39;s Value column","body":"<p>I find that when I select a value in the \"Variables\" pane in the debugger, its value is shown below using the toString() method.  This works nicely for maps, for example.</p>\n"},{"comments":[{"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"score":0,"creation_date":1696535527,"post_id":10010552,"comment_id":136169443,"body_markdown":"I&#39;m not sure for ConcurrentHashMap, but regarding java.util.HashMap, defining such a formatter is visibly superfluous as of Eclipse 2023-09 (JDT 3.19) with JDK 8. I am not an expert, but I suppose that&#39;s because JDK 8&#39;s AbstractMap.toString() does the job, while you must have used an older JDK.","body":"I&#39;m not sure for ConcurrentHashMap, but regarding java.util.HashMap, defining such a formatter is visibly superfluous as of Eclipse 2023-09 (JDT 3.19) with JDK 8. I am not an expert, but I suppose that&#39;s because JDK 8&#39;s AbstractMap.toString() does the job, while you must have used an older JDK."}],"tags":[],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1333540445,"creation_date":1333540445,"answer_id":10010552,"question_id":7275520,"body_markdown":"Well I made an ugly workaround. Set up this detail formatter for Map:\r\n\r\n    StringBuilder detail = new StringBuilder();\r\n    int i = 0;\r\n    for (Object k : keySet()) {\r\n    \tdetail.append((i++) + &quot;: &quot; + k + &quot;\\n&quot;);\r\n    }\r\n    return detail;\r\n\r\nThen in the output of that, find the index of the entry with the key you want, then find that entry in the logical structure tree.\r\n\r\nIt works, but the detail formatter itself is a bit slow, and it requires an extra step. Also the keys are not sorted so finding the key you want in a large map may be difficult (though sorting could theoretically be done in the formatter).","title":"Inspecting Java Map with Eclipse: Display key and value in Variables view&#39;s Value column","body":"<p>Well I made an ugly workaround. Set up this detail formatter for Map:</p>\n\n<pre><code>StringBuilder detail = new StringBuilder();\nint i = 0;\nfor (Object k : keySet()) {\n    detail.append((i++) + \": \" + k + \"\\n\");\n}\nreturn detail;\n</code></pre>\n\n<p>Then in the output of that, find the index of the entry with the key you want, then find that entry in the logical structure tree.</p>\n\n<p>It works, but the detail formatter itself is a bit slow, and it requires an extra step. Also the keys are not sorted so finding the key you want in a large map may be difficult (though sorting could theoretically be done in the formatter).</p>\n"},{"comments":[{"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"score":2,"creation_date":1333588165,"post_id":10019962,"comment_id":12815478,"body_markdown":"Interestingly, this doesn&#39;t work on OS X in eclipse 3.7, I think because of Apple&#39;s JVM.  I get an error when I try to define a detail formatter for an inner class.  But this is how to do it.  Note that you can minimize the changes to the variables view by selecting the first radio button.","body":"Interestingly, this doesn&#39;t work on OS X in eclipse 3.7, I think because of Apple&#39;s JVM.  I get an error when I try to define a detail formatter for an inner class.  But this is how to do it.  Note that you can minimize the changes to the variables view by selecting the first radio button."},{"owner":{"account_id":911998,"reputation":64395,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"score":2,"creation_date":1333967449,"post_id":10019962,"comment_id":12893091,"body_markdown":"Please make the screenshot of the  &quot;Variables&quot; view a little larger and encircle the &quot;Show logical Structure&quot; button.","body":"Please make the screenshot of the  &quot;Variables&quot; view a little larger and encircle the &quot;Show logical Structure&quot; button."},{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":1,"creation_date":1333970863,"post_id":10019962,"comment_id":12894061,"body_markdown":"Although it&#39;s not perfect (the keys are not sorted), this works well enough, so here&#39;s the bounty.","body":"Although it&#39;s not perfect (the keys are not sorted), this works well enough, so here&#39;s the bounty."},{"owner":{"account_id":134484,"reputation":3552,"user_id":336657,"accept_rate":65,"display_name":"jpprade"},"score":0,"creation_date":1438075752,"post_id":10019962,"comment_id":51287293,"body_markdown":"for me it worked like this : getKey() + &quot; - &quot; + getValue() otherwise I had an error : Detail formatter error: &lt;key&gt; cannot be resolved to a variable","body":"for me it worked like this : getKey() + &quot; - &quot; + getValue() otherwise I had an error : Detail formatter error: &lt;key&gt; cannot be resolved to a variable"}],"tags":[],"owner":{"account_id":1380082,"reputation":784,"user_id":1313289,"display_name":"horbags"},"comment_count":4,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1495003663,"creation_date":1333577321,"answer_id":10019962,"question_id":7275520,"body_markdown":"You need to create a detail formatter on top of the logical structure. In the example screenshot you provided, your logical structure is ConcurrentHashMap$WriteThroughEntry. You can add the detail formatter by right clicking on a row containing a ConcurrentHashMap$WriteThroughEntry and selecting &#39;add detail formatter&#39;. \r\n\r\nI just knocked up this example using HashMap.\r\n\r\n\r\n\r\n\r\n![enter image description here][1]\r\n\r\n    java.util.HashMap$Entry //  key + &quot; - &quot; + value\r\n\r\n\r\nFor a \r\n\r\n    HashMap&lt;Integer,String&gt; map;\r\n\r\n.. I quickly populated with rubbish, I now see:\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/rBcrL.jpg\r\n  [2]: http://i.stack.imgur.com/8eCAO.jpg","title":"Inspecting Java Map with Eclipse: Display key and value in Variables view&#39;s Value column","body":"<p>You need to create a detail formatter on top of the logical structure. In the example screenshot you provided, your logical structure is ConcurrentHashMap$WriteThroughEntry. You can add the detail formatter by right clicking on a row containing a ConcurrentHashMap$WriteThroughEntry and selecting 'add detail formatter'. </p>\n\n<p>I just knocked up this example using HashMap.</p>\n\n<p><img src=\"https://i.stack.imgur.com/rBcrL.jpg\" alt=\"enter image description here\"></p>\n\n<pre><code>java.util.HashMap$Entry //  key + \" - \" + value\n</code></pre>\n\n<p>For a </p>\n\n<pre><code>HashMap&lt;Integer,String&gt; map;\n</code></pre>\n\n<p>.. I quickly populated with rubbish, I now see:</p>\n\n<p><img src=\"https://i.stack.imgur.com/8eCAO.jpg\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"score":0,"creation_date":1696528842,"post_id":25861333,"comment_id":136168272,"body_markdown":"Show logical structure sure is useful, but as you can see in his screenshot, it&#39;s already activated. He wants to avoid having to dig all elements.","body":"Show logical structure sure is useful, but as you can see in his screenshot, it&#39;s already activated. He wants to avoid having to dig all elements."}],"tags":[],"owner":{"account_id":5036320,"reputation":29,"user_id":4044971,"display_name":"spartan"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1410845802,"creation_date":1410845802,"answer_id":25861333,"question_id":7275520,"body_markdown":"Just use the Show logical structure under the expressions window to make the values more readable. check this out\r\nhttps://blog.codecentric.de/en/2013/04/again-10-tips-on-java-debugging-with-eclipse/","title":"Inspecting Java Map with Eclipse: Display key and value in Variables view&#39;s Value column","body":"<p>Just use the Show logical structure under the expressions window to make the values more readable. check this out\n<a href=\"https://blog.codecentric.de/en/2013/04/again-10-tips-on-java-debugging-with-eclipse/\" rel=\"nofollow\">https://blog.codecentric.de/en/2013/04/again-10-tips-on-java-debugging-with-eclipse/</a></p>\n"},{"tags":[],"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696606524,"creation_date":1696606524,"answer_id":77245749,"question_id":7275520,"body_markdown":"At least with JDK 8 and above (and a current Eclipse like 2023-09), I don&#39;t see why you&#39;d need to do more than the preference change explained in the first (mandatory) step of [that answer to a related question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30262035/5405434","title":"Inspecting Java Map with Eclipse: Display key and value in Variables view&#39;s Value column","body":"<p>At least with JDK 8 and above (and a current Eclipse like 2023-09), I don't see why you'd need to do more than the preference change explained in the first (mandatory) step of <a href=\"https://stackoverflow.com/a/30262035/5405434\">that answer to a related question</a>.</p>\n"}],"owner":{"account_id":297863,"reputation":2957,"user_id":603588,"accept_rate":76,"display_name":"ltfishie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24840,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":7275720,"answer_count":5,"score":21,"last_activity_date":1696702454,"creation_date":1314905550,"question_id":7275520,"body_markdown":"I have recently started to use Eclipse after using IntelliJ for a few years.  When debugging Map using IntelliJ, if the key or object implements `toString()`, a nice list of string representation of key-value is displayed.\r\n\r\nIn Eclipse, when I select **Show Logical Structure**, I see something like the following:\r\n\r\n![enter image description here][1]\r\n\r\nWith this view, **the problem is that you will need to expand each entry** to see the actual key and value.  If you need to find something in a map of more than 10 elements, it becomes very tedious.\r\n\r\nI understand that you can make custom Logical Structure and the default for Map is this:\r\n\r\n    return entrySet().toArray();\r\n\r\nIs there any way, either through custom Logical Structure or some plugin to view values for Map entries more useful than something like    `ConcurrentHashMap$WriteThroughEntry (id=193)`?\r\n\r\n  [1]: http://i.stack.imgur.com/lKyoj.jpg","title":"Inspecting Java Map with Eclipse: Display key and value in Variables view&#39;s Value column","body":"<p>I have recently started to use Eclipse after using IntelliJ for a few years.  When debugging Map using IntelliJ, if the key or object implements <code>toString()</code>, a nice list of string representation of key-value is displayed.</p>\n<p>In Eclipse, when I select <strong>Show Logical Structure</strong>, I see something like the following:</p>\n<p><img src=\"https://i.stack.imgur.com/lKyoj.jpg\" alt=\"enter image description here\" /></p>\n<p>With this view, <strong>the problem is that you will need to expand each entry</strong> to see the actual key and value.  If you need to find something in a map of more than 10 elements, it becomes very tedious.</p>\n<p>I understand that you can make custom Logical Structure and the default for Map is this:</p>\n<pre><code>return entrySet().toArray();\n</code></pre>\n<p>Is there any way, either through custom Logical Structure or some plugin to view values for Map entries more useful than something like    <code>ConcurrentHashMap$WriteThroughEntry (id=193)</code>?</p>\n"},{"tags":["java","logging","logback"],"answers":[{"comments":[{"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"score":4,"creation_date":1401960354,"post_id":10734257,"comment_id":37091953,"body_markdown":"No need to implement yourself, use ch.qos.logback.classic.filter.ThresholdFilter","body":"No need to implement yourself, use ch.qos.logback.classic.filter.ThresholdFilter"},{"owner":{"account_id":12291,"reputation":14748,"user_id":24108,"accept_rate":98,"display_name":"John Oxley"},"score":3,"creation_date":1402049376,"post_id":10734257,"comment_id":37133917,"body_markdown":"ThresholdFilter just filters on a Threshold.  I want to filter on both a logger AND threshold","body":"ThresholdFilter just filters on a Threshold.  I want to filter on both a logger AND threshold"},{"owner":{"account_id":2071615,"reputation":7603,"user_id":1845976,"accept_rate":56,"display_name":"schnatterer"},"score":1,"creation_date":1433619407,"post_id":10734257,"comment_id":49433211,"body_markdown":"@JohnOxley This is a functionality that should be included in logback! Have you considered [contributing](https://github.com/qos-ch/logback/pulls)?","body":"@JohnOxley This is a functionality that should be included in logback! Have you considered <a href=\"https://github.com/qos-ch/logback/pulls\" rel=\"nofollow noreferrer\">contributing</a>?"},{"owner":{"account_id":1657832,"reputation":615,"user_id":1526859,"accept_rate":82,"display_name":"Alexander Chepurnoy"},"score":0,"creation_date":1438607607,"post_id":10734257,"comment_id":51504796,"body_markdown":"I believe it was intended to have positive filter, so should be \n\n        if (!event.getLoggerName().startsWith(logger))\n            return FilterReply.DENY;","body":"I believe it was intended to have positive filter, so should be           if (!event.getLoggerName().startsWith(logger))             return FilterReply.DENY;"},{"owner":{"account_id":37431,"reputation":837,"user_id":107013,"accept_rate":80,"display_name":"MyKey_"},"score":0,"creation_date":1477741892,"post_id":10734257,"comment_id":67893674,"body_markdown":"The &quot;startsWith(logger)&quot; is sufficient for most use cases but is not entirely correct. For example, if the event&#39;s logger name is &quot;com.examples&quot;, the configured logger &quot;com.example&quot; would incorrectly match.","body":"The &quot;startsWith(logger)&quot; is sufficient for most use cases but is not entirely correct. For example, if the event&#39;s logger name is &quot;com.examples&quot;, the configured logger &quot;com.example&quot; would incorrectly match."}],"tags":[],"owner":{"account_id":12291,"reputation":14748,"user_id":24108,"accept_rate":98,"display_name":"John Oxley"},"comment_count":5,"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1696701096,"creation_date":1337850038,"answer_id":10734257,"question_id":10734025,"body_markdown":"Create a ThresholdLoggerFilter class which can be put on an appender like:\r\n\r\n```xml\r\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t&lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n\t\t&lt;level&gt;INFO&lt;/level&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter class=&quot;com.myapp.ThresholdLoggerFilter&quot;&gt;\r\n\t\t&lt;logger&gt;org.springframework&lt;/logger&gt;\r\n\t\t&lt;level&gt;ERROR&lt;/level&gt;\r\n\t&lt;/filter&gt;\r\n&lt;/appender&gt;\r\n```\r\n\r\nThe following code works\r\n\r\n\tpackage com.myapp;\r\n\t\r\n\timport ch.qos.logback.classic.Level;\r\n\timport ch.qos.logback.classic.spi.ILoggingEvent;\r\n\timport ch.qos.logback.core.filter.Filter;\r\n\timport ch.qos.logback.core.spi.FilterReply;\r\n\t\r\n\tpublic class ThresholdLoggerFilter extends Filter&lt;ILoggingEvent&gt; {\r\n\t\tprivate Level level;\r\n\t\tprivate String logger;\r\n\t\r\n\t\t@Override\r\n\t\tpublic FilterReply decide(ILoggingEvent event) {\r\n\t\t\tif (!isStarted()) {\r\n\t\t\t\treturn FilterReply.NEUTRAL;\r\n\t\t\t}\r\n\t\r\n\t\t\tif (!event.getLoggerName().startsWith(logger))\r\n\t\t\t\treturn FilterReply.NEUTRAL;\r\n\t\r\n\t\t\tif (event.getLevel().isGreaterOrEqual(level)) {\r\n\t\t\t\treturn FilterReply.NEUTRAL;\r\n\t\t\t} else {\r\n\t\t\t\treturn FilterReply.DENY;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic void setLevel(Level level) {\r\n\t\t\tthis.level = level;\r\n\t\t}\r\n\t\r\n\t\tpublic void setLogger(String logger) {\r\n\t\t\tthis.logger = logger;\r\n\t\t}\r\n\t\r\n\t\tpublic void start() {\r\n\t\t\tif (this.level != null &amp;&amp; this.logger != null) {\r\n\t\t\t\tsuper.start();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"logback: Two appenders, multiple loggers, different levels","body":"<p>Create a ThresholdLoggerFilter class which can be put on an appender like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n        &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/filter&gt;\n    &lt;filter class=&quot;com.myapp.ThresholdLoggerFilter&quot;&gt;\n        &lt;logger&gt;org.springframework&lt;/logger&gt;\n        &lt;level&gt;ERROR&lt;/level&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>The following code works</p>\n<pre><code>package com.myapp;\n\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.filter.Filter;\nimport ch.qos.logback.core.spi.FilterReply;\n\npublic class ThresholdLoggerFilter extends Filter&lt;ILoggingEvent&gt; {\n    private Level level;\n    private String logger;\n\n    @Override\n    public FilterReply decide(ILoggingEvent event) {\n        if (!isStarted()) {\n            return FilterReply.NEUTRAL;\n        }\n\n        if (!event.getLoggerName().startsWith(logger))\n            return FilterReply.NEUTRAL;\n\n        if (event.getLevel().isGreaterOrEqual(level)) {\n            return FilterReply.NEUTRAL;\n        } else {\n            return FilterReply.DENY;\n        }\n    }\n\n    public void setLevel(Level level) {\n        this.level = level;\n    }\n\n    public void setLogger(String logger) {\n        this.logger = logger;\n    }\n\n    public void start() {\n        if (this.level != null &amp;&amp; this.logger != null) {\n            super.start();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12291,"reputation":14748,"user_id":24108,"accept_rate":98,"display_name":"John Oxley"},"score":0,"creation_date":1337946764,"post_id":10735450,"comment_id":13975796,"body_markdown":"Thanks @artbristol, but this doesn&#39;t give the granularity of control I want.  I have updated the question so show why.","body":"Thanks @artbristol, but this doesn&#39;t give the granularity of control I want.  I have updated the question so show why."}],"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1576780954,"creation_date":1337854460,"answer_id":10735450,"question_id":10734025,"body_markdown":"You can also do this somewhat more simply if you are willing to inherit from the root logger, e.g. here we add an extra logger for errors, that logs to stderr. It&#39;s only enabled for particular loggers.\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;appender name=&quot;CONSOLE-stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;target&gt;System.out&lt;/target&gt; &lt;!-- the default --&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%d %-5level [%thread] %logger{0}: %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \t&lt;appender name=&quot;CONSOLE-stderr&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n    \t\t\t&lt;level&gt;ERROR&lt;/level&gt;\r\n    \t\t&lt;/filter&gt;\r\n    \r\n    \t\t&lt;target&gt;System.err&lt;/target&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%d %-5level [%thread] %logger{0}: %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \t&lt;root level=&quot;DEBUG&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;CONSOLE-stdout&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    \r\n            &lt;!-- We want error logging from this logger to go to an extra appender \r\n                 It still inherits CONSOLE-stdout from the root logger --&gt;\r\n    \t&lt;logger name=&quot;org.springframework&quot; level=&quot;INFO&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;CONSOLE-stderr&quot; /&gt;\r\n    \t&lt;/logger&gt;\r\n    &lt;/configuration&gt;","title":"logback: Two appenders, multiple loggers, different levels","body":"<p>You can also do this somewhat more simply if you are willing to inherit from the root logger, e.g. here we add an extra logger for errors, that logs to stderr. It's only enabled for particular loggers.</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=\"CONSOLE-stdout\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;target&gt;System.out&lt;/target&gt; &lt;!-- the default --&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d %-5level [%thread] %logger{0}: %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=\"CONSOLE-stderr\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\"&gt;\n            &lt;level&gt;ERROR&lt;/level&gt;\n        &lt;/filter&gt;\n\n        &lt;target&gt;System.err&lt;/target&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d %-5level [%thread] %logger{0}: %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=\"DEBUG\"&gt;\n        &lt;appender-ref ref=\"CONSOLE-stdout\" /&gt;\n    &lt;/root&gt;\n\n        &lt;!-- We want error logging from this logger to go to an extra appender \n             It still inherits CONSOLE-stdout from the root logger --&gt;\n    &lt;logger name=\"org.springframework\" level=\"INFO\"&gt;\n        &lt;appender-ref ref=\"CONSOLE-stderr\" /&gt;\n    &lt;/logger&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3815600,"reputation":21,"user_id":3165048,"display_name":"Amrut Malaji"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1390388556,"creation_date":1390386634,"answer_id":21280332,"question_id":10734025,"body_markdown":"Using Multiple loggers for different messages will be like this:\r\n\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n     \r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n    import ch.qos.logback.classic.LoggerContext; \r\n    import ch.qos.logback.classic.encoder.PatternLayoutEncoder;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.FileAppender;\r\n    \r\n    public class ConfigureLogBack \r\n    {\r\n        public static void programmaticConfiguration()\r\n        {\r\n            Logger camel = getLogger(&quot;MyRoute&quot;, C:\\\\Users\\\\amrut.malaji\\\\Desktop\\\\Oracle\\\\logback\\\\camel-Log.txt&quot;);\r\n            Logger services = getLogger(&quot;webservices&quot;, &quot;C:\\\\Users\\\\amrut.malaji\\\\Desktop\\\\Oracle\\\\logback\\\\services-log.txt&quot;);\r\n        }\r\n    \r\n        private static Logger getLogger(String string, String file) {\r\n    \t\tLoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n        PatternLayoutEncoder ple = new PatternLayoutEncoder();\r\n    \r\n        ple.setPattern(&quot;%date %level [%thread] %logger{10} [%file:%line] %msg%n&quot;);\r\n        ple.setContext(lc);\r\n        ple.start();\r\n        FileAppender&lt;ILoggingEvent&gt; fileAppender = new FileAppender&lt;ILoggingEvent&gt;();\r\n        fileAppender.setFile(file);\r\n        fileAppender.setEncoder(ple);\r\n        fileAppender.setContext(lc);\r\n        fileAppender.start();\r\n    \r\n        Logger logger = (Logger) LoggerFactory.getLogger(string);\r\n        logger.addAppender(fileAppender);\r\n        logger.setLevel(Level.INFO);\r\n        logger.setAdditive(false); /* set to true if root should log too */\r\n    \r\n        return logger;\r\n    }","title":"logback: Two appenders, multiple loggers, different levels","body":"<p>Using Multiple loggers for different messages will be like this:</p>\n\n<pre><code>import ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\n\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.LoggerContext; \nimport ch.qos.logback.classic.encoder.PatternLayoutEncoder;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.FileAppender;\n\npublic class ConfigureLogBack \n{\n    public static void programmaticConfiguration()\n    {\n        Logger camel = getLogger(\"MyRoute\", C:\\\\Users\\\\amrut.malaji\\\\Desktop\\\\Oracle\\\\logback\\\\camel-Log.txt\");\n        Logger services = getLogger(\"webservices\", \"C:\\\\Users\\\\amrut.malaji\\\\Desktop\\\\Oracle\\\\logback\\\\services-log.txt\");\n    }\n\n    private static Logger getLogger(String string, String file) {\n        LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\n    PatternLayoutEncoder ple = new PatternLayoutEncoder();\n\n    ple.setPattern(\"%date %level [%thread] %logger{10} [%file:%line] %msg%n\");\n    ple.setContext(lc);\n    ple.start();\n    FileAppender&lt;ILoggingEvent&gt; fileAppender = new FileAppender&lt;ILoggingEvent&gt;();\n    fileAppender.setFile(file);\n    fileAppender.setEncoder(ple);\n    fileAppender.setContext(lc);\n    fileAppender.start();\n\n    Logger logger = (Logger) LoggerFactory.getLogger(string);\n    logger.addAppender(fileAppender);\n    logger.setLevel(Level.INFO);\n    logger.setAdditive(false); /* set to true if root should log too */\n\n    return logger;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1590791327,"post_id":40559479,"comment_id":109825076,"body_markdown":"This worked great for me. I needed everything INFO and up in one log and everything WARN and up in the other. Creating 1 appender for each log, then putting both appenders under the same logger like you did was 100% the solution and required zero additional components.","body":"This worked great for me. I needed everything INFO and up in one log and everything WARN and up in the other. Creating 1 appender for each log, then putting both appenders under the same logger like you did was 100% the solution and required zero additional components."}],"tags":[],"owner":{"account_id":465640,"reputation":1196,"user_id":869854,"accept_rate":64,"display_name":"eduardohl"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1478923750,"creation_date":1478923750,"answer_id":40559479,"question_id":10734025,"body_markdown":"Just found a practical solution using logback elements only that works pretty well, essentially you need to have two appenders, one with the default config and the other one with a filter (in my example I&#39;m using the console):\r\n\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;appender name=&quot;WARN_FILTER_STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n                &lt;level&gt;WARN&lt;/level&gt;\r\n            &lt;/filter&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;logger name=&quot;org.apache.spark&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;SPARK&quot; /&gt;&lt;!-- this line is not necessary, just here to ilustrate the need for the filter --&gt;\r\n            &lt;appender-ref ref=&quot;WARN_FILTER_STDOUT&quot; /&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n","title":"logback: Two appenders, multiple loggers, different levels","body":"<p>Just found a practical solution using logback elements only that works pretty well, essentially you need to have two appenders, one with the default config and the other one with a filter (in my example I'm using the console):</p>\n\n<pre><code>    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"WARN_FILTER_STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\"&gt;\n            &lt;level&gt;WARN&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=\"org.apache.spark\" level=\"INFO\" additivity=\"false\"&gt;\n        &lt;appender-ref ref=\"SPARK\" /&gt;&lt;!-- this line is not necessary, just here to ilustrate the need for the filter --&gt;\n        &lt;appender-ref ref=\"WARN_FILTER_STDOUT\" /&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=\"info\"&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;/root&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2772116,"reputation":2797,"user_id":2386514,"accept_rate":100,"display_name":"Jonathan E. Landrum"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1696692379,"creation_date":1492632062,"answer_id":43505051,"question_id":10734025,"body_markdown":"# Adding an additional solution that is simpler than what&#39;s already here\r\n\r\nNone of these solutions worked for me, since I&#39;m not using a framework like Spark or Spring. So I did something a bit simpler that seems to function nicely. While this solution may not work for the OP, perhaps it can be of use to someone wanting something not so bulky.\r\n\r\n```xml\r\n&lt;property name=&quot;pattern&quot; value=&quot;%d{yyyy.MMM.dd HH:mm:ss.SSS} [ProgramName] %level - %msg%n&quot; /&gt;\r\n\r\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n    &lt;file&gt;/path/to/your/program.log&lt;/file&gt;\r\n    &lt;append&gt;true&lt;/append&gt;\r\n    &lt;encoder&gt;\r\n        &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n&lt;/appender&gt;\r\n\r\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;target&gt;System.out&lt;/target&gt;\r\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n        &lt;level&gt;INFO&lt;/level&gt;\r\n    &lt;/filter&gt;\r\n    &lt;encoder&gt;\r\n        &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n&lt;/appender&gt;\r\n\r\n&lt;root level=&quot;debug&quot;&gt;\r\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nWith this configuration, I am able to keep the console rather clean, while outputting DEBUG statements to the log file.","title":"logback: Two appenders, multiple loggers, different levels","body":"<h1>Adding an additional solution that is simpler than what's already here</h1>\n<p>None of these solutions worked for me, since I'm not using a framework like Spark or Spring. So I did something a bit simpler that seems to function nicely. While this solution may not work for the OP, perhaps it can be of use to someone wanting something not so bulky.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;pattern&quot; value=&quot;%d{yyyy.MMM.dd HH:mm:ss.SSS} [ProgramName] %level - %msg%n&quot; /&gt;\n\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;/path/to/your/program.log&lt;/file&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;target&gt;System.out&lt;/target&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n        &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/filter&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;debug&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>With this configuration, I am able to keep the console rather clean, while outputting DEBUG statements to the log file.</p>\n"},{"tags":[],"owner":{"account_id":2884820,"reputation":31,"user_id":2787427,"display_name":"beigemartin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544723381,"creation_date":1544723381,"answer_id":53767515,"question_id":10734025,"body_markdown":"&gt; a threshold filter on an appender isn&#39;t fine grained enough\r\n\r\nYou could use an EvaluatorFilter.  A JaninoEventEvaluator would need a reference to janino (.jar) and a logback.xml example would be:\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;INFO&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n    \t&lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;      \r\n    \t\t&lt;evaluator class=&quot;ch.qos.logback.classic.boolex.JaninoEventEvaluator&quot;&gt;\r\n    \t\t\t&lt;expression&gt;\r\n    \t\t\t\tlevel &amp;lt;= ERROR &amp;amp;&amp;amp; logger.equals(&amp;quot;com.myapp.ThresholdLoggerFilter&amp;quot;)\r\n    \t\t\t&lt;/expression&gt;\r\n    \t\t&lt;/evaluator&gt;\r\n    \t\t&lt;OnMismatch&gt;DENY&lt;/OnMismatch&gt;\r\n    \t\t&lt;OnMatch&gt;NEUTRAL&lt;/OnMatch&gt;\r\n        &lt;/filter&gt;\r\n     &lt;/appender&gt;\r\n\r\nThis approach uses a java expression in the expression tag (must be xml escaped) to evaluate the logging event and does not need a custom java class to be written.","title":"logback: Two appenders, multiple loggers, different levels","body":"<blockquote>\n  <p>a threshold filter on an appender isn't fine grained enough</p>\n</blockquote>\n\n<p>You could use an EvaluatorFilter.  A JaninoEventEvaluator would need a reference to janino (.jar) and a logback.xml example would be:</p>\n\n<pre><code>&lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\"&gt;\n        &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/filter&gt;\n    &lt;filter class=\"ch.qos.logback.core.filter.EvaluatorFilter\"&gt;      \n        &lt;evaluator class=\"ch.qos.logback.classic.boolex.JaninoEventEvaluator\"&gt;\n            &lt;expression&gt;\n                level &amp;lt;= ERROR &amp;amp;&amp;amp; logger.equals(&amp;quot;com.myapp.ThresholdLoggerFilter&amp;quot;)\n            &lt;/expression&gt;\n        &lt;/evaluator&gt;\n        &lt;OnMismatch&gt;DENY&lt;/OnMismatch&gt;\n        &lt;OnMatch&gt;NEUTRAL&lt;/OnMatch&gt;\n    &lt;/filter&gt;\n &lt;/appender&gt;\n</code></pre>\n\n<p>This approach uses a java expression in the expression tag (must be xml escaped) to evaluate the logging event and does not need a custom java class to be written.</p>\n"}],"owner":{"account_id":12291,"reputation":14748,"user_id":24108,"accept_rate":98,"display_name":"John Oxley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102050,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":10734257,"answer_count":6,"score":69,"last_activity_date":1696701096,"creation_date":1337849053,"question_id":10734025,"body_markdown":"I want to have two log files in my application (Spring Integration), debug.log and main.log.  I want to run main.log at an INFO level and debug.log at a DEBUG level.  This is doable with filters on the appenders.  I want to log different levels to the appenders based on the source.  In other words\r\n\r\n\t&lt;logger name=&quot;org.springframework&quot; level=&quot;ERROR&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;main&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\t&lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;debug&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\t&lt;logger name=&quot;com.myapp&quot; level=&quot;INFO&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;main&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\t&lt;logger name=&quot;com.myapp&quot; level=&quot;DEBUG&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;debug&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\r\nSo to summarise:\r\n\r\n  1. Spring logger\r\n     * main -&gt; ERROR\r\n     * debug -&gt; DEBUG\r\n  2. com.myapp logger\r\n     * main -&gt; INFO\r\n     * debug -&gt; DEBUG\r\n\r\nBecause of this I have to have the loggers running at DEBUG and a threshold filter on an appender isn&#39;t fine grained enough.\r\n\r\n**Update** Added clarity to the question","title":"logback: Two appenders, multiple loggers, different levels","body":"<p>I want to have two log files in my application (Spring Integration), debug.log and main.log.  I want to run main.log at an INFO level and debug.log at a DEBUG level.  This is doable with filters on the appenders.  I want to log different levels to the appenders based on the source.  In other words</p>\n\n<pre><code>&lt;logger name=\"org.springframework\" level=\"ERROR\"&gt;\n    &lt;appender-ref ref=\"main\" /&gt;\n&lt;/logger&gt;\n&lt;logger name=\"org.springframework\" level=\"DEBUG\"&gt;\n    &lt;appender-ref ref=\"debug\" /&gt;\n&lt;/logger&gt;\n&lt;logger name=\"com.myapp\" level=\"INFO\"&gt;\n    &lt;appender-ref ref=\"main\" /&gt;\n&lt;/logger&gt;\n&lt;logger name=\"com.myapp\" level=\"DEBUG\"&gt;\n    &lt;appender-ref ref=\"debug\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>So to summarise:</p>\n\n<ol>\n<li>Spring logger\n<ul>\n<li>main -> ERROR</li>\n<li>debug -> DEBUG</li>\n</ul></li>\n<li>com.myapp logger\n<ul>\n<li>main -> INFO</li>\n<li>debug -> DEBUG</li>\n</ul></li>\n</ol>\n\n<p>Because of this I have to have the loggers running at DEBUG and a threshold filter on an appender isn't fine grained enough.</p>\n\n<p><strong>Update</strong> Added clarity to the question</p>\n"},{"tags":["java","servlets","servlet-3.0"],"answers":[{"comments":[{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":1,"creation_date":1336557576,"post_id":10513552,"comment_id":13594765,"body_markdown":"Thanks for quick answer, just to clarify, I don&#39;t need to change anything at runtime. Just in the WAR before deployement.","body":"Thanks for quick answer, just to clarify, I don&#39;t need to change anything at runtime. Just in the WAR before deployement."},{"owner":{"account_id":262720,"reputation":10054,"user_id":547779,"accept_rate":83,"display_name":"Tarlog"},"score":0,"creation_date":1336559907,"post_id":10513552,"comment_id":13595630,"body_markdown":"Think about it like this: even you want to change the war before the deployment where the info will come from? Another file? So put this file aside the war and reference it from the war. As I said usually JNDI is a convenient way to do this, but there are more options.","body":"Think about it like this: even you want to change the war before the deployment where the info will come from? Another file? So put this file aside the war and reference it from the war. As I said usually JNDI is a convenient way to do this, but there are more options."},{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1336564264,"post_id":10513552,"comment_id":13597372,"body_markdown":"Ok, finally I took the config file option. JNDI sounds like a good idea but I&#39;ve never used it so I keep it simple.","body":"Ok, finally I took the config file option. JNDI sounds like a good idea but I&#39;ve never used it so I keep it simple."}],"tags":[],"owner":{"account_id":262720,"reputation":10054,"user_id":547779,"accept_rate":83,"display_name":"Tarlog"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1336556537,"creation_date":1336556537,"answer_id":10513552,"question_id":10513292,"body_markdown":"AFAIK there is no standard way to modify the init params in runtime. Moreover, it&#39;s a bad practice to put configuration there, especially to put there database credentials in a clear text.\r\n\r\nUsually the best practices is to put a configuration in an external file. It may be some custom properties or xml file. \r\n\r\nFor database connection it&#39;s common to use JNDI. So basically in the code you look for a JNDI resource, while the JNDI itself in configured at container level. Google to find a lot of examples how to configure database connection via JNDI for Jetty, Tomcat, JBoss and more.","title":"Modify WebInitParam in Servlet 3.0 when the project in packaged in a WAR","body":"<p>AFAIK there is no standard way to modify the init params in runtime. Moreover, it's a bad practice to put configuration there, especially to put there database credentials in a clear text.</p>\n\n<p>Usually the best practices is to put a configuration in an external file. It may be some custom properties or xml file. </p>\n\n<p>For database connection it's common to use JNDI. So basically in the code you look for a JNDI resource, while the JNDI itself in configured at container level. Google to find a lot of examples how to configure database connection via JNDI for Jetty, Tomcat, JBoss and more.</p>\n"},{"comments":[{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1336564412,"post_id":10515173,"comment_id":13597444,"body_markdown":"If I use the web.xml, my annotations won&#39;t work anymore, I&#39;ve resolve the problem using a config file in my war. Thanks anyway!","body":"If I use the web.xml, my annotations won&#39;t work anymore, I&#39;ve resolve the problem using a config file in my war. Thanks anyway!"},{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":1,"creation_date":1336564997,"post_id":10515173,"comment_id":13597670,"body_markdown":"Wrong. The annotations and the contents of web.xml are merged, with web.xml taking priority. Read section 8 of the Servlet 3 specification or details Or just try it.","body":"Wrong. The annotations and the contents of web.xml are merged, with web.xml taking priority. Read section 8 of the Servlet 3 specification or details Or just try it."},{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1336565924,"post_id":10515173,"comment_id":13598032,"body_markdown":"Ok I see but it&#39;s the same as storing all in the web.xml, it&#39;s not really conveniant. I&#39;ve preffered avoiding the web.xml and use a properties file instead.","body":"Ok I see but it&#39;s the same as storing all in the web.xml, it&#39;s not really conveniant. I&#39;ve preffered avoiding the web.xml and use a properties file instead."},{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":1,"creation_date":1336567824,"post_id":10515173,"comment_id":13598937,"body_markdown":"It is not the same as storing it all in web.xml. The point is that you can use web.xml to override *just* the annotations you want to edit. You&#39;ll note, for example, that the url pattern is not in web.xml. The value from the annotation is used. If you prefer a properties file then fine. Personally, I loathe annotations. They make it much, much harder for system admins to figure out what on earth is going on.","body":"It is not the same as storing it all in web.xml. The point is that you can use web.xml to override <i>just</i> the annotations you want to edit. You&#39;ll note, for example, that the url pattern is not in web.xml. The value from the annotation is used. If you prefer a properties file then fine. Personally, I loathe annotations. They make it much, much harder for system admins to figure out what on earth is going on."},{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1336570245,"post_id":10515173,"comment_id":13600178,"body_markdown":"Yes it&#39;s not the same but in my case only urlpatterns stay in annotations... that&#39;s why I said that. But your right I ve tried annotations to see how it works but eventually the old web.xml is easier to administrate ;) thanks for explanations!","body":"Yes it&#39;s not the same but in my case only urlpatterns stay in annotations... that&#39;s why I said that. But your right I ve tried annotations to see how it works but eventually the old web.xml is easier to administrate ;) thanks for explanations!"}],"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1336562999,"creation_date":1336562999,"answer_id":10515173,"question_id":10513292,"body_markdown":"In Servlet 3.0 the annotations provide the defaults but these can be over-ridden in web.xml so you can add the following to web.xml to change the paramaters.\r\n\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;FrontServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;fully.qualified.ClassName&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;passwordDB&lt;/param-name&gt;\r\n          &lt;param-value&gt;NewValue&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n      &lt;/servlet&gt;\r\n\r\nIn Tomcat at least, you need to specify the class name and the Servlet name. Without looking into the merging code further (it is a while since I worked on it) one of those should be sufficient. For now, you&#39;ll need to use both.","title":"Modify WebInitParam in Servlet 3.0 when the project in packaged in a WAR","body":"<p>In Servlet 3.0 the annotations provide the defaults but these can be over-ridden in web.xml so you can add the following to web.xml to change the paramaters.</p>\n\n<pre><code>  &lt;servlet&gt;\n    &lt;servlet-name&gt;FrontServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;fully.qualified.ClassName&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;passwordDB&lt;/param-name&gt;\n      &lt;param-value&gt;NewValue&lt;/param-value&gt;\n    &lt;/init-param&gt;\n  &lt;/servlet&gt;\n</code></pre>\n\n<p>In Tomcat at least, you need to specify the class name and the Servlet name. Without looking into the merging code further (it is a while since I worked on it) one of those should be sufficient. For now, you'll need to use both.</p>\n"},{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696699835,"creation_date":1696699835,"answer_id":77250842,"question_id":10513292,"body_markdown":"Although you found a workaround using `getClassLoader`, it is not a Servlet approach.\r\nAlso, using `web.xml` just for the sake of configuring parameters that are already defined by `WebInitParam` and `WebServlet`, is very combersome, because you are forced to duplicate the server name, url-pattern and class location.\r\n\r\n**But fortunately there is a Servlet solution that currently isn&#39;t mentioned on this page.**\r\n\r\nYou can use a `ServletContextListener` to programmatically add servlet init params without having to alter the original servlet. (As long as the servlet uses servlet init params to get values.) This is a solution without having to use `web.xml`.\r\n\r\nThe ServletContextListener:\r\n```\r\n@WebListener\r\npublic class MyServletParamInitializer implements ServletContextListener {\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent contentEvent) {\r\n        ServletRegistration servletRegistration = contentEvent.getServletContext().getServletRegistration(&quot;MyServlet&quot;);\r\n        servletRegistration.setInitParameter(&quot;userDB&quot;, &quot;root&quot;);\r\n        servletRegistration.setInitParameter(&quot;passwordDB&quot;, &quot;*****&quot;);\r\n    }\r\n}\r\n```\r\nSo it uses `ServletRegistration` to set the init params.\r\n\r\nThe servlet can then access the init params from the `ServletConfig` that is only available for this Servlet:\r\n\r\n```\r\n@WebServlet(name = &quot;MyServlet&quot;, value = &quot;/*&quot;, loadOnStartup = 1)\r\npublic class MyServlet extends HttpServlet {\r\n\r\n    // You could use this method to do some db initialization\r\n    @Override\r\n    public void init(ServletConfig config) throws ServletException {\r\n        super.init(config);\r\n        String userDB = config.getInitParameter(&quot;userDB&quot;);\r\n        System.out.println(&quot;MyServlet.init(): userDB=&quot; + userDB);\r\n    }\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        PrintWriter writer = resp.getWriter();\r\n\r\n        String userDB = getServletConfig().getInitParameter(&quot;userDB&quot;);\r\n        String message = &quot;MyServlet.doGet(): userDB=&quot; + userDB;\r\n        System.out.println(message);\r\n        writer.println(message);\r\n\r\n        writer.flush();\r\n        writer.close();\r\n    }\r\n}\r\n```","title":"Modify WebInitParam in Servlet 3.0 when the project in packaged in a WAR","body":"<p>Although you found a workaround using <code>getClassLoader</code>, it is not a Servlet approach.\nAlso, using <code>web.xml</code> just for the sake of configuring parameters that are already defined by <code>WebInitParam</code> and <code>WebServlet</code>, is very combersome, because you are forced to duplicate the server name, url-pattern and class location.</p>\n<p><strong>But fortunately there is a Servlet solution that currently isn't mentioned on this page.</strong></p>\n<p>You can use a <code>ServletContextListener</code> to programmatically add servlet init params without having to alter the original servlet. (As long as the servlet uses servlet init params to get values.) This is a solution without having to use <code>web.xml</code>.</p>\n<p>The ServletContextListener:</p>\n<pre><code>@WebListener\npublic class MyServletParamInitializer implements ServletContextListener {\n    @Override\n    public void contextInitialized(ServletContextEvent contentEvent) {\n        ServletRegistration servletRegistration = contentEvent.getServletContext().getServletRegistration(&quot;MyServlet&quot;);\n        servletRegistration.setInitParameter(&quot;userDB&quot;, &quot;root&quot;);\n        servletRegistration.setInitParameter(&quot;passwordDB&quot;, &quot;*****&quot;);\n    }\n}\n</code></pre>\n<p>So it uses <code>ServletRegistration</code> to set the init params.</p>\n<p>The servlet can then access the init params from the <code>ServletConfig</code> that is only available for this Servlet:</p>\n<pre><code>@WebServlet(name = &quot;MyServlet&quot;, value = &quot;/*&quot;, loadOnStartup = 1)\npublic class MyServlet extends HttpServlet {\n\n    // You could use this method to do some db initialization\n    @Override\n    public void init(ServletConfig config) throws ServletException {\n        super.init(config);\n        String userDB = config.getInitParameter(&quot;userDB&quot;);\n        System.out.println(&quot;MyServlet.init(): userDB=&quot; + userDB);\n    }\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        PrintWriter writer = resp.getWriter();\n\n        String userDB = getServletConfig().getInitParameter(&quot;userDB&quot;);\n        String message = &quot;MyServlet.doGet(): userDB=&quot; + userDB;\n        System.out.println(message);\n        writer.println(message);\n\n        writer.flush();\n        writer.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2626,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10513552,"answer_count":3,"score":5,"last_activity_date":1696699835,"creation_date":1336555631,"question_id":10513292,"body_markdown":"In my project I&#39;m using Servlet 3.0 and I&#39;ve tried to use annotations.\r\n\r\nTo init the connection parameters for the DB I use this in my servlet :\r\n\r\n    @WebServlet(name = &quot;FrontServlet&quot;, urlPatterns = {&quot;/index&quot;},\r\n            initParams = {\r\n            @WebInitParam(name = &quot;userDB&quot;, value = &quot;root&quot;),\r\n            @WebInitParam(name = &quot;passwordDB&quot;, value = &quot;*****&quot;)})\r\n\r\nNow when I packaged the project in a WAR I&#39;ve no web.xml  so I can&#39;t edit the init parameters as I used to do whith older servlet version.\r\n\r\nMy question is, can I edit my init parameters when the project is packaged in a WAR? If yes how? Otherwise what approach should I use to store my init parameters and be able to modify them in the WAR?\r\n\r\nIf possible I would like to avoid to recreate the whole web.xml with all URL-patterns, etc...\r\n\r\n\r\nEDIT :\r\n\r\nFinally I kept :\r\n\r\n    @WebServlet(name = &quot;FrontServlet&quot;, urlPatterns = {&quot;/index&quot;})\r\n\r\nAnd I load DB params using [Properties][1], accessing the config file with `getClass().getClassLoader().getResourceAsStream(&quot;servlet/config/config.ini&quot;)`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html","title":"Modify WebInitParam in Servlet 3.0 when the project in packaged in a WAR","body":"<p>In my project I'm using Servlet 3.0 and I've tried to use annotations.</p>\n\n<p>To init the connection parameters for the DB I use this in my servlet :</p>\n\n<pre><code>@WebServlet(name = \"FrontServlet\", urlPatterns = {\"/index\"},\n        initParams = {\n        @WebInitParam(name = \"userDB\", value = \"root\"),\n        @WebInitParam(name = \"passwordDB\", value = \"*****\")})\n</code></pre>\n\n<p>Now when I packaged the project in a WAR I've no web.xml  so I can't edit the init parameters as I used to do whith older servlet version.</p>\n\n<p>My question is, can I edit my init parameters when the project is packaged in a WAR? If yes how? Otherwise what approach should I use to store my init parameters and be able to modify them in the WAR?</p>\n\n<p>If possible I would like to avoid to recreate the whole web.xml with all URL-patterns, etc...</p>\n\n<p>EDIT :</p>\n\n<p>Finally I kept :</p>\n\n<pre><code>@WebServlet(name = \"FrontServlet\", urlPatterns = {\"/index\"})\n</code></pre>\n\n<p>And I load DB params using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html\" rel=\"nofollow\">Properties</a>, accessing the config file with <code>getClass().getClassLoader().getResourceAsStream(\"servlet/config/config.ini\")</code></p>\n"},{"tags":["java","object","quicksort"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1453786066,"post_id":35006825,"comment_id":57742606,"body_markdown":"Unclear what you&#39;re asking. What would a sorted array containing both nuts and bolts look like? How would it be sequenced? What are you really trying to accomplish here?","body":"Unclear what you&#39;re asking. What would a sorted array containing both nuts and bolts look like? How would it be sequenced? What are you really trying to accomplish here?"},{"owner":{"account_id":6381895,"reputation":11,"user_id":4951028,"display_name":"Burus"},"score":0,"creation_date":1453824035,"post_id":35006825,"comment_id":57763129,"body_markdown":"How would you go about sorting these two object arrays basically, but you cannot compare a nut to a nut or a bolt to a bolt,","body":"How would you go about sorting these two object arrays basically, but you cannot compare a nut to a nut or a bolt to a bolt,"},{"owner":{"account_id":6381895,"reputation":11,"user_id":4951028,"display_name":"Burus"},"score":0,"creation_date":1453824122,"post_id":35006825,"comment_id":57763204,"body_markdown":"You can only compare a nut to a bolt, and this question usually calls for using a quicksort, which i have tried implementing, but i havent been able to do it correctly","body":"You can only compare a nut to a bolt, and this question usually calls for using a quicksort, which i have tried implementing, but i havent been able to do it correctly"},{"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"score":0,"creation_date":1454003530,"post_id":35006825,"comment_id":57859984,"body_markdown":"A sort implies there is a &#39;strict ordering&#39;. If you can strictly order a bolt in relation to a nut, and nut in relation to a bolt, why can you not order a bolt in relation to a bolt? \n\nAlso note your code has some significant formatting problems preventing us from compiling it without making some assumptions.","body":"A sort implies there is a &#39;strict ordering&#39;. If you can strictly order a bolt in relation to a nut, and nut in relation to a bolt, why can you not order a bolt in relation to a bolt?   Also note your code has some significant formatting problems preventing us from compiling it without making some assumptions."}],"answers":[{"tags":[],"owner":{"account_id":29621165,"reputation":1,"user_id":22702114,"display_name":"Mohammed Naved Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696699647,"creation_date":1696699647,"answer_id":77250828,"question_id":35006825,"body_markdown":"Question-&gt;\r\nWrite a Scilab program to solve the following problem:\r\nNuts &amp; Bolts Problem (Lock &amp; Key problem) using Quick Sort. Given a set of n nuts of\r\ndifferent sizes and n bolts of different sizes. There is a one-one mapping between nuts and bolts. Match nuts and bolts efficiently.\r\nConstraint: Comparison of a nut to another nut or a bolt to another bolt is not allowed. It means a nut can only be compared with a bolt and a bolt can only be compared with a nut to see which one is bigger/smaller.\r\n\r\nAnswer-&gt;\r\n```function sortedarray = quicksort(arr)\r\n    n = length(arr);  // Get the length of the input array\r\n    \r\n    if n &lt;= 1\r\n        sortedarray = arr;  // If the array has 1 or fewer elements, it&#39;s already sorted\r\n        return\r\n    end\r\n    \r\n    pivot = arr(1);  // Choose the first element as the pivot\r\n    left = [];\r\n    right = [];\r\n    \r\n    for i = 1:n\r\n        if arr(i) &lt; pivot\r\n            left = [left, arr(i)];  // Elements smaller than the pivot go to the left\r\n        elseif arr(i) &gt; pivot\r\n            right = [right, arr(i)];  // Elements greater than the pivot go to the right\r\n        end\r\n    end\r\n    \r\n    left = quicksort(left);   // Recursively sort the left subarray\r\n    right = quicksort(right); // Recursively sort the right subarray\r\n    \r\n    sortedarray = [left, pivot, right];  // Combine the sorted subarrays with the pivot\r\nend\r\n\r\nnuts = [9,0,6,7,1];\r\nbolts = [7,1,0,9,6];\r\n\r\n//User Input\r\n//for i = 1:5\r\n//    message = sprintf(&quot;Enter Size of Nut %d :&quot;, i);\r\n//    nuts(i) = input(message);  // Input nut sizes\r\n//end\r\n\r\n//for i = 1:5\r\n//    message = sprintf(&quot;Enter Size of Bolt %d :&quot;, i);\r\n//    bolts(i) = input(message);  // Input bolt sizes\r\n//end\r\n\r\nsorted_nuts = quicksort(nuts);    // Sort nuts\r\nsorted_bolts = quicksort(bolts);  // Sort bolts\r\n\r\nfor i = 1:5\r\n    printf(&quot;Nut[%d] Matches With Bolt[%d]\\n&quot;, sorted_nuts(i), sorted_bolts(i));  // Match nuts with bolts\r\nend\r\n\r\n//Output-&gt;\r\n//Nut[0] Matches With Bolt[0]\r\n//Nut[1] Matches With Bolt[1]\r\n//Nut[6] Matches With Bolt[6]\r\n//Nut[7] Matches With Bolt[7]\r\n//Nut[9] Matches With Bolt[9]\r\n```\r\n","title":"How to implement quicksort with two objects","body":"<p>Question-&gt;\nWrite a Scilab program to solve the following problem:\nNuts &amp; Bolts Problem (Lock &amp; Key problem) using Quick Sort. Given a set of n nuts of\ndifferent sizes and n bolts of different sizes. There is a one-one mapping between nuts and bolts. Match nuts and bolts efficiently.\nConstraint: Comparison of a nut to another nut or a bolt to another bolt is not allowed. It means a nut can only be compared with a bolt and a bolt can only be compared with a nut to see which one is bigger/smaller.</p>\n<p>Answer-&gt;</p>\n<pre><code>    n = length(arr);  // Get the length of the input array\n    \n    if n &lt;= 1\n        sortedarray = arr;  // If the array has 1 or fewer elements, it's already sorted\n        return\n    end\n    \n    pivot = arr(1);  // Choose the first element as the pivot\n    left = [];\n    right = [];\n    \n    for i = 1:n\n        if arr(i) &lt; pivot\n            left = [left, arr(i)];  // Elements smaller than the pivot go to the left\n        elseif arr(i) &gt; pivot\n            right = [right, arr(i)];  // Elements greater than the pivot go to the right\n        end\n    end\n    \n    left = quicksort(left);   // Recursively sort the left subarray\n    right = quicksort(right); // Recursively sort the right subarray\n    \n    sortedarray = [left, pivot, right];  // Combine the sorted subarrays with the pivot\nend\n\nnuts = [9,0,6,7,1];\nbolts = [7,1,0,9,6];\n\n//User Input\n//for i = 1:5\n//    message = sprintf(&quot;Enter Size of Nut %d :&quot;, i);\n//    nuts(i) = input(message);  // Input nut sizes\n//end\n\n//for i = 1:5\n//    message = sprintf(&quot;Enter Size of Bolt %d :&quot;, i);\n//    bolts(i) = input(message);  // Input bolt sizes\n//end\n\nsorted_nuts = quicksort(nuts);    // Sort nuts\nsorted_bolts = quicksort(bolts);  // Sort bolts\n\nfor i = 1:5\n    printf(&quot;Nut[%d] Matches With Bolt[%d]\\n&quot;, sorted_nuts(i), sorted_bolts(i));  // Match nuts with bolts\nend\n\n//Output-&gt;\n//Nut[0] Matches With Bolt[0]\n//Nut[1] Matches With Bolt[1]\n//Nut[6] Matches With Bolt[6]\n//Nut[7] Matches With Bolt[7]\n//Nut[9] Matches With Bolt[9]\n</code></pre>\n"}],"owner":{"account_id":6381895,"reputation":11,"user_id":4951028,"display_name":"Burus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696699647,"creation_date":1453780508,"question_id":35006825,"body_markdown":"I am trying to sort two object arrays. One array is a `Bolt[]` array, the other is a `Nut[]` array. I cannot compare a Bolt to another Bolt. I can only compare a bolt to a nut, and vice versa. \r\n\r\nI think the solution is to use some adapted version of quicksort, but I am having trouble implementing it. Given the code I have written, `MatchNutsBolt`, I am not sure what I can do to make it work:\r\n\r\n    int pivot = partition(nut, low, hi, bolt[hi])\r\n\r\nI cant think of how to use, say, a `Nut` pivot, then traverse the `Bolt[]` list, then use the matching `Bolt`s pivot and traverse though the `Nuts[]` list, thereby sorting both arrays with an average `O(n log n)` run time.  \r\n\r\n    public class MatchNutsBolts {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tRandom r = new Random(20);\r\n\t\t\r\n\t\t Bolt[] listOfBolts = NutsBolts.makeRandomBolts(r, 7);\r\n\t\t Nut[] listOfNuts = NutsBolts.makeMatchingNuts(r, listOfBolts);\r\n\t\t \r\n\t\t int low = 0;\r\n\t\t int hi = listOfBolts.length-1;\r\n\t\t \r\n\t\t \r\n\t\t match(listOfNuts, listOfBolts, low, hi);\r\n\t\t\r\n\t\t boolean x = NutsBolts.correctFit(listOfNuts, listOfBolts);\r\n\t\t System.out.print(x+&quot; &quot;);\r\n\t}\r\n\t\r\n\tpublic static void match(Nut[] nut, Bolt[] bolt, int low, int hi)\r\n\t{\r\n\t\t if (low &lt; hi)\r\n\t        {\r\n\t            // Choose last character of bolts array for nuts partition.\r\n\t            int pivot = partition(nut, low, hi, bolt[hi]); //here is where im having a problem\r\n\t \r\n\t            // Now using the partition of nuts choose that for bolts\r\n\t            // partition.\r\n\t            partition(bolt, low, hi, nut[pivot]);\r\n\t \r\n\t            match(nut, bolt, low, pivot-1);\r\n\t            match(nut, bolt, pivot+1, hi);\r\n\t        }\r\n\t}\r\n\tprivate static int partition(Bolt[] bolt, int low, int high, Nut pivot)\r\n    {\r\n        int i = low;\r\n        Bolt temp1, temp2;\r\n        for (int j = low; j &lt; high; j++)\r\n        {\r\n        \t//int  cmp = Nut.compareTo(bolt[j]);\r\n        \t\r\n            if (bolt[j].getDigit(i) &lt; pivot.getDigit(i)){\r\n                temp1 = bolt[i];\r\n                bolt[i] = bolt[j];\r\n                bolt[j] = temp1;\r\n                i++;\r\n            } else if(bolt[j].getDigit(i) == pivot.getDigit(i)){\r\n                temp1 = bolt[j];\r\n                bolt[j] = bolt[high];\r\n                bolt[high] = temp1;\r\n                j--;\r\n            }\r\n        }\r\n        temp2 = bolt[i];\r\n        bolt[i] = bolt[high];\r\n        bolt[high] = temp2;\r\n \r\n        // Return the partition index of an array based on the pivot \r\n        // element of other array.\r\n        return i;\r\n    }\r\n    }\r\n     class Bolt {\r\n\t\r\n\tfinal private static int SIZE = 7;\r\n\t\r\n\tprivate int[] notches;\r\n\t\r\n\t// A Bolt object is basically a seven digit number.\r\n\tpublic Bolt(Random r) {\r\n\t\tnotches = new int[SIZE];\r\n\t\tfor (int i=0; i&lt;notches.length; i++)\r\n\t\t\tnotches[i] = r.nextInt(10);\r\n\t}\r\n\t\r\n\t// A standard constructor given the information stored in a Bolt.\r\n\tpublic Bolt(int[] digits) {\r\n\t\tnotches = new int[digits.length];\r\n\t\tfor (int i=0; i&lt;SIZE; i++)\r\n\t\t\tnotches[i] = digits[i];\r\n\t}\r\n\t\r\n\t// Needed to access each digit of a Bolt.\r\n\tpublic int getDigit(int i) {\r\n\t\treturn notches[i];\r\n\t}\r\n\t\r\n\t// Made this work the opposite of the corresponding comparison. Surprisingly\r\n\t// it&#39;s not a circular definition, just a consistent one.\r\n\tpublic int compareTo(Nut n) {\r\n\t\treturn -n.compareTo(this);\r\n\t}\r\n\t\r\n\t// Return a matching Nut. A matching nut is one who&#39;s number has each digit\r\n\t// be its complement. A complement to a digit is its difference from 9.\r\n\tpublic Nut getMatchingNut() {\r\n\t\tint[] tmp = new int[SIZE];\r\n\t\t\r\n\t\t// We set each digit for the match.\r\n\t\tfor (int i=0; i&lt;SIZE; i++)\r\n\t\t\ttmp[i] = 9 - notches[i];\r\n\t\t\t\r\n\t\t// Now create the object and return it.\r\n\t\tNut match = new Nut(tmp);\r\n\t\treturn match;\r\n\t}\r\n\t\r\n\t// For debugging purposes.\r\n\t/*public void print() {\r\n\t\tfor (int i=0; i&lt;SIZE; i++) \r\n\t\t\tSystem.out.print(notches[SIZE-1-i]);\r\n\t}*/\r\n    }\r\n      class Nut {\r\n\t\r\n\tfinal private static int SIZE = 7;\r\n\t\r\n\tprivate int[] notches;\r\n\t\r\n\t// A Nut object is basically a seven digit number.\r\n\tpublic Nut(Random r) {\r\n\t\tnotches = new int[SIZE];\r\n\t\tfor (int i=0; i&lt;notches.length; i++)\r\n\t\t\tnotches[i] = r.nextInt(10);\r\n\t}\r\n\t\r\n\t// A standard constructor given the information stored in a Nut.\r\n\tpublic Nut(int[] digits) {\r\n\t\tnotches = new int[SIZE];\r\n\t\tfor (int i=0; i&lt;SIZE; i++)\r\n\t\t\tnotches[i] = digits[i];\r\n\t}\r\n\t\r\n\t// Need this to access a single digit.\r\n\tpublic int getDigit(int i) {\r\n\t\treturn notches[i];\r\n\t}\r\n\t\r\n\t// Here we define a compareTo.\r\n\tpublic int compareTo(Bolt n) {\r\n\t\tint[] tmp = new int[SIZE];\r\n\t\tint carry = 0;\r\n\t\tboolean low = false;\r\n\t\t\r\n\t\t// Add up the numbers stored in this and n.\r\n\t\tfor (int i=0; i&lt;SIZE; i++) {\r\n\t\t\ttmp[i] = (carry + notches[i] + n.getDigit(i))%10;\r\n\t\t\tcarry = (carry + notches[i] + n.getDigit(i))/10;\r\n\t\t\tif (tmp[i] &lt; 9)\r\n\t\t\t\tlow = true;\r\n\t\t}\r\n\t\t\r\n\t\t// Our sum is a bunch of 9s, so we&#39;ve got a match!\r\n\t\tif (tmp[SIZE-1] == 9 &amp;&amp; !low)\r\n\t\t\treturn 0;\r\n\t\t\r\n\t\t// Our sum is too big, so make this nut too big.\r\n\t\telse if (carry &gt; 0)\r\n\t\t\treturn 1;\r\n\t\t\t\r\n\t\t// Opposite case.\r\n\t\telse \r\n\t\t\treturn -1;\t\r\n\t}\r\n\t\r\n\t// Works just like the mirror method in the Bolt class.\r\n\tpublic Bolt getMatchingBolt() {\r\n\t\tint[] tmp = new int[SIZE];\r\n\t\tfor (int i=0; i&lt;7; i++)\r\n\t\t\ttmp[i] = 9 - notches[i];\r\n\t\treturn new Bolt(tmp);\r\n\t}\r\n\t\r\n\t// For debugging purposes.\r\n\t/*public void print() {\r\n\t\tfor (int i=0; i&lt;SIZE; i++) \r\n\t\t\tSystem.out.print(notches[SIZE-1-i]);\r\n\t}*/\r\n\t\r\n    }\r\n     class NutsBolts {\r\n\t\t\r\n\t\t// Returns true iff each nut and each corresponding bolt in the two\r\n\t\t// respective arrays match eacy other.\r\n\t\tpublic static boolean correctFit(Nut[] nuts, Bolt[] bolts) {\r\n\t\t\t\r\n\t\t\t// Try out each corresponding nut and bolt.\r\n\t\t\tfor (int i=0; i&lt;nuts.length; i++)\t\r\n\t\t\t\r\n\t\t\t\t// See if these don&#39;t match.\r\n\t\t\t\tif (nuts[i].compareTo(bolts[i]) != 0)\r\n\t\t\t\t\treturn  false;\r\n\t\t\t\t\t\r\n\t\t\t// If we get here, they all matched.\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\t// Creates an array of Bolt objects with size number of elements utilizing\r\n\t\t// r.\r\n\t\tpublic static Bolt[] makeRandomBolts(Random r, int size) {\r\n\t\t\t\r\n\t\t\t// Allocate space for our bolts,\r\n\t\t\tBolt[] tmp = new Bolt[size];\r\n\t\t\t\r\n\t\t\t// Just create each object here and return the array.\r\n\t\t\tfor (int i=0; i&lt;size; i++)\r\n\t\t\t\ttmp[i] = new Bolt(r);\r\n\t\t\treturn tmp;\r\n\t\t}\r\n\t\t\r\n\t\t// Creates an array of matching nuts to the array of bolts passed in.\r\n\t\t// It scrambles the nuts though, so that they are no longer in the correct\r\n\t\t// locations.\r\n\t\tpublic static Nut[] makeMatchingNuts(Random r, Bolt[] bolts) {\r\n\t\t\t\r\n\t\t\t// Create the array, and add in each matching nut.\r\n\t\t\tNut[] tmp = new Nut[bolts.length];\r\n\t\t\tfor (int i=0; i&lt;bolts.length; i++) {\r\n\t\t\t\ttmp[i] = bolts[i].getMatchingNut();\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\t// Here we mix the array of nuts up.\r\n\t\t\tfor (int i=0; i&lt;3*bolts.length; i++) {\r\n\t\t\t\t\r\n\t\t\t\t// Get two random indexes.\r\n\t\t\t\tint index1 = r.nextInt(bolts.length);\r\n\t\t\t\tint index2 = r.nextInt(bolts.length);\r\n\t\t\t\t\r\n\t\t\t\t// Swap them!\r\n\t\t\t\tNut store = tmp[index1];\r\n\t\t\t\ttmp[index1] = tmp[index2];\r\n\t\t\t\ttmp[index2] = store;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Return our array of mixed up, but matching nuts.\r\n\t\t\treturn tmp;\r\n\t\t}\r\n\t}","title":"How to implement quicksort with two objects","body":"<p>I am trying to sort two object arrays. One array is a <code>Bolt[]</code> array, the other is a <code>Nut[]</code> array. I cannot compare a Bolt to another Bolt. I can only compare a bolt to a nut, and vice versa. </p>\n\n<p>I think the solution is to use some adapted version of quicksort, but I am having trouble implementing it. Given the code I have written, <code>MatchNutsBolt</code>, I am not sure what I can do to make it work:</p>\n\n<pre><code>int pivot = partition(nut, low, hi, bolt[hi])\n</code></pre>\n\n<p>I cant think of how to use, say, a <code>Nut</code> pivot, then traverse the <code>Bolt[]</code> list, then use the matching <code>Bolt</code>s pivot and traverse though the <code>Nuts[]</code> list, thereby sorting both arrays with an average <code>O(n log n)</code> run time.  </p>\n\n<pre><code>public class MatchNutsBolts {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Random r = new Random(20);\n\n     Bolt[] listOfBolts = NutsBolts.makeRandomBolts(r, 7);\n     Nut[] listOfNuts = NutsBolts.makeMatchingNuts(r, listOfBolts);\n\n     int low = 0;\n     int hi = listOfBolts.length-1;\n\n\n     match(listOfNuts, listOfBolts, low, hi);\n\n     boolean x = NutsBolts.correctFit(listOfNuts, listOfBolts);\n     System.out.print(x+\" \");\n}\n\npublic static void match(Nut[] nut, Bolt[] bolt, int low, int hi)\n{\n     if (low &lt; hi)\n        {\n            // Choose last character of bolts array for nuts partition.\n            int pivot = partition(nut, low, hi, bolt[hi]); //here is where im having a problem\n\n            // Now using the partition of nuts choose that for bolts\n            // partition.\n            partition(bolt, low, hi, nut[pivot]);\n\n            match(nut, bolt, low, pivot-1);\n            match(nut, bolt, pivot+1, hi);\n        }\n}\nprivate static int partition(Bolt[] bolt, int low, int high, Nut pivot)\n{\n    int i = low;\n    Bolt temp1, temp2;\n    for (int j = low; j &lt; high; j++)\n    {\n        //int  cmp = Nut.compareTo(bolt[j]);\n\n        if (bolt[j].getDigit(i) &lt; pivot.getDigit(i)){\n            temp1 = bolt[i];\n            bolt[i] = bolt[j];\n            bolt[j] = temp1;\n            i++;\n        } else if(bolt[j].getDigit(i) == pivot.getDigit(i)){\n            temp1 = bolt[j];\n            bolt[j] = bolt[high];\n            bolt[high] = temp1;\n            j--;\n        }\n    }\n    temp2 = bolt[i];\n    bolt[i] = bolt[high];\n    bolt[high] = temp2;\n\n    // Return the partition index of an array based on the pivot \n    // element of other array.\n    return i;\n}\n}\n class Bolt {\n\nfinal private static int SIZE = 7;\n\nprivate int[] notches;\n\n// A Bolt object is basically a seven digit number.\npublic Bolt(Random r) {\n    notches = new int[SIZE];\n    for (int i=0; i&lt;notches.length; i++)\n        notches[i] = r.nextInt(10);\n}\n\n// A standard constructor given the information stored in a Bolt.\npublic Bolt(int[] digits) {\n    notches = new int[digits.length];\n    for (int i=0; i&lt;SIZE; i++)\n        notches[i] = digits[i];\n}\n\n// Needed to access each digit of a Bolt.\npublic int getDigit(int i) {\n    return notches[i];\n}\n\n// Made this work the opposite of the corresponding comparison. Surprisingly\n// it's not a circular definition, just a consistent one.\npublic int compareTo(Nut n) {\n    return -n.compareTo(this);\n}\n\n// Return a matching Nut. A matching nut is one who's number has each digit\n// be its complement. A complement to a digit is its difference from 9.\npublic Nut getMatchingNut() {\n    int[] tmp = new int[SIZE];\n\n    // We set each digit for the match.\n    for (int i=0; i&lt;SIZE; i++)\n        tmp[i] = 9 - notches[i];\n\n    // Now create the object and return it.\n    Nut match = new Nut(tmp);\n    return match;\n}\n\n// For debugging purposes.\n/*public void print() {\n    for (int i=0; i&lt;SIZE; i++) \n        System.out.print(notches[SIZE-1-i]);\n}*/\n}\n  class Nut {\n\nfinal private static int SIZE = 7;\n\nprivate int[] notches;\n\n// A Nut object is basically a seven digit number.\npublic Nut(Random r) {\n    notches = new int[SIZE];\n    for (int i=0; i&lt;notches.length; i++)\n        notches[i] = r.nextInt(10);\n}\n\n// A standard constructor given the information stored in a Nut.\npublic Nut(int[] digits) {\n    notches = new int[SIZE];\n    for (int i=0; i&lt;SIZE; i++)\n        notches[i] = digits[i];\n}\n\n// Need this to access a single digit.\npublic int getDigit(int i) {\n    return notches[i];\n}\n\n// Here we define a compareTo.\npublic int compareTo(Bolt n) {\n    int[] tmp = new int[SIZE];\n    int carry = 0;\n    boolean low = false;\n\n    // Add up the numbers stored in this and n.\n    for (int i=0; i&lt;SIZE; i++) {\n        tmp[i] = (carry + notches[i] + n.getDigit(i))%10;\n        carry = (carry + notches[i] + n.getDigit(i))/10;\n        if (tmp[i] &lt; 9)\n            low = true;\n    }\n\n    // Our sum is a bunch of 9s, so we've got a match!\n    if (tmp[SIZE-1] == 9 &amp;&amp; !low)\n        return 0;\n\n    // Our sum is too big, so make this nut too big.\n    else if (carry &gt; 0)\n        return 1;\n\n    // Opposite case.\n    else \n        return -1;  \n}\n\n// Works just like the mirror method in the Bolt class.\npublic Bolt getMatchingBolt() {\n    int[] tmp = new int[SIZE];\n    for (int i=0; i&lt;7; i++)\n        tmp[i] = 9 - notches[i];\n    return new Bolt(tmp);\n}\n\n// For debugging purposes.\n/*public void print() {\n    for (int i=0; i&lt;SIZE; i++) \n        System.out.print(notches[SIZE-1-i]);\n}*/\n\n}\n class NutsBolts {\n\n    // Returns true iff each nut and each corresponding bolt in the two\n    // respective arrays match eacy other.\n    public static boolean correctFit(Nut[] nuts, Bolt[] bolts) {\n\n        // Try out each corresponding nut and bolt.\n        for (int i=0; i&lt;nuts.length; i++)   \n\n            // See if these don't match.\n            if (nuts[i].compareTo(bolts[i]) != 0)\n                return  false;\n\n        // If we get here, they all matched.\n        return true;\n    }\n\n    // Creates an array of Bolt objects with size number of elements utilizing\n    // r.\n    public static Bolt[] makeRandomBolts(Random r, int size) {\n\n        // Allocate space for our bolts,\n        Bolt[] tmp = new Bolt[size];\n\n        // Just create each object here and return the array.\n        for (int i=0; i&lt;size; i++)\n            tmp[i] = new Bolt(r);\n        return tmp;\n    }\n\n    // Creates an array of matching nuts to the array of bolts passed in.\n    // It scrambles the nuts though, so that they are no longer in the correct\n    // locations.\n    public static Nut[] makeMatchingNuts(Random r, Bolt[] bolts) {\n\n        // Create the array, and add in each matching nut.\n        Nut[] tmp = new Nut[bolts.length];\n        for (int i=0; i&lt;bolts.length; i++) {\n            tmp[i] = bolts[i].getMatchingNut();\n        }   \n\n        // Here we mix the array of nuts up.\n        for (int i=0; i&lt;3*bolts.length; i++) {\n\n            // Get two random indexes.\n            int index1 = r.nextInt(bolts.length);\n            int index2 = r.nextInt(bolts.length);\n\n            // Swap them!\n            Nut store = tmp[index1];\n            tmp[index1] = tmp[index2];\n            tmp[index2] = store;\n        }\n\n        // Return our array of mixed up, but matching nuts.\n        return tmp;\n    }\n}\n</code></pre>\n"},{"tags":["java","angular","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":5799702,"reputation":49,"user_id":4574249,"display_name":"aditya chava"},"score":0,"creation_date":1696699669,"post_id":77250631,"comment_id":136188056,"body_markdown":"Thanks @ch4mp for the quick answer. I should not extend the active session instead I have to end the session and redirect him to the login page, just like in the netbanking websites.","body":"Thanks @ch4mp for the quick answer. I should not extend the active session instead I have to end the session and redirect him to the login page, just like in the netbanking websites."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1696705437,"post_id":77250631,"comment_id":136188624,"body_markdown":"The net-banking application do not rely on frontends to end sessions on the authorization servers. The sessions on the authorization servers are short lived. Maybe there is a confusion: users don&#39;t login on your Spring client, they login on the authorization server. What happens on the client is the authorization of that client to act on behalf of a user who logged in on an authorization server. So maybe, what you want is shorten the user session on the authorization server.","body":"The net-banking application do not rely on frontends to end sessions on the authorization servers. The sessions on the authorization servers are short lived. Maybe there is a confusion: users don&#39;t login on your Spring client, they login on the authorization server. What happens on the client is the authorization of that client to act on behalf of a user who logged in on an authorization server. So maybe, what you want is shorten the user session on the authorization server."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696696046,"creation_date":1696696046,"answer_id":77250631,"question_id":77249815,"body_markdown":"I understand that you are trying to logout the user from Keycloak when his session on Spring OAuth2 client expires. Why that? Why do you let it expire? Why don&#39;t you try to re-activate the session on the client instead? The user might still have an active session on the authorization server, and if he doesn&#39;t, then there&#39;s no need to logout from it. \r\n\r\nIn a similar setup, I have the user details endpoint exposed by a resource server behind the Spring client. The payload returned by this endpoint include the expiration time of access token. In Angular app, I schedule a new call to this endpoint just before the access token expires. That way, the session in Spring client is kept alive, and the access token it contains are always valid.","title":"automatically logout when there session timeout in angular and spring boot oauth2 client application","body":"<p>I understand that you are trying to logout the user from Keycloak when his session on Spring OAuth2 client expires. Why that? Why do you let it expire? Why don't you try to re-activate the session on the client instead? The user might still have an active session on the authorization server, and if he doesn't, then there's no need to logout from it.</p>\n<p>In a similar setup, I have the user details endpoint exposed by a resource server behind the Spring client. The payload returned by this endpoint include the expiration time of access token. In Angular app, I schedule a new call to this endpoint just before the access token expires. That way, the session in Spring client is kept alive, and the access token it contains are always valid.</p>\n"}],"owner":{"account_id":5799702,"reputation":49,"user_id":4574249,"display_name":"aditya chava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696696046,"creation_date":1696682671,"question_id":77249815,"body_markdown":"I am using spring-security-oauth2 client for oauth2 client and my front end is angular application.\r\n\r\nI am trying to implement auto logout in case , there is a session timeout.\r\nso far I am unsuccessful.\r\n\r\nthis is my bean code.\r\nI am setting invalidSessionUrl(&quot;auth server logout url&quot;) in the httpSecurity DSL.\r\nThis is the code reference I am having https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#clearing-session-cookie-on-logout\r\n\r\n\r\n@Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n    http\r\n        .headers(headersConfig -&gt;\r\n            headersConfig\r\n                .frameOptions(HeadersConfigurer.FrameOptionsConfig::sameOrigin)\r\n        )\r\n        .sessionManagement(sessionConfig -&gt; sessionConfig.invalidSessionUrl(&quot;http://localhost:8080/authserver/logout?redirect_uri=http://localhost:8080/test&amp;client_id=test&quot;))\r\n        .authorizeHttpRequests(authorize -&gt; authorize\r\n            .anyRequest().authenticated()\r\n        )\r\n        .oauth2Login(oauth2Config -&gt; oauth2Config\r\n            .authorizationEndpoint(authorizationEndpointConfig -&gt; authorizationEndpointConfig\r\n                .authorizationRequestResolver(\r\n                    authorizationRequestResolver(clientRegistrationRepository)\r\n                )\r\n            )\r\n        )\r\n        .csrf(csrfConfig -&gt;\r\n            csrfConfig.disable()\r\n        );\r\n\r\n    return http.build();\r\n  }\r\non invalidsession, I am redirecting to the authserver logout page. But when the request is made, on session expiry it is not trying to parse the json request. Instead it show show the logout page. Is it possible?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5uJW6.png\r\n\r\n","title":"automatically logout when there session timeout in angular and spring boot oauth2 client application","body":"<p>I am using spring-security-oauth2 client for oauth2 client and my front end is angular application.</p>\n<p>I am trying to implement auto logout in case , there is a session timeout.\nso far I am unsuccessful.</p>\n<p>this is my bean code.\nI am setting invalidSessionUrl(&quot;auth server logout url&quot;) in the httpSecurity DSL.\nThis is the code reference I am having <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#clearing-session-cookie-on-logout\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#clearing-session-cookie-on-logout</a></p>\n<p>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {</p>\n<pre><code>http\n    .headers(headersConfig -&gt;\n        headersConfig\n            .frameOptions(HeadersConfigurer.FrameOptionsConfig::sameOrigin)\n    )\n    .sessionManagement(sessionConfig -&gt; sessionConfig.invalidSessionUrl(&quot;http://localhost:8080/authserver/logout?redirect_uri=http://localhost:8080/test&amp;client_id=test&quot;))\n    .authorizeHttpRequests(authorize -&gt; authorize\n        .anyRequest().authenticated()\n    )\n    .oauth2Login(oauth2Config -&gt; oauth2Config\n        .authorizationEndpoint(authorizationEndpointConfig -&gt; authorizationEndpointConfig\n            .authorizationRequestResolver(\n                authorizationRequestResolver(clientRegistrationRepository)\n            )\n        )\n    )\n    .csrf(csrfConfig -&gt;\n        csrfConfig.disable()\n    );\n\nreturn http.build();\n</code></pre>\n<p>}\non invalidsession, I am redirecting to the authserver logout page. But when the request is made, on session expiry it is not trying to parse the json request. Instead it show show the logout page. Is it possible?</p>\n<p><a href=\"https://i.stack.imgur.com/5uJW6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5uJW6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","timeout","inputstream"],"answers":[{"comments":[{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":2,"creation_date":1241057962,"post_id":805048,"comment_id":615263,"body_markdown":"+1: I don&#39;t believe that there is a reliable way to do what the OP is asking for with InputStream alone.  However, nio was created for this purpose, among others.","body":"+1: I don&#39;t believe that there is a reliable way to do what the OP is asking for with InputStream alone.  However, nio was created for this purpose, among others."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1340801029,"post_id":805048,"comment_id":14745124,"body_markdown":"OP has already basically ruled this out. InputStreams are inherently blocking and may be non-interruptible.","body":"OP has already basically ruled this out. InputStreams are inherently blocking and may be non-interruptible."}],"tags":[],"owner":{"account_id":3076,"reputation":7635,"user_id":4362,"display_name":"jt."},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1241055865,"creation_date":1241055865,"answer_id":805048,"question_id":804951,"body_markdown":"I have not used the classes from the Java NIO package, but it *seems* they might be of some help here. Specifically, [java.nio.channels.Channels][1] and [java.nio.channels.InterruptibleChannel][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/nio/channels/Channels.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/nio/channels/InterruptibleChannel.html","title":"Is it possible to read from a InputStream with a timeout?","body":"<p>I have not used the classes from the Java NIO package, but it <em>seems</em> they might be of some help here. Specifically, <a href=\"http://java.sun.com/javase/6/docs/api/java/nio/channels/Channels.html\" rel=\"noreferrer\">java.nio.channels.Channels</a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/nio/channels/InterruptibleChannel.html\" rel=\"noreferrer\">java.nio.channels.InterruptibleChannel</a>.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":6,"creation_date":1319065698,"post_id":806051,"comment_id":9543589,"body_markdown":"`Socket.setSoTimeout()` is an equally correct and much simpler solution. Or `HttpURLConnection.setReadTimeout()`.","body":"<code>Socket.setSoTimeout()</code> is an equally correct and much simpler solution. Or <code>HttpURLConnection.setReadTimeout()</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1319436988,"post_id":806051,"comment_id":9604594,"body_markdown":"@EJP - these are only &quot;equally correct&quot; under certain circumstances; e.g. if the input stream is a socket stream / HTTP connection stream.","body":"@EJP - these are only &quot;equally correct&quot; under certain circumstances; e.g. if the input stream is a socket stream / HTTP connection stream."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1319439730,"post_id":806051,"comment_id":9605047,"body_markdown":"@Stephen C NIO is only non-blocking and selectable under the same circumstances. There is no non-blocking file I/O for example.","body":"@Stephen C NIO is only non-blocking and selectable under the same circumstances. There is no non-blocking file I/O for example."},{"owner":{"account_id":74784,"reputation":4735,"user_id":214720,"accept_rate":50,"display_name":"woky"},"score":2,"creation_date":1326109990,"post_id":806051,"comment_id":10960292,"body_markdown":"@EJP but there&#39;s non-blocking pipe IO (System.in), non-blocking I/O for files (on local disk) is nonsense","body":"@EJP but there&#39;s non-blocking pipe IO (System.in), non-blocking I/O for files (on local disk) is nonsense"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1328346556,"post_id":806051,"comment_id":11488858,"body_markdown":"@woky System.in is neither non-blocking nor a pipe. I agree with your last sentence, which is why I said it.","body":"@woky System.in is neither non-blocking nor a pipe. I agree with your last sentence, which is why I said it."},{"owner":{"account_id":74784,"reputation":4735,"user_id":214720,"accept_rate":50,"display_name":"woky"},"score":1,"creation_date":1328648875,"post_id":806051,"comment_id":11555478,"body_markdown":"@EJP On most (all?) Unices System.in is actually a pipe (if you didn&#39;t tell shell to replace it with file) and as a pipe it can be non-blocking.","body":"@EJP On most (all?) Unices System.in is actually a pipe (if you didn&#39;t tell shell to replace it with file) and as a pipe it can be non-blocking."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1328694598,"post_id":806051,"comment_id":11565400,"body_markdown":"@woky System.in is a Java `InputStream,` which is neither non-blocking nor a pipe. If fd 0 happens to be a pipe it can be obtained via System.inheritedChannel() but that has nothing to do with System.in.","body":"@woky System.in is a Java <code>InputStream,</code> which is neither non-blocking nor a pipe. If fd 0 happens to be a pipe it can be obtained via System.inheritedChannel() but that has nothing to do with System.in."},{"owner":{"account_id":74784,"reputation":4735,"user_id":214720,"accept_rate":50,"display_name":"woky"},"score":1,"creation_date":1328720718,"post_id":806051,"comment_id":11575817,"body_markdown":"@EJP Arguing what InputStream isn&#39;t is plain BS since it&#39;s abstract superclass. InputStream actually _MAY_ be a pipe (hence non-blocking) and 99% of time System.in is a pipe. I can make JNI code which gets fd from System.in and do non-blocking IO without problem. But I can&#39;t do it through Java API (inheritedChanel() doesn&#39;t return SelectableChannel). Blame NIO makers. And by the way, there is no such thing as C NIO ;).","body":"@EJP Arguing what InputStream isn&#39;t is plain BS since it&#39;s abstract superclass. InputStream actually <i>MAY</i> be a pipe (hence non-blocking) and 99% of time System.in is a pipe. I can make JNI code which gets fd from System.in and do non-blocking IO without problem. But I can&#39;t do it through Java API (inheritedChanel() doesn&#39;t return SelectableChannel). Blame NIO makers. And by the way, there is no such thing as C NIO ;)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1328842960,"post_id":806051,"comment_id":11612314,"body_markdown":"@woky You&#39;re just wasting time. (1) An InputStream cannot be non-blocking, in any circumstances, regardless of what concrete class is extending it. (2) The standard input is mostly a terminal, sometimes a file, sometimes a pipe. 99% for the latter is wildly incorrect. (3) C NIO is a red herring introduced by you, as is (4) the claim that System.in is non-blocking pipe I/O, which remains false.","body":"@woky You&#39;re just wasting time. (1) An InputStream cannot be non-blocking, in any circumstances, regardless of what concrete class is extending it. (2) The standard input is mostly a terminal, sometimes a file, sometimes a pipe. 99% for the latter is wildly incorrect. (3) C NIO is a red herring introduced by you, as is (4) the claim that System.in is non-blocking pipe I/O, which remains false."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1329125856,"post_id":806051,"comment_id":11666944,"body_markdown":"@woky More timewasting. (1) and (2): socket channels and terminals can indeed be put into non-blocking mode , and (1) can be done in Java: as I never said otherwise, your point eludes me. (3) &#39;Stephen C NIO&#39; contains part of Stephen C&#39;s name, the poster I was responding to. The point of your (4) also escapes me as it doesn&#39;t contradict anything I have said. As for the rest, you still need to stop confusing the inherited Unix fd=0, an FD, with System.in, an InputStream, which cannot be put into non-blocking mode. Period. Line 264 of the code you cite uses an FD not an InputStream.","body":"@woky More timewasting. (1) and (2): socket channels and terminals can indeed be put into non-blocking mode , and (1) can be done in Java: as I never said otherwise, your point eludes me. (3) &#39;Stephen C NIO&#39; contains part of Stephen C&#39;s name, the poster I was responding to. The point of your (4) also escapes me as it doesn&#39;t contradict anything I have said. As for the rest, you still need to stop confusing the inherited Unix fd=0, an FD, with System.in, an InputStream, which cannot be put into non-blocking mode. Period. Line 264 of the code you cite uses an FD not an InputStream."}],"tags":[],"owner":{"display_name":"Merzbow"},"comment_count":10,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1241082829,"creation_date":1241082829,"answer_id":806051,"question_id":804951,"body_markdown":"As jt said, NIO is the best (and correct) solution. If you really are stuck with an InputStream though, you could either\r\n\r\n1. Spawn a thread who&#39;s exclusive job is to read from the InputStream and put the result into a buffer which can be read from your original thread without blocking. This should work well if you only ever have one instance of the stream. Otherwise you may be able to kill the thread using the deprecated methods in the Thread class, though this may cause resource leaks.\r\n\r\n2. Rely on isAvailable to indicate data that can be read without blocking. However in some cases (such as with Sockets) it can take a potentially blocking read for isAvailable to report something other than 0.\r\n","title":"Is it possible to read from a InputStream with a timeout?","body":"<p>As jt said, NIO is the best (and correct) solution. If you really are stuck with an InputStream though, you could either</p>\n\n<ol>\n<li><p>Spawn a thread who's exclusive job is to read from the InputStream and put the result into a buffer which can be read from your original thread without blocking. This should work well if you only ever have one instance of the stream. Otherwise you may be able to kill the thread using the deprecated methods in the Thread class, though this may cause resource leaks.</p></li>\n<li><p>Rely on isAvailable to indicate data that can be read without blocking. However in some cases (such as with Sockets) it can take a potentially blocking read for isAvailable to report something other than 0.</p></li>\n</ol>\n"},{"comments":[{"owner":{"display_name":"user502187"},"score":0,"creation_date":1331253350,"post_id":808795,"comment_id":12218618,"body_markdown":"doesn&#39;t work on mac os, neither with JDK 1.6 nor with JDK 1.7. The interrupt is only recognized after pressing return during the read.","body":"doesn&#39;t work on mac os, neither with JDK 1.6 nor with JDK 1.7. The interrupt is only recognized after pressing return during the read."}],"tags":[],"owner":{"display_name":"JKL"},"comment_count":1,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1241122154,"creation_date":1241122154,"answer_id":808795,"question_id":804951,"body_markdown":"Here is a way to get a NIO FileChannel from System.in and check for availability of data using a timeout, which is a special case of the problem described in the question.  Run it at the console, don&#39;t type any input, and wait for the results.  It was tested successfully under Java 6 on Windows and Linux.\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FilterInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.lang.reflect.Field;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.ClosedByInterruptException;\r\n    \r\n    public class Main {\r\n    \r\n        static final ByteBuffer buf = ByteBuffer.allocate(4096);\r\n        \r\n        public static void main(String[] args) {\r\n    \r\n            long timeout = 1000 * 5;\r\n            \r\n            try {\r\n                InputStream in = extract(System.in);\r\n                if (! (in instanceof FileInputStream))\r\n                    throw new RuntimeException(\r\n                            &quot;Could not extract a FileInputStream from STDIN.&quot;);\r\n    \r\n                try {\r\n                    int ret = maybeAvailable((FileInputStream)in, timeout);\r\n                    System.out.println(\r\n                            Integer.toString(ret) + &quot; bytes were read.&quot;);\r\n                    \r\n                } finally {\r\n                    in.close();\r\n                }\r\n                \r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n        }\r\n    \r\n        /* unravels all layers of FilterInputStream wrappers to get to the\r\n         * core InputStream\r\n         */\r\n        public static InputStream extract(InputStream in)\r\n                throws NoSuchFieldException, IllegalAccessException {\r\n    \r\n            Field f = FilterInputStream.class.getDeclaredField(&quot;in&quot;);\r\n            f.setAccessible(true);\r\n            \r\n            while( in instanceof FilterInputStream )\r\n                in = (InputStream)f.get((FilterInputStream)in);\r\n    \r\n            return in;\r\n        }\r\n    \r\n        /* Returns the number of bytes which could be read from the stream,\r\n         * timing out after the specified number of milliseconds.\r\n         * Returns 0 on timeout (because no bytes could be read)\r\n         * and -1 for end of stream.\r\n         */\r\n        public static int maybeAvailable(final FileInputStream in, long timeout)\r\n                throws IOException, InterruptedException {\r\n    \r\n            final int[] dataReady = {0};\r\n            final IOException[] maybeException = {null};\r\n            final Thread reader = new Thread() {\r\n                public void run() {                \r\n                    try {\r\n                        dataReady[0] = in.getChannel().read(buf);\r\n                    } catch (ClosedByInterruptException e) {\r\n                        System.err.println(&quot;Reader interrupted.&quot;);\r\n                    } catch (IOException e) {\r\n                        maybeException[0] = e;\r\n                    }\r\n                }\r\n            };\r\n    \r\n            Thread interruptor = new Thread() {\r\n                public void run() {\r\n                    reader.interrupt();\r\n                }\r\n            };\r\n    \r\n            reader.start();\r\n            for(;;) {\r\n                \r\n                reader.join(timeout);\r\n                if (!reader.isAlive())\r\n                    break;\r\n    \r\n                interruptor.start();\r\n                interruptor.join(1000);\r\n                reader.join(1000);\r\n                if (!reader.isAlive())\r\n                    break;\r\n    \r\n                System.err.println(&quot;We&#39;re hung&quot;);\r\n                System.exit(1);\r\n            }\r\n    \r\n            if ( maybeException[0] != null )\r\n                throw maybeException[0];\r\n    \r\n            return dataReady[0];\r\n        }\r\n    }\r\n\r\nInterestingly, when running the program inside NetBeans 6.5 rather than at the console, the timeout doesn&#39;t work at all, and the call to System.exit() is actually necessary to kill the zombie threads.  What happens is that the interruptor thread blocks (!) on the call to reader.interrupt().  Another test program (not shown here) additionally tries to close the channel, but that doesn&#39;t work either.\r\n","title":"Is it possible to read from a InputStream with a timeout?","body":"<p>Here is a way to get a NIO FileChannel from System.in and check for availability of data using a timeout, which is a special case of the problem described in the question.  Run it at the console, don't type any input, and wait for the results.  It was tested successfully under Java 6 on Windows and Linux.</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.FilterInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.lang.reflect.Field;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.ClosedByInterruptException;\n\npublic class Main {\n\n    static final ByteBuffer buf = ByteBuffer.allocate(4096);\n\n    public static void main(String[] args) {\n\n        long timeout = 1000 * 5;\n\n        try {\n            InputStream in = extract(System.in);\n            if (! (in instanceof FileInputStream))\n                throw new RuntimeException(\n                        \"Could not extract a FileInputStream from STDIN.\");\n\n            try {\n                int ret = maybeAvailable((FileInputStream)in, timeout);\n                System.out.println(\n                        Integer.toString(ret) + \" bytes were read.\");\n\n            } finally {\n                in.close();\n            }\n\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n    /* unravels all layers of FilterInputStream wrappers to get to the\n     * core InputStream\n     */\n    public static InputStream extract(InputStream in)\n            throws NoSuchFieldException, IllegalAccessException {\n\n        Field f = FilterInputStream.class.getDeclaredField(\"in\");\n        f.setAccessible(true);\n\n        while( in instanceof FilterInputStream )\n            in = (InputStream)f.get((FilterInputStream)in);\n\n        return in;\n    }\n\n    /* Returns the number of bytes which could be read from the stream,\n     * timing out after the specified number of milliseconds.\n     * Returns 0 on timeout (because no bytes could be read)\n     * and -1 for end of stream.\n     */\n    public static int maybeAvailable(final FileInputStream in, long timeout)\n            throws IOException, InterruptedException {\n\n        final int[] dataReady = {0};\n        final IOException[] maybeException = {null};\n        final Thread reader = new Thread() {\n            public void run() {                \n                try {\n                    dataReady[0] = in.getChannel().read(buf);\n                } catch (ClosedByInterruptException e) {\n                    System.err.println(\"Reader interrupted.\");\n                } catch (IOException e) {\n                    maybeException[0] = e;\n                }\n            }\n        };\n\n        Thread interruptor = new Thread() {\n            public void run() {\n                reader.interrupt();\n            }\n        };\n\n        reader.start();\n        for(;;) {\n\n            reader.join(timeout);\n            if (!reader.isAlive())\n                break;\n\n            interruptor.start();\n            interruptor.join(1000);\n            reader.join(1000);\n            if (!reader.isAlive())\n                break;\n\n            System.err.println(\"We're hung\");\n            System.exit(1);\n        }\n\n        if ( maybeException[0] != null )\n            throw maybeException[0];\n\n        return dataReady[0];\n    }\n}\n</code></pre>\n\n<p>Interestingly, when running the program inside NetBeans 6.5 rather than at the console, the timeout doesn't work at all, and the call to System.exit() is actually necessary to kill the zombie threads.  What happens is that the interruptor thread blocks (!) on the call to reader.interrupt().  Another test program (not shown here) additionally tries to close the channel, but that doesn't work either.</p>\n"},{"tags":[],"owner":{"account_id":611,"reputation":5077,"user_id":799,"accept_rate":100,"display_name":"Templar"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1410939298,"creation_date":1315287383,"answer_id":7315373,"question_id":804951,"body_markdown":"If your InputStream is backed by a Socket, you can set a Socket timeout (in milliseconds) using [setSoTimeout][1].  If the read() call doesn&#39;t unblock within the timeout specified, it will throw a SocketTimeoutException.\r\n\r\nJust make sure that you call setSoTimeout on the Socket before making the read() call.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout%28int%29","title":"Is it possible to read from a InputStream with a timeout?","body":"<p>If your InputStream is backed by a Socket, you can set a Socket timeout (in milliseconds) using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout%28int%29\" rel=\"noreferrer\">setSoTimeout</a>.  If the read() call doesn't unblock within the timeout specified, it will throw a SocketTimeoutException.</p>\n\n<p>Just make sure that you call setSoTimeout on the Socket before making the read() call.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":10,"creation_date":1319437236,"post_id":7829362,"comment_id":9604640,"body_markdown":"There are other situations where a read could potentially block for a significant time; e.g. when reading from a tape drive, from a remotely mounted network drive or from an HFS with a tape robot at the back end.  (But the main thrust of your answer is right.)","body":"There are other situations where a read could potentially block for a significant time; e.g. when reading from a tape drive, from a remotely mounted network drive or from an HFS with a tape robot at the back end.  (But the main thrust of your answer is right.)"},{"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"score":1,"creation_date":1368441044,"post_id":7829362,"comment_id":23719119,"body_markdown":"@StephenC +1 for your comment and examples. To add more your example, a simple case could be where socket connections was made correctly but read attempt was blocked as the data was to be fetched from DB but it somehow didn&#39;t happen (lets&#39; say DB was not responding to and query went in Locked state). In this scenario you need to have a way to explicitly timeout the read operation on socket.","body":"@StephenC +1 for your comment and examples. To add more your example, a simple case could be where socket connections was made correctly but read attempt was blocked as the data was to be fetched from DB but it somehow didn&#39;t happen (lets&#39; say DB was not responding to and query went in Locked state). In this scenario you need to have a way to explicitly timeout the read operation on socket."},{"owner":{"account_id":479856,"reputation":3437,"user_id":892771,"display_name":"pellucide"},"score":1,"creation_date":1463021873,"post_id":7829362,"comment_id":61887453,"body_markdown":"The whole point of the InputStream abstraction is to not think about the underlying implementation. Its fair to argue about the pros and cons of the posted answers. But, to question the problem statement, is not going to help the disussion","body":"The whole point of the InputStream abstraction is to not think about the underlying implementation. Its fair to argue about the pros and cons of the posted answers. But, to question the problem statement, is not going to help the disussion"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1463026339,"post_id":7829362,"comment_id":61888545,"body_markdown":"@pellucide The whole point of the `InputStream` is that it doesn&#39;t have a timeout method, and neither do most of the underlying implementations. `Sockets` are a prominent exception and the only one I can think of off-hand. Ignoring facts is not going to help the discussion.","body":"@pellucide The whole point of the <code>InputStream</code> is that it doesn&#39;t have a timeout method, and neither do most of the underlying implementations. <code>Sockets</code> are a prominent exception and the only one I can think of off-hand. Ignoring facts is not going to help the discussion."},{"owner":{"account_id":479856,"reputation":3437,"user_id":892771,"display_name":"pellucide"},"score":3,"creation_date":1463027636,"post_id":7829362,"comment_id":61888884,"body_markdown":"InputStream works on a stream and it blocks, yet it does not provide a timeout mechanism. So the InputStream abstraction is not an aptly designed abstraction. Hence asking for a way to timeout on a stream isn&#39;t asking for much. So the question is asking for a solution to a very practical problem. \nMost of the underlying implementations will block. Thats the very essence of a stream. Sockets, Files, Pipes will block if the other side of the stream isn&#39;t ready with new data.","body":"InputStream works on a stream and it blocks, yet it does not provide a timeout mechanism. So the InputStream abstraction is not an aptly designed abstraction. Hence asking for a way to timeout on a stream isn&#39;t asking for much. So the question is asking for a solution to a very practical problem.  Most of the underlying implementations will block. Thats the very essence of a stream. Sockets, Files, Pipes will block if the other side of the stream isn&#39;t ready with new data."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1464396084,"post_id":7829362,"comment_id":62484310,"body_markdown":"@pellucide So you agree with me in questioning the problem statement.","body":"@pellucide So you agree with me in questioning the problem statement."},{"owner":{"account_id":479856,"reputation":3437,"user_id":892771,"display_name":"pellucide"},"score":2,"creation_date":1464707762,"post_id":7829362,"comment_id":62587619,"body_markdown":"@EJP. I dont know how you got that. I didn&#39;t agree with you. The problem statement &quot;how to timeout on a InputStream&quot; is valid. Since the framework doesn&#39;t provide a way to timeout, it is appropriate to ask such a question.","body":"@EJP. I dont know how you got that. I didn&#39;t agree with you. The problem statement &quot;how to timeout on a InputStream&quot; is valid. Since the framework doesn&#39;t provide a way to timeout, it is appropriate to ask such a question."},{"owner":{"account_id":23045,"reputation":4040,"user_id":57461,"accept_rate":55,"display_name":"Pod"},"score":1,"creation_date":1490271927,"post_id":7829362,"comment_id":73043821,"body_markdown":"This is a terrible answer. There&#39;s no need to &#39;question the problem statement&#39;. As an example: The Android BluetoothSocket has no way to set a timeout and only presents an InputStream over its API. It&#39;ll happily block forever on a read(). But according to this answer every App is &quot;poorly designed&quot;. (I&#39;d happily agree that the Android BT framework is poorly designed, however)","body":"This is a terrible answer. There&#39;s no need to &#39;question the problem statement&#39;. As an example: The Android BluetoothSocket has no way to set a timeout and only presents an InputStream over its API. It&#39;ll happily block forever on a read(). But according to this answer every App is &quot;poorly designed&quot;. (I&#39;d happily agree that the Android BT framework is poorly designed, however)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1490310267,"post_id":7829362,"comment_id":73068693,"body_markdown":"@Pod That is a terrible comment. You have completely misread the answer. Any application that leaves setting the read timeout to an arbitrary point in application where all it has is an input stream is poorly designed. As there are no such applications except for this one, because they can&#39;t be written that way, that means exactly one application. The timeout should indeed be set on the socket, not the input stream, and that is what it says in my answer, and what is wrong with the question, and the problem statement.","body":"@Pod That is a terrible comment. You have completely misread the answer. Any application that leaves setting the read timeout to an arbitrary point in application where all it has is an input stream is poorly designed. As there are no such applications except for this one, because they can&#39;t be written that way, that means exactly one application. The timeout should indeed be set on the socket, not the input stream, and that is what it says in my answer, and what is wrong with the question, and the problem statement."},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1528295938,"post_id":7829362,"comment_id":88454623,"body_markdown":"@EJP what if the setSoTimeout is insufficient, which seems to be the case in this question: https://stackoverflow.com/questions/50721594/modify-so-timeout-between-consecutive-reads","body":"@EJP what if the setSoTimeout is insufficient, which seems to be the case in this question: <a href=\"https://stackoverflow.com/questions/50721594/modify-so-timeout-between-consecutive-reads\" title=\"modify so timeout between consecutive reads\">stackoverflow.com/questions/50721594/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1528787616,"post_id":7829362,"comment_id":88627806,"body_markdown":"@bvdb The question doesn&#39;t really mean anything as stated. If `setSoTimeout()` isn&#39;t sufficient, what would be? And NB your assertion in that question that it doesn&#39;t work for client sockets is not correct.","body":"@bvdb The question doesn&#39;t really mean anything as stated. If <code>setSoTimeout()</code> isn&#39;t sufficient, what would be? And NB your assertion in that question that it doesn&#39;t work for client sockets is not correct."},{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":0,"creation_date":1542957008,"post_id":7829362,"comment_id":93756960,"body_markdown":"That you need only timeouts when reading from the console or sockets is not true. There are situations where you need timeouts when reading from pipes or followed files.","body":"That you need only timeouts when reading from the console or sockets is not true. There are situations where you need timeouts when reading from pipes or followed files."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":12,"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1319066238,"creation_date":1319066238,"answer_id":7829362,"question_id":804951,"body_markdown":"I would question the problem statement rather than just accept it blindly. You only need timeouts from the console or over the network. If the latter you have `Socket.setSoTimeout()` and `HttpURLConnection.setReadTimeout()` which both do exactly what is required, as long as you set them up correctly when you construct/acquire them. Leaving it to an arbitrary point later in the application when all you have is the InputStream is poor design leading to a very awkward implementation.","title":"Is it possible to read from a InputStream with a timeout?","body":"<p>I would question the problem statement rather than just accept it blindly. You only need timeouts from the console or over the network. If the latter you have <code>Socket.setSoTimeout()</code> and <code>HttpURLConnection.setReadTimeout()</code> which both do exactly what is required, as long as you set them up correctly when you construct/acquire them. Leaving it to an arbitrary point later in the application when all you have is the InputStream is poor design leading to a very awkward implementation.</p>\n"},{"comments":[{"owner":{"account_id":482571,"reputation":3920,"user_id":897041,"accept_rate":87,"display_name":"Muhammad Gelbana"},"score":17,"creation_date":1348601875,"post_id":9832633,"comment_id":16966733,"body_markdown":"But what about the blocking thread ?! Will it stay in the memory till the application terminates ? If I&#39;m correct, this may produce endless threads the application is heavy loaded and even more, block further threads from using your pool which has it&#39;s threads occupied and blocked. Please correct me if I&#39;m wrong. Thank you.","body":"But what about the blocking thread ?! Will it stay in the memory till the application terminates ? If I&#39;m correct, this may produce endless threads the application is heavy loaded and even more, block further threads from using your pool which has it&#39;s threads occupied and blocked. Please correct me if I&#39;m wrong. Thank you."},{"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"score":4,"creation_date":1352372973,"post_id":9832633,"comment_id":18116817,"body_markdown":"Muhammad Gelbana, you are right: the blocking read() thread stays running and that is not OK. I have found a way to prevent this though: when the timeout hits, close from the calling thread the input stream (in my case I close the android bluetooth socket from which the input stream comes). When you do that, the read() call will return immediately.. Well in my case I use the int read(byte[]) overload, and that one returns immediately. Maybe the int read() overload would throw an IOException since I don&#39;t know what it would return... To my mind that is the proper solution.","body":"Muhammad Gelbana, you are right: the blocking read() thread stays running and that is not OK. I have found a way to prevent this though: when the timeout hits, close from the calling thread the input stream (in my case I close the android bluetooth socket from which the input stream comes). When you do that, the read() call will return immediately.. Well in my case I use the int read(byte[]) overload, and that one returns immediately. Maybe the int read() overload would throw an IOException since I don&#39;t know what it would return... To my mind that is the proper solution."},{"owner":{"account_id":258240,"reputation":6015,"user_id":540286,"display_name":"Ortwin Angermeier"},"score":5,"creation_date":1377160008,"post_id":9832633,"comment_id":26982136,"body_markdown":"-1 as the threads reading stay blocked until the application terminates.","body":"-1 as the threads reading stay blocked until the application terminates."},{"owner":{"account_id":207215,"reputation":2008,"user_id":456956,"display_name":"Ian Jones"},"score":11,"creation_date":1377594356,"post_id":9832633,"comment_id":27131396,"body_markdown":"@ortang That&#39;s kind of what I meant by &quot;catch the TimeoutException and do whatever cleanup...&quot; For example I might want to kill the reading thread: ... catch (TimeoutException e) { executor.shutdownNow(); }","body":"@ortang That&#39;s kind of what I meant by &quot;catch the TimeoutException and do whatever cleanup...&quot; For example I might want to kill the reading thread: ... catch (TimeoutException e) { executor.shutdownNow(); }"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":13,"creation_date":1410854858,"post_id":9832633,"comment_id":40471147,"body_markdown":"`executer.shutdownNow` will not kill the thread. It will try to interrupt it, with no effect. There is no cleanup possible and this is a serious issue.","body":"<code>executer.shutdownNow</code> will not kill the thread. It will try to interrupt it, with no effect. There is no cleanup possible and this is a serious issue."},{"owner":{"account_id":686808,"reputation":1236,"user_id":547780,"accept_rate":38,"display_name":"AbuZubair"},"score":0,"creation_date":1430951244,"post_id":9832633,"comment_id":48290556,"body_markdown":"If you want to kill the thread, the best thing to do is to close the input stream after catching the TimeoutException.","body":"If you want to kill the thread, the best thing to do is to close the input stream after catching the TimeoutException."},{"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"score":0,"creation_date":1441947048,"post_id":9832633,"comment_id":52889745,"body_markdown":"Should use buffers for I/O - java hands this task to the O/S for high performance. Java threads managing byte-by-byte are inefficient.  If you apply buffering, your method doesn&#39;t handle this scenario:  i) buffer empty ii) 2 second timeout  iii) 50% of the buffer full within the 2 sec iv) want to read &amp; return the 50% &amp; not wait for 100% buffer fill.  i.e. We&#39;d always have a loop around calls to maybeRead(InputStream in, long timeout).","body":"Should use buffers for I/O - java hands this task to the O/S for high performance. Java threads managing byte-by-byte are inefficient.  If you apply buffering, your method doesn&#39;t handle this scenario:  i) buffer empty ii) 2 second timeout  iii) 50% of the buffer full within the 2 sec iv) want to read &amp; return the 50% &amp; not wait for 100% buffer fill.  i.e. We&#39;d always have a loop around calls to maybeRead(InputStream in, long timeout)."},{"owner":{"account_id":1629382,"reputation":4240,"user_id":1504248,"accept_rate":71,"display_name":"Enyby"},"score":0,"creation_date":1477165488,"post_id":9832633,"comment_id":67658506,"body_markdown":"You can make field with buffer and fill it. If Timeout occur you can read any info from buffer if it present here. See code of `readLine()` and make similar code but inside `call()` of `Future`.","body":"You can make field with buffer and fill it. If Timeout occur you can read any info from buffer if it present here. See code of <code>readLine()</code> and make similar code but inside <code>call()</code> of <code>Future</code>."},{"owner":{"account_id":11783353,"reputation":316,"user_id":8622053,"display_name":"Daniel Chin"},"score":1,"creation_date":1690970877,"post_id":9832633,"comment_id":135426143,"body_markdown":"This suggestion is also not &quot;blocking&quot;. It is busy-wait / spinlock.","body":"This suggestion is also not &quot;blocking&quot;. It is busy-wait / spinlock."}],"tags":[],"owner":{"account_id":207215,"reputation":2008,"user_id":456956,"display_name":"Ian Jones"},"comment_count":9,"down_vote_count":8,"up_vote_count":82,"is_accepted":false,"score":74,"last_activity_date":1332463179,"creation_date":1332463179,"answer_id":9832633,"question_id":804951,"body_markdown":"Assuming your stream is not backed by a socket (so you can&#39;t use `Socket.setSoTimeout()`), I think the standard way of solving this type of problem is to use a Future.\r\n\r\nSuppose I have the following executor and streams:\r\n\r\n        ExecutorService executor = Executors.newFixedThreadPool(2);\r\n        final PipedOutputStream outputStream = new PipedOutputStream();\r\n        final PipedInputStream inputStream = new PipedInputStream(outputStream);\r\n\r\nI have writer that writes some data then waits for 5 seconds before writing the last piece of data and closing the stream:\r\n\r\n        Runnable writeTask = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    outputStream.write(1);\r\n                    outputStream.write(2);\r\n                    Thread.sleep(5000);\r\n                    outputStream.write(3);\r\n                    outputStream.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n        executor.submit(writeTask);\r\n\r\nThe normal way of reading this is as follows. The read will block indefinitely for data and so this completes in 5s:\r\n\r\n        long start = currentTimeMillis();\r\n        int readByte = 1;\r\n        // Read data without timeout\r\n        while (readByte &gt;= 0) {\r\n            readByte = inputStream.read();\r\n            if (readByte &gt;= 0)\r\n                System.out.println(&quot;Read: &quot; + readByte);\r\n        }\r\n        System.out.println(&quot;Complete in &quot; + (currentTimeMillis() - start) + &quot;ms&quot;);\r\n\r\nwhich outputs:\r\n\r\n    Read: 1\r\n    Read: 2\r\n    Read: 3\r\n    Complete in 5001ms\r\n\r\nIf there was a more fundamental problem, like the writer not responding, the reader would block for ever. \r\nIf I wrap the read in a future, I can then control the timeout as follows:\r\n\r\n        int readByte = 1;\r\n        // Read data with timeout\r\n        Callable&lt;Integer&gt; readTask = new Callable&lt;Integer&gt;() {\r\n            @Override\r\n            public Integer call() throws Exception {\r\n                return inputStream.read();\r\n            }\r\n        };\r\n        while (readByte &gt;= 0) {\r\n            Future&lt;Integer&gt; future = executor.submit(readTask);\r\n            readByte = future.get(1000, TimeUnit.MILLISECONDS);\r\n            if (readByte &gt;= 0)\r\n                System.out.println(&quot;Read: &quot; + readByte);\r\n        }\r\n\r\nwhich outputs:\r\n\r\n    Read: 1\r\n    Read: 2\r\n    Exception in thread &quot;main&quot; java.util.concurrent.TimeoutException\r\n    \tat java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:228)\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:91)\r\n    \tat test.InputStreamWithTimeoutTest.main(InputStreamWithTimeoutTest.java:74)\r\n\r\nI can catch the TimeoutException and do whatever cleanup I want.","title":"Is it possible to read from a InputStream with a timeout?","body":"<p>Assuming your stream is not backed by a socket (so you can't use <code>Socket.setSoTimeout()</code>), I think the standard way of solving this type of problem is to use a Future.</p>\n\n<p>Suppose I have the following executor and streams:</p>\n\n<pre><code>    ExecutorService executor = Executors.newFixedThreadPool(2);\n    final PipedOutputStream outputStream = new PipedOutputStream();\n    final PipedInputStream inputStream = new PipedInputStream(outputStream);\n</code></pre>\n\n<p>I have writer that writes some data then waits for 5 seconds before writing the last piece of data and closing the stream:</p>\n\n<pre><code>    Runnable writeTask = new Runnable() {\n        @Override\n        public void run() {\n            try {\n                outputStream.write(1);\n                outputStream.write(2);\n                Thread.sleep(5000);\n                outputStream.write(3);\n                outputStream.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    };\n    executor.submit(writeTask);\n</code></pre>\n\n<p>The normal way of reading this is as follows. The read will block indefinitely for data and so this completes in 5s:</p>\n\n<pre><code>    long start = currentTimeMillis();\n    int readByte = 1;\n    // Read data without timeout\n    while (readByte &gt;= 0) {\n        readByte = inputStream.read();\n        if (readByte &gt;= 0)\n            System.out.println(\"Read: \" + readByte);\n    }\n    System.out.println(\"Complete in \" + (currentTimeMillis() - start) + \"ms\");\n</code></pre>\n\n<p>which outputs:</p>\n\n<pre><code>Read: 1\nRead: 2\nRead: 3\nComplete in 5001ms\n</code></pre>\n\n<p>If there was a more fundamental problem, like the writer not responding, the reader would block for ever. \nIf I wrap the read in a future, I can then control the timeout as follows:</p>\n\n<pre><code>    int readByte = 1;\n    // Read data with timeout\n    Callable&lt;Integer&gt; readTask = new Callable&lt;Integer&gt;() {\n        @Override\n        public Integer call() throws Exception {\n            return inputStream.read();\n        }\n    };\n    while (readByte &gt;= 0) {\n        Future&lt;Integer&gt; future = executor.submit(readTask);\n        readByte = future.get(1000, TimeUnit.MILLISECONDS);\n        if (readByte &gt;= 0)\n            System.out.println(\"Read: \" + readByte);\n    }\n</code></pre>\n\n<p>which outputs:</p>\n\n<pre><code>Read: 1\nRead: 2\nException in thread \"main\" java.util.concurrent.TimeoutException\n    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:228)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:91)\n    at test.InputStreamWithTimeoutTest.main(InputStreamWithTimeoutTest.java:74)\n</code></pre>\n\n<p>I can catch the TimeoutException and do whatever cleanup I want.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1439688322,"post_id":16313762,"comment_id":51963305,"body_markdown":"If `is.available() &gt; 1024` this suggestion will fail. There are certainly streams which do return zero. SSLSockets for example until recently. You can&#39;t rely on this.","body":"If <code>is.available() &gt; 1024</code> this suggestion will fail. There are certainly streams which do return zero. SSLSockets for example until recently. You can&#39;t rely on this."},{"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"score":0,"creation_date":1441945252,"post_id":16313762,"comment_id":52889234,"body_markdown":"The case &#39;is.available() &gt; 1024&#39; is specifically dealt with via readLength.","body":"The case &#39;is.available() &gt; 1024&#39; is specifically dealt with via readLength."},{"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"score":0,"creation_date":1441946126,"post_id":16313762,"comment_id":52889469,"body_markdown":"Comment re SSLSockets incorrect - it returns 0 for available iff there&#39;s no data in the buffer. As per my answer.  Javadoc: &quot;If there are no bytes buffered on the socket, and the socket has not been closed using close, then available will return 0. &quot;","body":"Comment re SSLSockets incorrect - it returns 0 for available iff there&#39;s no data in the buffer. As per my answer.  Javadoc: &quot;If there are no bytes buffered on the socket, and the socket has not been closed using close, then available will return 0. &quot;"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1450241725,"post_id":16313762,"comment_id":56350378,"body_markdown":"@GlenBest My comment re SSLSocket is not incorrect.  *Until recently* [my emphasis] it used to return zero at all times. You&#39;re talking about the present. I&#39;m talking about the entire history of JSSE, and I&#39;ve worked with since before it was first included in [Java 1.4 in 2002](http://www.oracle.com/technetwork/java/javase/codenames-136090.html).","body":"@GlenBest My comment re SSLSocket is not incorrect.  <i>Until recently</i> [my emphasis] it used to return zero at all times. You&#39;re talking about the present. I&#39;m talking about the entire history of JSSE, and I&#39;ve worked with since before it was first included in <a href=\"http://www.oracle.com/technetwork/java/javase/codenames-136090.html\" rel=\"nofollow noreferrer\">Java 1.4 in 2002</a>."},{"owner":{"account_id":2492341,"reputation":1816,"user_id":2169557,"display_name":"Logic1"},"score":0,"creation_date":1462605296,"post_id":16313762,"comment_id":61715688,"body_markdown":"By changing the while loop conditions to &quot;while (is.available() &gt; 0 &amp;&amp; System.currentTimeMillis() &lt; maxTimeMillis &amp;&amp; bufferOffset &lt; b.length) {&quot; saved me a ton of CPU overhead.","body":"By changing the while loop conditions to &quot;while (is.available() &gt; 0 &amp;&amp; System.currentTimeMillis() &lt; maxTimeMillis &amp;&amp; bufferOffset &lt; b.length) {&quot; saved me a ton of CPU overhead."},{"owner":{"account_id":4407875,"reputation":475,"user_id":3591707,"display_name":"Teto"},"score":0,"creation_date":1473387378,"post_id":16313762,"comment_id":66131410,"body_markdown":"@EJP Is it your assessment that &quot;until recently&quot; the input stream from an SSLSocket violated the contract of available()?  Or was the contract for InputStream changed and SSLSocket was updated accordingly?","body":"@EJP Is it your assessment that &quot;until recently&quot; the input stream from an SSLSocket violated the contract of available()?  Or was the contract for InputStream changed and SSLSocket was updated accordingly?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1476956432,"post_id":16313762,"comment_id":67570603,"body_markdown":"@Teto It is my *experience* over many years that `SSLSocket.getInputStream().available()` returned zero;  **nowhere** have I asserted that this &#39;violated the contract of `available()`&#39;; nowhere have I asserted that &#39;the contract for `InputStream` changed&#39;: these are all your assertions; not mine.","body":"@Teto It is my <i>experience</i> over many years that <code>SSLSocket.getInputStream().available()</code> returned zero;  <b>nowhere</b> have I asserted that this &#39;violated the contract of <code>available()</code>&#39;; nowhere have I asserted that &#39;the contract for <code>InputStream</code> changed&#39;: these are all your assertions; not mine."},{"owner":{"account_id":4407875,"reputation":475,"user_id":3591707,"display_name":"Teto"},"score":0,"creation_date":1478313592,"post_id":16313762,"comment_id":68116798,"body_markdown":"@EJP.  I said &quot;assessment&quot; not &quot;assertion&quot;.  But let me rephrase.  Glen Best&#39;s answer explains why &quot;Permanently returning zero&quot; would violate the contract (JavaDoc) of any implementation of available() unless the inputstream could never receive input.  But you stated that &quot;until recently&quot; the input stream returned by SSLSocket is would &quot;return zero at all times&quot;.  This violates the current contract.   Was the contract for available() different back?  Or was SSLSocket returning an InputStream that violates the contract?  Also, do you happen to know in which version of Java this changed?  Thanks","body":"@EJP.  I said &quot;assessment&quot; not &quot;assertion&quot;.  But let me rephrase.  Glen Best&#39;s answer explains why &quot;Permanently returning zero&quot; would violate the contract (JavaDoc) of any implementation of available() unless the inputstream could never receive input.  But you stated that &quot;until recently&quot; the input stream returned by SSLSocket is would &quot;return zero at all times&quot;.  This violates the current contract.   Was the contract for available() different back?  Or was SSLSocket returning an InputStream that violates the contract?  Also, do you happen to know in which version of Java this changed?  Thanks"},{"owner":{"account_id":1363195,"reputation":859,"user_id":1300167,"accept_rate":50,"display_name":"Matei Suica"},"score":0,"creation_date":1485437085,"post_id":16313762,"comment_id":70930412,"body_markdown":"available() is a blocking unreliable method as stated in the docs","body":"available() is a blocking unreliable method as stated in the docs"},{"owner":{"account_id":4075433,"reputation":121,"user_id":3347242,"display_name":"No. 7892142"},"score":0,"creation_date":1504956196,"post_id":16313762,"comment_id":79222410,"body_markdown":"While I did like this answer (and use a slightly modified version), a problem with this is that the input only appears in the console (cmd.exe) after pressing the Enter key.","body":"While I did like this answer (and use a slightly modified version), a problem with this is that the input only appears in the console (cmd.exe) after pressing the Enter key."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1559228905,"post_id":16313762,"comment_id":99362022,"body_markdown":"This is actually not a good answer. 1) as already stated, available() may return 0, depending on JVM, version, OS, implementations. 2) If you are trying to access erroneous files, any read() call may never return (or at least not within a decent timeout, some are 10 minutes). So using this solution is a bad idea. Ian Jones&#39; answer is much better and better readable if written properly.","body":"This is actually not a good answer. 1) as already stated, available() may return 0, depending on JVM, version, OS, implementations. 2) If you are trying to access erroneous files, any read() call may never return (or at least not within a decent timeout, some are 10 minutes). So using this solution is a bad idea. Ian Jones&#39; answer is much better and better readable if written properly."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1649773604,"post_id":16313762,"comment_id":126957794,"body_markdown":"I realize hat for practical purposes it may not happen, but the timeout check should not use less-than like that.  It doesn&#39;t handle the case where adding the timeout offset wraps the long.  Better to do the subtraction, (current - start) and check the difference hasn&#39;t exceeded the timeout.","body":"I realize hat for practical purposes it may not happen, but the timeout check should not use less-than like that.  It doesn&#39;t handle the case where adding the timeout offset wraps the long.  Better to do the subtraction, (current - start) and check the difference hasn&#39;t exceeded the timeout."},{"owner":{"account_id":11783353,"reputation":316,"user_id":8622053,"display_name":"Daniel Chin"},"score":0,"creation_date":1690970729,"post_id":16313762,"comment_id":135426115,"body_markdown":"This suggestion is not &quot;blocking&quot;. It is busy-wait / spinlock.","body":"This suggestion is not &quot;blocking&quot;. It is busy-wait / spinlock."}],"tags":[],"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"comment_count":13,"down_vote_count":2,"up_vote_count":96,"is_accepted":false,"score":94,"last_activity_date":1367389930,"creation_date":1367389930,"answer_id":16313762,"question_id":804951,"body_markdown":"**Using inputStream.available()**\r\n\r\n&gt; *It is always acceptable for System.in.available() to return 0.*\r\n\r\nI&#39;ve found the opposite - it always returns the best value for the number of bytes available.  Javadoc for `InputStream.available()`:\r\n\r\n    Returns an estimate of the number of bytes that can be read (or skipped over) \r\n    from this input stream without blocking by the next invocation of a method for \r\n    this input stream.\r\n\r\nAn estimate is unavoidable due to timing/staleness.  The figure can be a one-off underestimate because new data are constantly arriving.  However it always &quot;catches up&quot; on the next call - it should account for all arrived data, bar that arriving just at the moment of the new call.  Permanently returning 0 when there are data fails the condition above.\r\n\r\n**First Caveat: Concrete subclasses of InputStream are responsible for available()**\r\n\r\n`InputStream` is an abstract class.  It has no data source.  It&#39;s meaningless for it to have available data.  Hence, javadoc for `available()` also states:\r\n\r\n    The available method for class InputStream always returns 0.\r\n    \r\n    This method should be overridden by subclasses.\r\n\r\nAnd indeed, the concrete input stream classes do override available(), providing meaningful values, not constant 0s.\r\n\r\n**Second Caveat: Ensure you use carriage-return when typing input in Windows.**\r\n\r\nIf using `System.in`, your program only receives input when your command shell hands it over.  If you&#39;re using file redirection/pipes (e.g. somefile &gt; java myJavaApp or somecommand | java myJavaApp ), then input data are usually handed over immediately.  However, if you manually type input, then data handover can be delayed.  E.g. With windows cmd.exe shell, the data are buffered within cmd.exe shell.  Data are only passed to the executing java program following carriage-return (control-m or `&lt;enter&gt;`).  That&#39;s a limitation of the execution environment.  Of course, InputStream.available() will return 0 for as long as the shell buffers the data - that&#39;s correct behaviour; there are no available data at that point.  As soon as the data are available from the shell, the method returns a value &gt; 0.  NB: Cygwin uses cmd.exe too.\r\n\r\n\r\nSimplest solution (no blocking, so no timeout required)\r\n---------------------\r\nJust use this:\r\n\r\n        byte[] inputData = new byte[1024];\r\n        int result = is.read(inputData, 0, is.available());  \r\n        // result will indicate number of bytes read; -1 for EOF with no data read.\r\n\r\nOR equivalently,\r\n\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in, Charset.forName(&quot;ISO-8859-1&quot;)),1024);\r\n        // ...\r\n             // inside some iteration / processing logic:\r\n             if (br.ready()) {\r\n                 int readCount = br.read(inputData, bufferOffset, inputData.length-bufferOffset);\r\n             }\r\n      \r\n\r\n     \r\nRicher Solution (maximally fills buffer within timeout period)\r\n--------------------------------------------------------------\r\n\r\nDeclare this:\r\n\r\n    public static int readInputStreamWithTimeout(InputStream is, byte[] b, int timeoutMillis)\r\n         throws IOException  {\r\n         int bufferOffset = 0;\r\n         long maxTimeMillis = System.currentTimeMillis() + timeoutMillis;\r\n         while (System.currentTimeMillis() &lt; maxTimeMillis &amp;&amp; bufferOffset &lt; b.length) {\r\n             int readLength = java.lang.Math.min(is.available(),b.length-bufferOffset);\r\n             // can alternatively use bufferedReader, guarded by isReady():\r\n             int readResult = is.read(b, bufferOffset, readLength);\r\n             if (readResult == -1) break;\r\n             bufferOffset += readResult;\r\n         }\r\n         return bufferOffset;\r\n     }\r\n\r\nThen use this:\r\n\r\n        byte[] inputData = new byte[1024];\r\n        int readCount = readInputStreamWithTimeout(System.in, inputData, 6000);  // 6 second timeout\r\n        // readCount will indicate number of bytes read; -1 for EOF with no data read.\r\n\r\n","title":"Is it possible to read from a InputStream with a timeout?","body":"<p><strong>Using inputStream.available()</strong></p>\n\n<blockquote>\n  <p><em>It is always acceptable for System.in.available() to return 0.</em></p>\n</blockquote>\n\n<p>I've found the opposite - it always returns the best value for the number of bytes available.  Javadoc for <code>InputStream.available()</code>:</p>\n\n<pre><code>Returns an estimate of the number of bytes that can be read (or skipped over) \nfrom this input stream without blocking by the next invocation of a method for \nthis input stream.\n</code></pre>\n\n<p>An estimate is unavoidable due to timing/staleness.  The figure can be a one-off underestimate because new data are constantly arriving.  However it always \"catches up\" on the next call - it should account for all arrived data, bar that arriving just at the moment of the new call.  Permanently returning 0 when there are data fails the condition above.</p>\n\n<p><strong>First Caveat: Concrete subclasses of InputStream are responsible for available()</strong></p>\n\n<p><code>InputStream</code> is an abstract class.  It has no data source.  It's meaningless for it to have available data.  Hence, javadoc for <code>available()</code> also states:</p>\n\n<pre><code>The available method for class InputStream always returns 0.\n\nThis method should be overridden by subclasses.\n</code></pre>\n\n<p>And indeed, the concrete input stream classes do override available(), providing meaningful values, not constant 0s.</p>\n\n<p><strong>Second Caveat: Ensure you use carriage-return when typing input in Windows.</strong></p>\n\n<p>If using <code>System.in</code>, your program only receives input when your command shell hands it over.  If you're using file redirection/pipes (e.g. somefile > java myJavaApp or somecommand | java myJavaApp ), then input data are usually handed over immediately.  However, if you manually type input, then data handover can be delayed.  E.g. With windows cmd.exe shell, the data are buffered within cmd.exe shell.  Data are only passed to the executing java program following carriage-return (control-m or <code>&lt;enter&gt;</code>).  That's a limitation of the execution environment.  Of course, InputStream.available() will return 0 for as long as the shell buffers the data - that's correct behaviour; there are no available data at that point.  As soon as the data are available from the shell, the method returns a value > 0.  NB: Cygwin uses cmd.exe too.</p>\n\n<h2>Simplest solution (no blocking, so no timeout required)</h2>\n\n<p>Just use this:</p>\n\n<pre><code>    byte[] inputData = new byte[1024];\n    int result = is.read(inputData, 0, is.available());  \n    // result will indicate number of bytes read; -1 for EOF with no data read.\n</code></pre>\n\n<p>OR equivalently,</p>\n\n<pre><code>    BufferedReader br = new BufferedReader(new InputStreamReader(System.in, Charset.forName(\"ISO-8859-1\")),1024);\n    // ...\n         // inside some iteration / processing logic:\n         if (br.ready()) {\n             int readCount = br.read(inputData, bufferOffset, inputData.length-bufferOffset);\n         }\n</code></pre>\n\n<h2>Richer Solution (maximally fills buffer within timeout period)</h2>\n\n<p>Declare this:</p>\n\n<pre><code>public static int readInputStreamWithTimeout(InputStream is, byte[] b, int timeoutMillis)\n     throws IOException  {\n     int bufferOffset = 0;\n     long maxTimeMillis = System.currentTimeMillis() + timeoutMillis;\n     while (System.currentTimeMillis() &lt; maxTimeMillis &amp;&amp; bufferOffset &lt; b.length) {\n         int readLength = java.lang.Math.min(is.available(),b.length-bufferOffset);\n         // can alternatively use bufferedReader, guarded by isReady():\n         int readResult = is.read(b, bufferOffset, readLength);\n         if (readResult == -1) break;\n         bufferOffset += readResult;\n     }\n     return bufferOffset;\n }\n</code></pre>\n\n<p>Then use this:</p>\n\n<pre><code>    byte[] inputData = new byte[1024];\n    int readCount = readInputStreamWithTimeout(System.in, inputData, 6000);  // 6 second timeout\n    // readCount will indicate number of bytes read; -1 for EOF with no data read.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579742765,"creation_date":1579739552,"answer_id":59870133,"question_id":804951,"body_markdown":"Inspired in [this answer][1] I came up with a bit more object-oriented solution.\r\n\r\n**This is only valid if you&#39;re intending to read characters**\r\n\r\nYou can override BufferedReader and implement something like this:\r\n\r\n    public class SafeBufferedReader extends BufferedReader{\r\n    \r\n    \tprivate long millisTimeout;\r\n\r\n        ( . . . )\r\n\r\n    \t@Override\r\n    \tpublic int read(char[] cbuf, int off, int len) throws IOException {\r\n    \t\ttry {\r\n    \t\t\twaitReady();\r\n    \t\t} catch(IllegalThreadStateException e) {\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\treturn super.read(cbuf, off, len);\r\n    \t}\r\n\r\n    \tprotected void waitReady() throws IllegalThreadStateException, IOException {\r\n    \t\tif(ready()) return;\r\n    \t\tlong timeout = System.currentTimeMillis() + millisTimeout;\r\n    \t\twhile(System.currentTimeMillis() &lt; timeout) {\r\n    \t\t\tif(ready()) return;\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(100);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tbreak; // Should restore flag\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(ready()) return; // Just in case.\r\n    \t\tthrow new IllegalThreadStateException(&quot;Read timed out&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n**Here&#39;s an almost complete example.**\r\n\r\nI&#39;m returning 0 on some methods, you should change it to -2 to meet your needs, but I think that 0 is more suitable with BufferedReader contract. Nothing wrong happened, it just read 0 chars. readLine method is a horrible performance killer. **You should create a entirely new BufferedReader if you actually want to use readLin**e. Right now, it is not thread safe. If someone invokes  an operation while readLines is waiting for a line, it will produce unexpected results\r\n\r\nI don&#39;t like returning -2 where I am. I&#39;d throw an exception because some people may just be checking if int &lt; 0 to consider EOS. Anyway, those methods claim that &quot;can&#39;t block&quot;, you should check if that statement is actually true and just don&#39;t override&#39;em.\r\n\r\n\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.nio.CharBuffer;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.stream.Stream;\r\n    \r\n    /**\r\n     * \r\n     * readLine\r\n     * \r\n     * @author Dario\r\n     *\r\n     */\r\n    public class SafeBufferedReader extends BufferedReader{\r\n    \r\n    \tprivate long millisTimeout;\r\n    \t\r\n    \tprivate long millisInterval = 100;\r\n    \t\r\n    \tprivate int lookAheadLine;\r\n    \t\r\n    \tpublic SafeBufferedReader(Reader in, int sz, long millisTimeout) {\r\n    \t\tsuper(in, sz);\r\n    \t\tthis.millisTimeout = millisTimeout;\r\n    \t}\r\n    \r\n    \tpublic SafeBufferedReader(Reader in, long millisTimeout) {\r\n    \t\tsuper(in);\r\n    \t\tthis.millisTimeout = millisTimeout;\r\n    \t}\r\n    \r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * This is probably going to kill readLine performance. You should study BufferedReader and completly override the method.\r\n    \t * \r\n    \t * It should mark the position, then perform its normal operation in a nonblocking way, and if it reaches the timeout then reset position and throw IllegalThreadStateException\r\n    \t * \r\n    \t */\r\n    \t@Override\r\n    \tpublic String readLine() throws IOException {\r\n    \t\ttry {\r\n    \t\t\twaitReadyLine();\r\n    \t\t} catch(IllegalThreadStateException e) {\r\n    \t\t\t//return null; //Null usually means EOS here, so we can&#39;t.\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t\treturn super.readLine();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int read() throws IOException {\r\n    \t\ttry {\r\n    \t\t\twaitReady();\r\n    \t\t} catch(IllegalThreadStateException e) {\r\n    \t\t\treturn -2; // I&#39;d throw a runtime here, as some people may just be checking if int &lt; 0 to consider EOS\r\n    \t\t}\r\n    \t\treturn super.read();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int read(char[] cbuf) throws IOException {\r\n    \t\ttry {\r\n    \t\t\twaitReady();\r\n    \t\t} catch(IllegalThreadStateException e) {\r\n    \t\t\treturn -2;  // I&#39;d throw a runtime here, as some people may just be checking if int &lt; 0 to consider EOS\r\n    \t\t}\r\n    \t\treturn super.read(cbuf);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int read(char[] cbuf, int off, int len) throws IOException {\r\n    \t\ttry {\r\n    \t\t\twaitReady();\r\n    \t\t} catch(IllegalThreadStateException e) {\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\treturn super.read(cbuf, off, len);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int read(CharBuffer target) throws IOException {\r\n    \t\ttry {\r\n    \t\t\twaitReady();\r\n    \t\t} catch(IllegalThreadStateException e) {\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\treturn super.read(target);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void mark(int readAheadLimit) throws IOException {\r\n    \t\tsuper.mark(readAheadLimit);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Stream&lt;String&gt; lines() {\r\n    \t\treturn super.lines();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void reset() throws IOException {\r\n    \t\tsuper.reset();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic long skip(long n) throws IOException {\r\n    \t\treturn super.skip(n);\r\n    \t}\r\n    \t\r\n    \tpublic long getMillisTimeout() {\r\n    \t\treturn millisTimeout;\r\n    \t}\r\n    \r\n    \tpublic void setMillisTimeout(long millisTimeout) {\r\n    \t\tthis.millisTimeout = millisTimeout;\r\n    \t}\r\n    \t\r\n    \tpublic void setTimeout(long timeout, TimeUnit unit) {\r\n    \t\tthis.millisTimeout = TimeUnit.MILLISECONDS.convert(timeout, unit);\r\n    \t}\r\n    \t\r\n    \tpublic long getMillisInterval() {\r\n    \t\treturn millisInterval;\r\n    \t}\r\n    \r\n    \tpublic void setMillisInterval(long millisInterval) {\r\n    \t\tthis.millisInterval = millisInterval;\r\n    \t}\r\n    \t\r\n    \tpublic void setInterval(long time, TimeUnit unit) {\r\n    \t\tthis.millisInterval = TimeUnit.MILLISECONDS.convert(time, unit);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This is actually forcing us to read the buffer twice in order to determine a line is actually ready.\r\n    \t * \r\n    \t * @throws IllegalThreadStateException\r\n    \t * @throws IOException\r\n    \t */\r\n    \tprotected void waitReadyLine() throws IllegalThreadStateException, IOException {\r\n    \t\tlong timeout = System.currentTimeMillis() + millisTimeout;\r\n    \t\twaitReady();\r\n    \t\t\r\n    \t\tsuper.mark(lookAheadLine);\r\n    \t\ttry {\r\n    \t\t\twhile(System.currentTimeMillis() &lt; timeout) {\r\n    \t\t\t\twhile(ready()) {\r\n    \t\t\t\t\tint charInt = super.read();\r\n    \t\t\t\t\tif(charInt==-1) return; // EOS reached\r\n    \t\t\t\t\tchar character = (char) charInt;\r\n    \t\t\t\t\tif(character == &#39;\\n&#39; || character == &#39;\\r&#39; ) return;\r\n    \t\t\t\t}\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(millisInterval);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\tThread.currentThread().interrupt(); // Restore flag\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tsuper.reset();\r\n    \t\t}\r\n    \t\tthrow new IllegalThreadStateException(&quot;readLine timed out&quot;);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprotected void waitReady() throws IllegalThreadStateException, IOException {\r\n    \t\tif(ready()) return;\r\n    \t\tlong timeout = System.currentTimeMillis() + millisTimeout;\r\n    \t\twhile(System.currentTimeMillis() &lt; timeout) {\r\n    \t\t\tif(ready()) return;\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(millisInterval);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tThread.currentThread().interrupt(); // Restore flag\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(ready()) return; // Just in case.\r\n    \t\tthrow new IllegalThreadStateException(&quot;read timed out&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16313762/9465588\r\n","title":"Is it possible to read from a InputStream with a timeout?","body":"<p>Inspired in <a href=\"https://stackoverflow.com/a/16313762/9465588\">this answer</a> I came up with a bit more object-oriented solution.</p>\n\n<p><strong>This is only valid if you're intending to read characters</strong></p>\n\n<p>You can override BufferedReader and implement something like this:</p>\n\n<pre><code>public class SafeBufferedReader extends BufferedReader{\n\n    private long millisTimeout;\n\n    ( . . . )\n\n    @Override\n    public int read(char[] cbuf, int off, int len) throws IOException {\n        try {\n            waitReady();\n        } catch(IllegalThreadStateException e) {\n            return 0;\n        }\n        return super.read(cbuf, off, len);\n    }\n\n    protected void waitReady() throws IllegalThreadStateException, IOException {\n        if(ready()) return;\n        long timeout = System.currentTimeMillis() + millisTimeout;\n        while(System.currentTimeMillis() &lt; timeout) {\n            if(ready()) return;\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                break; // Should restore flag\n            }\n        }\n        if(ready()) return; // Just in case.\n        throw new IllegalThreadStateException(\"Read timed out\");\n    }\n}\n</code></pre>\n\n<p><strong>Here's an almost complete example.</strong></p>\n\n<p>I'm returning 0 on some methods, you should change it to -2 to meet your needs, but I think that 0 is more suitable with BufferedReader contract. Nothing wrong happened, it just read 0 chars. readLine method is a horrible performance killer. <strong>You should create a entirely new BufferedReader if you actually want to use readLin</strong>e. Right now, it is not thread safe. If someone invokes  an operation while readLines is waiting for a line, it will produce unexpected results</p>\n\n<p>I don't like returning -2 where I am. I'd throw an exception because some people may just be checking if int &lt; 0 to consider EOS. Anyway, those methods claim that \"can't block\", you should check if that statement is actually true and just don't override'em.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.nio.CharBuffer;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.Stream;\n\n/**\n * \n * readLine\n * \n * @author Dario\n *\n */\npublic class SafeBufferedReader extends BufferedReader{\n\n    private long millisTimeout;\n\n    private long millisInterval = 100;\n\n    private int lookAheadLine;\n\n    public SafeBufferedReader(Reader in, int sz, long millisTimeout) {\n        super(in, sz);\n        this.millisTimeout = millisTimeout;\n    }\n\n    public SafeBufferedReader(Reader in, long millisTimeout) {\n        super(in);\n        this.millisTimeout = millisTimeout;\n    }\n\n\n\n    /**\n     * This is probably going to kill readLine performance. You should study BufferedReader and completly override the method.\n     * \n     * It should mark the position, then perform its normal operation in a nonblocking way, and if it reaches the timeout then reset position and throw IllegalThreadStateException\n     * \n     */\n    @Override\n    public String readLine() throws IOException {\n        try {\n            waitReadyLine();\n        } catch(IllegalThreadStateException e) {\n            //return null; //Null usually means EOS here, so we can't.\n            throw e;\n        }\n        return super.readLine();\n    }\n\n    @Override\n    public int read() throws IOException {\n        try {\n            waitReady();\n        } catch(IllegalThreadStateException e) {\n            return -2; // I'd throw a runtime here, as some people may just be checking if int &lt; 0 to consider EOS\n        }\n        return super.read();\n    }\n\n    @Override\n    public int read(char[] cbuf) throws IOException {\n        try {\n            waitReady();\n        } catch(IllegalThreadStateException e) {\n            return -2;  // I'd throw a runtime here, as some people may just be checking if int &lt; 0 to consider EOS\n        }\n        return super.read(cbuf);\n    }\n\n    @Override\n    public int read(char[] cbuf, int off, int len) throws IOException {\n        try {\n            waitReady();\n        } catch(IllegalThreadStateException e) {\n            return 0;\n        }\n        return super.read(cbuf, off, len);\n    }\n\n    @Override\n    public int read(CharBuffer target) throws IOException {\n        try {\n            waitReady();\n        } catch(IllegalThreadStateException e) {\n            return 0;\n        }\n        return super.read(target);\n    }\n\n    @Override\n    public void mark(int readAheadLimit) throws IOException {\n        super.mark(readAheadLimit);\n    }\n\n    @Override\n    public Stream&lt;String&gt; lines() {\n        return super.lines();\n    }\n\n    @Override\n    public void reset() throws IOException {\n        super.reset();\n    }\n\n    @Override\n    public long skip(long n) throws IOException {\n        return super.skip(n);\n    }\n\n    public long getMillisTimeout() {\n        return millisTimeout;\n    }\n\n    public void setMillisTimeout(long millisTimeout) {\n        this.millisTimeout = millisTimeout;\n    }\n\n    public void setTimeout(long timeout, TimeUnit unit) {\n        this.millisTimeout = TimeUnit.MILLISECONDS.convert(timeout, unit);\n    }\n\n    public long getMillisInterval() {\n        return millisInterval;\n    }\n\n    public void setMillisInterval(long millisInterval) {\n        this.millisInterval = millisInterval;\n    }\n\n    public void setInterval(long time, TimeUnit unit) {\n        this.millisInterval = TimeUnit.MILLISECONDS.convert(time, unit);\n    }\n\n    /**\n     * This is actually forcing us to read the buffer twice in order to determine a line is actually ready.\n     * \n     * @throws IllegalThreadStateException\n     * @throws IOException\n     */\n    protected void waitReadyLine() throws IllegalThreadStateException, IOException {\n        long timeout = System.currentTimeMillis() + millisTimeout;\n        waitReady();\n\n        super.mark(lookAheadLine);\n        try {\n            while(System.currentTimeMillis() &lt; timeout) {\n                while(ready()) {\n                    int charInt = super.read();\n                    if(charInt==-1) return; // EOS reached\n                    char character = (char) charInt;\n                    if(character == '\\n' || character == '\\r' ) return;\n                }\n                try {\n                    Thread.sleep(millisInterval);\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt(); // Restore flag\n                    break;\n                }\n            }\n        } finally {\n            super.reset();\n        }\n        throw new IllegalThreadStateException(\"readLine timed out\");\n\n    }\n\n    protected void waitReady() throws IllegalThreadStateException, IOException {\n        if(ready()) return;\n        long timeout = System.currentTimeMillis() + millisTimeout;\n        while(System.currentTimeMillis() &lt; timeout) {\n            if(ready()) return;\n            try {\n                Thread.sleep(millisInterval);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt(); // Restore flag\n                break;\n            }\n        }\n        if(ready()) return; // Just in case.\n        throw new IllegalThreadStateException(\"read timed out\");\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":247414,"reputation":1157,"user_id":2809546,"accept_rate":80,"display_name":"Vlad"},"score":1,"creation_date":1696602981,"post_id":76819031,"comment_id":136178535,"body_markdown":"1. `Selector.select(timeout)` implements non-busy wait.\n2. `SocketTimeoutException` extends `InterruptedIOException` extends `IOException`","body":"1. <code>Selector.select(timeout)</code> implements non-busy wait. 2. <code>SocketTimeoutException</code> extends <code>InterruptedIOException</code> extends <code>IOException</code>"},{"owner":{"account_id":11783353,"reputation":316,"user_id":8622053,"display_name":"Daniel Chin"},"score":0,"creation_date":1696694915,"post_id":76819031,"comment_id":136187633,"body_markdown":"@Vlad Thank you for the extremely helpful comment! I&#39;m editing the answer.","body":"@Vlad Thank you for the extremely helpful comment! I&#39;m editing the answer."}],"tags":[],"owner":{"account_id":11783353,"reputation":316,"user_id":8622053,"display_name":"Daniel Chin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696695126,"creation_date":1690972721,"answer_id":76819031,"question_id":804951,"body_markdown":"**EDIT**: Please see @Vlad &#39;s important comment below. \r\n\r\n## Original answer\r\n\r\nThere is no way to properly block an `InputStream`, unless it&#39;s created by a `Socket`.    \r\n\r\n### 1. Never busy-wait  \r\n&quot;Busy-waiting&quot; refers to using CPU-heavy `while` loops to poll an IO resource. Never busy-wait. The proper way is to mark the current thread as &quot;blocked&quot; and allow the OS to elect other threads to run. When the IO resource becomes available OR the timeout expires, the OS is in charge of marking your thread as &quot;pending&quot; and electing it again. Java&#39;s builtin `read()` implementations do just that.  \r\n\r\nConsequences of busy-waiting:  \r\n- If you have one busy-waiter, the CPU will be running when it&#39;s supposed to be idling.  \r\n- If you have multiple busy-waiters, they will *starve one another* and introduce latencies in the application up to the OS quantum/tick time (usually 10ms-100ms). CPU effective utilization rate also drops, and can approach 0% depending on the situation.  \r\n- If your busy-waiters have thread priorities higher than other real-time threads do, they even starve external applications and introduce latencies.  \r\n\r\n`InputStream.read()` is an IO call. It should not occupy any CPU(s) while waiting for a byte / a timeout. From what I can tell, the `read()` that Java provides support proper blocking, but without any timeout capability. Most other answers to this StackOverflow question provide timeout, but use busy-waiting.  \r\n\r\n### 2. Java violates OOP by allowing `Socket.setSoTimeout`\r\n**Edit**: This claim is wrong as pointed out by @Vlad&#39;s comment.\r\n\r\nConclusion: please consider if `select` solves your problem. ","title":"Is it possible to read from a InputStream with a timeout?","body":"<p><strong>EDIT</strong>: Please see @Vlad 's important comment below.</p>\n<h2>Original answer</h2>\n<p>There is no way to properly block an <code>InputStream</code>, unless it's created by a <code>Socket</code>.</p>\n<h3>1. Never busy-wait</h3>\n<p>&quot;Busy-waiting&quot; refers to using CPU-heavy <code>while</code> loops to poll an IO resource. Never busy-wait. The proper way is to mark the current thread as &quot;blocked&quot; and allow the OS to elect other threads to run. When the IO resource becomes available OR the timeout expires, the OS is in charge of marking your thread as &quot;pending&quot; and electing it again. Java's builtin <code>read()</code> implementations do just that.</p>\n<p>Consequences of busy-waiting:</p>\n<ul>\n<li>If you have one busy-waiter, the CPU will be running when it's supposed to be idling.</li>\n<li>If you have multiple busy-waiters, they will <em>starve one another</em> and introduce latencies in the application up to the OS quantum/tick time (usually 10ms-100ms). CPU effective utilization rate also drops, and can approach 0% depending on the situation.</li>\n<li>If your busy-waiters have thread priorities higher than other real-time threads do, they even starve external applications and introduce latencies.</li>\n</ul>\n<p><code>InputStream.read()</code> is an IO call. It should not occupy any CPU(s) while waiting for a byte / a timeout. From what I can tell, the <code>read()</code> that Java provides support proper blocking, but without any timeout capability. Most other answers to this StackOverflow question provide timeout, but use busy-waiting.</p>\n<h3>2. Java violates OOP by allowing <code>Socket.setSoTimeout</code></h3>\n<p><strong>Edit</strong>: This claim is wrong as pointed out by @Vlad's comment.</p>\n<p>Conclusion: please consider if <code>select</code> solves your problem.</p>\n"}],"owner":{"display_name":"JKL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167215,"favorite_count":0,"down_vote_count":0,"up_vote_count":174,"answer_count":9,"score":174,"last_activity_date":1696695126,"creation_date":1241052773,"question_id":804951,"body_markdown":"Specifically, the problem is to write a method like this:\r\n\r\n\tint maybeRead(InputStream in, long timeout)\r\n\r\nwhere the return value is the same as in.read() if data is available within &#39;timeout&#39; milliseconds, and -2 otherwise.  Before the method returns, any spawned threads must exit.\r\n\r\nTo avoid arguments, the subject here java.io.InputStream, as documented by Sun (any Java version).  Please note this is not as simple as it looks.  Below are some facts which are supported directly by Sun&#39;s documentation.\r\n\r\n1.  The in.read() method may be non-interruptible.\r\n\r\n2.  Wrapping the InputStream in a Reader or InterruptibleChannel doesn&#39;t help, because all those classes can do is call methods of the InputStream.  If it were possible to use those classes, it would be possible to write a solution that just executes the same logic directly on the InputStream.\r\n\r\n3.  It is always acceptable for in.available() to return 0.\r\n\r\n4.  The in.close() method may block or do nothing.\r\n\r\n5.  There is no general way to kill another thread.\r\n","title":"Is it possible to read from a InputStream with a timeout?","body":"<p>Specifically, the problem is to write a method like this:</p>\n\n<pre><code>int maybeRead(InputStream in, long timeout)\n</code></pre>\n\n<p>where the return value is the same as in.read() if data is available within 'timeout' milliseconds, and -2 otherwise.  Before the method returns, any spawned threads must exit.</p>\n\n<p>To avoid arguments, the subject here java.io.InputStream, as documented by Sun (any Java version).  Please note this is not as simple as it looks.  Below are some facts which are supported directly by Sun's documentation.</p>\n\n<ol>\n<li><p>The in.read() method may be non-interruptible.</p></li>\n<li><p>Wrapping the InputStream in a Reader or InterruptibleChannel doesn't help, because all those classes can do is call methods of the InputStream.  If it were possible to use those classes, it would be possible to write a solution that just executes the same logic directly on the InputStream.</p></li>\n<li><p>It is always acceptable for in.available() to return 0.</p></li>\n<li><p>The in.close() method may block or do nothing.</p></li>\n<li><p>There is no general way to kill another thread.</p></li>\n</ol>\n"},{"tags":["java","cassandra","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1696318359,"post_id":77219670,"comment_id":136134063,"body_markdown":"sorry you seem to be new to stack overflow, read this and try to improve your question: https://stackoverflow.com/help/how-to-ask","body":"sorry you seem to be new to stack overflow, read this and try to improve your question: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":29585373,"reputation":11,"user_id":22674148,"display_name":"Tuguldur"},"score":1,"creation_date":1696321820,"post_id":77219670,"comment_id":136134653,"body_markdown":"Thanks for quick reply, I got solution for this to changing package. \ncom.datastax.oss&#39;s cassandra is working as well. com.datastax.cassandra is getting error.","body":"Thanks for quick reply, I got solution for this to changing package.  com.datastax.oss&#39;s cassandra is working as well. com.datastax.cassandra is getting error."},{"owner":{"account_id":14411493,"reputation":946,"user_id":10410162,"display_name":"Madhavan"},"score":0,"creation_date":1696337285,"post_id":77219670,"comment_id":136137449,"body_markdown":"glad you got it working!","body":"glad you got it working!"}],"owner":{"account_id":29585373,"reputation":11,"user_id":22674148,"display_name":"Tuguldur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696694565,"creation_date":1696307283,"question_id":77219670,"body_markdown":"I&#39;m using a Cassandra database and attempting to implement API test automation using KARATE. I aim to generate test data from the database, process it in JavaScript to build the POST request&#39;s body as JSON for the Examples in the Scenario Outline.\r\n\r\n\r\n\r\n\r\nAfter installing Cassandra driver in my Karate codebase, I encountered an issue with sending a request body in a Scenario Outline. However, upon removing the request body from the scenario, it started functioning correctly\r\n\r\n![Trying to check is Scenario Outline examples works](https://i.stack.imgur.com/HHTi4.png)\r\n\r\n![After adding request body, getting error](https://i.stack.imgur.com/7ioky.png)\r\n\r\n![It is working when, removing request body](https://i.stack.imgur.com/U9XK0.png)","title":"In a Karate Scenario Outline test, I aim to construct the Examples using query results retrieved from the Cassandra database","body":"<p>I'm using a Cassandra database and attempting to implement API test automation using KARATE. I aim to generate test data from the database, process it in JavaScript to build the POST request's body as JSON for the Examples in the Scenario Outline.</p>\n<p>After installing Cassandra driver in my Karate codebase, I encountered an issue with sending a request body in a Scenario Outline. However, upon removing the request body from the scenario, it started functioning correctly</p>\n<p><img src=\"https://i.stack.imgur.com/HHTi4.png\" alt=\"Trying to check is Scenario Outline examples works\" /></p>\n<p><img src=\"https://i.stack.imgur.com/7ioky.png\" alt=\"After adding request body, getting error\" /></p>\n<p><img src=\"https://i.stack.imgur.com/U9XK0.png\" alt=\"It is working when, removing request body\" /></p>\n"},{"tags":["java","azure","oauth-2.0","office365","exchange-server"],"owner":{"account_id":2464084,"reputation":61,"user_id":2147582,"display_name":"mario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3128,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1696694306,"creation_date":1665666204,"question_id":74056258,"body_markdown":"I&#39;m using Java 1.8, Jakarta email (version 2.1.0) to connect to Microsoft 365 using OAuth for authentication with SMTP. Client has required to use Oauth authenticate, not basic smtp authentification. After reading of documentation [https://learn.microsoft.com/en-us/exchange/client-developer...][1] and lots other resources I have configured AD to this permissions:\r\n\r\n    Microsoft Graph    offline_access\r\n    Microsoft Graph    User.Read\r\n    Microsoft Graph    Mail.Send\r\n    Microsoft Graph    openid\r\n    Microsoft Graph    IMAP.AccessAsUser.All\r\n    Microsoft Graph    SMTP.Send\r\n    \r\n    Office 365 Exchange Online    full_access_as_app\r\n    Office 365 Exchange Online    POP.AccessAsApp\r\n    Office 365 Exchange Online    Mail.Send\r\n    Office 365 Exchange Online    IMAP.AccessAsApp\r\n    \r\nActivated SMTP client authentication using PowerShell on Azure [https://learn.microsoft.com/en-us/exchange/clients...][2]\r\n\r\n    PS C:\\Users\\dx-2102&gt; Get-TransportConfig | Format-List SmtpClientAuthenticationDisabled   \r\n    SmtpClientAuthenticationDisabled : False\r\n\r\nimplemented code for send email (Java):\r\n\r\n    Properties prop = new Properties();\r\n    prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    prop.put(&quot;mail.smtp.host&quot;, emailSettings.getSmtp().getHostname());\r\n    prop.put(&quot;mail.smtp.port&quot;, emailSettings.getSmtp().getPort());\r\n    prop.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    prop.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n    prop.put(&quot;mail.smtp.auth.xoauth2.disable&quot;, &quot;false&quot;);\r\n    prop.put(&quot;mail.smtp.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n    prop.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    prop.put(&quot;mail.smtp.auth.login.disable&quot;, &quot;true&quot;);\r\n    prop.put(&quot;mail.smtp.auth.plain.disable&quot;, &quot;true&quot;);\r\n    \r\n    session = Session.getInstance(prop);\r\n\tsession.setDebug(true);\r\n\tString accessToken = getOAuth2AccessToken();\r\n\r\n    transport = session.getTransport(&quot;smtp&quot;);\r\n\ttransport.connect(emailSettings.getSmtp().getHostname(), emailSettings.getSmtp().getPort(), emailSettings.getSmtp().getUsername(), tokenForSmtp(emailSettings.getSmtp().getUsername(), accessToken));\r\n    /* -- */ \r\n    transport.sendMessage(mimeMessage, mimeMessage.getAllRecipients());\r\n    transport.close();\r\n\r\nmethod for calling/getting token from Azure AD, in response we get a token with expiration time.\r\n\r\n    String url = &quot;https://login.microsoftonline.com/&quot; + Tenant_ID + &quot;/oauth2/token&quot;;\r\n\r\n\tMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n\tmap.add(&quot;grant_type&quot;, &quot;client_credentials&quot;);\r\n\tmap.add(&quot;response_type&quot;, &quot;code&quot;);\r\n\tmap.add(&quot;client_id&quot;, ClientId);\r\n\tmap.add(&quot;client_secret&quot;, ClientSecret);\r\n\tmap.add(&quot;scope&quot;,&quot;openid offline_access https%3A%2F%2Foutlook.office365.com%2FSMTP.Send &quot;);\r\n\r\n\tRestTemplate restTemplate = new RestTemplate();\r\n\tResponseEntity&lt;AzureResponse&gt; response = restTemplate.postForEntity(url, map, AzureResponse.class);\r\n\r\nmethod for preparing token for sending within the SMTP send-mail process\r\n\r\n    private String tokenForSmtp(String userName, String accessToken) {\r\n    \tfinal String ctrlA=Character.toString((char) 1);\r\n    \tfinal String coded= &quot;user=&quot; + userName + ctrlA+&quot;auth=Bearer &quot; + accessToken + ctrlA+ctrlA;\r\n    \treturn Base64.getEncoder().encodeToString(coded.getBytes());\r\n    \t//base64(&quot;user=&quot; + userName + &quot;^Aauth=Bearer &quot; + accessToken + &quot;^A^A&quot;)\r\n    }\r\n\r\n\r\nAfter send of SMTP email I receive error:\r\n\r\n    AUTH XOAUTH2 dXNlcj1zb2ZhQHNvbHV0aW9uZmFjdG9yeWFnLm9ub...=\r\n    535 5.7.3 Authentication unsuccessful [VI1PR0202CA0024.eurprd02.prod.outlook.com]\r\n    Error on sending email: 535 5.7.3 Authentication unsuccessful [VI1PR0202CA0024.eurprd02.prod.outlook.com]\r\n\r\n\r\nDo I need a some other token scope&#39;s from Azure AD other then openid, offline_access and https://outlook.office.com/SMTP.Send ? Or do I miss something else in the configuration of Azure? Of someone has a Java example of how it should be done, please feel free to attach it. Also if you have some screenshots of what to set up on the Azure account. \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth\r\n  [2]: https://learn.microsoft.com/en-us/exchange/clients-and-mobile-in-exchange-online/authenticated-client-smtp-submission","title":"Java Oauth2 send email using Office 365","body":"<p>I'm using Java 1.8, Jakarta email (version 2.1.0) to connect to Microsoft 365 using OAuth for authentication with SMTP. Client has required to use Oauth authenticate, not basic smtp authentification. After reading of documentation <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/exchange/client-developer...</a> and lots other resources I have configured AD to this permissions:</p>\n<pre><code>Microsoft Graph    offline_access\nMicrosoft Graph    User.Read\nMicrosoft Graph    Mail.Send\nMicrosoft Graph    openid\nMicrosoft Graph    IMAP.AccessAsUser.All\nMicrosoft Graph    SMTP.Send\n\nOffice 365 Exchange Online    full_access_as_app\nOffice 365 Exchange Online    POP.AccessAsApp\nOffice 365 Exchange Online    Mail.Send\nOffice 365 Exchange Online    IMAP.AccessAsApp\n</code></pre>\n<p>Activated SMTP client authentication using PowerShell on Azure <a href=\"https://learn.microsoft.com/en-us/exchange/clients-and-mobile-in-exchange-online/authenticated-client-smtp-submission\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/exchange/clients...</a></p>\n<pre><code>PS C:\\Users\\dx-2102&gt; Get-TransportConfig | Format-List SmtpClientAuthenticationDisabled   \nSmtpClientAuthenticationDisabled : False\n</code></pre>\n<p>implemented code for send email (Java):</p>\n<pre><code>Properties prop = new Properties();\nprop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\nprop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nprop.put(&quot;mail.smtp.host&quot;, emailSettings.getSmtp().getHostname());\nprop.put(&quot;mail.smtp.port&quot;, emailSettings.getSmtp().getPort());\nprop.put(&quot;mail.debug&quot;, &quot;true&quot;);\nprop.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\nprop.put(&quot;mail.smtp.auth.xoauth2.disable&quot;, &quot;false&quot;);\nprop.put(&quot;mail.smtp.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\nprop.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\nprop.put(&quot;mail.smtp.auth.login.disable&quot;, &quot;true&quot;);\nprop.put(&quot;mail.smtp.auth.plain.disable&quot;, &quot;true&quot;);\n\nsession = Session.getInstance(prop);\nsession.setDebug(true);\nString accessToken = getOAuth2AccessToken();\n\ntransport = session.getTransport(&quot;smtp&quot;);\ntransport.connect(emailSettings.getSmtp().getHostname(), emailSettings.getSmtp().getPort(), emailSettings.getSmtp().getUsername(), tokenForSmtp(emailSettings.getSmtp().getUsername(), accessToken));\n/* -- */ \ntransport.sendMessage(mimeMessage, mimeMessage.getAllRecipients());\ntransport.close();\n</code></pre>\n<p>method for calling/getting token from Azure AD, in response we get a token with expiration time.</p>\n<pre><code>String url = &quot;https://login.microsoftonline.com/&quot; + Tenant_ID + &quot;/oauth2/token&quot;;\n\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\nmap.add(&quot;grant_type&quot;, &quot;client_credentials&quot;);\nmap.add(&quot;response_type&quot;, &quot;code&quot;);\nmap.add(&quot;client_id&quot;, ClientId);\nmap.add(&quot;client_secret&quot;, ClientSecret);\nmap.add(&quot;scope&quot;,&quot;openid offline_access https%3A%2F%2Foutlook.office365.com%2FSMTP.Send &quot;);\n\nRestTemplate restTemplate = new RestTemplate();\nResponseEntity&lt;AzureResponse&gt; response = restTemplate.postForEntity(url, map, AzureResponse.class);\n</code></pre>\n<p>method for preparing token for sending within the SMTP send-mail process</p>\n<pre><code>private String tokenForSmtp(String userName, String accessToken) {\n    final String ctrlA=Character.toString((char) 1);\n    final String coded= &quot;user=&quot; + userName + ctrlA+&quot;auth=Bearer &quot; + accessToken + ctrlA+ctrlA;\n    return Base64.getEncoder().encodeToString(coded.getBytes());\n    //base64(&quot;user=&quot; + userName + &quot;^Aauth=Bearer &quot; + accessToken + &quot;^A^A&quot;)\n}\n</code></pre>\n<p>After send of SMTP email I receive error:</p>\n<pre><code>AUTH XOAUTH2 dXNlcj1zb2ZhQHNvbHV0aW9uZmFjdG9yeWFnLm9ub...=\n535 5.7.3 Authentication unsuccessful [VI1PR0202CA0024.eurprd02.prod.outlook.com]\nError on sending email: 535 5.7.3 Authentication unsuccessful [VI1PR0202CA0024.eurprd02.prod.outlook.com]\n</code></pre>\n<p>Do I need a some other token scope's from Azure AD other then openid, offline_access and <a href=\"https://outlook.office.com/SMTP.Send\" rel=\"noreferrer\">https://outlook.office.com/SMTP.Send</a> ? Or do I miss something else in the configuration of Azure? Of someone has a Java example of how it should be done, please feel free to attach it. Also if you have some screenshots of what to set up on the Azure account.</p>\n"},{"tags":["java","search","directory","alexa-internet"],"answers":[{"comments":[{"owner":{"account_id":181181,"reputation":1156,"user_id":415008,"accept_rate":95,"display_name":"Toman"},"score":0,"creation_date":1296478373,"post_id":4839805,"comment_id":5387840,"body_markdown":"Thanks for reply, it works when no. of results are more, i am not getting all url&#39;s using api which are listed in site. For http://awis.amazonaws.com?&amp;Action=CategoryListings&amp;ResponseGroup=Listings&amp;AWSAccessKeyId=XXXXXXXXXX&amp;Signature=XXXXXXXXXXXXXXX8%3D&amp;Timestamp=2011-01-31T12%3A09%3A15.754Z&amp;Path=Top%2FHealth&amp;Descriptions=True&amp;Count=50 is the request i am sending but getting 0 results but in site there are 500 URL&#39;s for &quot;Health&quot; Category Search. If i put Start=0, i get max 6 Url&#39;s. and if i add &quot;Recursive=True&quot; in params it lists subcat Url&#39;s too, and i need only Category Url&#39;s","body":"Thanks for reply, it works when no. of results are more, i am not getting all url&#39;s using api which are listed in site. For <a href=\"http://awis.amazonaws.com?&amp;Action=CategoryListings&amp;ResponseGroup=Listings&amp;AWSAccessKeyId=XXXXXXXXXX&amp;Signature=XXXXXXXXXXXXXXX8%3D&amp;Timestamp=2011-01-31T12%3A09%3A15.754Z&amp;Path=Top%2FHealth&amp;Descriptions=True&amp;Count=50\" rel=\"nofollow noreferrer\">awis.amazonaws.com?&amp;Action=CategoryListings&amp;ResponseGro&hellip;</a> is the request i am sending but getting 0 results but in site there are 500 URL&#39;s for &quot;Health&quot; Category Search. If i put Start=0, i get max 6 Url&#39;s. and if i add &quot;Recursive=True&quot; in params it lists subcat Url&#39;s too, and i need only Category Url&#39;s"}],"tags":[],"owner":{"account_id":292523,"reputation":133,"user_id":595312,"display_name":"crazedfred"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1296339473,"creation_date":1296339473,"answer_id":4839805,"question_id":4815221,"body_markdown":"If you&#39;ll notice, there is a Start parameter in addition to Count. &lt;br&gt;Start evidently changes the first result number returned. So:\r\n\r\nTo get the first 50 answers:\r\n\r\n    ...\r\n    &amp;Start=1\r\n    &amp;Count=50\r\n    ...\r\n\r\nTo get the next 50:\r\n\r\n    ...\r\n    &amp;Start=51\r\n    &amp;Count=50\r\n    ...\r\n\r\nAnd so forth, until you get an empty return (which is what is returned when Start &gt; total # answers).","title":"How to increase Alexa search results using Alexa API","body":"<p>If you'll notice, there is a Start parameter in addition to Count. <br>Start evidently changes the first result number returned. So:</p>\n\n<p>To get the first 50 answers:</p>\n\n<pre><code>...\n&amp;Start=1\n&amp;Count=50\n...\n</code></pre>\n\n<p>To get the next 50:</p>\n\n<pre><code>...\n&amp;Start=51\n&amp;Count=50\n...\n</code></pre>\n\n<p>And so forth, until you get an empty return (which is what is returned when Start > total # answers).</p>\n"}],"owner":{"account_id":181181,"reputation":1156,"user_id":415008,"accept_rate":95,"display_name":"Toman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1523521803,"accepted_answer_id":4839805,"answer_count":1,"score":9,"last_activity_date":1696694280,"creation_date":1296124396,"question_id":4815221,"body_markdown":"I am creating a Java application which performs URL search for site:\r\n\r\nhttp://www.alexa.com/topsites/category\r\n\r\nUser enters a category name and my application displays all URL&#39;s and performs some operations.\r\n\r\nI am using this Alexa API for URL search.\r\n\r\nhttp://docs.amazonwebservices.com/AlexaWebInfoService/2005-07-11/ApiReference_CategoryListingsAction.html\r\n\r\nThis API doesn&#39;t give all results. For example, if I search for the category &quot;Health&quot;, this API gives only 6 results but when I visit on site I get more than 500 results.\r\n\r\nI tried to increase result by increasing count=500 and also checked by giving Start parameter in API but I am not getting all results.\r\n\r\nCould you please suggest me that how I can increase the results? Is there any other API which works as same Alexa API and gives all results?\r\n\r\nI got some suggestion that DMOZ API also uses same\r\n\r\nhttp://www.dmoz.org/World/Esperanto/Ludoj/Komputilaj/\r\n\r\nbut could not get the link for DMOZ search API. \r\n\r\nCould you please provide me a link to DMOZ search API.\r\n\r\n","title":"How to increase Alexa search results using Alexa API","body":"<p>I am creating a Java application which performs URL search for site:</p>\n<p><a href=\"http://www.alexa.com/topsites/category\" rel=\"nofollow noreferrer\">http://www.alexa.com/topsites/category</a></p>\n<p>User enters a category name and my application displays all URL's and performs some operations.</p>\n<p>I am using this Alexa API for URL search.</p>\n<p><a href=\"http://docs.amazonwebservices.com/AlexaWebInfoService/2005-07-11/ApiReference_CategoryListingsAction.html\" rel=\"nofollow noreferrer\">http://docs.amazonwebservices.com/AlexaWebInfoService/2005-07-11/ApiReference_CategoryListingsAction.html</a></p>\n<p>This API doesn't give all results. For example, if I search for the category &quot;Health&quot;, this API gives only 6 results but when I visit on site I get more than 500 results.</p>\n<p>I tried to increase result by increasing count=500 and also checked by giving Start parameter in API but I am not getting all results.</p>\n<p>Could you please suggest me that how I can increase the results? Is there any other API which works as same Alexa API and gives all results?</p>\n<p>I got some suggestion that DMOZ API also uses same</p>\n<p><a href=\"http://www.dmoz.org/World/Esperanto/Ludoj/Komputilaj/\" rel=\"nofollow noreferrer\">http://www.dmoz.org/World/Esperanto/Ludoj/Komputilaj/</a></p>\n<p>but could not get the link for DMOZ search API.</p>\n<p>Could you please provide me a link to DMOZ search API.</p>\n"},{"tags":["java","json","spring","resttemplate"],"comments":[{"owner":{"account_id":3318964,"reputation":1068,"user_id":2790577,"accept_rate":30,"display_name":"basiclawe"},"score":0,"creation_date":1696114058,"post_id":77208651,"comment_id":136112661,"body_markdown":"Please, provide us your configuration yml or properties.","body":"Please, provide us your configuration yml or properties."},{"owner":{"account_id":22993825,"reputation":21,"user_id":17118922,"display_name":"Ilya"},"score":1,"creation_date":1696114699,"post_id":77208651,"comment_id":136112693,"body_markdown":"Added application.yaml","body":"Added application.yaml"}],"answers":[{"comments":[{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1696235491,"post_id":77208674,"comment_id":136122424,"body_markdown":"Sounds like a possible bug in Spring. If you wanted to keep your nulls you could return a `StreamingResponseBody` and write your `Root` object to the output stream using the `writeValue` method of `ObjectMapper`. I think this should force a chunked response encoding as well as being more efficient on memory if you have a very large json object.","body":"Sounds like a possible bug in Spring. If you wanted to keep your nulls you could return a <code>StreamingResponseBody</code> and write your <code>Root</code> object to the output stream using the <code>writeValue</code> method of <code>ObjectMapper</code>. I think this should force a chunked response encoding as well as being more efficient on memory if you have a very large json object."}],"tags":[],"owner":{"account_id":22993825,"reputation":21,"user_id":17118922,"display_name":"Ilya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696693492,"creation_date":1696113816,"answer_id":77208674,"question_id":77208651,"body_markdown":"As it turns out, ResponseEntity is incorrectly accounting for Content-length header. This occurred because the external API could return an object with null fields. To fix it, you need to allow jackson to pass null fields using ```@JsonInclude(JsonInclude.Include.NON_NULL)``` annotation which is placed above POJO. By putting it over all serializable fields in this structure I got: \r\n\r\n```\r\n{\r\n    &quot;coord&quot;: {\r\n        &quot;lat&quot;: 1.4,\r\n        &quot;lon&quot;: 2.33\r\n    },\r\n    &quot;weather&quot;: [\r\n        {\r\n            &quot;id&quot;: 804,\r\n            &quot;main&quot;: &quot;Clouds&quot;,\r\n            &quot;description&quot;: &quot;overcast clouds&quot;,\r\n            &quot;icon&quot;: &quot;04n&quot;\r\n        }\r\n    ],\r\n    &quot;base&quot;: &quot;stations&quot;,\r\n    &quot;main&quot;: {\r\n        &quot;temp&quot;: 26.15,\r\n        &quot;feels_like&quot;: 26.15,\r\n        &quot;temp_min&quot;: 26.15,\r\n        &quot;temp_max&quot;: 26.15,\r\n        &quot;pressure&quot;: 1014,\r\n        &quot;humidity&quot;: 79,\r\n        &quot;sea_level&quot;: 1014,\r\n        &quot;grnd_level&quot;: 1014\r\n    },\r\n    &quot;visibility&quot;: 10000,\r\n    &quot;wind&quot;: {\r\n        &quot;speed&quot;: 6.34,\r\n        &quot;deg&quot;: 198,\r\n        &quot;gust&quot;: 6.08\r\n    },\r\n    &quot;clouds&quot;: {\r\n        &quot;all&quot;: 100\r\n    },\r\n    &quot;dt&quot;: 1696111416,\r\n    &quot;sys&quot;: {\r\n        &quot;sunrise&quot;: 1696052261,\r\n        &quot;sunset&quot;: 1696095829\r\n    },\r\n    &quot;timezone&quot;: 0,\r\n    &quot;id&quot;: 0,\r\n    &quot;name&quot;: &quot;&quot;,\r\n    &quot;cod&quot;: 200\r\n}\r\n```\r\nI tried to do something different and the changes in my method gave the correct result too.\r\n```\r\n    @GetMapping(value = &quot;/weather/lat={lat}&amp;lon={lon}&quot;)\r\n    @Cacheable(value = &quot;root&quot;, key = &quot;{#lat , #lon}&quot;)\r\n    public ResponseEntity&lt;Root&gt; getWeather(@PathVariable(&quot;lat&quot;) String lat, @PathVariable(&quot;lon&quot;) String lon) {\r\n        try{\r\n            String request = String.format(&quot;%s?lat=%s&amp;lon=%s&amp;units=metric&amp;appid=%s&quot;,\r\n                    weatherUrl, lat, lon, appId);\r\n            var r = restTemplate.getForObject(request, Root.class);\r\n            return ResponseEntity.ok().body(r);\r\n        }catch (RestClientException e){\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n```\r\nI hope this helps someone.","title":"ResponceEntity. The controller truncates the JSON portion of the response","body":"<p>As it turns out, ResponseEntity is incorrectly accounting for Content-length header. This occurred because the external API could return an object with null fields. To fix it, you need to allow jackson to pass null fields using <code>@JsonInclude(JsonInclude.Include.NON_NULL)</code> annotation which is placed above POJO. By putting it over all serializable fields in this structure I got:</p>\n<pre><code>{\n    &quot;coord&quot;: {\n        &quot;lat&quot;: 1.4,\n        &quot;lon&quot;: 2.33\n    },\n    &quot;weather&quot;: [\n        {\n            &quot;id&quot;: 804,\n            &quot;main&quot;: &quot;Clouds&quot;,\n            &quot;description&quot;: &quot;overcast clouds&quot;,\n            &quot;icon&quot;: &quot;04n&quot;\n        }\n    ],\n    &quot;base&quot;: &quot;stations&quot;,\n    &quot;main&quot;: {\n        &quot;temp&quot;: 26.15,\n        &quot;feels_like&quot;: 26.15,\n        &quot;temp_min&quot;: 26.15,\n        &quot;temp_max&quot;: 26.15,\n        &quot;pressure&quot;: 1014,\n        &quot;humidity&quot;: 79,\n        &quot;sea_level&quot;: 1014,\n        &quot;grnd_level&quot;: 1014\n    },\n    &quot;visibility&quot;: 10000,\n    &quot;wind&quot;: {\n        &quot;speed&quot;: 6.34,\n        &quot;deg&quot;: 198,\n        &quot;gust&quot;: 6.08\n    },\n    &quot;clouds&quot;: {\n        &quot;all&quot;: 100\n    },\n    &quot;dt&quot;: 1696111416,\n    &quot;sys&quot;: {\n        &quot;sunrise&quot;: 1696052261,\n        &quot;sunset&quot;: 1696095829\n    },\n    &quot;timezone&quot;: 0,\n    &quot;id&quot;: 0,\n    &quot;name&quot;: &quot;&quot;,\n    &quot;cod&quot;: 200\n}\n</code></pre>\n<p>I tried to do something different and the changes in my method gave the correct result too.</p>\n<pre><code>    @GetMapping(value = &quot;/weather/lat={lat}&amp;lon={lon}&quot;)\n    @Cacheable(value = &quot;root&quot;, key = &quot;{#lat , #lon}&quot;)\n    public ResponseEntity&lt;Root&gt; getWeather(@PathVariable(&quot;lat&quot;) String lat, @PathVariable(&quot;lon&quot;) String lon) {\n        try{\n            String request = String.format(&quot;%s?lat=%s&amp;lon=%s&amp;units=metric&amp;appid=%s&quot;,\n                    weatherUrl, lat, lon, appId);\n            var r = restTemplate.getForObject(request, Root.class);\n            return ResponseEntity.ok().body(r);\n        }catch (RestClientException e){\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n        }\n    }\n</code></pre>\n<p>I hope this helps someone.</p>\n"}],"owner":{"account_id":22993825,"reputation":21,"user_id":17118922,"display_name":"Ilya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77208674,"answer_count":1,"score":1,"last_activity_date":1696693492,"creation_date":1696113163,"question_id":77208651,"body_markdown":"I have a controller that sends a request to an external API using RestTemplate and gets a data structure. This structure it should return, but when using my controller sometimes the end of the JSON response is dropped. \r\n\r\nI tried to customize RestTemplate and increase the response size in application.yaml\r\n\r\nMy controller:\r\n\r\n```\r\n    @GetMapping(value = &quot;/weather/lat={lat}&amp;lon={lon}&quot;)\r\n    @Cacheable(value = &quot;root&quot;, key = &quot;{#lat , #lon}&quot;)\r\n    public ResponseEntity&lt;Root&gt; getWeather(@PathVariable(&quot;lat&quot;) String lat, @PathVariable(&quot;lon&quot;) String lon) {\r\n        try{\r\n            String request = String.format(&quot;%s?lat=%s&amp;lon=%s&amp;units=metric&amp;appid=%s&quot;,\r\n                    weatherUrl, lat, lon, appId);\r\n            return restTemplate.getForEntity(request, Root.class);\r\n        }catch (RestClientException e){\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n```\r\n\r\nExample of a truncated query:\r\n\r\n```\r\n{\r\n    &quot;coord&quot;: {\r\n        &quot;lat&quot;: 1.4,\r\n        &quot;lon&quot;: 2.33\r\n    },\r\n    &quot;weather&quot;: [\r\n        {\r\n            &quot;id&quot;: 804,\r\n            &quot;main&quot;: &quot;Clouds&quot;,\r\n            &quot;description&quot;: &quot;overcast clouds&quot;,\r\n            &quot;icon&quot;: &quot;04n&quot;\r\n        }\r\n    ],\r\n    &quot;base&quot;: &quot;stations&quot;,\r\n    &quot;main&quot;: {\r\n        &quot;temp&quot;: 26.15,\r\n        &quot;feels_like&quot;: 26.15,\r\n        &quot;temp_min&quot;: 26.15,\r\n        &quot;temp_max&quot;: 26.15,\r\n        &quot;pressure&quot;: 1014,\r\n        &quot;humidity&quot;: 79,\r\n        &quot;sea_level&quot;: 1014,\r\n        &quot;grnd_level&quot;: 1014\r\n    },\r\n    &quot;visibility&quot;: 10000,\r\n    &quot;wind&quot;: {\r\n        &quot;speed&quot;: 6.34,\r\n        &quot;deg&quot;: 198,\r\n        &quot;gust&quot;: 6.08\r\n    },\r\n    &quot;clouds&quot;: {\r\n        &quot;all&quot;: 100\r\n    },\r\n    &quot;dt&quot;: 1696111416,\r\n    &quot;sys&quot;: {\r\n        &quot;sunrise&quot;: 1696052261,\r\n        &quot;sunset&quot;: 1696095829\r\n    },\r\n    &quot;timezone&quot;: 0,\r\n    &quot;id&quot;: 0,\r\n    &quot;name&quot;:&quot;co\r\n```\r\n\r\napplication.yaml:\r\n```\r\nspring:\r\n  application:\r\n    name: weather-service\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 10MB\r\n      max-request-size: 10MB\r\n  boot:\r\n    admin:\r\n      client:\r\n        instance:\r\n          api-gateway-port: 17957\r\n          management-base-url: http://localhost:${spring.boot.admin.client.instance.api-gateway-port}\r\n\r\neureka:\r\n  instance:\r\n    instance-id: ${spring.application.name}:${random.value}\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:8888/eureka/\r\n\r\nappid: *********************\r\n\r\n\r\nurl:\r\n  external-api:\r\n    weather: https://api.openweathermap.org/data/2.5/weather\r\n\r\nserver:\r\n  port: 0\r\n```\r\n","title":"ResponceEntity. The controller truncates the JSON portion of the response","body":"<p>I have a controller that sends a request to an external API using RestTemplate and gets a data structure. This structure it should return, but when using my controller sometimes the end of the JSON response is dropped.</p>\n<p>I tried to customize RestTemplate and increase the response size in application.yaml</p>\n<p>My controller:</p>\n<pre><code>    @GetMapping(value = &quot;/weather/lat={lat}&amp;lon={lon}&quot;)\n    @Cacheable(value = &quot;root&quot;, key = &quot;{#lat , #lon}&quot;)\n    public ResponseEntity&lt;Root&gt; getWeather(@PathVariable(&quot;lat&quot;) String lat, @PathVariable(&quot;lon&quot;) String lon) {\n        try{\n            String request = String.format(&quot;%s?lat=%s&amp;lon=%s&amp;units=metric&amp;appid=%s&quot;,\n                    weatherUrl, lat, lon, appId);\n            return restTemplate.getForEntity(request, Root.class);\n        }catch (RestClientException e){\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n        }\n    }\n</code></pre>\n<p>Example of a truncated query:</p>\n<pre><code>{\n    &quot;coord&quot;: {\n        &quot;lat&quot;: 1.4,\n        &quot;lon&quot;: 2.33\n    },\n    &quot;weather&quot;: [\n        {\n            &quot;id&quot;: 804,\n            &quot;main&quot;: &quot;Clouds&quot;,\n            &quot;description&quot;: &quot;overcast clouds&quot;,\n            &quot;icon&quot;: &quot;04n&quot;\n        }\n    ],\n    &quot;base&quot;: &quot;stations&quot;,\n    &quot;main&quot;: {\n        &quot;temp&quot;: 26.15,\n        &quot;feels_like&quot;: 26.15,\n        &quot;temp_min&quot;: 26.15,\n        &quot;temp_max&quot;: 26.15,\n        &quot;pressure&quot;: 1014,\n        &quot;humidity&quot;: 79,\n        &quot;sea_level&quot;: 1014,\n        &quot;grnd_level&quot;: 1014\n    },\n    &quot;visibility&quot;: 10000,\n    &quot;wind&quot;: {\n        &quot;speed&quot;: 6.34,\n        &quot;deg&quot;: 198,\n        &quot;gust&quot;: 6.08\n    },\n    &quot;clouds&quot;: {\n        &quot;all&quot;: 100\n    },\n    &quot;dt&quot;: 1696111416,\n    &quot;sys&quot;: {\n        &quot;sunrise&quot;: 1696052261,\n        &quot;sunset&quot;: 1696095829\n    },\n    &quot;timezone&quot;: 0,\n    &quot;id&quot;: 0,\n    &quot;name&quot;:&quot;co\n</code></pre>\n<p>application.yaml:</p>\n<pre><code>spring:\n  application:\n    name: weather-service\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n  boot:\n    admin:\n      client:\n        instance:\n          api-gateway-port: 17957\n          management-base-url: http://localhost:${spring.boot.admin.client.instance.api-gateway-port}\n\neureka:\n  instance:\n    instance-id: ${spring.application.name}:${random.value}\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:8888/eureka/\n\nappid: *********************\n\n\nurl:\n  external-api:\n    weather: https://api.openweathermap.org/data/2.5/weather\n\nserver:\n  port: 0\n</code></pre>\n"},{"tags":["java","android","networking","retrofit"],"comments":[{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1696331853,"post_id":77221360,"comment_id":136136396,"body_markdown":"check the response body and call.request.url  as well","body":"check the response body and call.request.url  as well"},{"owner":{"account_id":24009548,"reputation":49,"user_id":17993307,"display_name":"Mamta"},"score":0,"creation_date":1696332555,"post_id":77221360,"comment_id":136136503,"body_markdown":"@RohaitasTanoli check the request url and url is correct and the response is only one message {\n    &quot;message&quot;: &quot;Customer updated successfully&quot;\n}","body":"@RohaitasTanoli check the request url and url is correct and the response is only one message {     &quot;message&quot;: &quot;Customer updated successfully&quot; }"},{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1696333475,"post_id":77221360,"comment_id":136136686,"body_markdown":"That means Api is successfull. The errror is somewhereelse","body":"That means Api is successfull. The errror is somewhereelse"}],"owner":{"account_id":24009548,"reputation":49,"user_id":17993307,"display_name":"Mamta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696693305,"creation_date":1696327969,"question_id":77221360,"body_markdown":"In my Android app, for update profile page I am using API, and when I call the API the response is showing success and I check the status code 200 but the data is not loaded in database, using Postman the data is loaded correctly but from my phone the data is not loaded,\r\n\r\nOne day before it is working file but today it is not adding data, even I don&#39;t change a single word or line in code.\r\n\r\nThe API is post API, and it is use form-data for data,\r\n\r\nBelow is my API code\r\n\r\n**API Handler Class**\r\n\r\n```\r\nimport okhttp3.OkHttpClient;\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class ApiHandler {\r\n\r\n    private static final String BASE_URL = &quot;https://rndtd.com/demos/scrapbazar/api/&quot;;\r\n\r\n    private static Retrofit retrofit;\r\n\r\n    public static Retrofit getRetrofitInstance() {\r\n\r\n        if(retrofit == null){\r\n\r\n          \r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n\r\n        return retrofit;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Interface for API endpoint**\r\n\r\n\r\n```\r\npublic interface ApiInterface {\r\n\r\n    @GET(&quot;allProducts&quot;)\r\n    Call&lt;List&lt;List&lt;Product&gt;&gt;&gt; getAllProducts();\r\n\r\n  @Multipart\r\n    @POST(&quot;updateprofile&quot;)\r\n    Call&lt;ResponseBody&gt; updateUserProfile(\r\n            @Part(&quot;id&quot;) int id,\r\n            @Part(&quot;first_name&quot;) String userName,\r\n            @Part(&quot;email&quot;) String email,\r\n            @Part MultipartBody.Part image\r\n            );\r\n\r\n}\r\n```\r\n\r\n\r\n**Method where I call the API**\r\n\r\n```\r\n public void updateProfile() {\r\n\r\n        ApiInterface apiInterface = getRetrofitInstance().create(ApiInterface.class);\r\n\r\n        int id = SaveSharedPreference.getUserId(this);\r\n        String userName = etUserName.getText().toString();\r\n        String email = etEmail.getText().toString();\r\n\r\n        if (userName.isEmpty() || email.isEmpty() || selectedImageUri == null) {\r\n            mProgress.dismiss();\r\n            Toast.makeText(this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\r\n            return; // Exit the method if any field is missing\r\n        }\r\n\r\n        if (selectedImageUri != null) {\r\n            String fileName = getFileName(selectedImageUri);\r\n           \r\n            File imageFile = new File(getCacheDir(), fileName);\r\n\r\n            try {\r\n                InputStream inputStream = getContentResolver().openInputStream(selectedImageUri);\r\n                FileOutputStream fileOutputStream = new FileOutputStream(imageFile);\r\n                byte[] buffer = new byte[1024];\r\n                int bytesRead;\r\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                    fileOutputStream.write(buffer, 0, bytesRead);\r\n                }\r\n                inputStream.close();\r\n                fileOutputStream.close();\r\n\r\n            }\r\n            catch (IOException e)  {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n\r\n            RequestBody imageRequestFile = RequestBody.create(MediaType.parse(getMimeType(selectedImageUri)), imageFile);\r\n            MultipartBody.Part imagePart = MultipartBody.Part.createFormData(&quot;image&quot;, imageFile.getName(), imageRequestFile);\r\n\r\n            Log.d(&quot;Request Data&quot;, &quot;ID: &quot; + id);\r\n            Log.d(&quot;Request Data&quot;, &quot;UserName: &quot; + userName);\r\n            Log.d(&quot;Request Data&quot;, &quot;Email: &quot; + email);\r\n            Log.d(&quot;Request Data&quot;, &quot;image: &quot; + imagePart);\r\n\r\n            Call&lt;ResponseBody&gt; call = apiInterface.updateUserProfile(id, userName, email, imagePart);\r\n\r\n            call.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n\r\n                    int responseCode = response.code();\r\n                    Toast.makeText(EditProfile.this, &quot;code : &quot; + responseCode, Toast.LENGTH_SHORT).show();\r\n\r\n                    if (response.isSuccessful()) {\r\n\r\n                        String msg = &quot;Customer Updated Successfully&quot;;\r\n                        Toast.makeText(EditProfile.this, &quot;&quot; + msg, Toast.LENGTH_SHORT).show();\r\n                        finish();\r\n\r\n                    } else {\r\n                        mProgress.dismiss();\r\n                        Toast.makeText(EditProfile.this, &quot;Response is not success&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                    mProgress.dismiss();\r\n                    Log.e(&quot;Tag&quot;, &quot;Error : &quot; + t.getLocalizedMessage());\r\n                    Toast.makeText(EditProfile.this, &quot;Error &quot; + t.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    } \r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nWhen I am check the logcat then the data is showing correctly :\r\n\r\n**My log in logcat are:**\r\n\r\n**ID: 2**\r\n\r\n**UserName: myName**\r\n\r\n**Email: myName@gmail.com**\r\n\r\n**image: okhttp3.MultipartBody$Part@2afca0d**\r\n\r\n\r\n","title":"Status code 200 but still data not loading in server end","body":"<p>In my Android app, for update profile page I am using API, and when I call the API the response is showing success and I check the status code 200 but the data is not loaded in database, using Postman the data is loaded correctly but from my phone the data is not loaded,</p>\n<p>One day before it is working file but today it is not adding data, even I don't change a single word or line in code.</p>\n<p>The API is post API, and it is use form-data for data,</p>\n<p>Below is my API code</p>\n<p><strong>API Handler Class</strong></p>\n<pre><code>import okhttp3.OkHttpClient;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class ApiHandler {\n\n    private static final String BASE_URL = &quot;https://rndtd.com/demos/scrapbazar/api/&quot;;\n\n    private static Retrofit retrofit;\n\n    public static Retrofit getRetrofitInstance() {\n\n        if(retrofit == null){\n\n          \n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n\n        return retrofit;\n    }\n}\n\n</code></pre>\n<p><strong>Interface for API endpoint</strong></p>\n<pre><code>public interface ApiInterface {\n\n    @GET(&quot;allProducts&quot;)\n    Call&lt;List&lt;List&lt;Product&gt;&gt;&gt; getAllProducts();\n\n  @Multipart\n    @POST(&quot;updateprofile&quot;)\n    Call&lt;ResponseBody&gt; updateUserProfile(\n            @Part(&quot;id&quot;) int id,\n            @Part(&quot;first_name&quot;) String userName,\n            @Part(&quot;email&quot;) String email,\n            @Part MultipartBody.Part image\n            );\n\n}\n</code></pre>\n<p><strong>Method where I call the API</strong></p>\n<pre><code> public void updateProfile() {\n\n        ApiInterface apiInterface = getRetrofitInstance().create(ApiInterface.class);\n\n        int id = SaveSharedPreference.getUserId(this);\n        String userName = etUserName.getText().toString();\n        String email = etEmail.getText().toString();\n\n        if (userName.isEmpty() || email.isEmpty() || selectedImageUri == null) {\n            mProgress.dismiss();\n            Toast.makeText(this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\n            return; // Exit the method if any field is missing\n        }\n\n        if (selectedImageUri != null) {\n            String fileName = getFileName(selectedImageUri);\n           \n            File imageFile = new File(getCacheDir(), fileName);\n\n            try {\n                InputStream inputStream = getContentResolver().openInputStream(selectedImageUri);\n                FileOutputStream fileOutputStream = new FileOutputStream(imageFile);\n                byte[] buffer = new byte[1024];\n                int bytesRead;\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\n                    fileOutputStream.write(buffer, 0, bytesRead);\n                }\n                inputStream.close();\n                fileOutputStream.close();\n\n            }\n            catch (IOException e)  {\n                e.printStackTrace();\n            }\n\n\n\n            RequestBody imageRequestFile = RequestBody.create(MediaType.parse(getMimeType(selectedImageUri)), imageFile);\n            MultipartBody.Part imagePart = MultipartBody.Part.createFormData(&quot;image&quot;, imageFile.getName(), imageRequestFile);\n\n            Log.d(&quot;Request Data&quot;, &quot;ID: &quot; + id);\n            Log.d(&quot;Request Data&quot;, &quot;UserName: &quot; + userName);\n            Log.d(&quot;Request Data&quot;, &quot;Email: &quot; + email);\n            Log.d(&quot;Request Data&quot;, &quot;image: &quot; + imagePart);\n\n            Call&lt;ResponseBody&gt; call = apiInterface.updateUserProfile(id, userName, email, imagePart);\n\n            call.enqueue(new Callback&lt;ResponseBody&gt;() {\n                @Override\n                public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n\n                    int responseCode = response.code();\n                    Toast.makeText(EditProfile.this, &quot;code : &quot; + responseCode, Toast.LENGTH_SHORT).show();\n\n                    if (response.isSuccessful()) {\n\n                        String msg = &quot;Customer Updated Successfully&quot;;\n                        Toast.makeText(EditProfile.this, &quot;&quot; + msg, Toast.LENGTH_SHORT).show();\n                        finish();\n\n                    } else {\n                        mProgress.dismiss();\n                        Toast.makeText(EditProfile.this, &quot;Response is not success&quot;, Toast.LENGTH_SHORT).show();\n                    }\n\n                }\n\n                @Override\n                public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n                    mProgress.dismiss();\n                    Log.e(&quot;Tag&quot;, &quot;Error : &quot; + t.getLocalizedMessage());\n                    Toast.makeText(EditProfile.this, &quot;Error &quot; + t.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n    } \n\n</code></pre>\n<p>When I am check the logcat then the data is showing correctly :</p>\n<p><strong>My log in logcat are:</strong></p>\n<p><strong>ID: 2</strong></p>\n<p><strong>UserName: myName</strong></p>\n<p><strong>Email: myName@gmail.com</strong></p>\n<p><strong>image: okhttp3.MultipartBody$Part@2afca0d</strong></p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":9,"creation_date":1354707653,"post_id":13721579,"comment_id":18849721,"body_markdown":"This usually means you&#39;ve done something wrong with packaging of the classes/jars and/or the classpath. You can&#39;t extract the BC classes from their jar and put them in another jar.","body":"This usually means you&#39;ve done something wrong with packaging of the classes/jars and/or the classpath. You can&#39;t extract the BC classes from their jar and put them in another jar."},{"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":1,"creation_date":1537663535,"post_id":13721579,"comment_id":91866271,"body_markdown":"Check you classpath, maybe you have several different versions of BouncyCastle JARs as it happened to me.","body":"Check you classpath, maybe you have several different versions of BouncyCastle JARs as it happened to me."}],"answers":[{"comments":[{"owner":{"account_id":6806648,"reputation":1563,"user_id":5332629,"accept_rate":56,"display_name":"Hosein Aqajani"},"score":11,"creation_date":1463545630,"post_id":13726570,"comment_id":62104920,"body_markdown":"I did not extract or recompile the jar file, I only download bcprov-jdk14 and bcpkix-jdk14 from http://repo2.maven.org/maven2/org/bouncycastle/ ; however, it does not work for me!","body":"I did not extract or recompile the jar file, I only download bcprov-jdk14 and bcpkix-jdk14 from <a href=\"http://repo2.maven.org/maven2/org/bouncycastle/\" rel=\"nofollow noreferrer\">repo2.maven.org/maven2/org/bouncycastle</a> ; however, it does not work for me!"},{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":2,"creation_date":1531141445,"post_id":13726570,"comment_id":89471096,"body_markdown":"Use OpenJDK. It does not require the JCE provider to be signed.","body":"Use OpenJDK. It does not require the JCE provider to be signed."}],"tags":[],"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1354721072,"creation_date":1354721072,"answer_id":13726570,"question_id":13721579,"body_markdown":"To expand on the comment from GregS, all JCE provider JARs must be signed before they will be trusted by your Java runtime.\r\n\r\nBouncyCastle dutifully supplies signed JARs that will work without a problem. However, if you extract class files from this JAR, or recompile the source, it will remove the signature and cause Java to reject the code.\r\n\r\nSee this related SO question: https://stackoverflow.com/questions/1756801/how-to-sign-a-custom-jce-security-provider","title":"JCE cannot authenticate the provider BC in java swing application","body":"<p>To expand on the comment from GregS, all JCE provider JARs must be signed before they will be trusted by your Java runtime.</p>\n\n<p>BouncyCastle dutifully supplies signed JARs that will work without a problem. However, if you extract class files from this JAR, or recompile the source, it will remove the signature and cause Java to reject the code.</p>\n\n<p>See this related SO question: <a href=\"https://stackoverflow.com/questions/1756801/how-to-sign-a-custom-jce-security-provider\">How to sign a custom JCE security provider</a></p>\n"},{"comments":[{"owner":{"account_id":57702,"reputation":2304,"user_id":172854,"accept_rate":77,"display_name":"rsmoorthy"},"score":2,"creation_date":1423158875,"post_id":19562164,"comment_id":45045249,"body_markdown":"This worked great for me! I was using jython, even though I specified the jar files directly (did not extract class files separately), I got the exception stated. Possibly jython extracts it. Great solution. Thanks!","body":"This worked great for me! I was using jython, even though I specified the jar files directly (did not extract class files separately), I got the exception stated. Possibly jython extracts it. Great solution. Thanks!"},{"owner":{"account_id":6806648,"reputation":1563,"user_id":5332629,"accept_rate":56,"display_name":"Hosein Aqajani"},"score":0,"creation_date":1463465294,"post_id":19562164,"comment_id":62062906,"body_markdown":"It does not work for me?\nI did these two steps; however, I keep getting this error. any Help please","body":"It does not work for me? I did these two steps; however, I keep getting this error. any Help please"},{"owner":{"account_id":4725938,"reputation":559,"user_id":3822574,"accept_rate":60,"display_name":"KaKa"},"score":6,"creation_date":1478064194,"post_id":19562164,"comment_id":67998942,"body_markdown":"For more information: `bc*.jar` means the BouncyCastle&#39;s jar file that can be download from web. For me, it&#39;s `bcprov-jdk15-140.jar`","body":"For more information: <code>bc*.jar</code> means the BouncyCastle&#39;s jar file that can be download from web. For me, it&#39;s <code>bcprov-jdk15-140.jar</code>"},{"owner":{"account_id":1999698,"reputation":148,"user_id":1920108,"display_name":"bladefist"},"score":0,"creation_date":1522691761,"post_id":19562164,"comment_id":86239196,"body_markdown":"does anything else need to be done? for example restart of Java App or restart of Operating System?","body":"does anything else need to be done? for example restart of Java App or restart of Operating System?"},{"owner":{"account_id":6288965,"reputation":622,"user_id":5844870,"accept_rate":0,"display_name":"NKM"},"score":0,"creation_date":1631151745,"post_id":19562164,"comment_id":122148121,"body_markdown":"Followed above steps and worked great for me. Additionally I uncommented `java.security=unlimited` line. I am on JRE version &quot;1.8.0_271&quot;.","body":"Followed above steps and worked great for me. Additionally I uncommented <code>java.security=unlimited</code> line. I am on JRE version &quot;1.8.0_271&quot;."},{"owner":{"account_id":7718629,"reputation":61,"user_id":5845510,"display_name":"Sachita"},"score":0,"creation_date":1683825353,"post_id":19562164,"comment_id":134429560,"body_markdown":"This worked for my exception in Grails Application as well. However, I already had this line:\n`security.provider.10=apple.security.AppleProvider`\nwhich I changed into this:\n`security.provider.10=org.bouncycastle.jce.provider.BouncyCastleProvider`\n\nWill it affect any other modules / workflow?","body":"This worked for my exception in Grails Application as well. However, I already had this line: <code>security.provider.10=apple.security.AppleProvider</code> which I changed into this: <code>security.provider.10=org.bouncycastle.jce.provider.BouncyCas&zwnj;&#8203;tleProvider</code>  Will it affect any other modules / workflow?"}],"tags":[],"owner":{"account_id":3483649,"reputation":571,"user_id":2915079,"display_name":"jiangzx"},"comment_count":6,"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1569863994,"creation_date":1382607178,"answer_id":19562164,"question_id":13721579,"body_markdown":"1. edit `jre\\lib\\security\\java.security`\r\n1. add `security.provider.10=org.bouncycastle.jce.provider.BouncyCastleProvider`\r\n1. copy `bc*.jar` to `jre\\lib\\ext`","title":"JCE cannot authenticate the provider BC in java swing application","body":"<ol>\n<li>edit <code>jre\\lib\\security\\java.security</code></li>\n<li>add <code>security.provider.10=org.bouncycastle.jce.provider.BouncyCastleProvider</code></li>\n<li>copy <code>bc*.jar</code> to <code>jre\\lib\\ext</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":941474,"reputation":2004,"user_id":969478,"accept_rate":64,"display_name":"Giszmo"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1484523106,"creation_date":1465530194,"answer_id":37739524,"question_id":13721579,"body_markdown":"For those finding this issue but actually using `SpongyCastle`, it might be interesting to know that on Android there is no such signature test and for your tests you can use SpongyCastle via the openJDK-8 as that doesn&#39;t care about signatures neither.\r\n\r\nFor reference, with SpongyCastle the error reads:\r\n\r\n    java.lang.SecurityException: JCE cannot authenticate the provider SC\r\n\r\nMore information in [this issue](https://github.com/rtyley/spongycastle-old/issues/13)","title":"JCE cannot authenticate the provider BC in java swing application","body":"<p>For those finding this issue but actually using <code>SpongyCastle</code>, it might be interesting to know that on Android there is no such signature test and for your tests you can use SpongyCastle via the openJDK-8 as that doesn't care about signatures neither.</p>\n\n<p>For reference, with SpongyCastle the error reads:</p>\n\n<pre><code>java.lang.SecurityException: JCE cannot authenticate the provider SC\n</code></pre>\n\n<p>More information in <a href=\"https://github.com/rtyley/spongycastle-old/issues/13\" rel=\"nofollow noreferrer\">this issue</a></p>\n"},{"tags":[],"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525757178,"creation_date":1525756615,"answer_id":50226284,"question_id":13721579,"body_markdown":"For me the issue was `bcprov-ext-jdk16.jar` was being discarded by `sbt assembly`.\r\n\r\n    [warn] Merging &#39;META-INF/license/LICENSE.bouncycastle.txt&#39; with strategy &#39;discard&#39;\r\n    ..\r\n    [warn] Merging &#39;META-INF/maven/org.jasypt/jasypt/pom.properties&#39; with strategy &#39;discard&#39;\r\n    [warn] Merging &#39;META-INF/maven/org.jasypt/jasypt/pom.xml&#39; with strategy &#39;discard&#39;\r\n    ..\r\n\r\nSo I ended up using the `bouncycastle.jar` [from `-classpath`](https://stackoverflow.com/a/18413058/432903) as below, \r\n\r\n    java -Denvironment=dev -cp chat-server.jar:/Users/prayagupd/.ivy2/cache/org.bouncycastle/bcprov-ext-jdk16/jars/bcprov-ext-jdk16-1.46.jar com.chat.server.ChatServer\r\n\r\n**What also works is putting the bouncycastle.jar to `$JAVA_HOME/jre/lib/ext`,**\r\n\r\n    cp /Users/prayagupd/.ivy2/cache/org.bouncycastle/bcprov-ext-jdk16/jars/bcprov-ext-jdk16-1.46.jar $JAVA_HOME/jre/lib/ext/\r\n    \r\n    $ ls -l $JAVA_HOME/jre/lib/ext/\r\n    total 55208\r\n    -rw-r--r--  1 root  wheel   1887089 May  7 21:22 bcprov-ext-jdk16-1.46.jar\r\n    -rw-rw-r--  1 root  wheel   3860502 Sep  5  2017 cldrdata.jar\r\n    -rw-rw-r--  1 root  wheel      8286 Sep  5  2017 dnsns.jar\r\n    -rw-rw-r--  1 root  wheel     44516 Sep  5  2017 jaccess.jar\r\n    -rwxrwxr-x  1 root  wheel  18610276 Sep  5  2017 jfxrt.jar\r\n    -rw-rw-r--  1 root  wheel   1179093 Sep  5  2017 localedata.jar\r\n    -rw-rw-r--  1 root  wheel      1269 Sep  5  2017 meta-index\r\n    -rw-rw-r--  1 root  wheel   2022735 Sep  5  2017 nashorn.jar\r\n    -rw-rw-r--  1 root  wheel     41672 Sep  5  2017 sunec.jar\r\n    -rw-rw-r--  1 root  wheel    274148 Sep  5  2017 sunjce_provider.jar\r\n    -rw-rw-r--  1 root  wheel    248726 Sep  5  2017 sunpkcs11.jar\r\n    -rw-rw-r--  1 root  wheel     68924 Sep  5  2017 zipfs.jar\r\n\r\n","title":"JCE cannot authenticate the provider BC in java swing application","body":"<p>For me the issue was <code>bcprov-ext-jdk16.jar</code> was being discarded by <code>sbt assembly</code>.</p>\n\n<pre><code>[warn] Merging 'META-INF/license/LICENSE.bouncycastle.txt' with strategy 'discard'\n..\n[warn] Merging 'META-INF/maven/org.jasypt/jasypt/pom.properties' with strategy 'discard'\n[warn] Merging 'META-INF/maven/org.jasypt/jasypt/pom.xml' with strategy 'discard'\n..\n</code></pre>\n\n<p>So I ended up using the <code>bouncycastle.jar</code> <a href=\"https://stackoverflow.com/a/18413058/432903\">from <code>-classpath</code></a> as below, </p>\n\n<pre><code>java -Denvironment=dev -cp chat-server.jar:/Users/prayagupd/.ivy2/cache/org.bouncycastle/bcprov-ext-jdk16/jars/bcprov-ext-jdk16-1.46.jar com.chat.server.ChatServer\n</code></pre>\n\n<p><strong>What also works is putting the bouncycastle.jar to <code>$JAVA_HOME/jre/lib/ext</code>,</strong></p>\n\n<pre><code>cp /Users/prayagupd/.ivy2/cache/org.bouncycastle/bcprov-ext-jdk16/jars/bcprov-ext-jdk16-1.46.jar $JAVA_HOME/jre/lib/ext/\n\n$ ls -l $JAVA_HOME/jre/lib/ext/\ntotal 55208\n-rw-r--r--  1 root  wheel   1887089 May  7 21:22 bcprov-ext-jdk16-1.46.jar\n-rw-rw-r--  1 root  wheel   3860502 Sep  5  2017 cldrdata.jar\n-rw-rw-r--  1 root  wheel      8286 Sep  5  2017 dnsns.jar\n-rw-rw-r--  1 root  wheel     44516 Sep  5  2017 jaccess.jar\n-rwxrwxr-x  1 root  wheel  18610276 Sep  5  2017 jfxrt.jar\n-rw-rw-r--  1 root  wheel   1179093 Sep  5  2017 localedata.jar\n-rw-rw-r--  1 root  wheel      1269 Sep  5  2017 meta-index\n-rw-rw-r--  1 root  wheel   2022735 Sep  5  2017 nashorn.jar\n-rw-rw-r--  1 root  wheel     41672 Sep  5  2017 sunec.jar\n-rw-rw-r--  1 root  wheel    274148 Sep  5  2017 sunjce_provider.jar\n-rw-rw-r--  1 root  wheel    248726 Sep  5  2017 sunpkcs11.jar\n-rw-rw-r--  1 root  wheel     68924 Sep  5  2017 zipfs.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10625892,"reputation":145,"user_id":7825532,"display_name":"Abhishek"},"score":1,"creation_date":1581308242,"post_id":50813383,"comment_id":106374802,"body_markdown":"I tried with this approach but didn&#39;t work for me. I think reason was if you use jar in other project. BC prov error occurs there with same issue.","body":"I tried with this approach but didn&#39;t work for me. I think reason was if you use jar in other project. BC prov error occurs there with same issue."}],"tags":[],"owner":{"account_id":13759209,"reputation":1,"user_id":9929338,"display_name":"imsimm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528856821,"creation_date":1528794687,"answer_id":50813383,"question_id":13721579,"body_markdown":"FYI: instead of modifying java.security and copying jar to \\jre\\lib\\ext, below steps resolved my issue as well. \r\n\r\n1. add Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider()) in your class.\r\n2. add provided scope to bcprov.*.jar dependency in pom.xml.\r\n3. put bcprov.*.jar to your specific folder(e.g: \\lib), then refer it when run the project.\r\n","title":"JCE cannot authenticate the provider BC in java swing application","body":"<p>FYI: instead of modifying java.security and copying jar to \\jre\\lib\\ext, below steps resolved my issue as well. </p>\n\n<ol>\n<li>add Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider()) in your class.</li>\n<li>add provided scope to bcprov.*.jar dependency in pom.xml.</li>\n<li>put bcprov.*.jar to your specific folder(e.g: \\lib), then refer it when run the project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16597282,"reputation":11,"user_id":11993868,"display_name":"robcob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567075089,"creation_date":1567075089,"answer_id":57708361,"question_id":13721579,"body_markdown":"We have been suffering with the same issue for a few weeks and had tried a lot of the suggested steps to no avail. Providing our solution below so others don&#39;t have to suffer like we did!\r\n\r\nWe were attempting to use bcprov-ext-jdk15on-162.jar, added to classpath, included in JBoss lib directories, bundled with WAR, marked as provided and added to JBoss /lib directories but no luck.\r\n\r\nIn the end, we tried different versions of bouncycastle and found a less recent version who&#39;s signature could be verified by our particular Java version&#39;s jarsigner (1.5X).\r\n\r\nDespite the jar&#39;s signature being verifiable by our Java version, when the .jar is packaged into a WAR the signature was invalidated somehow by JBoss.\r\n\r\nIn the end, the solution for us was to;\r\n```\r\n1. Add bouncycastle jar to JBoss classpath\r\n2. Add &#39;org.bouncycastle.jce.provider.BouncyCastleProvider&#39; to &#39;java.security&#39; providers\r\n3. Mark bouncycastle in your WAR as a &#39;provided&#39; dependency\r\n```\r\n\r\nOnce we had a version of the .jar on our classpath and were sure that our WAR was not packaging it in we were golden.\r\n\r\nThe issue seems to be tightly coupled to whatever Java/JBoss version you happen to be using. So if this solution does not work for you I would suggest to test different versions of bouncycastle with \r\n```\r\njarsigner -verify &lt;bouncycastle.jar&gt;\r\n```\r\n\r\n","title":"JCE cannot authenticate the provider BC in java swing application","body":"<p>We have been suffering with the same issue for a few weeks and had tried a lot of the suggested steps to no avail. Providing our solution below so others don't have to suffer like we did!</p>\n\n<p>We were attempting to use bcprov-ext-jdk15on-162.jar, added to classpath, included in JBoss lib directories, bundled with WAR, marked as provided and added to JBoss /lib directories but no luck.</p>\n\n<p>In the end, we tried different versions of bouncycastle and found a less recent version who's signature could be verified by our particular Java version's jarsigner (1.5X).</p>\n\n<p>Despite the jar's signature being verifiable by our Java version, when the .jar is packaged into a WAR the signature was invalidated somehow by JBoss.</p>\n\n<p>In the end, the solution for us was to;</p>\n\n<pre><code>1. Add bouncycastle jar to JBoss classpath\n2. Add 'org.bouncycastle.jce.provider.BouncyCastleProvider' to 'java.security' providers\n3. Mark bouncycastle in your WAR as a 'provided' dependency\n</code></pre>\n\n<p>Once we had a version of the .jar on our classpath and were sure that our WAR was not packaging it in we were golden.</p>\n\n<p>The issue seems to be tightly coupled to whatever Java/JBoss version you happen to be using. So if this solution does not work for you I would suggest to test different versions of bouncycastle with </p>\n\n<pre><code>jarsigner -verify &lt;bouncycastle.jar&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10625892,"reputation":145,"user_id":7825532,"display_name":"Abhishek"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1577782900,"creation_date":1577782900,"answer_id":59541858,"question_id":13721579,"body_markdown":"There are lot of solutions to this problem but unfortunately nobody talks about the causing issue.\r\n\r\nIf you are generating an executable jar that has BC.jar in it(in form of any dependency) than this issue would occur if below condition matches:\r\n\r\n 1. Generating jar via eclipse&#39;s export option i.e. Export-&gt; Runnable Jar File -&gt; Libary Handling {extract required libraries into generated Jar}-&gt; FINISH\r\n\r\nBoom, now you have landed into trouble and you will face an error i.e. **JCE can&#39;t authenticate the provider BC**\r\n\r\nThe reason for above problem is, when you create a jar with option 1 than you are actually unpacking the BouncyCastle jar again that violates the security assosiated with BC. So, whenever you run it again java validates it and finds current BC.jar in your assosiated jar has an error.\r\n\r\nSo, guys make sure what you are doing is justified because by changing the JDK&#39;s security data that will make it work but not for everyone.\r\n\r\nHow to make it work?{This will work on local/personal machine only,not on every machine }\r\n\r\n 1. edit jre\\lib\\security\\java.security file\r\n 2. add security.provider.10=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n 3. copy bc*.jar to jre\\lib\\ext\r\n\r\nThat&#39;s it.","title":"JCE cannot authenticate the provider BC in java swing application","body":"<p>There are lot of solutions to this problem but unfortunately nobody talks about the causing issue.</p>\n\n<p>If you are generating an executable jar that has BC.jar in it(in form of any dependency) than this issue would occur if below condition matches:</p>\n\n<ol>\n<li>Generating jar via eclipse's export option i.e. Export-> Runnable Jar File -> Libary Handling {extract required libraries into generated Jar}-> FINISH</li>\n</ol>\n\n<p>Boom, now you have landed into trouble and you will face an error i.e. <strong>JCE can't authenticate the provider BC</strong></p>\n\n<p>The reason for above problem is, when you create a jar with option 1 than you are actually unpacking the BouncyCastle jar again that violates the security assosiated with BC. So, whenever you run it again java validates it and finds current BC.jar in your assosiated jar has an error.</p>\n\n<p>So, guys make sure what you are doing is justified because by changing the JDK's security data that will make it work but not for everyone.</p>\n\n<p>How to make it work?{This will work on local/personal machine only,not on every machine }</p>\n\n<ol>\n<li>edit jre\\lib\\security\\java.security file</li>\n<li>add security.provider.10=org.bouncycastle.jce.provider.BouncyCastleProvider</li>\n<li>copy bc*.jar to jre\\lib\\ext</li>\n</ol>\n\n<p>That's it.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1696935369,"post_id":77250436,"comment_id":136213375,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77250436/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27504089,"reputation":1,"user_id":20987139,"display_name":"Ayodeji Ajibade"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696692867,"creation_date":1696692867,"answer_id":77250436,"question_id":13721579,"body_markdown":"Just use Open JDK and the issue will disappear. I used openJDK21 ","title":"JCE cannot authenticate the provider BC in java swing application","body":"<p>Just use Open JDK and the issue will disappear. I used openJDK21</p>\n"}],"owner":{"account_id":1034128,"reputation":957,"user_id":1041858,"accept_rate":30,"display_name":"user1041858"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90743,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":13726570,"answer_count":8,"score":32,"last_activity_date":1696692867,"creation_date":1354704803,"question_id":13721579,"body_markdown":"I am creating a swing based application in Java which uses some encryption technique. But \r\njavax.crypto.KeyGenerator.getInstance(&quot;AES&quot;, &quot;BC&quot;) gives exception:\r\n\r\n\r\n    java.security.NoSuchProviderException: JCE cannot authenticate the provider BC\r\n            at javax.crypto.SunJCE_b.a(DashoA13*..)\r\n            at javax.crypto.KeyGenerator.getInstance(DashoA13*..)\r\n\r\n\r\nSo what is the problem?","title":"JCE cannot authenticate the provider BC in java swing application","body":"<p>I am creating a swing based application in Java which uses some encryption technique. But \njavax.crypto.KeyGenerator.getInstance(\"AES\", \"BC\") gives exception:</p>\n\n<pre><code>java.security.NoSuchProviderException: JCE cannot authenticate the provider BC\n        at javax.crypto.SunJCE_b.a(DashoA13*..)\n        at javax.crypto.KeyGenerator.getInstance(DashoA13*..)\n</code></pre>\n\n<p>So what is the problem?</p>\n"},{"tags":["java","algorithmic-trading","mql4","metatrader4"],"answers":[{"comments":[{"owner":{"account_id":4509730,"reputation":1,"user_id":3666197,"display_name":"user3666197"},"score":3,"creation_date":1480609182,"post_id":40910269,"comment_id":69043171,"body_markdown":"With all due respect, there is no space for synchronous, blocking chains in FX domain professional systems. If one posts based on REST + **`WebRequest()`**, it could be for nothing more than for a sand-box-ed &quot;educational&quot; purposes, with a doubfull level of seriousness to the real-world clients. **Sorry for speaking in this straight and opened manner.**","body":"With all due respect, there is no space for synchronous, blocking chains in FX domain professional systems. If one posts based on REST + <b><code>WebRequest()</code></b>, it could be for nothing more than for a sand-box-ed &quot;educational&quot; purposes, with a doubfull level of seriousness to the real-world clients. <b>Sorry for speaking in this straight and opened manner.</b>"},{"owner":{"account_id":1215767,"reputation":1710,"user_id":1183404,"display_name":"Cristian Florescu"},"score":0,"creation_date":1504554724,"post_id":40910269,"comment_id":79046795,"body_markdown":"WebRequest() cannot be executed in the Strategy Tester. -  https://docs.mql4.com/common/webrequest","body":"WebRequest() cannot be executed in the Strategy Tester. -  <a href=\"https://docs.mql4.com/common/webrequest\" rel=\"nofollow noreferrer\">docs.mql4.com/common/webrequest</a>"}],"tags":[],"owner":{"account_id":2393411,"reputation":43,"user_id":2092792,"display_name":"Eric"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480609250,"creation_date":1480594035,"answer_id":40910269,"question_id":39592718,"body_markdown":"If you need to send/receive synchronous message between MT4 and Java application, REST would be the best approach because fast response matters in this scenario. Message Queue solutions like ZeroMQ fits better in asynchronous solutions, so it won&#39;t help you. Once you choose REST approach, you can use MQL4 `WebRequest()` to call your Java application.\r\n\r\n","title":"How to send/receive data to/from MetaTrader Ternminal 4 with JAVA (or anything!)","body":"<p>If you need to send/receive synchronous message between MT4 and Java application, REST would be the best approach because fast response matters in this scenario. Message Queue solutions like ZeroMQ fits better in asynchronous solutions, so it won't help you. Once you choose REST approach, you can use MQL4 <code>WebRequest()</code> to call your Java application.</p>\n"},{"comments":[{"owner":{"account_id":439973,"reputation":1046,"user_id":829258,"display_name":"Przemysław Ładyński"},"score":2,"creation_date":1480755120,"post_id":40916034,"comment_id":69102361,"body_markdown":"Agree with A0. We are not experts in FX tools or protocols however REST or any other HTTP based protocol will never achieve performance like native bridge. If you will need to use .NET DLLs from Java Javonet seems to be preffered choice. I represent Javonet and we have some HFT customers who highlight that it lets them make &gt;250 000 calls /s plus receive callbacks in parallel what is impossible with http service. In comparison on regular machine i7 8gb mem. xml webservice takes 840sec!! to process 250k calls. I hope this comment could be usefull in your architecture planning decisions. Cheers.","body":"Agree with A0. We are not experts in FX tools or protocols however REST or any other HTTP based protocol will never achieve performance like native bridge. If you will need to use .NET DLLs from Java Javonet seems to be preffered choice. I represent Javonet and we have some HFT customers who highlight that it lets them make &gt;250 000 calls /s plus receive callbacks in parallel what is impossible with http service. In comparison on regular machine i7 8gb mem. xml webservice takes 840sec!! to process 250k calls. I hope this comment could be usefull in your architecture planning decisions. Cheers."},{"owner":{"account_id":4509730,"reputation":1,"user_id":3666197,"display_name":"user3666197"},"score":0,"creation_date":1483425452,"post_id":40916034,"comment_id":70081530,"body_markdown":"Thank you, Yvette, a generous move.","body":"Thank you, Yvette, a generous move."}],"tags":[],"owner":{"account_id":4509730,"reputation":1,"user_id":3666197,"display_name":"user3666197"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1483425323,"creation_date":1480610682,"answer_id":40916034,"question_id":39592718,"body_markdown":"**A0:** yes, forget straight about REST and synchronous, blocking chains in FX-trading domain\r\n\r\n**A1:** well, not a typical way. MetaTrader Server is a proprietary suite of systems on the Broker-side and theirs API are not disclosed to allow some 3rd party integrations against.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**A2:** **FIX-Protocol** is the industry standard LP-interfacing lingua franca. In case you have contracted relations with your institutional trading provider, incl. the FIX-Protocol GWY-port, this may provide you an A-level access to the Market and to integrate your trading tools against. If this is the case, forget about MT4 instrumentation, as prime-time cadences are far beyond the MT4 Terminal localhost processing architecture ( multiple events with a **sub-millisecond** TimeDOMAIN resolution are common, whereas MQL4 does not provide any direct support for multithreaded-concurrent / better parallel programme scheduling designs ). **FIX-Protocol events are simply off-the picture above, being far left, &quot;before&quot; the graph starts from 1st [ms] column.**\r\n\r\n**ZeroMQ** may help **liberate** your further designs from MQL4 limitations. May like to read my other posts on distributed systems, where MQL4 / ZeroMQ / ML-AI-predictors / GPU-processing infrastructures appear.\r\n\r\nAnyway:\r\n-------\r\n\r\n&gt;!Enjoy the Wild Worlds of **`MQL4/MQL5`**\r\n\r\n&lt;br&gt;**Interested?** [May also like reading other **MQL4**][2], [**ZeroMQ distributed processing**][3] and [**low-latency** trading posts][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FufqL.gif\r\n  [2]: https://stackoverflow.com/search?tab=votes&amp;q=user%3A3666197%20[mql4]\r\n  [3]: https://stackoverflow.com/search?tab=votes&amp;q=user%3A3666197%20[ZeroMQ]\r\n  [4]: https://stackoverflow.com/search?tab=votes&amp;q=user%3A3666197%20[low-latency]","title":"How to send/receive data to/from MetaTrader Ternminal 4 with JAVA (or anything!)","body":"<p><strong>A0:</strong> yes, forget straight about REST and synchronous, blocking chains in FX-trading domain</p>\n\n<p><strong>A1:</strong> well, not a typical way. MetaTrader Server is a proprietary suite of systems on the Broker-side and theirs API are not disclosed to allow some 3rd party integrations against.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FufqL.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FufqL.gif\" alt=\"enter image description here\"></a></p>\n\n<p><strong>A2:</strong> <strong>FIX-Protocol</strong> is the industry standard LP-interfacing lingua franca. In case you have contracted relations with your institutional trading provider, incl. the FIX-Protocol GWY-port, this may provide you an A-level access to the Market and to integrate your trading tools against. If this is the case, forget about MT4 instrumentation, as prime-time cadences are far beyond the MT4 Terminal localhost processing architecture ( multiple events with a <strong>sub-millisecond</strong> TimeDOMAIN resolution are common, whereas MQL4 does not provide any direct support for multithreaded-concurrent / better parallel programme scheduling designs ). <strong>FIX-Protocol events are simply off-the picture above, being far left, \"before\" the graph starts from 1st [ms] column.</strong></p>\n\n<p><strong>ZeroMQ</strong> may help <strong>liberate</strong> your further designs from MQL4 limitations. May like to read my other posts on distributed systems, where MQL4 / ZeroMQ / ML-AI-predictors / GPU-processing infrastructures appear.</p>\n\n<h2>Anyway:</h2>\n\n<blockquote class=\"spoiler\">\n  <p>Enjoy the Wild Worlds of <strong><code>MQL4/MQL5</code></strong></p>\n</blockquote>\n\n<p><br><strong>Interested?</strong> <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=user%3A3666197%20[mql4]\">May also like reading other <strong>MQL4</strong></a>, <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=user%3A3666197%20[ZeroMQ]\"><strong>ZeroMQ distributed processing</strong></a> and <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=user%3A3666197%20[low-latency]\"><strong>low-latency</strong> trading posts</a></p>\n"},{"tags":[],"owner":{"account_id":16172237,"reputation":21,"user_id":11675794,"display_name":"Pleplius"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561037359,"creation_date":1561033251,"answer_id":56685884,"question_id":39592718,"body_markdown":"I started to code an expert with MQL5, naturally on MT5 platform, and I must admit that the difficulty of managing the application along with the increase of its complexity is high. It&#39;s not only due to a missing garbage collector, that of course imposes the deletion of the new instances, but also because Java offers a set of powerful data structures and syntax that MQL5 naturally doesn&#39;t have. Last but not least, talking about the community and the third party libraries available, there&#39;s a light year of the distance between Java and MQL5. I.e. if I need to find a library for a JSON conversion on the Java side I find dozens of official and stable versions, in the MQL5 community I have found only rubbish that I had to modify myself.\r\n\r\nSo, after numerous failed tries on coding my expert in MQL5 (not a simple one of course), I decided to adopt a radical approach: coding an application, client-side MQL5, and server-side Java, that provides a Java facade for the MT5 platform. Same API, same basic events and so on. Even though I thought more than once that I was getting stuck in a blind path, I kept coding and eventually, I made it, obtaining a really solid result.\r\nNaturally, the REST interface drastically reduces the performances, and each request, even with Tomcat and MT5 running in the same localhost, is in the order of milliseconds, not micros, but on the other side this reduces only the suitability of this architecture, it doesn&#39;t make it useless at all.\r\n\r\nStrategies like scalpelling and every kind of high-frequency trading are not good for such kind of scenario, vice-versa every other strategy in the longer period, even if intraday&#39;s ones, can be implemented successfully without any cons.\r\nLast but not least, it isn&#39;t necessary to use the WebRequest() MQL5 method to call any Servlet container, it is possible to import the wininet.dll from the OS (talking about Windows) and the strategy tester will work as if the strategy has been coded in MQL5, maybe just a little bit slower.\r\nTo sum up, I wouldn&#39;t be so sarcastic on the Java facade approach for the FX trading platforms, citing only the nude performances without contextualizing the overall scenario is a naive approach to face the argument.","title":"How to send/receive data to/from MetaTrader Ternminal 4 with JAVA (or anything!)","body":"<p>I started to code an expert with MQL5, naturally on MT5 platform, and I must admit that the difficulty of managing the application along with the increase of its complexity is high. It's not only due to a missing garbage collector, that of course imposes the deletion of the new instances, but also because Java offers a set of powerful data structures and syntax that MQL5 naturally doesn't have. Last but not least, talking about the community and the third party libraries available, there's a light year of the distance between Java and MQL5. I.e. if I need to find a library for a JSON conversion on the Java side I find dozens of official and stable versions, in the MQL5 community I have found only rubbish that I had to modify myself.</p>\n\n<p>So, after numerous failed tries on coding my expert in MQL5 (not a simple one of course), I decided to adopt a radical approach: coding an application, client-side MQL5, and server-side Java, that provides a Java facade for the MT5 platform. Same API, same basic events and so on. Even though I thought more than once that I was getting stuck in a blind path, I kept coding and eventually, I made it, obtaining a really solid result.\nNaturally, the REST interface drastically reduces the performances, and each request, even with Tomcat and MT5 running in the same localhost, is in the order of milliseconds, not micros, but on the other side this reduces only the suitability of this architecture, it doesn't make it useless at all.</p>\n\n<p>Strategies like scalpelling and every kind of high-frequency trading are not good for such kind of scenario, vice-versa every other strategy in the longer period, even if intraday's ones, can be implemented successfully without any cons.\nLast but not least, it isn't necessary to use the WebRequest() MQL5 method to call any Servlet container, it is possible to import the wininet.dll from the OS (talking about Windows) and the strategy tester will work as if the strategy has been coded in MQL5, maybe just a little bit slower.\nTo sum up, I wouldn't be so sarcastic on the Java facade approach for the FX trading platforms, citing only the nude performances without contextualizing the overall scenario is a naive approach to face the argument.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1650676873,"post_id":71975482,"comment_id":127183405,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71975482/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25058442,"reputation":11,"user_id":18913571,"display_name":"Forex Hacker"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650668718,"creation_date":1650668718,"answer_id":71975482,"question_id":39592718,"body_markdown":"WebRequest isn&#39;t the end of the world, you can submit http requests from your EA using API, works even with Strategy Tester.\r\n","title":"How to send/receive data to/from MetaTrader Ternminal 4 with JAVA (or anything!)","body":"<p>WebRequest isn't the end of the world, you can submit http requests from your EA using API, works even with Strategy Tester.</p>\n"}],"owner":{"account_id":9099347,"reputation":617,"user_id":6772101,"display_name":"Jay Povey"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35362,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"closed_date":1696357644,"accepted_answer_id":40916034,"answer_count":4,"score":12,"last_activity_date":1696692817,"creation_date":1474370405,"question_id":39592718,"body_markdown":"I have been working on an algorithm ( Not mine, I am just modifying it ) that predicts when to buy and sell on the FOREX market. I need to be able to open and close orders, dynamically update parameters of the orders ( such as stoploss, maximum stop etc. ) and receive real time tick data.\r\n\r\nI have been researching for well over a week, and have no success.\r\n\r\nThe closest I have gotten is using [JavoNet][1] and [Mt4 Api][2]\r\n\r\nI managed to import the DLL into java and use a MQL4 function, which was `AccountBalance()`, however this has returned `0.0`, which was not the account balance, I messed around with the code and the settings on MT4 client but still no luck.\r\n\r\n**Q0:** Can anyone please point me in the right direction?\r\n\r\nI am new to automated FOREX trading but from what I understand there is a broker somewhere with a MT4 server and I connect to that server with my MT4 client on my windows machine.\r\n\r\n**Q1:** If this is the case, do I need to make an API work with the server side instead of my client side?\r\n\r\nAll these DLL&#39;s I have tried so far have been used with the MT4 client software on my machine.\r\n\r\nI have also been doing some reading on the FIX-Protocol and ZeroMQ.\r\n\r\n**Q2:** Can these help me achieve my goal in any way (instead of creating some bridges between JAVA and MT4 DLL&#39;s)?\r\n\r\n  [1]: https://www.javonet.com/\r\n  [2]: http://mtapi4.net/","title":"How to send/receive data to/from MetaTrader Ternminal 4 with JAVA (or anything!)","body":"<p>I have been working on an algorithm ( Not mine, I am just modifying it ) that predicts when to buy and sell on the FOREX market. I need to be able to open and close orders, dynamically update parameters of the orders ( such as stoploss, maximum stop etc. ) and receive real time tick data.</p>\n\n<p>I have been researching for well over a week, and have no success.</p>\n\n<p>The closest I have gotten is using <a href=\"https://www.javonet.com/\" rel=\"noreferrer\">JavoNet</a> and <a href=\"http://mtapi4.net/\" rel=\"noreferrer\">Mt4 Api</a></p>\n\n<p>I managed to import the DLL into java and use a MQL4 function, which was <code>AccountBalance()</code>, however this has returned <code>0.0</code>, which was not the account balance, I messed around with the code and the settings on MT4 client but still no luck.</p>\n\n<p><strong>Q0:</strong> Can anyone please point me in the right direction?</p>\n\n<p>I am new to automated FOREX trading but from what I understand there is a broker somewhere with a MT4 server and I connect to that server with my MT4 client on my windows machine.</p>\n\n<p><strong>Q1:</strong> If this is the case, do I need to make an API work with the server side instead of my client side?</p>\n\n<p>All these DLL's I have tried so far have been used with the MT4 client software on my machine.</p>\n\n<p>I have also been doing some reading on the FIX-Protocol and ZeroMQ.</p>\n\n<p><strong>Q2:</strong> Can these help me achieve my goal in any way (instead of creating some bridges between JAVA and MT4 DLL's)?</p>\n"},{"tags":["java","spring-boot","exception"],"answers":[{"comments":[{"owner":{"account_id":3711134,"reputation":1232,"user_id":3088458,"accept_rate":94,"display_name":"alexander"},"score":0,"creation_date":1691598239,"post_id":70915096,"comment_id":135514330,"body_markdown":"This answer is hard to read and understand, because everything is in code. Could you please separate the code from your comments? Thank you! :)","body":"This answer is hard to read and understand, because everything is in code. Could you please separate the code from your comments? Thank you! :)"}],"tags":[],"owner":{"account_id":19462755,"reputation":56,"user_id":14236703,"display_name":"KM PRIYA AGRAWAL"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696691961,"creation_date":1643549417,"answer_id":70915096,"question_id":70907689,"body_markdown":"Please add the property `SerializationFeature.FAIL_ON_EMPTY_BEANS= false` to your object mapper like `objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);`\r\n\r\n  \r\nOr you can add this code to any class of springboot which have a `@Configuration` annotation on it.\r\n\r\n```java\r\n@Bean\r\npublic ObjectMapper getMapper() {\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n\treturn objectMapper;\r\n}\r\n```\r\nSend Payload as\r\n```json \r\n{\r\n    &quot;custom_data&quot;: {},\r\n    &quot;email&quot;: &quot;emailvalue&quot;\r\n}\r\n```\r\nNow I am supposing your API is like this:\r\n```java\r\n@PostMapping(value = &quot;/show/recipient&quot;) /*  /preview-email-recipient*/\r\npublic ResponseEntity&lt;?&gt; showRecipient(@Valid @RequestBody Recipient recipient){\r\n    log.info(String.format(&quot;recipient received {%s} &quot;,recipient.toString()));\r\n\r\n    return new ResponseEntity&lt;&gt;(recipient,HttpStatus.OK);\r\n}\r\n```\r\ncurl call to the endpoint will be POST to a URL http://localhost:8080/show/recipient with request body as:\r\n```json\r\n{\r\n    &quot;customData&quot;: {},\r\n    &quot;email&quot;: &quot;emailvalue&quot;\r\n}\r\n```\r\nresponse:\r\n```\r\n{\r\n    &quot;customData&quot;: {},\r\n    &quot;email&quot;: &quot;emailvalue&quot;\r\n}\r\n````    \r\nThe reason for failure:\r\n  \r\nWhen you return your object i.e. (Recipient in this case) in response it is getting Serialized to JSON string using ObjectMapper which is used in spring&#39;s MessageConverter(i.e. Jackson2HttpMessageConverter) bean.  \r\n\r\nNow the error is caused by how ObjectMapper serializes your class. Your class has 2 fields, 1 of type String and 1 of type `JSONObject/GenericType`. ObjectMapper when serializing fields, tries to find the corresponding serializer based on the field type. There are some out-of-the-box implementations of serializers for known types like `String` but for your custom type you either need to provide a serializer to ObjectMapper bean or have to disable serialization via configuration of set property `SerializationFeature.FAIL_ON_EMPTY_BEANS` to false.\r\n\r\n\r\nNow what does `SerializationFeature.FAIL_ON_EMPTY_BEANS` do??\r\n```\r\n    /**\r\n     * Feature that determines what happens when no accessors are\r\n     * found for a type (and there are no annotations to indicate\r\n     * it is meant to be serialized). If enabled (default), an\r\n     * exception is thrown to indicate these as non-serializable\r\n     * types; if disabled, they are serialized as empty Objects,\r\n     * i.e. without any properties.\r\n     *&lt;p&gt;\r\n     * Note that empty types that this feature has only effect on\r\n     * those &quot;empty&quot; beans that do not have any recognized annotations\r\n     * (like &lt;code&gt;@JsonSerialize&lt;/code&gt;): ones that do have annotations\r\n     * do not result in an exception being thrown.\r\n     *&lt;p&gt;\r\n     * Feature is enabled by default.\r\n     */    \r\n     public static final SerializationFeature FAIL_ON_EMPTY_BEANS\r\n```\r\nSo:  \r\n1 way was to disable serialization on empty beans.  \r\n2nd way you can annotate CustomData class with `@JsonSerialize`. You are provinding the mapper which serializer you have to used for this param. Make CustomData class as:\r\n```java\r\n@NoArgsConstructor\r\n@JsonSerialize\r\npublic class CustomData&lt;T&gt; {}\r\n```","title":"InvalidDefinitionException No serializer found in java for generic class","body":"<p>Please add the property <code>SerializationFeature.FAIL_ON_EMPTY_BEANS= false</code> to your object mapper like <code>objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);</code></p>\n<p>Or you can add this code to any class of springboot which have a <code>@Configuration</code> annotation on it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ObjectMapper getMapper() {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n    return objectMapper;\n}\n</code></pre>\n<p>Send Payload as</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;custom_data&quot;: {},\n    &quot;email&quot;: &quot;emailvalue&quot;\n}\n</code></pre>\n<p>Now I am supposing your API is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/show/recipient&quot;) /*  /preview-email-recipient*/\npublic ResponseEntity&lt;?&gt; showRecipient(@Valid @RequestBody Recipient recipient){\n    log.info(String.format(&quot;recipient received {%s} &quot;,recipient.toString()));\n\n    return new ResponseEntity&lt;&gt;(recipient,HttpStatus.OK);\n}\n</code></pre>\n<p>curl call to the endpoint will be POST to a URL http://localhost:8080/show/recipient with request body as:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;customData&quot;: {},\n    &quot;email&quot;: &quot;emailvalue&quot;\n}\n</code></pre>\n<p>response:</p>\n<pre><code>{\n    &quot;customData&quot;: {},\n    &quot;email&quot;: &quot;emailvalue&quot;\n}\n</code></pre>\n<p>The reason for failure:</p>\n<p>When you return your object i.e. (Recipient in this case) in response it is getting Serialized to JSON string using ObjectMapper which is used in spring's MessageConverter(i.e. Jackson2HttpMessageConverter) bean.</p>\n<p>Now the error is caused by how ObjectMapper serializes your class. Your class has 2 fields, 1 of type String and 1 of type <code>JSONObject/GenericType</code>. ObjectMapper when serializing fields, tries to find the corresponding serializer based on the field type. There are some out-of-the-box implementations of serializers for known types like <code>String</code> but for your custom type you either need to provide a serializer to ObjectMapper bean or have to disable serialization via configuration of set property <code>SerializationFeature.FAIL_ON_EMPTY_BEANS</code> to false.</p>\n<p>Now what does <code>SerializationFeature.FAIL_ON_EMPTY_BEANS</code> do??</p>\n<pre><code>    /**\n     * Feature that determines what happens when no accessors are\n     * found for a type (and there are no annotations to indicate\n     * it is meant to be serialized). If enabled (default), an\n     * exception is thrown to indicate these as non-serializable\n     * types; if disabled, they are serialized as empty Objects,\n     * i.e. without any properties.\n     *&lt;p&gt;\n     * Note that empty types that this feature has only effect on\n     * those &quot;empty&quot; beans that do not have any recognized annotations\n     * (like &lt;code&gt;@JsonSerialize&lt;/code&gt;): ones that do have annotations\n     * do not result in an exception being thrown.\n     *&lt;p&gt;\n     * Feature is enabled by default.\n     */    \n     public static final SerializationFeature FAIL_ON_EMPTY_BEANS\n</code></pre>\n<p>So:<br />\n1 way was to disable serialization on empty beans.<br />\n2nd way you can annotate CustomData class with <code>@JsonSerialize</code>. You are provinding the mapper which serializer you have to used for this param. Make CustomData class as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@JsonSerialize\npublic class CustomData&lt;T&gt; {}\n</code></pre>\n"}],"owner":{"account_id":8411933,"reputation":2534,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70915096,"answer_count":1,"score":0,"last_activity_date":1696691961,"creation_date":1643475243,"question_id":70907689,"body_markdown":"I have a generic class\r\n```\r\n@NoArgsConstructor\r\npublic class CustomData&lt;T&gt; {\r\n\r\n}\r\n```\r\nBelow is the class it is used.\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class Recipient {\r\n\t@NotEmpty(message = &quot;Please provide email details of recipient&quot;)\r\n\tpublic String email;\r\n    public CustomData&lt;?&gt; custom_data;\r\n}\r\n```\r\n\r\nBelow is the payload I&#39;m trying to use\r\n```\r\n&quot;recipients&quot;: [\r\n    {\r\n      &quot;custom_data&quot;: {},\r\n      &quot;email&quot;: &quot;string&quot;\r\n    }\r\n  ]\r\n```\r\n\r\nHowever I get an error saying com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class\r\n\r\nCan someone please help? Thank you for your time","title":"InvalidDefinitionException No serializer found in java for generic class","body":"<p>I have a generic class</p>\n<pre><code>@NoArgsConstructor\npublic class CustomData&lt;T&gt; {\n\n}\n</code></pre>\n<p>Below is the class it is used.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Recipient {\n    @NotEmpty(message = &quot;Please provide email details of recipient&quot;)\n    public String email;\n    public CustomData&lt;?&gt; custom_data;\n}\n</code></pre>\n<p>Below is the payload I'm trying to use</p>\n<pre><code>&quot;recipients&quot;: [\n    {\n      &quot;custom_data&quot;: {},\n      &quot;email&quot;: &quot;string&quot;\n    }\n  ]\n</code></pre>\n<p>However I get an error saying com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class</p>\n<p>Can someone please help? Thank you for your time</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1489468032,"post_id":42778029,"comment_id":72670840,"body_markdown":"How do you know it&#39;s not saved? Does the cart get an ID when the method returns?","body":"How do you know it&#39;s not saved? Does the cart get an ID when the method returns?"},{"owner":{"account_id":10344652,"reputation":192,"user_id":7629986,"accept_rate":40,"display_name":"Harshad_Kenjale"},"score":0,"creation_date":1489468367,"post_id":42778029,"comment_id":72670924,"body_markdown":"@chrylis  i check it into database  , values not saves but it shows me successful message","body":"@chrylis  i check it into database  , values not saves but it shows me successful message"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1489468596,"post_id":42778029,"comment_id":72670995,"body_markdown":"Shows you the successful message before or after the call to `save`? (You have a log statement *before*.) And do you get an ID assigned?","body":"Shows you the successful message before or after the call to <code>save</code>? (You have a log statement <i>before</i>.) And do you get an ID assigned?"},{"owner":{"account_id":10344652,"reputation":192,"user_id":7629986,"accept_rate":40,"display_name":"Harshad_Kenjale"},"score":0,"creation_date":1489468723,"post_id":42778029,"comment_id":72671046,"body_markdown":"after calling save method i got that message , hibernate does not create insert query it create an select query ,  i&#39;ll update that in question . Thank You","body":"after calling save method i got that message , hibernate does not create insert query it create an select query ,  i&#39;ll update that in question . Thank You"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1489469393,"post_id":42778029,"comment_id":72671250,"body_markdown":"It looks like perhaps you&#39;re setting the ID manually instead of allowing JPA to generate it.","body":"It looks like perhaps you&#39;re setting the ID manually instead of allowing JPA to generate it."},{"owner":{"account_id":10344652,"reputation":192,"user_id":7629986,"accept_rate":40,"display_name":"Harshad_Kenjale"},"score":0,"creation_date":1489469921,"post_id":42778029,"comment_id":72671426,"body_markdown":"no i&#39;ll give it auto generated in model class , i think this problem is regarding to jpa configuration because when i change the dal layer from jpa to hibernate the values  saved successfully","body":"no i&#39;ll give it auto generated in model class , i think this problem is regarding to jpa configuration because when i change the dal layer from jpa to hibernate the values  saved successfully"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1489472112,"post_id":42778029,"comment_id":72672141,"body_markdown":"Don&#39;t ask the [same question](http://stackoverflow.com/questions/42717519/how-do-i-save-an-entity-using-spring-data-jpa) just because you don&#39;t get an answer!","body":"Don&#39;t ask the <a href=\"http://stackoverflow.com/questions/42717519/how-do-i-save-an-entity-using-spring-data-jpa\">same question</a> just because you don&#39;t get an answer!"},{"owner":{"account_id":10344652,"reputation":192,"user_id":7629986,"accept_rate":40,"display_name":"Harshad_Kenjale"},"score":0,"creation_date":1489472216,"post_id":42778029,"comment_id":72672182,"body_markdown":"@M.Deinum Extremely sorry for that ..","body":"@M.Deinum Extremely sorry for that .."}],"answers":[{"comments":[{"owner":{"account_id":10344652,"reputation":192,"user_id":7629986,"accept_rate":40,"display_name":"Harshad_Kenjale"},"score":0,"creation_date":1489468498,"post_id":42778176,"comment_id":72670964,"body_markdown":"Yes , i added it already you can check it into rest.xml . Thank You","body":"Yes , i added it already you can check it into rest.xml . Thank You"},{"owner":{"account_id":6598150,"reputation":61,"user_id":5097233,"display_name":"arpit garg"},"score":0,"creation_date":1489469268,"post_id":42778176,"comment_id":72671217,"body_markdown":"@Harshad Have you Check this post http://stackoverflow.com/questions/30122829/saving-entity-in-repository-does-not-work-spring","body":"@Harshad Have you Check this post <a href=\"http://stackoverflow.com/questions/30122829/saving-entity-in-repository-does-not-work-spring\" title=\"saving entity in repository does not work spring\">stackoverflow.com/questions/30122829/&hellip;</a>"},{"owner":{"account_id":10344652,"reputation":192,"user_id":7629986,"accept_rate":40,"display_name":"Harshad_Kenjale"},"score":0,"creation_date":1489470102,"post_id":42778176,"comment_id":72671483,"body_markdown":"can i share the example with you ?","body":"can i share the example with you ?"}],"tags":[],"owner":{"account_id":6598150,"reputation":61,"user_id":5097233,"display_name":"arpit garg"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489468346,"creation_date":1489468346,"answer_id":42778176,"question_id":42778029,"body_markdown":"Did you add below line in your rest.xml\r\n\r\n    &lt;repositories base-package=&quot;com.acme.repositories&quot; /&gt;\r\n\r\nIf not try with adding above line. It will setup Spring to create proxy instances for those interfaces.","title":"how to save data with save method of jpa Repository","body":"<p>Did you add below line in your rest.xml</p>\n\n<pre><code>&lt;repositories base-package=\"com.acme.repositories\" /&gt;\n</code></pre>\n\n<p>If not try with adding above line. It will setup Spring to create proxy instances for those interfaces.</p>\n"},{"tags":[],"owner":{"account_id":261166,"reputation":1670,"user_id":545164,"display_name":"VimalKumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489517108,"creation_date":1489517108,"answer_id":42794117,"question_id":42778029,"body_markdown":"You have defined both Hibernate Session factory and JPA Entity manager in your rest.xml. Use only one. Refer the below answer.\r\n\r\nhttps://stackoverflow.com/questions/30122829/saving-entity-in-repository-does-not-work-spring","title":"how to save data with save method of jpa Repository","body":"<p>You have defined both Hibernate Session factory and JPA Entity manager in your rest.xml. Use only one. Refer the below answer.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/30122829/saving-entity-in-repository-does-not-work-spring\">Saving entity in repository does not work SPRING</a></p>\n"}],"owner":{"account_id":10344652,"reputation":192,"user_id":7629986,"accept_rate":40,"display_name":"Harshad_Kenjale"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8788,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696691110,"creation_date":1489467508,"question_id":42778029,"body_markdown":"While adding the entity from service implemented class to Repository interface , it showing successful message but data does not inserted to the database i call the save(entity) method from JpaRepository interface . it does not show any error message instead of that it showing record inserted successfully message .    \r\n\r\nController --- &gt;&gt;.\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/cart&quot;)\r\n    public class CartController {\r\n    \t\r\n    \t@Autowired\r\n    \tCartService cartServices;\r\n    \t\r\n    \t/**\r\n    \t * Get All records in Cart\r\n    \t *  \r\n    \t * @return All Cart List\r\n    \t */\r\n    \t@RequestMapping(value = &quot;/list&quot;, method = RequestMethod.GET)\r\n    \tpublic @ResponseBody List&lt;Cart&gt; getCart() {\r\n    \r\n    \t\tList&lt;Cart&gt; cartList = null;\r\n    \t\ttry {\r\n    \t\t\tcartList = cartServices.getCartList();\r\n    if(cartList.isEmpty())\r\n    {\r\n    \tSystem.out.println(&quot;List is empty &quot;);\r\n    }\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\treturn cartList;\r\n    \t}\r\n    \t/**\r\n    \t * Add Cart\r\n    \t * \r\n    \t * @param representative\r\n    \t * @return Status\r\n    \t */\r\n    \t@RequestMapping(value = &quot;/create&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody Status addCart(@RequestBody Cart cart) {\r\n    \t\tSystem.out.println(&quot;i m from jpa controller&quot;);\r\n    \t\ttry {\r\n    \t\t\tcartServices.save(cart);\r\n    \t\t\treturn new Status(1, &quot;Cart added Successfully !&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// e.printStackTrace();\r\n    \t\t\treturn new Status(0, e.toString());\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\nService Implemented class------&gt;&gt;&gt;&gt;\r\n\r\n    @Service\r\n    public class CartServiceImpl implements CartService {\r\n    \r\n    \r\n    \t@Inject\r\n    \tCartRepository cartRepository;\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Get All Cart\r\n    \t * \r\n    \t * @throws Exception\r\n    \t * @return All Cart List\r\n    \t */\r\n    \r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic List&lt;Cart&gt; getCartList() throws Exception {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn cartRepository.findAll();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Add Cart\r\n    \t * \r\n    \t * @param cart\r\n    \t * @throws Exception\r\n    \t * @return Boolean\r\n    \t */\r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic Cart save(Cart cart) throws Exception {\r\n    \t\tSystem.out.println(&quot;i m from jpa Service&quot;);\r\n    \t\t \r\n    \t\t\r\n    \t\tCart cart1 = cartRepository.save(cart);\r\n    \t\treturn    cart1;\r\n    \t}\r\n\r\nRepository Interface--------&gt;&gt;&gt;&gt;\r\n\r\n\r\n    package com.xptraining.repository;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import com.xptraining.model.Cart;\r\n    \r\n    \r\n    @Repository\r\n    public interface CartRepository extends JpaRepository&lt;Cart, Long&gt;\r\n    {\r\n    \r\n    \r\n    }\r\n\r\n\r\nWeb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;xptraining&lt;/display-name&gt;\r\n      &lt;servlet&gt;\r\n      &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n      &lt;init-param&gt;\r\n       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n       &lt;param-value&gt;/WEB-INF/rest.xml&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n     &lt;/servlet&gt;\r\n    \r\n     &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n     &lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\n\r\nrest.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n      http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.2.xsd\r\n      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd  \r\n      http://www.springframework.org/schema/data/jpa \r\n      http://www.springframework.org/schema/data/jpa/spring-jpa.xsd&quot;&gt;\r\n      \r\n     &lt;context:component-scan base-package=&quot;com.xptraining&quot; /&gt;\r\n      &lt;jpa:repositories base-package=&quot;com.xptraining.repository&quot;\r\n                      entity-manager-factory-ref=&quot;entityManagerFactoryBean&quot;\r\n                      transaction-manager-ref=&quot;txManager&quot;/&gt;\r\n     &lt;!--  &lt;jpa:repositories base-package=&quot;com.xptraining.repository&quot;&gt;&lt;/jpa:repositories&gt; --&gt;\r\n    &lt;!-- &lt;jpa:repositories base-package=&quot;com.xptraining.repository&quot;\r\n                      entity-manager-factory-ref=&quot;cartRepository&quot;\r\n                      transaction-manager-ref=&quot;transactionManager&quot;/&gt;  --&gt;\r\n    \t\r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \t\r\n    &lt;bean id=&quot;entityManagerFactoryBean&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n          &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n          &lt;!-- This makes /META-INF/persistence.xml is no longer necessary --&gt;\r\n          &lt;property name=&quot;packagesToScan&quot; value=&quot;com.xptraining.model&quot; /&gt;\r\n          &lt;!-- JpaVendorAdapter implementation for Hibernate EntityManager.\r\n               Exposes Hibernate&#39;s persistence provider and EntityManager extension interface --&gt;\r\n          &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n             &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n          &lt;/property&gt;\r\n          &lt;property name=&quot;jpaProperties&quot;&gt;\r\n             &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n             &lt;/props&gt;\r\n          &lt;/property&gt;\r\n       &lt;/bean&gt;\r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/training&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;xpointers&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;com.xptraining.model.Product&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.xptraining.model.Specialties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.xptraining.model.Representative&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.xptraining.model.Cart&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.xptraining.model.Sku&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.xptraining.model.Order&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;txManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;persistenceExceptionTranslationPostProcessor&quot;\r\n    \t\tclass=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;dataDao&quot; class=&quot;com.xptraining.dal.impl.DataDaoImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;dataServices&quot; class=&quot;com.xptraining.services.impl.DataServicesImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;specialtiesDao&quot; class=&quot;com.xptraining.dal.impl.SpecialtiesDaoImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;specialtiesServices&quot; class=&quot;com.xptraining.services.impl.SpecialtiesServicesImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;representativeDao&quot; class=&quot;com.xptraining.dal.impl.RepresentativeDaoImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;representativeService&quot; class=&quot;com.xptraining.services.impl.RepresentativeServiceImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;skuDao&quot; class=&quot;com.xptraining.dal.impl.SkuDaoImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;skuServices&quot; class=&quot;com.xptraining.services.impl.SkuervicesImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;cartDao&quot; class=&quot;com.xptraining.dal.impl.CartDaoImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;cartServices&quot; class=&quot;com.xptraining.services.impl.CartServiceImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;orderDao&quot; class=&quot;com.xptraining.dal.impl.OrderDaoImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;orderServices&quot; class=&quot;com.xptraining.services.impl.OrderServicesImpl&quot;&gt;&lt;/bean&gt;\r\n    \t\r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\n@My console when i call save method\r\n\r\n    10:48:55.219 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - DispatcherServlet with name &#39;mvc-dispatcher&#39; processing POST request for [/xptraining/cart/create]\r\n    10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Looking up handler method for path /cart/create\r\n    10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Returning handler method [public com.xptraining.model.Status com.xptraining.controller.CartController.addCart(com.xptraining.model.Cart)]\r\n    10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean &#39;cartController&#39;\r\n    10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read [class com.xptraining.model.Cart] as &quot;application/json&quot; with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@48e069ed]\r\n    i m from jpa controller\r\n    i m from jpa Service\r\n    10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; &#39;&#39;\r\n    10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Opened new Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=org.hibernate.engine.spi.ExecutableList@23b8bcb1 updates=org.hibernate.engine.spi.ExecutableList@2d7f56b6 deletions=org.hibernate.engine.spi.ExecutableList@2940d7c1 orphanRemovals=org.hibernate.engine.spi.ExecutableList@6c425c8d collectionCreations=org.hibernate.engine.spi.ExecutableList@a793880 collectionRemovals=org.hibernate.engine.spi.ExecutableList@5d64159f collectionUpdates=org.hibernate.engine.spi.ExecutableList@72b52f2d collectionQueuedOps=org.hibernate.engine.spi.ExecutableList@c6da3c2 unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])] for Hibernate transaction\r\n    10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Preparing JDBC Connection of Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=org.hibernate.engine.spi.ExecutableList@23b8bcb1 updates=org.hibernate.engine.spi.ExecutableList@2d7f56b6 deletions=org.hibernate.engine.spi.ExecutableList@2940d7c1 orphanRemovals=org.hibernate.engine.spi.ExecutableList@6c425c8d collectionCreations=org.hibernate.engine.spi.ExecutableList@a793880 collectionRemovals=org.hibernate.engine.spi.ExecutableList@5d64159f collectionUpdates=org.hibernate.engine.spi.ExecutableList@72b52f2d collectionQueuedOps=org.hibernate.engine.spi.ExecutableList@c6da3c2 unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])]\r\n    10:48:55.220 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Obtaining JDBC connection\r\n    10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.jdbc.datasource.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/training]\r\n    10:48:55.223 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Obtained JDBC connection\r\n    10:48:55.223 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.spi.AbstractTransactionImpl - begin\r\n    10:48:55.223 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - initial autocommit status: true\r\n    10:48:55.223 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - disabling autocommit\r\n    10:48:55.223 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Exposing Hibernate transaction as JDBC transaction [com.mysql.jdbc.JDBC4Connection@5c26bcfd]\r\n    10:48:55.224 [http-nio-8080-exec-10] DEBUG org.springframework.orm.jpa.EntityManagerFactoryUtils - Opening JPA EntityManager\r\n    10:48:55.224 [http-nio-8080-exec-10] DEBUG org.springframework.orm.jpa.EntityManagerFactoryUtils - Registering transaction synchronization for JPA EntityManager\r\n    10:48:55.224 [http-nio-8080-exec-10] DEBUG org.hibernate.loader.Loader - Loading entity: [com.xptraining.model.Cart#1]\r\n    10:48:55.224 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select cart0_.cart_id as cart_id1_0_0_, cart0_.prize as prize2_0_0_, cart0_.quantity as quantity3_0_0_, cart0_.representative_id as represen4_0_0_, cart0_.sku_id as sku_id5_0_0_ from cart cart0_ where cart0_.cart_id=?\r\n    10:48:55.224 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Obtaining JDBC connection\r\n    10:48:55.224 [http-nio-8080-exec-10] DEBUG org.springframework.jdbc.datasource.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/training]\r\n    10:48:55.226 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Obtained JDBC connection\r\n    10:48:55.226 [http-nio-8080-exec-10] DEBUG org.hibernate.loader.Loader - Result set row: 0\r\n    10:48:55.226 [http-nio-8080-exec-10] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.xptraining.model.Cart#1]\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.internal.TwoPhaseLoad - Resolving associations for [com.xptraining.model.Cart#1]\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.internal.TwoPhaseLoad - Done materializing entity [com.xptraining.model.Cart#1]\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.loader.Loader - Done entity load\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.springframework.orm.jpa.EntityManagerFactoryUtils - Closing JPA EntityManager\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Releasing JDBC connection\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Released JDBC connection\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Initiating transaction commit\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Committing Hibernate transaction on Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=org.hibernate.engine.spi.ExecutableList@23b8bcb1 updates=org.hibernate.engine.spi.ExecutableList@2d7f56b6 deletions=org.hibernate.engine.spi.ExecutableList@2940d7c1 orphanRemovals=org.hibernate.engine.spi.ExecutableList@6c425c8d collectionCreations=org.hibernate.engine.spi.ExecutableList@a793880 collectionRemovals=org.hibernate.engine.spi.ExecutableList@5d64159f collectionUpdates=org.hibernate.engine.spi.ExecutableList@72b52f2d collectionQueuedOps=org.hibernate.engine.spi.ExecutableList@c6da3c2 unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])]\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.spi.AbstractTransactionImpl - committing\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - committed JDBC Connection\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - re-enabling autocommit\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Closing Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=org.hibernate.engine.spi.ExecutableList@23b8bcb1 updates=org.hibernate.engine.spi.ExecutableList@2d7f56b6 deletions=org.hibernate.engine.spi.ExecutableList@2940d7c1 orphanRemovals=org.hibernate.engine.spi.ExecutableList@6c425c8d collectionCreations=org.hibernate.engine.spi.ExecutableList@a793880 collectionRemovals=org.hibernate.engine.spi.ExecutableList@5d64159f collectionUpdates=org.hibernate.engine.spi.ExecutableList@72b52f2d collectionQueuedOps=org.hibernate.engine.spi.ExecutableList@c6da3c2 unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])] after transaction\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Releasing JDBC connection\r\n    10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Released JDBC connection\r\n    10:48:55.228 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Written [com.xptraining.model.Status@788e053b] as &quot;application/json&quot; using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@48e069ed]\r\n    10:48:55.228 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Null ModelAndView returned to DispatcherServlet with name &#39;mvc-dispatcher&#39;: assuming HandlerAdapter completed request handling\r\n    10:48:55.228 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Successfully completed request\r\n\r\n","title":"how to save data with save method of jpa Repository","body":"<p>While adding the entity from service implemented class to Repository interface , it showing successful message but data does not inserted to the database i call the save(entity) method from JpaRepository interface . it does not show any error message instead of that it showing record inserted successfully message .    </p>\n\n<p>Controller --- >>.</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/cart\")\npublic class CartController {\n\n    @Autowired\n    CartService cartServices;\n\n    /**\n     * Get All records in Cart\n     *  \n     * @return All Cart List\n     */\n    @RequestMapping(value = \"/list\", method = RequestMethod.GET)\n    public @ResponseBody List&lt;Cart&gt; getCart() {\n\n        List&lt;Cart&gt; cartList = null;\n        try {\n            cartList = cartServices.getCartList();\nif(cartList.isEmpty())\n{\n    System.out.println(\"List is empty \");\n}\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return cartList;\n    }\n    /**\n     * Add Cart\n     * \n     * @param representative\n     * @return Status\n     */\n    @RequestMapping(value = \"/create\", method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Status addCart(@RequestBody Cart cart) {\n        System.out.println(\"i m from jpa controller\");\n        try {\n            cartServices.save(cart);\n            return new Status(1, \"Cart added Successfully !\");\n        } catch (Exception e) {\n            // e.printStackTrace();\n            return new Status(0, e.toString());\n        }\n\n    }\n</code></pre>\n\n<p>Service Implemented class------>>>></p>\n\n<pre><code>@Service\npublic class CartServiceImpl implements CartService {\n\n\n    @Inject\n    CartRepository cartRepository;\n\n\n    /**\n     * Get All Cart\n     * \n     * @throws Exception\n     * @return All Cart List\n     */\n\n    @Override\n    @Transactional\n    public List&lt;Cart&gt; getCartList() throws Exception {\n        // TODO Auto-generated method stub\n        return cartRepository.findAll();\n    }\n\n    /**\n     * Add Cart\n     * \n     * @param cart\n     * @throws Exception\n     * @return Boolean\n     */\n    @Override\n    @Transactional\n    public Cart save(Cart cart) throws Exception {\n        System.out.println(\"i m from jpa Service\");\n\n\n        Cart cart1 = cartRepository.save(cart);\n        return    cart1;\n    }\n</code></pre>\n\n<p>Repository Interface-------->>>></p>\n\n<pre><code>package com.xptraining.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport com.xptraining.model.Cart;\n\n\n@Repository\npublic interface CartRepository extends JpaRepository&lt;Cart, Long&gt;\n{\n\n\n}\n</code></pre>\n\n<p>Web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" id=\"WebApp_ID\" version=\"3.1\"&gt;\n  &lt;display-name&gt;xptraining&lt;/display-name&gt;\n  &lt;servlet&gt;\n  &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n  &lt;init-param&gt;\n   &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n   &lt;param-value&gt;/WEB-INF/rest.xml&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n &lt;/servlet&gt;\n\n &lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>rest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:util=\"http://www.springframework.org/schema/util\" xmlns:jpa=\"http://www.springframework.org/schema/data/jpa\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\n  http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n  http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.2.xsd\n  http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd  \n  http://www.springframework.org/schema/data/jpa \n  http://www.springframework.org/schema/data/jpa/spring-jpa.xsd\"&gt;\n\n &lt;context:component-scan base-package=\"com.xptraining\" /&gt;\n  &lt;jpa:repositories base-package=\"com.xptraining.repository\"\n                  entity-manager-factory-ref=\"entityManagerFactoryBean\"\n                  transaction-manager-ref=\"txManager\"/&gt;\n &lt;!--  &lt;jpa:repositories base-package=\"com.xptraining.repository\"&gt;&lt;/jpa:repositories&gt; --&gt;\n&lt;!-- &lt;jpa:repositories base-package=\"com.xptraining.repository\"\n                  entity-manager-factory-ref=\"cartRepository\"\n                  transaction-manager-ref=\"transactionManager\"/&gt;  --&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n&lt;bean id=\"entityManagerFactoryBean\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n      &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n      &lt;!-- This makes /META-INF/persistence.xml is no longer necessary --&gt;\n      &lt;property name=\"packagesToScan\" value=\"com.xptraining.model\" /&gt;\n      &lt;!-- JpaVendorAdapter implementation for Hibernate EntityManager.\n           Exposes Hibernate's persistence provider and EntityManager extension interface --&gt;\n      &lt;property name=\"jpaVendorAdapter\"&gt;\n         &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\" /&gt;\n      &lt;/property&gt;\n      &lt;property name=\"jpaProperties\"&gt;\n         &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/prop&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql}&lt;/prop&gt;\n                &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/prop&gt;\n         &lt;/props&gt;\n      &lt;/property&gt;\n   &lt;/bean&gt;\n    &lt;bean id=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/training\" /&gt;\n        &lt;property name=\"username\" value=\"root\" /&gt;\n        &lt;property name=\"password\" value=\"xpointers\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"annotatedClasses\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.xptraining.model.Product&lt;/value&gt;\n                &lt;value&gt;com.xptraining.model.Specialties&lt;/value&gt;\n                &lt;value&gt;com.xptraining.model.Representative&lt;/value&gt;\n                &lt;value&gt;com.xptraining.model.Cart&lt;/value&gt;\n                &lt;value&gt;com.xptraining.model.Sku&lt;/value&gt;\n                &lt;value&gt;com.xptraining.model.Order&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/prop&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql}&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"txManager\"\n        class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"persistenceExceptionTranslationPostProcessor\"\n        class=\"org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor\" /&gt;\n\n    &lt;bean id=\"dataDao\" class=\"com.xptraining.dal.impl.DataDaoImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"dataServices\" class=\"com.xptraining.services.impl.DataServicesImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"specialtiesDao\" class=\"com.xptraining.dal.impl.SpecialtiesDaoImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"specialtiesServices\" class=\"com.xptraining.services.impl.SpecialtiesServicesImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"representativeDao\" class=\"com.xptraining.dal.impl.RepresentativeDaoImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"representativeService\" class=\"com.xptraining.services.impl.RepresentativeServiceImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"skuDao\" class=\"com.xptraining.dal.impl.SkuDaoImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"skuServices\" class=\"com.xptraining.services.impl.SkuervicesImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"cartDao\" class=\"com.xptraining.dal.impl.CartDaoImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"cartServices\" class=\"com.xptraining.services.impl.CartServiceImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"orderDao\" class=\"com.xptraining.dal.impl.OrderDaoImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"orderServices\" class=\"com.xptraining.services.impl.OrderServicesImpl\"&gt;&lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>@My console when i call save method</p>\n\n<pre><code>10:48:55.219 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/xptraining/cart/create]\n10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Looking up handler method for path /cart/create\n10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Returning handler method [public com.xptraining.model.Status com.xptraining.controller.CartController.addCart(com.xptraining.model.Cart)]\n10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'cartController'\n10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read [class com.xptraining.model.Cart] as \"application/json\" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@48e069ed]\ni m from jpa controller\ni m from jpa Service\n10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''\n10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Opened new Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=org.hibernate.engine.spi.ExecutableList@23b8bcb1 updates=org.hibernate.engine.spi.ExecutableList@2d7f56b6 deletions=org.hibernate.engine.spi.ExecutableList@2940d7c1 orphanRemovals=org.hibernate.engine.spi.ExecutableList@6c425c8d collectionCreations=org.hibernate.engine.spi.ExecutableList@a793880 collectionRemovals=org.hibernate.engine.spi.ExecutableList@5d64159f collectionUpdates=org.hibernate.engine.spi.ExecutableList@72b52f2d collectionQueuedOps=org.hibernate.engine.spi.ExecutableList@c6da3c2 unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])] for Hibernate transaction\n10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Preparing JDBC Connection of Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=org.hibernate.engine.spi.ExecutableList@23b8bcb1 updates=org.hibernate.engine.spi.ExecutableList@2d7f56b6 deletions=org.hibernate.engine.spi.ExecutableList@2940d7c1 orphanRemovals=org.hibernate.engine.spi.ExecutableList@6c425c8d collectionCreations=org.hibernate.engine.spi.ExecutableList@a793880 collectionRemovals=org.hibernate.engine.spi.ExecutableList@5d64159f collectionUpdates=org.hibernate.engine.spi.ExecutableList@72b52f2d collectionQueuedOps=org.hibernate.engine.spi.ExecutableList@c6da3c2 unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])]\n10:48:55.220 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Obtaining JDBC connection\n10:48:55.220 [http-nio-8080-exec-10] DEBUG org.springframework.jdbc.datasource.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/training]\n10:48:55.223 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Obtained JDBC connection\n10:48:55.223 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.spi.AbstractTransactionImpl - begin\n10:48:55.223 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - initial autocommit status: true\n10:48:55.223 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - disabling autocommit\n10:48:55.223 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Exposing Hibernate transaction as JDBC transaction [com.mysql.jdbc.JDBC4Connection@5c26bcfd]\n10:48:55.224 [http-nio-8080-exec-10] DEBUG org.springframework.orm.jpa.EntityManagerFactoryUtils - Opening JPA EntityManager\n10:48:55.224 [http-nio-8080-exec-10] DEBUG org.springframework.orm.jpa.EntityManagerFactoryUtils - Registering transaction synchronization for JPA EntityManager\n10:48:55.224 [http-nio-8080-exec-10] DEBUG org.hibernate.loader.Loader - Loading entity: [com.xptraining.model.Cart#1]\n10:48:55.224 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select cart0_.cart_id as cart_id1_0_0_, cart0_.prize as prize2_0_0_, cart0_.quantity as quantity3_0_0_, cart0_.representative_id as represen4_0_0_, cart0_.sku_id as sku_id5_0_0_ from cart cart0_ where cart0_.cart_id=?\n10:48:55.224 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Obtaining JDBC connection\n10:48:55.224 [http-nio-8080-exec-10] DEBUG org.springframework.jdbc.datasource.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/training]\n10:48:55.226 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Obtained JDBC connection\n10:48:55.226 [http-nio-8080-exec-10] DEBUG org.hibernate.loader.Loader - Result set row: 0\n10:48:55.226 [http-nio-8080-exec-10] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.xptraining.model.Cart#1]\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.internal.TwoPhaseLoad - Resolving associations for [com.xptraining.model.Cart#1]\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.internal.TwoPhaseLoad - Done materializing entity [com.xptraining.model.Cart#1]\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.loader.Loader - Done entity load\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.springframework.orm.jpa.EntityManagerFactoryUtils - Closing JPA EntityManager\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Releasing JDBC connection\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Released JDBC connection\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Initiating transaction commit\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Committing Hibernate transaction on Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=org.hibernate.engine.spi.ExecutableList@23b8bcb1 updates=org.hibernate.engine.spi.ExecutableList@2d7f56b6 deletions=org.hibernate.engine.spi.ExecutableList@2940d7c1 orphanRemovals=org.hibernate.engine.spi.ExecutableList@6c425c8d collectionCreations=org.hibernate.engine.spi.ExecutableList@a793880 collectionRemovals=org.hibernate.engine.spi.ExecutableList@5d64159f collectionUpdates=org.hibernate.engine.spi.ExecutableList@72b52f2d collectionQueuedOps=org.hibernate.engine.spi.ExecutableList@c6da3c2 unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])]\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.spi.AbstractTransactionImpl - committing\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - committed JDBC Connection\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - re-enabling autocommit\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.springframework.orm.hibernate4.HibernateTransactionManager - Closing Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=org.hibernate.engine.spi.ExecutableList@23b8bcb1 updates=org.hibernate.engine.spi.ExecutableList@2d7f56b6 deletions=org.hibernate.engine.spi.ExecutableList@2940d7c1 orphanRemovals=org.hibernate.engine.spi.ExecutableList@6c425c8d collectionCreations=org.hibernate.engine.spi.ExecutableList@a793880 collectionRemovals=org.hibernate.engine.spi.ExecutableList@5d64159f collectionUpdates=org.hibernate.engine.spi.ExecutableList@72b52f2d collectionQueuedOps=org.hibernate.engine.spi.ExecutableList@c6da3c2 unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])] after transaction\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Releasing JDBC connection\n10:48:55.227 [http-nio-8080-exec-10] DEBUG org.hibernate.engine.jdbc.internal.LogicalConnectionImpl - Released JDBC connection\n10:48:55.228 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Written [com.xptraining.model.Status@788e053b] as \"application/json\" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@48e069ed]\n10:48:55.228 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling\n10:48:55.228 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Successfully completed request\n</code></pre>\n"},{"tags":["java","kotlin","project-panama","java-ffm"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":2,"creation_date":1686476903,"post_id":76449639,"comment_id":134801184,"body_markdown":"Shouldn&#39;t you read a C_Pointer first? Like `MemorySegment.ofAddress(udidAddress.get(C_POINTER, 0))`","body":"Shouldn&#39;t you read a C_Pointer first? Like <code>MemorySegment.ofAddress(udidAddress.get(C_POINTER, 0))</code>"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1686476990,"post_id":76449639,"comment_id":134801192,"body_markdown":"Also please note that the getUtf8String() function might throw IndexOutOfBound if the string at udidPointer is not null-terminated, so you need to ensure that the string written by idevice_get_udid method is a null-terminated one","body":"Also please note that the getUtf8String() function might throw IndexOutOfBound if the string at udidPointer is not null-terminated, so you need to ensure that the string written by idevice_get_udid method is a null-terminated one"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1686490010,"post_id":76449639,"comment_id":134802554,"body_markdown":"Note that `MemorySegment.ofAddress(udidAddress.address())` is essentially a no-op which just returns a new memory segment with the same address, but size 0.","body":"Note that <code>MemorySegment.ofAddress(udidAddress.address())</code> is essentially a no-op which just returns a new memory segment with the same address, but size 0."}],"answers":[{"comments":[{"owner":{"account_id":28788557,"reputation":1,"user_id":22048475,"display_name":"purofle"},"score":0,"creation_date":1686493929,"post_id":76450687,"comment_id":134803040,"body_markdown":"When I use `println(udid.get(C_POINTER, 0).getUtf8String(0))` it works, but thank you very much.","body":"When I use <code>println(udid.get(C_POINTER, 0).getUtf8String(0))</code> it works, but thank you very much."}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686490029,"creation_date":1686490029,"answer_id":76450687,"question_id":76449639,"body_markdown":"There&#39;s no equivalent of the `&amp;` operator in the Panama API (Simply because Java values don&#39;t have a stable native address). So, step 1 is to rewrite your C code to not use it. We get something like this:\r\n\r\n    static char *udid = NULL;\r\n    \r\n    /* Device Handle */\r\n    idevice_t device = NULL;\r\n\r\n    /* Try to connect to first USB device */\r\n    idevice_t *device_ptr = malloc(sizeof *device_ptr);\r\n    if (idevice_new_with_options(device_ptr , NULL, IDEVICE_LOOKUP_USBMUX) != IDEVICE_E_SUCCESS) {\r\n      printf(&quot;ERROR: No device found!\\n&quot;);\r\n      return -1;\r\n    }\r\n    device = *device_ptr;\r\n    \r\n    /* Retrieve the udid of the connected device */\r\n    char **udid_ptr = malloc(sizeof *udid_ptr);\r\n    if (idevice_get_udid(device, udid_ptr) != IDEVICE_E_SUCCESS) {\r\n      printf(&quot;ERROR: Unable to get the device UDID.\\n&quot;);\r\n      idevice_free(device);\r\n      return -1;\r\n    }\r\n    udid = *uid_ptr;\r\n    \r\n    /* Outputs device identifier */\r\n    printf(&quot;Connected with UDID: %s\\n&quot;, udid);\r\n\r\n    free(device_ptr);\r\n    free(udid_ptr);\r\n\r\nNow it should be easier to see how this should be translated into Kotlin (I hope this is correctly eyeballed, as I&#39;m not super familiar with Kotlin):\r\n\r\n    class Device {\r\n        private val uid: MemorySegment\r\n        private val device: MemorySegment\r\n    \r\n        init {\r\n            Arena.openConfined().use { arena -&gt;\r\n                // you could even have just one of these and re-use it\r\n                val uidAddress: MemorySmegment = arena.allocate(C_POINTER)\r\n                val deviceAddress: MemorySegment = arena.allocate(C_POINTER)\r\n\r\n                if (idevice_new_with_options(deviceAddress, NULL(), IDEVICE_LOOKUP_USBMUX()) != IDEVICE_E_SUCCESS()) {\r\n                    throw Exception(&quot;ERROR: No device found!&quot;)\r\n                }\r\n                device = deviceAddress.get(C_POINTER, 0)\r\n\r\n                if (idevice_get_udid(device, uidAddress) != IDEVICE_E_SUCCESS()) {\r\n                    idevice_free(device)\r\n                    throw Exception(&quot;ERROR: Get UDID failed&quot;)\r\n                }\r\n                uid = udidAddress.get(C_POINTER, 0)\r\n\r\n                println(&quot;connected&quot;)\r\n                println(uid.getUtf8String(0))\r\n            }\r\n        }\r\n    }\r\n    \r\n    fun main() {\r\n        Device()\r\n    }","title":"Java Foreign API: How to get string from C_POINTER?","body":"<p>There's no equivalent of the <code>&amp;</code> operator in the Panama API (Simply because Java values don't have a stable native address). So, step 1 is to rewrite your C code to not use it. We get something like this:</p>\n<pre><code>static char *udid = NULL;\n\n/* Device Handle */\nidevice_t device = NULL;\n\n/* Try to connect to first USB device */\nidevice_t *device_ptr = malloc(sizeof *device_ptr);\nif (idevice_new_with_options(device_ptr , NULL, IDEVICE_LOOKUP_USBMUX) != IDEVICE_E_SUCCESS) {\n  printf(&quot;ERROR: No device found!\\n&quot;);\n  return -1;\n}\ndevice = *device_ptr;\n\n/* Retrieve the udid of the connected device */\nchar **udid_ptr = malloc(sizeof *udid_ptr);\nif (idevice_get_udid(device, udid_ptr) != IDEVICE_E_SUCCESS) {\n  printf(&quot;ERROR: Unable to get the device UDID.\\n&quot;);\n  idevice_free(device);\n  return -1;\n}\nudid = *uid_ptr;\n\n/* Outputs device identifier */\nprintf(&quot;Connected with UDID: %s\\n&quot;, udid);\n\nfree(device_ptr);\nfree(udid_ptr);\n</code></pre>\n<p>Now it should be easier to see how this should be translated into Kotlin (I hope this is correctly eyeballed, as I'm not super familiar with Kotlin):</p>\n<pre><code>class Device {\n    private val uid: MemorySegment\n    private val device: MemorySegment\n\n    init {\n        Arena.openConfined().use { arena -&gt;\n            // you could even have just one of these and re-use it\n            val uidAddress: MemorySmegment = arena.allocate(C_POINTER)\n            val deviceAddress: MemorySegment = arena.allocate(C_POINTER)\n\n            if (idevice_new_with_options(deviceAddress, NULL(), IDEVICE_LOOKUP_USBMUX()) != IDEVICE_E_SUCCESS()) {\n                throw Exception(&quot;ERROR: No device found!&quot;)\n            }\n            device = deviceAddress.get(C_POINTER, 0)\n\n            if (idevice_get_udid(device, uidAddress) != IDEVICE_E_SUCCESS()) {\n                idevice_free(device)\n                throw Exception(&quot;ERROR: Get UDID failed&quot;)\n            }\n            uid = udidAddress.get(C_POINTER, 0)\n\n            println(&quot;connected&quot;)\n            println(uid.getUtf8String(0))\n        }\n    }\n}\n\nfun main() {\n    Device()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28788557,"reputation":1,"user_id":22048475,"display_name":"purofle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686493796,"creation_date":1686493796,"answer_id":76450960,"question_id":76449639,"body_markdown":"It worked when I write like this:\r\n```kotlin\r\nclass Device {\r\n    private var device: MemorySegment\r\n    private var udid: MemorySegment\r\n\r\n    init {\r\n        Arena.openConfined().use { arena -&gt;\r\n            val udidAddress: MemorySegment = arena.allocate(C_POINTER)\r\n            val deviceAddress: MemorySegment = arena.allocate(C_POINTER)\r\n\r\n            if (idevice_new_with_options(deviceAddress, NULL(), IDEVICE_LOOKUP_USBMUX()) != IDEVICE_E_SUCCESS()) {\r\n            throw Exception(&quot;ERROR: No device found!&quot;)\r\n            }\r\n            device = deviceAddress.get(C_POINTER, 0)\r\n\r\n            if (idevice_get_udid(deviceAddress, udidAddress) != IDEVICE_E_SUCCESS()) {\r\n                idevice_free(deviceAddress)\r\n                throw Exception(&quot;ERROR: Get UDID failed&quot;)\r\n            }\r\n            \r\n            udid = udidAddress.get(C_POINTER, 0).get(C_POINTER, 0)\r\n            println(&quot;connected&quot;)\r\n            println(udid.getUtf8String(0))\r\n        }\r\n    }\r\n}\r\n```","title":"Java Foreign API: How to get string from C_POINTER?","body":"<p>It worked when I write like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Device {\n    private var device: MemorySegment\n    private var udid: MemorySegment\n\n    init {\n        Arena.openConfined().use { arena -&gt;\n            val udidAddress: MemorySegment = arena.allocate(C_POINTER)\n            val deviceAddress: MemorySegment = arena.allocate(C_POINTER)\n\n            if (idevice_new_with_options(deviceAddress, NULL(), IDEVICE_LOOKUP_USBMUX()) != IDEVICE_E_SUCCESS()) {\n            throw Exception(&quot;ERROR: No device found!&quot;)\n            }\n            device = deviceAddress.get(C_POINTER, 0)\n\n            if (idevice_get_udid(deviceAddress, udidAddress) != IDEVICE_E_SUCCESS()) {\n                idevice_free(deviceAddress)\n                throw Exception(&quot;ERROR: Get UDID failed&quot;)\n            }\n            \n            udid = udidAddress.get(C_POINTER, 0).get(C_POINTER, 0)\n            println(&quot;connected&quot;)\n            println(udid.getUtf8String(0))\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28788557,"reputation":1,"user_id":22048475,"display_name":"purofle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696690865,"creation_date":1686472427,"question_id":76449639,"body_markdown":"I want to use [libimobiledevice](https://libimobiledevice.org/#get-started) by Java Foreign API,\r\nThis is my code, written by Kotlin:\r\n```kotlin\r\nclass Device {\r\n    private val arena: Arena = Arena.openConfined()\r\n    private val udidAddress: MemorySegment = arena.allocate(C_POINTER)\r\n    private val deviceAddress: MemorySegment = arena.allocate(C_POINTER)\r\n\r\n    init {\r\n        if (idevice_new_with_options(deviceAddress, NULL(), IDEVICE_LOOKUP_USBMUX()) != IDEVICE_E_SUCCESS()) {\r\n            throw Exception(&quot;ERROR: No device found!&quot;)\r\n        }\r\n        if (idevice_get_udid(deviceAddress, udidAddress) != IDEVICE_E_SUCCESS()) {\r\n            idevice_free(deviceAddress)\r\n            throw Exception(&quot;ERROR: Get UDID failed&quot;)\r\n        } else {\r\n            println(&quot;connected&quot;)\r\n            println(MemorySegment.ofAddress(udidAddress.address()).getUtf8String(0))\r\n        }\r\n    }\r\n}\r\n\r\nfun main() {\r\n    Device()\r\n}\r\n```\r\nBut it got error while getting udid:\r\n```kotlin\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Out of bound access on segment MemorySegment{ array: Optional.empty address:140202431639472 limit: 0 }; new offset = 0; new length = 1\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.outOfBoundException(AbstractMemorySegmentImpl.java:371)\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.apply(AbstractMemorySegmentImpl.java:357)\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.apply(AbstractMemorySegmentImpl.java:70)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:124)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:448)\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.checkBounds(AbstractMemorySegmentImpl.java:346)\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.checkAccess(AbstractMemorySegmentImpl.java:311)\r\n\tat java.base/java.lang.invoke.VarHandleSegmentAsBytes.checkAddress(VarHandleSegmentAsBytes.java:81)\r\n\tat java.base/java.lang.invoke.VarHandleSegmentAsBytes.get(VarHandleSegmentAsBytes.java:108)\r\n\tat java.base/java.lang.foreign.MemorySegment.get(MemorySegment.java:1388)\r\n\tat java.base/jdk.internal.foreign.abi.SharedUtils.strlen(SharedUtils.java:199)\r\n\tat java.base/jdk.internal.foreign.abi.SharedUtils.toJavaStringInternal(SharedUtils.java:190)\r\n\tat java.base/java.lang.foreign.MemorySegment.getUtf8String(MemorySegment.java:890)\r\n\tat Device.&lt;init&gt;(Device.kt:21)\r\n\tat DeviceKt.main(Device.kt:27)\r\n\tat DeviceKt.main(Device.kt)\r\n```\r\n\r\nThe C language code i want:\r\n```c\r\nstatic char *udid = NULL;\r\n\r\n/* Device Handle */\r\nidevice_t device = NULL;\r\n\r\n/* Try to connect to first USB device */\r\nif (idevice_new_with_options(&amp;device, NULL, IDEVICE_LOOKUP_USBMUX) != IDEVICE_E_SUCCESS) {\r\n  printf(&quot;ERROR: No device found!\\n&quot;);\r\n  return -1;\r\n}\r\n\r\n/* Retrieve the udid of the connected device */\r\nif (idevice_get_udid(device, &amp;udid) != IDEVICE_E_SUCCESS) {\r\n  printf(&quot;ERROR: Unable to get the device UDID.\\n&quot;);\r\n  idevice_free(device);\r\n  return -1;\r\n}\r\n\r\n/* Outputs device identifier */\r\nprintf(&quot;Connected with UDID: %s\\n&quot;, udid);\r\n```\r\n\r\nhow to solve this problem? (sorry, this is my first time using stackoverflow)\r\n\r\nIt should return a udid, but I got an error, the code I tried is above.","title":"Java Foreign API: How to get string from C_POINTER?","body":"<p>I want to use <a href=\"https://libimobiledevice.org/#get-started\" rel=\"nofollow noreferrer\">libimobiledevice</a> by Java Foreign API,\nThis is my code, written by Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Device {\n    private val arena: Arena = Arena.openConfined()\n    private val udidAddress: MemorySegment = arena.allocate(C_POINTER)\n    private val deviceAddress: MemorySegment = arena.allocate(C_POINTER)\n\n    init {\n        if (idevice_new_with_options(deviceAddress, NULL(), IDEVICE_LOOKUP_USBMUX()) != IDEVICE_E_SUCCESS()) {\n            throw Exception(&quot;ERROR: No device found!&quot;)\n        }\n        if (idevice_get_udid(deviceAddress, udidAddress) != IDEVICE_E_SUCCESS()) {\n            idevice_free(deviceAddress)\n            throw Exception(&quot;ERROR: Get UDID failed&quot;)\n        } else {\n            println(&quot;connected&quot;)\n            println(MemorySegment.ofAddress(udidAddress.address()).getUtf8String(0))\n        }\n    }\n}\n\nfun main() {\n    Device()\n}\n</code></pre>\n<p>But it got error while getting udid:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Out of bound access on segment MemorySegment{ array: Optional.empty address:140202431639472 limit: 0 }; new offset = 0; new length = 1\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.outOfBoundException(AbstractMemorySegmentImpl.java:371)\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.apply(AbstractMemorySegmentImpl.java:357)\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.apply(AbstractMemorySegmentImpl.java:70)\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:124)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:448)\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.checkBounds(AbstractMemorySegmentImpl.java:346)\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.checkAccess(AbstractMemorySegmentImpl.java:311)\n    at java.base/java.lang.invoke.VarHandleSegmentAsBytes.checkAddress(VarHandleSegmentAsBytes.java:81)\n    at java.base/java.lang.invoke.VarHandleSegmentAsBytes.get(VarHandleSegmentAsBytes.java:108)\n    at java.base/java.lang.foreign.MemorySegment.get(MemorySegment.java:1388)\n    at java.base/jdk.internal.foreign.abi.SharedUtils.strlen(SharedUtils.java:199)\n    at java.base/jdk.internal.foreign.abi.SharedUtils.toJavaStringInternal(SharedUtils.java:190)\n    at java.base/java.lang.foreign.MemorySegment.getUtf8String(MemorySegment.java:890)\n    at Device.&lt;init&gt;(Device.kt:21)\n    at DeviceKt.main(Device.kt:27)\n    at DeviceKt.main(Device.kt)\n</code></pre>\n<p>The C language code i want:</p>\n<pre class=\"lang-c prettyprint-override\"><code>static char *udid = NULL;\n\n/* Device Handle */\nidevice_t device = NULL;\n\n/* Try to connect to first USB device */\nif (idevice_new_with_options(&amp;device, NULL, IDEVICE_LOOKUP_USBMUX) != IDEVICE_E_SUCCESS) {\n  printf(&quot;ERROR: No device found!\\n&quot;);\n  return -1;\n}\n\n/* Retrieve the udid of the connected device */\nif (idevice_get_udid(device, &amp;udid) != IDEVICE_E_SUCCESS) {\n  printf(&quot;ERROR: Unable to get the device UDID.\\n&quot;);\n  idevice_free(device);\n  return -1;\n}\n\n/* Outputs device identifier */\nprintf(&quot;Connected with UDID: %s\\n&quot;, udid);\n</code></pre>\n<p>how to solve this problem? (sorry, this is my first time using stackoverflow)</p>\n<p>It should return a udid, but I got an error, the code I tried is above.</p>\n"},{"tags":["java","project-panama","java-21","java-ffm"],"answers":[{"comments":[{"owner":{"account_id":29368999,"reputation":33,"user_id":22501991,"display_name":"Abdelfettah Ghazi"},"score":0,"creation_date":1693904553,"post_id":77042737,"comment_id":135817514,"body_markdown":"that works thanks @JornVernee","body":"that works thanks @JornVernee"}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696046306,"creation_date":1693900831,"answer_id":77042737,"question_id":77042593,"body_markdown":"&gt; It seems that pointers.setAtIndex and pointers.getAtIndex do not preserve the MemorySegment byteSize. ?\r\n\r\nYes, that is correct. The address is stored into off-heap memory as a plain memory address. The size is dropped. So, when reading an address back from off-heap memory, the created memory segment has size 0.\r\n\r\nThis is explained in the [javadoc of MemorySegment](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemorySegment.html#wrapping-addresses) as well:\r\n\r\n&gt; When interacting with foreign functions, it is common for those\r\n&gt; functions to allocate a region of memory and return a pointer to that\r\n&gt; region. Modeling the region of memory with a memory segment is\r\n&gt; challenging because the Java runtime has no insight into the size of\r\n&gt; the region. **Only the address of the start of the region, stored in the\r\n&gt; pointer, is available**.\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; The MemorySegment API uses zero-length memory segments to represent:\r\n&gt; \r\n&gt; - pointers returned from a foreign function;\r\n&gt; - pointers passed by a foreign function to an upcall stub; and\r\n&gt; - pointers read from a memory segment (more on that below).\r\n\r\nYour use case is the latter of the three.\r\n\r\nYou have to use [`MemorySegment::reinterpret`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemorySegment.html#reinterpret(long)) to resize the segment explicitly. Since for a C string the actual size is not known (it&#39;s indicated by a null terminator), you can resize the segment to `Long.MAX_VALUE` to make it accessible:\r\n\r\n    // 7. Copy the (reordered) strings from off-heap to on-heap\r\n    for (int i = 0; i &lt; javaStrings.length; i++) {\r\n        MemorySegment cString = pointers.getAtIndex(ValueLayout.ADDRESS, i);\r\n        cString = cString.reinterpret(Long.MAX_VALUE); // &lt;----\r\n        javaStrings[i] = cString.getUtf8String(0);\r\n    }\r\n\r\n---\r\n\r\nAlternatively, you can create an `AddressLayout` with a [target layout](https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/lang/foreign/AddressLayout.html#withTargetLayout(java.lang.foreign.MemoryLayout)) that has the needed size, to avoid the separate call to `reinterpret`:\r\n\r\n    AddressLayout UNBOUNDED_POINTER = ValueLayout.ADDRESS\r\n            .withTargetLayout(MemoryLayout.sequenceLayout(Long.MAX_VALUE, ValueLayout.JAVA_BYTE));\r\n\r\nAnd then use that to do the dereference:\r\n\r\n    // 7. Copy the (reordered) strings from off-heap to on-heap\r\n    for (int i = 0; i &lt; javaStrings.length; i++) {\r\n        MemorySegment cString = pointers.getAtIndex(UNBOUNDED_POINTER, i);\r\n        // no reinterpret needed\r\n        javaStrings[i] = cString.getUtf8String(0);\r\n    }","title":"&#39;IndexOutOfBoundsException: Out of bound access on segment ...&#39; when accessing pointer read from MemorySegment","body":"<blockquote>\n<p>It seems that pointers.setAtIndex and pointers.getAtIndex do not preserve the MemorySegment byteSize. ?</p>\n</blockquote>\n<p>Yes, that is correct. The address is stored into off-heap memory as a plain memory address. The size is dropped. So, when reading an address back from off-heap memory, the created memory segment has size 0.</p>\n<p>This is explained in the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemorySegment.html#wrapping-addresses\" rel=\"nofollow noreferrer\">javadoc of MemorySegment</a> as well:</p>\n<blockquote>\n<p>When interacting with foreign functions, it is common for those\nfunctions to allocate a region of memory and return a pointer to that\nregion. Modeling the region of memory with a memory segment is\nchallenging because the Java runtime has no insight into the size of\nthe region. <strong>Only the address of the start of the region, stored in the\npointer, is available</strong>.</p>\n<p>...</p>\n<p>The MemorySegment API uses zero-length memory segments to represent:</p>\n<ul>\n<li>pointers returned from a foreign function;</li>\n<li>pointers passed by a foreign function to an upcall stub; and</li>\n<li>pointers read from a memory segment (more on that below).</li>\n</ul>\n</blockquote>\n<p>Your use case is the latter of the three.</p>\n<p>You have to use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemorySegment.html#reinterpret(long)\" rel=\"nofollow noreferrer\"><code>MemorySegment::reinterpret</code></a> to resize the segment explicitly. Since for a C string the actual size is not known (it's indicated by a null terminator), you can resize the segment to <code>Long.MAX_VALUE</code> to make it accessible:</p>\n<pre><code>// 7. Copy the (reordered) strings from off-heap to on-heap\nfor (int i = 0; i &lt; javaStrings.length; i++) {\n    MemorySegment cString = pointers.getAtIndex(ValueLayout.ADDRESS, i);\n    cString = cString.reinterpret(Long.MAX_VALUE); // &lt;----\n    javaStrings[i] = cString.getUtf8String(0);\n}\n</code></pre>\n<hr />\n<p>Alternatively, you can create an <code>AddressLayout</code> with a <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/lang/foreign/AddressLayout.html#withTargetLayout(java.lang.foreign.MemoryLayout)\" rel=\"nofollow noreferrer\">target layout</a> that has the needed size, to avoid the separate call to <code>reinterpret</code>:</p>\n<pre><code>AddressLayout UNBOUNDED_POINTER = ValueLayout.ADDRESS\n        .withTargetLayout(MemoryLayout.sequenceLayout(Long.MAX_VALUE, ValueLayout.JAVA_BYTE));\n</code></pre>\n<p>And then use that to do the dereference:</p>\n<pre><code>// 7. Copy the (reordered) strings from off-heap to on-heap\nfor (int i = 0; i &lt; javaStrings.length; i++) {\n    MemorySegment cString = pointers.getAtIndex(UNBOUNDED_POINTER, i);\n    // no reinterpret needed\n    javaStrings[i] = cString.getUtf8String(0);\n}\n</code></pre>\n"}],"owner":{"account_id":29368999,"reputation":33,"user_id":22501991,"display_name":"Abdelfettah Ghazi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77042737,"answer_count":1,"score":3,"last_activity_date":1696690833,"creation_date":1693899638,"question_id":77042593,"body_markdown":"I am attempting to test the Foreign Function and Memory features of Java 21. Here is my code :\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        // 1. Find foreign function on the C library path\r\n        Linker linker = Linker.nativeLinker();\r\n        SymbolLookup stdlib = linker.defaultLookup();\r\n        MethodHandle radixsort = linker.downcallHandle(stdlib.find(&quot;radixsort&quot;).orElseThrow(), FunctionDescriptor.ofVoid(ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.JAVA_CHAR));\r\n        // 2. Allocate on-heap memory to store four strings\r\n        String[] javaStrings = {&quot;mouse&quot;, &quot;cat&quot;, &quot;dog&quot;, &quot;car&quot;};\r\n\r\n        // 3. Use try-with-resources to manage the lifetime of off-heap memory\r\n        try (Arena offHeap = Arena.ofConfined()) {\r\n            // 4. Allocate a region of off-heap memory to store four pointers\r\n            MemorySegment pointers = offHeap.allocateArray(ValueLayout.ADDRESS, javaStrings.length);\r\n            // 5. Copy the strings from on-heap to off-heap\r\n            for (int i = 0; i &lt; javaStrings.length; i++) {\r\n                MemorySegment cString = offHeap.allocateUtf8String(javaStrings[i]);\r\n                pointers.setAtIndex(ValueLayout.ADDRESS, i, cString);\r\n                assert cString.getUtf8String(0).length() &gt; 0;\r\n            }\r\n            // 6. Sort the off-heap data by calling the foreign function\r\n            radixsort.invoke(pointers, javaStrings.length, MemorySegment.NULL, &#39;\\0&#39;);\r\n            // 7. Copy the (reordered) strings from off-heap to on-heap\r\n            for (int i = 0; i &lt; javaStrings.length; i++) {\r\n                MemorySegment cString = pointers.getAtIndex(ValueLayout.ADDRESS, i);\r\n                javaStrings[i] = cString.getUtf8String(0);\r\n            }\r\n        } // 8. All off-heap memory is deallocated here\r\n        catch (Throwable e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        assert Arrays.equals(javaStrings, new String[]{&quot;car&quot;, &quot;c∞at&quot;, &quot;dog&quot;, &quot;mouse&quot;});  // true\r\n    }\r\n```\r\n\r\nbut I am encountering this error :\r\n\r\n`Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.IndexOutOfBoundsException: Out of bound access on segment MemorySegment{ heapBase: Optional.empty address:105553153094096 limit: 0 }; new offset = 0; new length = 1`\r\n\r\nAt the line :\r\n\r\n`javaStrings\\[i\\] = cString.getUtf8String(0);`\r\nIt seems that `MemorySegment cString = pointers.getAtIndex(ValueLayout.ADDRESS, i);` returns a MemorySegment with a byteSize = 0\r\n\r\nWhen I use `cString.getUtf8String(0);` on the original cString, I do not encounter an error.\r\n\r\nIt seems that `pointers.setAtIndex` and `pointers.getAtIndex` do not preserve the MemorySegment byteSize. ?","title":"&#39;IndexOutOfBoundsException: Out of bound access on segment ...&#39; when accessing pointer read from MemorySegment","body":"<p>I am attempting to test the Foreign Function and Memory features of Java 21. Here is my code :</p>\n<pre><code>public static void main(String[] args) {\n        // 1. Find foreign function on the C library path\n        Linker linker = Linker.nativeLinker();\n        SymbolLookup stdlib = linker.defaultLookup();\n        MethodHandle radixsort = linker.downcallHandle(stdlib.find(&quot;radixsort&quot;).orElseThrow(), FunctionDescriptor.ofVoid(ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.JAVA_CHAR));\n        // 2. Allocate on-heap memory to store four strings\n        String[] javaStrings = {&quot;mouse&quot;, &quot;cat&quot;, &quot;dog&quot;, &quot;car&quot;};\n\n        // 3. Use try-with-resources to manage the lifetime of off-heap memory\n        try (Arena offHeap = Arena.ofConfined()) {\n            // 4. Allocate a region of off-heap memory to store four pointers\n            MemorySegment pointers = offHeap.allocateArray(ValueLayout.ADDRESS, javaStrings.length);\n            // 5. Copy the strings from on-heap to off-heap\n            for (int i = 0; i &lt; javaStrings.length; i++) {\n                MemorySegment cString = offHeap.allocateUtf8String(javaStrings[i]);\n                pointers.setAtIndex(ValueLayout.ADDRESS, i, cString);\n                assert cString.getUtf8String(0).length() &gt; 0;\n            }\n            // 6. Sort the off-heap data by calling the foreign function\n            radixsort.invoke(pointers, javaStrings.length, MemorySegment.NULL, '\\0');\n            // 7. Copy the (reordered) strings from off-heap to on-heap\n            for (int i = 0; i &lt; javaStrings.length; i++) {\n                MemorySegment cString = pointers.getAtIndex(ValueLayout.ADDRESS, i);\n                javaStrings[i] = cString.getUtf8String(0);\n            }\n        } // 8. All off-heap memory is deallocated here\n        catch (Throwable e) {\n            throw new RuntimeException(e);\n        }\n        assert Arrays.equals(javaStrings, new String[]{&quot;car&quot;, &quot;c∞at&quot;, &quot;dog&quot;, &quot;mouse&quot;});  // true\n    }\n</code></pre>\n<p>but I am encountering this error :</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.IndexOutOfBoundsException: Out of bound access on segment MemorySegment{ heapBase: Optional.empty address:105553153094096 limit: 0 }; new offset = 0; new length = 1</code></p>\n<p>At the line :</p>\n<p><code>javaStrings\\[i\\] = cString.getUtf8String(0);</code>\nIt seems that <code>MemorySegment cString = pointers.getAtIndex(ValueLayout.ADDRESS, i);</code> returns a MemorySegment with a byteSize = 0</p>\n<p>When I use <code>cString.getUtf8String(0);</code> on the original cString, I do not encounter an error.</p>\n<p>It seems that <code>pointers.setAtIndex</code> and <code>pointers.getAtIndex</code> do not preserve the MemorySegment byteSize. ?</p>\n"},{"tags":["java","java-20","java-ffm"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696677870,"creation_date":1696677870,"answer_id":77249547,"question_id":77249515,"body_markdown":"In java 20, you can use [`MemorySegment::ofAddress`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/foreign/MemorySegment.html#ofAddress(long,long)) instead of `reinterpret`:\r\n\r\n    cString = MemorySegment.ofAddress(cString.address(), Long.MAX_VALUE);","title":"OpenJDK 20: JEP 434: Foreign Function &amp; Memory API (Second Preview)","body":"<p>In java 20, you can use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/foreign/MemorySegment.html#ofAddress(long,long)\" rel=\"nofollow noreferrer\"><code>MemorySegment::ofAddress</code></a> instead of <code>reinterpret</code>:</p>\n<pre><code>cString = MemorySegment.ofAddress(cString.address(), Long.MAX_VALUE);\n</code></pre>\n"}],"owner":{"account_id":29615798,"reputation":51,"user_id":22697986,"display_name":"StackHeap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77249547,"answer_count":1,"score":1,"last_activity_date":1696690788,"creation_date":1696677253,"question_id":77249515,"body_markdown":"How to reinterpret MemorySegment in Java 20 Preview like Java 21 Preview MemorySegment:\r\n\r\nMemorySegment reinterpret(long newSize) - Returns a new memory segment that has the same address and scope as this segment, but with the provided size?\r\n\r\nPlease refer to the following ccode snippet and the exception output details:\r\n\r\n```\r\nimport java.lang.foreign.Arena;\r\nimport java.lang.foreign.FunctionDescriptor;\r\nimport java.lang.foreign.Linker;\r\nimport java.lang.foreign.MemorySegment;\r\nimport java.lang.foreign.SymbolLookup;\r\nimport java.lang.foreign.ValueLayout;\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.util.Arrays;\r\n\r\n// 434: Foreign Function &amp; Memory API (Second Preview) // https://openjdk.org/jeps/434\r\nclass ForeignFunctionMemoryAPISecondPreview {\r\n    private void radixsort() throws Throwable {\r\n\r\n\t// 1. Find foreign function on the C library path\r\n\tLinker linker          = Linker.nativeLinker();\r\n\tSymbolLookup stdlib    = linker.defaultLookup();\r\n\tMethodHandle radixsort = linker.downcallHandle(stdlib.find(&quot;radixsort&quot;).orElseThrow(), \r\n    \t    FunctionDescriptor.ofVoid(ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.JAVA_CHAR));\r\n\r\n\t// 2. Allocate on-heap memory to store four strings\r\n\tString[] javaStrings = { &quot;mouse&quot;, &quot;cat&quot;, &quot;dog&quot;, &quot;car&quot; };\r\n     \tSystem.out.println(&quot;radixsort input: &quot; + Arrays.toString(javaStrings));\r\n\r\n\t// 3. Use try-with-resources to manage the lifetime of off-heap memory\r\n\ttry (Arena offHeap = Arena.openConfined()) {\r\n    \t    // 4. Allocate a region of off-heap memory to store four pointers\r\n    \t    MemorySegment pointers = offHeap.allocateArray(ValueLayout.ADDRESS, javaStrings.length);\r\n\r\n    \t    // 5. Copy the strings from on-heap to off-heap\r\n    \t    for (int i = 0; i &lt; javaStrings.length; i++) {\r\n            \tMemorySegment cString = offHeap.allocateUtf8String(javaStrings[i]);\r\n            \tpointers.setAtIndex(ValueLayout.ADDRESS, i, cString);\r\n    \t    }\r\n\r\n    \t    // 6. Sort the off-heap data by calling the foreign function\r\n    \t    radixsort.invoke(pointers, javaStrings.length, MemorySegment.NULL, &#39;\\0&#39;);\r\n\r\n    \t    // 7. Copy the (reordered) strings from off-heap to on-heap\r\n    \t    for (int i = 0; i &lt; javaStrings.length; i++) {\r\n            \tMemorySegment cString = pointers.getAtIndex(ValueLayout.ADDRESS, i);\r\n                // Java 21 Preview\r\n\t\t// cString = cString.reinterpret(Long.MAX_VALUE);\r\n            \t// javaStrings[i] = cString.getUtf8String(0);\r\n\t\tSystem.out.println(cString);\r\n    \t    }\r\n\t}\r\n\r\n\t// 8. All off-heap memory is deallocated here\r\n        System.out.println(&quot;radixsort output: &quot; + Arrays.toString(javaStrings));\r\n    }\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        System.out.println(String.format(&quot;Java Version: %s&quot;, System.getProperty(&quot;java.version&quot;)));\r\n\r\n\tvar previewForeignFunctionMemoryAPISecond = new ForeignFunctionMemoryAPISecondPreview();\r\n        previewForeignFunctionMemoryAPISecond.radixsort();\r\n    }\r\n}\r\n\r\n// Output\r\n/*\r\nWARNING: Using incubator modules: jdk.incubator.vector, jdk.incubator.concurrent\r\nNote: ForeignFunctionMemoryAPISecondPreview.java uses preview features of Java SE 20.\r\nNote: Recompile with -Xlint:preview for details.\r\nJava Version: 20.0.2\r\nradixsort input: [mouse, cat, dog, car]\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Out of bound access on segment MemorySegment{ array: Optional.empty address:105553152688144 limit: 0 }; new offset = 0; new length = 1\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.outOfBoundException(AbstractMemorySegmentImpl.java:371)\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.apply(AbstractMemorySegmentImpl.java:357)\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.apply(AbstractMemorySegmentImpl.java:70)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:124)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:448)\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.checkBounds(AbstractMemorySegmentImpl.java:346)\r\n\tat java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.checkAccess(AbstractMemorySegmentImpl.java:311)\r\n\tat java.base/java.lang.invoke.VarHandleSegmentAsBytes.checkAddress(VarHandleSegmentAsBytes.java:81)\r\n\tat java.base/java.lang.invoke.VarHandleSegmentAsBytes.get(VarHandleSegmentAsBytes.java:108)\r\n\tat java.base/java.lang.foreign.MemorySegment.get(MemorySegment.java:1388)\r\n\tat java.base/jdk.internal.foreign.abi.SharedUtils.strlen(SharedUtils.java:199)\r\n\tat java.base/jdk.internal.foreign.abi.SharedUtils.toJavaStringInternal(SharedUtils.java:190)\r\n\tat java.base/java.lang.foreign.MemorySegment.getUtf8String(MemorySegment.java:890)\r\n\tat ForeignFunctionMemoryAPISecondPreview.radixsort(ForeignFunctionMemoryAPISecondPreview.java:43)\r\n\tat ForeignFunctionMemoryAPISecondPreview.main(ForeignFunctionMemoryAPISecondPreview.java:56)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/foreign/MemorySegment.html#reinterpret(long)","title":"OpenJDK 20: JEP 434: Foreign Function &amp; Memory API (Second Preview)","body":"<p>How to reinterpret MemorySegment in Java 20 Preview like Java 21 Preview MemorySegment:</p>\n<p>MemorySegment reinterpret(long newSize) - Returns a new memory segment that has the same address and scope as this segment, but with the provided size?</p>\n<p>Please refer to the following ccode snippet and the exception output details:</p>\n<pre><code>import java.lang.foreign.Arena;\nimport java.lang.foreign.FunctionDescriptor;\nimport java.lang.foreign.Linker;\nimport java.lang.foreign.MemorySegment;\nimport java.lang.foreign.SymbolLookup;\nimport java.lang.foreign.ValueLayout;\nimport java.lang.invoke.MethodHandle;\nimport java.util.Arrays;\n\n// 434: Foreign Function &amp; Memory API (Second Preview) // https://openjdk.org/jeps/434\nclass ForeignFunctionMemoryAPISecondPreview {\n    private void radixsort() throws Throwable {\n\n    // 1. Find foreign function on the C library path\n    Linker linker          = Linker.nativeLinker();\n    SymbolLookup stdlib    = linker.defaultLookup();\n    MethodHandle radixsort = linker.downcallHandle(stdlib.find(&quot;radixsort&quot;).orElseThrow(), \n            FunctionDescriptor.ofVoid(ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.JAVA_CHAR));\n\n    // 2. Allocate on-heap memory to store four strings\n    String[] javaStrings = { &quot;mouse&quot;, &quot;cat&quot;, &quot;dog&quot;, &quot;car&quot; };\n        System.out.println(&quot;radixsort input: &quot; + Arrays.toString(javaStrings));\n\n    // 3. Use try-with-resources to manage the lifetime of off-heap memory\n    try (Arena offHeap = Arena.openConfined()) {\n            // 4. Allocate a region of off-heap memory to store four pointers\n            MemorySegment pointers = offHeap.allocateArray(ValueLayout.ADDRESS, javaStrings.length);\n\n            // 5. Copy the strings from on-heap to off-heap\n            for (int i = 0; i &lt; javaStrings.length; i++) {\n                MemorySegment cString = offHeap.allocateUtf8String(javaStrings[i]);\n                pointers.setAtIndex(ValueLayout.ADDRESS, i, cString);\n            }\n\n            // 6. Sort the off-heap data by calling the foreign function\n            radixsort.invoke(pointers, javaStrings.length, MemorySegment.NULL, '\\0');\n\n            // 7. Copy the (reordered) strings from off-heap to on-heap\n            for (int i = 0; i &lt; javaStrings.length; i++) {\n                MemorySegment cString = pointers.getAtIndex(ValueLayout.ADDRESS, i);\n                // Java 21 Preview\n        // cString = cString.reinterpret(Long.MAX_VALUE);\n                // javaStrings[i] = cString.getUtf8String(0);\n        System.out.println(cString);\n            }\n    }\n\n    // 8. All off-heap memory is deallocated here\n        System.out.println(&quot;radixsort output: &quot; + Arrays.toString(javaStrings));\n    }\n\n    public static void main(String[] args) throws Throwable {\n        System.out.println(String.format(&quot;Java Version: %s&quot;, System.getProperty(&quot;java.version&quot;)));\n\n    var previewForeignFunctionMemoryAPISecond = new ForeignFunctionMemoryAPISecondPreview();\n        previewForeignFunctionMemoryAPISecond.radixsort();\n    }\n}\n\n// Output\n/*\nWARNING: Using incubator modules: jdk.incubator.vector, jdk.incubator.concurrent\nNote: ForeignFunctionMemoryAPISecondPreview.java uses preview features of Java SE 20.\nNote: Recompile with -Xlint:preview for details.\nJava Version: 20.0.2\nradixsort input: [mouse, cat, dog, car]\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Out of bound access on segment MemorySegment{ array: Optional.empty address:105553152688144 limit: 0 }; new offset = 0; new length = 1\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.outOfBoundException(AbstractMemorySegmentImpl.java:371)\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.apply(AbstractMemorySegmentImpl.java:357)\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.apply(AbstractMemorySegmentImpl.java:70)\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:124)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:448)\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.checkBounds(AbstractMemorySegmentImpl.java:346)\n    at java.base/jdk.internal.foreign.AbstractMemorySegmentImpl.checkAccess(AbstractMemorySegmentImpl.java:311)\n    at java.base/java.lang.invoke.VarHandleSegmentAsBytes.checkAddress(VarHandleSegmentAsBytes.java:81)\n    at java.base/java.lang.invoke.VarHandleSegmentAsBytes.get(VarHandleSegmentAsBytes.java:108)\n    at java.base/java.lang.foreign.MemorySegment.get(MemorySegment.java:1388)\n    at java.base/jdk.internal.foreign.abi.SharedUtils.strlen(SharedUtils.java:199)\n    at java.base/jdk.internal.foreign.abi.SharedUtils.toJavaStringInternal(SharedUtils.java:190)\n    at java.base/java.lang.foreign.MemorySegment.getUtf8String(MemorySegment.java:890)\n    at ForeignFunctionMemoryAPISecondPreview.radixsort(ForeignFunctionMemoryAPISecondPreview.java:43)\n    at ForeignFunctionMemoryAPISecondPreview.main(ForeignFunctionMemoryAPISecondPreview.java:56)\n\n\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/foreign/MemorySegment.html#reinterpret(long)\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":23511795,"reputation":9,"user_id":17560284,"display_name":"Quan Pham"},"score":0,"creation_date":1696385334,"post_id":77226308,"comment_id":136144823,"body_markdown":"it have @RequestMapping(&quot;/update&quot;) in the above, the screen shot is not full","body":"it have @RequestMapping(&quot;/update&quot;) in the above, the screen shot is not full"},{"owner":{"account_id":28061162,"reputation":56,"user_id":21435267,"display_name":"Ahsan Zia"},"score":0,"creation_date":1696399704,"post_id":77226308,"comment_id":136145935,"body_markdown":"ok then giving the method a url before the path variable email should work. Like this, @PutMapping(&quot;/profile/{email}&quot;).","body":"ok then giving the method a url before the path variable email should work. Like this, @PutMapping(&quot;/profile/{email}&quot;)."}],"tags":[],"owner":{"account_id":28061162,"reputation":56,"user_id":21435267,"display_name":"Ahsan Zia"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696384215,"creation_date":1696384215,"answer_id":77226308,"question_id":77226285,"body_markdown":"In the controller, you have defined the function as @PutMapping(&quot;/{email}&quot;) and in your url you are writing localhost:8080/update/{your_email} which seems to be incorrect. As there is empty string defined for the url (only the param is mentioned) so the url should just be localhost:8080/{your_email} instead of localhost:8080/update/{your_email}.","title":"How to fix BAD_REQUEST","body":"<p>In the controller, you have defined the function as @PutMapping(&quot;/{email}&quot;) and in your url you are writing localhost:8080/update/{your_email} which seems to be incorrect. As there is empty string defined for the url (only the param is mentioned) so the url should just be localhost:8080/{your_email} instead of localhost:8080/update/{your_email}.</p>\n"}],"owner":{"account_id":23511795,"reputation":9,"user_id":17560284,"display_name":"Quan Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696689999,"creation_date":1696383678,"question_id":77226285,"body_markdown":"I have  a problem, when I use postman it always be 400 even the header contain application/json and the body contain full information need\r\n\r\n![Controller](https://i.stack.imgur.com/KDSPI.png)\r\n\r\n![postman header contain application/json already](https://i.stack.imgur.com/7yHyw.png)\r\n\r\n![payload](https://i.stack.imgur.com/DLxX3.png)\r\n\r\nI want to fix it as soon as possible.","title":"How to fix BAD_REQUEST","body":"<p>I have  a problem, when I use postman it always be 400 even the header contain application/json and the body contain full information need</p>\n<p><img src=\"https://i.stack.imgur.com/KDSPI.png\" alt=\"Controller\" /></p>\n<p><img src=\"https://i.stack.imgur.com/7yHyw.png\" alt=\"postman header contain application/json already\" /></p>\n<p><img src=\"https://i.stack.imgur.com/DLxX3.png\" alt=\"payload\" /></p>\n<p>I want to fix it as soon as possible.</p>\n"},{"tags":["java","spring-boot","validation","javax.validation"],"answers":[{"comments":[{"owner":{"account_id":19784145,"reputation":1,"user_id":14488517,"display_name":"Carlos Sanchez"},"score":0,"creation_date":1610931937,"post_id":65767305,"comment_id":116280837,"body_markdown":"In effect, it is something custom, however, it does not require the message, but the error generated (NotNull, NotEmpty, NotBlank)","body":"In effect, it is something custom, however, it does not require the message, but the error generated (NotNull, NotEmpty, NotBlank)"}],"tags":[],"owner":{"account_id":11501917,"reputation":105,"user_id":8429488,"display_name":"Yegor Saliev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610928615,"creation_date":1610928615,"answer_id":65767305,"question_id":65766861,"body_markdown":"if I understand you right, you want to do some custom validation?\r\n```\r\npublic class CustomValidator {\r\n\r\nValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\nValidator validator = factory.getValidator();\r\n\r\nvoid validate(Object object) {\r\n    Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = validator.validate(object);\r\n    if (validations.size() &gt; 0) {\r\n    String errorMessage = \r\n    violations.stream().map(ConstraintViolation::getMessage).collect(Collectors.join(&quot;, &quot;);\r\n    throw new MethodArgumentNotValidException(errorMessage);\r\n  }\r\n }\r\n}","title":"Use javax.validation outside controller springboot","body":"<p>if I understand you right, you want to do some custom validation?</p>\n<pre><code>public class CustomValidator {\n\nValidatorFactory factory = Validation.buildDefaultValidatorFactory();\nValidator validator = factory.getValidator();\n\nvoid validate(Object object) {\n    Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = validator.validate(object);\n    if (validations.size() &gt; 0) {\n    String errorMessage = \n    violations.stream().map(ConstraintViolation::getMessage).collect(Collectors.join(&quot;, &quot;);\n    throw new MethodArgumentNotValidException(errorMessage);\n  }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696688212,"creation_date":1696688212,"answer_id":77250159,"question_id":65766861,"body_markdown":"Annotating my class with `@Validated` from package `org.springframework.validation.annotation.Validated` worked for me.\r\nIt started using my `@Validate` annotation in all methods of the componentes in the service layer.","title":"Use javax.validation outside controller springboot","body":"<p>Annotating my class with <code>@Validated</code> from package <code>org.springframework.validation.annotation.Validated</code> worked for me.\nIt started using my <code>@Validate</code> annotation in all methods of the componentes in the service layer.</p>\n"}],"owner":{"account_id":19784145,"reputation":1,"user_id":14488517,"display_name":"Carlos Sanchez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696688212,"creation_date":1610924280,"question_id":65766861,"body_markdown":"I&#39;m trying to validate a class outside of the controller using javax.validation and generating an exception of type MethodArgumentNotValidException. I reviewed the following forums, but not so far they have not been helpful: &lt;br&gt;\r\nhttps://stackoverflow.com/questions/38357936/manually-call-spring-annotation-validation-outside-of-spring-mvc &lt;br&gt;\r\nhttps://stackoverflow.com/questions/9607491/using-spring-validator-outside-of-the-context-of-spring-mvc\r\n\r\nWhat I want to achieve is the following\r\n```\r\npublic class ClassTest {\r\n\t@NotEmpty\r\n\tprivate String property1;\r\n\r\n\t@NotNull\r\n\tprivate String property2;\r\n}\r\n```\r\nIn my validations class do the following (is not a controller), propagating the generated exception (NotNull, NotEmpty, NotBlank, Pattern, others)\r\n```\r\nvoid validationClass(boolean value) {\r\n    ClassTest classTest = new ClassTest();\r\n\r\n    if (value) {\r\n        //perform class validation\r\n        errors = validation(classTest);\r\n        throw new MethodArgumentNotValidException(errors);\r\n    } else {\r\n        //OK\r\n    }\r\n}\r\n```\r\n\r\nThanks for your help","title":"Use javax.validation outside controller springboot","body":"<p>I'm trying to validate a class outside of the controller using javax.validation and generating an exception of type MethodArgumentNotValidException. I reviewed the following forums, but not so far they have not been helpful: <br>\n<a href=\"https://stackoverflow.com/questions/38357936/manually-call-spring-annotation-validation-outside-of-spring-mvc\">Manually call Spring Annotation Validation Outside of Spring MVC</a> <br>\n<a href=\"https://stackoverflow.com/questions/9607491/using-spring-validator-outside-of-the-context-of-spring-mvc\">Using Spring Validator outside of the context of Spring MVC</a></p>\n<p>What I want to achieve is the following</p>\n<pre><code>public class ClassTest {\n    @NotEmpty\n    private String property1;\n\n    @NotNull\n    private String property2;\n}\n</code></pre>\n<p>In my validations class do the following (is not a controller), propagating the generated exception (NotNull, NotEmpty, NotBlank, Pattern, others)</p>\n<pre><code>void validationClass(boolean value) {\n    ClassTest classTest = new ClassTest();\n\n    if (value) {\n        //perform class validation\n        errors = validation(classTest);\n        throw new MethodArgumentNotValidException(errors);\n    } else {\n        //OK\n    }\n}\n</code></pre>\n<p>Thanks for your help</p>\n"},{"tags":["java","spring","spring-mvc","validation"],"answers":[{"comments":[{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":2,"creation_date":1327502332,"post_id":8995676,"comment_id":11286400,"body_markdown":"I haven&#39;t read the whole text of the linked page, but I looked at the code samples and while nothing there was new I could not see an example of calling `Validator.validate(Object target, Errors errors)` in a non-controller context. I think the difference is that now I have to instantiate the `Errors` by myself, instead of getting it from the Controller (?). But I don&#39;t see examples of how to do it... do I use Spring&#39;s implementations, and how?","body":"I haven&#39;t read the whole text of the linked page, but I looked at the code samples and while nothing there was new I could not see an example of calling <code>Validator.validate(Object target, Errors errors)</code> in a non-controller context. I think the difference is that now I have to instantiate the <code>Errors</code> by myself, instead of getting it from the Controller (?). But I don&#39;t see examples of how to do it... do I use Spring&#39;s implementations, and how?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1327505488,"post_id":8995676,"comment_id":11287639,"body_markdown":"You&#39;re getting the errors from the Validator.  I can&#39;t give you an example now, but I&#39;ll try later.","body":"You&#39;re getting the errors from the Validator.  I can&#39;t give you an example now, but I&#39;ll try later."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327446712,"creation_date":1327446712,"answer_id":8995676,"question_id":8995570,"body_markdown":"Spring&#39;s docs show how to use Validator without a Controller in sight:\r\n\r\nhttp://static.springsource.org/spring/docs/2.0.x/reference/validation.html\r\n\r\nBeen possible since the beginning.  It&#39;s commonly used in Controllers and the web tier, but that&#39;s not required.  There&#39;s no dependency on the web tier in the validator framework.\r\n","title":"Spring-MVC: Calling a Validator, not from within a Controller","body":"<p>Spring's docs show how to use Validator without a Controller in sight:</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/2.0.x/reference/validation.html\" rel=\"nofollow\">http://static.springsource.org/spring/docs/2.0.x/reference/validation.html</a></p>\n\n<p>Been possible since the beginning.  It's commonly used in Controllers and the web tier, but that's not required.  There's no dependency on the web tier in the validator framework.</p>\n"},{"tags":[],"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696688144,"creation_date":1696688144,"answer_id":77250153,"question_id":8995570,"body_markdown":"This is old, but anyone working with spring 2 or spring 3 and wanting to validate components outside the controller, just annotate your class with `@Validated` from package `org.springframework.validation.annotation.Validated`.\r\nIt started using my `@Validate` annotation in all methods of the componentes in the service layer.","title":"Spring-MVC: Calling a Validator, not from within a Controller","body":"<p>This is old, but anyone working with spring 2 or spring 3 and wanting to validate components outside the controller, just annotate your class with <code>@Validated</code> from package <code>org.springframework.validation.annotation.Validated</code>.\nIt started using my <code>@Validate</code> annotation in all methods of the componentes in the service layer.</p>\n"}],"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2475,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696688144,"creation_date":1327446101,"question_id":8995570,"body_markdown":"I would like to call a Validator on some object, but not from within a Controller, and then get the Error object.\r\n\r\nCould you provide a code sample for this?\r\n","title":"Spring-MVC: Calling a Validator, not from within a Controller","body":"<p>I would like to call a Validator on some object, but not from within a Controller, and then get the Error object.</p>\n\n<p>Could you provide a code sample for this?</p>\n"},{"tags":["java","eclipse","macos"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1466458150,"post_id":37931499,"comment_id":63314849,"body_markdown":"Are you sure that is the correct variable path? Mine is `JAVA_HOME=$(/usr/libexec/java_home)`","body":"Are you sure that is the correct variable path? Mine is <code>JAVA_HOME=$(&#47;usr&#47;libexec&#47;java_home)</code>"}],"answers":[{"tags":[],"owner":{"account_id":62355,"reputation":12202,"user_id":185322,"accept_rate":67,"display_name":"martinez314"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466458121,"creation_date":1466457709,"answer_id":37932018,"question_id":37931499,"body_markdown":"File type &quot;Application&quot; is actually a directory.  Right-click it (or control click) and select &quot;Show Package Contents&quot;.  You should find eclipse.ini at `Contents/MacOS/eclipse.ini` inside the Eclipse application directory.","title":"How to set Eclipse Java version in OS X","body":"<p>File type \"Application\" is actually a directory.  Right-click it (or control click) and select \"Show Package Contents\".  You should find eclipse.ini at <code>Contents/MacOS/eclipse.ini</code> inside the Eclipse application directory.</p>\n"},{"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466491634,"creation_date":1466491634,"answer_id":37937307,"question_id":37931499,"body_markdown":"You need to install the full JDK rather than the JRE before you can use it with Eclipse. The full JDK should set itself as the current Java. The JDK installs in something like `/Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents/Home`\r\n\r\nAs mentioned in the other answer the Eclipse application is actually a directory (called `Eclipse.app`) using &#39;Show Package Contents&#39; in Finder will show you the contents.","title":"How to set Eclipse Java version in OS X","body":"<p>You need to install the full JDK rather than the JRE before you can use it with Eclipse. The full JDK should set itself as the current Java. The JDK installs in something like <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents/Home</code></p>\n\n<p>As mentioned in the other answer the Eclipse application is actually a directory (called <code>Eclipse.app</code>) using 'Show Package Contents' in Finder will show you the contents.</p>\n"},{"tags":[],"owner":{"account_id":1715329,"reputation":1201,"user_id":1572532,"display_name":"rfreytag"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696688002,"creation_date":1627501110,"answer_id":68566465,"question_id":37931499,"body_markdown":"This solution allows you to specify the JVM for a given eclipse installation, without changing any system properties. Make sure you have a valid JVM (usually JDK 8 for eclipse) installed.\r\n\r\nHere are the steps:\r\n - open finder and navigate to the location of Eclipse (i.e. Applications)\r\n - right-click on the eclipse application\r\n - select &quot;show package contents&quot;\r\n - navigate to `/Contents/Eclipse/eclipse.ini`\r\n - open the .ini with a text-editor\r\n - at the top of the file, add the following lines (or replace the existing -vm line)\r\n\r\n\r\n&gt;     -vm\r\n&gt;     /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin\r\n\r\nYou need to replace `adoptopenjdk-8.jdk` with the name of your JVM.\r\n","title":"How to set Eclipse Java version in OS X","body":"<p>This solution allows you to specify the JVM for a given eclipse installation, without changing any system properties. Make sure you have a valid JVM (usually JDK 8 for eclipse) installed.</p>\n<p>Here are the steps:</p>\n<ul>\n<li>open finder and navigate to the location of Eclipse (i.e. Applications)</li>\n<li>right-click on the eclipse application</li>\n<li>select &quot;show package contents&quot;</li>\n<li>navigate to <code>/Contents/Eclipse/eclipse.ini</code></li>\n<li>open the .ini with a text-editor</li>\n<li>at the top of the file, add the following lines (or replace the existing -vm line)</li>\n</ul>\n<blockquote>\n<pre><code>-vm\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin\n</code></pre>\n</blockquote>\n<p>You need to replace <code>adoptopenjdk-8.jdk</code> with the name of your JVM.</p>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696688002,"creation_date":1466455456,"question_id":37931499,"body_markdown":"When I download and expand Eclipse EE version a file of type Application is created : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/xHfOq.png\r\n\r\nI&#39;m new to using to Eclipse on MAC. I want to set the java version to \r\n\r\n    export JAVA_HOME=&quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home&quot;\r\n\r\nBut no eclipse.ini file is created. How to set and or install Eclipse on MAC and set the java version ?","title":"How to set Eclipse Java version in OS X","body":"<p>When I download and expand Eclipse EE version a file of type Application is created : </p>\n\n<p><a href=\"https://i.stack.imgur.com/xHfOq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xHfOq.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm new to using to Eclipse on MAC. I want to set the java version to </p>\n\n<pre><code>export JAVA_HOME=\"/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\"\n</code></pre>\n\n<p>But no eclipse.ini file is created. How to set and or install Eclipse on MAC and set the java version ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1509429555,"post_id":47028747,"comment_id":81004353,"body_markdown":"Unclear what you&#39;re trying to do. What did you expect it output? Why?","body":"Unclear what you&#39;re trying to do. What did you expect it output? Why?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675895539,"post_id":47028747,"comment_id":133029061,"body_markdown":"Maybe [the documentation for String.format](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)) would help the OP figure out why his code makes no sense at all.","body":"Maybe <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)\" rel=\"nofollow noreferrer\">the documentation for String.format</a> would help the OP figure out why his code makes no sense at all."}],"answers":[{"tags":[],"owner":{"account_id":145458,"reputation":2592,"user_id":355283,"accept_rate":80,"display_name":"User123456"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509429876,"creation_date":1509429876,"answer_id":47028843,"question_id":47028747,"body_markdown":"you have to add string format to format the string you want.\r\nEx : \r\n\r\n    String value = &quot;#%1$s#.*?%#&quot;;\r\n    String patt = String.format(&quot;%s&quot;,value);\r\n\r\n    System.out.println(patt);\r\n\r\n[Read this][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/java-string-format-examples","title":"java.util.UnknownFormatConversionException: Conversion = &#39;#&#39;","body":"<p>you have to add string format to format the string you want.\nEx : </p>\n\n<pre><code>String value = \"#%1$s#.*?%#\";\nString patt = String.format(\"%s\",value);\n\nSystem.out.println(patt);\n</code></pre>\n\n<p><a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">Read this</a></p>\n"},{"tags":[],"owner":{"account_id":11023131,"reputation":124,"user_id":8096788,"accept_rate":100,"display_name":"Pratik Thube"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1511980630,"creation_date":1509430069,"answer_id":47028885,"question_id":47028747,"body_markdown":"There are two format methods: \r\n\r\n    public static String format(String format, Object... args)  \r\nand\r\n\r\n    public static String format(Locale locale, String format, Object... args)  \r\n\r\nlocale : specifies the locale to be applied on the format() method.\r\n\r\nformat : format of the string.\r\n\r\nargs : arguments for the format string. It may be zero or more\r\n\r\nSo in your case, whatever format you are specifying is not proper I guess.\r\n\r\nYou can check different format which you can use over here: https://dzone.com/articles/java-string-format-examples\r\n","title":"java.util.UnknownFormatConversionException: Conversion = &#39;#&#39;","body":"<p>There are two format methods: </p>\n\n<pre><code>public static String format(String format, Object... args)  \n</code></pre>\n\n<p>and</p>\n\n<pre><code>public static String format(Locale locale, String format, Object... args)  \n</code></pre>\n\n<p>locale : specifies the locale to be applied on the format() method.</p>\n\n<p>format : format of the string.</p>\n\n<p>args : arguments for the format string. It may be zero or more</p>\n\n<p>So in your case, whatever format you are specifying is not proper I guess.</p>\n\n<p>You can check different format which you can use over here: <a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">https://dzone.com/articles/java-string-format-examples</a></p>\n"},{"comments":[{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":1,"creation_date":1511980534,"post_id":47559402,"comment_id":82076717,"body_markdown":"Yes, it can. In fact, it pretty much has to have a % in it to be any use to the format method.","body":"Yes, it can. In fact, it pretty much has to have a % in it to be any use to the format method."}],"tags":[],"owner":{"account_id":12382337,"reputation":9,"user_id":9027395,"display_name":"ale"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1511980419,"creation_date":1511980039,"answer_id":47559402,"question_id":47028747,"body_markdown":"The value:\r\n\r\n    String value = &quot;#%1$s#.*?%#&quot;;\r\n\r\ncan&#39;t contain the character % . It is used as a reserverd word. ","title":"java.util.UnknownFormatConversionException: Conversion = &#39;#&#39;","body":"<p>The value:</p>\n\n<pre><code>String value = \"#%1$s#.*?%#\";\n</code></pre>\n\n<p>can't contain the character % . It is used as a reserverd word. </p>\n"}],"owner":{"account_id":5556771,"reputation":213,"user_id":4407874,"accept_rate":25,"display_name":"yoganathan k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10092,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696687300,"creation_date":1509429394,"question_id":47028747,"body_markdown":"This my code and it throws an exception while formatting the string with use of `String.Format` Java native method.\r\n\r\n    String value = &quot;#%1$s#.*?%#&quot;;\r\n    String patt = String.format(value);    \r\n    \r\n&gt; java.util.UnknownFormatConversionException: Conversion = &#39;#&#39;\r\n\r\n&gt; at java.util.Formatter.checkText(Unknown Source)\r\n\r\n&gt; at java.util.Formatter.parse(Unknown Source)\r\n\r\n&gt; at java.util.Formatter.format(Unknown Source)\r\n\r\n&gt; at java.util.Formatter.format(Unknown Source)\r\n\r\n&gt; at java.lang.String.format(Unknown Source)\r\n\r\nAny idea what&#39;s wrong?","title":"java.util.UnknownFormatConversionException: Conversion = &#39;#&#39;","body":"<p>This my code and it throws an exception while formatting the string with use of <code>String.Format</code> Java native method.</p>\n\n<pre><code>String value = \"#%1$s#.*?%#\";\nString patt = String.format(value);    \n</code></pre>\n\n<blockquote>\n  <p>java.util.UnknownFormatConversionException: Conversion = '#'</p>\n  \n  <p>at java.util.Formatter.checkText(Unknown Source)</p>\n  \n  <p>at java.util.Formatter.parse(Unknown Source)</p>\n  \n  <p>at java.util.Formatter.format(Unknown Source)</p>\n  \n  <p>at java.util.Formatter.format(Unknown Source)</p>\n  \n  <p>at java.lang.String.format(Unknown Source)</p>\n</blockquote>\n\n<p>Any idea what's wrong?</p>\n"},{"tags":["java","android","android-recyclerview","drag-and-drop","itemtouchhelper"],"comments":[{"owner":{"account_id":7528450,"reputation":6499,"user_id":5717640,"accept_rate":98,"display_name":"Nerdy Bunz"},"score":0,"creation_date":1569797715,"post_id":58159346,"comment_id":102701897,"body_markdown":"It would be helpful to include an embedded video demonstration or link showing the behavior you want.  For example, it&#39;s hard to imagine what you mean by &quot;where it is dropped&quot; ... since normally the item being dragged would be suspended in between *two* elements.","body":"It would be helpful to include an embedded video demonstration or link showing the behavior you want.  For example, it&#39;s hard to imagine what you mean by &quot;where it is dropped&quot; ... since normally the item being dragged would be suspended in between <i>two</i> elements."}],"answers":[{"comments":[{"owner":{"account_id":15261807,"reputation":721,"user_id":11011605,"display_name":"Kratos"},"score":0,"creation_date":1569833419,"post_id":58159718,"comment_id":102710522,"body_markdown":"Zain i think you didn&#39;t understand my question. My code is right now working just like result of code you suggest. But I dont want to do that. i want to change positions only of dragged and dropped item. not change positions of all elements between them","body":"Zain i think you didn&#39;t understand my question. My code is right now working just like result of code you suggest. But I dont want to do that. i want to change positions only of dragged and dropped item. not change positions of all elements between them"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1569836281,"post_id":58159718,"comment_id":102712076,"body_markdown":"@Haris please check my updated code .. it works with me now","body":"@Haris please check my updated code .. it works with me now"}],"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1569875072,"creation_date":1569796293,"answer_id":58159718,"question_id":58159346,"body_markdown":"You can achieve this by registering both the dragged item using onMove() method, and the dropped item using clearView() method; then modify the data source of your `RecyclerView` adapter; so you can use a temp item that stores the dragged item; then set the dropped-by item with the dragged one; and finally put the temp item on the dropped one. \r\n\r\nThen utilize `RecyclerView` adapter `notifyItemChanged()` for both items to update the layout with this change\r\n\r\n\r\nNote: here I disabled the swiping as your question mainly on the drag &amp; drop\r\n\r\n    final int[] oldPos = new int[1];\r\n    final int[] newPos = new int[1];\r\n    ItemTouchHelper itemTouchHelper = new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(\r\n\r\n            ItemTouchHelper.UP |\r\n                    ItemTouchHelper.DOWN |\r\n                    ItemTouchHelper.LEFT |\r\n                    ItemTouchHelper.RIGHT,\r\n            0) {\r\n        @Override\r\n        public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n            oldPos[0] = viewHolder.getAdapterPosition();\r\n            newPos[0] = target.getAdapterPosition();\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void clearView(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder) {\r\n            super.clearView(recyclerView, viewHolder);\r\n            moveItem(oldPos[0], newPos[0]);\r\n        }\r\n    });\r\n\r\n\r\n    private void moveItem(int oldPos, int newPos) {\r\n        Item temp = mItems.get(oldPos);\r\n        mItems.set(oldPos, mItems.get(newPos));\r\n        mItems.set(newPos, temp);\r\n        mAdapter.notifyItemChanged(oldPos);\r\n        mAdapter.notifyItemChanged(newPos);\r\n\r\n    }\r\n\r\n\r\n**The result**\r\n\r\n![](https://media.giphy.com/media/cIycoxfcCb6YNcUIHV/giphy.gif)\r\n","title":"how to create RecyclerView drag and drop (swap 2 item positions version)","body":"<p>You can achieve this by registering both the dragged item using onMove() method, and the dropped item using clearView() method; then modify the data source of your <code>RecyclerView</code> adapter; so you can use a temp item that stores the dragged item; then set the dropped-by item with the dragged one; and finally put the temp item on the dropped one. </p>\n\n<p>Then utilize <code>RecyclerView</code> adapter <code>notifyItemChanged()</code> for both items to update the layout with this change</p>\n\n<p>Note: here I disabled the swiping as your question mainly on the drag &amp; drop</p>\n\n<pre><code>final int[] oldPos = new int[1];\nfinal int[] newPos = new int[1];\nItemTouchHelper itemTouchHelper = new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(\n\n        ItemTouchHelper.UP |\n                ItemTouchHelper.DOWN |\n                ItemTouchHelper.LEFT |\n                ItemTouchHelper.RIGHT,\n        0) {\n    @Override\n    public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n        oldPos[0] = viewHolder.getAdapterPosition();\n        newPos[0] = target.getAdapterPosition();\n        return false;\n    }\n\n    @Override\n    public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n\n    }\n\n    @Override\n    public void clearView(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder) {\n        super.clearView(recyclerView, viewHolder);\n        moveItem(oldPos[0], newPos[0]);\n    }\n});\n\n\nprivate void moveItem(int oldPos, int newPos) {\n    Item temp = mItems.get(oldPos);\n    mItems.set(oldPos, mItems.get(newPos));\n    mItems.set(newPos, temp);\n    mAdapter.notifyItemChanged(oldPos);\n    mAdapter.notifyItemChanged(newPos);\n\n}\n</code></pre>\n\n<p><strong>The result</strong></p>\n\n<p><img src=\"https://media.giphy.com/media/cIycoxfcCb6YNcUIHV/giphy.gif\" alt=\"\"></p>\n"},{"tags":[],"owner":{"account_id":9321942,"reputation":636,"user_id":6920426,"display_name":"Ankit Chandora"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1696684833,"creation_date":1591084839,"answer_id":62147429,"question_id":58159346,"body_markdown":"I totally agree with @Zain answer but there is one problem i.e. suppose you want to replace the 1st item with the 3rd then you will click and hold the 3rd item and drag it over the 1st item. Once you drop, you will notice the 3rd item will get shifted to its original position and after that, both items will get updated properly. This is not looking seamlessly.\r\n\r\nI&#39;ve just slightly modified the @Zain answer.\r\n\r\n    private int fromPos = -1;\r\n    private int toPos = -1;\r\n    \r\n    ItemTouchHelper itemTouchHelper = new ItemTouchHelper(new \r\n    ItemTouchHelper.SimpleCallback(\r\n        ItemTouchHelper.UP | ItemTouchHelper.DOWN |\r\n        ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT, 0) {\r\n  \r\n    @Override\r\n    public boolean onMove(@NonNull RecyclerView recyclerView,\r\n                          @NonNull RecyclerView.ViewHolder viewHolder,   \r\n                          @NonNull RecyclerView.ViewHolder target) {\r\n        toPos = target.getAdapterPosition();\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder,\r\n                         int direction) {}\r\n\r\n    @Override\r\n    public void onSelectedChange(@NonNull RecyclerView.ViewHolder \r\n                               viewHolder, int actionState) {\r\n        switch(actionState){\r\n              case ItemTouchHelper.ACTION_STATE_DRAG:{\r\n                 fromPos = viewHolder.getAdapterPosition();\r\n                 break; \r\n              }\r\n\r\n              case ItemTouchHelper.ACTION_STATE_IDLE: {\r\n                  //Execute when the user dropped the item after dragging.\r\n                  if(fromPos != -1 &amp;&amp; toPos != -1      \r\n                     &amp;&amp; fromPos != toPos) {\r\n                   moveItem(fromPos, toPos);\r\n                   fromPos = -1;\r\n                   toPos = -1; \r\n               } \r\n               break;\r\n            }\r\n    }\r\n\r\n    private void moveItem(int oldPos, int newPos) {\r\n       Item temp = mItems.get(oldPos);\r\n       mItems.set(oldPos, mItems.get(newPos));\r\n       mItems.set(newPos, temp);\r\n       mAdapter.notifyItemChanged(oldPos);\r\n       mAdapter.notifyItemChanged(newPos);\r\n    }\r\n\r\n  ","title":"how to create RecyclerView drag and drop (swap 2 item positions version)","body":"<p>I totally agree with @Zain answer but there is one problem i.e. suppose you want to replace the 1st item with the 3rd then you will click and hold the 3rd item and drag it over the 1st item. Once you drop, you will notice the 3rd item will get shifted to its original position and after that, both items will get updated properly. This is not looking seamlessly.</p>\n<p>I've just slightly modified the @Zain answer.</p>\n<pre><code>private int fromPos = -1;\nprivate int toPos = -1;\n\nItemTouchHelper itemTouchHelper = new ItemTouchHelper(new \nItemTouchHelper.SimpleCallback(\n    ItemTouchHelper.UP | ItemTouchHelper.DOWN |\n    ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT, 0) {\n\n@Override\npublic boolean onMove(@NonNull RecyclerView recyclerView,\n                      @NonNull RecyclerView.ViewHolder viewHolder,   \n                      @NonNull RecyclerView.ViewHolder target) {\n    toPos = target.getAdapterPosition();\n    return false;\n}\n\n@Override\npublic void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder,\n                     int direction) {}\n\n@Override\npublic void onSelectedChange(@NonNull RecyclerView.ViewHolder \n                           viewHolder, int actionState) {\n    switch(actionState){\n          case ItemTouchHelper.ACTION_STATE_DRAG:{\n             fromPos = viewHolder.getAdapterPosition();\n             break; \n          }\n\n          case ItemTouchHelper.ACTION_STATE_IDLE: {\n              //Execute when the user dropped the item after dragging.\n              if(fromPos != -1 &amp;&amp; toPos != -1      \n                 &amp;&amp; fromPos != toPos) {\n               moveItem(fromPos, toPos);\n               fromPos = -1;\n               toPos = -1; \n           } \n           break;\n        }\n}\n\nprivate void moveItem(int oldPos, int newPos) {\n   Item temp = mItems.get(oldPos);\n   mItems.set(oldPos, mItems.get(newPos));\n   mItems.set(newPos, temp);\n   mAdapter.notifyItemChanged(oldPos);\n   mAdapter.notifyItemChanged(newPos);\n}\n</code></pre>\n"}],"owner":{"account_id":15261807,"reputation":721,"user_id":11011605,"display_name":"Kratos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5322,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58159718,"answer_count":2,"score":4,"last_activity_date":1696684833,"creation_date":1569792613,"question_id":58159346,"body_markdown":"I have ItemTouchHelper class that uses swiping and drag and drop for performing actions. But i want to change drag and drop behavior. It should swap positions of 2 elements, the first one I dragged and the other one where it is dropped on. i want to exchange the items of the dragged &amp; dropped positions. not to change positions of all items among both of them.\r\n\r\nHow to do it\r\n\r\nthis is my class for drag and drop\r\n\r\n    public class ItemTouchHelper extends \r\n    androidx.recyclerview.widget.ItemTouchHelper.Callback {\r\n\r\n    private Drawable icon;\r\n    private Context context;\r\n    private ColorDrawable background;\r\n    private final ItemTouchHelperListener dragDropListener;\r\n\r\n    public ItemTouchHelper(Context context, Drawable icon,\r\n                           ItemTouchHelperListener dragDropListener) {\r\n        this.icon = icon;\r\n        this.dragDropListener = dragDropListener;\r\n        this.context = context;\r\n        this.background = new ColorDrawable(context.getResources().getColor(R.color.deleteItem));\r\n    }\r\n\r\n    @Override\r\n    public void onChildDraw(@NonNull Canvas c, @NonNull RecyclerView recyclerView,\r\n                            @NonNull RecyclerView.ViewHolder viewHolder,\r\n                            float dX, float dY,\r\n                            int actionState, boolean isCurrentlyActive) {\r\n        super.onChildDraw(c, recyclerView, viewHolder, dX,\r\n                dY, actionState, isCurrentlyActive);\r\n        View itemView = viewHolder.itemView;\r\n\r\n        int iconMargin = (itemView.getHeight() - icon.getIntrinsicHeight()) / 2;\r\n        int iconTop = itemView.getTop() + (itemView.getHeight() - icon.getIntrinsicHeight()) / 2;\r\n        int iconBottom = iconTop + icon.getIntrinsicHeight();\r\n\r\n        if (dX &gt; 0) {\r\n            background = new ColorDrawable(context.getResources().getColor(R.color.deleteItem));\r\n\r\n            iconMargin = (itemView.getHeight() - icon.getIntrinsicHeight()) / 2;\r\n            iconTop = itemView.getTop() + (itemView.getHeight() - icon.getIntrinsicHeight()) / 2;\r\n            iconBottom = iconTop + icon.getIntrinsicHeight();\r\n\r\n            int iconRight = itemView.getLeft() + iconMargin + icon.getIntrinsicWidth();\r\n            int iconLeft = itemView.getLeft() + iconMargin;\r\n\r\n            icon.setBounds(iconLeft, iconTop, iconRight, iconBottom);\r\n\r\n            background.setBounds(itemView.getLeft(), itemView.getTop(),\r\n                    itemView.getLeft() + ((int) dX),\r\n                    itemView.getBottom());\r\n        } else if (dX &lt; 0) {\r\n            int iconRight = itemView.getRight() - iconMargin;\r\n            int iconLeft = itemView.getRight() - iconMargin - icon.getIntrinsicWidth();\r\n            icon.setBounds(iconLeft, iconTop, iconRight, iconBottom);\r\n            background.setBounds(itemView.getRight(), itemView.getTop(),\r\n                    itemView.getRight() + ((int) dX),\r\n                    itemView.getBottom());\r\n        } else {\r\n            background.setBounds(0, 0, 0, 0);\r\n            icon.setBounds(0, 0, 0, 0);\r\n        }\r\n\r\n        background.draw(c);\r\n        icon.draw(c);\r\n    }\r\n\r\n    @Override\r\n    public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder,\r\n                         int direction) {\r\n        dragDropListener.deleteElementDialog(viewHolder.getAdapterPosition());\r\n    }\r\n\r\n    @Override\r\n    public int getMovementFlags(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder) {\r\n        int dragFlags = UP | DOWN;\r\n        int swipeFlags = START | END;\r\n        return makeMovementFlags(dragFlags, swipeFlags);\r\n    }\r\n\r\n    @Override\r\n    public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder,\r\n                          @NonNull RecyclerView.ViewHolder target) {\r\n        dragDropListener.onRowMoved(viewHolder.getAdapterPosition(), target.getAdapterPosition());\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onSelectedChanged(RecyclerView.ViewHolder viewHolder,\r\n                                  int actionState) {\r\n        if (actionState != ACTION_STATE_IDLE &amp;&amp; actionState != ACTION_STATE_SWIPE) {\r\n            dragDropListener.onRowSelected(viewHolder);\r\n        }\r\n        super.onSelectedChanged(viewHolder, actionState);\r\n    }\r\n\r\n    @Override\r\n    public void clearView(@NonNull RecyclerView recyclerView,\r\n                          @NonNull RecyclerView.ViewHolder viewHolder) {\r\n        super.clearView(recyclerView, Objects.requireNonNull(viewHolder));\r\n        dragDropListener.onRowClear(Objects.requireNonNull(viewHolder));\r\n    }\r\n\r\n    @Override\r\n    public boolean isLongPressDragEnabled() {\r\n        return true;\r\n    }\r\n\r\n    }\r\n\r\n\r\nand this is my ItemTouchHelperListener:\r\n\r\n\r\n\r\n        public void setItemTouchHelperListener() {\r\n        ItemTouchHelperListener itemTouchHelperListener = new \r\n       ItemTouchHelperListener() {\r\n            @Override\r\n            public void onRowMoved(int fromPosition, int toPosition) {\r\n                presenter.rowMoved(fromPosition, toPosition);\r\n            }\r\n\r\n            @Override\r\n            public void onRowSelected(RecyclerView.ViewHolder myViewHolder) {\r\n                if (myViewHolder instanceof ElementsAdapter.ElementsViewHolder) {\r\n                    elementsAdapter.rowSelected((ElementsAdapter.ElementsViewHolder) myViewHolder);\r\n                    presenter.rowSelected(myViewHolder.getAdapterPosition());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onRowClear(RecyclerView.ViewHolder myViewHolder) {\r\n                if (myViewHolder instanceof ElementsAdapter.ElementsViewHolder) {\r\n                    elementsAdapter.rowClear((ElementsAdapter.ElementsViewHolder) myViewHolder);\r\n                    presenter.rowClear(myViewHolder.getAdapterPosition());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void deleteElementDialog(int adapterPosition) {\r\n                createDeleteDialog(adapterPosition);\r\n            }\r\n        };","title":"how to create RecyclerView drag and drop (swap 2 item positions version)","body":"<p>I have ItemTouchHelper class that uses swiping and drag and drop for performing actions. But i want to change drag and drop behavior. It should swap positions of 2 elements, the first one I dragged and the other one where it is dropped on. i want to exchange the items of the dragged &amp; dropped positions. not to change positions of all items among both of them.</p>\n\n<p>How to do it</p>\n\n<p>this is my class for drag and drop</p>\n\n<pre><code>public class ItemTouchHelper extends \nandroidx.recyclerview.widget.ItemTouchHelper.Callback {\n\nprivate Drawable icon;\nprivate Context context;\nprivate ColorDrawable background;\nprivate final ItemTouchHelperListener dragDropListener;\n\npublic ItemTouchHelper(Context context, Drawable icon,\n                       ItemTouchHelperListener dragDropListener) {\n    this.icon = icon;\n    this.dragDropListener = dragDropListener;\n    this.context = context;\n    this.background = new ColorDrawable(context.getResources().getColor(R.color.deleteItem));\n}\n\n@Override\npublic void onChildDraw(@NonNull Canvas c, @NonNull RecyclerView recyclerView,\n                        @NonNull RecyclerView.ViewHolder viewHolder,\n                        float dX, float dY,\n                        int actionState, boolean isCurrentlyActive) {\n    super.onChildDraw(c, recyclerView, viewHolder, dX,\n            dY, actionState, isCurrentlyActive);\n    View itemView = viewHolder.itemView;\n\n    int iconMargin = (itemView.getHeight() - icon.getIntrinsicHeight()) / 2;\n    int iconTop = itemView.getTop() + (itemView.getHeight() - icon.getIntrinsicHeight()) / 2;\n    int iconBottom = iconTop + icon.getIntrinsicHeight();\n\n    if (dX &gt; 0) {\n        background = new ColorDrawable(context.getResources().getColor(R.color.deleteItem));\n\n        iconMargin = (itemView.getHeight() - icon.getIntrinsicHeight()) / 2;\n        iconTop = itemView.getTop() + (itemView.getHeight() - icon.getIntrinsicHeight()) / 2;\n        iconBottom = iconTop + icon.getIntrinsicHeight();\n\n        int iconRight = itemView.getLeft() + iconMargin + icon.getIntrinsicWidth();\n        int iconLeft = itemView.getLeft() + iconMargin;\n\n        icon.setBounds(iconLeft, iconTop, iconRight, iconBottom);\n\n        background.setBounds(itemView.getLeft(), itemView.getTop(),\n                itemView.getLeft() + ((int) dX),\n                itemView.getBottom());\n    } else if (dX &lt; 0) {\n        int iconRight = itemView.getRight() - iconMargin;\n        int iconLeft = itemView.getRight() - iconMargin - icon.getIntrinsicWidth();\n        icon.setBounds(iconLeft, iconTop, iconRight, iconBottom);\n        background.setBounds(itemView.getRight(), itemView.getTop(),\n                itemView.getRight() + ((int) dX),\n                itemView.getBottom());\n    } else {\n        background.setBounds(0, 0, 0, 0);\n        icon.setBounds(0, 0, 0, 0);\n    }\n\n    background.draw(c);\n    icon.draw(c);\n}\n\n@Override\npublic void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder,\n                     int direction) {\n    dragDropListener.deleteElementDialog(viewHolder.getAdapterPosition());\n}\n\n@Override\npublic int getMovementFlags(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder) {\n    int dragFlags = UP | DOWN;\n    int swipeFlags = START | END;\n    return makeMovementFlags(dragFlags, swipeFlags);\n}\n\n@Override\npublic boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder,\n                      @NonNull RecyclerView.ViewHolder target) {\n    dragDropListener.onRowMoved(viewHolder.getAdapterPosition(), target.getAdapterPosition());\n    return true;\n}\n\n@Override\npublic void onSelectedChanged(RecyclerView.ViewHolder viewHolder,\n                              int actionState) {\n    if (actionState != ACTION_STATE_IDLE &amp;&amp; actionState != ACTION_STATE_SWIPE) {\n        dragDropListener.onRowSelected(viewHolder);\n    }\n    super.onSelectedChanged(viewHolder, actionState);\n}\n\n@Override\npublic void clearView(@NonNull RecyclerView recyclerView,\n                      @NonNull RecyclerView.ViewHolder viewHolder) {\n    super.clearView(recyclerView, Objects.requireNonNull(viewHolder));\n    dragDropListener.onRowClear(Objects.requireNonNull(viewHolder));\n}\n\n@Override\npublic boolean isLongPressDragEnabled() {\n    return true;\n}\n\n}\n</code></pre>\n\n<p>and this is my ItemTouchHelperListener:</p>\n\n<pre><code>    public void setItemTouchHelperListener() {\n    ItemTouchHelperListener itemTouchHelperListener = new \n   ItemTouchHelperListener() {\n        @Override\n        public void onRowMoved(int fromPosition, int toPosition) {\n            presenter.rowMoved(fromPosition, toPosition);\n        }\n\n        @Override\n        public void onRowSelected(RecyclerView.ViewHolder myViewHolder) {\n            if (myViewHolder instanceof ElementsAdapter.ElementsViewHolder) {\n                elementsAdapter.rowSelected((ElementsAdapter.ElementsViewHolder) myViewHolder);\n                presenter.rowSelected(myViewHolder.getAdapterPosition());\n            }\n        }\n\n        @Override\n        public void onRowClear(RecyclerView.ViewHolder myViewHolder) {\n            if (myViewHolder instanceof ElementsAdapter.ElementsViewHolder) {\n                elementsAdapter.rowClear((ElementsAdapter.ElementsViewHolder) myViewHolder);\n                presenter.rowClear(myViewHolder.getAdapterPosition());\n            }\n        }\n\n        @Override\n        public void deleteElementDialog(int adapterPosition) {\n            createDeleteDialog(adapterPosition);\n        }\n    };\n</code></pre>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":7619085,"reputation":789,"user_id":5777603,"accept_rate":83,"display_name":"Alex"},"score":0,"creation_date":1551081688,"post_id":11468163,"comment_id":96494098,"body_markdown":"This snippet does exactly what this question aks for: https://stackoverflow.com/a/54861562/5777603","body":"This snippet does exactly what this question aks for: <a href=\"https://stackoverflow.com/a/54861562/5777603\">stackoverflow.com/a/54861562/5777603</a>"}],"answers":[{"comments":[{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":4,"creation_date":1464092965,"post_id":11468214,"comment_id":62333458,"body_markdown":"Since java 7, I&#39;d say using NIO via the `FileSystem`, `Path` and `Files` is a much easier (and unified way) or solving this problem. See: http://stackoverflow.com/a/37413531/80779 and http://stackoverflow.com/a/37413128/80779","body":"Since java 7, I&#39;d say using NIO via the <code>FileSystem</code>, <code>Path</code> and <code>Files</code> is a much easier (and unified way) or solving this problem. See: <a href=\"http://stackoverflow.com/a/37413531/80779\">stackoverflow.com/a/37413531/80779</a> and <a href=\"http://stackoverflow.com/a/37413128/80779\">stackoverflow.com/a/37413128/80779</a>"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1696684681,"creation_date":1342173458,"answer_id":11468214,"question_id":11468163,"body_markdown":"I suggest you have a look at [`ZipFile.entries()`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/zip/ZipFile.html#entries%28%29).\r\n\r\nHere&#39;s some code:\r\n\r\n    try (ZipFile zipFile = new ZipFile(&quot;test.zip&quot;)) {\r\n        Enumeration&lt;? extends ZipEntry&gt; zipEntries = zipFile.entries();\r\n        while (zipEntries.hasMoreElements()) {\r\n            String fileName = zipEntries.nextElement().getName();\r\n            System.out.println(fileName);\r\n        }\r\n    }\r\n\r\nIf you&#39;re using **Java 8**, you can avoid the use of the almost deprecated `Enumeration` class using `ZipFile::stream` as follows:\r\n\r\n    zipFile.stream()\r\n           .map(ZipEntry::getName)\r\n           .forEach(System.out::println);\r\n\r\n\r\n----------\r\n\r\n\r\nIf you need to know whether an entry is a directory or not, you could use [`ZipEntry.isDirectory`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/zip/ZipEntry.html#isDirectory%28%29). You can&#39;t get much more information than that without extracting the file (for obvious reasons).\r\n\r\n\r\n----------\r\n\r\n\r\nIf you want to **avoid extracting *all* files,** you can extract one file at a time using [`ZipFile.getInputStream`](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/zip/ZipFile.html#getInputStream%28java.util.zip.ZipEntry%29) for each `ZipEntry`. (Note that you don&#39;t need to store the unpacked data on disk, you can just read the input stream and discard the bytes as you go.","title":"List .zip directories without extracting","body":"<p>I suggest you have a look at <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/zip/ZipFile.html#entries%28%29\" rel=\"nofollow noreferrer\"><code>ZipFile.entries()</code></a>.</p>\n<p>Here's some code:</p>\n<pre><code>try (ZipFile zipFile = new ZipFile(&quot;test.zip&quot;)) {\n    Enumeration&lt;? extends ZipEntry&gt; zipEntries = zipFile.entries();\n    while (zipEntries.hasMoreElements()) {\n        String fileName = zipEntries.nextElement().getName();\n        System.out.println(fileName);\n    }\n}\n</code></pre>\n<p>If you're using <strong>Java 8</strong>, you can avoid the use of the almost deprecated <code>Enumeration</code> class using <code>ZipFile::stream</code> as follows:</p>\n<pre><code>zipFile.stream()\n       .map(ZipEntry::getName)\n       .forEach(System.out::println);\n</code></pre>\n<hr />\n<p>If you need to know whether an entry is a directory or not, you could use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/zip/ZipEntry.html#isDirectory%28%29\" rel=\"nofollow noreferrer\"><code>ZipEntry.isDirectory</code></a>. You can't get much more information than that without extracting the file (for obvious reasons).</p>\n<hr />\n<p>If you want to <strong>avoid extracting <em>all</em> files,</strong> you can extract one file at a time using <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/zip/ZipFile.html#getInputStream%28java.util.zip.ZipEntry%29\" rel=\"nofollow noreferrer\"><code>ZipFile.getInputStream</code></a> for each <code>ZipEntry</code>. (Note that you don't need to store the unpacked data on disk, you can just read the input stream and discard the bytes as you go.</p>\n"},{"tags":[],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342173502,"creation_date":1342173502,"answer_id":11468230,"question_id":11468163,"body_markdown":"For handling ZIP files you can use class [ZipFile][1]. It has method [entries()][2] which returns list of entries contained within ZIP file. This information is contained in the ZIP header and extraction is not required.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipFile.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipFile.html#entries%28%29","title":"List .zip directories without extracting","body":"<p>For handling ZIP files you can use class <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipFile.html\" rel=\"nofollow\">ZipFile</a>. It has method <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipFile.html#entries%28%29\" rel=\"nofollow\">entries()</a> which returns list of entries contained within ZIP file. This information is contained in the ZIP header and extraction is not required.</p>\n"},{"comments":[{"owner":{"account_id":1632226,"reputation":191,"user_id":1506546,"accept_rate":0,"display_name":"Bobi Adzi-Andov"},"score":0,"creation_date":1342174023,"post_id":11468238,"comment_id":15140476,"body_markdown":"I have tried this, but i have to know what types of files are in it, this will pretty much just give me the names of the files/folders, i have to know if it is a file, a folder etc.","body":"I have tried this, but i have to know what types of files are in it, this will pretty much just give me the names of the files/folders, i have to know if it is a file, a folder etc."}],"tags":[],"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1342173550,"creation_date":1342173550,"answer_id":11468238,"question_id":11468163,"body_markdown":"Use `java.util.zip.ZipFile` class and, specifically, its `entries` method.\r\n\r\nYou&#39;ll have something like this:\r\n\r\n    ZipFile zipFile = new ZipFile(&quot;testfile.zip&quot;);\r\n    Enumeration zipEntries = zipFile.entries();\r\n    String fname;\r\n    while (zipEntries.hasMoreElements()) {\r\n        fname = ((ZipEntry)zipEntries.nextElement()).getName();\r\n        ...\r\n    }","title":"List .zip directories without extracting","body":"<p>Use <code>java.util.zip.ZipFile</code> class and, specifically, its <code>entries</code> method.</p>\n\n<p>You'll have something like this:</p>\n\n<pre><code>ZipFile zipFile = new ZipFile(\"testfile.zip\");\nEnumeration zipEntries = zipFile.entries();\nString fname;\nwhile (zipEntries.hasMoreElements()) {\n    fname = ((ZipEntry)zipEntries.nextElement()).getName();\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1632226,"reputation":191,"user_id":1506546,"accept_rate":0,"display_name":"Bobi Adzi-Andov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28550,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1696684681,"creation_date":1342173272,"question_id":11468163,"body_markdown":"I am building a file explorer in Java and I am listing the files/folders in JTrees. What I am trying to do now is when I get to a zipped folder I want to list its contents, but without extracting it first.\r\n\r\nIf anyone has an idea, please share.\r\n\r\n","title":"List .zip directories without extracting","body":"<p>I am building a file explorer in Java and I am listing the files/folders in JTrees. What I am trying to do now is when I get to a zipped folder I want to list its contents, but without extracting it first.</p>\n\n<p>If anyone has an idea, please share.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6078615,"reputation":485,"user_id":4745096,"display_name":"SNS"},"score":0,"creation_date":1522039678,"post_id":49484120,"comment_id":85971029,"body_markdown":"https://stackoverflow.com/questions/3500197/how-to-display-toast-in-android","body":"<a href=\"https://stackoverflow.com/questions/3500197/how-to-display-toast-in-android\" title=\"how to display toast in android\">stackoverflow.com/questions/3500197/&hellip;</a>"},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":2,"creation_date":1522039910,"post_id":49484120,"comment_id":85971076,"body_markdown":"Unfortunately your question boils down to *write code for me*, while many users are willing to produce code for a coder in distress, they usually only help when the poster has already tried to solve the problem on their own. A good way to demonstrate this effort is to include the code you&#39;ve written so far, example input, expected output, and the output you actually get (console output, tracebacks, etc.). Check the [FAQ](https://stackoverflow.com/tour) and [How to Ask](https://stackoverflow.com/questions/how-to-ask).","body":"Unfortunately your question boils down to <i>write code for me</i>, while many users are willing to produce code for a coder in distress, they usually only help when the poster has already tried to solve the problem on their own. A good way to demonstrate this effort is to include the code you&#39;ve written so far, example input, expected output, and the output you actually get (console output, tracebacks, etc.). Check the <a href=\"https://stackoverflow.com/tour\">FAQ</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":1,"creation_date":1522039923,"post_id":49484120,"comment_id":85971081,"body_markdown":"*Thanks in advance*, yeah you are welcome.","body":"<i>Thanks in advance</i>, yeah you are welcome."}],"answers":[{"comments":[{"owner":{"account_id":12927633,"reputation":1,"user_id":9347737,"display_name":"Pooja thakur"},"score":0,"creation_date":1522101488,"post_id":49484201,"comment_id":86006630,"body_markdown":"&lt;div class=&quot;notify-details&quot;&gt;\n\t\n&lt;p ng-bind=&quot;notify.details&quot;&gt;Please enter valid email and password&lt;/p&gt;\n\t\t\n&lt;!-- &lt;button ng-click=&quot;deleteNotification(notify.id);&quot; class=&quot;notifyButton&quot;&gt;ok&lt;/button&gt; --&gt;\n\t\t\t\n&lt;a class=&quot;notify-link&quot; href=&quot;javascript:void(0);&quot; ng-bind=&quot;constants.notify_hideDialog&quot;&gt;&lt;/a&gt;\n\n&lt;/div&gt;             this is the HTML code where either i dont have ID value but have class value and i tried with that it didnt work out","body":"&lt;div class=&quot;notify-details&quot;&gt; \t &lt;p ng-bind=&quot;notify.details&quot;&gt;Please enter valid email and password&lt;/p&gt; \t\t &lt;!-- &lt;button ng-click=&quot;deleteNotification(notify.id);&quot; class=&quot;notifyButton&quot;&gt;ok&lt;/button&gt; --&gt; \t\t\t &lt;a class=&quot;notify-link&quot; href=&quot;javascript:void(0);&quot; ng-bind=&quot;constants.notify_hideDialog&quot;&gt;&lt;/a&gt;  &lt;/div&gt;             this is the HTML code where either i dont have ID value but have class value and i tried with that it didnt work out"}],"tags":[],"owner":{"account_id":1352479,"reputation":928,"user_id":1291696,"display_name":"davidluckystar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522040103,"creation_date":1522040103,"answer_id":49484201,"question_id":49484120,"body_markdown":"You need to open the page&#39;s source (F12) and find this &quot;toast&quot; element - it should be some `&lt;div&gt;` with either `id` or `class` which you can select with selenium. I dont know how this toast is implemented but I&#39;m pretty sure it&#39;s not re-created every time message is shown - so you can rely on your selector.\r\n\r\nThen you can just `driver.findElement(By.id(&quot;toast_id&quot;))` or `driver.findElement(By.className(&quot;toast-class-name&quot;))` in java and check it&#39;s text value","title":"How to get text from Toast message which gets disappeared within few seconds","body":"<p>You need to open the page's source (F12) and find this \"toast\" element - it should be some <code>&lt;div&gt;</code> with either <code>id</code> or <code>class</code> which you can select with selenium. I dont know how this toast is implemented but I'm pretty sure it's not re-created every time message is shown - so you can rely on your selector.</p>\n\n<p>Then you can just <code>driver.findElement(By.id(\"toast_id\"))</code> or <code>driver.findElement(By.className(\"toast-class-name\"))</code> in java and check it's text value</p>\n"},{"tags":[],"owner":{"account_id":15623605,"reputation":21,"user_id":11271813,"display_name":"Rajarajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554384219,"creation_date":1554384219,"answer_id":55517104,"question_id":49484120,"body_markdown":"Instead of using text() try\r\n\r\n    elem.getAttribute(&quot;innerHTML&quot;);","title":"How to get text from Toast message which gets disappeared within few seconds","body":"<p>Instead of using text() try</p>\n\n<pre><code>elem.getAttribute(\"innerHTML\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13833572,"reputation":1,"user_id":9985747,"display_name":"Chathuz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571210697,"creation_date":1571210390,"answer_id":58407821,"question_id":49484120,"body_markdown":"This should work:\r\n       \r\n\r\n        String loginStatus = new WebDriverWait(webDriver, 10).until(ExpectedConditions.elementToBeClickable(By.id(&quot;toast-message&quot;))).getText();\r\n        if (loginStatus.contains(&quot;enter valid&quot;)) {\r\n            System.out.println(&quot;Login Failed: &quot; + loginStatus);\r\n        } else {\r\n            System.out.println(&quot;Login Success:&quot; + loginStatus);\r\n        }","title":"How to get text from Toast message which gets disappeared within few seconds","body":"<p>This should work:</p>\n\n<pre><code>    String loginStatus = new WebDriverWait(webDriver, 10).until(ExpectedConditions.elementToBeClickable(By.id(\"toast-message\"))).getText();\n    if (loginStatus.contains(\"enter valid\")) {\n        System.out.println(\"Login Failed: \" + loginStatus);\n    } else {\n        System.out.println(\"Login Success:\" + loginStatus);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17375833,"reputation":496,"user_id":12588979,"display_name":"GHULAM NABI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578657884,"creation_date":1578640627,"answer_id":59677035,"question_id":49484120,"body_markdown":"from selenium import webdriver\r\n\r\n    driver = webdriver.Firefox(executable_path =&#39;C:\\\\....\\gekodriver&#39;)\r\n    driver.get(&quot;http://www.example.org&quot;)\r\n    toast_text = driver.find_element_by_xpath(&quot;Copy the xpath of toast and paste here...&quot;)\r\n    assert toast_text ==&quot;Text which is shown in toast paste here&quot;\r\n    print(&quot;Test case passed&quot;)","title":"How to get text from Toast message which gets disappeared within few seconds","body":"<p>from selenium import webdriver</p>\n\n<pre><code>driver = webdriver.Firefox(executable_path ='C:\\\\....\\gekodriver')\ndriver.get(\"http://www.example.org\")\ntoast_text = driver.find_element_by_xpath(\"Copy the xpath of toast and paste here...\")\nassert toast_text ==\"Text which is shown in toast paste here\"\nprint(\"Test case passed\")\n</code></pre>\n"}],"owner":{"account_id":12927633,"reputation":1,"user_id":9347737,"display_name":"Pooja thakur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1696683765,"creation_date":1522039464,"question_id":49484120,"body_markdown":"There is a functionality, when i enter invalid login credentials, an error message appears on right side of page showing error message&quot;Please enter valid username and password&quot; but it appears only for few seconds (we call it toast message). I have to validate that error text message in selenium by java. Please suggest me what are the ways to achieve this. Thanks in advance","title":"How to get text from Toast message which gets disappeared within few seconds","body":"<p>There is a functionality, when i enter invalid login credentials, an error message appears on right side of page showing error message\"Please enter valid username and password\" but it appears only for few seconds (we call it toast message). I have to validate that error text message in selenium by java. Please suggest me what are the ways to achieve this. Thanks in advance</p>\n"},{"tags":["java","sftp","spring-integration"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1414713727,"post_id":26665396,"comment_id":41932743,"body_markdown":"How have you verified that the correct key file is in the right place and the correct value has been substituted for `${keyfile}`?  There are lots of places in that chain that could be broken.","body":"How have you verified that the correct key file is in the right place and the correct value has been substituted for <code>${keyfile}</code>?  There are lots of places in that chain that could be broken."},{"owner":{"account_id":5170882,"reputation":39,"user_id":4139424,"display_name":"user_1003"},"score":0,"creation_date":1414714006,"post_id":26665396,"comment_id":41932829,"body_markdown":"I have posted the log below. Could you please help me to understand why this Auth error, as i could see Poll resulted in Message: null as well after the error. Confused with the logs","body":"I have posted the log below. Could you please help me to understand why this Auth error, as i could see Poll resulted in Message: null as well after the error. Confused with the logs"},{"owner":{"account_id":203984,"reputation":21757,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"score":0,"creation_date":1414715085,"post_id":26665396,"comment_id":41933132,"body_markdown":"@user_1003 don&#39;t post additional information in an answer - instead *edit your question* to provide additional details. Have a read through this: [How to ask](http://stackoverflow.com/help/how-to-ask).","body":"@user_1003 don&#39;t post additional information in an answer - instead <i>edit your question</i> to provide additional details. Have a read through this: <a href=\"http://stackoverflow.com/help/how-to-ask\">How to ask</a>."},{"owner":{"account_id":5170882,"reputation":39,"user_id":4139424,"display_name":"user_1003"},"score":0,"creation_date":1414715138,"post_id":26665396,"comment_id":41933148,"body_markdown":"HI Jim. Can u please respond . Please suggest me. I have pasted my logs below. As it dint allow me to paste logs in comment,I had to put them under Answer.Please suggest","body":"HI Jim. Can u please respond . Please suggest me. I have pasted my logs below. As it dint allow me to paste logs in comment,I had to put them under Answer.Please suggest"},{"owner":{"account_id":5170882,"reputation":39,"user_id":4139424,"display_name":"user_1003"},"score":0,"creation_date":1414715264,"post_id":26665396,"comment_id":41933180,"body_markdown":"Thanks Jeen, Sory about that, I have deleted the logs form Answers and put them in my question as u suggested. Thanks :).","body":"Thanks Jeen, Sory about that, I have deleted the logs form Answers and put them in my question as u suggested. Thanks :)."},{"owner":{"account_id":203984,"reputation":21757,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"score":0,"creation_date":1414715473,"post_id":26665396,"comment_id":41933216,"body_markdown":"possible duplicate of [Spring Integration / JSch: Auth fail](http://stackoverflow.com/questions/16154361/spring-integration-jsch-auth-fail)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16154361/spring-integration-jsch-auth-fail\">Spring Integration / JSch: Auth fail</a>"},{"owner":{"account_id":5170882,"reputation":39,"user_id":4139424,"display_name":"user_1003"},"score":0,"creation_date":1414715971,"post_id":26665396,"comment_id":41933361,"body_markdown":"Just checked the link. But seems like it is not answered and i couldn&#39;t find any resolution there. AM i missing anything!.Please let me know.","body":"Just checked the link. But seems like it is not answered and i couldn&#39;t find any resolution there. AM i missing anything!.Please let me know."},{"owner":{"account_id":5170882,"reputation":39,"user_id":4139424,"display_name":"user_1003"},"score":0,"creation_date":1414718414,"post_id":26665396,"comment_id":41933940,"body_markdown":"Someone has any suggesions/answers for this. Please respond. Thanks in Advance.","body":"Someone has any suggesions/answers for this. Please respond. Thanks in Advance."},{"owner":{"account_id":5170882,"reputation":39,"user_id":4139424,"display_name":"user_1003"},"score":0,"creation_date":1414728952,"post_id":26665396,"comment_id":41936252,"body_markdown":"I got it resolved. It is picking up wrong user ID. checked server logs. and resolved it. Thanks everyone :)","body":"I got it resolved. It is picking up wrong user ID. checked server logs. and resolved it. Thanks everyone :)"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1414760249,"creation_date":1414760249,"answer_id":26675283,"question_id":26665396,"body_markdown":"For future readers:\r\n\r\nTurn on `DEBUG` logging for JSCH as [discussed in the reference manual](http://docs.spring.io/spring-integration/reference/html/sftp.html#sftp-jsch-logging). It should help you track it down.","title":"Caused by: com.jcraft.jsch.JSchException: Auth fail with sftp private key","body":"<p>For future readers:</p>\n\n<p>Turn on <code>DEBUG</code> logging for JSCH as <a href=\"http://docs.spring.io/spring-integration/reference/html/sftp.html#sftp-jsch-logging\" rel=\"nofollow\">discussed in the reference manual</a>. It should help you track it down.</p>\n"}],"owner":{"account_id":5170882,"reputation":39,"user_id":4139424,"display_name":"user_1003"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9174,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1696683765,"creation_date":1414713076,"question_id":26665396,"body_markdown":"    &lt;bean id=&quot;sftpSessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.integration.sftp.session.DefaultSftpSessionFactory&quot;&gt;\r\n    \t\t&lt;property name=&quot;host&quot; value=&quot;${host}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;privateKey&quot; value=&quot;file:${keyfile}&quot;/&gt;\r\n    \t\t&lt;property name=&quot;user&quot; value=&quot;${user}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;port&quot; value=&quot;${port}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nI have the above configuration. and I have public key under authorized keys ~/.ssh2 on server. I am still getting the **Caused by: com.jcraft.jsch.JSchException: Auth fail** error. All the credentials are correct and am able to sftp through command prompt. Kindly suggest asap. Confused.\r\nPlease see the logs:\r\n\r\nINFO   | jvm 1    | 2014/10/31 13:41:23 | \t... 21 more\r\nINFO   | jvm 1    | 2014/10/31 13:41:23 | Caused by: com.jcraft.jsch.JSchException: Auth fail\r\nINFO   | jvm 1    | 2014/10/31 13:41:23 | \tat com.jcraft.jsch.Session.connect(Session.java:464)\r\nINFO   | jvm 1    | 2014/10/31 13:41:23 | \tat com.jcraft.jsch.Session.connect(Session.java:158)\r\nINFO   | jvm 1    | 2014/10/31 13:41:23 | \tat org.springframework.integration.sftp.session.SftpSession.connect(SftpSession.java:198)\r\nINFO   | jvm 1    | 2014/10/31 13:41:23 | \t... 22 more\r\n\r\nThis is the detailed log. Iam Confused whether it is connecting or not. Could you please help me\r\n\r\n    ","title":"Caused by: com.jcraft.jsch.JSchException: Auth fail with sftp private key","body":"<pre><code>&lt;bean id=\"sftpSessionFactory\"\n        class=\"org.springframework.integration.sftp.session.DefaultSftpSessionFactory\"&gt;\n        &lt;property name=\"host\" value=\"${host}\" /&gt;\n        &lt;property name=\"privateKey\" value=\"file:${keyfile}\"/&gt;\n        &lt;property name=\"user\" value=\"${user}\" /&gt;\n        &lt;property name=\"port\" value=\"${port}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I have the above configuration. and I have public key under authorized keys ~/.ssh2 on server. I am still getting the <strong>Caused by: com.jcraft.jsch.JSchException: Auth fail</strong> error. All the credentials are correct and am able to sftp through command prompt. Kindly suggest asap. Confused.\nPlease see the logs:</p>\n\n<p>INFO   | jvm 1    | 2014/10/31 13:41:23 |   ... 21 more\nINFO   | jvm 1    | 2014/10/31 13:41:23 | Caused by: com.jcraft.jsch.JSchException: Auth fail\nINFO   | jvm 1    | 2014/10/31 13:41:23 |   at com.jcraft.jsch.Session.connect(Session.java:464)\nINFO   | jvm 1    | 2014/10/31 13:41:23 |   at com.jcraft.jsch.Session.connect(Session.java:158)\nINFO   | jvm 1    | 2014/10/31 13:41:23 |   at org.springframework.integration.sftp.session.SftpSession.connect(SftpSession.java:198)\nINFO   | jvm 1    | 2014/10/31 13:41:23 |   ... 22 more</p>\n\n<p>This is the detailed log. Iam Confused whether it is connecting or not. Could you please help me</p>\n"},{"tags":["java","web-services","jaxb","jax-ws","cxf"],"comments":[{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1349170339,"post_id":12687528,"comment_id":17125683,"body_markdown":"Interesting question, but I don&#39;t know the answer.","body":"Interesting question, but I don&#39;t know the answer."},{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":1,"creation_date":1349181127,"post_id":12687528,"comment_id":17129536,"body_markdown":"This is for jaxrs, but may be it will work for jaxws too: http://cxf.apache.org/docs/jax-rs-data-bindings.html#JAX-RSDataBindings-SingleJAXBContextandextrauserclasses","body":"This is for jaxrs, but may be it will work for jaxws too: <a href=\"http://cxf.apache.org/docs/jax-rs-data-bindings.html#JAX-RSDataBindings-SingleJAXBContextandextrauserclasses\" rel=\"nofollow noreferrer\">cxf.apache.org/docs/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1884048,"reputation":156,"user_id":1703636,"display_name":"DarthPablo"},"score":0,"creation_date":1421154827,"post_id":12703547,"comment_id":44242873,"body_markdown":"I appreciate this is a bit old now, but would you mind posting the class if you still have it?","body":"I appreciate this is a bit old now, but would you mind posting the class if you still have it?"},{"owner":{"account_id":888697,"reputation":6671,"user_id":927477,"accept_rate":77,"display_name":"Avner Levy"},"score":0,"creation_date":1421228444,"post_id":12703547,"comment_id":44275758,"body_markdown":"@DarthPablo I&#39;ve attached the class","body":"@DarthPablo I&#39;ve attached the class"}],"tags":[],"owner":{"account_id":888697,"reputation":6671,"user_id":927477,"accept_rate":77,"display_name":"Avner Levy"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696681610,"creation_date":1349248358,"answer_id":12703547,"question_id":12687528,"body_markdown":"One possible way to solve it is by adding the following to the spring configuration:\r\n\r\n    &lt;bean class=&quot;org.apache.cxf.jaxb.JAXBDataBinding&quot; &gt;\r\n        &lt;constructor-arg index=&quot;0&quot; value=&quot;#{GlobalContextBean.context}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhere the value is just a reference to a bean which holds the global (single) JAXBContext and has the following method:\r\n\r\n    public javax.xml.bind.JAXBContext getContext() {...}\r\n\r\nYou can see more details (including the CXF guru Daniel Kulp inputs) in the following thread:  \r\n[Reuse-JAXB-context-in-jaxws][1]\r\n\r\nAfter testing it I&#39;ve discovered that setting the current JAXBDataBinding as a global instance for multiple services won&#39;t work since there is an &quot;if&quot; statement in its initialize method which returns once the context was set by the first service.  \r\nThat&#39;s why I&#39;ve ended up by extending the class and collecting all the required services classes and model ones. After all services initialization ends, I create a global context with all required classes and return it to all services.    \r\nYou can use the following class.  \r\nAfter all your web services are initialized call the compileGlobalJAXBContext method for creating the global context. You can add there other classes which the application needs and the init missed.  \r\nDon&#39;t Forget to configure the services to work with this bean.  \r\n\r\n    public class GlobalJAXBDataBinding extends JAXBDataBinding\r\n    {\r\n    private Set&lt;Class&lt;?&gt;&gt; globalContextClasses;\r\n    private boolean contextBuilt = false;\r\n\r\n    public GlobalJAXBDataBinding(Set&lt;Class&lt;?&gt;&gt; classes) {\r\n        globalContextClasses = new HashSet&lt;&gt;(classes);\r\n        globalContextClasses.add(CPUUID.class);\r\n    }\r\n\r\n    public GlobalJAXBDataBinding() {\r\n    }\r\n\r\n    }\r\n\r\n    public synchronized void initialize(Service service) {\r\n        if (contextBuilt)\r\n            return;\r\n        super.initialize(service);\r\n        globalContextClasses.addAll(getContextClasses());\r\n        super.setContext(null);\r\n    }\r\n\r\n    public void compileGlobalJAXBContext() {\r\n        if (contextBuilt) return;\r\n        setContext(JAXBContext.newInstance(globalContextClasses));\r\n        contextBuilt *equals* true; \r\n    }\r\n\r\nFor some strange reason the editor didn&#39;t let me add the equal sign in the last line of compileGlobalJAXBContext so just replace the equals word with the relevant sign.\r\n\r\n\r\n  [1]: http://web.archive.org/web/20200204075513/http://cxf.547215.n5.nabble.com/Reuse-JAXB-context-in-jaxws-td5715356.html","title":"Reuse CXF jaxb context between multiple services","body":"<p>One possible way to solve it is by adding the following to the spring configuration:</p>\n<pre><code>&lt;bean class=&quot;org.apache.cxf.jaxb.JAXBDataBinding&quot; &gt;\n    &lt;constructor-arg index=&quot;0&quot; value=&quot;#{GlobalContextBean.context}&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Where the value is just a reference to a bean which holds the global (single) JAXBContext and has the following method:</p>\n<pre><code>public javax.xml.bind.JAXBContext getContext() {...}\n</code></pre>\n<p>You can see more details (including the CXF guru Daniel Kulp inputs) in the following thread:<br />\n<a href=\"http://web.archive.org/web/20200204075513/http://cxf.547215.n5.nabble.com/Reuse-JAXB-context-in-jaxws-td5715356.html\" rel=\"nofollow noreferrer\">Reuse-JAXB-context-in-jaxws</a></p>\n<p>After testing it I've discovered that setting the current JAXBDataBinding as a global instance for multiple services won't work since there is an &quot;if&quot; statement in its initialize method which returns once the context was set by the first service.<br />\nThat's why I've ended up by extending the class and collecting all the required services classes and model ones. After all services initialization ends, I create a global context with all required classes and return it to all services.<br />\nYou can use the following class.<br />\nAfter all your web services are initialized call the compileGlobalJAXBContext method for creating the global context. You can add there other classes which the application needs and the init missed.<br />\nDon't Forget to configure the services to work with this bean.</p>\n<pre><code>public class GlobalJAXBDataBinding extends JAXBDataBinding\n{\nprivate Set&lt;Class&lt;?&gt;&gt; globalContextClasses;\nprivate boolean contextBuilt = false;\n\npublic GlobalJAXBDataBinding(Set&lt;Class&lt;?&gt;&gt; classes) {\n    globalContextClasses = new HashSet&lt;&gt;(classes);\n    globalContextClasses.add(CPUUID.class);\n}\n\npublic GlobalJAXBDataBinding() {\n}\n\n}\n\npublic synchronized void initialize(Service service) {\n    if (contextBuilt)\n        return;\n    super.initialize(service);\n    globalContextClasses.addAll(getContextClasses());\n    super.setContext(null);\n}\n\npublic void compileGlobalJAXBContext() {\n    if (contextBuilt) return;\n    setContext(JAXBContext.newInstance(globalContextClasses));\n    contextBuilt *equals* true; \n}\n</code></pre>\n<p>For some strange reason the editor didn't let me add the equal sign in the last line of compileGlobalJAXBContext so just replace the equals word with the relevant sign.</p>\n"}],"owner":{"account_id":888697,"reputation":6671,"user_id":927477,"accept_rate":77,"display_name":"Avner Levy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3885,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":12703547,"answer_count":1,"score":10,"last_activity_date":1696681610,"creation_date":1349169246,"question_id":12687528,"body_markdown":"I have multiple services which can return results out of thousands of classes.   \r\nSince each CXF service contains a private almost identical JAXB context, it causes a huge memory waste.  \r\nIs there a way to create the JAXB context myself and share it between the services?","title":"Reuse CXF jaxb context between multiple services","body":"<p>I have multiple services which can return results out of thousands of classes.<br>\nSince each CXF service contains a private almost identical JAXB context, it causes a huge memory waste.<br>\nIs there a way to create the JAXB context myself and share it between the services?</p>\n"},{"tags":["java","jar","executable","launch4j"],"comments":[{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":1,"creation_date":1435706836,"post_id":31150142,"comment_id":50310463,"body_markdown":"Here&#39;s another question.  Its answer may not help you, but there&#39;s a comment that indicates removing the `&lt;classpath&gt;` configuration entry helped.  http://stackoverflow.com/questions/2068133/launch4j-exe-has-nothing-to-say-for-itself-anyone-got-a-suggestion","body":"Here&#39;s another question.  Its answer may not help you, but there&#39;s a comment that indicates removing the <code>&lt;classpath&gt;</code> configuration entry helped.  <a href=\"http://stackoverflow.com/questions/2068133/launch4j-exe-has-nothing-to-say-for-itself-anyone-got-a-suggestion\" title=\"launch4j exe has nothing to say for itself anyone got a suggestion\">stackoverflow.com/questions/2068133/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":177642,"reputation":2266,"user_id":409103,"accept_rate":64,"display_name":"Anthony"},"score":1,"creation_date":1520956716,"post_id":31150484,"comment_id":85524649,"body_markdown":"For me this didn&#39;t change the fact that the application was quietly crashing, but it does let you find the error. In my case I was wrapping my jar without 3rd party library dependencies, and that&#39;s why it was failing. After packaging the correct jar I was able to run (with console or gui mode).","body":"For me this didn&#39;t change the fact that the application was quietly crashing, but it does let you find the error. In my case I was wrapping my jar without 3rd party library dependencies, and that&#39;s why it was failing. After packaging the correct jar I was able to run (with console or gui mode)."}],"tags":[],"owner":{"account_id":6554030,"reputation":121,"user_id":5067396,"display_name":"csw"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1435708770,"creation_date":1435708770,"answer_id":31150484,"question_id":31150142,"body_markdown":"I found the issue. Under Header, I had to switch the Header type from GUI to Console. After that I was able to run the exe.","title":"The .exe I created with Launch4j doesn&#39;t run","body":"<p>I found the issue. Under Header, I had to switch the Header type from GUI to Console. After that I was able to run the exe.</p>\n"},{"tags":[],"owner":{"account_id":6306781,"reputation":145,"user_id":4899649,"display_name":"shraddha bhardwaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454496296,"creation_date":1454496296,"answer_id":35174857,"question_id":31150142,"body_markdown":"You may be accepting something as a command line argument which may be throwing an error like in my case .","title":"The .exe I created with Launch4j doesn&#39;t run","body":"<p>You may be accepting something as a command line argument which may be throwing an error like in my case .</p>\n"},{"tags":[],"owner":{"account_id":4685441,"reputation":11,"user_id":3792962,"display_name":"ipapagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610956433,"creation_date":1610956433,"answer_id":65770612,"question_id":31150142,"body_markdown":"For my case, it was the tick on &quot;Signle Instance&quot; tab: Allow only a single instance of the application.\r\nAlthough I had killed the process, for some unknown reason the exe had been recognized as alive. Thus, a reboot of the PC is recommended.","title":"The .exe I created with Launch4j doesn&#39;t run","body":"<p>For my case, it was the tick on &quot;Signle Instance&quot; tab: Allow only a single instance of the application.\nAlthough I had killed the process, for some unknown reason the exe had been recognized as alive. Thus, a reboot of the PC is recommended.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649077766,"creation_date":1648850497,"answer_id":71713145,"question_id":31150142,"body_markdown":"These are the things I had to do for it to work on Windows 10:\r\n\r\nFirst, make sure the executable JAR you created actually executes. I could never got the JAR to execute by double-clicking. Instead, I created a `.bat` file where I added the `java -jar` command-line instruction to execute the jar, including the VM arguments. For example, to execute `foo.jar`, the `.bat` file should contain `java -jar --module-path %FX_HOME% --add-modules javafx.controls,javafx.fxml foo.jar`. Once you get the JAR to execute without errors (pay attention to the command prompt window), then your JAR is ready. Then, do the following from the Launch4J app: \r\n\r\n 1. Create ***FX_HOME*** environment variable. Make sure it points to the *lib* folder of the downloaded Java FX distribution is located.*\r\n 2. Set ***JAVA_HOME*** environment variable.*\r\n 3. Make sure ***JAVA_HOME*** is the first entry on the *Path* variable. Verify by opening a command prompt and typing *`where java`* and hitting the *ENTER* key.\r\n 4. Under Header, make sure &quot;*GUI*&quot; is selected.\r\n 5. Under JRE, set *Bundled JRE paths* to *%JAVA_HOME%*.\r\n 6. Under *VM Option*, enter `--module-path %FX_HOME% --add-modules javafx.controls,javafx.fxml`\r\n\r\n*If any of the paths contain spaces, make sure they are in quotes when you create the environment variable. For example: C:\\Program Files\\Java 17\\bin, should be in quotes. This is because the command-line parameters are space-delimited and &quot;Program Files&quot; contains a space, fooling the command-line interpreter to think *Program* is the end of one parameter and *Files* is the beginning of another. By putting in quotes, the interpreter now knows the space is part of that single parameter that represents the path.","title":"The .exe I created with Launch4j doesn&#39;t run","body":"<p>These are the things I had to do for it to work on Windows 10:</p>\n<p>First, make sure the executable JAR you created actually executes. I could never got the JAR to execute by double-clicking. Instead, I created a <code>.bat</code> file where I added the <code>java -jar</code> command-line instruction to execute the jar, including the VM arguments. For example, to execute <code>foo.jar</code>, the <code>.bat</code> file should contain <code>java -jar --module-path %FX_HOME% --add-modules javafx.controls,javafx.fxml foo.jar</code>. Once you get the JAR to execute without errors (pay attention to the command prompt window), then your JAR is ready. Then, do the following from the Launch4J app:</p>\n<ol>\n<li>Create <em><strong>FX_HOME</strong></em> environment variable. Make sure it points to the <em>lib</em> folder of the downloaded Java FX distribution is located.*</li>\n<li>Set <em><strong>JAVA_HOME</strong></em> environment variable.*</li>\n<li>Make sure <em><strong>JAVA_HOME</strong></em> is the first entry on the <em>Path</em> variable. Verify by opening a command prompt and typing <em><code>where java</code></em> and hitting the <em>ENTER</em> key.</li>\n<li>Under Header, make sure &quot;<em>GUI</em>&quot; is selected.</li>\n<li>Under JRE, set <em>Bundled JRE paths</em> to <em>%JAVA_HOME%</em>.</li>\n<li>Under <em>VM Option</em>, enter <code>--module-path %FX_HOME% --add-modules javafx.controls,javafx.fxml</code></li>\n</ol>\n<p>*If any of the paths contain spaces, make sure they are in quotes when you create the environment variable. For example: C:\\Program Files\\Java 17\\bin, should be in quotes. This is because the command-line parameters are space-delimited and &quot;Program Files&quot; contains a space, fooling the command-line interpreter to think <em>Program</em> is the end of one parameter and <em>Files</em> is the beginning of another. By putting in quotes, the interpreter now knows the space is part of that single parameter that represents the path.</p>\n"},{"tags":[],"owner":{"account_id":6184830,"reputation":11,"user_id":17621044,"display_name":"tans flou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696681511,"creation_date":1695162456,"answer_id":77138283,"question_id":31150142,"body_markdown":"In my case, under Basic tab in Options section I checked &quot;Stay alive after launching GUI application&quot; (this doesn&#39;t work).\r\n\r\nInstead I switched to jSmooth.","title":"The .exe I created with Launch4j doesn&#39;t run","body":"<p>In my case, under Basic tab in Options section I checked &quot;Stay alive after launching GUI application&quot; (this doesn't work).</p>\n<p>Instead I switched to jSmooth.</p>\n"}],"owner":{"account_id":6554030,"reputation":121,"user_id":5067396,"display_name":"csw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12513,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1696681511,"creation_date":1435706451,"question_id":31150142,"body_markdown":"I was able to successfully create a .exe file from an executable jar. From Launch4j I can test the wrapper, and the output on the log is what I expect. However if I try to run the exe from the command line or from Windows Explorer, nothing happens. No error, no output to the console as expected. The program is also supposed to edit a text file which does happen when I run the jar using a batch file, but not when I run the exe. This is all on the same computer so I doubt it is a problem with the JRE. I have searched StackOverflow extensively but found nothing that helps with this situation. I did find this post with a similar problem: https://stackoverflow.com/questions/27192240/launch4j-executable-not-executing-as-expected but nobody actually answered the question. Thank you in advance for helping","title":"The .exe I created with Launch4j doesn&#39;t run","body":"<p>I was able to successfully create a .exe file from an executable jar. From Launch4j I can test the wrapper, and the output on the log is what I expect. However if I try to run the exe from the command line or from Windows Explorer, nothing happens. No error, no output to the console as expected. The program is also supposed to edit a text file which does happen when I run the jar using a batch file, but not when I run the exe. This is all on the same computer so I doubt it is a problem with the JRE. I have searched StackOverflow extensively but found nothing that helps with this situation. I did find this post with a similar problem: <a href=\"https://stackoverflow.com/questions/27192240/launch4j-executable-not-executing-as-expected\">Launch4J executable not executing as expected</a> but nobody actually answered the question. Thank you in advance for helping</p>\n"},{"tags":["java","rest","servlets","selenium-webdriver","web-api-testing"],"comments":[{"owner":{"account_id":4595854,"reputation":978,"user_id":3727942,"display_name":"Spoke44"},"score":1,"creation_date":1498725891,"post_id":44820297,"comment_id":76620658,"body_markdown":"For UI testing you must not do api calls. Mock them. You can&#39;t rely on network for UI tests.","body":"For UI testing you must not do api calls. Mock them. You can&#39;t rely on network for UI tests."},{"owner":{"account_id":10678688,"reputation":83,"user_id":7861421,"accept_rate":33,"display_name":"codefemme"},"score":0,"creation_date":1498726846,"post_id":44820297,"comment_id":76621351,"body_markdown":"for few of test cases in my UI testing, I need the response from api&#39;s. This is the reason, basically for functionality testing.","body":"for few of test cases in my UI testing, I need the response from api&#39;s. This is the reason, basically for functionality testing."}],"answers":[{"tags":[],"owner":{"account_id":10678688,"reputation":83,"user_id":7861421,"accept_rate":33,"display_name":"codefemme"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696681253,"creation_date":1499071737,"answer_id":44881296,"question_id":44820297,"body_markdown":"Here is the solution:\r\nchanged,  \r\n   \r\n\r\n     request.setHeader(&quot;Cookie&quot;, SessionId.toString());\r\n\r\nto\r\n\r\n     request.setHeader(&quot;sessionId&quot;, SessionId.toString());\r\n\r\nThis was mentioned in the API document given by the API team. \r\nThen the session ID is given as output from the previous API call, which needs to be passed in the subsequent API calls. I had no idea about this since I am new to API testing. Hope my answer helps someone in a similar situation!!\r\n","title":"Java: how to pass session id for rest api call in api testing?","body":"<p>Here is the solution:\nchanged,</p>\n<pre><code> request.setHeader(&quot;Cookie&quot;, SessionId.toString());\n</code></pre>\n<p>to</p>\n<pre><code> request.setHeader(&quot;sessionId&quot;, SessionId.toString());\n</code></pre>\n<p>This was mentioned in the API document given by the API team.\nThen the session ID is given as output from the previous API call, which needs to be passed in the subsequent API calls. I had no idea about this since I am new to API testing. Hope my answer helps someone in a similar situation!!</p>\n"}],"owner":{"account_id":10678688,"reputation":83,"user_id":7861421,"accept_rate":33,"display_name":"codefemme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7829,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696681253,"creation_date":1498725855,"question_id":44820297,"body_markdown":"For UI automation testing, I need to do REST Api calls, to get the response. I am passing session id into the HEADER by request.setheader, but I recieved response as :\r\n\r\n    {&quot;result&quot;:{&quot;success&quot;:false,&quot;httpCode&quot;:200,&quot;errorCode&quot;:&quot;INVALID_SESSION_ID&quot;,&quot;errorMessage&quot;:&quot;Session ID not provided... Kindly Login !!&quot;}}\r\n\r\nI have tried displaying session id and it seems to be fine, What I don&#39;t understand is, why it is not been passed to the API. Below is the code:\r\n\r\n\t    HttpClient httpClient = HttpClientBuilder.create().build();\r\n\t\t\t    HttpGet request = new HttpGet(getUrl);\r\n\t\t\t\r\n\t\t\t    SessionId SessionId = ((FirefoxDriver)driver).getSessionId();\r\n    \t\t     request.setHeader(&quot;Cookie&quot;, SessionId.toString());\r\n\t  \t         HttpResponse response = httpClient.execute(request);\r\n\t\t\t \r\n\t\t\t       InputStream ips  = response.getEntity().getContent();\r\n\t\t           BufferedReader buf = new BufferedReader(new InputStreamReader(ips,&quot;UTF-8&quot;));\r\n\t\t           if(response.getStatusLine().getStatusCode()!=HttpStatus.SC_OK)\r\n\t\t           {\r\n\t\t               throw new Exception(response.getStatusLine().getReasonPhrase());\r\n\t\t           }\r\n\t\t           StringBuilder sb = new StringBuilder();\r\n\t\t           String s;\r\n\t\t           while(true )\r\n\t\t           {\r\n\t\t               s = buf.readLine();\r\n\t\t               if(s==null || s.length()==0)\r\n\t\t                   break;\r\n\t\t               sb.append(s);\r\n\r\n\t\t           }\r\n\t\t           buf.close();\r\n\t\t           ips.close();\r\n\t\t           System.out.println(&quot;After parsing: &quot;+sb.toString());\r\n\r\nOutput:\r\nAfter parsing: strong text\r\n\r\n    {&quot;result&quot;:{&quot;success&quot;:false,&quot;httpCode&quot;:200,&quot;errorCode&quot;:&quot;INVALID_SESSION_ID&quot;,&quot;errorMessage&quot;:&quot;Session ID not provided... Kindly Login !!&quot;}}\r\n\r\n","title":"Java: how to pass session id for rest api call in api testing?","body":"<p>For UI automation testing, I need to do REST Api calls, to get the response. I am passing session id into the HEADER by request.setheader, but I recieved response as :</p>\n\n<pre><code>{\"result\":{\"success\":false,\"httpCode\":200,\"errorCode\":\"INVALID_SESSION_ID\",\"errorMessage\":\"Session ID not provided... Kindly Login !!\"}}\n</code></pre>\n\n<p>I have tried displaying session id and it seems to be fine, What I don't understand is, why it is not been passed to the API. Below is the code:</p>\n\n<pre><code>    HttpClient httpClient = HttpClientBuilder.create().build();\n            HttpGet request = new HttpGet(getUrl);\n\n            SessionId SessionId = ((FirefoxDriver)driver).getSessionId();\n             request.setHeader(\"Cookie\", SessionId.toString());\n             HttpResponse response = httpClient.execute(request);\n\n               InputStream ips  = response.getEntity().getContent();\n               BufferedReader buf = new BufferedReader(new InputStreamReader(ips,\"UTF-8\"));\n               if(response.getStatusLine().getStatusCode()!=HttpStatus.SC_OK)\n               {\n                   throw new Exception(response.getStatusLine().getReasonPhrase());\n               }\n               StringBuilder sb = new StringBuilder();\n               String s;\n               while(true )\n               {\n                   s = buf.readLine();\n                   if(s==null || s.length()==0)\n                       break;\n                   sb.append(s);\n\n               }\n               buf.close();\n               ips.close();\n               System.out.println(\"After parsing: \"+sb.toString());\n</code></pre>\n\n<p>Output:\nAfter parsing: strong text</p>\n\n<pre><code>{\"result\":{\"success\":false,\"httpCode\":200,\"errorCode\":\"INVALID_SESSION_ID\",\"errorMessage\":\"Session ID not provided... Kindly Login !!\"}}\n</code></pre>\n"},{"tags":["java","android","keyboard","hide"],"comments":[{"owner":{"account_id":2032092,"reputation":36381,"user_id":1815485,"display_name":"A--C"},"score":0,"creation_date":1354050912,"post_id":13593069,"comment_id":18632676,"body_markdown":"You can hide it for the whole Activity, this sums it up nicely:\nhttp://stackoverflow.com/questions/7789514/how-to-get-activitys-windowtoken-without-view","body":"You can hide it for the whole Activity, this sums it up nicely: <a href=\"http://stackoverflow.com/questions/7789514/how-to-get-activitys-windowtoken-without-view\" title=\"how to get activitys windowtoken without view\">stackoverflow.com/questions/7789514/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1007467,"reputation":3992,"user_id":1694500,"accept_rate":75,"display_name":"Michael"},"score":4,"creation_date":1386247147,"post_id":13593232,"comment_id":30463162,"body_markdown":"Note that it also works for other view parts, e.g. an EditText :)\nThen you would change the following line: `imm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);`","body":"Note that it also works for other view parts, e.g. an EditText :) Then you would change the following line: <code>imm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);</code>"}],"tags":[],"owner":{"account_id":287192,"reputation":2548,"user_id":586859,"accept_rate":100,"display_name":"burmat"},"comment_count":1,"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1470653644,"creation_date":1354051045,"answer_id":13593232,"question_id":13593069,"body_markdown":"You could instead set it to your layout, ie:\r\n\r\n    LinearLayout mainLayout;\r\n    \r\n    // Get your layout set up, this is just an example\r\n    mainLayout = (LinearLayout)findViewById(R.id.myLinearLayout);\r\n    \r\n    // Then just use the following:\r\n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    imm.hideSoftInputFromWindow(mainLayout.getWindowToken(), 0);\r\n\r\nThis is an example assuming that your layout will be created regardless of how many `EditText` objects (or other objects) are placed on it.\r\n\r\nEdit: Also, something I find very useful is to make sure that the keyboard is hidden when an activity first launches (ie: if an `EditText` is the first thing focused).  To do that, I put this in `onCreate()` method of Activity:\r\n\r\n     this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n","title":"Android:Hide keyboard after button click","body":"<p>You could instead set it to your layout, ie:</p>\n\n<pre><code>LinearLayout mainLayout;\n\n// Get your layout set up, this is just an example\nmainLayout = (LinearLayout)findViewById(R.id.myLinearLayout);\n\n// Then just use the following:\nInputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(mainLayout.getWindowToken(), 0);\n</code></pre>\n\n<p>This is an example assuming that your layout will be created regardless of how many <code>EditText</code> objects (or other objects) are placed on it.</p>\n\n<p>Edit: Also, something I find very useful is to make sure that the keyboard is hidden when an activity first launches (ie: if an <code>EditText</code> is the first thing focused).  To do that, I put this in <code>onCreate()</code> method of Activity:</p>\n\n<pre><code> this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2222502,"reputation":2297,"user_id":1961575,"accept_rate":100,"display_name":"Kumar Saurabh"},"score":3,"creation_date":1500045007,"post_id":27228592,"comment_id":77183830,"body_markdown":"by far the most simple and elegant solution","body":"by far the most simple and elegant solution"},{"owner":{"account_id":11376988,"reputation":96,"user_id":8340977,"display_name":"Alex Escobar"},"score":0,"creation_date":1601926040,"post_id":27228592,"comment_id":113552408,"body_markdown":"Most ellegant, generic and simple solution, i love it","body":"Most ellegant, generic and simple solution, i love it"}],"tags":[],"owner":{"account_id":3128230,"reputation":1686,"user_id":2646705,"display_name":"Prashant Maheshwari Andro"},"comment_count":2,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1457731153,"creation_date":1417437407,"answer_id":27228592,"question_id":13593069,"body_markdown":"**Dont forget to use try catch blog because in case when your keyboard not open and if you use key key board hide code app will crash**\t\r\n\r\n       \r\n    try {\r\n        InputMethodManager imm = (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);\r\n        imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);\r\n    } catch (Exception e) {\r\n        // TODO: handle exception\r\n    }","title":"Android:Hide keyboard after button click","body":"<p><strong>Dont forget to use try catch blog because in case when your keyboard not open and if you use key key board hide code app will crash</strong> </p>\n\n<pre><code>try {\n    InputMethodManager imm = (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);\n} catch (Exception e) {\n    // TODO: handle exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1515999560,"creation_date":1437726341,"answer_id":31605632,"question_id":13593069,"body_markdown":"You can hide the keyboard using the following code, probably on the **Button click Event :**\r\n\r\n    //================ Hide Virtual Key Board When  Clicking==================//\r\n    \r\n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    imm.hideSoftInputFromWindow(&quot;Your Button/EditText Object&quot;.getWindowToken(), InputMethodManager.RESULT_UNCHANGED_SHOWN);\r\n    \r\n    //======== Hide Virtual Keyboard =====================//\r\n\r\n","title":"Android:Hide keyboard after button click","body":"<p>You can hide the keyboard using the following code, probably on the <strong>Button click Event :</strong></p>\n\n<pre><code>//================ Hide Virtual Key Board When  Clicking==================//\n\nInputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(\"Your Button/EditText Object\".getWindowToken(), InputMethodManager.RESULT_UNCHANGED_SHOWN);\n\n//======== Hide Virtual Keyboard =====================//\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5547491,"reputation":3378,"user_id":4401692,"accept_rate":0,"display_name":"Pankaj Talaviya"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477460672,"creation_date":1477460672,"answer_id":40254574,"question_id":13593069,"body_markdown":"You use this code\r\n\r\n    // Check if no view has focus:\r\n    View view = this.getCurrentFocus();\r\n    if (view != null) {  \r\n        InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\r\n        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n    }","title":"Android:Hide keyboard after button click","body":"<p>You use this code</p>\n\n<pre><code>// Check if no view has focus:\nView view = this.getCurrentFocus();\nif (view != null) {  \n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8622629,"reputation":97,"user_id":6456951,"display_name":"Binayak Banerjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1486718965,"creation_date":1486718965,"answer_id":42155842,"question_id":13593069,"body_markdown":"If the problem is on an activity simply the following will work:\r\n\r\n        try {\r\n            InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n        }\r\n        \r\n\r\nelse if the code is required in a fragment do the following\r\n\r\n        try {\r\n            InputMethodManager imm = (InputMethodManager)getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(getActivity().getCurrentFocus().getWindowToken(), 0);\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n        }\r\n\r\nThis will handle the hiding of keyboard on a button click or any other event as deemed specific when written within the event block.","title":"Android:Hide keyboard after button click","body":"<p>If the problem is on an activity simply the following will work:</p>\n\n<pre><code>    try {\n        InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n</code></pre>\n\n<p>else if the code is required in a fragment do the following</p>\n\n<pre><code>    try {\n        InputMethodManager imm = (InputMethodManager)getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(getActivity().getCurrentFocus().getWindowToken(), 0);\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n</code></pre>\n\n<p>This will handle the hiding of keyboard on a button click or any other event as deemed specific when written within the event block.</p>\n"},{"tags":[],"owner":{"account_id":9200745,"reputation":81,"user_id":6837793,"display_name":"Francesco O&#39;Bioh D&#39;Agostino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491932416,"creation_date":1491930512,"answer_id":43352233,"question_id":13593069,"body_markdown":"    InputMethodManager inputManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    inputManager.hideSoftInputFromWindow(rootView.getWindowToken(), 0);","title":"Android:Hide keyboard after button click","body":"<pre><code>InputMethodManager inputManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\ninputManager.hideSoftInputFromWindow(rootView.getWindowToken(), 0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2746857,"reputation":2078,"user_id":2395334,"accept_rate":55,"display_name":"DennisVA"},"score":2,"creation_date":1614020407,"post_id":47198722,"comment_id":117251391,"body_markdown":"Underrated answer","body":"Underrated answer"}],"tags":[],"owner":{"account_id":9089962,"reputation":3525,"user_id":6766264,"accept_rate":0,"display_name":"Makvin"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1510221228,"creation_date":1510221228,"answer_id":47198722,"question_id":13593069,"body_markdown":"    edittext.onEditorAction(EditorInfo.IME_ACTION_DONE);","title":"Android:Hide keyboard after button click","body":"<pre><code>edittext.onEditorAction(EditorInfo.IME_ACTION_DONE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69714,"reputation":6669,"user_id":202705,"accept_rate":56,"display_name":"magallanes"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549579018,"creation_date":1549579018,"answer_id":54583382,"question_id":13593069,"body_markdown":"For the record and based in the answers of @burmat and @Prashant Maheshwari Andro\r\n\r\n\r\nLet&#39;s say that you call the click button as follow.  where buttonAndroidLogin_button is the Button object.\r\n\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n        // your code...\r\n\t\tbuttonAndroidLogin_button.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\thideKeyboard((Button)v);\r\n\t\t\t\t// ....\r\n\t} // end onCreate\r\n\r\nOn the activity, you must set the next method\r\n\r\n\tpublic void hideKeyboard(View view) {\r\n        try {\r\n            InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n        } catch(Exception ignored) {\r\n        }\r\n    }\r\n\r\n**It hides the input using the same button**, so we don&#39;t need any linear layout, text view or any other arbitrary control.  Also, the code is reusable for more buttons.","title":"Android:Hide keyboard after button click","body":"<p>For the record and based in the answers of @burmat and @Prashant Maheshwari Andro</p>\n\n<p>Let's say that you call the click button as follow.  where buttonAndroidLogin_button is the Button object.</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    // your code...\n    buttonAndroidLogin_button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            hideKeyboard((Button)v);\n            // ....\n} // end onCreate\n</code></pre>\n\n<p>On the activity, you must set the next method</p>\n\n<pre><code>public void hideKeyboard(View view) {\n    try {\n        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n    } catch(Exception ignored) {\n    }\n}\n</code></pre>\n\n<p><strong>It hides the input using the same button</strong>, so we don't need any linear layout, text view or any other arbitrary control.  Also, the code is reusable for more buttons.</p>\n"},{"comments":[{"owner":{"account_id":392087,"reputation":1214,"user_id":753136,"accept_rate":60,"display_name":"tiktak"},"score":0,"creation_date":1649712969,"post_id":64022163,"comment_id":126941615,"body_markdown":"did not work for me, whereas using the layout to fetch the windowToken did","body":"did not work for me, whereas using the layout to fetch the windowToken did"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1653467068,"post_id":64022163,"comment_id":127856884,"body_markdown":"What did u mean about windowToken?!","body":"What did u mean about windowToken?!"}],"tags":[],"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1605621380,"creation_date":1600842391,"answer_id":64022163,"question_id":13593069,"body_markdown":"**IN KOTLIN :**\r\n\r\n**In your `fragment` :**\r\n\r\n**Create extension like this :**\r\n\r\n    fun Fragment.hideKeyboard() {\r\n        val imm = context?.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n        imm.hideSoftInputFromWindow(requireView().windowToken, 0)\r\n    }\r\n\r\nThen use it like this :\r\n \r\n\r\n    hideKeyboard()\r\n\r\n**In your `activity` :**\r\n\r\n**Create extension like this :**\r\n\r\n    fun AppCompatActivity.hideKeyboard() {\r\n        val imm = this.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n        imm.hideSoftInputFromWindow(this.window.attributes.token, 0)\r\n    }\r\n\r\nThen use it like this :\r\n\r\n       hideKeyboard()","title":"Android:Hide keyboard after button click","body":"<p><strong>IN KOTLIN :</strong></p>\n<p><strong>In your <code>fragment</code> :</strong></p>\n<p><strong>Create extension like this :</strong></p>\n<pre><code>fun Fragment.hideKeyboard() {\n    val imm = context?.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n    imm.hideSoftInputFromWindow(requireView().windowToken, 0)\n}\n</code></pre>\n<p>Then use it like this :</p>\n<pre><code>hideKeyboard()\n</code></pre>\n<p><strong>In your <code>activity</code> :</strong></p>\n<p><strong>Create extension like this :</strong></p>\n<pre><code>fun AppCompatActivity.hideKeyboard() {\n    val imm = this.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n    imm.hideSoftInputFromWindow(this.window.attributes.token, 0)\n}\n</code></pre>\n<p>Then use it like this :</p>\n<pre><code>   hideKeyboard()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696620059,"post_id":77228888,"comment_id":136181561,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77228888/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28294809,"reputation":1,"user_id":21634415,"display_name":"Mohitkumar Soni"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696680816,"creation_date":1696416302,"answer_id":77228888,"question_id":13593069,"body_markdown":"This code is to remove keyboard from screen on Fragment.\r\n\r\n**The Code:**\r\n```\r\ntry {\r\n  InputMethodManager inputMethodManager = (InputMethodManager) requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n  inputMethodManager.hideSoftInputFromWindow(Objects.requireNonNull(requireActivity().getCurrentFocus()).getWindowToken(), 0);\r\n} catch (Exception e) {\r\n  Log.d(&quot;PROFILE KEYBOARD ERROR&quot;, e.toString());\r\n}\r\n```","title":"Android:Hide keyboard after button click","body":"<p>This code is to remove keyboard from screen on Fragment.</p>\n<p><strong>The Code:</strong></p>\n<pre><code>try {\n  InputMethodManager inputMethodManager = (InputMethodManager) requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n  inputMethodManager.hideSoftInputFromWindow(Objects.requireNonNull(requireActivity().getCurrentFocus()).getWindowToken(), 0);\n} catch (Exception e) {\n  Log.d(&quot;PROFILE KEYBOARD ERROR&quot;, e.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":2059471,"reputation":545,"user_id":1836433,"accept_rate":50,"display_name":"Martin Shinks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85878,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":13593232,"answer_count":10,"score":38,"last_activity_date":1696680816,"creation_date":1354050455,"question_id":13593069,"body_markdown":"I need to hide the android keyboard after a button click. \r\n\r\nI have seen many examples of how to do this, however, they all appear to use a specific editText object. \r\n\r\ne.g.\r\n\r\n    InputMethodManager imm = (InputMethodManager)getSystemService(\r\n          Context.INPUT_METHOD_SERVICE);\r\n    imm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\r\n\r\nMy problem is that I am building the screen dynamically, thus there could be mane edit text fields. Is there a way the keyboard can be hidden without me having to specify which editText object I am hiding it for. \r\n","title":"Android:Hide keyboard after button click","body":"<p>I need to hide the android keyboard after a button click. </p>\n\n<p>I have seen many examples of how to do this, however, they all appear to use a specific editText object. </p>\n\n<p>e.g.</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager)getSystemService(\n      Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\n</code></pre>\n\n<p>My problem is that I am building the screen dynamically, thus there could be mane edit text fields. Is there a way the keyboard can be hidden without me having to specify which editText object I am hiding it for. </p>\n"},{"tags":["java","spring","openapi","spring-webclient","openapi-generator"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1652106902,"post_id":72142403,"comment_id":127519494,"body_markdown":"could you share more details about OpenAPI generator you are using and probably generated code for the WebClient? In case of &quot;non-standard&quot; content types, you need to provide encoder/decoder using `ClientCodecConfigurer` `clientCodecConfigurer.customCodecs().decoder(...)`.","body":"could you share more details about OpenAPI generator you are using and probably generated code for the WebClient? In case of &quot;non-standard&quot; content types, you need to provide encoder/decoder using <code>ClientCodecConfigurer</code> <code>clientCodecConfigurer.customCodecs().decoder(...)</code>."},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1652110575,"post_id":72142403,"comment_id":127521089,"body_markdown":"Details requested. The generator is the OpenAPI generator for Gradle version 5.4.0 as mentioned in my question. My current Gradle version is 7.4.1. I do not use any kind of custom content-types. My problem is that I am simply trying to instruct the generator to use abstracted file representations instead of the concrete `File` type as mentioned here https://openapi-generator.tech/docs/generators/java/#config-options","body":"Details requested. The generator is the OpenAPI generator for Gradle version 5.4.0 as mentioned in my question. My current Gradle version is 7.4.1. I do not use any kind of custom content-types. My problem is that I am simply trying to instruct the generator to use abstracted file representations instead of the concrete <code>File</code> type as mentioned here <a href=\"https://openapi-generator.tech/docs/generators/java/#config-options\" rel=\"nofollow noreferrer\">openapi-generator.tech/docs/generators/java/#config-options</a>"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1652111914,"post_id":72142403,"comment_id":127521602,"body_markdown":"Looking at the error, `application/zip` is a custom content type for WebClient. Also `Mono&lt;File&gt;` looks strange for body mapping. It&#39;s very hard to tell more without open api definition and generated code.","body":"Looking at the error, <code>application&#47;zip</code> is a custom content type for WebClient. Also <code>Mono&lt;File&gt;</code> looks strange for body mapping. It&#39;s very hard to tell more without open api definition and generated code."},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1652167713,"post_id":72142403,"comment_id":127534110,"body_markdown":"I think this is not a custom mapping and per their documentation this should be working fine. When using the Spring generator, everything works fine and maps to a `Mono&lt;Resource&gt;` which is OK. The problem occurs only when using the `WebClient` generator, which seems to ignore the flag in question.","body":"I think this is not a custom mapping and per their documentation this should be working fine. When using the Spring generator, everything works fine and maps to a <code>Mono&lt;Resource&gt;</code> which is OK. The problem occurs only when using the <code>WebClient</code> generator, which seems to ignore the flag in question."}],"answers":[{"tags":[],"owner":{"account_id":18907962,"reputation":321,"user_id":13794675,"display_name":"Alex Shavlovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696678128,"creation_date":1696675620,"answer_id":77249439,"question_id":72142403,"body_markdown":"Based on test classes in openapi-generator, this property is intended to work with request body of the following type:\r\n\r\n      requestBody:\r\n        content:\r\n          multipart/form-data:\r\n            schema:\r\n              type: object\r\n              properties:\r\n                files:\r\n                  type: array\r\n                  description: &quot;Many files&quot;\r\n                  items:\r\n                    type: string\r\n                    format: binary\r\n\r\nYou can map File to any desired type like this:\r\n\r\n    openApiGenerate {\r\n        typeMappings = [&#39;File&#39;: &#39;byte[]&#39;]\r\n    }","title":"useAbstractionForFiles OpenAPI WebClient not working","body":"<p>Based on test classes in openapi-generator, this property is intended to work with request body of the following type:</p>\n<pre><code>  requestBody:\n    content:\n      multipart/form-data:\n        schema:\n          type: object\n          properties:\n            files:\n              type: array\n              description: &quot;Many files&quot;\n              items:\n                type: string\n                format: binary\n</code></pre>\n<p>You can map File to any desired type like this:</p>\n<pre><code>openApiGenerate {\n    typeMappings = ['File': 'byte[]']\n}\n</code></pre>\n"}],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696678128,"creation_date":1651844288,"question_id":72142403,"body_markdown":"I am using OpenAPI generator (Gradle plugin version 5.4.0) to generate a few API calls. One of said calls, revolves a file download from an external service i.e my application calls that one and downloads and then should proxy the event. For that API call my returned `content-type` is set to `application-zip`. When invoking that API directly (i.e from a browser) everything works OK.\r\n\r\nUsing that API definition, I am trying to generate a WebClient to be used by another project that will effectively download that file. Doing so I am facing the following problems:\r\n\r\n 1. Whenever I try to invoke the API to download the file I am getting the following error: `nested exception is org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;application/zip&#39; not supported for bodyType=java.io.File`\r\n\r\n 2. My generated `WebClient` seems to return a `Mono&lt;File&gt;` instead of some other object instance. I tried to disable this behavior by setting the following openapi generator configuration option `useAbstractionForFiles` but is seems to get ignored.\r\n\r\n\r\nCan anyone shed some light as to how I can resolve this issue? For reference here is my OpenAPI Gradle Plugin configuration options:\r\n\r\n```\r\n\tconfigOptions = [\r\n\t\t\tdateLibrary            : &#39;java8&#39;,\r\n\t\t\tserializationLibrary   : &#39;jackson&#39;,\r\n\t\t\tlibrary                : &#39;webclient&#39;,\r\n\t\t\tuseAbstractionForFiles : &#39;true&#39;,\r\n\t\t\tuseBeanValidation      : &quot;true&quot;,\r\n\t\t\tinterfaceOnly          : &quot;true&quot;,\r\n\t\t\tserializableModel      : &quot;true&quot;,\r\n\t\t\tuseTags                : &quot;true&quot;,\r\n\t\t\treactive               : &quot;true&quot;,\r\n\t\t\tsourceFolder           : &#39;src/main/java&#39;,\r\n\t\t\ttestFolder             : &#39;src/test/java&#39;\r\n\t]\r\n","title":"useAbstractionForFiles OpenAPI WebClient not working","body":"<p>I am using OpenAPI generator (Gradle plugin version 5.4.0) to generate a few API calls. One of said calls, revolves a file download from an external service i.e my application calls that one and downloads and then should proxy the event. For that API call my returned <code>content-type</code> is set to <code>application-zip</code>. When invoking that API directly (i.e from a browser) everything works OK.</p>\n<p>Using that API definition, I am trying to generate a WebClient to be used by another project that will effectively download that file. Doing so I am facing the following problems:</p>\n<ol>\n<li><p>Whenever I try to invoke the API to download the file I am getting the following error: <code>nested exception is org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'application/zip' not supported for bodyType=java.io.File</code></p>\n</li>\n<li><p>My generated <code>WebClient</code> seems to return a <code>Mono&lt;File&gt;</code> instead of some other object instance. I tried to disable this behavior by setting the following openapi generator configuration option <code>useAbstractionForFiles</code> but is seems to get ignored.</p>\n</li>\n</ol>\n<p>Can anyone shed some light as to how I can resolve this issue? For reference here is my OpenAPI Gradle Plugin configuration options:</p>\n<pre><code>    configOptions = [\n            dateLibrary            : 'java8',\n            serializationLibrary   : 'jackson',\n            library                : 'webclient',\n            useAbstractionForFiles : 'true',\n            useBeanValidation      : &quot;true&quot;,\n            interfaceOnly          : &quot;true&quot;,\n            serializableModel      : &quot;true&quot;,\n            useTags                : &quot;true&quot;,\n            reactive               : &quot;true&quot;,\n            sourceFolder           : 'src/main/java',\n            testFolder             : 'src/test/java'\n    ]\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1696676861,"post_id":77249493,"comment_id":136185971,"body_markdown":"You should either make it abstract (doesn’t seem right) or implement abstract method &#39;onError(Exception)’ (seems right). This information was contained in the error message.","body":"You should either make it abstract (doesn’t seem right) or implement abstract method &#39;onError(Exception)’ (seems right). This information was contained in the error message."}],"answers":[{"tags":[],"owner":{"account_id":29520193,"reputation":932,"user_id":22623172,"display_name":"Vlad Guriev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696677349,"creation_date":1696677349,"answer_id":77249520,"question_id":77249493,"body_markdown":"In the snippet the wrong signature of `onError()` is used, so the required method is not implemented. Please try replacing the line `public void onError() {` with `public void onError(Exception e) {`","title":"Class &#39;Anonymous class derived from Callback&#39; must either be declared abstract or implement abstract method &#39;onError(Exception)&#39; in &#39;Callback&#39;","body":"<p>In the snippet the wrong signature of <code>onError()</code> is used, so the required method is not implemented. Please try replacing the line <code>public void onError() {</code> with <code>public void onError(Exception e) {</code></p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696677980,"creation_date":1696677980,"answer_id":77249554,"question_id":77249493,"body_markdown":"Error message is telling you that your anonymous class derived from Callback must implement the abstract method `onError(Exception)`. In your code, you have implemented `onError()` without an Exception parameter. You need to modify your onError method to take an Exception as a parameter. \r\n\r\n    @Override\r\n    public void onError(Exception e) {\r\n    //...\r\n    }\r\n\r\nsee for reference: https://square.github.io/picasso/2.x/picasso/com/squareup/picasso/Callback.html","title":"Class &#39;Anonymous class derived from Callback&#39; must either be declared abstract or implement abstract method &#39;onError(Exception)&#39; in &#39;Callback&#39;","body":"<p>Error message is telling you that your anonymous class derived from Callback must implement the abstract method <code>onError(Exception)</code>. In your code, you have implemented <code>onError()</code> without an Exception parameter. You need to modify your onError method to take an Exception as a parameter.</p>\n<pre><code>@Override\npublic void onError(Exception e) {\n//...\n}\n</code></pre>\n<p>see for reference: <a href=\"https://square.github.io/picasso/2.x/picasso/com/squareup/picasso/Callback.html\" rel=\"nofollow noreferrer\">https://square.github.io/picasso/2.x/picasso/com/squareup/picasso/Callback.html</a></p>\n"}],"owner":{"account_id":29101093,"reputation":1,"user_id":22292910,"display_name":"Fahim Rahman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1696677980,"creation_date":1696676685,"question_id":77249493,"body_markdown":"\r\nClass &#39;Anonymous class derived from Callback&#39; must either be declared abstract or implement abstract method &#39;onError(Exception)&#39; in &#39;Callback&#39;\r\n\r\nI am opening an old project. Now how to solve this problem?\r\n\r\nmy code is:\r\n\r\n     Picasso.get().load(p.getImageUrl()).into(iv, new Callback() {\r\n                        @Override\r\n                        public void onSuccess() {\r\n\r\n                            Bitmap bitmap = convertImageViewToBitmap(iv);\r\n                            Bitmap hiResBitmap = getResizedBitmap(bitmap, 600, 1000);\r\n                            iv.setImageBitmap(hiResBitmap);\r\n\r\n                            // iv.setImageBitmap(bitmap);\r\n                            iv.setVisibility(View.VISIBLE);\r\n                            //   saveImageAndSavePathToSharedPrefrence(bitmap, p.getPost_id());\r\n                            Log.i(TAG, &quot;onSuccess: From WebUrl &quot; + &quot; Position :  &quot; + position + &quot; PostId: &quot; + p.getPost_id() + &quot; Url : &quot; + p.getImageUrl());\r\n\r\n                            tvPhotoLink.setText(&quot;Photo Link&quot;);\r\n                            tvPhotoLink.setTextColor(Color.BLUE);\r\n                            tvPhotoLink.setOnClickListener(new View.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(View view) {\r\n                                    go_to_website(p.getImageUrl());\r\n                                }\r\n                            });\r\n                            tvPhotoLink.setVisibility(View.VISIBLE);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onError() {\r\n\r\n                            Log.i(TAG, &quot;onSuccess:3_0 Picasso Error: from Net  &quot; + &quot; Image Position Url is not Valid: &quot; + &quot;ImageUrl is :  &quot; + p.getImageUrl());\r\n\r\n                            tvPhotoLink.setVisibility(View.GONE);\r\n                            iv.setVisibility(View.GONE);\r\n\r\n                        }\r\n                    });\r\n\r\nI want to run the file and find the solution","title":"Class &#39;Anonymous class derived from Callback&#39; must either be declared abstract or implement abstract method &#39;onError(Exception)&#39; in &#39;Callback&#39;","body":"<p>Class 'Anonymous class derived from Callback' must either be declared abstract or implement abstract method 'onError(Exception)' in 'Callback'</p>\n<p>I am opening an old project. Now how to solve this problem?</p>\n<p>my code is:</p>\n<pre><code> Picasso.get().load(p.getImageUrl()).into(iv, new Callback() {\n                    @Override\n                    public void onSuccess() {\n\n                        Bitmap bitmap = convertImageViewToBitmap(iv);\n                        Bitmap hiResBitmap = getResizedBitmap(bitmap, 600, 1000);\n                        iv.setImageBitmap(hiResBitmap);\n\n                        // iv.setImageBitmap(bitmap);\n                        iv.setVisibility(View.VISIBLE);\n                        //   saveImageAndSavePathToSharedPrefrence(bitmap, p.getPost_id());\n                        Log.i(TAG, &quot;onSuccess: From WebUrl &quot; + &quot; Position :  &quot; + position + &quot; PostId: &quot; + p.getPost_id() + &quot; Url : &quot; + p.getImageUrl());\n\n                        tvPhotoLink.setText(&quot;Photo Link&quot;);\n                        tvPhotoLink.setTextColor(Color.BLUE);\n                        tvPhotoLink.setOnClickListener(new View.OnClickListener() {\n                            @Override\n                            public void onClick(View view) {\n                                go_to_website(p.getImageUrl());\n                            }\n                        });\n                        tvPhotoLink.setVisibility(View.VISIBLE);\n                    }\n\n                    @Override\n                    public void onError() {\n\n                        Log.i(TAG, &quot;onSuccess:3_0 Picasso Error: from Net  &quot; + &quot; Image Position Url is not Valid: &quot; + &quot;ImageUrl is :  &quot; + p.getImageUrl());\n\n                        tvPhotoLink.setVisibility(View.GONE);\n                        iv.setVisibility(View.GONE);\n\n                    }\n                });\n</code></pre>\n<p>I want to run the file and find the solution</p>\n"},{"tags":["java","string","algorithm","recursion","big-o"],"answers":[{"comments":[{"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"score":0,"creation_date":1506177384,"post_id":45358954,"comment_id":79719738,"body_markdown":"The strings share common prefixes so share some of the work done. Does that change the complexity?","body":"The strings share common prefixes so share some of the work done. Does that change the complexity?"},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1506179304,"post_id":45358954,"comment_id":79720266,"body_markdown":"Interesting point! I believe it might, but given this particular implementation which works by doing a lot of string concatenation in Java it might not apply here. Revisiting this idea without that constraint might lead to some improvements.","body":"Interesting point! I believe it might, but given this particular implementation which works by doing a lot of string concatenation in Java it might not apply here. Revisiting this idea without that constraint might lead to some improvements."}],"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1506272862,"creation_date":1501181876,"answer_id":45358954,"question_id":44145982,"body_markdown":"The above algorithm works by recursively generating all possible strings of length k using a set of c choices of characters. The number of possible strings of length k you can make from c choices of letters is equal to c&lt;sup&gt;k&lt;/sup&gt;. For example, if I have two letters to pick from (a and b) and I have strings of length three, there are 2&lt;sup&gt;3&lt;/sup&gt; = 8 possible strings I can make:\r\n\r\n* aaa\r\n* aab\r\n* aba\r\n* abb\r\n* baa\r\n* bab\r\n* bba\r\n* bbb\r\n\r\nTo better see where this comes from, notice that every time you add a new letter to the end of the string, you have c choices for what that letter can be, so the number of possible strings is\r\n\r\n&gt; c &amp;middot; c &amp;middot; ... &amp;middot; c (k times) = \r\n&gt;\r\n&gt; c&lt;sup&gt;k&lt;/sup&gt;\r\n\r\nThis means that the above code, which works by generating each of these strings, must do *at least* &amp;Omega;(c&lt;sup&gt;k&lt;/sup&gt;) work, since that&#39;s the minimum number of strings to check.\r\n\r\nSo how much work does it do for each of these strings? Here&#39;s where things get tricky. These strings are built up one character at a time by constantly appending a new character from the list of possible characters. In Java, appending to a string makes a full copy of the string, so the cost of appending the first character is (roughly) 1, the second is (roughly) 2, then 3, then 4, etc. This means that the cost of building up a full string of length k will be\r\n\r\n&gt; 1 + 2 + 3 + ... + k\r\n&gt;\r\n&gt; = &amp;Theta;(k&lt;sup&gt;2&lt;/sup&gt;)\r\n\r\nSo it actually seems like the runtime here would be O(c&lt;sup&gt;k&lt;/sup&gt; k&lt;sup&gt;2&lt;/sup&gt;) rather than O(k c&lt;sup&gt;k&lt;/sup&gt;), since the cost of building all those strings adds up rather quickly.\r\n\r\nHowever, that&#39;s not a tight bound. For example, some of the work done to form the string `aaa` is also used to form the string `aab`, since both strings are formed by starting with `aa` and concatenating another character in.\r\n\r\nTo get a better analysis, we can sum up the total work done performing concatenations at each level in the tree. The zeroth level of the tree has a single string of size 0, so no concatenations are done. The first level of the tree has c strings of size 1, requiring c work to do to the concatenations. The second level of the tree has c&lt;sup&gt;2&lt;/sup&gt; strings of size 2, requiring 2c&lt;sup&gt;2&lt;/sup&gt; work to form. The third level of the three has c&lt;sup&gt;3&lt;/sup&gt; strings of size 3, requiring 3c&lt;sup&gt;3&lt;/sup&gt; work to form. More generally, level i requires ic&lt;sup&gt;i&lt;/sup&gt; work to form. This means we want to determine\r\n\r\n&gt; 0c&lt;sup&gt;0&lt;/sup&gt; + 1c&lt;sup&gt;1&lt;/sup&gt; + 2c&lt;sup&gt;2&lt;/sup&gt; + ... + kc&lt;sup&gt;k&lt;/sup&gt;.\r\n\r\nThis summation works out to &amp;Theta;(kc&lt;sup&gt;k&lt;/sup&gt;), with a lower exponent of the k term.\r\n\r\nTo summarize:\r\n\r\n* The c&lt;sup&gt;k&lt;/sup&gt; term comes from the number of strings that needed to be checked.\r\n* The k term comes from from the work done per string.\r\n* A careful analysis shows that the time to generate all these strings does not affect the overall runtime of O(k c&lt;sup&gt;k&lt;/sup&gt;).","title":"Why is the time complexity of this example from &quot;Cracking the Coding Interview&quot; O(k c^k)?","body":"<p>The above algorithm works by recursively generating all possible strings of length k using a set of c choices of characters. The number of possible strings of length k you can make from c choices of letters is equal to c<sup>k</sup>. For example, if I have two letters to pick from (a and b) and I have strings of length three, there are 2<sup>3</sup> = 8 possible strings I can make:</p>\n\n<ul>\n<li>aaa</li>\n<li>aab</li>\n<li>aba</li>\n<li>abb</li>\n<li>baa</li>\n<li>bab</li>\n<li>bba</li>\n<li>bbb</li>\n</ul>\n\n<p>To better see where this comes from, notice that every time you add a new letter to the end of the string, you have c choices for what that letter can be, so the number of possible strings is</p>\n\n<blockquote>\n  <p>c &middot; c &middot; ... &middot; c (k times) = </p>\n  \n  <p>c<sup>k</sup></p>\n</blockquote>\n\n<p>This means that the above code, which works by generating each of these strings, must do <em>at least</em> &Omega;(c<sup>k</sup>) work, since that's the minimum number of strings to check.</p>\n\n<p>So how much work does it do for each of these strings? Here's where things get tricky. These strings are built up one character at a time by constantly appending a new character from the list of possible characters. In Java, appending to a string makes a full copy of the string, so the cost of appending the first character is (roughly) 1, the second is (roughly) 2, then 3, then 4, etc. This means that the cost of building up a full string of length k will be</p>\n\n<blockquote>\n  <p>1 + 2 + 3 + ... + k</p>\n  \n  <p>= &Theta;(k<sup>2</sup>)</p>\n</blockquote>\n\n<p>So it actually seems like the runtime here would be O(c<sup>k</sup> k<sup>2</sup>) rather than O(k c<sup>k</sup>), since the cost of building all those strings adds up rather quickly.</p>\n\n<p>However, that's not a tight bound. For example, some of the work done to form the string <code>aaa</code> is also used to form the string <code>aab</code>, since both strings are formed by starting with <code>aa</code> and concatenating another character in.</p>\n\n<p>To get a better analysis, we can sum up the total work done performing concatenations at each level in the tree. The zeroth level of the tree has a single string of size 0, so no concatenations are done. The first level of the tree has c strings of size 1, requiring c work to do to the concatenations. The second level of the tree has c<sup>2</sup> strings of size 2, requiring 2c<sup>2</sup> work to form. The third level of the three has c<sup>3</sup> strings of size 3, requiring 3c<sup>3</sup> work to form. More generally, level i requires ic<sup>i</sup> work to form. This means we want to determine</p>\n\n<blockquote>\n  <p>0c<sup>0</sup> + 1c<sup>1</sup> + 2c<sup>2</sup> + ... + kc<sup>k</sup>.</p>\n</blockquote>\n\n<p>This summation works out to &Theta;(kc<sup>k</sup>), with a lower exponent of the k term.</p>\n\n<p>To summarize:</p>\n\n<ul>\n<li>The c<sup>k</sup> term comes from the number of strings that needed to be checked.</li>\n<li>The k term comes from from the work done per string.</li>\n<li>A careful analysis shows that the time to generate all these strings does not affect the overall runtime of O(k c<sup>k</sup>).</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":1,"creation_date":1506174782,"post_id":46380161,"comment_id":79718995,"body_markdown":"The cost of generating each string doesn’t get multiplied with the cost of processing each string, but rather added in.","body":"The cost of generating each string doesn’t get multiplied with the cost of processing each string, but rather added in."}],"tags":[],"owner":{"account_id":9495292,"reputation":1,"user_id":8660956,"display_name":"IHideKeys"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506173821,"creation_date":1506173821,"answer_id":46380161,"question_id":44145982,"body_markdown":"I don’t think they accounted for the k^2 in the book because the code isn’t written in Java in the actual book. So it is safe to assume that string concatenation is O(1). Also, the answer explanation in the book is not the best. It only takes O(k) time to generate each string but there are O(c^k) possible strings. And it takes O(k) to verify the result so it should be O(k^2 c^k) not O(kc^k) (with an O(1) string concatenation time). However, that you should discuss with your interviewer, just ask if prints, concatenation, etc. take O(1) time or longer.\r\n\r\n","title":"Why is the time complexity of this example from &quot;Cracking the Coding Interview&quot; O(k c^k)?","body":"<p>I don’t think they accounted for the k^2 in the book because the code isn’t written in Java in the actual book. So it is safe to assume that string concatenation is O(1). Also, the answer explanation in the book is not the best. It only takes O(k) time to generate each string but there are O(c^k) possible strings. And it takes O(k) to verify the result so it should be O(k^2 c^k) not O(kc^k) (with an O(1) string concatenation time). However, that you should discuss with your interviewer, just ask if prints, concatenation, etc. take O(1) time or longer.</p>\n"},{"comments":[{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1506272404,"post_id":46381764,"comment_id":79742257,"body_markdown":"Excellent analysis. I&#39;m going to revise my answer.","body":"Excellent analysis. I&#39;m going to revise my answer."}],"tags":[],"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506188517,"creation_date":1506183782,"answer_id":46381764,"question_id":44145982,"body_markdown":"The recursive calls to `printSortedStrings` form a recursion tree. Because the total number of nodes is about a constant factor of the number of nodes at the lowest level, and the upper levels don&#39;t do more work than the lowest level, then only the cost of the lowest level is significant.\r\n\r\nTake for example, `c` being 2, and `k` being 3:\r\n\r\nLooking at the first level of the tree this produces:\r\n\r\n`2` (or `2^1`) strings, `&quot;a&quot;`, `&quot;b&quot;`.\r\n\r\nThe second level produces:\r\n\r\n`4` (or `2^2`) strings, `&quot;aa&quot;`, `&quot;ab&quot;`, `&quot;ba&quot;`, `&quot;bb&quot;`.\r\n\r\nThe third level produces:\r\n\r\n`8` (or `2^3`) strings, `&quot;aaa&quot;`, `&quot;aab&quot;`, `&quot;aba&quot;`, `&quot;abb&quot;`, `&quot;baa&quot;`, `&quot;bab&quot;`, `&quot;bba&quot;`, `&quot;bbb&quot;`.\r\n\r\nThe cost to produce the next string in sequence is linear. The characters from the old string plus the new character are copied into the new string.\r\n\r\nThis depends on the length of the string, so for the first level the cost is 1, the second level cost is 2, and the third level cost is 3. Multiply by the number of items at each level:\r\n\r\n    (2^1)*1 + (2^2)*2 + (2^3)*3 = 34\r\n\r\nThis pattern would continue if `k` was `4`, then it would be:\r\n\r\n    (2^1)*1 + (2^2)*2 + (2^3)*3 + (2^4)*4 = 98\r\n\r\nThis thing about sums like this is that the last term is greater than all the previous ones combined. So only the last term is significant:\r\n\r\n    (2^1)*1 + (2^2)*2 + (2^3)*3 &lt; (2^4)*4\r\n\r\nBecause:\r\n\r\n    (2^1)*1 + (2^2)*2 + (2^3)*3\r\n    &lt; (2^1)*3 + (2^2)*3 + (2^3)*3\r\n    = (2^1 + 2^2 + 2^3) * 3\r\n    = (2^4 - 2) * 3\r\n    &lt; (2^4 - 2) * 4\r\n    &lt; (2^4) * 4\r\n\r\nSo the whole sum is less than `2*(2^4)*4`, or `2*(c^k)*k`, or `O(k c^k)`.\r\n\r\nAt the end of the recursion, there is more linear time work. There are `c^k` nodes with `k` work giving another `O(k c^k)` cost. So the total cost is still `O(k c^k)`.\r\n\r\n*One other thing is that the for-loop takes linear time per string as well, but this works out to a total of `O(k c^k)`, for similar reasons as above.*","title":"Why is the time complexity of this example from &quot;Cracking the Coding Interview&quot; O(k c^k)?","body":"<p>The recursive calls to <code>printSortedStrings</code> form a recursion tree. Because the total number of nodes is about a constant factor of the number of nodes at the lowest level, and the upper levels don't do more work than the lowest level, then only the cost of the lowest level is significant.</p>\n\n<p>Take for example, <code>c</code> being 2, and <code>k</code> being 3:</p>\n\n<p>Looking at the first level of the tree this produces:</p>\n\n<p><code>2</code> (or <code>2^1</code>) strings, <code>\"a\"</code>, <code>\"b\"</code>.</p>\n\n<p>The second level produces:</p>\n\n<p><code>4</code> (or <code>2^2</code>) strings, <code>\"aa\"</code>, <code>\"ab\"</code>, <code>\"ba\"</code>, <code>\"bb\"</code>.</p>\n\n<p>The third level produces:</p>\n\n<p><code>8</code> (or <code>2^3</code>) strings, <code>\"aaa\"</code>, <code>\"aab\"</code>, <code>\"aba\"</code>, <code>\"abb\"</code>, <code>\"baa\"</code>, <code>\"bab\"</code>, <code>\"bba\"</code>, <code>\"bbb\"</code>.</p>\n\n<p>The cost to produce the next string in sequence is linear. The characters from the old string plus the new character are copied into the new string.</p>\n\n<p>This depends on the length of the string, so for the first level the cost is 1, the second level cost is 2, and the third level cost is 3. Multiply by the number of items at each level:</p>\n\n<pre><code>(2^1)*1 + (2^2)*2 + (2^3)*3 = 34\n</code></pre>\n\n<p>This pattern would continue if <code>k</code> was <code>4</code>, then it would be:</p>\n\n<pre><code>(2^1)*1 + (2^2)*2 + (2^3)*3 + (2^4)*4 = 98\n</code></pre>\n\n<p>This thing about sums like this is that the last term is greater than all the previous ones combined. So only the last term is significant:</p>\n\n<pre><code>(2^1)*1 + (2^2)*2 + (2^3)*3 &lt; (2^4)*4\n</code></pre>\n\n<p>Because:</p>\n\n<pre><code>(2^1)*1 + (2^2)*2 + (2^3)*3\n&lt; (2^1)*3 + (2^2)*3 + (2^3)*3\n= (2^1 + 2^2 + 2^3) * 3\n= (2^4 - 2) * 3\n&lt; (2^4 - 2) * 4\n&lt; (2^4) * 4\n</code></pre>\n\n<p>So the whole sum is less than <code>2*(2^4)*4</code>, or <code>2*(c^k)*k</code>, or <code>O(k c^k)</code>.</p>\n\n<p>At the end of the recursion, there is more linear time work. There are <code>c^k</code> nodes with <code>k</code> work giving another <code>O(k c^k)</code> cost. So the total cost is still <code>O(k c^k)</code>.</p>\n\n<p><em>One other thing is that the for-loop takes linear time per string as well, but this works out to a total of <code>O(k c^k)</code>, for similar reasons as above.</em></p>\n"},{"tags":[],"owner":{"account_id":6830018,"reputation":93,"user_id":5254413,"accept_rate":60,"display_name":"Mohammed Salman Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696677454,"creation_date":1696677454,"answer_id":77249527,"question_id":44145982,"body_markdown":"I would like to add something on top of @templatetypedef&#39;s answer.\r\nThe first part of time taken to generate all things is already explained as \r\n\r\n&gt; c^k\r\n\r\n.\r\nFor the second part, the author doesn&#39;t consider the time taken for concatenation in java and assumes it as constant time.\r\n As per the author&#39;s explaination, after each string is generated, the `isInOrder()` function is called for each string which takes **k** amount of time i.e. length of the string.\r\nAs there are **c^k** strings, the total no of comparisons will be\r\nk + k + k .... c^k times i.e. `k * c^k times`.\r\nNow, \r\n\r\n&gt; total time taken = time taken to generate all strings + total\r\n&gt; comparisions\r\n\r\ni.e. `c^k + (k * c^k)`\r\nSince we ignore the smaller term, the time complexity will be simply `kc^k`","title":"Why is the time complexity of this example from &quot;Cracking the Coding Interview&quot; O(k c^k)?","body":"<p>I would like to add something on top of @templatetypedef's answer.\nThe first part of time taken to generate all things is already explained as</p>\n<blockquote>\n<p>c^k</p>\n</blockquote>\n<p>.\nFor the second part, the author doesn't consider the time taken for concatenation in java and assumes it as constant time.\nAs per the author's explaination, after each string is generated, the <code>isInOrder()</code> function is called for each string which takes <strong>k</strong> amount of time i.e. length of the string.\nAs there are <strong>c^k</strong> strings, the total no of comparisons will be\nk + k + k .... c^k times i.e. <code>k * c^k times</code>.\nNow,</p>\n<blockquote>\n<p>total time taken = time taken to generate all strings + total\ncomparisions</p>\n</blockquote>\n<p>i.e. <code>c^k + (k * c^k)</code>\nSince we ignore the smaller term, the time complexity will be simply <code>kc^k</code></p>\n"}],"owner":{"account_id":7675673,"reputation":423,"user_id":5816638,"accept_rate":25,"display_name":"MrBuggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2486,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":45358954,"answer_count":4,"score":11,"last_activity_date":1696677454,"creation_date":1495578044,"question_id":44145982,"body_markdown":"This question is from Cracking the Coding Interview 6th Edition, Question V1.11. \r\n\r\n&gt; The following code prints all strings of length k where the characters\r\n&gt; are in sorted order. It does this by generating all strings of length\r\n&gt; k and then checking if each is sorted. What is the runtime?\r\n\r\n    package QVI_11_Print_Sorted_Strings;\r\n    \r\n    \r\n    public class Question {\r\n    \r\n    \tpublic static int numChars = 26;\r\n    \t\r\n    \tpublic static void printSortedStrings(int remaining) {\r\n    \t\tprintSortedStrings(remaining, &quot;&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic static void printSortedStrings(int remaining, String prefix) {\r\n    \t\tif (remaining == 0) {\r\n    \t\t\tif (isInOrder(prefix)) {\r\n    \t\t\t\tSystem.out.println(prefix);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tfor (int i = 0; i &lt; numChars; i++) {\r\n    \t\t\t\tchar c = ithLetter(i);\r\n    \t\t\t\tprintSortedStrings(remaining - 1, prefix + c);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static boolean isInOrder(String s) {\r\n    \t\tfor (int i = 1; i &lt; s.length(); i++) {\r\n    \t\t\tint prev = ithLetter(s.charAt(i - 1));\r\n    \t\t\tint curr = ithLetter(s.charAt(i));\r\n    \t\t\tif (prev &gt; curr) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    \tpublic static char ithLetter(int i) {\r\n    \t\treturn (char) (((int) &#39;a&#39;) + i);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tprintSortedStrings(5);\r\n    \t}\r\n    \r\n    }\r\n\r\n&gt; The answer is O(k c^k) where k is the length of the string and c is\r\n&gt; the number of characters in the alphabet. It takes O(c^k) time to\r\n&gt; generate each string. Then, we need to check that each of these is\r\n&gt; sorted, which takes O(k) time.\r\n\r\nNow, I understand where O(k) comes from but I don&#39;t see how O(c^k) came about. \r\n","title":"Why is the time complexity of this example from &quot;Cracking the Coding Interview&quot; O(k c^k)?","body":"<p>This question is from Cracking the Coding Interview 6th Edition, Question V1.11. </p>\n\n<blockquote>\n  <p>The following code prints all strings of length k where the characters\n  are in sorted order. It does this by generating all strings of length\n  k and then checking if each is sorted. What is the runtime?</p>\n</blockquote>\n\n<pre><code>package QVI_11_Print_Sorted_Strings;\n\n\npublic class Question {\n\n    public static int numChars = 26;\n\n    public static void printSortedStrings(int remaining) {\n        printSortedStrings(remaining, \"\");\n    }\n\n    public static void printSortedStrings(int remaining, String prefix) {\n        if (remaining == 0) {\n            if (isInOrder(prefix)) {\n                System.out.println(prefix);\n            }\n        } else {\n            for (int i = 0; i &lt; numChars; i++) {\n                char c = ithLetter(i);\n                printSortedStrings(remaining - 1, prefix + c);\n            }\n        }\n    }\n\n    public static boolean isInOrder(String s) {\n        for (int i = 1; i &lt; s.length(); i++) {\n            int prev = ithLetter(s.charAt(i - 1));\n            int curr = ithLetter(s.charAt(i));\n            if (prev &gt; curr) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public static char ithLetter(int i) {\n        return (char) (((int) 'a') + i);\n    }\n\n    public static void main(String[] args) {\n        printSortedStrings(5);\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>The answer is O(k c^k) where k is the length of the string and c is\n  the number of characters in the alphabet. It takes O(c^k) time to\n  generate each string. Then, we need to check that each of these is\n  sorted, which takes O(k) time.</p>\n</blockquote>\n\n<p>Now, I understand where O(k) comes from but I don't see how O(c^k) came about. </p>\n"},{"tags":["java","maven","mockito","powermock"],"comments":[{"owner":{"account_id":293375,"reputation":882,"user_id":596634,"accept_rate":17,"display_name":"Deepan Prabhu Babu"},"score":0,"creation_date":1547173065,"post_id":18645465,"comment_id":95110516,"body_markdown":"this is indeed a great question because, for a person whose using powermock for the first time, the jars though conveniently separated is not easy to just add onto using maven. I have to know which jar to begin with !","body":"this is indeed a great question because, for a person whose using powermock for the first time, the jars though conveniently separated is not easy to just add onto using maven. I have to know which jar to begin with !"}],"answers":[{"comments":[{"owner":{"account_id":2563406,"reputation":5417,"user_id":2267717,"accept_rate":59,"display_name":"user86834"},"score":1,"creation_date":1378414618,"post_id":18645569,"comment_id":27454444,"body_markdown":"I&#39;ve added the powermock-module-juint4 jar to the classpath but still seeing the same issue: &gt;&gt;&gt; Multiple markers at this line\n\t- Syntax error, insert &quot;enum Identifier&quot; to complete \n\t EnumHeaderName\n\t- Syntax error, insert &quot;EnumBody&quot; to complete EnumDeclaration\n\t- PrepareForTest cannot be resolved to a type\n\t- The attribute value is undefined for the annotation type \n\t PrepareForTest","body":"I&#39;ve added the powermock-module-juint4 jar to the classpath but still seeing the same issue: &gt;&gt;&gt; Multiple markers at this line \t- Syntax error, insert &quot;enum Identifier&quot; to complete  \t EnumHeaderName \t- Syntax error, insert &quot;EnumBody&quot; to complete EnumDeclaration \t- PrepareForTest cannot be resolved to a type \t- The attribute value is undefined for the annotation type  \t PrepareForTest"},{"owner":{"account_id":71653,"reputation":4571,"user_id":207238,"accept_rate":88,"display_name":"Matt Lachman"},"score":0,"creation_date":1378475983,"post_id":18645569,"comment_id":27477980,"body_markdown":"Jeff&#39;s answer is correct; can you post the specific code throwing the exception?","body":"Jeff&#39;s answer is correct; can you post the specific code throwing the exception?"},{"owner":{"account_id":2563406,"reputation":5417,"user_id":2267717,"accept_rate":59,"display_name":"user86834"},"score":1,"creation_date":1378576531,"post_id":18645569,"comment_id":27507562,"body_markdown":"Are you sure that no other dependencies are needed? There is no code throwing exceptions. When I add `@PrepareForTest` to my test class, Eclipse complains that it can&#39;t find `@PrepareForTest`. I have looked through the source of `powermock-module-junit4` and `powermock-api-mockito` and I cannot see the `@PrepareForTest` annotation. Can you tell me what jar contains @PrepareForTest in version 1.4.11?","body":"Are you sure that no other dependencies are needed? There is no code throwing exceptions. When I add <code>@PrepareForTest</code> to my test class, Eclipse complains that it can&#39;t find <code>@PrepareForTest</code>. I have looked through the source of <code>powermock-module-junit4</code> and <code>powermock-api-mockito</code> and I cannot see the <code>@PrepareForTest</code> annotation. Can you tell me what jar contains @PrepareForTest in version 1.4.11?"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1378579812,"post_id":18645569,"comment_id":27508513,"body_markdown":"@user [`powermock-core` contains `@PrepareForTest`](https://code.google.com/p/powermock/source/browse/trunk/core/src/main/java/org/powermock/core/classloader/annotations/PrepareForTest.java). However, since you can chase the same transitive dependencies from `powermock-api-mockito` in your question, it looks like maybe you set up Eclipse in such a way that transitive Maven dependencies aren&#39;t being pulled in. We&#39;d need to know a little more about your Eclipse setup before figuring out that part, though.","body":"@user <a href=\"https://code.google.com/p/powermock/source/browse/trunk/core/src/main/java/org/powermock/core/classloader/annotations/PrepareForTest.java\" rel=\"nofollow noreferrer\"><code>powermock-core</code> contains <code>@PrepareForTest</code></a>. However, since you can chase the same transitive dependencies from <code>powermock-api-mockito</code> in your question, it looks like maybe you set up Eclipse in such a way that transitive Maven dependencies aren&#39;t being pulled in. We&#39;d need to know a little more about your Eclipse setup before figuring out that part, though."},{"owner":{"account_id":2563406,"reputation":5417,"user_id":2267717,"accept_rate":59,"display_name":"user86834"},"score":0,"creation_date":1378582345,"post_id":18645569,"comment_id":27509258,"body_markdown":"Thanks Jeff, I have a medium sized project using 50+ other referenced libraries, with no dependency issues. Strange that PowerMock is behaving differently.","body":"Thanks Jeff, I have a medium sized project using 50+ other referenced libraries, with no dependency issues. Strange that PowerMock is behaving differently."},{"owner":{"account_id":71653,"reputation":4571,"user_id":207238,"accept_rate":88,"display_name":"Matt Lachman"},"score":2,"creation_date":1381321596,"post_id":18645569,"comment_id":28532361,"body_markdown":"Jeff&#39;s answer is still correct based on the information we have. Were you ever able to get past this issue?","body":"Jeff&#39;s answer is still correct based on the information we have. Were you ever able to get past this issue?"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1495462303,"post_id":18645569,"comment_id":75249461,"body_markdown":"Can you please explain why you reject my edit? I update version to the newest and also correct link to documentation... If you don&#39;t like other changes, please enter at least these two...","body":"Can you please explain why you reject my edit? I update version to the newest and also correct link to documentation... If you don&#39;t like other changes, please enter at least these two..."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1495465418,"post_id":18645569,"comment_id":75251805,"body_markdown":"@Line Those two were fine, but the text edits were too far for me--punctuation was incorrect and TestNG details made the answer harder to follow--and I had no &quot;improve&quot; or &quot;partially accept&quot; buttton, just &quot;reject&quot;. Though your edit had other approvers, there was at least one other reviewer who rejected for the same reason, and your edit log likely shows that full text reason. [Please be mindful when your edits change a post&#39;s meaning.](https://meta.stackexchange.com/q/11474/201031)","body":"@Line Those two were fine, but the text edits were too far for me--punctuation was incorrect and TestNG details made the answer harder to follow--and I had no &quot;improve&quot; or &quot;partially accept&quot; buttton, just &quot;reject&quot;. Though your edit had other approvers, there was at least one other reviewer who rejected for the same reason, and your edit log likely shows that full text reason. <a href=\"https://meta.stackexchange.com/q/11474/201031\">Please be mindful when your edits change a post&#39;s meaning.</a>"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1495465560,"post_id":18645569,"comment_id":75251912,"body_markdown":"Thanks for the explanation. Pity that you didn&#39;t have this button. Author didn&#39;t mention jUnit, so your answer may be applicable (and in fact it was), but didn&#39;t had to...\nBesides - &quot;You edit to make things better, clearer, more effective -- never to change meaning.&quot; - I don&#39;t feel like change the meaning. But ok, I respect your opinion.","body":"Thanks for the explanation. Pity that you didn&#39;t have this button. Author didn&#39;t mention jUnit, so your answer may be applicable (and in fact it was), but didn&#39;t had to... Besides - &quot;You edit to make things better, clearer, more effective -- never to change meaning.&quot; - I don&#39;t feel like change the meaning. But ok, I respect your opinion."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1495466803,"post_id":18645569,"comment_id":75252715,"body_markdown":"@Line I appreciate your understanding--even when not disagreeing with my answer, your change _broadens_ it in a way I wasn&#39;t wholly comfortable with (as you had it). Edits are held to a high standard on SO/SE, in part because the original author&#39;s name stays on it, so you&#39;re speaking for me here. A comment--or separate answer--may be a good way to proceed in the future.","body":"@Line I appreciate your understanding--even when not disagreeing with my answer, your change <i>broadens</i> it in a way I wasn&#39;t wholly comfortable with (as you had it). Edits are held to a high standard on SO/SE, in part because the original author&#39;s name stays on it, so you&#39;re speaking for me here. A comment--or separate answer--may be a good way to proceed in the future."}],"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":10,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1696677311,"creation_date":1378413699,"answer_id":18645569,"question_id":18645465,"body_markdown":"According to the [Mockito 2 Maven][] page on the PowerMock wiki, use this:\r\n\r\n    &lt;properties&gt;\r\n        &lt;powermock.version&gt;2.0.9&lt;/powermock.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n          &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n          &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n          &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n          &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nBe sure to check [the latest version number from GitHub&#39;s releases tab][releases] and check the [Maven section of the Getting Started wiki page][getting started] if you need EasyMock, TestNG, or Mockito 1.x (with a 1.x version of PowerMock).\r\n\r\n`powermock-api-support` seems to be &quot;[utility classes only][mvn]&quot;, where you still need the core libraries provided in `powermock-module-junit4`.\r\n\r\n[Mockito 2 Maven]: https://github.com/powermock/powermock/wiki/Mockito-2-Maven\r\n\r\n[releases]: https://github.com/powermock/powermock/releases\r\n\r\n[getting started]: https://github.com/powermock/powermock/wiki/Getting-Started#maven-setup\r\n\r\n[mvn]: http://mvnrepository.com/artifact/org.powermock/powermock-api-support","title":"Which Maven artifacts should I use to import PowerMock?","body":"<p>According to the <a href=\"https://github.com/powermock/powermock/wiki/Mockito-2-Maven\" rel=\"nofollow noreferrer\">Mockito 2 Maven</a> page on the PowerMock wiki, use this:</p>\n<pre><code>&lt;properties&gt;\n    &lt;powermock.version&gt;2.0.9&lt;/powermock.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n      &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n      &lt;version&gt;${powermock.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n      &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n      &lt;version&gt;${powermock.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Be sure to check <a href=\"https://github.com/powermock/powermock/releases\" rel=\"nofollow noreferrer\">the latest version number from GitHub's releases tab</a> and check the <a href=\"https://github.com/powermock/powermock/wiki/Getting-Started#maven-setup\" rel=\"nofollow noreferrer\">Maven section of the Getting Started wiki page</a> if you need EasyMock, TestNG, or Mockito 1.x (with a 1.x version of PowerMock).</p>\n<p><code>powermock-api-support</code> seems to be &quot;<a href=\"http://mvnrepository.com/artifact/org.powermock/powermock-api-support\" rel=\"nofollow noreferrer\">utility classes only</a>&quot;, where you still need the core libraries provided in <code>powermock-module-junit4</code>.</p>\n"},{"comments":[{"owner":{"account_id":3549742,"reputation":4749,"user_id":2964890,"accept_rate":72,"display_name":"javaPlease42"},"score":0,"creation_date":1384300564,"post_id":19938525,"comment_id":29679698,"body_markdown":"A good IDE would yell at you for this syntax mistake. If you add a semi-colon(;) after the annotation Eclipse complains `Multiple markers at this line\n\t- Syntax error, insert &quot;enum Identifier&quot; to complete EnumHeaderName\n\t- Syntax error, insert &quot;EnumBody&quot; to complete EnumDeclaration`\n@l3k","body":"A good IDE would yell at you for this syntax mistake. If you add a semi-colon(;) after the annotation Eclipse complains <code>Multiple markers at this line \t- Syntax error, insert &quot;enum Identifier&quot; to complete EnumHeaderName \t- Syntax error, insert &quot;EnumBody&quot; to complete EnumDeclaration</code> @l3k"}],"tags":[],"owner":{"account_id":1230282,"reputation":47,"user_id":1195029,"display_name":"l3k"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384285688,"creation_date":1384285688,"answer_id":19938525,"question_id":18645465,"body_markdown":"You are writting: \r\n\r\n        @PrepareForTest(Class.class);\r\n\r\nInstead of: \r\n\r\n        @PrepareForTest(Class.class)\r\n\r\nI had exactly the same issue and solved it that way.","title":"Which Maven artifacts should I use to import PowerMock?","body":"<p>You are writting: </p>\n\n<pre><code>    @PrepareForTest(Class.class);\n</code></pre>\n\n<p>Instead of: </p>\n\n<pre><code>    @PrepareForTest(Class.class)\n</code></pre>\n\n<p>I had exactly the same issue and solved it that way.</p>\n"},{"tags":[],"owner":{"account_id":3549742,"reputation":4749,"user_id":2964890,"accept_rate":72,"display_name":"javaPlease42"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384300458,"creation_date":1384300458,"answer_id":19942473,"question_id":18645465,"body_markdown":"Make sure you have this import:\r\n\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n\r\nThis jar has it:\r\n\r\n - [powermock-mockito-1.5.1-full.jar](https://code.google.com/p/powermock/downloads/list)","title":"Which Maven artifacts should I use to import PowerMock?","body":"<p>Make sure you have this import:</p>\n\n<pre><code>import org.powermock.core.classloader.annotations.PrepareForTest;\n</code></pre>\n\n<p>This jar has it:</p>\n\n<ul>\n<li><a href=\"https://code.google.com/p/powermock/downloads/list\" rel=\"nofollow\">powermock-mockito-1.5.1-full.jar</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13843040,"reputation":1,"user_id":9992813,"display_name":"Jai Krishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532951370,"creation_date":1532951370,"answer_id":51593326,"question_id":18645465,"body_markdown":"Download the Mockito dependency zip file apart from your **powermock-module-junit4** &amp; **powermock-api-mockito dependecies**. Add that jars directly in your project it should work and configure your pom accordingly.\r\n\r\n[Power Mockito dependencies - All Jars][1]\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock/wiki/Getting-Started#mockito","title":"Which Maven artifacts should I use to import PowerMock?","body":"<p>Download the Mockito dependency zip file apart from your <strong>powermock-module-junit4</strong> &amp; <strong>powermock-api-mockito dependecies</strong>. Add that jars directly in your project it should work and configure your pom accordingly.</p>\n\n<p><a href=\"https://github.com/powermock/powermock/wiki/Getting-Started#mockito\" rel=\"nofollow noreferrer\">Power Mockito dependencies - All Jars</a></p>\n"}],"owner":{"account_id":2563406,"reputation":5417,"user_id":2267717,"accept_rate":59,"display_name":"user86834"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92751,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":4,"score":29,"last_activity_date":1696677311,"creation_date":1378413310,"question_id":18645465,"body_markdown":"What jars do I need to add to my `pom.xml` to get PowerMock working with Mockito? I have the following dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n  \t    &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n  \t    &lt;version&gt;1.4.11&lt;/version&gt;\r\n  \t    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.4.11&lt;/version&gt;\r\n\t    &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n\r\nbut when I add the `@PrepareForTest` annotation at class level, Eclipse cannot find it, but it can find `PowerMockito`. What jar am I missing?","title":"Which Maven artifacts should I use to import PowerMock?","body":"<p>What jars do I need to add to my <code>pom.xml</code> to get PowerMock working with Mockito? I have the following dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.9.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n    &lt;version&gt;1.4.11&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\n    &lt;version&gt;1.4.11&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>but when I add the <code>@PrepareForTest</code> annotation at class level, Eclipse cannot find it, but it can find <code>PowerMockito</code>. What jar am I missing?</p>\n"},{"tags":["java","search","artificial-intelligence","graph-algorithm","sliding-tile-puzzle"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1345299609,"post_id":12019238,"comment_id":16037668,"body_markdown":"Probably this: http://en.wikipedia.org/wiki/IDA* ? It is A* and Depth-limited search - you don&#39;t need to store the states that you have visited.","body":"Probably this: <a href=\"http://en.wikipedia.org/wiki/IDA\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/IDA</a>* ? It is A* and Depth-limited search - you don&#39;t need to store the states that you have visited."},{"owner":{"account_id":477079,"reputation":9686,"user_id":888350,"accept_rate":66,"display_name":"tgoossens"},"score":0,"creation_date":1345299615,"post_id":12019238,"comment_id":16037674,"body_markdown":"one thing to say : tl;dr","body":"one thing to say : tl;dr"},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1345299923,"post_id":12019238,"comment_id":16037729,"body_markdown":"@nhahtdh I know IDA*, but I have to use A* (it&#39;s for an university assignment). About the storage: at first I need to store them all to create the graph, and here is when I run out of memory. I cannot even run A*!","body":"@nhahtdh I know IDA*, but I have to use A* (it&#39;s for an university assignment). About the storage: at first I need to store them all to create the graph, and here is when I run out of memory. I cannot even run A*!"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1345300134,"post_id":12019238,"comment_id":16037779,"body_markdown":"@Simon: Not sure, but 9! (actually half of this) is only ~360k. You need to find out a scheme to store the states efficiently (as close as 360k, or if possible 180k). 15 (or 16) puzzle problem (4x4) cannot be solved with pure A*.","body":"@Simon: Not sure, but 9! (actually half of this) is only ~360k. You need to find out a scheme to store the states efficiently (as close as 360k, or if possible 180k). 15 (or 16) puzzle problem (4x4) cannot be solved with pure A*."},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1345306000,"post_id":12019238,"comment_id":16039067,"body_markdown":"@nhahtdh Are you sure? I looked on Google and it seems that it&#39;s possible. Also the assigment I have to do clearly says &quot;implement A* to solve it&quot;.\nAbout the storage, I think my representation is really simple and efficent. Maybe there is something wrong, but I don&#39;t think so (with a 2x2 board it works). I&#39;ll post the code as soon as I can.","body":"@nhahtdh Are you sure? I looked on Google and it seems that it&#39;s possible. Also the assigment I have to do clearly says &quot;implement A* to solve it&quot;. About the storage, I think my representation is really simple and efficent. Maybe there is something wrong, but I don&#39;t think so (with a 2x2 board it works). I&#39;ll post the code as soon as I can."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1345306519,"post_id":12019238,"comment_id":16039202,"body_markdown":"@Simon: 15/16 puzzle has 16!, which is ~2e13 states. You may not have to keep track of all of them, but I&#39;m not sure whether you will run out of memory when keeping track of the states.","body":"@Simon: 15/16 puzzle has 16!, which is ~2e13 states. You may not have to keep track of all of them, but I&#39;m not sure whether you will run out of memory when keeping track of the states."},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1345308894,"post_id":12019238,"comment_id":16039745,"body_markdown":"@nhahtdh I&#39;m sure that (by now) I run out of memory because of the number of states. I tried only to create the graph, without solving it, and I can&#39;t. About the algorithm: how can I do without tracking the states? How do I know that I&#39;m not going back to a previous state? I added the code, please take a look.","body":"@nhahtdh I&#39;m sure that (by now) I run out of memory because of the number of states. I tried only to create the graph, without solving it, and I can&#39;t. About the algorithm: how can I do without tracking the states? How do I know that I&#39;m not going back to a previous state? I added the code, please take a look."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1345309626,"post_id":12019238,"comment_id":16039917,"body_markdown":"@Simon: If you don&#39;t want to track state, you can look at IDA* (which only has 1 state at a time). If you want to use A*, you need to convert the board state into corresponding permutation number (not sure about the terminology here, but basically if you generate all permutation, then this is the order in which it will be generated), and use a boolean array to keep track whether the permutation has been visited before or not. (This won&#39;t help for 16-puzzle, though).","body":"@Simon: If you don&#39;t want to track state, you can look at IDA* (which only has 1 state at a time). If you want to use A*, you need to convert the board state into corresponding permutation number (not sure about the terminology here, but basically if you generate all permutation, then this is the order in which it will be generated), and use a boolean array to keep track whether the permutation has been visited before or not. (This won&#39;t help for 16-puzzle, though)."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1345310550,"post_id":12019238,"comment_id":16040128,"body_markdown":"For 3x3 case, another option is to store first 8 tiles as nibble (by using bit wise operations), and you will end up with an `int` type, which can be put into a Set.","body":"For 3x3 case, another option is to store first 8 tiles as nibble (by using bit wise operations), and you will end up with an <code>int</code> type, which can be put into a Set."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1345311560,"post_id":12019238,"comment_id":16040375,"body_markdown":"The point of A* is exactly to find a heuristic that can give an admissible estimate on the distance of two nodes without knowing anything about the other nodes.","body":"The point of A* is exactly to find a heuristic that can give an admissible estimate on the distance of two nodes without knowing anything about the other nodes."},{"owner":{"account_id":1100158,"reputation":4717,"user_id":1092746,"accept_rate":58,"display_name":"Novak"},"score":0,"creation_date":1345311947,"post_id":12019238,"comment_id":16040449,"body_markdown":"You should retag this as homework.","body":"You should retag this as homework."},{"owner":{"account_id":1100158,"reputation":4717,"user_id":1092746,"accept_rate":58,"display_name":"Novak"},"score":0,"creation_date":1345313126,"post_id":12019238,"comment_id":16040725,"body_markdown":"How *exactly* is your heuristic defined?","body":"How <i>exactly</i> is your heuristic defined?"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1345354402,"post_id":12019238,"comment_id":16046882,"body_markdown":"@Simon: IDA* can solve 4x4 under 1 minute (in C/C++ - Java should be a bit longer, but if coded efficiently should be around that figure). I can be sure, since there is an exact problem on UVa that has time limit of 15 seconds, IIRC.","body":"@Simon: IDA* can solve 4x4 under 1 minute (in C/C++ - Java should be a bit longer, but if coded efficiently should be around that figure). I can be sure, since there is an exact problem on UVa that has time limit of 15 seconds, IIRC."},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1345387187,"post_id":12019238,"comment_id":16051575,"body_markdown":"@nhahtdh I just tried to implement IDA*, but it didn&#39;t improved. As I&#39;ve seen, my problem now is that I store all visited states and keeping them sorted is really expansive (in time). IDA* doesn&#39;t help me for this, because it is just A* but the tree is little by little deeper. But it still keeps track of all visited states. Maybe I&#39;m wrong, but I&#39;ve found some implementation on the internet working in this way. What should I do to solve my problem (time complexity)?","body":"@nhahtdh I just tried to implement IDA*, but it didn&#39;t improved. As I&#39;ve seen, my problem now is that I store all visited states and keeping them sorted is really expansive (in time). IDA* doesn&#39;t help me for this, because it is just A* but the tree is little by little deeper. But it still keeps track of all visited states. Maybe I&#39;m wrong, but I&#39;ve found some implementation on the internet working in this way. What should I do to solve my problem (time complexity)?"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1345390146,"post_id":12019238,"comment_id":16052157,"body_markdown":"@Simon: Just keep searching. Do not store visited state - that is what IDA* is about.","body":"@Simon: Just keep searching. Do not store visited state - that is what IDA* is about."},{"owner":{"account_id":1100158,"reputation":4717,"user_id":1092746,"accept_rate":58,"display_name":"Novak"},"score":0,"creation_date":1345390450,"post_id":12019238,"comment_id":16052209,"body_markdown":"If your puzzle is one move away from completion, what values do your heuristics return.  What values should they return.  Are they admissible?  Think carefully about that.","body":"If your puzzle is one move away from completion, what values do your heuristics return.  What values should they return.  Are they admissible?  Think carefully about that."},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1345445323,"post_id":12019238,"comment_id":16061728,"body_markdown":"@nhahtdh I must keep all visited states, since I&#39;m using functions admissible but (I think) not consistent. The space is a graph and so the heuristic must be consistent, or the algorithm can loop or be not optimal. That&#39;s why I keep all visited nodes (it&#39;s also written in the book &quot;AI: A modern approach&quot;). Anyway slows is keeping the queue of nodes to be visited ordered. I tried IDA* but with few results. I created a new question about it [link](http://goo.gl/Q1mMx).","body":"@nhahtdh I must keep all visited states, since I&#39;m using functions admissible but (I think) not consistent. The space is a graph and so the heuristic must be consistent, or the algorithm can loop or be not optimal. That&#39;s why I keep all visited nodes (it&#39;s also written in the book &quot;AI: A modern approach&quot;). Anyway slows is keeping the queue of nodes to be visited ordered. I tried IDA* but with few results. I created a new question about it <a href=\"http://goo.gl/Q1mMx\" rel=\"nofollow noreferrer\">link</a>."},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1345445353,"post_id":12019238,"comment_id":16061738,"body_markdown":"@Novak My heuristics are all admissible (Manhattan, Hamming, Gaschnig distance, Manhattan distance adjusted with linear conflicts, and so on...).","body":"@Novak My heuristics are all admissible (Manhattan, Hamming, Gaschnig distance, Manhattan distance adjusted with linear conflicts, and so on...)."},{"owner":{"account_id":1100158,"reputation":4717,"user_id":1092746,"accept_rate":58,"display_name":"Novak"},"score":0,"creation_date":1345482310,"post_id":12019238,"comment_id":16076014,"body_markdown":"Do the calculations, Simon.  What answers are your heuristics giving you when one tile is out of place?  What answers should they give you?","body":"Do the calculations, Simon.  What answers are your heuristics giving you when one tile is out of place?  What answers should they give you?"},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1345511241,"post_id":12019238,"comment_id":16085038,"body_markdown":"@Novak I tried them. They all work. Anyway, I fixed the code and now IDA* (with Manhattan and linear conflicts) solves every problem faster. For problems that require 45 moves it takes 10 seconds. For bigger ones (60+ moves) it takes 1 hour. I think it&#39;s reasonable.","body":"@Novak I tried them. They all work. Anyway, I fixed the code and now IDA* (with Manhattan and linear conflicts) solves every problem faster. For problems that require 45 moves it takes 10 seconds. For bigger ones (60+ moves) it takes 1 hour. I think it&#39;s reasonable."},{"owner":{"display_name":"user1636418"},"score":0,"creation_date":1346339189,"post_id":12019238,"comment_id":16338876,"body_markdown":"Are you doing AI at UQ? rofl. Because I&#39;ve got nearly the exact same base code","body":"Are you doing AI at UQ? rofl. Because I&#39;ve got nearly the exact same base code"},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1346417213,"post_id":12019238,"comment_id":16363789,"body_markdown":"@Rices Yep :D Actually I saw (only a few days ago) that all I have done (finding deeper solutions) wasn&#39;t required by the prof XD","body":"@Rices Yep :D Actually I saw (only a few days ago) that all I have done (finding deeper solutions) wasn&#39;t required by the prof XD"}],"answers":[{"comments":[{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1360317741,"post_id":14760514,"comment_id":20675749,"body_markdown":"I need to STORE all states to avoid looping. From here, my memory problem. But anyway, all solved already :)","body":"I need to STORE all states to avoid looping. From here, my memory problem. But anyway, all solved already :)"},{"owner":{"account_id":2019179,"reputation":3234,"user_id":1805756,"accept_rate":86,"display_name":"Mehraban"},"score":0,"creation_date":1360321378,"post_id":14760514,"comment_id":20677489,"body_markdown":"Not all states, just visited states.","body":"Not all states, just visited states."},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1360367238,"post_id":14760514,"comment_id":20698831,"body_markdown":"That are, as I progress creating states, all states. I do not create all states before exploring them. I create them &quot;at runtime&quot;, and as I create them, I store them.","body":"That are, as I progress creating states, all states. I do not create all states before exploring them. I create them &quot;at runtime&quot;, and as I create them, I store them."},{"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"score":0,"creation_date":1360451864,"post_id":14760514,"comment_id":20714724,"body_markdown":"The same. BFS and DFS are slow because they don&#39;t use any heuristic. A* is slow because it needs to keep visited states sorted. I solved with IDA*, that use a heuristic and does not need any sorting.","body":"The same. BFS and DFS are slow because they don&#39;t use any heuristic. A* is slow because it needs to keep visited states sorted. I solved with IDA*, that use a heuristic and does not need any sorting."}],"tags":[],"owner":{"account_id":2019179,"reputation":3234,"user_id":1805756,"accept_rate":86,"display_name":"Mehraban"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360269388,"creation_date":1360269388,"answer_id":14760514,"question_id":12019238,"body_markdown":"There is no need to generate all state space nodes for solving a problem using BFS, A* or any tree search, you just add states you can explore from current state to the fringe and that&#39;s why there is a successor function.\r\nIf BFS consumes much memory it is normal. But I don&#39;t know exactly fro what n it would make problem. Use DFS instead.\r\nFor A* you know how many moves you made to come to current state and you can estimate moves need to solve problem, simply by relaxing problem. As an example you can think that any two tiles can replace and then count moves needed to solve the problem. You heuristic just needs to be admissible ie. your estimate be less then actual moves needed to solve the problem.","title":"Solve n-puzzle in Java","body":"<p>There is no need to generate all state space nodes for solving a problem using BFS, A* or any tree search, you just add states you can explore from current state to the fringe and that's why there is a successor function.\nIf BFS consumes much memory it is normal. But I don't know exactly fro what n it would make problem. Use DFS instead.\nFor A* you know how many moves you made to come to current state and you can estimate moves need to solve problem, simply by relaxing problem. As an example you can think that any two tiles can replace and then count moves needed to solve the problem. You heuristic just needs to be admissible ie. your estimate be less then actual moves needed to solve the problem.</p>\n"},{"comments":[{"owner":{"account_id":2487044,"reputation":340,"user_id":2165295,"accept_rate":50,"display_name":"odyse"},"score":0,"creation_date":1451493482,"post_id":18670760,"comment_id":56808309,"body_markdown":"I&#39;m so sorry I don&#39;t know why this happened but I fixed it.","body":"I&#39;m so sorry I don&#39;t know why this happened but I fixed it."}],"tags":[],"owner":{"account_id":2487044,"reputation":340,"user_id":2165295,"accept_rate":50,"display_name":"odyse"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378537724,"creation_date":1378537724,"answer_id":18670760,"question_id":12019238,"body_markdown":"add a path cost to your state class and every time you go from a parent state P to another state like C do this : c.cost = P.cost + 1 this will compute the path cost for every node automatically\r\nthis is also a very good and simple implementation in C# for 8-puzzle solver with A* take a look at it you will learn many things : \r\n[http://geekbrothers.org/index.php/categories/computer/12-solve-8-puzzle-with-a][1] \r\n\r\n\r\n  [1]: http://geekbrothers.org/index.php/categories/computer/12-solve-8-puzzle-with-a","title":"Solve n-puzzle in Java","body":"<p>add a path cost to your state class and every time you go from a parent state P to another state like C do this : c.cost = P.cost + 1 this will compute the path cost for every node automatically\nthis is also a very good and simple implementation in C# for 8-puzzle solver with A* take a look at it you will learn many things : \n<a href=\"http://geekbrothers.org/index.php/categories/computer/12-solve-8-puzzle-with-a\" rel=\"nofollow\">http://geekbrothers.org/index.php/categories/computer/12-solve-8-puzzle-with-a</a> </p>\n"}],"owner":{"account_id":392704,"reputation":5158,"user_id":754136,"accept_rate":89,"display_name":"Simon"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9220,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1696676855,"creation_date":1345299052,"question_id":12019238,"body_markdown":"I&#39;m trying to implement a program to solve the [n-puzzle problem][1]. &lt;br&gt;\r\nI have written a simple implementation in Java that has a state of the problem characterized by a matrix representing the tiles. I am also able to auto-generate the graph of all the states giving the starting state. On the graph, then, I can do a BFS to find the path to the goal state.&lt;br&gt;\r\nBut the problem is that I run out of memory and I cannot even create the whole graph.\r\nI tried with a 2x2 tiles and it works. Also with some 3x3 (it depends on the starting state and how many nodes are in the graph). But in general this way is not suitable.&lt;br&gt;\r\nSo I tried generating the nodes at runtime, while searching. It works, but it is slow (sometimes after some minutes it still have not ended and I terminate the program).&lt;br&gt;\r\nBtw: I give as starting state only solvable configurations and I don&#39;t create duplicated states.&lt;br&gt;\r\nSo, I cannot create the graph. This leads to my main problem: I have to implement the A* algorithm and I need the path cost (i.e. for each node the distance from the starting state), but I think I cannot calculate it at runtime. I need the whole graph, right? Because A* does not follow a BFS exploration of the graph, so I don&#39;t know how to estimate the distance for each node. Hence, I don&#39;t know how to perform an A* search.&lt;br&gt;\r\nAny suggestion?\r\n\r\n**EDIT**&lt;br&gt;&lt;br\r\nHere is the code:\r\n\r\n`State:`\r\n\r\n\tprivate int[][] tiles;\r\n\tprivate int pathDistance;\r\n\tprivate int misplacedTiles;\r\n\tprivate State parent;\r\n \r\n\tpublic State(int[][] tiles) {\r\n\t\tthis.tiles = tiles;\r\n\t\tpathDistance = 0;\r\n\t\tmisplacedTiles = estimateHammingDistance();\r\n\t\tparent = null;\r\n\t}\r\n \r\n\tpublic ArrayList&lt;State&gt; findNext() {\r\n\t\tArrayList&lt;State&gt; next = new ArrayList&lt;State&gt;();\r\n\t\tint[] coordZero = findCoordinates(0);\r\n\t\tint[][] copy;\r\n\t\tif(coordZero[1] + 1 &lt; Solver.SIZE) {\r\n\t\t\tcopy = copyTiles();\r\n\t\t\tint[] newCoord = {coordZero[0], coordZero[1] + 1};\r\n\t\t\tswitchValues(copy, coordZero, newCoord);\r\n\t\t\tState newState = checkNewState(copy);\r\n\t\t\tif(newState != null)\r\n\t\t\t\tnext.add(newState);\r\n\t\t}\r\n\t\tif(coordZero[1] - 1 &gt;= 0) {\r\n\t\t\tcopy = copyTiles();\r\n\t\t\tint[] newCoord = {coordZero[0], coordZero[1] - 1};\r\n\t\t\tswitchValues(copy, coordZero, newCoord);\r\n\t\t\tState newState = checkNewState(copy);\r\n\t\t\tif(newState != null)\r\n\t\t\t\tnext.add(newState);\r\n\t\t}\r\n\t\tif(coordZero[0] + 1 &lt; Solver.SIZE) {\r\n\t\t\tcopy = copyTiles();\r\n\t\t\tint[] newCoord = {coordZero[0] + 1, coordZero[1]};\r\n\t\t\tswitchValues(copy, coordZero, newCoord);\r\n\t\t\tState newState = checkNewState(copy);\r\n\t\t\tif(newState != null)\r\n\t\t\t\tnext.add(newState);\r\n\t\t}\r\n\t\tif(coordZero[0] - 1 &gt;= 0) {\r\n\t\t\tcopy = copyTiles();\r\n\t\t\tint[] newCoord = {coordZero[0] - 1, coordZero[1]};\r\n\t\t\tswitchValues(copy, coordZero, newCoord);\r\n\t\t\tState newState = checkNewState(copy);\r\n\t\t\tif(newState != null)\r\n\t\t\t\tnext.add(newState);\r\n\t\t}\r\n\t\treturn next;\r\n\t}\r\n\r\n\tprivate State checkNewState(int[][] tiles) {\r\n\t\tState newState = new State(tiles);\r\n\t\tfor(State s : Solver.states)\r\n\t\t\tif(s.equals(newState))\r\n\t\t\t\treturn null;\r\n\t\treturn newState;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif(this == null || obj == null)\r\n\t\t\treturn false;\r\n\t\tif (obj.getClass().equals(this.getClass())) {\r\n\t\t\tfor(int r = 0; r &lt; tiles.length; r++) { \r\n\t\t\t\tfor(int c = 0; c &lt; tiles[r].length; c++) {\r\n\t\t\t\t\tif (((State)obj).getTiles()[r][c] != tiles[r][c])\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n&lt;br&gt;\r\n\r\n`Solver:`\r\n\r\n\tpublic static final HashSet&lt;State&gt; states = new HashSet&lt;State&gt;();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tsolve(new State(selectStartingBoard()));\r\n\t}\r\n\r\n\tpublic static State solve(State initialState) {\r\n\t\tTreeSet&lt;State&gt; queue = new TreeSet&lt;State&gt;(new Comparator1());\r\n\t\tqueue.add(initialState);\r\n\t\tstates.add(initialState);\r\n\t\twhile(!queue.isEmpty()) {\r\n\t\t\tState current = queue.pollFirst();\r\n\t\t\tfor(State s : current.findNext()) {\r\n\t\t\t\tif(s.goalCheck()) {\r\n\t\t\t\t\ts.setParent(current);\r\n\t\t\t\t\treturn s;\r\n\t\t\t\t}\r\n\t\t\t\tif(!states.contains(s)) {\r\n\t\t\t\t\ts.setPathDistance(current.getPathDistance() + 1);\r\n\t\t\t\t\ts.setParent(current);\r\n\t\t\t\t\tstates.add(s);\r\n\t\t\t\t\tqueue.add(s);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\nBasically here is what I do:&lt;br&gt;\r\n- `Solver`&#39;s `solve` has a `SortedSet`. Elements (`States`) are sorted according to `Comparator1`, which calculates `f(n) = g(n) + h(n)`, where `g(n)` is the path cost and `h(n)` is a heuristic (the number of misplaced tiles).&lt;br&gt;\r\n- I give the starting configuration and look for all the successors.&lt;br&gt;\r\n- If a successor has not been already visited (i.e. if it is not in the global set `States`) I add it to the queue and to `States`, setting the current state as its parent and `parent&#39;s path + 1` as its path cost.&lt;br&gt;\r\n- Dequeue and repeat.&lt;br&gt;\r\n&lt;br&gt;\r\nI think it should work because:&lt;br&gt;\r\n- I keep all the visited states so I&#39;m not looping.&lt;br&gt;\r\n- Also, there won&#39;t be any useless edge because I immediately store current node&#39;s successors. E.g.: if from A I can go to B and C, and from B I could also go to C, there won&#39;t be the edge B-&gt;C (since path cost is 1 for each edge and A-&gt;B is cheaper than A-&gt;B-&gt;C).&lt;br&gt;\r\n- Each time I choose to expand the path with the minimum `f(n)`, accordin to A*.&lt;br&gt;\r\n&lt;br&gt;\r\nBut it does not work. Or at least, after a few minutes it still can&#39;t find a solution (and I think is a lot of time in this case).\r\n&lt;br&gt;\r\nIf I try to create a tree structure before executing A*, I run out of memory building it.\r\n&lt;br&gt;&lt;br&gt;\r\n**EDIT 2**&lt;br&gt;&lt;br&gt;\r\nHere are my heuristic functions:\r\n\r\n    private int estimateManhattanDistance() {\r\n\t\tint counter = 0;\r\n\t\tint[] expectedCoord = new int[2];\r\n\t\tint[] realCoord = new int[2];\r\n\t\tfor(int value = 1; value &lt; Solver.SIZE * Solver.SIZE; value++) {\r\n\t\t\trealCoord = findCoordinates(value);\r\n\t\t\texpectedCoord[0] = (value - 1) / Solver.SIZE;\r\n\t\t\texpectedCoord[1] = (value - 1) % Solver.SIZE;\r\n\t\t\tcounter += Math.abs(expectedCoord[0] - realCoord[0]) + Math.abs(expectedCoord[1] - realCoord[1]);\r\n\t\t}\r\n\t\treturn counter;\r\n\t}\r\n\r\n\tprivate int estimateMisplacedTiles() {\r\n\t\tint counter = 0;\r\n\t\tint expectedTileValue = 1;\r\n\t\tfor(int i = 0; i &lt; Solver.SIZE; i++)\r\n\t\t\tfor(int j = 0; j &lt; Solver.SIZE; j++) {\r\n\t\t\t\tif(tiles[i][j] != expectedTileValue)\r\n\t\t\t\t\tif(expectedTileValue != Solver.ZERO)\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\texpectedTileValue++;\r\n\t\t\t}\r\n\t\treturn counter;\r\n\t}\r\n\r\nIf I use a simple greedy algorithm they both work (using Manhattan distance is really quick (around 500 iterations to find a solution), while with number of misplaced tiles it takes around 10k iterations). If I use A* (evaluating also the path cost) it&#39;s really slow.\r\n&lt;br&gt;&lt;br&gt;\r\nComparators are like that:\r\n\r\n\tpublic int compare(State o1, State o2) {\r\n\t\tif(o1.getPathDistance() + o1.getManhattanDistance() &gt;= o2.getPathDistance() + o2.getManhattanDistance())\r\n\t\t\treturn 1;\r\n\t\telse\r\n\t\t\treturn -1;\r\n\t}\r\n\t\r\n&lt;br&gt;\r\n**EDIT 3**\r\n&lt;br&gt;&lt;br&gt;\r\nThere was a little error. I fixed it and now A* works. Or at least, for the 3x3 if finds the optimal solution with only 700 iterations. For the 4x4 it&#39;s still too slow. I&#39;ll try with IDA*, but one question: how long could it take with A* to find the solution? Minutes? Hours? I left it for 10 minutes and it didn&#39;t end.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Fifteen_puzzle","title":"Solve n-puzzle in Java","body":"<p>I'm trying to implement a program to solve the <a href=\"http://en.wikipedia.org/wiki/Fifteen_puzzle\" rel=\"nofollow\">n-puzzle problem</a>. <br>\nI have written a simple implementation in Java that has a state of the problem characterized by a matrix representing the tiles. I am also able to auto-generate the graph of all the states giving the starting state. On the graph, then, I can do a BFS to find the path to the goal state.<br>\nBut the problem is that I run out of memory and I cannot even create the whole graph.\nI tried with a 2x2 tiles and it works. Also with some 3x3 (it depends on the starting state and how many nodes are in the graph). But in general this way is not suitable.<br>\nSo I tried generating the nodes at runtime, while searching. It works, but it is slow (sometimes after some minutes it still have not ended and I terminate the program).<br>\nBtw: I give as starting state only solvable configurations and I don't create duplicated states.<br>\nSo, I cannot create the graph. This leads to my main problem: I have to implement the A* algorithm and I need the path cost (i.e. for each node the distance from the starting state), but I think I cannot calculate it at runtime. I need the whole graph, right? Because A* does not follow a BFS exploration of the graph, so I don't know how to estimate the distance for each node. Hence, I don't know how to perform an A* search.<br>\nAny suggestion?</p>\n\n<p><strong>EDIT</strong><br>\n\n<p><code>State:</code></p>\n\n<pre><code>private int[][] tiles;\nprivate int pathDistance;\nprivate int misplacedTiles;\nprivate State parent;\n\npublic State(int[][] tiles) {\n    this.tiles = tiles;\n    pathDistance = 0;\n    misplacedTiles = estimateHammingDistance();\n    parent = null;\n}\n\npublic ArrayList&lt;State&gt; findNext() {\n    ArrayList&lt;State&gt; next = new ArrayList&lt;State&gt;();\n    int[] coordZero = findCoordinates(0);\n    int[][] copy;\n    if(coordZero[1] + 1 &lt; Solver.SIZE) {\n        copy = copyTiles();\n        int[] newCoord = {coordZero[0], coordZero[1] + 1};\n        switchValues(copy, coordZero, newCoord);\n        State newState = checkNewState(copy);\n        if(newState != null)\n            next.add(newState);\n    }\n    if(coordZero[1] - 1 &gt;= 0) {\n        copy = copyTiles();\n        int[] newCoord = {coordZero[0], coordZero[1] - 1};\n        switchValues(copy, coordZero, newCoord);\n        State newState = checkNewState(copy);\n        if(newState != null)\n            next.add(newState);\n    }\n    if(coordZero[0] + 1 &lt; Solver.SIZE) {\n        copy = copyTiles();\n        int[] newCoord = {coordZero[0] + 1, coordZero[1]};\n        switchValues(copy, coordZero, newCoord);\n        State newState = checkNewState(copy);\n        if(newState != null)\n            next.add(newState);\n    }\n    if(coordZero[0] - 1 &gt;= 0) {\n        copy = copyTiles();\n        int[] newCoord = {coordZero[0] - 1, coordZero[1]};\n        switchValues(copy, coordZero, newCoord);\n        State newState = checkNewState(copy);\n        if(newState != null)\n            next.add(newState);\n    }\n    return next;\n}\n\nprivate State checkNewState(int[][] tiles) {\n    State newState = new State(tiles);\n    for(State s : Solver.states)\n        if(s.equals(newState))\n            return null;\n    return newState;\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if(this == null || obj == null)\n        return false;\n    if (obj.getClass().equals(this.getClass())) {\n        for(int r = 0; r &lt; tiles.length; r++) { \n            for(int c = 0; c &lt; tiles[r].length; c++) {\n                if (((State)obj).getTiles()[r][c] != tiles[r][c])\n                    return false;\n            }\n        }\n            return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p><br></p>\n\n<p><code>Solver:</code></p>\n\n<pre><code>public static final HashSet&lt;State&gt; states = new HashSet&lt;State&gt;();\n\npublic static void main(String[] args) {\n    solve(new State(selectStartingBoard()));\n}\n\npublic static State solve(State initialState) {\n    TreeSet&lt;State&gt; queue = new TreeSet&lt;State&gt;(new Comparator1());\n    queue.add(initialState);\n    states.add(initialState);\n    while(!queue.isEmpty()) {\n        State current = queue.pollFirst();\n        for(State s : current.findNext()) {\n            if(s.goalCheck()) {\n                s.setParent(current);\n                return s;\n            }\n            if(!states.contains(s)) {\n                s.setPathDistance(current.getPathDistance() + 1);\n                s.setParent(current);\n                states.add(s);\n                queue.add(s);\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>Basically here is what I do:<br>\n- <code>Solver</code>'s <code>solve</code> has a <code>SortedSet</code>. Elements (<code>States</code>) are sorted according to <code>Comparator1</code>, which calculates <code>f(n) = g(n) + h(n)</code>, where <code>g(n)</code> is the path cost and <code>h(n)</code> is a heuristic (the number of misplaced tiles).<br>\n- I give the starting configuration and look for all the successors.<br>\n- If a successor has not been already visited (i.e. if it is not in the global set <code>States</code>) I add it to the queue and to <code>States</code>, setting the current state as its parent and <code>parent's path + 1</code> as its path cost.<br>\n- Dequeue and repeat.<br>\n<br>\nI think it should work because:<br>\n- I keep all the visited states so I'm not looping.<br>\n- Also, there won't be any useless edge because I immediately store current node's successors. E.g.: if from A I can go to B and C, and from B I could also go to C, there won't be the edge B->C (since path cost is 1 for each edge and A->B is cheaper than A->B->C).<br>\n- Each time I choose to expand the path with the minimum <code>f(n)</code>, accordin to A*.<br>\n<br>\nBut it does not work. Or at least, after a few minutes it still can't find a solution (and I think is a lot of time in this case).\n<br>\nIf I try to create a tree structure before executing A*, I run out of memory building it.\n<br><br>\n<strong>EDIT 2</strong><br><br>\nHere are my heuristic functions:</p>\n\n<pre><code>private int estimateManhattanDistance() {\n    int counter = 0;\n    int[] expectedCoord = new int[2];\n    int[] realCoord = new int[2];\n    for(int value = 1; value &lt; Solver.SIZE * Solver.SIZE; value++) {\n        realCoord = findCoordinates(value);\n        expectedCoord[0] = (value - 1) / Solver.SIZE;\n        expectedCoord[1] = (value - 1) % Solver.SIZE;\n        counter += Math.abs(expectedCoord[0] - realCoord[0]) + Math.abs(expectedCoord[1] - realCoord[1]);\n    }\n    return counter;\n}\n\nprivate int estimateMisplacedTiles() {\n    int counter = 0;\n    int expectedTileValue = 1;\n    for(int i = 0; i &lt; Solver.SIZE; i++)\n        for(int j = 0; j &lt; Solver.SIZE; j++) {\n            if(tiles[i][j] != expectedTileValue)\n                if(expectedTileValue != Solver.ZERO)\n                    counter++;\n            expectedTileValue++;\n        }\n    return counter;\n}\n</code></pre>\n\n<p>If I use a simple greedy algorithm they both work (using Manhattan distance is really quick (around 500 iterations to find a solution), while with number of misplaced tiles it takes around 10k iterations). If I use A* (evaluating also the path cost) it's really slow.\n<br><br>\nComparators are like that:</p>\n\n<pre><code>public int compare(State o1, State o2) {\n    if(o1.getPathDistance() + o1.getManhattanDistance() &gt;= o2.getPathDistance() + o2.getManhattanDistance())\n        return 1;\n    else\n        return -1;\n}\n</code></pre>\n\n<p><br>\n<strong>EDIT 3</strong>\n<br><br>\nThere was a little error. I fixed it and now A* works. Or at least, for the 3x3 if finds the optimal solution with only 700 iterations. For the 4x4 it's still too slow. I'll try with IDA*, but one question: how long could it take with A* to find the solution? Minutes? Hours? I left it for 10 minutes and it didn't end.</p>\n"},{"tags":["java","swt","tableviewer"],"answers":[{"comments":[{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1684305308,"post_id":26003670,"comment_id":134496927,"body_markdown":"In case of background thread, `setInput` might also need to be invoked using `Display.asyncExec`. Directly calling it would result in invalid thread access.","body":"In case of background thread, <code>setInput</code> might also need to be invoked using <code>Display.asyncExec</code>. Directly calling it would result in invalid thread access."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1411502198,"creation_date":1411502198,"answer_id":26003670,"question_id":26002319,"body_markdown":"Call `tableViewer.refresh()` each time you add to the table.\r\n\r\nYou must make one call to `tableViewer.setInput` before you can call `refresh`.\r\n\r\nIf you are running in a background thread you must use `Display.asyncExec` to run the `refresh` call in the UI thread.\r\n","title":"Refresh the TableViewer table every time add a new item to list","body":"<p>Call <code>tableViewer.refresh()</code> each time you add to the table.</p>\n\n<p>You must make one call to <code>tableViewer.setInput</code> before you can call <code>refresh</code>.</p>\n\n<p>If you are running in a background thread you must use <code>Display.asyncExec</code> to run the <code>refresh</code> call in the UI thread.</p>\n"},{"tags":[],"owner":{"account_id":7618695,"reputation":479,"user_id":5777299,"display_name":"V Kash Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696676624,"creation_date":1495780907,"answer_id":44195215,"question_id":26002319,"body_markdown":"Add this bunch of code in your create part control method, this will may be help you\r\n\r\n    ResourcesPlugin.getWorkspace().addResourceChangeListener(new IResourceChangeListener() {\r\n\r\n        @Override\r\n        public void resourceChanged(IResourceChangeEvent event) {\r\n            treeViewer.refresh();\r\n        }\r\n    }); ","title":"Refresh the TableViewer table every time add a new item to list","body":"<p>Add this bunch of code in your create part control method, this will may be help you</p>\n<pre><code>ResourcesPlugin.getWorkspace().addResourceChangeListener(new IResourceChangeListener() {\n\n    @Override\n    public void resourceChanged(IResourceChangeEvent event) {\n        treeViewer.refresh();\n    }\n}); \n</code></pre>\n"}],"owner":{"account_id":5073659,"reputation":13,"user_id":4071734,"display_name":"RayHong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26003670,"answer_count":2,"score":1,"last_activity_date":1696676624,"creation_date":1411497229,"question_id":26002319,"body_markdown":"I created a `TableViewer` table to display data from an `ArrayList`. I want to refresh the table every time I add a new item to my list. But now the table waits until all my data has been added to the list then the table will display all the data at once. Can some one help me with this problem? I got stuck at here for a long time... Here is some code\r\n\r\n    private void buildPerformanceTable(\r\n\t\t\tIPerformanceDataRetriever performanceDataRetriever) {\r\n\r\n\t\ttableViewer.setContentProvider(new JobProfileContentProvider());\r\n\t\ttableViewer.setLabelProvider(new JobProfileLabelProvider());\r\n\t\ttableViewer.setComparator(new JobProfileViewerComparator());\r\n\t\tTable table = tableViewer.getTable();\r\n\r\n\t\tfor (ColumnType columnType : ColumnType.values()) {\r\n\t\t\tbuildTableColumn(columnType.getColumnName(),\r\n\t\t\t\t\tcolumnType.getColumnIndex());\r\n\t\t}\r\n\t\t\r\n\t\ttableViewer.setInput(performanceDataRetriever);\r\n\r\n\t\tfor (int i = 0; i &lt; table.getColumnCount(); i++) {\r\n\t\t\ttable.getColumn(i).pack();\r\n\t\t}\r\n\t\ttable.setHeaderVisible(true);\r\n\t\ttable.setLinesVisible(true);\r\n\t}\r\n\r\n&lt;br/&gt;\r\n\r\n\tpublic class JobProfileContentProvider implements IStructuredContentProvider{\r\n\r\n\t\tprivate static final long SERIAL_VERSION_UID = 6452458171326245659L;\r\n\t\t\r\n\t\t\r\n\r\n\t\t/**\r\n\t\t * {@inheritDoc}\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic Object[] getElements(Object object) {\r\n\t\t\treturn ((IPerformanceDataRetriever) object).providePerformanceData()\r\n\t\t\t\t\t.toArray();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * &lt;b&gt;This method is not implemented.&lt;/b&gt; &lt;br&gt;\r\n\t\t * \r\n\t\t * {@inheritDoc}\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic void dispose() {\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * &lt;b&gt;This method is not implemented.&lt;/b&gt; &lt;br&gt;\r\n\t\t * \r\n\t\t * {@inheritDoc}\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic void inputChanged(Viewer viewer, Object oldInput, Object newInput) {\r\n\t\t}\r\n\t}\r\n\r\n&lt;br/&gt;\r\n\r\n\tpublic class JobProfileInfoMock implements IPerformanceDataRetriever {\r\n\r\n\t\t/**\r\n\t\t * Creates an instance of list containing active JobProfile.\r\n\t\t * \r\n\t\t * @return List contains JobProfile.\r\n\t\t */\r\n\t\tpublic static List&lt;JobProfile&gt; getJobProfileWithAllActiveJobs(){\r\n\t\t\tList&lt;JobProfile&gt; JobProfiles = new ArrayList&lt;JobProfile&gt;();\r\n\t\t\tfor(int i=1;i&lt;=6;i++){\r\n\t\t\t\tJobProfile profile = new JobProfile.ProfileBuilder().jobId(i)\r\n\t\t\t\t.cpuUsage(80+i).memoryUsage(40+i).ipAddress(&quot;192.1.12.4&quot;+i).isActive(true)\r\n\t\t\t\t.build();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(500);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\tJobProfiles.add(profile);\r\n\t\t\tSystem.out.println(JobProfiles.size());\r\n\t\t\t}\r\n\t\t\treturn JobProfiles;\r\n\t\t}\r\n\t}","title":"Refresh the TableViewer table every time add a new item to list","body":"<p>I created a <code>TableViewer</code> table to display data from an <code>ArrayList</code>. I want to refresh the table every time I add a new item to my list. But now the table waits until all my data has been added to the list then the table will display all the data at once. Can some one help me with this problem? I got stuck at here for a long time... Here is some code</p>\n\n<pre><code>private void buildPerformanceTable(\n        IPerformanceDataRetriever performanceDataRetriever) {\n\n    tableViewer.setContentProvider(new JobProfileContentProvider());\n    tableViewer.setLabelProvider(new JobProfileLabelProvider());\n    tableViewer.setComparator(new JobProfileViewerComparator());\n    Table table = tableViewer.getTable();\n\n    for (ColumnType columnType : ColumnType.values()) {\n        buildTableColumn(columnType.getColumnName(),\n                columnType.getColumnIndex());\n    }\n\n    tableViewer.setInput(performanceDataRetriever);\n\n    for (int i = 0; i &lt; table.getColumnCount(); i++) {\n        table.getColumn(i).pack();\n    }\n    table.setHeaderVisible(true);\n    table.setLinesVisible(true);\n}\n</code></pre>\n\n<p><br/></p>\n\n<pre><code>public class JobProfileContentProvider implements IStructuredContentProvider{\n\n    private static final long SERIAL_VERSION_UID = 6452458171326245659L;\n\n\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public Object[] getElements(Object object) {\n        return ((IPerformanceDataRetriever) object).providePerformanceData()\n                .toArray();\n    }\n\n    /**\n     * &lt;b&gt;This method is not implemented.&lt;/b&gt; &lt;br&gt;\n     * \n     * {@inheritDoc}\n     */\n    @Override\n    public void dispose() {\n    }\n\n    /**\n     * &lt;b&gt;This method is not implemented.&lt;/b&gt; &lt;br&gt;\n     * \n     * {@inheritDoc}\n     */\n    @Override\n    public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {\n    }\n}\n</code></pre>\n\n<p><br/></p>\n\n<pre><code>public class JobProfileInfoMock implements IPerformanceDataRetriever {\n\n    /**\n     * Creates an instance of list containing active JobProfile.\n     * \n     * @return List contains JobProfile.\n     */\n    public static List&lt;JobProfile&gt; getJobProfileWithAllActiveJobs(){\n        List&lt;JobProfile&gt; JobProfiles = new ArrayList&lt;JobProfile&gt;();\n        for(int i=1;i&lt;=6;i++){\n            JobProfile profile = new JobProfile.ProfileBuilder().jobId(i)\n            .cpuUsage(80+i).memoryUsage(40+i).ipAddress(\"192.1.12.4\"+i).isActive(true)\n            .build();\n            try {\n                Thread.sleep(500);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        JobProfiles.add(profile);\n        System.out.println(JobProfiles.size());\n        }\n        return JobProfiles;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","service","android-seekbar"],"comments":[{"owner":{"account_id":13060227,"reputation":1084,"user_id":9437681,"display_name":"Alexei Artsimovich"},"score":0,"creation_date":1527958270,"post_id":50659105,"comment_id":88328160,"body_markdown":"Can you please post the whole code of the Activity/Fragment to which your posted code belongs","body":"Can you please post the whole code of the Activity/Fragment to which your posted code belongs"},{"owner":{"account_id":10128471,"reputation":71,"user_id":7482856,"display_name":"Parkinson"},"score":0,"creation_date":1527973068,"post_id":50659105,"comment_id":88332208,"body_markdown":"i added the full code below.","body":"i added the full code below."},{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1527973708,"post_id":50659105,"comment_id":88332386,"body_markdown":"*Would love to have some suggestions* - don&#39;t do it","body":"<i>Would love to have some suggestions</i> - don&#39;t do it"}],"answers":[{"tags":[],"owner":{"account_id":13060227,"reputation":1084,"user_id":9437681,"display_name":"Alexei Artsimovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528004814,"creation_date":1528004814,"answer_id":50663626,"question_id":50659105,"body_markdown":"Okey Firstly I suggest you to read more about Android Service classes. Secondly Do **NOT** place you visual components like a SeekBar or TextView in the Service because it doesn&#39;t make any sense. Service is just a background task and do not know about the UI. Since it&#39;s executed in the background you don&#39;t even need AsyncTask inside this so thirdly remove **ALL** AsyncTasks in your service and run their task like they don&#39;t need to be executed in the background.\r\n\r\nSo all what you have to do is create a Fragment/Activity for the UI, then bind your Fragment/Acitivity with your Service to communicate and update UI components.\r\nThe easiest way is make the Service a Singleton like it&#39;s done here:\r\n\r\n        public class MusicService extends Service {\r\n    private static MusicService instance = null;\r\n    \r\n    public static MusicService getInstance() {\r\n        return instance;\r\n    }\r\n    \r\n    Handler handler;\r\n    Runnable runnable;\r\n    \r\n    NotificationManager nMN;\r\n    \r\n    String songLink;\r\n    String songName;\r\n    String bandName;\r\n    \r\n    String SongPlaying=&quot;&quot;;\r\n    String BandPlaying=&quot;&quot;;\r\n    \r\n    public static MediaPlayer mp;\r\n    public static Boolean mpState = true;\r\n    public static Boolean mpPause = false;\r\n    public static Boolean isPlaying = false;\r\n    \r\n    \r\n    @Override\r\n    public void onCreate() {\r\n        instance = this;\r\n        super.onCreate();\r\n    }\r\n    // Play Cycle for seekBar\r\n    public void PlayCycle(){\r\n        seekBar.setProgress(mp.getCurrentPosition());\r\n        if (mp.isPlaying()){\r\n            runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    PlayCycle();\r\n    \r\n                }\r\n            };\r\n            handler.postDelayed(runnable, 1000);\r\n        }\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        songLink = intent.getStringExtra(&quot;SongLink&quot;);\r\n        songName = intent.getStringExtra(&quot;SongName&quot;);\r\n        bandName = intent.getStringExtra(&quot;BandName&quot;);\r\n        handler = new Handler();\r\n    \r\n        if (isPlaying &amp;&amp; !songName.equals(SongPlaying) &amp;&amp; !BandPlaying.equals(bandName)) {\r\n            Stop();\r\n            mp = new MediaPlayer();\r\n            mp.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                Uri songUri = Uri.parse(songLink);\r\n                mp.setDataSource(getApplicationContext(), songUri);\r\n                SongPlaying = songName;\r\n                Toast.makeText(getApplicationContext(), &quot;Please wait&quot;, Toast.LENGTH_SHORT).show();\r\n                isPlaying=true;\r\n                new prepare().execute();\r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        else if (!isPlaying &amp;&amp; !songName.equals(SongPlaying) &amp;&amp; !BandPlaying.equals(bandName) ) {\r\n            mp = new MediaPlayer();\r\n            mp.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                Uri songUri = Uri.parse(songLink);\r\n                mp.setDataSource(getApplicationContext(), songUri);\r\n                SongPlaying = songName;\r\n                Toast.makeText(getApplicationContext(), &quot;Please wait&quot;, Toast.LENGTH_SHORT).show();\r\n                new prepare().execute();\r\n                isPlaying=true;\r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n        else {\r\n            Toast.makeText(getApplicationContext(), &quot;Song is Already Playing&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n        }\r\n        return super.onStartCommand(intent, flags, startId);\r\n        }\r\n    \r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        mp.release();\r\n        handler.removeCallbacks(runnable);\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    /// Permanent Notification\r\n    private void showNotification() {\r\n        nMN = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        Notification n = new Notification.Builder(this)\r\n                .setContentTitle(songName)\r\n                .setContentText(bandName)\r\n                .setSmallIcon(R.drawable.ic_bandcamp)\r\n                //.addAction(R.drawable.ic_play_arrow_black_24dp, &quot;button1&quot;, new pause())\r\n                .setOngoing(true)\r\n                .build();\r\n        nMN.notify(1, n);\r\n    }\r\n    \r\n    /// PREPARE SONG TO PLAY //\r\n    public class prepare extends AsyncTask {\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            try {\r\n                mp.prepare();\r\n                PlayCycle();\r\n                seekBar.setMax(mp.getDuration());\r\n                mp.start();\r\n                SongPlaying = songName;\r\n                isPlaying=true;\r\n                showNotification();  // show notification\r\n                mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n                    @Override\r\n                    public void onCompletion(MediaPlayer mp) {\r\n                        Toast.makeText(getApplicationContext(),&quot;Song Finished&quot;, Toast.LENGTH_LONG).show();\r\n                        new stop().execute();\r\n                    }\r\n                });\r\n            } catch (IOException io){ io.printStackTrace(); }\r\n            return null; }}\r\n    \r\n    \r\n    /// STOP PLAYING SONG //\r\n    public static void Stop()\r\n    {\r\n        mp.reset();\r\n        mp.release();\r\n        isPlaying=false;\r\n    }\r\n    public static class stop extends AsyncTask {\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            try {\r\n                mp.reset();\r\n                mp.release();\r\n                isPlaying=false;\r\n            } catch (Exception io){ io.printStackTrace(); }\r\n            return null; }}\r\n    \r\n    /// PAUSE PLAYING SONG//\r\n    public static class pause extends AsyncTask {\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            try {\r\n                mp.pause(); }\r\n            catch (Exception io){ io.printStackTrace();   }\r\n            return null; }}\r\n    \r\n    public static class start extends AsyncTask {\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            try {\r\n                mp.start(); }\r\n            catch (Exception io){ io.printStackTrace();   }\r\n            return null; }}\r\n    \r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        // TODO: Return the communication channel to the service.\r\n        // throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n        return null;\r\n    }","title":"Accessing a view from a service","body":"<p>Okey Firstly I suggest you to read more about Android Service classes. Secondly Do <strong>NOT</strong> place you visual components like a SeekBar or TextView in the Service because it doesn't make any sense. Service is just a background task and do not know about the UI. Since it's executed in the background you don't even need AsyncTask inside this so thirdly remove <strong>ALL</strong> AsyncTasks in your service and run their task like they don't need to be executed in the background.</p>\n\n<p>So all what you have to do is create a Fragment/Activity for the UI, then bind your Fragment/Acitivity with your Service to communicate and update UI components.\nThe easiest way is make the Service a Singleton like it's done here:</p>\n\n<pre><code>    public class MusicService extends Service {\nprivate static MusicService instance = null;\n\npublic static MusicService getInstance() {\n    return instance;\n}\n\nHandler handler;\nRunnable runnable;\n\nNotificationManager nMN;\n\nString songLink;\nString songName;\nString bandName;\n\nString SongPlaying=\"\";\nString BandPlaying=\"\";\n\npublic static MediaPlayer mp;\npublic static Boolean mpState = true;\npublic static Boolean mpPause = false;\npublic static Boolean isPlaying = false;\n\n\n@Override\npublic void onCreate() {\n    instance = this;\n    super.onCreate();\n}\n// Play Cycle for seekBar\npublic void PlayCycle(){\n    seekBar.setProgress(mp.getCurrentPosition());\n    if (mp.isPlaying()){\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n                PlayCycle();\n\n            }\n        };\n        handler.postDelayed(runnable, 1000);\n    }\n\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    songLink = intent.getStringExtra(\"SongLink\");\n    songName = intent.getStringExtra(\"SongName\");\n    bandName = intent.getStringExtra(\"BandName\");\n    handler = new Handler();\n\n    if (isPlaying &amp;&amp; !songName.equals(SongPlaying) &amp;&amp; !BandPlaying.equals(bandName)) {\n        Stop();\n        mp = new MediaPlayer();\n        mp.setAudioStreamType(AudioManager.STREAM_MUSIC);\n        try {\n            Uri songUri = Uri.parse(songLink);\n            mp.setDataSource(getApplicationContext(), songUri);\n            SongPlaying = songName;\n            Toast.makeText(getApplicationContext(), \"Please wait\", Toast.LENGTH_SHORT).show();\n            isPlaying=true;\n            new prepare().execute();\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    else if (!isPlaying &amp;&amp; !songName.equals(SongPlaying) &amp;&amp; !BandPlaying.equals(bandName) ) {\n        mp = new MediaPlayer();\n        mp.setAudioStreamType(AudioManager.STREAM_MUSIC);\n        try {\n            Uri songUri = Uri.parse(songLink);\n            mp.setDataSource(getApplicationContext(), songUri);\n            SongPlaying = songName;\n            Toast.makeText(getApplicationContext(), \"Please wait\", Toast.LENGTH_SHORT).show();\n            new prepare().execute();\n            isPlaying=true;\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n    else {\n        Toast.makeText(getApplicationContext(), \"Song is Already Playing\", Toast.LENGTH_SHORT).show();\n\n    }\n    return super.onStartCommand(intent, flags, startId);\n    }\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    mp.release();\n    handler.removeCallbacks(runnable);\n}\n\n\n\n\n/// Permanent Notification\nprivate void showNotification() {\n    nMN = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n    Notification n = new Notification.Builder(this)\n            .setContentTitle(songName)\n            .setContentText(bandName)\n            .setSmallIcon(R.drawable.ic_bandcamp)\n            //.addAction(R.drawable.ic_play_arrow_black_24dp, \"button1\", new pause())\n            .setOngoing(true)\n            .build();\n    nMN.notify(1, n);\n}\n\n/// PREPARE SONG TO PLAY //\npublic class prepare extends AsyncTask {\n    @Override\n    protected Object doInBackground(Object[] objects) {\n        try {\n            mp.prepare();\n            PlayCycle();\n            seekBar.setMax(mp.getDuration());\n            mp.start();\n            SongPlaying = songName;\n            isPlaying=true;\n            showNotification();  // show notification\n            mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n                @Override\n                public void onCompletion(MediaPlayer mp) {\n                    Toast.makeText(getApplicationContext(),\"Song Finished\", Toast.LENGTH_LONG).show();\n                    new stop().execute();\n                }\n            });\n        } catch (IOException io){ io.printStackTrace(); }\n        return null; }}\n\n\n/// STOP PLAYING SONG //\npublic static void Stop()\n{\n    mp.reset();\n    mp.release();\n    isPlaying=false;\n}\npublic static class stop extends AsyncTask {\n    @Override\n    protected Object doInBackground(Object[] objects) {\n        try {\n            mp.reset();\n            mp.release();\n            isPlaying=false;\n        } catch (Exception io){ io.printStackTrace(); }\n        return null; }}\n\n/// PAUSE PLAYING SONG//\npublic static class pause extends AsyncTask {\n    @Override\n    protected Object doInBackground(Object[] objects) {\n        try {\n            mp.pause(); }\n        catch (Exception io){ io.printStackTrace();   }\n        return null; }}\n\npublic static class start extends AsyncTask {\n    @Override\n    protected Object doInBackground(Object[] objects) {\n        try {\n            mp.start(); }\n        catch (Exception io){ io.printStackTrace();   }\n        return null; }}\n\n@Override\npublic IBinder onBind(Intent intent) {\n    // TODO: Return the communication channel to the service.\n    // throw new UnsupportedOperationException(\"Not yet implemented\");\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":10128471,"reputation":71,"user_id":7482856,"display_name":"Parkinson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696676414,"creation_date":1527958038,"question_id":50659105,"body_markdown":"So basically, i got a list view that shows a list of bands.\r\nWhen i press on one of the bands in the list, it creates a band profile page via an adapter.\r\nIn this layout, i got a play button, which starts a MediaPlayer service and play a song.\r\n\r\nSo far, so good.\r\n\r\nThe problem is, im trying to update the seekBar, located in the band profile page (created by the adapter mentioned above), from the MediaPlayer service Java file, but i&#39;m unable to reach it.\r\n\r\n\r\ni&#39;m trying to use :\r\n\r\n        LayoutInflater inflater = (LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);\r\n        View layout = inflater.inflate(R.layout.activity_singleband, null, false);\r\n        seekBar = (SeekBar) layout.findViewById(R.id.seekBarBand);\r\n\r\nbut it seems that it uses another &quot;instance&quot; of the view, and not the one i&#39;m currently viewing.\r\n\r\nHere is the full MusicService Java file:\r\n\r\n```java\r\npublic class MusicService extends Service {\r\n    SeekBar seekBar;\r\n    Handler handler;\r\n    Runnable runnable;\r\n\r\n    NotificationManager nMN;\r\n\r\n    TextView BandName;\r\n\r\n    String songLink;\r\n    String songName;\r\n    String bandName;\r\n\r\n    String SongPlaying=&quot;&quot;;\r\n    String BandPlaying=&quot;&quot;;\r\n\r\n    public static MediaPlayer mp;\r\n    public static Boolean mpState = true;\r\n    public static Boolean mpPause = false;\r\n    public static Boolean isPlaying = false;\r\n\r\n\r\n    @Override\r\n    public void onCreate() {\r\n                super.onCreate();\r\n\r\n    }\r\n    // Play Cycle for seekBar\r\n    public void PlayCycle(){\r\n        seekBar.setProgress(mp.getCurrentPosition());\r\n        if (mp.isPlaying()){\r\n            runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    PlayCycle();\r\n\r\n                }\r\n            };\r\n            handler.postDelayed(runnable, 1000);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        songLink = intent.getStringExtra(&quot;SongLink&quot;);\r\n        songName = intent.getStringExtra(&quot;SongName&quot;);\r\n        bandName = intent.getStringExtra(&quot;BandName&quot;);\r\n\r\n\r\n        LayoutInflater inflater = (LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);\r\n        View layout = inflater.inflate(R.layout.activity_singleband, null, false);\r\n        seekBar = (SeekBar) layout.findViewById(R.id.seekBarBand);\r\n        BandName = (TextView) layout.findViewById(R.id.singleBandNameView);\r\n        BandName.setText(&quot;Bla Bla&quot;);\r\n        System.out.print(&quot;Band Name : &quot;+ BandName.getText() );\r\n\r\n        handler = new Handler();\r\n\r\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean input) {\r\n                if (input){\r\n                    mp.seekTo(progress); \r\n                }\r\n            }\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n            }\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n            }\r\n        });\r\n\r\n        if (isPlaying &amp;&amp; !songName.equals(SongPlaying) &amp;&amp; !BandPlaying.equals(bandName)) {\r\n            Stop();\r\n            mp = new MediaPlayer();\r\n            mp.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                Uri songUri = Uri.parse(songLink);\r\n                mp.setDataSource(getApplicationContext(), songUri);\r\n                SongPlaying = songName;\r\n                Toast.makeText(getApplicationContext(), &quot;Please wait&quot;, Toast.LENGTH_SHORT).show();\r\n                isPlaying=true;\r\n                new prepare().execute();\r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        else if (!isPlaying &amp;&amp; !songName.equals(SongPlaying) &amp;&amp; !BandPlaying.equals(bandName) ) {\r\n            mp = new MediaPlayer();\r\n            mp.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                Uri songUri = Uri.parse(songLink);\r\n                mp.setDataSource(getApplicationContext(), songUri);\r\n                SongPlaying = songName;\r\n                Toast.makeText(getApplicationContext(), &quot;Please wait&quot;, Toast.LENGTH_SHORT).show();\r\n                new prepare().execute();\r\n                isPlaying=true;\r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n        else {\r\n            Toast.makeText(getApplicationContext(), &quot;Song is Already Playing&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n        return super.onStartCommand(intent, flags, startId);\r\n        }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        mp.release();\r\n        handler.removeCallbacks(runnable);\r\n    }\r\n\r\n\r\n\r\n\r\n    /// Permanent Notification\r\n    private void showNotification() {\r\n        nMN = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        Notification n = new Notification.Builder(this)\r\n                .setContentTitle(songName)\r\n                .setContentText(bandName)\r\n                .setSmallIcon(R.drawable.ic_bandcamp)\r\n                //.addAction(R.drawable.ic_play_arrow_black_24dp, &quot;button1&quot;, new pause())\r\n                .setOngoing(true)\r\n                .build();\r\n        nMN.notify(1, n);\r\n    }\r\n\r\n    /// PREPARE SONG TO PLAY //\r\n    public class prepare extends AsyncTask {\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            try {\r\n                mp.prepare();\r\n                PlayCycle();\r\n                seekBar.setMax(mp.getDuration());\r\n                mp.start();\r\n                SongPlaying = songName;\r\n                isPlaying=true;\r\n                showNotification();  // show notification\r\n                mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n                    @Override\r\n                    public void onCompletion(MediaPlayer mp) {\r\n                        Toast.makeText(getApplicationContext(),&quot;Song Finished&quot;, Toast.LENGTH_LONG).show();\r\n                        new stop().execute();\r\n                    }\r\n                });\r\n            } catch (IOException io){ io.printStackTrace(); }\r\n            return null; }}\r\n\r\n\r\n    /// STOP PLAYING SONG //\r\n    public static void Stop()\r\n    {\r\n        mp.reset();\r\n        mp.release();\r\n        isPlaying=false;\r\n    }\r\n    public static class stop extends AsyncTask {\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            try {\r\n                mp.reset();\r\n                mp.release();\r\n                isPlaying=false;\r\n            } catch (Exception io){ io.printStackTrace(); }\r\n            return null; }}\r\n\r\n    /// PAUSE PLAYING SONG//\r\n    public static class pause extends AsyncTask {\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            try {\r\n                mp.pause(); }\r\n            catch (Exception io){ io.printStackTrace();   }\r\n            return null; }}\r\n\r\n    public static class start extends AsyncTask {\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            try {\r\n                mp.start(); }\r\n            catch (Exception io){ io.printStackTrace();   }\r\n            return null; }}\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        // TODO: Return the communication channel to the service.\r\n        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n    }\r\n}\r\n```","title":"Accessing a view from a service","body":"<p>So basically, i got a list view that shows a list of bands.\nWhen i press on one of the bands in the list, it creates a band profile page via an adapter.\nIn this layout, i got a play button, which starts a MediaPlayer service and play a song.</p>\n<p>So far, so good.</p>\n<p>The problem is, im trying to update the seekBar, located in the band profile page (created by the adapter mentioned above), from the MediaPlayer service Java file, but i'm unable to reach it.</p>\n<p>i'm trying to use :</p>\n<pre><code>    LayoutInflater inflater = (LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);\n    View layout = inflater.inflate(R.layout.activity_singleband, null, false);\n    seekBar = (SeekBar) layout.findViewById(R.id.seekBarBand);\n</code></pre>\n<p>but it seems that it uses another &quot;instance&quot; of the view, and not the one i'm currently viewing.</p>\n<p>Here is the full MusicService Java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MusicService extends Service {\n    SeekBar seekBar;\n    Handler handler;\n    Runnable runnable;\n\n    NotificationManager nMN;\n\n    TextView BandName;\n\n    String songLink;\n    String songName;\n    String bandName;\n\n    String SongPlaying=&quot;&quot;;\n    String BandPlaying=&quot;&quot;;\n\n    public static MediaPlayer mp;\n    public static Boolean mpState = true;\n    public static Boolean mpPause = false;\n    public static Boolean isPlaying = false;\n\n\n    @Override\n    public void onCreate() {\n                super.onCreate();\n\n    }\n    // Play Cycle for seekBar\n    public void PlayCycle(){\n        seekBar.setProgress(mp.getCurrentPosition());\n        if (mp.isPlaying()){\n            runnable = new Runnable() {\n                @Override\n                public void run() {\n                    PlayCycle();\n\n                }\n            };\n            handler.postDelayed(runnable, 1000);\n        }\n\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        songLink = intent.getStringExtra(&quot;SongLink&quot;);\n        songName = intent.getStringExtra(&quot;SongName&quot;);\n        bandName = intent.getStringExtra(&quot;BandName&quot;);\n\n\n        LayoutInflater inflater = (LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);\n        View layout = inflater.inflate(R.layout.activity_singleband, null, false);\n        seekBar = (SeekBar) layout.findViewById(R.id.seekBarBand);\n        BandName = (TextView) layout.findViewById(R.id.singleBandNameView);\n        BandName.setText(&quot;Bla Bla&quot;);\n        System.out.print(&quot;Band Name : &quot;+ BandName.getText() );\n\n        handler = new Handler();\n\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean input) {\n                if (input){\n                    mp.seekTo(progress); \n                }\n            }\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n            }\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n            }\n        });\n\n        if (isPlaying &amp;&amp; !songName.equals(SongPlaying) &amp;&amp; !BandPlaying.equals(bandName)) {\n            Stop();\n            mp = new MediaPlayer();\n            mp.setAudioStreamType(AudioManager.STREAM_MUSIC);\n            try {\n                Uri songUri = Uri.parse(songLink);\n                mp.setDataSource(getApplicationContext(), songUri);\n                SongPlaying = songName;\n                Toast.makeText(getApplicationContext(), &quot;Please wait&quot;, Toast.LENGTH_SHORT).show();\n                isPlaying=true;\n                new prepare().execute();\n            }\n            catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        else if (!isPlaying &amp;&amp; !songName.equals(SongPlaying) &amp;&amp; !BandPlaying.equals(bandName) ) {\n            mp = new MediaPlayer();\n            mp.setAudioStreamType(AudioManager.STREAM_MUSIC);\n            try {\n                Uri songUri = Uri.parse(songLink);\n                mp.setDataSource(getApplicationContext(), songUri);\n                SongPlaying = songName;\n                Toast.makeText(getApplicationContext(), &quot;Please wait&quot;, Toast.LENGTH_SHORT).show();\n                new prepare().execute();\n                isPlaying=true;\n            }\n            catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n        else {\n            Toast.makeText(getApplicationContext(), &quot;Song is Already Playing&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n        return super.onStartCommand(intent, flags, startId);\n        }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        mp.release();\n        handler.removeCallbacks(runnable);\n    }\n\n\n\n\n    /// Permanent Notification\n    private void showNotification() {\n        nMN = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        Notification n = new Notification.Builder(this)\n                .setContentTitle(songName)\n                .setContentText(bandName)\n                .setSmallIcon(R.drawable.ic_bandcamp)\n                //.addAction(R.drawable.ic_play_arrow_black_24dp, &quot;button1&quot;, new pause())\n                .setOngoing(true)\n                .build();\n        nMN.notify(1, n);\n    }\n\n    /// PREPARE SONG TO PLAY //\n    public class prepare extends AsyncTask {\n        @Override\n        protected Object doInBackground(Object[] objects) {\n            try {\n                mp.prepare();\n                PlayCycle();\n                seekBar.setMax(mp.getDuration());\n                mp.start();\n                SongPlaying = songName;\n                isPlaying=true;\n                showNotification();  // show notification\n                mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n                    @Override\n                    public void onCompletion(MediaPlayer mp) {\n                        Toast.makeText(getApplicationContext(),&quot;Song Finished&quot;, Toast.LENGTH_LONG).show();\n                        new stop().execute();\n                    }\n                });\n            } catch (IOException io){ io.printStackTrace(); }\n            return null; }}\n\n\n    /// STOP PLAYING SONG //\n    public static void Stop()\n    {\n        mp.reset();\n        mp.release();\n        isPlaying=false;\n    }\n    public static class stop extends AsyncTask {\n        @Override\n        protected Object doInBackground(Object[] objects) {\n            try {\n                mp.reset();\n                mp.release();\n                isPlaying=false;\n            } catch (Exception io){ io.printStackTrace(); }\n            return null; }}\n\n    /// PAUSE PLAYING SONG//\n    public static class pause extends AsyncTask {\n        @Override\n        protected Object doInBackground(Object[] objects) {\n            try {\n                mp.pause(); }\n            catch (Exception io){ io.printStackTrace();   }\n            return null; }}\n\n    public static class start extends AsyncTask {\n        @Override\n        protected Object doInBackground(Object[] objects) {\n            try {\n                mp.start(); }\n            catch (Exception io){ io.printStackTrace();   }\n            return null; }}\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // TODO: Return the communication channel to the service.\n        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1696587710,"post_id":77243650,"comment_id":136175393,"body_markdown":"No idea what the error is or what caused the crash. Post a stack trace","body":"No idea what the error is or what caused the crash. Post a stack trace"},{"owner":{"account_id":29611564,"reputation":11,"user_id":22694697,"display_name":"Clooner gh"},"score":0,"creation_date":1696589174,"post_id":77243650,"comment_id":136175669,"body_markdown":"i added stack trace  to the main question","body":"i added stack trace  to the main question"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1696589489,"post_id":77243650,"comment_id":136175725,"body_markdown":"it looks like you maybe doing some really processing intensive task on your main thread. Take a look at this: https://stackoverflow.com/a/21126690/16034206","body":"it looks like you maybe doing some really processing intensive task on your main thread. Take a look at this: <a href=\"https://stackoverflow.com/a/21126690/16034206\">stackoverflow.com/a/21126690/16034206</a>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1696598946,"post_id":77243650,"comment_id":136177657,"body_markdown":"Your stacktrace does not contain the relevant part where the app &quot;crashed&quot;.","body":"Your stacktrace does not contain the relevant part where the app &quot;crashed&quot;."}],"owner":{"account_id":29611564,"reputation":11,"user_id":22694697,"display_name":"Clooner gh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696676335,"creation_date":1696587556,"question_id":77243650,"body_markdown":"Im trying to receive response from a socket ( android studio environment). This response have more than one line . When receiving finished app get crashes . This is the code im using:\r\n  \r\n\r\n            try {\r\n        \r\n                byte[] buffer = new byte[1024];\r\n        \r\n                StringBuilder responseBuilder = new StringBuilder();\r\n        \r\n                int bytesRead;\r\n        \r\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n        \r\n                    String response = new String(buffer, 0, bytesRead);\r\n        \r\n                    responseBuilder.append(response);\r\n        \r\n                }\r\n        \r\n                String receivedResponse = responseBuilder.toString();\r\n        \r\n                Log.d(&quot;RawSocket&quot;, &quot;Received response: &quot; + receivedResponse);\r\n        \r\n            } catch (IOException e) {\r\n        \r\n                e.printStackTrace();\r\n        }\r\n\r\ndown here is stack trace:\r\n\r\n        D/RawSocket: Received response:  19\r\n        2023/10/30 62:38 V=  1 TAG  18\r\n        2023/10/30 62:29 V=  1 TAG  17\r\n        2023/10/30 62:28 V=  1 TAG  16\r\n        2023/10/30 42:05 V=  1 TAG  15\r\n        2023/10/30 42:04 V=  1 TAG  14\r\n        2023/10/30 41:53 V=  1 TAG  13\r\n        2023/10/30 52:51 V=  1 TAG  12\r\n        2023/10/30 52:50 V=  1 TAG  11\r\n        2023/10/28 49:35 V=  1 TAG  10\r\n        2023/10/28 49:11 V=  1 TAG   9\r\n        2023/10/28 49:10 V=  1 TAG   8\r\n        2023/10/28 48:19 V=  1 TAG   7\r\n        2023/10/28 47:43 V=  1 TAG   6\r\n        2023/10/28 47:43 V=  1 TAG   5\r\n        2023/10/28 47:42 V=  1 TAG   4\r\n        2023/10/28 46:57 V=  1 TAG   3\r\n        2023/10/28 46:53 V=  1 TAG   2\r\n        2023/10/28 46:53 V=  1 TAG   1\r\n        2023/10/28 46:53 V=  1 TAG \r\n        W/Looper: PerfMonitor longMsg : seq=1867 plan=12:49:21.881 late=5ms wall=10525ms running=28ms runnable=4ms h=android.view.ViewRootImpl$ViewRootHandler c=android.view.View$PerformClick procState=-1\r\n        I/Choreographer: Skipped 632 frames!  The application may be doing too much work on its main thread.\r\n        W/Looper: PerfMonitor doFrame : time=37ms vsyncFrame=0 latency=10535ms procState=-1 historyMsgCount=1\r\n        I/OpenGLRenderer: Davey! duration=10583ms; Flags=0, FrameTimelineVsyncId=2176098, IntendedVsync=43296186865024, Vsync=43306720197936, InputEventId=0, HandleInputStart=43306721982801, AnimationStart=43306722573374, PerformTraversalsStart=43306722593322, DrawStart=43306753145197, FrameDeadline=43296220198356, FrameInterval=43306721523478, FrameStartTime=16666666, SyncQueued=43306756274364, SyncStart=43306756526499, IssueDrawCommandsStart=43306757182958, SwapBuffers=43306766297333, FrameCompleted=43306770417437, DequeueBufferDuration=86302, QueueBufferDuration=2839687, GpuCompleted=43306770417437, SwapBuffersCompleted=43306770417437, DisplayPresentTime=514951064320, \r\n        I/libc: Requested dump for tid 6911 (.TAGSAZAN.batag)\r\n        D/DecorView[]: onWindowFocusChanged hasWindowFocus false\r\n\r\n\r\nWhat can i do to prevent app from crashing?\r\n\r\nI tried above code and received all responses but when responses finished, app crashed. \r\n\r\n","title":"Receive response from socket cases crash","body":"<p>Im trying to receive response from a socket ( android studio environment). This response have more than one line . When receiving finished app get crashes . This is the code im using:</p>\n<pre><code>        try {\n    \n            byte[] buffer = new byte[1024];\n    \n            StringBuilder responseBuilder = new StringBuilder();\n    \n            int bytesRead;\n    \n            while ((bytesRead = inputStream.read(buffer)) != -1) {\n    \n                String response = new String(buffer, 0, bytesRead);\n    \n                responseBuilder.append(response);\n    \n            }\n    \n            String receivedResponse = responseBuilder.toString();\n    \n            Log.d(&quot;RawSocket&quot;, &quot;Received response: &quot; + receivedResponse);\n    \n        } catch (IOException e) {\n    \n            e.printStackTrace();\n    }\n</code></pre>\n<p>down here is stack trace:</p>\n<pre><code>    D/RawSocket: Received response:  19\n    2023/10/30 62:38 V=  1 TAG  18\n    2023/10/30 62:29 V=  1 TAG  17\n    2023/10/30 62:28 V=  1 TAG  16\n    2023/10/30 42:05 V=  1 TAG  15\n    2023/10/30 42:04 V=  1 TAG  14\n    2023/10/30 41:53 V=  1 TAG  13\n    2023/10/30 52:51 V=  1 TAG  12\n    2023/10/30 52:50 V=  1 TAG  11\n    2023/10/28 49:35 V=  1 TAG  10\n    2023/10/28 49:11 V=  1 TAG   9\n    2023/10/28 49:10 V=  1 TAG   8\n    2023/10/28 48:19 V=  1 TAG   7\n    2023/10/28 47:43 V=  1 TAG   6\n    2023/10/28 47:43 V=  1 TAG   5\n    2023/10/28 47:42 V=  1 TAG   4\n    2023/10/28 46:57 V=  1 TAG   3\n    2023/10/28 46:53 V=  1 TAG   2\n    2023/10/28 46:53 V=  1 TAG   1\n    2023/10/28 46:53 V=  1 TAG \n    W/Looper: PerfMonitor longMsg : seq=1867 plan=12:49:21.881 late=5ms wall=10525ms running=28ms runnable=4ms h=android.view.ViewRootImpl$ViewRootHandler c=android.view.View$PerformClick procState=-1\n    I/Choreographer: Skipped 632 frames!  The application may be doing too much work on its main thread.\n    W/Looper: PerfMonitor doFrame : time=37ms vsyncFrame=0 latency=10535ms procState=-1 historyMsgCount=1\n    I/OpenGLRenderer: Davey! duration=10583ms; Flags=0, FrameTimelineVsyncId=2176098, IntendedVsync=43296186865024, Vsync=43306720197936, InputEventId=0, HandleInputStart=43306721982801, AnimationStart=43306722573374, PerformTraversalsStart=43306722593322, DrawStart=43306753145197, FrameDeadline=43296220198356, FrameInterval=43306721523478, FrameStartTime=16666666, SyncQueued=43306756274364, SyncStart=43306756526499, IssueDrawCommandsStart=43306757182958, SwapBuffers=43306766297333, FrameCompleted=43306770417437, DequeueBufferDuration=86302, QueueBufferDuration=2839687, GpuCompleted=43306770417437, SwapBuffersCompleted=43306770417437, DisplayPresentTime=514951064320, \n    I/libc: Requested dump for tid 6911 (.TAGSAZAN.batag)\n    D/DecorView[]: onWindowFocusChanged hasWindowFocus false\n</code></pre>\n<p>What can i do to prevent app from crashing?</p>\n<p>I tried above code and received all responses but when responses finished, app crashed.</p>\n"},{"tags":["java","html","selenium-webdriver","dom"],"owner":{"account_id":29350777,"reputation":1,"user_id":22487982,"display_name":"akshay patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696675835,"creation_date":1696675022,"question_id":77249403,"body_markdown":"Element when enabled\r\n\r\n```lang-html\r\n&lt;td&gt;\r\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-primary ng-binding&quot; data-ng-hide=&quot;config.enabled&quot; data-ng-click=&quot;enable(config.id, config.name)&quot; has-permission=&quot;UPDATE_CONFIGURATION&quot;&gt;Enable&lt;/button&gt;\r\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-danger ng-binding ng-hide&quot; data-ng-show=&quot;config.enabled&quot; data-ng-click=&quot;disable(config.id, config.name)&quot; has-permission=&quot;UPDATE_CONFIGURATION&quot;&gt;Disable&lt;/button&gt;\r\n&lt;/td&gt;\r\n```\r\n\r\nelement when disabled\r\n\r\n```lang-hmtl\r\n&lt;td&gt;\r\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-primary ng-binding ng-hide&quot; data-ng-hide=&quot;config.enabled&quot; data-ng-click=&quot;enable(config.id, config.name)&quot; has-permission=&quot;UPDATE_CONFIGURATION&quot;&gt;Enable&lt;/button&gt;\r\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-danger ng-binding&quot; data-ng-show=&quot;config.enabled&quot; data-ng-click=&quot;disable(config.id, config.name)&quot; has-permission=&quot;UPDATE_CONFIGURATION&quot;&gt;Disable&lt;/button&gt;\r\n&lt;/td&gt;\r\n```\r\n\r\nAbove you can see two button elements in `td` tag, but only one button is visible in the front page either enable or disable.\r\n\r\nHow can I verify that in selenium code the button is enabled or disabled?\r\n\r\nI am not able to find the right way to figure out which button out of the two is visible in selenium code, would appreciate the help.","title":"how do i verify the button is enabled or not in selenium java code for below element","body":"<p>Element when enabled</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;td&gt;\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-primary ng-binding&quot; data-ng-hide=&quot;config.enabled&quot; data-ng-click=&quot;enable(config.id, config.name)&quot; has-permission=&quot;UPDATE_CONFIGURATION&quot;&gt;Enable&lt;/button&gt;\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-danger ng-binding ng-hide&quot; data-ng-show=&quot;config.enabled&quot; data-ng-click=&quot;disable(config.id, config.name)&quot; has-permission=&quot;UPDATE_CONFIGURATION&quot;&gt;Disable&lt;/button&gt;\n&lt;/td&gt;\n</code></pre>\n<p>element when disabled</p>\n<pre class=\"lang-hmtl prettyprint-override\"><code>&lt;td&gt;\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-primary ng-binding ng-hide&quot; data-ng-hide=&quot;config.enabled&quot; data-ng-click=&quot;enable(config.id, config.name)&quot; has-permission=&quot;UPDATE_CONFIGURATION&quot;&gt;Enable&lt;/button&gt;\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-danger ng-binding&quot; data-ng-show=&quot;config.enabled&quot; data-ng-click=&quot;disable(config.id, config.name)&quot; has-permission=&quot;UPDATE_CONFIGURATION&quot;&gt;Disable&lt;/button&gt;\n&lt;/td&gt;\n</code></pre>\n<p>Above you can see two button elements in <code>td</code> tag, but only one button is visible in the front page either enable or disable.</p>\n<p>How can I verify that in selenium code the button is enabled or disabled?</p>\n<p>I am not able to find the right way to figure out which button out of the two is visible in selenium code, would appreciate the help.</p>\n"},{"tags":["java","gradle","junit"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1687534772,"post_id":76541442,"comment_id":134955423,"body_markdown":"There should at least be an HTML report under: `lib/build/reports/tests/test/index.html`","body":"There should at least be an HTML report under: <code>lib&#47;build&#47;reports&#47;tests&#47;test&#47;index.html</code>"},{"owner":{"account_id":3532915,"reputation":13290,"user_id":2951933,"accept_rate":88,"display_name":"EugenSunic"},"score":0,"creation_date":1687536837,"post_id":76541442,"comment_id":134955852,"body_markdown":"There wasn&#39;t for some reason... Now there is after including the given solution.","body":"There wasn&#39;t for some reason... Now there is after including the given solution."}],"answers":[{"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":2,"creation_date":1687534935,"post_id":76541565,"comment_id":134955458,"body_markdown":"I added the required imports.","body":"I added the required imports."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1687535428,"post_id":76541565,"comment_id":134955551,"body_markdown":"What a pain... why does Gradle require me to write that much code for such a basic feature?","body":"What a pain... why does Gradle require me to write that much code for such a basic feature?"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1687535676,"post_id":76541565,"comment_id":134955609,"body_markdown":"I guess this is his way to encourage people to use maven!","body":"I guess this is his way to encourage people to use maven!"},{"owner":{"account_id":3532915,"reputation":13290,"user_id":2951933,"accept_rate":88,"display_name":"EugenSunic"},"score":0,"creation_date":1687536789,"post_id":76541565,"comment_id":134955833,"body_markdown":"Exactly what I needed. Will adjust to my needs now. Cheers.","body":"Exactly what I needed. Will adjust to my needs now. Cheers."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":2,"creation_date":1687537525,"post_id":76541565,"comment_id":134955999,"body_markdown":"I read the [`TestResult` docs](https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/testing/TestResult.html) and added a duration to the output as well.","body":"I read the <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/testing/TestResult.html\" rel=\"nofollow noreferrer\"><code>TestResult</code> docs</a> and added a duration to the output as well."}],"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687537460,"creation_date":1687534445,"answer_id":76541565,"question_id":76541442,"body_markdown":"Use the following configuration to your `build.gradle` file:\r\n\r\n```\r\nimport org.gradle.api.tasks.testing.logging.TestExceptionFormat\r\nimport org.gradle.api.tasks.testing.logging.TestLogEvent\r\n\r\n// ...\r\n\r\ntasks.withType(Test) {\r\n    testLogging {\r\n        // set options for log level LIFECYCLE\r\n        events TestLogEvent.STARTED,\r\n                   TestLogEvent.FAILED,\r\n                   TestLogEvent.PASSED,\r\n                   TestLogEvent.SKIPPED,\r\n                   TestLogEvent.STANDARD_ERROR,\r\n                   TestLogEvent.STANDARD_OUT\r\n        exceptionFormat TestExceptionFormat.FULL\r\n        showExceptions true\r\n        showCauses true\r\n        showStackTraces true\r\n        info.events = debug.events\r\n        info.exceptionFormat = debug.exceptionFormat\r\n\r\n        afterSuite { desc, result -&gt;\r\n            if (!desc.parent) { // will match the outermost suite\r\n                def duration = String.format(&quot;%.3f sec&quot;, (result.endTime - result.startTime) / 1000)\r\n                def output = &quot;Results: ${result.resultType} (${result.testCount} tests, ${result.successfulTestCount} passed, ${result.failedTestCount} failed, ${result.skippedTestCount} skipped) ${duration}&quot;\r\n                def startItem = &#39;|  &#39;, endItem = &#39;  |&#39;\r\n                def repeatLength = startItem.length() + output.length() + endItem.length()\r\n                println(&#39;\\n&#39; + (&#39;-&#39; * repeatLength) + &#39;\\n&#39; + startItem + output + endItem + &#39;\\n&#39; + (&#39;-&#39; * repeatLength))\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis configuration will show everything even the console outuput\r\n\r\nSee this post question for more details https://stackoverflow.com/questions/3963708/gradle-how-to-display-test-results-in-the-console-in-real-time","title":"Runing junit test via gradle doesn&#39;t show the expectation","body":"<p>Use the following configuration to your <code>build.gradle</code> file:</p>\n<pre><code>import org.gradle.api.tasks.testing.logging.TestExceptionFormat\nimport org.gradle.api.tasks.testing.logging.TestLogEvent\n\n// ...\n\ntasks.withType(Test) {\n    testLogging {\n        // set options for log level LIFECYCLE\n        events TestLogEvent.STARTED,\n                   TestLogEvent.FAILED,\n                   TestLogEvent.PASSED,\n                   TestLogEvent.SKIPPED,\n                   TestLogEvent.STANDARD_ERROR,\n                   TestLogEvent.STANDARD_OUT\n        exceptionFormat TestExceptionFormat.FULL\n        showExceptions true\n        showCauses true\n        showStackTraces true\n        info.events = debug.events\n        info.exceptionFormat = debug.exceptionFormat\n\n        afterSuite { desc, result -&gt;\n            if (!desc.parent) { // will match the outermost suite\n                def duration = String.format(&quot;%.3f sec&quot;, (result.endTime - result.startTime) / 1000)\n                def output = &quot;Results: ${result.resultType} (${result.testCount} tests, ${result.successfulTestCount} passed, ${result.failedTestCount} failed, ${result.skippedTestCount} skipped) ${duration}&quot;\n                def startItem = '|  ', endItem = '  |'\n                def repeatLength = startItem.length() + output.length() + endItem.length()\n                println('\\n' + ('-' * repeatLength) + '\\n' + startItem + output + endItem + '\\n' + ('-' * repeatLength))\n            }\n        }\n    }\n}\n</code></pre>\n<p>This configuration will show everything even the console outuput</p>\n<p>See this post question for more details <a href=\"https://stackoverflow.com/questions/3963708/gradle-how-to-display-test-results-in-the-console-in-real-time\">Gradle: How to Display Test Results in the Console in Real Time?</a></p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687539385,"creation_date":1687539385,"answer_id":76542143,"question_id":76541442,"body_markdown":"Here is a modified version of the configuration that Youans shared:\r\n\r\n```groovy\r\nimport org.gradle.api.tasks.testing.logging.TestExceptionFormat\r\nimport org.gradle.api.tasks.testing.logging.TestLogEvent\r\n\r\n// ...\r\n\r\ntasks.withType(Test) {\r\n    testLogging {\r\n        // set options for log level LIFECYCLE\r\n        events TestLogEvent.FAILED,\r\n                   TestLogEvent.SKIPPED,\r\n                   TestLogEvent.STANDARD_ERROR,\r\n                   TestLogEvent.STANDARD_OUT\r\n        exceptionFormat TestExceptionFormat.FULL\r\n        showExceptions true\r\n        showCauses true\r\n        showStackTraces false\r\n        info.events = debug.events\r\n        info.exceptionFormat = debug.exceptionFormat\r\n\r\n        beforeSuite { desc -&gt;\r\n            if (!desc.name.startsWith(&quot;Gradle Test&quot;)) { \r\n                println &quot;\\nRunning ${desc.name}&quot;\r\n            }\r\n        }\r\n\r\n        afterSuite { desc, result -&gt;\r\n            def duration = String.format(&quot;%.3f sec&quot;, (result.endTime - result.startTime) / 1000)\r\n\r\n            if (desc.name.startsWith(&quot;Gradle Test Executor&quot;)) {\r\n                def output = &quot;Result: ${result.resultType} (${result.testCount} tests, ${result.successfulTestCount} passed, ${result.failedTestCount} failed, ${result.skippedTestCount} skipped) ${duration}&quot;\r\n                def startItem = &#39;|  &#39;, endItem = &#39;  |&#39;\r\n                def repeatLength = startItem.length() + output.length() + endItem.length()\r\n                println(&#39;\\n&#39; + (&#39;-&#39; * repeatLength) + &#39;\\n&#39; + startItem + output + endItem + &#39;\\n&#39; + (&#39;-&#39; * repeatLength))\r\n                return\r\n            }\r\n\r\n            if (!desc.name.startsWith(&quot;Gradle Test&quot;)) { \r\n                println &quot;Tests run: ${result.testCount}, Failures: ${result.failedTestCount}, Errors: 0, Skipped: ${result.skippedTestCount} Time elapsed: ${duration}&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nModifications:\r\n\r\n* Changed the suite detection to account for `name` patterns\r\n* Removed `TestLogEvent.STARTED` and `TestLogEvent.PASSED` from `events`\r\n* Changed `showStackTraces` to `false`\r\n\r\nIt prints the following minimal output:\r\n\r\n```none\r\nRunning gradle.example.FooTest\r\n\r\nFooTest &gt; someLibraryMethod() FAILED\r\n    org.opentest4j.AssertionFailedError: expected: &lt;1&gt; but was: &lt;2&gt;\r\nTests run: 2, Failures: 1, Errors: 0, Skipped: 0 Time elapsed: 0.045 sec\r\n\r\nRunning gradle.example.LibraryTest\r\n\r\nLibraryTest &gt; someLibraryMethodReturnsTrue() FAILED\r\n    org.opentest4j.AssertionFailedError: expected: &lt;true&gt; but was: &lt;false&gt;\r\nTests run: 1, Failures: 1, Errors: 0, Skipped: 0 Time elapsed: 0.006 sec\r\n\r\n------------------------------------------------------------------------\r\n|  Result: FAILURE (3 tests, 1 passed, 2 failed, 0 skipped) 0.331 sec  |\r\n------------------------------------------------------------------------\r\n\r\n3 tests completed, 2 failed\r\n```\r\n\r\nOf course the stack trace should probably be kept, but this will at least show the expected/actual values at a minimum.","title":"Runing junit test via gradle doesn&#39;t show the expectation","body":"<p>Here is a modified version of the configuration that Youans shared:</p>\n<pre><code>import org.gradle.api.tasks.testing.logging.TestExceptionFormat\nimport org.gradle.api.tasks.testing.logging.TestLogEvent\n\n// ...\n\ntasks.withType(Test) {\n    testLogging {\n        // set options for log level LIFECYCLE\n        events TestLogEvent.FAILED,\n                   TestLogEvent.SKIPPED,\n                   TestLogEvent.STANDARD_ERROR,\n                   TestLogEvent.STANDARD_OUT\n        exceptionFormat TestExceptionFormat.FULL\n        showExceptions true\n        showCauses true\n        showStackTraces false\n        info.events = debug.events\n        info.exceptionFormat = debug.exceptionFormat\n\n        beforeSuite { desc -&gt;\n            if (!desc.name.startsWith(&quot;Gradle Test&quot;)) { \n                println &quot;\\nRunning ${desc.name}&quot;\n            }\n        }\n\n        afterSuite { desc, result -&gt;\n            def duration = String.format(&quot;%.3f sec&quot;, (result.endTime - result.startTime) / 1000)\n\n            if (desc.name.startsWith(&quot;Gradle Test Executor&quot;)) {\n                def output = &quot;Result: ${result.resultType} (${result.testCount} tests, ${result.successfulTestCount} passed, ${result.failedTestCount} failed, ${result.skippedTestCount} skipped) ${duration}&quot;\n                def startItem = '|  ', endItem = '  |'\n                def repeatLength = startItem.length() + output.length() + endItem.length()\n                println('\\n' + ('-' * repeatLength) + '\\n' + startItem + output + endItem + '\\n' + ('-' * repeatLength))\n                return\n            }\n\n            if (!desc.name.startsWith(&quot;Gradle Test&quot;)) { \n                println &quot;Tests run: ${result.testCount}, Failures: ${result.failedTestCount}, Errors: 0, Skipped: ${result.skippedTestCount} Time elapsed: ${duration}&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Modifications:</p>\n<ul>\n<li>Changed the suite detection to account for <code>name</code> patterns</li>\n<li>Removed <code>TestLogEvent.STARTED</code> and <code>TestLogEvent.PASSED</code> from <code>events</code></li>\n<li>Changed <code>showStackTraces</code> to <code>false</code></li>\n</ul>\n<p>It prints the following minimal output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Running gradle.example.FooTest\n\nFooTest &gt; someLibraryMethod() FAILED\n    org.opentest4j.AssertionFailedError: expected: &lt;1&gt; but was: &lt;2&gt;\nTests run: 2, Failures: 1, Errors: 0, Skipped: 0 Time elapsed: 0.045 sec\n\nRunning gradle.example.LibraryTest\n\nLibraryTest &gt; someLibraryMethodReturnsTrue() FAILED\n    org.opentest4j.AssertionFailedError: expected: &lt;true&gt; but was: &lt;false&gt;\nTests run: 1, Failures: 1, Errors: 0, Skipped: 0 Time elapsed: 0.006 sec\n\n------------------------------------------------------------------------\n|  Result: FAILURE (3 tests, 1 passed, 2 failed, 0 skipped) 0.331 sec  |\n------------------------------------------------------------------------\n\n3 tests completed, 2 failed\n</code></pre>\n<p>Of course the stack trace should probably be kept, but this will at least show the expected/actual values at a minimum.</p>\n"},{"tags":[],"owner":{"account_id":18596004,"reputation":29,"user_id":13552014,"display_name":"ecormaksin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696675529,"creation_date":1696675529,"answer_id":77249436,"question_id":76541442,"body_markdown":"Is the following block easier, isn&#39;t it? ([link](https://spring.academy/courses/building-a-rest-api-with-spring-boot/lessons/test-first-lab))\r\n\r\n```\r\n// This section causes useful test output to go to the terminal.\r\ntest {\r\n    testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot; //, &quot;standardOut&quot;, &quot;standardError&quot;\r\n\r\n        showExceptions true\r\n        exceptionFormat &quot;full&quot;\r\n        showCauses true\r\n        showStackTraces true\r\n\r\n        // Change to `true` for more verbose test output\r\n        showStandardStreams = false\r\n    }\r\n}\r\n```\r\n","title":"Runing junit test via gradle doesn&#39;t show the expectation","body":"<p>Is the following block easier, isn't it? (<a href=\"https://spring.academy/courses/building-a-rest-api-with-spring-boot/lessons/test-first-lab\" rel=\"nofollow noreferrer\">link</a>)</p>\n<pre><code>// This section causes useful test output to go to the terminal.\ntest {\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot; //, &quot;standardOut&quot;, &quot;standardError&quot;\n\n        showExceptions true\n        exceptionFormat &quot;full&quot;\n        showCauses true\n        showStackTraces true\n\n        // Change to `true` for more verbose test output\n        showStandardStreams = false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3532915,"reputation":13290,"user_id":2951933,"accept_rate":88,"display_name":"EugenSunic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76541565,"answer_count":3,"score":1,"last_activity_date":1696675529,"creation_date":1687533376,"question_id":76541442,"body_markdown":"Running: `./gradlew test` triggers the test run successfully: \r\n\r\n&gt; Task :test FAILED\r\n\r\n    PerfectNumberTest &gt; Test calcPerfectNumbers() method FAILED\r\n        org.opentest4j.AssertionFailedError at PerfectNumberTest.java:51\r\n    \r\n    5 tests completed, 1 failed\r\n\r\nHowever, I do not get the output which would indicate what exactly went wrong in the test,\r\n\r\nFor instance: expected 1 instead of 2\r\n\r\nThese are the dependencies which I&#39;m using:\r\n\r\n    dependencies {\r\n        testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n    }\r\n\r\n","title":"Runing junit test via gradle doesn&#39;t show the expectation","body":"<p>Running: <code>./gradlew test</code> triggers the test run successfully:</p>\n<blockquote>\n<p>Task :test FAILED</p>\n</blockquote>\n<pre><code>PerfectNumberTest &gt; Test calcPerfectNumbers() method FAILED\n    org.opentest4j.AssertionFailedError at PerfectNumberTest.java:51\n\n5 tests completed, 1 failed\n</code></pre>\n<p>However, I do not get the output which would indicate what exactly went wrong in the test,</p>\n<p>For instance: expected 1 instead of 2</p>\n<p>These are the dependencies which I'm using:</p>\n<pre><code>dependencies {\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n}\n</code></pre>\n"},{"tags":["java","arrays","netbeans","jframe"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1696626424,"post_id":77247289,"comment_id":136182436,"body_markdown":"I don&#39;t understand what you mean by _Expected result: First array full, head to second, repeat until 5th._  Can you clarify with what the code should output (similar to the actual output)?","body":"I don&#39;t understand what you mean by <i>Expected result: First array full, head to second, repeat until 5th.</i>  Can you clarify with what the code should output (similar to the actual output)?"},{"owner":{"account_id":25962093,"reputation":5,"user_id":19678545,"display_name":"Fumble"},"score":0,"creation_date":1696627309,"post_id":77247289,"comment_id":136182561,"body_markdown":"Let&#39;s say we have an array, with following lines: [a, b, c, d, e].\na, b, c, d, e are all values.\n\nIf a is occupied, we head to b, repeat process until we reached e, then send out an message in output [ the long textfield in photo. ]","body":"Let&#39;s say we have an array, with following lines: [a, b, c, d, e]. a, b, c, d, e are all values.  If a is occupied, we head to b, repeat process until we reached e, then send out an message in output [ the long textfield in photo. ]"}],"answers":[{"comments":[{"owner":{"account_id":25962093,"reputation":5,"user_id":19678545,"display_name":"Fumble"},"score":0,"creation_date":1696627561,"post_id":77247378,"comment_id":136182588,"body_markdown":"Not really what I wanted, but, appreciate the help.\n\nMainly what I am trying to focus on is the **if statement**, everything else works perfectly fine.","body":"Not really what I wanted, but, appreciate the help.  Mainly what I am trying to focus on is the <b>if statement</b>, everything else works perfectly fine."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1696636133,"post_id":77247378,"comment_id":136183316,"body_markdown":"Actually, this answer IS exactly what you need.","body":"Actually, this answer IS exactly what you need."},{"owner":{"account_id":25962093,"reputation":5,"user_id":19678545,"display_name":"Fumble"},"score":0,"creation_date":1696636751,"post_id":77247378,"comment_id":136183354,"body_markdown":"How so?\nPlease tell me, I would actually love to know.","body":"How so? Please tell me, I would actually love to know."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1696648390,"post_id":77247378,"comment_id":136184003,"body_markdown":"In the version in your question, no state is preserved between button clicks.","body":"In the version in your question, no state is preserved between button clicks."}],"tags":[],"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696626364,"creation_date":1696626364,"answer_id":77247378,"question_id":77247289,"body_markdown":"Not sure that I followed you right, but looks like you need to move `array` and `n` outside of the method, in order to preserve the state between button clicks. Something like this:\r\n\r\n    // Inside class\r\n    private int n = 0;\r\n    private int[] array = new int[5];\r\n\r\n    private void AddButtonActionPerformed(java.awt.event.ActionEvent evt) { \r\n        int i = Integer.parseInt(input.getText());        \r\n\r\n        if (n &lt; array.length) {\r\n            array[n] = i;\r\n            System.out.println(Arrays.toString(array));\r\n            System.out.println(array.length);\r\n            n++; \r\n        } else {\r\n            output.setText(&quot;Test.&quot;);\r\n            input.setText(&quot;&quot;);\r\n        }\r\n        \r\n    }","title":"Java - Array Issues","body":"<p>Not sure that I followed you right, but looks like you need to move <code>array</code> and <code>n</code> outside of the method, in order to preserve the state between button clicks. Something like this:</p>\n<pre><code>// Inside class\nprivate int n = 0;\nprivate int[] array = new int[5];\n\nprivate void AddButtonActionPerformed(java.awt.event.ActionEvent evt) { \n    int i = Integer.parseInt(input.getText());        \n\n    if (n &lt; array.length) {\n        array[n] = i;\n        System.out.println(Arrays.toString(array));\n        System.out.println(array.length);\n        n++; \n    } else {\n        output.setText(&quot;Test.&quot;);\n        input.setText(&quot;&quot;);\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":25962093,"reputation":5,"user_id":19678545,"display_name":"Fumble"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1696648446,"answer_count":1,"score":-3,"last_activity_date":1696674370,"creation_date":1696625130,"question_id":77247289,"body_markdown":"Issue: Code although works, doesn&#39;t give proper results.\r\n\r\nCode as follows: \r\n```java\r\nprivate void AddButtonActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        // TODO add your handling code here:        \r\n        int i = Integer.parseInt(input.getText());\r\n        int n = 0;\r\n        int [] array;\r\n        \r\n        array = new int[5];\r\n        \r\n\r\n        if (n &lt; array.length) {\r\n            array[n] = i;\r\n            System.out.println(Arrays.toString(array));\r\n            System.out.println(array.length);\r\n            n++; \r\n        } else {\r\n            output.setText(&quot;Test.&quot;);\r\n            input.setText(&quot;&quot;);\r\n        }\r\n        \r\n    }\r\n```\r\n\r\nResults as follows:\r\n\r\n```java\r\n[5, 0, 0, 0, 0]\r\n5\r\n```\r\n\r\nExpected result:\r\nFirst array full, head to second, repeat until 5th.\r\n\r\nAny help is appreciated.\r\n\r\n![java jFrame photo](https://i.stack.imgur.com/UFPp2.png)\r\n\r\nAttempts in changes: \r\n* Changes in if statement, originally had different values. Changed to hopefully make work.\r\n\r\n","title":"Java - Array Issues","body":"<p>Issue: Code although works, doesn't give proper results.</p>\n<p>Code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void AddButtonActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        // TODO add your handling code here:        \n        int i = Integer.parseInt(input.getText());\n        int n = 0;\n        int [] array;\n        \n        array = new int[5];\n        \n\n        if (n &lt; array.length) {\n            array[n] = i;\n            System.out.println(Arrays.toString(array));\n            System.out.println(array.length);\n            n++; \n        } else {\n            output.setText(&quot;Test.&quot;);\n            input.setText(&quot;&quot;);\n        }\n        \n    }\n</code></pre>\n<p>Results as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[5, 0, 0, 0, 0]\n5\n</code></pre>\n<p>Expected result:\nFirst array full, head to second, repeat until 5th.</p>\n<p>Any help is appreciated.</p>\n<p><img src=\"https://i.stack.imgur.com/UFPp2.png\" alt=\"java jFrame photo\" /></p>\n<p>Attempts in changes:</p>\n<ul>\n<li>Changes in if statement, originally had different values. Changed to hopefully make work.</li>\n</ul>\n"},{"tags":["java","spring","kotlin"],"owner":{"account_id":23473387,"reputation":1,"user_id":22700183,"display_name":"Ghaylan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696674160,"creation_date":1696671687,"question_id":77249230,"body_markdown":"I am working on a Spring Boot microservice application using Kotlin, where I have developed a library that includes essential features and configurations shared across all of my Spring services. To optimize query development for MongoDB, I have implemented a dynamic field path builder. Instead of hardcoding paths like &quot;owner.name.firstName,&quot; I utilize a builder pattern that leverages reflection or strings, as shown below:\r\n\r\n\r\n```\r\nMongoField.init(Product::owner)\r\n      .nested(Person::name)\r\n      .nested(PersonName::firstName)\r\n      .build\r\n```\r\n\r\nWhile this approach offers structure and flexibility, I find that hardcoding paths can be more straightforward for readability. I&#39;m exploring if there&#39;s a way in Java or Kotlin to combine the benefits of both approaches, particularly by incorporating advanced features like field validation and autocompletion.\r\n\r\nIs there a way that allows me to create field paths using a hardcoded style, but with added validation and autocompletion capabilities? My ideal solution would involve real-time validation, highlighting erroneous fields in red, and providing autocompletion suggestions for valid fields, similar to modern code editors.\r\n\r\nFor example, when the correct path is &quot;owner.name.firstName&quot; all fields are in the valid colors, and when I type this path &quot;owner.na.firstName,&quot; where &quot;na&quot; is not correct, the editor marks it as an error and prevents me from building the app.","title":"Advanced field path creation in Spring Boot microservices using Java/Kotlin","body":"<p>I am working on a Spring Boot microservice application using Kotlin, where I have developed a library that includes essential features and configurations shared across all of my Spring services. To optimize query development for MongoDB, I have implemented a dynamic field path builder. Instead of hardcoding paths like &quot;owner.name.firstName,&quot; I utilize a builder pattern that leverages reflection or strings, as shown below:</p>\n<pre><code>MongoField.init(Product::owner)\n      .nested(Person::name)\n      .nested(PersonName::firstName)\n      .build\n</code></pre>\n<p>While this approach offers structure and flexibility, I find that hardcoding paths can be more straightforward for readability. I'm exploring if there's a way in Java or Kotlin to combine the benefits of both approaches, particularly by incorporating advanced features like field validation and autocompletion.</p>\n<p>Is there a way that allows me to create field paths using a hardcoded style, but with added validation and autocompletion capabilities? My ideal solution would involve real-time validation, highlighting erroneous fields in red, and providing autocompletion suggestions for valid fields, similar to modern code editors.</p>\n<p>For example, when the correct path is &quot;owner.name.firstName&quot; all fields are in the valid colors, and when I type this path &quot;owner.na.firstName,&quot; where &quot;na&quot; is not correct, the editor marks it as an error and prevents me from building the app.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1696677042,"post_id":77249232,"comment_id":136185986,"body_markdown":"Also, you should not check for 18.5 twice, because this will get you into a mess, too. 18.5 will register as overweight, because it is not included in the second if. If you wanted to explicitly check it, you should write `if (18.5 &lt;= bmi &amp;&amp; bmi &lt; 24.9)`. So watch `&lt;` and `&lt;=` problems. In your case above, the second if should only be `else if (bmi &lt; 24.9)`. Another thing: In composed checks related to ranges, it&#39;s also easier only to use left-to right syntax, so never to use `&gt;`, only `=` and `&lt;=` and `&lt;`,  because that way it&#39;s a lot easier to visually &#39;see&#39; your ranges and later adjust them.","body":"Also, you should not check for 18.5 twice, because this will get you into a mess, too. 18.5 will register as overweight, because it is not included in the second if. If you wanted to explicitly check it, you should write <code>if (18.5 &lt;= bmi &amp;&amp; bmi &lt; 24.9)</code>. So watch <code>&lt;</code> and <code>&lt;=</code> problems. In your case above, the second if should only be <code>else if (bmi &lt; 24.9)</code>. Another thing: In composed checks related to ranges, it&#39;s also easier only to use left-to right syntax, so never to use <code>&gt;</code>, only <code>=</code> and <code>&lt;=</code> and <code>&lt;</code>,  because that way it&#39;s a lot easier to visually &#39;see&#39; your ranges and later adjust them."},{"owner":{"account_id":28893473,"reputation":23,"user_id":22130054,"display_name":"Cyrix"},"score":0,"creation_date":1696758587,"post_id":77249232,"comment_id":136192136,"body_markdown":"I did the same thing in the last else if. and also if my bmi was less than equal to 18.5 that would not be healthy though","body":"I did the same thing in the last else if. and also if my bmi was less than equal to 18.5 that would not be healthy though"}],"answers":[{"comments":[{"owner":{"account_id":28893473,"reputation":23,"user_id":22130054,"display_name":"Cyrix"},"score":0,"creation_date":1696758524,"post_id":77249255,"comment_id":136192128,"body_markdown":"Your solution is really simple but can you suggest any other way without using return? Ik its the most simple but I don&#39;t think we have learned about return yet in my course.","body":"Your solution is really simple but can you suggest any other way without using return? Ik its the most simple but I don&#39;t think we have learned about return yet in my course."},{"owner":{"account_id":21773950,"reputation":368,"user_id":16076673,"display_name":"jdkramhoft"},"score":1,"creation_date":1696779915,"post_id":77249255,"comment_id":136194152,"body_markdown":"@Cyrix in that case you can do something like add `boolean validInput = false` at the start of your program and then set `validInput = true` inside your  `&quot;m&quot;` and `&quot;i&quot;` cases. This would allow you to use a check like `if (validInput &amp;&amp; bmi &lt; 18.5)` in your three result cases. It&#39;s a bit silly, but would work.","body":"@Cyrix in that case you can do something like add <code>boolean validInput = false</code> at the start of your program and then set <code>validInput = true</code> inside your  <code>&quot;m&quot;</code> and <code>&quot;i&quot;</code> cases. This would allow you to use a check like <code>if (validInput &amp;&amp; bmi &lt; 18.5)</code> in your three result cases. It&#39;s a bit silly, but would work."}],"tags":[],"owner":{"account_id":21773950,"reputation":368,"user_id":16076673,"display_name":"jdkramhoft"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696672209,"creation_date":1696672209,"answer_id":77249255,"question_id":77249232,"body_markdown":"You are initializing your `bmi` variable as 0, and still checking `if (bmi &lt; 18.5)` after your Invalid Input print. There&#39;s nothing in your code that tells Java to stop executing at `System.out.println(&quot;Invalid Input!&quot;);` so it will just keep running.\r\n\r\nThe simplest way to get from what you have to the behaviour you want is to simply return from the main function when you receive invalid input:\r\n\r\n    else {\r\n        System.out.println(&quot;Invalid Input!&quot;);\r\n        reader.close();\r\n        return;\r\n    }\r\n\r\n","title":"Why is my code not working as intended? The error message also prints the proper output message","body":"<p>You are initializing your <code>bmi</code> variable as 0, and still checking <code>if (bmi &lt; 18.5)</code> after your Invalid Input print. There's nothing in your code that tells Java to stop executing at <code>System.out.println(&quot;Invalid Input!&quot;);</code> so it will just keep running.</p>\n<p>The simplest way to get from what you have to the behaviour you want is to simply return from the main function when you receive invalid input:</p>\n<pre><code>else {\n    System.out.println(&quot;Invalid Input!&quot;);\n    reader.close();\n    return;\n}\n</code></pre>\n"}],"owner":{"account_id":28893473,"reputation":23,"user_id":22130054,"display_name":"Cyrix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77249255,"answer_count":1,"score":0,"last_activity_date":1696674080,"creation_date":1696671732,"question_id":77249232,"body_markdown":"The code part here which specifically doesn&#39;t work I have commented it out.\r\n\r\nI&#39;m in a rush, so I will answer more in the comments.\r\n\r\nWhen I type in something other than `m` or `I` for the units question, when printing the error message as it should, it also prints a statement which would be true if the program continued further if I had typed `m` or `i`.\r\n\r\nWhy? Why aren&#39;t my if else if and else not connecting properly?\r\n\r\nSome context, I&#39;m a novice programmer learning Java in university and this is one of my optional lab projects where we have to build a BMI calculator. A calculator working only for the metric system would be enough, but they said you could optionally add in an option to calculate it using the imperial system also, which I decided to do.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class BmiCalculator {\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\t//This part greets them and asks which Unit system they would like to use...\r\n\t\tScanner reader = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Welcome to Freddy Fazbear&#39;s BMI Calculator!&quot;);\r\n\t\tSystem.out.println(&quot;[=========================================]&quot;);\r\n\t\tSystem.out.print(&quot;What unit system do you want to use? metric or imperial (m/i)?: &quot;);\r\n\t\tString units = reader.next();\r\n\t\t//Initializing all my variables since the Values arent getting read outside the loop without them.\r\n\t\tdouble meters, kilos, feet, lbs, bmi = 0;\r\n\t\t\r\n\t\t//Conditional set of statements which Runs if user selected &quot;m&quot; or the Metric system.\r\n\t\tif (units.equalsIgnoreCase(&quot;m&quot;)) \r\n\t\t{\r\n\t\t\t//this part asks the users for height and weight and stores it in respective bariables\r\n\t\t\tSystem.out.print(&quot;Please enter your Height(m): &quot;);\r\n\t\t\tmeters = (float) reader.nextDouble();\r\n\t\t\tSystem.out.print(&quot;Please enter your Weight(kg): &quot;);\r\n\t\t\tkilos =  reader.nextDouble();\r\n\t\t\t\r\n\t\t\t//this part calculates the BMI, converts meters and kilos into feet and lbs then displays the result\r\n\t\t\tbmi = (float) (kilos / (meters * meters));\r\n\t\t\tfeet = meters*3.28;\r\n\t\t\tlbs = kilos*2.2;\r\n\t\t\tSystem.out.println(&quot;Your BMI is ---&gt; &quot; + bmi);\r\n\t\t\tSystem.out.println(&quot;Your height in (meters) is &quot; + meters);\r\n\t\t\tSystem.out.println(&quot;Your weight in (kilograms) is &quot; + kilos);\r\n\t\t\tSystem.out.println(&quot;Your height in (feet) is &quot; + feet);\r\n\t\t\tSystem.out.println(&quot;Your weight in (pounds) is &quot; + lbs);\r\n\t\t}\r\n\t\t\r\n\t\t//Conditional set of statements which Runs if user selected &quot;i&quot; or the Imperial system.\r\n\t\telse if (units.equalsIgnoreCase(&quot;i&quot;)) \r\n\t\t{\r\n\t\t\t//this part asks the users for height and weight and stores it in respective bariables\r\n\t\t\tSystem.out.print(&quot;Please enter your Height(feet): &quot;);\r\n\t\t\tfeet = (double) reader.nextDouble();\r\n\t\t\tSystem.out.print(&quot;Please enter your Weight(pounds): &quot;);\r\n\t\t\tlbs =  reader.nextDouble();\r\n\t\t\t\r\n\t\t\t////this part calculates the BMI by converting the feet value into inches then using the standard Imperial formula\r\n\t\t\tmeters = feet/3.28;\r\n\t\t\tkilos = lbs/2.2;\r\n\t\t\t//also converts feet and lbs into meters and kilos then displays the result later. \r\n\t\t\tfeet = feet*12;\r\n\t\t\tbmi = (float) 703*(lbs / (feet * feet));\r\n\t\t\tSystem.out.println(&quot;============================&quot;);\r\n\t\t\tSystem.out.println(&quot;Your BMI is ---&gt; &quot; + bmi);\r\n\t\t\tSystem.out.println(&quot;Your height in (meters) is &quot; + meters);\r\n\t\t\tSystem.out.println(&quot;Your weight in (kilograms) is &quot; + kilos);\r\n\t\t\t//converts inches to feet again to display it only as feet rather than inches.\r\n\t\t\tSystem.out.println(&quot;Your height in (feet) is &quot; + feet/12);\r\n\t\t\tSystem.out.println(&quot;Your weight in (pounds) is &quot; + lbs);\r\n\t\t}\r\n\t\t//error message when the user enters something else other than i or m in units variable.\r\n\t\t//unfortunately it doesnt work completely as intended.\r\n\t\t//else {\r\n\t\t\t//System.out.println(&quot;Invalid Input!&quot;);\r\n\t\t//}\r\n\t\t\r\n\t\t//different bmi result messages based on the ranges given for BMI.\r\n\t\tif (bmi &lt; 18.5) \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You are Underweight&quot;);\r\n\t\t\tSystem.out.println(&quot;Gain some weight skinny!&quot;);\r\n\t\t}\r\n\t\telse if (bmi &gt; 18.5 &amp;&amp; bmi &lt; 24.9)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You are Healthy!&quot;);\r\n\t\t\tSystem.out.println(&quot;Keep it up buddy!&quot;);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You are Overweight!&quot;);\r\n\t\t\tSystem.out.println(&quot;Lose some weight chubby!&quot;);\r\n\t\t}\r\n\t\t//closing the reader because of the yellow line at the top\r\n\t\treader.close();\r\n\t}\r\n\r\n}\r\n```","title":"Why is my code not working as intended? The error message also prints the proper output message","body":"<p>The code part here which specifically doesn't work I have commented it out.</p>\n<p>I'm in a rush, so I will answer more in the comments.</p>\n<p>When I type in something other than <code>m</code> or <code>I</code> for the units question, when printing the error message as it should, it also prints a statement which would be true if the program continued further if I had typed <code>m</code> or <code>i</code>.</p>\n<p>Why? Why aren't my if else if and else not connecting properly?</p>\n<p>Some context, I'm a novice programmer learning Java in university and this is one of my optional lab projects where we have to build a BMI calculator. A calculator working only for the metric system would be enough, but they said you could optionally add in an option to calculate it using the imperial system also, which I decided to do.</p>\n<pre><code>import java.util.Scanner;\n\npublic class BmiCalculator {\n\n    public static void main(String[] args) \n    {\n        //This part greets them and asks which Unit system they would like to use...\n        Scanner reader = new Scanner(System.in);\n        System.out.println(&quot;Welcome to Freddy Fazbear's BMI Calculator!&quot;);\n        System.out.println(&quot;[=========================================]&quot;);\n        System.out.print(&quot;What unit system do you want to use? metric or imperial (m/i)?: &quot;);\n        String units = reader.next();\n        //Initializing all my variables since the Values arent getting read outside the loop without them.\n        double meters, kilos, feet, lbs, bmi = 0;\n        \n        //Conditional set of statements which Runs if user selected &quot;m&quot; or the Metric system.\n        if (units.equalsIgnoreCase(&quot;m&quot;)) \n        {\n            //this part asks the users for height and weight and stores it in respective bariables\n            System.out.print(&quot;Please enter your Height(m): &quot;);\n            meters = (float) reader.nextDouble();\n            System.out.print(&quot;Please enter your Weight(kg): &quot;);\n            kilos =  reader.nextDouble();\n            \n            //this part calculates the BMI, converts meters and kilos into feet and lbs then displays the result\n            bmi = (float) (kilos / (meters * meters));\n            feet = meters*3.28;\n            lbs = kilos*2.2;\n            System.out.println(&quot;Your BMI is ---&gt; &quot; + bmi);\n            System.out.println(&quot;Your height in (meters) is &quot; + meters);\n            System.out.println(&quot;Your weight in (kilograms) is &quot; + kilos);\n            System.out.println(&quot;Your height in (feet) is &quot; + feet);\n            System.out.println(&quot;Your weight in (pounds) is &quot; + lbs);\n        }\n        \n        //Conditional set of statements which Runs if user selected &quot;i&quot; or the Imperial system.\n        else if (units.equalsIgnoreCase(&quot;i&quot;)) \n        {\n            //this part asks the users for height and weight and stores it in respective bariables\n            System.out.print(&quot;Please enter your Height(feet): &quot;);\n            feet = (double) reader.nextDouble();\n            System.out.print(&quot;Please enter your Weight(pounds): &quot;);\n            lbs =  reader.nextDouble();\n            \n            ////this part calculates the BMI by converting the feet value into inches then using the standard Imperial formula\n            meters = feet/3.28;\n            kilos = lbs/2.2;\n            //also converts feet and lbs into meters and kilos then displays the result later. \n            feet = feet*12;\n            bmi = (float) 703*(lbs / (feet * feet));\n            System.out.println(&quot;============================&quot;);\n            System.out.println(&quot;Your BMI is ---&gt; &quot; + bmi);\n            System.out.println(&quot;Your height in (meters) is &quot; + meters);\n            System.out.println(&quot;Your weight in (kilograms) is &quot; + kilos);\n            //converts inches to feet again to display it only as feet rather than inches.\n            System.out.println(&quot;Your height in (feet) is &quot; + feet/12);\n            System.out.println(&quot;Your weight in (pounds) is &quot; + lbs);\n        }\n        //error message when the user enters something else other than i or m in units variable.\n        //unfortunately it doesnt work completely as intended.\n        //else {\n            //System.out.println(&quot;Invalid Input!&quot;);\n        //}\n        \n        //different bmi result messages based on the ranges given for BMI.\n        if (bmi &lt; 18.5) \n        {\n            System.out.println(&quot;You are Underweight&quot;);\n            System.out.println(&quot;Gain some weight skinny!&quot;);\n        }\n        else if (bmi &gt; 18.5 &amp;&amp; bmi &lt; 24.9)\n        {\n            System.out.println(&quot;You are Healthy!&quot;);\n            System.out.println(&quot;Keep it up buddy!&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;You are Overweight!&quot;);\n            System.out.println(&quot;Lose some weight chubby!&quot;);\n        }\n        //closing the reader because of the yellow line at the top\n        reader.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1618985812,"post_id":67190186,"comment_id":118764450,"body_markdown":"Why did you annotate `LoginController` with `@RestController` and not `@Controller`? The error page tells you that `/login` has not been found.","body":"Why did you annotate <code>LoginController</code> with <code>@RestController</code> and not <code>@Controller</code>? The error page tells you that <code>&#47;login</code> has not been found."},{"owner":{"account_id":21095766,"reputation":47,"user_id":15506775,"display_name":"Mrudula Trikande"},"score":0,"creation_date":1618986116,"post_id":67190186,"comment_id":118764531,"body_markdown":"Ok I will change it.","body":"Ok I will change it."},{"owner":{"account_id":21095766,"reputation":47,"user_id":15506775,"display_name":"Mrudula Trikande"},"score":0,"creation_date":1618986380,"post_id":67190186,"comment_id":118764610,"body_markdown":"I change `@RestController` to `@Controller` now log shows  o.s.web.servlet.PageNotFound : No mapping for GET /login still problem not solved. @dan1st","body":"I change <code>@RestController</code> to <code>@Controller</code> now log shows  o.s.web.servlet.PageNotFound : No mapping for GET /login still problem not solved. @dan1st"},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1618991238,"post_id":67190186,"comment_id":118766524,"body_markdown":"Do you have context path defined in application.properties ?","body":"Do you have context path defined in application.properties ?"},{"owner":{"account_id":21095766,"reputation":47,"user_id":15506775,"display_name":"Mrudula Trikande"},"score":0,"creation_date":1618991920,"post_id":67190186,"comment_id":118766857,"body_markdown":"No. ```#mvc view\nspring.mvc.view.prefix=/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\nspring.mvc.static-path-pattern=/resources/**\nserver.port=8080``` This is my application.properties  @Alien","body":"No. <code>#mvc view spring.mvc.view.prefix=&#47;WEB-INF&#47;views&#47; spring.mvc.view.suffix=.jsp spring.mvc.static-path-pattern=&#47;resources&#47;** server.port=8080</code> This is my application.properties  @Alien"}],"answers":[{"comments":[{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1618991065,"post_id":67191196,"comment_id":118766450,"body_markdown":"Doesn&#39;t matter actually...if method not specified it works for GET","body":"Doesn&#39;t matter actually...if method not specified it works for GET"}],"tags":[],"owner":{"account_id":20668210,"reputation":75,"user_id":15174539,"display_name":"lee yiyang"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1618990315,"creation_date":1618990315,"answer_id":67191196,"question_id":67190186,"body_markdown":"You didn&#39;t specify the method and value. Refer the screenshot below. \r\nhttps://www.baeldung.com/spring-requestmapping\r\nFor example: \r\n\r\n    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n        public ModelAndView checkMVC()\r\n        {\r\n            ModelAndView mav= new ModelAndView(&quot;LoginForm&quot;);\r\n                    \r\n            return mav;\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/66Axt.png\r\n","title":"How to solve: ** Whitelabel Error Page.** I am getting **This application has no explicit mapping for /error, so you are seeing this as a fallback.**","body":"<p>You didn't specify the method and value. Refer the screenshot below.\n<a href=\"https://www.baeldung.com/spring-requestmapping\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-requestmapping</a>\nFor example:</p>\n<pre><code>@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\n@ResponseBody\n    public ModelAndView checkMVC()\n    {\n        ModelAndView mav= new ModelAndView(&quot;LoginForm&quot;);\n                \n        return mav;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/66Axt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/66Axt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28525367,"reputation":1,"user_id":21833514,"display_name":"Yash dhakate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683486752,"creation_date":1683360909,"answer_id":76187842,"question_id":67190186,"body_markdown":"Whitelabel Error Page\r\nThis application has no explicit mapping for `/error`, so you are seeing this as a fallback.\r\n\r\n```none\r\nSat May 06 13:43:20 IST 2023\r\nThere was an unexpected error (type=Not Found, status=404).\r\nNo message available\r\n```","title":"How to solve: ** Whitelabel Error Page.** I am getting **This application has no explicit mapping for /error, so you are seeing this as a fallback.**","body":"<p>Whitelabel Error Page\nThis application has no explicit mapping for <code>/error</code>, so you are seeing this as a fallback.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Sat May 06 13:43:20 IST 2023\nThere was an unexpected error (type=Not Found, status=404).\nNo message available\n</code></pre>\n"}],"owner":{"account_id":21095766,"reputation":47,"user_id":15506775,"display_name":"Mrudula Trikande"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696673321,"creation_date":1618985562,"question_id":67190186,"body_markdown":"While I am hitting URL: http://localhost:8080/login I am getting \r\n**Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nWed Apr 21 11:24:00 IST 2021\r\nThere was an unexpected error (type=Not Found, status=404).** error. How can I solve this?\r\n\r\n**Main Class**\r\n```\r\npackage com.springboot.controller;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n\r\n@EntityScan(basePackages=&quot;com.springboot.controller.model&quot;)\r\n@EnableJpaRepositories(basePackages=&quot;com.springboot.controller.Repository&quot;)\r\n@SpringBootApplication(scanBasePackages=&quot;com.springboot.controller&quot;)\r\npublic class RestApi {\r\n\t \r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RestApi.class, args);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n**LoginController**\r\n```\r\npackage com.springboot.controller.Resource;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\n\r\n\r\n@RestController\r\npublic class LoginController {\r\n\t\r\n\t@RequestMapping(&quot;/login&quot;)\r\n\t@ResponseBody\r\n\tpublic ModelAndView checkMVC()\r\n\t{\r\n\t\tModelAndView mav= new ModelAndView(&quot;LoginForm&quot;);\r\n\t\t\t\t\r\n\t\treturn mav;\r\n\t}\r\n}\r\n```\r\n\r\n**UserRepo.java**\r\n```\r\npackage com.springboot.controller.Repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.springboot.controller.model.User;\r\n\r\n@Service(&quot;UserRepo&quot;)\r\npublic interface UserRepo extends JpaRepository&lt;User,Integer&gt; {\r\n\r\n\tString findByEmail(String email);\r\n\r\n}\r\n```\r\n\r\n**Pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springboot.controller&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cunsultustoday-web-services&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;cunsultustoday-web-services&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n           &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n           &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n           &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;    \r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n              &lt;/dependency&gt;\r\n             \r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**Log**\r\n```\r\n :: Spring Boot ::                (v2.4.3)\r\n\r\n2021-04-21 11:23:50.952  INFO 13080 --- [           main] com.springboot.controller.RestApi        : Starting RestApi using Java 15.0.2 on Dell with PID 13080 (C:\\Users\\Ins\\Desktop\\Project\\CunsultUsToday\\CunsultUsToday\\target\\classes started by Ins in C:\\Users\\Ins\\Desktop\\Project\\CunsultUsToday\\CunsultUsToday)\r\n2021-04-21 11:23:50.955  INFO 13080 --- [           main] com.springboot.controller.RestApi        : No active profile set, falling back to default profiles: default\r\n2021-04-21 11:23:51.546  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\r\n2021-04-21 11:23:51.546  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2021-04-21 11:23:51.604  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 3 JPA repository interfaces.\r\n2021-04-21 11:23:51.795  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\r\n2021-04-21 11:23:51.796  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\r\n2021-04-21 11:23:51.816  INFO 13080 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.springboot.controller.Repository.ClgRegRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.\r\n2021-04-21 11:23:51.817  INFO 13080 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.springboot.controller.Repository.StudentRegRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.\r\n2021-04-21 11:23:51.818  INFO 13080 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.springboot.controller.Repository.UserRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.\r\n2021-04-21 11:23:51.818  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.\r\n2021-04-21 11:23:52.325  INFO 13080 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2021-04-21 11:23:52.342  INFO 13080 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-04-21 11:23:52.343  INFO 13080 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.43]\r\n2021-04-21 11:23:52.698  INFO 13080 --- [           main] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n2021-04-21 11:23:52.709  INFO 13080 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-04-21 11:23:52.709  INFO 13080 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1688 ms\r\n2021-04-21 11:23:52.881  INFO 13080 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2021-04-21 11:23:52.940  INFO 13080 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.28.Final\r\n2021-04-21 11:23:53.087  INFO 13080 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2021-04-21 11:23:53.206  INFO 13080 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2021-04-21 11:23:53.377  INFO 13080 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2021-04-21 11:23:53.396  INFO 13080 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n2021-04-21 11:23:54.035  INFO 13080 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2021-04-21 11:23:54.044  INFO 13080 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2021-04-21 11:23:54.556  WARN 13080 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2021-04-21 11:23:54.651  INFO 13080 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n2021-04-21 11:23:54.990  INFO 13080 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2021-04-21 11:23:54.998  INFO 13080 --- [           main] com.springboot.controller.RestApi        : Started RestApi in 4.441 seconds (JVM running for 5.327)\r\n2021-04-21 11:24:00.446  INFO 13080 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2021-04-21 11:24:00.446  INFO 13080 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2021-04-21 11:24:00.447  INFO 13080 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\r\n```\r\nThere is no error shown in log but still I am getting this **whitelabel error page**\r\n\r\nPlease Help. \r\n","title":"How to solve: ** Whitelabel Error Page.** I am getting **This application has no explicit mapping for /error, so you are seeing this as a fallback.**","body":"<p>While I am hitting URL: http://localhost:8080/login I am getting\n<strong>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nWed Apr 21 11:24:00 IST 2021\nThere was an unexpected error (type=Not Found, status=404).</strong> error. How can I solve this?</p>\n<p><strong>Main Class</strong></p>\n<pre><code>package com.springboot.controller;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n\n@EntityScan(basePackages=&quot;com.springboot.controller.model&quot;)\n@EnableJpaRepositories(basePackages=&quot;com.springboot.controller.Repository&quot;)\n@SpringBootApplication(scanBasePackages=&quot;com.springboot.controller&quot;)\npublic class RestApi {\n     \n    public static void main(String[] args) {\n        SpringApplication.run(RestApi.class, args);\n\n    }\n\n}\n</code></pre>\n<p><strong>LoginController</strong></p>\n<pre><code>package com.springboot.controller.Resource;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.ModelAndView;\n\n\n\n@RestController\npublic class LoginController {\n    \n    @RequestMapping(&quot;/login&quot;)\n    @ResponseBody\n    public ModelAndView checkMVC()\n    {\n        ModelAndView mav= new ModelAndView(&quot;LoginForm&quot;);\n                \n        return mav;\n    }\n}\n</code></pre>\n<p><strong>UserRepo.java</strong></p>\n<pre><code>package com.springboot.controller.Repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Service;\n\nimport com.springboot.controller.model.User;\n\n@Service(&quot;UserRepo&quot;)\npublic interface UserRepo extends JpaRepository&lt;User,Integer&gt; {\n\n    String findByEmail(String email);\n\n}\n</code></pre>\n<p><strong>Pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springboot.controller&lt;/groupId&gt;\n    &lt;artifactId&gt;cunsultustoday-web-services&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;cunsultustoday-web-services&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n           &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n            &lt;version&gt;1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n           &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n                        &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;    \n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n                &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n              &lt;/dependency&gt;\n             \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Log</strong></p>\n<pre><code> :: Spring Boot ::                (v2.4.3)\n\n2021-04-21 11:23:50.952  INFO 13080 --- [           main] com.springboot.controller.RestApi        : Starting RestApi using Java 15.0.2 on Dell with PID 13080 (C:\\Users\\Ins\\Desktop\\Project\\CunsultUsToday\\CunsultUsToday\\target\\classes started by Ins in C:\\Users\\Ins\\Desktop\\Project\\CunsultUsToday\\CunsultUsToday)\n2021-04-21 11:23:50.955  INFO 13080 --- [           main] com.springboot.controller.RestApi        : No active profile set, falling back to default profiles: default\n2021-04-21 11:23:51.546  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-04-21 11:23:51.546  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-04-21 11:23:51.604  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 3 JPA repository interfaces.\n2021-04-21 11:23:51.795  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-04-21 11:23:51.796  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\n2021-04-21 11:23:51.816  INFO 13080 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.springboot.controller.Repository.ClgRegRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.\n2021-04-21 11:23:51.817  INFO 13080 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.springboot.controller.Repository.StudentRegRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.\n2021-04-21 11:23:51.818  INFO 13080 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.springboot.controller.Repository.UserRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.\n2021-04-21 11:23:51.818  INFO 13080 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.\n2021-04-21 11:23:52.325  INFO 13080 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-04-21 11:23:52.342  INFO 13080 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-04-21 11:23:52.343  INFO 13080 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.43]\n2021-04-21 11:23:52.698  INFO 13080 --- [           main] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n2021-04-21 11:23:52.709  INFO 13080 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-04-21 11:23:52.709  INFO 13080 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1688 ms\n2021-04-21 11:23:52.881  INFO 13080 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-04-21 11:23:52.940  INFO 13080 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.28.Final\n2021-04-21 11:23:53.087  INFO 13080 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-04-21 11:23:53.206  INFO 13080 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-04-21 11:23:53.377  INFO 13080 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-04-21 11:23:53.396  INFO 13080 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2021-04-21 11:23:54.035  INFO 13080 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2021-04-21 11:23:54.044  INFO 13080 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-04-21 11:23:54.556  WARN 13080 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2021-04-21 11:23:54.651  INFO 13080 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2021-04-21 11:23:54.990  INFO 13080 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-04-21 11:23:54.998  INFO 13080 --- [           main] com.springboot.controller.RestApi        : Started RestApi in 4.441 seconds (JVM running for 5.327)\n2021-04-21 11:24:00.446  INFO 13080 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2021-04-21 11:24:00.446  INFO 13080 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2021-04-21 11:24:00.447  INFO 13080 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\n</code></pre>\n<p>There is no error shown in log but still I am getting this <strong>whitelabel error page</strong></p>\n<p>Please Help.</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696662883,"post_id":77248760,"comment_id":136184811,"body_markdown":"In any case, you may want to look into the difference between `||` (OR) and `&amp;&amp;` (AND). And you may want to look into the rules of prime numbers, because checking divisibility by 2, 3 or 5 is not sufficient.","body":"In any case, you may want to look into the difference between <code>||</code> (OR) and <code>&amp;&amp;</code> (AND). And you may want to look into the rules of prime numbers, because checking divisibility by 2, 3 or 5 is not sufficient."},{"owner":{"account_id":29352300,"reputation":61,"user_id":22489120,"display_name":"Jack M"},"score":0,"creation_date":1696663348,"post_id":77248760,"comment_id":136184841,"body_markdown":"@MarkRotteveel, thanks for the feedback. What do you mean by the formatting though?","body":"@MarkRotteveel, thanks for the feedback. What do you mean by the formatting though?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696663484,"post_id":77248760,"comment_id":136184847,"body_markdown":"Your indentation and placement of braces is weird and makes it hard to read your code. I suggest you look at some common Java style guides and follow their suggestions (or use the formatter of your Java IDE).","body":"Your indentation and placement of braces is weird and makes it hard to read your code. I suggest you look at some common Java style guides and follow their suggestions (or use the formatter of your Java IDE)."},{"owner":{"account_id":29352300,"reputation":61,"user_id":22489120,"display_name":"Jack M"},"score":0,"creation_date":1696663713,"post_id":77248760,"comment_id":136184872,"body_markdown":"@MarkRotteveel noted. Thanks.","body":"@MarkRotteveel noted. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":29352300,"reputation":61,"user_id":22489120,"display_name":"Jack M"},"score":0,"creation_date":1696665365,"post_id":77248844,"comment_id":136185018,"body_markdown":"Thanks for that, I thought it was my &quot;maths&quot; that was failing me.","body":"Thanks for that, I thought it was my &quot;maths&quot; that was failing me."}],"tags":[],"owner":{"account_id":17069028,"reputation":94,"user_id":12350325,"display_name":"bahman karami"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696673110,"creation_date":1696664370,"answer_id":77248844,"question_id":77248760,"body_markdown":"The logic error that you are getting in your code is because your condition for checking prime numbers is incorrect. You are only checking if the number is not divisible by 2, 3, or 5, but that is not enough to determine if a number is prime or not. For example, the number 49 is not divisible by 2, 3, or 5, but it is not a prime number either, because it is divisible by 7. A prime number is a number that is only divisible by itself and 1. So, you need to check if the number is divisible by any other number from 2 to its square root. If it is, then it is not a prime number. If it is not, then it is a prime number.\r\n\r\nOne way to fix your code is to use a boolean variable to keep track of whether the number is prime or not, and use a `for` loop to check all the possible divisors from 2 to the square root of the number. If any of them divides the number without remainder, then set the boolean variable to false and break out of the loop. If none of them does, then set the boolean variable to true and add the number to the `primeNumbers` list. Here is an example of how you can do that:\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.ArrayList;\r\n\r\nclass PrimeDirective {\r\n    \r\n    // Add your methods here:\r\n    public void findPrime(int[] nums) {\r\n        ArrayList&lt;Integer&gt; primeNumbers = new ArrayList&lt;Integer&gt;();\r\n        for (int num : nums) {\r\n            boolean isPrime = true; // assume the number is prime\r\n            if (num == 2) { // special case for 2\r\n                isPrime = true;\r\n            }\r\n            else if (num &gt; 2) { // check numbers greater than 2\r\n                for (int i = 2; i &lt;= Math.sqrt(num); i++) { // loop from 2 to square root of num\r\n                    if (num % i == 0) { // if num is divisible by i\r\n                        isPrime = false; // set isPrime to false\r\n                        break; // break out of the loop\r\n                    }\r\n                }\r\n            }\r\n            else { // handle numbers less than or equal to 1\r\n                isPrime = false; // set isPrime to false\r\n            }\r\n            if (isPrime) { // if isPrime is true\r\n                primeNumbers.add(num); // add num to the list\r\n            }\r\n        }\r\n        System.out.println(primeNumbers); // print the list\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        PrimeDirective pd = new PrimeDirective();\r\n        int[] numbers = {6, 29, 28, 33, 11, 100, 101, 43, 89};\r\n        pd.findPrime(numbers);\r\n    }\r\n}\r\n```\r\n","title":"Logic error when finding prime numbers in an array","body":"<p>The logic error that you are getting in your code is because your condition for checking prime numbers is incorrect. You are only checking if the number is not divisible by 2, 3, or 5, but that is not enough to determine if a number is prime or not. For example, the number 49 is not divisible by 2, 3, or 5, but it is not a prime number either, because it is divisible by 7. A prime number is a number that is only divisible by itself and 1. So, you need to check if the number is divisible by any other number from 2 to its square root. If it is, then it is not a prime number. If it is not, then it is a prime number.</p>\n<p>One way to fix your code is to use a boolean variable to keep track of whether the number is prime or not, and use a <code>for</code> loop to check all the possible divisors from 2 to the square root of the number. If any of them divides the number without remainder, then set the boolean variable to false and break out of the loop. If none of them does, then set the boolean variable to true and add the number to the <code>primeNumbers</code> list. Here is an example of how you can do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.ArrayList;\n\nclass PrimeDirective {\n    \n    // Add your methods here:\n    public void findPrime(int[] nums) {\n        ArrayList&lt;Integer&gt; primeNumbers = new ArrayList&lt;Integer&gt;();\n        for (int num : nums) {\n            boolean isPrime = true; // assume the number is prime\n            if (num == 2) { // special case for 2\n                isPrime = true;\n            }\n            else if (num &gt; 2) { // check numbers greater than 2\n                for (int i = 2; i &lt;= Math.sqrt(num); i++) { // loop from 2 to square root of num\n                    if (num % i == 0) { // if num is divisible by i\n                        isPrime = false; // set isPrime to false\n                        break; // break out of the loop\n                    }\n                }\n            }\n            else { // handle numbers less than or equal to 1\n                isPrime = false; // set isPrime to false\n            }\n            if (isPrime) { // if isPrime is true\n                primeNumbers.add(num); // add num to the list\n            }\n        }\n        System.out.println(primeNumbers); // print the list\n    }\n\n    public static void main(String[] args) {\n        PrimeDirective pd = new PrimeDirective();\n        int[] numbers = {6, 29, 28, 33, 11, 100, 101, 43, 89};\n        pd.findPrime(numbers);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29352300,"reputation":61,"user_id":22489120,"display_name":"Jack M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77248844,"answer_count":1,"score":1,"last_activity_date":1696673110,"creation_date":1696662554,"question_id":77248760,"body_markdown":"I&#39;m receiving a logic error when trying to find all the prime numbers in this array on Codecademy:\r\n\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.ArrayList;\r\n\r\nclass PrimeDirective {\r\n  \r\n  // Add your methods here:\r\npublic void findPrime(int[] nums) {\r\n  ArrayList&lt;Integer&gt; primeNumbers = new ArrayList&lt;Integer&gt;();\r\n    for (int i = 0; i &lt; nums.length; i++) {\r\n      if ((nums[i] % 2 != 0 || nums[i] % 3 != 0 ) || nums[i] % 5 != 0) {\r\n        primeNumbers.add(nums[i]);\r\n        } else { continue; }}\r\n            System.out.println(primeNumbers); }\r\n  \r\npublic static void main(String[] args) {\r\n  PrimeDirective pd = new PrimeDirective();\r\n  int[] numbers = {6, 29, 28, 33, 11, 100, 101, 43, 89};\r\n  pd.findPrime(numbers);\r\n  }  \r\n}\r\n```\r\n\r\nI expected that if the number is not divisible by either 2, 3, or 5 then it is a prime number. Instead the method is adding all of the array items to the new ArrayList that I initialised in the method.\r\n\r\nI expect it is an issue with my maths, but it all makes perfect sense in my head. \r\n","title":"Logic error when finding prime numbers in an array","body":"<p>I'm receiving a logic error when trying to find all the prime numbers in this array on Codecademy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.ArrayList;\n\nclass PrimeDirective {\n  \n  // Add your methods here:\npublic void findPrime(int[] nums) {\n  ArrayList&lt;Integer&gt; primeNumbers = new ArrayList&lt;Integer&gt;();\n    for (int i = 0; i &lt; nums.length; i++) {\n      if ((nums[i] % 2 != 0 || nums[i] % 3 != 0 ) || nums[i] % 5 != 0) {\n        primeNumbers.add(nums[i]);\n        } else { continue; }}\n            System.out.println(primeNumbers); }\n  \npublic static void main(String[] args) {\n  PrimeDirective pd = new PrimeDirective();\n  int[] numbers = {6, 29, 28, 33, 11, 100, 101, 43, 89};\n  pd.findPrime(numbers);\n  }  \n}\n</code></pre>\n<p>I expected that if the number is not divisible by either 2, 3, or 5 then it is a prime number. Instead the method is adding all of the array items to the new ArrayList that I initialised in the method.</p>\n<p>I expect it is an issue with my maths, but it all makes perfect sense in my head.</p>\n"},{"tags":["java","java-native-interface","ld","gcj","libgcj"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":1,"creation_date":1695985820,"post_id":77197193,"comment_id":136099217,"body_markdown":"If you won&#39;t want to have someone answer your question &quot;Anyone still remembers how to use GCJ?&quot; (which is &quot;yes&quot;) you should ask one that is more thoughtful.  Also consider reading &quot;Why is &quot;Can someone help me?&quot; not an actual question?&quot; https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question","body":"If you won&#39;t want to have someone answer your question &quot;Anyone still remembers how to use GCJ?&quot; (which is &quot;yes&quot;) you should ask one that is more thoughtful.  Also consider reading &quot;Why is &quot;Can someone help me?&quot; not an actual question?&quot; <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\" title=\"why is can someone help me not an actual question\">meta.stackoverflow.com/questions/284236/&hellip;</a>"},{"owner":{"account_id":1418937,"reputation":5014,"user_id":1343979,"accept_rate":80,"display_name":"Bass"},"score":0,"creation_date":1695987657,"post_id":77197193,"comment_id":136099577,"body_markdown":"@possum That was just a rhetorical question, and I was assuming the actual question was already perfectly clear by the moment one read the post till the end. Reworded.","body":"@possum That was just a rhetorical question, and I was assuming the actual question was already perfectly clear by the moment one read the post till the end. Reworded."},{"owner":{"account_id":416241,"reputation":1935,"user_id":5561000,"display_name":"Josh Brobst"},"score":1,"creation_date":1697396349,"post_id":77197193,"comment_id":136271742,"body_markdown":"I looked into this somewhat and found that the &quot;hidden alias&quot; symbol type (mangled `_ZGA`) was only ever used as a java-specific thing built-in to g++ itself, see [here](https://gcc.gnu.org/git/?p=gcc.git;a=blob;f=gcc/cp/decl2.c;h=848f11cbbc60fc4d739c9d89536d159d8afd5674;hb=e31ae982c446804d1b259554203401392b078364#l4085). I can&#39;t see any interface to disable it besides rebuilding gcc 6.5 with `HAVE_GAS_HIDDEN` undefined. Doing that and also inspecting the `libjava` build artifacts might provide some clues on CNI dynamic linking.","body":"I looked into this somewhat and found that the &quot;hidden alias&quot; symbol type (mangled <code>_ZGA</code>) was only ever used as a java-specific thing built-in to g++ itself, see <a href=\"https://gcc.gnu.org/git/?p=gcc.git;a=blob;f=gcc/cp/decl2.c;h=848f11cbbc60fc4d739c9d89536d159d8afd5674;hb=e31ae982c446804d1b259554203401392b078364#l4085\" rel=\"nofollow noreferrer\">here</a>. I can&#39;t see any interface to disable it besides rebuilding gcc 6.5 with <code>HAVE_GAS_HIDDEN</code> undefined. Doing that and also inspecting the <code>libjava</code> build artifacts might provide some clues on CNI dynamic linking."}],"owner":{"account_id":1418937,"reputation":5014,"user_id":1343979,"accept_rate":80,"display_name":"Bass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":0,"score":3,"last_activity_date":1696672841,"creation_date":1695923275,"question_id":77197193,"body_markdown":"[_GNU Compiler for Java_](https://en.wikipedia.org/wiki/GNU_Compiler_for_Java) provides two methods to invoke native code from a Java application.\r\n\r\n 1. First, there&#39;s a [_JNI_](https://en.wikipedia.org/wiki/Java_Native_Interface) specification authored by _Sun Microsystems_, and GCJ adheres to this specification.\r\n 2. Second, there&#39;s _CNI_, the [Compiled Native Interface](https://gcc.gnu.org/onlinedocs/gcc-6.5.0/gcj/About-CNI.html) implemented by GCJ alone, which is barely documented but allows native methods to be implemented in C++, providing a higher-level API to interact between native code and JVM.\r\n\r\nNow, since GCJ also allows ahead-of-time compilation, this gives us the following opportunities to call native code from Java code:\r\n\r\n1. Run the regular JVM with `gij`, load your main-class which will load the native library using [`System.loadLibrary()`](https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#loadLibrary(java.lang.String)), and invoke the native method. This is the conventional way we are used to when dealing with Sun/Oracle JVMs.\r\n2. Same as above, but AOT-compile your bytecode into native code using `gcj`, and dynamically link the resulting executable against the external native library using the `-l` switch. The call to `System.loadLibrary()` may be preserved for compatibility, but is actually unnecessary, since the library will already be loaded by the dynamic interpreter long before the JVM is created. There&#39;re actually three sub-options:\r\n   - Have the library loaded by the JVM, via `System.loadLibrary()`, quite similarly to [`dlopen()`](https://linux.die.net/man/3/dlopen).\r\n   - Have the library being linked against by `ld`, via `gcj -l`. This is more convenient than the `loadLibrary()` approach, since you can pass the `-rpath` switch to the linker and avoid the need to manually set `LD_LIBRARY_PATH` before running the executable.\r\n   - None of the above, but have the library preloaded via `LD_PRELOAD`.\r\n3. Statically link the AOT-compiled Java object with the object produced from the native code portion. This completely saves us from the need to call `System.loadLibrary()` (since there&#39;s no library), making the code of of the native method immediately available in the resulting executable.\r\n\r\nSince we have two protocols to access native code (JNI and CNI), this doubles the amount of options available (from **3** to **6**).\r\n\r\nWhile the approach of CNI with static linking works like a charm, I want to also explore how dynamic linking works together with CNI and AOT compilation, and this fails at link time.\r\n\r\nConsider I have a simple main class:\r\n\r\n```java\r\npublic final class Main {\r\n        static {\r\n                System.loadLibrary(&quot;foo&quot;);\r\n        }\r\n\r\n        private Main() {\r\n                assert false;\r\n        }\r\n\r\n        public static native void foo();\r\n\r\n        public static void main(final String args[]) {\r\n                foo();\r\n        }\r\n}\r\n```\r\n\r\nThe `Main.h` CNI header produced from it looks like this:\r\n\r\n```c++\r\n#ifndef __Main__\r\n#define __Main__\r\n\r\n#pragma interface\r\n\r\n#include &lt;java/lang/Object.h&gt;\r\n#include &lt;gcj/array.h&gt;\r\n\r\nextern &quot;Java&quot;\r\n{\r\n    class Main;\r\n}\r\n\r\nclass Main : public ::java::lang::Object\r\n{\r\n\r\n  Main();\r\npublic:\r\n  static void foo();\r\n  static void main(JArray&lt; ::java::lang::String * &gt; *);\r\npublic: // actually package-private\r\n  static jboolean $assertionsDisabled;\r\npublic:\r\n  static ::java::lang::Class class$;\r\n};\r\n\r\n#endif // __Main__\r\n```\r\n\r\n... and here&#39;s the pretty standard default implementation of the shared library:\r\n\r\n```c++\r\n#include &lt;iostream&gt;\r\n\r\n#include &lt;gcj/cni.h&gt;\r\n\r\n#include &quot;Main.h&quot;\r\n\r\nvoid Main::foo() {\r\n        std::cout &lt;&lt; &quot;Hello, World!&quot; &lt;&lt; std::endl;\r\n}\r\n```\r\n\r\nWhen linking the object produced from a Java main class with an external library:\r\n\r\n```bash\r\ngcj -pie -fPIE -save-temps --main=Main -o cni-dynamic-native -L/opt/gcc64/6.5/lib64 -Wl,-rpath=/opt/gcc64/6.5/lib64 -L. -Wl,-rpath=&#39;$ORIGIN&#39; -lstdc++ -lgcj -lfoo Main.class\r\n```\r\n\r\nI get the following error:\r\n\r\n```console\r\n/usr/bin/ld: Main.o: in function `void Main::main(JArray&lt;java::lang::String*&gt;*)&#39;:\r\nMain.java:13: undefined reference to `hidden alias for void Main::foo()&#39;\r\n/usr/bin/ld: Main.o:(.data.rel+0xc0): undefined reference to `hidden alias for void Main::foo()&#39;\r\ncollect2: error: ld returned 1 exit status\r\n```\r\n\r\nIndeed, if I examine the `Main.o` object with `nm`, there&#39;s the undefined symbol:\r\n\r\n```\r\n                 U hidden alias for void Main::foo()\r\n```\r\n\r\nThe symbol is present in the shared library (`libfoo.so`) I&#39;m linking against. It&#39;s *global* (`T`) in the object file but *static* (`t`) in the shared library.\r\n\r\n```\r\n0000000000001180 t hidden alias for void Main::foo()\r\n```\r\n\r\nThe same problem is described in [this bug report](https://sourceware.org/bugzilla/show_bug.cgi?id=4266), but, unfortunately, there&#39;s no solution.\r\nAs I said, everything works perfectly when linking two objects statically using CNI or dynamically using JNI ([sample code](https://github.com/unix-junkie/gcj-cni-example)).\r\n\r\nSo, how do I load a native library into an AOT-compiled executable using the CNI interface? Was CNI ever intended for dynamic linking?","title":"Calling native code from an AOT-compiled Java application using CNI","body":"<p><a href=\"https://en.wikipedia.org/wiki/GNU_Compiler_for_Java\" rel=\"nofollow noreferrer\"><em>GNU Compiler for Java</em></a> provides two methods to invoke native code from a Java application.</p>\n<ol>\n<li>First, there's a <a href=\"https://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\"><em>JNI</em></a> specification authored by <em>Sun Microsystems</em>, and GCJ adheres to this specification.</li>\n<li>Second, there's <em>CNI</em>, the <a href=\"https://gcc.gnu.org/onlinedocs/gcc-6.5.0/gcj/About-CNI.html\" rel=\"nofollow noreferrer\">Compiled Native Interface</a> implemented by GCJ alone, which is barely documented but allows native methods to be implemented in C++, providing a higher-level API to interact between native code and JVM.</li>\n</ol>\n<p>Now, since GCJ also allows ahead-of-time compilation, this gives us the following opportunities to call native code from Java code:</p>\n<ol>\n<li>Run the regular JVM with <code>gij</code>, load your main-class which will load the native library using <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#loadLibrary(java.lang.String)\" rel=\"nofollow noreferrer\"><code>System.loadLibrary()</code></a>, and invoke the native method. This is the conventional way we are used to when dealing with Sun/Oracle JVMs.</li>\n<li>Same as above, but AOT-compile your bytecode into native code using <code>gcj</code>, and dynamically link the resulting executable against the external native library using the <code>-l</code> switch. The call to <code>System.loadLibrary()</code> may be preserved for compatibility, but is actually unnecessary, since the library will already be loaded by the dynamic interpreter long before the JVM is created. There're actually three sub-options:\n<ul>\n<li>Have the library loaded by the JVM, via <code>System.loadLibrary()</code>, quite similarly to <a href=\"https://linux.die.net/man/3/dlopen\" rel=\"nofollow noreferrer\"><code>dlopen()</code></a>.</li>\n<li>Have the library being linked against by <code>ld</code>, via <code>gcj -l</code>. This is more convenient than the <code>loadLibrary()</code> approach, since you can pass the <code>-rpath</code> switch to the linker and avoid the need to manually set <code>LD_LIBRARY_PATH</code> before running the executable.</li>\n<li>None of the above, but have the library preloaded via <code>LD_PRELOAD</code>.</li>\n</ul>\n</li>\n<li>Statically link the AOT-compiled Java object with the object produced from the native code portion. This completely saves us from the need to call <code>System.loadLibrary()</code> (since there's no library), making the code of of the native method immediately available in the resulting executable.</li>\n</ol>\n<p>Since we have two protocols to access native code (JNI and CNI), this doubles the amount of options available (from <strong>3</strong> to <strong>6</strong>).</p>\n<p>While the approach of CNI with static linking works like a charm, I want to also explore how dynamic linking works together with CNI and AOT compilation, and this fails at link time.</p>\n<p>Consider I have a simple main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Main {\n        static {\n                System.loadLibrary(&quot;foo&quot;);\n        }\n\n        private Main() {\n                assert false;\n        }\n\n        public static native void foo();\n\n        public static void main(final String args[]) {\n                foo();\n        }\n}\n</code></pre>\n<p>The <code>Main.h</code> CNI header produced from it looks like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#ifndef __Main__\n#define __Main__\n\n#pragma interface\n\n#include &lt;java/lang/Object.h&gt;\n#include &lt;gcj/array.h&gt;\n\nextern &quot;Java&quot;\n{\n    class Main;\n}\n\nclass Main : public ::java::lang::Object\n{\n\n  Main();\npublic:\n  static void foo();\n  static void main(JArray&lt; ::java::lang::String * &gt; *);\npublic: // actually package-private\n  static jboolean $assertionsDisabled;\npublic:\n  static ::java::lang::Class class$;\n};\n\n#endif // __Main__\n</code></pre>\n<p>... and here's the pretty standard default implementation of the shared library:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n\n#include &lt;gcj/cni.h&gt;\n\n#include &quot;Main.h&quot;\n\nvoid Main::foo() {\n        std::cout &lt;&lt; &quot;Hello, World!&quot; &lt;&lt; std::endl;\n}\n</code></pre>\n<p>When linking the object produced from a Java main class with an external library:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>gcj -pie -fPIE -save-temps --main=Main -o cni-dynamic-native -L/opt/gcc64/6.5/lib64 -Wl,-rpath=/opt/gcc64/6.5/lib64 -L. -Wl,-rpath='$ORIGIN' -lstdc++ -lgcj -lfoo Main.class\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>/usr/bin/ld: Main.o: in function `void Main::main(JArray&lt;java::lang::String*&gt;*)':\nMain.java:13: undefined reference to `hidden alias for void Main::foo()'\n/usr/bin/ld: Main.o:(.data.rel+0xc0): undefined reference to `hidden alias for void Main::foo()'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n<p>Indeed, if I examine the <code>Main.o</code> object with <code>nm</code>, there's the undefined symbol:</p>\n<pre><code>                 U hidden alias for void Main::foo()\n</code></pre>\n<p>The symbol is present in the shared library (<code>libfoo.so</code>) I'm linking against. It's <em>global</em> (<code>T</code>) in the object file but <em>static</em> (<code>t</code>) in the shared library.</p>\n<pre><code>0000000000001180 t hidden alias for void Main::foo()\n</code></pre>\n<p>The same problem is described in <a href=\"https://sourceware.org/bugzilla/show_bug.cgi?id=4266\" rel=\"nofollow noreferrer\">this bug report</a>, but, unfortunately, there's no solution.\nAs I said, everything works perfectly when linking two objects statically using CNI or dynamically using JNI (<a href=\"https://github.com/unix-junkie/gcj-cni-example\" rel=\"nofollow noreferrer\">sample code</a>).</p>\n<p>So, how do I load a native library into an AOT-compiled executable using the CNI interface? Was CNI ever intended for dynamic linking?</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":29476753,"reputation":233,"user_id":22588349,"display_name":"Nidheesh R"},"score":1,"creation_date":1696608965,"post_id":77245947,"comment_id":136179702,"body_markdown":"Since you are using a custom constructor, you should make sure that the required dependencies are properly injected when you create an instance of `MyCustomHandler`. Try using `@ContextConfiguration` in your testing configuration class to ensure that Spring injects the mocked objects into your `MyCustomHandler` when it&#39;s created.","body":"Since you are using a custom constructor, you should make sure that the required dependencies are properly injected when you create an instance of <code>MyCustomHandler</code>. Try using <code>@ContextConfiguration</code> in your testing configuration class to ensure that Spring injects the mocked objects into your <code>MyCustomHandler</code> when it&#39;s created."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1696610166,"post_id":77245947,"comment_id":136179936,"body_markdown":"Why are `object1` and `object2` not part of your constructor? Why mix constructor and field injection?","body":"Why are <code>object1</code> and <code>object2</code> not part of your constructor? Why mix constructor and field injection?"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1696615858,"post_id":77245947,"comment_id":136180899,"body_markdown":"If collaborator/field `object1` is null, then mock-injection failed (maybe because no public setters for those fields). To exclude other errors, also you show the constructors of `Object1` and `Object2` and paste the error-message.","body":"If collaborator/field <code>object1</code> is null, then mock-injection failed (maybe because no public setters for those fields). To exclude other errors, also you show the constructors of <code>Object1</code> and <code>Object2</code> and paste the error-message."},{"owner":{"account_id":2234543,"reputation":1020,"user_id":1971308,"accept_rate":41,"display_name":"Micho Rizo"},"score":0,"creation_date":1696647607,"post_id":77245947,"comment_id":136183963,"body_markdown":"Okay, thanks for the inputs. I have got it to work by simply updating my constructor to accept objects(instead of autowire) the fields and passing in the objects thru my configurer classs.","body":"Okay, thanks for the inputs. I have got it to work by simply updating my constructor to accept objects(instead of autowire) the fields and passing in the objects thru my configurer classs."}],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696670733,"post_id":77248660,"comment_id":136185435,"body_markdown":"This won&#39;t work, because the fields `object1` and `object2` of `MyCustomHandler` are private.","body":"This won&#39;t work, because the fields <code>object1</code> and <code>object2</code> of <code>MyCustomHandler</code> are private."}],"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696660581,"creation_date":1696660581,"answer_id":77248660,"question_id":77245947,"body_markdown":"To solve this issue, you can use the @BeforeEach annotation to manually instantiate MyCustomHandler before each test, passing in the mock objects. The @BeforeEach annotation in JUnit 5 allows you to run some initializing code before each test.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class CustomAzureAuthenticationHandlerTest {\r\n    \r\n        @Mock\r\n        Object1 object1;\r\n    \r\n        @Mock\r\n        Object2 object2;\r\n    \r\n        MyCustomHandler myCustomHandler;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            // Manually instantiate MyCustomHandler with mock dependencies\r\n            myCustomHandler = new MyCustomHandler(&quot;name&quot;, mock(ServicesManager.class), mock(PrincipalFactory.class), 0);\r\n            myCustomHandler.object1 = object1;\r\n            myCustomHandler.object2 = object2;\r\n        }\r\n    \r\n        @Test\r\n        void doSomeTest() {\r\n            when(object1.foo()).thenReturn(false);\r\n            myCustomHandler.doSomething();\r\n            // Add your assertions here\r\n        }\r\n    }\r\n\r\n","title":"Junit5 and mocking, null object","body":"<p>To solve this issue, you can use the @BeforeEach annotation to manually instantiate MyCustomHandler before each test, passing in the mock objects. The @BeforeEach annotation in JUnit 5 allows you to run some initializing code before each test.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass CustomAzureAuthenticationHandlerTest {\n\n    @Mock\n    Object1 object1;\n\n    @Mock\n    Object2 object2;\n\n    MyCustomHandler myCustomHandler;\n\n    @BeforeEach\n    void setUp() {\n        // Manually instantiate MyCustomHandler with mock dependencies\n        myCustomHandler = new MyCustomHandler(&quot;name&quot;, mock(ServicesManager.class), mock(PrincipalFactory.class), 0);\n        myCustomHandler.object1 = object1;\n        myCustomHandler.object2 = object2;\n    }\n\n    @Test\n    void doSomeTest() {\n        when(object1.foo()).thenReturn(false);\n        myCustomHandler.doSomething();\n        // Add your assertions here\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2234543,"reputation":1020,"user_id":1971308,"accept_rate":41,"display_name":"Micho Rizo"},"score":0,"creation_date":1696725369,"post_id":77249280,"comment_id":136190147,"body_markdown":"Yes, this is what I ended up doing based on your comment in original post. Thanks for posting the answer so I could accept it.","body":"Yes, this is what I ended up doing based on your comment in original post. Thanks for posting the answer so I could accept it."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696672610,"creation_date":1696672610,"answer_id":77249280,"question_id":77245947,"body_markdown":"It is strange that you mix constructor-based injection with field-based injection. I would recommend to move all dependencies to the constructor. You can then pass everything as required:\r\n\r\n```\r\npublic class MyCustomHandler extends SomeHandler {\r\n   private final Object1 object1;\r\n   private final Object2 object2;\r\n\r\n   public MyCustomHandler (\r\n         final String name,\r\n         final ServicesManager servicesManager,\r\n         final PrincipalFactory principalFactory,\r\n         final Integer order,\r\n         final Object1 object1,\r\n         final Object2 object2) {\r\n      super(name, servicesManager, principalFactory, order);\r\n      this.object1 = object1;\r\n      this.object2 = object2;\r\n   }\r\n\r\n   public boolean doSomething () {\r\n     object1.foo();  // &lt;- object1 is null here when testing\r\n   }\r\n\r\n   //Some other override methods\r\n}\r\n```","title":"Junit5 and mocking, null object","body":"<p>It is strange that you mix constructor-based injection with field-based injection. I would recommend to move all dependencies to the constructor. You can then pass everything as required:</p>\n<pre><code>public class MyCustomHandler extends SomeHandler {\n   private final Object1 object1;\n   private final Object2 object2;\n\n   public MyCustomHandler (\n         final String name,\n         final ServicesManager servicesManager,\n         final PrincipalFactory principalFactory,\n         final Integer order,\n         final Object1 object1,\n         final Object2 object2) {\n      super(name, servicesManager, principalFactory, order);\n      this.object1 = object1;\n      this.object2 = object2;\n   }\n\n   public boolean doSomething () {\n     object1.foo();  // &lt;- object1 is null here when testing\n   }\n\n   //Some other override methods\n}\n</code></pre>\n"}],"owner":{"account_id":2234543,"reputation":1020,"user_id":1971308,"accept_rate":41,"display_name":"Micho Rizo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77249280,"answer_count":2,"score":-1,"last_activity_date":1696672610,"creation_date":1696608452,"question_id":77245947,"body_markdown":"I&#39;m trying to test a class when it is extending another class which requires me to define an implicit constructor.\r\n\r\n    public class MyCustomHandler extends SomeHandler {\r\n\r\n\t   @Autowired\r\n       private Object1 object1;\r\n\t\r\n\t   @Autowired\r\n       private Object2 object2;\r\n\r\n\t   public MyCustomHandler (String name, ServicesManager servicesManager,\r\n\t\t\tPrincipalFactory principalFactory, Integer order) {\r\n\t\t  super(name, servicesManager, principalFactory, order);\r\n\t   }\r\n\r\n       public boolean doSomething () {\r\n         object1.foo();  // &lt;- object1 is null here when testing\r\n       }\r\n\r\n       //Some other override methods\r\n    }\r\n \r\n    //Test class\r\n    @ExtendWith(MockitoExtension.class)\r\n    class CustomAzureAuthenticationHandlerTest {\r\n\r\n\t    @Mock\r\n        Object1 object1 ;\r\n\r\n\t    @Mock\r\n        Object2 object2 ;\r\n\r\n        @InjectMocks\r\n    \tMyCustomHandler myCustomHandler;\r\n\r\n       //Test methods\r\n       @Test\r\n       void doSomeTest() {\r\n           when(object1.doSomething()).thenReturn(false);\r\n           myCustomHandler.someMethod();\r\n       }\r\n     }\r\n\r\n\r\nWhen a method from my real class is being called that is under test, it is making a call to `object1.foo()` and `object1` is `null`. \r\n\r\nI understand this is probably due to not having a no-args/default constructor and it&#39;s using the implicit constructor that I&#39;m forced to implement which is not creating my mocked objects. I just haven&#39;t been able to figure out how to get around this.","title":"Junit5 and mocking, null object","body":"<p>I'm trying to test a class when it is extending another class which requires me to define an implicit constructor.</p>\n<pre><code>public class MyCustomHandler extends SomeHandler {\n\n   @Autowired\n   private Object1 object1;\n\n   @Autowired\n   private Object2 object2;\n\n   public MyCustomHandler (String name, ServicesManager servicesManager,\n        PrincipalFactory principalFactory, Integer order) {\n      super(name, servicesManager, principalFactory, order);\n   }\n\n   public boolean doSomething () {\n     object1.foo();  // &lt;- object1 is null here when testing\n   }\n\n   //Some other override methods\n}\n\n//Test class\n@ExtendWith(MockitoExtension.class)\nclass CustomAzureAuthenticationHandlerTest {\n\n    @Mock\n    Object1 object1 ;\n\n    @Mock\n    Object2 object2 ;\n\n    @InjectMocks\n    MyCustomHandler myCustomHandler;\n\n   //Test methods\n   @Test\n   void doSomeTest() {\n       when(object1.doSomething()).thenReturn(false);\n       myCustomHandler.someMethod();\n   }\n }\n</code></pre>\n<p>When a method from my real class is being called that is under test, it is making a call to <code>object1.foo()</code> and <code>object1</code> is <code>null</code>.</p>\n<p>I understand this is probably due to not having a no-args/default constructor and it's using the implicit constructor that I'm forced to implement which is not creating my mocked objects. I just haven't been able to figure out how to get around this.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1696525013,"post_id":77238636,"comment_id":136167521,"body_markdown":"Suggestion - Write a simple custom comparator handling scenarios and then look to transform the code using functional interfaces and/or stream.","body":"Suggestion - Write a simple custom comparator handling scenarios and then look to transform the code using functional interfaces and/or stream."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696577006,"post_id":77238636,"comment_id":136173487,"body_markdown":"A screenshot of your debugger is not sufficient to describe your software. Regarding the things you wrote beneath it, if `.get(0)` throws an NPE when there are no values, it implies that your method returns `null` instead of an empty list. You should fix that immediately. But to handle empty lists while sorting, you have to define a policy first.","body":"A screenshot of your debugger is not sufficient to describe your software. Regarding the things you wrote beneath it, if <code>.get(0)</code> throws an NPE when there are no values, it implies that your method returns <code>null</code> instead of an empty list. You should fix that immediately. But to handle empty lists while sorting, you have to define a policy first."}],"answers":[{"tags":[],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696671308,"creation_date":1696671308,"answer_id":77249213,"question_id":77238636,"body_markdown":"I think i have found a suitable solution for my problem now. But I have separated the sorting into three steps:\r\n\r\nFirst thing I did is to sort the answerValues by ID:\r\n\r\n    for (SrmQsRfiAnswer answer: laneValues.getAnswers()) {\r\n        List &lt;SrmQsRfiAnswerValue&gt; answerValues = answer.getAnswerValues();\r\n        answerValues.sort(Comparator.comparingLong(SrmQsRfiAnswerValue::getId));\r\n    }\r\n\r\nNow all answerValues of every answer are sorted by ID. Then I put all answers to a HashMap with the answer ID as key. \r\n\r\n    Map &lt;Long, List&lt; SrmQsRfiAnswer&gt;&gt; answerMap = laneValues.getAnswers().stream()\r\n        .collect(Collectors.groupingBy(SrmQsRfiAnswer::getId));\r\n\r\nAnd in the final step, I sort the answers for each key in the Map by the lowest ID of the answerValues with a custom &quot;comparator&quot;:\r\n\r\n    answerMap.values().forEach(listOfAnswers - &gt; listOfAnswers.sort(Comparator.comparingLong(SrmQsRfiAnswer::getMinAnswerValueId)));\r\n\r\n    public class SrmQsRfiAnswer {\r\n    ...\r\n        public Long getMinAnswerValueId() {\r\n            if (answerValues == null || answerValues.isEmpty()) {\r\n                return Long.MAX_VALUE; // Return a high value for null or empty lists\r\n            }\r\n            return answerValues.stream()\r\n                .mapToLong(SrmQsRfiAnswerValue::getId)\r\n                .min()\r\n                .orElse(Long.MAX_VALUE);\r\n        }\r\n    }\r\n\r\n","title":"Complex sorting over objects and their nested members using Streams","body":"<p>I think i have found a suitable solution for my problem now. But I have separated the sorting into three steps:</p>\n<p>First thing I did is to sort the answerValues by ID:</p>\n<pre><code>for (SrmQsRfiAnswer answer: laneValues.getAnswers()) {\n    List &lt;SrmQsRfiAnswerValue&gt; answerValues = answer.getAnswerValues();\n    answerValues.sort(Comparator.comparingLong(SrmQsRfiAnswerValue::getId));\n}\n</code></pre>\n<p>Now all answerValues of every answer are sorted by ID. Then I put all answers to a HashMap with the answer ID as key.</p>\n<pre><code>Map &lt;Long, List&lt; SrmQsRfiAnswer&gt;&gt; answerMap = laneValues.getAnswers().stream()\n    .collect(Collectors.groupingBy(SrmQsRfiAnswer::getId));\n</code></pre>\n<p>And in the final step, I sort the answers for each key in the Map by the lowest ID of the answerValues with a custom &quot;comparator&quot;:</p>\n<pre><code>answerMap.values().forEach(listOfAnswers - &gt; listOfAnswers.sort(Comparator.comparingLong(SrmQsRfiAnswer::getMinAnswerValueId)));\n\npublic class SrmQsRfiAnswer {\n...\n    public Long getMinAnswerValueId() {\n        if (answerValues == null || answerValues.isEmpty()) {\n            return Long.MAX_VALUE; // Return a high value for null or empty lists\n        }\n        return answerValues.stream()\n            .mapToLong(SrmQsRfiAnswerValue::getId)\n            .min()\n            .orElse(Long.MAX_VALUE);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1696674611,"accepted_answer_id":77249213,"answer_count":1,"score":-3,"last_activity_date":1696671308,"creation_date":1696520512,"question_id":77238636,"body_markdown":"I have a Arraylist of answers, each answer contains either none or many answerValues. AnswerValues have an id. \r\n\r\nWhat I would like to achieve is the following: \r\n\r\n1. Traverse every answer and sort their answerValues by id ascending. \r\n2. Sort answers by the smallest id of one of their answerValues. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QMRhZ.png\r\n\r\nWhat I&#39;ve tried so far to address 2. is: \r\n\r\n    laneValues.setAnswers(laneValues.getAnswers().stream()\r\n                        .sorted((e1, e2) -&gt; e1.getAnswerValues().get(0).getId().compareTo(e2.getAnswerValues().get(0).getId())).toList());\r\n\r\nProblem: \r\n- the `.get(0)` throws an NPE if answer has no answerValues. \r\n- Requires sorting the answerValues by their id for every answer first. \r\n\r\nWhat would the ideal solution look like?","title":"Complex sorting over objects and their nested members using Streams","body":"<p>I have a Arraylist of answers, each answer contains either none or many answerValues. AnswerValues have an id.</p>\n<p>What I would like to achieve is the following:</p>\n<ol>\n<li>Traverse every answer and sort their answerValues by id ascending.</li>\n<li>Sort answers by the smallest id of one of their answerValues.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/QMRhZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QMRhZ.png\" alt=\"enter image description here\" /></a></p>\n<p>What I've tried so far to address 2. is:</p>\n<pre><code>laneValues.setAnswers(laneValues.getAnswers().stream()\n                    .sorted((e1, e2) -&gt; e1.getAnswerValues().get(0).getId().compareTo(e2.getAnswerValues().get(0).getId())).toList());\n</code></pre>\n<p>Problem:</p>\n<ul>\n<li>the <code>.get(0)</code> throws an NPE if answer has no answerValues.</li>\n<li>Requires sorting the answerValues by their id for every answer first.</li>\n</ul>\n<p>What would the ideal solution look like?</p>\n"},{"tags":["java","spring","jpa","servlets","spring-repositories"],"answers":[{"comments":[{"owner":{"account_id":27450721,"reputation":1,"user_id":20943016,"display_name":"Parth Gupta"},"score":0,"creation_date":1696671085,"post_id":77249143,"comment_id":136185470,"body_markdown":"i tried changing the annotations but still the error message is same productRepository is still null it may be because of something wrong in applicationContext.xml file which i was unable to post here due to spamming issues.","body":"i tried changing the annotations but still the error message is same productRepository is still null it may be because of something wrong in applicationContext.xml file which i was unable to post here due to spamming issues."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1696680691,"post_id":77249143,"comment_id":136186306,"body_markdown":"did you register the DoGet  as a bean in the applicationContext.xml file? Do you use spring boot? Which version? EDIT: try to replace it with @_Component instead of @_Configuration","body":"did you register the DoGet  as a bean in the applicationContext.xml file? Do you use spring boot? Which version? EDIT: try to replace it with @_Component instead of @_Configuration"},{"owner":{"account_id":27450721,"reputation":1,"user_id":20943016,"display_name":"Parth Gupta"},"score":0,"creation_date":1696692601,"post_id":77249143,"comment_id":136187392,"body_markdown":"&lt;context:component-scan base-package=&quot;com.servlet&quot;&gt;&lt;/context:component-scan&gt;\n\t&lt;context:annotation-config /&gt;\n\t&lt;context:spring-configured /&gt;\n\n\t&lt;bean id=&quot;productRepository&quot; class=&quot;com.servlet.ProductRepository&quot; /&gt;\n\t&lt;bean id=&quot;product&quot; class=&quot;com.servlet.Product&quot; /&gt;\n\nthis is my applicationContext.xml file could you tell me how would i register DoGet as a bean","body":"&lt;context:component-scan base-package=&quot;com.servlet&quot;&gt;&lt;/context:component-scan&gt; \t&lt;context:annotation-config /&gt; \t&lt;context:spring-configured /&gt;  \t&lt;bean id=&quot;productRepository&quot; class=&quot;com.servlet.ProductRepository&quot; /&gt; \t&lt;bean id=&quot;product&quot; class=&quot;com.servlet.Product&quot; /&gt;  this is my applicationContext.xml file could you tell me how would i register DoGet as a bean"},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1696701744,"post_id":77249143,"comment_id":136188243,"body_markdown":"&lt;bean id=&quot;DoGet&quot; class=&quot;com.servlet.DoGet&quot; /&gt; but tbh you should use annotation based spring instead of relying on the applicationContext.xml file","body":"&lt;bean id=&quot;DoGet&quot; class=&quot;com.servlet.DoGet&quot; /&gt; but tbh you should use annotation based spring instead of relying on the applicationContext.xml file"},{"owner":{"account_id":27450721,"reputation":1,"user_id":20943016,"display_name":"Parth Gupta"},"score":0,"creation_date":1696710322,"post_id":77249143,"comment_id":136189073,"body_markdown":"i have added it as a bean but still no progress same error message.","body":"i have added it as a bean but still no progress same error message."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1696712195,"post_id":77249143,"comment_id":136189245,"body_markdown":"if you create a simple bean, can you inject the repository? You need to figure out if the bean exists or not. If yes, then figure out why its not loaded into your class. If no, you have not setup jpa correctly up","body":"if you create a simple bean, can you inject the repository? You need to figure out if the bean exists or not. If yes, then figure out why its not loaded into your class. If no, you have not setup jpa correctly up"},{"owner":{"account_id":27450721,"reputation":1,"user_id":20943016,"display_name":"Parth Gupta"},"score":0,"creation_date":1696713003,"post_id":77249143,"comment_id":136189312,"body_markdown":"I am getting this error message in my console\n\n02:39:07.752 [http-nio-8080-exec-3] WARN org.springframework.web.context.support.SpringBeanAutowiringSupport -- Current WebApplicationContext is not available for processing of GetServlet: Make sure this class gets constructed in a Spring web application after the Spring WebApplicationContext has been initialized. Proceeding without injection.","body":"I am getting this error message in my console  02:39:07.752 [http-nio-8080-exec-3] WARN org.springframework.web.context.support.SpringBeanAutowiring&zwnj;&#8203;Support -- Current WebApplicationContext is not available for processing of GetServlet: Make sure this class gets constructed in a Spring web application after the Spring WebApplicationContext has been initialized. Proceeding without injection."}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696670096,"creation_date":1696670096,"answer_id":77249143,"question_id":77249031,"body_markdown":"I think the problem is that the DoGet is not a bean/component. So add @Component or @Configuration (maybe this was a typo here?) to it and then everything should be autowired correctly.","title":"I am trying to use JPA in my servlet project but i am unsable to do so i am getting error that my repository is null i am unable to fix this problem","body":"<p>I think the problem is that the DoGet is not a bean/component. So add @Component or @Configuration (maybe this was a typo here?) to it and then everything should be autowired correctly.</p>\n"}],"owner":{"account_id":27450721,"reputation":1,"user_id":20943016,"display_name":"Parth Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696671208,"creation_date":1696668078,"question_id":77249031,"body_markdown":"Here is my servlet code\r\n\r\n```\r\npackage com.servlet;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Configurable;\r\nimport org.springframework.web.context.support.SpringBeanAutowiringSupport;\r\n\r\nimport jakarta.servlet.ServletConfig;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n@Configuration\r\npublic class DoGet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Autowired\r\n\tprivate ProductRepository productRepository;\r\n\r\n\r\n\tpublic void init(ServletConfig config) throws ServletException {\r\n\r\nsuper.init(config);\r\nSpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\nTODO Auto-generated method stub\r\n\r\n\r\nString search = &quot;%&quot;+request.getParameter(&quot;search&quot;)+&quot;%&quot;;\r\nList&lt;Product&gt; findByProductNameLike = productRepository.findByProductNameLike(search);\r\n\r\nPrintWriter writer = response.getWriter();\r\nwriter.write(&quot;&lt;h1&gt;Hello World How are You&lt;h1&gt;&quot;);\r\n\r\nfor(Product i: findByProductNameLike)\r\n{\r\n    writer.write(i.getProductId());\r\n    writer.write(i.getProductName());\r\n    writer.write(i.getImgPath());\r\n}\r\n\r\n    writer.write(&quot;&lt;h1&gt;Done&lt;h1&gt;&quot;);\r\n }\r\n\r\n}\r\n```\r\n\r\nThis is my productRepository\r\n\r\n```\r\npackage com.servlet;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product, String&gt;{\r\n\t\r\n\tpublic List&lt;Product&gt; findByProductNameLike(String produtName);\r\n\r\n}\r\n```\r\n\r\nI have tried creating object of one other class since I thought ProductRepository is an interface so I might be getting an error.\r\n\r\nI was expecting a proper output on the window, instead I am getting error message that productRepository is null on line\r\n\r\n```\r\nList&lt;Product&gt; findByProductNameLike = productRepository.findByProductNameLike(search);\r\n```\r\n\r\nHere is the proper error message:\r\n\r\n```none\r\nType Exception Report\r\n\r\nMessage Cannot invoke &quot;com.servlet.ProductRepository.findByProductNameLike(String)&quot; because &quot;this.productRepository&quot; is null\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;com.servlet.ProductRepository.findByProductNameLike(String)&quot; because &quot;this.productRepository&quot; is null\r\n\tcom.servlet.DoGet.doGet(DoGet.java:40)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:683)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```\r\n\r\nI am using Apache Tomcat v10.0. I have looked at many tutorials and solutions to other questions, but still wasn&#39;t able to run my code in the desired way.\r\n\r\nI wasn&#39;t able to post applicationContext.xml and web.xml due to spam issues.","title":"I am trying to use JPA in my servlet project but i am unsable to do so i am getting error that my repository is null i am unable to fix this problem","body":"<p>Here is my servlet code</p>\n<pre><code>package com.servlet;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Configurable;\nimport org.springframework.web.context.support.SpringBeanAutowiringSupport;\n\nimport jakarta.servlet.ServletConfig;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@Configuration\npublic class DoGet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    @Autowired\n    private ProductRepository productRepository;\n\n\n    public void init(ServletConfig config) throws ServletException {\n\nsuper.init(config);\nSpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n    }\n\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\nTODO Auto-generated method stub\n\n\nString search = &quot;%&quot;+request.getParameter(&quot;search&quot;)+&quot;%&quot;;\nList&lt;Product&gt; findByProductNameLike = productRepository.findByProductNameLike(search);\n\nPrintWriter writer = response.getWriter();\nwriter.write(&quot;&lt;h1&gt;Hello World How are You&lt;h1&gt;&quot;);\n\nfor(Product i: findByProductNameLike)\n{\n    writer.write(i.getProductId());\n    writer.write(i.getProductName());\n    writer.write(i.getImgPath());\n}\n\n    writer.write(&quot;&lt;h1&gt;Done&lt;h1&gt;&quot;);\n }\n\n}\n</code></pre>\n<p>This is my productRepository</p>\n<pre><code>package com.servlet;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, String&gt;{\n    \n    public List&lt;Product&gt; findByProductNameLike(String produtName);\n\n}\n</code></pre>\n<p>I have tried creating object of one other class since I thought ProductRepository is an interface so I might be getting an error.</p>\n<p>I was expecting a proper output on the window, instead I am getting error message that productRepository is null on line</p>\n<pre><code>List&lt;Product&gt; findByProductNameLike = productRepository.findByProductNameLike(search);\n</code></pre>\n<p>Here is the proper error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Type Exception Report\n\nMessage Cannot invoke &quot;com.servlet.ProductRepository.findByProductNameLike(String)&quot; because &quot;this.productRepository&quot; is null\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njava.lang.NullPointerException: Cannot invoke &quot;com.servlet.ProductRepository.findByProductNameLike(String)&quot; because &quot;this.productRepository&quot; is null\n    com.servlet.DoGet.doGet(DoGet.java:40)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:683)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p>I am using Apache Tomcat v10.0. I have looked at many tutorials and solutions to other questions, but still wasn't able to run my code in the desired way.</p>\n<p>I wasn't able to post applicationContext.xml and web.xml due to spam issues.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":3896319,"reputation":3078,"user_id":3225260,"accept_rate":45,"display_name":"mad_fox"},"score":2,"creation_date":1455311692,"post_id":32368328,"comment_id":58450477,"body_markdown":"Did you ever get this to work? I am having the exact same issue.","body":"Did you ever get this to work? I am having the exact same issue."}],"answers":[{"comments":[{"owner":{"account_id":5862830,"reputation":9248,"user_id":4617914,"accept_rate":12,"display_name":"Qasim"},"score":0,"creation_date":1441347318,"post_id":32368754,"comment_id":52651282,"body_markdown":"Hi @Dennis thnx for replying... i am updating my question with pic showing structure of my project i want to know how to execute main class i.e spring boot application class of child module(webapp1) from parent directory. if i try to run it from webapp1 directory it is running but i am not able to execute the url show 404 error so i think if i run it from parent directory then it should not be a problem so can you help me to execute webapp1 main class from parent directory","body":"Hi @Dennis thnx for replying... i am updating my question with pic showing structure of my project i want to know how to execute main class i.e spring boot application class of child module(webapp1) from parent directory. if i try to run it from webapp1 directory it is running but i am not able to execute the url show 404 error so i think if i run it from parent directory then it should not be a problem so can you help me to execute webapp1 main class from parent directory"}],"tags":[],"owner":{"account_id":3397232,"reputation":1293,"user_id":2850516,"display_name":"Dennis Hunziker"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1441262910,"creation_date":1441262910,"answer_id":32368754,"question_id":32368328,"body_markdown":"Do you have a class in your app with a main method like:\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(YourApplication.class, args);\r\n    }\r\n\r\nOr do you even have multiple classes with main methods, in which case Spring can&#39;t figure out which one to use?","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>Do you have a class in your app with a main method like:</p>\n\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(YourApplication.class, args);\n}\n</code></pre>\n\n<p>Or do you even have multiple classes with main methods, in which case Spring can't figure out which one to use?</p>\n"},{"tags":[],"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"comment_count":0,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1584097275,"creation_date":1452274857,"answer_id":34682937,"question_id":32368328,"body_markdown":"I believe the issue I was having is similar to yours. I have a multi module app using Spring Boot and only one Application.java (with main method).\r\n\r\nI was struggling with it trying to start it up using Maven and I got the same result as yours (unable to find a suitable main class).\r\n\r\nI spent several hours trying and changing stuff and after adding the property mainClass to the pom, it couldn&#39;t find it.\r\n\r\nThen I decided to run the project not from the root project but from the project where the Application class is.\r\n\r\nBy doing this I was able to start up Spring Boot and everything works like a charm. \r\n\r\nUpdated\r\n---\r\n\r\nIf you want to package the whole thing to be executed with `java -jar file` you can run the command below from the root project:\r\n\r\n    mvn clean package spring-boot:repackage \r\n\r\nDon&#39;t forget to add the `spring-boot-maven-plugin` to your pom.\r\n","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>I believe the issue I was having is similar to yours. I have a multi module app using Spring Boot and only one Application.java (with main method).</p>\n\n<p>I was struggling with it trying to start it up using Maven and I got the same result as yours (unable to find a suitable main class).</p>\n\n<p>I spent several hours trying and changing stuff and after adding the property mainClass to the pom, it couldn't find it.</p>\n\n<p>Then I decided to run the project not from the root project but from the project where the Application class is.</p>\n\n<p>By doing this I was able to start up Spring Boot and everything works like a charm. </p>\n\n<h2>Updated</h2>\n\n<p>If you want to package the whole thing to be executed with <code>java -jar file</code> you can run the command below from the root project:</p>\n\n<pre><code>mvn clean package spring-boot:repackage \n</code></pre>\n\n<p>Don't forget to add the <code>spring-boot-maven-plugin</code> to your pom.</p>\n"},{"comments":[{"owner":{"account_id":1691398,"reputation":4407,"user_id":1553655,"accept_rate":58,"display_name":"Vishnu"},"score":2,"creation_date":1463075903,"post_id":36547596,"comment_id":61920954,"body_markdown":"it says no plugin found for prefix &#39;{mypackage}&#39; in the current project and in the plugin groups [org.mortbay.jetty, org.apache.maven.plugins, org.codehaus.mojo]. Do I need to add something else?","body":"it says no plugin found for prefix &#39;{mypackage}&#39; in the current project and in the plugin groups [org.mortbay.jetty, org.apache.maven.plugins, org.codehaus.mojo]. Do I need to add something else?"},{"owner":{"account_id":5677588,"reputation":951,"user_id":4490149,"display_name":"Rabin Pantha"},"score":0,"creation_date":1463143059,"post_id":36547596,"comment_id":61951570,"body_markdown":"I have not tried but I hope the answers in this url is certainly going to help you. http://stackoverflow.com/questions/7414075/plugin-not-found-for-prefix-error-in-eclipse","body":"I have not tried but I hope the answers in this url is certainly going to help you. <a href=\"http://stackoverflow.com/questions/7414075/plugin-not-found-for-prefix-error-in-eclipse\" title=\"plugin not found for prefix error in eclipse\">stackoverflow.com/questions/7414075/&hellip;</a>"},{"owner":{"account_id":4343429,"reputation":859,"user_id":3546107,"display_name":"Delirante"},"score":0,"creation_date":1603352971,"post_id":36547596,"comment_id":114011588,"body_markdown":"I have tried this and it does not work in multi module projects.\n`\nmvnw org.springframework.boot:spring-boot-maven-plugin:2.2.7.RELEASE:run -Dspring-boot.run.main-class=main.class -pl groupId:artifactId -am\n`","body":"I have tried this and it does not work in multi module projects. ` mvnw org.springframework.boot:spring-boot-maven-plugin:2.2.7.RELE&zwnj;&#8203;ASE:run -Dspring-boot.run.main-class=main.class -pl groupId:artifactId -am `"},{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1643678808,"post_id":36547596,"comment_id":125399528,"body_markdown":"This does not work.  Pantha said &quot;I have not tried [it]&quot;.  Please do not post answers you haven&#39;t tried.","body":"This does not work.  Pantha said &quot;I have not tried [it]&quot;.  Please do not post answers you haven&#39;t tried."}],"tags":[],"owner":{"account_id":5677588,"reputation":951,"user_id":4490149,"display_name":"Rabin Pantha"},"comment_count":4,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1650872480,"creation_date":1460374552,"answer_id":36547596,"question_id":32368328,"body_markdown":"You can fix the problem by specifying the location of main as follows:\r\n\r\n    mvn spring-boot {com.ishanitech.controller.Application}:run","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>You can fix the problem by specifying the location of main as follows:</p>\n<pre><code>mvn spring-boot {com.ishanitech.controller.Application}:run\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2419049,"reputation":77,"user_id":2112490,"display_name":"Abubacker Siddik"},"score":0,"creation_date":1489857218,"post_id":36724537,"comment_id":72858534,"body_markdown":"If you have a multimodule maven project, make sure you run the module that has packaging as war. Your parent module packaging may be pom.","body":"If you have a multimodule maven project, make sure you run the module that has packaging as war. Your parent module packaging may be pom."}],"tags":[],"owner":{"account_id":6399049,"reputation":21,"user_id":4962437,"display_name":"Marco Nu&#241;ez"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1461084289,"creation_date":1461084289,"answer_id":36724537,"question_id":32368328,"body_markdown":"The solution is change the pom.xml file \r\n\r\nfrom this \r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\nto this\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\nor another value that you need depending of your deployment method.","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>The solution is change the pom.xml file </p>\n\n<p>from this </p>\n\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n\n<p>or another value that you need depending of your deployment method.</p>\n"},{"tags":[],"owner":{"account_id":53428,"reputation":8315,"user_id":159679,"accept_rate":64,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1461837504,"creation_date":1461837504,"answer_id":36911227,"question_id":32368328,"body_markdown":"    mvn clean spring-boot:start\r\n\r\n…will give you the same error.\r\n\r\n    mvn clean package spring-boot:start\r\n\r\n…is going to fix the issue by building the artifact before running `sprint-boot:start`.","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<pre><code>mvn clean spring-boot:start\n</code></pre>\n\n<p>…will give you the same error.</p>\n\n<pre><code>mvn clean package spring-boot:start\n</code></pre>\n\n<p>…is going to fix the issue by building the artifact before running <code>sprint-boot:start</code>.</p>\n"},{"tags":[],"owner":{"account_id":4513309,"reputation":2642,"user_id":3668858,"display_name":"Victor Petit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470400420,"creation_date":1470400420,"answer_id":38789381,"question_id":32368328,"body_markdown":"If you are trying to run a `mvn spring-boot:run` or just a `mvn` (as you seem to use JHipster and this is the way they wire it as default goal) in the root of your project, it is normal that if fail according that I think it can only be used in a plain spring boot project.\r\n\r\nAs your parent project seems to have severals Spring-Boot webapps, I guess that each one have their own main() launch class, and that you are just using a parent pom to factorize your poms and be able to package all your applications individually via a single command.\r\n\r\nSo, in that case, just run a `mvn package`, and not a `mvn` nor a `mvn spring-boot:run`.","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>If you are trying to run a <code>mvn spring-boot:run</code> or just a <code>mvn</code> (as you seem to use JHipster and this is the way they wire it as default goal) in the root of your project, it is normal that if fail according that I think it can only be used in a plain spring boot project.</p>\n\n<p>As your parent project seems to have severals Spring-Boot webapps, I guess that each one have their own main() launch class, and that you are just using a parent pom to factorize your poms and be able to package all your applications individually via a single command.</p>\n\n<p>So, in that case, just run a <code>mvn package</code>, and not a <code>mvn</code> nor a <code>mvn spring-boot:run</code>.</p>\n"},{"tags":[],"owner":{"account_id":1712865,"reputation":99,"user_id":1570533,"display_name":"orog"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1477160000,"creation_date":1477160000,"answer_id":40195447,"question_id":32368328,"body_markdown":"Maybe you forgot to specify the main class to start.\r\n\r\nIn pom.xml:\r\n\r\n    &lt;properties&gt;\r\n        &lt;start-class&gt;com.ishanitech.controller.Application&lt;/start-class&gt;\r\n    &lt;/properties&gt;","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>Maybe you forgot to specify the main class to start.</p>\n\n<p>In pom.xml:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;start-class&gt;com.ishanitech.controller.Application&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"score":0,"creation_date":1535538507,"post_id":40323515,"comment_id":91100006,"body_markdown":"Strangely enough, that did the trick. Which makes: i&#39;m not sure any more what this plugin is used for... THX anyway!!!","body":"Strangely enough, that did the trick. Which makes: i&#39;m not sure any more what this plugin is used for... THX anyway!!!"},{"owner":{"account_id":1888683,"reputation":2445,"user_id":1707348,"display_name":"Marco"},"score":0,"creation_date":1543329373,"post_id":40323515,"comment_id":93873231,"body_markdown":"After the build tag, add the `&lt;sourceDirectory` tag, that should do the trick.\n\n\ne.g.\n`&lt;build&gt;\n    \t&lt;sourceDirectory&gt;src/main/&lt;/sourceDirectory&gt;`","body":"After the build tag, add the <code>&lt;sourceDirectory</code> tag, that should do the trick.   e.g. <code>&lt;build&gt;     \t&lt;sourceDirectory&gt;src&#47;main&#47;&lt;&#47;sourceDirectory&gt;</code>"},{"owner":{"account_id":4299136,"reputation":806,"user_id":3513260,"display_name":"Fearnbuster"},"score":0,"creation_date":1653678540,"post_id":40323515,"comment_id":127917734,"body_markdown":"I didn&#39;t have a nested project but removing this item seemed to fix the problem while not causing a loss in any other functionality, so I must have had my project configured wrong.","body":"I didn&#39;t have a nested project but removing this item seemed to fix the problem while not causing a loss in any other functionality, so I must have had my project configured wrong."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1660795964,"post_id":40323515,"comment_id":129618485,"body_markdown":"works flawlessly!","body":"works flawlessly!"}],"tags":[],"owner":{"account_id":433582,"reputation":583,"user_id":819000,"accept_rate":62,"display_name":"Syed Siraj Uddin"},"comment_count":4,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1650872779,"creation_date":1477773986,"answer_id":40323515,"question_id":32368328,"body_markdown":"Remove the maven build plugin code from the parent pom, which will be similar to the below, the below snippet should be only in the sub module pom where you have main class for spring boot application:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>Remove the maven build plugin code from the parent pom, which will be similar to the below, the below snippet should be only in the sub module pom where you have main class for spring boot application:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10328931,"reputation":1,"user_id":7619512,"display_name":"Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487974988,"creation_date":1487974178,"answer_id":42449128,"question_id":32368328,"body_markdown":"I have also faced the same problem, but by adding the below line in my pom.xml I resolved the issue for my project:\r\n\r\n    &lt;properties&gt;\r\n          &lt;start-class&gt;com.hls.om.wp.AgencySearch&lt;/start-class&gt;\r\n    &lt;/properties&gt;\r\n\r\nwhere the `AgencySearch` class has the main method for running the spring boot application.\r\n","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>I have also faced the same problem, but by adding the below line in my pom.xml I resolved the issue for my project:</p>\n\n<pre><code>&lt;properties&gt;\n      &lt;start-class&gt;com.hls.om.wp.AgencySearch&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>where the <code>AgencySearch</code> class has the main method for running the spring boot application.</p>\n"},{"comments":[{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1643678518,"post_id":47667081,"comment_id":125399485,"body_markdown":"This lets me compile only.  But the app wouldn&#39;t run because it can&#39;t find the main class.","body":"This lets me compile only.  But the app wouldn&#39;t run because it can&#39;t find the main class."}],"tags":[],"owner":{"account_id":12379895,"reputation":113,"user_id":9025990,"display_name":"gnnExplorer"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512537674,"creation_date":1512536356,"answer_id":47667081,"question_id":32368328,"body_markdown":"If you are using `IntellJ IDEA`, maybe you can do it like this:\r\n   \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;add.your.main.class.application.reference.here&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis solved my error.","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>If you are using <code>IntellJ IDEA</code>, maybe you can do it like this:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;add.your.main.class.application.reference.here&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This solved my error.</p>\n"},{"tags":[],"owner":{"account_id":13380529,"reputation":1,"user_id":9655943,"display_name":"LiHai Zhou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523926097,"creation_date":1523926097,"answer_id":49868190,"question_id":32368328,"body_markdown":"If you follow the official guides and clone repository to local, then you got to folders, the guides let you `cd initial`, don&#39;t do that, `cd complete` and there will be no problem.","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>If you follow the official guides and clone repository to local, then you got to folders, the guides let you <code>cd initial</code>, don't do that, <code>cd complete</code> and there will be no problem.</p>\n"},{"comments":[{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":0,"creation_date":1690829598,"post_id":51066763,"comment_id":135404706,"body_markdown":"Wow I can&#39;t believed this worked after hours of debugging. But why does it work lol? And is there a shorter method now to configure this after 5 years?","body":"Wow I can&#39;t believed this worked after hours of debugging. But why does it work lol? And is there a shorter method now to configure this after 5 years?"}],"tags":[],"owner":{"account_id":13853579,"reputation":601,"user_id":10000929,"display_name":"ajasiocha"},"comment_count":1,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1650872724,"creation_date":1530114147,"answer_id":51066763,"question_id":32368328,"body_markdown":"In my case I had in main pom:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nwhich includes plugin spring-boot-maven-plugin.\r\n\r\nI had to add to main pom to skip it:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;skip&gt;true&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nand then in module with ma Application class:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;skip&gt;false&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>In my case I had in main pom:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>which includes plugin spring-boot-maven-plugin.</p>\n<p>I had to add to main pom to skip it:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;skip&gt;true&lt;/skip&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and then in module with ma Application class:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;skip&gt;false&lt;/skip&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13979102,"reputation":1,"user_id":10095758,"display_name":"Marcos Irisarri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532096877,"creation_date":1532096877,"answer_id":51444768,"question_id":32368328,"body_markdown":"I had the same issue. In my case it was because I had my main class in a package that was not &quot;parent&quot; to my other packages which contained Controllers, Entities, etc. Something like this:\r\n\r\n    +- com.domain.myapp.app\r\n    |  \\- Application.java\r\n    +- com.domain.myapp.controllers\r\n    |  \\- AppController.java\r\n    +- com.domain.myapp.entities\r\n    |  \\- AppEntity.java\r\n    +- com.domain.myapp.services\r\n    |  \\- AppService.java\r\n    +- com.domain.myapp.repository\r\n    |  \\- AppRepo.java\r\n\r\nThe solution was to move my main class to a package which is hierarchily on top of the other packages since Spring Boot automatically searches this package and all sub-packages for classes with @Entity, @Component, @Service, @Repository annotations. The result was something like this:\r\n\r\n \r\n\r\n    +- com.domain.myapp\r\n     |  \\- Application.java\r\n     |  +- com.domain.myapp.controllers\r\n     |  |  \\- AppController.java\r\n     |  +- com.domain.myapp.entities\r\n     |  |  \\- AppEntity.java\r\n     |  +- com.domain.myapp.services\r\n     |  |  \\- AppService.java\r\n     |  +- com.domain.myapp.repository\r\n     |  |  \\- AppRepo.java\r\n\r\nHope it helps!\r\n\r\nRegards\r\n","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>I had the same issue. In my case it was because I had my main class in a package that was not \"parent\" to my other packages which contained Controllers, Entities, etc. Something like this:</p>\n\n<pre><code>+- com.domain.myapp.app\n|  \\- Application.java\n+- com.domain.myapp.controllers\n|  \\- AppController.java\n+- com.domain.myapp.entities\n|  \\- AppEntity.java\n+- com.domain.myapp.services\n|  \\- AppService.java\n+- com.domain.myapp.repository\n|  \\- AppRepo.java\n</code></pre>\n\n<p>The solution was to move my main class to a package which is hierarchily on top of the other packages since Spring Boot automatically searches this package and all sub-packages for classes with @Entity, @Component, @Service, @Repository annotations. The result was something like this:</p>\n\n<pre><code>+- com.domain.myapp\n |  \\- Application.java\n |  +- com.domain.myapp.controllers\n |  |  \\- AppController.java\n |  +- com.domain.myapp.entities\n |  |  \\- AppEntity.java\n |  +- com.domain.myapp.services\n |  |  \\- AppService.java\n |  +- com.domain.myapp.repository\n |  |  \\- AppRepo.java\n</code></pre>\n\n<p>Hope it helps!</p>\n\n<p>Regards</p>\n"},{"comments":[{"owner":{"account_id":7096138,"reputation":1032,"user_id":5429648,"accept_rate":71,"display_name":"Happypig375"},"score":1,"creation_date":1543331016,"post_id":53502092,"comment_id":93874255,"body_markdown":"Can you please clarify lthe steps of running the module? Other newbies might not know how.","body":"Can you please clarify lthe steps of running the module? Other newbies might not know how."},{"owner":{"account_id":14785435,"reputation":173,"user_id":10677761,"display_name":"Yuebing Cao"},"score":0,"creation_date":1544949849,"post_id":53502092,"comment_id":94450117,"body_markdown":"1. in the parent module folder, run `mvn install`\n2. go to the sub module folder which contains the mainClass you need, run `mvn clean spring-boot:start`","body":"1. in the parent module folder, run <code>mvn install</code> 2. go to the sub module folder which contains the mainClass you need, run <code>mvn clean spring-boot:start</code>"},{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":1,"creation_date":1574740967,"post_id":53502092,"comment_id":104329006,"body_markdown":"This worked for me... however, is there no way we can get the application to run from the project root directory instead of the submodule directory?","body":"This worked for me... however, is there no way we can get the application to run from the project root directory instead of the submodule directory?"}],"tags":[],"owner":{"account_id":14785435,"reputation":173,"user_id":10677761,"display_name":"Yuebing Cao"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1544956644,"creation_date":1543329513,"answer_id":53502092,"question_id":32368328,"body_markdown":"I solved this by two steps:\r\n\r\n1. In the parent module folder, run `mvn install`\r\n2. Go to the sub module folder which contains the mainClass you need, run `mvn clean spring-boot:start`","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>I solved this by two steps:</p>\n\n<ol>\n<li>In the parent module folder, run <code>mvn install</code></li>\n<li>Go to the sub module folder which contains the mainClass you need, run <code>mvn clean spring-boot:start</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11966550,"reputation":1991,"user_id":8756056,"display_name":"Mikhail"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581796873,"creation_date":1581796873,"answer_id":60242625,"question_id":32368328,"body_markdown":"If you don&#39;t want to create a fat jar, you can add follow lines in your pom.xml:\r\n\r\n    &lt;properties&gt;\r\n        &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\r\n    &lt;/properties&gt;","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>If you don't want to create a fat jar, you can add follow lines in your pom.xml:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1584096766,"post_id":60669113,"comment_id":107337975,"body_markdown":"Welcome to Stack Overflow! However much excited you may be, please keep the language professional and courteous.","body":"Welcome to Stack Overflow! However much excited you may be, please keep the language professional and courteous."}],"tags":[],"owner":{"account_id":17458973,"reputation":31,"user_id":12657110,"display_name":"Yaffah"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584096732,"creation_date":1584096670,"answer_id":60669113,"question_id":32368328,"body_markdown":"The only way that worked is to exactly have these respectively in your parent and module pom.xml:\r\n\r\n**PARENT:**\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \r\n    \t\t\t\tdefaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;skip&gt;true&lt;/skip&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.7.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n\r\n\r\n**MODULE**\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t\t\t\t\t&lt;skip&gt;false&lt;/skip&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.7.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n\r\n","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>The only way that worked is to exactly have these respectively in your parent and module pom.xml:</p>\n\n<p><strong>PARENT:</strong></p>\n\n<pre><code>&lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \n                defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p><strong>MODULE</strong></p>\n\n<pre><code>&lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;fork&gt;true&lt;/fork&gt;\n                        &lt;skip&gt;false&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;repackage&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610006806,"creation_date":1610006806,"answer_id":65608669,"question_id":32368328,"body_markdown":"I did as following and it resolved\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n\t&lt;/properties&gt;\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t &lt;skip&gt;true&lt;/skip&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>I did as following and it resolved</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                 &lt;skip&gt;true&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17022824,"reputation":169,"user_id":12314888,"display_name":"Deepanshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622123159,"creation_date":1622123159,"answer_id":67723493,"question_id":32368328,"body_markdown":"Use `&lt;pluginManagement&gt;` tag above the `&lt;plugins&gt;` tag\r\n\r\n     &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>Use <code>&lt;pluginManagement&gt;</code> tag above the <code>&lt;plugins&gt;</code> tag</p>\n<pre><code> &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":139814,"reputation":16854,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649242104,"creation_date":1649242104,"answer_id":71765389,"question_id":32368328,"body_markdown":"In my multi-module project, I did a `cd` into the sub-module and I used Maven&#39;s `exec:java` goal instead of `spring-boot:run`.\r\n\r\n```bash\r\nmvn clean package exec:java -Dexec.mainClass=&quot;a.b.c.Application&quot;\r\n```\r\n\r\nFor me, this was sufficient, but I&#39;m not sure what spring-boot:run does differently.","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>In my multi-module project, I did a <code>cd</code> into the sub-module and I used Maven's <code>exec:java</code> goal instead of <code>spring-boot:run</code>.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn clean package exec:java -Dexec.mainClass=&quot;a.b.c.Application&quot;\n</code></pre>\n<p>For me, this was sufficient, but I'm not sure what spring-boot:run does differently.</p>\n"},{"tags":[],"owner":{"account_id":19011309,"reputation":51,"user_id":13877160,"display_name":"Emeka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653076294,"creation_date":1653076294,"answer_id":72324171,"question_id":32368328,"body_markdown":"The issue is that spring looks for the main class in all modules of a multi module application.\r\nIf you have a multi-module application just add this to pom.xml of other modules which do not have the main class\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n         &lt;skip&gt;true&lt;/skip&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd main Class module pom.xml add\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n         &lt;skip&gt;false&lt;/skip&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nSide note: Try to exclude didn&#39;t work for me","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>The issue is that spring looks for the main class in all modules of a multi module application.\nIf you have a multi-module application just add this to pom.xml of other modules which do not have the main class</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n   &lt;configuration&gt;\n     &lt;skip&gt;true&lt;/skip&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And main Class module pom.xml add</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n   &lt;configuration&gt;\n     &lt;skip&gt;false&lt;/skip&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Side note: Try to exclude didn't work for me</p>\n"},{"tags":[],"owner":{"account_id":25215504,"reputation":61,"user_id":19052671,"display_name":"Kartik Hegde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684057788,"creation_date":1684057788,"answer_id":76246823,"question_id":32368328,"body_markdown":"Just add &quot;sourceDirectory&quot; tag in the build section before the spring-boot-maven-plugin and specify the directory where the main class is located. Don&#39;t give the package name!\r\n\r\n    &lt;build&gt; \r\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>Just add &quot;sourceDirectory&quot; tag in the build section before the spring-boot-maven-plugin and specify the directory where the main class is located. Don't give the package name!</p>\n<pre><code>&lt;build&gt; \n    &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":5862830,"reputation":9248,"user_id":4617914,"accept_rate":12,"display_name":"Qasim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136458,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":21,"score":72,"last_activity_date":1696670707,"creation_date":1441261443,"question_id":32368328,"body_markdown":"I am developing a spring boot maven-based project and have created maven submodules, but when I try to run my project, it gives an error. \r\n\r\n```\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.2.5.RELEASE:run (default-cli) on project demo-jhipster: Unable to find a suitable main class, please add a &#39;mainClass&#39; property -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.2.5.RELEASE:run (default-cli) on project demo-jhipster: Unable to find a suitable main class, please add a &#39;mainClass&#39; property\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:355)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:216)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:160)\r\n```\r\n\r\nMy parent pom and child pom is \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n            &lt;relativePath /&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;com.aquevix.demo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo-jhipster&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;demo_jhipster&lt;/name&gt;\r\n    \r\n        &lt;prerequisites&gt;\r\n            &lt;maven&gt;3.0.0&lt;/maven&gt;\r\n        &lt;/prerequisites&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;JhipsterSubmodule&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;assertj-core.version&gt;3.1.0&lt;/assertj-core.version&gt;\r\n            &lt;awaitility.version&gt;1.4.0&lt;/awaitility.version&gt;\r\n            &lt;commons-io.version&gt;2.4&lt;/commons-io.version&gt;\r\n            &lt;commons-lang.version&gt;2.6&lt;/commons-lang.version&gt;\r\n            &lt;gatling-maven-plugin.version&gt;2.1.6&lt;/gatling-maven-plugin.version&gt;\r\n            &lt;gatling.version&gt;2.1.6&lt;/gatling.version&gt;\r\n            &lt;hibernate.version&gt;4.3.10.Final&lt;/hibernate.version&gt;\r\n            &lt;hikaricp.version&gt;2.4.0&lt;/hikaricp.version&gt;\r\n            &lt;jacoco-maven-plugin.version&gt;0.7.4.201502262128&lt;/jacoco-maven-plugin.version&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;javax.inject.version&gt;1&lt;/javax.inject.version&gt;\r\n            &lt;joda-time-hibernate.version&gt;1.4&lt;/joda-time-hibernate.version&gt;\r\n            &lt;liquibase-hibernate4.version&gt;3.5&lt;/liquibase-hibernate4.version&gt;\r\n            &lt;liquibase-slf4j.version&gt;1.2.1&lt;/liquibase-slf4j.version&gt;\r\n            &lt;liquibase.version&gt;3.4.1&lt;/liquibase.version&gt;\r\n            &lt;mapstruct.version&gt;1.0.0.CR1&lt;/mapstruct.version&gt;\r\n            &lt;maven-enforcer-plugin.version&gt;1.3.1&lt;/maven-enforcer-plugin.version&gt;\r\n            &lt;maven-sortpom-plugin.version&gt;2.3.0&lt;/maven-sortpom-plugin.version&gt;\r\n            &lt;maven.build.timestamp.format&gt;yyyyMMddHHmmss&lt;/maven.build.timestamp.format&gt;\r\n            &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n            &lt;metrics-spark-reporter.version&gt;1.2&lt;/metrics-spark-reporter.version&gt;\r\n            &lt;metrics-spring.version&gt;3.1.2&lt;/metrics-spring.version&gt;\r\n            &lt;!-- Sonar properties --&gt;\r\n            &lt;project.testresult.directory&gt;${project.build.directory}/test-results&lt;/project.testresult.directory&gt;\r\n            &lt;run.addResources&gt;false&lt;/run.addResources&gt;\r\n            &lt;sonar-maven-plugin.version&gt;2.6&lt;/sonar-maven-plugin.version&gt;\r\n            &lt;sonar.exclusions&gt;src/main/webapp/assets/**/*.*, src/main/webapp/bower_components/**/*.*, src/main/webapp/dist/**/*.*&lt;/sonar.exclusions&gt;\r\n            &lt;sonar.jacoco.itReportPath&gt;${project.testresult.directory}/coverage/jacoco/jacoco-it.exec&lt;/sonar.jacoco.itReportPath&gt;\r\n            &lt;sonar.jacoco.reportPath&gt;${project.testresult.directory}/coverage/jacoco/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\r\n            &lt;sonar.java.codeCoveragePlugin&gt;jacoco&lt;/sonar.java.codeCoveragePlugin&gt;\r\n    \r\n            &lt;sonar.javascript.jstestdriver.reportsPath&gt;${project.testresult.directory}/karma&lt;/sonar.javascript.jstestdriver.reportsPath&gt;\r\n            &lt;sonar.javascript.lcov.reportPath&gt;${project.testresult.directory}/coverage/report-lcov/lcov.info&lt;/sonar.javascript.lcov.reportPath&gt;\r\n    \r\n            &lt;sonar.sources&gt;${project.basedir}/src/main/&lt;/sonar.sources&gt;\r\n            &lt;sonar.surefire.reportsPath&gt;${project.testresult.directory}/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\r\n            &lt;sonar.tests&gt;${project.basedir}/src/test/&lt;/sonar.tests&gt;\r\n            &lt;spring-security.version&gt;4.0.2.RELEASE&lt;/spring-security.version&gt;\r\n            &lt;springfox.version&gt;2.0.3&lt;/springfox.version&gt;\r\n            &lt;usertype-core.version&gt;4.0.0.GA&lt;/usertype-core.version&gt;\r\n    \r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            // dependencies..\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                    &lt;filtering&gt;false&lt;/filtering&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*.xml&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.google.code.sortpom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-sortpom-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-sortpom-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;verify&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;sort&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;sortProperties&gt;true&lt;/sortProperties&gt;\r\n                        &lt;nrOfIndentSpace&gt;4&lt;/nrOfIndentSpace&gt;\r\n                        &lt;sortDependencies&gt;groupId,artifactId&lt;/sortDependencies&gt;\r\n                        &lt;sortPlugins&gt;groupId,artifactId&lt;/sortPlugins&gt;\r\n                        &lt;keepBlankLines&gt;true&lt;/keepBlankLines&gt;\r\n                        &lt;expandEmptyElements&gt;false&lt;/expandEmptyElements&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;io.gatling&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;gatling-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${gatling-maven-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;configFolder&gt;src/test/gatling/conf&lt;/configFolder&gt;\r\n                        &lt;dataFolder&gt;src/test/gatling/data&lt;/dataFolder&gt;\r\n                        &lt;resultsFolder&gt;target/gatling/results&lt;/resultsFolder&gt;\r\n                        &lt;bodiesFolder&gt;src/test/gatling/bodies&lt;/bodiesFolder&gt;\r\n                        &lt;simulationsFolder&gt;src/test/gatling/simulations&lt;/simulationsFolder&gt;\r\n                        &lt;!-- This will force Gatling to ask which simulation to run\r\n                          This is useful when you have multiple simulations --&gt;\r\n                        &lt;simulationClass&gt;*&lt;/simulationClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n                        &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-enforcer-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;enforce-versions&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;enforce&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;rules&gt;\r\n                            &lt;requireMavenVersion&gt;\r\n                                &lt;message&gt;You are running an older version of Maven. JHipster requires at least Maven 3.0&lt;/message&gt;\r\n                                &lt;version&gt;[3.0.0,)&lt;/version&gt;\r\n                            &lt;/requireMavenVersion&gt;\r\n                            &lt;requireJavaVersion&gt;\r\n                                &lt;message&gt;You are running an older version of Java. JHipster requires at least JDK ${java.version}&lt;/message&gt;\r\n                                &lt;version&gt;[${java.version}.0,)&lt;/version&gt;\r\n                            &lt;/requireJavaVersion&gt;\r\n                        &lt;/rules&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;-Xmx256m ${surefireArgLine}&lt;/argLine&gt;\r\n                        &lt;!-- Force alphabetical order to have a reproducible build --&gt;\r\n                        &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;packagingExcludes&gt;WEB-INF/lib/tomcat-*.jar&lt;/packagingExcludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2.4&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;process&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;process&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;defaultOutputDirectory&gt;${project.build.directory}/generated-sources&lt;/defaultOutputDirectory&gt;\r\n                        &lt;processors&gt;\r\n                            &lt;processor&gt;org.mapstruct.ap.MappingProcessor&lt;/processor&gt;\r\n                        &lt;/processors&gt;\r\n                        &lt;options&gt;\r\n                            &lt;mapstruct.suppressGeneratorTimestamp&gt;true&lt;/mapstruct.suppressGeneratorTimestamp&gt;\r\n                            &lt;mapstruct.defaultComponentModel&gt;spring&lt;/mapstruct.defaultComponentModel&gt;\r\n                        &lt;/options&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${sonar-maven-plugin.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jacoco-maven-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;pre-unit-tests&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;!-- Sets the path to the file which contains the execution data. --&gt;\r\n                                &lt;destFile&gt;${project.testresult.directory}/coverage/jacoco/jacoco.exec&lt;/destFile&gt;\r\n                                &lt;!-- Sets the name of the property containing the settings for JaCoCo runtime agent. --&gt;\r\n                                &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;!-- Ensures that the code coverage report for unit tests is created after unit tests have been run --&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;post-unit-test&lt;/id&gt;\r\n                            &lt;phase&gt;test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;dataFile&gt;${project.testresult.directory}/coverage/jacoco/jacoco.exec&lt;/dataFile&gt;\r\n                                &lt;outputDirectory&gt;${project.testresult.directory}/coverage/jacoco&lt;/outputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.18.2-GA&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;liquibase-hibernate4&lt;/artifactId&gt;\r\n                            &lt;version&gt;${liquibase-hibernate4.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;changeLogFile&gt;src/main/resources/config/liquibase/master.xml&lt;/changeLogFile&gt;\r\n                        &lt;diffChangeLogFile&gt;src/main/resources/config/liquibase/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\r\n                        &lt;driver /&gt;\r\n                        &lt;url /&gt;\r\n                        &lt;defaultSchemaName /&gt;\r\n                        &lt;username /&gt;\r\n                        &lt;password /&gt;\r\n                        &lt;referenceUrl&gt;hibernate:spring:com.aquevix.demo.domain?dialect=&lt;/referenceUrl&gt;\r\n                        &lt;verbose&gt;true&lt;/verbose&gt;\r\n                        &lt;logging&gt;debug&lt;/logging&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;jvmArguments&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&lt;/jvmArguments&gt;\r\n                        &lt;arguments&gt;\r\n                            &lt;argument&gt;--spring.profiles.active=dev&lt;/argument&gt;\r\n                        &lt;/arguments&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;dev&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;!-- log configuration --&gt;\r\n                    &lt;logback.loglevel&gt;DEBUG&lt;/logback.loglevel&gt;\r\n                &lt;/properties&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;fast&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;arguments&gt;\r\n                                    &lt;argument&gt;--spring.profiles.active=dev,fast&lt;/argument&gt;\r\n                                &lt;/arguments&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n                &lt;properties&gt;\r\n                    &lt;!-- log configuration --&gt;\r\n                    &lt;logback.loglevel&gt;DEBUG&lt;/logback.loglevel&gt;\r\n                &lt;/properties&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;prod&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;com.github.trecloux&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;yeoman-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.4&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;run-frontend-build&lt;/id&gt;\r\n                                    &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;build&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;buildTool&gt;grunt&lt;/buildTool&gt;\r\n                                        &lt;buildArgs&gt;build --force --no-color&lt;/buildArgs&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;yeomanProjectDirectory&gt;${project.basedir}&lt;/yeomanProjectDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.5&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;filesets&gt;\r\n                                    &lt;fileset&gt;                                       &lt;directory&gt;src/main/webapp/dist&lt;/directory&gt;\r\n                                    &lt;/fileset&gt;\r\n                                    &lt;fileset&gt;\r\n                                        &lt;directory&gt;.tmp&lt;/directory&gt;\r\n                                    &lt;/fileset&gt;\r\n                                    &lt;fileset&gt;\r\n                                        &lt;directory&gt;node_modules&lt;/directory&gt;\r\n                                    &lt;/fileset&gt;\r\n                                &lt;/filesets&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;arguments&gt;\r\n                                    &lt;argument&gt;--spring.profiles.active=prod&lt;/argument&gt;\r\n                                &lt;/arguments&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n                &lt;properties&gt;\r\n                    &lt;!-- log configuration --&gt;\r\n                    &lt;logback.loglevel&gt;INFO&lt;/logback.loglevel&gt;\r\n                &lt;/properties&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\nand child pom is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;demo-jhipster&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.aquevix.demo&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;artifactId&gt;JhipsterSubmodule1&lt;/artifactId&gt;\r\n    &lt;/project&gt;\r\n\r\nI have googled but not found any solution please help in this regard!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nUmKm.png","title":"Unable to find a suitable main class, please add a &#39;mainClass&#39; property, Spring boot","body":"<p>I am developing a spring boot maven-based project and have created maven submodules, but when I try to run my project, it gives an error.</p>\n<pre><code>    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.2.5.RELEASE:run (default-cli) on project demo-jhipster: Unable to find a suitable main class, please add a 'mainClass' property -&gt; [Help 1]\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.2.5.RELEASE:run (default-cli) on project demo-jhipster: Unable to find a suitable main class, please add a 'mainClass' property\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:355)\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:216)\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:160)\n</code></pre>\n<p>My parent pom and child pom is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.aquevix.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-jhipster&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;demo_jhipster&lt;/name&gt;\n\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.0.0&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n    &lt;modules&gt;\n        &lt;module&gt;JhipsterSubmodule&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;assertj-core.version&gt;3.1.0&lt;/assertj-core.version&gt;\n        &lt;awaitility.version&gt;1.4.0&lt;/awaitility.version&gt;\n        &lt;commons-io.version&gt;2.4&lt;/commons-io.version&gt;\n        &lt;commons-lang.version&gt;2.6&lt;/commons-lang.version&gt;\n        &lt;gatling-maven-plugin.version&gt;2.1.6&lt;/gatling-maven-plugin.version&gt;\n        &lt;gatling.version&gt;2.1.6&lt;/gatling.version&gt;\n        &lt;hibernate.version&gt;4.3.10.Final&lt;/hibernate.version&gt;\n        &lt;hikaricp.version&gt;2.4.0&lt;/hikaricp.version&gt;\n        &lt;jacoco-maven-plugin.version&gt;0.7.4.201502262128&lt;/jacoco-maven-plugin.version&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;javax.inject.version&gt;1&lt;/javax.inject.version&gt;\n        &lt;joda-time-hibernate.version&gt;1.4&lt;/joda-time-hibernate.version&gt;\n        &lt;liquibase-hibernate4.version&gt;3.5&lt;/liquibase-hibernate4.version&gt;\n        &lt;liquibase-slf4j.version&gt;1.2.1&lt;/liquibase-slf4j.version&gt;\n        &lt;liquibase.version&gt;3.4.1&lt;/liquibase.version&gt;\n        &lt;mapstruct.version&gt;1.0.0.CR1&lt;/mapstruct.version&gt;\n        &lt;maven-enforcer-plugin.version&gt;1.3.1&lt;/maven-enforcer-plugin.version&gt;\n        &lt;maven-sortpom-plugin.version&gt;2.3.0&lt;/maven-sortpom-plugin.version&gt;\n        &lt;maven.build.timestamp.format&gt;yyyyMMddHHmmss&lt;/maven.build.timestamp.format&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;metrics-spark-reporter.version&gt;1.2&lt;/metrics-spark-reporter.version&gt;\n        &lt;metrics-spring.version&gt;3.1.2&lt;/metrics-spring.version&gt;\n        &lt;!-- Sonar properties --&gt;\n        &lt;project.testresult.directory&gt;${project.build.directory}/test-results&lt;/project.testresult.directory&gt;\n        &lt;run.addResources&gt;false&lt;/run.addResources&gt;\n        &lt;sonar-maven-plugin.version&gt;2.6&lt;/sonar-maven-plugin.version&gt;\n        &lt;sonar.exclusions&gt;src/main/webapp/assets/**/*.*, src/main/webapp/bower_components/**/*.*, src/main/webapp/dist/**/*.*&lt;/sonar.exclusions&gt;\n        &lt;sonar.jacoco.itReportPath&gt;${project.testresult.directory}/coverage/jacoco/jacoco-it.exec&lt;/sonar.jacoco.itReportPath&gt;\n        &lt;sonar.jacoco.reportPath&gt;${project.testresult.directory}/coverage/jacoco/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\n        &lt;sonar.java.codeCoveragePlugin&gt;jacoco&lt;/sonar.java.codeCoveragePlugin&gt;\n\n        &lt;sonar.javascript.jstestdriver.reportsPath&gt;${project.testresult.directory}/karma&lt;/sonar.javascript.jstestdriver.reportsPath&gt;\n        &lt;sonar.javascript.lcov.reportPath&gt;${project.testresult.directory}/coverage/report-lcov/lcov.info&lt;/sonar.javascript.lcov.reportPath&gt;\n\n        &lt;sonar.sources&gt;${project.basedir}/src/main/&lt;/sonar.sources&gt;\n        &lt;sonar.surefire.reportsPath&gt;${project.testresult.directory}/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\n        &lt;sonar.tests&gt;${project.basedir}/src/test/&lt;/sonar.tests&gt;\n        &lt;spring-security.version&gt;4.0.2.RELEASE&lt;/spring-security.version&gt;\n        &lt;springfox.version&gt;2.0.3&lt;/springfox.version&gt;\n        &lt;usertype-core.version&gt;4.0.0.GA&lt;/usertype-core.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        // dependencies..\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.xml&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.code.sortpom&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-sortpom-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-sortpom-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;sort&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;sortProperties&gt;true&lt;/sortProperties&gt;\n                    &lt;nrOfIndentSpace&gt;4&lt;/nrOfIndentSpace&gt;\n                    &lt;sortDependencies&gt;groupId,artifactId&lt;/sortDependencies&gt;\n                    &lt;sortPlugins&gt;groupId,artifactId&lt;/sortPlugins&gt;\n                    &lt;keepBlankLines&gt;true&lt;/keepBlankLines&gt;\n                    &lt;expandEmptyElements&gt;false&lt;/expandEmptyElements&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.gatling&lt;/groupId&gt;\n                &lt;artifactId&gt;gatling-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${gatling-maven-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configFolder&gt;src/test/gatling/conf&lt;/configFolder&gt;\n                    &lt;dataFolder&gt;src/test/gatling/data&lt;/dataFolder&gt;\n                    &lt;resultsFolder&gt;target/gatling/results&lt;/resultsFolder&gt;\n                    &lt;bodiesFolder&gt;src/test/gatling/bodies&lt;/bodiesFolder&gt;\n                    &lt;simulationsFolder&gt;src/test/gatling/simulations&lt;/simulationsFolder&gt;\n                    &lt;!-- This will force Gatling to ask which simulation to run\n                      This is useful when you have multiple simulations --&gt;\n                    &lt;simulationClass&gt;*&lt;/simulationClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-enforcer-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;enforce-versions&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enforce&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;rules&gt;\n                        &lt;requireMavenVersion&gt;\n                            &lt;message&gt;You are running an older version of Maven. JHipster requires at least Maven 3.0&lt;/message&gt;\n                            &lt;version&gt;[3.0.0,)&lt;/version&gt;\n                        &lt;/requireMavenVersion&gt;\n                        &lt;requireJavaVersion&gt;\n                            &lt;message&gt;You are running an older version of Java. JHipster requires at least JDK ${java.version}&lt;/message&gt;\n                            &lt;version&gt;[${java.version}.0,)&lt;/version&gt;\n                        &lt;/requireJavaVersion&gt;\n                    &lt;/rules&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Xmx256m ${surefireArgLine}&lt;/argLine&gt;\n                    &lt;!-- Force alphabetical order to have a reproducible build --&gt;\n                    &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;packagingExcludes&gt;WEB-INF/lib/tomcat-*.jar&lt;/packagingExcludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;process&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;defaultOutputDirectory&gt;${project.build.directory}/generated-sources&lt;/defaultOutputDirectory&gt;\n                    &lt;processors&gt;\n                        &lt;processor&gt;org.mapstruct.ap.MappingProcessor&lt;/processor&gt;\n                    &lt;/processors&gt;\n                    &lt;options&gt;\n                        &lt;mapstruct.suppressGeneratorTimestamp&gt;true&lt;/mapstruct.suppressGeneratorTimestamp&gt;\n                        &lt;mapstruct.defaultComponentModel&gt;spring&lt;/mapstruct.defaultComponentModel&gt;\n                    &lt;/options&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${sonar-maven-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jacoco-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-unit-tests&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;!-- Sets the path to the file which contains the execution data. --&gt;\n                            &lt;destFile&gt;${project.testresult.directory}/coverage/jacoco/jacoco.exec&lt;/destFile&gt;\n                            &lt;!-- Sets the name of the property containing the settings for JaCoCo runtime agent. --&gt;\n                            &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- Ensures that the code coverage report for unit tests is created after unit tests have been run --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-unit-test&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;dataFile&gt;${project.testresult.directory}/coverage/jacoco/jacoco.exec&lt;/dataFile&gt;\n                            &lt;outputDirectory&gt;${project.testresult.directory}/coverage/jacoco&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${liquibase.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n                        &lt;version&gt;3.18.2-GA&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n                        &lt;artifactId&gt;liquibase-hibernate4&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase-hibernate4.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;changeLogFile&gt;src/main/resources/config/liquibase/master.xml&lt;/changeLogFile&gt;\n                    &lt;diffChangeLogFile&gt;src/main/resources/config/liquibase/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\n                    &lt;driver /&gt;\n                    &lt;url /&gt;\n                    &lt;defaultSchemaName /&gt;\n                    &lt;username /&gt;\n                    &lt;password /&gt;\n                    &lt;referenceUrl&gt;hibernate:spring:com.aquevix.demo.domain?dialect=&lt;/referenceUrl&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;logging&gt;debug&lt;/logging&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&lt;/jvmArguments&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;--spring.profiles.active=dev&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;!-- log configuration --&gt;\n                &lt;logback.loglevel&gt;DEBUG&lt;/logback.loglevel&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;fast&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;\n                                &lt;argument&gt;--spring.profiles.active=dev,fast&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n            &lt;properties&gt;\n                &lt;!-- log configuration --&gt;\n                &lt;logback.loglevel&gt;DEBUG&lt;/logback.loglevel&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.github.trecloux&lt;/groupId&gt;\n                        &lt;artifactId&gt;yeoman-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.4&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;run-frontend-build&lt;/id&gt;\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;buildTool&gt;grunt&lt;/buildTool&gt;\n                                    &lt;buildArgs&gt;build --force --no-color&lt;/buildArgs&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;yeomanProjectDirectory&gt;${project.basedir}&lt;/yeomanProjectDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.5&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;filesets&gt;\n                                &lt;fileset&gt;                                       &lt;directory&gt;src/main/webapp/dist&lt;/directory&gt;\n                                &lt;/fileset&gt;\n                                &lt;fileset&gt;\n                                    &lt;directory&gt;.tmp&lt;/directory&gt;\n                                &lt;/fileset&gt;\n                                &lt;fileset&gt;\n                                    &lt;directory&gt;node_modules&lt;/directory&gt;\n                                &lt;/fileset&gt;\n                            &lt;/filesets&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;\n                                &lt;argument&gt;--spring.profiles.active=prod&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n            &lt;properties&gt;\n                &lt;!-- log configuration --&gt;\n                &lt;logback.loglevel&gt;INFO&lt;/logback.loglevel&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and child pom is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;demo-jhipster&lt;/artifactId&gt;\n        &lt;groupId&gt;com.aquevix.demo&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;JhipsterSubmodule1&lt;/artifactId&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have googled but not found any solution please help in this regard!</p>\n<p><a href=\"https://i.stack.imgur.com/nUmKm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nUmKm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio","version","java-11"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1696670303,"post_id":77249112,"comment_id":136185408,"body_markdown":"You are trying to use a class compiled for Java 17 (that `SqliteFileType` class) on a Java 11 JVM.  Either upgrade the JVM to Java 17 or recompile that class library for Java 11.","body":"You are trying to use a class compiled for Java 17 (that <code>SqliteFileType</code> class) on a Java 11 JVM.  Either upgrade the JVM to Java 17 or recompile that class library for Java 11."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696674241,"post_id":77249112,"comment_id":136185738,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26485911,"reputation":957,"user_id":20124484,"display_name":"maddes8cht"},"score":0,"creation_date":1696677242,"post_id":77249112,"comment_id":136186008,"body_markdown":"Please give a descriptive headline, and use english also in the headline.\nNo one having a similar problem will ever find your question with this heading.","body":"Please give a descriptive headline, and use english also in the headline. No one having a similar problem will ever find your question with this heading."}],"answers":[{"tags":[],"owner":{"account_id":24928711,"reputation":1,"user_id":18796107,"display_name":"Roroma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696670279,"creation_date":1696670279,"answer_id":77249158,"question_id":77249112,"body_markdown":"It means that the code which you re trying to run is compiled in a more recent version of java(class file version 61.0) on a java runtime environment that only\r\nrecognizes class file versions up to 55.0.\r\nSo you should do:\r\ncheck your java version if its old update ur java version &amp; check dependencies.\r\nI hope it gonna be OK lemme know if you fixed that problem.","title":"Problme in Android","body":"<p>It means that the code which you re trying to run is compiled in a more recent version of java(class file version 61.0) on a java runtime environment that only\nrecognizes class file versions up to 55.0.\nSo you should do:\ncheck your java version if its old update ur java version &amp; check dependencies.\nI hope it gonna be OK lemme know if you fixed that problem.</p>\n"}],"owner":{"account_id":23261411,"reputation":9,"user_id":17347614,"display_name":"Yagoub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1696750918,"answer_count":1,"score":-2,"last_activity_date":1696670279,"creation_date":1696669612,"question_id":77249112,"body_markdown":"While I was working on a project in Android Studio, I encountered a Java problem:\r\n\r\n`Cause: com/github/gitofleonardo/simplesqlitebrowser/sqlite/SqliteFileType has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0`\r\n\r\nIs there anyone who can help me?","title":"Problme in Android","body":"<p>While I was working on a project in Android Studio, I encountered a Java problem:</p>\n<p><code>Cause: com/github/gitofleonardo/simplesqlitebrowser/sqlite/SqliteFileType has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0</code></p>\n<p>Is there anyone who can help me?</p>\n"},{"tags":["java","arrays","copying"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696669511,"post_id":77248720,"comment_id":136185328,"body_markdown":"Not related to your question, but the `int arr[]` syntax of declaring arrays is considered a historic quirk of the Java syntax, and not something you should use. Please declare arrays as `int[] arr` instead, as that is the generally accepted syntax.","body":"Not related to your question, but the <code>int arr[]</code> syntax of declaring arrays is considered a historic quirk of the Java syntax, and not something you should use. Please declare arrays as <code>int[] arr</code> instead, as that is the generally accepted syntax."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696725448,"post_id":77248720,"comment_id":136190151,"body_markdown":"There is no such thing as an address in Java.","body":"There is no such thing as an address in Java."}],"owner":{"account_id":28824731,"reputation":1,"user_id":22076392,"display_name":"Archit Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696662198,"answer_count":0,"score":0,"last_activity_date":1696669567,"creation_date":1696661726,"question_id":77248720,"body_markdown":"```\r\npublic class zeroCheck {\r\n    \r\n    int a[]={2,3,4};\r\n    int c[]={5,6,7};\r\n\r\n    void addMore(int arr[])\r\n    {\r\n        int another[] = new int[6];\r\n        System.arraycopy(a, 0, another, 0, 3);\r\n        System.arraycopy(c, 0, another, 3, 3);\r\n         \r\n        for(int x:another)\r\n        {\r\n            System.out.print(x + &quot;\\t&quot;);\r\n        }\r\n        // prints 2 3 4 5 6 7 0\r\n\r\n        // Trying to copy address of another array into the original\r\n        arr = another;\r\n\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        zeroCheck o=new zeroCheck();\r\n        // System.out.println(o.a.length);\r\n\r\n        int b[] = new int[6];\r\n        o.addMore(b);\r\n            \r\n        for(int x:b)\r\n        {\r\n            System.out.println(x);\r\n        }\r\n        // prints 0 0 0 0 0 \r\n        \r\n    }\r\n    \r\n}\r\n```\r\nHere I was trying to copy the address of `another` into the parameter, but it looks like it didn&#39;t affect the original array. I speculate an arrayname contains the address, so it should be pass by reference meaning any change in the `addMore` method will reflect in the `main`. So, the array `b[]` should be the same as `another[]`.\r\n\r\nI ran the code and the output appears to be like this:\r\n```none\r\n2 3 4 5 6 7 0\r\n0\r\n0\r\n0\r\n0\r\n0\r\n```\r\n\r\nWhat does this mean?","title":"Copying address of one array into another","body":"<pre><code>public class zeroCheck {\n    \n    int a[]={2,3,4};\n    int c[]={5,6,7};\n\n    void addMore(int arr[])\n    {\n        int another[] = new int[6];\n        System.arraycopy(a, 0, another, 0, 3);\n        System.arraycopy(c, 0, another, 3, 3);\n         \n        for(int x:another)\n        {\n            System.out.print(x + &quot;\\t&quot;);\n        }\n        // prints 2 3 4 5 6 7 0\n\n        // Trying to copy address of another array into the original\n        arr = another;\n\n    }\n\n    public static void main(String args[])\n    {\n        zeroCheck o=new zeroCheck();\n        // System.out.println(o.a.length);\n\n        int b[] = new int[6];\n        o.addMore(b);\n            \n        for(int x:b)\n        {\n            System.out.println(x);\n        }\n        // prints 0 0 0 0 0 \n        \n    }\n    \n}\n</code></pre>\n<p>Here I was trying to copy the address of <code>another</code> into the parameter, but it looks like it didn't affect the original array. I speculate an arrayname contains the address, so it should be pass by reference meaning any change in the <code>addMore</code> method will reflect in the <code>main</code>. So, the array <code>b[]</code> should be the same as <code>another[]</code>.</p>\n<p>I ran the code and the output appears to be like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2 3 4 5 6 7 0\n0\n0\n0\n0\n0\n</code></pre>\n<p>What does this mean?</p>\n"},{"tags":["java","android","http-post"],"comments":[{"owner":{"account_id":2278620,"reputation":1189,"user_id":2004305,"accept_rate":60,"display_name":"Dima"},"score":0,"creation_date":1363877949,"post_id":15549637,"comment_id":22036321,"body_markdown":"Sory I found the answer. If someone will have this error, I fix it this way: \n     StringEntity se = new StringEntity( stringToSend, HTTP.UTF_8);\n            se.setContentType(&quot;text/xml&quot;);\n            httppost.setEntity(se);","body":"Sory I found the answer. If someone will have this error, I fix it this way:       StringEntity se = new StringEntity( stringToSend, HTTP.UTF_8);             se.setContentType(&quot;text/xml&quot;);             httppost.setEntity(se);"}],"answers":[{"comments":[{"owner":{"account_id":995267,"reputation":191,"user_id":1011388,"accept_rate":12,"display_name":"Alex"},"score":0,"creation_date":1434544329,"post_id":20980252,"comment_id":49822582,"body_markdown":"In my case, I had some headers with blank or null values. Removing them fixed my issue","body":"In my case, I had some headers with blank or null values. Removing them fixed my issue"}],"tags":[],"owner":{"account_id":3785927,"reputation":1,"user_id":3143899,"display_name":"user3143899"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389123505,"creation_date":1389123505,"answer_id":20980252,"question_id":15549637,"body_markdown":"This should work\r\n\r\n    public void sendString(String stringToSend) {\r\n\r\n    try {\r\n        HttpParams httpParams=new BasicHttpParams();\r\n        DefaultHttpClient httpclient = new DefaultHttpClient(httpParams);\r\n        httpclient.getCredentialsProvider().setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\r\n        HttpPost httppost = new HttpPost(serverAddress);\r\n        InputStreamEntity reqEntity = new InputStreamEntity( new ByteArrayInputStream(stringToSend.getBytes()), stringToSend.length());\r\n        reqEntity.setContentType(&quot;application/xml&quot;);\r\n        httppost.setEntity(reqEntity);\r\n        HttpResponse response = httpclient.execute(httppost);\r\n        if (response.getStatusLine().getStatusCode() != org.apache.http.HttpStatus.SC_OK) {\r\n            Log.i(&quot;SEND&quot;, &quot;not send &quot;+response.getStatusLine());\r\n        }else{\r\n            Log.i(&quot;SEND&quot;, &quot;send ok &quot;+response.getStatusLine());\r\n        }\r\n    } catch (IOException e) {\r\n        Log.w(&quot;IOException&quot;, e.toString() +&quot; &quot;+ e.getMessage());\r\n    }        \r\n}","title":"org.apache.http.client.ClientProtocolException in HttpPost","body":"<p>This should work</p>\n\n<pre><code>public void sendString(String stringToSend) {\n\ntry {\n    HttpParams httpParams=new BasicHttpParams();\n    DefaultHttpClient httpclient = new DefaultHttpClient(httpParams);\n    httpclient.getCredentialsProvider().setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\n    HttpPost httppost = new HttpPost(serverAddress);\n    InputStreamEntity reqEntity = new InputStreamEntity( new ByteArrayInputStream(stringToSend.getBytes()), stringToSend.length());\n    reqEntity.setContentType(\"application/xml\");\n    httppost.setEntity(reqEntity);\n    HttpResponse response = httpclient.execute(httppost);\n    if (response.getStatusLine().getStatusCode() != org.apache.http.HttpStatus.SC_OK) {\n        Log.i(\"SEND\", \"not send \"+response.getStatusLine());\n    }else{\n        Log.i(\"SEND\", \"send ok \"+response.getStatusLine());\n    }\n} catch (IOException e) {\n    Log.w(\"IOException\", e.toString() +\" \"+ e.getMessage());\n}        \n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":2278620,"reputation":1189,"user_id":2004305,"accept_rate":60,"display_name":"Dima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696669450,"creation_date":1363874397,"question_id":15549637,"body_markdown":"I try upload some string to server. When I try upload on server, in string:\r\n\r\n            HttpResponse response = httpclient.execute(httppost);\r\n\r\nI have error org.apache.http.client.ClientProtocolException. All code:\r\n\r\n    public void sendString(String stringToSend) {\r\n\r\n        try {\r\n            DefaultHttpClient httpclient = new DefaultHttpClient();\r\n            httpclient.getCredentialsProvider().setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\r\n            HttpPost httppost = new HttpPost(serverAddress);\r\n            InputStreamEntity reqEntity = new InputStreamEntity( new ByteArrayInputStream(stringToSend.getBytes()), stringToSend.length());\r\n            reqEntity.setContentType(&quot;application/xml&quot;);\r\n            httppost.setEntity(reqEntity);\r\n            HttpResponse response = httpclient.execute(httppost);\r\n            if (response.getStatusLine().getStatusCode() != org.apache.http.HttpStatus.SC_OK) {\r\n                Log.i(&quot;SEND&quot;, &quot;not send &quot;+response.getStatusLine());\r\n            }else{\r\n                Log.i(&quot;SEND&quot;, &quot;send ok &quot;+response.getStatusLine());\r\n            }\r\n        } catch (IOException e) {\r\n            Log.w(&quot;IOException&quot;, e.toString() +&quot; &quot;+ e.getMessage());\r\n        }        \r\n    }\r\n","title":"org.apache.http.client.ClientProtocolException in HttpPost","body":"<p>I try upload some string to server. When I try upload on server, in string:</p>\n\n<pre><code>        HttpResponse response = httpclient.execute(httppost);\n</code></pre>\n\n<p>I have error org.apache.http.client.ClientProtocolException. All code:</p>\n\n<pre><code>public void sendString(String stringToSend) {\n\n    try {\n        DefaultHttpClient httpclient = new DefaultHttpClient();\n        httpclient.getCredentialsProvider().setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\n        HttpPost httppost = new HttpPost(serverAddress);\n        InputStreamEntity reqEntity = new InputStreamEntity( new ByteArrayInputStream(stringToSend.getBytes()), stringToSend.length());\n        reqEntity.setContentType(\"application/xml\");\n        httppost.setEntity(reqEntity);\n        HttpResponse response = httpclient.execute(httppost);\n        if (response.getStatusLine().getStatusCode() != org.apache.http.HttpStatus.SC_OK) {\n            Log.i(\"SEND\", \"not send \"+response.getStatusLine());\n        }else{\n            Log.i(\"SEND\", \"send ok \"+response.getStatusLine());\n        }\n    } catch (IOException e) {\n        Log.w(\"IOException\", e.toString() +\" \"+ e.getMessage());\n    }        \n}\n</code></pre>\n"},{"tags":["java","android","authentication","google-oauth"],"comments":[{"owner":{"account_id":29615199,"reputation":1,"user_id":22697511,"display_name":"Anon"},"score":0,"creation_date":1696690125,"post_id":77248936,"comment_id":136187159,"body_markdown":"Anyone? Please need help!","body":"Anyone? Please need help!"}],"owner":{"account_id":29615199,"reputation":1,"user_id":22697511,"display_name":"Anon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696669059,"creation_date":1696666063,"question_id":77248936,"body_markdown":"I&#39;m trying to add Google sign-in to my app. The Google sign-in popup does successfully show up. But after I sign in to any google account, `result.getResultCode()` in `onActivityResult` always returns `RESULT_CANCELED`.\r\n\r\nFirst, I created the OAuth client ID credentials. One of type &quot;Android&quot; and another of type &quot;Web application&quot;, and the SHA-1 that I used for the &quot;Android&quot; type is the one I got by running &quot;gradle signingreport&quot; in Android Studio.\r\n[Google Cloud console screenshot](https://i.stack.imgur.com/FZmda.png)\r\n\r\nThen I added the code to my MainActivity:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private SignInClient oneTapClient;\r\n    private BeginSignInRequest signInRequest;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        oneTapClient = Identity.getSignInClient(this);\r\n        signInRequest = BeginSignInRequest.builder()\r\n                .setPasswordRequestOptions(BeginSignInRequest.PasswordRequestOptions.builder()\r\n                        .setSupported(true)\r\n                        .build())\r\n                .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\r\n                        .setSupported(true)\r\n                        // Your server&#39;s client ID, not your Android client ID.\r\n                        .setServerClientId(getString(R.string.web_client_id))\r\n                        // Only show accounts previously used to sign in.\r\n                        .setFilterByAuthorizedAccounts(false)\r\n                        .build())\r\n                // Automatically sign in when exactly one credential is retrieved.\r\n                .setAutoSelectEnabled(true)\r\n                .build();\r\n\r\n        ActivityResultLauncher&lt;IntentSenderRequest&gt; activityResultLauncher =\r\n                registerForActivityResult(new ActivityResultContracts.StartIntentSenderForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n                        Toast.makeText(MainActivity.this, &quot;result: &quot; + result, Toast.LENGTH_LONG).show();\r\n                        Log.e(&quot;TAG&quot;, &quot;&quot; + result);\r\n                        if (result.getResultCode() == RESULT_OK) {\r\n                            Toast.makeText(MainActivity.this, &quot;Signed in!&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                });\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(() -&gt; oneTapClient.beginSignIn(signInRequest)\r\n                .addOnSuccessListener(this, result -&gt; {\r\n                    IntentSenderRequest intentSenderRequest =\r\n                            new IntentSenderRequest.Builder(result.getPendingIntent().getIntentSender()).build();\r\n                    activityResultLauncher.launch(intentSenderRequest);\r\n                })\r\n                .addOnFailureListener(this, e -&gt; {\r\n                    // No saved credentials found. Launch the One Tap sign-up flow, or\r\n                    // do nothing and continue presenting the signed-out UI.\r\n                    Log.e(TAG, e.getMessage() + &quot;, cause: &quot; + e.getCause());\r\n                }), 10000);\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe value of the string `web_client_id` is the Client ID that was created for the type &quot;Android&quot;.","title":"Android: Google Sign In Client always returns RESULT_CANCELED","body":"<p>I'm trying to add Google sign-in to my app. The Google sign-in popup does successfully show up. But after I sign in to any google account, <code>result.getResultCode()</code> in <code>onActivityResult</code> always returns <code>RESULT_CANCELED</code>.</p>\n<p>First, I created the OAuth client ID credentials. One of type &quot;Android&quot; and another of type &quot;Web application&quot;, and the SHA-1 that I used for the &quot;Android&quot; type is the one I got by running &quot;gradle signingreport&quot; in Android Studio.\n<a href=\"https://i.stack.imgur.com/FZmda.png\" rel=\"nofollow noreferrer\">Google Cloud console screenshot</a></p>\n<p>Then I added the code to my MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private SignInClient oneTapClient;\n    private BeginSignInRequest signInRequest;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        oneTapClient = Identity.getSignInClient(this);\n        signInRequest = BeginSignInRequest.builder()\n                .setPasswordRequestOptions(BeginSignInRequest.PasswordRequestOptions.builder()\n                        .setSupported(true)\n                        .build())\n                .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\n                        .setSupported(true)\n                        // Your server's client ID, not your Android client ID.\n                        .setServerClientId(getString(R.string.web_client_id))\n                        // Only show accounts previously used to sign in.\n                        .setFilterByAuthorizedAccounts(false)\n                        .build())\n                // Automatically sign in when exactly one credential is retrieved.\n                .setAutoSelectEnabled(true)\n                .build();\n\n        ActivityResultLauncher&lt;IntentSenderRequest&gt; activityResultLauncher =\n                registerForActivityResult(new ActivityResultContracts.StartIntentSenderForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n                    @Override\n                    public void onActivityResult(ActivityResult result) {\n                        Toast.makeText(MainActivity.this, &quot;result: &quot; + result, Toast.LENGTH_LONG).show();\n                        Log.e(&quot;TAG&quot;, &quot;&quot; + result);\n                        if (result.getResultCode() == RESULT_OK) {\n                            Toast.makeText(MainActivity.this, &quot;Signed in!&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }\n                });\n        Handler handler = new Handler();\n        handler.postDelayed(() -&gt; oneTapClient.beginSignIn(signInRequest)\n                .addOnSuccessListener(this, result -&gt; {\n                    IntentSenderRequest intentSenderRequest =\n                            new IntentSenderRequest.Builder(result.getPendingIntent().getIntentSender()).build();\n                    activityResultLauncher.launch(intentSenderRequest);\n                })\n                .addOnFailureListener(this, e -&gt; {\n                    // No saved credentials found. Launch the One Tap sign-up flow, or\n                    // do nothing and continue presenting the signed-out UI.\n                    Log.e(TAG, e.getMessage() + &quot;, cause: &quot; + e.getCause());\n                }), 10000);\n\n    }\n}\n</code></pre>\n<p>The value of the string <code>web_client_id</code> is the Client ID that was created for the type &quot;Android&quot;.</p>\n"},{"tags":["java","swing","functional-programming","logic","declarative"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679345417,"post_id":75795108,"comment_id":133702410,"body_markdown":"Please show your `User` class. In particular, what does `equals` do?","body":"Please show your <code>User</code> class. In particular, what does <code>equals</code> do?"},{"owner":{"account_id":27701098,"reputation":1,"user_id":21145663,"display_name":"Virist"},"score":0,"creation_date":1679345981,"post_id":75795108,"comment_id":133702528,"body_markdown":"equals is esentially `==`, well I also tried using `==` but still gives the same result oh and this is actually one of my assignment in uni to change the code to functional/declarative and it&#39;s working just fine before, so I can certainly say that there&#39;s nothing wrong in my `User` class","body":"equals is esentially <code>==</code>, well I also tried using <code>==</code> but still gives the same result oh and this is actually one of my assignment in uni to change the code to functional/declarative and it&#39;s working just fine before, so I can certainly say that there&#39;s nothing wrong in my <code>User</code> class"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679346077,"post_id":75795108,"comment_id":133702549,"body_markdown":"See https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839","body":"See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":27701098,"reputation":1,"user_id":21145663,"display_name":"Virist"},"score":0,"creation_date":1679346373,"post_id":75795108,"comment_id":133702613,"body_markdown":"I tried to use the `==` already and it still gives error btw, oh and I used the `equals` for this `adminUser.filter(u -&gt; u.equals(loginAdmin))` and it works just fine as seen in the explanation above, but the logic is just incorrect","body":"I tried to use the <code>==</code> already and it still gives error btw, oh and I used the <code>equals</code> for this <code>adminUser.filter(u -&gt; u.equals(loginAdmin))</code> and it works just fine as seen in the explanation above, but the logic is just incorrect"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679346452,"post_id":75795108,"comment_id":133702629,"body_markdown":"Please edit your question to show your User class. In particular, what does equals do?","body":"Please edit your question to show your User class. In particular, what does equals do?"},{"owner":{"account_id":27701098,"reputation":1,"user_id":21145663,"display_name":"Virist"},"score":0,"creation_date":1679346625,"post_id":75795108,"comment_id":133702668,"body_markdown":"equals is esentially ==, did you not see this comment?","body":"equals is esentially ==, did you not see this comment?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1679347945,"post_id":75795108,"comment_id":133702898,"body_markdown":"If the `User` class doesn&#39;t override `equals()` (i.e. it is the same as `==`) then it is no wonder that your code doesn&#39;t work for the admin user. `new User(username, passwordStr)` and `new User(&quot;a&quot;, &quot;a&quot;)` are two different user objects and according to `==` they are **never** the same object. In Java there is no way that `new User(username, passwordStr) == new User(&quot;a&quot;, &quot;a&quot;)` will be true.","body":"If the <code>User</code> class doesn&#39;t override <code>equals()</code> (i.e. it is the same as <code>==</code>) then it is no wonder that your code doesn&#39;t work for the admin user. <code>new User(username, passwordStr)</code> and <code>new User(&quot;a&quot;, &quot;a&quot;)</code> are two different user objects and according to <code>==</code> they are <b>never</b> the same object. In Java there is no way that <code>new User(username, passwordStr) == new User(&quot;a&quot;, &quot;a&quot;)</code> will be true."},{"owner":{"account_id":27701098,"reputation":1,"user_id":21145663,"display_name":"Virist"},"score":0,"creation_date":1679348620,"post_id":75795108,"comment_id":133703013,"body_markdown":"yes, I just found out that it is not the same object as it will keep on creating new object, I tried to print out the `adminUser` and get this result `Optional[vaccinationsystem.User@7d1dd2ca]` meanwhile the `loginAdmin` give out this result `vaccinationsystem.User@47ffd8e4` are there any way to fix this problem? or any other way to get the `&quot;a&quot;, &quot;a&quot;` string","body":"yes, I just found out that it is not the same object as it will keep on creating new object, I tried to print out the <code>adminUser</code> and get this result <code>Optional[vaccinationsystem.User@7d1dd2ca]</code> meanwhile the <code>loginAdmin</code> give out this result <code>vaccinationsystem.User@47ffd8e4</code> are there any way to fix this problem? or any other way to get the <code>&quot;a&quot;, &quot;a&quot;</code> string"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1679350245,"post_id":75795108,"comment_id":133703318,"body_markdown":"The solution is simple: properly implement an `equals()` method in your `User` class","body":"The solution is simple: properly implement an <code>equals()</code> method in your <code>User</code> class"},{"owner":{"account_id":27701098,"reputation":1,"user_id":21145663,"display_name":"Virist"},"score":0,"creation_date":1679372704,"post_id":75795108,"comment_id":133705917,"body_markdown":"and how can you do that? here&#39;s the link to my User class for you to check [User](https://github.com/richardsnj/User-class.git) @tgdavies","body":"and how can you do that? here&#39;s the link to my User class for you to check <a href=\"https://github.com/richardsnj/User-class.git\" rel=\"nofollow noreferrer\">User</a> @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679374466,"post_id":75795108,"comment_id":133706060,"body_markdown":"Your class has no equals method, so it is using `Object.equals()` which uses object identity. You need to implement `equals` and compare the username and the password fields.","body":"Your class has no equals method, so it is using <code>Object.equals()</code> which uses object identity. You need to implement <code>equals</code> and compare the username and the password fields."}],"answers":[{"tags":[],"owner":{"account_id":27701098,"reputation":1,"user_id":21145663,"display_name":"Virist"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696667746,"creation_date":1679375496,"answer_id":75797507,"question_id":75795108,"body_markdown":"I fixed my problem by implementing the same logic with the `user.filter(u -&gt; u.login(passwordStr))` code by creating a new method in my `User` class called `loginAdmin` as seen below\r\n\r\n\r\n```\r\npublic boolean loginAdmin(String name, String pw) {\r\n\r\n        //file to be scanned \r\n        String Temp = &quot;a&quot;;\r\n        String Temp2 = &quot;a&quot;;\r\n        //returns true if there is another line to read  \r\n\r\n        if (Temp.equals(Username) &amp;&amp; Temp2.equals(Password)) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n\r\n        }\r\n    }\r\n```\r\n\r\nthis fix the problem and is implemented to the login class and here&#39;s the updated code\r\n\r\n```\r\nString Username = txtUsername.getText();\r\n        String Password = String.valueOf(txtPassword.getPassword());\r\n        User login = new User(Username, Password);\r\n\r\n        Optional&lt;User&gt; adminUser = Optional.of(login);\r\n        Optional&lt;User&gt; user = Optional.ofNullable(login);\r\n\r\n        adminUser.filter(u -&gt; u.loginAdmin(Username, Password))\r\n                .ifPresentOrElse(\r\n                        u -&gt; {\r\n                            this.setVisible(false);\r\n                            HomePageAdmin hma = new HomePageAdmin();\r\n                            hma.setVisible(true);\r\n                        },\r\n                        () -&gt; user.filter(u -&gt; u.login(Password))\r\n                                .ifPresentOrElse(\r\n                                        u -&gt; {\r\n                                            this.setVisible(false);\r\n                                            HomePagePeople hmp = new HomePagePeople(Username);\r\n                                            hmp.setVisible(true);\r\n                                        },\r\n                                        ()\r\n                                        -&gt; JOptionPane.showMessageDialog(null, &quot;Wrong Credential&quot;)\r\n                                )\r\n                );\r\n```\r\n\r\nThanks everyone for helping me with this issue ","title":"java swing with functional/declarative programming logic error","body":"<p>I fixed my problem by implementing the same logic with the <code>user.filter(u -&gt; u.login(passwordStr))</code> code by creating a new method in my <code>User</code> class called <code>loginAdmin</code> as seen below</p>\n<pre><code>public boolean loginAdmin(String name, String pw) {\n\n        //file to be scanned \n        String Temp = &quot;a&quot;;\n        String Temp2 = &quot;a&quot;;\n        //returns true if there is another line to read  \n\n        if (Temp.equals(Username) &amp;&amp; Temp2.equals(Password)) {\n            return true;\n        } else {\n            return false;\n\n        }\n    }\n</code></pre>\n<p>this fix the problem and is implemented to the login class and here's the updated code</p>\n<pre><code>String Username = txtUsername.getText();\n        String Password = String.valueOf(txtPassword.getPassword());\n        User login = new User(Username, Password);\n\n        Optional&lt;User&gt; adminUser = Optional.of(login);\n        Optional&lt;User&gt; user = Optional.ofNullable(login);\n\n        adminUser.filter(u -&gt; u.loginAdmin(Username, Password))\n                .ifPresentOrElse(\n                        u -&gt; {\n                            this.setVisible(false);\n                            HomePageAdmin hma = new HomePageAdmin();\n                            hma.setVisible(true);\n                        },\n                        () -&gt; user.filter(u -&gt; u.login(Password))\n                                .ifPresentOrElse(\n                                        u -&gt; {\n                                            this.setVisible(false);\n                                            HomePagePeople hmp = new HomePagePeople(Username);\n                                            hmp.setVisible(true);\n                                        },\n                                        ()\n                                        -&gt; JOptionPane.showMessageDialog(null, &quot;Wrong Credential&quot;)\n                                )\n                );\n</code></pre>\n<p>Thanks everyone for helping me with this issue</p>\n"}],"owner":{"account_id":27701098,"reputation":1,"user_id":21145663,"display_name":"Virist"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75797507,"answer_count":1,"score":0,"last_activity_date":1696667746,"creation_date":1679344911,"question_id":75795108,"body_markdown":"I&#39;m trying to make a login function in java swing with functional programming style, below is my code\r\n\r\n\r\n```\r\nString username = txtUsername.getText();\r\n        String passwordStr = String.valueOf(txtPassword.getPassword());\r\n        User login = new User(username, passwordStr);\r\n\r\n        Optional&lt;User&gt; adminUser = Optional.of(new User(&quot;a&quot;, &quot;a&quot;));\r\n        Optional&lt;User&gt; user = Optional.ofNullable(login);\r\n\r\n        adminUser.filter(u -&gt; u.equals(login))\r\n                .ifPresentOrElse(\r\n                        u -&gt; {\r\n                            this.setVisible(false);\r\n                            HomePageAdmin hma = new HomePageAdmin();\r\n                            hma.setVisible(true);\r\n                        },\r\n                        () -&gt; user.filter(u -&gt; u.login(passwordStr))\r\n                                .ifPresentOrElse(\r\n                                        u -&gt; {\r\n                                            this.setVisible(false);\r\n                                            HomePagePeople hmp = new HomePagePeople(username);\r\n                                            hmp.setVisible(true);\r\n                                        },\r\n                                        () -&gt; JOptionPane.showMessageDialog(null, &quot;Wrong Credential&quot;)\r\n                                )\r\n                );\r\n```\r\n\r\n\r\neverything is working fine, if I try to login with credentials other than &quot;a&quot; as username and &quot;a&quot; as password, however when I try to log in to the system with those credentials, it gives the &quot;wrong credential&quot; Pane as seen below\r\n\r\n[![enter image description here](https://i.stack.imgur.com/BjtEk.png)](https://i.stack.imgur.com/BjtEk.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\nI also tried various ways with the filter function above with this alternatives\r\n\r\n\r\n```\r\n        User login = new User(username, passwordStr);\r\n        User loginAdmin = new User(&quot;a&quot;, &quot;a&quot;);\r\n\r\n        Optional&lt;User&gt; adminUser = Optional.of(loginAdmin);\r\n        Optional&lt;User&gt; user = Optional.ofNullable(login);\r\n\r\n        adminUser.filter(u -&gt; u.equals(login))\r\n```\r\n\r\nthe code above give the same error and won&#39;t accept the logic. However, if I try to change the ` adminUser.filter(u -&gt; u.equals(login))` to ` adminUser.filter(u -&gt; u.equals(loginAdmin))`, it works just fine, however this logic is wrong as the adminUser will always be equal to loginAdmin thus inputting anything into the textbox will allow user to log in to the admin page as seen in example below\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/yp0dt.png)](https://i.stack.imgur.com/yp0dt.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Zl8kL.png)](https://i.stack.imgur.com/Zl8kL.png)\r\n\r\n\r\nany help is greatly Appreciated","title":"java swing with functional/declarative programming logic error","body":"<p>I'm trying to make a login function in java swing with functional programming style, below is my code</p>\n<pre><code>String username = txtUsername.getText();\n        String passwordStr = String.valueOf(txtPassword.getPassword());\n        User login = new User(username, passwordStr);\n\n        Optional&lt;User&gt; adminUser = Optional.of(new User(&quot;a&quot;, &quot;a&quot;));\n        Optional&lt;User&gt; user = Optional.ofNullable(login);\n\n        adminUser.filter(u -&gt; u.equals(login))\n                .ifPresentOrElse(\n                        u -&gt; {\n                            this.setVisible(false);\n                            HomePageAdmin hma = new HomePageAdmin();\n                            hma.setVisible(true);\n                        },\n                        () -&gt; user.filter(u -&gt; u.login(passwordStr))\n                                .ifPresentOrElse(\n                                        u -&gt; {\n                                            this.setVisible(false);\n                                            HomePagePeople hmp = new HomePagePeople(username);\n                                            hmp.setVisible(true);\n                                        },\n                                        () -&gt; JOptionPane.showMessageDialog(null, &quot;Wrong Credential&quot;)\n                                )\n                );\n</code></pre>\n<p>everything is working fine, if I try to login with credentials other than &quot;a&quot; as username and &quot;a&quot; as password, however when I try to log in to the system with those credentials, it gives the &quot;wrong credential&quot; Pane as seen below</p>\n<p><a href=\"https://i.stack.imgur.com/BjtEk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BjtEk.png\" alt=\"enter image description here\" /></a></p>\n<p>I also tried various ways with the filter function above with this alternatives</p>\n<pre><code>        User login = new User(username, passwordStr);\n        User loginAdmin = new User(&quot;a&quot;, &quot;a&quot;);\n\n        Optional&lt;User&gt; adminUser = Optional.of(loginAdmin);\n        Optional&lt;User&gt; user = Optional.ofNullable(login);\n\n        adminUser.filter(u -&gt; u.equals(login))\n</code></pre>\n<p>the code above give the same error and won't accept the logic. However, if I try to change the <code> adminUser.filter(u -&gt; u.equals(login))</code> to <code> adminUser.filter(u -&gt; u.equals(loginAdmin))</code>, it works just fine, however this logic is wrong as the adminUser will always be equal to loginAdmin thus inputting anything into the textbox will allow user to log in to the admin page as seen in example below</p>\n<p><a href=\"https://i.stack.imgur.com/yp0dt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yp0dt.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Zl8kL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zl8kL.png\" alt=\"enter image description here\" /></a></p>\n<p>any help is greatly Appreciated</p>\n"},{"tags":["java","spring-boot","caching"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696329625,"post_id":77221398,"comment_id":136135991,"body_markdown":"Create your own `CacheManager` that wraps the other ones (or use reflection to get the Caffeine caches and integrate that in the `CaffeineCacheManager`.","body":"Create your own <code>CacheManager</code> that wraps the other ones (or use reflection to get the Caffeine caches and integrate that in the <code>CaffeineCacheManager</code>."},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":1,"creation_date":1696329692,"post_id":77221398,"comment_id":136136001,"body_markdown":"These are internal libraries hence we would like to use the same CacheManager across libraries and application and we want the keys used in the library to be refleced from within the App","body":"These are internal libraries hence we would like to use the same CacheManager across libraries and application and we want the keys used in the library to be refleced from within the App"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696329842,"post_id":77221398,"comment_id":136136032,"body_markdown":"And where do I state you shouldn&#39;t do that? You need to modify the app to have the proper caches loaded from those libraries.","body":"And where do I state you shouldn&#39;t do that? You need to modify the app to have the proper caches loaded from those libraries."},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1696329993,"post_id":77221398,"comment_id":136136058,"body_markdown":"The CacheManager in the Spring Boot App is AutoWired, but the internal libraries its based on the attached code, so the keys are not visible within the App","body":"The CacheManager in the Spring Boot App is AutoWired, but the internal libraries its based on the attached code, so the keys are not visible within the App"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696330112,"post_id":77221398,"comment_id":136136078,"body_markdown":"It doesn&#39;t matter if the `CacheManager` is autowired. Create an explicit configuration for it so you can retrieve the existing caches from thel ibraries and add it to the `CacheManager`. If you really don&#39;t want to do that write a `BeanPostProcessor` for the `CaffeineCacheManager` which rips out the caches (with reflection) from the libraries and registers them with the `CaffeineCacheManager`. Also if you are using the libraries, the caching should be transparante anyway, so why would you need them in your own cachemanager? As the libraries do their own caching.","body":"It doesn&#39;t matter if the <code>CacheManager</code> is autowired. Create an explicit configuration for it so you can retrieve the existing caches from thel ibraries and add it to the <code>CacheManager</code>. If you really don&#39;t want to do that write a <code>BeanPostProcessor</code> for the <code>CaffeineCacheManager</code> which rips out the caches (with reflection) from the libraries and registers them with the <code>CaffeineCacheManager</code>. Also if you are using the libraries, the caching should be transparante anyway, so why would you need them in your own cachemanager? As the libraries do their own caching."},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1696330329,"post_id":77221398,"comment_id":136136120,"body_markdown":"In order to debug the cached key/value pairs in the library, we really need to have them exposed via the CacheManager interface in the Spring Boot App. All of them use Caffiene by the way","body":"In order to debug the cached key/value pairs in the library, we really need to have them exposed via the CacheManager interface in the Spring Boot App. All of them use Caffiene by the way"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696333441,"post_id":77221398,"comment_id":136136683,"body_markdown":"I give up. I gave you the solution 3 times already (rip out the cache and add them to the `CaffeineCacheManager`)...","body":"I give up. I gave you the solution 3 times already (rip out the cache and add them to the <code>CaffeineCacheManager</code>)..."},{"owner":{"account_id":2076216,"reputation":520,"user_id":1849492,"display_name":"Szigy&#225;rt&#243; Mih&#225;ly"},"score":0,"creation_date":1696584911,"post_id":77221398,"comment_id":136174925,"body_markdown":"Can you get the instance the library creates? You could put that in a BeanFactory, so that you will get that if you autowire it.","body":"Can you get the instance the library creates? You could put that in a BeanFactory, so that you will get that if you autowire it."},{"owner":{"account_id":208843,"reputation":8250,"user_id":459579,"display_name":"ThomasRS"},"score":1,"creation_date":1696598679,"post_id":77221398,"comment_id":136177592,"body_markdown":"Just create beans for `Exchange Rates` and `Crypto Currencies`, then register their caches with the help of `CaffeineCacheManager.registerCustomCache(..)`.","body":"Just create beans for <code>Exchange Rates</code> and <code>Crypto Currencies</code>, then register their caches with the help of <code>CaffeineCacheManager.registerCustomCache(..)</code>."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696666936,"creation_date":1696666274,"answer_id":77248951,"question_id":77221398,"body_markdown":"I guess you did something wrong. I was able to make it working.\r\n\r\nSteps that I took to make it working are as follows:\r\n\r\nI&#39;ve created a java library with the name **cache-test** which will have the cache logic.\r\n\r\nI&#39;m using **Gradle with Groovy**, **JDK 17** and **Caffeine 2.5.5**\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    \r\n    java {\r\n    \tsourceCompatibility = &#39;17&#39;\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;com.github.ben-manes.caffeine:caffeine:2.5.5&#39;\r\n    }\r\n\r\nCacheManager.java:\r\n\r\n    package com.example.cachetest;\r\n    \r\n    import com.github.benmanes.caffeine.cache.Cache;\r\n    import com.github.benmanes.caffeine.cache.Caffeine;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class CacheManager&lt;K, V&gt; {\r\n    \r\n        private final Cache&lt;K, V&gt; cache;\r\n    \r\n        public CacheManager(long maxSize, long expireAfterWriteSeconds) {\r\n            cache = Caffeine.newBuilder()\r\n                    .maximumSize(maxSize)\r\n                    .expireAfterWrite(expireAfterWriteSeconds, TimeUnit.SECONDS)\r\n                    .build();\r\n        }\r\n    \r\n        public void put(K key, V value) {\r\n            cache.put(key, value);\r\n        }\r\n    \r\n        public V get(K key) {\r\n            return cache.getIfPresent(key);\r\n        }\r\n    \r\n    }\r\n\r\nNow, I have generated a jar with the name `cache-test-0.0.1-SNAPSHOT.jar` via gradle.\r\n\r\nNow, I&#39;ve created another project with the name **cache-test-client** to test the cache logic.\r\n\r\nI have added the cache-test jar as a dependency in my client project.\r\n\r\nI&#39;m using **Spring Boot 3.1.4**, **JDK 17**, **Gradle with Groovy** in the client project.\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;3.1.4&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    \r\n    java {\r\n    \tsourceCompatibility = &#39;17&#39;\r\n    }\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \timplementation &#39;com.github.ben-manes.caffeine:caffeine:2.5.5&#39;\r\n    \timplementation files(&#39;src/main/resources/cache-test-0.0.1-SNAPSHOT.jar&#39;)\r\n    }\r\n\r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nCacheTestClientApplication.java:\r\n\r\n    package com.example.cachetestclient;\r\n    \r\n    import com.example.cachetest.CacheManager;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class CacheTestClientApplication {\r\n    \r\n    \t@Bean\r\n    \tpublic CacheManager&lt;String, String&gt; cacheManager() {\r\n    \t\treturn new CacheManager&lt;&gt;(10, 30);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(CacheTestClientApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Note:** You have to explicitly create a bean of your custom `CacheManager` from java library into your app&#39;s Spring Container to make the things working for you.\r\n\r\n**Also, Point to be Noted:** You can&#39;t use **Spring based CacheManager** and assume that this will pick your java library CacheManager magically in the OrderApp. So, kindly stick to the **CacheManager** that is present in the java library.\r\n\r\nResource.java (Sample Endpoint for testing):\r\n\r\n    package com.example.cachetestclient;\r\n    \r\n    \r\n    import com.example.cachetest.CacheManager;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class Resource {\r\n    \r\n        @Autowired\r\n        private CacheManager cacheManager;\r\n    \r\n    \r\n        @GetMapping(&quot;cache-put/{value}&quot;)\r\n        public String testCaching(@PathVariable String value) {\r\n            cacheManager.put(&quot;abc&quot;, value);\r\n            return value + &quot; is saved in lib cache.&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;cache-get/{value}&quot;)\r\n        public String get(@PathVariable String value) {\r\n          return cacheManager.get(&quot;abc&quot;) + &quot; is retrieved from lib cache.&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nNow, the application starts successfully.\r\n\r\nOutput:\r\n\r\nhttp://localhost:8080/cache-put/Anish\r\n\r\n[![enter image description here][3]][3]\r\n\r\nhttp://localhost:8080/cache-get/Anish\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThis tells that cache is keeping all the values intact.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rXYra.png\r\n  [2]: https://i.stack.imgur.com/vUuxi.png\r\n  [3]: https://i.stack.imgur.com/xABjE.png\r\n  [4]: https://i.stack.imgur.com/rVq1l.png","title":"Cache keys from java library are not visible in the Spring Boot App","body":"<p>I guess you did something wrong. I was able to make it working.</p>\n<p>Steps that I took to make it working are as follows:</p>\n<p>I've created a java library with the name <strong>cache-test</strong> which will have the cache logic.</p>\n<p>I'm using <strong>Gradle with Groovy</strong>, <strong>JDK 17</strong> and <strong>Caffeine 2.5.5</strong></p>\n<p>Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/rXYra.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXYra.png\" alt=\"enter image description here\" /></a></p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.github.ben-manes.caffeine:caffeine:2.5.5'\n}\n</code></pre>\n<p>CacheManager.java:</p>\n<pre><code>package com.example.cachetest;\n\nimport com.github.benmanes.caffeine.cache.Cache;\nimport com.github.benmanes.caffeine.cache.Caffeine;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class CacheManager&lt;K, V&gt; {\n\n    private final Cache&lt;K, V&gt; cache;\n\n    public CacheManager(long maxSize, long expireAfterWriteSeconds) {\n        cache = Caffeine.newBuilder()\n                .maximumSize(maxSize)\n                .expireAfterWrite(expireAfterWriteSeconds, TimeUnit.SECONDS)\n                .build();\n    }\n\n    public void put(K key, V value) {\n        cache.put(key, value);\n    }\n\n    public V get(K key) {\n        return cache.getIfPresent(key);\n    }\n\n}\n</code></pre>\n<p>Now, I have generated a jar with the name <code>cache-test-0.0.1-SNAPSHOT.jar</code> via gradle.</p>\n<p>Now, I've created another project with the name <strong>cache-test-client</strong> to test the cache logic.</p>\n<p>I have added the cache-test jar as a dependency in my client project.</p>\n<p>I'm using <strong>Spring Boot 3.1.4</strong>, <strong>JDK 17</strong>, <strong>Gradle with Groovy</strong> in the client project.</p>\n<p>Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/vUuxi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUuxi.png\" alt=\"enter image description here\" /></a></p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.4'\n    id 'io.spring.dependency-management' version '1.1.3'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-cache'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'com.github.ben-manes.caffeine:caffeine:2.5.5'\n    implementation files('src/main/resources/cache-test-0.0.1-SNAPSHOT.jar')\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>CacheTestClientApplication.java:</p>\n<pre><code>package com.example.cachetestclient;\n\nimport com.example.cachetest.CacheManager;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class CacheTestClientApplication {\n\n    @Bean\n    public CacheManager&lt;String, String&gt; cacheManager() {\n        return new CacheManager&lt;&gt;(10, 30);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(CacheTestClientApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>Note:</strong> You have to explicitly create a bean of your custom <code>CacheManager</code> from java library into your app's Spring Container to make the things working for you.</p>\n<p><strong>Also, Point to be Noted:</strong> You can't use <strong>Spring based CacheManager</strong> and assume that this will pick your java library CacheManager magically in the OrderApp. So, kindly stick to the <strong>CacheManager</strong> that is present in the java library.</p>\n<p>Resource.java (Sample Endpoint for testing):</p>\n<pre><code>package com.example.cachetestclient;\n\n\nimport com.example.cachetest.CacheManager;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Resource {\n\n    @Autowired\n    private CacheManager cacheManager;\n\n\n    @GetMapping(&quot;cache-put/{value}&quot;)\n    public String testCaching(@PathVariable String value) {\n        cacheManager.put(&quot;abc&quot;, value);\n        return value + &quot; is saved in lib cache.&quot;;\n    }\n\n    @GetMapping(&quot;cache-get/{value}&quot;)\n    public String get(@PathVariable String value) {\n      return cacheManager.get(&quot;abc&quot;) + &quot; is retrieved from lib cache.&quot;;\n    }\n\n}\n</code></pre>\n<p>Now, the application starts successfully.</p>\n<p>Output:</p>\n<p>http://localhost:8080/cache-put/Anish</p>\n<p><a href=\"https://i.stack.imgur.com/xABjE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xABjE.png\" alt=\"enter image description here\" /></a></p>\n<p>http://localhost:8080/cache-get/Anish</p>\n<p><a href=\"https://i.stack.imgur.com/rVq1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rVq1l.png\" alt=\"enter image description here\" /></a></p>\n<p>This tells that cache is keeping all the values intact.</p>\n"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1696666936,"creation_date":1696328308,"question_id":77221398,"body_markdown":"Sprint Boot App - OrderApp has the following dependencies\r\n - Java Library (Exchange Rates uses caffiene caching library to cache country symbols)\r\n - Java Library (Crypto Currencies uses caffiene caching library to cache crypto symbols)\r\n\r\nJava libraries are built using `id &#39;java&#39;` under plugins section\r\n\r\nOrderApp uses org.springframework.cache.CacheManager, but since the java libraries were not wrapped using CacheManager the keys cached using the dependent libraries aren&#39;t seen in the OrderApp. \r\n\r\nIf I have to AutoWired org.springframework.cache.CacheManager interface in the java library then I would have to convert this into a Spring Boot App itself. How should I handle this so that cache keys are visible.\r\n\r\nThis is how its used in the library\r\n\r\n    public class CacheManager&lt;K, V&gt; {\r\n    \r\n        private final Cache&lt;K, V&gt; cache;\r\n    \r\n        public CacheManager(long maxSize, long expireAfterWriteSeconds) {\r\n            cache = Caffeine.newBuilder()\r\n                .maximumSize(maxSize)\r\n                .expireAfterWrite(expireAfterWriteSeconds, TimeUnit.SECONDS)\r\n                .build();\r\n        }\r\n    \r\n        public void put(K key, V value) {\r\n            cache.put(key, value);\r\n        }\r\n    \r\n        public V get(K key) {\r\n            return cache.getIfPresent(key);\r\n        }\r\n    \r\n    }","title":"Cache keys from java library are not visible in the Spring Boot App","body":"<p>Sprint Boot App - OrderApp has the following dependencies</p>\n<ul>\n<li>Java Library (Exchange Rates uses caffiene caching library to cache country symbols)</li>\n<li>Java Library (Crypto Currencies uses caffiene caching library to cache crypto symbols)</li>\n</ul>\n<p>Java libraries are built using <code>id 'java'</code> under plugins section</p>\n<p>OrderApp uses org.springframework.cache.CacheManager, but since the java libraries were not wrapped using CacheManager the keys cached using the dependent libraries aren't seen in the OrderApp.</p>\n<p>If I have to AutoWired org.springframework.cache.CacheManager interface in the java library then I would have to convert this into a Spring Boot App itself. How should I handle this so that cache keys are visible.</p>\n<p>This is how its used in the library</p>\n<pre><code>public class CacheManager&lt;K, V&gt; {\n\n    private final Cache&lt;K, V&gt; cache;\n\n    public CacheManager(long maxSize, long expireAfterWriteSeconds) {\n        cache = Caffeine.newBuilder()\n            .maximumSize(maxSize)\n            .expireAfterWrite(expireAfterWriteSeconds, TimeUnit.SECONDS)\n            .build();\n    }\n\n    public void put(K key, V value) {\n        cache.put(key, value);\n    }\n\n    public V get(K key) {\n        return cache.getIfPresent(key);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":11950526,"reputation":53,"user_id":8744317,"display_name":"N&#225;ndor Holozsny&#225;k"},"score":0,"creation_date":1696668761,"post_id":77248955,"comment_id":136185266,"body_markdown":"Hello there,\nDid you add the empty beans.xml into the separate jar file or into the main one that would use the separate jar?","body":"Hello there, Did you add the empty beans.xml into the separate jar file or into the main one that would use the separate jar?"},{"owner":{"account_id":20943835,"reputation":33,"user_id":15387195,"display_name":"KirillAmber"},"score":0,"creation_date":1696670160,"post_id":77248955,"comment_id":136185392,"body_markdown":"@N&#225;ndorHolozsny&#225;k Hi! I added empty beans.xml into the separate jar file.","body":"@N&#225;ndorHolozsny&#225;k Hi! I added empty beans.xml into the separate jar file."}],"owner":{"account_id":20943835,"reputation":33,"user_id":15387195,"display_name":"KirillAmber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696666319,"creation_date":1696666319,"question_id":77248955,"body_markdown":"I can&#39;t inject datasource in a separate jar file for the quarkus server.\r\n\r\nI added an empty file to META-INF/beans.xml in my separated project that creates jar for my quarkus server. Then I declared my class with annotation @ApplicationScoped and added a Datasource field (also tried with AgroalDataSource) with annotation @Inject.\r\n\r\n```\r\n@ApplicationScoped\r\npublic class SomeClassInExternalJar {\r\n\r\n    @Inject\r\n    DataSource dataSource;\r\n\r\n    //dummy code\r\n    public void someMethod() {\r\n       Connection connection = dataSource.getConnection();\r\n       //...\r\n    }\r\n```\r\n\r\nBut I get null value of dataSource. \r\nI confirm that the datasource is configured correctly, because in the server itself the operations with the database occurs successfully.","title":"Is it possible to get datasource for external jar from Quarkus?","body":"<p>I can't inject datasource in a separate jar file for the quarkus server.</p>\n<p>I added an empty file to META-INF/beans.xml in my separated project that creates jar for my quarkus server. Then I declared my class with annotation @ApplicationScoped and added a Datasource field (also tried with AgroalDataSource) with annotation @Inject.</p>\n<pre><code>@ApplicationScoped\npublic class SomeClassInExternalJar {\n\n    @Inject\n    DataSource dataSource;\n\n    //dummy code\n    public void someMethod() {\n       Connection connection = dataSource.getConnection();\n       //...\n    }\n</code></pre>\n<p>But I get null value of dataSource.\nI confirm that the datasource is configured correctly, because in the server itself the operations with the database occurs successfully.</p>\n"},{"tags":["java","android","firebase","ionic-framework","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":20316910,"reputation":55,"user_id":14902603,"display_name":"IT-Guy007"},"score":0,"creation_date":1696759855,"post_id":77248812,"comment_id":136192239,"body_markdown":"A registration token can change a lot, when a user force closes the app, reboots the phone or when the operations systems wants so. Therefore retrieving it everytime the app boots is vital. Make sure that this is happening and try again","body":"A registration token can change a lot, when a user force closes the app, reboots the phone or when the operations systems wants so. Therefore retrieving it everytime the app boots is vital. Make sure that this is happening and try again"}],"owner":{"account_id":4033079,"reputation":5307,"user_id":3318489,"accept_rate":65,"display_name":"quma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696665957,"creation_date":1696663754,"question_id":77248812,"body_markdown":"I use this Java class in order to send push notifications to device:\r\n\r\n    public class FirebaseServiceImpl extends AbstractService implements FirebaseService {\r\n\r\n    public FirebaseServiceImpl() {\r\n    }\r\n\r\n    @Override\r\n    public void initFirebase() {\r\n        FirebaseApp.initializeApp(&quot;my-project-id&quot;);\r\n        logger.info(&quot;firebase service initialized in FirebaseServiceImpl#initFirebase&quot;);\r\n    }\r\n\r\n    public void sendFirebaseMessage() {\r\n        try {\r\n            logger.info(&quot;send firebase message in FirebaseServiceImpl#sendFirebaseMessage&quot;);\r\n\r\n            String registrationToken = &quot;c4QGdbL_TTqZXaBC3F5qhD:APA91bGCk1GoLYCECE6UaX4rUtUEaDV1wZiRco_hKux2LQ7OY82-XKoxFLI19lzmRk2WWwEMAY--oluNfAM26A0oh7AE8zasel_AVjQYFqitDmxAufg-7fPl5-35vez5DT8iB78xOS8g&quot;; // &quot;YOUR_REGISTRATION_TOKEN&quot;;\r\n\r\n            // See documentation on defining a message payload.\r\n            Message message = Message.builder().putData(&quot;score&quot;, &quot;850&quot;).putData(&quot;time&quot;, &quot;2:45&quot;).setToken(registrationToken).build();\r\n\r\n            // Send a message to the device corresponding to the provided\r\n            // registration token.\r\n            final FirebaseApp app = FirebaseApp.getInstance(&quot;my-project-id&quot;);\r\n            String response = FirebaseMessaging.getInstance(app).send(message);\r\n            logger.info(&quot;successfully sent firebase message with response &#39;{}&#39; in FirebaseServiceImpl#sendFirebaseMessage&quot;, response);\r\n        } catch (FirebaseMessagingException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\nUnfortunately I get the following exception:\r\n\r\n    com.google.firebase.messaging.FirebaseMessagingException: The registration token is not a valid FCM registration token\r\n\tat com.google.firebase.messaging.FirebaseMessagingException.withMessagingErrorCode(FirebaseMessagingException.java:51)\r\n\tat com.google.firebase.messaging.FirebaseMessagingClientImpl$MessagingErrorHandler.createException(FirebaseMessagingClientImpl.java:293)\r\n\tat com.google.firebase.messaging.FirebaseMessagingClientImpl$MessagingErrorHandler.createException(FirebaseMessagingClientImpl.java:282)\r\n\tat com.google.firebase.internal.AbstractHttpErrorHandler.handleHttpResponseException(AbstractHttpErrorHandler.java:57)\r\n\tat com.google.firebase.internal.ErrorHandlingHttpClient.send(ErrorHandlingHttpClient.java:108)\r\n\tat com.google.firebase.internal.ErrorHandlingHttpClient.sendAndParse(ErrorHandlingHttpClient.java:72)\r\n\tat com.google.firebase.messaging.FirebaseMessagingClientImpl.sendSingleRequest(FirebaseMessagingClientImpl.java:127)\r\n\tat com.google.firebase.messaging.FirebaseMessagingClientImpl.send(FirebaseMessagingClientImpl.java:113)\r\n\tat com.google.firebase.messaging.FirebaseMessaging$1.execute(FirebaseMessaging.java:137)\r\n\tat com.google.firebase.messaging.FirebaseMessaging$1.execute(FirebaseMessaging.java:134) \r\n    POST https://fcm.googleapis.com/v1/projects/levos-app/messages:send\r\n    {\r\n     &quot;error&quot;: {\r\n    &quot;code&quot;: 400,\r\n    &quot;message&quot;: &quot;The registration token is not a valid FCM registration token&quot;,\r\n    &quot;status&quot;: &quot;INVALID_ARGUMENT&quot;,\r\n    &quot;details&quot;: [\r\n      {\r\n        &quot;@type&quot;: &quot;type.googleapis.com/google.firebase.fcm.v1.FcmError&quot;,\r\n        &quot;errorCode&quot;: &quot;INVALID_ARGUMENT&quot;\r\n       }\r\n     ]\r\n     }\r\n    }\r\n\r\nI got the registration token from my Angular (ionic) client installed at my Android mobile phone:\r\n\r\n    PushNotifications.addListener(&#39;registration&#39;,\r\n     (token: Token) =&gt; {\r\n       alert(&#39;Push registration success, token is: &#39; + token.value);\r\n     }) \r\n\r\n\r\nMy question now would be whether someone have any idea what I am doing wrong.","title":"Google Firebase FCM - registration token","body":"<p>I use this Java class in order to send push notifications to device:</p>\n<pre><code>public class FirebaseServiceImpl extends AbstractService implements FirebaseService {\n\npublic FirebaseServiceImpl() {\n}\n\n@Override\npublic void initFirebase() {\n    FirebaseApp.initializeApp(&quot;my-project-id&quot;);\n    logger.info(&quot;firebase service initialized in FirebaseServiceImpl#initFirebase&quot;);\n}\n\npublic void sendFirebaseMessage() {\n    try {\n        logger.info(&quot;send firebase message in FirebaseServiceImpl#sendFirebaseMessage&quot;);\n\n        String registrationToken = &quot;c4QGdbL_TTqZXaBC3F5qhD:APA91bGCk1GoLYCECE6UaX4rUtUEaDV1wZiRco_hKux2LQ7OY82-XKoxFLI19lzmRk2WWwEMAY--oluNfAM26A0oh7AE8zasel_AVjQYFqitDmxAufg-7fPl5-35vez5DT8iB78xOS8g&quot;; // &quot;YOUR_REGISTRATION_TOKEN&quot;;\n\n        // See documentation on defining a message payload.\n        Message message = Message.builder().putData(&quot;score&quot;, &quot;850&quot;).putData(&quot;time&quot;, &quot;2:45&quot;).setToken(registrationToken).build();\n\n        // Send a message to the device corresponding to the provided\n        // registration token.\n        final FirebaseApp app = FirebaseApp.getInstance(&quot;my-project-id&quot;);\n        String response = FirebaseMessaging.getInstance(app).send(message);\n        logger.info(&quot;successfully sent firebase message with response '{}' in FirebaseServiceImpl#sendFirebaseMessage&quot;, response);\n    } catch (FirebaseMessagingException e) {\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Unfortunately I get the following exception:</p>\n<pre><code>com.google.firebase.messaging.FirebaseMessagingException: The registration token is not a valid FCM registration token\nat com.google.firebase.messaging.FirebaseMessagingException.withMessagingErrorCode(FirebaseMessagingException.java:51)\nat com.google.firebase.messaging.FirebaseMessagingClientImpl$MessagingErrorHandler.createException(FirebaseMessagingClientImpl.java:293)\nat com.google.firebase.messaging.FirebaseMessagingClientImpl$MessagingErrorHandler.createException(FirebaseMessagingClientImpl.java:282)\nat com.google.firebase.internal.AbstractHttpErrorHandler.handleHttpResponseException(AbstractHttpErrorHandler.java:57)\nat com.google.firebase.internal.ErrorHandlingHttpClient.send(ErrorHandlingHttpClient.java:108)\nat com.google.firebase.internal.ErrorHandlingHttpClient.sendAndParse(ErrorHandlingHttpClient.java:72)\nat com.google.firebase.messaging.FirebaseMessagingClientImpl.sendSingleRequest(FirebaseMessagingClientImpl.java:127)\nat com.google.firebase.messaging.FirebaseMessagingClientImpl.send(FirebaseMessagingClientImpl.java:113)\nat com.google.firebase.messaging.FirebaseMessaging$1.execute(FirebaseMessaging.java:137)\nat com.google.firebase.messaging.FirebaseMessaging$1.execute(FirebaseMessaging.java:134) \nPOST https://fcm.googleapis.com/v1/projects/levos-app/messages:send\n{\n &quot;error&quot;: {\n&quot;code&quot;: 400,\n&quot;message&quot;: &quot;The registration token is not a valid FCM registration token&quot;,\n&quot;status&quot;: &quot;INVALID_ARGUMENT&quot;,\n&quot;details&quot;: [\n  {\n    &quot;@type&quot;: &quot;type.googleapis.com/google.firebase.fcm.v1.FcmError&quot;,\n    &quot;errorCode&quot;: &quot;INVALID_ARGUMENT&quot;\n   }\n ]\n }\n}\n</code></pre>\n<p>I got the registration token from my Angular (ionic) client installed at my Android mobile phone:</p>\n<pre><code>PushNotifications.addListener('registration',\n (token: Token) =&gt; {\n   alert('Push registration success, token is: ' + token.value);\n }) \n</code></pre>\n<p>My question now would be whether someone have any idea what I am doing wrong.</p>\n"},{"tags":["java","for-loop","boolean"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1516635259,"post_id":48385075,"comment_id":83757390,"body_markdown":"If `x` is always less than the square root of your number in question (as you have written), what result will you get for the number 4?","body":"If <code>x</code> is always less than the square root of your number in question (as you have written), what result will you get for the number 4?"},{"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"score":1,"creation_date":1516635342,"post_id":48385075,"comment_id":83757451,"body_markdown":"Please provide an example of where it fails.","body":"Please provide an example of where it fails."},{"owner":{"account_id":12786156,"reputation":21,"user_id":9252358,"display_name":"miataaaaaa"},"score":1,"creation_date":1516635741,"post_id":48385075,"comment_id":83757742,"body_markdown":"@c-otto it fails for 21, and 22, but works for 23 and 24","body":"@c-otto it fails for 21, and 22, but works for 23 and 24"},{"owner":{"account_id":12786156,"reputation":21,"user_id":9252358,"display_name":"miataaaaaa"},"score":2,"creation_date":1516635850,"post_id":48385075,"comment_id":83757813,"body_markdown":"@khelwood for 4, I get false (not prime)","body":"@khelwood for 4, I get false (not prime)"}],"answers":[{"comments":[{"owner":{"account_id":12786156,"reputation":21,"user_id":9252358,"display_name":"miataaaaaa"},"score":0,"creation_date":1516636600,"post_id":48385450,"comment_id":83758379,"body_markdown":"4 comes out as false (not prime)","body":"4 comes out as false (not prime)"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1516636951,"post_id":48385450,"comment_id":83758635,"body_markdown":"@miataaaaaa Oh yes. It would because of `primeFirst` only being set to true inside the loop. OK then, 9 rather than 4.","body":"@miataaaaaa Oh yes. It would because of <code>primeFirst</code> only being set to true inside the loop. OK then, 9 rather than 4."}],"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516636902,"creation_date":1516636237,"answer_id":48385450,"question_id":48385075,"body_markdown":"Firstly, you are setting `primeFirst` to true in every iteration of your loop. You should set it only _before_ the loop, so it won&#39;t be reset back to true after you have already found a factor. Same for `primeSecond`. That&#39;s why 21 comes out as prime.\r\n\r\nSecondly, you are not checking every possible factor, because your loop condition is `x&lt; (Math.sqrt(first))`. That means the loop will stop before testing the square root itelf, which is why 9 comes out as prime.\r\n\r\nHere is a possible fixed version:\r\n\r\n    boolean primeFirst = true;\r\n    double sqrtFirst = Math.sqrt(first);\r\n    for (int x = 2; x &lt;= sqrtFirst; ++x) {\r\n        if (first%x==0) {\r\n            primeFirst = false;\r\n            break;\r\n        }\r\n    }","title":"prime numbers not displaying correct answers","body":"<p>Firstly, you are setting <code>primeFirst</code> to true in every iteration of your loop. You should set it only <em>before</em> the loop, so it won't be reset back to true after you have already found a factor. Same for <code>primeSecond</code>. That's why 21 comes out as prime.</p>\n\n<p>Secondly, you are not checking every possible factor, because your loop condition is <code>x&lt; (Math.sqrt(first))</code>. That means the loop will stop before testing the square root itelf, which is why 9 comes out as prime.</p>\n\n<p>Here is a possible fixed version:</p>\n\n<pre><code>boolean primeFirst = true;\ndouble sqrtFirst = Math.sqrt(first);\nfor (int x = 2; x &lt;= sqrtFirst; ++x) {\n    if (first%x==0) {\n        primeFirst = false;\n        break;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3570328,"reputation":745,"user_id":2980812,"display_name":"Fernando Mart&#237;n Besteiro"},"score":1,"creation_date":1516636760,"post_id":48385459,"comment_id":83758509,"body_markdown":"the last possible divisor for n is not n but sqrt(n)","body":"the last possible divisor for n is not n but sqrt(n)"},{"owner":{"display_name":"user8491933"},"score":0,"creation_date":1516636922,"post_id":48385459,"comment_id":83758619,"body_markdown":"But I think, that causes the problem. When I tried it with `Math.sqrt(first)`, it didn&#39;t work with for example 4.","body":"But I think, that causes the problem. When I tried it with <code>Math.sqrt(first)</code>, it didn&#39;t work with for example 4."},{"owner":{"display_name":"user8491933"},"score":0,"creation_date":1516637267,"post_id":48385459,"comment_id":83758825,"body_markdown":"Oh now I see the mistake in my code! I should use `&lt;=`, but not `&lt;`. Thanks! I&#39;ve edited the answer!","body":"Oh now I see the mistake in my code! I should use <code>&lt;=</code>, but not <code>&lt;</code>. Thanks! I&#39;ve edited the answer!"}],"tags":[],"owner":{"display_name":"user8491933"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517934102,"creation_date":1516636271,"answer_id":48385459,"question_id":48385075,"body_markdown":"I think, this works(https://www.mkyong.com/java/how-to-determine-a-prime-number-in-java/):\r\n\r\n    boolean isPrime(int n) {\r\n        for(int i = 2; i &lt;= Math.sqrt(n); i++) {\r\n            if(n%i==0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nI&#39;ve tried it out with a few different numbers and everything worked correctly!","title":"prime numbers not displaying correct answers","body":"<p>I think, this works(<a href=\"https://www.mkyong.com/java/how-to-determine-a-prime-number-in-java/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/java/how-to-determine-a-prime-number-in-java/</a>):</p>\n\n<pre><code>boolean isPrime(int n) {\n    for(int i = 2; i &lt;= Math.sqrt(n); i++) {\n        if(n%i==0)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>I've tried it out with a few different numbers and everything worked correctly!</p>\n"},{"comments":[{"owner":{"display_name":"user8491933"},"score":0,"creation_date":1516636446,"post_id":48385493,"comment_id":83758247,"body_markdown":"That is, what I wrote one minute ago!","body":"That is, what I wrote one minute ago!"},{"owner":{"display_name":"user8491933"},"score":0,"creation_date":1516729866,"post_id":48385493,"comment_id":83804878,"body_markdown":"Ok! Maybe! But I think you need `Math.sqrt`. It&#39;s not nesessary, but the last possible divisor isn&#39;t i, but sqrt(i). Than the computer doesn&#39;t have to work so hard ;-) so in the for-loop, the second parameter should be `i &lt;= Math.sqrt(num)`. I did that wrong too!","body":"Ok! Maybe! But I think you need <code>Math.sqrt</code>. It&#39;s not nesessary, but the last possible divisor isn&#39;t i, but sqrt(i). Than the computer doesn&#39;t have to work so hard ;-) so in the for-loop, the second parameter should be <code>i &lt;= Math.sqrt(num)</code>. I did that wrong too!"},{"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"score":0,"creation_date":1516730064,"post_id":48385493,"comment_id":83804974,"body_markdown":"I know, but it is not a big deal to loop over numbers for today computers expect he want it for a limited resources machine.","body":"I know, but it is not a big deal to loop over numbers for today computers expect he want it for a limited resources machine."},{"owner":{"display_name":"user8491933"},"score":0,"creation_date":1516730375,"post_id":48385493,"comment_id":83805156,"body_markdown":"You&#39;re right... But for example you wouldn&#39;t multiply two Integers, if it isn&#39;t nesessary and you never need the result. Also, if it wouldn&#39;t make a big different to the machine. So I&#39;ve just edited my answer, and I think, you should do that too.","body":"You&#39;re right... But for example you wouldn&#39;t multiply two Integers, if it isn&#39;t nesessary and you never need the result. Also, if it wouldn&#39;t make a big different to the machine. So I&#39;ve just edited my answer, and I think, you should do that too."}],"tags":[],"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516648250,"creation_date":1516636364,"answer_id":48385493,"question_id":48385075,"body_markdown":"you have using it in a wrong way, you must add `=` in the `for` loop condition.\r\n\r\nalso I think there is no need for `Math.sqrt(first)`, and for all these booleans.\r\n\r\nsee this simple code:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 2; i &lt;= 100; i++) {\r\n\t\t\tSystem.out.println(i + &quot; is &quot; + isPrime(i));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static boolean isPrime(int num) {\r\n\t\tfor (int i = 2; i &lt; num; i++) {\r\n\t\t\tif (num % i == 0)\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"prime numbers not displaying correct answers","body":"<p>you have using it in a wrong way, you must add <code>=</code> in the <code>for</code> loop condition.</p>\n\n<p>also I think there is no need for <code>Math.sqrt(first)</code>, and for all these booleans.</p>\n\n<p>see this simple code:</p>\n\n<pre><code>public static void main(String[] args) {\n    for (int i = 2; i &lt;= 100; i++) {\n        System.out.println(i + \" is \" + isPrime(i));\n    }\n}\n\npublic static boolean isPrime(int num) {\n    for (int i = 2; i &lt; num; i++) {\n        if (num % i == 0)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1517931129,"post_id":48385575,"comment_id":84290348,"body_markdown":"This only works for sufficiently small numbers up to 31. For 32, your factorial returns -2147483648, from 34 on they are all 0.","body":"This only works for sufficiently small numbers up to 31. For 32, your factorial returns -2147483648, from 34 on they are all 0."}],"tags":[],"owner":{"account_id":12678596,"reputation":917,"user_id":9213252,"display_name":"Rohan Pillai"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517678353,"creation_date":1516636633,"answer_id":48385575,"question_id":48385075,"body_markdown":"If you see properly, value of `primeFirst` &amp; `primeSecond` are dependent only on the last iterations of the loop. This might work for prime numbers but will certainly fail for many non-prime numbers. &lt;br&gt;&lt;br&gt;\r\nAnother problem with your code is that `x&lt;(Math.sqrt(second))`. It should be `x&lt;=(Math.sqrt(second))`.\r\n\r\n&lt;BR&gt;\r\nI would suggest you to not use this logic instead, use [Wilson&#39;s Theorem][1].\r\nIt says if for a number `p`, `(p-1)!+1` is divisible by `p` then the number is prime. \r\n    \r\n    static int factorial(int n){\r\n        if(n==0)\r\n            return 1;\r\n        else return n*factorial(n-1);\r\n    }\r\n    \r\n    public static void main(String args[]) {\r\n        int p = 6; //any number you want to test\r\n        \r\n        if((factorial(p-1)+1)%p==0)\r\n            System.out.println(p+&quot; is a prime number&quot;);\r\n        else System.out.println(p+&quot; is not a prime number&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Wilson%27s_theorem","title":"prime numbers not displaying correct answers","body":"<p>If you see properly, value of <code>primeFirst</code> &amp; <code>primeSecond</code> are dependent only on the last iterations of the loop. This might work for prime numbers but will certainly fail for many non-prime numbers. <br><br>\nAnother problem with your code is that <code>x&lt;(Math.sqrt(second))</code>. It should be <code>x&lt;=(Math.sqrt(second))</code>.</p>\n\n<p><BR>\nI would suggest you to not use this logic instead, use <a href=\"https://en.wikipedia.org/wiki/Wilson%27s_theorem\" rel=\"nofollow noreferrer\">Wilson's Theorem</a>.\nIt says if for a number <code>p</code>, <code>(p-1)!+1</code> is divisible by <code>p</code> then the number is prime. </p>\n\n<pre><code>static int factorial(int n){\n    if(n==0)\n        return 1;\n    else return n*factorial(n-1);\n}\n\npublic static void main(String args[]) {\n    int p = 6; //any number you want to test\n\n    if((factorial(p-1)+1)%p==0)\n        System.out.println(p+\" is a prime number\");\n    else System.out.println(p+\" is not a prime number\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":0,"creation_date":1516726715,"post_id":48406882,"comment_id":83802999,"body_markdown":"Thank you for this code snippet, which might provide some limited short-term help.  A proper explanation [would greatly improve](//meta.stackexchange.com/q/114762) its long-term value by showing *why* this is a good solution to the problem, and would make it more useful to future readers with other, similar questions.  As it is, it&#39;s hard to see how this differs from the code in the question.  Please [edit] your answer to add some explanation, including what you changed and any assumptions you&#39;ve made.","body":"Thank you for this code snippet, which might provide some limited short-term help.  A proper explanation <a href=\"//meta.stackexchange.com/q/114762\">would greatly improve</a> its long-term value by showing <i>why</i> this is a good solution to the problem, and would make it more useful to future readers with other, similar questions.  As it is, it&#39;s hard to see how this differs from the code in the question.  Please <a href=\"https://stackoverflow.com/posts/48406882/edit\">edit</a> your answer to add some explanation, including what you changed and any assumptions you&#39;ve made."}],"tags":[],"owner":{"account_id":12309525,"reputation":1,"user_id":8981478,"display_name":"Silambarasan K"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696664269,"creation_date":1516726016,"answer_id":48406882,"question_id":48385075,"body_markdown":"        int Checknum=6;\r\n\t\tboolean primefirst=true;\r\n\t\tfor(int i=2;i&lt;=(Math.sqrt(Checknum));i++)\r\n\t\t{\r\n\t\t\tif(Checknum%i==0)\r\n\t\t\t{\r\n\t\t\t\tprimefirst=false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tString output=primefirst==true? &quot;this is prime Number&quot;:&quot;this is Not prime Number&quot;;\r\n\t\t\r\n\t \tSystem.out.println(Checknum+&quot; &quot;+output);","title":"prime numbers not displaying correct answers","body":"<pre><code>    int Checknum=6;\n    boolean primefirst=true;\n    for(int i=2;i&lt;=(Math.sqrt(Checknum));i++)\n    {\n        if(Checknum%i==0)\n        {\n            primefirst=false;\n        }\n        \n    }\n    String output=primefirst==true? &quot;this is prime Number&quot;:&quot;this is Not prime Number&quot;;\n    \n    System.out.println(Checknum+&quot; &quot;+output);\n</code></pre>\n"}],"owner":{"account_id":12786156,"reputation":21,"user_id":9252358,"display_name":"miataaaaaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1696664269,"creation_date":1516635144,"question_id":48385075,"body_markdown":"my code works for only a few numbers, but it fails altogether on most numbers and I can&#39;t figure out why. It&#39;s meant to return the number and then true if its prime, or false if its not prime. \r\n\r\n    int first = 6; \r\n\tint second = 7;\r\n\tboolean primeFirst = false;\r\n\tboolean primeSecond = false;\r\n\r\n\t\r\n    //first prime checker\r\n    for (int x = 2; x&lt; (Math.sqrt(first)); x++)\r\n    {\r\n      primeFirst = true; //prime\r\n      if (first% x == 0)\r\n      {\r\n        primeFirst = false; //not prime\r\n      }\t            \r\n    }\r\n    \t     \r\n    //second prime checker\r\n    for (int x = 2; x&lt; (Math.sqrt(second)); x++)\r\n    {\r\n      primeSecond = true; \r\n      if (second % x == 0)\r\n      {\r\n        primeSecond = false;\t              \r\n      }            \r\n    }\r\n    \t        \r\n    System.out.println(first + &quot; is &quot; + primeFirst);\r\n    System.out.println(second + &quot; is &quot; + primeSecond);","title":"prime numbers not displaying correct answers","body":"<p>my code works for only a few numbers, but it fails altogether on most numbers and I can't figure out why. It's meant to return the number and then true if its prime, or false if its not prime. </p>\n\n<pre><code>int first = 6; \nint second = 7;\nboolean primeFirst = false;\nboolean primeSecond = false;\n\n\n//first prime checker\nfor (int x = 2; x&lt; (Math.sqrt(first)); x++)\n{\n  primeFirst = true; //prime\n  if (first% x == 0)\n  {\n    primeFirst = false; //not prime\n  }             \n}\n\n//second prime checker\nfor (int x = 2; x&lt; (Math.sqrt(second)); x++)\n{\n  primeSecond = true; \n  if (second % x == 0)\n  {\n    primeSecond = false;                  \n  }            \n}\n\nSystem.out.println(first + \" is \" + primeFirst);\nSystem.out.println(second + \" is \" + primeSecond);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9995,"page":139,"page_size":100}
