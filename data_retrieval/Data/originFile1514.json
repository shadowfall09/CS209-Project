{"items":[{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3456460,"reputation":58,"user_id":2894864,"display_name":"tflave"},"score":0,"creation_date":1647320176,"post_id":71477223,"comment_id":126335548,"body_markdown":"`randomNumbers` is an array. You cannot pass an array to the size of the array in lottery declaration.","body":"<code>randomNumbers</code> is an array. You cannot pass an array to the size of the array in lottery declaration."},{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":0,"creation_date":1647320200,"post_id":71477223,"comment_id":126335551,"body_markdown":"your `randomNumbers` is an array. You can&#39;t pass an array as size of another array. Maybe you want to use `randomNumbers.length`?","body":"your <code>randomNumbers</code> is an array. You can&#39;t pass an array as size of another array. Maybe you want to use <code>randomNumbers.length</code>?"},{"owner":{"account_id":20438929,"reputation":31,"user_id":14996091,"display_name":"Newusersda"},"score":0,"creation_date":1647320406,"post_id":71477223,"comment_id":126335585,"body_markdown":"@Aakash can you show me how i would do that if i want to show 6 numbers for each ticket?","body":"@Aakash can you show me how i would do that if i want to show 6 numbers for each ticket?"},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1647321839,"post_id":71477223,"comment_id":126335795,"body_markdown":"&quot;I get an error&quot;. ????","body":"&quot;I get an error&quot;. ????"},{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":1,"creation_date":1647323849,"post_id":71477223,"comment_id":126336114,"body_markdown":"@Newusersda try to use below\n`int lottery [][] = new int [ticketAmnt][randomNumbers.length];`","body":"@Newusersda try to use below <code>int lottery [][] = new int [ticketAmnt][randomNumbers.length];</code>"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647328621,"creation_date":1647327719,"answer_id":71478142,"question_id":71477223,"body_markdown":"You have a few problems that I can see if I understood your problem statement correctly. I will break down the problem in parts.\r\n\r\n&gt; *allow the user to enter how many tickets they want generated between 1-100*\r\n\r\nYou did this part correctly. However, I would make a slight change so that the user is clear about what to do. I would include the range of values to be entered.\r\n```\r\n    do\r\n    {\r\n        System.out.println(&quot;How many tickets will you be generating (between 1 and 100)?&quot;);\r\n        ticketAmnt = entry.nextInt();\r\n    }\r\n    while(ticketAmnt&lt;1 || ticketAmnt&gt;100);\r\n```\r\n\r\n&gt; *then the program generating random 6 numbers between 1-50 for the amount of tickets the user wants*\r\n\r\nThe way I understood this is that you need to generate ***x*** sets of random numbers, where ***x*** is the number of tickets the user entered. So, if the user entered 5, the program should generate 5 sets of 6 random numbers (between 1 and 50). Your program only generates 1 set of 6 random values for the ticket. Also, random number generation could return duplicate values. Your lottery ticket shall not contain duplicate values. Therefore, you should create an array of integer `Set` to enforce against duplicate values.\r\n\r\nThe correct code should be something like this:\r\n```\r\nList&lt;Set&lt;Integer&gt;&gt; lottoTickets = new ArrayList&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; ticketAmnt; i++) {\r\n    Set&lt;Integer&gt; ticket = new HashSet&lt;&gt;();\r\n    while (ticket.size() &lt; 6) {\r\n        ticket.add(ThreadLocalRandom.current().nextInt(1, 51));\r\n    }\r\n    lottoTickets.add(ticket);\r\n}\r\n```\r\nYou will need to do the same when generating the winning numbers.\r\n\r\n&gt; *After that, the program will generate another 6 numbers in a ticket and check how many winning numbers there are*\r\n\r\nI am assuming this part is where the winning numbers are generated.\r\n```\r\nSet&lt;Integer&gt; winningNumbers = new HashSet&lt;&gt;();\r\nwhile (winningNumbers.size() &lt; 6) {\r\n    winningNumbers.add(ThreadLocalRandom.current().nextInt(1, 51));\r\n}\r\n```\r\nNow you need to compare each generated ticket against the winning number. The easiest way to do this is to use Java&#39;s Stream API.\r\n```\r\nlottoTickets.forEach(ticket -&gt; {\r\n    Set&lt;Integer&gt; result = winningNumbers.stream()\r\n            .distinct()\r\n            .filter(ticket::contains)\r\n            .collect(Collectors.toSet());\r\n    System.out.println(&quot;Winning numbers found: &quot; + result.size());\r\n});\r\n```\r\n\r\nI added some `System.out` to visualize better the result of the program:\r\n```\r\npublic class Lottery {\r\n    public static void main(String[] args) {\r\n        int ticketAmnt = 0;\r\n        Scanner entry = new Scanner(System.in);\r\n        do\r\n        {\r\n            System.out.println(&quot;How many tickets will you be generating (between 1 and 100)?&quot;);\r\n            ticketAmnt = entry.nextInt();\r\n        }\r\n        while(ticketAmnt&lt;1 || ticketAmnt&gt;100);\r\n        entry.close();\r\n\r\n        List&lt;Set&lt;Integer&gt;&gt; lottoTickets = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; ticketAmnt; i++) {\r\n            Set&lt;Integer&gt; ticket = new HashSet&lt;&gt;();\r\n            while (ticket.size() &lt; 6) {\r\n                ticket.add(ThreadLocalRandom.current().nextInt(1, 51));\r\n            }\r\n            lottoTickets.add(ticket);\r\n        }\r\n        System.out.println(&quot;Tickets:&quot;);\r\n        lottoTickets.forEach(ticket -&gt; {\r\n            StringBuilder buffer = new StringBuilder();\r\n            System.out.print(&quot;[&quot;);\r\n            ticket.forEach(value -&gt; {\r\n                buffer.append(value + &quot; &quot;);\r\n            });\r\n            String values = buffer.toString().trim().replaceAll(&quot;\\\\s&quot;, &quot;, &quot;);\r\n            System.out.print(values);\r\n            System.out.println(&quot;]&quot;);\r\n        });\r\n\r\n        Set&lt;Integer&gt; winningNumbers = new HashSet&lt;&gt;();\r\n        while (winningNumbers.size() &lt; 6) {\r\n            winningNumbers.add(ThreadLocalRandom.current().nextInt(1, 51));\r\n        }\r\n        System.out.println(&quot;Winning numbers: &quot;);\r\n        StringBuilder buffer = new StringBuilder();\r\n        System.out.print(&quot;[&quot;);\r\n        winningNumbers.forEach(value -&gt; {\r\n            buffer.append(value + &quot; &quot;);\r\n        });\r\n        String values = buffer.toString().trim().replaceAll(&quot;\\\\s&quot;, &quot;, &quot;);\r\n        System.out.print(values);\r\n        System.out.println(&quot;]&quot;);\r\n\r\n        lottoTickets.forEach(ticket -&gt; {\r\n            Set&lt;Integer&gt; result = winningNumbers.stream()\r\n                    .distinct()\r\n                    .filter(ticket::contains)\r\n                    .collect(Collectors.toSet());\r\n            System.out.println(&quot;Winning numbers found: &quot; + result.size());\r\n        });\r\n    }\r\n}\r\n```\r\nProgram output:\r\n```\r\nTickets:\r\n[1, 2, 39, 9, 11, 29]\r\n[32, 48, 17, 37, 22, 38]\r\n[32, 33, 19, 36, 9, 42]\r\n[3, 36, 6, 9, 43, 12]\r\n[1, 17, 41, 9, 13, 30]\r\nWinning numbers: \r\n[48, 1, 34, 5, 28, 31]\r\nWinning numbers found: 1\r\nWinning numbers found: 1\r\nWinning numbers found: 0\r\nWinning numbers found: 0\r\nWinning numbers found: 1\r\n```","title":"Simple Java lottery program","body":"<p>You have a few problems that I can see if I understood your problem statement correctly. I will break down the problem in parts.</p>\n<blockquote>\n<p><em>allow the user to enter how many tickets they want generated between 1-100</em></p>\n</blockquote>\n<p>You did this part correctly. However, I would make a slight change so that the user is clear about what to do. I would include the range of values to be entered.</p>\n<pre><code>    do\n    {\n        System.out.println(&quot;How many tickets will you be generating (between 1 and 100)?&quot;);\n        ticketAmnt = entry.nextInt();\n    }\n    while(ticketAmnt&lt;1 || ticketAmnt&gt;100);\n</code></pre>\n<blockquote>\n<p><em>then the program generating random 6 numbers between 1-50 for the amount of tickets the user wants</em></p>\n</blockquote>\n<p>The way I understood this is that you need to generate <em><strong>x</strong></em> sets of random numbers, where <em><strong>x</strong></em> is the number of tickets the user entered. So, if the user entered 5, the program should generate 5 sets of 6 random numbers (between 1 and 50). Your program only generates 1 set of 6 random values for the ticket. Also, random number generation could return duplicate values. Your lottery ticket shall not contain duplicate values. Therefore, you should create an array of integer <code>Set</code> to enforce against duplicate values.</p>\n<p>The correct code should be something like this:</p>\n<pre><code>List&lt;Set&lt;Integer&gt;&gt; lottoTickets = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; ticketAmnt; i++) {\n    Set&lt;Integer&gt; ticket = new HashSet&lt;&gt;();\n    while (ticket.size() &lt; 6) {\n        ticket.add(ThreadLocalRandom.current().nextInt(1, 51));\n    }\n    lottoTickets.add(ticket);\n}\n</code></pre>\n<p>You will need to do the same when generating the winning numbers.</p>\n<blockquote>\n<p><em>After that, the program will generate another 6 numbers in a ticket and check how many winning numbers there are</em></p>\n</blockquote>\n<p>I am assuming this part is where the winning numbers are generated.</p>\n<pre><code>Set&lt;Integer&gt; winningNumbers = new HashSet&lt;&gt;();\nwhile (winningNumbers.size() &lt; 6) {\n    winningNumbers.add(ThreadLocalRandom.current().nextInt(1, 51));\n}\n</code></pre>\n<p>Now you need to compare each generated ticket against the winning number. The easiest way to do this is to use Java's Stream API.</p>\n<pre><code>lottoTickets.forEach(ticket -&gt; {\n    Set&lt;Integer&gt; result = winningNumbers.stream()\n            .distinct()\n            .filter(ticket::contains)\n            .collect(Collectors.toSet());\n    System.out.println(&quot;Winning numbers found: &quot; + result.size());\n});\n</code></pre>\n<p>I added some <code>System.out</code> to visualize better the result of the program:</p>\n<pre><code>public class Lottery {\n    public static void main(String[] args) {\n        int ticketAmnt = 0;\n        Scanner entry = new Scanner(System.in);\n        do\n        {\n            System.out.println(&quot;How many tickets will you be generating (between 1 and 100)?&quot;);\n            ticketAmnt = entry.nextInt();\n        }\n        while(ticketAmnt&lt;1 || ticketAmnt&gt;100);\n        entry.close();\n\n        List&lt;Set&lt;Integer&gt;&gt; lottoTickets = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; ticketAmnt; i++) {\n            Set&lt;Integer&gt; ticket = new HashSet&lt;&gt;();\n            while (ticket.size() &lt; 6) {\n                ticket.add(ThreadLocalRandom.current().nextInt(1, 51));\n            }\n            lottoTickets.add(ticket);\n        }\n        System.out.println(&quot;Tickets:&quot;);\n        lottoTickets.forEach(ticket -&gt; {\n            StringBuilder buffer = new StringBuilder();\n            System.out.print(&quot;[&quot;);\n            ticket.forEach(value -&gt; {\n                buffer.append(value + &quot; &quot;);\n            });\n            String values = buffer.toString().trim().replaceAll(&quot;\\\\s&quot;, &quot;, &quot;);\n            System.out.print(values);\n            System.out.println(&quot;]&quot;);\n        });\n\n        Set&lt;Integer&gt; winningNumbers = new HashSet&lt;&gt;();\n        while (winningNumbers.size() &lt; 6) {\n            winningNumbers.add(ThreadLocalRandom.current().nextInt(1, 51));\n        }\n        System.out.println(&quot;Winning numbers: &quot;);\n        StringBuilder buffer = new StringBuilder();\n        System.out.print(&quot;[&quot;);\n        winningNumbers.forEach(value -&gt; {\n            buffer.append(value + &quot; &quot;);\n        });\n        String values = buffer.toString().trim().replaceAll(&quot;\\\\s&quot;, &quot;, &quot;);\n        System.out.print(values);\n        System.out.println(&quot;]&quot;);\n\n        lottoTickets.forEach(ticket -&gt; {\n            Set&lt;Integer&gt; result = winningNumbers.stream()\n                    .distinct()\n                    .filter(ticket::contains)\n                    .collect(Collectors.toSet());\n            System.out.println(&quot;Winning numbers found: &quot; + result.size());\n        });\n    }\n}\n</code></pre>\n<p>Program output:</p>\n<pre><code>Tickets:\n[1, 2, 39, 9, 11, 29]\n[32, 48, 17, 37, 22, 38]\n[32, 33, 19, 36, 9, 42]\n[3, 36, 6, 9, 43, 12]\n[1, 17, 41, 9, 13, 30]\nWinning numbers: \n[48, 1, 34, 5, 28, 31]\nWinning numbers found: 1\nWinning numbers found: 1\nWinning numbers found: 0\nWinning numbers found: 0\nWinning numbers found: 1\n</code></pre>\n"}],"owner":{"account_id":20438929,"reputation":31,"user_id":14996091,"display_name":"Newusersda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1647324997,"accepted_answer_id":71478142,"answer_count":1,"score":-2,"last_activity_date":1647400932,"creation_date":1647319888,"question_id":71477223,"body_markdown":"  My code above is to allow the user to enter how many tickets they want generated between 1-100, then the program generating random 6 numbers between 1-50 for the amount of tickets the user wants. After that, the program will generate another 6 numbers in a ticket and check how many winning numbers there are. \r\nMy problem is I want to take the users entry and number&#39;s generated for each ticket and create a 2D array. However if you take a look at my final line of code, I get an error when I try to create a section for the ticket and random number for that same ticket. The error is the 2D array not going through with the code. The array should display the random numbers with each ticket.\r\n \r\n        \r\n    \r\n\r\n    Scanner entry=new Scanner(System.in); \r\n        \r\n        int ticketAmnt;\r\n        \r\n        do\r\n        {\r\n            System.out.println(&quot;How many tickets will you be generating?&quot;);\r\n            ticketAmnt = entry.nextInt();\r\n        }\r\n        while(ticketAmnt&lt;1 || ticketAmnt&gt;100);\r\n        \r\n        int randomNumbers[] = new int[6];\r\n        \r\n        for (int i = 0; i &lt;randomNumbers.length; i++)\r\n        {\r\n            randomNumbers[i] = (int) (Math.random() * 50);\r\n        }\r\n        \r\n        int lottery [][] = new int [ticketAmnt][randomNumbers];","title":"Simple Java lottery program","body":"<p>My code above is to allow the user to enter how many tickets they want generated between 1-100, then the program generating random 6 numbers between 1-50 for the amount of tickets the user wants. After that, the program will generate another 6 numbers in a ticket and check how many winning numbers there are.\nMy problem is I want to take the users entry and number's generated for each ticket and create a 2D array. However if you take a look at my final line of code, I get an error when I try to create a section for the ticket and random number for that same ticket. The error is the 2D array not going through with the code. The array should display the random numbers with each ticket.</p>\n<pre><code>Scanner entry=new Scanner(System.in); \n    \n    int ticketAmnt;\n    \n    do\n    {\n        System.out.println(&quot;How many tickets will you be generating?&quot;);\n        ticketAmnt = entry.nextInt();\n    }\n    while(ticketAmnt&lt;1 || ticketAmnt&gt;100);\n    \n    int randomNumbers[] = new int[6];\n    \n    for (int i = 0; i &lt;randomNumbers.length; i++)\n    {\n        randomNumbers[i] = (int) (Math.random() * 50);\n    }\n    \n    int lottery [][] = new int [ticketAmnt][randomNumbers];\n</code></pre>\n"},{"tags":["java","sonarqube","sonarqube-scan","sonarqube-web"],"answers":[{"tags":[],"owner":{"account_id":12959354,"reputation":205,"user_id":9369080,"display_name":"Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583430692,"creation_date":1583428243,"answer_id":60550695,"question_id":60549866,"body_markdown":"If you&#39;ve installed the [sonarlint][1] plugin you get the lint tab next to console and terminal. &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;s&lt;/kbd&gt; or &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;s&lt;/kbd&gt; on your project at root and that will produce the results\r\n\r\n\r\n  [1]: https://www.sonarlint.org/intellij/","title":"Get SonarQube analysis results in JavaConsole","body":"<p>If you've installed the <a href=\"https://www.sonarlint.org/intellij/\" rel=\"nofollow noreferrer\">sonarlint</a> plugin you get the lint tab next to console and terminal. <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>s</kbd> or <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>s</kbd> on your project at root and that will produce the results</p>\n"},{"tags":[],"owner":{"account_id":1104656,"reputation":1228,"user_id":1096326,"display_name":"Maciel Escudero Bombonato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647399472,"creation_date":1647397422,"answer_id":71491129,"question_id":60549866,"body_markdown":"On ```http://localhost:9000/api/webservices/list``` I could find all possible services and parameters. \r\n\r\nThis helped me a lot, for example:\r\n\r\n```http://localhost:9000/api/issues/search?componentKeys=myProjectKey&amp;facets=types&amp;facetMode=count```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WODU3.png","title":"Get SonarQube analysis results in JavaConsole","body":"<p>On <code>http://localhost:9000/api/webservices/list</code> I could find all possible services and parameters.</p>\n<p>This helped me a lot, for example:</p>\n<p><code>http://localhost:9000/api/issues/search?componentKeys=myProjectKey&amp;facets=types&amp;facetMode=count</code></p>\n<p><a href=\"https://i.stack.imgur.com/WODU3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WODU3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13920186,"reputation":13,"user_id":10050810,"display_name":"BrainOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647399472,"creation_date":1583425360,"question_id":60549866,"body_markdown":"is it possible to get the results of a SonarQube analysis displayed in the JavaConsole?\r\nFor example, I installed SonarQube in Java/Maven. I can analyze my program and it uploads the results to localhost:9000. But can I get the number of &quot;code-smells&quot; or &quot;bugs&quot; in my console from the project when it got uploaded to localhost:9000?\r\n\r\nI tried smth with \r\n\r\n```HttpGet httpGet = new HttpGet(&quot;http://localhost:9000/api/issues/search?pageSize=500&amp;componentKeys=CODE_SMELLS&quot;);```\r\n\r\n\r\nBut it seems like it does not work?\r\n\r\nI tried to use the web/API but I don&#39;t understand the documentation. For example \r\n\r\nweb_api/api/measures\r\n\r\nI don&#39;t know how to actually use it in the code I can not find an example or which method or so I have to use, to use the API. \r\n\r\nCan someone maybe provide some example code or pseudocode for Java how I could retrieve results from the analysis? \r\nI am fairly new to SonarQube and how to work with an API. So sorry about that.\r\n\r\n\r\nI am using the newest SonarQube free edition, maven and IntelliJ","title":"Get SonarQube analysis results in JavaConsole","body":"<p>is it possible to get the results of a SonarQube analysis displayed in the JavaConsole?\nFor example, I installed SonarQube in Java/Maven. I can analyze my program and it uploads the results to localhost:9000. But can I get the number of \"code-smells\" or \"bugs\" in my console from the project when it got uploaded to localhost:9000?</p>\n\n<p>I tried smth with </p>\n\n<p><code>HttpGet httpGet = new HttpGet(\"http://localhost:9000/api/issues/search?pageSize=500&amp;componentKeys=CODE_SMELLS\");</code></p>\n\n<p>But it seems like it does not work?</p>\n\n<p>I tried to use the web/API but I don't understand the documentation. For example </p>\n\n<p>web_api/api/measures</p>\n\n<p>I don't know how to actually use it in the code I can not find an example or which method or so I have to use, to use the API. </p>\n\n<p>Can someone maybe provide some example code or pseudocode for Java how I could retrieve results from the analysis? \nI am fairly new to SonarQube and how to work with an API. So sorry about that.</p>\n\n<p>I am using the newest SonarQube free edition, maven and IntelliJ</p>\n"},{"tags":["java","spring","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647324306,"creation_date":1647324306,"answer_id":71477697,"question_id":71476693,"body_markdown":"In reactive API nothing happens until you subscribe. Your method returns `Mono` and you need to construct a flow combining publishers. There are multiple ways to combine depending on the required logic.\r\n\r\nFor example, if you need the result of the predecessor you could use `flatMap` to resolve `Mono` sequentially \r\n\r\n```\r\nreturn getResponseOne()\r\n\t.flatMap(res -&gt; getResponseTwo(res))\r\n\t.flatMap(res -&gt; getResponseThree(res));\r\n```\r\n\r\nIn case calls are independent you could use `then`\r\n\r\n```\r\nreturn getResponseOne()\r\n\t.then(getResponseTwo())\r\n\t.then(getResponseThree());\r\n```\r\n\r\nYou could also execute in parallel using `Mono.when(getResponseOne(), getResponseTwo(), getResponseThree())` or `Mono.zip(getResponseOne(), getResponseTwo(), getResponseThree())`.\r\n\r\nThere are many other operators but the key here is to construct the flow and return `Mono` or `Flux`.\r\n","title":"Blocking calls on WebClient hangs indefinitely","body":"<p>In reactive API nothing happens until you subscribe. Your method returns <code>Mono</code> and you need to construct a flow combining publishers. There are multiple ways to combine depending on the required logic.</p>\n<p>For example, if you need the result of the predecessor you could use <code>flatMap</code> to resolve <code>Mono</code> sequentially</p>\n<pre><code>return getResponseOne()\n    .flatMap(res -&gt; getResponseTwo(res))\n    .flatMap(res -&gt; getResponseThree(res));\n</code></pre>\n<p>In case calls are independent you could use <code>then</code></p>\n<pre><code>return getResponseOne()\n    .then(getResponseTwo())\n    .then(getResponseThree());\n</code></pre>\n<p>You could also execute in parallel using <code>Mono.when(getResponseOne(), getResponseTwo(), getResponseThree())</code> or <code>Mono.zip(getResponseOne(), getResponseTwo(), getResponseThree())</code>.</p>\n<p>There are many other operators but the key here is to construct the flow and return <code>Mono</code> or <code>Flux</code>.</p>\n"}],"owner":{"account_id":13810650,"reputation":169,"user_id":9968484,"display_name":"Jenga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71477697,"answer_count":1,"score":0,"last_activity_date":1647399348,"creation_date":1647314927,"question_id":71476693,"body_markdown":"I have three WebClients that look something like this:\r\n\r\n**WebClient**\r\n\r\n    public Mono&lt;MyObject&gt; getResponseOne() {\r\n        return webClient.get()\r\n            .uri(URI) \r\n             .header(&quot;header&quot;, header)\r\n            .bodyValue(body)\r\n            .retrieve()\r\n            .bodyToMono(MyObject.class);\r\n    }\r\n\r\nThen I have a controller which calls multiple WebClients:\r\n\r\n**Controller**\r\n\r\n    @ResponseBody\r\n    @PostMapping(&quot;/get&quot;)\r\n    public Mono&lt;MyObject&gt; processResponse() {\r\n        MyObject obj = getResponseOne().toFuture().get();\r\n        system.out.println(&quot;Got first response&quot;);\r\n\r\n        String str = getResponseTwo().toFuture().get();\r\n        system.out.println(&quot;Got second response&quot;);\r\n\r\n        //process and send with third WebClient\r\n        MyObject newObj = getResponseThree(obj, str).toFuture().get();\r\n\r\n        //process response from third WebClient and send to fourth WebClient\r\n        //return statement\r\n\r\n    }\r\n\r\nWhen I call `/get`, the console only prints `&quot;Got first response&quot;` then it just stops there and anything below doesn&#39;t seem to be executing. I&#39;m using Postman to send the request, so it keeps on waiting without getting any response.\r\n\r\nThis may or may not be relevant, but I&#39;m using blocking calls because I need the both responses to be processed before sending it to a third WebClient, the response from the third WebClient will also go through additional processing before being returned as the response of `processResponse()`. \r\n\r\n**Solution**\r\n\r\nI used `Mono.zip()` like Alex suggested:\r\n\r\n    @ResponseBody\r\n    @PostMapping(&quot;/get&quot;)\r\n    public Mono&lt;MyObject&gt; processResponse() {\r\n        //TupleN depends on the amount of Monos you want to process\r\n        Mono&lt;Tuple2&lt;MyObject,String&gt;&gt; output = Mono.zip(getResponseOne(),getResponseTwo());\r\n    \r\n        return output.map(result -&gt;{\r\n            // getT1() &amp; getT2() is automatically generated by the tuple\r\n            MyObject obj = result.getT1();\r\n            String str = result.getT2();\r\n        \r\n            getResponseThree(obj, str);\r\n\r\n            //process and return\r\n        });\r\n    }\r\n\r\nMore about [Mono.zip()][1]\r\n\r\n\r\n  [1]: https://tedblob.com/mono-zip-parallel/","title":"Blocking calls on WebClient hangs indefinitely","body":"<p>I have three WebClients that look something like this:</p>\n<p><strong>WebClient</strong></p>\n<pre><code>public Mono&lt;MyObject&gt; getResponseOne() {\n    return webClient.get()\n        .uri(URI) \n         .header(&quot;header&quot;, header)\n        .bodyValue(body)\n        .retrieve()\n        .bodyToMono(MyObject.class);\n}\n</code></pre>\n<p>Then I have a controller which calls multiple WebClients:</p>\n<p><strong>Controller</strong></p>\n<pre><code>@ResponseBody\n@PostMapping(&quot;/get&quot;)\npublic Mono&lt;MyObject&gt; processResponse() {\n    MyObject obj = getResponseOne().toFuture().get();\n    system.out.println(&quot;Got first response&quot;);\n\n    String str = getResponseTwo().toFuture().get();\n    system.out.println(&quot;Got second response&quot;);\n\n    //process and send with third WebClient\n    MyObject newObj = getResponseThree(obj, str).toFuture().get();\n\n    //process response from third WebClient and send to fourth WebClient\n    //return statement\n\n}\n</code></pre>\n<p>When I call <code>/get</code>, the console only prints <code>&quot;Got first response&quot;</code> then it just stops there and anything below doesn't seem to be executing. I'm using Postman to send the request, so it keeps on waiting without getting any response.</p>\n<p>This may or may not be relevant, but I'm using blocking calls because I need the both responses to be processed before sending it to a third WebClient, the response from the third WebClient will also go through additional processing before being returned as the response of <code>processResponse()</code>.</p>\n<p><strong>Solution</strong></p>\n<p>I used <code>Mono.zip()</code> like Alex suggested:</p>\n<pre><code>@ResponseBody\n@PostMapping(&quot;/get&quot;)\npublic Mono&lt;MyObject&gt; processResponse() {\n    //TupleN depends on the amount of Monos you want to process\n    Mono&lt;Tuple2&lt;MyObject,String&gt;&gt; output = Mono.zip(getResponseOne(),getResponseTwo());\n\n    return output.map(result -&gt;{\n        // getT1() &amp; getT2() is automatically generated by the tuple\n        MyObject obj = result.getT1();\n        String str = result.getT2();\n    \n        getResponseThree(obj, str);\n\n        //process and return\n    });\n}\n</code></pre>\n<p>More about <a href=\"https://tedblob.com/mono-zip-parallel/\" rel=\"nofollow noreferrer\">Mono.zip()</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8496294,"reputation":374,"user_id":6370796,"accept_rate":75,"display_name":"Asew"},"score":9,"creation_date":1505114614,"post_id":46150173,"comment_id":79261926,"body_markdown":"Add every word in a `Set`, and get its size ?","body":"Add every word in a <code>Set</code>, and get its size ?"},{"owner":{"account_id":10834178,"reputation":413,"user_id":7967616,"accept_rate":50,"display_name":"JeyKey"},"score":0,"creation_date":1505114715,"post_id":46150173,"comment_id":79261977,"body_markdown":"@user7294900 but by using boolean containsValue(Object value) method or boolean containsKey(Object key)?","body":"@user7294900 but by using boolean containsValue(Object value) method or boolean containsKey(Object key)?"},{"owner":{"account_id":10834178,"reputation":413,"user_id":7967616,"accept_rate":50,"display_name":"JeyKey"},"score":0,"creation_date":1505114830,"post_id":46150173,"comment_id":79262044,"body_markdown":"@Asew so I dont have to check if there already is a word like this? I know that Set has no duplicates, but simply executing add() method will add a char there if there is no such a word already and won&#39;t do so if there is?","body":"@Asew so I dont have to check if there already is a word like this? I know that Set has no duplicates, but simply executing add() method will add a char there if there is no such a word already and won&#39;t do so if there is?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1505115132,"post_id":46150173,"comment_id":79262219,"body_markdown":"You should add every word to the set, not every character. Trying to add a word that is already there won’t do anything.","body":"You should add every word to the set, not every character. Trying to add a word that is already there won’t do anything."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1505115149,"post_id":46150173,"comment_id":79262234,"body_markdown":"Didn&#39;t  `wordsCount += tmpStr.trim().split(&quot;\\\\s+&quot;).length;` work?","body":"Didn&#39;t  <code>wordsCount += tmpStr.trim().split(&quot;\\\\s+&quot;).length;</code> work?"},{"owner":{"account_id":10123530,"reputation":3717,"user_id":7479696,"accept_rate":100,"display_name":"Pushan Gupta"},"score":0,"creation_date":1505116195,"post_id":46150173,"comment_id":79262832,"body_markdown":"Use a set container","body":"Use a set container"},{"owner":{"account_id":8496294,"reputation":374,"user_id":6370796,"accept_rate":75,"display_name":"Asew"},"score":0,"creation_date":1505128439,"post_id":46150173,"comment_id":79270170,"body_markdown":"@JeyKey You, indeed, dont need to check if the word is already here with a `Set`, as the `add()` method simply wont add an existing word.","body":"@JeyKey You, indeed, dont need to check if the word is already here with a <code>Set</code>, as the <code>add()</code> method simply wont add an existing word."}],"answers":[{"tags":[],"owner":{"account_id":10824901,"reputation":745,"user_id":7961080,"accept_rate":67,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505116199,"creation_date":1505116199,"answer_id":46150675,"question_id":46150173,"body_markdown":"To get unique words and their counts:  \r\n1. Split your obtained line from file into a string array  \r\n2. Store the contents of this string array in a Hashset  \r\n3. Repeat steps 1 and 2 till end of file  \r\n4. Get unique words and their count from the Hashset  \r\n\r\nI prefer posting logic and pseudo code as it will help OP to learn something by solving posted problem. ","title":"How to count unique words in a text file?","body":"<p>To get unique words and their counts:<br>\n1. Split your obtained line from file into a string array<br>\n2. Store the contents of this string array in a Hashset<br>\n3. Repeat steps 1 and 2 till end of file<br>\n4. Get unique words and their count from the Hashset  </p>\n\n<p>I prefer posting logic and pseudo code as it will help OP to learn something by solving posted problem. </p>\n"},{"tags":[],"owner":{"account_id":10464003,"reputation":3,"user_id":7713887,"display_name":"Harsh tango Gautam"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1505121968,"creation_date":1505121968,"answer_id":46152292,"question_id":46150173,"body_markdown":"hey @JeyKey you can use HashMap. Here I using Iterator too. You can check out this code.\r\n        \r\n\r\n        public class CountUniqueWords {\r\n\r\n        public static void main(String args[]) throws FileNotFoundException { \r\n\r\n        File f = new File(&quot;File Name&quot;);\r\n        ArrayList arr=new ArrayList();\r\n        HashMap&lt;String, Integer&gt; listOfWords = new HashMap&lt;String, Integer&gt;(); \r\n        Scanner in = new Scanner(f);\r\n        int i=0;\r\n        while(in.hasNext())\r\n        {\r\n        String s=in.next();\r\n        //System.out.println(s);\r\n        arr.add(s);\r\n        }\r\n        Iterator itr=arr.iterator();\r\n        while(itr.hasNext())\r\n        {i++;\r\n\r\n            listOfWords.put((String) itr.next(), i);\r\n            //System.out.println(listOfWords);    //for Printing the words \r\n         }\r\n\r\n        Set&lt;Object&gt; uniqueValues = new HashSet&lt;Object&gt;(listOfWords.values()); \r\n\r\n        System.out.println(&quot;The number of unique words: &quot;+uniqueValues.size());\r\n        }\r\n        }","title":"How to count unique words in a text file?","body":"<p>hey @JeyKey you can use HashMap. Here I using Iterator too. You can check out this code.</p>\n\n<pre><code>    public class CountUniqueWords {\n\n    public static void main(String args[]) throws FileNotFoundException { \n\n    File f = new File(\"File Name\");\n    ArrayList arr=new ArrayList();\n    HashMap&lt;String, Integer&gt; listOfWords = new HashMap&lt;String, Integer&gt;(); \n    Scanner in = new Scanner(f);\n    int i=0;\n    while(in.hasNext())\n    {\n    String s=in.next();\n    //System.out.println(s);\n    arr.add(s);\n    }\n    Iterator itr=arr.iterator();\n    while(itr.hasNext())\n    {i++;\n\n        listOfWords.put((String) itr.next(), i);\n        //System.out.println(listOfWords);    //for Printing the words \n     }\n\n    Set&lt;Object&gt; uniqueValues = new HashSet&lt;Object&gt;(listOfWords.values()); \n\n    System.out.println(\"The number of unique words: \"+uniqueValues.size());\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23841863,"reputation":1,"user_id":17846819,"display_name":"R. Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647398753,"creation_date":1647371991,"answer_id":71487821,"question_id":46150173,"body_markdown":"Example of how my code works:\r\n\r\nFile with words &quot;aa bb cc cc aa aa&quot; has 3 unique words.\r\n\r\nFirst, turn words into a string with each word separated by &quot;-&quot;. \r\n\r\n - **String: &quot;aa-bb-cc-cc-aa-aa-&quot;**\r\n - Get the first word: &quot;aa&quot;, set the UniqueWordCount = 1, and then replace &quot;aa-&quot; with &quot;&quot;.\r\n - **New String: &quot;bb-cc-cc-&quot;**\r\n - Get the first word: &quot;bb&quot;, set the UniqueWordCount = 2, and then replace &quot;bb-&quot; with &quot;&quot;.\r\n - **New String: &quot;cc-cc-&quot;**\r\n - Get the first word: &quot;cc&quot;, set the UniqueWordCount = 3, and then replace &quot;cc-&quot; with &quot;&quot;.\r\n - **New String: &quot;&quot;**, you stop when the string is empty. \r\n\r\n \r\n\r\n \r\n```\r\nprivate static int getUniqueWordCountInFile(File file) throws FileNotFoundException {\r\n\t\t\r\n\t\tString fileWordsAsString = getFileWords(file);\r\n\t\tint uniqueWordCount = 0; \r\n\t\t\r\n\t\tint i = 0; \r\n\t\twhile (!(fileWordsAsString.isEmpty()) &amp;&amp; !(fileWordsAsString.isBlank())) {\r\n\t\t\t\r\n\t\t\tif (Character.toString(fileWordsAsString.charAt(i)).equals(&quot; &quot;)) {\r\n\t\t\t\tfileWordsAsString = fileWordsAsString.replaceAll(fileWordsAsString.substring(0, i+1),&quot;&quot;); \r\n\t\t\t\ti = 0;\r\n\t\t\t\tuniqueWordCount++;\r\n\t\t\t} else {\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn uniqueWordCount;\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static String getFileWords(File file) throws FileNotFoundException {\r\n\t\t \r\n\t\tString toReturn = &quot;&quot;;\r\n\t\t\r\n\t\ttry (Scanner fileReader = new Scanner(file)) {\r\n\t\t\twhile (fileReader.hasNext()) {\r\n\t\t\t\tif (fileReader.hasNextInt()) {\r\n\t\t\t\t\tfileReader.nextInt();\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttoReturn += fileReader.next() + &quot; &quot;;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn toReturn;\r\n\t}\r\n```\r\nIf you want to use my code just pass getUniqueWordCountInFile() the file that has the words for which you want to count the unique words. ","title":"How to count unique words in a text file?","body":"<p>Example of how my code works:</p>\n<p>File with words &quot;aa bb cc cc aa aa&quot; has 3 unique words.</p>\n<p>First, turn words into a string with each word separated by &quot;-&quot;.</p>\n<ul>\n<li><strong>String: &quot;aa-bb-cc-cc-aa-aa-&quot;</strong></li>\n<li>Get the first word: &quot;aa&quot;, set the UniqueWordCount = 1, and then replace &quot;aa-&quot; with &quot;&quot;.</li>\n<li><strong>New String: &quot;bb-cc-cc-&quot;</strong></li>\n<li>Get the first word: &quot;bb&quot;, set the UniqueWordCount = 2, and then replace &quot;bb-&quot; with &quot;&quot;.</li>\n<li><strong>New String: &quot;cc-cc-&quot;</strong></li>\n<li>Get the first word: &quot;cc&quot;, set the UniqueWordCount = 3, and then replace &quot;cc-&quot; with &quot;&quot;.</li>\n<li><strong>New String: &quot;&quot;</strong>, you stop when the string is empty.</li>\n</ul>\n<pre><code>private static int getUniqueWordCountInFile(File file) throws FileNotFoundException {\n        \n        String fileWordsAsString = getFileWords(file);\n        int uniqueWordCount = 0; \n        \n        int i = 0; \n        while (!(fileWordsAsString.isEmpty()) &amp;&amp; !(fileWordsAsString.isBlank())) {\n            \n            if (Character.toString(fileWordsAsString.charAt(i)).equals(&quot; &quot;)) {\n                fileWordsAsString = fileWordsAsString.replaceAll(fileWordsAsString.substring(0, i+1),&quot;&quot;); \n                i = 0;\n                uniqueWordCount++;\n            } else {\n                i++;\n            }\n            \n        }\n        \n        \n        return uniqueWordCount;\n        \n    }\n    \n    private static String getFileWords(File file) throws FileNotFoundException {\n         \n        String toReturn = &quot;&quot;;\n        \n        try (Scanner fileReader = new Scanner(file)) {\n            while (fileReader.hasNext()) {\n                if (fileReader.hasNextInt()) {\n                    fileReader.nextInt();\n                } else {\n                    toReturn += fileReader.next() + &quot; &quot;;\n                }\n            }\n        }\n        \n        return toReturn;\n    }\n</code></pre>\n<p>If you want to use my code just pass getUniqueWordCountInFile() the file that has the words for which you want to count the unique words.</p>\n"}],"owner":{"account_id":10834178,"reputation":413,"user_id":7967616,"accept_rate":50,"display_name":"JeyKey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647398753,"creation_date":1505114343,"question_id":46150173,"body_markdown":"I have implemented code to count number of:\r\n- chars\r\n- words\r\n- lines\r\n- bytes \r\nin text file. \r\nBut how to count dictionary size: number of different words used in this file?\r\nAlso, how to implement iterator which can iterate over only letters? (Ignore whitespaces)\r\n\r\n    public class wc {\r\n        public static void main(String[] args) throws IOException {\r\n        //counters\r\n            int charsCount = 0;\r\n            int wordsCount = 0;\r\n            int linesCount = 0;\r\n\r\n            Scanner in = null;\r\n            File file = new File(&quot;Sample.txt&quot;);\r\n        \r\n            try(Scanner scanner = new Scanner(new BufferedReader(new FileReader(file)))){\r\n\r\n                while (scanner.hasNextLine()) {\r\n        \r\n                    String tmpStr = scanner.nextLine();\r\n                    if (!tmpStr.equalsIgnoreCase(&quot;&quot;)) {\r\n                        String replaceAll = tmpStr.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n                        charsCount += replaceAll.length();\r\n                        wordsCount += tmpStr.split(&quot;\\\\s+&quot;).length;\r\n                    }\r\n                    ++linesCount;\r\n                }\r\n\r\n            System.out.println(&quot;# of chars: &quot; + charsCount);\r\n            System.out.println(&quot;# of words: &quot; + wordsCount);\r\n            System.out.println(&quot;# of lines: &quot; + linesCount);\r\n            System.out.println(&quot;# of bytes: &quot; + file.length());\r\n\r\n            }\r\n        }\r\n    }","title":"How to count unique words in a text file?","body":"<p>I have implemented code to count number of:\n- chars\n- words\n- lines\n- bytes \nin text file. \nBut how to count dictionary size: number of different words used in this file?\nAlso, how to implement iterator which can iterate over only letters? (Ignore whitespaces)</p>\n\n<pre><code>public class wc {\n    public static void main(String[] args) throws IOException {\n    //counters\n        int charsCount = 0;\n        int wordsCount = 0;\n        int linesCount = 0;\n\n        Scanner in = null;\n        File file = new File(\"Sample.txt\");\n\n        try(Scanner scanner = new Scanner(new BufferedReader(new FileReader(file)))){\n\n            while (scanner.hasNextLine()) {\n\n                String tmpStr = scanner.nextLine();\n                if (!tmpStr.equalsIgnoreCase(\"\")) {\n                    String replaceAll = tmpStr.replaceAll(\"\\\\s+\", \"\");\n                    charsCount += replaceAll.length();\n                    wordsCount += tmpStr.split(\"\\\\s+\").length;\n                }\n                ++linesCount;\n            }\n\n        System.out.println(\"# of chars: \" + charsCount);\n        System.out.println(\"# of words: \" + wordsCount);\n        System.out.println(\"# of lines: \" + linesCount);\n        System.out.println(\"# of bytes: \" + file.length());\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","union-find"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647398736,"post_id":71491198,"comment_id":126359298,"body_markdown":"can you describe the goal of the algorithm? i.e. find what from what?","body":"can you describe the goal of the algorithm? i.e. find what from what?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1647403506,"post_id":71491198,"comment_id":126359951,"body_markdown":"I am unsure what you are trying to achieve with this code, But when you use `find(p)` inside the union loop you get a live result that will reflect changes made to `id` like so `id[i] =find(q);`. However, if you use `int pid = find(p);` outside the union loop then you are storing an old value that is not changed whenever you use `pid` inside the loop, or when you update `id` here `id[i] = pid;`. Do you intend to store the old fixed value like shown in your second attempt `id[i] =qid;`, or should you really be using `id[i] =find(q);` as shown in your first attempt?","body":"I am unsure what you are trying to achieve with this code, But when you use <code>find(p)</code> inside the union loop you get a live result that will reflect changes made to <code>id</code> like so <code>id[i] =find(q);</code>. However, if you use <code>int pid = find(p);</code> outside the union loop then you are storing an old value that is not changed whenever you use <code>pid</code> inside the loop, or when you update <code>id</code> here <code>id[i] = pid;</code>. Do you intend to store the old fixed value like shown in your second attempt <code>id[i] =qid;</code>, or should you really be using <code>id[i] =find(q);</code> as shown in your first attempt?"},{"owner":{"account_id":20287152,"reputation":13,"user_id":14879595,"display_name":"Abhi"},"score":0,"creation_date":1647562999,"post_id":71491198,"comment_id":126408917,"body_markdown":"Wouldn&#39;t find(p) and pid be the exact same value at every iteration of the loop since its independent?","body":"Wouldn&#39;t find(p) and pid be the exact same value at every iteration of the loop since its independent?"}],"owner":{"account_id":20287152,"reputation":13,"user_id":14879595,"display_name":"Abhi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647398063,"creation_date":1647398063,"question_id":71491198,"body_markdown":"I was learning about quick find and made a very basic implementation in java but my union function was not working properly when I initially implemented it. I made some changes and it started working but I&#39;m not sure whats causing the problem in the first iteration of my function. I can see that for some reason the parent of P is changing even though I&#39;m not making any changes to the argument p but I don&#39;t know why. Sorry if this is a stupid question I&#39;m just lost here.\r\n\r\nFirst attempt\r\n```\r\npublic class QuickFindUF {\r\n\r\n    private int[] id;\r\n\r\n    public QuickFindUF(int N){\r\n        id = new int[N];\r\n        for (int i = 0;i&lt;N;i++){\r\n            id[i] = i;\r\n        }\r\n    }\r\n\r\n    public boolean connected(int p, int q){\r\n        if (id[p] == id[q]){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public int find(int x){\r\n        return id[x];\r\n    }\r\n\r\n    public void union(int p, int q){\r\n\r\n        if (connected(p,q)) {\r\n            System.out.println(p+&quot; and &quot;+q + &quot; are already connected&quot;);\r\n            return;\r\n        }\r\n\r\n        for (int i =0; i &lt; id.length;i++){\r\n            if (id[i] == find(p)){\r\n                System.out.println(&quot;p&#39;s parent is &quot; + find(p) + &quot; list item is &quot;+id[i]);\r\n                id[i] =find(q);\r\n            }\r\n        }\r\n    }\r\n    public void print(){\r\n\r\n        System.out.print(&quot;[&quot;);\r\n        for (int i =0; i &lt; id.length; i++){\r\n            System.out.print(id[i]);\r\n            System.out.print(&quot;, &quot;);\r\n        }\r\n        System.out.println(&quot;]&quot;);\r\n    }\r\n\r\n    public static void main(String args[]){\r\n        QuickFindUF qfobj = new QuickFindUF(10);\r\n        qfobj.print();\r\n        qfobj.union(3,5);\r\n        qfobj.print();\r\n        qfobj.union(3,8);\r\n        qfobj.print();\r\n\r\n    }\r\n}\r\n```\r\n\r\nsecond (working) attempt\r\n```\r\npublic class QuickFindUF {\r\n\r\n    private int[] id;\r\n\r\n    public QuickFindUF(int N){\r\n        id = new int[N];\r\n        for (int i = 0;i&lt;N;i++){\r\n            id[i] = i;\r\n        }\r\n    }\r\n\r\n    public boolean connected(int p, int q){\r\n        if (id[p] == id[q]){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public int find(int x){\r\n        return id[x];\r\n    }\r\n\r\n    public void union(int p, int q){\r\n\r\n        if (connected(p,q)) {\r\n            System.out.println(p+&quot; and &quot;+q + &quot; are already connected&quot;);\r\n            return;\r\n        }\r\n\r\n        int pid = find(p);\r\n        int qid = find(q);\r\n\r\n        for (int i =0; i &lt; id.length;i++){\r\n            if (id[i] == pid){\r\n                System.out.println(&quot;p&#39;s parent is &quot; + find(p) + &quot; list item is &quot;+id[i]);\r\n                id[i] =qid;\r\n            }\r\n        }\r\n    }\r\n    public void print(){\r\n\r\n        System.out.print(&quot;[&quot;);\r\n        for (int i =0; i &lt; id.length; i++){\r\n            System.out.print(id[i]);\r\n            System.out.print(&quot;, &quot;);\r\n        }\r\n        System.out.println(&quot;]&quot;);\r\n    }\r\n\r\n    public static void main(String args[]){\r\n        QuickFindUF qfobj = new QuickFindUF(10);\r\n        qfobj.print();\r\n        qfobj.union(3,5);\r\n        qfobj.print();\r\n        qfobj.union(3,8);\r\n        qfobj.print();\r\n\r\n    }\r\n}\r\n\r\n```","title":"What is the difference between these 2 implementations of quick find?","body":"<p>I was learning about quick find and made a very basic implementation in java but my union function was not working properly when I initially implemented it. I made some changes and it started working but I'm not sure whats causing the problem in the first iteration of my function. I can see that for some reason the parent of P is changing even though I'm not making any changes to the argument p but I don't know why. Sorry if this is a stupid question I'm just lost here.</p>\n<p>First attempt</p>\n<pre><code>public class QuickFindUF {\n\n    private int[] id;\n\n    public QuickFindUF(int N){\n        id = new int[N];\n        for (int i = 0;i&lt;N;i++){\n            id[i] = i;\n        }\n    }\n\n    public boolean connected(int p, int q){\n        if (id[p] == id[q]){\n            return true;\n        }\n        return false;\n    }\n\n    public int find(int x){\n        return id[x];\n    }\n\n    public void union(int p, int q){\n\n        if (connected(p,q)) {\n            System.out.println(p+&quot; and &quot;+q + &quot; are already connected&quot;);\n            return;\n        }\n\n        for (int i =0; i &lt; id.length;i++){\n            if (id[i] == find(p)){\n                System.out.println(&quot;p's parent is &quot; + find(p) + &quot; list item is &quot;+id[i]);\n                id[i] =find(q);\n            }\n        }\n    }\n    public void print(){\n\n        System.out.print(&quot;[&quot;);\n        for (int i =0; i &lt; id.length; i++){\n            System.out.print(id[i]);\n            System.out.print(&quot;, &quot;);\n        }\n        System.out.println(&quot;]&quot;);\n    }\n\n    public static void main(String args[]){\n        QuickFindUF qfobj = new QuickFindUF(10);\n        qfobj.print();\n        qfobj.union(3,5);\n        qfobj.print();\n        qfobj.union(3,8);\n        qfobj.print();\n\n    }\n}\n</code></pre>\n<p>second (working) attempt</p>\n<pre><code>public class QuickFindUF {\n\n    private int[] id;\n\n    public QuickFindUF(int N){\n        id = new int[N];\n        for (int i = 0;i&lt;N;i++){\n            id[i] = i;\n        }\n    }\n\n    public boolean connected(int p, int q){\n        if (id[p] == id[q]){\n            return true;\n        }\n        return false;\n    }\n\n    public int find(int x){\n        return id[x];\n    }\n\n    public void union(int p, int q){\n\n        if (connected(p,q)) {\n            System.out.println(p+&quot; and &quot;+q + &quot; are already connected&quot;);\n            return;\n        }\n\n        int pid = find(p);\n        int qid = find(q);\n\n        for (int i =0; i &lt; id.length;i++){\n            if (id[i] == pid){\n                System.out.println(&quot;p's parent is &quot; + find(p) + &quot; list item is &quot;+id[i]);\n                id[i] =qid;\n            }\n        }\n    }\n    public void print(){\n\n        System.out.print(&quot;[&quot;);\n        for (int i =0; i &lt; id.length; i++){\n            System.out.print(id[i]);\n            System.out.print(&quot;, &quot;);\n        }\n        System.out.println(&quot;]&quot;);\n    }\n\n    public static void main(String args[]){\n        QuickFindUF qfobj = new QuickFindUF(10);\n        qfobj.print();\n        qfobj.union(3,5);\n        qfobj.print();\n        qfobj.union(3,8);\n        qfobj.print();\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","function","functional-interface","function-composition"],"answers":[{"tags":[],"owner":{"account_id":4224404,"reputation":395,"user_id":3458267,"display_name":"PianoMastR64"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647397734,"creation_date":1647397734,"answer_id":71491162,"question_id":71491161,"body_markdown":"The `Function`&#39;s `Compose()` and `andThen()` methods are straightforward since a `Function` has one input and one output and therefore can only be strung sequentially with another in two ways.\r\n\r\nSince a `BiFunction` has one output, the &quot;after&quot; function has to be something with only one corresponding input, and `Function` fits the bill. And since it has two inputs, the &quot;before&quot; function needs to be something with two outputs? You can&#39;t have a method return two things, so there seemingly can&#39;t be a &quot;before&quot;. The return type of each of these methods is the same as the interface they are defined in, so the proposed method should return a `BiFunction`.\r\n\r\n**My proposal** then is a method that takes two `Function`s as input and returns a `BiFunction`. I&#39;m not sure what else it could even be. It couldn&#39;t be two `BiFunction`s because then the return type would have to be a `QuaterFunction`.\r\n\r\nHere is the code as it would be written in the Java Library:\r\n\r\n``` lang-java\r\npublic interface BiFunction&lt;T, U, R&gt; {\r\n    // apply()...\r\n\r\n    default &lt;V, W&gt; BiFunction&lt;V, W, R&gt; compose(\r\n        Function&lt;? super V, ? extends T&gt; beforeLeft,\r\n        Function&lt;? super W, ? extends U&gt; beforeRight) {\r\n        \r\n        Objects.requireNonNull(beforeLeft);\r\n        Objects.requireNonNull(beforeRight);\r\n        return (V v, W w) -&gt; apply(beforeLeft.apply(v), beforeRight.apply(w));\r\n    }\r\n\r\n    // andThen()...\r\n}\r\n```\r\n\r\nHere is the finished graph:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/dqSUU.png\r\n\r\nHere it is in use:\r\n\r\n``` lang-java\r\nBiFunction&lt;Integer, Integer, Integer&gt; add = Integer::sum;\r\nFunction&lt;Integer, Integer&gt; abs = Math::abs;\r\nBiFunction&lt;Integer, Integer, Integer&gt; addAbs = add.compose(abs, abs);\r\nSystem.out.println(addAbs.apply(-2, -3));\r\n\r\n// output: 5\r\n```\r\n\r\nIf you want to actually test this, you can do something like this:\r\n``` lang-java\r\npublic interface BiFunctionWithCompose&lt;T, U, R&gt; extends BiFunction&lt;T, U, R&gt; {...\r\n```\r\nOr like this:\r\n``` java-lang\r\npackage myutil;\r\npublic interface BiFunction&lt;T, U, R&gt; extends java.util.function.BiFunction&lt;T, U, R&gt; {...\r\n```\r\n\r\n***\r\n\r\nI have no idea if this will be useful to anyone, but it was really fun to think through and write. Have a wonderful day.","title":"What would a compose method in the BiFunction interface look like?","body":"<p>The <code>Function</code>'s <code>Compose()</code> and <code>andThen()</code> methods are straightforward since a <code>Function</code> has one input and one output and therefore can only be strung sequentially with another in two ways.</p>\n<p>Since a <code>BiFunction</code> has one output, the &quot;after&quot; function has to be something with only one corresponding input, and <code>Function</code> fits the bill. And since it has two inputs, the &quot;before&quot; function needs to be something with two outputs? You can't have a method return two things, so there seemingly can't be a &quot;before&quot;. The return type of each of these methods is the same as the interface they are defined in, so the proposed method should return a <code>BiFunction</code>.</p>\n<p><strong>My proposal</strong> then is a method that takes two <code>Function</code>s as input and returns a <code>BiFunction</code>. I'm not sure what else it could even be. It couldn't be two <code>BiFunction</code>s because then the return type would have to be a <code>QuaterFunction</code>.</p>\n<p>Here is the code as it would be written in the Java Library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BiFunction&lt;T, U, R&gt; {\n    // apply()...\n\n    default &lt;V, W&gt; BiFunction&lt;V, W, R&gt; compose(\n        Function&lt;? super V, ? extends T&gt; beforeLeft,\n        Function&lt;? super W, ? extends U&gt; beforeRight) {\n        \n        Objects.requireNonNull(beforeLeft);\n        Objects.requireNonNull(beforeRight);\n        return (V v, W w) -&gt; apply(beforeLeft.apply(v), beforeRight.apply(w));\n    }\n\n    // andThen()...\n}\n</code></pre>\n<p>Here is the finished graph:</p>\n<p><a href=\"https://i.stack.imgur.com/dqSUU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dqSUU.png\" alt=\"enter image description here\" /></a></p>\n<p>Here it is in use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BiFunction&lt;Integer, Integer, Integer&gt; add = Integer::sum;\nFunction&lt;Integer, Integer&gt; abs = Math::abs;\nBiFunction&lt;Integer, Integer, Integer&gt; addAbs = add.compose(abs, abs);\nSystem.out.println(addAbs.apply(-2, -3));\n\n// output: 5\n</code></pre>\n<p>If you want to actually test this, you can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BiFunctionWithCompose&lt;T, U, R&gt; extends BiFunction&lt;T, U, R&gt; {...\n</code></pre>\n<p>Or like this:</p>\n<pre><code>package myutil;\npublic interface BiFunction&lt;T, U, R&gt; extends java.util.function.BiFunction&lt;T, U, R&gt; {...\n</code></pre>\n<hr />\n<p>I have no idea if this will be useful to anyone, but it was really fun to think through and write. Have a wonderful day.</p>\n"}],"owner":{"account_id":4224404,"reputation":395,"user_id":3458267,"display_name":"PianoMastR64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647397734,"creation_date":1647397734,"question_id":71491161,"body_markdown":"The `Function` interface has the `compose()` and `andThen()` methods while the `BiFunction` interface only has the `andThen()` method. My question is simply how could the corresponding method be implemented? I&#39;ll try to represent this graphically.\r\n\r\n[![BiFunction without compose][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/worY3.png\r\n\r\nThe single letters are parameterized types as defined by Java&#39;s `Function` and `BiFunction` interfaces. Arrows are the flow of inputs and outputs. Boxes with connected arrows are functions. The dotted box just shows how the apply method is used.","title":"What would a compose method in the BiFunction interface look like?","body":"<p>The <code>Function</code> interface has the <code>compose()</code> and <code>andThen()</code> methods while the <code>BiFunction</code> interface only has the <code>andThen()</code> method. My question is simply how could the corresponding method be implemented? I'll try to represent this graphically.</p>\n<p><a href=\"https://i.stack.imgur.com/worY3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/worY3.png\" alt=\"BiFunction without compose\" /></a></p>\n<p>The single letters are parameterized types as defined by Java's <code>Function</code> and <code>BiFunction</code> interfaces. Arrows are the flow of inputs and outputs. Boxes with connected arrows are functions. The dotted box just shows how the apply method is used.</p>\n"},{"tags":["java","multithreading","junit","synchronization"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1647435562,"post_id":71491151,"comment_id":126369811,"body_markdown":"Please show (at least) the `@Test` case that doesn&#39;t work. You aren&#39;t likely to get much help solving your problem if you don&#39;t show the code that doesn&#39;t work.","body":"Please show (at least) the <code>@Test</code> case that doesn&#39;t work. You aren&#39;t likely to get much help solving your problem if you don&#39;t show the code that doesn&#39;t work."},{"owner":{"account_id":13163788,"reputation":132,"user_id":9508705,"display_name":"Richard Tran"},"score":0,"creation_date":1647589938,"post_id":71491151,"comment_id":126413582,"body_markdown":"@SolomonSlow Sorry if I was vague in my question, but the code above is the one that doesn&#39;t work in TestCase context, but works properly if I put it in my Main() method.","body":"@SolomonSlow Sorry if I was vague in my question, but the code above is the one that doesn&#39;t work in TestCase context, but works properly if I put it in my Main() method."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1647605605,"post_id":71491151,"comment_id":126418574,"body_markdown":"You showed some code, and you said, &quot;it works quite well,&quot; and maybe I am assuming too much, but it _seems_ as if the &quot;it&quot; that &quot;works quite well&quot; is the code in your example. You also said that you are having trouble writing a JUnit test for your code. So, it seems as if the problem is in your JUnit code, but where is the JUnit code that doesn&#39;t work? How about showing something that calls `JUnitCore.runClasses(MyTests.class);`? And, how about showing us a `class&#160;MyTests&#160;{...}` with an `@Test` method that fails to prove that your unit under test &quot;works quite well&quot;?","body":"You showed some code, and you said, &quot;it works quite well,&quot; and maybe I am assuming too much, but it <i>seems</i> as if the &quot;it&quot; that &quot;works quite well&quot; is the code in your example. You also said that you are having trouble writing a JUnit test for your code. So, it seems as if the problem is in your JUnit code, but where is the JUnit code that doesn&#39;t work? How about showing something that calls <code>JUnitCore.runClasses(MyTests.class);</code>? And, how about showing us a <code>class MyTests {...}</code> with an <code>@Test</code> method that fails to prove that your unit under test &quot;works quite well&quot;?"}],"owner":{"account_id":13163788,"reputation":132,"user_id":9508705,"display_name":"Richard Tran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647397642,"creation_date":1647397642,"question_id":71491151,"body_markdown":"I am trying to create a synchronized version of data and using junit to test my method. The code below is what I came so far. It works quite well if I put on the main method (the counter is increased one by one by each thread) but the test process will stop immediately. Is this the problem by using `Thread.sleep()` on a test case?\r\n```java\r\n    public void testGeneral() {\r\n        class SynchronizedData {\r\n            public AtomicBoolean lock = new AtomicBoolean(false);\r\n            public int counter = 0;\r\n\r\n            public void update() {\r\n                if(lock.compareAndSet(false, true)) {\r\n                    counter++;\r\n                    System.out.println(counter);\r\n                    lock.set(false);\r\n                }\r\n            }\r\n        }\r\n\r\n        SynchronizedData data = new SynchronizedData();\r\n\r\n        class Handler implements Runnable {\r\n            String name;\r\n\r\n            public Handler(String name) {\r\n                this.name = name;\r\n            }\r\n\r\n            @Override\r\n            public void run() {\r\n                for(;;) {\r\n                    try {\r\n                        Thread.sleep(new Random().nextInt(100));\r\n                    } catch (InterruptedException e) {\r\n                        System.out.println(e);\r\n                    }\r\n                    System.out.println(this.name);\r\n                    data.update();\r\n                }\r\n            }\r\n        }\r\n\r\n        new Thread(new Handler(&quot;One&quot;)).start();\r\n        new Thread(new Handler(&quot;Two&quot;)).start();\r\n    }\r\n```","title":"Java sleep thread in Junit test case","body":"<p>I am trying to create a synchronized version of data and using junit to test my method. The code below is what I came so far. It works quite well if I put on the main method (the counter is increased one by one by each thread) but the test process will stop immediately. Is this the problem by using <code>Thread.sleep()</code> on a test case?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void testGeneral() {\n        class SynchronizedData {\n            public AtomicBoolean lock = new AtomicBoolean(false);\n            public int counter = 0;\n\n            public void update() {\n                if(lock.compareAndSet(false, true)) {\n                    counter++;\n                    System.out.println(counter);\n                    lock.set(false);\n                }\n            }\n        }\n\n        SynchronizedData data = new SynchronizedData();\n\n        class Handler implements Runnable {\n            String name;\n\n            public Handler(String name) {\n                this.name = name;\n            }\n\n            @Override\n            public void run() {\n                for(;;) {\n                    try {\n                        Thread.sleep(new Random().nextInt(100));\n                    } catch (InterruptedException e) {\n                        System.out.println(e);\n                    }\n                    System.out.println(this.name);\n                    data.update();\n                }\n            }\n        }\n\n        new Thread(new Handler(&quot;One&quot;)).start();\n        new Thread(new Handler(&quot;Two&quot;)).start();\n    }\n</code></pre>\n"},{"tags":["java","codenameone"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1647358702,"post_id":71484938,"comment_id":126348568,"body_markdown":"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it","body":"<a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\" title=\"what causes a java lang arrayindexoutofboundsexception and how do i prevent it\">stackoverflow.com/questions/5554734/&hellip;</a>"},{"owner":{"account_id":94338,"reputation":1226,"user_id":257622,"display_name":"JohnnyJP"},"score":0,"creation_date":1647512714,"post_id":71484938,"comment_id":126392014,"body_markdown":"You are trying to access an element of an array outside of what is inside the array, in this case, because the 1st (0th) element is not present I would suggest your array is not initialised.  We cant help you more without some sample code to see what you are trying to do.","body":"You are trying to access an element of an array outside of what is inside the array, in this case, because the 1st (0th) element is not present I would suggest your array is not initialised.  We cant help you more without some sample code to see what you are trying to do."}],"answers":[{"tags":[],"owner":{"account_id":5760074,"reputation":103,"user_id":4546777,"display_name":"Hughsie28"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647366766,"creation_date":1647366766,"answer_id":71486834,"question_id":71484938,"body_markdown":"Without seeing the examples of rest of your code I&#39;m limited to the answer I can provide.\r\n\r\nI would recommend that you would be best to debug the code and see what contents the array has, and how many times your array is being used in either a loop or check the number it extracts before it tries to get the index element and that it does not exceed the number of contents in the array (Remember they start at 0 not 1).\r\n\r\nExample:\r\n\r\n    // This will throw the same error, &quot;ArrayIndexOutOfBoundsException&quot;\r\n    String[] colours = [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;];\r\n    System.out.println(colours[3]); // This index does not exist, error throws\r\n\r\nIf you are using a loop (usual culprit because the loop goes one too far), Good alternatives to look into to avoid this error are `for-each` Loops! They will not throw this error as they only process the indexes available\r\n\r\n    String[] colours = [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;];\r\n    for (String colour : colours) {\r\n        System.out.println(colour);\r\n    }\r\n\r\nIf you are using something like `.split(String)` to create an array do a check beforehand \r\n\r\n    String colourList = &quot;red.blue.green&quot;; // 3 elements\r\n    String[] colours = colourList.split(&quot;.&quot;);\r\n    if (array.size == 3) {\r\n      // there is a 4th element\r\n      System.out.println(colours[3]);\r\n    } else {\r\n      // there is no 4th element\r\n      System.out.println(colours[2]);\r\n    }","title":"I&#39;m getting this error while running my codenameone application and i didn&#39;t know what&#39;s the exact problem","body":"<p>Without seeing the examples of rest of your code I'm limited to the answer I can provide.</p>\n<p>I would recommend that you would be best to debug the code and see what contents the array has, and how many times your array is being used in either a loop or check the number it extracts before it tries to get the index element and that it does not exceed the number of contents in the array (Remember they start at 0 not 1).</p>\n<p>Example:</p>\n<pre><code>// This will throw the same error, &quot;ArrayIndexOutOfBoundsException&quot;\nString[] colours = [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;];\nSystem.out.println(colours[3]); // This index does not exist, error throws\n</code></pre>\n<p>If you are using a loop (usual culprit because the loop goes one too far), Good alternatives to look into to avoid this error are <code>for-each</code> Loops! They will not throw this error as they only process the indexes available</p>\n<pre><code>String[] colours = [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;];\nfor (String colour : colours) {\n    System.out.println(colour);\n}\n</code></pre>\n<p>If you are using something like <code>.split(String)</code> to create an array do a check beforehand</p>\n<pre><code>String colourList = &quot;red.blue.green&quot;; // 3 elements\nString[] colours = colourList.split(&quot;.&quot;);\nif (array.size == 3) {\n  // there is a 4th element\n  System.out.println(colours[3]);\n} else {\n  // there is no 4th element\n  System.out.println(colours[2]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647397507,"creation_date":1647397507,"answer_id":71491137,"question_id":71484938,"body_markdown":"Your theme file is missing or broken. I guess you created it via an old method. I suggest using https://start.codenameone.com/ to create a maven project which is the preferred way to create Codename One applications. Notice it no longer requires the plugins.","title":"I&#39;m getting this error while running my codenameone application and i didn&#39;t know what&#39;s the exact problem","body":"<p>Your theme file is missing or broken. I guess you created it via an old method. I suggest using <a href=\"https://start.codenameone.com/\" rel=\"nofollow noreferrer\">https://start.codenameone.com/</a> to create a maven project which is the preferred way to create Codename One applications. Notice it no longer requires the plugins.</p>\n"}],"owner":{"account_id":24567157,"reputation":13,"user_id":18474157,"display_name":"linda ammar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1648308871,"accepted_answer_id":71491137,"answer_count":2,"score":-1,"last_activity_date":1647397507,"creation_date":1647358590,"question_id":71484938,"body_markdown":"```\r\njava.lang.ArrayIndexOutOfBoundsException: 0 at com.codename1.ui.plaf.UIManager.initFirstTheme(UIManager.java:2156) at com.mycompany.myapp.MyApplication.init(MyApplication.java:33) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at com.codename1.impl.javase.Executor$4$1.run(Executor.java:308) at com.codename1.ui.Display.processSerialCalls(Display.java:1368) at com.codename1.ui.Display.mainEDTLoop(Display.java:1155) at com.codename1.ui.RunnableWrapper.run(RunnableWrapper.java:120) at com.codename1.impl.CodenameOneThread.run(CodenameOneThread.java:176)\r\n```","title":"I&#39;m getting this error while running my codenameone application and i didn&#39;t know what&#39;s the exact problem","body":"<pre><code>java.lang.ArrayIndexOutOfBoundsException: 0 at com.codename1.ui.plaf.UIManager.initFirstTheme(UIManager.java:2156) at com.mycompany.myapp.MyApplication.init(MyApplication.java:33) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at com.codename1.impl.javase.Executor$4$1.run(Executor.java:308) at com.codename1.ui.Display.processSerialCalls(Display.java:1368) at com.codename1.ui.Display.mainEDTLoop(Display.java:1155) at com.codename1.ui.RunnableWrapper.run(RunnableWrapper.java:120) at com.codename1.impl.CodenameOneThread.run(CodenameOneThread.java:176)\n</code></pre>\n"},{"tags":["java","arrays","methods","parameters","arguments"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1647394428,"post_id":71490836,"comment_id":126358594,"body_markdown":"You probably don&#39;t want `score = new String[num]; names = new String[num];` in the body of the method.","body":"You probably don&#39;t want <code>score = new String[num]; names = new String[num];</code> in the body of the method."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647397023,"creation_date":1647397023,"answer_id":71491094,"question_id":71490836,"body_markdown":"The trick is to know the difference between a _reference_ and an _object_.\r\n\r\nIn java, __all__ variables can only hold a small, fixed size amount of data, no exceptions. So, how in the blazes does `Person p = new Person();` work, you should be wondering - you can make your own Person class and stuff it to the gills with fields with no issue; clearly a Person object can easily be neither small nor fixed size.\r\n\r\nReferences is the answer.\r\n\r\nThis is what happens:\r\n\r\n* An object is created by invoking the Person constructor.\r\n* The _reference_ to this object is the value of this invocation.\r\n* Your `p` variable holds this _reference_. This is a pointer; it lets java know where to find the object. __It is not the object itself__.\r\n\r\nImagine a giant beach. Objects are buried treasure. Variables are treasure maps written on little wipeable handheld whiteboards.\r\n\r\n```\r\nPerson p = new Person();\r\n```\r\n\r\nis thus equivalent to:\r\n\r\n* Create a new treasure chest.\r\n* Bury it.\r\n* Draw the location to it on a map.\r\n* Return the map.\r\n\r\nNext important thing to keep in mind: Java is __pass by value__. In java, those little whiteboards are __never__ passed. Whatever whiteboards you hold are yours and yours alone. You cannot give them away nor receive any. Instead, whenever you want to give data to a method, you can instead show them what to copy on _their_ whiteboards, and similarly, when a method returns information to you, all you get to is copy what is on their whiteboard.\r\n\r\nFinal important realization: Primitives (long, int, short, byte, double, float, boolean, and char - the list is hardcoded, you can&#39;t make your own) are all small and fixed size and just fit on these little whiteboards.\r\n\r\nThis explanation isn&#39;t &#39;java is a lot like this&#39;. Nono, java is __exactly__ like this. This metaphor does not have any failure modes; it is a pirate, beaches, and whiteboards version of how java works.\r\n\r\nNote that `=` is assignment: In our pirate world it is the equivalent of wiping out a little whiteboard and copying something else on it. In contrast to `foo.bar`, `foo[x]`, `synchronized (foo)`, `switch (foo)` - these all __dereference__, meaning: In our pirate world those all involve: &quot;Follow the map and dig in the sand&quot;.\r\n\r\nPutting it all together, it explains the behaviour you witness. Let&#39;s go line by line through your code:\r\n\r\n* `String[] studentScore;`\r\n\r\nConjure out of thin air a new whiteboard. We shall name it `studentScore`, and we restrict it: It may either be blank, or have a map that leads to treasure of the `String[]` type; it is completely impossible to make maps to any other kind of treasure with it, the universe (the JVM) won&#39;t let it happen.\r\n\r\n* `studentScore = new String[n];`\r\n\r\nThis does multiple separate things. First, it conjures up a new treasure chest. It contains just enough room for n treasure maps (it&#39;s more like a little file folder than a big chest). After all, Strings themselves are objects too - they are treasures, and all string variables and references are therefore maps, not the whole thing. An array that can hold &#39;n&#39; strings really just holds n treasure maps to strings. Next, this says: Draw on your `studentScore` whiteboard a map to this newly conjured up treasure file folder. Like all arrays of non-primitive types, it starts out with n blank maps. (a blank map = a `null` value).\r\n\r\n* `studentInfo(n, studentScore, studentNames);`\r\n\r\nYour whiteboards are yours and cannot be handed out. So, this means: Walk over to Misses `studentInfo`. studentInfo knows how many arguments it has (in java all methods always have a set number of arguments), so she&#39;s ready to do your bidding, holding 3 fresh new blank whiteboards. You show her 3 whiteboards of your own: One with `n` written on it directly (`n` is an `int`, a primitive, therefore it&#39;s just written on your board. There&#39;s no map and no treasure involved), one with a treasure map leading to your `studentScore` buried treasure, and one to another buried treasure chest. Misses `studentInfo` duly copies these values and maps over on her 3 boards and goes to work.\r\n\r\n* `score = new String[num];`\r\n\r\nMisses `studentInfo` takes her treasure map to the treasure you made and buried and __wipes it clean__, then, she conjures up an entirely new treasure chest, buries it, and copies the location over on her whiteboard.\r\n\r\n* `score[i] = matcher.group();`\r\n\r\nMisses `studentInfo` fetches a shovel, follows her `score` treasuremap, digs down, and opens the treasure, which is a file folder with room for a bunch of treasure maps written on little whiteboards. She finds the `i`-th whiteboard, takes it out, wipes out whatever is there, and copies the treasuremap over that Mr `matcher` is currently showing her, as a result of doing his thing.\r\n\r\n* ... method ends ....\r\n\r\nMisses `studentInfo` is done, and she returns nothing, so __she takes her whiteboards and tosses them in the garbage__.\r\n\r\n* You are standing there, your whiteboards are of course still completely unmodified, maps to treasure that nobody touched - maps to treasures that still hold all blank maps. You fetch a shovel, follow your map, dig down, open the file folder, and pull out the first little whiteboard. Of course it is blank.\r\n\r\n## So how do you &#39;fix&#39; this?\r\n\r\nDon&#39;t use `=` in your `studentInfo` method. Alternatively, do that, but `return` that value (you can only return one thing, so if your method needs to modify 2 treasure chests, that &#39;return it&#39; plan is not going to work out).\r\n\r\nJust ditch the `score = new String[num];` part. If you do _not_ do that, then your line of `score[i] = foo` digs down to find the treasure that __the map misses `studentInfo` copied over from your little whiteboard__ leads to. And then she modifies what she finds there - which is great, because when _you_ follow _your_ map, it&#39;s a different map, but goes to the same place, so when _you_ dig down, you&#39;ll see the effects of what Misses `studentInfo` did.\r\n","title":"Is there a way to print or call on a void methods parameter in java","body":"<p>The trick is to know the difference between a <em>reference</em> and an <em>object</em>.</p>\n<p>In java, <strong>all</strong> variables can only hold a small, fixed size amount of data, no exceptions. So, how in the blazes does <code>Person p = new Person();</code> work, you should be wondering - you can make your own Person class and stuff it to the gills with fields with no issue; clearly a Person object can easily be neither small nor fixed size.</p>\n<p>References is the answer.</p>\n<p>This is what happens:</p>\n<ul>\n<li>An object is created by invoking the Person constructor.</li>\n<li>The <em>reference</em> to this object is the value of this invocation.</li>\n<li>Your <code>p</code> variable holds this <em>reference</em>. This is a pointer; it lets java know where to find the object. <strong>It is not the object itself</strong>.</li>\n</ul>\n<p>Imagine a giant beach. Objects are buried treasure. Variables are treasure maps written on little wipeable handheld whiteboards.</p>\n<pre><code>Person p = new Person();\n</code></pre>\n<p>is thus equivalent to:</p>\n<ul>\n<li>Create a new treasure chest.</li>\n<li>Bury it.</li>\n<li>Draw the location to it on a map.</li>\n<li>Return the map.</li>\n</ul>\n<p>Next important thing to keep in mind: Java is <strong>pass by value</strong>. In java, those little whiteboards are <strong>never</strong> passed. Whatever whiteboards you hold are yours and yours alone. You cannot give them away nor receive any. Instead, whenever you want to give data to a method, you can instead show them what to copy on <em>their</em> whiteboards, and similarly, when a method returns information to you, all you get to is copy what is on their whiteboard.</p>\n<p>Final important realization: Primitives (long, int, short, byte, double, float, boolean, and char - the list is hardcoded, you can't make your own) are all small and fixed size and just fit on these little whiteboards.</p>\n<p>This explanation isn't 'java is a lot like this'. Nono, java is <strong>exactly</strong> like this. This metaphor does not have any failure modes; it is a pirate, beaches, and whiteboards version of how java works.</p>\n<p>Note that <code>=</code> is assignment: In our pirate world it is the equivalent of wiping out a little whiteboard and copying something else on it. In contrast to <code>foo.bar</code>, <code>foo[x]</code>, <code>synchronized (foo)</code>, <code>switch (foo)</code> - these all <strong>dereference</strong>, meaning: In our pirate world those all involve: &quot;Follow the map and dig in the sand&quot;.</p>\n<p>Putting it all together, it explains the behaviour you witness. Let's go line by line through your code:</p>\n<ul>\n<li><code>String[] studentScore;</code></li>\n</ul>\n<p>Conjure out of thin air a new whiteboard. We shall name it <code>studentScore</code>, and we restrict it: It may either be blank, or have a map that leads to treasure of the <code>String[]</code> type; it is completely impossible to make maps to any other kind of treasure with it, the universe (the JVM) won't let it happen.</p>\n<ul>\n<li><code>studentScore = new String[n];</code></li>\n</ul>\n<p>This does multiple separate things. First, it conjures up a new treasure chest. It contains just enough room for n treasure maps (it's more like a little file folder than a big chest). After all, Strings themselves are objects too - they are treasures, and all string variables and references are therefore maps, not the whole thing. An array that can hold 'n' strings really just holds n treasure maps to strings. Next, this says: Draw on your <code>studentScore</code> whiteboard a map to this newly conjured up treasure file folder. Like all arrays of non-primitive types, it starts out with n blank maps. (a blank map = a <code>null</code> value).</p>\n<ul>\n<li><code>studentInfo(n, studentScore, studentNames);</code></li>\n</ul>\n<p>Your whiteboards are yours and cannot be handed out. So, this means: Walk over to Misses <code>studentInfo</code>. studentInfo knows how many arguments it has (in java all methods always have a set number of arguments), so she's ready to do your bidding, holding 3 fresh new blank whiteboards. You show her 3 whiteboards of your own: One with <code>n</code> written on it directly (<code>n</code> is an <code>int</code>, a primitive, therefore it's just written on your board. There's no map and no treasure involved), one with a treasure map leading to your <code>studentScore</code> buried treasure, and one to another buried treasure chest. Misses <code>studentInfo</code> duly copies these values and maps over on her 3 boards and goes to work.</p>\n<ul>\n<li><code>score = new String[num];</code></li>\n</ul>\n<p>Misses <code>studentInfo</code> takes her treasure map to the treasure you made and buried and <strong>wipes it clean</strong>, then, she conjures up an entirely new treasure chest, buries it, and copies the location over on her whiteboard.</p>\n<ul>\n<li><code>score[i] = matcher.group();</code></li>\n</ul>\n<p>Misses <code>studentInfo</code> fetches a shovel, follows her <code>score</code> treasuremap, digs down, and opens the treasure, which is a file folder with room for a bunch of treasure maps written on little whiteboards. She finds the <code>i</code>-th whiteboard, takes it out, wipes out whatever is there, and copies the treasuremap over that Mr <code>matcher</code> is currently showing her, as a result of doing his thing.</p>\n<ul>\n<li>... method ends ....</li>\n</ul>\n<p>Misses <code>studentInfo</code> is done, and she returns nothing, so <strong>she takes her whiteboards and tosses them in the garbage</strong>.</p>\n<ul>\n<li>You are standing there, your whiteboards are of course still completely unmodified, maps to treasure that nobody touched - maps to treasures that still hold all blank maps. You fetch a shovel, follow your map, dig down, open the file folder, and pull out the first little whiteboard. Of course it is blank.</li>\n</ul>\n<h2>So how do you 'fix' this?</h2>\n<p>Don't use <code>=</code> in your <code>studentInfo</code> method. Alternatively, do that, but <code>return</code> that value (you can only return one thing, so if your method needs to modify 2 treasure chests, that 'return it' plan is not going to work out).</p>\n<p>Just ditch the <code>score = new String[num];</code> part. If you do <em>not</em> do that, then your line of <code>score[i] = foo</code> digs down to find the treasure that <strong>the map misses <code>studentInfo</code> copied over from your little whiteboard</strong> leads to. And then she modifies what she finds there - which is great, because when <em>you</em> follow <em>your</em> map, it's a different map, but goes to the same place, so when <em>you</em> dig down, you'll see the effects of what Misses <code>studentInfo</code> did.</p>\n"}],"owner":{"account_id":24510785,"reputation":1,"user_id":18425130,"display_name":"French"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647397023,"creation_date":1647394050,"question_id":71490836,"body_markdown":"I&#39;ve been teaching myself java out of a book and I am trying to find out if I have a void method and I pass in two empty arrays through its parameter list, how can I use the methods parameters for later use. So for instance I put in 3 names with there score in like this &quot;    John Doe 98.3 &quot; don&#39;t mind the parentheses. I want to make a sorting method later and be able to call that to sort the arrays String[] score, String[] names in the parameter list. In main after I call the method I try to print the array that I used for the parameter (on line 26 for me) but it returns null. How do I get the parameter list data from this void method?\r\n\r\nWould prefer not to use objects unless there is no other way. Thanks for the insight.\r\n\r\n     // imports\r\n\r\n     import java.util.Scanner;\r\n\r\n     import java.util.regex.Matcher;\r\n\r\n     import java.util.regex.Pattern;\r\n\r\n\r\n\r\n     public class Example {\r\n    \r\n         public static Scanner input = new Scanner(System.in);\r\n         public static void main(String[] args) {\r\n        \r\n\r\n        int n;\r\n\r\n        n = numOfStudents();\r\n\r\n        input.nextLine();\r\n\r\n        String[] studentScore;\r\n        studentScore = new String[n];\r\n\r\n        String[] studentNames;\r\n        studentNames = new String[n];\r\n\r\n        studentInfo(n, studentScore, studentNames);\r\n        \r\n        // prints null\r\n        System.out.println(studentNames[1]);\r\n\r\n\r\n     }\r\n\r\n    public static int numOfStudents(){\r\n\r\n        int students = 0;\r\n        System.out.print(&quot;Enter the number of students: &quot;);\r\n        students = input.nextInt();\r\n\r\n        while (students &lt; 1) {\r\n            System.out.print(&quot;Number of students must be greater than 0: &quot;);\r\n            students = input.nextInt();\r\n        }\r\n        return students;\r\n    }\r\n\r\n    public static void studentInfo(int num, String[] score, String[] names){\r\n\r\n\r\n        String[] arr;\r\n        arr = new String[num];\r\n\r\n        score = new String[num];\r\n\r\n        names = new String[num];\r\n\r\n        String strPattern = &quot;-?\\\\d+(\\\\.\\\\d+)?&quot;;\r\n\r\n        for(int i = 0; i &lt; num; i++) {\r\n\r\n\r\n            System.out.print(&quot;Enter a name and test score: &quot;);\r\n            arr[i] =input.nextLine();\r\n\r\n            Pattern pattern = Pattern.compile(strPattern);\r\n            Matcher matcher = pattern.matcher(arr[i]);\r\n\r\n            while (matcher.find()) {\r\n                score[i] = matcher.group();\r\n            }\r\n\r\n            names[i] = arr[i].replaceAll(strPattern, &quot;&quot;);\r\n\r\n        }\r\n        System.out.println(score[1] + names[1]);\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"Is there a way to print or call on a void methods parameter in java","body":"<p>I've been teaching myself java out of a book and I am trying to find out if I have a void method and I pass in two empty arrays through its parameter list, how can I use the methods parameters for later use. So for instance I put in 3 names with there score in like this &quot;    John Doe 98.3 &quot; don't mind the parentheses. I want to make a sorting method later and be able to call that to sort the arrays String[] score, String[] names in the parameter list. In main after I call the method I try to print the array that I used for the parameter (on line 26 for me) but it returns null. How do I get the parameter list data from this void method?</p>\n<p>Would prefer not to use objects unless there is no other way. Thanks for the insight.</p>\n<pre><code> // imports\n\n import java.util.Scanner;\n\n import java.util.regex.Matcher;\n\n import java.util.regex.Pattern;\n\n\n\n public class Example {\n\n     public static Scanner input = new Scanner(System.in);\n     public static void main(String[] args) {\n    \n\n    int n;\n\n    n = numOfStudents();\n\n    input.nextLine();\n\n    String[] studentScore;\n    studentScore = new String[n];\n\n    String[] studentNames;\n    studentNames = new String[n];\n\n    studentInfo(n, studentScore, studentNames);\n    \n    // prints null\n    System.out.println(studentNames[1]);\n\n\n }\n\npublic static int numOfStudents(){\n\n    int students = 0;\n    System.out.print(&quot;Enter the number of students: &quot;);\n    students = input.nextInt();\n\n    while (students &lt; 1) {\n        System.out.print(&quot;Number of students must be greater than 0: &quot;);\n        students = input.nextInt();\n    }\n    return students;\n}\n\npublic static void studentInfo(int num, String[] score, String[] names){\n\n\n    String[] arr;\n    arr = new String[num];\n\n    score = new String[num];\n\n    names = new String[num];\n\n    String strPattern = &quot;-?\\\\d+(\\\\.\\\\d+)?&quot;;\n\n    for(int i = 0; i &lt; num; i++) {\n\n\n        System.out.print(&quot;Enter a name and test score: &quot;);\n        arr[i] =input.nextLine();\n\n        Pattern pattern = Pattern.compile(strPattern);\n        Matcher matcher = pattern.matcher(arr[i]);\n\n        while (matcher.find()) {\n            score[i] = matcher.group();\n        }\n\n        names[i] = arr[i].replaceAll(strPattern, &quot;&quot;);\n\n    }\n    System.out.println(score[1] + names[1]);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","algorithm","quicksort"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1646954933,"post_id":71431829,"comment_id":126258086,"body_markdown":"Check the index/indices as necessary. Or use [sentinals](https://en.m.wikipedia.org/wiki/Sentinel_value).","body":"Check the index/indices as necessary. Or use <a href=\"https://en.m.wikipedia.org/wiki/Sentinel_value\" rel=\"nofollow noreferrer\">sentinals</a>."},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":1,"creation_date":1646956826,"post_id":71431829,"comment_id":126258402,"body_markdown":"Where did you get that pseudocode? It&#39;s incorrect since the inner while loops need to check whether i and j are in bounds before retrieving `A[i]` and `A[j]`. Other partition schemes avoid that check only because their pivot element is guaranteed to exist between indices i and j.","body":"Where did you get that pseudocode? It&#39;s incorrect since the inner while loops need to check whether i and j are in bounds before retrieving <code>A[i]</code> and <code>A[j]</code>. Other partition schemes avoid that check only because their pivot element is guaranteed to exist between indices i and j."},{"owner":{"account_id":19900483,"reputation":11,"user_id":14580580,"display_name":"leomarrg1"},"score":0,"creation_date":1646957841,"post_id":71431829,"comment_id":126258570,"body_markdown":"It&#39;s from a powerpoint from class. I used another pseudocode to fix it. Thanks for the help.","body":"It&#39;s from a powerpoint from class. I used another pseudocode to fix it. Thanks for the help."}],"answers":[{"tags":[],"owner":{"account_id":19900483,"reputation":11,"user_id":14580580,"display_name":"leomarrg1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646957778,"creation_date":1646957778,"answer_id":71432278,"question_id":71431829,"body_markdown":"I used another pseudocode from class to fix this.\r\nThis is the pseudocode:\r\n```\r\n//ft is first element, lt is last element\r\npivot := array[ft]\r\ni := ft + 1;\r\n\r\nfor j:= ft + 1 to array length do\r\n  if array[j] &lt; pivot\r\n  swap array[j] and array[i]\r\nswap array[ft] and array[i - 1]\r\nreturn i -1\r\n```\r\nAnd this is the partition method:\r\n```\r\nstatic int partition(int []array, int ft, int lt) {\r\n\t\t\r\n\t\tint pivot = array[ft];\r\n\t\tint i = ft + 1;\r\n\t\t\r\n\t\tfor(int j = ft + 1; j &lt; array.length; j ++) {\r\n\t\t\tif(array[j] &lt; pivot) {\r\n\t\t\t\tint temp = 0;\r\n\t\t\t\ttemp = array[j];\r\n\t\t\t\tarray[j] = array[i];\r\n\t\t\t\tarray[i] = temp;\r\n\t\t\t\ti = i + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tint temp2 = array[ft];\r\n\t\tarray[ft] = array[i-1];\r\n\t\tarray[i-1] = temp2;\r\n\t\t\r\n\t\treturn i - 1;\r\n\t}\r\n```","title":"How to avoid my index going out of bounds in quicksort?","body":"<p>I used another pseudocode from class to fix this.\nThis is the pseudocode:</p>\n<pre><code>//ft is first element, lt is last element\npivot := array[ft]\ni := ft + 1;\n\nfor j:= ft + 1 to array length do\n  if array[j] &lt; pivot\n  swap array[j] and array[i]\nswap array[ft] and array[i - 1]\nreturn i -1\n</code></pre>\n<p>And this is the partition method:</p>\n<pre><code>static int partition(int []array, int ft, int lt) {\n        \n        int pivot = array[ft];\n        int i = ft + 1;\n        \n        for(int j = ft + 1; j &lt; array.length; j ++) {\n            if(array[j] &lt; pivot) {\n                int temp = 0;\n                temp = array[j];\n                array[j] = array[i];\n                array[i] = temp;\n                i = i + 1;\n            }\n        }\n        int temp2 = array[ft];\n        array[ft] = array[i-1];\n        array[i-1] = temp2;\n        \n        return i - 1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647397019,"creation_date":1647397019,"answer_id":71491093,"question_id":71431829,"body_markdown":"Example of a post decrementing | incrementing Hoare partition scheme:\r\n\r\n    void QuickSort(int *a, int lo, int hi)\r\n    {\r\n    int i, j;\r\n    int p, t;\r\n        if(lo &gt;= hi)\r\n            return;\r\n        p = a[lo + (hi-lo)/2];\r\n        i = lo;\r\n        j = hi;\r\n        while (i &lt;= j){\r\n            while (a[i] &lt; p)i++;\r\n            while (a[j] &gt; p)j--;\r\n                if (i &gt; j)\r\n                    break;\r\n                t = a[i];\r\n                a[i] = a[j];\r\n                a[j] = t;\r\n                i++;\r\n                j--;\r\n        }\r\n        QuickSort(a, lo, j);\r\n        QuickSort(a, i, hi);\r\n    }\r\n","title":"How to avoid my index going out of bounds in quicksort?","body":"<p>Example of a post decrementing | incrementing Hoare partition scheme:</p>\n<pre><code>void QuickSort(int *a, int lo, int hi)\n{\nint i, j;\nint p, t;\n    if(lo &gt;= hi)\n        return;\n    p = a[lo + (hi-lo)/2];\n    i = lo;\n    j = hi;\n    while (i &lt;= j){\n        while (a[i] &lt; p)i++;\n        while (a[j] &gt; p)j--;\n            if (i &gt; j)\n                break;\n            t = a[i];\n            a[i] = a[j];\n            a[j] = t;\n            i++;\n            j--;\n    }\n    QuickSort(a, lo, j);\n    QuickSort(a, i, hi);\n}\n</code></pre>\n"}],"owner":{"account_id":19900483,"reputation":11,"user_id":14580580,"display_name":"leomarrg1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647397019,"creation_date":1646953772,"question_id":71431829,"body_markdown":"I&#39;m trying implementing a pseudocode of quicksort that chooses the different elements as pivot, such as first element as pivot, last element as pivot, random element as pivot, and median element as pivot. First i&#39;m working on the first element as pivot, but if the pivot is the greatest number in the array the index will grow to be greater than the length of the array causing an **index out of bounds for length**. The quicksort implementation works for when the pivot is the first element of the array and the first element of the array is the smallest. The error happens at line 27 when the pivot (in this case) is 8, it will stay at the `while([i] &lt; pivot)` adding 1 to `i`.\r\n\r\nHow can i avoid this?\r\n\r\nThis is the pseudocode i&#39;m using:\r\n```\\\r\nPartition(A, p, r):\r\npivot ← A[p]`\r\ni ← p + 1\r\nj ← r\r\n while i ≤ j\r\n   while A[i] &lt; pivot\r\n     i ← i + 1\r\n   while A[j] &gt; pivot\r\n     j ← j - 1\r\n if i &lt; j\r\n swap A[i] with A[j]\r\nswap A[p] with A[j]\r\nreturn j\r\n```\r\nAnd this is my code:\r\n```\r\npublic class QuickSort {\r\n\t//this global variable counts the comparisons\r\n\tstatic long countComp = 0;\r\n\t\r\n\tstatic void quickSort(int []array, int ft, int lt) {\r\n\t\t\t\r\n\t\tif(ft &lt; lt) {\r\n\t\t\t\t\t\r\n\t\t\tint q = partitionFtE(array, ft, lt);\r\n\t\t\tquickSort(array, ft, q - 1);\r\n\t\t\tquickSort(array, q + 1, lt);\t\r\n\t\t}\t\r\n\t}\t\r\n\t//this method does quicksort with first element as pivot, ft = first element, lt = last element\r\n\tstatic int partitionFtE(int []array, int ft, int lt) {\t\t\t\r\n\r\n\t\tint pivot = array[ft];\t\t\r\n\t\t\r\n\t\tint i = ft + 1;\r\n\t\t\r\n\t\tint j = lt;\r\n\t\t\r\n\t\twhile(i &lt;= j){\r\n\t\t\twhile(array[i] &lt; pivot) {\t\t\t\t\r\n\t\t\t\ti = i + 1;\r\n\t\t\t}\t\t\t\r\n\t\t\twhile(array[j] &gt; pivot) {\r\n\t\t\t\tj = j - 1;\t\t\t\t\r\n\t\t\t}\r\n\t\t\t//here we swap elements if i is lower than j\r\n\t        countComp++;\r\n\t\t\tif(i &lt; j) {\r\n\t\t\t\tint temp = 0;\r\n\t\t\t\ttemp = array[i];\r\n\t\t\t\tarray[i] = array[j];\r\n\t\t\t\tarray[j] = temp;\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t\t//here we change the pivot where it suppose to be in the array\r\n\t\tint temp2 = array[i];\r\n\t\ttemp2 = array[ft];\r\n\t\tarray[ft] = array[j];\r\n\t\tarray[j] = temp2;\t\r\n\t\t\r\n\t\treturn j;\t\r\n\t}\t\t\r\n\tstatic void printArray(int []array) {\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; array.length; i++) {\r\n\t\t\t\r\n\t\t\tSystem.out.print(array[i] + &quot; &quot;);\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\n&quot; + countComp);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t//    int choice = menuData();\r\n\t   int[] intArray = {8, 7, 6, 5, 4, 3, 2, 1};\r\n\t   int n = intArray.length;\t   \r\n\t    \r\n\t    quickSort(intArray, 0, n - 1);\r\n\t    System.out.println(&quot;Sorted array: &quot;);\r\n\t    printArray(intArray);    \r\n\t}\r\n}\r\n```\r\n   ","title":"How to avoid my index going out of bounds in quicksort?","body":"<p>I'm trying implementing a pseudocode of quicksort that chooses the different elements as pivot, such as first element as pivot, last element as pivot, random element as pivot, and median element as pivot. First i'm working on the first element as pivot, but if the pivot is the greatest number in the array the index will grow to be greater than the length of the array causing an <strong>index out of bounds for length</strong>. The quicksort implementation works for when the pivot is the first element of the array and the first element of the array is the smallest. The error happens at line 27 when the pivot (in this case) is 8, it will stay at the <code>while([i] &lt; pivot)</code> adding 1 to <code>i</code>.</p>\n<p>How can i avoid this?</p>\n<p>This is the pseudocode i'm using:</p>\n<pre><code>Partition(A, p, r):\npivot ← A[p]`\ni ← p + 1\nj ← r\n while i ≤ j\n   while A[i] &lt; pivot\n     i ← i + 1\n   while A[j] &gt; pivot\n     j ← j - 1\n if i &lt; j\n swap A[i] with A[j]\nswap A[p] with A[j]\nreturn j\n</code></pre>\n<p>And this is my code:</p>\n<pre><code>public class QuickSort {\n    //this global variable counts the comparisons\n    static long countComp = 0;\n    \n    static void quickSort(int []array, int ft, int lt) {\n            \n        if(ft &lt; lt) {\n                    \n            int q = partitionFtE(array, ft, lt);\n            quickSort(array, ft, q - 1);\n            quickSort(array, q + 1, lt);    \n        }   \n    }   \n    //this method does quicksort with first element as pivot, ft = first element, lt = last element\n    static int partitionFtE(int []array, int ft, int lt) {          \n\n        int pivot = array[ft];      \n        \n        int i = ft + 1;\n        \n        int j = lt;\n        \n        while(i &lt;= j){\n            while(array[i] &lt; pivot) {               \n                i = i + 1;\n            }           \n            while(array[j] &gt; pivot) {\n                j = j - 1;              \n            }\n            //here we swap elements if i is lower than j\n            countComp++;\n            if(i &lt; j) {\n                int temp = 0;\n                temp = array[i];\n                array[i] = array[j];\n                array[j] = temp;\n            }       \n        }\n        //here we change the pivot where it suppose to be in the array\n        int temp2 = array[i];\n        temp2 = array[ft];\n        array[ft] = array[j];\n        array[j] = temp2;   \n        \n        return j;   \n    }       \n    static void printArray(int []array) {\n        \n        for(int i = 0; i &lt; array.length; i++) {\n            \n            System.out.print(array[i] + &quot; &quot;);           \n        }\n        \n        System.out.println(&quot;\\n&quot; + countComp);\n    }\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n    //    int choice = menuData();\n       int[] intArray = {8, 7, 6, 5, 4, 3, 2, 1};\n       int n = intArray.length;    \n        \n        quickSort(intArray, 0, n - 1);\n        System.out.println(&quot;Sorted array: &quot;);\n        printArray(intArray);    \n    }\n}\n</code></pre>\n"},{"tags":["java","android","database","android-studio","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647397013,"creation_date":1647396674,"answer_id":71491073,"question_id":71490186,"body_markdown":"If you simply want a Customer to have 1 phone, then you have have a single column (member variable) for the relationship that will store the phone&#39;s product id.\r\n\r\ne.g.\r\n\r\n    private int mapToPhone; //&lt;&lt;&lt;&lt;&lt; ADDED no need for @ColumnInfo the column name will be as per the variable name.\r\n\r\nObviously you set the value to an appropriate value.\r\n\r\nTo then get the Customer with the phone&#39;s details then you have a POJO that embeds the parent (Customer) using the `@Embedded` annotation has the child (Phone) using the `@Relation` annotation.\r\n\r\ne.g. :-\r\n\r\n    class CustomerWithPhoneDetails {\r\n       @Embedded\r\n       Customer customer;\r\n       @Relation(\r\n               entity = Phone.class,\r\n               parentColumn = &quot;mapToPhone&quot;,\r\n               entityColumn = &quot;productId&quot;\r\n       )\r\n       Phone phoneDetails;\r\n    }\r\n\r\nYou can then have a method in the @Dao annotated interface/abstract class which queries the parent table BUT returns the POJO or list/array of the POJO e.g. :-\r\n\r\n    @Query(&quot;SELECT * FROM Customer&quot;)\r\n    abstract List&lt;CustomerWithPhoneDetails&gt; getAllCustomersWithPhoneDeytails();\r\n\r\n**Example**\r\n\r\nBased upon your code, and the additional example code along with an `@Database` annotated abstract class :-\r\n\r\n    @Database(entities = {Customer.class,Phone.class}, version = 1, exportSchema = false)\r\n    abstract class TheDatabase extends RoomDatabase {\r\n        abstract AllDao getAllDao();\r\n    \r\n        private static volatile TheDatabase instance = null;\r\n    \r\n        public static TheDatabase getInstance(Context context) {\r\n            if (instance == null) {\r\n                instance = Room.databaseBuilder(context,TheDatabase.class,&quot;the_database.db&quot;)\r\n                        .allowMainThreadQueries()\r\n                        .build();\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\nand an Activity e.g. :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TheDatabase db;\r\n        AllDao dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            db = TheDatabase.getInstance(this);\r\n            dao = db.getAllDao();\r\n    \r\n            long phone01ProductId = dao.insert(new Phone(&quot;PhoneMaker001&quot;,&quot;Model001&quot;,&quot;Color001&quot;,&quot;100Mb&quot;,111.11F));\r\n            long phone02ProductId = dao.insert(new Phone(&quot;PhoneMaker002&quot;,&quot;Model002&quot;,&quot;Color002&quot;,&quot;200Mb&quot;,222.22F));\r\n    \r\n            dao.insert(new Customer(&quot;c001&quot;,&quot;password001&quot;,&quot;firstname001&quot;,&quot;lastname001&quot;,&quot;address001&quot;,&quot;city001&quot;,&quot;country001&quot;,&quot;postcode001&quot;,(int) phone01ProductId));\r\n            dao.insert(new Customer(&quot;c002&quot;,&quot;password002&quot;,&quot;firstname002&quot;,&quot;lastname002&quot;,&quot;address002&quot;,&quot;city002&quot;,&quot;country002&quot;,&quot;postcode002&quot;,(int) phone02ProductId));\r\n    \r\n            for(CustomerWithPhoneDetails cwpd: dao.getAllCustomersWithPhoneDeytails()) {\r\n                Log.d(&quot;DBINFO&quot;,&quot;Customer is &quot; + cwpd.customer.getUserName() + &quot; etc.  Phone is &quot; + cwpd.phoneDetails.getProductId() + &quot; etc.&quot; );\r\n            }\r\n        }\r\n    }\r\n\r\n- Note that suitable constructors have been coded in both the Phone and Customer class *(default/empty constructor and one, annotated with `@Ignore` annotation that allows all values bar the id to be passed as used in the example below)*\r\n\r\n- Note that ideally long rather than int should be used for the id columns.\r\n\r\n**Results**\r\n\r\n**The Log** :-\r\n\r\n    D/DBINFO: Customer is c001 etc.  Phone is 1 etc.\r\n    D/DBINFO: Customer is c002 etc.  Phone is 2 etc.\r\n\r\n**App Inspection** :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yrq34.png\r\n  [2]: https://i.stack.imgur.com/tEoT4.png","title":"How do I set up a Foreign Key","body":"<p>If you simply want a Customer to have 1 phone, then you have have a single column (member variable) for the relationship that will store the phone's product id.</p>\n<p>e.g.</p>\n<pre><code>private int mapToPhone; //&lt;&lt;&lt;&lt;&lt; ADDED no need for @ColumnInfo the column name will be as per the variable name.\n</code></pre>\n<p>Obviously you set the value to an appropriate value.</p>\n<p>To then get the Customer with the phone's details then you have a POJO that embeds the parent (Customer) using the <code>@Embedded</code> annotation has the child (Phone) using the <code>@Relation</code> annotation.</p>\n<p>e.g. :-</p>\n<pre><code>class CustomerWithPhoneDetails {\n   @Embedded\n   Customer customer;\n   @Relation(\n           entity = Phone.class,\n           parentColumn = &quot;mapToPhone&quot;,\n           entityColumn = &quot;productId&quot;\n   )\n   Phone phoneDetails;\n}\n</code></pre>\n<p>You can then have a method in the @Dao annotated interface/abstract class which queries the parent table BUT returns the POJO or list/array of the POJO e.g. :-</p>\n<pre><code>@Query(&quot;SELECT * FROM Customer&quot;)\nabstract List&lt;CustomerWithPhoneDetails&gt; getAllCustomersWithPhoneDeytails();\n</code></pre>\n<p><strong>Example</strong></p>\n<p>Based upon your code, and the additional example code along with an <code>@Database</code> annotated abstract class :-</p>\n<pre><code>@Database(entities = {Customer.class,Phone.class}, version = 1, exportSchema = false)\nabstract class TheDatabase extends RoomDatabase {\n    abstract AllDao getAllDao();\n\n    private static volatile TheDatabase instance = null;\n\n    public static TheDatabase getInstance(Context context) {\n        if (instance == null) {\n            instance = Room.databaseBuilder(context,TheDatabase.class,&quot;the_database.db&quot;)\n                    .allowMainThreadQueries()\n                    .build();\n        }\n        return instance;\n    }\n}\n</code></pre>\n<p>and an Activity e.g. :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TheDatabase db;\n    AllDao dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        db = TheDatabase.getInstance(this);\n        dao = db.getAllDao();\n\n        long phone01ProductId = dao.insert(new Phone(&quot;PhoneMaker001&quot;,&quot;Model001&quot;,&quot;Color001&quot;,&quot;100Mb&quot;,111.11F));\n        long phone02ProductId = dao.insert(new Phone(&quot;PhoneMaker002&quot;,&quot;Model002&quot;,&quot;Color002&quot;,&quot;200Mb&quot;,222.22F));\n\n        dao.insert(new Customer(&quot;c001&quot;,&quot;password001&quot;,&quot;firstname001&quot;,&quot;lastname001&quot;,&quot;address001&quot;,&quot;city001&quot;,&quot;country001&quot;,&quot;postcode001&quot;,(int) phone01ProductId));\n        dao.insert(new Customer(&quot;c002&quot;,&quot;password002&quot;,&quot;firstname002&quot;,&quot;lastname002&quot;,&quot;address002&quot;,&quot;city002&quot;,&quot;country002&quot;,&quot;postcode002&quot;,(int) phone02ProductId));\n\n        for(CustomerWithPhoneDetails cwpd: dao.getAllCustomersWithPhoneDeytails()) {\n            Log.d(&quot;DBINFO&quot;,&quot;Customer is &quot; + cwpd.customer.getUserName() + &quot; etc.  Phone is &quot; + cwpd.phoneDetails.getProductId() + &quot; etc.&quot; );\n        }\n    }\n}\n</code></pre>\n<ul>\n<li><p>Note that suitable constructors have been coded in both the Phone and Customer class <em>(default/empty constructor and one, annotated with <code>@Ignore</code> annotation that allows all values bar the id to be passed as used in the example below)</em></p>\n</li>\n<li><p>Note that ideally long rather than int should be used for the id columns.</p>\n</li>\n</ul>\n<p><strong>Results</strong></p>\n<p><strong>The Log</strong> :-</p>\n<pre><code>D/DBINFO: Customer is c001 etc.  Phone is 1 etc.\nD/DBINFO: Customer is c002 etc.  Phone is 2 etc.\n</code></pre>\n<p><strong>App Inspection</strong> :-</p>\n<p><a href=\"https://i.stack.imgur.com/yrq34.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yrq34.png\" alt=\"enter image description here\" /></a></p>\n<p>and :-</p>\n<p><a href=\"https://i.stack.imgur.com/tEoT4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tEoT4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24176118,"reputation":73,"user_id":18137465,"display_name":"user18137465"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71491073,"answer_count":1,"score":0,"last_activity_date":1647397013,"creation_date":1647387260,"question_id":71490186,"body_markdown":"What I have setup are two tables, one for a user created account, and the other that lets the user buy a product.\r\n\r\nI have both tables set up like so\r\n\r\n**Customer Table**\r\n```\r\n@PrimaryKey(autoGenerate = true)\r\n    private int custId;\r\n\r\n    @ColumnInfo(name = &quot;user_name&quot;)\r\n    private String userName;\r\n\r\n    @ColumnInfo(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @ColumnInfo(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @ColumnInfo(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @ColumnInfo(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @ColumnInfo(name = &quot;city&quot;)\r\n    private String city;\r\n\r\n    @ColumnInfo(name = &quot;postal_code&quot;)\r\n    private String postalCode;\r\n\r\n    @ColumnInfo(name = &quot;country&quot;)\r\n    private String country;\r\n```\r\n**Phone Table**\r\n```\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    private int productId;\r\n    private String phoneMake;\r\n    private String phoneModel;\r\n    private String phoneColor;\r\n    private String storageCapacity;\r\n    private Float  price;\r\n```\r\n\r\nWhat I have set up are two foreign keys, one in each table. My last table is for ordering the phones, which requires using both Primary Keys from each table. What I feel like I need is a ForeignKey, similar in vein to the PrimaryKey already created. The problem is that I am unsure how to implement that into the program. Everything I try doing is not working. I have looked at the documentation, but nothing clicks. I hope you can help me with the correct screenshot. If more is needed let me know (This code is written in Java code)","title":"How do I set up a Foreign Key","body":"<p>What I have setup are two tables, one for a user created account, and the other that lets the user buy a product.</p>\n<p>I have both tables set up like so</p>\n<p><strong>Customer Table</strong></p>\n<pre><code>@PrimaryKey(autoGenerate = true)\n    private int custId;\n\n    @ColumnInfo(name = &quot;user_name&quot;)\n    private String userName;\n\n    @ColumnInfo(name = &quot;password&quot;)\n    private String password;\n\n    @ColumnInfo(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @ColumnInfo(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @ColumnInfo(name = &quot;address&quot;)\n    private String address;\n\n    @ColumnInfo(name = &quot;city&quot;)\n    private String city;\n\n    @ColumnInfo(name = &quot;postal_code&quot;)\n    private String postalCode;\n\n    @ColumnInfo(name = &quot;country&quot;)\n    private String country;\n</code></pre>\n<p><strong>Phone Table</strong></p>\n<pre><code>\n    @PrimaryKey(autoGenerate = true)\n    private int productId;\n    private String phoneMake;\n    private String phoneModel;\n    private String phoneColor;\n    private String storageCapacity;\n    private Float  price;\n</code></pre>\n<p>What I have set up are two foreign keys, one in each table. My last table is for ordering the phones, which requires using both Primary Keys from each table. What I feel like I need is a ForeignKey, similar in vein to the PrimaryKey already created. The problem is that I am unsure how to implement that into the program. Everything I try doing is not working. I have looked at the documentation, but nothing clicks. I hope you can help me with the correct screenshot. If more is needed let me know (This code is written in Java code)</p>\n"},{"tags":["java","generics","reflection","interface"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647396604,"creation_date":1647363376,"answer_id":71486112,"question_id":71485301,"body_markdown":"PECS (Producer-Extends, Consumer-Super) is the problem. Given a `List&lt;Number&gt;`, you can, of course, call `.add(someDouble)`. Therefore, a `List&lt;Integer&gt;` __cannot__ be passed when a `List&lt;Number&gt;` is required. This &#39;write&#39; concept just doesn&#39;t apply to `Class&lt;X&gt;`, but java doesn&#39;t &#39;know&#39; that and therefore won&#39;t let you pass a `Class&lt;SomeImpl&gt;` when a `Class&lt;TheInterface&gt;` is required.\r\n\r\nPECS is kind of a misnomer; it&#39;s written from the point of view of the genericsed type (so, List, Class, etc). If the class only produces stuff and will not be consuming anything of the generic type, which is the case here, PECS states you should be using `extends`.\r\n\r\nHence, `public void load&lt;Class&lt;? extends MyInterface&gt; clazz)` is what you want.\r\n\r\nA few notes:\r\n\r\n* Generics serves to link things. If you declare a generic variable and you use it in 0 or 1 places, then you&#39;re messing up _or_ hacking java&#39;s type system (there are legitimate cases where that&#39;s a good idea, but quite rare). Given that you don&#39;t need that T anywhere, you&#39;d be messing up. Just use `?` instead.\r\n* Mixing generics and `Class` is usually bad. There are things `Class` can represent, such as `int` (`Class&lt;?&gt; c = int.class;` is valid java), which generics can&#39;t (`List&lt;int&gt;` is not valid java), and vice versa things generics can represent that class cant. You cannot have an instance of `java.lang.Class` that represents `List&lt;String&gt;` (only List - the raw type). `Class&lt;List&lt;String&gt;&gt;` isn&#39;t a thing; `List&lt;String&gt;.class` does not work. `List&lt;List&lt;String&gt;&gt;` does work.\r\n* Whatever made you think: I know! I&#39;ll make an interface, use generics, and make a `Class&lt;? extends MyInterface&gt;` - that was likely a mistake. You didn&#39;t explain what made you think you needed this. Most likely, the right answer is a factory. A factory is, essentially, an abstraction for constructors.\r\n","title":"Java restricting Class&lt;&gt; to specific types","body":"<p>PECS (Producer-Extends, Consumer-Super) is the problem. Given a <code>List&lt;Number&gt;</code>, you can, of course, call <code>.add(someDouble)</code>. Therefore, a <code>List&lt;Integer&gt;</code> <strong>cannot</strong> be passed when a <code>List&lt;Number&gt;</code> is required. This 'write' concept just doesn't apply to <code>Class&lt;X&gt;</code>, but java doesn't 'know' that and therefore won't let you pass a <code>Class&lt;SomeImpl&gt;</code> when a <code>Class&lt;TheInterface&gt;</code> is required.</p>\n<p>PECS is kind of a misnomer; it's written from the point of view of the genericsed type (so, List, Class, etc). If the class only produces stuff and will not be consuming anything of the generic type, which is the case here, PECS states you should be using <code>extends</code>.</p>\n<p>Hence, <code>public void load&lt;Class&lt;? extends MyInterface&gt; clazz)</code> is what you want.</p>\n<p>A few notes:</p>\n<ul>\n<li>Generics serves to link things. If you declare a generic variable and you use it in 0 or 1 places, then you're messing up <em>or</em> hacking java's type system (there are legitimate cases where that's a good idea, but quite rare). Given that you don't need that T anywhere, you'd be messing up. Just use <code>?</code> instead.</li>\n<li>Mixing generics and <code>Class</code> is usually bad. There are things <code>Class</code> can represent, such as <code>int</code> (<code>Class&lt;?&gt; c = int.class;</code> is valid java), which generics can't (<code>List&lt;int&gt;</code> is not valid java), and vice versa things generics can represent that class cant. You cannot have an instance of <code>java.lang.Class</code> that represents <code>List&lt;String&gt;</code> (only List - the raw type). <code>Class&lt;List&lt;String&gt;&gt;</code> isn't a thing; <code>List&lt;String&gt;.class</code> does not work. <code>List&lt;List&lt;String&gt;&gt;</code> does work.</li>\n<li>Whatever made you think: I know! I'll make an interface, use generics, and make a <code>Class&lt;? extends MyInterface&gt;</code> - that was likely a mistake. You didn't explain what made you think you needed this. Most likely, the right answer is a factory. A factory is, essentially, an abstraction for constructors.</li>\n</ul>\n"}],"owner":{"account_id":9240438,"reputation":17,"user_id":13569490,"display_name":"nunam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71486112,"answer_count":1,"score":-1,"last_activity_date":1647396604,"creation_date":1647360092,"question_id":71485301,"body_markdown":"I am very new to Java generics and **Class&lt;&gt; clazz** type, I have an interface \r\n```\r\npublic interface MyInterface {\r\nvoid doSomething(String arg1);\r\n}\r\n```\r\nwhich is implemented by multiple classes\r\n```\r\nclass MyInterfaceImplFirst implements MyInterface {\r\n  private arg;\r\n  public MyInterfaceImplFirst(String arg) {\r\n    this.arg = arg;\r\n  }\r\n\r\n  @Override\r\n  void doSomething(String arg1) {\r\n    //...\r\n  }\r\n}\r\n\r\nclass MyInterfaceImplSecond implements MyInterface {\r\n  private arg;\r\n  public MyInterfaceImplSecond(String arg) {\r\n    this.arg = arg;\r\n  }\r\n\r\n  @Override\r\n  void doSomething(String arg1) {\r\n    //...\r\n  }\r\n}\r\n```\r\n\r\nI have a class that accepts ```Class&lt;MyInterface&gt; type```\r\n```\r\npublic class Dummy {\r\n  public void load(Class&lt;MyInterface&gt; clazz) {\r\n    //...\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    Dummy dummy = new Dummy();\r\n    //The below does not compile\r\n    dummy.load(MyInterfaceImplFirst.class);\r\n  }\r\n}\r\n```\r\n\r\nIf I change the load method to **public void load(Class clazz)** it works fine, can someone tell me how to restrict arguments to load method to be only of subtypes(impl) of **MyInterface** ?","title":"Java restricting Class&lt;&gt; to specific types","body":"<p>I am very new to Java generics and <strong>Class&lt;&gt; clazz</strong> type, I have an interface</p>\n<pre><code>public interface MyInterface {\nvoid doSomething(String arg1);\n}\n</code></pre>\n<p>which is implemented by multiple classes</p>\n<pre><code>class MyInterfaceImplFirst implements MyInterface {\n  private arg;\n  public MyInterfaceImplFirst(String arg) {\n    this.arg = arg;\n  }\n\n  @Override\n  void doSomething(String arg1) {\n    //...\n  }\n}\n\nclass MyInterfaceImplSecond implements MyInterface {\n  private arg;\n  public MyInterfaceImplSecond(String arg) {\n    this.arg = arg;\n  }\n\n  @Override\n  void doSomething(String arg1) {\n    //...\n  }\n}\n</code></pre>\n<p>I have a class that accepts <code>Class&lt;MyInterface&gt; type</code></p>\n<pre><code>public class Dummy {\n  public void load(Class&lt;MyInterface&gt; clazz) {\n    //...\n  }\n\n  public static void main(String[] args) {\n    Dummy dummy = new Dummy();\n    //The below does not compile\n    dummy.load(MyInterfaceImplFirst.class);\n  }\n}\n</code></pre>\n<p>If I change the load method to <strong>public void load(Class clazz)</strong> it works fine, can someone tell me how to restrict arguments to load method to be only of subtypes(impl) of <strong>MyInterface</strong> ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1647393903,"post_id":71490689,"comment_id":126358522,"body_markdown":"It&#39;s telling you precisely what the error is.  What isn&#39;t clear?","body":"It&#39;s telling you precisely what the error is.  What isn&#39;t clear?"},{"owner":{"account_id":14396250,"reputation":412,"user_id":10399467,"display_name":"qingmu"},"score":0,"creation_date":1647397066,"post_id":71490689,"comment_id":126359035,"body_markdown":"This line of error message is very important：`@Order on WebSecurityConfigurers must be unique. Order of 100 was already used on`.","body":"This line of error message is very important：<code>@Order on WebSecurityConfigurers must be unique. Order of 100 was already used on</code>."}],"answers":[{"tags":[],"owner":{"account_id":14670261,"reputation":46,"user_id":10594918,"display_name":"Monika Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647393480,"creation_date":1647393480,"answer_id":71490790,"question_id":71490689,"body_markdown":"It is because of the clash of order for defined beans in `WebSecurityConfiguration`. \r\nConsider changing the @Order in your `WebSecurityConfiguration` to `@Order(HIGHEST_PRECEDENCE)`","title":"Spring, Java, ERROR 21298 --- [ restartedMain] o.s.boot.SpringApplication : Application run failed","body":"<p>It is because of the clash of order for defined beans in <code>WebSecurityConfiguration</code>.\nConsider changing the @Order in your <code>WebSecurityConfiguration</code> to <code>@Order(HIGHEST_PRECEDENCE)</code></p>\n"},{"tags":[],"owner":{"account_id":4678173,"reputation":2456,"user_id":3787750,"accept_rate":48,"display_name":"Ekansh Rastogi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647395637,"creation_date":1647395637,"answer_id":71490974,"question_id":71490689,"body_markdown":"Check the first line of the exception\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: \r\n\r\nInjection of autowired dependencies failed; nested exception is java.lang.IllegalStateException:\r\n\r\n @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on \r\ncom.in28minutes.rest.webservices.restfulwebservices.basic.auth.SpringSecurityConfigurationBasicAuth$$EnhancerBySpringCGLIB$$7b458e9b@943b787, \r\n\r\nso it cannot be used on \r\ncom.in28minutes.rest.webservices.restfulwebservices.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$4788984a@3a4bd63c too.\r\n ```\r\n\r\n\r\n1. What does this tell you ??\r\n - Your application did not start because spring could not create a bean.\r\n\r\n2. What bean was not created ?\r\n - WebSecurityConfiguration\r\n\r\n3. Why it failed to create the bean ?\r\n - ` @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on `\r\n\r\nSolution, \r\nJust change the value of the @Order annotation, so that it does not conflict with any other.\r\n\r\nTry using \r\n- @Order(HIGHEST_PRECEDENCE)\r\n- @Order(1)\r\nor any other value depending on your case.","title":"Spring, Java, ERROR 21298 --- [ restartedMain] o.s.boot.SpringApplication : Application run failed","body":"<p>Check the first line of the exception</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': \n\nInjection of autowired dependencies failed; nested exception is java.lang.IllegalStateException:\n\n @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on \ncom.in28minutes.rest.webservices.restfulwebservices.basic.auth.SpringSecurityConfigurationBasicAuth$$EnhancerBySpringCGLIB$$7b458e9b@943b787, \n\nso it cannot be used on \ncom.in28minutes.rest.webservices.restfulwebservices.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$4788984a@3a4bd63c too.\n</code></pre>\n<ol>\n<li>What does this tell you ??</li>\n</ol>\n<ul>\n<li>Your application did not start because spring could not create a bean.</li>\n</ul>\n<ol start=\"2\">\n<li>What bean was not created ?</li>\n</ol>\n<ul>\n<li>WebSecurityConfiguration</li>\n</ul>\n<ol start=\"3\">\n<li>Why it failed to create the bean ?</li>\n</ol>\n<ul>\n<li><code>@Order on WebSecurityConfigurers must be unique. Order of 100 was already used on</code></li>\n</ul>\n<p>Solution,\nJust change the value of the @Order annotation, so that it does not conflict with any other.</p>\n<p>Try using</p>\n<ul>\n<li>@Order(HIGHEST_PRECEDENCE)</li>\n<li>@Order(1)\nor any other value depending on your case.</li>\n</ul>\n"}],"owner":{"account_id":16454114,"reputation":1,"user_id":14137901,"display_name":"Lareina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647395637,"creation_date":1647392409,"question_id":71490689,"body_markdown":"Spring, Java, ERROR 21298 --- [  restartedMain] o.s.boot.SpringApplication : Application run failed.\r\nBeginner of Spring/Maven, don&#39;t know why the application run failed. Very confused.\r\n\r\nThis is the pom.xml file. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.in28minutes.rest.webservices&lt;/groupId&gt;\r\n        &lt;artifactId&gt;restful-web-services&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;restful-web-services&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n            &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nResults:\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-03-15 17:39:12.433 ERROR 21298 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.in28minutes.rest.webservices.restfulwebservices.basic.auth.SpringSecurityConfigurationBasicAuth$$EnhancerBySpringCGLIB$$7b458e9b@943b787, so it cannot be used on com.in28minutes.rest.webservices.restfulwebservices.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$4788984a@3a4bd63c too.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:380) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1378) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:846) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:863) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n    \tat com.in28minutes.rest.webservices.restfulwebservices.RestfulWebServicesApplication.main(RestfulWebServicesApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    ```\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n    Caused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.in28minutes.rest.webservices.restfulwebservices.basic.auth.SpringSecurityConfigurationBasicAuth$$EnhancerBySpringCGLIB$$7b458e9b@943b787, so it cannot be used on com.in28minutes.rest.webservices.restfulwebservices.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$4788984a@3a4bd63c too.\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:148) ~[spring-security-config-5.1.1.RELEASE.jar:5.1.1.RELEASE]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:708) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n    \t... 22 common frames omitted\r\n\r\n-----","title":"Spring, Java, ERROR 21298 --- [ restartedMain] o.s.boot.SpringApplication : Application run failed","body":"<p>Spring, Java, ERROR 21298 --- [  restartedMain] o.s.boot.SpringApplication : Application run failed.\nBeginner of Spring/Maven, don't know why the application run failed. Very confused.</p>\n<p>This is the pom.xml file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.in28minutes.rest.webservices&lt;/groupId&gt;\n    &lt;artifactId&gt;restful-web-services&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;restful-web-services&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Results:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-03-15 17:39:12.433 ERROR 21298 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.in28minutes.rest.webservices.restfulwebservices.basic.auth.SpringSecurityConfigurationBasicAuth$$EnhancerBySpringCGLIB$$7b458e9b@943b787, so it cannot be used on com.in28minutes.rest.webservices.restfulwebservices.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$4788984a@3a4bd63c too.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:380) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1378) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:846) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:863) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at com.in28minutes.rest.webservices.restfulwebservices.RestfulWebServicesApplication.main(RestfulWebServicesApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n```\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nCaused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.in28minutes.rest.webservices.restfulwebservices.basic.auth.SpringSecurityConfigurationBasicAuth$$EnhancerBySpringCGLIB$$7b458e9b@943b787, so it cannot be used on com.in28minutes.rest.webservices.restfulwebservices.jwt.JWTWebSecurityConfig$$EnhancerBySpringCGLIB$$4788984a@3a4bd63c too.\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:148) ~[spring-security-config-5.1.1.RELEASE.jar:5.1.1.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:708) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    ... 22 common frames omitted\n</code></pre>\n<hr />\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1647387038,"post_id":71490137,"comment_id":126357381,"body_markdown":"What is your input? why do you not increment `j`? why skip b[0] ?","body":"What is your input? why do you not increment <code>j</code>? why skip b[0] ?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1647387275,"post_id":71490137,"comment_id":126357431,"body_markdown":"If `a` has no elements, then all it&#39;s elements are (by definition) in `b`.","body":"If <code>a</code> has no elements, then all it&#39;s elements are (by definition) in <code>b</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647387364,"post_id":71490137,"comment_id":126357451,"body_markdown":"Please produce a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>"},{"owner":{"account_id":11980108,"reputation":66,"user_id":18031053,"display_name":"Osman"},"score":0,"creation_date":1647387397,"post_id":71490137,"comment_id":126357457,"body_markdown":"You shouldn’t start j from i+1. It should start always from 0","body":"You shouldn’t start j from i+1. It should start always from 0"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1647387720,"post_id":71490137,"comment_id":126357516,"body_markdown":"Best way imo would be to turn them both into List&lt;Integer&gt; and use the containsAll() method to check.","body":"Best way imo would be to turn them both into List&lt;Integer&gt; and use the containsAll() method to check."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647387891,"creation_date":1647387891,"answer_id":71490263,"question_id":71490137,"body_markdown":"There are a couple of issues in your code as pointed out in the comments that are causing your code to return false, however, the other issue is that your return true if `a[i] == (b[j])` which will be true and cause a return if the first element in the array is a match regardless of the rest of the array and if it matches or not.\r\n\r\nHere is a working version with comments that help explain what has been changed:\r\n\r\n    public static boolean con(int[] a, int[] b) {\r\n\r\n    \t//Use a flag to track if the integers are found\r\n    \tBoolean flag = true;\r\n\r\n    \t//return false for null or 0 length\r\n    \tif (a == null || a.length == 0 || b == null || b.length == 0) {\r\n    \t    return false;\r\n    \t}\r\n\r\n    \t//Check integers\r\n    \tfor (int i = 0; i &lt; a.length; i++){\r\n\r\n    \t    //Use an inner flag to track each integer\r\n    \t    Boolean innerFlag = false;\r\n\r\n    \t    //Start the inner loop from 0 and incriment it\r\n    \t    //Only use j = i if you need the integers to be in order?\r\n    \t    for (int j = 0; j &lt; b.length; j++){\r\n    \t\t    if (a[i] == (b[j])) {\r\n                    //we can not return from the method until all elements are checked\r\n                    //so set the flag instead and break so the next element can be checked\r\n    \t\t        innerFlag = true;\r\n    \t\t        break;\r\n    \t\t    }\r\n    \t    }\r\n            //if an element does not exist we can set the flag false and break and return immediatly\r\n    \t    if (innerFlag == false){\r\n    \t\t    flag = false;\r\n    \t\t    break;\r\n    \t    }\r\n    \t}\r\n    \treturn flag;\r\n    }","title":"Return true if arrays contain the same items","body":"<p>There are a couple of issues in your code as pointed out in the comments that are causing your code to return false, however, the other issue is that your return true if <code>a[i] == (b[j])</code> which will be true and cause a return if the first element in the array is a match regardless of the rest of the array and if it matches or not.</p>\n<p>Here is a working version with comments that help explain what has been changed:</p>\n<pre><code>public static boolean con(int[] a, int[] b) {\n\n    //Use a flag to track if the integers are found\n    Boolean flag = true;\n\n    //return false for null or 0 length\n    if (a == null || a.length == 0 || b == null || b.length == 0) {\n        return false;\n    }\n\n    //Check integers\n    for (int i = 0; i &lt; a.length; i++){\n\n        //Use an inner flag to track each integer\n        Boolean innerFlag = false;\n\n        //Start the inner loop from 0 and incriment it\n        //Only use j = i if you need the integers to be in order?\n        for (int j = 0; j &lt; b.length; j++){\n            if (a[i] == (b[j])) {\n                //we can not return from the method until all elements are checked\n                //so set the flag instead and break so the next element can be checked\n                innerFlag = true;\n                break;\n            }\n        }\n        //if an element does not exist we can set the flag false and break and return immediatly\n        if (innerFlag == false){\n            flag = false;\n            break;\n        }\n    }\n    return flag;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24570881,"reputation":11,"user_id":18477319,"display_name":"Jose Nav&#237;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647388417,"creation_date":1647388417,"answer_id":71490318,"question_id":71490137,"body_markdown":"Why you use the int j = i + 1 and not just j to compare all b from the beginning of the array with j = 0... anyway if you change that and test it with two equals filled array it will give true at the first element, and if the array are different will give you true when both coincide, but you are not storing the results in any place, \r\nI think what you could do is add a counter with the length of a: \r\n\r\nfor (int i = 0; i &lt; a.length; i++) {\r\n            \r\n            for (int j = 0; j &lt; b.length; j++) {\r\n                \r\n                if (a[i] == (b[j])) {\r\n                    \r\n                    count--;\r\n                    \r\n                    if(count == 0)\r\n                    return true;\r\n                }\r\n\r\nIt kinda work, test it thoroughly and tell me.","title":"Return true if arrays contain the same items","body":"<p>Why you use the int j = i + 1 and not just j to compare all b from the beginning of the array with j = 0... anyway if you change that and test it with two equals filled array it will give true at the first element, and if the array are different will give you true when both coincide, but you are not storing the results in any place,\nI think what you could do is add a counter with the length of a:</p>\n<p>for (int i = 0; i &lt; a.length; i++) {</p>\n<pre><code>        for (int j = 0; j &lt; b.length; j++) {\n            \n            if (a[i] == (b[j])) {\n                \n                count--;\n                \n                if(count == 0)\n                return true;\n            }\n</code></pre>\n<p>It kinda work, test it thoroughly and tell me.</p>\n"},{"tags":[],"owner":{"account_id":24537002,"reputation":26,"user_id":18447954,"display_name":"Lucas C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647389216,"creation_date":1647389216,"answer_id":71490399,"question_id":71490137,"body_markdown":"If you really want to do it manually, you could use something like this:\r\n\r\n```\r\nprivate static boolean containsAll(Integer[] arrayA, Integer[] arrayB) {\r\n        Set&lt;Integer&gt; matches = new HashSet&lt;&gt;();\r\n        boolean containsAll = false;\r\n\r\n        for (int i = 0; i &lt; arrayA.length; i++) {\r\n            for (int j = 0; j &lt; arrayB.length; j++) {\r\n                if (arrayA[i] == arrayB[j]) {\r\n                    matches.add(arrayA[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (matches.size() == arrayA.length) {\r\n            containsAll = true;\r\n        }\r\n\r\n        return containsAll;\r\n    }\r\n```\r\n\r\nSince a `set` can only store unique values, even if `arrayB` has duplicated elements, it will still work. It won&#39;t work if `arrayA` has duplicated elements, though.","title":"Return true if arrays contain the same items","body":"<p>If you really want to do it manually, you could use something like this:</p>\n<pre><code>private static boolean containsAll(Integer[] arrayA, Integer[] arrayB) {\n        Set&lt;Integer&gt; matches = new HashSet&lt;&gt;();\n        boolean containsAll = false;\n\n        for (int i = 0; i &lt; arrayA.length; i++) {\n            for (int j = 0; j &lt; arrayB.length; j++) {\n                if (arrayA[i] == arrayB[j]) {\n                    matches.add(arrayA[i]);\n                }\n            }\n        }\n\n        if (matches.size() == arrayA.length) {\n            containsAll = true;\n        }\n\n        return containsAll;\n    }\n</code></pre>\n<p>Since a <code>set</code> can only store unique values, even if <code>arrayB</code> has duplicated elements, it will still work. It won't work if <code>arrayA</code> has duplicated elements, though.</p>\n"},{"tags":[],"owner":{"account_id":15904222,"reputation":154,"user_id":11475860,"display_name":"H&#229;kan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647395401,"creation_date":1647395401,"answer_id":71490953,"question_id":71490137,"body_markdown":"It is easy to make mistakes when you program with indices. Luckily, in this case there is no need to do that:  \r\n\r\n    public static boolean con(int[] a, int[] b) {\r\n        loop: for (int ai : a) {\r\n            for (int bi : b) {\r\n                if (ai == bi) {\r\n                    continue loop;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nAlways use the strengths of the language, not the weaknesses. ","title":"Return true if arrays contain the same items","body":"<p>It is easy to make mistakes when you program with indices. Luckily, in this case there is no need to do that:</p>\n<pre><code>public static boolean con(int[] a, int[] b) {\n    loop: for (int ai : a) {\n        for (int bi : b) {\n            if (ai == bi) {\n                continue loop;\n            }\n        }\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>Always use the strengths of the language, not the weaknesses.</p>\n"}],"owner":{"account_id":22598648,"reputation":1,"user_id":16780551,"display_name":"Nick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1647395401,"creation_date":1647386775,"question_id":71490137,"body_markdown":"I am looking to return true if all the elements in A are found within B and false otherwise. Currently, I have written the code below but the function seems to only return false. \r\n\r\n    public static boolean con(int[] a, int[] b) {\r\n\t\tif (a == null || a.length == 0) {\r\n\t    \t   return false;\t   \r\n\t\t}else if (b == null || b.length == 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t    for (int i = 0; i &lt; a.length; i++)\r\n\t    {\r\n\t        for (int j = i + 1; j &lt; b.length;j++)\r\n\t        {\r\n\t            if (a[i] == (b[j])) {\r\n\t            \t return true;\r\n\t            }\r\n\t            \r\n\t        }\r\n\t    }\r\n\t    return false;\r\n\t}","title":"Return true if arrays contain the same items","body":"<p>I am looking to return true if all the elements in A are found within B and false otherwise. Currently, I have written the code below but the function seems to only return false.</p>\n<pre><code>public static boolean con(int[] a, int[] b) {\n    if (a == null || a.length == 0) {\n           return false;       \n    }else if (b == null || b.length == 0) {\n        return false;\n    }\n    for (int i = 0; i &lt; a.length; i++)\n    {\n        for (int j = i + 1; j &lt; b.length;j++)\n        {\n            if (a[i] == (b[j])) {\n                 return true;\n            }\n            \n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","variables","types","scope"],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647394422,"creation_date":1647394422,"answer_id":71490861,"question_id":71490818,"body_markdown":"Nothing defines the type &#39;Queue&#39; in your program.  Are you expecting to use the [standard Java type](https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html) ?  Then write `import java.util.Queue` at the head of your file.\r\n\r\nNothing declares the variable &#39;q&#39;.  You need somewhere `Queue&lt;File&gt; q = ...`\r\n\r\nAlas, the standard &#39;Queue&#39; is not a class, but an interface.  So you can&#39;t construct one with `new Queue&lt;File&gt;()`.  You need to decide what sort of Queue you want.  See the &#39;implementing classes&#39; at the above documentation link.\r\n\r\nIt is possible you&#39;re not expecting the Java &#39;Queue&#39; at all. In which case, only you know what you&#39;re expecting.\r\n\r\nSince the Java Queue interface doesn&#39;t have an &#39;enqueue&#39; method, maybe this is the issue.  In which case, you&#39;ve still got to get the Queue class definition from somewhere - so some sort of import statement *may* be needed.  You definitely still need to declare `q` though.\r\n","title":"q cannot be resolved to a variable, Queue cannot be resolved to a type","body":"<p>Nothing defines the type 'Queue' in your program.  Are you expecting to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\" rel=\"nofollow noreferrer\">standard Java type</a> ?  Then write <code>import java.util.Queue</code> at the head of your file.</p>\n<p>Nothing declares the variable 'q'.  You need somewhere <code>Queue&lt;File&gt; q = ...</code></p>\n<p>Alas, the standard 'Queue' is not a class, but an interface.  So you can't construct one with <code>new Queue&lt;File&gt;()</code>.  You need to decide what sort of Queue you want.  See the 'implementing classes' at the above documentation link.</p>\n<p>It is possible you're not expecting the Java 'Queue' at all. In which case, only you know what you're expecting.</p>\n<p>Since the Java Queue interface doesn't have an 'enqueue' method, maybe this is the issue.  In which case, you've still got to get the Queue class definition from somewhere - so some sort of import statement <em>may</em> be needed.  You definitely still need to declare <code>q</code> though.</p>\n"}],"owner":{"account_id":24571576,"reputation":1,"user_id":18477913,"display_name":"xieyujinggg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1647396924,"answer_count":1,"score":-1,"last_activity_date":1647394422,"creation_date":1647393917,"question_id":71490818,"body_markdown":"I&#39;m getting the errors of &quot;q cannot be resolved to a variable&quot; and &quot;Queue cannot be resolved to a type&quot;... I&#39;m not sure what I did wrong but if you guys can help, that would be great! The error is within `q = new Queue&lt;File&gt;();`\r\n\r\nQueue.java:\r\n\r\n    package filesystem;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Arrays;\r\n    import java.util.NoSuchElementException;\r\n    \r\n    public class LevelOrderIterator extends FileIterator&lt;File&gt; {\r\n    \t\r\n    \tpublic LevelOrderIterator(File rootNode) throws FileNotFoundException {\r\n    \t\t\tif (!rootNode.exists())\r\n    \t\t\t\tthrow new FileNotFoundException();\r\n    \t\t\tq = new Queue&lt;File&gt;();\r\n    \t\t\tq.enqueue(rootNode);\r\n    \t}","title":"q cannot be resolved to a variable, Queue cannot be resolved to a type","body":"<p>I'm getting the errors of &quot;q cannot be resolved to a variable&quot; and &quot;Queue cannot be resolved to a type&quot;... I'm not sure what I did wrong but if you guys can help, that would be great! The error is within <code>q = new Queue&lt;File&gt;();</code></p>\n<p>Queue.java:</p>\n<pre><code>package filesystem;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Arrays;\nimport java.util.NoSuchElementException;\n\npublic class LevelOrderIterator extends FileIterator&lt;File&gt; {\n    \n    public LevelOrderIterator(File rootNode) throws FileNotFoundException {\n            if (!rootNode.exists())\n                throw new FileNotFoundException();\n            q = new Queue&lt;File&gt;();\n            q.enqueue(rootNode);\n    }\n</code></pre>\n"},{"tags":["java","regex","bash","maven"],"comments":[{"owner":{"account_id":872407,"reputation":1970,"user_id":922954,"accept_rate":100,"display_name":"aishwarya"},"score":1,"creation_date":1345134615,"post_id":11991603,"comment_id":15991001,"body_markdown":"well you could do a `ls -ltr &lt;jar name&gt; | head 1` but instead why not create a soft link on deployment instead ? The script could then just invoke the soft link..","body":"well you could do a <code>ls -ltr &lt;jar name&gt; | head 1</code> but instead why not create a soft link on deployment instead ? The script could then just invoke the soft link.."}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1345135922,"creation_date":1345134857,"answer_id":11991709,"question_id":11991603,"body_markdown":"You can use [sort][1], specifying the separator and set of keys to sort on e.g.\r\n\r\n    $ ls *.jar | sort -t- -k2 -V -r\r\n\r\nwill sort your jars in reverse (**-r**) using a version number (**-V**) sort, separating the version number from the jar name using **-t-**, and sorting on the second field using **-k2** (your version number)\r\n\r\nIn my test directory I get:\r\n\r\n    a-2.2\r\n    a-2.1\r\n    a-2.0\r\n    a-1.50\r\n    a-1.10\r\n    a-1.3.1\r\n    c-1.3.0.1\r\n    a-1.3\r\n    a-1.2.9\r\n    b-1.2.8\r\n    a-1.2\r\n\r\n\r\nwhich looks good.\r\n\r\nPipe the above through `head -1` to give you the top entry.\r\n\r\n\r\n  [1]: http://linux.die.net/man/1/sort","title":"Bash Script to run newest version of a file?","body":"<p>You can use <a href=\"http://linux.die.net/man/1/sort\" rel=\"noreferrer\">sort</a>, specifying the separator and set of keys to sort on e.g.</p>\n\n<pre><code>$ ls *.jar | sort -t- -k2 -V -r\n</code></pre>\n\n<p>will sort your jars in reverse (<strong>-r</strong>) using a version number (<strong>-V</strong>) sort, separating the version number from the jar name using <strong>-t-</strong>, and sorting on the second field using <strong>-k2</strong> (your version number)</p>\n\n<p>In my test directory I get:</p>\n\n<pre><code>a-2.2\na-2.1\na-2.0\na-1.50\na-1.10\na-1.3.1\nc-1.3.0.1\na-1.3\na-1.2.9\nb-1.2.8\na-1.2\n</code></pre>\n\n<p>which looks good.</p>\n\n<p>Pipe the above through <code>head -1</code> to give you the top entry.</p>\n"},{"tags":[],"owner":{"account_id":2403292,"reputation":29085,"user_id":2192488,"accept_rate":77,"display_name":"Serge Stroobandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647394087,"creation_date":1647393778,"answer_id":71490802,"question_id":11991603,"body_markdown":"## Bash launcher script\r\nNote: Verbose command options are used to make the script more reusable and easier to maintain.\r\n\r\n```bash\r\n#!/usr/bin/env bash\r\n\r\njava -jar $(ls /home/opt/deployment_dir/*.jar \\\r\n    |sort --version-sort --field-separator=- --key=2 --reverse \\\r\n    |head --lines=1 \\\r\n)\r\n```\r\nBeware: Both the `.jar` file and above bash script should be rendered **executable** using the `chmod +x` command.","title":"Bash Script to run newest version of a file?","body":"<h2>Bash launcher script</h2>\n<p>Note: Verbose command options are used to make the script more reusable and easier to maintain.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>#!/usr/bin/env bash\n\njava -jar $(ls /home/opt/deployment_dir/*.jar \\\n    |sort --version-sort --field-separator=- --key=2 --reverse \\\n    |head --lines=1 \\\n)\n</code></pre>\n<p>Beware: Both the <code>.jar</code> file and above bash script should be rendered <strong>executable</strong> using the <code>chmod +x</code> command.</p>\n"}],"owner":{"account_id":455015,"reputation":4764,"user_id":852971,"accept_rate":95,"display_name":"Cody S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11991709,"answer_count":2,"score":3,"last_activity_date":1647394087,"creation_date":1345134352,"question_id":11991603,"body_markdown":"I&#39;m using Apache Maven to release our product to Production, and as of right now, the resultant jar file that is created does not have a version number appended to it. I would like to append the current pom.xml version number (which I know how to do), but I need our installer script (basically a java -jar command with extra parameters) to access the newest version of the installer by default.\r\n\r\nSay my deployment file is called `foo.jar`. My script is basically `java -jar foo.jar` \r\n\r\nInstead, I&#39;d like my deployment directory to contain `foo-4.0.0.jar`, `foo-4.0.1.jar`, `foo-4.0.2.jar`, etc.\r\n\r\nI would like to create a bash script that runs the highest version of foo.\r\n\r\nI&#39;ve looked at sorting by creation date, but I can immediately think of scenarios that might not work out very well. I&#39;ve considered doing it by date modified, and then manually `touch`ing the file that I want to install, but that idea kind of sucks too.\r\n\r\nClearly I need to split the name (probably with a regex) and isolate the version numbers (maybe substring from the last dash and the last period in the name?) and somehow sort them. The sorting is probably my biggest concern...that and reassociating the file.\r\n\r\nIf this is too complicated, I could theoretically make a Java file that does this (has it become clear that my primary language is Java?), but ideally it would just be a bash script.\r\n\r\nThanks ","title":"Bash Script to run newest version of a file?","body":"<p>I'm using Apache Maven to release our product to Production, and as of right now, the resultant jar file that is created does not have a version number appended to it. I would like to append the current pom.xml version number (which I know how to do), but I need our installer script (basically a java -jar command with extra parameters) to access the newest version of the installer by default.</p>\n\n<p>Say my deployment file is called <code>foo.jar</code>. My script is basically <code>java -jar foo.jar</code> </p>\n\n<p>Instead, I'd like my deployment directory to contain <code>foo-4.0.0.jar</code>, <code>foo-4.0.1.jar</code>, <code>foo-4.0.2.jar</code>, etc.</p>\n\n<p>I would like to create a bash script that runs the highest version of foo.</p>\n\n<p>I've looked at sorting by creation date, but I can immediately think of scenarios that might not work out very well. I've considered doing it by date modified, and then manually <code>touch</code>ing the file that I want to install, but that idea kind of sucks too.</p>\n\n<p>Clearly I need to split the name (probably with a regex) and isolate the version numbers (maybe substring from the last dash and the last period in the name?) and somehow sort them. The sorting is probably my biggest concern...that and reassociating the file.</p>\n\n<p>If this is too complicated, I could theoretically make a Java file that does this (has it become clear that my primary language is Java?), but ideally it would just be a bash script.</p>\n\n<p>Thanks </p>\n"},{"tags":["java","spring-boot","oauth-2.0","openid-connect","auth0"],"comments":[{"owner":{"account_id":188961,"reputation":413,"user_id":427995,"accept_rate":89,"display_name":"sdbol"},"score":1,"creation_date":1647395359,"post_id":71490628,"comment_id":126358739,"body_markdown":"I realised I can call Object user = SecurityContextHolder.getContext().getAuthentication().getPrincipal(); inside the method but I&#39;d like to understand the above code better.","body":"I realised I can call Object user = SecurityContextHolder.getContext().getAuthentication().getPr&zwnj;&#8203;incipal(); inside the method but I&#39;d like to understand the above code better."},{"owner":{"account_id":4794024,"reputation":373,"user_id":3872452,"accept_rate":58,"display_name":"Levijatanu"},"score":0,"creation_date":1648727930,"post_id":71490628,"comment_id":126701197,"body_markdown":"Wich token are you using when calling backend from the frontend ? Id_token or access_token ?","body":"Wich token are you using when calling backend from the frontend ? Id_token or access_token ?"},{"owner":{"account_id":188961,"reputation":413,"user_id":427995,"accept_rate":89,"display_name":"sdbol"},"score":0,"creation_date":1648755219,"post_id":71490628,"comment_id":126711997,"body_markdown":"You should use the access token. The id_token is only for the front end","body":"You should use the access token. The id_token is only for the front end"},{"owner":{"account_id":4794024,"reputation":373,"user_id":3872452,"accept_rate":58,"display_name":"Levijatanu"},"score":0,"creation_date":1648800684,"post_id":71490628,"comment_id":126721010,"body_markdown":"We have a problem because we are getting opaque access tokens from auth0. When the backend is called they don&#39;t have a payload inside.","body":"We have a problem because we are getting opaque access tokens from auth0. When the backend is called they don&#39;t have a payload inside."},{"owner":{"account_id":188961,"reputation":413,"user_id":427995,"accept_rate":89,"display_name":"sdbol"},"score":0,"creation_date":1648933870,"post_id":71490628,"comment_id":126749796,"body_markdown":"Not sure how to solve your problem. My front end is React and I followed the guidance from the Auth0 SPA document.","body":"Not sure how to solve your problem. My front end is React and I followed the guidance from the Auth0 SPA document."}],"owner":{"account_id":188961,"reputation":413,"user_id":427995,"accept_rate":89,"display_name":"sdbol"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647391730,"creation_date":1647391730,"question_id":71490628,"body_markdown":"I want to secure a backend API written in Java/SpringBoot and using Auth0.   I am following the [Auth0 example](https://auth0.com/blog/spring-boot-authorization-tutorial-secure-an-api-java/). \r\n\r\nEverything works fine and as expected, however, when I apply this to my application I want to detect the user who made the API call.  In various examples I&#39;ve come across it appears to be possible with Spring Security by injecting the OidcUser.\r\n\r\nSome relevant links I&#39;ve found are:\r\n\r\n1. [Inject custom OidcUser wrapper with @AuthenticationPrincipal](https://stackoverflow.com/questions/60553023/inject-custom-oidcuser-wrapper-with-authenticationprincipal)\r\n2. [Spring Security and OIDC connect](https://www.baeldung.com/spring-security-openid-connect)\r\n\r\nIn my application, my controller looks like this:\r\n\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/api/project&quot;)\r\npublic class ProjectController {\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;write:project&#39;)&quot;)\r\n    public ResponseEntity&lt;DummySubmitResponseDto&gt; createNewProject(@AuthenticationPrincipal OidcUser oidcUser,\r\n                                                                   @RequestBody DummyDto dummyDto) {\r\n\r\n        DummySubmitResponseDto projectSubmitResponseDto = new DummySubmitResponseDto(&quot;TheResponse&quot;);\r\n        return new ResponseEntity&lt;&gt;(projectSubmitResponseDto, HttpStatus.CREATED);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m using a React SPA to get an access-token.  I save it manually and use Curl or POSTMAN to call the API.  However, oidcUser is always null.  \r\n\r\nI&#39;m not sure if I&#39;m following the correct approach.  Separate to this, I don&#39;t understand how the Backend (which is a resource server) is able to get the user information from the access token.","title":"Auth0 and SpringBoot securing an API with null for AuthenticationPrincipal OidcUser","body":"<p>I want to secure a backend API written in Java/SpringBoot and using Auth0.   I am following the <a href=\"https://auth0.com/blog/spring-boot-authorization-tutorial-secure-an-api-java/\" rel=\"nofollow noreferrer\">Auth0 example</a>.</p>\n<p>Everything works fine and as expected, however, when I apply this to my application I want to detect the user who made the API call.  In various examples I've come across it appears to be possible with Spring Security by injecting the OidcUser.</p>\n<p>Some relevant links I've found are:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/60553023/inject-custom-oidcuser-wrapper-with-authenticationprincipal\">Inject custom OidcUser wrapper with @AuthenticationPrincipal</a></li>\n<li><a href=\"https://www.baeldung.com/spring-security-openid-connect\" rel=\"nofollow noreferrer\">Spring Security and OIDC connect</a></li>\n</ol>\n<p>In my application, my controller looks like this:</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/project&quot;)\npublic class ProjectController {\n\n    @PostMapping(&quot;/add&quot;)\n    @PreAuthorize(&quot;hasAuthority('write:project')&quot;)\n    public ResponseEntity&lt;DummySubmitResponseDto&gt; createNewProject(@AuthenticationPrincipal OidcUser oidcUser,\n                                                                   @RequestBody DummyDto dummyDto) {\n\n        DummySubmitResponseDto projectSubmitResponseDto = new DummySubmitResponseDto(&quot;TheResponse&quot;);\n        return new ResponseEntity&lt;&gt;(projectSubmitResponseDto, HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>I'm using a React SPA to get an access-token.  I save it manually and use Curl or POSTMAN to call the API.  However, oidcUser is always null.</p>\n<p>I'm not sure if I'm following the correct approach.  Separate to this, I don't understand how the Backend (which is a resource server) is able to get the user information from the access token.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1647391698,"post_id":71490607,"comment_id":126358143,"body_markdown":"As I understand it, all string literals are interned. Which means whether one or two objects are created by your line of code, ignoring any objects created as part of the implementations of `StringBuilder` and `String`, depends on if `&quot;Hello&quot;` was previously interned or not.","body":"As I understand it, all string literals are interned. Which means whether one or two objects are created by your line of code, ignoring any objects created as part of the implementations of <code>StringBuilder</code> and <code>String</code>, depends on if <code>&quot;Hello&quot;</code> was previously interned or not."},{"owner":{"account_id":1480173,"reputation":898,"user_id":1389753,"accept_rate":38,"display_name":"SR Bhaskar"},"score":0,"creation_date":1647392129,"post_id":71490607,"comment_id":126358225,"body_markdown":"@slaw I was given to understand that StringBuilder has the advantage of avoiding interning of temporary Strings. If its constructor and append which I assume works the same way needs a preexisting String object for initialization, wouldn&#39;t that defeat one of the advantages of the StringBuilder?","body":"@slaw I was given to understand that StringBuilder has the advantage of avoiding interning of temporary Strings. If its constructor and append which I assume works the same way needs a preexisting String object for initialization, wouldn&#39;t that defeat one of the advantages of the StringBuilder?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1647392239,"post_id":71490607,"comment_id":126358239,"body_markdown":"Don&#39;t forget that a `StringBuilder` has internal objects.","body":"Don&#39;t forget that a <code>StringBuilder</code> has internal objects."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1647392276,"post_id":71490607,"comment_id":126358252,"body_markdown":"Assume Java does the smart thing.  You&#39;ll be correct.","body":"Assume Java does the smart thing.  You&#39;ll be correct."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1647392376,"post_id":71490607,"comment_id":126358270,"body_markdown":"One object is created, the `StringBuilder`, and whatever is inside it, which isn&#39;t specified. The string literal was pooled by the compiler and created as an object when the class was loaded.","body":"One object is created, the <code>StringBuilder</code>, and whatever is inside it, which isn&#39;t specified. The string literal was pooled by the compiler and created as an object when the class was loaded."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1647392944,"post_id":71490607,"comment_id":126358365,"body_markdown":"A `String` you **build** with `StringBuilder` won&#39;t be interned. But you&#39;re passing a `String` to the constructor of `StringBuilder`, which means the `String` object must exist before the constructor can be called. You created that `String` using a string literal, so it&#39;s interned. As noted above, however, literals are apparently instantiated and interned at class-loading time.","body":"A <code>String</code> you <b>build</b> with <code>StringBuilder</code> won&#39;t be interned. But you&#39;re passing a <code>String</code> to the constructor of <code>StringBuilder</code>, which means the <code>String</code> object must exist before the constructor can be called. You created that <code>String</code> using a string literal, so it&#39;s interned. As noted above, however, literals are apparently instantiated and interned at class-loading time."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1647395366,"post_id":71490607,"comment_id":126358740,"body_markdown":"The open jdk code for the base class that implements most of stringbuilder is [here](https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/AbstractStringBuilder.java). You can see that internally, characters are held in an array that&#39;s grown as needed.  The code - as others have said - will use the string literal created at compile time. That will be copied into the string builder&#39;s internal character array at construction time. So there will be two objects created when your code runs: the stringbuilder and its internal array of chars, not the literal itself.","body":"The open jdk code for the base class that implements most of stringbuilder is <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/AbstractStringBuilder.java\" rel=\"nofollow noreferrer\">here</a>. You can see that internally, characters are held in an array that&#39;s grown as needed.  The code - as others have said - will use the string literal created at compile time. That will be copied into the string builder&#39;s internal character array at construction time. So there will be two objects created when your code runs: the stringbuilder and its internal array of chars, not the literal itself."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647396903,"post_id":71490607,"comment_id":126359004,"body_markdown":"I suggest one of you turn those Comments into an Answer.","body":"I suggest one of you turn those Comments into an Answer."}],"owner":{"account_id":1480173,"reputation":898,"user_id":1389753,"accept_rate":38,"display_name":"SR Bhaskar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647391577,"creation_date":1647391577,"question_id":71490607,"body_markdown":"Would this line create two objects, one String object for the literal &quot;Hello&quot; and one StringBuilder object, or would it create just the one StringBuilder object?\r\n\r\n```StringBuilder sb = new StringBuilder(&quot;Hello&quot;);```\r\n\r\nIf it creates two objects, will the string object be interned?","title":"Number of objects created when a StringBuilder is initialized","body":"<p>Would this line create two objects, one String object for the literal &quot;Hello&quot; and one StringBuilder object, or would it create just the one StringBuilder object?</p>\n<p><code>StringBuilder sb = new StringBuilder(&quot;Hello&quot;);</code></p>\n<p>If it creates two objects, will the string object be interned?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-gradle-plugin","paketo"],"comments":[{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":1,"creation_date":1647347851,"post_id":71471934,"comment_id":126343764,"body_markdown":"What you&#39;re doing looks right. You&#39;ve got Adoptium before the Java buildpack. You will still see the Bellsoft Liberica buildpack run, but it shouldn&#39;t contribute anything. If that&#39;s not what you&#39;re seeing, please include the full output from building so I can see what&#39;s going on.","body":"What you&#39;re doing looks right. You&#39;ve got Adoptium before the Java buildpack. You will still see the Bellsoft Liberica buildpack run, but it shouldn&#39;t contribute anything. If that&#39;s not what you&#39;re seeing, please include the full output from building so I can see what&#39;s going on."},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":1,"creation_date":1647347996,"post_id":71471934,"comment_id":126343818,"body_markdown":"Also, FYI you don&#39;t need to set `&#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8787&#39;` like that. The buildpack can enable/disable debug options for you. At runtime, if you set `BPL_DEBUG_ENABLED=true`, we&#39;ll automatically enable those debug options for you. If it&#39;s not set, debug options won&#39;t be enabled. See https://paketo.io/docs/howto/java/#enable-remote-debugging","body":"Also, FYI you don&#39;t need to set <code>&#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,addre&zwnj;&#8203;ss=*:8787&#39;</code> like that. The buildpack can enable/disable debug options for you. At runtime, if you set <code>BPL_DEBUG_ENABLED=true</code>, we&#39;ll automatically enable those debug options for you. If it&#39;s not set, debug options won&#39;t be enabled. See <a href=\"https://paketo.io/docs/howto/java/#enable-remote-debugging\" rel=\"nofollow noreferrer\">paketo.io/docs/howto/java/#enable-remote-debugging</a>"},{"owner":{"account_id":1888995,"reputation":976,"user_id":1707589,"display_name":"fasfsfgs"},"score":0,"creation_date":1685326104,"post_id":71471934,"comment_id":134641353,"body_markdown":"@DanielMikusa I&#39;m new to this buildpacks world. When you do that configuration, does it mean that you are going to do exactly everything the default builder (paketobuildpacks/builder:base) does and changing only the jvm buildpack used?","body":"@DanielMikusa I&#39;m new to this buildpacks world. When you do that configuration, does it mean that you are going to do exactly everything the default builder (paketobuildpacks/builder:base) does and changing only the jvm buildpack used?"}],"answers":[{"tags":[],"owner":{"account_id":99209,"reputation":946,"user_id":268101,"accept_rate":54,"display_name":"Bill Pfeiffer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647391449,"creation_date":1647391449,"answer_id":71490592,"question_id":71471934,"body_markdown":"Solved: The buildpacks values are correct in my original post.  I was having an issue with my jenkins build system deploying old images so continued to see liberica jdk on those.  Verified today with proper image that only the adoptium jdk layer is being written to the image and the liberica layer is not there.  Upvoted responses indicating this.","title":"How to switch to a different jdk distro from spring boot gradle plugin buildBootImage","body":"<p>Solved: The buildpacks values are correct in my original post.  I was having an issue with my jenkins build system deploying old images so continued to see liberica jdk on those.  Verified today with proper image that only the adoptium jdk layer is being written to the image and the liberica layer is not there.  Upvoted responses indicating this.</p>\n"}],"owner":{"account_id":99209,"reputation":946,"user_id":268101,"accept_rate":54,"display_name":"Bill Pfeiffer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647391449,"creation_date":1647279294,"question_id":71471934,"body_markdown":"Using Spring boot and gradle to build docker image for deploy on my K8s infrasctructure.  I would like to switch from Paketo&#39;s Liberica OpenJDK distro to Adoptium&#39;s OpenJDK on the docker image.  When I make the changes indicated on Paketo&#39;s site, the app builds and publishes to my repo just fine, but I still see the Liberica jdk being dropped on and used on the resultant image.\r\n\r\nUsing Spring boot 2.6.4 with all relevant dependencies at the same revision level. \r\nUsing gradle 7.4.\r\n\r\nHere is my gradle config for the bootBuildImage stanza:\r\n\r\n```\r\nbootBuildImage {\r\n    imageName = &quot;${dockerUrl}/${project.name}:${version}&quot;\r\n    publish = true\r\n    docker {\r\n        tlsVerify = false\r\n        publishRegistry  {\r\n            username = &quot;${dockerUsername}&quot;\r\n            password = &quot;${dockerPassword}&quot;\r\n            url = &quot;${dockerUrl}&quot;\r\n            email = &quot;${dockerEmail}&quot;\r\n        }\r\n    }\r\n    environment = [\r\n            &#39;BPE_DELIM_JAVA_TOOL_OPTIONS&#39; : &#39; &#39;,\r\n            &#39;BPE_APPEND_JAVA_TOOL_OPTIONS&#39; : &#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8787&#39;,\r\n            &#39;BPE_APPEND_JAVA_TOOL_OPTIONS&#39; : &#39;-Duser.timezone=America/New_York&#39;\r\n\r\n    ]\r\n    buildpacks = [&quot;gcr.io/paketo-buildpacks/adoptium&quot;, &quot;urn:cnb:builder:paketo-buildpacks/java&quot;]\r\n}\r\n","title":"How to switch to a different jdk distro from spring boot gradle plugin buildBootImage","body":"<p>Using Spring boot and gradle to build docker image for deploy on my K8s infrasctructure.  I would like to switch from Paketo's Liberica OpenJDK distro to Adoptium's OpenJDK on the docker image.  When I make the changes indicated on Paketo's site, the app builds and publishes to my repo just fine, but I still see the Liberica jdk being dropped on and used on the resultant image.</p>\n<p>Using Spring boot 2.6.4 with all relevant dependencies at the same revision level.\nUsing gradle 7.4.</p>\n<p>Here is my gradle config for the bootBuildImage stanza:</p>\n<pre><code>bootBuildImage {\n    imageName = &quot;${dockerUrl}/${project.name}:${version}&quot;\n    publish = true\n    docker {\n        tlsVerify = false\n        publishRegistry  {\n            username = &quot;${dockerUsername}&quot;\n            password = &quot;${dockerPassword}&quot;\n            url = &quot;${dockerUrl}&quot;\n            email = &quot;${dockerEmail}&quot;\n        }\n    }\n    environment = [\n            'BPE_DELIM_JAVA_TOOL_OPTIONS' : ' ',\n            'BPE_APPEND_JAVA_TOOL_OPTIONS' : '-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8787',\n            'BPE_APPEND_JAVA_TOOL_OPTIONS' : '-Duser.timezone=America/New_York'\n\n    ]\n    buildpacks = [&quot;gcr.io/paketo-buildpacks/adoptium&quot;, &quot;urn:cnb:builder:paketo-buildpacks/java&quot;]\n}\n</code></pre>\n"},{"tags":["java","json","spring","rest","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1093152,"reputation":69,"user_id":1087317,"display_name":"Arumugam Mathiazhagan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598875853,"creation_date":1564444830,"answer_id":57262661,"question_id":57261703,"body_markdown":"You need to add the converter to the rest template. Please refer [Answer 1][1] or [Answer 2][2].\r\n\r\n    MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n    converter.setSupportedMediaTypes(Arrays.asList(MediaType.TEXT_PLAIN, MediaType.APPLICATION_JSON));\r\n    restTemplate.getMessageConverters().add(0, converter);\r\n\r\n  [1]: https://stackoverflow.com/questions/49469954/force-spring-resttemplate-to-process-plain-text-as-json\r\n  [2]: https://stackoverflow.com/questions/21355450/spring-resttemplate-with-jackson-as-httpmessageconverter-and-joda-datetime-prope","title":"Trying to consume content-type [text/json] with Spring Boots&#39;s RestTemplate","body":"<p>You need to add the converter to the rest template. Please refer <a href=\"https://stackoverflow.com/questions/49469954/force-spring-resttemplate-to-process-plain-text-as-json\">Answer 1</a> or <a href=\"https://stackoverflow.com/questions/21355450/spring-resttemplate-with-jackson-as-httpmessageconverter-and-joda-datetime-prope\">Answer 2</a>.</p>\n<pre><code>MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\nconverter.setSupportedMediaTypes(Arrays.asList(MediaType.TEXT_PLAIN, MediaType.APPLICATION_JSON));\nrestTemplate.getMessageConverters().add(0, converter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24571299,"reputation":11,"user_id":18477668,"display_name":"Renato Manzoni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647390697,"creation_date":1647390697,"answer_id":71490524,"question_id":57261703,"body_markdown":"    MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n    converter.setSupportedMediaTypes(Arrays.asList(new MediaType(&quot;text&quot;,&quot;json&quot;)));\r\n    restTemplate.getMessageConverters().add(0, converter);","title":"Trying to consume content-type [text/json] with Spring Boots&#39;s RestTemplate","body":"<pre><code>MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\nconverter.setSupportedMediaTypes(Arrays.asList(new MediaType(&quot;text&quot;,&quot;json&quot;)));\nrestTemplate.getMessageConverters().add(0, converter);\n</code></pre>\n"}],"owner":{"account_id":14327027,"reputation":51,"user_id":10348847,"display_name":"user728"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2121,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1647390697,"creation_date":1564436135,"question_id":57261703,"body_markdown":"A server is giving me a response in content-type `text/json` and I need to consume it into a Java class. I can do that no problem when the server&#39;s response is content-type `application/json`. How can I achieve the same functionality as when I consume an `application/json` content-type when I consume a `text/json` content type using Spring Boot?\r\n\r\nI&#39;ve tried creating an `HttpHeaders` object and then the `setContentType` method but as far as I&#39;ve seen none of the `MediaType` options will work for `text/json`.\r\n\r\n```java\r\nRequest req = new Request();\r\nString url = &quot;&lt;url&gt;&quot;;\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType( MediaType.TEXT_JSON ); // this isn&#39;t valid but is where I have tried setting the content-type to text/json\r\nHttpEntity&lt; Request &gt; entity = new HttpEntity&lt;&gt;( req, headers );\r\nResponseEntity&lt; Response &gt; resp = \r\n    restTemplate.exchange( url, HttpMethod.POST, entity, Response.class );\r\n```\r\n\r\n`Request` is the class that determines the servers response and `Response` is the Java representation of the returned json.\r\n\r\nIdeally the returned json would be stored into the `Response` class but instead I am getting this error: `InvocationTargetException: Failed to execute CommandLineRunner: Could not extract response: no suitable HttpMessageConverter found for response type [class Response] and content type [text/json]`","title":"Trying to consume content-type [text/json] with Spring Boots&#39;s RestTemplate","body":"<p>A server is giving me a response in content-type <code>text/json</code> and I need to consume it into a Java class. I can do that no problem when the server's response is content-type <code>application/json</code>. How can I achieve the same functionality as when I consume an <code>application/json</code> content-type when I consume a <code>text/json</code> content type using Spring Boot?</p>\n\n<p>I've tried creating an <code>HttpHeaders</code> object and then the <code>setContentType</code> method but as far as I've seen none of the <code>MediaType</code> options will work for <code>text/json</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Request req = new Request();\nString url = \"&lt;url&gt;\";\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType( MediaType.TEXT_JSON ); // this isn't valid but is where I have tried setting the content-type to text/json\nHttpEntity&lt; Request &gt; entity = new HttpEntity&lt;&gt;( req, headers );\nResponseEntity&lt; Response &gt; resp = \n    restTemplate.exchange( url, HttpMethod.POST, entity, Response.class );\n</code></pre>\n\n<p><code>Request</code> is the class that determines the servers response and <code>Response</code> is the Java representation of the returned json.</p>\n\n<p>Ideally the returned json would be stored into the <code>Response</code> class but instead I am getting this error: <code>InvocationTargetException: Failed to execute CommandLineRunner: Could not extract response: no suitable HttpMessageConverter found for response type [class Response] and content type [text/json]</code></p>\n"},{"tags":["java","ant","jfreechart"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647389178,"post_id":71490232,"comment_id":126357760,"body_markdown":"This isn&#39;t 100% related, but maybe the code here can help you figure things out. It has been a minute since I used JFreeChart last. https://stackoverflow.com/q/27008897/2851311. Also, update your question and post your code. It makes things a lot easier when asking for help. Otherwise, the only thing we can do is guess, and that is not helpful.","body":"This isn&#39;t 100% related, but maybe the code here can help you figure things out. It has been a minute since I used JFreeChart last. <a href=\"https://stackoverflow.com/q/27008897/2851311\">stackoverflow.com/q/27008897/2851311</a>. Also, update your question and post your code. It makes things a lot easier when asking for help. Otherwise, the only thing we can do is guess, and that is not helpful."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647389776,"post_id":71490232,"comment_id":126357861,"body_markdown":"What version of JFreeChart are you using? It doesn&#39;t seem like the new version has a build.xml file. I think you have to use Maven, but I am not certain.","body":"What version of JFreeChart are you using? It doesn&#39;t seem like the new version has a build.xml file. I think you have to use Maven, but I am not certain."},{"owner":{"account_id":24570985,"reputation":1,"user_id":18477405,"display_name":"Carey"},"score":0,"creation_date":1647390788,"post_id":71490232,"comment_id":126358003,"body_markdown":"Thank you for the advice hfontanez, in the future I will include code.  For this problem I didn&#39;t think it was relevant because it was a more general question on how to use outside libraries in Ant.  As posted in my edit I changed to Maven instead.","body":"Thank you for the advice hfontanez, in the future I will include code.  For this problem I didn&#39;t think it was relevant because it was a more general question on how to use outside libraries in Ant.  As posted in my edit I changed to Maven instead."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1647391111,"post_id":71490232,"comment_id":126358060,"body_markdown":"It&#39;s not clear what *specific* problem you were having--setting classpaths in Ant is well-documented; it&#39;s no different than using any other library. Transitive dependency management was awful before things like Ivy/etc, and largely irrelevant now because of Maven/Gradle, but there&#39;s nothing that prevents using JFreeChart in an Ant project.","body":"It&#39;s not clear what <i>specific</i> problem you were having--setting classpaths in Ant is well-documented; it&#39;s no different than using any other library. Transitive dependency management was awful before things like Ivy/etc, and largely irrelevant now because of Maven/Gradle, but there&#39;s nothing that prevents using JFreeChart in an Ant project."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647394644,"post_id":71490232,"comment_id":126358633,"body_markdown":"@DaveNewton If memory serves me well, old versions of JFreeChart did come with a build.xml file which made it much easier to integrate into your Ant projects. That&#39;s how it was 8 years ago when I last used it. If you were migrating from an old version to a new version, I can see where anyone could be confused if out of the sudden it doesn&#39;t work. I went into their website and of course, now the build.xml seems to be replaced with a pom.xml file. While you are right that nothing prevents the OP to use it wit Ant, it is not as simple as you put it (for the reasons I stated).","body":"@DaveNewton If memory serves me well, old versions of JFreeChart did come with a build.xml file which made it much easier to integrate into your Ant projects. That&#39;s how it was 8 years ago when I last used it. If you were migrating from an old version to a new version, I can see where anyone could be confused if out of the sudden it doesn&#39;t work. I went into their website and of course, now the build.xml seems to be replaced with a pom.xml file. While you are right that nothing prevents the OP to use it wit Ant, it is not as simple as you put it (for the reasons I stated)."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1647398210,"post_id":71490232,"comment_id":126359227,"body_markdown":"@hfontanez Sure, but it has only a single transitive dep (jcommon) and downloading the jars is straightforward. The OP isn&#39;t *building* JFreeChart, they&#39;re *using* it, and from there it&#39;s the same as using any JAR files. *shrug*","body":"@hfontanez Sure, but it has only a single transitive dep (jcommon) and downloading the jars is straightforward. The OP isn&#39;t <i>building</i> JFreeChart, they&#39;re <i>using</i> it, and from there it&#39;s the same as using any JAR files. <i>shrug</i>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647401213,"post_id":71490232,"comment_id":126359698,"body_markdown":"@DaveNewton You are referring to a jar file that was last updated in 2014. If you follow the current JFreeChart download link, it will take you to the latest version for which there is no such JAR file. At least not one I could see. If I am incorrect, please point it out because I am confused myself. Here&#39;s the link https://www.jfree.org/index.html","body":"@DaveNewton You are referring to a jar file that was last updated in 2014. If you follow the current JFreeChart download link, it will take you to the latest version for which there is no such JAR file. At least not one I could see. If I am incorrect, please point it out because I am confused myself. Here&#39;s the link <a href=\"https://www.jfree.org/index.html\" rel=\"nofollow noreferrer\">jfree.org/index.html</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1647409394,"post_id":71490232,"comment_id":126360812,"body_markdown":"[tag:jfreechart] works well with either [tag:ant] or [tag:maven]. If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"<a href=\"https://stackoverflow.com/questions/tagged/jfreechart\">jfreechart</a> works well with either <a href=\"https://stackoverflow.com/questions/tagged/ant\">ant</a> or <a href=\"https://stackoverflow.com/questions/tagged/maven\">maven</a>. If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/71490232/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1647433443,"post_id":71490232,"comment_id":126368918,"body_markdown":"@hfontanez The jar files are available in the Maven repo; you don&#39;t need Maven to download Maven artifacts. The typical approach fon non-/Maven/Ivy/Gradle projects when the jars aren&#39;t available directly is to get them from the repo either manually, or with a dummy M/I/G project to get them into the local repo (convenient, especially if there&#39;s a complex dependency tree).","body":"@hfontanez The jar files are available in the Maven repo; you don&#39;t need Maven to download Maven artifacts. The typical approach fon non-/Maven/Ivy/Gradle projects when the jars aren&#39;t available directly is to get them from the repo either manually, or with a dummy M/I/G project to get them into the local repo (convenient, especially if there&#39;s a complex dependency tree)."}],"owner":{"account_id":24570985,"reputation":1,"user_id":18477405,"display_name":"Carey"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647409274,"answer_count":0,"score":0,"last_activity_date":1647390637,"creation_date":1647387675,"question_id":71490232,"body_markdown":"**EDIT:** After looking into this for several hours I decided to switch to Maven, making this question irrelevant.  The switch for my project wasn&#39;t too hard for the code, hopefully the last bit stays simple as well.  For anyone else having this issue, I suggest you switch to Maven as well if you&#39;re trying to use JFreeChart in your Ant-based project.  From what I can see it just won&#39;t work with Ant. \r\n\r\nI&#39;ve been bashing my head against a proverbial wall trying to work with JFreeChart in my project so I can create charts (bar, pie etc.) using data stored and edited by the program. \r\n\r\n What I&#39;ve done so far is installed the download in my projects libraries through its properties, but with that alone it doesn&#39;t know what it is.  It seems I need to directly clarify a dependency somehow, but I&#39;ve seen that in Ant that is somewhat difficult.  However, I&#39;m stuck with Ant as too much of the project is already coded in for this instead of something like Maven.  \r\n\r\nI can supposedly make it work using an ant build script, but I&#39;m not sure where to find this or how to even use it/where to put it etc.  I&#39;m currently working on this using NetBeans.","title":"How to use JFreeChart in a java ant project?","body":"<p><strong>EDIT:</strong> After looking into this for several hours I decided to switch to Maven, making this question irrelevant.  The switch for my project wasn't too hard for the code, hopefully the last bit stays simple as well.  For anyone else having this issue, I suggest you switch to Maven as well if you're trying to use JFreeChart in your Ant-based project.  From what I can see it just won't work with Ant.</p>\n<p>I've been bashing my head against a proverbial wall trying to work with JFreeChart in my project so I can create charts (bar, pie etc.) using data stored and edited by the program.</p>\n<p>What I've done so far is installed the download in my projects libraries through its properties, but with that alone it doesn't know what it is.  It seems I need to directly clarify a dependency somehow, but I've seen that in Ant that is somewhat difficult.  However, I'm stuck with Ant as too much of the project is already coded in for this instead of something like Maven.</p>\n<p>I can supposedly make it work using an ant build script, but I'm not sure where to find this or how to even use it/where to put it etc.  I'm currently working on this using NetBeans.</p>\n"},{"tags":["java","maven","grpc","protoc"],"answers":[{"tags":[],"owner":{"account_id":24519330,"reputation":91,"user_id":18432631,"display_name":"Terry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647389564,"creation_date":1647389564,"answer_id":71490422,"question_id":71244353,"body_markdown":"I took a crack at this and I was able to generate the OrderService stub classes. Here&#39;s what I did:\r\n\r\n 1. Create a fresh Spring Boot app at [start.spring.io][1]\r\n 2. Update pom.xml with the exact XML snippets from the question.\r\n 3. Add the proto definition to src/main/proto/demo.proto\r\n 4. Run ./mvnw clean install\r\n\r\nWhat I get in under target/classes/com/aeonai/proto are these files:\r\n\r\n    Demo$OrderRequest$1.class\r\n    Demo$OrderRequest$Builder.class\r\n    Demo$OrderRequest.class\r\n    Demo$OrderRequestOrBuilder.class\r\n    Demo$OrderResponse$1.class\r\n    Demo$OrderResponse$Builder.class\r\n    Demo$OrderResponse.class\r\n    Demo$OrderResponseOrBuilder.class\r\n    Demo.class\r\n    OrderServiceGrpc$1.class\r\n    OrderServiceGrpc$2.class\r\n    OrderServiceGrpc$3.class\r\n    OrderServiceGrpc$MethodHandlers.class\r\n    OrderServiceGrpc$OrderServiceBaseDescriptorSupplier.class\r\n    OrderServiceGrpc$OrderServiceBlockingStub.class\r\n    OrderServiceGrpc$OrderServiceFileDescriptorSupplier.class\r\n    OrderServiceGrpc$OrderServiceFutureStub.class\r\n    OrderServiceGrpc$OrderServiceImplBase.class\r\n    OrderServiceGrpc$OrderServiceMethodDescriptorSupplier.class\r\n    OrderServiceGrpc$OrderServiceStub.class\r\n    OrderServiceGrpc.class\r\n\r\nThe OrderService classes are there, but note that they are not inner classes of the &quot;Demo&quot; class. Without knowing your exact project setup I&#39;m not sure how to help further, but you could try the steps I took and see if you then get the service classes. And if you do, see what the delta is with your actual project setup.\r\n\r\n  [1]: https://start.spring.io/","title":"Why is my protoc not generating gprc service stubs?","body":"<p>I took a crack at this and I was able to generate the OrderService stub classes. Here's what I did:</p>\n<ol>\n<li>Create a fresh Spring Boot app at <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a></li>\n<li>Update pom.xml with the exact XML snippets from the question.</li>\n<li>Add the proto definition to src/main/proto/demo.proto</li>\n<li>Run ./mvnw clean install</li>\n</ol>\n<p>What I get in under target/classes/com/aeonai/proto are these files:</p>\n<pre><code>Demo$OrderRequest$1.class\nDemo$OrderRequest$Builder.class\nDemo$OrderRequest.class\nDemo$OrderRequestOrBuilder.class\nDemo$OrderResponse$1.class\nDemo$OrderResponse$Builder.class\nDemo$OrderResponse.class\nDemo$OrderResponseOrBuilder.class\nDemo.class\nOrderServiceGrpc$1.class\nOrderServiceGrpc$2.class\nOrderServiceGrpc$3.class\nOrderServiceGrpc$MethodHandlers.class\nOrderServiceGrpc$OrderServiceBaseDescriptorSupplier.class\nOrderServiceGrpc$OrderServiceBlockingStub.class\nOrderServiceGrpc$OrderServiceFileDescriptorSupplier.class\nOrderServiceGrpc$OrderServiceFutureStub.class\nOrderServiceGrpc$OrderServiceImplBase.class\nOrderServiceGrpc$OrderServiceMethodDescriptorSupplier.class\nOrderServiceGrpc$OrderServiceStub.class\nOrderServiceGrpc.class\n</code></pre>\n<p>The OrderService classes are there, but note that they are not inner classes of the &quot;Demo&quot; class. Without knowing your exact project setup I'm not sure how to help further, but you could try the steps I took and see if you then get the service classes. And if you do, see what the delta is with your actual project setup.</p>\n"}],"owner":{"account_id":940676,"reputation":24354,"user_id":968801,"accept_rate":63,"display_name":"jhamm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647389564,"creation_date":1645652405,"question_id":71244353,"body_markdown":"I am pulling grpc into my spring-boot-project. I pulled in this dependency:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\r\n       &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;      \r\n       &lt;version&gt;4.5.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHere is my `plugins` section:\r\n\r\n    &lt;extensions&gt;\r\n        &lt;extension&gt;\r\n            &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/extension&gt;\r\n    &lt;/extensions&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.6.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;protocArtifact&gt;com.google.protobuf:protoc:3.17.2:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n                &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n                &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.39.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nHere is my protoc file:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    option java_package = &quot;com.aeonai.proto&quot;;\r\n    \r\n    service OrderService {\r\n      rpc ExecuteOrder(OrderRequest) returns (OrderResponse) {};\r\n    }\r\n    \r\n    message OrderRequest {\r\n      string email = 1;\r\n      string product = 2;\r\n      int32 amount = 3;\r\n    }\r\n    \r\n    message OrderResponse {\r\n      string info = 1;\r\n    }\r\n\r\nWhen I run `mvn clean install` I get all of the java classes, other than the OrderService. What else needs to happen to create the service?","title":"Why is my protoc not generating gprc service stubs?","body":"<p>I am pulling grpc into my spring-boot-project. I pulled in this dependency:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\n   &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;      \n   &lt;version&gt;4.5.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is my <code>plugins</code> section:</p>\n<pre><code>&lt;extensions&gt;\n    &lt;extension&gt;\n        &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/extension&gt;\n&lt;/extensions&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.6.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;protocArtifact&gt;com.google.protobuf:protoc:3.17.2:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n            &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n            &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.39.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;goal&gt;compile-custom&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>Here is my protoc file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\noption java_package = &quot;com.aeonai.proto&quot;;\n\nservice OrderService {\n  rpc ExecuteOrder(OrderRequest) returns (OrderResponse) {};\n}\n\nmessage OrderRequest {\n  string email = 1;\n  string product = 2;\n  int32 amount = 3;\n}\n\nmessage OrderResponse {\n  string info = 1;\n}\n</code></pre>\n<p>When I run <code>mvn clean install</code> I get all of the java classes, other than the OrderService. What else needs to happen to create the service?</p>\n"},{"tags":["java","uuid"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1647385982,"post_id":71490039,"comment_id":126357206,"body_markdown":"[UUID algorithm](https://en.wikipedia.org/wiki/Universally_unique_identifier) might help","body":"<a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID algorithm</a> might help"},{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":3,"creation_date":1647386160,"post_id":71490039,"comment_id":126357245,"body_markdown":"Please show your program so we can explain the behavior. I hope you&#39;ve read at least Wikipedia shared by @MadProgrammer and cut out non-random parts of UUID in your code (4 is pretty much guaranteed to happen more often due to https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_(random) if you did not do that).","body":"Please show your program so we can explain the behavior. I hope you&#39;ve read at least Wikipedia shared by @MadProgrammer and cut out non-random parts of UUID in your code (4 is pretty much guaranteed to happen more often due to <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_(random)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a> if you did not do that)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1647388894,"creation_date":1647388894,"answer_id":71490369,"question_id":71490039,"body_markdown":"Because UUIDs aren&#39;t _entirely_ random. Check the [Universally unique identifier](https://en.wikipedia.org/wiki/Universally_unique_identifier) on wikipedia which explains the various versions.\r\n\r\nThey look like:\r\n\r\n`xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx`\r\n\r\nWhere the M and the N are definitely not random (they indicate versions and variants), and the rest may not be random either depending on the mode you&#39;re using. The code you write gets you version 4, which means &#39;M&#39; is always 4, and half of &#39;N&#39; is also unchanging. You get 122 bits of randomness; not 128.\r\n\r\n4 is the most common digit because the 13th &#39;digit&#39; is always a 4, as per the UUID design.","title":"Why is 4 the most recurring UUID character?","body":"<p>Because UUIDs aren't <em>entirely</em> random. Check the <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">Universally unique identifier</a> on wikipedia which explains the various versions.</p>\n<p>They look like:</p>\n<p><code>xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx</code></p>\n<p>Where the M and the N are definitely not random (they indicate versions and variants), and the rest may not be random either depending on the mode you're using. The code you write gets you version 4, which means 'M' is always 4, and half of 'N' is also unchanging. You get 122 bits of randomness; not 128.</p>\n<p>4 is the most common digit because the 13th 'digit' is always a 4, as per the UUID design.</p>\n"}],"owner":{"account_id":24265347,"reputation":21,"user_id":18214335,"display_name":"Marco Corbetta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"accepted_answer_id":71490369,"answer_count":1,"score":-4,"last_activity_date":1647388894,"creation_date":1647385817,"question_id":71490039,"body_markdown":"I wrote a small program in Java that generates 5000 random UUIDs and finds the most recurring character in them overall and I always get as a result that the most recurring character after &quot;-&quot; ( always 20.000 occurencies obviously ) is &quot;4&quot; ( I ran the program several times always getting the same result ).\r\n\r\nI was just curious about this fact and was wondering if someone had a technical explanation or if it&#39;s really just a coincidence.\r\n\r\nThanks!\r\n\r\nThis is the function I used to generate the 5000 random UUIDs.\r\n\r\n     UUID.randomUUID().toString();","title":"Why is 4 the most recurring UUID character?","body":"<p>I wrote a small program in Java that generates 5000 random UUIDs and finds the most recurring character in them overall and I always get as a result that the most recurring character after &quot;-&quot; ( always 20.000 occurencies obviously ) is &quot;4&quot; ( I ran the program several times always getting the same result ).</p>\n<p>I was just curious about this fact and was wondering if someone had a technical explanation or if it's really just a coincidence.</p>\n<p>Thanks!</p>\n<p>This is the function I used to generate the 5000 random UUIDs.</p>\n<pre><code> UUID.randomUUID().toString();\n</code></pre>\n"},{"tags":["java","maven","cassandra"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647388293,"creation_date":1647388293,"answer_id":71490301,"question_id":71489609,"body_markdown":"This is likely a symptom of another problem. In my experience, &quot;class not found&quot; exceptions are common with using newer versions of Java when running Cassandra.\r\n\r\nCassandra 3.11 and earlier versions only work with Java 8. [Java 11 support][1] was not added until Cassandra 4.0 ([CASSANDRA-16894][2]).\r\n\r\nIt is possible to build your app with newer versions of Java but you won&#39;t be able to run Cassandra unless you use a supported JVM. Cheers!\r\n\r\n\r\n  [1]: https://github.com/apache/cassandra/blob/cassandra-4.0.2/CHANGES.txt#L2\r\n  [2]: https://issues.apache.org/jira/browse/CASSANDRA-16894","title":"java: cannot access org.apache.cassandra.exceptions.ConfigurationException: class not found","body":"<p>This is likely a symptom of another problem. In my experience, &quot;class not found&quot; exceptions are common with using newer versions of Java when running Cassandra.</p>\n<p>Cassandra 3.11 and earlier versions only work with Java 8. <a href=\"https://github.com/apache/cassandra/blob/cassandra-4.0.2/CHANGES.txt#L2\" rel=\"nofollow noreferrer\">Java 11 support</a> was not added until Cassandra 4.0 (<a href=\"https://issues.apache.org/jira/browse/CASSANDRA-16894\" rel=\"nofollow noreferrer\">CASSANDRA-16894</a>).</p>\n<p>It is possible to build your app with newer versions of Java but you won't be able to run Cassandra unless you use a supported JVM. Cheers!</p>\n"}],"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647388293,"creation_date":1647382271,"question_id":71489609,"body_markdown":"Trying to use ```EmbeddedCassandraServerHelper.startEmbeddedCassandra();``` method but keep getting this error. I can go to each class for the exceptions thrown in that method, besides the configurationException class. Not sure why it&#39;s not picking it up. I posted all the dependencies I have below, hoping someone here can maybe see something I missed. Thank you\r\n\r\nExact error is ```java: cannot access org.apache.cassandra.exceptions.ConfigurationException\r\n  class file for org.apache.cassandra.exceptions.ConfigurationException not found```\r\n\r\npom file is\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;!-- spring --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.web.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- lombok --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- apache commons --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-collections.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- apache client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;${apache.httpcomponents.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- junit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- guava --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;${guava.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- cassandra --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.datastax.cassandra&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cassandra-driver-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-cassandra&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.12.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.cassandraunit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cassandra-unit-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3.2&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- voltage --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.beanio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;beanio&lt;/artifactId&gt;\r\n            &lt;version&gt;${beanio.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n            &lt;version&gt;${netty.handler.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    ```","title":"java: cannot access org.apache.cassandra.exceptions.ConfigurationException: class not found","body":"<p>Trying to use <code>EmbeddedCassandraServerHelper.startEmbeddedCassandra();</code> method but keep getting this error. I can go to each class for the exceptions thrown in that method, besides the configurationException class. Not sure why it's not picking it up. I posted all the dependencies I have below, hoping someone here can maybe see something I missed. Thank you</p>\n<p>Exact error is <code>java: cannot access org.apache.cassandra.exceptions.ConfigurationException class file for org.apache.cassandra.exceptions.ConfigurationException not found</code></p>\n<p>pom file is</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;!-- spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.web.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- apache commons --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n            &lt;version&gt;${commons-collections.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- apache client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;${apache.httpcomponents.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- guava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- cassandra --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.datastax.cassandra&lt;/groupId&gt;\n            &lt;artifactId&gt;cassandra-driver-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-cassandra&lt;/artifactId&gt;\n            &lt;version&gt;1.5.12.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.cassandraunit&lt;/groupId&gt;\n            &lt;artifactId&gt;cassandra-unit-spring&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;!-- voltage --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;${jacoco.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.beanio&lt;/groupId&gt;\n            &lt;artifactId&gt;beanio&lt;/artifactId&gt;\n            &lt;version&gt;${beanio.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n            &lt;version&gt;${netty.handler.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\n            &lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\n            &lt;version&gt;4.13.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    ```\n</code></pre>\n"},{"tags":["java","collections","java-stream","side-effects","java-16"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647387037,"creation_date":1647382771,"answer_id":71489678,"question_id":71489557,"body_markdown":"For that, you don&#39;t need to create a set manually and then mutate it. You can obtain a set as a result of the execution of the stream pipeline.\r\n\r\n&gt; can somehow be done by chaining **stream().filter().map()** ?\r\n\r\nFirst transform a stream of students `Stream&lt;Student&gt;` into a stream of person objects  `Stream&lt;Person&gt;` by applying the [`map()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)) operation, which expects a function that turns the element of the stream into another object of the desired type. So you need to place the logic for creation of a `Person` object that was used inside `forEach()` into `map()`.\r\n\r\nAnd then apply `collect` passing as parameter `Collectors.toSet()`.\r\n\r\n    private Set&lt;Person&gt; mapPerson(final Set&lt;Student&gt; students) {\r\n\r\n      return students.stream()\r\n              .filter(student -&gt; Objects.nonNull(student.getAge()))\r\n              .map(student -&gt; Person.builder()\r\n                              .id(student.getId())\r\n                              .status(student.getStatus())\r\n                              .build())\r\n              .collect(Collectors.toSet());\r\n    }\r\n\r\n\r\n&gt; if it is possible to do it both ways, which is the preferred way?\r\n\r\nThe approach you are using is **discouraged** by the [**documentation**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects). Have a look at the quote below (*emphasize is mine*).\r\n\r\n&gt; As an example of how to transform a stream pipeline that\r\n&gt; **inappropriately** uses **side-effects** to one that does not, the following\r\n&gt; code searches a stream of strings for those matching a given regular\r\n&gt; expression, and puts the matches in a list.\r\n&gt; \r\n&gt; \r\n&gt;      ArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n&gt;      stream.filter(s -&gt; pattern.matcher(s).matches())\r\n&gt;            .forEach(s -&gt; results.add(s));  // Unnecessary use of side-effects!\r\n&gt; \r\n&gt; ... the **forEach()** can simply be replaced with a reduction operation that\r\n&gt; is **safer**, more **efficient**, and more **amenable to parallelization**:\r\n&gt; \r\n&gt; \r\n&gt;      List&lt;String&gt; results =\r\n&gt;          stream.filter(s -&gt; pattern.matcher(s).matches())\r\n&gt;                .toList();  // No side-effects!\r\n\r\n \r\n\r\nYou shouldn&#39;t utilize `forEach` (as well as `peek`) which could operate only by causing side effects in situations when there&#39;s an alternative way to achieve the same result.\r\n\r\nIn this case, you can do it with a `collect()` (*as shown above*) or by using a plain `for` loop.","title":"Java-Stream - Using filter and forEach for populating a Set","body":"<p>For that, you don't need to create a set manually and then mutate it. You can obtain a set as a result of the execution of the stream pipeline.</p>\n<blockquote>\n<p>can somehow be done by chaining <strong>stream().filter().map()</strong> ?</p>\n</blockquote>\n<p>First transform a stream of students <code>Stream&lt;Student&gt;</code> into a stream of person objects  <code>Stream&lt;Person&gt;</code> by applying the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map()</code></a> operation, which expects a function that turns the element of the stream into another object of the desired type. So you need to place the logic for creation of a <code>Person</code> object that was used inside <code>forEach()</code> into <code>map()</code>.</p>\n<p>And then apply <code>collect</code> passing as parameter <code>Collectors.toSet()</code>.</p>\n<pre><code>private Set&lt;Person&gt; mapPerson(final Set&lt;Student&gt; students) {\n\n  return students.stream()\n          .filter(student -&gt; Objects.nonNull(student.getAge()))\n          .map(student -&gt; Person.builder()\n                          .id(student.getId())\n                          .status(student.getStatus())\n                          .build())\n          .collect(Collectors.toSet());\n}\n</code></pre>\n<blockquote>\n<p>if it is possible to do it both ways, which is the preferred way?</p>\n</blockquote>\n<p>The approach you are using is <strong>discouraged</strong> by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><strong>documentation</strong></a>. Have a look at the quote below (<em>emphasize is mine</em>).</p>\n<blockquote>\n<p>As an example of how to transform a stream pipeline that\n<strong>inappropriately</strong> uses <strong>side-effects</strong> to one that does not, the following\ncode searches a stream of strings for those matching a given regular\nexpression, and puts the matches in a list.</p>\n<pre><code> ArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\n stream.filter(s -&gt; pattern.matcher(s).matches())\n       .forEach(s -&gt; results.add(s));  // Unnecessary use of side-effects!\n</code></pre>\n<p>... the <strong>forEach()</strong> can simply be replaced with a reduction operation that\nis <strong>safer</strong>, more <strong>efficient</strong>, and more <strong>amenable to parallelization</strong>:</p>\n<pre><code> List&lt;String&gt; results =\n     stream.filter(s -&gt; pattern.matcher(s).matches())\n           .toList();  // No side-effects!\n</code></pre>\n</blockquote>\n<p>You shouldn't utilize <code>forEach</code> (as well as <code>peek</code>) which could operate only by causing side effects in situations when there's an alternative way to achieve the same result.</p>\n<p>In this case, you can do it with a <code>collect()</code> (<em>as shown above</em>) or by using a plain <code>for</code> loop.</p>\n"}],"owner":{"account_id":19144297,"reputation":637,"user_id":13983643,"display_name":"newLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71489678,"answer_count":1,"score":2,"last_activity_date":1647387037,"creation_date":1647381915,"question_id":71489557,"body_markdown":"I have a `Set&lt;Person&gt;` and I need to filter the content and then populate another set out of the given set.\r\n\r\nI am fairly new to streams.\r\n\r\nThe first solution that I can think of is chaining `stream().filter().foreach()`\r\n\r\n**Solution 1:**\r\n\r\n```\r\nprivate Set&lt;Person&gt; mapPerson(final Set&lt;Student&gt; student) {\r\n        final Set&lt;Person&gt; person = new HashSet&lt;&gt;();\r\n        student.stream()\r\n            .filter(student1 -&gt; Objects.nonNull(student.getAge()))\r\n            .forEach(student1 -&gt; person.add(Person.builder()\r\n                .id(student1.getId())\r\n                .status(student1.getStatus()))\r\n                .build()));\r\n\r\n        return person;\r\n    }\r\n```\r\n\r\nBut I am not sure if this can somehow be done by chaining `stream().filter().map()` ?\r\n\r\nWould appreciate any help and also if it is possible to do it both ways, which is the preferred way?","title":"Java-Stream - Using filter and forEach for populating a Set","body":"<p>I have a <code>Set&lt;Person&gt;</code> and I need to filter the content and then populate another set out of the given set.</p>\n<p>I am fairly new to streams.</p>\n<p>The first solution that I can think of is chaining <code>stream().filter().foreach()</code></p>\n<p><strong>Solution 1:</strong></p>\n<pre><code>private Set&lt;Person&gt; mapPerson(final Set&lt;Student&gt; student) {\n        final Set&lt;Person&gt; person = new HashSet&lt;&gt;();\n        student.stream()\n            .filter(student1 -&gt; Objects.nonNull(student.getAge()))\n            .forEach(student1 -&gt; person.add(Person.builder()\n                .id(student1.getId())\n                .status(student1.getStatus()))\n                .build()));\n\n        return person;\n    }\n</code></pre>\n<p>But I am not sure if this can somehow be done by chaining <code>stream().filter().map()</code> ?</p>\n<p>Would appreciate any help and also if it is possible to do it both ways, which is the preferred way?</p>\n"},{"tags":["java","spring-boot","filter"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1628248697,"post_id":68680589,"comment_id":121376007,"body_markdown":"What happens if you move the `sendError()` call to before the `chain.doFilter()`?","body":"What happens if you move the <code>sendError()</code> call to before the <code>chain.doFilter()</code>?"},{"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"score":0,"creation_date":1628249836,"post_id":68680589,"comment_id":121376403,"body_markdown":"It will work as a request filter, and execute before my controller gets executed. I want to intercept the response","body":"It will work as a request filter, and execute before my controller gets executed. I want to intercept the response"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1647387621,"post_id":68680589,"comment_id":126357494,"body_markdown":"Its better to use a `ResponseEntityExceptionHandler` extending controller class for this. Annotate this class with `@ControllerAdvice`  and write a method that handles the exception you want to intercept. This method must be annotated with `@ExceptionHandler(YourException.class)`. For instance: `@ExceptionHandler(Exception.class)\n    private ResponseEntity handleAndLogRuntimeExceptions(Exception exception){`.  You could also create a custom exception that you throw in case of a regular exception. In this custom exception you then wrap any data that you want to return as a response.","body":"Its better to use a <code>ResponseEntityExceptionHandler</code> extending controller class for this. Annotate this class with <code>@ControllerAdvice</code>  and write a method that handles the exception you want to intercept. This method must be annotated with <code>@ExceptionHandler(YourException.class)</code>. For instance: <code>@ExceptionHandler(Exception.class)     private ResponseEntity handleAndLogRuntimeExceptions(Exception exception){</code>.  You could also create a custom exception that you throw in case of a regular exception. In this custom exception you then wrap any data that you want to return as a response."}],"answers":[{"tags":[],"owner":{"account_id":15546839,"reputation":578,"user_id":11215765,"display_name":"Zouhair Dre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628251672,"creation_date":1628251672,"answer_id":68681327,"question_id":68680589,"body_markdown":"Normally, calling `doFilter` means that the `ServletRequest` and the `ServletResponse` are passed to the next filter (in the `FilterChain` object). So when you try sendError, you get `Cannot call sendError() after the response has been committed` (you have already committed your response via `doFilter`).\r\n\r\nSo if you&#39;re looking to pass the request to the controller and return a `HttpStatus.BAD_REQUEST`, to my knowledge you can&#39;t do that.","title":"Not able to throw error from response filter","body":"<p>Normally, calling <code>doFilter</code> means that the <code>ServletRequest</code> and the <code>ServletResponse</code> are passed to the next filter (in the <code>FilterChain</code> object). So when you try sendError, you get <code>Cannot call sendError() after the response has been committed</code> (you have already committed your response via <code>doFilter</code>).</p>\n<p>So if you're looking to pass the request to the controller and return a <code>HttpStatus.BAD_REQUEST</code>, to my knowledge you can't do that.</p>\n"}],"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647386881,"creation_date":1628248041,"question_id":68680589,"body_markdown":"I am trying to implement a filter to modify the response of my api response. I also have some filters to modify my request, which is working fine.\r\n\r\nBelow is my Filter\r\n\r\n    public class ResponseFilter implements Filter {\r\n    \tprivate static final Logger LOGGER = LogManager.getLogger(ResponseFilter.class);\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\tHttpServletResponse httpResponse = (HttpServletResponse) response;\r\n    \t\tchain.doFilter(request, response);\r\n    \t\thttpResponse.sendError(HttpStatus.SC_BAD_REQUEST, &quot;Error while extract....&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nFilter Registration Bean\r\n\r\n    @Configuration\r\n    public class FilterBean {\r\n    \tprivate static final Logger LOGGER = LogManager.getLogger(FilterBean.class);\r\n    \t\r\n    \t@Value(&quot;${filter.urls}&quot;)\r\n    \tprivate String filterUrls;\r\n    \r\n    \t@Bean\r\n    \tpublic FilterRegistrationBean&lt;ResponseFilter&gt; responseFilter() {\r\n    \t\tFilterRegistrationBean&lt;ResponseFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n    \t\tLOGGER.debug(&quot;Inside responseFilter Bin....*********&quot;);\r\n    \t\tregistrationBean.setFilter(new ResponseFilter());\r\n    \t\tregistrationBean.addUrlPatterns(filterUrls.split(&quot;,&quot;));\r\n    \r\n    \t\treturn registrationBean;\r\n    \t}\r\n    }\r\n\r\nbelow is the exception\r\n\r\n    java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n    \tat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:456) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n    \tat com.example.filter.ResponseFilter.doFilter(ResponseFilter.java:41) ~[classes/:?]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.8.jar:5.3.8]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n\r\n\r\n**Can someone please help me, in intercepting a response, before it reaches the invoker.**","title":"Not able to throw error from response filter","body":"<p>I am trying to implement a filter to modify the response of my api response. I also have some filters to modify my request, which is working fine.</p>\n<p>Below is my Filter</p>\n<pre><code>public class ResponseFilter implements Filter {\n    private static final Logger LOGGER = LogManager.getLogger(ResponseFilter.class);\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletResponse httpResponse = (HttpServletResponse) response;\n        chain.doFilter(request, response);\n        httpResponse.sendError(HttpStatus.SC_BAD_REQUEST, &quot;Error while extract....&quot;);\n    }\n\n}\n</code></pre>\n<p>Filter Registration Bean</p>\n<pre><code>@Configuration\npublic class FilterBean {\n    private static final Logger LOGGER = LogManager.getLogger(FilterBean.class);\n    \n    @Value(&quot;${filter.urls}&quot;)\n    private String filterUrls;\n\n    @Bean\n    public FilterRegistrationBean&lt;ResponseFilter&gt; responseFilter() {\n        FilterRegistrationBean&lt;ResponseFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        LOGGER.debug(&quot;Inside responseFilter Bin....*********&quot;);\n        registrationBean.setFilter(new ResponseFilter());\n        registrationBean.addUrlPatterns(filterUrls.split(&quot;,&quot;));\n\n        return registrationBean;\n    }\n}\n</code></pre>\n<p>below is the exception</p>\n<pre><code>java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\n    at org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:456) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n    at com.example.filter.ResponseFilter.doFilter(ResponseFilter.java:41) ~[classes/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.8.jar:5.3.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n</code></pre>\n<p><strong>Can someone please help me, in intercepting a response, before it reaches the invoker.</strong></p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629907257,"creation_date":1629907257,"answer_id":68926249,"question_id":68926186,"body_markdown":"It would be:\r\n```\r\nquoteOptions\r\n  .stream()\r\n  .filter(el -&gt; el.getFet() &gt; 0)\r\n  .foreach(el -&gt; el.setApplyFet(true))","title":"How to set an object attribute&#39;s value based on another attributes value?","body":"<p>It would be:</p>\n<pre><code>quoteOptions\n  .stream()\n  .filter(el -&gt; el.getFet() &gt; 0)\n  .foreach(el -&gt; el.setApplyFet(true))\n</code></pre>\n"}],"owner":{"account_id":2928274,"reputation":7,"user_id":2509176,"display_name":"Tony Neves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647386871,"creation_date":1629907029,"question_id":68926186,"body_markdown":"What would be the equivalent lambda expression for streaming through a list of objects.  Then checking an objects attribute for a value and setting another attribute in the same object based on that value.  Example:\r\n\r\n    List&lt;OptionOverrideChangeOrderModel&gt; quoteOptions = \r\n    Collections.singletonList(quoteOption);\r\n\t\t\t\r\n    for (OptionOverrideChangeOrderModel option : quoteOptions) {\r\n        if (option.getFet() &gt; 0) {\r\n            option.setApplyFet(true);\r\n        }\r\n    }","title":"How to set an object attribute&#39;s value based on another attributes value?","body":"<p>What would be the equivalent lambda expression for streaming through a list of objects.  Then checking an objects attribute for a value and setting another attribute in the same object based on that value.  Example:</p>\n<pre><code>List&lt;OptionOverrideChangeOrderModel&gt; quoteOptions = \nCollections.singletonList(quoteOption);\n        \nfor (OptionOverrideChangeOrderModel option : quoteOptions) {\n    if (option.getFet() &gt; 0) {\n        option.setApplyFet(true);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1647318888,"post_id":71477081,"comment_id":126335361,"body_markdown":"You haven&#39;t ignore case, see https://stackoverflow.com/questions/10223176/how-to-compare-character-ignoring-case-in-primitive-types","body":"You haven&#39;t ignore case, see <a href=\"https://stackoverflow.com/questions/10223176/how-to-compare-character-ignoring-case-in-primitive-types\" title=\"how to compare character ignoring case in primitive types\">stackoverflow.com/questions/10223176/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647386825,"creation_date":1647319838,"answer_id":71477215,"question_id":71477081,"body_markdown":"Here is a better way:\r\n\r\n    public static boolean isAbecdarian(String s) { \r\n        String upper = s.toUpperCase();\r\n        for (int i = 1; i &lt; upper.length; i++) {\r\n            if (upper.charAt(i - 1) &gt; upper.charAt(i)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nAdmittedly, the differences are relatively small.  But (IMO) the code is easier to understand with a `for` loop and no temporary variables.\r\n\r\nAnd you forgot the &quot;ignore case&quot; requirement.\r\n\r\nFinally, I have intentionally not added an explicit `null` check to avoid NPEs.  That would (IMO) be incorrect.  The spec you have been given doesn&#39;t require this, and this is not a reasonable requirement to infer in this context.  It is better to let an *unexpected* (and incorrect per the spec) `null` argument produce an NPE for the programmer to notice and fix.","title":"Is there a more effective way to write a function that checks if a word is abecedarian? JAVA","body":"<p>Here is a better way:</p>\n<pre><code>public static boolean isAbecdarian(String s) { \n    String upper = s.toUpperCase();\n    for (int i = 1; i &lt; upper.length; i++) {\n        if (upper.charAt(i - 1) &gt; upper.charAt(i)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>Admittedly, the differences are relatively small.  But (IMO) the code is easier to understand with a <code>for</code> loop and no temporary variables.</p>\n<p>And you forgot the &quot;ignore case&quot; requirement.</p>\n<p>Finally, I have intentionally not added an explicit <code>null</code> check to avoid NPEs.  That would (IMO) be incorrect.  The spec you have been given doesn't require this, and this is not a reasonable requirement to infer in this context.  It is better to let an <em>unexpected</em> (and incorrect per the spec) <code>null</code> argument produce an NPE for the programmer to notice and fix.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647321826,"creation_date":1647321393,"answer_id":71477374,"question_id":71477081,"body_markdown":"I believe the task is to determine whether the letters of a particular word are arranged alphabetically, for example the word *act* since the letter *c* comes after the letter *a* in the English alphabet and similarly the letter *t* comes after the letter *c*.\r\n\r\nNotes after the code.\r\n```java\r\npublic class Abecedarian {\r\n    private static boolean isAbecedarian(String word) {\r\n        boolean isAbecedarian = false;\r\n        if (word != null) {\r\n            int length = word.length();\r\n            if (length == 1) {\r\n                isAbecedarian = true;\r\n            }\r\n            else if (length &gt; 1) {\r\n                word = word.toLowerCase();\r\n                char c = word.charAt(0);\r\n                for (int i = 1; i &lt; length; i++) {\r\n                    if (c &lt;= word.charAt(i)) {\r\n                        isAbecedarian = true;\r\n                        c = word.charAt(i);\r\n                    }\r\n                    else {\r\n                        isAbecedarian = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return isAbecedarian;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isAbecedarian(&quot;I&quot;));\r\n        System.out.println(isAbecedarian(&quot;art&quot;));\r\n        System.out.println(isAbecedarian(&quot;cat&quot;));\r\n    }\r\n}\r\n```\r\n* A single letter word must be abecedarian.\r\n* For words with more than one letter, each successive letter must have a unicode code point that is greater than, or equal to, its predecessor letter. For letters in the English alphabet the unicode code point is the same as the [ASCII code](https://en.wikipedia.org/wiki/ASCII).\r\n\r\nThe above code prints the following output:\r\n```none\r\ntrue\r\ntrue\r\nfalse\r\n```\r\n","title":"Is there a more effective way to write a function that checks if a word is abecedarian? JAVA","body":"<p>I believe the task is to determine whether the letters of a particular word are arranged alphabetically, for example the word <em>act</em> since the letter <em>c</em> comes after the letter <em>a</em> in the English alphabet and similarly the letter <em>t</em> comes after the letter <em>c</em>.</p>\n<p>Notes after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Abecedarian {\n    private static boolean isAbecedarian(String word) {\n        boolean isAbecedarian = false;\n        if (word != null) {\n            int length = word.length();\n            if (length == 1) {\n                isAbecedarian = true;\n            }\n            else if (length &gt; 1) {\n                word = word.toLowerCase();\n                char c = word.charAt(0);\n                for (int i = 1; i &lt; length; i++) {\n                    if (c &lt;= word.charAt(i)) {\n                        isAbecedarian = true;\n                        c = word.charAt(i);\n                    }\n                    else {\n                        isAbecedarian = false;\n                        break;\n                    }\n                }\n            }\n        }\n        return isAbecedarian;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(isAbecedarian(&quot;I&quot;));\n        System.out.println(isAbecedarian(&quot;art&quot;));\n        System.out.println(isAbecedarian(&quot;cat&quot;));\n    }\n}\n</code></pre>\n<ul>\n<li>A single letter word must be abecedarian.</li>\n<li>For words with more than one letter, each successive letter must have a unicode code point that is greater than, or equal to, its predecessor letter. For letters in the English alphabet the unicode code point is the same as the <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">ASCII code</a>.</li>\n</ul>\n<p>The above code prints the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\ntrue\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647322465,"creation_date":1647322465,"answer_id":71477503,"question_id":71477081,"body_markdown":"How about a 1 liner:\r\n\r\n    public static boolean isAbecdarian(String s) {\r\n        return s.toLowerCase().chars().reduce(0, (a, b) -&gt; a &gt;= 0 &amp;&amp; b &gt;= a ? b : -1) &gt;= 0;\r\n    }","title":"Is there a more effective way to write a function that checks if a word is abecedarian? JAVA","body":"<p>How about a 1 liner:</p>\n<pre><code>public static boolean isAbecdarian(String s) {\n    return s.toLowerCase().chars().reduce(0, (a, b) -&gt; a &gt;= 0 &amp;&amp; b &gt;= a ? b : -1) &gt;= 0;\n}\n</code></pre>\n"}],"owner":{"account_id":24323230,"reputation":19,"user_id":18263227,"display_name":"walle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1647386825,"creation_date":1647318607,"question_id":71477081,"body_markdown":"Here is a code that I wrote for my assignment:\r\n\r\n&gt;Write a method called `isAbecedarian` that takes a `String` and returns a `boolean` indicating whether the word is abecedarian (characters arranged alphabetically), ignoring case.\r\n\r\nI am trying to figure out if there is a better way to write this function than what I wrote here:\r\n\r\n    public static boolean isAbecdarian(String s) { \r\n\t\tint index = 0;\r\n\t\tchar c = &#39;a&#39;; \r\n\t\twhile (index &lt; s.length()) {\r\n\t\t\tif (c &gt; s.charAt(index)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tc = s.charAt(index); \r\n\t\t\tindex = index + 1;\r\n\t\t\t\t\r\n\t\t}\r\n\t\treturn true;\t\r\n\t}\r\n","title":"Is there a more effective way to write a function that checks if a word is abecedarian? JAVA","body":"<p>Here is a code that I wrote for my assignment:</p>\n<blockquote>\n<p>Write a method called <code>isAbecedarian</code> that takes a <code>String</code> and returns a <code>boolean</code> indicating whether the word is abecedarian (characters arranged alphabetically), ignoring case.</p>\n</blockquote>\n<p>I am trying to figure out if there is a better way to write this function than what I wrote here:</p>\n<pre><code>public static boolean isAbecdarian(String s) { \n    int index = 0;\n    char c = 'a'; \n    while (index &lt; s.length()) {\n        if (c &gt; s.charAt(index)) {\n            return false;\n        }\n        c = s.charAt(index); \n        index = index + 1;\n            \n    }\n    return true;    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372647,"reputation":2149,"user_id":721809,"accept_rate":100,"display_name":"Matej Kormuth"},"score":4,"creation_date":1647381750,"post_id":71489515,"comment_id":126356313,"body_markdown":"Maybe you are interested in https://docs.oracle.com/javase/7/docs/api/java/util/UUID.html ?","body":"Maybe you are interested in <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/UUID.html</a> ?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1647382740,"post_id":71489515,"comment_id":126356530,"body_markdown":"If you want to attempt this yourself you need to use a `for` or a `while` loop to generate a random character for each letter of your id.","body":"If you want to attempt this yourself you need to use a <code>for</code> or a <code>while</code> loop to generate a random character for each letter of your id."}],"answers":[{"tags":[],"owner":{"account_id":19643482,"reputation":26,"user_id":14379053,"display_name":"tttm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647383194,"creation_date":1647383194,"answer_id":71489730,"question_id":71489515,"body_markdown":"this method will give you the output you want(8characters-4characters-4characters)\r\n\r\n    static String getRandomFromString(String input) {\r\n\t\tRandom random = new Random();\r\n\t\tString result = &quot;&quot;;\r\n\t\tfor(int i = 0; i &lt; 18; i++) {\r\n\t\t\tif(i == 8 || i == 13) {\r\n\t\t\t\tresult += &quot;-&quot;;\r\n\t\t\t}else {\r\n\t\t\t\tresult += input.charAt(random.nextInt(input.length()));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}","title":"Trying to print random from the string","body":"<p>this method will give you the output you want(8characters-4characters-4characters)</p>\n<pre><code>static String getRandomFromString(String input) {\n    Random random = new Random();\n    String result = &quot;&quot;;\n    for(int i = 0; i &lt; 18; i++) {\n        if(i == 8 || i == 13) {\n            result += &quot;-&quot;;\n        }else {\n            result += input.charAt(random.nextInt(input.length()));\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16496611,"reputation":455,"user_id":11919026,"display_name":"Divya J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647384198,"creation_date":1647384198,"answer_id":71489840,"question_id":71489515,"body_markdown":"I understand that your requirement is to Print the random output with something like 8 char- 4 char - 4 char \r\n\r\nFor this you can use the UUID Java utility itself. Below is the code that will always generate random code \r\n\r\n        import java.util.UUID;    \r\n        public class MyClass {\r\n            public static void main(String args[]) {\r\n              UUID uuid=UUID.randomUUID(); \r\n    \r\n               //Doing this step since the requirement is 8 char - 4 char- 4char\r\n    \r\n              String output = uuid.toString().substring(0,18);\r\n              System.out.println(output);    \r\n            }\r\n    //This will give output like b673de0c-38b6-4cf1\r\n        }\r\n\r\nThe logic behind UUID Random generation is explained below \r\n   \r\nUUID stands for Universally Unique IDentifier. UUIDs are standardized by the Open Software Foundation (OSF). It is a part of the Distributive Computing Environment (DCE). A UUID is 36 characters (128-bit) long unique number. It is also known as a Globally Unique IDentifier (GUID).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L1KWb.png","title":"Trying to print random from the string","body":"<p>I understand that your requirement is to Print the random output with something like 8 char- 4 char - 4 char</p>\n<p>For this you can use the UUID Java utility itself. Below is the code that will always generate random code</p>\n<pre><code>    import java.util.UUID;    \n    public class MyClass {\n        public static void main(String args[]) {\n          UUID uuid=UUID.randomUUID(); \n\n           //Doing this step since the requirement is 8 char - 4 char- 4char\n\n          String output = uuid.toString().substring(0,18);\n          System.out.println(output);    \n        }\n//This will give output like b673de0c-38b6-4cf1\n    }\n</code></pre>\n<p>The logic behind UUID Random generation is explained below</p>\n<p>UUID stands for Universally Unique IDentifier. UUIDs are standardized by the Open Software Foundation (OSF). It is a part of the Distributive Computing Environment (DCE). A UUID is 36 characters (128-bit) long unique number. It is also known as a Globally Unique IDentifier (GUID).</p>\n<p><a href=\"https://i.stack.imgur.com/L1KWb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1KWb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24483012,"reputation":9,"user_id":18401125,"display_name":"TIon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71489840,"answer_count":2,"score":-1,"last_activity_date":1647384198,"creation_date":1647381637,"question_id":71489515,"body_markdown":"Im trying to make the output be something like:\r\n0dd58b9b-6bcd-4727\r\n```\r\nString id = &quot;ABCDEF1234567890&quot;;\t\t\r\nid.charAt(random.nextInt(id.length()));\r\nSystem.out.println (id.charAt(8) + &quot;-&quot; id.charAt(4)...);","title":"Trying to print random from the string","body":"<p>Im trying to make the output be something like:\n0dd58b9b-6bcd-4727</p>\n<pre><code>String id = &quot;ABCDEF1234567890&quot;;     \nid.charAt(random.nextInt(id.length()));\nSystem.out.println (id.charAt(8) + &quot;-&quot; id.charAt(4)...);\n</code></pre>\n"},{"tags":["java","indexing","char"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1647375324,"post_id":71488444,"comment_id":126354444,"body_markdown":"System.out.println(name.substring(0, Math.min(name.length(), 3)));","body":"System.out.println(name.substring(0, Math.min(name.length(), 3)));"},{"owner":{"account_id":14388519,"reputation":23,"user_id":10393784,"display_name":"EspadaAzul"},"score":0,"creation_date":1647375573,"post_id":71488444,"comment_id":126354518,"body_markdown":"I would agree...but it still gives me error at ```.length``` because it says its not of type for scanner which is why I am having this problem :c","body":"I would agree...but it still gives me error at <code>.length</code> because it says its not of type for scanner which is why I am having this problem :c"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1647376097,"post_id":71488444,"comment_id":126354706,"body_markdown":"name should be a string you read from the scanner.  Your scanner is poorly named, just call it scanner.","body":"name should be a string you read from the scanner.  Your scanner is poorly named, just call it scanner."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647375749,"creation_date":1647375749,"answer_id":71488554,"question_id":71488444,"body_markdown":"   \r\n\r\n     System.out.println(&quot;Enter string&quot;);\r\n        \t\tScanner name = new Scanner(System.in);\r\n        \t\tString str= name.next();\r\n        \t\tSystem.out.println(&quot;Enter number of chars to be displayed&quot;);\r\n        \t\tScanner chars = new Scanner(System.in);\r\n        \t\tint a = chars.nextInt();\r\n        \t\tSystem.out.println(str.substring(0, Math.min(str.length(), a)));","title":"How can I obtain the first character of a string that is given by a user input in java","body":"<pre><code> System.out.println(&quot;Enter string&quot;);\n            Scanner name = new Scanner(System.in);\n            String str= name.next();\n            System.out.println(&quot;Enter number of chars to be displayed&quot;);\n            Scanner chars = new Scanner(System.in);\n            int a = chars.nextInt();\n            System.out.println(str.substring(0, Math.min(str.length(), a)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647378070,"creation_date":1647378070,"answer_id":71488982,"question_id":71488444,"body_markdown":"When you take entry from a User it&#39;s always a good idea to validate the input to ensure it will meet the rules of your code so as not to initiate Exceptions (errors). If the entry by the User is found to be invalid then provide the opportunity for the User to enter a correct response, for example:\r\n\r\n    Scanner userInput = new Scanner(System.in);\r\n        \r\n    String name = &quot;&quot;;\r\n    // Prompt loop....\r\n    while (name.isEmpty()) {\r\n        System.out.print(&quot;Please enter Name here: --&gt; &quot;);\r\n        /* Get the name entry from User and trim the entry\r\n           of any possible leading or triling whitespaces.  */\r\n        name = userInput.nextLine().trim();\r\n            \r\n        /* Validate Entry...\r\n           If the entry is blank, just one or more whitespaces, \r\n           or is less than 3 characters in length then inform\r\n           the User of an invalid entry an to try again.     */\r\n        if (name.isEmpty() || name.length() &lt; 3) {\r\n            System.out.println(&quot;Invalid Entry (&quot; + name + &quot;)!\\n&quot;\r\n                    + &quot;Name must be at least 3 characters in length!\\n&quot;\r\n                    + &quot;Try Again...\\n&quot;);\r\n            name = &quot;&quot;;\r\n        }\r\n    }\r\n        \r\n    /* If we get to this point then the entry meets our\r\n       validation rules. Now we get the first three \r\n       characters from the input name and display it.  */\r\n    String shortName = name.substring(0, 3);\r\n    System.out.println();\r\n    System.out.println(&quot;Name supplied: --&gt; &quot; + name);\r\n    System.out.println(&quot;Short Name:    --&gt; &quot; + shortName);\r\n\r\nAs you can see in the code above the [String#substring()](https://www.tutorialspoint.com/Java-String-substring-Method-example) method is used to get the first three characters of the string (name) entered by the User.","title":"How can I obtain the first character of a string that is given by a user input in java","body":"<p>When you take entry from a User it's always a good idea to validate the input to ensure it will meet the rules of your code so as not to initiate Exceptions (errors). If the entry by the User is found to be invalid then provide the opportunity for the User to enter a correct response, for example:</p>\n<pre><code>Scanner userInput = new Scanner(System.in);\n    \nString name = &quot;&quot;;\n// Prompt loop....\nwhile (name.isEmpty()) {\n    System.out.print(&quot;Please enter Name here: --&gt; &quot;);\n    /* Get the name entry from User and trim the entry\n       of any possible leading or triling whitespaces.  */\n    name = userInput.nextLine().trim();\n        \n    /* Validate Entry...\n       If the entry is blank, just one or more whitespaces, \n       or is less than 3 characters in length then inform\n       the User of an invalid entry an to try again.     */\n    if (name.isEmpty() || name.length() &lt; 3) {\n        System.out.println(&quot;Invalid Entry (&quot; + name + &quot;)!\\n&quot;\n                + &quot;Name must be at least 3 characters in length!\\n&quot;\n                + &quot;Try Again...\\n&quot;);\n        name = &quot;&quot;;\n    }\n}\n    \n/* If we get to this point then the entry meets our\n   validation rules. Now we get the first three \n   characters from the input name and display it.  */\nString shortName = name.substring(0, 3);\nSystem.out.println();\nSystem.out.println(&quot;Name supplied: --&gt; &quot; + name);\nSystem.out.println(&quot;Short Name:    --&gt; &quot; + shortName);\n</code></pre>\n<p>As you can see in the code above the <a href=\"https://www.tutorialspoint.com/Java-String-substring-Method-example\" rel=\"nofollow noreferrer\">String#substring()</a> method is used to get the first three characters of the string (name) entered by the User.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647384026,"creation_date":1647383682,"answer_id":71489790,"question_id":71488444,"body_markdown":"The `char` type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, `char` is physically incapable of representing most characters. \r\n\r\nInstead, use code point integer numbers to work with individual characters. \r\n\r\nCall `String#codePoints` to get an `IntStream` of the code point for each character. \r\n\r\nTruncate the stream by calling `limit` while passing the number of characters you want.\r\n\r\nBuild a new `String` with resulting text by passing references to methods found on the `StringBuilder` class. \r\n\r\n```java\r\nint limit = 3 ;  // How many characters to pull from each name. \r\nString output = \r\n    &quot;Jessica&quot;\r\n    .codePoints() \r\n    .limit( limit ) \r\n    .collect( \r\n        StringBuilder::new, \r\n        StringBuilder::appendCodePoint, \r\n        StringBuilder::append     \r\n    )                                        \r\n    .toString()\r\n;\r\n```\r\n\r\n&gt;Jes\r\n\r\n\r\n\r\n\r\n","title":"How can I obtain the first character of a string that is given by a user input in java","body":"<p>The <code>char</code> type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, <code>char</code> is physically incapable of representing most characters.</p>\n<p>Instead, use code point integer numbers to work with individual characters.</p>\n<p>Call <code>String#codePoints</code> to get an <code>IntStream</code> of the code point for each character.</p>\n<p>Truncate the stream by calling <code>limit</code> while passing the number of characters you want.</p>\n<p>Build a new <code>String</code> with resulting text by passing references to methods found on the <code>StringBuilder</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int limit = 3 ;  // How many characters to pull from each name. \nString output = \n    &quot;Jessica&quot;\n    .codePoints() \n    .limit( limit ) \n    .collect( \n        StringBuilder::new, \n        StringBuilder::appendCodePoint, \n        StringBuilder::append     \n    )                                        \n    .toString()\n;\n</code></pre>\n<blockquote>\n<p>Jes</p>\n</blockquote>\n"}],"owner":{"account_id":14388519,"reputation":23,"user_id":10393784,"display_name":"EspadaAzul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1660,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71488554,"answer_count":3,"score":2,"last_activity_date":1647384026,"creation_date":1647375165,"question_id":71488444,"body_markdown":"   I want the user to input a String, lets say his or her name. The name can be Jessica or Steve. I want   the program to recognize the string but only output the first three letters. It can really be any number of letters I decide I want to output (in this case 3), and yes, I have tried \r\n\r\ncharAt();\r\n\r\nHowever, I do not want to hard code a string in the program, I want a user input. So it throws me an error. The code below is what I have. \r\n\r\n\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tpublic static void main(String args[]){\r\n\r\n             Scanner Name = new Scanner(System.in);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Insert Name here &quot;);\r\n\t\t\tSystem.out.print(Name.nextLine());\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tfor(int i=0; i&lt;=2; i++){\r\n\r\n\t\t\t\tSystem.out.println(Name.next(i));\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t    }\r\n\r\nthe error occurs at\r\n\r\n``` System.out.println(Name.next(i));``` it underlines the ```.next``` area and it gives me an error that states,\r\n\r\n&quot;The Method next(String) in the type Scanner is not applicable for arguments (int)&quot;\r\n\r\nNow I know my output is supposed to be a of a string type for every iteration it should be a int, such that 0 is the first index of the string 1 should be the second and 2 should be the third index, but its a char creating a string and I get confused.","title":"How can I obtain the first character of a string that is given by a user input in java","body":"<p>I want the user to input a String, lets say his or her name. The name can be Jessica or Steve. I want   the program to recognize the string but only output the first three letters. It can really be any number of letters I decide I want to output (in this case 3), and yes, I have tried</p>\n<p>charAt();</p>\n<p>However, I do not want to hard code a string in the program, I want a user input. So it throws me an error. The code below is what I have.</p>\n<pre><code>        public static void main(String args[]){\n\n         Scanner Name = new Scanner(System.in);\n        \n        \n        System.out.print(&quot;Insert Name here &quot;);\n        System.out.print(Name.nextLine());\n        System.out.println();\n        \n        \n        for(int i=0; i&lt;=2; i++){\n\n            System.out.println(Name.next(i));\n            \n        }\n        \n        }\n</code></pre>\n<p>the error occurs at</p>\n<p><code> System.out.println(Name.next(i));</code> it underlines the <code>.next</code> area and it gives me an error that states,</p>\n<p>&quot;The Method next(String) in the type Scanner is not applicable for arguments (int)&quot;</p>\n<p>Now I know my output is supposed to be a of a string type for every iteration it should be a int, such that 0 is the first index of the string 1 should be the second and 2 should be the third index, but its a char creating a string and I get confused.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1647384096,"post_id":71489807,"comment_id":126356862,"body_markdown":"You did not mention what else is running on the same OS. Maybe it is struggling with too many parallel TCP connections.","body":"You did not mention what else is running on the same OS. Maybe it is struggling with too many parallel TCP connections."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1647386086,"post_id":71489807,"comment_id":126357223,"body_markdown":"It means your server isn&#39;t accepting connections fast enough. Maybe it is overloaded?","body":"It means your server isn&#39;t accepting connections fast enough. Maybe it is overloaded?"},{"owner":{"account_id":6205657,"reputation":69,"user_id":4833760,"display_name":"Ant"},"score":0,"creation_date":1647420585,"post_id":71489807,"comment_id":126363806,"body_markdown":"It would be helpful to rule out java here, if waitForConnect -&gt; timeout is now a bottleneck outside of the JVM, unrelated to apache http client config, I can get a different team involved to run a network trace for example.","body":"It would be helpful to rule out java here, if waitForConnect -&gt; timeout is now a bottleneck outside of the JVM, unrelated to apache http client config, I can get a different team involved to run a network trace for example."}],"owner":{"account_id":6205657,"reputation":69,"user_id":4833760,"display_name":"Ant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647383864,"creation_date":1647383864,"question_id":71489807,"body_markdown":"We’re using an apache CachingHttpClient with a PoolingHttpClientConnectionManager configured and all accessed via a Spring RestTemplate.\n\nMost of our connectivity is from Azure -&gt; on-prem service using the same url. Under production load we get occasional exceptions above showing “Connection timed out: connect” or “connect timed out”, they both share the same root cause:\n\nJava.net.PlainSocketImpl.waitForConnect\n\nWe’ve had a few stabs at configuring the PoolingHttpClientConnectionManager with maxConnections/maxConnectionsPerRoute. From default 20/2 -&gt; 40/8\n\nThis has improved our application throughput but still some connections timeout.\n\nWhat I’m struggling with is knowing whether waitForConnect means the 40/8 config is throttling our application and connections are waiting for free routes OR the pooled connection / route is free but there is network latency preventing the connection from being made.\n\nI hope that makes sense. I have debug logging on the  apache classes but it’s still not clear to me.\n","title":"Root cause of java.net.ConnectException / java.net.SocketException","body":"<p>We’re using an apache CachingHttpClient with a PoolingHttpClientConnectionManager configured and all accessed via a Spring RestTemplate.</p>\n<p>Most of our connectivity is from Azure -&gt; on-prem service using the same url. Under production load we get occasional exceptions above showing “Connection timed out: connect” or “connect timed out”, they both share the same root cause:</p>\n<p>Java.net.PlainSocketImpl.waitForConnect</p>\n<p>We’ve had a few stabs at configuring the PoolingHttpClientConnectionManager with maxConnections/maxConnectionsPerRoute. From default 20/2 -&gt; 40/8</p>\n<p>This has improved our application throughput but still some connections timeout.</p>\n<p>What I’m struggling with is knowing whether waitForConnect means the 40/8 config is throttling our application and connections are waiting for free routes OR the pooled connection / route is free but there is network latency preventing the connection from being made.</p>\n<p>I hope that makes sense. I have debug logging on the  apache classes but it’s still not clear to me.</p>\n"},{"tags":["java","mysql","spring","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647381752,"creation_date":1647381039,"answer_id":71489431,"question_id":71489210,"body_markdown":"You can execute any system command with something like the following, using [`java.lang.Runtime`][1] and [`java.lang.Process`][2]:\r\n\r\n```java\r\nProcess process = Runtime.getRuntime().exec(&quot;mysqldump &lt;args&gt;&quot;);\r\nprocess.waitFor(); // Wait until end (blocks the thread)\r\nint result = process.exitValue(); // Exit value of the process\r\nif (result != 0) {\r\n    ...Something was wrong, so...\r\n}\r\n```\r\nAs this blocks the thread, you might execute it in a separate one, but as it&#39;s a needed system call, I don&#39;t see any particular reason wich make feel me unfomfortable.\r\n\r\nYou always can put a dummy executable returning a controlled error code under the `PATH` of the testing environment so it did&#39;t fail, or it did fail on tests. Though I don&#39;t see the need of testing the `mysqldump` behaviour since it&#39;s provided software.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html","title":"Calling an executable from a Spring Application","body":"<p>You can execute any system command with something like the following, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html\" rel=\"nofollow noreferrer\"><code>java.lang.Runtime</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\"><code>java.lang.Process</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Process process = Runtime.getRuntime().exec(&quot;mysqldump &lt;args&gt;&quot;);\nprocess.waitFor(); // Wait until end (blocks the thread)\nint result = process.exitValue(); // Exit value of the process\nif (result != 0) {\n    ...Something was wrong, so...\n}\n</code></pre>\n<p>As this blocks the thread, you might execute it in a separate one, but as it's a needed system call, I don't see any particular reason wich make feel me unfomfortable.</p>\n<p>You always can put a dummy executable returning a controlled error code under the <code>PATH</code> of the testing environment so it did't fail, or it did fail on tests. Though I don't see the need of testing the <code>mysqldump</code> behaviour since it's provided software.</p>\n"}],"owner":{"account_id":19563001,"reputation":53,"user_id":14315850,"display_name":"Jake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647383426,"creation_date":1647379538,"question_id":71489210,"body_markdown":"I have a Spring application that will need to occasionally produce database backup files. This can be accomplished by calling a MySQL executable called mysqldump. Aside from having to ensure that this executable is available to the application during integration testing and is available in the Docker image the spring app gets built into, are there any obvious reasons why this is a bad design? And if so how would you work around it?\r\n\r\nEdit: Just clarifying, I already have implemented this behavior, I’m just curious if anyone sees this as a bad design. That is, having your spring code rely on some external executable.","title":"Calling an executable from a Spring Application","body":"<p>I have a Spring application that will need to occasionally produce database backup files. This can be accomplished by calling a MySQL executable called mysqldump. Aside from having to ensure that this executable is available to the application during integration testing and is available in the Docker image the spring app gets built into, are there any obvious reasons why this is a bad design? And if so how would you work around it?</p>\n<p>Edit: Just clarifying, I already have implemented this behavior, I’m just curious if anyone sees this as a bad design. That is, having your spring code rely on some external executable.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1647356354,"post_id":71484237,"comment_id":126347492,"body_markdown":"You seem to want an open ended or dynamic number of e.name/e.relationName pairs added to the query based on the map entries, which isn&#39;t possible with a static query string. You must do so yourself with a criteria query, processing the map into key/value pairs on your own. See https://www.baeldung.com/spring-data-criteria-queries for help","body":"You seem to want an open ended or dynamic number of e.name/e.relationName pairs added to the query based on the map entries, which isn&#39;t possible with a static query string. You must do so yourself with a criteria query, processing the map into key/value pairs on your own. See <a href=\"https://www.baeldung.com/spring-data-criteria-queries\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-criteria-queries</a> for help"},{"owner":{"account_id":7909333,"reputation":33,"user_id":5973840,"display_name":"SumK"},"score":0,"creation_date":1647366097,"post_id":71484237,"comment_id":126351386,"body_markdown":"@Chris I am not able to find criteria examples which are similar to my use case.\nMy requirement is that there are 2 columns that I need to filter from a table but I have list/map as the input (and I dont want to use a loop).\n\nNot able to find criteria for the same. Can you please refer a doc/link if you&#39;re aware of any? Thank you.","body":"@Chris I am not able to find criteria examples which are similar to my use case. My requirement is that there are 2 columns that I need to filter from a table but I have list/map as the input (and I dont want to use a loop).  Not able to find criteria for the same. Can you please refer a doc/link if you&#39;re aware of any? Thank you."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1647370217,"post_id":71484237,"comment_id":126352791,"body_markdown":"You need a query that has &quot;where (e.name = :name1 and e.relationName = :value1) or (e.name = :name2 and e.relationName = :value2)..&quot; for each map key/value pair. Nothing accepts a map and will write the loop for you - you must do it yourself dynamically, once you have the map and can know how many pairs are in it.","body":"You need a query that has &quot;where (e.name = :name1 and e.relationName = :value1) or (e.name = :name2 and e.relationName = :value2)..&quot; for each map key/value pair. Nothing accepts a map and will write the loop for you - you must do it yourself dynamically, once you have the map and can know how many pairs are in it."}],"answers":[{"tags":[],"owner":{"account_id":24557454,"reputation":146,"user_id":18465761,"display_name":"Zeke Rogers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647368813,"creation_date":1647368813,"answer_id":71487257,"question_id":71484237,"body_markdown":"I don&#39;t think this is possible using @Query notation, however, like Chris said in the comments, you can pretty quickly write some code to dynamically create this kind of statement using a criteria query.\r\n\r\nI think the code you&#39;re looking for would be something like this, where the supplied Map is a set of key/value pairs with the key being `name` and the value being `relationName`.\r\n\r\n```java\r\n\r\n    EntityManager em;\r\n\r\n    public List&lt;Member&gt; get(Map&lt;String, String&gt; map) {\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Member&gt; cq = cb.createQuery(Member.class);\r\n\r\n        Root&lt;Member&gt; root = cq.from(Member.class);\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        for (Map.Entry&lt;String, String&gt; e : map.entrySet()) {\r\n            Predicate a = cb.equal(root.get(&quot;name&quot;), e.getKey());\r\n            Predicate b = cb.equal(root.get(&quot;relationName&quot;), e.getValue());\r\n            predicates.add(cb.and(a, b));\r\n        }\r\n\r\n        cq.where(cb.or(predicates.toArray(new Predicate[0])));\r\n        return em.createQuery(cq).getResultList();\r\n    }\r\n\r\n```\r\n\r\nThr query this produces should have a combination of AND and OR statements that you&#39;re desiring, ie\r\n\r\n```sql\r\nSELECT * FROM member WHERE ((name = ? AND relationName = ?) OR (name = ? AND relationName = ?) ... etc)\r\n```\r\n\r\n**Note:**\r\n\r\nSince a `Map` can only contain a key once, you might consider using a `List&lt;KeyValue&lt;String, String&gt;&gt;` or `List&lt;Pair&lt;String, String&gt;&gt;` instead. Both KeyValue and Pair can be found in Apache commons libraries and I believe Spring also includes a Pair implementation. Or you can write your own.","title":"how to pass Map or List&lt;Object&gt; as a parameter to JPA query","body":"<p>I don't think this is possible using @Query notation, however, like Chris said in the comments, you can pretty quickly write some code to dynamically create this kind of statement using a criteria query.</p>\n<p>I think the code you're looking for would be something like this, where the supplied Map is a set of key/value pairs with the key being <code>name</code> and the value being <code>relationName</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    EntityManager em;\n\n    public List&lt;Member&gt; get(Map&lt;String, String&gt; map) {\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;Member&gt; cq = cb.createQuery(Member.class);\n\n        Root&lt;Member&gt; root = cq.from(Member.class);\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        for (Map.Entry&lt;String, String&gt; e : map.entrySet()) {\n            Predicate a = cb.equal(root.get(&quot;name&quot;), e.getKey());\n            Predicate b = cb.equal(root.get(&quot;relationName&quot;), e.getValue());\n            predicates.add(cb.and(a, b));\n        }\n\n        cq.where(cb.or(predicates.toArray(new Predicate[0])));\n        return em.createQuery(cq).getResultList();\n    }\n\n</code></pre>\n<p>Thr query this produces should have a combination of AND and OR statements that you're desiring, ie</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM member WHERE ((name = ? AND relationName = ?) OR (name = ? AND relationName = ?) ... etc)\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>Since a <code>Map</code> can only contain a key once, you might consider using a <code>List&lt;KeyValue&lt;String, String&gt;&gt;</code> or <code>List&lt;Pair&lt;String, String&gt;&gt;</code> instead. Both KeyValue and Pair can be found in Apache commons libraries and I believe Spring also includes a Pair implementation. Or you can write your own.</p>\n"}],"owner":{"account_id":7909333,"reputation":33,"user_id":5973840,"display_name":"SumK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71487257,"answer_count":1,"score":2,"last_activity_date":1647383238,"creation_date":1647355721,"question_id":71484237,"body_markdown":"I need to pass a map as input parameter of type &lt;Sting,String&gt; or List&lt;CustomObject&gt;  into two JPA columns and get the result as List of records for all the entries in the map/list.\r\n\r\nSomething like this:\r\n\r\n    @Query(\r\n          value =\r\n              &quot;SELECT e from #{#entityName} e where e.name = KEY(someMap) and e.relationName = VALUE(someMap)&quot;)\r\n      List&lt;Member&gt; findByNameAndRelationNameIn(\r\n              @Param(&quot;someMap&quot;) Map&lt;String, String&gt; someMap);\r\n\r\nOR \r\n\r\n    @Query(\r\n          value =\r\n              &quot;SELECT e from #{#entityName} e where e.name IN (:#{#dataSpaceMembers.?[name]}) and e.dataSpaceName IN (:#{#dataSpaceMembers.?[dataSpaceName]})&quot;)\r\n      List&lt;DataSpaceMember&gt; findByNameAndDataSpaceIn(\r\n          @Param(&quot;dataSpaceMembers&quot;) List&lt;DataSpaceMember&gt; dataSpaceMembers);\r\n\r\n\r\n\r\nBut the application doesn&#39;t run since this is not a valid jpa query.\r\nI don&#39;t want to run single queries in loop, but looking for a single query which can give result as a list.","title":"how to pass Map or List&lt;Object&gt; as a parameter to JPA query","body":"<p>I need to pass a map as input parameter of type &lt;Sting,String&gt; or List  into two JPA columns and get the result as List of records for all the entries in the map/list.</p>\n<p>Something like this:</p>\n<pre><code>@Query(\n      value =\n          &quot;SELECT e from #{#entityName} e where e.name = KEY(someMap) and e.relationName = VALUE(someMap)&quot;)\n  List&lt;Member&gt; findByNameAndRelationNameIn(\n          @Param(&quot;someMap&quot;) Map&lt;String, String&gt; someMap);\n</code></pre>\n<p>OR</p>\n<pre><code>@Query(\n      value =\n          &quot;SELECT e from #{#entityName} e where e.name IN (:#{#dataSpaceMembers.?[name]}) and e.dataSpaceName IN (:#{#dataSpaceMembers.?[dataSpaceName]})&quot;)\n  List&lt;DataSpaceMember&gt; findByNameAndDataSpaceIn(\n      @Param(&quot;dataSpaceMembers&quot;) List&lt;DataSpaceMember&gt; dataSpaceMembers);\n</code></pre>\n<p>But the application doesn't run since this is not a valid jpa query.\nI don't want to run single queries in loop, but looking for a single query which can give result as a list.</p>\n"},{"tags":["java","html","java-8","wicket","wicket-8"],"comments":[{"owner":{"account_id":1714137,"reputation":2491,"user_id":1571602,"display_name":"Andrea Del Bene"},"score":0,"creation_date":1585052069,"post_id":60830067,"comment_id":107625207,"body_markdown":"Hi,\n\nhave you tried with dateTo.getValue instead of model.getObject() ?","body":"Hi,  have you tried with dateTo.getValue instead of model.getObject() ?"},{"owner":{"account_id":8450233,"reputation":333,"user_id":6339284,"display_name":"Altair"},"score":0,"creation_date":1585052934,"post_id":60830067,"comment_id":107625628,"body_markdown":"Hi, getValue() is undefined. I think, that value of &quot;input type date&quot; should be in &quot;Date date&quot; object, so getObject() should return the frontend value after onChange and same as it should show the &quot;Date date&quot; object with new Date() after initialization, but these things dont work.","body":"Hi, getValue() is undefined. I think, that value of &quot;input type date&quot; should be in &quot;Date date&quot; object, so getObject() should return the frontend value after onChange and same as it should show the &quot;Date date&quot; object with new Date() after initialization, but these things dont work."}],"answers":[{"tags":[],"owner":{"account_id":2930965,"reputation":10535,"user_id":2511197,"accept_rate":50,"display_name":"rec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647382863,"creation_date":1647382863,"answer_id":71489690,"question_id":60830067,"body_markdown":"The HTML date input fields send the data back to the server in the format `2012-12-30`. So you need to configure the Wicket `DateTextField` to parse that format:\r\n\r\n    import org.apache.wicket.extensions.markup.html.form.DateTextField;\r\n\r\n    new DateTextField(&quot;date&quot;, model, &quot;yyyy-MM-dd&quot;);\r\n\r\nSee also: https://stackoverflow.com/a/9519493/2511197","title":"Wicket DateTextField with &lt;input type=&quot;date&quot;&gt; not working","body":"<p>The HTML date input fields send the data back to the server in the format <code>2012-12-30</code>. So you need to configure the Wicket <code>DateTextField</code> to parse that format:</p>\n<pre><code>import org.apache.wicket.extensions.markup.html.form.DateTextField;\n\nnew DateTextField(&quot;date&quot;, model, &quot;yyyy-MM-dd&quot;);\n</code></pre>\n<p>See also: <a href=\"https://stackoverflow.com/a/9519493/2511197\">https://stackoverflow.com/a/9519493/2511197</a></p>\n"}],"owner":{"account_id":8450233,"reputation":333,"user_id":6339284,"display_name":"Altair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647382863,"creation_date":1585048987,"question_id":60830067,"body_markdown":"I would like to have HTML `&lt;input type=&quot;date&quot;&gt;` component with date picker and so on.\r\n\r\nI cant make it work with Wicket. I need to change the model value on onChange() event **without Submit Form** and I need to show the initial value in input field of the java.util.Date object from my Model, which is not working too.\r\n\r\nMy code java:\r\n\r\n    IModel&lt;Date&gt; model = new Model&lt;Date&gt;() {\r\n        private Date date = new Date();\r\n    \t\t\t\t\r\n    \tpublic Date getObject() {\r\n    \t\treturn date;\r\n    \t}\r\n    \t\t\t\t\r\n    \tpublic void setObject(Date object) {\r\n    \t\tthis.date = object;\r\n    \t}\r\n    };\r\n    DateTextField dateTo = new DateTextField(&quot;date&quot;, model);\r\n    dateTo.add(new OnChangeAjaxBehavior() {\r\n    \t\t\t\t\r\n    \t@Override\r\n    \tprotected void onUpdate(AjaxRequestTarget target) {\r\n    \t\tSystem.out.println(model.getObject()); &lt;-- it is still null\r\n    \t}\r\n    });\r\n    add(dateTo);\r\n\r\nHTML markup:\r\n\r\n    &lt;input type=&quot;date&quot; wicket:id=&quot;date&quot; /&gt;\r\n\r\nAs you can see, date is initialize as **new Date()**, but in `&lt;input type=&quot;date&quot;&gt;` I can see only **dd.mm.yyyy** and same as setObject() method. The **Date object** param is always **null** after change.\r\n\r\nWhat am I doing wrong? Thanks for any answer.\r\n\r\n","title":"Wicket DateTextField with &lt;input type=&quot;date&quot;&gt; not working","body":"<p>I would like to have HTML <code>&lt;input type=\"date\"&gt;</code> component with date picker and so on.</p>\n\n<p>I cant make it work with Wicket. I need to change the model value on onChange() event <strong>without Submit Form</strong> and I need to show the initial value in input field of the java.util.Date object from my Model, which is not working too.</p>\n\n<p>My code java:</p>\n\n<pre><code>IModel&lt;Date&gt; model = new Model&lt;Date&gt;() {\n    private Date date = new Date();\n\n    public Date getObject() {\n        return date;\n    }\n\n    public void setObject(Date object) {\n        this.date = object;\n    }\n};\nDateTextField dateTo = new DateTextField(\"date\", model);\ndateTo.add(new OnChangeAjaxBehavior() {\n\n    @Override\n    protected void onUpdate(AjaxRequestTarget target) {\n        System.out.println(model.getObject()); &lt;-- it is still null\n    }\n});\nadd(dateTo);\n</code></pre>\n\n<p>HTML markup:</p>\n\n<pre><code>&lt;input type=\"date\" wicket:id=\"date\" /&gt;\n</code></pre>\n\n<p>As you can see, date is initialize as <strong>new Date()</strong>, but in <code>&lt;input type=\"date\"&gt;</code> I can see only <strong>dd.mm.yyyy</strong> and same as setObject() method. The <strong>Date object</strong> param is always <strong>null</strong> after change.</p>\n\n<p>What am I doing wrong? Thanks for any answer.</p>\n"},{"tags":["java","javafx","discord","javafx-webengine","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":7778170,"reputation":77,"user_id":5885550,"display_name":"Corbin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647382449,"creation_date":1568923125,"answer_id":58018194,"question_id":57965817,"body_markdown":"# &lt;b&gt;I have found the issue to be that [WebView Sub-resource integrity check fails on Windows and Linux.&lt;/b&gt;\r\nThis can be seen and proven here in the following links:\r\n&lt;br&gt;\r\n\r\n1. https://bugs.openjdk.java.net/browse/JDK-8219917\r\n&lt;br&gt;\r\n2. https://github.com/javafxports/openjdk-jfx/issues/230\r\n\r\n# How to fix the issue at hand\r\n\r\n```\r\n    Please view link no.1 for more in depth details\r\n```\r\nIn short, the issue was that OpenJDK 12 for JavaFX had a bug that failed sub-resource integrity checks on Windows and Linux platforms that caused an issue when it did not provide a cryptographic hash that matched the hash from the fetched resource. As such, the content of the web page would not be displayed properly. The way to solve it is listed in [link no.1](https://bugs.openjdk.java.net/browse/JDK-8219917). The bug is patched in JavaFX 13, so all that was needed to solve this issue was to update the JavaFX modules in my maven pom file.\r\n\r\n","title":"Discord OAuth2 redirect url fails to display with JavaFX WebView JDK12","body":"<h1><b>I have found the issue to be that [WebView Sub-resource integrity check fails on Windows and Linux.</b></h1>\n<p>This can be seen and proven here in the following links:\n<br></p>\n<ol>\n<li><a href=\"https://bugs.openjdk.java.net/browse/JDK-8219917\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8219917</a>\n<br></li>\n<li><a href=\"https://github.com/javafxports/openjdk-jfx/issues/230\" rel=\"nofollow noreferrer\">https://github.com/javafxports/openjdk-jfx/issues/230</a></li>\n</ol>\n<h1>How to fix the issue at hand</h1>\n<pre><code>    Please view link no.1 for more in depth details\n</code></pre>\n<p>In short, the issue was that OpenJDK 12 for JavaFX had a bug that failed sub-resource integrity checks on Windows and Linux platforms that caused an issue when it did not provide a cryptographic hash that matched the hash from the fetched resource. As such, the content of the web page would not be displayed properly. The way to solve it is listed in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8219917\" rel=\"nofollow noreferrer\">link no.1</a>. The bug is patched in JavaFX 13, so all that was needed to solve this issue was to update the JavaFX modules in my maven pom file.</p>\n"}],"owner":{"account_id":7778170,"reputation":77,"user_id":5885550,"display_name":"Corbin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58018194,"answer_count":1,"score":2,"last_activity_date":1647382449,"creation_date":1568679403,"question_id":57965817,"body_markdown":"I am trying to get the following site: [link to discord OAuth2 URL (hover me to see link)](https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds &quot;https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds&quot;) to load with JavaFX WebView in JDK12. When I try loading that site, all that is shown is a white page. The following code is what is used to display, and handle the WebView. I am using the library [OAuth2Discord](https://github.com/HayateLaTech/OAuth2Discord) to handle the code and authorization.&lt;br&gt;&lt;br&gt;\r\n**DiscordAuth.java:**&lt;br&gt;\r\n*DiscordAuth()*&lt;br&gt;\r\n&gt;This method initializes the OAuthBuilder used in the rest of the code below.\r\n```\r\npublic DiscordAuth() {\r\n        CLIENT_SECRET = [REDACTED];\r\n        CLIENT_ID = [REDACTED];\r\n        REDIRECT_URL = &quot;https://temperlesergal.github.io/NuBot/discordWebPage/success.html&quot;;\r\n         builder = new OAuthBuilder(CLIENT_ID, CLIENT_SECRET)\r\n                .setScopes(new String[]{&quot;connections&quot;, &quot;guilds&quot;, &quot;email&quot;})\r\n                .setRedirectURI(REDIRECT_URL);\r\n    }\r\n```\r\n&lt;br&gt;\r\n\r\n*getUser(WebView webView, Thread thread)*&lt;br&gt;\r\n&gt;This is meant to start the process of retrieving the code applied to the URL when redirected from the Auth url.\r\n```\r\npublic void getUser(WebView webView, Thread thread) {\r\n    startOAuth2Flow(webView, thread);\r\n}\r\n```\r\n&lt;br&gt;\r\n*startOAuth2Flow(WebView webView, Thread thread)*&lt;br&gt;\r\n&gt;This method handles the site redirection as well as breaking up the URL to retrieve the code.\r\n&lt;br&gt;**P.S. https://temperlesergal.github.io/NuBot/discordWebPage/index.html redirects to the Auth URL listed above**\r\n```\r\nprivate void startOAuth2Flow(WebView webView, Thread thread) {\r\n    String authURL = builder.getAuthorizationUrl(null);\r\n    WebEngine webEngine = webView.getEngine();\r\n    webEngine.setJavaScriptEnabled(true);\r\n    webEngine.setUserAgent(&quot;Cotton Le Sergal&#39;s OAuth2 grant for app.&quot;);\r\n    webEngine.getLoadWorker().stateProperty().addListener(\r\n        (ov, oldState, newState) -&gt; {\r\n            if (webEngine.getLoadWorker().getException() != null || newState == Worker.State.FAILED){\r\n                System.err.println(webEngine.getLoadWorker().getException().toString());\r\n            }else{\r\n                System.out.println(webEngine.getLoadWorker().getState());\r\n            }\r\n        });\r\n        webEngine.locationProperty().addListener((observableValue, oldLocation, newLocation) -&gt; {\r\n        System.out.println(&quot;newLocation = &quot; + newLocation);\r\n        if (newLocation.startsWith(REDIRECT_URL) &amp;&amp; newLocation.contains(&quot;code&quot;)) {\r\n            try {\r\n                URL url = new URL(newLocation);\r\n                String[] params = url.getQuery().split(&quot;&amp;&quot;);\r\n                Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n                for (String param : params) {\r\n                    String name = param.split(&quot;=&quot;)[0];\r\n                    String value = param.split(&quot;=&quot;)[1];\r\n                    map.put(name, value);\r\n                }\r\n                code = map.get(&quot;code&quot;);\r\n                gotTheAccessCode(code, thread);\r\n                System.out.println(&quot;Notifying thread&quot;);\r\n                synchronized (thread){\r\n                    thread.notify();\r\n                    thread.start();\r\n                    System.out.println(&quot;Thread Notified!&quot;);\r\n                }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    });\r\n    String url = &quot;https://temperlesergal.github.io/NuBot/discordWebPage/index.html&quot;;\r\n    webEngine.load(url);\r\n}\r\n```\r\n&lt;br&gt;\r\n*gotTheAccessCode(String code, Thread thread)*&lt;br&gt;\r\n&gt;This method exchanges the code and initializes the following:&lt;br&gt;\r\n-builder.getUser();&lt;br&gt;\r\n-builder.getGuilds();&lt;br&gt;\r\n-builder.getConnections()\r\n```\r\nprivate void gotTheAccessCode(String code, Thread thread) {\r\n    System.out.println(&quot;access code: &quot; + code);\r\n    Response response = builder.exchange(code);\r\n    if (response == Response.ERROR) {\r\n        // AN ERROR HAPPENED WHILE EXCHANGING THE CODE\r\n    } else {\r\n        // EVERYTHING WORKED AS EXPECTED\r\n    }\r\n    System.out.println(&quot;Testing by printing guild info!&quot;);\r\n    getGuildInfo().forEach(guild -&gt; System.out.println(guild.getName()));\r\n    System.out.println(&quot;DONE!&quot;);\r\n    user =  builder.getUser();\r\n    guilds = builder.getGuilds();\r\n    connections = builder.getConnections();\r\n}\r\n```\r\n**FXMLController.java:**&lt;br&gt;\r\n*signIn()*&lt;br&gt;\r\n&gt;This method is what is triggered when the user presses login button on the FXML scene. It is meant to allow them to sign in to discord through the JavaFX application.\r\n```\r\n@FXML\r\nvoid signIn(){\r\n    Thread thread = new Thread(() -&gt; {\r\n        System.out.println(&quot;Thread waking up!&quot;);\r\n        Platform.runLater(() -&gt; {\r\n            usernameLabel.setText(discordAuth.getUserNameWithDiscriminator());\r\n            setUserAvatar(discordAuth.getUserAvatarURL());\r\n        });\r\n    });\r\n    try {\r\n        if(thread.isAlive())\r\n            thread.wait();\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n    discordSigninWebView.setVisible(true);\r\n    discordSigninWebView.setOpacity(0.0);\r\n    FadeIn signInFade = new FadeIn(discordSigninWebView);\r\n    signInFade.play();\r\n    discordAuth.getUser(discordSigninWebView, thread);\r\n}\r\n```\r\n&lt;br&gt;\r\n\r\n**This is what I see when I load into the app:**&lt;br&gt;\r\n**Bot:**&lt;br&gt;\r\nURL: No URL loaded into WebEngine&lt;br&gt;\r\nDescription: This is the default look when running the Application.\r\n[![This is the default look when running the Application][1]][1]\r\n[1]: https://i.stack.imgur.com/YDsq3.png&lt;br&gt;\r\nURL: https://temperlesergal.github.io/NuBot/discordWebPage/index.html&lt;br&gt;\r\nDescription: This is what the WebView looks like when I click log out (Which should be login, just forgot to change it).\r\n[![This is what it looks like when it loads my url.[2]][2]\r\n[2]: https://i.stack.imgur.com/JIgex.png&lt;br&gt;\r\nURL: https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds&lt;br&gt;\r\nDescription: This is the white screen it displays after pressing: &quot;Authorize&quot;.\r\n[![This is the white screen it displays after pressing: &quot;Authorize&quot;][3]][3]\r\n[3]: https://i.stack.imgur.com/mSfdj.png&lt;br&gt;\r\n&lt;br&gt;&lt;br&gt;**This is what I see when I load into Chrome:**&lt;br&gt;\r\n**Web:**&lt;br&gt;\r\nURL: https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds&lt;br&gt;\r\nDescription: This is what the bot should display.\r\n[![enter image description here][4]][4]\r\n[4]: https://i.stack.imgur.com/26Nor.jpg\r\n&lt;br&gt;&lt;br&gt;\r\n&gt;This is the information printed to the console\r\n```\r\nImage size is: 800.0x800.0 with the width being the largest at: 800.0px.\r\nImage is 8.0 times the size it should be... resizing\r\nImage has been resized to the following: 100.0x100.0px.\r\nActual image size is: 100.0x100.0px.\r\nTest\r\n0    [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddc69aaae202-ORD]\r\n317  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddc83f13e202-ORD]\r\n320  [Thread-3] INFO  net.dv8tion.jda.api.JDA  - Login Successful!\r\n[0 / 3]\r\n578  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddca3e3ac510-ORD]\r\nHost Name: [REDACTED]\r\nHost Address: [REDACTED]\r\n693  [JDA [0 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.internal.requests.WebSocketClient  - Connected to WebSocket\r\n693  [JDA [0 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending Identify-packet...\r\n734  [JDA [0 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Got HELLO packet (OP 10). Initializing keep-alive.\r\n754  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddcaaf3dc510-ORD]\r\n754  [Thread-3] INFO  net.dv8tion.jda.api.JDA  - Login Successful!\r\n[1 / 3]\r\n832  [JDA [0 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.handle.GuildSetupController  - Setting incomplete count to 0\r\n832  [JDA [0 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.api.JDA  - Finished Loading!\r\nShard: 1 out of: 3 is ready.\r\n842  [JDA [0 / 3] Gateway-Worker 1] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending normal message {&quot;op&quot;:3,&quot;d&quot;:{&quot;game&quot;:{&quot;name&quot;:&quot;Type owo.help&quot;,&quot;type&quot;:0},&quot;afk&quot;:false,&quot;status&quot;:&quot;online&quot;,&quot;since&quot;:1568679123052}}\r\n883  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddcc2a44c56c-ORD]\r\n998  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddccab8dc56c-ORD]\r\n998  [Thread-3] INFO  net.dv8tion.jda.api.JDA  - Login Successful!\r\n[2 / 3]\r\n5952 [JDA [1 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.internal.requests.WebSocketClient  - Connected to WebSocket\r\n5953 [JDA [1 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending Identify-packet...\r\n5955 [JDA [1 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Got HELLO packet (OP 10). Initializing keep-alive.\r\n6047 [JDA [1 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.handle.GuildSetupController  - Setting incomplete count to 1\r\n6082 [JDA [1 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.api.JDA  - Finished Loading!\r\nShard: 2 out of: 3 is ready.\r\n6084 [JDA [1 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.handle.GuildSetupController  - Finished setup for guild 530802775530012672 firing cached events 0\r\n6246 [JDA [1 / 3] Gateway-Worker 1] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending normal message {&quot;op&quot;:3,&quot;d&quot;:{&quot;game&quot;:{&quot;name&quot;:&quot;Type owo.help&quot;,&quot;type&quot;:0},&quot;afk&quot;:false,&quot;status&quot;:&quot;online&quot;,&quot;since&quot;:1568679128295}}\r\n11239 [JDA [2 / 3] MainWS-WriteThread] INFO  net.dv8tion.jda.internal.requests.WebSocketClient  - Connected to WebSocket\r\n11240 [JDA [2 / 3] MainWS-WriteThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending Identify-packet...\r\n11241 [JDA [2 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Got HELLO packet (OP 10). Initializing keep-alive.\r\n11368 [JDA [2 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.handle.GuildSetupController  - Setting incomplete count to 0\r\n11368 [JDA [2 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.api.JDA  - Finished Loading!\r\nShard: 3 out of: 3 is ready.\r\n11504 [JDA [2 / 3] Gateway-Worker 1] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending normal message {&quot;op&quot;:3,&quot;d&quot;:{&quot;game&quot;:{&quot;name&quot;:&quot;Type owo.help&quot;,&quot;type&quot;:0},&quot;afk&quot;:false,&quot;status&quot;:&quot;online&quot;,&quot;since&quot;:1568679133581}}\r\nnewLocation = https://temperlesergal.github.io/NuBot/discordWebPage/index.html\r\nSCHEDULED\r\nRUNNING\r\nSUCCEEDED\r\nnewLocation = https://discordapp.com/api/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds\r\nSCHEDULED\r\nRUNNING\r\nnewLocation = https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds\r\nSUCCEEDED\r\n```\r\n&lt;br&gt;\r\nReproducibility: 100%&lt;br&gt;\r\nSimply trying to load the Auth url in a WebView will cause this issue.&lt;br&gt;\r\nAny and all thoughts upon this matter will be greatly appreciated, thank you.","title":"Discord OAuth2 redirect url fails to display with JavaFX WebView JDK12","body":"<p>I am trying to get the following site: <a href=\"https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds\" rel=\"nofollow noreferrer\" title=\"https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds\">link to discord OAuth2 URL (hover me to see link)</a> to load with JavaFX WebView in JDK12. When I try loading that site, all that is shown is a white page. The following code is what is used to display, and handle the WebView. I am using the library <a href=\"https://github.com/HayateLaTech/OAuth2Discord\" rel=\"nofollow noreferrer\">OAuth2Discord</a> to handle the code and authorization.<br><br>\n<strong>DiscordAuth.java:</strong><br>\n<em>DiscordAuth()</em><br></p>\n\n<blockquote>\n  <p>This method initializes the OAuthBuilder used in the rest of the code below.</p>\n</blockquote>\n\n<pre><code>public DiscordAuth() {\n        CLIENT_SECRET = [REDACTED];\n        CLIENT_ID = [REDACTED];\n        REDIRECT_URL = \"https://temperlesergal.github.io/NuBot/discordWebPage/success.html\";\n         builder = new OAuthBuilder(CLIENT_ID, CLIENT_SECRET)\n                .setScopes(new String[]{\"connections\", \"guilds\", \"email\"})\n                .setRedirectURI(REDIRECT_URL);\n    }\n</code></pre>\n\n<p><br></p>\n\n<p><em>getUser(WebView webView, Thread thread)</em><br></p>\n\n<blockquote>\n  <p>This is meant to start the process of retrieving the code applied to the URL when redirected from the Auth url.</p>\n</blockquote>\n\n<pre><code>public void getUser(WebView webView, Thread thread) {\n    startOAuth2Flow(webView, thread);\n}\n</code></pre>\n\n<p><br>\n<em>startOAuth2Flow(WebView webView, Thread thread)</em><br></p>\n\n<blockquote>\n  <p>This method handles the site redirection as well as breaking up the URL to retrieve the code.\n  <br><strong>P.S. <a href=\"https://temperlesergal.github.io/NuBot/discordWebPage/index.html\" rel=\"nofollow noreferrer\">https://temperlesergal.github.io/NuBot/discordWebPage/index.html</a> redirects to the Auth URL listed above</strong></p>\n</blockquote>\n\n<pre><code>private void startOAuth2Flow(WebView webView, Thread thread) {\n    String authURL = builder.getAuthorizationUrl(null);\n    WebEngine webEngine = webView.getEngine();\n    webEngine.setJavaScriptEnabled(true);\n    webEngine.setUserAgent(\"Cotton Le Sergal's OAuth2 grant for app.\");\n    webEngine.getLoadWorker().stateProperty().addListener(\n        (ov, oldState, newState) -&gt; {\n            if (webEngine.getLoadWorker().getException() != null || newState == Worker.State.FAILED){\n                System.err.println(webEngine.getLoadWorker().getException().toString());\n            }else{\n                System.out.println(webEngine.getLoadWorker().getState());\n            }\n        });\n        webEngine.locationProperty().addListener((observableValue, oldLocation, newLocation) -&gt; {\n        System.out.println(\"newLocation = \" + newLocation);\n        if (newLocation.startsWith(REDIRECT_URL) &amp;&amp; newLocation.contains(\"code\")) {\n            try {\n                URL url = new URL(newLocation);\n                String[] params = url.getQuery().split(\"&amp;\");\n                Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n                for (String param : params) {\n                    String name = param.split(\"=\")[0];\n                    String value = param.split(\"=\")[1];\n                    map.put(name, value);\n                }\n                code = map.get(\"code\");\n                gotTheAccessCode(code, thread);\n                System.out.println(\"Notifying thread\");\n                synchronized (thread){\n                    thread.notify();\n                    thread.start();\n                    System.out.println(\"Thread Notified!\");\n                }\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    String url = \"https://temperlesergal.github.io/NuBot/discordWebPage/index.html\";\n    webEngine.load(url);\n}\n</code></pre>\n\n<p><br>\n<em>gotTheAccessCode(String code, Thread thread)</em><br></p>\n\n<blockquote>\n  <p>This method exchanges the code and initializes the following:<br>\n  -builder.getUser();<br>\n  -builder.getGuilds();<br>\n  -builder.getConnections()</p>\n</blockquote>\n\n<pre><code>private void gotTheAccessCode(String code, Thread thread) {\n    System.out.println(\"access code: \" + code);\n    Response response = builder.exchange(code);\n    if (response == Response.ERROR) {\n        // AN ERROR HAPPENED WHILE EXCHANGING THE CODE\n    } else {\n        // EVERYTHING WORKED AS EXPECTED\n    }\n    System.out.println(\"Testing by printing guild info!\");\n    getGuildInfo().forEach(guild -&gt; System.out.println(guild.getName()));\n    System.out.println(\"DONE!\");\n    user =  builder.getUser();\n    guilds = builder.getGuilds();\n    connections = builder.getConnections();\n}\n</code></pre>\n\n<p><strong>FXMLController.java:</strong><br>\n<em>signIn()</em><br></p>\n\n<blockquote>\n  <p>This method is what is triggered when the user presses login button on the FXML scene. It is meant to allow them to sign in to discord through the JavaFX application.</p>\n</blockquote>\n\n<pre><code>@FXML\nvoid signIn(){\n    Thread thread = new Thread(() -&gt; {\n        System.out.println(\"Thread waking up!\");\n        Platform.runLater(() -&gt; {\n            usernameLabel.setText(discordAuth.getUserNameWithDiscriminator());\n            setUserAvatar(discordAuth.getUserAvatarURL());\n        });\n    });\n    try {\n        if(thread.isAlive())\n            thread.wait();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    discordSigninWebView.setVisible(true);\n    discordSigninWebView.setOpacity(0.0);\n    FadeIn signInFade = new FadeIn(discordSigninWebView);\n    signInFade.play();\n    discordAuth.getUser(discordSigninWebView, thread);\n}\n</code></pre>\n\n<p><br></p>\n\n<p><strong>This is what I see when I load into the app:</strong><br>\n<strong>Bot:</strong><br>\nURL: No URL loaded into WebEngine<br>\nDescription: This is the default look when running the Application.\n<a href=\"https://i.stack.imgur.com/YDsq3.png&lt;br\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YDsq3.png&lt;br\" alt=\"This is the default look when running the Application\"></a>\nURL: <a href=\"https://temperlesergal.github.io/NuBot/discordWebPage/index.html\" rel=\"nofollow noreferrer\">https://temperlesergal.github.io/NuBot/discordWebPage/index.html</a><br>\nDescription: This is what the WebView looks like when I click log out (Which should be login, just forgot to change it).\n[<img src=\"https://i.stack.imgur.com/JIgex.png&lt;br\" alt=\"This is what it looks like when it loads my url.[2]\">\nURL: <a href=\"https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds\" rel=\"nofollow noreferrer\">https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds</a><br>\nDescription: This is the white screen it displays after pressing: \"Authorize\".\n<a href=\"https://i.stack.imgur.com/mSfdj.png&lt;br\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mSfdj.png&lt;br\" alt=\"This is the white screen it displays after pressing: &quot;Authorize&quot;\"></a>\n<br><br><strong>This is what I see when I load into Chrome:</strong><br>\n<strong>Web:</strong><br>\nURL: <a href=\"https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds\" rel=\"nofollow noreferrer\">https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds</a><br>\nDescription: This is what the bot should display.\n<a href=\"https://i.stack.imgur.com/26Nor.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/26Nor.jpg\" alt=\"enter image description here\"></a>\n<br><br></p>\n\n<blockquote>\n  <p>This is the information printed to the console</p>\n</blockquote>\n\n<pre><code>Image size is: 800.0x800.0 with the width being the largest at: 800.0px.\nImage is 8.0 times the size it should be... resizing\nImage has been resized to the following: 100.0x100.0px.\nActual image size is: 100.0x100.0px.\nTest\n0    [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddc69aaae202-ORD]\n317  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddc83f13e202-ORD]\n320  [Thread-3] INFO  net.dv8tion.jda.api.JDA  - Login Successful!\n[0 / 3]\n578  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddca3e3ac510-ORD]\nHost Name: [REDACTED]\nHost Address: [REDACTED]\n693  [JDA [0 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.internal.requests.WebSocketClient  - Connected to WebSocket\n693  [JDA [0 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending Identify-packet...\n734  [JDA [0 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Got HELLO packet (OP 10). Initializing keep-alive.\n754  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddcaaf3dc510-ORD]\n754  [Thread-3] INFO  net.dv8tion.jda.api.JDA  - Login Successful!\n[1 / 3]\n832  [JDA [0 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.handle.GuildSetupController  - Setting incomplete count to 0\n832  [JDA [0 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.api.JDA  - Finished Loading!\nShard: 1 out of: 3 is ready.\n842  [JDA [0 / 3] Gateway-Worker 1] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending normal message {\"op\":3,\"d\":{\"game\":{\"name\":\"Type owo.help\",\"type\":0},\"afk\":false,\"status\":\"online\",\"since\":1568679123052}}\n883  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddcc2a44c56c-ORD]\n998  [OkHttp https://discordapp.com/...] DEBUG net.dv8tion.jda.internal.requests.Requester  - Received response with following cf-rays: [5176ddccab8dc56c-ORD]\n998  [Thread-3] INFO  net.dv8tion.jda.api.JDA  - Login Successful!\n[2 / 3]\n5952 [JDA [1 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.internal.requests.WebSocketClient  - Connected to WebSocket\n5953 [JDA [1 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending Identify-packet...\n5955 [JDA [1 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Got HELLO packet (OP 10). Initializing keep-alive.\n6047 [JDA [1 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.handle.GuildSetupController  - Setting incomplete count to 1\n6082 [JDA [1 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.api.JDA  - Finished Loading!\nShard: 2 out of: 3 is ready.\n6084 [JDA [1 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.handle.GuildSetupController  - Finished setup for guild 530802775530012672 firing cached events 0\n6246 [JDA [1 / 3] Gateway-Worker 1] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending normal message {\"op\":3,\"d\":{\"game\":{\"name\":\"Type owo.help\",\"type\":0},\"afk\":false,\"status\":\"online\",\"since\":1568679128295}}\n11239 [JDA [2 / 3] MainWS-WriteThread] INFO  net.dv8tion.jda.internal.requests.WebSocketClient  - Connected to WebSocket\n11240 [JDA [2 / 3] MainWS-WriteThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending Identify-packet...\n11241 [JDA [2 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Got HELLO packet (OP 10). Initializing keep-alive.\n11368 [JDA [2 / 3] MainWS-ReadThread] DEBUG net.dv8tion.jda.internal.handle.GuildSetupController  - Setting incomplete count to 0\n11368 [JDA [2 / 3] MainWS-ReadThread] INFO  net.dv8tion.jda.api.JDA  - Finished Loading!\nShard: 3 out of: 3 is ready.\n11504 [JDA [2 / 3] Gateway-Worker 1] DEBUG net.dv8tion.jda.internal.requests.WebSocketClient  - Sending normal message {\"op\":3,\"d\":{\"game\":{\"name\":\"Type owo.help\",\"type\":0},\"afk\":false,\"status\":\"online\",\"since\":1568679133581}}\nnewLocation = https://temperlesergal.github.io/NuBot/discordWebPage/index.html\nSCHEDULED\nRUNNING\nSUCCEEDED\nnewLocation = https://discordapp.com/api/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds\nSCHEDULED\nRUNNING\nnewLocation = https://discordapp.com/oauth2/authorize?client_id=569662931990478857&amp;redirect_uri=https%3A%2F%2Ftemperlesergal.github.io%2FNuBot%2FdiscordWebPage%2Fsuccess.html&amp;response_type=code&amp;scope=identify%20email%20connections%20guilds\nSUCCEEDED\n</code></pre>\n\n<p><br>\nReproducibility: 100%<br>\nSimply trying to load the Auth url in a WebView will cause this issue.<br>\nAny and all thoughts upon this matter will be greatly appreciated, thank you.</p>\n"},{"tags":["java","executable","sign","launch4j"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1647382555,"post_id":71489613,"comment_id":126356491,"body_markdown":"You might want to sign your software anyway regardless what the virus test say. Signatures ensures that the distributed software can only come from you and not from someone else since only you can generate the correct signature (assuming the users know how to check the signature correctly).","body":"You might want to sign your software anyway regardless what the virus test say. Signatures ensures that the distributed software can only come from you and not from someone else since only you can generate the correct signature (assuming the users know how to check the signature correctly)."},{"owner":{"account_id":11460344,"reputation":154,"user_id":8400178,"display_name":"Alex"},"score":0,"creation_date":1647383317,"post_id":71489613,"comment_id":126356684,"body_markdown":"Fair point, although for my use case I don&#39;t think the end user will do that.\nI was hoping signing it would remove the &quot;Windows SmartScreen / Unknown publisher&quot; warning but that did not seem the case","body":"Fair point, although for my use case I don&#39;t think the end user will do that. I was hoping signing it would remove the &quot;Windows SmartScreen / Unknown publisher&quot; warning but that did not seem the case"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1647384259,"post_id":71489613,"comment_id":126356894,"body_markdown":"btw you know it&#39;s no longer necessary to use the likes of Launch4j? https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9","body":"btw you know it&#39;s no longer necessary to use the likes of Launch4j? <a href=\"https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/&hellip;</a>"},{"owner":{"account_id":11460344,"reputation":154,"user_id":8400178,"display_name":"Alex"},"score":0,"creation_date":1647384908,"post_id":71489613,"comment_id":126356993,"body_markdown":"@g00se No this is completely new information to me lol, if I understand correctly the executable also contains a java interpreter, so no java version would have to be installed to execute it?","body":"@g00se No this is completely new information to me lol, if I understand correctly the executable also contains a java interpreter, so no java version would have to be installed to execute it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1647386780,"post_id":71489613,"comment_id":126357348,"body_markdown":"Correct. So that&#39;s all good. Personally I bemoan the demise of Web Start (in its wide distribution) as that&#39;s actually even more useful","body":"Correct. So that&#39;s all good. Personally I bemoan the demise of Web Start (in its wide distribution) as that&#39;s actually even more useful"}],"owner":{"account_id":11460344,"reputation":154,"user_id":8400178,"display_name":"Alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1686,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1647382278,"creation_date":1647382278,"question_id":71489613,"body_markdown":"After creating my exe file from my jar using Launch4j, I noticed this message:\r\n\r\n&gt; WARNING: Sign the executable to minimize antivirus false positives or use launching instead of wrapping.\r\n\r\nSo I started digging into how to sign it, and finally got that to work as well.\r\nBut now I was wondering, do I now not have any false positives?\r\n\r\nI uploaded the signed exe file to VirusTotal and got a score of 2/64 (Cylance marked it as Unsafe, and SecureAge APEX marked it as Malicious)\r\nGranted I have never heard of either of them, so I wasn&#39;t making a big deal out of it.\r\n\r\nBut I wondered what the score would be of the original (unsigned) exe at this point, so I uploaded that and got a score of 0/66 (including Cylance and SecureAge APEX)\r\n\r\nIs there any other reason you would like to sign your jar file? At this point I am more tempted to distribute the non-signed one as it provided a greater/perfect score on VirusTotal opposed to the signed one, incase one of the users actually wanted to check it out at some point this would reflect much better on my program, even if it was only a 2/64 from a relatively unknown provider.\r\n\r\n","title":"Is it recommended to sign your exe from Launch4j?","body":"<p>After creating my exe file from my jar using Launch4j, I noticed this message:</p>\n<blockquote>\n<p>WARNING: Sign the executable to minimize antivirus false positives or use launching instead of wrapping.</p>\n</blockquote>\n<p>So I started digging into how to sign it, and finally got that to work as well.\nBut now I was wondering, do I now not have any false positives?</p>\n<p>I uploaded the signed exe file to VirusTotal and got a score of 2/64 (Cylance marked it as Unsafe, and SecureAge APEX marked it as Malicious)\nGranted I have never heard of either of them, so I wasn't making a big deal out of it.</p>\n<p>But I wondered what the score would be of the original (unsigned) exe at this point, so I uploaded that and got a score of 0/66 (including Cylance and SecureAge APEX)</p>\n<p>Is there any other reason you would like to sign your jar file? At this point I am more tempted to distribute the non-signed one as it provided a greater/perfect score on VirusTotal opposed to the signed one, incase one of the users actually wanted to check it out at some point this would reflect much better on my program, even if it was only a 2/64 from a relatively unknown provider.</p>\n"},{"tags":["java","microservices","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":1,"creation_date":1645890661,"post_id":71273933,"comment_id":125991641,"body_markdown":"Any reason why you want to go microservices first? For a web site and an API, a monolith would be much simpler and less expensive (especially Consul). Not sure what you mean by  92% and 87%, I suppose it&#39;s gradle build progress, which part? How much RAM do you have on your PC?","body":"Any reason why you want to go microservices first? For a web site and an API, a monolith would be much simpler and less expensive (especially Consul). Not sure what you mean by  92% and 87%, I suppose it&#39;s gradle build progress, which part? How much RAM do you have on your PC?"},{"owner":{"account_id":20320029,"reputation":85,"user_id":17102105,"display_name":"Tim Pierce"},"score":0,"creation_date":1645912856,"post_id":71273933,"comment_id":125996246,"body_markdown":"Ga&#235;l Marziou I have 52GB of Ram on my pc. And the reason why i want to go with a micro service archetecture, is It would be better for the long run, I have a start up game design  and software development company, and my website is the face and the store to my company i really want it to be easy to scale. I also plan to use it for a package manager and several other things in the future. so starting it out right i would assume is the best bet.","body":"Ga&#235;l Marziou I have 52GB of Ram on my pc. And the reason why i want to go with a micro service archetecture, is It would be better for the long run, I have a start up game design  and software development company, and my website is the face and the store to my company i really want it to be easy to scale. I also plan to use it for a package manager and several other things in the future. so starting it out right i would assume is the best bet."}],"owner":{"account_id":20320029,"reputation":85,"user_id":17102105,"display_name":"Tim Pierce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647381498,"creation_date":1645847305,"question_id":71273933,"body_markdown":"I am using JHipster to not just make my company website, but the services we provide, from our store to learning zone, and then some at a later date. Now when I start just one microservice (learning) and my gateway, the gate way and learning will launch and be accessible from the browser, but JHipster will stop at 92% executing on the gateway. and 87% executing on the microservice. Consul will also show them as green. \r\n\r\nNow I am slowly learning about microservices and building an app this way, and I am new to JHipster, but not Java. \r\n\r\nGateway setup\r\n```\r\n\r\n\r\n        ██╗ ██╗   ██╗ ████████╗ ███████╗   ██████╗ ████████╗ ████████╗ ███████╗\r\n        ██║ ██║   ██║ ╚══██╔══╝ ██╔═══██╗ ██╔════╝ ╚══██╔══╝ ██╔═════╝ ██╔═══██╗\r\n        ██║ ████████║    ██║    ███████╔╝ ╚█████╗     ██║    ██████╗   ███████╔╝\r\n  ██╗   ██║ ██╔═══██║    ██║    ██╔════╝   ╚═══██╗    ██║    ██╔═══╝   ██╔══██║\r\n  ╚██████╔╝ ██║   ██║ ████████╗ ██║       ██████╔╝    ██║    ████████╗ ██║  ╚██╗\r\n   ╚═════╝  ╚═╝   ╚═╝ ╚═══════╝ ╚═╝       ╚═════╝     ╚═╝    ╚═══════╝ ╚═╝   ╚═╝\r\n\r\n                            https://www.jhipster.tech\r\n\r\nWelcome to JHipster v7.6.0\r\nApplication files will be generated in folder: D:\\SinLessGamesLLCWebsite\\gateway\r\n _______________________________________________________________________________________________________________\r\n\r\n  Documentation for creating an application is at https://www.jhipster.tech/creating-an-app/\r\n  If you find JHipster useful, consider sponsoring the project at https://opencollective.com/generator-jhipster\r\n _______________________________________________________________________________________________________________\r\n\r\n? Which *type* of application would you like to create? Gateway application\r\n? What is the base name of your application? gateway\r\n? As you are running in a microservice architecture, on which port would like your server to run? It should be unique to avoid port conflicts. 8080\r\n? What is your default Java package name? com.sinlessgamesllc\r\n? Which service discovery server do you want to use? Consul\r\n? Which *type* of authentication would you like to use? JWT authentication (stateless, with a token)\r\n? Which *type* of database would you like to use? SQL (H2, PostgreSQL, MySQL, MariaDB, Oracle, MSSQL)\r\n? Which *production* database would you like to use? MySQL\r\n? Which *development* database would you like to use? H2 with disk-based persistence\r\n? Which cache do you want to use? (Spring cache abstraction) Hazelcast (distributed cache, for multiple nodes, supports rate-limiting for gateway applications)\r\n? Do you want to use Hibernate 2nd level cache? Yes\r\n? Would you like to use Maven or Gradle for building the backend? Gradle\r\n? Which other technologies would you like to use? Apache Kafka as asynchronous messages broker, API first development using OpenAPI-generator\r\n? Which *Framework* would you like to use for the client? React\r\n? Do you want to generate the admin UI? Yes\r\n? Would you like to use a Bootswatch theme (https://bootswatch.com/)? Darkly\r\n? Choose a Bootswatch variant navbar theme (https://bootswatch.com/)? Dark\r\n? Would you like to enable internationalization support? No\r\n? Please choose the native language of the application English\r\n     info Disabling hibernate cache for cache provider no\r\n? Besides JUnit and Jest, which testing frameworks would you like to use? Cypress, [DEPRECATED] Protractor, Gatling, Cucumber\r\n? Would you like to install other generators from the JHipster Marketplace? No\r\n\r\n```\r\n\r\nLearning setup\r\n```\r\n? Which *type* of application would you like to create? Microservice application\r\n? What is the base name of your application? learning\r\n? Do you want to make it reactive with Spring WebFlux? Yes\r\n? As you are running in a microservice architecture, on which port would like your server to run? It should be unique to avoid port conflicts. 8089\r\n? What is your default Java package name? com.sinlessgamesllc\r\n? Which service discovery server do you want to use? Consul\r\n? Which *type* of authentication would you like to use? JWT authentication (stateless, with a token)\r\n? Which *type* of database would you like to use? SQL (H2, PostgreSQL, MySQL, MariaDB, MSSQL)\r\n? Which *production* database would you like to use? MySQL\r\n? Which *development* database would you like to use? H2 with disk-based persistence\r\n? Would you like to use Maven or Gradle for building the backend? Gradle\r\n? Which other technologies would you like to use? Apache Kafka as asynchronous messages broker, API first development using OpenAPI-generator\r\n? Would you like to enable internationalization support? No\r\n? Please choose the native language of the application English\r\n? Besides JUnit and Jest, which testing frameworks would you like to use? Cypress, [DEPRECATED] Protractor, Gatling, Cucumber\r\n? Would you like to install other generators from the JHipster Marketplace? No\r\n\r\n```\r\n\r\nMy question is: did I mess something up? Am I going at this the wrong way? \r\n\r\nI do great learning by myself and hands on, and I prefer to be productive as I learn to give myself a sense of accomplishment while achieving what I needed. So I would rather make my site right at first and be able to easily add and manage it than do it wrong and run into problems down the road.\r\n\r\nUpdate\r\n---\r\n\r\nJust a bit more info on my situation. So I left my PC on overnight just to see if the gateway and learning would hit 100% for executing. As of this point they have been running and accessible for 15h 51m so I have come to a conclusion it might just be a bug?\r\n\r\nAlso my computer has 52GB of ram and is running with a intel core i5-9400f @2.90GHz 6 cores with 6 threads.\r\n","title":"How to get started with JHipster and microservices?","body":"<p>I am using JHipster to not just make my company website, but the services we provide, from our store to learning zone, and then some at a later date. Now when I start just one microservice (learning) and my gateway, the gate way and learning will launch and be accessible from the browser, but JHipster will stop at 92% executing on the gateway. and 87% executing on the microservice. Consul will also show them as green.</p>\n<p>Now I am slowly learning about microservices and building an app this way, and I am new to JHipster, but not Java.</p>\n<p>Gateway setup</p>\n<pre><code>\n\n        ██╗ ██╗   ██╗ ████████╗ ███████╗   ██████╗ ████████╗ ████████╗ ███████╗\n        ██║ ██║   ██║ ╚══██╔══╝ ██╔═══██╗ ██╔════╝ ╚══██╔══╝ ██╔═════╝ ██╔═══██╗\n        ██║ ████████║    ██║    ███████╔╝ ╚█████╗     ██║    ██████╗   ███████╔╝\n  ██╗   ██║ ██╔═══██║    ██║    ██╔════╝   ╚═══██╗    ██║    ██╔═══╝   ██╔══██║\n  ╚██████╔╝ ██║   ██║ ████████╗ ██║       ██████╔╝    ██║    ████████╗ ██║  ╚██╗\n   ╚═════╝  ╚═╝   ╚═╝ ╚═══════╝ ╚═╝       ╚═════╝     ╚═╝    ╚═══════╝ ╚═╝   ╚═╝\n\n                            https://www.jhipster.tech\n\nWelcome to JHipster v7.6.0\nApplication files will be generated in folder: D:\\SinLessGamesLLCWebsite\\gateway\n _______________________________________________________________________________________________________________\n\n  Documentation for creating an application is at https://www.jhipster.tech/creating-an-app/\n  If you find JHipster useful, consider sponsoring the project at https://opencollective.com/generator-jhipster\n _______________________________________________________________________________________________________________\n\n? Which *type* of application would you like to create? Gateway application\n? What is the base name of your application? gateway\n? As you are running in a microservice architecture, on which port would like your server to run? It should be unique to avoid port conflicts. 8080\n? What is your default Java package name? com.sinlessgamesllc\n? Which service discovery server do you want to use? Consul\n? Which *type* of authentication would you like to use? JWT authentication (stateless, with a token)\n? Which *type* of database would you like to use? SQL (H2, PostgreSQL, MySQL, MariaDB, Oracle, MSSQL)\n? Which *production* database would you like to use? MySQL\n? Which *development* database would you like to use? H2 with disk-based persistence\n? Which cache do you want to use? (Spring cache abstraction) Hazelcast (distributed cache, for multiple nodes, supports rate-limiting for gateway applications)\n? Do you want to use Hibernate 2nd level cache? Yes\n? Would you like to use Maven or Gradle for building the backend? Gradle\n? Which other technologies would you like to use? Apache Kafka as asynchronous messages broker, API first development using OpenAPI-generator\n? Which *Framework* would you like to use for the client? React\n? Do you want to generate the admin UI? Yes\n? Would you like to use a Bootswatch theme (https://bootswatch.com/)? Darkly\n? Choose a Bootswatch variant navbar theme (https://bootswatch.com/)? Dark\n? Would you like to enable internationalization support? No\n? Please choose the native language of the application English\n     info Disabling hibernate cache for cache provider no\n? Besides JUnit and Jest, which testing frameworks would you like to use? Cypress, [DEPRECATED] Protractor, Gatling, Cucumber\n? Would you like to install other generators from the JHipster Marketplace? No\n\n</code></pre>\n<p>Learning setup</p>\n<pre><code>? Which *type* of application would you like to create? Microservice application\n? What is the base name of your application? learning\n? Do you want to make it reactive with Spring WebFlux? Yes\n? As you are running in a microservice architecture, on which port would like your server to run? It should be unique to avoid port conflicts. 8089\n? What is your default Java package name? com.sinlessgamesllc\n? Which service discovery server do you want to use? Consul\n? Which *type* of authentication would you like to use? JWT authentication (stateless, with a token)\n? Which *type* of database would you like to use? SQL (H2, PostgreSQL, MySQL, MariaDB, MSSQL)\n? Which *production* database would you like to use? MySQL\n? Which *development* database would you like to use? H2 with disk-based persistence\n? Would you like to use Maven or Gradle for building the backend? Gradle\n? Which other technologies would you like to use? Apache Kafka as asynchronous messages broker, API first development using OpenAPI-generator\n? Would you like to enable internationalization support? No\n? Please choose the native language of the application English\n? Besides JUnit and Jest, which testing frameworks would you like to use? Cypress, [DEPRECATED] Protractor, Gatling, Cucumber\n? Would you like to install other generators from the JHipster Marketplace? No\n\n</code></pre>\n<p>My question is: did I mess something up? Am I going at this the wrong way?</p>\n<p>I do great learning by myself and hands on, and I prefer to be productive as I learn to give myself a sense of accomplishment while achieving what I needed. So I would rather make my site right at first and be able to easily add and manage it than do it wrong and run into problems down the road.</p>\n<h2>Update</h2>\n<p>Just a bit more info on my situation. So I left my PC on overnight just to see if the gateway and learning would hit 100% for executing. As of this point they have been running and accessible for 15h 51m so I have come to a conclusion it might just be a bug?</p>\n<p>Also my computer has 52GB of ram and is running with a intel core i5-9400f @2.90GHz 6 cores with 6 threads.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"display_name":"user18098820"},"score":0,"creation_date":1647363469,"post_id":71482097,"comment_id":126350397,"body_markdown":"Please see this post for escaping the `|` https://stackoverflow.com/questions/6305675/split-string-with-separator-in-java","body":"Please see this post for escaping the <code>|</code> <a href=\"https://stackoverflow.com/questions/6305675/split-string-with-separator-in-java\" title=\"split string with separator in java\">stackoverflow.com/questions/6305675/&hellip;</a>"},{"owner":{"account_id":8403225,"reputation":311,"user_id":6307611,"display_name":"doej1367"},"score":0,"creation_date":1647364722,"post_id":71482097,"comment_id":126350848,"body_markdown":"um, yes I already stumbled apon this in my search for answers... but what does that have to do with my question? Spliting my regex string by &quot;\\\\|&quot; does not help me at all, as I only want to split if it is a main one at base level.","body":"um, yes I already stumbled apon this in my search for answers... but what does that have to do with my question? Spliting my regex string by &quot;\\\\|&quot; does not help me at all, as I only want to split if it is a main one at base level."},{"owner":{"display_name":"user18098820"},"score":0,"creation_date":1647364864,"post_id":71482097,"comment_id":126350889,"body_markdown":"You just need to double it and split on `&quot;\\\\|\\\\|&quot;` which will become `||` when it&#39;s been parsed twice.","body":"You just need to double it and split on <code>&quot;\\\\|\\\\|&quot;</code> which will become <code>||</code> when it&#39;s been parsed twice."},{"owner":{"account_id":8403225,"reputation":311,"user_id":6307611,"display_name":"doej1367"},"score":0,"creation_date":1647365260,"post_id":71482097,"comment_id":126351038,"body_markdown":"Not what I originally wanted but I&#39;ll keep it in mind... Only problem here are statements like `testing\\\\|||test`, `testing(\\\\|||\\\\|)||test` or `testing(\\\\||\\\\|)||test` and I&#39;m right back at the beginning as the regex is a user input. The question &#39;how do i split by first level expressions&#39;.","body":"Not what I originally wanted but I&#39;ll keep it in mind... Only problem here are statements like <code>testing\\\\|||test</code>, <code>testing(\\\\|||\\\\|)||test</code> or <code>testing(\\\\||\\\\|)||test</code> and I&#39;m right back at the beginning as the regex is a user input. The question &#39;how do i split by first level expressions&#39;."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1647369514,"post_id":71482097,"comment_id":126352549,"body_markdown":"If your input data can contain nested structures like `a(b|c(d|e))|f` than regex may not be best choice in Java, since it doesn&#39;t support recursion (unless you want to write regex like http://www.drregex.com/2017/11/match-nested-brackets-with-regex-new.html but that would become maintenance hell very quickly).","body":"If your input data can contain nested structures like <code>a(b|c(d|e))|f</code> than regex may not be best choice in Java, since it doesn&#39;t support recursion (unless you want to write regex like <a href=\"http://www.drregex.com/2017/11/match-nested-brackets-with-regex-new.html\" rel=\"nofollow noreferrer\">drregex.com/2017/11/match-nested-brackets-with-regex-new.htm&zwnj;&#8203;l</a> but that would become maintenance hell very quickly)."}],"answers":[{"tags":[],"owner":{"display_name":"user18098820"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647377028,"creation_date":1647377028,"answer_id":71488805,"question_id":71482097,"body_markdown":"Here is a proof of concept Java program splitting on double `||` and leaving single `|` untouched.  \r\nThis would be more complicated to achieve with regex.   \r\nWe have to double escape each pipe because the pattern is parsed twice, once when it is loaded into the variable and again when it is used as a pattern. `\\\\|\\\\|` is thus reduced to `||`.\r\n```\r\nclass split{\r\n  public static void main(String[] args){\r\n    String lineTest = &quot;test (1|2|3)|testing\\\\||tester\\\\nNextLine[ab||]|(test)&quot;;\r\n    String separated[] = \r\n    lineTest.split(&quot;\\\\|\\\\|&quot;);\r\n    for ( int i = 0; i &lt; separated.length;i++){\r\n      System.out.println( separated[i]);\r\n    }\r\n  }\r\n}\r\n```\r\nThe output is:\r\n```\r\ntest (1|2|3)|testing\\\r\ntester\\nNextLine[ab\r\n]|(test)\r\n```","title":"split regular expression string by main &quot;or&quot; operators","body":"<p>Here is a proof of concept Java program splitting on double <code>||</code> and leaving single <code>|</code> untouched.<br />\nThis would be more complicated to achieve with regex.<br />\nWe have to double escape each pipe because the pattern is parsed twice, once when it is loaded into the variable and again when it is used as a pattern. <code>\\\\|\\\\|</code> is thus reduced to <code>||</code>.</p>\n<pre><code>class split{\n  public static void main(String[] args){\n    String lineTest = &quot;test (1|2|3)|testing\\\\||tester\\\\nNextLine[ab||]|(test)&quot;;\n    String separated[] = \n    lineTest.split(&quot;\\\\|\\\\|&quot;);\n    for ( int i = 0; i &lt; separated.length;i++){\n      System.out.println( separated[i]);\n    }\n  }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>test (1|2|3)|testing\\\ntester\\nNextLine[ab\n]|(test)\n</code></pre>\n"}],"owner":{"account_id":8403225,"reputation":311,"user_id":6307611,"display_name":"doej1367"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1647381230,"creation_date":1647346635,"question_id":71482097,"body_markdown":"I just wanted to ask if there is an easy way to do this, before I start building a fully fletched regex interpreter or at least a quite big state machine, just to figure out what degree the or operators have and where to split. To make things clearer let&#39;s put a random example here:\r\n```java\r\nString regex = &quot;test (1|2|3)|testing\\\\||tester\\\\nNextLine[ab|]|(test)&quot;;\r\n```\r\n\r\nThe result I want is the following, spliting the regex by its main `or` operators:\r\n```java\r\nString[] result = { &quot;test (1|2|3)&quot;, &quot;testing\\\\|&quot;, &quot;tester\\\\nNextLine[ab|]&quot;, &quot;(test)&quot; };\r\n```\r\n\r\nAs mentioned I already have some ideas on complex solutions that involve going through the string char by char, skipping escaped characters, figuring out where all the brackets open and close, on what bracket-level that character is, adding the indices of those level 0 &#39;|&#39; characters to a list and splitting the string by those indices, but I am searching for a simple one- or two-liner\r\n\r\naka a more beautiful solution. Is there one?\r\n\r\n---\r\n\r\nTo clarify this even further - I want all alternatives like this in one string array\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\nUPDATE: Not the most beautiful version, but I actually implemented something like a state machine for this now:\r\n```java\r\nprivate ArrayList&lt;String&gt; parseFilters(String regex) {\r\n\tArrayList&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\r\n\tStack&lt;Integer&gt; brackets = new Stack&lt;&gt;();\r\n\tint level = 0;\r\n\tint bracketType = -1;\r\n\tchar lastChar = &#39; &#39;;\r\n\tchar currentChar = &#39; &#39;;\r\n\tfor (int i = 0; i &lt; regex.length(); i++) {\r\n\t\tcurrentChar = regex.charAt(i);\r\n\t\tif (lastChar == &#39;\\\\&#39; || &quot;^$?*+&quot;.indexOf(currentChar) &gt;= 0)\r\n\t\t\t;\r\n\t\telse if (level == 0 &amp;&amp; &quot;|&quot;.indexOf(currentChar) &gt;= 0)\r\n\t\t\tindices.add(i + 1);\r\n\t\telse if ((bracketType = &quot;([{&quot;.indexOf(currentChar)) &gt;= 0) {\r\n\t\t\tbrackets.push(bracketType);\r\n\t\t\tlevel++;\r\n\t\t} else if ((bracketType = &quot;)]}&quot;.indexOf(currentChar)) &gt;= 0) {\r\n\t\t\tif (bracketType == brackets.peek()) {\r\n\t\t\t\tbrackets.pop();\r\n\t\t\t\tlevel--;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlastChar = currentChar;\r\n\t}\r\n\tArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n\tint lastIndex = 0;\r\n\tfor (int i : indices)\r\n\t\tresults.add(regex.substring(lastIndex, (lastIndex = i) - 1));\r\n\tresults.add(regex.substring(lastIndex));\r\n\treturn results;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4wPey.png","title":"split regular expression string by main &quot;or&quot; operators","body":"<p>I just wanted to ask if there is an easy way to do this, before I start building a fully fletched regex interpreter or at least a quite big state machine, just to figure out what degree the or operators have and where to split. To make things clearer let's put a random example here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;test (1|2|3)|testing\\\\||tester\\\\nNextLine[ab|]|(test)&quot;;\n</code></pre>\n<p>The result I want is the following, spliting the regex by its main <code>or</code> operators:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] result = { &quot;test (1|2|3)&quot;, &quot;testing\\\\|&quot;, &quot;tester\\\\nNextLine[ab|]&quot;, &quot;(test)&quot; };\n</code></pre>\n<p>As mentioned I already have some ideas on complex solutions that involve going through the string char by char, skipping escaped characters, figuring out where all the brackets open and close, on what bracket-level that character is, adding the indices of those level 0 '|' characters to a list and splitting the string by those indices, but I am searching for a simple one- or two-liner</p>\n<p>aka a more beautiful solution. Is there one?</p>\n<hr />\n<p>To clarify this even further - I want all alternatives like this in one string array</p>\n<p><a href=\"https://i.stack.imgur.com/4wPey.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4wPey.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>UPDATE: Not the most beautiful version, but I actually implemented something like a state machine for this now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ArrayList&lt;String&gt; parseFilters(String regex) {\n    ArrayList&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\n    Stack&lt;Integer&gt; brackets = new Stack&lt;&gt;();\n    int level = 0;\n    int bracketType = -1;\n    char lastChar = ' ';\n    char currentChar = ' ';\n    for (int i = 0; i &lt; regex.length(); i++) {\n        currentChar = regex.charAt(i);\n        if (lastChar == '\\\\' || &quot;^$?*+&quot;.indexOf(currentChar) &gt;= 0)\n            ;\n        else if (level == 0 &amp;&amp; &quot;|&quot;.indexOf(currentChar) &gt;= 0)\n            indices.add(i + 1);\n        else if ((bracketType = &quot;([{&quot;.indexOf(currentChar)) &gt;= 0) {\n            brackets.push(bracketType);\n            level++;\n        } else if ((bracketType = &quot;)]}&quot;.indexOf(currentChar)) &gt;= 0) {\n            if (bracketType == brackets.peek()) {\n                brackets.pop();\n                level--;\n            }\n        }\n        lastChar = currentChar;\n    }\n    ArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\n    int lastIndex = 0;\n    for (int i : indices)\n        results.add(regex.substring(lastIndex, (lastIndex = i) - 1));\n    results.add(regex.substring(lastIndex));\n    return results;\n}\n</code></pre>\n"},{"tags":["java","time","duration","localtime","temporal"],"answers":[{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647381042,"creation_date":1647376105,"answer_id":71488633,"question_id":71488516,"body_markdown":"`between` is a static factory method of `Duration` class, returning a `Duration` object. \r\n\r\nSo you don&#39;t need to create `Duration` object using the `new` keyword.\r\n\r\n    Duration duration = Duration.between(firstStop, lastStop);","title":"Java Duration Class, cannot resolve to a type","body":"<p><code>between</code> is a static factory method of <code>Duration</code> class, returning a <code>Duration</code> object.</p>\n<p>So you don't need to create <code>Duration</code> object using the <code>new</code> keyword.</p>\n<pre><code>Duration duration = Duration.between(firstStop, lastStop);\n</code></pre>\n"}],"owner":{"account_id":14685401,"reputation":25,"user_id":10605553,"display_name":"CoolHands"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71488633,"answer_count":1,"score":0,"last_activity_date":1647381042,"creation_date":1647375593,"question_id":71488516,"body_markdown":"I am trying to find the difference in time between two LocalTime objects in HH:MM:SS format and **my duration object is giving me the error** *Duration.between cannot be resolved to a type*. The between description on Java docs explicitly says LocalTime objects are valid- do I have to translate my objects into LocalDateTime objects with zones for Duration to work? \r\n\r\nOnly other theory on this issue would be my placement of this class in my Make file, but I would think my import would take care of the issue during compilation. Code below: \r\n\r\n```\r\nimport java.time.*;\r\nimport java.time.Duration;\r\n\r\n\r\npublic class Station {\r\n    int stationNumber;\r\n    String stationAddress;\r\n    ArrayList&lt;Driver&gt; drivers;\r\n    ArrayList&lt;Road&gt; roads;          \r\n    double[][] roadMap;             \r\n\r\n    public Station(int sNumber, String sAddress) {\r\n        stationNumber = sNumber;\r\n        stationAddress = sAddress;\r\n        drivers = new ArrayList&lt;Driver&gt;();\r\n        \r\n        roads = new ArrayList&lt;Road&gt;(5);\r\n        roadMap = new double[5][5];\r\n    }\r\n\r\n    public static void calculateNewTimes(ArrayList&lt;roadDataToBeSorted&gt; delDataIncreasingTime) {\r\n        LocalTime firstStop = LocalTime.parse(delDataIncreasingTime.get(0).rdDeliveryTime);\r\n        LocalTime lastStop = LocalTime.parse(delDataIncreasingTime.get(delDataIncreasingTime.size()-1).rdDeliveryTime);\r\n        Duration duration = new Duration.between(firstStop, lastStop); ***&lt;-----ISSUE***\r\n```","title":"Java Duration Class, cannot resolve to a type","body":"<p>I am trying to find the difference in time between two LocalTime objects in HH:MM:SS format and <strong>my duration object is giving me the error</strong> <em>Duration.between cannot be resolved to a type</em>. The between description on Java docs explicitly says LocalTime objects are valid- do I have to translate my objects into LocalDateTime objects with zones for Duration to work?</p>\n<p>Only other theory on this issue would be my placement of this class in my Make file, but I would think my import would take care of the issue during compilation. Code below:</p>\n<pre><code>import java.time.*;\nimport java.time.Duration;\n\n\npublic class Station {\n    int stationNumber;\n    String stationAddress;\n    ArrayList&lt;Driver&gt; drivers;\n    ArrayList&lt;Road&gt; roads;          \n    double[][] roadMap;             \n\n    public Station(int sNumber, String sAddress) {\n        stationNumber = sNumber;\n        stationAddress = sAddress;\n        drivers = new ArrayList&lt;Driver&gt;();\n        \n        roads = new ArrayList&lt;Road&gt;(5);\n        roadMap = new double[5][5];\n    }\n\n    public static void calculateNewTimes(ArrayList&lt;roadDataToBeSorted&gt; delDataIncreasingTime) {\n        LocalTime firstStop = LocalTime.parse(delDataIncreasingTime.get(0).rdDeliveryTime);\n        LocalTime lastStop = LocalTime.parse(delDataIncreasingTime.get(delDataIncreasingTime.size()-1).rdDeliveryTime);\n        Duration duration = new Duration.between(firstStop, lastStop); ***&lt;-----ISSUE***\n</code></pre>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"score":0,"creation_date":1608488355,"post_id":65382694,"comment_id":115593649,"body_markdown":"Could you change the javafx-fxml version to 15?","body":"Could you change the javafx-fxml version to 15?"},{"owner":{"account_id":14702578,"reputation":85,"user_id":10618241,"display_name":"Luk&#225;š Haspr&#250;n"},"score":0,"creation_date":1608488653,"post_id":65382694,"comment_id":115593735,"body_markdown":"Didn&#39;t help. Seems like there is a problem with javafx completely since that error happens to every javafx module I have in module-info.java. (javafx.fxml, javafx.controls, javafx.graphics)","body":"Didn&#39;t help. Seems like there is a problem with javafx completely since that error happens to every javafx module I have in module-info.java. (javafx.fxml, javafx.controls, javafx.graphics)"}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608494717,"creation_date":1608494717,"answer_id":65384291,"question_id":65382694,"body_markdown":"Add a third dependecy for `javafx-controls` or replace `javafx-graphics` with `javafx-controls`","title":"Maven module not found: javafx.fxml","body":"<p>Add a third dependecy for <code>javafx-controls</code> or replace <code>javafx-graphics</code> with <code>javafx-controls</code></p>\n"},{"tags":[],"owner":{"account_id":14702578,"reputation":85,"user_id":10618241,"display_name":"Luk&#225;š Haspr&#250;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608560646,"creation_date":1608560646,"answer_id":65394470,"question_id":65382694,"body_markdown":"For future references.\r\n\r\nSeems like I found out the answer on my own.\r\n\r\nThe problem was that I forgot to add this\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;15&lt;/source&gt;\r\n                    &lt;target&gt;15&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\nto my ```pom.xml```","title":"Maven module not found: javafx.fxml","body":"<p>For future references.</p>\n<p>Seems like I found out the answer on my own.</p>\n<p>The problem was that I forgot to add this</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;15&lt;/source&gt;\n                    &lt;target&gt;15&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>to my <code>pom.xml</code></p>\n"},{"tags":[],"owner":{"account_id":19679090,"reputation":686,"user_id":14406682,"display_name":"Maurycyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647380628,"creation_date":1647380628,"answer_id":71489374,"question_id":65382694,"body_markdown":"I was working in IntelliJ IDEA and also encountered this problem. NOTHING worked, not one single solution I found on the internet, but then I took a look into File &gt; Project Structure &gt; Problems and there I saw the following line (alongside 3 others, in my case)\r\n```\r\nLibrary Maven: org.openjfx:javafx-controls:linux:16 is not used&#160;[Fix]\r\n```\r\nSo I pressed on [Fix] and one of the options was &quot;Add to Dependencies&quot;, which, upon selecting, resulted in the following message:\r\n```\r\nLibrary `Maven: org.openjfx:javafx-controls:linux:16` will be added to the selected modules:\r\n```\r\nand a list consisting of one module named after the name of my project.\r\n\r\nI hit &quot;OK&quot; and then &quot;OK&quot; and all in all, there was one significant change.\r\n\r\nIt turned out that I was missing the following line:\r\n```\r\n&lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:linux:16&quot; level=&quot;project&quot; /&gt;\r\n```\r\nand 3 more, very similar ones with `javafx-fxml`, `javafx-base`, and `javafx-graphics`  in the file ProjectName.iml, where ProjectName was the name of my project.\r\n\r\nI am not an expert, so I do not know what I have just done, but hopefully this helps a poor soul who finds themselves in the same situation I had.\r\n","title":"Maven module not found: javafx.fxml","body":"<p>I was working in IntelliJ IDEA and also encountered this problem. NOTHING worked, not one single solution I found on the internet, but then I took a look into File &gt; Project Structure &gt; Problems and there I saw the following line (alongside 3 others, in my case)</p>\n<pre><code>Library Maven: org.openjfx:javafx-controls:linux:16 is not used [Fix]\n</code></pre>\n<p>So I pressed on [Fix] and one of the options was &quot;Add to Dependencies&quot;, which, upon selecting, resulted in the following message:</p>\n<pre><code>Library `Maven: org.openjfx:javafx-controls:linux:16` will be added to the selected modules:\n</code></pre>\n<p>and a list consisting of one module named after the name of my project.</p>\n<p>I hit &quot;OK&quot; and then &quot;OK&quot; and all in all, there was one significant change.</p>\n<p>It turned out that I was missing the following line:</p>\n<pre><code>&lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:linux:16&quot; level=&quot;project&quot; /&gt;\n</code></pre>\n<p>and 3 more, very similar ones with <code>javafx-fxml</code>, <code>javafx-base</code>, and <code>javafx-graphics</code>  in the file ProjectName.iml, where ProjectName was the name of my project.</p>\n<p>I am not an expert, so I do not know what I have just done, but hopefully this helps a poor soul who finds themselves in the same situation I had.</p>\n"}],"owner":{"account_id":14702578,"reputation":85,"user_id":10618241,"display_name":"Luk&#225;š Haspr&#250;n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6426,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1647380628,"creation_date":1608484910,"question_id":65382694,"body_markdown":"I&#39;m trying to make a multi-module maven project. First module would be an JavaFX and the second one would be a SpringBoot, but I&#39;m having problem with the JavaFX.\r\n\r\nWhen I run ```mvn clean install``` I get these errors: ```module not found: javafx.fxml```, ```module not found: javafx.controls```, ```module not found: javafx.graphics``` \r\n\r\nmodule-info.java:\r\n```\r\nmodule example {\r\n    requires javafx.fxml;\r\n    requires javafx.controls;\r\n    requires javafx.graphics;\r\n}\r\n```\r\n\r\nI do have javafx in my pom.xml as seen here:\r\n```\r\n   &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;16-ea+5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nMy application runs without problem, but maven seems to have some kind of problem with javafx.\r\n\r\nI use IntelliJ IDEA.","title":"Maven module not found: javafx.fxml","body":"<p>I'm trying to make a multi-module maven project. First module would be an JavaFX and the second one would be a SpringBoot, but I'm having problem with the JavaFX.</p>\n<p>When I run <code>mvn clean install</code> I get these errors: <code>module not found: javafx.fxml</code>, <code>module not found: javafx.controls</code>, <code>module not found: javafx.graphics</code></p>\n<p>module-info.java:</p>\n<pre><code>module example {\n    requires javafx.fxml;\n    requires javafx.controls;\n    requires javafx.graphics;\n}\n</code></pre>\n<p>I do have javafx in my pom.xml as seen here:</p>\n<pre><code>   &lt;properties&gt;\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;11.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;16-ea+5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>My application runs without problem, but maven seems to have some kind of problem with javafx.</p>\n<p>I use IntelliJ IDEA.</p>\n"},{"tags":["java","android","logging","slf4j","logback"],"comments":[{"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"score":0,"creation_date":1457509594,"post_id":35883132,"comment_id":59433196,"body_markdown":"which android version are you using? does your app has write permission in manifest? I am not shure if newer android versions are allowed to write into the root dir of sdcard? note: not every android app has a folder /sdcard/","body":"which android version are you using? does your app has write permission in manifest? I am not shure if newer android versions are allowed to write into the root dir of sdcard? note: not every android app has a folder /sdcard/"},{"owner":{"account_id":382468,"reputation":1846,"user_id":737704,"accept_rate":12,"display_name":"Suresh Sharma"},"score":0,"creation_date":1457510665,"post_id":35883132,"comment_id":59433693,"body_markdown":"Yes, app has write on external device permission in manifest.","body":"Yes, app has write on external device permission in manifest."}],"answers":[{"tags":[],"owner":{"account_id":296083,"reputation":129350,"user_id":6277151,"display_name":"tony19"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1647380290,"creation_date":1464182340,"answer_id":37438467,"question_id":35883132,"body_markdown":"`logback-android` requires `slf4j-api`. `slf4j-android` should not be used, as that&#39;s a standalone library that only redirects logs to logcat and does not process `logback.xml`.\r\n\r\nFrom `logback-android`&#39;s [GitHub page](https://github.com/tony19/logback-android), the correct dependencies are:\r\n\r\n    dependencies {\r\n      implementation &#39;org.slf4j:slf4j-api:1.7.25&#39;\r\n      implementation &#39;com.github.tony19:logback-android:2.0.0&#39;\r\n    }\r\n","title":"How to get log file using SLF4j in android","body":"<p><code>logback-android</code> requires <code>slf4j-api</code>. <code>slf4j-android</code> should not be used, as that's a standalone library that only redirects logs to logcat and does not process <code>logback.xml</code>.</p>\n<p>From <code>logback-android</code>'s <a href=\"https://github.com/tony19/logback-android\" rel=\"nofollow noreferrer\">GitHub page</a>, the correct dependencies are:</p>\n<pre><code>dependencies {\n  implementation 'org.slf4j:slf4j-api:1.7.25'\n  implementation 'com.github.tony19:logback-android:2.0.0'\n}\n</code></pre>\n"}],"owner":{"account_id":382468,"reputation":1846,"user_id":737704,"accept_rate":12,"display_name":"Suresh Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8331,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1647380290,"creation_date":1457499003,"question_id":35883132,"body_markdown":"I&#39;ve implemented code for creating log file using slf4j in android but couldn&#39;t succeeded.\r\n\r\nFirst I&#39;ve added gradle dependency as per below:- \r\n\r\n    compile &#39;org.slf4j:slf4j-android:1.6.1-RC1&#39;\r\n    compile &#39;com.github.tony19:logback-android-core:1.0.7-1&#39;\r\n\r\nThen as per the guidelines i created a configuration file in assets folder named as `logback.xml` as per below :-\r\n\r\n    &lt;configuration&gt;\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;/sdcard/testFile.log&lt;/file&gt;\r\n        &lt;append&gt;true&lt;/append&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\nFinally I add a log in my application like below:-\r\n\r\n    Logger logger = LoggerFactory.getLogger(HomeActivity.class);\r\n    logger.debug(&quot;Testing slf4j&quot;, &quot;Hello world&quot;);\r\n\r\nNow I ran this program and expecting the a log file there in SDcard but unfortunately no such file is seen. Please let me know if I am missing anything.\r\nIf anybody have made it in android application, please help me out.\r\n\r\nThanks.","title":"How to get log file using SLF4j in android","body":"<p>I've implemented code for creating log file using slf4j in android but couldn't succeeded.</p>\n\n<p>First I've added gradle dependency as per below:- </p>\n\n<pre><code>compile 'org.slf4j:slf4j-android:1.6.1-RC1'\ncompile 'com.github.tony19:logback-android-core:1.0.7-1'\n</code></pre>\n\n<p>Then as per the guidelines i created a configuration file in assets folder named as <code>logback.xml</code> as per below :-</p>\n\n<pre><code>&lt;configuration&gt;\n&lt;appender name=\"FILE\" class=\"ch.qos.logback.core.FileAppender\"&gt;\n    &lt;file&gt;/sdcard/testFile.log&lt;/file&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=\"DEBUG\"&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p></p>\n\n<p>Finally I add a log in my application like below:-</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(HomeActivity.class);\nlogger.debug(\"Testing slf4j\", \"Hello world\");\n</code></pre>\n\n<p>Now I ran this program and expecting the a log file there in SDcard but unfortunately no such file is seen. Please let me know if I am missing anything.\nIf anybody have made it in android application, please help me out.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":23932131,"reputation":1027,"user_id":17926477,"display_name":"Ricardo Jose Velasquez Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647379162,"creation_date":1647379162,"answer_id":71489168,"question_id":71488750,"body_markdown":"You are correct, the `GoogleCredential` is currently deprecated. Instead, if you need to access Google Sheets using a service account, use the [Google OAuth2 library](https://github.com/googleapis/google-auth-library-java).\r\n\r\nUsage example:\r\n```java\r\n\r\nprivate static final String APPLICATION_NAME = &quot;The Sheets API&quot;;\r\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\nprivate static final List&lt;String&gt; SCOPES = Collections.singletonList(SheetsScopes.SPREADSHEETS_READONLY);\r\n\r\nfinal NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\nGoogleCredentials googleCredentials;\r\ntry(InputStream inputSteam = &lt;YOURCLASS&gt;.class.getResourceAsStream(&quot;/path/to/credentials/file.json&quot;)) {\r\n  googleCredentials = GoogleCredentials.fromStream(credentialsStream).createScoped(SCOPES)\r\n}\r\nSheets service = Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, new HttpCredentialsAdapter(googleCredentials))\r\n            .setApplicationName(APPLICATION_NAME)\r\n            .build()\r\n```\r\n\r\nYou can also find an excellent explanation from this [thread][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49511575/google-sheets-use-api-key-instead-of-client-secret-json","title":"How to grant sheets API credentials via service account","body":"<p>You are correct, the <code>GoogleCredential</code> is currently deprecated. Instead, if you need to access Google Sheets using a service account, use the <a href=\"https://github.com/googleapis/google-auth-library-java\" rel=\"nofollow noreferrer\">Google OAuth2 library</a>.</p>\n<p>Usage example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate static final String APPLICATION_NAME = &quot;The Sheets API&quot;;\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\nprivate static final List&lt;String&gt; SCOPES = Collections.singletonList(SheetsScopes.SPREADSHEETS_READONLY);\n\nfinal NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\nGoogleCredentials googleCredentials;\ntry(InputStream inputSteam = &lt;YOURCLASS&gt;.class.getResourceAsStream(&quot;/path/to/credentials/file.json&quot;)) {\n  googleCredentials = GoogleCredentials.fromStream(credentialsStream).createScoped(SCOPES)\n}\nSheets service = Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, new HttpCredentialsAdapter(googleCredentials))\n            .setApplicationName(APPLICATION_NAME)\n            .build()\n</code></pre>\n<p>You can also find an excellent explanation from this <a href=\"https://stackoverflow.com/questions/49511575/google-sheets-use-api-key-instead-of-client-secret-json\">thread</a></p>\n"}],"owner":{"account_id":24446435,"reputation":1,"user_id":18369309,"display_name":"apitester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647379162,"creation_date":1647376706,"question_id":71488750,"body_markdown":"I have a service account and want to share its credentials to the api.\r\n\r\nI tried https://developers.google.com/identity/protocols/oauth2/service-account , but it seems like `import com.google.api.client.googleapis.auth.oauth2.GoogleCredential;` is deprecated. \r\n\r\n\r\nIs the [java quickstart credentials][1] supposed to be an alternative to the import? I&#39;m not exactly sure how to get credentials passed in.\r\n\r\n    Sheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build();\r\n\r\n\r\n  [1]: https://developers.google.com/sheets/api/quickstart/java","title":"How to grant sheets API credentials via service account","body":"<p>I have a service account and want to share its credentials to the api.</p>\n<p>I tried <a href=\"https://developers.google.com/identity/protocols/oauth2/service-account\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/protocols/oauth2/service-account</a> , but it seems like <code>import com.google.api.client.googleapis.auth.oauth2.GoogleCredential;</code> is deprecated.</p>\n<p>Is the <a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"nofollow noreferrer\">java quickstart credentials</a> supposed to be an alternative to the import? I'm not exactly sure how to get credentials passed in.</p>\n<pre><code>Sheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n</code></pre>\n"},{"tags":["java","dictionary","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":14361012,"reputation":834,"user_id":10373317,"display_name":"GauravRai1512"},"score":0,"creation_date":1542017788,"post_id":53259891,"comment_id":93404319,"body_markdown":"can you edit your question with complete code and error?","body":"can you edit your question with complete code and error?"},{"owner":{"account_id":5042493,"reputation":300,"user_id":4049426,"display_name":"Sodala"},"score":2,"creation_date":1542017860,"post_id":53259891,"comment_id":93404358,"body_markdown":"I am not sure that your problem is on the map method. Can you show the rest of the method. The problem I have with your map method is that the variable is not declared in the map method. I always use the smallest scope possible. But it is not your problem here","body":"I am not sure that your problem is on the map method. Can you show the rest of the method. The problem I have with your map method is that the variable is not declared in the map method. I always use the smallest scope possible. But it is not your problem here"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1542018004,"post_id":53259891,"comment_id":93404440,"body_markdown":"@Sodala On the other hand, if cloned isnt a local variable, this wouldnt compile. Strange.","body":"@Sodala On the other hand, if cloned isnt a local variable, this wouldnt compile. Strange."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1542018020,"post_id":53259891,"comment_id":93404448,"body_markdown":"Please read &quot;How to create a [mcve]&quot;. Then use the [edit] link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you.","body":"Please read &quot;How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. Then use the <a href=\"https://stackoverflow.com/posts/53259891/edit\">edit</a> link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you."},{"owner":{"account_id":12937317,"reputation":77,"user_id":9354242,"display_name":"Meini"},"score":0,"creation_date":1542018977,"post_id":53259891,"comment_id":93404966,"body_markdown":"This answer refers to filter but is basically the same: https://stackoverflow.com/a/45793560/9354242","body":"This answer refers to filter but is basically the same: <a href=\"https://stackoverflow.com/a/45793560/9354242\">stackoverflow.com/a/45793560/9354242</a>"}],"answers":[{"tags":[],"owner":{"account_id":3785803,"reputation":83,"user_id":3143797,"display_name":"Mani Kumar Reddy Kancharla"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1542017792,"creation_date":1542017792,"answer_id":53260006,"question_id":53259891,"body_markdown":"It is a warning because you have used a new variable `cloned` unnecessarily instead of directly chaining functions like\r\n\r\n    List&lt;myObject&gt; clonedList = listToClone.stream()\r\n        .map(item -&gt; {return (new myObject(item)).setLifeCycle(&quot;someLifeCycle&quot;);})\r\n        .collect(Collectors.toList());","title":"Java init object and set property using Stream","body":"<p>It is a warning because you have used a new variable <code>cloned</code> unnecessarily instead of directly chaining functions like</p>\n\n<pre><code>List&lt;myObject&gt; clonedList = listToClone.stream()\n    .map(item -&gt; {return (new myObject(item)).setLifeCycle(\"someLifeCycle\");})\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14692591,"reputation":2143,"user_id":10610826,"display_name":"Mykhailo Moskura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542018640,"creation_date":1542018072,"answer_id":53260097,"question_id":53259891,"body_markdown":"            public class MyObject{\r\n             private String someLifeCycle;\r\n             private Item item;\r\n              public MyObject(final String someLifeCycle,final Item item){\r\n                this.someLifeCycle = someLifeCycle;\r\n                this.item = item;\r\n               }\r\n              //getters and setters\r\n            }\r\n\r\nAnd your code will be like this : \r\n\r\n        List&lt;MyObject&gt; clonedList = listToClone.stream()\r\n     .map(item -&gt; new MyObject(item,&quot;someLifeCycle&quot;)).collect(Collectors.toList());\r\n\r\n \r\n\r\n\r\n","title":"Java init object and set property using Stream","body":"<pre><code>        public class MyObject{\n         private String someLifeCycle;\n         private Item item;\n          public MyObject(final String someLifeCycle,final Item item){\n            this.someLifeCycle = someLifeCycle;\n            this.item = item;\n           }\n          //getters and setters\n        }\n</code></pre>\n\n<p>And your code will be like this : </p>\n\n<pre><code>    List&lt;MyObject&gt; clonedList = listToClone.stream()\n .map(item -&gt; new MyObject(item,\"someLifeCycle\")).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542018192,"creation_date":1542018192,"answer_id":53260138,"question_id":53259891,"body_markdown":"You can try this:\r\n\r\n    List&lt;myObject&gt; clonedList = listToClone.stream()\r\n                                           .map(myObject::new)\r\n                                           .map(o -&gt; {\r\n                                               o.setLifeCycle(&quot;someLifeCycle&quot;);\r\n                                               return o;\r\n                                           })\r\n                                           .collect(Collectors.toList());","title":"Java init object and set property using Stream","body":"<p>You can try this:</p>\n\n<pre><code>List&lt;myObject&gt; clonedList = listToClone.stream()\n                                       .map(myObject::new)\n                                       .map(o -&gt; {\n                                           o.setLifeCycle(\"someLifeCycle\");\n                                           return o;\n                                       })\n                                       .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":6877765,"reputation":143,"user_id":5285645,"display_name":"Ace66"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53260006,"answer_count":3,"score":1,"last_activity_date":1647378942,"creation_date":1542017322,"question_id":53259891,"body_markdown":"I&#39;m trying to clone a list to a new list and set a property in the new list.\r\nI&#39;m trying to use Java8 Stream as it makes cloning simple.\r\nMy code works but it gives this code smell from Sonar:\r\n\r\n&gt; Local variables should not be declared and then immediately returned or thrown (squid:S1488)\r\n\r\nIs there a way to do this without using a local variable?\r\ncode:\r\n\r\n    List&lt;myObject&gt; clonedList = listToClone.stream()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t.map(item -&gt;  {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\tcloned = new myObject(item);\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\tcloned.setLifeCycle(&quot;someLifeCycle&quot;);\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\treturn cloned;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t})\r\n    \t\t\t\t\t\t\t\t\t\t\t\t.collect(Collectors.toList());\r\n\r\n\r\nThanks","title":"Java init object and set property using Stream","body":"<p>I'm trying to clone a list to a new list and set a property in the new list.\nI'm trying to use Java8 Stream as it makes cloning simple.\nMy code works but it gives this code smell from Sonar:</p>\n\n<blockquote>\n  <p>Local variables should not be declared and then immediately returned or thrown (squid:S1488)</p>\n</blockquote>\n\n<p>Is there a way to do this without using a local variable?\ncode:</p>\n\n<pre><code>List&lt;myObject&gt; clonedList = listToClone.stream()\n                                                .map(item -&gt;  {\n                                                    cloned = new myObject(item);\n                                                    cloned.setLifeCycle(\"someLifeCycle\");\n                                                    return cloned;\n                                                })\n                                                .collect(Collectors.toList());\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","either","vavr"],"answers":[{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1560032791,"creation_date":1560029695,"answer_id":56510305,"question_id":56510099,"body_markdown":"`orElse` returns `Option&lt;T&gt;` while `doSomething` return type requires `Either&lt;String, Integer&gt;`.\r\n\r\nInstead, try to use `getOrElse` which returns `T`:\r\n\r\n    public Either&lt;String, Integer&gt; doSomething() {\r\n        // ...\r\n        return integerOption.map(\r\n            Either::&lt;String, Integer&gt;right).getOrElse(\r\n                () -&gt; Either.left(&quot;Error message&quot;));\r\n    }","title":"How to get Either left/right depending of Option value","body":"<p><code>orElse</code> returns <code>Option&lt;T&gt;</code> while <code>doSomething</code> return type requires <code>Either&lt;String, Integer&gt;</code>.</p>\n\n<p>Instead, try to use <code>getOrElse</code> which returns <code>T</code>:</p>\n\n<pre><code>public Either&lt;String, Integer&gt; doSomething() {\n    // ...\n    return integerOption.map(\n        Either::&lt;String, Integer&gt;right).getOrElse(\n            () -&gt; Either.left(\"Error message\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3792898,"reputation":197,"user_id":3148903,"display_name":"adil.hilmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560030311,"creation_date":1560030311,"answer_id":56510338,"question_id":56510099,"body_markdown":"Since you want to return `Either&lt;...&gt;` not an `Option&lt;Either&lt;...&gt;&gt;` you have to use [getOrElse](https://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/control/Option.html#getOrElse-java.util.function.Supplier-)","title":"How to get Either left/right depending of Option value","body":"<p>Since you want to return <code>Either&lt;...&gt;</code> not an <code>Option&lt;Either&lt;...&gt;&gt;</code> you have to use <a href=\"https://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/control/Option.html#getOrElse-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">getOrElse</a></p>\n"},{"tags":[],"owner":{"account_id":3266323,"reputation":12567,"user_id":2750743,"display_name":"Klesun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593196703,"creation_date":1591281932,"answer_id":62197506,"question_id":56510099,"body_markdown":"I think redundant generics and formatting in @oleksandr-pyrohov&#39;s answer overcomplicate things a bit. I&#39;d just write it this way instead:\r\n```java\r\npublic Either&lt;String, Integer&gt; doSomething() {\r\n    // ...\r\n    return integerOption\r\n        .map(Either::right)\r\n        .orElseGet(() -&gt; Either.left(&quot;Error message&quot;));\r\n}\r\n```\r\n\r\nUpd.: though it does not seem to always infer generics on it&#39;s own sadly.","title":"How to get Either left/right depending of Option value","body":"<p>I think redundant generics and formatting in @oleksandr-pyrohov's answer overcomplicate things a bit. I'd just write it this way instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Either&lt;String, Integer&gt; doSomething() {\n    // ...\n    return integerOption\n        .map(Either::right)\n        .orElseGet(() -&gt; Either.left(&quot;Error message&quot;));\n}\n</code></pre>\n<p>Upd.: though it does not seem to always infer generics on it's own sadly.</p>\n"},{"tags":[],"owner":{"account_id":5471025,"reputation":155,"user_id":4350400,"accept_rate":43,"display_name":"luprogrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647378896,"creation_date":1647378896,"answer_id":71489120,"question_id":56510099,"body_markdown":"It works for me \r\n\r\n    public Either&lt;String, Integer&gt; doSomething() {\r\n    // ...\r\n    return integerOption\r\n        .&lt;Either&lt;String, Integer&gt;&gt;map(Either::right)\r\n        .orElseGet(() -&gt; Either.left(&quot;Error message&quot;));\r\n    }","title":"How to get Either left/right depending of Option value","body":"<p>It works for me</p>\n<pre><code>public Either&lt;String, Integer&gt; doSomething() {\n// ...\nreturn integerOption\n    .&lt;Either&lt;String, Integer&gt;&gt;map(Either::right)\n    .orElseGet(() -&gt; Either.left(&quot;Error message&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":3600965,"reputation":609,"user_id":3004282,"display_name":"EFOE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6652,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56510305,"answer_count":4,"score":2,"last_activity_date":1647378896,"creation_date":1560027633,"question_id":56510099,"body_markdown":"I&#39;m trying to return `Either` value depending on option value. My goal is to return Either.right() if the option is present otherwise, the code should return Either.left(). \r\nI use Java 8 and vavr 0.9.2\r\n\r\nI want to avoid conditional imbrication\r\n\r\n```java\r\npublic Either&lt;String, Integer&gt; doSomething() {\r\n    Optional&lt;Integer&gt; optionalInteger = Optional.of(Integer.MIN_VALUE);\r\n    Option&lt;Integer&gt; integerOption = Option.ofOptional(optionalInteger);\r\n\r\n    return integerOption.map(value -&gt; {\r\n      //some other actions here\r\n      return Either.right(value);\r\n    }).orElse(() -&gt; {\r\n      //some other checks her also \r\n      return Either.left(&quot;Error message&quot;);\r\n    });\r\n}\r\n```\r\n\r\nthe compiler fail with this message \r\n```\r\nError:(58, 7) java: no suitable method found for orElse(()-&gt;Either[...]age&quot;))\r\n    method io.vavr.control.Option.orElse(io.vavr.control.Option&lt;? extends io.vavr.control.Either&lt;java.lang.Object,java.lang.Integer&gt;&gt;) is not applicable\r\n      (argument mismatch; io.vavr.control.Option is not a functional interface\r\n          multiple non-overriding abstract methods found in interface io.vavr.control.Option)\r\n    method io.vavr.control.Option.orElse(java.util.function.Supplier&lt;? extends io.vavr.control.Option&lt;? extends io.vavr.control.Either&lt;java.lang.Object,java.lang.Integer&gt;&gt;&gt;) is not applicable\r\n      (argument mismatch; bad return type in lambda expression\r\n          no instance(s) of type variable(s) L,R exist so that io.vavr.control.Either&lt;L,R&gt; conforms to io.vavr.control.Option&lt;? extends io.vavr.control.Either&lt;java.lang.Object,java.lang.Integer&gt;&gt;)\r\n```","title":"How to get Either left/right depending of Option value","body":"<p>I'm trying to return <code>Either</code> value depending on option value. My goal is to return Either.right() if the option is present otherwise, the code should return Either.left(). \nI use Java 8 and vavr 0.9.2</p>\n\n<p>I want to avoid conditional imbrication</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Either&lt;String, Integer&gt; doSomething() {\n    Optional&lt;Integer&gt; optionalInteger = Optional.of(Integer.MIN_VALUE);\n    Option&lt;Integer&gt; integerOption = Option.ofOptional(optionalInteger);\n\n    return integerOption.map(value -&gt; {\n      //some other actions here\n      return Either.right(value);\n    }).orElse(() -&gt; {\n      //some other checks her also \n      return Either.left(\"Error message\");\n    });\n}\n</code></pre>\n\n<p>the compiler fail with this message </p>\n\n<pre><code>Error:(58, 7) java: no suitable method found for orElse(()-&gt;Either[...]age\"))\n    method io.vavr.control.Option.orElse(io.vavr.control.Option&lt;? extends io.vavr.control.Either&lt;java.lang.Object,java.lang.Integer&gt;&gt;) is not applicable\n      (argument mismatch; io.vavr.control.Option is not a functional interface\n          multiple non-overriding abstract methods found in interface io.vavr.control.Option)\n    method io.vavr.control.Option.orElse(java.util.function.Supplier&lt;? extends io.vavr.control.Option&lt;? extends io.vavr.control.Either&lt;java.lang.Object,java.lang.Integer&gt;&gt;&gt;) is not applicable\n      (argument mismatch; bad return type in lambda expression\n          no instance(s) of type variable(s) L,R exist so that io.vavr.control.Either&lt;L,R&gt; conforms to io.vavr.control.Option&lt;? extends io.vavr.control.Either&lt;java.lang.Object,java.lang.Integer&gt;&gt;)\n</code></pre>\n"},{"tags":["java","sorting","collections","java-8","comparator"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1541710555,"post_id":53215968,"comment_id":93319665,"body_markdown":"In Java 8+: `Comparator.comparing(Contact::getLastName).thenComparing(Concat::getFirstName).thenComparingInt(Contact::getConcatId)`.","body":"In Java 8+: <code>Comparator.comparing(Contact::getLastName).thenComparing(Con&zwnj;&#8203;cat::getFirstName).t&zwnj;&#8203;henComparingInt(Cont&zwnj;&#8203;act::getConcatId)</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1541710630,"post_id":53215968,"comment_id":93319700,"body_markdown":"In &quot;`c1.getLastName().toLowerCase().equals(c1.getLastName().toLowerCase())`&quot;: you&#39;re using `c1` twice. And use `c1.getLastName().equalsIgnoreCase(c2.getLastName())`, anyway.","body":"In &quot;<code>c1.getLastName().toLowerCase().equals(c1.getLastName().toLo&zwnj;&#8203;werCase())</code>&quot;: you&#39;re using <code>c1</code> twice. And use <code>c1.getLastName().equalsIgnoreCase(c2.getLastName())</code>, anyway."},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":0,"creation_date":1541710693,"post_id":53215968,"comment_id":93319725,"body_markdown":"in compare() your if statements compare c1 with c1 rather than comparing c1 with c2.","body":"in compare() your if statements compare c1 with c1 rather than comparing c1 with c2."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1541710804,"post_id":53215968,"comment_id":93319775,"body_markdown":"Note also that the condition of the `else if` is the complement of the condition of the `if`, so you never reach the final `else`.","body":"Note also that the condition of the <code>else if</code> is the complement of the condition of the <code>if</code>, so you never reach the final <code>else</code>."}],"answers":[{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541711327,"creation_date":1541710697,"answer_id":53216022,"question_id":53215968,"body_markdown":" Use `Comparator` API:\r\n  \r\n     Comparator&lt;Contact&gt; comparator = \r\n           Comparator.comparing(Contact::getLastName, String.CASE_INSENSITIVE_ORDER)\r\n                     .thenComparing(Concat::getFirstName, String.CASE_INSENSITIVE_ORDER)\r\n                     .thenComparingInt(Contact::getContactId);","title":"Comparator is not working, I can&#39;t find the mistake","body":"<p>Use <code>Comparator</code> API:</p>\n\n<pre><code> Comparator&lt;Contact&gt; comparator = \n       Comparator.comparing(Contact::getLastName, String.CASE_INSENSITIVE_ORDER)\n                 .thenComparing(Concat::getFirstName, String.CASE_INSENSITIVE_ORDER)\n                 .thenComparingInt(Contact::getContactId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9795689,"reputation":1259,"user_id":7258827,"display_name":"AppleCiderGuy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1541710708,"creation_date":1541710708,"answer_id":53216026,"question_id":53215968,"body_markdown":"this is what u have done:\r\n\r\n    c1.getLastName().toLowerCase().equals(c1.getLastName().toLowerCase()\r\nyou are comparing **c1&#39;s** last name with **c1&#39;s** last name \r\n\r\ninstead do this:\r\n\r\n    c1.getLastName().toLowerCase().equals(c2.getLastName().toLowerCase()\r\nsame goes for first name!","title":"Comparator is not working, I can&#39;t find the mistake","body":"<p>this is what u have done:</p>\n\n<pre><code>c1.getLastName().toLowerCase().equals(c1.getLastName().toLowerCase()\n</code></pre>\n\n<p>you are comparing <strong>c1's</strong> last name with <strong>c1's</strong> last name </p>\n\n<p>instead do this:</p>\n\n<pre><code>c1.getLastName().toLowerCase().equals(c2.getLastName().toLowerCase()\n</code></pre>\n\n<p>same goes for first name!</p>\n"}],"owner":{"account_id":7581485,"reputation":161,"user_id":5752060,"accept_rate":100,"display_name":"s-kaczmarek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53216026,"answer_count":2,"score":1,"last_activity_date":1647378820,"creation_date":1541710409,"question_id":53215968,"body_markdown":"I&#39;m trying to sort list of objects fetched from database with comparator object. It should compare **last names** and if **last names** are the same it should compare **first names** and determinate order by them, so if I have list like that:\r\n\r\n    [Jon Doe][Zed Adams][John Adams]\r\n\r\nIt should be sorted like that:\r\n\r\n    [John Adams][Zed Adams][Jon Doe]\r\n\r\nNow let&#39;s take a look at my code:\r\n\r\nComparator class:\r\n\r\n    public class ComparatorContactByName implements Comparator&lt;Contact&gt; {\r\n        @Override\r\n        public int compare(Contact c1, Contact c2) {\r\n\r\n            // if lastNames of compared objects are not the same, compare them\r\n            if(!c1.getLastName().toLowerCase().equals(c1.getLastName().toLowerCase())){\r\n                return c1.getLastName().compareTo(c2.getLastName());\r\n\r\n            // if lastNames are the same, compare by firstName\r\n            }else if(c1.getLastName().toLowerCase().equals(c1.getLastName().toLowerCase())){\r\n                return c1.getFirstName().toLowerCase().compareTo(c2.getFirstName().toLowerCase());\r\n\r\n                // other case like firstName and lastName are the same, compare by id\r\n            }else{\r\n                return c1.getContactId() - c2.getContactId();\r\n            }\r\n        }\r\n    }\r\n\r\nController Method:\r\n\r\n    public void getAllContactsSortedByName(){\r\n\r\n        List&lt;Contact&gt; allContacts = ContactRepository.listAllContacts();\r\n\r\n        Comparator comparatorContactByName = new ComparatorContactByName();\r\n\r\n        Collections.sort(allContacts, comparatorContactByName);\r\n\r\n        if (allContacts == null) {\r\n            System.out.println(&quot;No contact found. &quot;);\r\n        } else {\r\n            for (Contact contact : allContacts) {\r\n                System.out.println(contact.toString());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAfter calling this method I&#39;m getting output like this:\r\n\r\n    Contact{contactId= 133, firstName= John, lastName= Adams, email= ja@email.com, groups= [gym]}    \r\n    Contact{contactId= 126, firstName= Jon, lastName= Doe, email= jd@email.com, groups= [work, gym]}    \r\n    Contact{contactId= 130, firstName= Zed, lastName= Adams, email= za@email.com, groups= [work]}\r\n\r\n&quot;Zed&quot; should be second, but he is last. Any ideas how to fix this logic?\r\n","title":"Comparator is not working, I can&#39;t find the mistake","body":"<p>I'm trying to sort list of objects fetched from database with comparator object. It should compare <strong>last names</strong> and if <strong>last names</strong> are the same it should compare <strong>first names</strong> and determinate order by them, so if I have list like that:</p>\n\n<pre><code>[Jon Doe][Zed Adams][John Adams]\n</code></pre>\n\n<p>It should be sorted like that:</p>\n\n<pre><code>[John Adams][Zed Adams][Jon Doe]\n</code></pre>\n\n<p>Now let's take a look at my code:</p>\n\n<p>Comparator class:</p>\n\n<pre><code>public class ComparatorContactByName implements Comparator&lt;Contact&gt; {\n    @Override\n    public int compare(Contact c1, Contact c2) {\n\n        // if lastNames of compared objects are not the same, compare them\n        if(!c1.getLastName().toLowerCase().equals(c1.getLastName().toLowerCase())){\n            return c1.getLastName().compareTo(c2.getLastName());\n\n        // if lastNames are the same, compare by firstName\n        }else if(c1.getLastName().toLowerCase().equals(c1.getLastName().toLowerCase())){\n            return c1.getFirstName().toLowerCase().compareTo(c2.getFirstName().toLowerCase());\n\n            // other case like firstName and lastName are the same, compare by id\n        }else{\n            return c1.getContactId() - c2.getContactId();\n        }\n    }\n}\n</code></pre>\n\n<p>Controller Method:</p>\n\n<pre><code>public void getAllContactsSortedByName(){\n\n    List&lt;Contact&gt; allContacts = ContactRepository.listAllContacts();\n\n    Comparator comparatorContactByName = new ComparatorContactByName();\n\n    Collections.sort(allContacts, comparatorContactByName);\n\n    if (allContacts == null) {\n        System.out.println(\"No contact found. \");\n    } else {\n        for (Contact contact : allContacts) {\n            System.out.println(contact.toString());\n        }\n    }\n}\n</code></pre>\n\n<p>After calling this method I'm getting output like this:</p>\n\n<pre><code>Contact{contactId= 133, firstName= John, lastName= Adams, email= ja@email.com, groups= [gym]}    \nContact{contactId= 126, firstName= Jon, lastName= Doe, email= jd@email.com, groups= [work, gym]}    \nContact{contactId= 130, firstName= Zed, lastName= Adams, email= za@email.com, groups= [work]}\n</code></pre>\n\n<p>\"Zed\" should be second, but he is last. Any ideas how to fix this logic?</p>\n"},{"tags":["java","collections","java-8","java-stream","double"],"answers":[{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644889247,"creation_date":1644889247,"answer_id":71120214,"question_id":71120007,"body_markdown":"You can parse it while averaging. Try using this lambda:\r\n```java\r\nemp -&gt; Double.parseDouble(emp.getSalary())\r\n``` \r\ninstead of this method reference:\r\n```java\r\nEmployee::getSalary\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nThe full pipeline:\r\n\r\n```java\r\nMap&lt;String, Double&gt; avgSalaryOfDepartments = \r\n                employees.stream()\r\n                         .collect(groupingBy(Employee::getDepartmentName, \r\n                                             averagingDouble(emp -&gt; Double.parseDouble(emp.getSalary()))));\r\n```","title":"Filter distinct groups and get average of String values parsing as Integer or Double","body":"<p>You can parse it while averaging. Try using this lambda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>emp -&gt; Double.parseDouble(emp.getSalary())\n</code></pre>\n<p>instead of this method reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee::getSalary\n</code></pre>\n<hr />\n<p>The full pipeline:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Double&gt; avgSalaryOfDepartments = \n                employees.stream()\n                         .collect(groupingBy(Employee::getDepartmentName, \n                                             averagingDouble(emp -&gt; Double.parseDouble(emp.getSalary()))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8396193,"reputation":71,"user_id":13547476,"display_name":"Chaman Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645123574,"creation_date":1645123574,"answer_id":71163774,"question_id":71120007,"body_markdown":"Just in case you want to find a max avg salary department name directly by using stream only\r\n\r\n     String deptWithMaxAvgSal = employees.stream().collect(\r\n                Collectors.groupingBy(Employee::departmentName,\r\n                        Collectors.averagingDouble(emp-&gt;Double.parseDouble(emp.salary())))).entrySet().stream().max(Map.Entry.comparingByValue()).get().getKey();\r\n","title":"Filter distinct groups and get average of String values parsing as Integer or Double","body":"<p>Just in case you want to find a max avg salary department name directly by using stream only</p>\n<pre><code> String deptWithMaxAvgSal = employees.stream().collect(\n            Collectors.groupingBy(Employee::departmentName,\n                    Collectors.averagingDouble(emp-&gt;Double.parseDouble(emp.salary())))).entrySet().stream().max(Map.Entry.comparingByValue()).get().getKey();\n</code></pre>\n"}],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71120214,"answer_count":2,"score":1,"last_activity_date":1647378103,"creation_date":1644886617,"question_id":71120007,"body_markdown":"I have a POJO like below:\r\n\r\n    @Data\r\n    class Employee {\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate String salary;\r\n    \tprivate String departmentName;\r\n    }\r\n\r\nAnd a List like below:\r\n\r\n\t\tList&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\r\n\t\tEmployee emp1 = new Employee(1, &quot;Jiya Brein&quot;, &quot;4000&quot;, &quot;HR&quot;);\r\n\t\tEmployee emp2 = new Employee(2, &quot;Paul Niksui&quot;, &quot;2000&quot;, &quot;IT&quot;);\r\n\t\tEmployee emp3 = new Employee(3, &quot;Martin Theron&quot;, &quot;5000&quot;, &quot;HR&quot;);\r\n\t\tEmployee emp4 = new Employee(4, &quot;Murali Gowda&quot;, &quot;6000&quot;, &quot;IT&quot;);\r\n\t\tEmployee emp5 = new Employee(5, &quot;Jacob Arthur&quot;, &quot;8000&quot;, &quot;HR&quot;);\r\n\t\temployees.add(emp1);\r\n\t\temployees.add(emp2);\r\n\t\temployees.add(emp3);\r\n\t\temployees.add(emp4);\r\n\t\temployees.add(emp5);\r\n\r\n\r\nNow I am trying to filter and group all the employees by department and need to get the highest spending department.\r\n\r\nIf salary is of type `Double`  (say) I can do it like below:\r\n\r\n    \r\n\r\n            Employee emp1 = new Employee(1, &quot;Jiya Brein&quot;, 4000d, &quot;HR&quot;);\r\n            Employee emp2 = new Employee(2, &quot;Paul Niksui&quot;, 2000d, &quot;IT&quot;);\r\n            Employee emp3 = new Employee(3, &quot;Martin Theron&quot;, 5000d, &quot;HR&quot;);\r\n            Employee emp4 = new Employee(4, &quot;Murali Gowda&quot;, 6000d, &quot;IT&quot;);\r\n            Employee emp5 = new Employee(5, &quot;Jacob Arthur&quot;, 8000d, &quot;HR&quot;);\r\n    \r\n            Map&lt;String, Double&gt; avgSalaryOfDepartments = employees.stream().collect(\r\n    \t\t\t\tCollectors.groupingBy(Employee::getDepartmentName, Collectors.averagingDouble(Employee::getSalary)));\r\n    \t\tSet&lt;Entry&lt;String, Double&gt;&gt; entrySet = avgSalaryOfDepartments.entrySet();\r\n    \t\tMap.Entry&lt;String, Double&gt; maxSpenderDept = null;\r\n    \t\tfor (Entry&lt;String, Double&gt; entry : entrySet) {\r\n    \t\t\tSystem.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n    \t\t\tif (maxSpenderDept == null || entry.getValue().compareTo(maxSpenderDept.getValue()) &gt; 0) {\r\n    \t\t\t\tmaxSpenderDept = entry;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn maxSpenderDept.toString();\r\n\r\nAnd I get the expected output:\r\n\r\n    HR : 5666.666666666667\r\n    IT : 4000.0\r\n    The highest spending department is HR=5666.666666666667\r\n\r\nBut I am clueless what to do if I get the salary as String and have to parse it as Double using Java 8&#39;s stream chaining?","title":"Filter distinct groups and get average of String values parsing as Integer or Double","body":"<p>I have a POJO like below:</p>\n<pre><code>@Data\nclass Employee {\n    private int id;\n    private String name;\n    private String salary;\n    private String departmentName;\n}\n</code></pre>\n<p>And a List like below:</p>\n<pre><code>    List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\n    Employee emp1 = new Employee(1, &quot;Jiya Brein&quot;, &quot;4000&quot;, &quot;HR&quot;);\n    Employee emp2 = new Employee(2, &quot;Paul Niksui&quot;, &quot;2000&quot;, &quot;IT&quot;);\n    Employee emp3 = new Employee(3, &quot;Martin Theron&quot;, &quot;5000&quot;, &quot;HR&quot;);\n    Employee emp4 = new Employee(4, &quot;Murali Gowda&quot;, &quot;6000&quot;, &quot;IT&quot;);\n    Employee emp5 = new Employee(5, &quot;Jacob Arthur&quot;, &quot;8000&quot;, &quot;HR&quot;);\n    employees.add(emp1);\n    employees.add(emp2);\n    employees.add(emp3);\n    employees.add(emp4);\n    employees.add(emp5);\n</code></pre>\n<p>Now I am trying to filter and group all the employees by department and need to get the highest spending department.</p>\n<p>If salary is of type <code>Double</code>  (say) I can do it like below:</p>\n<pre><code>        Employee emp1 = new Employee(1, &quot;Jiya Brein&quot;, 4000d, &quot;HR&quot;);\n        Employee emp2 = new Employee(2, &quot;Paul Niksui&quot;, 2000d, &quot;IT&quot;);\n        Employee emp3 = new Employee(3, &quot;Martin Theron&quot;, 5000d, &quot;HR&quot;);\n        Employee emp4 = new Employee(4, &quot;Murali Gowda&quot;, 6000d, &quot;IT&quot;);\n        Employee emp5 = new Employee(5, &quot;Jacob Arthur&quot;, 8000d, &quot;HR&quot;);\n\n        Map&lt;String, Double&gt; avgSalaryOfDepartments = employees.stream().collect(\n                Collectors.groupingBy(Employee::getDepartmentName, Collectors.averagingDouble(Employee::getSalary)));\n        Set&lt;Entry&lt;String, Double&gt;&gt; entrySet = avgSalaryOfDepartments.entrySet();\n        Map.Entry&lt;String, Double&gt; maxSpenderDept = null;\n        for (Entry&lt;String, Double&gt; entry : entrySet) {\n            System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\n            if (maxSpenderDept == null || entry.getValue().compareTo(maxSpenderDept.getValue()) &gt; 0) {\n                maxSpenderDept = entry;\n            }\n        }\n        return maxSpenderDept.toString();\n</code></pre>\n<p>And I get the expected output:</p>\n<pre><code>HR : 5666.666666666667\nIT : 4000.0\nThe highest spending department is HR=5666.666666666667\n</code></pre>\n<p>But I am clueless what to do if I get the salary as String and have to parse it as Double using Java 8's stream chaining?</p>\n"},{"tags":["java","methods","resolve"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1647378095,"post_id":71488960,"comment_id":126355324,"body_markdown":"Where did you define `calculateInterest()`?","body":"Where did you define <code>calculateInterest()</code>?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1647379037,"post_id":71488960,"comment_id":126355603,"body_markdown":"please add a more code, your piece is not the [mre] as it would not even compile","body":"please add a more code, your piece is not the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as it would not even compile"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647412009,"post_id":71488960,"comment_id":126361322,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1647445771,"post_id":71488960,"comment_id":126374338,"body_markdown":"Be sure to include the `class ... { }` syntax around your methods so that we can compile and run the code ourselves. And give the **entire** error message, not just a synopsis.","body":"Be sure to include the <code>class ... { }</code> syntax around your methods so that we can compile and run the code ourselves. And give the <b>entire</b> error message, not just a synopsis."}],"owner":{"account_id":20484415,"reputation":1,"user_id":15031929,"display_name":"Kumos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647377959,"creation_date":1647377959,"question_id":71488960,"body_markdown":"I wanted to write a simple code from a course I&#39;m watching and I&#39;ve stucked a little bit. I tried to change code several times, but it seems that it doesn&#39;t work. Most times I recieve an error cannot resolve method &quot;calculateInterest&quot; in main. Can someone describe me what am I doing wrong?\r\n\r\n```public class Main {\r\n\r\n    public static void main(String[] args) {\r\n        double[] result = produceInterestHistory(100d, 0.05d, 10);\r\n        System.out.println(result);\r\n    }\r\n\r\n    static double[] produceInterestHistory(double amt, double rate, int years) {\r\n        double[] accumulatedInterest = new double[years];\r\n        for (int yearIndex = 0; yearIndex &lt; years; yearIndex++) {\r\n            int year = yearIndex + 1;\r\n            accumulatedInterest[yearIndex] = calculateInterest(amt, rate, year);\r\n        }\r\n        return accumulatedInterest;\r\n    }\r\n\r\n}\r\n```","title":"Cannot resolve method in main","body":"<p>I wanted to write a simple code from a course I'm watching and I've stucked a little bit. I tried to change code several times, but it seems that it doesn't work. Most times I recieve an error cannot resolve method &quot;calculateInterest&quot; in main. Can someone describe me what am I doing wrong?</p>\n<pre><code>\n    public static void main(String[] args) {\n        double[] result = produceInterestHistory(100d, 0.05d, 10);\n        System.out.println(result);\n    }\n\n    static double[] produceInterestHistory(double amt, double rate, int years) {\n        double[] accumulatedInterest = new double[years];\n        for (int yearIndex = 0; yearIndex &lt; years; yearIndex++) {\n            int year = yearIndex + 1;\n            accumulatedInterest[yearIndex] = calculateInterest(amt, rate, year);\n        }\n        return accumulatedInterest;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","evosuite"],"owner":{"account_id":22830879,"reputation":1,"user_id":16979367,"display_name":"Omar Meza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1647380930,"answer_count":1,"score":-1,"last_activity_date":1647377536,"creation_date":1632349822,"question_id":69291988,"body_markdown":"I am using Evosuite to generate test cases for my app via commandline:\r\n\r\njava -jar evosuite-1.0.6.jar -generateSuite -target my-app.jar -projectCP /home/usr/dependencies \r\n\r\nDuring execution dependencies are not loaded on classpath /home/usr/dependencies ( a number of jar artifacts) so it is throwing a number of exceptions:\r\n\r\njava.lang.NoClassNoFoundError \r\n\r\nwhat is the best way to include dependencies?\r\n\r\nThank you!\r\n\r\n","title":"Evosuite 1.0.6 - How to set up external dependency libraries","body":"<p>I am using Evosuite to generate test cases for my app via commandline:</p>\n<p>java -jar evosuite-1.0.6.jar -generateSuite -target my-app.jar -projectCP /home/usr/dependencies</p>\n<p>During execution dependencies are not loaded on classpath /home/usr/dependencies ( a number of jar artifacts) so it is throwing a number of exceptions:</p>\n<p>java.lang.NoClassNoFoundError</p>\n<p>what is the best way to include dependencies?</p>\n<p>Thank you!</p>\n"},{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647377219,"creation_date":1647377219,"answer_id":71488842,"question_id":71488138,"body_markdown":"The fix is straightforward: remove the `break` statement from the loop where you think the problem is.\r\n\r\nThis `break` statement causes the loop through all the `ClientHandler`s to stop as soon as it sends the message to one client. You don&#39;t want this: you want this loop to keep going and send the message to all clients other than the one that wrote the message.","title":"Server doesn&#39;t forward message to all in the chat","body":"<p>The fix is straightforward: remove the <code>break</code> statement from the loop where you think the problem is.</p>\n<p>This <code>break</code> statement causes the loop through all the <code>ClientHandler</code>s to stop as soon as it sends the message to one client. You don't want this: you want this loop to keep going and send the message to all clients other than the one that wrote the message.</p>\n"}],"owner":{"account_id":22606869,"reputation":33,"user_id":16787671,"display_name":"AYehia0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71488842,"answer_count":1,"score":0,"last_activity_date":1647377219,"creation_date":1647373511,"question_id":71488138,"body_markdown":"i am trying to create a simple chat app using java sockets, the server is threaded, when a client connects its socket is added to an ArrayList, so that i can send to all in that list.\r\n\r\nthe problem is when 3 clients are connected, the for loop that sends doesn&#39;t work properly, for ex : client 0 sends to both 1 and 2 but client 2 doesn&#39;t send to anyone :(\r\n\r\nThe server and the ClientHandler : \r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class MainServer {\r\n\r\n    private static int portnumber = 6968;\r\n    static ArrayList &lt;ClientHandler&gt; allClients = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        // init\r\n        // server works by default on localhost\r\n        ServerSocket serversocket = new ServerSocket(portnumber);\r\n        int clientNo = 0;\r\n    \r\n        System.out.println(&quot;server is running on port : &quot; + portnumber);\r\n\r\n        while (true) {\r\n\r\n          // creating a socket for each connection\r\n          Socket clientsocket = null;\r\n\r\n          try {\r\n             // receiving incoming requests from users/clients\r\n            clientsocket = serversocket.accept();\r\n\r\n            // input and output from client\r\n            PrintWriter out = new PrintWriter(clientsocket.getOutputStream(), true);\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(clientsocket.getInputStream()));\r\n\r\n            // create a threads\r\n            ClientHandler ch = new ClientHandler(clientsocket, &quot;Client#&quot; + clientNo, in, out);\r\n        \r\n            // adding to the clientList\r\n            allClients.add(ch);\r\n\r\n            System.out.println(ch.clientName + &quot; has joined&quot;);\r\n            Thread clientThread = new Thread(ch);\r\n            \r\n            clientThread.start();\r\n\r\n            // decrease when user leaves\r\n            clientNo++;\r\n           \r\n          } catch (Exception e) {\r\n            clientsocket.close();\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n\r\n            //out.close();\r\n            //in.close();\r\n            //clientSocket.close();\r\n            //serverSocket.close();\r\n          }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// handle client requests\r\npublic class ClientHandler implements Runnable{\r\n\r\n  public String clientName;\r\n  public Socket clientsocket = null;\r\n  public boolean active = false;\r\n  private BufferedReader inp;\r\n  private PrintWriter out;\r\n  private final String EXIT_STR = &quot;exit&quot;;\r\n  public Scanner clientSc = new Scanner(System.in);\r\n\r\n  public ClientHandler(Socket socket, String name, BufferedReader inp, PrintWriter out) {\r\n    this.clientsocket = socket;\r\n    this.clientName = name;\r\n    this.inp = inp;\r\n    this.out = out;\r\n\r\n    // active when the thread is created\r\n    this.active = true;\r\n  }\r\n\r\n  @Override\r\n  public void run() {\r\n\r\n    // getting the output temp\r\n    String recivedMsg = &quot;&quot;;\r\n    \r\n    while (true) {\r\n      try {\r\n        recivedMsg = inp.readLine();\r\n\r\n        System.out.println(recivedMsg);\r\n\r\n        // check for ctrl+C\r\n        if (recivedMsg.equals(this.EXIT_STR)){\r\n\r\n          // send to all\r\n          System.out.println(this.clientName + &quot; exits&quot;);\r\n\r\n          // close the connection and break\r\n          this.active = false;\r\n          this.clientsocket.close();\r\n\r\n          // bye\r\n          break;\r\n        }\r\n\r\n        // send to all except me\r\n        for (ClientHandler client : MainServer.allClients){\r\n\r\n          if (!client.clientName.equals(this.clientName)){\r\n            client.out.println(this.clientName + &quot;:&quot; + recivedMsg);\r\n            client.out.flush();\r\n            break;\r\n          }\r\n        }\r\n        \r\n      } catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n\r\n    try {\r\n      // clean\r\n      this.clientsocket.close();\r\n      this.inp.close();\r\n      this.out.close();\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nThe client :\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\n  private String hostName; \r\n  private int portNumber;\r\n\r\n  // set connction and server\r\n  public PrintWriter out = null;\r\n  public BufferedReader in = null; \r\n  public Socket clientSocket = null;\r\n\r\n  Client(String hostName, int port) {\r\n    this.hostName = hostName;\r\n    this.portNumber = port;\r\n\r\n    // setting the connction\r\n    this.setConnection();\r\n  }\r\n\r\n  private void setConnection () {\r\n\r\n    try {\r\n      this.clientSocket = new Socket(this.hostName, this.portNumber);\r\n      this.out = new PrintWriter(this.clientSocket.getOutputStream(), true);\r\n      this.in = new BufferedReader(new InputStreamReader(this.clientSocket.getInputStream()));\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n      System.exit(1);\r\n    }\r\n\r\n }\r\n\r\n  public void sendMessageToServer(String msg) {\r\n    //System.out.println(&quot;The msg is : &quot; + msg);\r\n    out.println(msg);\r\n  }\r\n\r\n  public String readMessage() {\r\n    String outputMsg = &quot;&quot;;\r\n    try {\r\n      outputMsg =  in.readLine();\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n    return outputMsg;\r\n  }\r\n\r\n\r\n  // shit cleaning\r\n  public void closeSession(){\r\n\r\n    try {\r\n      this.out.close();\r\n      this.in.close();\r\n      this.clientSocket.close();\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n      System.exit(1);\r\n    }\r\n    System.out.println(&quot;Session has been terminated!&quot;);\r\n  }\r\n\r\n  public static void main(String args[]) throws IOException{\r\n\r\n    // init    \r\n    String host = &quot;localhost&quot;;\r\n    int port = 6968;\r\n\r\n    Client newClient = new Client(host, port);\r\n\r\n    // // send a message \r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    Thread sendMsg = new Thread(new Runnable() {\r\n\r\n      @Override\r\n      public void run() {\r\n        while (true) {\r\n\r\n          try {\r\n\r\n            String userInput = sc.nextLine();\r\n            newClient.sendMessageToServer(userInput);\r\n\r\n            if (userInput.equals(&quot;exit&quot;)) {\r\n              System.exit(1);\r\n            }\r\n          } catch (Exception e) {\r\n            System.exit(1);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    Thread getMsg = new Thread(new Runnable() {\r\n\r\n      @Override\r\n      public void run() {\r\n        while (true) {\r\n\r\n          String msgRead = &quot;&quot;;\r\n\r\n          try {\r\n\r\n            msgRead = newClient.readMessage();\r\n\r\n            System.out.println(msgRead);\r\n\r\n          } catch (Exception e) {\r\n            System.exit(1);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    sendMsg.start();\r\n    getMsg.start();\r\n  }\r\n}\r\n\r\n```\r\n\r\nI think the problem is here :\r\n\r\n```\r\n        // send to all except me\r\n        for (ClientHandler client : MainServer.allClients){\r\n\r\n          if (!client.clientName.equals(this.clientName)){\r\n            client.out.println(this.clientName + &quot;:&quot; + recivedMsg);\r\n            client.out.flush();\r\n            break;\r\n          }\r\n        }\r\n```","title":"Server doesn&#39;t forward message to all in the chat","body":"<p>i am trying to create a simple chat app using java sockets, the server is threaded, when a client connects its socket is added to an ArrayList, so that i can send to all in that list.</p>\n<p>the problem is when 3 clients are connected, the for loop that sends doesn't work properly, for ex : client 0 sends to both 1 and 2 but client 2 doesn't send to anyone :(</p>\n<p>The server and the ClientHandler :</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class MainServer {\n\n    private static int portnumber = 6968;\n    static ArrayList &lt;ClientHandler&gt; allClients = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) throws Exception {\n\n        // init\n        // server works by default on localhost\n        ServerSocket serversocket = new ServerSocket(portnumber);\n        int clientNo = 0;\n    \n        System.out.println(&quot;server is running on port : &quot; + portnumber);\n\n        while (true) {\n\n          // creating a socket for each connection\n          Socket clientsocket = null;\n\n          try {\n             // receiving incoming requests from users/clients\n            clientsocket = serversocket.accept();\n\n            // input and output from client\n            PrintWriter out = new PrintWriter(clientsocket.getOutputStream(), true);\n            BufferedReader in = new BufferedReader(new InputStreamReader(clientsocket.getInputStream()));\n\n            // create a threads\n            ClientHandler ch = new ClientHandler(clientsocket, &quot;Client#&quot; + clientNo, in, out);\n        \n            // adding to the clientList\n            allClients.add(ch);\n\n            System.out.println(ch.clientName + &quot; has joined&quot;);\n            Thread clientThread = new Thread(ch);\n            \n            clientThread.start();\n\n            // decrease when user leaves\n            clientNo++;\n           \n          } catch (Exception e) {\n            clientsocket.close();\n            e.printStackTrace();\n            System.exit(1);\n\n            //out.close();\n            //in.close();\n            //clientSocket.close();\n            //serverSocket.close();\n          }\n        }\n    }\n}\n\n\n// handle client requests\npublic class ClientHandler implements Runnable{\n\n  public String clientName;\n  public Socket clientsocket = null;\n  public boolean active = false;\n  private BufferedReader inp;\n  private PrintWriter out;\n  private final String EXIT_STR = &quot;exit&quot;;\n  public Scanner clientSc = new Scanner(System.in);\n\n  public ClientHandler(Socket socket, String name, BufferedReader inp, PrintWriter out) {\n    this.clientsocket = socket;\n    this.clientName = name;\n    this.inp = inp;\n    this.out = out;\n\n    // active when the thread is created\n    this.active = true;\n  }\n\n  @Override\n  public void run() {\n\n    // getting the output temp\n    String recivedMsg = &quot;&quot;;\n    \n    while (true) {\n      try {\n        recivedMsg = inp.readLine();\n\n        System.out.println(recivedMsg);\n\n        // check for ctrl+C\n        if (recivedMsg.equals(this.EXIT_STR)){\n\n          // send to all\n          System.out.println(this.clientName + &quot; exits&quot;);\n\n          // close the connection and break\n          this.active = false;\n          this.clientsocket.close();\n\n          // bye\n          break;\n        }\n\n        // send to all except me\n        for (ClientHandler client : MainServer.allClients){\n\n          if (!client.clientName.equals(this.clientName)){\n            client.out.println(this.clientName + &quot;:&quot; + recivedMsg);\n            client.out.flush();\n            break;\n          }\n        }\n        \n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n    }\n\n    try {\n      // clean\n      this.clientsocket.close();\n      this.inp.close();\n      this.out.close();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n\n</code></pre>\n<p>The client :</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class Client {\n  private String hostName; \n  private int portNumber;\n\n  // set connction and server\n  public PrintWriter out = null;\n  public BufferedReader in = null; \n  public Socket clientSocket = null;\n\n  Client(String hostName, int port) {\n    this.hostName = hostName;\n    this.portNumber = port;\n\n    // setting the connction\n    this.setConnection();\n  }\n\n  private void setConnection () {\n\n    try {\n      this.clientSocket = new Socket(this.hostName, this.portNumber);\n      this.out = new PrintWriter(this.clientSocket.getOutputStream(), true);\n      this.in = new BufferedReader(new InputStreamReader(this.clientSocket.getInputStream()));\n    } catch (Exception e) {\n      e.printStackTrace();\n      System.exit(1);\n    }\n\n }\n\n  public void sendMessageToServer(String msg) {\n    //System.out.println(&quot;The msg is : &quot; + msg);\n    out.println(msg);\n  }\n\n  public String readMessage() {\n    String outputMsg = &quot;&quot;;\n    try {\n      outputMsg =  in.readLine();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    return outputMsg;\n  }\n\n\n  // shit cleaning\n  public void closeSession(){\n\n    try {\n      this.out.close();\n      this.in.close();\n      this.clientSocket.close();\n    } catch (IOException e) {\n      e.printStackTrace();\n      System.exit(1);\n    }\n    System.out.println(&quot;Session has been terminated!&quot;);\n  }\n\n  public static void main(String args[]) throws IOException{\n\n    // init    \n    String host = &quot;localhost&quot;;\n    int port = 6968;\n\n    Client newClient = new Client(host, port);\n\n    // // send a message \n    Scanner sc = new Scanner(System.in);\n\n    Thread sendMsg = new Thread(new Runnable() {\n\n      @Override\n      public void run() {\n        while (true) {\n\n          try {\n\n            String userInput = sc.nextLine();\n            newClient.sendMessageToServer(userInput);\n\n            if (userInput.equals(&quot;exit&quot;)) {\n              System.exit(1);\n            }\n          } catch (Exception e) {\n            System.exit(1);\n          }\n        }\n      }\n    });\n\n    Thread getMsg = new Thread(new Runnable() {\n\n      @Override\n      public void run() {\n        while (true) {\n\n          String msgRead = &quot;&quot;;\n\n          try {\n\n            msgRead = newClient.readMessage();\n\n            System.out.println(msgRead);\n\n          } catch (Exception e) {\n            System.exit(1);\n          }\n        }\n      }\n    });\n\n\n    sendMsg.start();\n    getMsg.start();\n  }\n}\n\n</code></pre>\n<p>I think the problem is here :</p>\n<pre><code>        // send to all except me\n        for (ClientHandler client : MainServer.allClients){\n\n          if (!client.clientName.equals(this.clientName)){\n            client.out.println(this.clientName + &quot;:&quot; + recivedMsg);\n            client.out.flush();\n            break;\n          }\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1647377569,"post_id":71488692,"comment_id":126355163,"body_markdown":"Thats not adding to your problem solution, but _please_: don&#39;t use `int`, where a `boolean` would be more than appropriate (and I&#39;m talking of the _restart_ variable).","body":"Thats not adding to your problem solution, but <i>please</i>: don&#39;t use <code>int</code>, where a <code>boolean</code> would be more than appropriate (and I&#39;m talking of the <i>restart</i> variable)."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647377020,"creation_date":1647377020,"answer_id":71488803,"question_id":71488692,"body_markdown":"You have to compare strings using  the `.equals()` method \r\n\r\nSo replace all the \r\n\r\n `useropinion == &quot;something&quot;`  \r\n\r\nwith \r\n\r\n`&quot;something&quot;.equals(useropinion)` \r\n\r\n\r\nSee: https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839 for more info\r\n\r\n\r\nThe reason `&quot;foo&quot;.equals(variable)` is because the string literal won&#39;t be null, while `variable.equals(&quot;foo&quot;)` can throw NullPointerException.","title":"Java Rock-Paper-Scissors game not working","body":"<p>You have to compare strings using  the <code>.equals()</code> method</p>\n<p>So replace all the</p>\n<p><code>useropinion == &quot;something&quot;</code></p>\n<p>with</p>\n<p><code>&quot;something&quot;.equals(useropinion)</code></p>\n<p>See: <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839\">How do I compare strings in Java?</a> for more info</p>\n<p>The reason <code>&quot;foo&quot;.equals(variable)</code> is because the string literal won't be null, while <code>variable.equals(&quot;foo&quot;)</code> can throw NullPointerException.</p>\n"}],"owner":{"account_id":22817979,"reputation":56,"user_id":16968273,"display_name":"William ဗ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1647377791,"accepted_answer_id":71488803,"answer_count":1,"score":0,"last_activity_date":1647377020,"creation_date":1647376415,"question_id":71488692,"body_markdown":"This game I made has some problems on it that I can’t solve. It’s a game that you should _always_ lose. But it only shows the first menu, and whatever you enter, nothing happens.\r\n\r\nCan you help me fix it?\r\n\r\nFirst menu I am talking about: [First Menu][1]\r\n\r\nThe code:\r\n\r\n```java\r\nimport javax.swing.JOptionPane; \r\n\r\npublic class mainWork {  \r\n\r\npublic static void main(String[] args) { \r\n\tint restart = 0; \r\n\tString wannaplay = &quot;no&quot;; \r\n\t\r\n\tint pc = 0;\r\n\tint user = 0;\r\n\t\r\n\twhile(restart == 0) {\r\n\t\tString op = JOptionPane.showInputDialog(&quot;Which move you wanna do? \\n(Rock, Paper, Scissors) \\nUser:&quot; + user + &quot;\\nPC:&quot; + pc);\r\n\t\tString useropinion = op.toLowerCase(); \r\n\t\t\r\n\t\tif(useropinion == &quot;rock&quot;) { \r\n\t\t\tpc = pc + 1; //pc skoruna bir eklemesi i&#231;in\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;PC has choosen Paper, you lost!&quot;);\r\n\t\t\twannaplay = JOptionPane.showInputDialog(&quot;Do you wanna play again?&quot;); \r\n\t\t\twannaplay = wannaplay.toLowerCase(); \r\n\t\t\t\r\n\t\t\tif (wannaplay == &quot;yes&quot;) { \r\n\t\t\t\trestart = 0;\r\n\t\t\t} \r\n\t\t\telse {\r\n\t\t\t\trestart = 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\tif(useropinion == &quot;paper&quot;) {\r\n\t\t\tpc = pc + 1;\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;PC has choosen Scissors, you lost!&quot;);\r\n\t\t\twannaplay = JOptionPane.showInputDialog(&quot;Do you wanna play again?&quot;);\r\n\t\t\twannaplay = wannaplay.toLowerCase();\r\n\t\t\t\t\r\n\t\t\tif (wannaplay == &quot;yes&quot;) {\r\n\t\t\t\trestart = 0;\r\n\t\t\t} \r\n\t\t\telse {\r\n\t\t\t\trestart = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(useropinion == &quot;rock&quot;) {\r\n\t\t\tpc = pc + 1;\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;PC has choosen Paper, you lost!&quot;);\r\n\t\t\twannaplay = JOptionPane.showInputDialog(&quot;Do you wanna play again?&quot;);\r\n\t\t\twannaplay = wannaplay.toLowerCase();\r\n\t\t\t\t\r\n\t\t\tif (wannaplay == &quot;yes&quot;) {\r\n\t\t\t\trestart = 0;\r\n\t\t\t} \r\n\t\t\telse {\r\n\t\t\t\trestart = 1;\r\n\t\t\t}\r\n\t\t }\r\n\t  }\r\n   }\r\n}}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/33Hku.jpg","title":"Java Rock-Paper-Scissors game not working","body":"<p>This game I made has some problems on it that I can’t solve. It’s a game that you should <em>always</em> lose. But it only shows the first menu, and whatever you enter, nothing happens.</p>\n<p>Can you help me fix it?</p>\n<p>First menu I am talking about: <a href=\"https://i.stack.imgur.com/33Hku.jpg\" rel=\"nofollow noreferrer\">First Menu</a></p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JOptionPane; \n\npublic class mainWork {  \n\npublic static void main(String[] args) { \n    int restart = 0; \n    String wannaplay = &quot;no&quot;; \n    \n    int pc = 0;\n    int user = 0;\n    \n    while(restart == 0) {\n        String op = JOptionPane.showInputDialog(&quot;Which move you wanna do? \\n(Rock, Paper, Scissors) \\nUser:&quot; + user + &quot;\\nPC:&quot; + pc);\n        String useropinion = op.toLowerCase(); \n        \n        if(useropinion == &quot;rock&quot;) { \n            pc = pc + 1; //pc skoruna bir eklemesi için\n            JOptionPane.showMessageDialog(null, &quot;PC has choosen Paper, you lost!&quot;);\n            wannaplay = JOptionPane.showInputDialog(&quot;Do you wanna play again?&quot;); \n            wannaplay = wannaplay.toLowerCase(); \n            \n            if (wannaplay == &quot;yes&quot;) { \n                restart = 0;\n            } \n            else {\n                restart = 1;\n            }\n            \n        if(useropinion == &quot;paper&quot;) {\n            pc = pc + 1;\n            JOptionPane.showMessageDialog(null, &quot;PC has choosen Scissors, you lost!&quot;);\n            wannaplay = JOptionPane.showInputDialog(&quot;Do you wanna play again?&quot;);\n            wannaplay = wannaplay.toLowerCase();\n                \n            if (wannaplay == &quot;yes&quot;) {\n                restart = 0;\n            } \n            else {\n                restart = 1;\n            }\n        }\n        \n        if(useropinion == &quot;rock&quot;) {\n            pc = pc + 1;\n            JOptionPane.showMessageDialog(null, &quot;PC has choosen Paper, you lost!&quot;);\n            wannaplay = JOptionPane.showInputDialog(&quot;Do you wanna play again?&quot;);\n            wannaplay = wannaplay.toLowerCase();\n                \n            if (wannaplay == &quot;yes&quot;) {\n                restart = 0;\n            } \n            else {\n                restart = 1;\n            }\n         }\n      }\n   }\n}}\n</code></pre>\n"},{"tags":["java","swing","nullpointerexception","imageicon","getresource"],"answers":[{"tags":[],"owner":{"account_id":24525025,"reputation":21,"user_id":18437588,"display_name":"vanxa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647340444,"creation_date":1647340444,"answer_id":71480727,"question_id":71480450,"body_markdown":"You can verify, as a first step, that the icon is included within the jar, by running `jar -tf file.jar`.\r\n\r\nHave you tried \r\n```\r\nFile f = new File(Loadscreen.class.getResource(&quot;/materials/icon.png&quot;).getFile()); System.out.println(f.getAbsolutePath());\r\n```\r\nassuming that the `icon.png` is in `resources/materials` folder?\r\n","title":"Loading images/files inside jar","body":"<p>You can verify, as a first step, that the icon is included within the jar, by running <code>jar -tf file.jar</code>.</p>\n<p>Have you tried</p>\n<pre><code>File f = new File(Loadscreen.class.getResource(&quot;/materials/icon.png&quot;).getFile()); System.out.println(f.getAbsolutePath());\n</code></pre>\n<p>assuming that the <code>icon.png</code> is in <code>resources/materials</code> folder?</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647375841,"creation_date":1647375841,"answer_id":71488578,"question_id":71480450,"body_markdown":"Use: \r\n\r\n    this.getClass().getResource(&quot;/resources/materials/icon.png&quot;); \r\n\r\nNote the *two* differences to the approach seen in the question: \r\n\r\n1. `this.getClass()` will find the context class loader appropriate for application resources. \r\n2. `&quot;/resources/materials/icon.png&quot;` the leading `/` will tell the `getResource` method to search from the root of the class-path or Jar. \r\n\r\n**BTW:** Don&#39;t get files involved at any point. `getResource` returns an `URL` and resources in a Jar are not accessible as `File` objects.","title":"Loading images/files inside jar","body":"<p>Use:</p>\n<pre><code>this.getClass().getResource(&quot;/resources/materials/icon.png&quot;); \n</code></pre>\n<p>Note the <em>two</em> differences to the approach seen in the question:</p>\n<ol>\n<li><code>this.getClass()</code> will find the context class loader appropriate for application resources.</li>\n<li><code>&quot;/resources/materials/icon.png&quot;</code> the leading <code>/</code> will tell the <code>getResource</code> method to search from the root of the class-path or Jar.</li>\n</ol>\n<p><strong>BTW:</strong> Don't get files involved at any point. <code>getResource</code> returns an <code>URL</code> and resources in a Jar are not accessible as <code>File</code> objects.</p>\n"}],"owner":{"account_id":24563647,"reputation":15,"user_id":18471056,"display_name":"hinrich."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71488578,"answer_count":2,"score":1,"last_activity_date":1647375841,"creation_date":1647339317,"question_id":71480450,"body_markdown":"There are already heaps of answers to this problem. I have also tried a lot of them. I have not found a solution yet.\r\n\r\nI load some images within my project (Swing - ImageIcons). In the run dialog all of them are also displayed in my GUI. But after compiling the program can&#39;t be started at all. The error messages are different depending on the procedure.\r\n\r\nLastly, I tried simply loading a `File` to print the absolute path. This then looked like this:\r\n```java\r\nFile f = new File(Loadscreen.class.getResource(&quot;../../../../resources/materials/icon.png&quot;).getFile());\r\nSystem.out.println(f.getAbsolutePath());\r\n```\r\nThe console returns a `NullPointerException` for this:\r\n\r\nConsole compiled:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n        at de.franken.ration.gui.Loadscreen.&lt;init&gt;(Loadscreen.java:43)\r\n        at de.franken.ration.Rationboard.onEnable(Rationboard.java:84)\r\n        at de.franken.ration.Rationboard.main(Rationboard.java:75)\r\n```\r\n\r\n\r\nConsole Eclipse:\r\n\r\n```none\r\nH:\\Users\\Hinrich\\Documents\\Java\\Rationboard\\bin\\resources\\materials\\icon.png\r\n```\r\n\r\nIn line 43 I define `f`.\r\n\r\nMy tree looks like this:\r\n\r\n```none\r\nRationsboard\r\nL_ src\r\n  L_ de\r\n    L_ franken\r\n      L_ ration\r\n        L_ gui\r\n          L_ Loadscreen.class\r\n  L_ resources\r\n    L_ materials\r\n      L_ icon.png\r\n```\r\n\r\nHowever, the icon is included in the JAR.\r\n\r\nThanks to all who respond.\r\n\r\n//EDIT:\r\nI played around a bit more. As long as the resource to be loaded is in the same package, it can be loaded. But if I change the package with ```../```, the ```NullPointerException``` comes up.\r\n","title":"Loading images/files inside jar","body":"<p>There are already heaps of answers to this problem. I have also tried a lot of them. I have not found a solution yet.</p>\n<p>I load some images within my project (Swing - ImageIcons). In the run dialog all of them are also displayed in my GUI. But after compiling the program can't be started at all. The error messages are different depending on the procedure.</p>\n<p>Lastly, I tried simply loading a <code>File</code> to print the absolute path. This then looked like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File f = new File(Loadscreen.class.getResource(&quot;../../../../resources/materials/icon.png&quot;).getFile());\nSystem.out.println(f.getAbsolutePath());\n</code></pre>\n<p>The console returns a <code>NullPointerException</code> for this:</p>\n<p>Console compiled:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n        at de.franken.ration.gui.Loadscreen.&lt;init&gt;(Loadscreen.java:43)\n        at de.franken.ration.Rationboard.onEnable(Rationboard.java:84)\n        at de.franken.ration.Rationboard.main(Rationboard.java:75)\n</code></pre>\n<p>Console Eclipse:</p>\n<pre class=\"lang-none prettyprint-override\"><code>H:\\Users\\Hinrich\\Documents\\Java\\Rationboard\\bin\\resources\\materials\\icon.png\n</code></pre>\n<p>In line 43 I define <code>f</code>.</p>\n<p>My tree looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Rationsboard\nL_ src\n  L_ de\n    L_ franken\n      L_ ration\n        L_ gui\n          L_ Loadscreen.class\n  L_ resources\n    L_ materials\n      L_ icon.png\n</code></pre>\n<p>However, the icon is included in the JAR.</p>\n<p>Thanks to all who respond.</p>\n<p>//EDIT:\nI played around a bit more. As long as the resource to be loaded is in the same package, it can be loaded. But if I change the package with <code>../</code>, the <code>NullPointerException</code> comes up.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647375565,"creation_date":1647375565,"answer_id":71488508,"question_id":71488061,"body_markdown":"You appear to have a typo in the name of the Jackson mapper property:\r\n\r\n```\r\nspring.jackson.mapper.default-view-inclusions=true\r\n```\r\n\r\nIt should be &quot;inclusion&quot;, not &quot;inclusions&quot;:\r\n\r\n```\r\nspring.jackson.mapper.default-view-inclusion=true\r\n```\r\n\r\n","title":"failed to convert java.lang.String to com.fasterxml.jackson.databind.MapperFeature","body":"<p>You appear to have a typo in the name of the Jackson mapper property:</p>\n<pre><code>spring.jackson.mapper.default-view-inclusions=true\n</code></pre>\n<p>It should be &quot;inclusion&quot;, not &quot;inclusions&quot;:</p>\n<pre><code>spring.jackson.mapper.default-view-inclusion=true\n</code></pre>\n"}],"owner":{"account_id":16064122,"reputation":99,"user_id":11594272,"display_name":"Am_ai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71488508,"answer_count":1,"score":1,"last_activity_date":1647375771,"creation_date":1647373087,"question_id":71488061,"body_markdown":"```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-03-15 12:25:37.668 ERROR 13724 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to bind properties under &#39;spring.jackson.mapper&#39; to java.util.Map&lt;com.fasterxml.jackson.databind.MapperFeature, java.lang.Boolean&gt;:\r\n\r\n    Reason: failed to convert java.lang.String to com.fasterxml.jackson.databind.MapperFeature (caused by java.lang.IllegalArgumentException: No enum constant com.fasterxml.jackson.databind.MapperFeature.default-view-inclusions)\r\n\r\nAction:\r\n\r\nUpdate your application&#39;s configuration. The following values are valid:\r\n\r\n    ACCEPT_CASE_INSENSITIVE_ENUMS\r\n    ACCEPT_CASE_INSENSITIVE_PROPERTIES\r\n    ACCEPT_CASE_INSENSITIVE_VALUES\r\n    ALLOW_COERCION_OF_SCALARS\r\n    ALLOW_EXPLICIT_PROPERTY_RENAMING\r\n    ALLOW_FINAL_FIELDS_AS_MUTATORS\r\n    ALLOW_VOID_VALUED_PROPERTIES\r\n    APPLY_DEFAULT_VALUES\r\n    AUTO_DETECT_CREATORS\r\n    AUTO_DETECT_FIELDS\r\n    AUTO_DETECT_GETTERS\r\n    AUTO_DETECT_IS_GETTERS\r\n    AUTO_DETECT_SETTERS\r\n    BLOCK_UNSAFE_POLYMORPHIC_BASE_TYPES\r\n    CAN_OVERRIDE_ACCESS_MODIFIERS\r\n    DEFAULT_VIEW_INCLUSION\r\n    IGNORE_DUPLICATE_MODULE_REGISTRATIONS\r\n    IGNORE_MERGE_FOR_UNMERGEABLE\r\n    INFER_BUILDER_TYPE_BINDINGS\r\n    INFER_CREATOR_FROM_CONSTRUCTOR_PROPERTIES\r\n    INFER_PROPERTY_MUTATORS\r\n    OVERRIDE_PUBLIC_ACCESS_MODIFIERS\r\n    PROPAGATE_TRANSIENT_MARKER\r\n    REQUIRE_SETTERS_FOR_GETTERS\r\n    SORT_CREATOR_PROPERTIES_FIRST\r\n    SORT_PROPERTIES_ALPHABETICALLY\r\n    USE_ANNOTATIONS\r\n    USE_BASE_TYPE_AS_DEFAULT_IMPL\r\n```\r\n\r\n**application.properties**\r\n```\r\n# database configuration part\r\nspring.datasource.url=jdbc:sqlserver://localhost:&lt;portname&gt;;dataName=&lt;dbname&gt;\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.hibernate.hikari.minimumIdle=5\r\nspring.datasource.hikari.maximum-pool-size=5\r\nspring.datasource.connectionTimeout=3600000\r\nspring.datasource.hikari.idleTimeout=120000\r\nspring.main.allow-bean-definition-overriding=true\r\n\r\n\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=false\r\n\r\n# hibernate settings\r\nspring.jpa.hibernate.use-new-id-generator-mappings=false\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2008Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jackson.mapper.default-view-inclusions=true\r\n```\r\n\r\nhow can i resolve this error please help !!","title":"failed to convert java.lang.String to com.fasterxml.jackson.databind.MapperFeature","body":"<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-03-15 12:25:37.668 ERROR 13724 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to bind properties under 'spring.jackson.mapper' to java.util.Map&lt;com.fasterxml.jackson.databind.MapperFeature, java.lang.Boolean&gt;:\n\n    Reason: failed to convert java.lang.String to com.fasterxml.jackson.databind.MapperFeature (caused by java.lang.IllegalArgumentException: No enum constant com.fasterxml.jackson.databind.MapperFeature.default-view-inclusions)\n\nAction:\n\nUpdate your application's configuration. The following values are valid:\n\n    ACCEPT_CASE_INSENSITIVE_ENUMS\n    ACCEPT_CASE_INSENSITIVE_PROPERTIES\n    ACCEPT_CASE_INSENSITIVE_VALUES\n    ALLOW_COERCION_OF_SCALARS\n    ALLOW_EXPLICIT_PROPERTY_RENAMING\n    ALLOW_FINAL_FIELDS_AS_MUTATORS\n    ALLOW_VOID_VALUED_PROPERTIES\n    APPLY_DEFAULT_VALUES\n    AUTO_DETECT_CREATORS\n    AUTO_DETECT_FIELDS\n    AUTO_DETECT_GETTERS\n    AUTO_DETECT_IS_GETTERS\n    AUTO_DETECT_SETTERS\n    BLOCK_UNSAFE_POLYMORPHIC_BASE_TYPES\n    CAN_OVERRIDE_ACCESS_MODIFIERS\n    DEFAULT_VIEW_INCLUSION\n    IGNORE_DUPLICATE_MODULE_REGISTRATIONS\n    IGNORE_MERGE_FOR_UNMERGEABLE\n    INFER_BUILDER_TYPE_BINDINGS\n    INFER_CREATOR_FROM_CONSTRUCTOR_PROPERTIES\n    INFER_PROPERTY_MUTATORS\n    OVERRIDE_PUBLIC_ACCESS_MODIFIERS\n    PROPAGATE_TRANSIENT_MARKER\n    REQUIRE_SETTERS_FOR_GETTERS\n    SORT_CREATOR_PROPERTIES_FIRST\n    SORT_PROPERTIES_ALPHABETICALLY\n    USE_ANNOTATIONS\n    USE_BASE_TYPE_AS_DEFAULT_IMPL\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code># database configuration part\nspring.datasource.url=jdbc:sqlserver://localhost:&lt;portname&gt;;dataName=&lt;dbname&gt;\nspring.datasource.username=\nspring.datasource.password=\nspring.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.hikari.minimumIdle=5\nspring.datasource.hikari.maximum-pool-size=5\nspring.datasource.connectionTimeout=3600000\nspring.datasource.hikari.idleTimeout=120000\nspring.main.allow-bean-definition-overriding=true\n\n\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=false\n\n# hibernate settings\nspring.jpa.hibernate.use-new-id-generator-mappings=false\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2008Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jackson.mapper.default-view-inclusions=true\n</code></pre>\n<p>how can i resolve this error please help !!</p>\n"},{"tags":["java","gradle","dependencies","gradle-plugin"],"owner":{"account_id":19935066,"reputation":51,"user_id":14607939,"display_name":"user14607939"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1435,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1647375588,"creation_date":1647375588,"question_id":71488513,"body_markdown":"I am trying to develop a grade plugin in java to configure version catalogs. The plugin can configure a version catalog in one of two ways.\r\n\r\n1) Add a file to `libs.versions.toml` to the dependent projects `gradle` folder.\r\n2) Apply a version catalog as part of the plugin by configuring it something like this. Assume `libs.versions.toml` file is available as part of the plugin source.\r\n\r\n`toml` file I defined.\r\n\r\n```\r\n[versions]\r\ngroovy = &quot;3.0.5&quot;\r\ncheckstyle = &quot;8.37&quot;\r\n\r\n[libraries]\r\ngroovy-core = { module = &quot;org.codehaus.groovy:groovy&quot;, version.ref = &quot;groovy&quot; }\r\ngroovy-json = { module = &quot;org.codehaus.groovy:groovy-json&quot;, version.ref = &quot;groovy&quot; }\r\ngroovy-nio = { module = &quot;org.codehaus.groovy:groovy-nio&quot;, version.ref = &quot;groovy&quot; }\r\ncommons-lang3 = { group = &quot;org.apache.commons&quot;, name = &quot;commons-lang3&quot;, version = { strictly = &quot;[3.8, 4.0[&quot;, prefer=&quot;3.9&quot; } }\r\n\r\n[bundles]\r\ngroovy = [&quot;groovy-core&quot;, &quot;groovy-json&quot;, &quot;groovy-nio&quot;]\r\n\r\n[plugins]\r\njmh = { id = &quot;me.champeau.jmh&quot;, version = &quot;0.6.5&quot; }\r\n```\r\n\r\nPlugin \r\n```\r\npublic class SettingsSupportPlugin implements Plugin&lt;Settings&gt; {\r\n  @Override\r\n  public void apply(@Nonnull Settings settings) {\r\n    configureDependencyResolution(settings);\r\n  }\r\n\r\n  private void configureDependencyResolution(Settings settings) {\r\n    copyFileFromJar(&quot;libs.versions.toml&quot;, &quot;build/libs.versions.toml&quot;);\r\n    settings.getGradle().rootProject((rootProject) -&gt; {\r\n      FileCollection tomlFile = rootProject.files(&quot;build/libs.versions.toml&quot;);\r\n      settings.dependencyResolutionManagement(\r\n          dependencyResolutionManagement -&gt; dependencyResolutionManagement.versionCatalogs(\r\n              versionCatalogContainer -&gt; versionCatalogContainer.register(&quot;libs&quot;,\r\n                  versionCatalogBuilder -&gt; versionCatalogBuilder.from(tomlFile))));\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nAfter publishing the plugin, and applying it in dependent projects `settings.gradle` file. when I try to access one of the dependency using `implementation libs.groovy.core`  I run into the issue \r\n\r\n```\r\n&gt; Could not get unknown property &#39;libs&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n```\r\n\r\nMy initial guess was the `libs` version catalog is not created. So, I added a `libs.versions.toml` file in `gradle` directory of the dependent project, along with applying the above plugin (option 1+ 2). This gives me an error\r\n\r\n```\r\nCannot add a VersionCatalogBuilder with name &#39;libs&#39; as a VersionCatalogBuilder with that name already exists.\r\n```\r\n\r\nThis shows the `version catalog` with the name `libs` is being created by the `plugin` but somehow I am not able to reference it in my dependent project. I am not sure what I am doing wrong here. \r\n\r\nAny thoughts?","title":"Applying DependencyResolutionManagement configuration from a java gradle plugin to define a Version Catalog","body":"<p>I am trying to develop a grade plugin in java to configure version catalogs. The plugin can configure a version catalog in one of two ways.</p>\n<ol>\n<li>Add a file to <code>libs.versions.toml</code> to the dependent projects <code>gradle</code> folder.</li>\n<li>Apply a version catalog as part of the plugin by configuring it something like this. Assume <code>libs.versions.toml</code> file is available as part of the plugin source.</li>\n</ol>\n<p><code>toml</code> file I defined.</p>\n<pre><code>[versions]\ngroovy = &quot;3.0.5&quot;\ncheckstyle = &quot;8.37&quot;\n\n[libraries]\ngroovy-core = { module = &quot;org.codehaus.groovy:groovy&quot;, version.ref = &quot;groovy&quot; }\ngroovy-json = { module = &quot;org.codehaus.groovy:groovy-json&quot;, version.ref = &quot;groovy&quot; }\ngroovy-nio = { module = &quot;org.codehaus.groovy:groovy-nio&quot;, version.ref = &quot;groovy&quot; }\ncommons-lang3 = { group = &quot;org.apache.commons&quot;, name = &quot;commons-lang3&quot;, version = { strictly = &quot;[3.8, 4.0[&quot;, prefer=&quot;3.9&quot; } }\n\n[bundles]\ngroovy = [&quot;groovy-core&quot;, &quot;groovy-json&quot;, &quot;groovy-nio&quot;]\n\n[plugins]\njmh = { id = &quot;me.champeau.jmh&quot;, version = &quot;0.6.5&quot; }\n</code></pre>\n<p>Plugin</p>\n<pre><code>public class SettingsSupportPlugin implements Plugin&lt;Settings&gt; {\n  @Override\n  public void apply(@Nonnull Settings settings) {\n    configureDependencyResolution(settings);\n  }\n\n  private void configureDependencyResolution(Settings settings) {\n    copyFileFromJar(&quot;libs.versions.toml&quot;, &quot;build/libs.versions.toml&quot;);\n    settings.getGradle().rootProject((rootProject) -&gt; {\n      FileCollection tomlFile = rootProject.files(&quot;build/libs.versions.toml&quot;);\n      settings.dependencyResolutionManagement(\n          dependencyResolutionManagement -&gt; dependencyResolutionManagement.versionCatalogs(\n              versionCatalogContainer -&gt; versionCatalogContainer.register(&quot;libs&quot;,\n                  versionCatalogBuilder -&gt; versionCatalogBuilder.from(tomlFile))));\n    });\n  }\n}\n</code></pre>\n<p>After publishing the plugin, and applying it in dependent projects <code>settings.gradle</code> file. when I try to access one of the dependency using <code>implementation libs.groovy.core</code>  I run into the issue</p>\n<pre><code>&gt; Could not get unknown property 'libs' for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n</code></pre>\n<p>My initial guess was the <code>libs</code> version catalog is not created. So, I added a <code>libs.versions.toml</code> file in <code>gradle</code> directory of the dependent project, along with applying the above plugin (option 1+ 2). This gives me an error</p>\n<pre><code>Cannot add a VersionCatalogBuilder with name 'libs' as a VersionCatalogBuilder with that name already exists.\n</code></pre>\n<p>This shows the <code>version catalog</code> with the name <code>libs</code> is being created by the <code>plugin</code> but somehow I am not able to reference it in my dependent project. I am not sure what I am doing wrong here.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","rest","glassfish","tomcat7"],"answers":[{"tags":[],"owner":{"account_id":12824873,"reputation":165,"user_id":9278319,"display_name":"greatFritz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647374700,"creation_date":1647374700,"answer_id":71488381,"question_id":71471622,"body_markdown":"So the problem that I was having that another library that I had custom built but not listed had used a different version of jersey in its own gradle. Syncing up my other projects gradle to 2.26 worked. ","title":"Caused by: java.lang.NoClassDefFoundError: org/glassfish/jersey/server/model/Parameter$Source","body":"<p>So the problem that I was having that another library that I had custom built but not listed had used a different version of jersey in its own gradle. Syncing up my other projects gradle to 2.26 worked.</p>\n"}],"owner":{"account_id":12824873,"reputation":165,"user_id":9278319,"display_name":"greatFritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647374700,"creation_date":1647277662,"question_id":71471622,"body_markdown":"I&#39;m working with a REST Api built using Gradle + Jersey and running on Tomcat-7. I noticed when I am trying to run my JUnit tests that I am getting 500 errors for any api call. \r\n\r\n    Caused by: java.lang.NoClassDefFoundError: org/glassfish/jersey/server/model/Parameter$Source\r\n\tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider.&lt;init&gt;(FormDataParamValueParamProvider.java:371)\r\n\tat org.glassfish.jersey.media.multipart.internal.FormDataParamInjectionFeature$1.configure(FormDataParamInjectionFeature.java:76)\r\n\tat org.glassfish.jersey.internal.inject.AbstractBinder.invokeConfigure(AbstractBinder.java:256)\r\n\tat org.glassfish.jersey.internal.inject.AbstractBinder.getBindings(AbstractBinder.java:246)\r\n\tat org.glassfish.jersey.internal.inject.Bindings.getBindings(Bindings.java:44)\r\n\tat org.glassfish.jersey.internal.inject.AbstractBinder.lambda$getBindings$1(AbstractBinder.java:248)\r\n\tat java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:269)\r\n\r\n\r\nI have noticed in other solutions that were similar to what I am having have mentioned that my jersey version numbers are off. However my Gradle has every jersey version in Sync.\r\n\r\n    compile group: &#39;org.glassfish.jersey.containers&#39;, name: &#39;jersey-container-servlet&#39;, version: &#39;2.26&#39;\r\n    compile group: &#39;org.glassfish.jersey.core&#39;, name: &#39;jersey-common&#39;, version: &#39;2.26&#39;\r\n    compile group: &#39;org.glassfish.jersey.inject&#39;, name: &#39;jersey-hk2&#39;, version: &#39;2.26&#39;\r\n    compile group: &#39;org.glassfish.jersey.media&#39;, name: &#39;jersey-media-multipart&#39;, version: &#39;2.26&#39;\r\n\r\nIs there something else I could be missing?","title":"Caused by: java.lang.NoClassDefFoundError: org/glassfish/jersey/server/model/Parameter$Source","body":"<p>I'm working with a REST Api built using Gradle + Jersey and running on Tomcat-7. I noticed when I am trying to run my JUnit tests that I am getting 500 errors for any api call.</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: org/glassfish/jersey/server/model/Parameter$Source\nat org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider.&lt;init&gt;(FormDataParamValueParamProvider.java:371)\nat org.glassfish.jersey.media.multipart.internal.FormDataParamInjectionFeature$1.configure(FormDataParamInjectionFeature.java:76)\nat org.glassfish.jersey.internal.inject.AbstractBinder.invokeConfigure(AbstractBinder.java:256)\nat org.glassfish.jersey.internal.inject.AbstractBinder.getBindings(AbstractBinder.java:246)\nat org.glassfish.jersey.internal.inject.Bindings.getBindings(Bindings.java:44)\nat org.glassfish.jersey.internal.inject.AbstractBinder.lambda$getBindings$1(AbstractBinder.java:248)\nat java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:269)\n</code></pre>\n<p>I have noticed in other solutions that were similar to what I am having have mentioned that my jersey version numbers are off. However my Gradle has every jersey version in Sync.</p>\n<pre><code>compile group: 'org.glassfish.jersey.containers', name: 'jersey-container-servlet', version: '2.26'\ncompile group: 'org.glassfish.jersey.core', name: 'jersey-common', version: '2.26'\ncompile group: 'org.glassfish.jersey.inject', name: 'jersey-hk2', version: '2.26'\ncompile group: 'org.glassfish.jersey.media', name: 'jersey-media-multipart', version: '2.26'\n</code></pre>\n<p>Is there something else I could be missing?</p>\n"},{"tags":["java","arraylist","interface","subclass"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1647372703,"post_id":71487579,"comment_id":126353546,"body_markdown":"Does this answer your question? [What is the &#39;instanceof&#39; operator used for in Java?](https://stackoverflow.com/questions/7313559/what-is-the-instanceof-operator-used-for-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7313559/what-is-the-instanceof-operator-used-for-in-java\">What is the &#39;instanceof&#39; operator used for in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19643482,"reputation":26,"user_id":14379053,"display_name":"tttm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647372029,"creation_date":1647372029,"answer_id":71487832,"question_id":71487579,"body_markdown":"As far as I understand the question, you can use &quot;instanceof&quot; operator:\r\n\r\n\r\n       if(cars.get(i) instanceof Truck){\r\n           Truck truck = (Truck) cars.get(i);\r\n           truck.setTruckBedArea(newTruckBedArea);\r\n       }\r\n\r\ninstanceof operator returns a boolean value in result of whether an object is an instance of given type or not.","title":"How to cast an object of an ArrayList of objects (of type superclass) to an object of type subclass","body":"<p>As far as I understand the question, you can use &quot;instanceof&quot; operator:</p>\n<pre><code>   if(cars.get(i) instanceof Truck){\n       Truck truck = (Truck) cars.get(i);\n       truck.setTruckBedArea(newTruckBedArea);\n   }\n</code></pre>\n<p>instanceof operator returns a boolean value in result of whether an object is an instance of given type or not.</p>\n"},{"tags":[],"owner":{"account_id":13618012,"reputation":11,"user_id":9823403,"display_name":"Isaac Molina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647373979,"creation_date":1647372821,"answer_id":71488016,"question_id":71487579,"body_markdown":"Vehicle should be an Abstract class.\r\n\r\nCar Interface\r\n```\r\npublic interface Car {\r\n    void modifyCar(Car car, String newName, String newColor, double newWheelSize, double newTruckBedArea);\r\n}\r\n```\r\n\r\nVehicle Abstract Class\r\n```\r\npublic abstract class Vehicle implements Car {\r\n\r\n    String name;\r\n    String color;\r\n    double wheelSize;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getColor() {\r\n        return color;\r\n    }\r\n\r\n    public void setColor(String color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public double getWheelSize() {\r\n        return wheelSize;\r\n    }\r\n\r\n    public void setWheelSize(double wheelSize) {\r\n        this.wheelSize = wheelSize;\r\n    }\r\n\r\n}\r\n```\r\n\r\nTruck Class\r\n```\r\npublic class Truck extends Vehicle {\r\n\r\n    double truckBedArea;\r\n    private ArrayList&lt;Car&gt; cars;\r\n\r\n    public double getTruckBedArea() {\r\n        return truckBedArea;\r\n    }\r\n\r\n    public void setTruckBedArea(double truckBedArea) {\r\n        this.truckBedArea = truckBedArea;\r\n    }\r\n\r\n    public ArrayList&lt;Car&gt; getCars() {\r\n        return cars;\r\n    }\r\n\r\n    public void setCars(ArrayList&lt;Car&gt; cars) {\r\n        this.cars = cars;\r\n    }\r\n\r\n    @Override\r\n    public void modifyCar(Car car, String newName, String newColor, double newWheelSize, double newTruckBedArea) {\r\n        for (int i = 0; i &lt; cars.size(); i++) {\r\n            if (cars.get(i).equals(car)){\r\n                ((Vehicle)cars.get(i)).setColor(newColor);\r\n                ((Vehicle)cars.get(i)).setWheelSize(newWheelSize);\r\n                ((Truck)cars.get(i)).setTruckBedArea(newTruckBedArea);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nRun code.\r\n```\r\npublic static void main(String[] args) {\r\n        // TODO code application logic here\r\n        Truck trucks = new Truck();\r\n        trucks.setColor(&quot;Red&quot;);\r\n        trucks.setName(&quot;Nissan&quot;);\r\n        trucks.setWheelSize(20.15);\r\n        trucks.setTruckBedArea(3.5);\r\n        ArrayList&lt;Car&gt; cars = new ArrayList&lt;Car&gt;();\r\n        cars.add(trucks);\r\n        trucks.setCars(cars);\r\n        \r\n        trucks.modifyCar(trucks, &quot;Kia&quot;, &quot;Blue&quot;, 15.5, 14.0);\r\n\r\n        System.out.println(trucks.getTruckBedArea());\r\n    }\r\n```","title":"How to cast an object of an ArrayList of objects (of type superclass) to an object of type subclass","body":"<p>Vehicle should be an Abstract class.</p>\n<p>Car Interface</p>\n<pre><code>public interface Car {\n    void modifyCar(Car car, String newName, String newColor, double newWheelSize, double newTruckBedArea);\n}\n</code></pre>\n<p>Vehicle Abstract Class</p>\n<pre><code>public abstract class Vehicle implements Car {\n\n    String name;\n    String color;\n    double wheelSize;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getColor() {\n        return color;\n    }\n\n    public void setColor(String color) {\n        this.color = color;\n    }\n\n    public double getWheelSize() {\n        return wheelSize;\n    }\n\n    public void setWheelSize(double wheelSize) {\n        this.wheelSize = wheelSize;\n    }\n\n}\n</code></pre>\n<p>Truck Class</p>\n<pre><code>public class Truck extends Vehicle {\n\n    double truckBedArea;\n    private ArrayList&lt;Car&gt; cars;\n\n    public double getTruckBedArea() {\n        return truckBedArea;\n    }\n\n    public void setTruckBedArea(double truckBedArea) {\n        this.truckBedArea = truckBedArea;\n    }\n\n    public ArrayList&lt;Car&gt; getCars() {\n        return cars;\n    }\n\n    public void setCars(ArrayList&lt;Car&gt; cars) {\n        this.cars = cars;\n    }\n\n    @Override\n    public void modifyCar(Car car, String newName, String newColor, double newWheelSize, double newTruckBedArea) {\n        for (int i = 0; i &lt; cars.size(); i++) {\n            if (cars.get(i).equals(car)){\n                ((Vehicle)cars.get(i)).setColor(newColor);\n                ((Vehicle)cars.get(i)).setWheelSize(newWheelSize);\n                ((Truck)cars.get(i)).setTruckBedArea(newTruckBedArea);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Run code.</p>\n<pre><code>public static void main(String[] args) {\n        // TODO code application logic here\n        Truck trucks = new Truck();\n        trucks.setColor(&quot;Red&quot;);\n        trucks.setName(&quot;Nissan&quot;);\n        trucks.setWheelSize(20.15);\n        trucks.setTruckBedArea(3.5);\n        ArrayList&lt;Car&gt; cars = new ArrayList&lt;Car&gt;();\n        cars.add(trucks);\n        trucks.setCars(cars);\n        \n        trucks.modifyCar(trucks, &quot;Kia&quot;, &quot;Blue&quot;, 15.5, 14.0);\n\n        System.out.println(trucks.getTruckBedArea());\n    }\n</code></pre>\n"}],"owner":{"account_id":24569001,"reputation":3,"user_id":18475742,"display_name":"eggmaxter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71487832,"answer_count":2,"score":0,"last_activity_date":1647373979,"creation_date":1647370623,"question_id":71487579,"body_markdown":"If I have a superclass, let&#39;s call it Car, with the constructor parameters String name, String color, double wheelSize, and a subclass of this, let&#39;s call it Truck, with the constructor parameters String name, String color, double wheelSize, and double truckBedArea, and in the subclass (Truck), I have a method called modifyCar with the paramaters Car car, String newName, String newColor, double newWheelSize, and double newTruckBedArea, how can I find a way to take that Car object and specify that it is indeed a Truck, so I can then use a Truck setter (setTruckBedArea) to set the new truck bed area? This example isn&#39;t a great comparison to my actual assignment, but I have an ArrayList field of my superclass (Cars) called &quot;ArrayList&lt;Car&gt; cars&quot; of &quot;Car&quot; objects, and I need to find a way to change that &quot;Car&quot; object in this ArrayList field, which I have already found a way of doing. I simply loop through each item in the ArrayList of &quot;Cars&quot; until it equals the instance of the Car put in as a parameter, and if it does, I then say &quot;cars.get(i).//setter&quot; (essentially). However, it would not work if I say &quot;cars.get(i).setTruckBedArea(newTruckBedArea)&quot;. I am not sure how to cast the Car object within this list of Cars to a Truck specifically, so I can then access the setter I want to use. The main issue is that I am required to implement an interface (let&#39;s call it &quot;Vehicle&quot;) wherein the ArrayList&lt;Car&gt; cars has to be of type cars, since it is specified to be that in the Vehicle interface (otherwise I would just change the ArrayList field to be ArrayList&lt;Truck&gt; trucks).\r\n\r\n\r\nExample: \r\n```\r\npublic class Truck implements Vehicle { //have to implement this interface\r\n    //... other fields\r\n    private ArrayList&lt;Car&gt; cars;\r\n    //... other methods/constructors\r\n    public void modifyCar(Car car, String newName, String newColor, double newWheelSize, double newTruckBedArea) { \r\n//have to have &quot;Car car&quot; as parameter for this method because of interface\r\n        for (int i = 0; i &lt; cars.size(); i++) {\r\n            if (cars.get(i).equals(car)) {\r\n                cars.get(i).setColor(newColor);\r\n                cars.get(i).setName(newName);\r\n                cars.get(i).setWheelSize(newWheelSize);\r\n                cars.get(i).setTruckBedArea(newTruckBedArea); //will produce error\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"How to cast an object of an ArrayList of objects (of type superclass) to an object of type subclass","body":"<p>If I have a superclass, let's call it Car, with the constructor parameters String name, String color, double wheelSize, and a subclass of this, let's call it Truck, with the constructor parameters String name, String color, double wheelSize, and double truckBedArea, and in the subclass (Truck), I have a method called modifyCar with the paramaters Car car, String newName, String newColor, double newWheelSize, and double newTruckBedArea, how can I find a way to take that Car object and specify that it is indeed a Truck, so I can then use a Truck setter (setTruckBedArea) to set the new truck bed area? This example isn't a great comparison to my actual assignment, but I have an ArrayList field of my superclass (Cars) called &quot;ArrayList cars&quot; of &quot;Car&quot; objects, and I need to find a way to change that &quot;Car&quot; object in this ArrayList field, which I have already found a way of doing. I simply loop through each item in the ArrayList of &quot;Cars&quot; until it equals the instance of the Car put in as a parameter, and if it does, I then say &quot;cars.get(i).//setter&quot; (essentially). However, it would not work if I say &quot;cars.get(i).setTruckBedArea(newTruckBedArea)&quot;. I am not sure how to cast the Car object within this list of Cars to a Truck specifically, so I can then access the setter I want to use. The main issue is that I am required to implement an interface (let's call it &quot;Vehicle&quot;) wherein the ArrayList cars has to be of type cars, since it is specified to be that in the Vehicle interface (otherwise I would just change the ArrayList field to be ArrayList trucks).</p>\n<p>Example:</p>\n<pre><code>public class Truck implements Vehicle { //have to implement this interface\n    //... other fields\n    private ArrayList&lt;Car&gt; cars;\n    //... other methods/constructors\n    public void modifyCar(Car car, String newName, String newColor, double newWheelSize, double newTruckBedArea) { \n//have to have &quot;Car car&quot; as parameter for this method because of interface\n        for (int i = 0; i &lt; cars.size(); i++) {\n            if (cars.get(i).equals(car)) {\n                cars.get(i).setColor(newColor);\n                cars.get(i).setName(newName);\n                cars.get(i).setWheelSize(newWheelSize);\n                cars.get(i).setTruckBedArea(newTruckBedArea); //will produce error\n            }\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","printing","javafx"],"comments":[{"owner":{"account_id":1219626,"reputation":1502,"user_id":1186523,"accept_rate":38,"display_name":"uylmz"},"score":1,"creation_date":1434472301,"post_id":30873209,"comment_id":49787875,"body_markdown":"Did you check out https://docs.oracle.com/javase/8/javafx/api/javafx/print/PrinterJob.html ?","body":"Did you check out <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/print/PrinterJob.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/api/javafx/print/&hellip;</a> ?"},{"owner":{"account_id":6466017,"reputation":71,"user_id":5007937,"accept_rate":14,"display_name":"dav20011"},"score":0,"creation_date":1434473525,"post_id":30873209,"comment_id":49788652,"body_markdown":"@Reek I&#39;m not good in Java, isn&#39;t there something easier?","body":"@Reek I&#39;m not good in Java, isn&#39;t there something easier?"},{"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"score":1,"creation_date":1434474634,"post_id":30873209,"comment_id":49789285,"body_markdown":"As soon as you define any specific requirement how the printed page should look, prepare for a headache (regardless of language used). Printing *isn&#39;t* a simple topic. Even with a matured printing framework there are hassles to overcome. Asking for something simple is like asking for a miracle.","body":"As soon as you define any specific requirement how the printed page should look, prepare for a headache (regardless of language used). Printing <i>isn&#39;t</i> a simple topic. Even with a matured printing framework there are hassles to overcome. Asking for something simple is like asking for a miracle."},{"owner":{"account_id":5786021,"reputation":643,"user_id":4565279,"display_name":"Alex Fitzpatrick"},"score":0,"creation_date":1434474782,"post_id":30873209,"comment_id":49789369,"body_markdown":"By far the easiest thing is to write the text to disk and then use OS tools to print.","body":"By far the easiest thing is to write the text to disk and then use OS tools to print."},{"owner":{"account_id":6466017,"reputation":71,"user_id":5007937,"accept_rate":14,"display_name":"dav20011"},"score":0,"creation_date":1434477805,"post_id":30873209,"comment_id":49791135,"body_markdown":"So now, a bit more detailed, i did get it done to print out a Page, using FileInputStream SimpleDoc, it prints it out with PrintService, my txt is coded with ANSI, but my wordwraps show the next line like 20 spaces behind the line before, and I want to set the Printer using printDialog","body":"So now, a bit more detailed, i did get it done to print out a Page, using FileInputStream SimpleDoc, it prints it out with PrintService, my txt is coded with ANSI, but my wordwraps show the next line like 20 spaces behind the line before, and I want to set the Printer using printDialog"}],"owner":{"account_id":6466017,"reputation":71,"user_id":5007937,"accept_rate":14,"display_name":"dav20011"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2009,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647373881,"creation_date":1434472203,"question_id":30873209,"body_markdown":"I made a math programm using JavaFX which calculates some things, and writes all results to a .txt file, but now I want to print that txt out, I found a bit older tutorial using Java&#39;s printing dialog, but the document was completely messed up, the other tutorials didn&#39;t help, so is there an easy method to just open the Windows Printer Dialog for a text file?","title":"JavaFX print a text file","body":"<p>I made a math programm using JavaFX which calculates some things, and writes all results to a .txt file, but now I want to print that txt out, I found a bit older tutorial using Java's printing dialog, but the document was completely messed up, the other tutorials didn't help, so is there an easy method to just open the Windows Printer Dialog for a text file?</p>\n"},{"tags":["java","shell","command-line"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1647372438,"post_id":71487890,"comment_id":126353472,"body_markdown":"There is an overloaded `exec` that lets you specify the working directory.","body":"There is an overloaded <code>exec</code> that lets you specify the working directory."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":2,"creation_date":1647373726,"post_id":71487890,"comment_id":126353870,"body_markdown":"Likely issues: (1) you&#39;re running two processes, so &#39;cd&#39; in one cannot affect the other, (2) &#39;cd&#39; is not a separate executable anyway, it&#39;s a shell built-in.   But as the other comment says, it&#39;s the wrong way to go about it anyway.","body":"Likely issues: (1) you&#39;re running two processes, so &#39;cd&#39; in one cannot affect the other, (2) &#39;cd&#39; is not a separate executable anyway, it&#39;s a shell built-in.   But as the other comment says, it&#39;s the wrong way to go about it anyway."},{"owner":{"account_id":4000675,"reputation":1104,"user_id":3296786,"accept_rate":75,"display_name":"aΨVaN"},"score":0,"creation_date":1653502785,"post_id":71487890,"comment_id":127870943,"body_markdown":"String[] cmd = { &quot;/bin/bash&quot; , &quot;-c&quot;,  &quot;cd  /zookeeper/bin&quot; + &quot;./zkCli.sh&quot;};\n            Runtime run = Runtime.getRuntime();\n            Process pr = run.exec(cmd);\n            pr.waitFor();\n\n            BufferedReader buf = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n            String line = &quot;&quot;;\n            while ((line=buf.readLine())!=null) {\n               System.out.println(line);\n            }\n whats wrog in this","body":"String[] cmd = { &quot;/bin/bash&quot; , &quot;-c&quot;,  &quot;cd  /zookeeper/bin&quot; + &quot;./zkCli.sh&quot;};             Runtime run = Runtime.getRuntime();             Process pr = run.exec(cmd);             pr.waitFor();              BufferedReader buf = new BufferedReader(new InputStreamReader(pr.getInputStream()));             String line = &quot;&quot;;             while ((line=buf.readLine())!=null) {                System.out.println(line);             }  whats wrog in this"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647373839,"creation_date":1647373839,"answer_id":71488190,"question_id":71487890,"body_markdown":"You should use `ProcessBuilder` to launch or one of the overloads of `exec`. You need to specify the pathname to the script and pass the same pathname as the current directory to run the script in:\r\n\r\n    File pwd = new File(&quot;/dir1/dir2&quot;);\r\n    String shell = new File(pwd, &quot;shellScript.sh&quot;).toString();\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(shell);\r\n    // No STDERR =&gt; merge to STDOUT - or call redirectError(File)\r\n    pb.redirectErrorStream(true);\r\n    // Set CWD for the script\r\n    pb.directory(pwd);\r\n    \r\n    Process p = pb.start();\r\n\r\n    // Move STDOUT to the output stream (or original code to save as String)\r\n    try(var stdo = p.getInputStream()) {\r\n        stdo.transferTo(stdout);\r\n    }\r\n\r\n    int rc = p.waitFor();\r\n\r\n","title":"Why am I getting IOException : &quot;Cannot run program ./shellScript.sh error = 2, No such file or directory in Java?","body":"<p>You should use <code>ProcessBuilder</code> to launch or one of the overloads of <code>exec</code>. You need to specify the pathname to the script and pass the same pathname as the current directory to run the script in:</p>\n<pre><code>File pwd = new File(&quot;/dir1/dir2&quot;);\nString shell = new File(pwd, &quot;shellScript.sh&quot;).toString();\n\nProcessBuilder pb = new ProcessBuilder(shell);\n// No STDERR =&gt; merge to STDOUT - or call redirectError(File)\npb.redirectErrorStream(true);\n// Set CWD for the script\npb.directory(pwd);\n\nProcess p = pb.start();\n\n// Move STDOUT to the output stream (or original code to save as String)\ntry(var stdo = p.getInputStream()) {\n    stdo.transferTo(stdout);\n}\n\nint rc = p.waitFor();\n</code></pre>\n"}],"owner":{"account_id":1068883,"reputation":1885,"user_id":1068636,"accept_rate":74,"display_name":"user1068636"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71488190,"answer_count":1,"score":0,"last_activity_date":1647373839,"creation_date":1647372313,"question_id":71487890,"body_markdown":"The following Main.java code simply tries to simulate the following linux command: \r\n\r\n    cd /dir1/dir2\r\n    ./shellScript.sh\r\n\r\n\r\n\r\n\r\n\r\nThe program below works only if the executable Main.jar sits *within* /dir1/dir2, not outside of /dir1/dir2.  How do I modify the program below so that Main.jar can sit anywhere on the file system? \r\n\r\n\r\n    public class Main {\r\n    \r\n    \tpublic static String runCmdLineProcess(String commandStr){\r\n    \t\tString returnVal = &quot;&quot;;\r\n    \t\tRuntime r = Runtime.getRuntime();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tProcess p = r.exec(commandStr);\r\n    \t\t\tBufferedReader b = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \t\t\tString line = &quot;&quot;; \r\n    \t\t\t\r\n    \t\t\twhile ((line = b.readLine()) != null){\r\n    \t\t\t\treturnVal += line + &quot;\\n&quot;;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tcatch(IOException ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn returnVal;\r\n    \t}\r\n    \r\n    \tpublic static void runProcessBuilder(String scriptPath){\r\n    \r\n    \t\tString[] cmd = {scriptPath};\r\n    \t\ttry {\r\n    \t\t\trunCmdLineProcess(&quot;cd /dir1/dir2&quot;);\r\n    \t\t\tRuntime.getRuntime().exec(cmd);\r\n    \t\t}\r\n    \t\tcatch (IOException ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args){\r\n    \t\trunProcessBuilder(&quot;./shellScript.sh&quot;); // &lt;-- works if I run from inside &quot;/dir1/dir2&quot;.  \r\n    \t\t\t\t\t\t\t\t\t\t\t   //But if I&#39;m outside &quot;dir2&quot;, get an error message \r\n    \t\t\t\t\t\t\t\t\t\t\t   // saying &quot;Cannot run program &quot;./shellScript.sh&quot;: error = 2, No such file or directory\r\n    \t}\r\n    \r\n    }","title":"Why am I getting IOException : &quot;Cannot run program ./shellScript.sh error = 2, No such file or directory in Java?","body":"<p>The following Main.java code simply tries to simulate the following linux command:</p>\n<pre><code>cd /dir1/dir2\n./shellScript.sh\n</code></pre>\n<p>The program below works only if the executable Main.jar sits <em>within</em> /dir1/dir2, not outside of /dir1/dir2.  How do I modify the program below so that Main.jar can sit anywhere on the file system?</p>\n<pre><code>public class Main {\n\n    public static String runCmdLineProcess(String commandStr){\n        String returnVal = &quot;&quot;;\n        Runtime r = Runtime.getRuntime();\n        \n        try {\n            Process p = r.exec(commandStr);\n            BufferedReader b = new BufferedReader(new InputStreamReader(p.getInputStream()));\n            String line = &quot;&quot;; \n            \n            while ((line = b.readLine()) != null){\n                returnVal += line + &quot;\\n&quot;;\n            }\n\n        }\n        catch(IOException ex){\n            ex.printStackTrace();\n        }\n        \n        return returnVal;\n    }\n\n    public static void runProcessBuilder(String scriptPath){\n\n        String[] cmd = {scriptPath};\n        try {\n            runCmdLineProcess(&quot;cd /dir1/dir2&quot;);\n            Runtime.getRuntime().exec(cmd);\n        }\n        catch (IOException ex){\n            ex.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args){\n        runProcessBuilder(&quot;./shellScript.sh&quot;); // &lt;-- works if I run from inside &quot;/dir1/dir2&quot;.  \n                                               //But if I'm outside &quot;dir2&quot;, get an error message \n                                               // saying &quot;Cannot run program &quot;./shellScript.sh&quot;: error = 2, No such file or directory\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-kafka-streams","spring-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1617290082,"creation_date":1617238482,"answer_id":66897116,"question_id":66896372,"body_markdown":"`spring.cloud.stream.bindings.input.configuration.sasl.jaas.config` will not work. The correct property key is `spring.cloud.stream.kafka.bindings.input.consumer.configuration.sasl.jaas.config`.\r\n\r\nIf you want to use separate jaas config, you need to use a multi-binder setup. See this application for some ideas: https://github.com/spring-cloud/spring-cloud-stream-samples/blob/master/multi-binder-samples/kafka-multi-binder-jaas/src/main/resources/application.yml\r\n\r\nIn this sample, where it provides [jaas config for the binder][1], you can simply replace it with `binder.configuration.sasl.jaas.config`. \r\n\r\nHave the same Kafka cluster used as the broker for both binder setups, but different `jaas` configs. \r\n\r\nHowever, I think the problem that you are running into is different. Your `jaas` config is ultimately delegated to java security Configuration which keeps a static copy of the `jaas` configuration per JVM. Thus, any `jaas` configs provided after it is set statically in the JVM are ignored. \r\n\r\nSee this for more details on a related issue: https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/issues/874\r\n\r\nThis issue provides some workarounds for this problem. One is to make the connection string, password, etc. the same for both the topics, that way, the same `jaas` config values are used. This may not be an ideal solution and defeats the purpose of different credentials in the first place. The reason why the aforementioned sample works is because we use the same username/password combination in both binders. \r\n\r\nAnother option is to split the application into two. In this way, the `jaas` configuration for each topic resides in separate applications. \r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-stream-samples/blob/master/multi-binder-samples/kafka-multi-binder-jaas/src/main/resources/application.yml#L25","title":"Configuration of &#39;sasl.jaas.config&#39; when you have 2 separate topics, each having separate connection key?","body":"<p><code>spring.cloud.stream.bindings.input.configuration.sasl.jaas.config</code> will not work. The correct property key is <code>spring.cloud.stream.kafka.bindings.input.consumer.configuration.sasl.jaas.config</code>.</p>\n<p>If you want to use separate jaas config, you need to use a multi-binder setup. See this application for some ideas: <a href=\"https://github.com/spring-cloud/spring-cloud-stream-samples/blob/master/multi-binder-samples/kafka-multi-binder-jaas/src/main/resources/application.yml\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-stream-samples/blob/master/multi-binder-samples/kafka-multi-binder-jaas/src/main/resources/application.yml</a></p>\n<p>In this sample, where it provides <a href=\"https://github.com/spring-cloud/spring-cloud-stream-samples/blob/master/multi-binder-samples/kafka-multi-binder-jaas/src/main/resources/application.yml#L25\" rel=\"nofollow noreferrer\">jaas config for the binder</a>, you can simply replace it with <code>binder.configuration.sasl.jaas.config</code>.</p>\n<p>Have the same Kafka cluster used as the broker for both binder setups, but different <code>jaas</code> configs.</p>\n<p>However, I think the problem that you are running into is different. Your <code>jaas</code> config is ultimately delegated to java security Configuration which keeps a static copy of the <code>jaas</code> configuration per JVM. Thus, any <code>jaas</code> configs provided after it is set statically in the JVM are ignored.</p>\n<p>See this for more details on a related issue: <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/issues/874\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/issues/874</a></p>\n<p>This issue provides some workarounds for this problem. One is to make the connection string, password, etc. the same for both the topics, that way, the same <code>jaas</code> config values are used. This may not be an ideal solution and defeats the purpose of different credentials in the first place. The reason why the aforementioned sample works is because we use the same username/password combination in both binders.</p>\n<p>Another option is to split the application into two. In this way, the <code>jaas</code> configuration for each topic resides in separate applications.</p>\n"}],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66897116,"answer_count":1,"score":1,"last_activity_date":1647373657,"creation_date":1617231671,"question_id":66896372,"body_markdown":"I am looking for instructions on the configuration of `sasl.jaas.config` when you have 2 separate topics, each having separate connection key?   I am using `spring-cloud-starter-stream-kafka` version 3.1.   I am not using `spring-cloud-stream-binder-kafka` and I don&#39;t know if [that would solve my problem][1].\r\n\r\nI can find lots of examples when there is only 1 topic involved, using a &quot;general configuration in `spring.cloud.stream.kafka.binder.configuration` that is inherited by the consumer to connect.\r\n\r\nI have a scenario where I have a input and output which are each on their own separate topic and I want to configure it in the .yml.   Is this possible via .yml configuration?\r\n\r\nMy best guess was to try to configure the key `spring.cloud.stream.bindings.input.configuration.sasl.jaas.config`  but that config doesn&#39;t seem to exist, does it?\r\n\r\nHere is my best guess but it is not correct, since it doesn&#39;t work:\r\n\r\n    spring:\r\n      ...\r\n      cloud:\r\n        stream:\r\n          kafka:\r\n            binder:\r\n              brokers: ...\r\n              defaultBrokerPort: 9093\r\n              auto-create-topics: true\r\n              configuration:\r\n                security.protocol: SASL_SSL\r\n                sasl:\r\n                  mechanism: PLAIN\r\n            bindings:\r\n              eeoi-sink:\r\n                consumer:\r\n                  enableDlq: false\r\n                  dlqName: input_dlq\r\n                  ackEachRecord: true\r\n                  autoCommitOffset: false\r\n          bindings:\r\n            eeoi-sink:\r\n              destination: input\r\n              contentType: application/json\r\n              group: $Default\r\n              consumer:\r\n                max-attempts: 1\r\n              configuration:\r\n                sasl:\r\n                  jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;...&quot;;\r\n            acknowledgement-source:\r\n              destination: output\r\n              contentType: application/json\r\n              group: $Default\r\n              configuration:\r\n                sasl:\r\n                  jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;...&quot;;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-stream/docs/Ditmars.M1/reference/html/_apache_kafka_binder.html","title":"Configuration of &#39;sasl.jaas.config&#39; when you have 2 separate topics, each having separate connection key?","body":"<p>I am looking for instructions on the configuration of <code>sasl.jaas.config</code> when you have 2 separate topics, each having separate connection key?   I am using <code>spring-cloud-starter-stream-kafka</code> version 3.1.   I am not using <code>spring-cloud-stream-binder-kafka</code> and I don't know if <a href=\"https://docs.spring.io/spring-cloud-stream/docs/Ditmars.M1/reference/html/_apache_kafka_binder.html\" rel=\"nofollow noreferrer\">that would solve my problem</a>.</p>\n<p>I can find lots of examples when there is only 1 topic involved, using a &quot;general configuration in <code>spring.cloud.stream.kafka.binder.configuration</code> that is inherited by the consumer to connect.</p>\n<p>I have a scenario where I have a input and output which are each on their own separate topic and I want to configure it in the .yml.   Is this possible via .yml configuration?</p>\n<p>My best guess was to try to configure the key <code>spring.cloud.stream.bindings.input.configuration.sasl.jaas.config</code>  but that config doesn't seem to exist, does it?</p>\n<p>Here is my best guess but it is not correct, since it doesn't work:</p>\n<pre><code>spring:\n  ...\n  cloud:\n    stream:\n      kafka:\n        binder:\n          brokers: ...\n          defaultBrokerPort: 9093\n          auto-create-topics: true\n          configuration:\n            security.protocol: SASL_SSL\n            sasl:\n              mechanism: PLAIN\n        bindings:\n          eeoi-sink:\n            consumer:\n              enableDlq: false\n              dlqName: input_dlq\n              ackEachRecord: true\n              autoCommitOffset: false\n      bindings:\n        eeoi-sink:\n          destination: input\n          contentType: application/json\n          group: $Default\n          consumer:\n            max-attempts: 1\n          configuration:\n            sasl:\n              jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;...&quot;;\n        acknowledgement-source:\n          destination: output\n          contentType: application/json\n          group: $Default\n          configuration:\n            sasl:\n              jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;...&quot;;\n</code></pre>\n"},{"tags":["java","kubernetes"],"comments":[{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1647373100,"post_id":71487797,"comment_id":126353684,"body_markdown":"K8s provides HTTP APIs for a lot of things, and afaik `kubectl` even uses them under the hood. For example endpoints api is described [here](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#endpoints-v1-core). I don&#39;t know if you have to use APIs, i guess the typical choice would be to use `event`s, e.g. publish to a Kafka topic and have all interested parties subscribe to that topic.","body":"K8s provides HTTP APIs for a lot of things, and afaik <code>kubectl</code> even uses them under the hood. For example endpoints api is described <a href=\"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#endpoints-v1-core\" rel=\"nofollow noreferrer\">here</a>. I don&#39;t know if you have to use APIs, i guess the typical choice would be to use <code>event</code>s, e.g. publish to a Kafka topic and have all interested parties subscribe to that topic."}],"answers":[{"tags":[],"owner":{"account_id":18025780,"reputation":181,"user_id":13808183,"display_name":"Nick Bonilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647373344,"creation_date":1647373044,"answer_id":71488055,"question_id":71487797,"body_markdown":"Seems like your spring boot service should be listening to a message queue, and when one service receives a specific HTTP request message to the `/propagateme` endpoint, it sends an event to the topic to all other clients listening to the `Propagation topic`, when the instances receive a message from the topic they perform the specific action\r\n\r\nSee JMS https://spring.io/guides/gs/messaging-jms/","title":"Broadcast message to all instances of kubernetes java service","body":"<p>Seems like your spring boot service should be listening to a message queue, and when one service receives a specific HTTP request message to the <code>/propagateme</code> endpoint, it sends an event to the topic to all other clients listening to the <code>Propagation topic</code>, when the instances receive a message from the topic they perform the specific action</p>\n<p>See JMS <a href=\"https://spring.io/guides/gs/messaging-jms/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/messaging-jms/</a></p>\n"}],"owner":{"account_id":4351030,"reputation":1253,"user_id":3551365,"accept_rate":80,"display_name":"hoodakaushal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647373344,"creation_date":1647371874,"question_id":71487797,"body_markdown":"The problem: I have a spring boot service running on K8s. Generally API calls can be served by any pod of my service, but for a particular use case we have a requirement to propagate the call to all instances of the service. \r\n\r\nA bit of googling led me to https://discuss.kubernetes.io/t/how-to-broadcast-message-to-all-the-pod/10002 where they suggest using \r\n\r\n`kubectl get endpoints cache -o yaml`\r\n\r\nand proceeding from there. This is fine for a human or a CLI environment, but how do I accomplish the same from within my Java service, aside from executing the above command via `Process` and parsing the output?\r\n\r\nEssentially I want a way to do what the above command is doing but in a more java-friendly way.","title":"Broadcast message to all instances of kubernetes java service","body":"<p>The problem: I have a spring boot service running on K8s. Generally API calls can be served by any pod of my service, but for a particular use case we have a requirement to propagate the call to all instances of the service.</p>\n<p>A bit of googling led me to <a href=\"https://discuss.kubernetes.io/t/how-to-broadcast-message-to-all-the-pod/10002\" rel=\"nofollow noreferrer\">https://discuss.kubernetes.io/t/how-to-broadcast-message-to-all-the-pod/10002</a> where they suggest using</p>\n<p><code>kubectl get endpoints cache -o yaml</code></p>\n<p>and proceeding from there. This is fine for a human or a CLI environment, but how do I accomplish the same from within my Java service, aside from executing the above command via <code>Process</code> and parsing the output?</p>\n<p>Essentially I want a way to do what the above command is doing but in a more java-friendly way.</p>\n"},{"tags":["java","bazel","e2e-testing"],"answers":[{"tags":[],"owner":{"account_id":238581,"reputation":4917,"user_id":507564,"accept_rate":63,"display_name":"orshachar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1513676135,"creation_date":1513676135,"answer_id":47883878,"question_id":47871993,"body_markdown":"So digging through bazel docs I found this:\r\nhttps://docs.bazel.build/versions/master/test-encyclopedia.html#initial-conditions\r\n\r\nSeems like I can read env variable `&quot;TEST_UNDECLARED_OUTPUTS_DIR&quot;` and it will give me a writable path. Anything I write there would be zipped and saved under `./bazel-out/darwin-fastbuild/testlogs/&lt;package-name&gt;/&lt;target-name&gt;/test.outputs/outputs.zip`\r\n\r\nPretty cool!","title":"bazel - writable archivable path for test runtime","body":"<p>So digging through bazel docs I found this:\n<a href=\"https://docs.bazel.build/versions/master/test-encyclopedia.html#initial-conditions\" rel=\"noreferrer\">https://docs.bazel.build/versions/master/test-encyclopedia.html#initial-conditions</a></p>\n\n<p>Seems like I can read env variable <code>\"TEST_UNDECLARED_OUTPUTS_DIR\"</code> and it will give me a writable path. Anything I write there would be zipped and saved under <code>./bazel-out/darwin-fastbuild/testlogs/&lt;package-name&gt;/&lt;target-name&gt;/test.outputs/outputs.zip</code></p>\n\n<p>Pretty cool!</p>\n"},{"tags":[],"owner":{"account_id":24569530,"reputation":1,"user_id":18476185,"display_name":"Saad Musani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647373321,"creation_date":1647373321,"answer_id":71488106,"question_id":47871993,"body_markdown":"You can set a writable path for bazel test by using the environment variable TEST_TMPDIR=&quot;&lt;.file directory.&gt;&quot;. ","title":"bazel - writable archivable path for test runtime","body":"<p>You can set a writable path for bazel test by using the environment variable TEST_TMPDIR=&quot;&lt;.file directory.&gt;&quot;.</p>\n"}],"owner":{"account_id":238581,"reputation":4917,"user_id":507564,"accept_rate":63,"display_name":"orshachar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2617,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":47883878,"answer_count":2,"score":8,"last_activity_date":1647373321,"creation_date":1513612505,"question_id":47871993,"body_markdown":"I&#39;m running E2E test using some bazel test target (the scala flavour of `java_test`). \r\n\r\nIn Maven I used to dump logs to `target/logs` folder that was created during test time, and then if something failed - I could have looked in this folder and find the logs.\r\n\r\nIn bazel - what path can I put in my test logs configuration so it would be writable and conveniently available upon test finish / test failure?\r\n\r\n---\r\nI know that the `java.io.tmp` dir is writable but gets deleted immediately after test finishes.","title":"bazel - writable archivable path for test runtime","body":"<p>I'm running E2E test using some bazel test target (the scala flavour of <code>java_test</code>). </p>\n\n<p>In Maven I used to dump logs to <code>target/logs</code> folder that was created during test time, and then if something failed - I could have looked in this folder and find the logs.</p>\n\n<p>In bazel - what path can I put in my test logs configuration so it would be writable and conveniently available upon test finish / test failure?</p>\n\n<hr>\n\n<p>I know that the <code>java.io.tmp</code> dir is writable but gets deleted immediately after test finishes.</p>\n"},{"tags":["java","android","firebase","kotlin","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1627323146,"creation_date":1627323146,"answer_id":68534667,"question_id":68533662,"body_markdown":"If you want to modify individual **objects** of an array type field, you have to read the document, modify the array on the client, then update the modified array back to the document in Firestore.\r\n\r\nPlease note, that you cannot do that without reading the document first. Assuming that you have a data class that looks like this:\r\n\r\n    data class Place(\r\n        var id: String? = null,\r\n        var isCancelled: Boolean? = null,\r\n        var price: String? = null,\r\n        var reservationName: String? = null,\r\n        var reservationPhone: String? = null,\r\n    )\r\n\r\nFor reading the array of objects, the simplest method I can think of is to [get the array as a list of &quot;Place&quot; objects (`List&lt;Place&gt;`)][1] and right after that update the desired element according to your needs.\r\n\r\n  [1]: https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10","title":"How to update data in an array of objects in Firestore using Kotlin?","body":"<p>If you want to modify individual <strong>objects</strong> of an array type field, you have to read the document, modify the array on the client, then update the modified array back to the document in Firestore.</p>\n<p>Please note, that you cannot do that without reading the document first. Assuming that you have a data class that looks like this:</p>\n<pre><code>data class Place(\n    var id: String? = null,\n    var isCancelled: Boolean? = null,\n    var price: String? = null,\n    var reservationName: String? = null,\n    var reservationPhone: String? = null,\n)\n</code></pre>\n<p>For reading the array of objects, the simplest method I can think of is to <a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">get the array as a list of &quot;Place&quot; objects (<code>List&lt;Place&gt;</code>)</a> and right after that update the desired element according to your needs.</p>\n"},{"tags":[],"owner":{"account_id":18936523,"reputation":21,"user_id":13817463,"display_name":"Ehsan Rafique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647373311,"creation_date":1647373311,"answer_id":71488104,"question_id":68533662,"body_markdown":"It may be late to answer but here is the solution\r\n\r\n    val washingtonRef = db.collection(&quot;cities&quot;).document(&quot;DC&quot;)\r\n\r\n    // Atomically add a new region to the &quot;regions&quot; array field.\r\n    washingtonRef.update(&quot;regions&quot;, FieldValue.arrayUnion(&quot;greater_virginia&quot;))\r\n    \r\n    // Atomically remove a region from the &quot;regions&quot; array field.\r\n    washingtonRef.update(&quot;regions&quot;, FieldValue.arrayRemove(&quot;east_coast&quot;))\r\n\r\n\r\nHere is the link you can also read\r\n\r\nhttps://firebase.google.com/docs/firestore/manage-data/add-data#update_fields_in_nested_objects\r\n","title":"How to update data in an array of objects in Firestore using Kotlin?","body":"<p>It may be late to answer but here is the solution</p>\n<pre><code>val washingtonRef = db.collection(&quot;cities&quot;).document(&quot;DC&quot;)\n\n// Atomically add a new region to the &quot;regions&quot; array field.\nwashingtonRef.update(&quot;regions&quot;, FieldValue.arrayUnion(&quot;greater_virginia&quot;))\n\n// Atomically remove a region from the &quot;regions&quot; array field.\nwashingtonRef.update(&quot;regions&quot;, FieldValue.arrayRemove(&quot;east_coast&quot;))\n</code></pre>\n<p>Here is the link you can also read</p>\n<p><a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#update_fields_in_nested_objects\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/manage-data/add-data#update_fields_in_nested_objects</a></p>\n"}],"owner":{"account_id":1698708,"reputation":1261,"user_id":2672575,"accept_rate":90,"display_name":"Matteo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68534667,"answer_count":2,"score":0,"last_activity_date":1647373311,"creation_date":1627318146,"question_id":68533662,"body_markdown":"How can I modify in the single item the value of a single field, for example, the id, and leave all the other fields at the initial value without having to delete and reinsert the item?\r\n\r\n[![Firestore DB][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T0W56.png","title":"How to update data in an array of objects in Firestore using Kotlin?","body":"<p>How can I modify in the single item the value of a single field, for example, the id, and leave all the other fields at the initial value without having to delete and reinsert the item?</p>\n<p><a href=\"https://i.stack.imgur.com/T0W56.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T0W56.png\" alt=\"Firestore DB\" /></a></p>\n"},{"tags":["java","jersey","jersey-2.0","jersey-client","jersey-1.0"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1617983318,"creation_date":1617931824,"answer_id":67013896,"question_id":67013351,"body_markdown":"The basic type analogs would be as follows:\r\n\r\n| Jersey 1.x | Jersey 2.x |\r\n| --- | --- |\r\n| `Client` | [`javax.ws.rs.client.Client`][client] |\r\n| `WebResource` | [`javax.ws.rs.client.WebTarget`][target] |\r\n| `ClientResponse` | [`javax.ws.rs.core.Response`][response] |\r\n\r\nTo build the client, you generally use one of the [`ClientBuilder`][builder] static builder methods. The most basic one to use would be the `newClient()` method, which returns a new instance of the `Client`\r\n\r\n```java\r\nClient client = ClientBuider.newClient();\r\n```\r\n\r\nIf you need to configure the client, you can do so in multiple ways. For instance, if you need to register some properties or providers, you can:\r\n\r\n* Configure while building:\r\n\r\n      Client client = ClientBuilder.newBuilder()\r\n              .property(&quot;...&quot;, &quot;...&quot;)\r\n              .register(SomeProvider.class)\r\n              .build();\r\n\r\n* Use a [`ClientConfig`][config]:\r\n\r\n      ClientConfig config = new ClientConfig()\r\n              .property(&quot;...&quot;, &quot;...&quot;)\r\n              .register(SomeProvider.class);\r\n      Client client = ClientBuilder.newClient(config);\r\n\r\n* Configure the client directly\r\n\r\n      Client client = ClientBuilder.newClient();\r\n      client.property(&quot;...&quot;, &quot;...&quot;);\r\n      client.register(SomeProvider.class);\r\n\r\nOnce you have a `Client`, you want to get a `WebTarget`. You would do that by providing a URI to the `Client#target()` method.\r\n\r\n```java\r\nClient client = ClientBuilder.newClient();\r\nWebTarget target = client.target(uri);\r\n```\r\n\r\nIf you need to do anything to the URI like add a path, query param, or matrix param, you would do so on the `WebTarget`. Otherwise you would now call the `WebTarget#request()` method to get an [`Invocation.Builder`][invocation]\r\n\r\n```java\r\nClient client = ClientBuilder.newClient();\r\nWebTarget target = client.target(uri);\r\nInvocation.Builder invBuilder = target.request();\r\n```\r\n\r\nWith the `Invocation.Builder`, you can add headers and finally make the request. You don&#39;t have to assign any new variable to the `Invocation.Builder` (or even the `WebTarget` for that matter). I did so for demonstrative purposes. You can continue to chain the method calls. For example\r\n\r\n```java\r\nClient client = ClientBuilder.newClient();\r\nclient.target(url)\r\n        .request()\r\n        .header(authHey, authCreds)\r\n```\r\n\r\nFinally to make the request, you would use one of the HTTP methods of the `Invocation.Builder`. In your case it would be the `post()` method. You can pass an [`Entity`][entity] to this method and the result would be a `Response`\r\n\r\n```java\r\nClient client = ClientBuilder.newClient();\r\nResponse res = client.target(url)\r\n        .request()\r\n        .header(authHey, authCreds)\r\n        .post(Entity.json(input));\r\n```\r\n\r\nTo read the response, you use `Response#readEntity(Class)`\r\n\r\n```java\r\nString data = res.readEntity(String.class);\r\n```\r\n\r\nIf you have a POJO class you want the response to be deserialized to then pass that class to the `readEntity()` method. You will need to have a provider for whatever data type is expected. For example if it is JSON to be converted to a POJO, then you&#39;ll want to have the Jackson provider:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### Proxies\r\n\r\nAs far as the proxy goes, Jersey has some properties you can set\r\n\r\n* [`ClientProperties.PROXI_URI`][proxy]\r\n\r\n      Client client = ClientBuilder.newClient()\r\n              .property(ClientProperties.PROXY_URI, String.format(&quot;%s:%s&quot;, host, port));\r\n\r\n\r\n### See also\r\n\r\n* For full documentation on the Jersey 2.x client, see [the docs][docs]\r\n     \r\n\r\n\r\n\r\n[client]: https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/Client.html\r\n\r\n[target]: https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/WebTarget.html\r\n\r\n[response]: https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/core/Response.html\r\n\r\n[builder]: https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/ClientBuilder.html\r\n\r\n[config]: https://eclipse-ee4j.github.io/jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/client/ClientConfig.html\r\n\r\n[invocation]: https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/Invocation.Builder.html\r\n\r\n[entity]: https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/Entity.html\r\n\r\n[proxy]: https://eclipse-ee4j.github.io/jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/client/ClientProperties.html#PROXY_URI\r\n\r\n[docs]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html","title":"Convert Jersey 1.x client to Jersey 2.x client","body":"<p>The basic type analogs would be as follows:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Jersey 1.x</th>\n<th>Jersey 2.x</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>Client</code></td>\n<td><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/Client.html\" rel=\"nofollow noreferrer\"><code>javax.ws.rs.client.Client</code></a></td>\n</tr>\n<tr>\n<td><code>WebResource</code></td>\n<td><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/WebTarget.html\" rel=\"nofollow noreferrer\"><code>javax.ws.rs.client.WebTarget</code></a></td>\n</tr>\n<tr>\n<td><code>ClientResponse</code></td>\n<td><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/core/Response.html\" rel=\"nofollow noreferrer\"><code>javax.ws.rs.core.Response</code></a></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>To build the client, you generally use one of the <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/ClientBuilder.html\" rel=\"nofollow noreferrer\"><code>ClientBuilder</code></a> static builder methods. The most basic one to use would be the <code>newClient()</code> method, which returns a new instance of the <code>Client</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Client client = ClientBuider.newClient();\n</code></pre>\n<p>If you need to configure the client, you can do so in multiple ways. For instance, if you need to register some properties or providers, you can:</p>\n<ul>\n<li><p>Configure while building:</p>\n<pre><code>Client client = ClientBuilder.newBuilder()\n        .property(&quot;...&quot;, &quot;...&quot;)\n        .register(SomeProvider.class)\n        .build();\n</code></pre>\n</li>\n<li><p>Use a <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/client/ClientConfig.html\" rel=\"nofollow noreferrer\"><code>ClientConfig</code></a>:</p>\n<pre><code>ClientConfig config = new ClientConfig()\n        .property(&quot;...&quot;, &quot;...&quot;)\n        .register(SomeProvider.class);\nClient client = ClientBuilder.newClient(config);\n</code></pre>\n</li>\n<li><p>Configure the client directly</p>\n<pre><code>Client client = ClientBuilder.newClient();\nclient.property(&quot;...&quot;, &quot;...&quot;);\nclient.register(SomeProvider.class);\n</code></pre>\n</li>\n</ul>\n<p>Once you have a <code>Client</code>, you want to get a <code>WebTarget</code>. You would do that by providing a URI to the <code>Client#target()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Client client = ClientBuilder.newClient();\nWebTarget target = client.target(uri);\n</code></pre>\n<p>If you need to do anything to the URI like add a path, query param, or matrix param, you would do so on the <code>WebTarget</code>. Otherwise you would now call the <code>WebTarget#request()</code> method to get an <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/Invocation.Builder.html\" rel=\"nofollow noreferrer\"><code>Invocation.Builder</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Client client = ClientBuilder.newClient();\nWebTarget target = client.target(uri);\nInvocation.Builder invBuilder = target.request();\n</code></pre>\n<p>With the <code>Invocation.Builder</code>, you can add headers and finally make the request. You don't have to assign any new variable to the <code>Invocation.Builder</code> (or even the <code>WebTarget</code> for that matter). I did so for demonstrative purposes. You can continue to chain the method calls. For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Client client = ClientBuilder.newClient();\nclient.target(url)\n        .request()\n        .header(authHey, authCreds)\n</code></pre>\n<p>Finally to make the request, you would use one of the HTTP methods of the <code>Invocation.Builder</code>. In your case it would be the <code>post()</code> method. You can pass an <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/client/Entity.html\" rel=\"nofollow noreferrer\"><code>Entity</code></a> to this method and the result would be a <code>Response</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Client client = ClientBuilder.newClient();\nResponse res = client.target(url)\n        .request()\n        .header(authHey, authCreds)\n        .post(Entity.json(input));\n</code></pre>\n<p>To read the response, you use <code>Response#readEntity(Class)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>String data = res.readEntity(String.class);\n</code></pre>\n<p>If you have a POJO class you want the response to be deserialized to then pass that class to the <code>readEntity()</code> method. You will need to have a provider for whatever data type is expected. For example if it is JSON to be converted to a POJO, then you'll want to have the Jackson provider:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;version&gt;${jersey2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>Proxies</h3>\n<p>As far as the proxy goes, Jersey has some properties you can set</p>\n<ul>\n<li><p><a href=\"https://eclipse-ee4j.github.io/jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/client/ClientProperties.html#PROXY_URI\" rel=\"nofollow noreferrer\"><code>ClientProperties.PROXI_URI</code></a></p>\n<pre><code>Client client = ClientBuilder.newClient()\n        .property(ClientProperties.PROXY_URI, String.format(&quot;%s:%s&quot;, host, port));\n</code></pre>\n</li>\n</ul>\n<h3>See also</h3>\n<ul>\n<li>For full documentation on the Jersey 2.x client, see <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html\" rel=\"nofollow noreferrer\">the docs</a></li>\n</ul>\n"}],"owner":{"account_id":6397652,"reputation":181,"user_id":4961462,"accept_rate":17,"display_name":"Mandy Lastra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67013896,"answer_count":1,"score":1,"last_activity_date":1647373243,"creation_date":1617926502,"question_id":67013351,"body_markdown":"I have the following code which works with jersey 1.x. However, I need to make it work with jersey 2.x and I noticed that a lot of the jersey classes and methods changed from one version to another. Any idea?\r\n\r\n    Client client = null;\r\n    \r\n    try {\r\n    \tURLConnectionClientHandler ch = new URLConnectionClientHandler(new ProxyConnectionFactory(proxyHost, proxyPort));\r\n    \tclient = new Client(ch);\r\n    \tWebResource webResource = client.resource(url);\r\n    \tClientResponse response = ((Builder) webResource.type(&quot;application/json&quot;).header(authKey, authCreds)).post(ClientResponse.class, input);\r\n    \t\r\n    \tString output = (String) response.getEntity(String.class);\r\n    \tSystem.out.println(output);\r\n    \tif (response.getStatus() != 200) {\r\n    \t\tSystem.out.println(&quot;Status Failed, Status: &quot; + response.getStatus());\r\n    \t}\r\n    \telse {\r\n    \t\tSystem.out.println(&quot;Connection Successful!&quot;);\r\n            //additional code\r\n    \t}\r\n    \t\r\n    } catch (Exception e) {\r\n    \tSystem.out.println(&quot;Exception occurred&quot;);\r\n    } finally {\r\n    \tclient.destroy();\r\n    }\r\nIn this code snippet, ProxyConnectionFactory is a class which sets the proxy configuration. It implements HttpURLConnectionFactory which is also a jersey 1.x interface.","title":"Convert Jersey 1.x client to Jersey 2.x client","body":"<p>I have the following code which works with jersey 1.x. However, I need to make it work with jersey 2.x and I noticed that a lot of the jersey classes and methods changed from one version to another. Any idea?</p>\n<pre><code>Client client = null;\n\ntry {\n    URLConnectionClientHandler ch = new URLConnectionClientHandler(new ProxyConnectionFactory(proxyHost, proxyPort));\n    client = new Client(ch);\n    WebResource webResource = client.resource(url);\n    ClientResponse response = ((Builder) webResource.type(&quot;application/json&quot;).header(authKey, authCreds)).post(ClientResponse.class, input);\n    \n    String output = (String) response.getEntity(String.class);\n    System.out.println(output);\n    if (response.getStatus() != 200) {\n        System.out.println(&quot;Status Failed, Status: &quot; + response.getStatus());\n    }\n    else {\n        System.out.println(&quot;Connection Successful!&quot;);\n        //additional code\n    }\n    \n} catch (Exception e) {\n    System.out.println(&quot;Exception occurred&quot;);\n} finally {\n    client.destroy();\n}\n</code></pre>\n<p>In this code snippet, ProxyConnectionFactory is a class which sets the proxy configuration. It implements HttpURLConnectionFactory which is also a jersey 1.x interface.</p>\n"},{"tags":["java","tapestry"],"answers":[{"tags":[],"owner":{"account_id":2765351,"reputation":11,"user_id":2381214,"display_name":"S.Homburg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496042106,"creation_date":1496042106,"answer_id":44236604,"question_id":44196906,"body_markdown":"what do you mean with &quot;get all fields&quot;?\r\n\r\nif you want to display all fields, they have a validation error\r\nso insert into to your form the &quot;Errors&quot; component like this:\r\n\r\n&lt;html xmlns:t=&quot;http://tapestry.apache.org/schema/tapestry_5_0_0.xsd&quot;&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;t:form&gt;\r\n\r\n        &lt;t:errors/&gt;\r\n\r\n        &lt;t:label for=&quot;search&quot;/&gt;\r\n        &lt;t:textfield t:id=&quot;search&quot;/&gt;\r\n\r\n        &lt;input type=&quot;submit&quot; value=&quot;Search&quot;/&gt;\r\n\r\n    &lt;/t:form&gt;\r\n\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nhave a look at [api docs][1]\r\n\r\n\r\n  [1]: http://tapestry.apache.org/5.3/apidocs/org/apache/tapestry5/corelib/components/Errors.html","title":"Tapestry 5.3 - Form ValidationTracker","body":"<p>what do you mean with \"get all fields\"?</p>\n\n<p>if you want to display all fields, they have a validation error\nso insert into to your form the \"Errors\" component like this:</p>\n\n<p>\n    </p>\n\n<pre><code>&lt;t:form&gt;\n\n    &lt;t:errors/&gt;\n\n    &lt;t:label for=\"search\"/&gt;\n    &lt;t:textfield t:id=\"search\"/&gt;\n\n    &lt;input type=\"submit\" value=\"Search\"/&gt;\n\n&lt;/t:form&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>have a look at <a href=\"http://tapestry.apache.org/5.3/apidocs/org/apache/tapestry5/corelib/components/Errors.html\" rel=\"nofollow noreferrer\">api docs</a></p>\n"},{"tags":[],"owner":{"account_id":556948,"reputation":1608,"user_id":919248,"accept_rate":78,"display_name":"Pedro Borges"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647372463,"creation_date":1647372463,"answer_id":71487936,"question_id":44196906,"body_markdown":"If you want to show the errors next to the respective fields you can achieve that with custom validation\r\n\r\nOn the java side:\r\n\r\n    @InjectComponent\r\n    private Form myForm;\r\n    \r\n    @InjectComponent\r\n    private TextField myTextField;\r\n    \r\n    @Property\r\n    private String textFieldValue;\r\n    \r\n    public void onValidateFromMyForm()\r\n    {\r\n        if (myConditionBasedOnTextFieldValue)\r\n        {\r\n            myForm.recordError(myTextField, &quot;Error message&quot;);\r\n        }\r\n    }\r\n\r\nOn the .tml side\r\n\r\n    &lt;t:Form t:id=&quot;myForm&quot;&gt;\r\n        &lt;t:TextField t:id=&quot;myTextField&quot; value=&quot;textFieldValue&quot;/&gt;\r\n        &lt;t:LinkSubmit&gt;Submit&lt;/t:LinkSubmit&gt;\r\n    &lt;/t:Form&gt;\r\n\r\nOnce you submit the form the textFieldValue on the java side will be populated with the contents of the textfield before the validate event is called.\r\nThe form will not succeed given it has recorded errors against it and since we recorded them against myTextField the error will render next to the textfield itself, instead of being grouped into a lump on &lt;t:Errors/&gt;\r\n\r\nHopes this guides you in the right direction","title":"Tapestry 5.3 - Form ValidationTracker","body":"<p>If you want to show the errors next to the respective fields you can achieve that with custom validation</p>\n<p>On the java side:</p>\n<pre><code>@InjectComponent\nprivate Form myForm;\n\n@InjectComponent\nprivate TextField myTextField;\n\n@Property\nprivate String textFieldValue;\n\npublic void onValidateFromMyForm()\n{\n    if (myConditionBasedOnTextFieldValue)\n    {\n        myForm.recordError(myTextField, &quot;Error message&quot;);\n    }\n}\n</code></pre>\n<p>On the .tml side</p>\n<pre><code>&lt;t:Form t:id=&quot;myForm&quot;&gt;\n    &lt;t:TextField t:id=&quot;myTextField&quot; value=&quot;textFieldValue&quot;/&gt;\n    &lt;t:LinkSubmit&gt;Submit&lt;/t:LinkSubmit&gt;\n&lt;/t:Form&gt;\n</code></pre>\n<p>Once you submit the form the textFieldValue on the java side will be populated with the contents of the textfield before the validate event is called.\nThe form will not succeed given it has recorded errors against it and since we recorded them against myTextField the error will render next to the textfield itself, instead of being grouped into a lump on &lt;t:Errors/&gt;</p>\n<p>Hopes this guides you in the right direction</p>\n"}],"owner":{"account_id":10982657,"reputation":11,"user_id":8069294,"display_name":"arnaud acanthe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647372463,"creation_date":1495787063,"question_id":44196906,"body_markdown":"Is it possible to get all the fields that are in error within a Tapestry form component or is it possible to override the default Tapestry form validationTracker  ?","title":"Tapestry 5.3 - Form ValidationTracker","body":"<p>Is it possible to get all the fields that are in error within a Tapestry form component or is it possible to override the default Tapestry form validationTracker  ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1647362731,"post_id":71485879,"comment_id":126350082,"body_markdown":"The point of a hash is to be fixed size (and usually a lot shorter than the input). What you want is possible, but your method should then not be named &#39;hash&#39;, as that would have nothing whatsoever to do with one. In general it sounds like you&#39;re a bit confused; you _DO_ very much want a fixed size. Numbers can be negative, what&#39;s the problem with this?","body":"The point of a hash is to be fixed size (and usually a lot shorter than the input). What you want is possible, but your method should then not be named &#39;hash&#39;, as that would have nothing whatsoever to do with one. In general it sounds like you&#39;re a bit confused; you <i>DO</i> very much want a fixed size. Numbers can be negative, what&#39;s the problem with this?"},{"owner":{"account_id":24370721,"reputation":35,"user_id":18303718,"display_name":"xf900"},"score":0,"creation_date":1647362906,"post_id":71485879,"comment_id":126350158,"body_markdown":"The size of the data going in is 36 bytes and will always be 36. The result is a negative on Java because it goes beyond the bound of max value for long. I have the same code running in C which supports unsigned long long and thus I am getting the correct value.","body":"The size of the data going in is 36 bytes and will always be 36. The result is a negative on Java because it goes beyond the bound of max value for long. I have the same code running in C which supports unsigned long long and thus I am getting the correct value."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647365738,"post_id":71485879,"comment_id":126351263,"body_markdown":"Java does not support whole number values over 64 bits. `BigInteger` is a possibility if you can stand the overhead. Sounds like an XY problem.  What is it you are really trying to do with this value that requires it to be positive?","body":"Java does not support whole number values over 64 bits. <code>BigInteger</code> is a possibility if you can stand the overhead. Sounds like an XY problem.  What is it you are really trying to do with this value that requires it to be positive?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1647365750,"post_id":71485879,"comment_id":126351266,"body_markdown":"Of course it does, you&#39;d be left-shifting by 5 a total of 36 times, that&#39;s 180 bits, _well_ past long&#39;s 64 bits.","body":"Of course it does, you&#39;d be left-shifting by 5 a total of 36 times, that&#39;s 180 bits, <i>well</i> past long&#39;s 64 bits."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647367386,"post_id":71485879,"comment_id":126351826,"body_markdown":"With that kind of reasoning then I guess a byte also supports 180 bits or even more.","body":"With that kind of reasoning then I guess a byte also supports 180 bits or even more."},{"owner":{"account_id":24370721,"reputation":35,"user_id":18303718,"display_name":"xf900"},"score":0,"creation_date":1647367843,"post_id":71485879,"comment_id":126351991,"body_markdown":"When running the same code in C I get a positive number. A number that I am expecting to get. When I run the same thing on Java I get a negative. I cannot compare the negative number in Java to the positive number in C. I need the Java number to match what is found in C.","body":"When running the same code in C I get a positive number. A number that I am expecting to get. When I run the same thing on Java I get a negative. I cannot compare the negative number in Java to the positive number in C. I need the Java number to match what is found in C."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647370569,"post_id":71485879,"comment_id":126352911,"body_markdown":"For `long` &#39;val&#39;, try `BigInteger bi = new BigInteger(Long.toUnsignedString(val));` if you want it to correspond to your unsigned C value","body":"For <code>long</code> &#39;val&#39;, try <code>BigInteger bi = new BigInteger(Long.toUnsignedString(val));</code> if you want it to correspond to your unsigned C value"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647372006,"post_id":71485879,"comment_id":126353356,"body_markdown":"@xf9000  One problem you may be having is the right shift.  Please see my answer.","body":"@xf9000  One problem you may be having is the right shift.  Please see my answer."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647371951,"creation_date":1647369299,"answer_id":71487347,"question_id":71485879,"body_markdown":"Perhaps this will solve your problem. Use `Long.unsignedCompare()`.\r\n```\r\nlong a1 = 1;\r\nlong a2 = -1;\r\n\r\nif (a2 &lt; a1) {\r\n\t// a2 is less which is what you would expect\r\n\tSystem.out.println(a2);\r\n}\r\n\r\nif (Long.compareUnsigned(a1,a2) &lt; 0) {\r\n\t// here, a1 is less\r\n\tSystem.out.println(a1);\r\n}\r\n```\r\nprints\r\n```\r\n-1\r\n1\r\n```\r\nAlso, above you have\r\n```\r\nhash = ((hash &lt;&lt; 5) ^ (hash &gt;&gt; 27)) ^ str.charAt(i);\r\n```\r\nDid you know that `&gt;&gt;` extends the sign bit to the right.  If you want to just right shift and not extend (i.e. fill with 0 bits, then do `&gt;&gt;&gt;`)","title":"Getting a negative number for a long","body":"<p>Perhaps this will solve your problem. Use <code>Long.unsignedCompare()</code>.</p>\n<pre><code>long a1 = 1;\nlong a2 = -1;\n\nif (a2 &lt; a1) {\n    // a2 is less which is what you would expect\n    System.out.println(a2);\n}\n\nif (Long.compareUnsigned(a1,a2) &lt; 0) {\n    // here, a1 is less\n    System.out.println(a1);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>-1\n1\n</code></pre>\n<p>Also, above you have</p>\n<pre><code>hash = ((hash &lt;&lt; 5) ^ (hash &gt;&gt; 27)) ^ str.charAt(i);\n</code></pre>\n<p>Did you know that <code>&gt;&gt;</code> extends the sign bit to the right.  If you want to just right shift and not extend (i.e. fill with 0 bits, then do <code>&gt;&gt;&gt;</code>)</p>\n"}],"owner":{"account_id":24370721,"reputation":35,"user_id":18303718,"display_name":"xf900"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647371951,"creation_date":1647362471,"question_id":71485879,"body_markdown":"I am using this hashing algorithm..\r\n\r\n```\r\npublic long DEKHash(String str)\r\n   {\r\n      long hash = str.length();\r\n\r\n      for(int i = 0; i &lt; str.length(); i++)\r\n      {\r\n         hash = ((hash &lt;&lt; 5) ^ (hash &gt;&gt; 27)) ^ str.charAt(i);\r\n      }\r\n\r\n      return hash;\r\n   }\r\n```\r\n\r\nI have modified it slightly so that it produces a larger number. But this number is larger than a long and then overflows and becomes negative. I am beginning Java and wanted to know if it is possible to get the real value?\r\n\r\nI was looking into ```BigInteger``` but I am not having any luck with it.","title":"Getting a negative number for a long","body":"<p>I am using this hashing algorithm..</p>\n<pre><code>public long DEKHash(String str)\n   {\n      long hash = str.length();\n\n      for(int i = 0; i &lt; str.length(); i++)\n      {\n         hash = ((hash &lt;&lt; 5) ^ (hash &gt;&gt; 27)) ^ str.charAt(i);\n      }\n\n      return hash;\n   }\n</code></pre>\n<p>I have modified it slightly so that it produces a larger number. But this number is larger than a long and then overflows and becomes negative. I am beginning Java and wanted to know if it is possible to get the real value?</p>\n<p>I was looking into <code>BigInteger</code> but I am not having any luck with it.</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery","bigquery-udf"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647343597,"post_id":71479992,"comment_id":126342259,"body_markdown":"For now, you can&#39;t use Java code to define functions. But a new feature, named remote function, will allow you to deploy a Cloud Functions in the language of your choice and to call it directly from bigQuery. For now, the feature is in private preview, you can register if you want. https://cloud.google.com/bigquery/docs/reference/standard-sql/remote-functions","body":"For now, you can&#39;t use Java code to define functions. But a new feature, named remote function, will allow you to deploy a Cloud Functions in the language of your choice and to call it directly from bigQuery. For now, the feature is in private preview, you can register if you want. <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/remote-functions\" rel=\"nofollow noreferrer\">cloud.google.com/bigquery/docs/reference/standard-sql/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18205236,"reputation":1825,"user_id":13248738,"display_name":"ewertonvsilva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647371947,"creation_date":1647371947,"answer_id":71487813,"question_id":71479992,"body_markdown":"Unfortunately not possible. You can use only JavaScript as you can see [here](https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions).\r\n\r\nAs mentioned by @guillaumeblaquiere, you could try using [remote functions](https://cloud.google.com/bigquery/docs/reference/standard-sql/remote-functions) with [cloud functions in Java](https://cloud.google.com/functions/docs/create-deploy-java)\r\n","title":"How can I register Java code as UDF or custom function with BigQuery SQL?","body":"<p>Unfortunately not possible. You can use only JavaScript as you can see <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>As mentioned by @guillaumeblaquiere, you could try using <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/remote-functions\" rel=\"nofollow noreferrer\">remote functions</a> with <a href=\"https://cloud.google.com/functions/docs/create-deploy-java\" rel=\"nofollow noreferrer\">cloud functions in Java</a></p>\n"}],"owner":{"reputation":101,"user_id":5658090,"accept_rate":0,"display_name":"Swapnil Dixit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71487813,"answer_count":1,"score":1,"last_activity_date":1647371947,"creation_date":1647337252,"question_id":71479992,"body_markdown":"I have one usecase where i need to do some computation on rows which are usecase specific. i want to write custom transformations in java and register it as UDF in BigQuery. so that with BigQuery SQL i can use it like function.\r\n\r\nHow i can do it? anybody knows the process to register java code with BigQuery?","title":"How can I register Java code as UDF or custom function with BigQuery SQL?","body":"<p>I have one usecase where i need to do some computation on rows which are usecase specific. i want to write custom transformations in java and register it as UDF in BigQuery. so that with BigQuery SQL i can use it like function.</p>\n<p>How i can do it? anybody knows the process to register java code with BigQuery?</p>\n"},{"tags":["java","multithreading","parallel-processing"],"comments":[{"owner":{"account_id":3595277,"reputation":44026,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":5,"creation_date":1444501895,"post_id":2016083,"comment_id":53934933,"body_markdown":"Should the second line be `Result result = compute(object);`?","body":"Should the second line be <code>Result result = compute(object);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":26685,"reputation":24085,"user_id":69689,"accept_rate":85,"display_name":"overthink"},"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1262876544,"creation_date":1262810700,"answer_id":2016095,"question_id":2016083,"body_markdown":"I would recommend taking a look at [ExecutorService][1].\r\n\r\nIn particular, something like this:\r\n\r\n    ExecutorService EXEC = Executors.newCachedThreadPool();\r\n    List&lt;Callable&lt;Result&gt;&gt; tasks = new ArrayList&lt;Callable&lt;Result&gt;&gt;();\r\n    for (final Object object: objects) {\r\n        Callable&lt;Result&gt; c = new Callable&lt;Result&gt;() {\r\n    \t\t@Override\r\n    \t\tpublic Result call() throws Exception {\r\n    \t\t\treturn compute(object);\r\n    \t\t}\r\n        };\r\n        tasks.add(c);\r\n    }\r\n    List&lt;Future&lt;Result&gt;&gt; results = EXEC.invokeAll(tasks);\r\n\r\nNote that using `newCachedThreadPool` could be bad if `objects` is a big list.  A cached thread pool could create a thread per task!  You may want to use `newFixedThreadPool(n)` where n is something reasonable (like the number of cores you have, assuming `compute()` is CPU bound).\r\n\r\nHere&#39;s full code that actually runs:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    \r\n    public class ExecutorServiceExample {\r\n        private static final Random PRNG = new Random();\r\n    \r\n        private static class Result {\r\n            private final int wait;\r\n            public Result(int code) {\r\n                this.wait = code;\r\n            }\r\n        }\r\n    \r\n        public static Result compute(Object obj) throws InterruptedException {\r\n            int wait = PRNG.nextInt(3000);\r\n            Thread.sleep(wait);\r\n            return new Result(wait);\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException,\r\n            ExecutionException {\r\n            List&lt;Object&gt; objects = new ArrayList&lt;Object&gt;();\r\n            for (int i = 0; i &lt; 100; i++) {\r\n                objects.add(new Object());\r\n            }\r\n    \r\n            List&lt;Callable&lt;Result&gt;&gt; tasks = new ArrayList&lt;Callable&lt;Result&gt;&gt;();\r\n            for (final Object object : objects) {\r\n                Callable&lt;Result&gt; c = new Callable&lt;Result&gt;() {\r\n                    @Override\r\n                    public Result call() throws Exception {\r\n                        return compute(object);\r\n                    }\r\n                };\r\n                tasks.add(c);\r\n            }\r\n    \r\n            ExecutorService exec = Executors.newCachedThreadPool();\r\n            // some other exectuors you could try to see the different behaviours\r\n            // ExecutorService exec = Executors.newFixedThreadPool(3);\r\n            // ExecutorService exec = Executors.newSingleThreadExecutor();\r\n            try {\r\n                long start = System.currentTimeMillis();\r\n                List&lt;Future&lt;Result&gt;&gt; results = exec.invokeAll(tasks);\r\n                int sum = 0;\r\n                for (Future&lt;Result&gt; fr : results) {\r\n                    sum += fr.get().wait;\r\n                    System.out.println(String.format(&quot;Task waited %d ms&quot;,\r\n                        fr.get().wait));\r\n                }\r\n                long elapsed = System.currentTimeMillis() - start;\r\n                System.out.println(String.format(&quot;Elapsed time: %d ms&quot;, elapsed));\r\n                System.out.println(String.format(&quot;... but compute tasks waited for total of %d ms; speed-up of %.2fx&quot;, sum, sum / (elapsed * 1d)));\r\n            } finally {\r\n                exec.shutdown();\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ExecutorService.html\r\n\r\n","title":"What is the easiest way to parallelize a task in java?","body":"<p>I would recommend taking a look at <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\">ExecutorService</a>.</p>\n\n<p>In particular, something like this:</p>\n\n<pre><code>ExecutorService EXEC = Executors.newCachedThreadPool();\nList&lt;Callable&lt;Result&gt;&gt; tasks = new ArrayList&lt;Callable&lt;Result&gt;&gt;();\nfor (final Object object: objects) {\n    Callable&lt;Result&gt; c = new Callable&lt;Result&gt;() {\n        @Override\n        public Result call() throws Exception {\n            return compute(object);\n        }\n    };\n    tasks.add(c);\n}\nList&lt;Future&lt;Result&gt;&gt; results = EXEC.invokeAll(tasks);\n</code></pre>\n\n<p>Note that using <code>newCachedThreadPool</code> could be bad if <code>objects</code> is a big list.  A cached thread pool could create a thread per task!  You may want to use <code>newFixedThreadPool(n)</code> where n is something reasonable (like the number of cores you have, assuming <code>compute()</code> is CPU bound).</p>\n\n<p>Here's full code that actually runs:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class ExecutorServiceExample {\n    private static final Random PRNG = new Random();\n\n    private static class Result {\n        private final int wait;\n        public Result(int code) {\n            this.wait = code;\n        }\n    }\n\n    public static Result compute(Object obj) throws InterruptedException {\n        int wait = PRNG.nextInt(3000);\n        Thread.sleep(wait);\n        return new Result(wait);\n    }\n\n    public static void main(String[] args) throws InterruptedException,\n        ExecutionException {\n        List&lt;Object&gt; objects = new ArrayList&lt;Object&gt;();\n        for (int i = 0; i &lt; 100; i++) {\n            objects.add(new Object());\n        }\n\n        List&lt;Callable&lt;Result&gt;&gt; tasks = new ArrayList&lt;Callable&lt;Result&gt;&gt;();\n        for (final Object object : objects) {\n            Callable&lt;Result&gt; c = new Callable&lt;Result&gt;() {\n                @Override\n                public Result call() throws Exception {\n                    return compute(object);\n                }\n            };\n            tasks.add(c);\n        }\n\n        ExecutorService exec = Executors.newCachedThreadPool();\n        // some other exectuors you could try to see the different behaviours\n        // ExecutorService exec = Executors.newFixedThreadPool(3);\n        // ExecutorService exec = Executors.newSingleThreadExecutor();\n        try {\n            long start = System.currentTimeMillis();\n            List&lt;Future&lt;Result&gt;&gt; results = exec.invokeAll(tasks);\n            int sum = 0;\n            for (Future&lt;Result&gt; fr : results) {\n                sum += fr.get().wait;\n                System.out.println(String.format(\"Task waited %d ms\",\n                    fr.get().wait));\n            }\n            long elapsed = System.currentTimeMillis() - start;\n            System.out.println(String.format(\"Elapsed time: %d ms\", elapsed));\n            System.out.println(String.format(\"... but compute tasks waited for total of %d ms; speed-up of %.2fx\", sum, sum / (elapsed * 1d)));\n        } finally {\n            exec.shutdown();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1262810858,"creation_date":1262810858,"answer_id":2016109,"question_id":2016083,"body_markdown":"You can use the [ThreadPoolExecutor](http://java.sun.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html). Here is sample code: http://programmingexamples.wikidot.com/threadpoolexecutor (too long to bring it here)\r\n\r\n","title":"What is the easiest way to parallelize a task in java?","body":"<p>You can use the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a>. Here is sample code: <a href=\"http://programmingexamples.wikidot.com/threadpoolexecutor\" rel=\"nofollow noreferrer\">http://programmingexamples.wikidot.com/threadpoolexecutor</a> (too long to bring it here)</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1262811015,"creation_date":1262810861,"answer_id":2016110,"question_id":2016083,"body_markdown":"One can simple create a few thread and get the result.\r\n\r\n    Thread t = new Mythread(object);\r\n\r\n    if (t.done()) {\r\n       // get result\r\n       // add result\r\n    }\r\n\r\nEDIT : I think other solutions are cooler.","title":"What is the easiest way to parallelize a task in java?","body":"<p>One can simple create a few thread and get the result.</p>\n\n<pre><code>Thread t = new Mythread(object);\n\nif (t.done()) {\n   // get result\n   // add result\n}\n</code></pre>\n\n<p>EDIT : I think other solutions are cooler.</p>\n"},{"tags":[],"owner":{"account_id":28379,"reputation":334,"user_id":75780,"display_name":"mkamowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262811307,"creation_date":1262810935,"answer_id":2016118,"question_id":2016083,"body_markdown":"I to was going to mention an executor class. Here is some example code that you would place in the executor class.\r\n\r\n\r\n\r\n        private static ExecutorService threadLauncher = Executors.newFixedThreadPool(4);\r\n        \r\n        private List&lt;Callable&lt;Object&gt;&gt; callableList = new ArrayList&lt;Callable&lt;Object&gt;&gt;();\r\n    \r\n        public void addCallable(Callable&lt;Object&gt; callable) {\r\n    \t\tthis.callableList.add(callable);\r\n    \t}\r\n    \t\r\n    \tpublic void clearCallables(){\r\n    \t\tthis.callableList.clear();\r\n    \t}\r\n    \r\n    \tpublic void executeThreads(){\r\n    \t\ttry {\r\n    \t\tthreadLauncher.invokeAll(this.callableList);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n        public Object[] getResult() {\r\n    \r\n    \t\tList&lt;Future&lt;Object&gt;&gt; resultList = null;\r\n    \t\tObject[] resultArray = null;\r\n    \t\ttry {\r\n    \r\n    \t\t\tresultList = threadLauncher.invokeAll(this.callableList);\r\n    \r\n    \t\t\tresultArray = new Object[resultList.size()];\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; resultList.size(); i++) {\r\n    \t\t\t\tresultArray[i] = resultList.get(i).get();\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\treturn resultArray;\r\n    \t}\r\n\r\n\r\nThen to use it you would make calls to the executor class to populate and execute it.\r\n\r\n    executor.addCallable( some implementation of callable) // do this once for each task \r\n    Object[] results = executor.getResult();\r\n\r\n","title":"What is the easiest way to parallelize a task in java?","body":"<p>I to was going to mention an executor class. Here is some example code that you would place in the executor class.</p>\n\n<pre><code>    private static ExecutorService threadLauncher = Executors.newFixedThreadPool(4);\n\n    private List&lt;Callable&lt;Object&gt;&gt; callableList = new ArrayList&lt;Callable&lt;Object&gt;&gt;();\n\n    public void addCallable(Callable&lt;Object&gt; callable) {\n        this.callableList.add(callable);\n    }\n\n    public void clearCallables(){\n        this.callableList.clear();\n    }\n\n    public void executeThreads(){\n        try {\n        threadLauncher.invokeAll(this.callableList);\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    public Object[] getResult() {\n\n        List&lt;Future&lt;Object&gt;&gt; resultList = null;\n        Object[] resultArray = null;\n        try {\n\n            resultList = threadLauncher.invokeAll(this.callableList);\n\n            resultArray = new Object[resultList.size()];\n\n            for (int i = 0; i &lt; resultList.size(); i++) {\n                resultArray[i] = resultList.get(i).get();\n            }\n\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return resultArray;\n    }\n</code></pre>\n\n<p>Then to use it you would make calls to the executor class to populate and execute it.</p>\n\n<pre><code>executor.addCallable( some implementation of callable) // do this once for each task \nObject[] results = executor.getResult();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4276,"reputation":14213,"user_id":6365,"accept_rate":65,"display_name":"Michael Barker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262810999,"creation_date":1262810999,"answer_id":2016126,"question_id":2016083,"body_markdown":"[Fork/Join][1]&#39;s parallel array is one option\r\n\r\n\r\n  [1]: http://www.infoq.com/news/2008/03/fork_join","title":"What is the easiest way to parallelize a task in java?","body":"<p><a href=\"http://www.infoq.com/news/2008/03/fork_join\" rel=\"nofollow noreferrer\">Fork/Join</a>'s parallel array is one option</p>\n"},{"tags":[],"owner":{"account_id":36637,"reputation":7380,"user_id":104533,"accept_rate":88,"display_name":"Adam Goode"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1262811037,"creation_date":1262811037,"answer_id":2016128,"question_id":2016083,"body_markdown":"For a more detailed answer, read [Java Concurrency in Practice][1] and use [java.util.concurrent][2].\r\n\r\n[1]: http://www.javaconcurrencyinpractice.com/\r\n[2]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/package-summary.html","title":"What is the easiest way to parallelize a task in java?","body":"<p>For a more detailed answer, read <a href=\"http://www.javaconcurrencyinpractice.com/\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a> and use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\">java.util.concurrent</a>.</p>\n"},{"tags":[],"owner":{"account_id":48447,"reputation":44848,"user_id":143938,"display_name":"Jonathan Feinberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262811130,"creation_date":1262811130,"answer_id":2016139,"question_id":2016083,"body_markdown":"Here&#39;s something I use in my own projects:\r\n\r\n    public class ParallelTasks\r\n    {\r\n    \tprivate final Collection&lt;Runnable&gt; tasks = new ArrayList&lt;Runnable&gt;();\r\n    \r\n    \tpublic ParallelTasks()\r\n    \t{\r\n    \t}\r\n    \r\n    \tpublic void add(final Runnable task)\r\n    \t{\r\n    \t\ttasks.add(task);\r\n    \t}\r\n    \r\n    \tpublic void go() throws InterruptedException\r\n    \t{\r\n    \t\tfinal ExecutorService threads = Executors.newFixedThreadPool(Runtime.getRuntime()\r\n    \t\t\t\t.availableProcessors());\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tfinal CountDownLatch latch = new CountDownLatch(tasks.size());\r\n    \t\t\tfor (final Runnable task : tasks)\r\n    \t\t\t\tthreads.execute(new Runnable() {\r\n    \t\t\t\t\tpublic void run()\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\ttry\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\ttask.run();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tfinally\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tlatch.countDown();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\tlatch.await();\r\n    \t\t}\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\tthreads.shutdown();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    // ...\r\n\r\n    public static void main(final String[] args) throws Exception\r\n    {\r\n        ParallelTasks tasks = new ParallelTasks();\r\n        final Runnable waitOneSecond = new Runnable() {\r\n            public void run()\r\n            {\r\n                try\r\n                {\r\n                    Thread.sleep(1000);\r\n                }\r\n                catch (InterruptedException e)\r\n                {\r\n                }\r\n            }\r\n        };\r\n        tasks.add(waitOneSecond);\r\n        tasks.add(waitOneSecond);\r\n        tasks.add(waitOneSecond);\r\n        tasks.add(waitOneSecond);\r\n        final long start = System.currentTimeMillis();\r\n        tasks.go();\r\n        System.err.println(System.currentTimeMillis() - start);\r\n    }\r\n\r\nWhich prints a bit over 2000 on my dual-core box.","title":"What is the easiest way to parallelize a task in java?","body":"<p>Here's something I use in my own projects:</p>\n\n<pre><code>public class ParallelTasks\n{\n    private final Collection&lt;Runnable&gt; tasks = new ArrayList&lt;Runnable&gt;();\n\n    public ParallelTasks()\n    {\n    }\n\n    public void add(final Runnable task)\n    {\n        tasks.add(task);\n    }\n\n    public void go() throws InterruptedException\n    {\n        final ExecutorService threads = Executors.newFixedThreadPool(Runtime.getRuntime()\n                .availableProcessors());\n        try\n        {\n            final CountDownLatch latch = new CountDownLatch(tasks.size());\n            for (final Runnable task : tasks)\n                threads.execute(new Runnable() {\n                    public void run()\n                    {\n                        try\n                        {\n                            task.run();\n                        }\n                        finally\n                        {\n                            latch.countDown();\n                        }\n                    }\n                });\n            latch.await();\n        }\n        finally\n        {\n            threads.shutdown();\n        }\n    }\n}\n\n// ...\n\npublic static void main(final String[] args) throws Exception\n{\n    ParallelTasks tasks = new ParallelTasks();\n    final Runnable waitOneSecond = new Runnable() {\n        public void run()\n        {\n            try\n            {\n                Thread.sleep(1000);\n            }\n            catch (InterruptedException e)\n            {\n            }\n        }\n    };\n    tasks.add(waitOneSecond);\n    tasks.add(waitOneSecond);\n    tasks.add(waitOneSecond);\n    tasks.add(waitOneSecond);\n    final long start = System.currentTimeMillis();\n    tasks.go();\n    System.err.println(System.currentTimeMillis() - start);\n}\n</code></pre>\n\n<p>Which prints a bit over 2000 on my dual-core box.</p>\n"},{"tags":[],"owner":{"account_id":451083,"reputation":1157,"user_id":846769,"accept_rate":50,"display_name":"i000174"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1614496635,"creation_date":1530086620,"answer_id":51057590,"question_id":2016083,"body_markdown":"With Java8 and later you can use a ***parallelStream*** on the collection to achieve this:\r\n\r\n    List&lt;T&gt; objects = ...;\r\n    \r\n    List&lt;Result&gt; result = objects.parallelStream().map(object -&gt; {\r\n                return compute(object);\r\n            }).collect(Collectors.toList());\r\n\r\nNote: the order of the result list may not match the order in the objects list.\r\n\r\nDetails how to setup the right number of threads are available in this stackoverflow question [how-many-threads-are-spawned-in-parallelstream-in-java-8][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30802463/how-many-threads-are-spawned-in-parallelstream-in-java-8","title":"What is the easiest way to parallelize a task in java?","body":"<p>With Java8 and later you can use a <em><strong>parallelStream</strong></em> on the collection to achieve this:</p>\n<pre><code>List&lt;T&gt; objects = ...;\n\nList&lt;Result&gt; result = objects.parallelStream().map(object -&gt; {\n            return compute(object);\n        }).collect(Collectors.toList());\n</code></pre>\n<p>Note: the order of the result list may not match the order in the objects list.</p>\n<p>Details how to setup the right number of threads are available in this stackoverflow question <a href=\"https://stackoverflow.com/questions/30802463/how-many-threads-are-spawned-in-parallelstream-in-java-8\">how-many-threads-are-spawned-in-parallelstream-in-java-8</a></p>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600810174,"creation_date":1600810174,"answer_id":64017941,"question_id":2016083,"body_markdown":"A neat way is to utilize ExecutorCompletionService.\r\n\r\nSay you have following code (as in your example):\r\n\r\n     public static void main(String[] args) {\r\n        List&lt;Character&gt; letters = IntStream.range(65, 91).mapToObj(i -&gt; (char) i).collect(Collectors.toList());\r\n        List&lt;List&lt;Character&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n        for (char letter : letters) {\r\n          List&lt;Character&gt; result = computeLettersBefore(letter);\r\n          list.add(result);\r\n        }\r\n    \r\n        System.out.println(list);\r\n      }\r\n    \r\n      private static List&lt;Character&gt; computeLettersBefore(char letter) {\r\n        return IntStream.range(65, 1 + letter).mapToObj(i -&gt; (char) i).collect(Collectors.toList());\r\n      }\r\n\r\nNow to execute the tasks in parallel all you need to do is to create ExecutorCompletionService backed by thread pool. Then submit tasks and read the results. Since ExecutorCompletionService uses LinkedBlockingQueue under the hood, the results become available for pickup as soon as they are available (if you run the code you will notice that the order of results is random):\r\n\r\n    public static void main(String[] args) throws InterruptedException, ExecutionException {\r\n        final ExecutorService threadPool = Executors.newFixedThreadPool(3);\r\n        final ExecutorCompletionService&lt;List&lt;Character&gt;&gt; completionService = new ExecutorCompletionService&lt;&gt;(threadPool);\r\n    \r\n        final List&lt;Character&gt; letters = IntStream.range(65, 91).mapToObj(i -&gt; (char) i).collect(Collectors.toList());\r\n        List&lt;List&lt;Character&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n        for (char letter : letters) {\r\n          completionService.submit(() -&gt; computeLettersBefore(letter));\r\n        }\r\n    \r\n        // NOTE: instead over iterating over letters again number of submitted tasks can be used as a base for loop\r\n        for (char letter : letters) {\r\n          final List&lt;Character&gt; result = completionService.take().get();\r\n          list.add(result);\r\n        }\r\n    \r\n        threadPool.shutdownNow(); // NOTE: for safety place it inside finally block \r\n    \r\n        System.out.println(list);\r\n      }\r\n    \r\n      private static List&lt;Character&gt; computeLettersBefore(char letter) {\r\n        return IntStream.range(65, 1 + letter).mapToObj(i -&gt; (char) i).collect(Collectors.toList());\r\n      }\r\n\r\n\r\n","title":"What is the easiest way to parallelize a task in java?","body":"<p>A neat way is to utilize ExecutorCompletionService.</p>\n<p>Say you have following code (as in your example):</p>\n<pre><code> public static void main(String[] args) {\n    List&lt;Character&gt; letters = IntStream.range(65, 91).mapToObj(i -&gt; (char) i).collect(Collectors.toList());\n    List&lt;List&lt;Character&gt;&gt; list = new ArrayList&lt;&gt;();\n\n    for (char letter : letters) {\n      List&lt;Character&gt; result = computeLettersBefore(letter);\n      list.add(result);\n    }\n\n    System.out.println(list);\n  }\n\n  private static List&lt;Character&gt; computeLettersBefore(char letter) {\n    return IntStream.range(65, 1 + letter).mapToObj(i -&gt; (char) i).collect(Collectors.toList());\n  }\n</code></pre>\n<p>Now to execute the tasks in parallel all you need to do is to create ExecutorCompletionService backed by thread pool. Then submit tasks and read the results. Since ExecutorCompletionService uses LinkedBlockingQueue under the hood, the results become available for pickup as soon as they are available (if you run the code you will notice that the order of results is random):</p>\n<pre><code>public static void main(String[] args) throws InterruptedException, ExecutionException {\n    final ExecutorService threadPool = Executors.newFixedThreadPool(3);\n    final ExecutorCompletionService&lt;List&lt;Character&gt;&gt; completionService = new ExecutorCompletionService&lt;&gt;(threadPool);\n\n    final List&lt;Character&gt; letters = IntStream.range(65, 91).mapToObj(i -&gt; (char) i).collect(Collectors.toList());\n    List&lt;List&lt;Character&gt;&gt; list = new ArrayList&lt;&gt;();\n\n    for (char letter : letters) {\n      completionService.submit(() -&gt; computeLettersBefore(letter));\n    }\n\n    // NOTE: instead over iterating over letters again number of submitted tasks can be used as a base for loop\n    for (char letter : letters) {\n      final List&lt;Character&gt; result = completionService.take().get();\n      list.add(result);\n    }\n\n    threadPool.shutdownNow(); // NOTE: for safety place it inside finally block \n\n    System.out.println(list);\n  }\n\n  private static List&lt;Character&gt; computeLettersBefore(char letter) {\n    return IntStream.range(65, 1 + letter).mapToObj(i -&gt; (char) i).collect(Collectors.toList());\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4290743,"reputation":143,"user_id":3507197,"display_name":"Ying Cherry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647371710,"creation_date":1647361814,"answer_id":71485707,"question_id":2016083,"body_markdown":"I know it&#39;s an old old thread, but since **Rxjava** (now it&#39;s v3) came out, my favorite way to do parallel programming is through its **flatMap** by the following several lines. (sometimes but not very intuitive at the first sight)\r\n\r\n```\r\n// Assume we&#39;re in main thread at the moment\r\nFlowable.create(...) // upstream data provider, main thread\r\n  .map(...) // some transformers?? main thread\r\n  .filter(...) // some filter thread\r\n  .flatMap(data -&gt; Flowable.just(data)\r\n               .subscribeOn(Schedulers.from(...your executorservice for the sub worker.....), true) // true is to delay the error. \r\n               .doOnNext(this::process)\r\n           , MAX_CONCURRENT) // max number of concurrent workers\r\n  .subscribe();\r\n```\r\nYou can check it&#39;s javadoc to understand the operators.\r\n[Rxjava 3- Flowable][1]\r\nA simple example:\r\n```\r\nFlowable.range(1, 100)\r\n\t\t\t\t.map(Object::toString)\r\n\t\t\t\t.flatMap (i -&gt; Flowable.just(i)\r\n\t\t\t\t\t\t.doOnNext(j -&gt; {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Current thread is &quot;);\r\n\t\t\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t\t\t}).subscribeOn(Schedulers.io()), true, 10)\r\n\t\t\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\t\tinteger -&gt; log.info(&quot;We consumed {}&quot;, integer),\r\n\t\t\t\t\t\tthrowable -&gt; log.error(&quot;We met errors&quot;, throwable),\r\n\t\t\t\t\t\t() -&gt; log.info(&quot;The stream completed!!!&quot;));\r\n```\r\n\r\nAnd for your case:\r\n```\r\nfor(Object object: objects) {\r\n    Result result = compute(object);\r\n    list.add(result);\r\n}\r\n```\r\nWe could try:\r\n```\r\nFlowable.fromIterable(objects)\r\n        .flatMap(obj -&gt; \r\n                    Flowable.just(compute(obj)).subscribeOn(Schedulers.io()), true, YOUR_CONCURRENCY_NUMBER))\r\n        .doOnNext(res -&gt; list.add(res))\r\n        .subscribe()\r\n```\r\n\r\n\r\nBonus points: if you need to add some ordering, let&#39;s say for example, odd number all go to worker1, even number worker2, etc. Rxjava can achieve that easily by **groupBy** and **flatMap** operators together. I won&#39;t go too details about them here. Enjoy playing :)))\r\n\r\n  [1]: http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/Flowable.html","title":"What is the easiest way to parallelize a task in java?","body":"<p>I know it's an old old thread, but since <strong>Rxjava</strong> (now it's v3) came out, my favorite way to do parallel programming is through its <strong>flatMap</strong> by the following several lines. (sometimes but not very intuitive at the first sight)</p>\n<pre><code>// Assume we're in main thread at the moment\nFlowable.create(...) // upstream data provider, main thread\n  .map(...) // some transformers?? main thread\n  .filter(...) // some filter thread\n  .flatMap(data -&gt; Flowable.just(data)\n               .subscribeOn(Schedulers.from(...your executorservice for the sub worker.....), true) // true is to delay the error. \n               .doOnNext(this::process)\n           , MAX_CONCURRENT) // max number of concurrent workers\n  .subscribe();\n</code></pre>\n<p>You can check it's javadoc to understand the operators.\n<a href=\"http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/Flowable.html\" rel=\"nofollow noreferrer\">Rxjava 3- Flowable</a>\nA simple example:</p>\n<pre><code>Flowable.range(1, 100)\n                .map(Object::toString)\n                .flatMap (i -&gt; Flowable.just(i)\n                        .doOnNext(j -&gt; {\n                            System.out.println(&quot;Current thread is &quot;);\n                            Thread.sleep(100);\n                        }).subscribeOn(Schedulers.io()), true, 10)\n        \n                .subscribe(\n                        integer -&gt; log.info(&quot;We consumed {}&quot;, integer),\n                        throwable -&gt; log.error(&quot;We met errors&quot;, throwable),\n                        () -&gt; log.info(&quot;The stream completed!!!&quot;));\n</code></pre>\n<p>And for your case:</p>\n<pre><code>for(Object object: objects) {\n    Result result = compute(object);\n    list.add(result);\n}\n</code></pre>\n<p>We could try:</p>\n<pre><code>Flowable.fromIterable(objects)\n        .flatMap(obj -&gt; \n                    Flowable.just(compute(obj)).subscribeOn(Schedulers.io()), true, YOUR_CONCURRENCY_NUMBER))\n        .doOnNext(res -&gt; list.add(res))\n        .subscribe()\n</code></pre>\n<p>Bonus points: if you need to add some ordering, let's say for example, odd number all go to worker1, even number worker2, etc. Rxjava can achieve that easily by <strong>groupBy</strong> and <strong>flatMap</strong> operators together. I won't go too details about them here. Enjoy playing :)))</p>\n"}],"owner":{"account_id":81330,"reputation":2317,"user_id":229414,"accept_rate":54,"display_name":"Eduardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102802,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":2016095,"answer_count":10,"score":64,"last_activity_date":1647371710,"creation_date":1262810590,"question_id":2016083,"body_markdown":"Say I have a task like:\r\n\r\n    for(Object object: objects) {\r\n        Result result = compute(object);\r\n        list.add(result);\r\n    }\r\n\r\nWhat is the easiest way to parallelize each compute() (assuming they are already parallelizable)?\r\n\r\nI do not need an answer that matches strictly the code above, just a general answer. But if you need more info: my tasks are IO bound and this is for a Spring Web application and the tasks are going to be executed in a HTTP request.","title":"What is the easiest way to parallelize a task in java?","body":"<p>Say I have a task like:</p>\n\n<pre><code>for(Object object: objects) {\n    Result result = compute(object);\n    list.add(result);\n}\n</code></pre>\n\n<p>What is the easiest way to parallelize each compute() (assuming they are already parallelizable)?</p>\n\n<p>I do not need an answer that matches strictly the code above, just a general answer. But if you need more info: my tasks are IO bound and this is for a Spring Web application and the tasks are going to be executed in a HTTP request.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1647366588,"post_id":71486783,"comment_id":126351547,"body_markdown":"You probably *could* do it declaratively with streams... but it&#39;s only about 4 lines of code to do it with a simple &quot;create array, loop to populate it&quot;...","body":"You probably <i>could</i> do it declaratively with streams... but it&#39;s only about 4 lines of code to do it with a simple &quot;create array, loop to populate it&quot;..."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1647370716,"post_id":71486783,"comment_id":126352956,"body_markdown":"@jhyot how does the linked question apply here?","body":"@jhyot how does the linked question apply here?"},{"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"score":0,"creation_date":1647419452,"post_id":71486783,"comment_id":126363414,"body_markdown":"@QBrute admittedly it&#39;s a bit of a stretch, but presumably the asker wanted some other solution than iterating over the array, and the closest would be &quot;zipping&quot; streams of two lists (which are like arrays) together. The linked question does combine two lists into a map instead of a new list/array.","body":"@QBrute admittedly it&#39;s a bit of a stretch, but presumably the asker wanted some other solution than iterating over the array, and the closest would be &quot;zipping&quot; streams of two lists (which are like arrays) together. The linked question does combine two lists into a map instead of a new list/array."},{"owner":{"account_id":9342108,"reputation":13,"user_id":13116989,"display_name":"Ray Zheng"},"score":0,"creation_date":1647451862,"post_id":71486783,"comment_id":126377026,"body_markdown":"@jhyot, you got me","body":"@jhyot, you got me"}],"answers":[{"tags":[],"owner":{"account_id":19643482,"reputation":26,"user_id":14379053,"display_name":"tttm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647371504,"creation_date":1647371504,"answer_id":71487727,"question_id":71486783,"body_markdown":"If you want a new array from a fixed index of many arrays, you could use something like this:\r\n\r\n        static int[] getAnArrayFromSameIndex(int index, int[]... arrays) {\r\n\t\t    int[] result = new int[arrays.length];\r\n\t\t    for(int i = 0; i &lt; arrays.length; i++) {\r\n\t\t\t    if(index &gt; arrays[i].length) {\r\n\t\t\t\t    return result; \r\n\t\t\t    }else {\r\n\t\t\t\t\r\n\t\t\t\t    for(int j = 0; j &lt; result.length; j++) {\r\n\t\t\t\t\t    result[j] = arrays[j][index];\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    return result;\r\n\t    }\r\n\r\nthis will return a new array from a index of n number of given arrays.","title":"Can we add items from each int array that have the same index in Java?","body":"<p>If you want a new array from a fixed index of many arrays, you could use something like this:</p>\n<pre><code>    static int[] getAnArrayFromSameIndex(int index, int[]... arrays) {\n        int[] result = new int[arrays.length];\n        for(int i = 0; i &lt; arrays.length; i++) {\n            if(index &gt; arrays[i].length) {\n                return result; \n            }else {\n            \n                for(int j = 0; j &lt; result.length; j++) {\n                    result[j] = arrays[j][index];\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>this will return a new array from a index of n number of given arrays.</p>\n"}],"owner":{"account_id":9342108,"reputation":13,"user_id":13116989,"display_name":"Ray Zheng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1647412505,"answer_count":1,"score":-1,"last_activity_date":1647371504,"creation_date":1647366489,"question_id":71486783,"body_markdown":"For example, if I want to achieve something like \r\n\r\n    int[] a  = [1,2];\r\n    int[] b = [3,4];\r\n\r\nI want to get a new int[] which is `[4,6]`, is there a smart way to do this?","title":"Can we add items from each int array that have the same index in Java?","body":"<p>For example, if I want to achieve something like</p>\n<pre><code>int[] a  = [1,2];\nint[] b = [3,4];\n</code></pre>\n<p>I want to get a new int[] which is <code>[4,6]</code>, is there a smart way to do this?</p>\n"},{"tags":["java","filter","stream"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647371078,"creation_date":1647361614,"answer_id":71485664,"question_id":71484318,"body_markdown":"You should refrain from using the Date class. It is obsolete and has been replaced by the much better [java.time](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html) package.\r\n- [Duration](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/Duration.html) - used to provide a value based amount of time.\r\n- [LocalDateTime](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/LocalDateTime.html) - A date time without a time zone\r\n\r\nYou can do it as follows using the `Duration.toMillis()` method from that package and return the millisecond difference of two dates.\r\n- the first part of the comparator parses the date.\r\n- the second part applies that to `Duration` along with `temp` value and converts to milliseconds.\r\n- then that is compared.\r\n```\r\nLocalDateTime temp =\r\n\t\t\t\tLocalDateTime.parse(&quot;2021-03-07T07:37:20&quot;);\r\n\r\nOptional&lt;String&gt; closest = Arrays.stream(dates)\r\n\t\t.min(Comparator.comparing(LocalDateTime::parse,\r\n\t\t\t\tComparator.comparingLong(ldt -&gt; Math.abs(Duration\r\n\t\t\t\t\t\t.between(ldt, temp).toMillis()))));\r\n\r\nif (closest.isPresent()) {\r\n\tSystem.out.println(closest);\r\n}\r\n```\r\nprints\r\n```\r\n2021-03-07T07:37:19.999\r\n\r\n","title":"get the nearest date closest to target date if found on same second else return the closest date to target date","body":"<p>You should refrain from using the Date class. It is obsolete and has been replaced by the much better <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\">Duration</a> - used to provide a value based amount of time.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a> - A date time without a time zone</li>\n</ul>\n<p>You can do it as follows using the <code>Duration.toMillis()</code> method from that package and return the millisecond difference of two dates.</p>\n<ul>\n<li>the first part of the comparator parses the date.</li>\n<li>the second part applies that to <code>Duration</code> along with <code>temp</code> value and converts to milliseconds.</li>\n<li>then that is compared.</li>\n</ul>\n<pre><code>LocalDateTime temp =\n                LocalDateTime.parse(&quot;2021-03-07T07:37:20&quot;);\n\nOptional&lt;String&gt; closest = Arrays.stream(dates)\n        .min(Comparator.comparing(LocalDateTime::parse,\n                Comparator.comparingLong(ldt -&gt; Math.abs(Duration\n                        .between(ldt, temp).toMillis()))));\n\nif (closest.isPresent()) {\n    System.out.println(closest);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>2021-03-07T07:37:19.999\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20062026,"reputation":81,"user_id":14708556,"display_name":"niklasaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647362476,"creation_date":1647362476,"answer_id":71485883,"question_id":71484318,"body_markdown":"It seems like getLogReqDateTime returns a Date. We can then compare how close these dates are by looking at their time and using the min method from Java Streams.\r\n\r\n```java\r\nprivate static Date exampleWithDates(List&lt;Date&gt; dates, Date tempDate) {\r\n    return dates.stream()\r\n                .min(Comparator.comparing(date -&gt; Math.abs(tempDate.getTime() - date.getTime())))\r\n                .orElse(null);\r\n}\r\n```\r\n\r\nObviously this doesn&#39;t fit perfectly with your code, as I do not know the specific implementation of RequiredRecord. But I think something like this might work for you:\r\n\r\n```java\r\nprivate static Date getNearestDate(List&lt;RequiredRecord&gt; dates, Date tempDate) {\r\n    return dates.stream()\r\n                .map(RequiredRecord :: getLogRecDateTime)\r\n                .min(Comparator.comparing(date -&gt; Math.abs(tempDate.getTime() - date.getTime())))\r\n                .orElse(null);\r\n}\r\n```\r\n\r\nIf for some reason the RequiredRecords may be null, just add a filter before the map method, like you already do.","title":"get the nearest date closest to target date if found on same second else return the closest date to target date","body":"<p>It seems like getLogReqDateTime returns a Date. We can then compare how close these dates are by looking at their time and using the min method from Java Streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Date exampleWithDates(List&lt;Date&gt; dates, Date tempDate) {\n    return dates.stream()\n                .min(Comparator.comparing(date -&gt; Math.abs(tempDate.getTime() - date.getTime())))\n                .orElse(null);\n}\n</code></pre>\n<p>Obviously this doesn't fit perfectly with your code, as I do not know the specific implementation of RequiredRecord. But I think something like this might work for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Date getNearestDate(List&lt;RequiredRecord&gt; dates, Date tempDate) {\n    return dates.stream()\n                .map(RequiredRecord :: getLogRecDateTime)\n                .min(Comparator.comparing(date -&gt; Math.abs(tempDate.getTime() - date.getTime())))\n                .orElse(null);\n}\n</code></pre>\n<p>If for some reason the RequiredRecords may be null, just add a filter before the map method, like you already do.</p>\n"}],"owner":{"account_id":24520377,"reputation":11,"user_id":18433512,"display_name":"srtummred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1647371078,"creation_date":1647356077,"question_id":71484318,"body_markdown":"This question is continuation of my previous post \r\nI have two date fields:\r\n\r\nstart date (2021-03-07T07:37:15) and end date (2021-03-07T07:37:25) and temp date (2021-03-07T07:37:20) .\r\n\r\nI have a list where I have returned 6 records between the start date and end date. How can I filter the records and return the datetime which is closest to temp date?\r\n\r\nhere in the example records I need to get the 3rd record because the 2021-03-07T07:37:20.004 is closet to the temp date. Example\r\n\r\n    2021-03-07T07:37:15.000\r\n    2021-03-07T07:37:19.999\r\n    2021-03-07T07:37:20.004\r\n    2021-03-07T07:37:20.809\r\n    2021-03-07T07:37:22.100\r\n    2021-03-07T07:37:22.814\r\n\r\nIn the Example 2 i need to get the 2nd recod , since there are no records found in the same second and 2021-03-07T07:37:19.999 is closest to the target date \r\n\r\n    2021-03-07T07:37:15.000\r\n    2021-03-07T07:37:19.999 \r\n    2021-03-07T07:37:22.100\r\n    2021-03-07T07:37:22.814\r\n    2021-03-07T07:37:22.815\r\n    2021-03-07T07:37:22.816\r\n\r\ncan i acheive this using two filters ? when i tried with the below code it is returning me null for the first scenario. Please suggest\r\n\r\n   \r\n\r\n \r\n\r\n        public RequiredRecord findCloseRecord(List&lt;RequiredRecord &gt; list,  Date tempDate) {\r\n        Date startTime  = new Date(tempDate.getTime() - 5000);  \r\n        Date endTime = new Date(tempDate.getTime() + 5000);\r\n              Log.logInfo(this, &quot;Find close record&quot;);\r\n              if (list != null &amp;&amp; !list.isEmpty()) {\r\n                   List&lt;RequiredRecord &gt; filteredRec = list.stream()\r\n                             .filter(rec -&gt; (rec.getLogRecDateTime() != null ))\r\n                             .sorted(Comparator.comparing(RequiredRecord ::getLogRecDateTime))\r\n                             .collect(Collectors.toList());    \r\n              \r\n                    if (!ClrUtils.isCollectionEmpty(filteredRec)) {   \r\n       \r\n    \r\n        List&lt;RequiredRecord &gt; filteredRecEqual = list.stream()\r\n            .filter(rec1 -&gt; (rec1.getLogRecordDateTime() != null &amp;&amp; tempDate.equals(rec1.getLogRecordDateTime()))).collect(Collectors.toList());\r\n        if (!ClrUtils.isCollectionEmpty(filteredRecEqual)) {\r\n          filteredRecEqual.get(0);\r\n          return (filteredRecEqual.get(0));\r\n        } else {\r\n          List&lt;RequiredRecord &gt; filteredRec2 =\r\n              list.stream().sorted(Comparator.comparingLong(d -&gt; Math.abs(tempDate.getTime() - d.getLogRecordDateTime().getTime())))\r\n                  .collect(Collectors.toList());\r\n    \r\n          return (filteredRec2.get(0));\r\n        }\r\n              }\r\n              return null;\r\n         }\r\n\r\n","title":"get the nearest date closest to target date if found on same second else return the closest date to target date","body":"<p>This question is continuation of my previous post\nI have two date fields:</p>\n<p>start date (2021-03-07T07:37:15) and end date (2021-03-07T07:37:25) and temp date (2021-03-07T07:37:20) .</p>\n<p>I have a list where I have returned 6 records between the start date and end date. How can I filter the records and return the datetime which is closest to temp date?</p>\n<p>here in the example records I need to get the 3rd record because the 2021-03-07T07:37:20.004 is closet to the temp date. Example</p>\n<pre><code>2021-03-07T07:37:15.000\n2021-03-07T07:37:19.999\n2021-03-07T07:37:20.004\n2021-03-07T07:37:20.809\n2021-03-07T07:37:22.100\n2021-03-07T07:37:22.814\n</code></pre>\n<p>In the Example 2 i need to get the 2nd recod , since there are no records found in the same second and 2021-03-07T07:37:19.999 is closest to the target date</p>\n<pre><code>2021-03-07T07:37:15.000\n2021-03-07T07:37:19.999 \n2021-03-07T07:37:22.100\n2021-03-07T07:37:22.814\n2021-03-07T07:37:22.815\n2021-03-07T07:37:22.816\n</code></pre>\n<p>can i acheive this using two filters ? when i tried with the below code it is returning me null for the first scenario. Please suggest</p>\n<pre><code>    public RequiredRecord findCloseRecord(List&lt;RequiredRecord &gt; list,  Date tempDate) {\n    Date startTime  = new Date(tempDate.getTime() - 5000);  \n    Date endTime = new Date(tempDate.getTime() + 5000);\n          Log.logInfo(this, &quot;Find close record&quot;);\n          if (list != null &amp;&amp; !list.isEmpty()) {\n               List&lt;RequiredRecord &gt; filteredRec = list.stream()\n                         .filter(rec -&gt; (rec.getLogRecDateTime() != null ))\n                         .sorted(Comparator.comparing(RequiredRecord ::getLogRecDateTime))\n                         .collect(Collectors.toList());    \n          \n                if (!ClrUtils.isCollectionEmpty(filteredRec)) {   \n   \n\n    List&lt;RequiredRecord &gt; filteredRecEqual = list.stream()\n        .filter(rec1 -&gt; (rec1.getLogRecordDateTime() != null &amp;&amp; tempDate.equals(rec1.getLogRecordDateTime()))).collect(Collectors.toList());\n    if (!ClrUtils.isCollectionEmpty(filteredRecEqual)) {\n      filteredRecEqual.get(0);\n      return (filteredRecEqual.get(0));\n    } else {\n      List&lt;RequiredRecord &gt; filteredRec2 =\n          list.stream().sorted(Comparator.comparingLong(d -&gt; Math.abs(tempDate.getTime() - d.getLogRecordDateTime().getTime())))\n              .collect(Collectors.toList());\n\n      return (filteredRec2.get(0));\n    }\n          }\n          return null;\n     }\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":18005578,"reputation":56,"user_id":13086441,"display_name":"Moises Suarez "},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1647370991,"creation_date":1647355216,"answer_id":71484108,"question_id":60739674,"body_markdown":"Sorry for the late answer. With gradle versions 6.7 onwards, you can specify which version of java to use and ignore the version used by the machine (JAVA_HOME) with java toolchains.\r\n\r\n    java {\r\n       toolchain {\r\n          languageVersion.set(JavaLanguageVersion.of(8))\r\n       }\r\n    }\r\n\r\nYou also have to tell gradle that you want it to use that java in all &quot;JavaExec&quot; tasks, to do this add these lines:   \r\n\r\n    tasks.withType(JavaExec).configureEach {\r\n       javaLauncher.set(javaToolchains.launcherFor(java.toolchain))\r\n    }\r\n\r\nI don&#39;t really know how it works in depth, but I put the link to the sites that helped me to solve this problem.\r\n\r\nhttps://www.cloudhadoop.com/gradle-configure-java-version/\r\nhttps://github.com/gradle/gradle/issues/16791\r\n","title":"Can you set a different java version for a gradle javaexec task?","body":"<p>Sorry for the late answer. With gradle versions 6.7 onwards, you can specify which version of java to use and ignore the version used by the machine (JAVA_HOME) with java toolchains.</p>\n<pre><code>java {\n   toolchain {\n      languageVersion.set(JavaLanguageVersion.of(8))\n   }\n}\n</code></pre>\n<p>You also have to tell gradle that you want it to use that java in all &quot;JavaExec&quot; tasks, to do this add these lines:</p>\n<pre><code>tasks.withType(JavaExec).configureEach {\n   javaLauncher.set(javaToolchains.launcherFor(java.toolchain))\n}\n</code></pre>\n<p>I don't really know how it works in depth, but I put the link to the sites that helped me to solve this problem.</p>\n<p><a href=\"https://www.cloudhadoop.com/gradle-configure-java-version/\" rel=\"nofollow noreferrer\">https://www.cloudhadoop.com/gradle-configure-java-version/</a>\n<a href=\"https://github.com/gradle/gradle/issues/16791\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/16791</a></p>\n"}],"owner":{"account_id":303048,"reputation":46893,"user_id":611750,"accept_rate":71,"display_name":"MonkeyBonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71484108,"answer_count":1,"score":3,"last_activity_date":1647370991,"creation_date":1584534778,"question_id":60739674,"body_markdown":"I have a java 11 project and I am trying to add a javaexec task to run a standalone cukedoctor documentation generation task, but it needs java 8 otherwise it errors `unsupported Java version &quot;11&quot;, defaulting to 1.7`.\r\n\r\nIs there a way I can explicitly set the java version on a javaexec task that&#39;s different from the main project?\r\n\r\nbuild.gradle\r\n```\r\n\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\ntask cukeDoctor() {\r\n    group = &quot;Documentation&quot;\r\n    description = &quot;Publish cucumber documentation and test results&quot;\r\n    dependsOn test\r\n    doLast {\r\n        javaexec {\r\n            main = &quot;-jar&quot;\r\n            args = [&#39;tools/cukedoctor-main-1.2.1.jar&#39;, &#39;-p&#39;, &#39;docs/cucumber.json&#39;]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Can you set a different java version for a gradle javaexec task?","body":"<p>I have a java 11 project and I am trying to add a javaexec task to run a standalone cukedoctor documentation generation task, but it needs java 8 otherwise it errors <code>unsupported Java version \"11\", defaulting to 1.7</code>.</p>\n\n<p>Is there a way I can explicitly set the java version on a javaexec task that's different from the main project?</p>\n\n<p>build.gradle</p>\n\n<pre><code>\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\ntask cukeDoctor() {\n    group = \"Documentation\"\n    description = \"Publish cucumber documentation and test results\"\n    dependsOn test\n    doLast {\n        javaexec {\n            main = \"-jar\"\n            args = ['tools/cukedoctor-main-1.2.1.jar', '-p', 'docs/cucumber.json']\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","brightness"],"answers":[{"tags":[],"owner":{"account_id":2589530,"reputation":413,"user_id":2244532,"display_name":"rich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365428373,"creation_date":1365428373,"answer_id":15880625,"question_id":15880547,"body_markdown":"I don&#39;t think there is a standard API do do that in Java.\r\n\r\nBut it seems that you can do it in .NET in windows. See:\r\nhttps://stackoverflow.com/questions/373297/what-api-call-would-i-use-to-change-brightness-of-laptop-net\r\n\r\nYou can always use a JNI interface to call a native method written in C++ - so this might be a workaround.","title":"How to change laptop screen brightness from a java application?","body":"<p>I don't think there is a standard API do do that in Java.</p>\n\n<p>But it seems that you can do it in .NET in windows. See:\n<a href=\"https://stackoverflow.com/questions/373297/what-api-call-would-i-use-to-change-brightness-of-laptop-net\">What API call would I use to change brightness of laptop (.NET)?</a></p>\n\n<p>You can always use a JNI interface to call a native method written in C++ - so this might be a workaround.</p>\n"},{"tags":[],"owner":{"account_id":4943525,"reputation":81,"user_id":3979603,"display_name":"Darty11"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1449167978,"creation_date":1449165037,"answer_id":34072859,"question_id":15880547,"body_markdown":"As others have stated, there isn&#39;t any official API to use. However, using Windows Powershell (which comes with windows I believe, so no need to download anything) and [WmiSetBrightness][1], one can create a simple workaround that should work on all windows PCs with visa or later installed. \r\n\r\nAll you need to do is copy this class into your workspace:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    \r\n    public class BrightnessManager {\r\n    \tpublic static void setBrightness(int brightness)\r\n    \t\t\tthrows IOException {\r\n    \t\t//Creates a powerShell command that will set the brightness to the requested value (0-100), after the requested delay (in milliseconds) has passed. \r\n    \t\tString s = String.format(&quot;$brightness = %d;&quot;, brightness)\r\n    \t\t\t\t+ &quot;$delay = 0;&quot;\r\n    \t\t\t\t+ &quot;$myMonitor = Get-WmiObject -Namespace root\\\\wmi -Class WmiMonitorBrightnessMethods;&quot;\r\n    \t\t\t\t+ &quot;$myMonitor.wmisetbrightness($delay, $brightness)&quot;;\r\n    \t\tString command = &quot;powershell.exe  &quot; + s;\r\n    \t\t// Executing the command\r\n    \t\tProcess powerShellProcess = Runtime.getRuntime().exec(command);\r\n    \r\n    \t\tpowerShellProcess.getOutputStream().close();\r\n    \t\t\r\n    \t\t//Report any error messages\r\n    \t\tString line;\r\n    \r\n    \t\tBufferedReader stderr = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\tpowerShellProcess.getErrorStream()));\r\n    \t\tline = stderr.readLine();\r\n    \t\tif (line != null)\r\n    \t\t{\r\n    \t\t\tSystem.err.println(&quot;Standard Error:&quot;);\r\n    \t\t\tdo\r\n    \t\t\t{\r\n    \t\t\t\tSystem.err.println(line);\r\n    \t\t\t} while ((line = stderr.readLine()) != null);\r\n    \r\n    \t\t}\r\n    \t\tstderr.close();\r\n    \r\n    \t}\r\n    }\r\n\r\nAnd then call \r\n\r\n    BrightnessManager.setBrightness({brightness});\r\n\r\nWhere {brightness} is the brightness you want to set the screen display at with 0 being the dimmest supported brightness and 100 being the brightest.\r\n\r\nBig thanks to anquegi for the powershell code found [here][2] that I adapted to run this command.\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/aa394549%28v=vs.85%29.aspx\r\n  [2]: https://stackoverflow.com/questions/29545611/executing-powershell-commands-in-java-program","title":"How to change laptop screen brightness from a java application?","body":"<p>As others have stated, there isn't any official API to use. However, using Windows Powershell (which comes with windows I believe, so no need to download anything) and <a href=\"https://msdn.microsoft.com/en-us/library/aa394549%28v=vs.85%29.aspx\" rel=\"noreferrer\">WmiSetBrightness</a>, one can create a simple workaround that should work on all windows PCs with visa or later installed. </p>\n\n<p>All you need to do is copy this class into your workspace:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\n\npublic class BrightnessManager {\n    public static void setBrightness(int brightness)\n            throws IOException {\n        //Creates a powerShell command that will set the brightness to the requested value (0-100), after the requested delay (in milliseconds) has passed. \n        String s = String.format(\"$brightness = %d;\", brightness)\n                + \"$delay = 0;\"\n                + \"$myMonitor = Get-WmiObject -Namespace root\\\\wmi -Class WmiMonitorBrightnessMethods;\"\n                + \"$myMonitor.wmisetbrightness($delay, $brightness)\";\n        String command = \"powershell.exe  \" + s;\n        // Executing the command\n        Process powerShellProcess = Runtime.getRuntime().exec(command);\n\n        powerShellProcess.getOutputStream().close();\n\n        //Report any error messages\n        String line;\n\n        BufferedReader stderr = new BufferedReader(new InputStreamReader(\n                powerShellProcess.getErrorStream()));\n        line = stderr.readLine();\n        if (line != null)\n        {\n            System.err.println(\"Standard Error:\");\n            do\n            {\n                System.err.println(line);\n            } while ((line = stderr.readLine()) != null);\n\n        }\n        stderr.close();\n\n    }\n}\n</code></pre>\n\n<p>And then call </p>\n\n<pre><code>BrightnessManager.setBrightness({brightness});\n</code></pre>\n\n<p>Where {brightness} is the brightness you want to set the screen display at with 0 being the dimmest supported brightness and 100 being the brightest.</p>\n\n<p>Big thanks to anquegi for the powershell code found <a href=\"https://stackoverflow.com/questions/29545611/executing-powershell-commands-in-java-program\">here</a> that I adapted to run this command.</p>\n"}],"owner":{"account_id":2588868,"reputation":91,"user_id":2243970,"display_name":"Sujal Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4708,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1647370989,"creation_date":1365428162,"question_id":15880547,"body_markdown":"I want to create a java application to change the laptop screen brightness on windows xp/7. Please help ","title":"How to change laptop screen brightness from a java application?","body":"<p>I want to create a java application to change the laptop screen brightness on windows xp/7. Please help </p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1647368287,"post_id":71486929,"comment_id":126352144,"body_markdown":"May be regex, something like `input.matches(&quot;\\\\d+-\\\\d+&quot;)` ?","body":"May be regex, something like <code>input.matches(&quot;\\\\d+-\\\\d+&quot;)</code> ?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647368574,"post_id":71486929,"comment_id":126352244,"body_markdown":"Simos, are the numbers guaranteed to be positive integers?","body":"Simos, are the numbers guaranteed to be positive integers?"},{"owner":{"account_id":2171710,"reputation":968,"user_id":6336312,"accept_rate":78,"display_name":"Simos Sigma"},"score":0,"creation_date":1647370501,"post_id":71486929,"comment_id":126352898,"body_markdown":"@hfontanez yes, should be only positive integers!!!","body":"@hfontanez yes, should be only positive integers!!!"}],"answers":[{"tags":[],"owner":{"account_id":4896347,"reputation":1732,"user_id":3945851,"display_name":"user3945851"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647370694,"creation_date":1647368485,"answer_id":71487196,"question_id":71486929,"body_markdown":"To check if the input is correct do this:&lt;br&gt;\r\n\r\nin Java:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;^[0-9]+-[0-9]+&quot;,Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(&quot;10-20&quot;);\r\n    boolean matchFound = matcher.find();\r\n    if(matchFound) {\r\n      System.out.println(&quot;Match found&quot;);\r\n    } else {\r\n      System.out.println(&quot;Match not found&quot;);\r\n    }","title":"How can I check the given pattern into an input dialog?","body":"<p>To check if the input is correct do this:<br></p>\n<p>in Java:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;^[0-9]+-[0-9]+&quot;,Pattern.CASE_INSENSITIVE);\nMatcher matcher = pattern.matcher(&quot;10-20&quot;);\nboolean matchFound = matcher.find();\nif(matchFound) {\n  System.out.println(&quot;Match found&quot;);\n} else {\n  System.out.println(&quot;Match not found&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647370888,"creation_date":1647370888,"answer_id":71487621,"question_id":71486929,"body_markdown":"Assuming the numbers are guaranteed to be positive integers, @Eritrean&#39;s suggestion is correct.\r\n\r\n```\r\nString input = &quot;10-20&quot;;\r\nString regex = &quot;\\\\d+-\\\\d+&quot;;\r\nSystem.out.println(&quot;Input is valid? &quot; + input.matches(regex));\r\n```\r\nFor the current input, it will print out that the input is valid (&quot;true&quot;) because it matched the given regular expression. An input like `10-A0` would not be valid and thus, will print out &quot;false&quot;.\r\n\r\nIf the input is not guaranteed to be a positive integer, these are my suggestions accordingly:\r\n\r\n 1. For signed values, add `[-+]?` in front of each digit pattern: `[-+]?\\\\d+-\\\\d+[-+]?`. This will match signed integers by allowing optional sign characters in front of the number.\r\n 2. For floating-point numbers, I suggest `\\\\d*\\\\.?\\\\d+`. This regular expression expects the numeric value to have optional digits before the decimal point, and an unbounded number of digits after. It also matches integer values as well. So, a regular expression like `\\\\d*\\\\.?\\\\d+-\\\\d*\\\\.?\\\\d+`, should be able to account for integers and floating-point numbers separated by a dash. If you require signed floating point numbers, follow suggestion in #1 above.","title":"How can I check the given pattern into an input dialog?","body":"<p>Assuming the numbers are guaranteed to be positive integers, @Eritrean's suggestion is correct.</p>\n<pre><code>String input = &quot;10-20&quot;;\nString regex = &quot;\\\\d+-\\\\d+&quot;;\nSystem.out.println(&quot;Input is valid? &quot; + input.matches(regex));\n</code></pre>\n<p>For the current input, it will print out that the input is valid (&quot;true&quot;) because it matched the given regular expression. An input like <code>10-A0</code> would not be valid and thus, will print out &quot;false&quot;.</p>\n<p>If the input is not guaranteed to be a positive integer, these are my suggestions accordingly:</p>\n<ol>\n<li>For signed values, add <code>[-+]?</code> in front of each digit pattern: <code>[-+]?\\\\d+-\\\\d+[-+]?</code>. This will match signed integers by allowing optional sign characters in front of the number.</li>\n<li>For floating-point numbers, I suggest <code>\\\\d*\\\\.?\\\\d+</code>. This regular expression expects the numeric value to have optional digits before the decimal point, and an unbounded number of digits after. It also matches integer values as well. So, a regular expression like <code>\\\\d*\\\\.?\\\\d+-\\\\d*\\\\.?\\\\d+</code>, should be able to account for integers and floating-point numbers separated by a dash. If you require signed floating point numbers, follow suggestion in #1 above.</li>\n</ol>\n"}],"owner":{"account_id":2171710,"reputation":968,"user_id":6336312,"accept_rate":78,"display_name":"Simos Sigma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71487621,"answer_count":2,"score":1,"last_activity_date":1647370888,"creation_date":1647367136,"question_id":71486929,"body_markdown":"I have an input dialog and I want to check if user typed a specific pattern. For example, user can type any number `-` and any number. Something like this `10-20`. How can I check if user typed this kind of pattern?","title":"How can I check the given pattern into an input dialog?","body":"<p>I have an input dialog and I want to check if user typed a specific pattern. For example, user can type any number <code>-</code> and any number. Something like this <code>10-20</code>. How can I check if user typed this kind of pattern?</p>\n"},{"tags":["java","android","selenium","appium-android","katalon-studio"],"comments":[{"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mrše"},"score":0,"creation_date":1646816619,"post_id":71261766,"comment_id":126215178,"body_markdown":"Please add code of what have you tried before.","body":"Please add code of what have you tried before."}],"answers":[{"tags":[],"owner":{"account_id":1416271,"reputation":317,"user_id":1341887,"display_name":"Marek Andreansky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647370839,"creation_date":1647370839,"answer_id":71487614,"question_id":71261766,"body_markdown":"You can utilize the [Javascript Executor](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html) and hook into the javascript that is running on the page and wait until your javascript returns a specific value.\r\n\r\nOr you can use a [mutation observer](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver) activated via javascript to wait or keep track of element changes as your condition.\r\n\r\nIn your case, you can attach a mutation observer to the element of the page where the progress bar is attached to as your first condition.\r\n\r\nOnce that condition is met, you can wait until the progress bar is gone as your second condition.\r\n\r\nThen you should be good to go.","title":"How to wait until page has finished loading","body":"<p>You can utilize the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html\" rel=\"nofollow noreferrer\">Javascript Executor</a> and hook into the javascript that is running on the page and wait until your javascript returns a specific value.</p>\n<p>Or you can use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\" rel=\"nofollow noreferrer\">mutation observer</a> activated via javascript to wait or keep track of element changes as your condition.</p>\n<p>In your case, you can attach a mutation observer to the element of the page where the progress bar is attached to as your first condition.</p>\n<p>Once that condition is met, you can wait until the progress bar is gone as your second condition.</p>\n<p>Then you should be good to go.</p>\n"}],"owner":{"account_id":17773889,"reputation":13,"user_id":12906740,"display_name":"babaschild"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647370839,"creation_date":1645769468,"question_id":71261766,"body_markdown":"I am automating the android mobile application with Selenium using explicit wait with expected conditions to click buttons. There is a loading overlay that is displayed after form submission. The loading overlay is also called when a post &amp; get request is happening in the background. I am trying to click an element, but the loading overlay disrupts the button click as nothing can be clicked when there is an overlay. Is there a way to check if the post&amp;get request has been completed in selenium? I can&#39;t use expectedConditions.invisibilityOfElement as the loading overlay display time is somewhat inconsistent","title":"How to wait until page has finished loading","body":"<p>I am automating the android mobile application with Selenium using explicit wait with expected conditions to click buttons. There is a loading overlay that is displayed after form submission. The loading overlay is also called when a post &amp; get request is happening in the background. I am trying to click an element, but the loading overlay disrupts the button click as nothing can be clicked when there is an overlay. Is there a way to check if the post&amp;get request has been completed in selenium? I can't use expectedConditions.invisibilityOfElement as the loading overlay display time is somewhat inconsistent</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":24565816,"reputation":244,"user_id":18472980,"display_name":"Dheeraj Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647370627,"creation_date":1647369621,"answer_id":71487406,"question_id":71487217,"body_markdown":"First of all check if the dependencies are pulled or not in the external dependencies section in the IDE. If its not there see if maven is configured properly.\r\nWhat ide are you using? \r\nIf its eclipse force a maven update on the project. If it’s Intellij, invalidate caches from the file menu. Close the ide. Open the root directory of you project in file explorer and Delete any .preferences or .setting or any other unnecessary file or folder present on the source folder  reated by the ide and after clearing all that open up IDE and see if that resolves the issue. \r\n\r\nAlso for s3 you’ll need this dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;&lt;/dependency&gt;","title":"import com.amazonaws.services.s3 cannot be resolved","body":"<p>First of all check if the dependencies are pulled or not in the external dependencies section in the IDE. If its not there see if maven is configured properly.\nWhat ide are you using?\nIf its eclipse force a maven update on the project. If it’s Intellij, invalidate caches from the file menu. Close the ide. Open the root directory of you project in file explorer and Delete any .preferences or .setting or any other unnecessary file or folder present on the source folder  reated by the ide and after clearing all that open up IDE and see if that resolves the issue.</p>\n<p>Also for s3 you’ll need this dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6586022,"reputation":76,"user_id":5088766,"display_name":"mcarn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647370565,"creation_date":1647370565,"answer_id":71487566,"question_id":71487217,"body_markdown":"you may need to do a `mvn install` or `mvn package`, this way, you will download the dependency.","title":"import com.amazonaws.services.s3 cannot be resolved","body":"<p>you may need to do a <code>mvn install</code> or <code>mvn package</code>, this way, you will download the dependency.</p>\n"},{"tags":[],"owner":{"account_id":23358329,"reputation":97,"user_id":17710829,"display_name":"user17710829"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647370802,"creation_date":1647370802,"answer_id":71487604,"question_id":71487217,"body_markdown":"Really not sure what was wrong but restarting a new project worked.","title":"import com.amazonaws.services.s3 cannot be resolved","body":"<p>Really not sure what was wrong but restarting a new project worked.</p>\n"}],"owner":{"account_id":23358329,"reputation":97,"user_id":17710829,"display_name":"user17710829"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1647370802,"creation_date":1647368600,"question_id":71487217,"body_markdown":"I want to use AWS S3 buckets with my Java 17 / Maven 3.8.5 app but when I add this to the pom.xml file\r\n\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.12.177&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\nI get a bunch of errors like these:\r\n\r\nFailed to read artifact descriptor for com.amazonaws:aws-java-sdk-iotevents:jar:1.12.177\r\n\r\nalthough when I add -core like this:\r\n\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.12.177&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\nthe errors go away in my pom.xml file but I dont think this is what I want.\r\n\r\nWhat I want is to be able to import com.amazonaws.services.s3.AmazonS3; like this\r\n\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @Configuration\r\n    public class AmazonConfig {\r\n    \r\n        public AmazonS3 s3() {\r\n            AWSCredentials awsCredentials = new BasicAWSCredentials(&quot;&quot;, &quot;&quot;);\r\n        }\r\n    }\r\n\r\n\r\nbut I keep getting this error\r\n\r\nThe import com.amazonaws.services.s3 cannot be resolved\r\n\r\nIm really new to Java so I&#39;m not sure if the problem is from my Maven configuration or something else.\r\n\r\nThanks.\r\n\r\n","title":"import com.amazonaws.services.s3 cannot be resolved","body":"<p>I want to use AWS S3 buckets with my Java 17 / Maven 3.8.5 app but when I add this to the pom.xml file</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.12.177&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I get a bunch of errors like these:</p>\n<p>Failed to read artifact descriptor for com.amazonaws:aws-java-sdk-iotevents:jar:1.12.177</p>\n<p>although when I add -core like this:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n            &lt;version&gt;1.12.177&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>the errors go away in my pom.xml file but I dont think this is what I want.</p>\n<p>What I want is to be able to import com.amazonaws.services.s3.AmazonS3; like this</p>\n<pre><code>import com.amazonaws.services.s3.AmazonS3;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class AmazonConfig {\n\n    public AmazonS3 s3() {\n        AWSCredentials awsCredentials = new BasicAWSCredentials(&quot;&quot;, &quot;&quot;);\n    }\n}\n</code></pre>\n<p>but I keep getting this error</p>\n<p>The import com.amazonaws.services.s3 cannot be resolved</p>\n<p>Im really new to Java so I'm not sure if the problem is from my Maven configuration or something else.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android-studio","adb","android-11","real-time-text"],"comments":[{"owner":{"account_id":7897306,"reputation":570,"user_id":5965533,"display_name":"Dr Dave"},"score":0,"creation_date":1625078273,"post_id":68198262,"comment_id":120534711,"body_markdown":"Is there more to this stack trace?  None of the methods in the stack trace refer to your code so I am guessing there is more to the stack trace that would show the line in your code causing the null-pointer exception","body":"Is there more to this stack trace?  None of the methods in the stack trace refer to your code so I am guessing there is more to the stack trace that would show the line in your code causing the null-pointer exception"},{"owner":{"account_id":21501360,"reputation":29,"user_id":15845514,"display_name":"C18"},"score":0,"creation_date":1625079476,"post_id":68198262,"comment_id":120535155,"body_markdown":"@DrDave the error is coming from \n`BufferedReader errorOutput = new BufferedReader(new InputStreamReader(process.getErrorStream()));`\n\nas far as I can see, what i posted is all the error shows","body":"@DrDave the error is coming from  <code>BufferedReader errorOutput = new BufferedReader(new InputStreamReader(process.getErrorStream()));</code>  as far as I can see, what i posted is all the error shows"}],"answers":[{"tags":[],"owner":{"account_id":12234756,"reputation":11,"user_id":8929555,"display_name":"keepitintheground"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647370690,"creation_date":1647370252,"answer_id":71487525,"question_id":68198262,"body_markdown":"If you do not need to issue a shell command, you can programmatically do\r\n\r\n    Settings.Secure.putInt(getContentResolver(), Settings.Secure.RTT_CALLING_MODE, 1);\r\n\r\nBut you need root access to do this. Only system apps have permission to change secure settings. This might as well be the cause for the exception when running the shell command.","title":"Exception occurred while executing &#39;put&#39;","body":"<p>If you do not need to issue a shell command, you can programmatically do</p>\n<pre><code>Settings.Secure.putInt(getContentResolver(), Settings.Secure.RTT_CALLING_MODE, 1);\n</code></pre>\n<p>But you need root access to do this. Only system apps have permission to change secure settings. This might as well be the cause for the exception when running the shell command.</p>\n"}],"owner":{"account_id":21501360,"reputation":29,"user_id":15845514,"display_name":"C18"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647370690,"creation_date":1625069346,"question_id":68198262,"body_markdown":"I&#39;m trying to run an adb shell command programmatically through an app to change the rtt_calling_mode variable value, but I&#39;m running into this error. \r\n\r\n     Exception occurred while executing &#39;put&#39;:\r\n     java.lang.NullPointerException\r\n        at java.util.Objects.requireNonNull(Objects.java:220)\r\n        at com.android.server.appop.AppOpsService.checkPackage(AppOpsService.java:2969)\r\n        at android.app.AppOpsManager.checkPackage(AppOpsManager.java:7697)\r\n        at android.content.ContentProvider.getCallingPackage(ContentProvider.java:954)\r\n        at com.android.providers.settings.SettingsProvider.mutateSecureSetting(SettingsProvider.java:1732)\r\n        at com.android.providers.settings.SettingsProvider.insertSecureSetting(SettingsProvider.java:1652)\r\n        at com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:412)\r\n        at android.content.ContentProvider.call(ContentProvider.java:2448)\r\n        at android.content.ContentProvider$Transport.call(ContentProvider.java:517)\r\n        at com.android.providers.settings.SettingsService$MyShellCommand.putForUser(SettingsService.java:375)\r\n        at com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:277)\r\n        at android.os.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:98)\r\n        at android.os.ShellCommand.exec(ShellCommand.java:44)\r\n        at com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:49)\r\n        at android.os.Binder.shellCommand(Binder.java:929)\r\n        at android.os.Binder.onTransact(Binder.java:813)\r\n        at android.os.Binder.execTransactInternal(Binder.java:1159)\r\n        at android.os.Binder.execTransact(Binder.java:1123)\r\n\r\nWhen running on A10 I was able to run this command perfectly fine and It would change the RTT variable as if I ran the command &#39;adb shell settings put secure rtt_calling_mode0 1&#39; via the command prompt. But now on an A11 build I receive this error. I&#39;m not sure what could be causing this issue and why it now has an issue with &#39;put&#39; now. Also not sure where the NullPointerException is coming from either. Does anyone know what could be causing this issue? Below is the code that&#39;s throwing the error when its run. \r\n\r\n```\r\npublic static String setRealTimeText(int simSlot, int enabled){\r\n        String command = &quot;settings put secure rtt_calling_mode&quot; + slot +  &quot; &quot; + enabled;\r\n\r\n        try {\r\n            Process process = Runtime.getRuntime().exec(command);\r\n            BufferedReader output = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            BufferedReader errorOutput = new BufferedReader(new InputStreamReader(process.getErrorStream()));\r\n\r\n            //get the error output\r\n            String s = &quot;&quot;;\r\n            String outputString = &quot;&quot;;\r\n\r\n            if (errorOutput.readLine() != null) {\r\n                while ((s = errorOutput.readLine()) != null) {\r\n                    outputString += &quot; &quot; + s + &quot;\\n&quot;;\r\n                }\r\n                return outputString;\r\n            }\r\n\r\n            //get the console output\r\n            while ((s = output.readLine()) != null) {\r\n                outputString += &quot;- &quot; + s + &quot;\\n&quot;;\r\n            }\r\n            return &quot;RTT was enabled&quot;\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return e.toString();\r\n        }\r\n    }\r\n```","title":"Exception occurred while executing &#39;put&#39;","body":"<p>I'm trying to run an adb shell command programmatically through an app to change the rtt_calling_mode variable value, but I'm running into this error.</p>\n<pre><code> Exception occurred while executing 'put':\n java.lang.NullPointerException\n    at java.util.Objects.requireNonNull(Objects.java:220)\n    at com.android.server.appop.AppOpsService.checkPackage(AppOpsService.java:2969)\n    at android.app.AppOpsManager.checkPackage(AppOpsManager.java:7697)\n    at android.content.ContentProvider.getCallingPackage(ContentProvider.java:954)\n    at com.android.providers.settings.SettingsProvider.mutateSecureSetting(SettingsProvider.java:1732)\n    at com.android.providers.settings.SettingsProvider.insertSecureSetting(SettingsProvider.java:1652)\n    at com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:412)\n    at android.content.ContentProvider.call(ContentProvider.java:2448)\n    at android.content.ContentProvider$Transport.call(ContentProvider.java:517)\n    at com.android.providers.settings.SettingsService$MyShellCommand.putForUser(SettingsService.java:375)\n    at com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:277)\n    at android.os.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:98)\n    at android.os.ShellCommand.exec(ShellCommand.java:44)\n    at com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:49)\n    at android.os.Binder.shellCommand(Binder.java:929)\n    at android.os.Binder.onTransact(Binder.java:813)\n    at android.os.Binder.execTransactInternal(Binder.java:1159)\n    at android.os.Binder.execTransact(Binder.java:1123)\n</code></pre>\n<p>When running on A10 I was able to run this command perfectly fine and It would change the RTT variable as if I ran the command 'adb shell settings put secure rtt_calling_mode0 1' via the command prompt. But now on an A11 build I receive this error. I'm not sure what could be causing this issue and why it now has an issue with 'put' now. Also not sure where the NullPointerException is coming from either. Does anyone know what could be causing this issue? Below is the code that's throwing the error when its run.</p>\n<pre><code>public static String setRealTimeText(int simSlot, int enabled){\n        String command = &quot;settings put secure rtt_calling_mode&quot; + slot +  &quot; &quot; + enabled;\n\n        try {\n            Process process = Runtime.getRuntime().exec(command);\n            BufferedReader output = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            BufferedReader errorOutput = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n\n            //get the error output\n            String s = &quot;&quot;;\n            String outputString = &quot;&quot;;\n\n            if (errorOutput.readLine() != null) {\n                while ((s = errorOutput.readLine()) != null) {\n                    outputString += &quot; &quot; + s + &quot;\\n&quot;;\n                }\n                return outputString;\n            }\n\n            //get the console output\n            while ((s = output.readLine()) != null) {\n                outputString += &quot;- &quot; + s + &quot;\\n&quot;;\n            }\n            return &quot;RTT was enabled&quot;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return e.toString();\n        }\n    }\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1433896,"reputation":43,"user_id":1355689,"display_name":"FloFromYet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647370232,"creation_date":1647362734,"answer_id":71485945,"question_id":71485070,"body_markdown":"Take a look here:\r\nhttps://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\r\n\r\nSo you can add manually, the common dependency in the customer sub-project.\r\nTo do this, you need to adapt the build.gradle file of customer:\r\n\r\n    dependencies {\r\n        implementation project(&#39;:common&#39;)\r\n    }\r\n\r\nDo not also forgetto reload your project like described here:\r\nhttps://www.jetbrains.com/help/idea/work-with-gradle-projects.html#gradle_refresh_project","title":"Adding dependecy on module in gradle Java","body":"<p>Take a look here:\n<a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html</a></p>\n<p>So you can add manually, the common dependency in the customer sub-project.\nTo do this, you need to adapt the build.gradle file of customer:</p>\n<pre><code>dependencies {\n    implementation project(':common')\n}\n</code></pre>\n<p>Do not also forgetto reload your project like described here:\n<a href=\"https://www.jetbrains.com/help/idea/work-with-gradle-projects.html#gradle_refresh_project\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/work-with-gradle-projects.html#gradle_refresh_project</a></p>\n"},{"tags":[],"owner":{"account_id":14237543,"reputation":295,"user_id":10284940,"display_name":"Ismail Dogan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647366960,"creation_date":1647366406,"answer_id":71486756,"question_id":71485070,"body_markdown":"The problem has been solved by removing **.idea folder** and then rebuilded the project. \r\nThank you so much, @FloFromYet\r\n ","title":"Adding dependecy on module in gradle Java","body":"<p>The problem has been solved by removing <strong>.idea folder</strong> and then rebuilded the project.\nThank you so much, @FloFromYet</p>\n"}],"owner":{"account_id":14237543,"reputation":295,"user_id":10284940,"display_name":"Ismail Dogan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647370232,"creation_date":1647359167,"question_id":71485070,"body_markdown":"I have a microservice that is Customer and also I have a common module that is called common. I have been trying to use a file that is called ResponseModel from common module in Customer service. \r\n\r\nIt says that &quot;add dependency on module &#39;common main&#39;&quot;. \r\nReference is not added even though I click the option.\r\n\r\nI am a beginner in Java and using Intellij Idea.\r\n\r\nCan anyone help me? \r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QC2U2.png","title":"Adding dependecy on module in gradle Java","body":"<p>I have a microservice that is Customer and also I have a common module that is called common. I have been trying to use a file that is called ResponseModel from common module in Customer service.</p>\n<p>It says that &quot;add dependency on module 'common main'&quot;.\nReference is not added even though I click the option.</p>\n<p>I am a beginner in Java and using Intellij Idea.</p>\n<p>Can anyone help me?</p>\n<p><a href=\"https://i.stack.imgur.com/QC2U2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QC2U2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","tomcat","http-headers","cross-domain","freebsd"],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647275780,"creation_date":1647275780,"answer_id":71471205,"question_id":71432452,"body_markdown":"The CORS filter only handles the `Access-Control-*` headers and does not do anything about `Cross-Origin-*` headers.\r\n\r\nIf you wish to set `Cross-Origin-*` headers, you will either have to manage that yourself, or submit a pull-request to the Tomcat project.","title":"Tomcat Send &quot;Cross-Origin-Opener-Policy&quot; and &quot;Cross-Origin-Embedder-Policy&quot; Headers to Enable SharedArrayBuffer on JavaScript","body":"<p>The CORS filter only handles the <code>Access-Control-*</code> headers and does not do anything about <code>Cross-Origin-*</code> headers.</p>\n<p>If you wish to set <code>Cross-Origin-*</code> headers, you will either have to manage that yourself, or submit a pull-request to the Tomcat project.</p>\n"}],"owner":{"account_id":16886008,"reputation":35,"user_id":12210801,"display_name":"Nicolae Vasile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71471205,"answer_count":1,"score":2,"last_activity_date":1647369737,"creation_date":1646959600,"question_id":71432452,"body_markdown":"I&#39;ve built a React 17.0.2 application which has a dependency using &quot;SharedArrayBuffer&quot; (ffmpeg.wasm). This requires these Response Headers [as per the docs][1]:\r\n```\r\nCross-Origin-Opener-Policy: same-origin\r\nCross-Origin-Embedder-Policy: require-corp\r\n```\r\n\r\nI am serving the React application via Tomcat 10. How do I modify the default web.xml to include those headers?\r\n\r\n**Update 1:**\r\n\r\n\r\nI&#39;ve found some documentation that I think shows it is possible to send these headers, **I just do not know what to put in ```web.xml``` to make it happen.**\r\n\r\n[This doc says that to enable CORS on Tomcat, you can use the filter tag.][2] It also says, &quot;This filter is an implementation of W3C&#39;s CORS (Cross-Origin Resource Sharing) specification&quot;. [The specification they reference][3] includes both of those headers:\r\n\r\n - [Cross-Origin-Opener-Policy][4] \r\n - [Cross-Origin-Embedder-Policy][5]\r\n\r\n**Solution:**\r\n\r\nSince there is no native way to send these response headers, I had to use [this code][6] to add them. I ran git clone, made sure I had CATALINA_HOME set, ran make.sh, moved the resulting .jar to the lib/ directory in Tomcat, and matched the permissions with with surrounding jars. I wrote two filters in my web.xml and restarted Tomcat.\r\n\r\n    \r\n\t\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;OpenerPolicyHeaderFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;StaticHeaders&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;Cross-Origin-Opener-Policy&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;same-origin&lt;/param-value&gt;\r\n\t\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;OpenerPolicyHeaderFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;EmbedderPolicyHeaderFiler&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;StaticHeaders&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;Cross-Origin-Embedder-Policy&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;require-corp&lt;/param-value&gt;\r\n\t\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;EmbedderPolicyHeaderFiler&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\r\n  [2]: https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html#CORS_Filter\r\n  [3]: https://html.spec.whatwg.org/multipage/origin.html\r\n  [4]: https://html.spec.whatwg.org/multipage/origin.html#cross-origin-embedder-policy\r\n  [5]: https://html.spec.whatwg.org/multipage/origin.html#cross-origin-opener-policies\r\n  [6]: https://github.com/nreese/StaticHeaders","title":"Tomcat Send &quot;Cross-Origin-Opener-Policy&quot; and &quot;Cross-Origin-Embedder-Policy&quot; Headers to Enable SharedArrayBuffer on JavaScript","body":"<p>I've built a React 17.0.2 application which has a dependency using &quot;SharedArrayBuffer&quot; (ffmpeg.wasm). This requires these Response Headers <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\" rel=\"nofollow noreferrer\">as per the docs</a>:</p>\n<pre><code>Cross-Origin-Opener-Policy: same-origin\nCross-Origin-Embedder-Policy: require-corp\n</code></pre>\n<p>I am serving the React application via Tomcat 10. How do I modify the default web.xml to include those headers?</p>\n<p><strong>Update 1:</strong></p>\n<p>I've found some documentation that I think shows it is possible to send these headers, <strong>I just do not know what to put in <code>web.xml</code> to make it happen.</strong></p>\n<p><a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html#CORS_Filter\" rel=\"nofollow noreferrer\">This doc says that to enable CORS on Tomcat, you can use the filter tag.</a> It also says, &quot;This filter is an implementation of W3C's CORS (Cross-Origin Resource Sharing) specification&quot;. <a href=\"https://html.spec.whatwg.org/multipage/origin.html\" rel=\"nofollow noreferrer\">The specification they reference</a> includes both of those headers:</p>\n<ul>\n<li><a href=\"https://html.spec.whatwg.org/multipage/origin.html#cross-origin-embedder-policy\" rel=\"nofollow noreferrer\">Cross-Origin-Opener-Policy</a></li>\n<li><a href=\"https://html.spec.whatwg.org/multipage/origin.html#cross-origin-opener-policies\" rel=\"nofollow noreferrer\">Cross-Origin-Embedder-Policy</a></li>\n</ul>\n<p><strong>Solution:</strong></p>\n<p>Since there is no native way to send these response headers, I had to use <a href=\"https://github.com/nreese/StaticHeaders\" rel=\"nofollow noreferrer\">this code</a> to add them. I ran git clone, made sure I had CATALINA_HOME set, ran make.sh, moved the resulting .jar to the lib/ directory in Tomcat, and matched the permissions with with surrounding jars. I wrote two filters in my web.xml and restarted Tomcat.</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;OpenerPolicyHeaderFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;StaticHeaders&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;Cross-Origin-Opener-Policy&lt;/param-name&gt;\n        &lt;param-value&gt;same-origin&lt;/param-value&gt;\n        &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;OpenerPolicyHeaderFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;filter&gt;\n    &lt;filter-name&gt;EmbedderPolicyHeaderFiler&lt;/filter-name&gt;\n    &lt;filter-class&gt;StaticHeaders&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;Cross-Origin-Embedder-Policy&lt;/param-name&gt;\n        &lt;param-value&gt;require-corp&lt;/param-value&gt;\n        &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;EmbedderPolicyHeaderFiler&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":["java","log4j","log4j2"],"owner":{"account_id":14034180,"reputation":523,"user_id":10137268,"display_name":"Paul Erlenmeyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647369702,"creation_date":1647369702,"question_id":71487421,"body_markdown":"I&#39;m migrating a large application from Log4j1 to Log4j2 following the [Migration Guide (Option 2 by Apache)][1]. The project is a large and modularized and I don&#39;t have the knowledge on how every module works. When reading the [Migration Guide (Option 2 by Apache)][1] it was said, that I have to change a couple package names, change Logger into LogManager, use another way to set the Levels and change how String concatenation works. But nowhere it was mentioned that a whole bunch of modules won&#39;t work anymore because they contain classes that extend [Layout][2] or [PatternLayout][3]. I don&#39;t want to delete the classes and I don&#39;t want to change it&#39;s implementation with the help of the properties file. I&#39;m quite positive that the functionality can&#39;t be reproduced with the help of the properties file. So what is the equivalent of Layout and PatternLayout in Log4j2? Here is a small example of a class that extends from Layout:\r\n\r\n    public class MXMLLayout extends Layout {\r\n    @Override\r\n    public String format(LoggingEvent event) {\r\n        MXMLHelper helper = new MXMLHelper();\r\n        String message = (String) event.getMessage();\r\n        String[] secondLevel = {};\r\n        String attributes = &quot;&quot;;\r\n        String attrNumber = &quot;&quot;;\r\n        boolean flagProcessInst = false;\r\n        boolean flagAudit = false;\r\n        boolean flagProcess = false;\r\n        int in = -1;\r\n        String[] firstLevel = null;\r\n\r\n        if (message.contains(MXMLCommandCenter.AUDIT_TRAIL_SEP) &amp;&amp; (!message\r\n                        .contains(MXMLCommandCenter.PROCESS_INST_SEP)\r\n                        || !message.contains(MXMLCommandCenter.PROCESS_SEP))) {\r\n            firstLevel = message.split(MXMLCommandCenter.AUDIT_TRAIL_SEP);\r\n            flagAudit = true;\r\n        } else if (message.contains(MXMLCommandCenter.PROCESS_INST_SEP)\r\n                        &amp;&amp; (!message.contains(MXMLCommandCenter.AUDIT_TRAIL_SEP)\r\n                                        || !message.contains(\r\n                                                        MXMLCommandCenter.PROCESS_SEP))) {\r\n            firstLevel = message.split(MXMLCommandCenter.PROCESS_INST_SEP);\r\n            flagProcessInst = true;\r\n        } else if (message.contains(MXMLCommandCenter.PROCESS_SEP) &amp;&amp; (!message\r\n                        .contains(MXMLCommandCenter.AUDIT_TRAIL_SEP)\r\n                        || !message.contains(\r\n                                        MXMLCommandCenter.PROCESS_INST_SEP))) {\r\n            firstLevel = message.split(MXMLCommandCenter.PROCESS_SEP);\r\n            flagProcess = true;\r\n        } else {\r\n            firstLevel = new String[0];\r\n        }\r\n\r\n       // [ ... ]\r\n\r\n            BufferedReader br = null;\r\n            try {\r\n                br = new BufferedReader(new FileReader(MXMLCommandCenter.FILE));\r\n            } catch (Exception e) {\r\n                JFrame frame = new JFrame();\r\n                JOptionPane.showMessageDialog(frame,\r\n                                &quot;The MXML log file has been deleted.&quot;,\r\n                                &quot;MXMLPlugin Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                frame.dispose();\r\n\r\n                MXMLCommandCenter.lockEnvironment();\r\n            } finally {\r\n                try {\r\n                    if (br != null) {\r\n                        br.close();\r\n                    }\r\n                } catch (IOException exc) {\r\n                    exc.printStackTrace();\r\n                }\r\n            }\r\n       // [ ... ]\r\n    }\r\n\r\nI have several large complex classes that make use of the Layout/PatternLayout. Do I have to analyze them all and seek for alternative implementations because I wanted to upgrade the logging framework?\r\n\r\n  [1]: https://logging.apache.org/log4j/log4j-2.1/manual/migration.html\r\n  [2]: https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Layout.html\r\n  [3]: https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html","title":"Programmatically use Layout / PatternLayout in Log4j2","body":"<p>I'm migrating a large application from Log4j1 to Log4j2 following the <a href=\"https://logging.apache.org/log4j/log4j-2.1/manual/migration.html\" rel=\"nofollow noreferrer\">Migration Guide (Option 2 by Apache)</a>. The project is a large and modularized and I don't have the knowledge on how every module works. When reading the <a href=\"https://logging.apache.org/log4j/log4j-2.1/manual/migration.html\" rel=\"nofollow noreferrer\">Migration Guide (Option 2 by Apache)</a> it was said, that I have to change a couple package names, change Logger into LogManager, use another way to set the Levels and change how String concatenation works. But nowhere it was mentioned that a whole bunch of modules won't work anymore because they contain classes that extend <a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Layout.html\" rel=\"nofollow noreferrer\">Layout</a> or <a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\" rel=\"nofollow noreferrer\">PatternLayout</a>. I don't want to delete the classes and I don't want to change it's implementation with the help of the properties file. I'm quite positive that the functionality can't be reproduced with the help of the properties file. So what is the equivalent of Layout and PatternLayout in Log4j2? Here is a small example of a class that extends from Layout:</p>\n<pre><code>public class MXMLLayout extends Layout {\n@Override\npublic String format(LoggingEvent event) {\n    MXMLHelper helper = new MXMLHelper();\n    String message = (String) event.getMessage();\n    String[] secondLevel = {};\n    String attributes = &quot;&quot;;\n    String attrNumber = &quot;&quot;;\n    boolean flagProcessInst = false;\n    boolean flagAudit = false;\n    boolean flagProcess = false;\n    int in = -1;\n    String[] firstLevel = null;\n\n    if (message.contains(MXMLCommandCenter.AUDIT_TRAIL_SEP) &amp;&amp; (!message\n                    .contains(MXMLCommandCenter.PROCESS_INST_SEP)\n                    || !message.contains(MXMLCommandCenter.PROCESS_SEP))) {\n        firstLevel = message.split(MXMLCommandCenter.AUDIT_TRAIL_SEP);\n        flagAudit = true;\n    } else if (message.contains(MXMLCommandCenter.PROCESS_INST_SEP)\n                    &amp;&amp; (!message.contains(MXMLCommandCenter.AUDIT_TRAIL_SEP)\n                                    || !message.contains(\n                                                    MXMLCommandCenter.PROCESS_SEP))) {\n        firstLevel = message.split(MXMLCommandCenter.PROCESS_INST_SEP);\n        flagProcessInst = true;\n    } else if (message.contains(MXMLCommandCenter.PROCESS_SEP) &amp;&amp; (!message\n                    .contains(MXMLCommandCenter.AUDIT_TRAIL_SEP)\n                    || !message.contains(\n                                    MXMLCommandCenter.PROCESS_INST_SEP))) {\n        firstLevel = message.split(MXMLCommandCenter.PROCESS_SEP);\n        flagProcess = true;\n    } else {\n        firstLevel = new String[0];\n    }\n\n   // [ ... ]\n\n        BufferedReader br = null;\n        try {\n            br = new BufferedReader(new FileReader(MXMLCommandCenter.FILE));\n        } catch (Exception e) {\n            JFrame frame = new JFrame();\n            JOptionPane.showMessageDialog(frame,\n                            &quot;The MXML log file has been deleted.&quot;,\n                            &quot;MXMLPlugin Error&quot;, JOptionPane.ERROR_MESSAGE);\n            frame.dispose();\n\n            MXMLCommandCenter.lockEnvironment();\n        } finally {\n            try {\n                if (br != null) {\n                    br.close();\n                }\n            } catch (IOException exc) {\n                exc.printStackTrace();\n            }\n        }\n   // [ ... ]\n}\n</code></pre>\n<p>I have several large complex classes that make use of the Layout/PatternLayout. Do I have to analyze them all and seek for alternative implementations because I wanted to upgrade the logging framework?</p>\n"},{"tags":["java","if-statement","user-input"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1647361358,"post_id":71485596,"comment_id":126349561,"body_markdown":"`^[0-9]+$` doesn&#39;t match a number with a dot in it, so yeah, that&#39;s the problem.","body":"<code>^[0-9]+$</code> doesn&#39;t match a number with a dot in it, so yeah, that&#39;s the problem."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1647361639,"post_id":71485596,"comment_id":126349676,"body_markdown":"Does this answer your question? [Regular expression for floating point numbers](https://stackoverflow.com/questions/12643009/regular-expression-for-floating-point-numbers)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12643009/regular-expression-for-floating-point-numbers\">Regular expression for floating point numbers</a>"},{"owner":{"account_id":11211360,"reputation":734,"user_id":8225336,"display_name":"tangoal"},"score":0,"creation_date":1647361823,"post_id":71485596,"comment_id":126349754,"body_markdown":"The regex match is not required, since parseToDouble throws an NumberFormatException as indicated by @jhamon link. In case of invalid string you should not only print a message but also stop further computation.","body":"The regex match is not required, since parseToDouble throws an NumberFormatException as indicated by @jhamon link. In case of invalid string you should not only print a message but also stop further computation."}],"answers":[{"tags":[],"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647361693,"creation_date":1647361693,"answer_id":71485683,"question_id":71485596,"body_markdown":"The regular expression &quot;^[0-9]+$&quot; only evaluates to true for integers, because it checks whether the string consists of 0 - 9. If you want to check for doubles as well, this might help: https://www.baeldung.com/java-check-string-number\r\n\r\nThe first suggestion there is probably the easiest. Surround Double.parseDouble with a try catch, because it will give you an  NumberFormatException if its not a number.","title":"My program doesn&#39;t find the variable inside the if statement even when I&#39;ve defined it outside the if statement(simple calculator)","body":"<p>The regular expression &quot;^[0-9]+$&quot; only evaluates to true for integers, because it checks whether the string consists of 0 - 9. If you want to check for doubles as well, this might help: <a href=\"https://www.baeldung.com/java-check-string-number\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-check-string-number</a></p>\n<p>The first suggestion there is probably the easiest. Surround Double.parseDouble with a try catch, because it will give you an  NumberFormatException if its not a number.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647369510,"creation_date":1647363428,"answer_id":71486130,"question_id":71485596,"body_markdown":"Do not use more than one `Scanner` object. There is no need for more than one, and this could also have some side effects you don&#39;t want to deal with.\r\n\r\nSince you are using regular expression and others have suggested other solutions, I decided to show you how to use regular expression to evaluate a floating-point value. The correct expression for this is\r\n```\r\n[-+]?[0-9]*\\\\.?[0-9]+\r\n```\r\nor better yet...\r\n```\r\n[-+]?\\\\d*\\\\.?\\\\d+\r\n```\r\nThis expression evaluates a value that may contain an optional sign (positive or negative) followed by zero or more digits, then followed by optional decimal point and an unlimited number of decimal digits. However, if the decimal point is used, at least one digit must be present. In a case like `+2.`, only the `+2` is matched.\r\n\r\nThe code below is your version of the solution, slightly modified:\r\n```\r\npublic static void main(String[] args) {\r\n\tfinal String REGEX = &quot;[-+]?[0-9]*\\\\.?[0-9]+&quot;;\r\n\tScanner scanner = new Scanner(System.in);\r\n\r\n\tdouble number1 = 0;\r\n\tdouble number2 = 0;\r\n\tString operator;\r\n\t\r\n\tSystem.out.print(&quot;Enter the operator you would like to choose(+, -, *, /): &quot;);\r\n\toperator = scanner.next();\r\n\r\n\tSystem.out.print(&quot;Enter the first number: &quot;);\r\n\tString num1 = scanner.next();\r\n\r\n\tSystem.out.print(&quot;Enter your second number: &quot;);\r\n\tString num2 = scanner.next();\r\n\tscanner.close();\r\n\r\n\tboolean check1 = num1.trim().matches(REGEX);\r\n\tboolean check2 = num2.trim().matches(REGEX);\r\n\r\n\tif (check1 &amp;&amp; check2) {\r\n\t    number1 = Double.parseDouble(num1);\r\n\t    number2 = Double.parseDouble(num2);\r\n\t}else {\r\n\t    System.out.println(&quot;Only enter numbers not letters.&quot;);\r\n\t}\r\n\r\n\tString calculation;\r\n\tswitch (operator) {\r\n\t\tcase &quot;+&quot;:\r\n\t\t    calculation = (number1 + &quot; + &quot; + number2 + &quot; = &quot; + (number1 + number2));\r\n\t\t    break;\r\n\t\tcase &quot;-&quot;:\r\n\t\t    calculation = (number1 + &quot; - &quot; + number2 + &quot; = &quot; + (number1 - number2));\r\n\t\t    break;\r\n\t\tcase &quot;*&quot;:\r\n\t\t    calculation = (number1 + &quot; * &quot; + number2 + &quot; = &quot; + (number1 * number2));\r\n\t\t    break;\r\n\t\tcase &quot;/&quot;:\r\n\t\t    calculation = (number1 + &quot; / &quot; + number2 + &quot; = &quot; + (number1 / number2));\r\n\t\t    break;\r\n\t\tdefault:\r\n\t\t    calculation = operator + &quot;:&quot; + &quot; Is not a valid operator!&quot;;\r\n\t\t    break;\r\n\t}\r\n    System.out.println(calculation);\r\n}\r\n```\r\nThe main differences are that I used only one `Scanner` object and that I replaced your nested `if/else` with a `switch`.\r\n\r\nBelow is a sample run\r\n```\r\nEnter the operator you would like to choose(+, -, *, /): +\r\nEnter the first number: 5.5\r\nEnter your second number: -7.2\r\n5.5 + -7.2 = -1.7000000000000002\r\n```\r\n\r\nOther recommended improvements are:\r\n\r\n 1. Loop until a valid operator is provided. There is no reason to wait until all inputs are provided to then determine the calculation cannot be done due to invalid operator.\r\n 2. Do something similar to #1 above for each number.\r\n 3. Use `BigDecimal` the calculation.\r\n 4. Format the result to show however many decimal values you want to show.","title":"My program doesn&#39;t find the variable inside the if statement even when I&#39;ve defined it outside the if statement(simple calculator)","body":"<p>Do not use more than one <code>Scanner</code> object. There is no need for more than one, and this could also have some side effects you don't want to deal with.</p>\n<p>Since you are using regular expression and others have suggested other solutions, I decided to show you how to use regular expression to evaluate a floating-point value. The correct expression for this is</p>\n<pre><code>[-+]?[0-9]*\\\\.?[0-9]+\n</code></pre>\n<p>or better yet...</p>\n<pre><code>[-+]?\\\\d*\\\\.?\\\\d+\n</code></pre>\n<p>This expression evaluates a value that may contain an optional sign (positive or negative) followed by zero or more digits, then followed by optional decimal point and an unlimited number of decimal digits. However, if the decimal point is used, at least one digit must be present. In a case like <code>+2.</code>, only the <code>+2</code> is matched.</p>\n<p>The code below is your version of the solution, slightly modified:</p>\n<pre><code>public static void main(String[] args) {\n    final String REGEX = &quot;[-+]?[0-9]*\\\\.?[0-9]+&quot;;\n    Scanner scanner = new Scanner(System.in);\n\n    double number1 = 0;\n    double number2 = 0;\n    String operator;\n    \n    System.out.print(&quot;Enter the operator you would like to choose(+, -, *, /): &quot;);\n    operator = scanner.next();\n\n    System.out.print(&quot;Enter the first number: &quot;);\n    String num1 = scanner.next();\n\n    System.out.print(&quot;Enter your second number: &quot;);\n    String num2 = scanner.next();\n    scanner.close();\n\n    boolean check1 = num1.trim().matches(REGEX);\n    boolean check2 = num2.trim().matches(REGEX);\n\n    if (check1 &amp;&amp; check2) {\n        number1 = Double.parseDouble(num1);\n        number2 = Double.parseDouble(num2);\n    }else {\n        System.out.println(&quot;Only enter numbers not letters.&quot;);\n    }\n\n    String calculation;\n    switch (operator) {\n        case &quot;+&quot;:\n            calculation = (number1 + &quot; + &quot; + number2 + &quot; = &quot; + (number1 + number2));\n            break;\n        case &quot;-&quot;:\n            calculation = (number1 + &quot; - &quot; + number2 + &quot; = &quot; + (number1 - number2));\n            break;\n        case &quot;*&quot;:\n            calculation = (number1 + &quot; * &quot; + number2 + &quot; = &quot; + (number1 * number2));\n            break;\n        case &quot;/&quot;:\n            calculation = (number1 + &quot; / &quot; + number2 + &quot; = &quot; + (number1 / number2));\n            break;\n        default:\n            calculation = operator + &quot;:&quot; + &quot; Is not a valid operator!&quot;;\n            break;\n    }\n    System.out.println(calculation);\n}\n</code></pre>\n<p>The main differences are that I used only one <code>Scanner</code> object and that I replaced your nested <code>if/else</code> with a <code>switch</code>.</p>\n<p>Below is a sample run</p>\n<pre><code>Enter the operator you would like to choose(+, -, *, /): +\nEnter the first number: 5.5\nEnter your second number: -7.2\n5.5 + -7.2 = -1.7000000000000002\n</code></pre>\n<p>Other recommended improvements are:</p>\n<ol>\n<li>Loop until a valid operator is provided. There is no reason to wait until all inputs are provided to then determine the calculation cannot be done due to invalid operator.</li>\n<li>Do something similar to #1 above for each number.</li>\n<li>Use <code>BigDecimal</code> the calculation.</li>\n<li>Format the result to show however many decimal values you want to show.</li>\n</ol>\n"}],"owner":{"account_id":23246561,"reputation":35,"user_id":17335076,"display_name":"Christopher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71485683,"answer_count":2,"score":0,"last_activity_date":1647369510,"creation_date":1647361271,"question_id":71485596,"body_markdown":"I added a if statement that parses a entered number into a double to use when I do my calculations in the second if statement block, the program has to run if only numbers where entered and not letters, the program doesn&#39;t seem to read the numbers when I entered a double(5.5) but works fine when I enter a int(5) number/numbers.  \r\n\r\n    Scanner numbers = new Scanner(System.in);\r\n    Scanner operation = new Scanner(System.in);\r\n\r\n    double number1 = 0;\r\n    double number2 = 0;\r\n    String operator;\r\n\r\n    \r\n    System.out.print(&quot;Enter the operator you would like to choose(+, -, *, /): &quot;);\r\n    operator = operation.next();\r\n\r\n   \r\n    System.out.print(&quot;Enter the first number: &quot;);\r\n    String num1 = numbers.nextLine();\r\n    \r\n\r\n    System.out.print(&quot;Enter your second number: &quot;);\r\n    String num2 = numbers.nextLine();\r\n    \r\n\r\n    boolean check1 = num1.trim().matches(&quot;^[0-9]+$&quot;);\r\n    boolean check2 = num2.trim().matches(&quot;^[0-9]+$&quot;);\r\n\r\n\r\n    if (check1 == true &amp;&amp; check2 == true){\r\n        number1 = Double.parseDouble(num1);\r\n        number2 = Double.parseDouble(num2);\r\n    }else {\r\n        System.out.println(&quot;Only enter numbers not letters.&quot;);\r\n    }\r\n\r\n    \r\n    String calculation;\r\n    if (operator.equals(&quot;+&quot;)){\r\n        calculation = (number1 + &quot; + &quot; + number2 + &quot; = &quot; + (number1 + number2));\r\n        System.out.println(calculation);\r\n\r\n    }else if (operator.equals(&quot;-&quot;)){\r\n        calculation = (number1 + &quot; - &quot; + number2 + &quot; = &quot; + (number1 - number2));\r\n        System.out.println(calculation);\r\n\r\n    }else if (operator.equals(&quot;*&quot;)){\r\n        calculation = (number1 + &quot; * &quot; + number2 + &quot; = &quot; + (number1 * number2));\r\n        System.out.println(calculation);\r\n\r\n    }else if (operator.equals(&quot;/&quot;)){\r\n        calculation = (number1 + &quot; / &quot; + number2 + &quot; = &quot; + (number1 / number2));\r\n        System.out.println(calculation);\r\n\r\n    }else{\r\n        calculation = operator + &quot;:&quot; + &quot; Is not a valid operator!&quot;;\r\n        System.out.println(calculation);\r\n\r\n    }\r\n\r\nI think its maybe the ( . ) thats the problem, \r\nmy output to console \r\n\r\n    Enter the operator you would like to choose(+, -, *, /): +\r\n    Enter the first number: 5.5\r\n    Enter your second number: 5.5\r\n    Only enter numbers not letters.\r\n    0.0 + 0.0 = 0.0 \r\n\r\nAnd now the int numbers that works fine. \r\n\r\n    Enter the operator you would like to choose(+, -, *, /): +\r\n    Enter the first number: 5\r\n    Enter your second number: 5\r\n    5.0 + 5.0 = 10.0\r\n","title":"My program doesn&#39;t find the variable inside the if statement even when I&#39;ve defined it outside the if statement(simple calculator)","body":"<p>I added a if statement that parses a entered number into a double to use when I do my calculations in the second if statement block, the program has to run if only numbers where entered and not letters, the program doesn't seem to read the numbers when I entered a double(5.5) but works fine when I enter a int(5) number/numbers.</p>\n<pre><code>Scanner numbers = new Scanner(System.in);\nScanner operation = new Scanner(System.in);\n\ndouble number1 = 0;\ndouble number2 = 0;\nString operator;\n\n\nSystem.out.print(&quot;Enter the operator you would like to choose(+, -, *, /): &quot;);\noperator = operation.next();\n\n\nSystem.out.print(&quot;Enter the first number: &quot;);\nString num1 = numbers.nextLine();\n\n\nSystem.out.print(&quot;Enter your second number: &quot;);\nString num2 = numbers.nextLine();\n\n\nboolean check1 = num1.trim().matches(&quot;^[0-9]+$&quot;);\nboolean check2 = num2.trim().matches(&quot;^[0-9]+$&quot;);\n\n\nif (check1 == true &amp;&amp; check2 == true){\n    number1 = Double.parseDouble(num1);\n    number2 = Double.parseDouble(num2);\n}else {\n    System.out.println(&quot;Only enter numbers not letters.&quot;);\n}\n\n\nString calculation;\nif (operator.equals(&quot;+&quot;)){\n    calculation = (number1 + &quot; + &quot; + number2 + &quot; = &quot; + (number1 + number2));\n    System.out.println(calculation);\n\n}else if (operator.equals(&quot;-&quot;)){\n    calculation = (number1 + &quot; - &quot; + number2 + &quot; = &quot; + (number1 - number2));\n    System.out.println(calculation);\n\n}else if (operator.equals(&quot;*&quot;)){\n    calculation = (number1 + &quot; * &quot; + number2 + &quot; = &quot; + (number1 * number2));\n    System.out.println(calculation);\n\n}else if (operator.equals(&quot;/&quot;)){\n    calculation = (number1 + &quot; / &quot; + number2 + &quot; = &quot; + (number1 / number2));\n    System.out.println(calculation);\n\n}else{\n    calculation = operator + &quot;:&quot; + &quot; Is not a valid operator!&quot;;\n    System.out.println(calculation);\n\n}\n</code></pre>\n<p>I think its maybe the ( . ) thats the problem,\nmy output to console</p>\n<pre><code>Enter the operator you would like to choose(+, -, *, /): +\nEnter the first number: 5.5\nEnter your second number: 5.5\nOnly enter numbers not letters.\n0.0 + 0.0 = 0.0 \n</code></pre>\n<p>And now the int numbers that works fine.</p>\n<pre><code>Enter the operator you would like to choose(+, -, *, /): +\nEnter the first number: 5\nEnter your second number: 5\n5.0 + 5.0 = 10.0\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1647359649,"post_id":71485098,"comment_id":126348905,"body_markdown":"pc == program counter","body":"pc == program counter"},{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1647359727,"post_id":71485098,"comment_id":126348935,"body_markdown":"ok and what is the value? Can it be &quot;translated&quot; to memory address?","body":"ok and what is the value? Can it be &quot;translated&quot; to memory address?"},{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":0,"creation_date":1647359937,"post_id":71485098,"comment_id":126349019,"body_markdown":"I would say that pc = program counter, pid = process ID and tid = thread ID. Program counter is the memory place where binary code is located. I don&#39;t post it as an answer yet because I didn&#39;t found any official confirmation, and I don&#39;t know if that memory location would contains Java bytecode or native assemblee. Does anyone has official details ?","body":"I would say that pc = program counter, pid = process ID and tid = thread ID. Program counter is the memory place where binary code is located. I don&#39;t post it as an answer yet because I didn&#39;t found any official confirmation, and I don&#39;t know if that memory location would contains Java bytecode or native assemblee. Does anyone has official details ?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647360435,"post_id":71485098,"comment_id":126349179,"body_markdown":"This is not a Java problem. You are probably using LWJGL. _some errors in user programs can cause the JVM to crash without a meaningful error message, since LWJGL 3 is tuned for extreme speed at the expense of robustness._ Try to start your program with [LWJGLX/debug](https://github.com/LWJGLX/debug)","body":"This is not a Java problem. You are probably using LWJGL. <i>some errors in user programs can cause the JVM to crash without a meaningful error message, since LWJGL 3 is tuned for extreme speed at the expense of robustness.</i> Try to start your program with <a href=\"https://github.com/LWJGLX/debug\" rel=\"nofollow noreferrer\">LWJGLX/debug</a>"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647369323,"creation_date":1647369323,"answer_id":71487354,"question_id":71485098,"body_markdown":"pc means &quot;program counter&quot;, what follows (for example 0x00007ffe618b69d3) is the memory address of the instruction that caused the access violation.\r\n\r\nThe code is not loaded at fixed addresses and therefore with the current information it&#39;s impossible to say what caused the access violation and which code is responsible.\r\n\r\n----\r\n\r\nHints for further investigation (and the reason why I don&#39;t write just a comment):\r\n\r\n- the information that you show is normally written into a &quot;hs_err_pidxxxx&quot; file where xxxx matches the value from &quot;pid=xxxx&quot;\r\n- a few lines after the lines that you have included are normally lines like\r\n\r\n&gt;     # Problematic frame:\r\n&gt;     # C  [msvcr100.dll+0x121f4]\r\n\r\nThese lines give some more information: in the case that I had for reference, the access violation occurred within the &quot;msvcr100.dll&quot; at code offset 0x121f4. And the letter `C` indicates that in this case the exception occurred in native code.\r\n\r\n- a few more lines down there is usually a block starting with &quot;----  T H R E A D  ----&quot;. This block usually contains much more information (values of the processor registers, excerpt from the stack, excerpt from the running code, a stacktrace that better identifies what was executing when the exception happened).\r\n\r\nWithout more details from these sources it is hard to tell what caused the access violation exception (except maybe the most probably it was something in native code - in Java code the JVM catches most of these exceptions and converts them into Java Exceptions).","title":"What is `pc=` parameter in EXCEPTION_ACCESS_VIOLATION error?","body":"<p>pc means &quot;program counter&quot;, what follows (for example 0x00007ffe618b69d3) is the memory address of the instruction that caused the access violation.</p>\n<p>The code is not loaded at fixed addresses and therefore with the current information it's impossible to say what caused the access violation and which code is responsible.</p>\n<hr />\n<p>Hints for further investigation (and the reason why I don't write just a comment):</p>\n<ul>\n<li>the information that you show is normally written into a &quot;hs_err_pidxxxx&quot; file where xxxx matches the value from &quot;pid=xxxx&quot;</li>\n<li>a few lines after the lines that you have included are normally lines like</li>\n</ul>\n<blockquote>\n<pre><code># Problematic frame:\n# C  [msvcr100.dll+0x121f4]\n</code></pre>\n</blockquote>\n<p>These lines give some more information: in the case that I had for reference, the access violation occurred within the &quot;msvcr100.dll&quot; at code offset 0x121f4. And the letter <code>C</code> indicates that in this case the exception occurred in native code.</p>\n<ul>\n<li>a few more lines down there is usually a block starting with &quot;----  T H R E A D  ----&quot;. This block usually contains much more information (values of the processor registers, excerpt from the stack, excerpt from the running code, a stacktrace that better identifies what was executing when the exception happened).</li>\n</ul>\n<p>Without more details from these sources it is hard to tell what caused the access violation exception (except maybe the most probably it was something in native code - in Java code the JVM catches most of these exceptions and converts them into Java Exceptions).</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647369323,"creation_date":1647359290,"question_id":71485098,"body_markdown":"Java running failed with the following errors (several times):\r\n\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe618b69d3, pid=16724, tid=35304\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa8b763ea6, pid=11972, tid=28788\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa8b6e1dc1, pid=18692, tid=27188\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x0000023de8f29210, pid=20428, tid=8244\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa8b6e72fc, pid=27652, tid=26904\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe61413beb, pid=33888, tid=20428\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa99a8143d, pid=3512, tid=28808\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa8b699648, pid=3688, tid=25668\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffdf5c433ce, pid=3696, tid=29448\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffdf5a3ba99, pid=376, tid=31532\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x000001f9a29f85e0, pid=8596, tid=29104\r\n\r\nWhat is `pc` is it memory address? Is there a way to determine memory address?","title":"What is `pc=` parameter in EXCEPTION_ACCESS_VIOLATION error?","body":"<p>Java running failed with the following errors (several times):</p>\n<pre><code>#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe618b69d3, pid=16724, tid=35304\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa8b763ea6, pid=11972, tid=28788\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa8b6e1dc1, pid=18692, tid=27188\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x0000023de8f29210, pid=20428, tid=8244\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa8b6e72fc, pid=27652, tid=26904\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe61413beb, pid=33888, tid=20428\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa99a8143d, pid=3512, tid=28808\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa8b699648, pid=3688, tid=25668\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffdf5c433ce, pid=3696, tid=29448\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffdf5a3ba99, pid=376, tid=31532\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x000001f9a29f85e0, pid=8596, tid=29104\n</code></pre>\n<p>What is <code>pc</code> is it memory address? Is there a way to determine memory address?</p>\n"},{"tags":["java","spring","spring-boot","properties"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647365341,"creation_date":1647365341,"answer_id":71486544,"question_id":71486188,"body_markdown":"It sounds like you should use the new `Binder` API:\r\n\r\n```java\r\nConfigurableEnvironment environment = new StandardEnvironment();\r\nMap&lt;String, Object&gt; source = new HashMap&lt;&gt;();\r\nsource.put(&quot;your.prefix.a.b.c.e.f&quot;, &quot;one&quot;);\r\nsource.put(&quot;your.prefix.a.b.c.e.g&quot;, &quot;two&quot;);\r\nsource.put(&quot;your.prefix.a.b.c.e.h.i.j.k&quot;, &quot;three&quot;);\r\nenvironment.getPropertySources().addFirst(new MapPropertySource(&quot;example&quot;, source));\r\n\r\nBindable&lt;Map&lt;String, Map&gt;&gt; bindable = Bindable.mapOf(String.class, Map.class);\r\nMap&lt;String, Map&gt; bound = Binder.get(environment).bind(&quot;your.prefix&quot;, bindable).get();\r\nSystem.out.println(bound);\r\n```\r\n\r\nThe above will output the following:\r\n\r\n```\r\n{a={b={c={e={f=one, g=two, h={i={j={k=three}}}}}}}}\r\n```","title":"Is there a replacement of PropertySourcesBinder in Spring Boot 2.X.X?","body":"<p>It sounds like you should use the new <code>Binder</code> API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConfigurableEnvironment environment = new StandardEnvironment();\nMap&lt;String, Object&gt; source = new HashMap&lt;&gt;();\nsource.put(&quot;your.prefix.a.b.c.e.f&quot;, &quot;one&quot;);\nsource.put(&quot;your.prefix.a.b.c.e.g&quot;, &quot;two&quot;);\nsource.put(&quot;your.prefix.a.b.c.e.h.i.j.k&quot;, &quot;three&quot;);\nenvironment.getPropertySources().addFirst(new MapPropertySource(&quot;example&quot;, source));\n\nBindable&lt;Map&lt;String, Map&gt;&gt; bindable = Bindable.mapOf(String.class, Map.class);\nMap&lt;String, Map&gt; bound = Binder.get(environment).bind(&quot;your.prefix&quot;, bindable).get();\nSystem.out.println(bound);\n</code></pre>\n<p>The above will output the following:</p>\n<pre><code>{a={b={c={e={f=one, g=two, h={i={j={k=three}}}}}}}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647369302,"creation_date":1647369302,"answer_id":71487348,"question_id":71486188,"body_markdown":"Are you looking for this?\r\n\r\n    @ConfigurationProperties(prefix = “myprops”)\r\n\r\nHere is an example:\r\n\r\n[Baeldung example for ConfigurationProperties][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/configuration-properties-in-spring-boot","title":"Is there a replacement of PropertySourcesBinder in Spring Boot 2.X.X?","body":"<p>Are you looking for this?</p>\n<pre><code>@ConfigurationProperties(prefix = “myprops”)\n</code></pre>\n<p>Here is an example:</p>\n<p><a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">Baeldung example for ConfigurationProperties</a></p>\n"}],"owner":{"account_id":12939619,"reputation":166,"user_id":9355842,"display_name":"Georgi Velev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71486544,"answer_count":2,"score":1,"last_activity_date":1647369302,"creation_date":1647363665,"question_id":71486188,"body_markdown":"In Spring Boot 1.X.X there was a class named PropertySourcesBinder.class . Please check the API link. \r\n[PropertySourcesBinder.class][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.7.RELEASE/api/org/springframework/boot/bind/PropertySourcesBinder.html\r\n\r\nThe purpose of the class is simple - receiving a `org.springframework.core.env.ConfigurableEnvironment environment` in the constructor, it was easy to use the `extractAll (String somePrefixHere)` properties starting with the given prefix. However seems like in Spring Boot 2.X.X this class is missing. \r\n\r\nThis very method however was very useful since creating Map&lt;String subKey, Map&lt;String, Map&gt;&gt; with the properties recursively that match the prefix, same way omitting the prefix itself, which is very useful when having Spring &quot;deep&quot; properties like A.B.C.D.E.F.G.H.I..... and you do not know how deep exactly it will go. \r\n\r\nI am afraid my question is not very clear, however believe people have been using this class will understand what exactly my problem is ?","title":"Is there a replacement of PropertySourcesBinder in Spring Boot 2.X.X?","body":"<p>In Spring Boot 1.X.X there was a class named PropertySourcesBinder.class . Please check the API link.\n<a href=\"https://docs.spring.io/spring-boot/docs/1.5.7.RELEASE/api/org/springframework/boot/bind/PropertySourcesBinder.html\" rel=\"nofollow noreferrer\">PropertySourcesBinder.class</a></p>\n<p>The purpose of the class is simple - receiving a <code>org.springframework.core.env.ConfigurableEnvironment environment</code> in the constructor, it was easy to use the <code>extractAll (String somePrefixHere)</code> properties starting with the given prefix. However seems like in Spring Boot 2.X.X this class is missing.</p>\n<p>This very method however was very useful since creating Map&lt;String subKey, Map&lt;String, Map&gt;&gt; with the properties recursively that match the prefix, same way omitting the prefix itself, which is very useful when having Spring &quot;deep&quot; properties like A.B.C.D.E.F.G.H.I..... and you do not know how deep exactly it will go.</p>\n<p>I am afraid my question is not very clear, however believe people have been using this class will understand what exactly my problem is ?</p>\n"},{"tags":["java","authentication","shiro"],"answers":[{"tags":[],"owner":{"account_id":383130,"reputation":2081,"user_id":6415199,"display_name":"Brian Demers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647369018,"creation_date":1647369018,"answer_id":71487291,"question_id":71434451,"body_markdown":"You basically have two options:\r\n\r\n1. Have applications A and C share a session (e.g. using the same web server),\r\n2. Use external authentication like OAuth or SAML (as you mentioned).\r\n\r\nhttps://shiro.apache.org/web.html#session_management","title":"Two java web application. How to allow users to use it across with their respective login","body":"<p>You basically have two options:</p>\n<ol>\n<li>Have applications A and C share a session (e.g. using the same web server),</li>\n<li>Use external authentication like OAuth or SAML (as you mentioned).</li>\n</ol>\n<p><a href=\"https://shiro.apache.org/web.html#session_management\" rel=\"nofollow noreferrer\">https://shiro.apache.org/web.html#session_management</a></p>\n"}],"owner":{"account_id":9225828,"reputation":237,"user_id":6853662,"accept_rate":50,"display_name":"Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647369018,"creation_date":1646980199,"question_id":71434451,"body_markdown":"I currently have a web application say App C. which is using a LDAP login.\r\n\r\nAdditionally i have 2 more web application say App A and B using custom login against a DB.\r\n\r\nAll web apps A, B and C have common database. And we have access to change/rework all 3 apps.\r\n\r\nProblem statement. Users of App A and B should be able to use App C and they should not be asked for login as they have already logged into A and B. So App C should allow users of App A and B.\r\n\r\nSolutions tried. \r\n1. From web app A. We wrote an service at backend which works on authentication of web app A. And this service internally calls App C and creates a session of App C. This is not a right approach and nothing elses works.\r\n2. Create a common login mechanism to use an external tools for authenication or something like google login but we are nothing taking that route.\r\n\r\nPlease suggest any other possible solution.\r\n\r\n","title":"Two java web application. How to allow users to use it across with their respective login","body":"<p>I currently have a web application say App C. which is using a LDAP login.</p>\n<p>Additionally i have 2 more web application say App A and B using custom login against a DB.</p>\n<p>All web apps A, B and C have common database. And we have access to change/rework all 3 apps.</p>\n<p>Problem statement. Users of App A and B should be able to use App C and they should not be asked for login as they have already logged into A and B. So App C should allow users of App A and B.</p>\n<p>Solutions tried.</p>\n<ol>\n<li>From web app A. We wrote an service at backend which works on authentication of web app A. And this service internally calls App C and creates a session of App C. This is not a right approach and nothing elses works.</li>\n<li>Create a common login mechanism to use an external tools for authenication or something like google login but we are nothing taking that route.</li>\n</ol>\n<p>Please suggest any other possible solution.</p>\n"},{"tags":["java","logging","java-8","esapi"],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647368897,"creation_date":1647368897,"answer_id":71487273,"question_id":71476031,"body_markdown":"I see multiple problems with this. Among them are:\r\n\r\n 1. The 3 implementations of ESAPIs loggers (so, JUL, Log4J 1, and SLF4J) all share the same org.owasp.esapi.Logger interface, but as far as I know, only SLF4J supports markers.\r\n 2. ESAPI would have to then examine the name/value pairs of all the markers and try ensure that log injection or that XSS from any of the name/value pairs, including any potential object cannot inject something harmful into the log stream. (That&#39;s what &#39;safe logging&#39; should be.)\r\n 3. Even if we did allow this, the first argument would still have to be an Logger.EventType. It is not clear what event type should be used or whether an special one (e.g., EVENT_MARKER) would need to be created.\r\n\r\nSo, I will say unequivocally, we will not consider this for any ESAPI 2.x release, but we might consider it for ESAPI 3 which we are currently planning. If you would like to see it there, add a GitHub issue to https://github.com/ESAPI/esapi-java/issues and note it as a feature request.(It may be plausible in ESAPI 3 because we likely will only support SLF4J there.)","title":"Can we add markers to ESAPI Slf4JLogFactory logger","body":"<p>I see multiple problems with this. Among them are:</p>\n<ol>\n<li>The 3 implementations of ESAPIs loggers (so, JUL, Log4J 1, and SLF4J) all share the same org.owasp.esapi.Logger interface, but as far as I know, only SLF4J supports markers.</li>\n<li>ESAPI would have to then examine the name/value pairs of all the markers and try ensure that log injection or that XSS from any of the name/value pairs, including any potential object cannot inject something harmful into the log stream. (That's what 'safe logging' should be.)</li>\n<li>Even if we did allow this, the first argument would still have to be an Logger.EventType. It is not clear what event type should be used or whether an special one (e.g., EVENT_MARKER) would need to be created.</li>\n</ol>\n<p>So, I will say unequivocally, we will not consider this for any ESAPI 2.x release, but we might consider it for ESAPI 3 which we are currently planning. If you would like to see it there, add a GitHub issue to <a href=\"https://github.com/ESAPI/esapi-java/issues\" rel=\"nofollow noreferrer\">https://github.com/ESAPI/esapi-java/issues</a> and note it as a feature request.(It may be plausible in ESAPI 3 because we likely will only support SLF4J there.)</p>\n"}],"owner":{"account_id":15585316,"reputation":68,"user_id":11244023,"display_name":"Xolo12er"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71487273,"answer_count":1,"score":1,"last_activity_date":1647368897,"creation_date":1647308041,"question_id":71476031,"body_markdown":"So for Normal sl4j logging they do provide options to add markers. \r\n\r\n    Map&lt;String, Object&gt; markers = new HashMap&lt;&gt;();\r\n    markers.put(&quot;name&quot;, &quot;value&quot;);\r\n    log.info(markers,&quot;Some value&quot;);\r\nBut due to security reasons the code base has used org.owasp.esapi.logging.slf4j.Slf4JLogFactory\r\nwhich is like\r\n\r\n    private static final Logger LOG = ESAPI.getLogger(Some.class);\r\n    LOG.info(Some event type, some string....)\r\n\r\nI want to add a marker here so that without compromising the security provided by esapi. Any help would be great. There is not over internet about this.","title":"Can we add markers to ESAPI Slf4JLogFactory logger","body":"<p>So for Normal sl4j logging they do provide options to add markers.</p>\n<pre><code>Map&lt;String, Object&gt; markers = new HashMap&lt;&gt;();\nmarkers.put(&quot;name&quot;, &quot;value&quot;);\nlog.info(markers,&quot;Some value&quot;);\n</code></pre>\n<p>But due to security reasons the code base has used org.owasp.esapi.logging.slf4j.Slf4JLogFactory\nwhich is like</p>\n<pre><code>private static final Logger LOG = ESAPI.getLogger(Some.class);\nLOG.info(Some event type, some string....)\n</code></pre>\n<p>I want to add a marker here so that without compromising the security provided by esapi. Any help would be great. There is not over internet about this.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1478522658,"post_id":40465360,"comment_id":68175167,"body_markdown":"you should be able to get the db configuration from properties file as you have written. do you see any error in console?","body":"you should be able to get the db configuration from properties file as you have written. do you see any error in console?"},{"owner":{"account_id":9543909,"reputation":487,"user_id":7090808,"accept_rate":55,"display_name":"deve"},"score":0,"creation_date":1478522975,"post_id":40465360,"comment_id":68175370,"body_markdown":"I get the configuration from the `application.properties`. And I can connect to the database and save Entities. But the properties from the database are not loaded.","body":"I get the configuration from the <code>application.properties</code>. And I can connect to the database and save Entities. But the properties from the database are not loaded."},{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1478523062,"post_id":40465360,"comment_id":68175436,"body_markdown":"then what does ConfigurationRepository do?","body":"then what does ConfigurationRepository do?"},{"owner":{"account_id":9543909,"reputation":487,"user_id":7090808,"accept_rate":55,"display_name":"deve"},"score":0,"creation_date":1478523348,"post_id":40465360,"comment_id":68175652,"body_markdown":"It retrieves the configuration. But Spring Boot does not &quot;load&quot; it on startup. For example the property `spring.jpa.show-sql=true` is saved in the database (along with other properties). If I set this property in the `application.properties` file it works fine, but if I put it in the database it has no effect on Spring Boot.","body":"It retrieves the configuration. But Spring Boot does not &quot;load&quot; it on startup. For example the property <code>spring.jpa.show-sql=true</code> is saved in the database (along with other properties). If I set this property in the <code>application.properties</code> file it works fine, but if I put it in the database it has no effect on Spring Boot."},{"owner":{"account_id":9543909,"reputation":487,"user_id":7090808,"accept_rate":55,"display_name":"deve"},"score":1,"creation_date":1478523415,"post_id":40465360,"comment_id":68175695,"body_markdown":"How can I tell Spring Boot to load the values from the database like the `application.properties` file?","body":"How can I tell Spring Boot to load the values from the database like the <code>application.properties</code> file?"},{"owner":{"account_id":5629908,"reputation":1224,"user_id":4457144,"accept_rate":60,"display_name":"vincent"},"score":0,"creation_date":1478524040,"post_id":40465360,"comment_id":68176121,"body_markdown":"may be this can help you http://stackoverflow.com/questions/33132780/how-to-load-application-properties-from-a-database-via-spring-framework-v4-0-3","body":"may be this can help you <a href=\"http://stackoverflow.com/questions/33132780/how-to-load-application-properties-from-a-database-via-spring-framework-v4-0-3\" title=\"how to load application properties from a database via spring framework v4 0 3\">stackoverflow.com/questions/33132780/&hellip;</a>"},{"owner":{"account_id":1305310,"reputation":486,"user_id":1254412,"accept_rate":82,"display_name":"Khobar"},"score":0,"creation_date":1489949397,"post_id":40465360,"comment_id":72882836,"body_markdown":"@deve , were you able to resolve tour issue? I&#39;m trying to do similar thing - load properties dynamically  from database, and potentially fallback to properties file","body":"@deve , were you able to resolve tour issue? I&#39;m trying to do similar thing - load properties dynamically  from database, and potentially fallback to properties file"},{"owner":{"account_id":3617484,"reputation":13834,"user_id":3017003,"accept_rate":81,"display_name":"Jakub Kubrynski"},"score":0,"creation_date":1490169852,"post_id":40465360,"comment_id":72987465,"body_markdown":"@deve take a look at how bootstrap config in spring cloud works - it should be useful","body":"@deve take a look at how bootstrap config in spring cloud works - it should be useful"},{"owner":{"account_id":9543909,"reputation":487,"user_id":7090808,"accept_rate":55,"display_name":"deve"},"score":0,"creation_date":1490169862,"post_id":40465360,"comment_id":72987476,"body_markdown":"@Khobar, I have not really solved my problem, but I have a workaround, which is better than nothing (added an answer).","body":"@Khobar, I have not really solved my problem, but I have a workaround, which is better than nothing (added an answer)."},{"owner":{"account_id":4177994,"reputation":1075,"user_id":3449882,"accept_rate":14,"display_name":"user123475"},"score":0,"creation_date":1538744519,"post_id":40465360,"comment_id":92262106,"body_markdown":"@deve Are you still using below work around or you came up with good solution? I have a similar requirement where I have to load all the properties from DB which are currently in Properties file","body":"@deve Are you still using below work around or you came up with good solution? I have a similar requirement where I have to load all the properties from DB which are currently in Properties file"},{"owner":{"account_id":9543909,"reputation":487,"user_id":7090808,"accept_rate":55,"display_name":"deve"},"score":0,"creation_date":1539325375,"post_id":40465360,"comment_id":92468726,"body_markdown":"Yes, I&#39;m still using the workaround. Unfortunately, I didn&#39;t have any more resources to try other solutions. Maybe the solution of @kuhajeyan works for you. Alternatively Spring Cloud could also work. But that was &quot;too big&quot; for my requirements.","body":"Yes, I&#39;m still using the workaround. Unfortunately, I didn&#39;t have any more resources to try other solutions. Maybe the solution of @kuhajeyan works for you. Alternatively Spring Cloud could also work. But that was &quot;too big&quot; for my requirements."}],"answers":[{"tags":[],"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478525068,"creation_date":1478525068,"answer_id":40466310,"question_id":40465360,"body_markdown":"One possible solution that you could workout, is to use [ConfigurableEnvironment][1] and reload and add properties.\r\n\r\n\r\n    @Configuration   \r\n    public class ConfigurationPropertySource {\r\n    \r\n    private ConfigurableEnvironment env;\r\n    \r\n    private final ConfigurationRepository configurationRepository;\r\n    \r\n        @Autowired\r\n        public ConfigurationPropertySource(ConfigurationRepository configurationRepository) {\r\n            this.configurationRepository = configurationRepository;\r\n        }\r\n    \r\n        @Autowired\r\n        public void setConfigurableEnvironment(ConfigurableEnvironment env) {\r\n         \r\n            this.env = env;\r\n       }\r\n\r\n       @PostConstruct\r\n       public void init() {\r\n        MutablePropertySources propertySources = env.getPropertySources();\r\n           Map myMap = new HashMap();\r\n           //from configurationRepository get values and fill mapp\r\n           propertySources.addFirst(new MapPropertySource(&quot;MY_MAP&quot;, myMap));\r\n       }\r\n    \r\n    }\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html","title":"Spring Boot: Use database and application.properties for configuration","body":"<p>One possible solution that you could workout, is to use <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html\" rel=\"nofollow noreferrer\">ConfigurableEnvironment</a> and reload and add properties.</p>\n\n<pre><code>@Configuration   \npublic class ConfigurationPropertySource {\n\nprivate ConfigurableEnvironment env;\n\nprivate final ConfigurationRepository configurationRepository;\n\n    @Autowired\n    public ConfigurationPropertySource(ConfigurationRepository configurationRepository) {\n        this.configurationRepository = configurationRepository;\n    }\n\n    @Autowired\n    public void setConfigurableEnvironment(ConfigurableEnvironment env) {\n\n        this.env = env;\n   }\n\n   @PostConstruct\n   public void init() {\n    MutablePropertySources propertySources = env.getPropertySources();\n       Map myMap = new HashMap();\n       //from configurationRepository get values and fill mapp\n       propertySources.addFirst(new MapPropertySource(\"MY_MAP\", myMap));\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9543909,"reputation":487,"user_id":7090808,"accept_rate":55,"display_name":"deve"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490169702,"creation_date":1490169702,"answer_id":42945839,"question_id":40465360,"body_markdown":"I unfortunately don&#39;t have a solution for this problem yet, but I use the following workaround for now (requires an additional application restart on configuration change).\r\n\r\n\t@Component\r\n\tpublic class ApplicationConfiguration {\r\n\r\n\t\t@Autowired\r\n\t\tprivate ConfigurationRepository configurationRepository;\r\n\r\n\t\t@Autowired\r\n\t\tprivate ResourceLoader resourceLoader;\r\n\r\n\t\t@PostConstruct\r\n\t\tprotected void initialize() {\r\n\t\t\tupdateConfiguration();\r\n\t\t}\r\n\r\n\t\tprivate void updateConfiguration() {\r\n\t\t\tProperties properties = new Properties();\r\n\t\t\t\r\n\t\t\tList&lt;Configuration&gt; configurations = configurationRepository.findAll();\r\n\t\t\tconfigurations.forEach((configuration) -&gt; {\r\n\t\t\t\tproperties.setProperty(configuration.getKey(), configuration.getValue());\r\n\t\t\t});\r\n\r\n\t\t\tResource propertiesResource = resourceLoader.getResource(&quot;classpath:configuration.properties&quot;);\r\n\t\t\ttry (OutputStream out = new BufferedOutputStream(new FileOutputStream(propertiesResource.getFile()))) {\r\n\t\t\t\tproperties.store(out, null);\r\n\t\t\t} catch (IOException | ClassCastException | NullPointerException ex) {\r\n\t\t\t\t// Handle error\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\nI load the configuration from the database and write it to an another property file. This file can be used with `@PropertySource(&quot;classpath:configuration.properties&quot;)`.","title":"Spring Boot: Use database and application.properties for configuration","body":"<p>I unfortunately don't have a solution for this problem yet, but I use the following workaround for now (requires an additional application restart on configuration change).</p>\n\n<pre><code>@Component\npublic class ApplicationConfiguration {\n\n    @Autowired\n    private ConfigurationRepository configurationRepository;\n\n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    @PostConstruct\n    protected void initialize() {\n        updateConfiguration();\n    }\n\n    private void updateConfiguration() {\n        Properties properties = new Properties();\n\n        List&lt;Configuration&gt; configurations = configurationRepository.findAll();\n        configurations.forEach((configuration) -&gt; {\n            properties.setProperty(configuration.getKey(), configuration.getValue());\n        });\n\n        Resource propertiesResource = resourceLoader.getResource(\"classpath:configuration.properties\");\n        try (OutputStream out = new BufferedOutputStream(new FileOutputStream(propertiesResource.getFile()))) {\n            properties.store(out, null);\n        } catch (IOException | ClassCastException | NullPointerException ex) {\n            // Handle error\n        }\n    }\n\n}\n</code></pre>\n\n<p>I load the configuration from the database and write it to an another property file. This file can be used with <code>@PropertySource(\"classpath:configuration.properties\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":2591804,"reputation":332,"user_id":2246358,"display_name":"samarone"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539006086,"creation_date":1539006086,"answer_id":52703639,"question_id":40465360,"body_markdown":"Another option is to use ApplicationContextInitializer, with the advantage of being able to use @Value directly and also being able to contract the precedence of the properties.\r\n\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.ApplicationContextInitializer;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.core.env.ConfigurableEnvironment;\r\n    import org.springframework.core.env.MapPropertySource;\r\n    import org.springframework.core.env.MutablePropertySources;\r\n    import org.springframework.core.env.PropertySource;\r\n    \r\n    public class ReadDBPropertiesInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n    \r\n    \tprivate static final Logger LOG = LoggerFactory.getLogger(ReadDBPropertiesInitializer.class);\r\n    \r\n    \t/**\r\n    \t * Name of the custom property source added by this post processor class\r\n    \t */\r\n    \tprivate static final String PROPERTY_SOURCE_NAME = &quot;databaseProperties&quot;;\r\n    \r\n    \t@Override\r\n    \tpublic void initialize(ConfigurableApplicationContext applicationContext) {\r\n    \r\n    \t\tConfigurableEnvironment configEnv = ((ConfigurableEnvironment) applicationContext.getEnvironment());\r\n    \r\n    \t\tLOG.info(&quot;Load properties from database&quot;);\r\n    \r\n    \t\tMap&lt;String, Object&gt; propertySource = new HashMap&lt;&gt;();\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tfinal String url = getEnv(configEnv, &quot;spring.datasource.url&quot;);\r\n    \r\n    \t\t\tString driverClassName = getProperty(configEnv, &quot;spring.datasource.driver-class-name&quot;);\r\n    \r\n    \t\t\tfinal String username = getEnv(configEnv, &quot;spring.datasource.username&quot;);\r\n    \t\t\tfinal String password = getEnv(configEnv, &quot;spring.datasource.password&quot;);\r\n    \r\n    \t\t\tDataSource ds = DataSourceBuilder.create().url(url).username(username).password(password)\r\n    \t\t\t\t\t.driverClassName(driverClassName).build();\r\n    \r\n    \t\t\t// Fetch all properties\r\n    \t\t\tPreparedStatement preparedStatement = ds.getConnection()\r\n    \t\t\t\t\t.prepareStatement(&quot;SELECT config_key as name, config_value as value, config_label as label FROM TB_CONFIGURATION&quot;);\r\n    \r\n    \t\t\tResultSet rs = preparedStatement.executeQuery();\r\n    \r\n    \t\t\t// Populate all properties into the property source\r\n    \t\t\twhile (rs.next()) {\t\t\t\t\r\n    \t\t\t\tfinal String propName = rs.getString(&quot;name&quot;);\r\n    \t\t\t\tfinal String propValue = rs.getString(&quot;value&quot;);\r\n    \t\t\t\tfinal String propLabel = rs.getString(&quot;label&quot;);\r\n    \t\t\t\tLOG.info(String.format(&quot;Property: %s | Label: %s&quot;, propName, propLabel));\r\n    \t\t\t\tLOG.info(String.format(&quot;Value: %s&quot;, propValue));\r\n    \t\t\t\tpropertySource.put(propName, propValue);\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Create a custom property source with the highest precedence and add it to\r\n    \t\t\t// Spring Environment\r\n    \t\t\tapplicationContext.getEnvironment().getPropertySources()\r\n    \t\t\t\t\t.addFirst(new MapPropertySource(PROPERTY_SOURCE_NAME, propertySource));\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(&quot;Error fetching properties from db&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate String getEnv(ConfigurableEnvironment configEnv, final String property) {\r\n    \t\tMutablePropertySources propertySources = configEnv.getPropertySources();\r\n    \t\tPropertySource&lt;?&gt; appConfigProp = propertySources.get(&quot;applicationConfigurationProperties&quot;);\r\n    \t\treturn System.getenv().get(((String) appConfigProp.getProperty(property)).replace(&quot;${&quot;, &quot;&quot;).replace(&quot;}&quot;, &quot;&quot;));\r\n    \t}\r\n    \t\r\n    \tprivate String getProperty(ConfigurableEnvironment configEnv, final String property) {\r\n    \t\tMutablePropertySources propertySources = configEnv.getPropertySources();\r\n    \t\tPropertySource&lt;?&gt; appConfigProp = propertySources.get(&quot;applicationConfigurationProperties&quot;);\r\n    \t\treturn (String) appConfigProp.getProperty(property);\r\n    \t}\r\n\r\nReferences:\r\n\r\n 1. https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-customize-the-environment-or-application-context\r\n 2. https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config\r\n\r\nPS: This code is a mix of others I found on the internet. The credits are entirely from their authors. Sorry for not being able to find their links, there have been many tests until you get them to work. But if you find this similar to some other found out there, you can be sure that this is just a derivation. ;)\r\n\r\nEnvironment:\r\n\r\n 1. Java: OpenJDK Runtime Environment (build\r\n    1.8.0_171-8u171-b11-0ubuntu0.16.04.1-b11)\r\n 2. Spring: 4.3.11\r\n 3. Spring Boot: 1.5.7\r\n 4. Hibernate Core: 5.2.10-Final\r\n\r\n","title":"Spring Boot: Use database and application.properties for configuration","body":"<p>Another option is to use ApplicationContextInitializer, with the advantage of being able to use @Value directly and also being able to contract the precedence of the properties.</p>\n\n<pre><code>import java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.sql.DataSource;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceBuilder;\nimport org.springframework.context.ApplicationContextInitializer;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.core.env.ConfigurableEnvironment;\nimport org.springframework.core.env.MapPropertySource;\nimport org.springframework.core.env.MutablePropertySources;\nimport org.springframework.core.env.PropertySource;\n\npublic class ReadDBPropertiesInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n    private static final Logger LOG = LoggerFactory.getLogger(ReadDBPropertiesInitializer.class);\n\n    /**\n     * Name of the custom property source added by this post processor class\n     */\n    private static final String PROPERTY_SOURCE_NAME = \"databaseProperties\";\n\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext) {\n\n        ConfigurableEnvironment configEnv = ((ConfigurableEnvironment) applicationContext.getEnvironment());\n\n        LOG.info(\"Load properties from database\");\n\n        Map&lt;String, Object&gt; propertySource = new HashMap&lt;&gt;();\n\n        try {\n\n            final String url = getEnv(configEnv, \"spring.datasource.url\");\n\n            String driverClassName = getProperty(configEnv, \"spring.datasource.driver-class-name\");\n\n            final String username = getEnv(configEnv, \"spring.datasource.username\");\n            final String password = getEnv(configEnv, \"spring.datasource.password\");\n\n            DataSource ds = DataSourceBuilder.create().url(url).username(username).password(password)\n                    .driverClassName(driverClassName).build();\n\n            // Fetch all properties\n            PreparedStatement preparedStatement = ds.getConnection()\n                    .prepareStatement(\"SELECT config_key as name, config_value as value, config_label as label FROM TB_CONFIGURATION\");\n\n            ResultSet rs = preparedStatement.executeQuery();\n\n            // Populate all properties into the property source\n            while (rs.next()) {             \n                final String propName = rs.getString(\"name\");\n                final String propValue = rs.getString(\"value\");\n                final String propLabel = rs.getString(\"label\");\n                LOG.info(String.format(\"Property: %s | Label: %s\", propName, propLabel));\n                LOG.info(String.format(\"Value: %s\", propValue));\n                propertySource.put(propName, propValue);\n            }\n\n            // Create a custom property source with the highest precedence and add it to\n            // Spring Environment\n            applicationContext.getEnvironment().getPropertySources()\n                    .addFirst(new MapPropertySource(PROPERTY_SOURCE_NAME, propertySource));\n\n        } catch (Exception e) {\n            throw new RuntimeException(\"Error fetching properties from db\");\n        }\n\n    }\n\n    private String getEnv(ConfigurableEnvironment configEnv, final String property) {\n        MutablePropertySources propertySources = configEnv.getPropertySources();\n        PropertySource&lt;?&gt; appConfigProp = propertySources.get(\"applicationConfigurationProperties\");\n        return System.getenv().get(((String) appConfigProp.getProperty(property)).replace(\"${\", \"\").replace(\"}\", \"\"));\n    }\n\n    private String getProperty(ConfigurableEnvironment configEnv, final String property) {\n        MutablePropertySources propertySources = configEnv.getPropertySources();\n        PropertySource&lt;?&gt; appConfigProp = propertySources.get(\"applicationConfigurationProperties\");\n        return (String) appConfigProp.getProperty(property);\n    }\n</code></pre>\n\n<p>References:</p>\n\n<ol>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-customize-the-environment-or-application-context\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-customize-the-environment-or-application-context</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config</a></li>\n</ol>\n\n<p>PS: This code is a mix of others I found on the internet. The credits are entirely from their authors. Sorry for not being able to find their links, there have been many tests until you get them to work. But if you find this similar to some other found out there, you can be sure that this is just a derivation. ;)</p>\n\n<p>Environment:</p>\n\n<ol>\n<li>Java: OpenJDK Runtime Environment (build\n1.8.0_171-8u171-b11-0ubuntu0.16.04.1-b11)</li>\n<li>Spring: 4.3.11</li>\n<li>Spring Boot: 1.5.7</li>\n<li>Hibernate Core: 5.2.10-Final</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1507472,"reputation":1450,"user_id":1410512,"accept_rate":20,"display_name":"Tom Van Rossom"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1539011012,"creation_date":1539011012,"answer_id":52705102,"question_id":40465360,"body_markdown":"What you need is Spring Cloud Config: https://cloud.spring.io/spring-cloud-config/\r\n\r\nIt will use ad git repository (= database) with all the property files. At startup it will get the latest version, and uses this to launch the application.\r\n\r\nWhen you change the configuration at runtime, it is possible to refresh, without needing to restart!","title":"Spring Boot: Use database and application.properties for configuration","body":"<p>What you need is Spring Cloud Config: <a href=\"https://cloud.spring.io/spring-cloud-config/\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-config/</a></p>\n\n<p>It will use ad git repository (= database) with all the property files. At startup it will get the latest version, and uses this to launch the application.</p>\n\n<p>When you change the configuration at runtime, it is possible to refresh, without needing to restart!</p>\n"},{"tags":[],"owner":{"account_id":218720,"reputation":715,"user_id":475191,"accept_rate":33,"display_name":"David Harris"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1569893125,"creation_date":1569861466,"answer_id":58171971,"question_id":40465360,"body_markdown":"I know that this an old question but I stumbled on it when looking for a solution and wanted to share a way that worked for me. \r\n\r\nOne way you can do it is to use an implementation of [org.springframework.boot.env.EnvironmentPostProcessor][1].   Below is an implementation I used which has worked pretty well for me.   You will have to add a META-INF/spring.factories file to your deployment with the following entry:\r\n\r\n    org.springframework.boot.env.EnvironmentPostProcessor=my.package.name.DBPropertiesLoaderEnvironmentPostProcessor\r\n\r\nYou can read more about this from the docs here: [https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-boot-application.html#howto-customize-the-environment-or-application-context][2]\r\n\r\n    package my.package.name;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.Driver;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Properties;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.env.EnvironmentPostProcessor;\r\n    import org.springframework.core.env.ConfigurableEnvironment;\r\n    import org.springframework.core.env.EnumerablePropertySource;\r\n    import org.springframework.jdbc.datasource.lookup.DataSourceLookupFailureException;\r\n    import org.springframework.jdbc.datasource.lookup.JndiDataSourceLookup;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    /**\r\n     * This is used to load property values from the database into the spring application environment\r\n     * so that @Value annotated fields in the various beans can be populated with these database based\r\n     * values.   I can also be used to store spring boot configuration parameters\r\n     * \r\n     * In order for Spring to use this post porcessor this class needs to be added into the META-INF/spring.factories file like so:\r\n     * \torg.springframework.boot.env.EnvironmentPostProcessor=my.package.name.DBPropertiesLoaderEnvironmentPostProcessor\r\n     * \r\n     * It will look for the spring boot dataseource properties that traditionally get stored in the application.yml files and use\r\n     * those to create a connection to the database to load the properties.  It first looks for the datasource jndi name property\r\n     * and if that fails it looks for the Spring.datasource.url based properties.\r\n     * \r\n     *\r\n     */\r\n    @Slf4j\r\n    public class DBPropertiesLoaderEnvironmentPostProcessor implements EnvironmentPostProcessor {\r\n    \r\n    \t@Override\r\n    \tpublic void postProcessEnvironment(ConfigurableEnvironment env, SpringApplication application) {\r\n    \t\tSystem.out.println(&quot;***********************************Pulling properties from the database***********************************&quot;);\r\n    \t\tif(env.getProperty(&quot;spring.datasource.jndi-name&quot;) != null) {\r\n    \t\t\tlog.info(&quot;Extracting properties from the database using spring.datasource.jndi-name&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tJndiDataSourceLookup dsLookup = new JndiDataSourceLookup();\r\n    \t\t\t\tdsLookup.setResourceRef(true);\r\n    \t\t\t\tDataSource ds = dsLookup.getDataSource(env.getProperty(&quot;spring.datasource.jndi-name&quot;));\r\n    \t\t\t\ttry(Connection con = ds.getConnection()) {\r\n    \t\t\t\t\tenv.getPropertySources().addFirst(new DataBasePropertySource(con));\r\n    \t\t\t\t}\r\n    \t\t\t\tlog.info(&quot;Configuration properties were loaded from the database via JNDI Lookup&quot;);\r\n    \t\t\t} catch (DataSourceLookupFailureException | SQLException e) {\r\n    \t\t\t\tlog.error(&quot;Error creating properties from database with jndi lookup&quot;, e);\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t} else if(env.getProperty(&quot;spring.datasource.url&quot;) != null){\r\n    \t\t\tString url = env.getProperty(&quot;spring.datasource.url&quot;);\r\n    \t\t\tString driverClass = env.getProperty(&quot;spring.datasource.driver-class-name&quot;);\r\n    \t\t\tString username = env.getProperty(&quot;spring.datasource.username&quot;);\r\n    \t\t\tString password = env.getProperty(&quot;spring.datasource.password&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tDriverManager.registerDriver((Driver) Class.forName(driverClass).newInstance());\r\n    \t\t\t\ttry(Connection c = DriverManager.getConnection(url,username,password);){\r\n    \t\t\t\t\tenv.getPropertySources().addFirst(new DataBasePropertySource(c));\r\n    \t\t\t\t\tlog.info(&quot;Configuration properties were loaded from the database via manual connection creation&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}catch(Exception e) {\r\n    \t\t\t\tlog.error(&quot;Error creating properties from database with manual connection creation.&quot;, e);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tlog.error(&quot;Could not load properties from the database because no spring.datasource properties were present&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * An implementation of springs PropertySource class that sources from a\r\n    \t * {@link DataBasedBasedProperties} instance which is java.util.Properties class that\r\n    \t * pulls its data from the database..   \r\n    \t *\r\n    \t */\r\n    \tstatic class DataBasePropertySource extends EnumerablePropertySource&lt;DataBasedBasedProperties&gt; {\r\n    \t\t\r\n    \t\tpublic DataBasePropertySource(Connection c){\r\n    \t\t\tsuper(&quot;DataBasePropertySource&quot;,new DataBasedBasedProperties(c));\r\n    \t\t}\r\n    \r\n    \t\t/* (non-Javadoc)\r\n    \t\t * @see org.springframework.core.env.PropertySource#getProperty(java.lang.String)\r\n    \t\t */\r\n    \t\t@Override\r\n    \t\tpublic Object getProperty(String name) {\r\n    \t\t\treturn getSource().get(name);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String[] getPropertyNames() {\r\n    \t\t\treturn getSource().getPropertyNames();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Pulls name and value strings from a database table named properties\r\n    \t *\r\n    \t */\r\n    \tstatic class DataBasedBasedProperties extends Properties {\r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate String[] propertyNames;\r\n    \t\tpublic DataBasedBasedProperties(Connection con)\r\n    \t\t{\r\n    \t\t\tList&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n    \t\t\ttry(\r\n    \t\t\t\t\tStatement stmt = con.createStatement();\r\n    \t\t\t\t\tResultSet rs = stmt.executeQuery(&quot;select name, value from properties&quot;);\r\n    \t\t\t){\r\n    \t\t\t\twhile(rs.next()) {\r\n    \t\t\t\t\tString name = rs.getString(1);\r\n    \t\t\t\t\tString value = rs.getString(2);\r\n    \t\t\t\t\tnames.add(name);\r\n    \t\t\t\t\tsetProperty(name, value);\r\n    \t\t\t\t}\r\n    \t\t\t\tpropertyNames = names.toArray(new String[names.size()]);\r\n    \t\t\t}catch(SQLException e) {\r\n    \t\t\t\tthrow new RuntimeException(e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic String[] getPropertyNames() {\r\n    \t\t\treturn propertyNames;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/env/EnvironmentPostProcessor.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-boot-application.html#howto-customize-the-environment-or-application-context","title":"Spring Boot: Use database and application.properties for configuration","body":"<p>I know that this an old question but I stumbled on it when looking for a solution and wanted to share a way that worked for me. </p>\n\n<p>One way you can do it is to use an implementation of <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/env/EnvironmentPostProcessor.html\" rel=\"nofollow noreferrer\">org.springframework.boot.env.EnvironmentPostProcessor</a>.   Below is an implementation I used which has worked pretty well for me.   You will have to add a META-INF/spring.factories file to your deployment with the following entry:</p>\n\n<pre><code>org.springframework.boot.env.EnvironmentPostProcessor=my.package.name.DBPropertiesLoaderEnvironmentPostProcessor\n</code></pre>\n\n<p>You can read more about this from the docs here: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-boot-application.html#howto-customize-the-environment-or-application-context\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-boot-application.html#howto-customize-the-environment-or-application-context</a></p>\n\n<pre><code>package my.package.name;\n\nimport java.sql.Connection;\nimport java.sql.Driver;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Properties;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.env.EnvironmentPostProcessor;\nimport org.springframework.core.env.ConfigurableEnvironment;\nimport org.springframework.core.env.EnumerablePropertySource;\nimport org.springframework.jdbc.datasource.lookup.DataSourceLookupFailureException;\nimport org.springframework.jdbc.datasource.lookup.JndiDataSourceLookup;\n\nimport lombok.extern.slf4j.Slf4j;\n\n/**\n * This is used to load property values from the database into the spring application environment\n * so that @Value annotated fields in the various beans can be populated with these database based\n * values.   I can also be used to store spring boot configuration parameters\n * \n * In order for Spring to use this post porcessor this class needs to be added into the META-INF/spring.factories file like so:\n *  org.springframework.boot.env.EnvironmentPostProcessor=my.package.name.DBPropertiesLoaderEnvironmentPostProcessor\n * \n * It will look for the spring boot dataseource properties that traditionally get stored in the application.yml files and use\n * those to create a connection to the database to load the properties.  It first looks for the datasource jndi name property\n * and if that fails it looks for the Spring.datasource.url based properties.\n * \n *\n */\n@Slf4j\npublic class DBPropertiesLoaderEnvironmentPostProcessor implements EnvironmentPostProcessor {\n\n    @Override\n    public void postProcessEnvironment(ConfigurableEnvironment env, SpringApplication application) {\n        System.out.println(\"***********************************Pulling properties from the database***********************************\");\n        if(env.getProperty(\"spring.datasource.jndi-name\") != null) {\n            log.info(\"Extracting properties from the database using spring.datasource.jndi-name\");\n            try {\n                JndiDataSourceLookup dsLookup = new JndiDataSourceLookup();\n                dsLookup.setResourceRef(true);\n                DataSource ds = dsLookup.getDataSource(env.getProperty(\"spring.datasource.jndi-name\"));\n                try(Connection con = ds.getConnection()) {\n                    env.getPropertySources().addFirst(new DataBasePropertySource(con));\n                }\n                log.info(\"Configuration properties were loaded from the database via JNDI Lookup\");\n            } catch (DataSourceLookupFailureException | SQLException e) {\n                log.error(\"Error creating properties from database with jndi lookup\", e);\n                e.printStackTrace();\n            }\n        } else if(env.getProperty(\"spring.datasource.url\") != null){\n            String url = env.getProperty(\"spring.datasource.url\");\n            String driverClass = env.getProperty(\"spring.datasource.driver-class-name\");\n            String username = env.getProperty(\"spring.datasource.username\");\n            String password = env.getProperty(\"spring.datasource.password\");\n            try {\n                DriverManager.registerDriver((Driver) Class.forName(driverClass).newInstance());\n                try(Connection c = DriverManager.getConnection(url,username,password);){\n                    env.getPropertySources().addFirst(new DataBasePropertySource(c));\n                    log.info(\"Configuration properties were loaded from the database via manual connection creation\");\n                }\n            }catch(Exception e) {\n                log.error(\"Error creating properties from database with manual connection creation.\", e);\n            }\n        } else {\n            log.error(\"Could not load properties from the database because no spring.datasource properties were present\");\n        }\n\n    }\n\n    /**\n     * An implementation of springs PropertySource class that sources from a\n     * {@link DataBasedBasedProperties} instance which is java.util.Properties class that\n     * pulls its data from the database..   \n     *\n     */\n    static class DataBasePropertySource extends EnumerablePropertySource&lt;DataBasedBasedProperties&gt; {\n\n        public DataBasePropertySource(Connection c){\n            super(\"DataBasePropertySource\",new DataBasedBasedProperties(c));\n        }\n\n        /* (non-Javadoc)\n         * @see org.springframework.core.env.PropertySource#getProperty(java.lang.String)\n         */\n        @Override\n        public Object getProperty(String name) {\n            return getSource().get(name);\n        }\n\n        @Override\n        public String[] getPropertyNames() {\n            return getSource().getPropertyNames();\n        }\n    }\n\n    /**\n     * Pulls name and value strings from a database table named properties\n     *\n     */\n    static class DataBasedBasedProperties extends Properties {\n        private static final long serialVersionUID = 1L;\n\n        private String[] propertyNames;\n        public DataBasedBasedProperties(Connection con)\n        {\n            List&lt;String&gt; names = new ArrayList&lt;String&gt;();\n            try(\n                    Statement stmt = con.createStatement();\n                    ResultSet rs = stmt.executeQuery(\"select name, value from properties\");\n            ){\n                while(rs.next()) {\n                    String name = rs.getString(1);\n                    String value = rs.getString(2);\n                    names.add(name);\n                    setProperty(name, value);\n                }\n                propertyNames = names.toArray(new String[names.size()]);\n            }catch(SQLException e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n        public String[] getPropertyNames() {\n            return propertyNames;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5857425,"reputation":623,"user_id":5341954,"display_name":"Nikhil Pate"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589536346,"creation_date":1589446805,"answer_id":61793301,"question_id":40465360,"body_markdown":"I know that this an old question, but this post surely help someone like me who is struggling to find an exact solution.\r\n\r\nWe always love to write configurable code. \r\n\r\nWhat if properties in database are available through @Value annotation ? Yes it is possible.\r\n\r\n**You just have to define a class which implements EnvironmentAware and add custom logic in setEnvironment method.**\r\n\r\n\r\n----------\r\n\r\n\r\nLet&#39;s start coding.\r\n\r\nDefine a database entity.\r\n\r\n    @Data\r\n    @Entity\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;app_config&quot;)\r\n    public class AppConfig {\r\n    \t@Id\r\n    \tprivate String configKey;\r\n    \t\r\n    \tprivate String configValue;\r\n    }\r\n\r\nDefine a JPA repository to fetch configurations from database.\r\n\r\n    @Repository\r\n    public interface AppConfigRepo extends JpaRepository&lt;AppConfig, String&gt; {\r\n    }\r\n\r\n\r\nBelow code will load database properties into application environment.\r\n\r\n    @Component(&quot;applicationConfigurations&quot;)\r\n    public class ApplicationConfigurations implements EnvironmentAware {\r\n    \r\n    \t@Autowired\r\n    \tprivate AppConfigRepo appConfigRepo;\r\n    \r\n    \t@Override\r\n    \tpublic void setEnvironment(Environment environment) {\r\n    \t\tConfigurableEnvironment configurableEnvironment = (ConfigurableEnvironment) environment;\r\n    \r\n    \t\tMap&lt;String, Object&gt; propertySource = new HashMap&lt;&gt;();\r\n    \t\tappConfigRepo.findAll().stream().forEach(config -&gt; propertySource.put(config.getConfigKey(), config.getConfigValue()));\r\n    \t\tconfigurableEnvironment.getPropertySources().addAfter(&quot;systemEnvironment&quot;, new MapPropertySource(&quot;app-config&quot;, propertySource));\r\n    \t}\r\n    }\r\n    \r\nWe can add our database properties one level below system environment so that we can easily override without touching the database. Below code line helps us to achieve the same.\r\n\r\n\r\n    configurableEnvironment.getPropertySources().addAfter(&quot;systemEnvironment&quot;, new MapPropertySource(&quot;app-config&quot;, propertySource));\r\n\r\nYou have to add @DependsOn annotation on class where you want to use @Value annotation.\r\n\r\n@DependsOn takes application configuration bean id as parameter so that our properties from database are loaded in environment before our custom beans load. \r\n\r\nSo, class will look like this\r\n\r\n    @Component\r\n    @DependsOn(&quot;applicationConfigurations&quot;)\r\n    public class SomeClass {\r\n    \r\n    \t@Value(&quot;${property.from.database}&quot;)\r\n    \tprivate String property;\r\n    \r\n    \t// rest of the code\r\n    }\r\n\r\n*Please note, JPA configurations are added in application.properties.*","title":"Spring Boot: Use database and application.properties for configuration","body":"<p>I know that this an old question, but this post surely help someone like me who is struggling to find an exact solution.</p>\n\n<p>We always love to write configurable code. </p>\n\n<p>What if properties in database are available through @Value annotation ? Yes it is possible.</p>\n\n<p><strong>You just have to define a class which implements EnvironmentAware and add custom logic in setEnvironment method.</strong></p>\n\n<hr>\n\n<p>Let's start coding.</p>\n\n<p>Define a database entity.</p>\n\n<pre><code>@Data\n@Entity\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = \"app_config\")\npublic class AppConfig {\n    @Id\n    private String configKey;\n\n    private String configValue;\n}\n</code></pre>\n\n<p>Define a JPA repository to fetch configurations from database.</p>\n\n<pre><code>@Repository\npublic interface AppConfigRepo extends JpaRepository&lt;AppConfig, String&gt; {\n}\n</code></pre>\n\n<p>Below code will load database properties into application environment.</p>\n\n<pre><code>@Component(\"applicationConfigurations\")\npublic class ApplicationConfigurations implements EnvironmentAware {\n\n    @Autowired\n    private AppConfigRepo appConfigRepo;\n\n    @Override\n    public void setEnvironment(Environment environment) {\n        ConfigurableEnvironment configurableEnvironment = (ConfigurableEnvironment) environment;\n\n        Map&lt;String, Object&gt; propertySource = new HashMap&lt;&gt;();\n        appConfigRepo.findAll().stream().forEach(config -&gt; propertySource.put(config.getConfigKey(), config.getConfigValue()));\n        configurableEnvironment.getPropertySources().addAfter(\"systemEnvironment\", new MapPropertySource(\"app-config\", propertySource));\n    }\n}\n</code></pre>\n\n<p>We can add our database properties one level below system environment so that we can easily override without touching the database. Below code line helps us to achieve the same.</p>\n\n<pre><code>configurableEnvironment.getPropertySources().addAfter(\"systemEnvironment\", new MapPropertySource(\"app-config\", propertySource));\n</code></pre>\n\n<p>You have to add @DependsOn annotation on class where you want to use @Value annotation.</p>\n\n<p>@DependsOn takes application configuration bean id as parameter so that our properties from database are loaded in environment before our custom beans load. </p>\n\n<p>So, class will look like this</p>\n\n<pre><code>@Component\n@DependsOn(\"applicationConfigurations\")\npublic class SomeClass {\n\n    @Value(\"${property.from.database}\")\n    private String property;\n\n    // rest of the code\n}\n</code></pre>\n\n<p><em>Please note, JPA configurations are added in application.properties.</em></p>\n"},{"tags":[],"owner":{"account_id":5229654,"reputation":606,"user_id":4180464,"display_name":"Pankaj Mandale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600315659,"creation_date":1600315659,"answer_id":63931128,"question_id":40465360,"body_markdown":"**Spring Cloud Config Server supports JDBC (relational database) as a backend for configuration properties.**\r\n\r\nSpring boot Config Server will pull properties from a SQL Database on startup of your application. The database needs to have a table called PROPERTIES.\r\n\r\nFollowing the link for more details:\r\n\r\nhttps://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html \r\n\r\nrefer section: **2.1.7 JDBC Backend**","title":"Spring Boot: Use database and application.properties for configuration","body":"<p><strong>Spring Cloud Config Server supports JDBC (relational database) as a backend for configuration properties.</strong></p>\n<p>Spring boot Config Server will pull properties from a SQL Database on startup of your application. The database needs to have a table called PROPERTIES.</p>\n<p>Following the link for more details:</p>\n<p><a href=\"https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html</a></p>\n<p>refer section: <strong>2.1.7 JDBC Backend</strong></p>\n"},{"tags":[],"owner":{"account_id":4308682,"reputation":12623,"user_id":3520404,"display_name":"saran3h"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647368775,"creation_date":1647368775,"answer_id":71487247,"question_id":40465360,"body_markdown":"This is what works for me:\r\n\r\n```\r\n/**\r\n * Database configuration to access data\r\n *\r\n */\r\n@Profile(&quot;!mock&quot;)\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = {SomeOracleDataConfig.DOMAIN_REPO_PACKAGE},\r\n\t\tentityManagerFactoryRef = &quot;myEntityManagerFactory&quot;,\r\n\t\ttransactionManagerRef = &quot;myTransactionManager&quot;)\r\n@EnableJdbcHttpSession\r\npublic class SomeOracleDataConfig {\r\n\r\n\tstatic final String DOMAIN_REPO_PACKAGE = &quot;com.my.app.repository.oracle&quot;;\r\n\tprivate static final String DOMAIN_ENTITY_PACKAGE = &quot;com.my.app.entity.oracle&quot;;\r\n\tprivate static final String PERSISTENCE_UNIT_NAME = &quot;ORA_MY_APP&quot;;\r\n\r\n\t@Value(&quot;${spring.datasource.dialect:org.hibernate.dialect.Oracle12cDialect}&quot;)\r\n\tprivate String dialect;\r\n\r\n\t/**\r\n\t * A custom entity manager factory bean\r\n\t *\r\n\t * @param builder instance of {@link EntityManagerFactoryBuilder}\r\n\t * @param dataSource instance of {@link DataSource}\r\n\t * @return instance of {@link LocalContainerEntityManagerFactoryBean}\r\n\t */\r\n\t@Primary\r\n\t@Bean(name = &quot;myEntityManagerFactory&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean myEntityManagerFactory(\r\n\t\t\tEntityManagerFactoryBuilder builder, @Qualifier(&quot;myDataSource&quot;) DataSource dataSource) {\r\n\t\treturn builder\r\n\t\t\t\t.dataSource(dataSource)\r\n\t\t\t\t.packages(DOMAIN_ENTITY_PACKAGE)\r\n\t\t\t\t.persistenceUnit(PERSISTENCE_UNIT_NAME)\r\n\t\t\t\t.properties(singletonMap(&quot;hibernate.dialect&quot;, dialect))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Primary\r\n\t@Bean(name = &quot;myTransactionManager&quot;)\r\n\tprotected PlatformTransactionManager myTransactionManager(\r\n\t\t\t@Qualifier(&quot;myEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n\t\treturn new JpaTransactionManager(entityManagerFactory);\r\n\t}\r\n\r\n\t/**\r\n\t * Creates Oracle data source configuration\r\n\t *\r\n\t * @return instance of {@link DataSource}\r\n\t */\r\n\t@Primary\r\n\t@Bean(name = &quot;myDataSource&quot;)\r\n\t@SpringSessionDataSource\r\n\t@ConfigurationProperties(prefix = &quot;my.app.datasource&quot;)\r\n\tpublic DataSource myDataSource() {\r\n\t\t//Workaround to fix Oracle connection issue. For some reason -Duser.timezone parameter doesn&#39;t work\r\n\t\tTimeZone.setDefault(\r\n\t\t\t\tTimeZone.getTimeZone(DEFAULT_TIME_ZONE)\r\n\t\t);\r\n\t\treturn DataSourceBuilder.create().build();\r\n\t}\r\n}\r\n```\r\n\r\nAnd then the properties can be set like below:\r\n\r\n```\r\n# Oracle datasource configuration\r\nmy.app.datasource.driverClassName=oracle.jdbc.driver.OracleDriver\r\nmy.app.datasource.poolName=MYAPP-Pool\r\nmy.app.datasource.minimum-idle=1\r\nmy.app.datasource.maximumPoolSize=5\r\nmy.app.datasource.dialect=org.hibernate.dialect.Oracle12cDialect\r\nmy.app.datasource.jdbcUrl=&lt;jdbc url&gt;\r\nmy.app.datasource.schema=&lt;your schema&gt;\r\nmy.app.datasource.username=&lt;username&gt;\r\nmy.app.datasource.password=&lt;password&gt;\r\n```","title":"Spring Boot: Use database and application.properties for configuration","body":"<p>This is what works for me:</p>\n<pre><code>/**\n * Database configuration to access data\n *\n */\n@Profile(&quot;!mock&quot;)\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = {SomeOracleDataConfig.DOMAIN_REPO_PACKAGE},\n        entityManagerFactoryRef = &quot;myEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;myTransactionManager&quot;)\n@EnableJdbcHttpSession\npublic class SomeOracleDataConfig {\n\n    static final String DOMAIN_REPO_PACKAGE = &quot;com.my.app.repository.oracle&quot;;\n    private static final String DOMAIN_ENTITY_PACKAGE = &quot;com.my.app.entity.oracle&quot;;\n    private static final String PERSISTENCE_UNIT_NAME = &quot;ORA_MY_APP&quot;;\n\n    @Value(&quot;${spring.datasource.dialect:org.hibernate.dialect.Oracle12cDialect}&quot;)\n    private String dialect;\n\n    /**\n     * A custom entity manager factory bean\n     *\n     * @param builder instance of {@link EntityManagerFactoryBuilder}\n     * @param dataSource instance of {@link DataSource}\n     * @return instance of {@link LocalContainerEntityManagerFactoryBean}\n     */\n    @Primary\n    @Bean(name = &quot;myEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean myEntityManagerFactory(\n            EntityManagerFactoryBuilder builder, @Qualifier(&quot;myDataSource&quot;) DataSource dataSource) {\n        return builder\n                .dataSource(dataSource)\n                .packages(DOMAIN_ENTITY_PACKAGE)\n                .persistenceUnit(PERSISTENCE_UNIT_NAME)\n                .properties(singletonMap(&quot;hibernate.dialect&quot;, dialect))\n                .build();\n    }\n\n    @Primary\n    @Bean(name = &quot;myTransactionManager&quot;)\n    protected PlatformTransactionManager myTransactionManager(\n            @Qualifier(&quot;myEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n\n    /**\n     * Creates Oracle data source configuration\n     *\n     * @return instance of {@link DataSource}\n     */\n    @Primary\n    @Bean(name = &quot;myDataSource&quot;)\n    @SpringSessionDataSource\n    @ConfigurationProperties(prefix = &quot;my.app.datasource&quot;)\n    public DataSource myDataSource() {\n        //Workaround to fix Oracle connection issue. For some reason -Duser.timezone parameter doesn't work\n        TimeZone.setDefault(\n                TimeZone.getTimeZone(DEFAULT_TIME_ZONE)\n        );\n        return DataSourceBuilder.create().build();\n    }\n}\n</code></pre>\n<p>And then the properties can be set like below:</p>\n<pre><code># Oracle datasource configuration\nmy.app.datasource.driverClassName=oracle.jdbc.driver.OracleDriver\nmy.app.datasource.poolName=MYAPP-Pool\nmy.app.datasource.minimum-idle=1\nmy.app.datasource.maximumPoolSize=5\nmy.app.datasource.dialect=org.hibernate.dialect.Oracle12cDialect\nmy.app.datasource.jdbcUrl=&lt;jdbc url&gt;\nmy.app.datasource.schema=&lt;your schema&gt;\nmy.app.datasource.username=&lt;username&gt;\nmy.app.datasource.password=&lt;password&gt;\n</code></pre>\n"}],"owner":{"account_id":9543909,"reputation":487,"user_id":7090808,"accept_rate":55,"display_name":"deve"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66753,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":8,"score":12,"last_activity_date":1647368775,"creation_date":1478522192,"question_id":40465360,"body_markdown":"I need to save the configuration of the Spring Boot application in the database.\r\n\r\nIs it possible to store the database information in the `application.properties` and use them to connect to the database and retrieve all the other properties from there?\r\n\r\nSo my `application.properties` would look like:\r\n\r\n\tspring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=mydb\r\n\tspring.datasource.username=user\r\n\tspring.datasource.password=123456\r\n\tspring.jpa.database-platform=org.hibernate.dialect.SQLServer2012Dialect\r\n\r\nAnd the other configuration would be fetched from the database with something like this:\r\n\r\n    @Configuration\r\n    @PropertySource(value = {&quot;classpath:application.properties&quot;})\r\n    public class ConfigurationPropertySource {\r\n\r\n        private final ConfigurationRepository configurationRepository;\r\n\r\n        @Autowired\r\n        public ConfigurationPropertySource(ConfigurationRepository configurationRepository) {\r\n            this.configurationRepository = configurationRepository;\r\n        }\r\n\r\n        public String getValue(String key) {\r\n            ApplicationConfiguration configuration = configurationRepository.findOne(key);\r\n            return configuration.getValue();\r\n        }\r\n\r\n    }\r\n\r\nWith `ApplicationConfiguration` as an `Entity`.\r\n\r\nBut Spring Boot does not get the configuration from the database.","title":"Spring Boot: Use database and application.properties for configuration","body":"<p>I need to save the configuration of the Spring Boot application in the database.</p>\n\n<p>Is it possible to store the database information in the <code>application.properties</code> and use them to connect to the database and retrieve all the other properties from there?</p>\n\n<p>So my <code>application.properties</code> would look like:</p>\n\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=mydb\nspring.datasource.username=user\nspring.datasource.password=123456\nspring.jpa.database-platform=org.hibernate.dialect.SQLServer2012Dialect\n</code></pre>\n\n<p>And the other configuration would be fetched from the database with something like this:</p>\n\n<pre><code>@Configuration\n@PropertySource(value = {\"classpath:application.properties\"})\npublic class ConfigurationPropertySource {\n\n    private final ConfigurationRepository configurationRepository;\n\n    @Autowired\n    public ConfigurationPropertySource(ConfigurationRepository configurationRepository) {\n        this.configurationRepository = configurationRepository;\n    }\n\n    public String getValue(String key) {\n        ApplicationConfiguration configuration = configurationRepository.findOne(key);\n        return configuration.getValue();\n    }\n\n}\n</code></pre>\n\n<p>With <code>ApplicationConfiguration</code> as an <code>Entity</code>.</p>\n\n<p>But Spring Boot does not get the configuration from the database.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":0,"creation_date":1586169078,"post_id":61056774,"comment_id":108018997,"body_markdown":"does this answer you question https://stackoverflow.com/questions/5712849/how-do-i-keep-the-screen-on-in-my-app","body":"does this answer you question <a href=\"https://stackoverflow.com/questions/5712849/how-do-i-keep-the-screen-on-in-my-app\" title=\"how do i keep the screen on in my app\">stackoverflow.com/questions/5712849/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14513733,"reputation":1561,"user_id":11298876,"display_name":"Android_id"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586171244,"creation_date":1586171244,"answer_id":61058386,"question_id":61056774,"body_markdown":"You can use\r\n```\r\n getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON); \r\n\r\n```\r\nin onCreate()","title":"Error while creating .aab in android studio","body":"<p>You can use</p>\n\n<pre><code> getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON); \n\n</code></pre>\n\n<p>in onCreate()</p>\n"}],"owner":{"account_id":18124093,"reputation":13,"user_id":13179766,"display_name":"user13179766"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1586175524,"accepted_answer_id":61058386,"answer_count":1,"score":-1,"last_activity_date":1647368690,"creation_date":1586165670,"question_id":61056774,"body_markdown":"I am using Android Studio 4.0.1. When I want to convert my application to .aab format, I get the following error. What should I do?\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDexRelease&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:releaseRuntimeClasspath&#39;.\r\n   &gt; Failed to transform kotlin-stdlib-1.3.50.jar (org.jetbrains.kotlin:kotlin-stdlib:1.3.50) to match attributes {artifactType=android-dex, dexing-enable-desugaring=true, dexing-incremental-desugaring-v2=false, dexing-is-debuggable=false, dexing-min-sdk=17, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\Users\\user\\.gradle\\caches\\transforms-2\\files-2.1\\8ae7b36524b4d2df17c0bae7e36de153\\jetified-kotlin-stdlib-1.3.50.jar.\r\n         &gt; Cannot parse result path string:                                  \r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n```","title":"Error while creating .aab in android studio","body":"<p>I am using Android Studio 4.0.1. When I want to convert my application to .aab format, I get the following error. What should I do?</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeDexRelease'.\n&gt; Could not resolve all files for configuration ':app:releaseRuntimeClasspath'.\n   &gt; Failed to transform kotlin-stdlib-1.3.50.jar (org.jetbrains.kotlin:kotlin-stdlib:1.3.50) to match attributes {artifactType=android-dex, dexing-enable-desugaring=true, dexing-incremental-desugaring-v2=false, dexing-is-debuggable=false, dexing-min-sdk=17, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\Users\\user\\.gradle\\caches\\transforms-2\\files-2.1\\8ae7b36524b4d2df17c0bae7e36de153\\jetified-kotlin-stdlib-1.3.50.jar.\n         &gt; Cannot parse result path string:                                  \n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n"},{"tags":["java","algorithm","math","optimization","data-structures"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1646642742,"post_id":71378263,"comment_id":126165306,"body_markdown":"Why do you think your time complexity is O(Q * N)? Because it seems you are already there.","body":"Why do you think your time complexity is O(Q * N)? Because it seems you are already there."},{"owner":{"account_id":10156579,"reputation":1770,"user_id":7501501,"accept_rate":100,"display_name":"Yonlif"},"score":0,"creation_date":1646648919,"post_id":71378263,"comment_id":126167235,"body_markdown":"@MaartenBodewes He is not already there - solve is called Q times and will operate on N elements in the worst case each time.","body":"@MaartenBodewes He is not already there - solve is called Q times and will operate on N elements in the worst case each time."},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":1,"creation_date":1646661186,"post_id":71378263,"comment_id":126171629,"body_markdown":"This problem is very similar to finding the Hamming distance between a string and cyclic rotations of the string. Being able to find those distances in sublinear time (without update queries) seems hard enough; perhaps you want to look into discrete Fourier transforms of the lists of equal-value indices.","body":"This problem is very similar to finding the Hamming distance between a string and cyclic rotations of the string. Being able to find those distances in sublinear time (without update queries) seems hard enough; perhaps you want to look into discrete Fourier transforms of the lists of equal-value indices."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1646663168,"post_id":71378263,"comment_id":126172418,"body_markdown":"I would personally use https://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html instead of an array of integers, and see if that was fast enough.  Between being able to `set` a bit, `get` a BitSet for a range, `xor` and `cardinality`, you can push this down to efficient operations on a very compact structure.  It will still scale the same, but with a better constant.","body":"I would personally use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/BitSet.html</a> instead of an array of integers, and see if that was fast enough.  Between being able to <code>set</code> a bit, <code>get</code> a BitSet for a range, <code>xor</code> and <code>cardinality</code>, you can push this down to efficient operations on a very compact structure.  It will still scale the same, but with a better constant."},{"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"score":1,"creation_date":1646670627,"post_id":71378263,"comment_id":126175644,"body_markdown":"Does this code work? You change the value of `L` in every iteration; also, you have `L` in the loop&#39;s condition.","body":"Does this code work? You change the value of <code>L</code> in every iteration; also, you have <code>L</code> in the loop&#39;s condition."},{"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"score":0,"creation_date":1646670719,"post_id":71378263,"comment_id":126175687,"body_markdown":"What would happen if `X` and `Y` were not the same lengths?","body":"What would happen if <code>X</code> and <code>Y</code> were not the same lengths?"},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":1,"creation_date":1646671183,"post_id":71378263,"comment_id":126175909,"body_markdown":"The notation and description of queries is incorrect and inconsistent. For example, `i = [L, R]` should probably be `i in [L, R+1]`. Also, `S[0: R - L + 1]`, interpreting slice notation as normal, does not have the same length as `S[L : R]`. It seems like the code is correct and the description is wrong, since the code matches the example input and output.","body":"The notation and description of queries is incorrect and inconsistent. For example, <code>i = [L, R]</code> should probably be <code>i in [L, R+1]</code>. Also, <code>S[0: R - L + 1]</code>, interpreting slice notation as normal, does not have the same length as <code>S[L : R]</code>. It seems like the code is correct and the description is wrong, since the code matches the example input and output."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1647198550,"post_id":71378263,"comment_id":126305599,"body_markdown":"@Lrrr, Y is prefix string of size ```len(X) = [L - R + 1]```, so you can assume they are always going to be of same lengths.","body":"@Lrrr, Y is prefix string of size <code>len(X) = [L - R + 1]</code>, so you can assume they are always going to be of same lengths."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1647199055,"post_id":71378263,"comment_id":126305689,"body_markdown":"@Lrrr, yes this code does work as the logic is correct, but it&#39;s not optimized as per the constraints.","body":"@Lrrr, yes this code does work as the logic is correct, but it&#39;s not optimized as per the constraints."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1647199304,"post_id":71378263,"comment_id":126305746,"body_markdown":"@kcsquared, please don&#39;t consider ```[]``` as the python&#39;s slice operation, ```S[L:R]``` is purely for the representational purpose, which represents substring of S starting at index ```L``` and ends at index ```R```.","body":"@kcsquared, please don&#39;t consider <code>[]</code> as the python&#39;s slice operation, <code>S[L:R]</code> is purely for the representational purpose, which represents substring of S starting at index <code>L</code> and ends at index <code>R</code>."},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":0,"creation_date":1647207439,"post_id":71378263,"comment_id":126307383,"body_markdown":"Regardless of whether the brackets are slices or inclusive or exclusive. The lengths of [L: R] and [0: R - L + 1] are not the same, no matter which interpretations of brackets you’re using, if you’re being consistent.","body":"Regardless of whether the brackets are slices or inclusive or exclusive. The lengths of [L: R] and [0: R - L + 1] are not the same, no matter which interpretations of brackets you’re using, if you’re being consistent."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1647368417,"post_id":71378263,"comment_id":126352187,"body_markdown":"@kcsquared Indeed that&#39;s a typo in the description, code is ok though. Fixed the description.","body":"@kcsquared Indeed that&#39;s a typo in the description, code is ok though. Fixed the description."}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1647368369,"creation_date":1646641863,"question_id":71378263,"body_markdown":"Given an binary string `S` (contains &#39;0&#39; or &#39;1&#39; only), we need to process 2 type of queries as following:\r\n\r\n 1. `1 K V` : Update the value of `Kth` index in the string with value `V`(can only be 0/1 character). \r\n 2. `2 L R` : Print the value of `Fun(L, R)`: for substring `X = S[L: R]` and we take the prefix `Y = S[0: R - L]` and count the num of positions for which `X[i] != Y[j]`, for i = [L, R], j = [0, R - L]. \r\n\r\n\r\n**Constraints :**\r\n\r\n    N (length of S)      &lt;= 10 ^ 5\r\n    Q (number of query ) &lt;= 10 ^ 5\r\n\r\n\r\n**Sample test case:**\r\n\r\n    S = &quot;111101&quot;\r\n    Query(2 3 5) = 1\r\n    \r\n\r\n**Explanation** :\r\n\r\nHere, X = &#39;101&#39; and Y = &#39;111&#39;, only `X[1] != Y[1]`, rest all bits are positionally same.\r\n\r\n\r\n**Approach**:\r\n\r\n    public List&lt;Integer&gt; solve(StringBuffer S, int[][] q) {\r\n       int N = S.length();\r\n       int Q = q.length();\r\n    \r\n       List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n       for(int i = 0; i &lt; Q; i++) {\r\n          \r\n          if(Q[i][0] == 1) // type-1\r\n             S.setCharAt(Q[i][1], Q[i][2]);\r\n\r\n          else if(Q[i][0] == 2) { // type-2\r\n    \r\n             int L = Q[i][1];\r\n             int R = Q[i][2];\r\n             int count = 0;\r\n             for(int i = 0; i &lt; R - L + 1; i++, L++) {\r\n                if(S.charAt(i) != S.charAt(L))\r\n                   count += 1;\r\n             }\r\n    \r\n             result.add(count);\r\n          }\r\n       }\r\n    \r\n    \r\n       return result;\r\n    }\r\n\r\n**Time Complexity** : `O(Q * N)`\r\n\r\nHow can we solve this problem more efficiently, such that the time complexity for each query would be less that `O(N)`.","title":"Process prefix queries in a binary string efficiently","body":"<p>Given an binary string <code>S</code> (contains '0' or '1' only), we need to process 2 type of queries as following:</p>\n<ol>\n<li><code>1 K V</code> : Update the value of <code>Kth</code> index in the string with value <code>V</code>(can only be 0/1 character).</li>\n<li><code>2 L R</code> : Print the value of <code>Fun(L, R)</code>: for substring <code>X = S[L: R]</code> and we take the prefix <code>Y = S[0: R - L]</code> and count the num of positions for which <code>X[i] != Y[j]</code>, for i = [L, R], j = [0, R - L].</li>\n</ol>\n<p><strong>Constraints :</strong></p>\n<pre><code>N (length of S)      &lt;= 10 ^ 5\nQ (number of query ) &lt;= 10 ^ 5\n</code></pre>\n<p><strong>Sample test case:</strong></p>\n<pre><code>S = &quot;111101&quot;\nQuery(2 3 5) = 1\n</code></pre>\n<p><strong>Explanation</strong> :</p>\n<p>Here, X = '101' and Y = '111', only <code>X[1] != Y[1]</code>, rest all bits are positionally same.</p>\n<p><strong>Approach</strong>:</p>\n<pre><code>public List&lt;Integer&gt; solve(StringBuffer S, int[][] q) {\n   int N = S.length();\n   int Q = q.length();\n\n   List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n   for(int i = 0; i &lt; Q; i++) {\n      \n      if(Q[i][0] == 1) // type-1\n         S.setCharAt(Q[i][1], Q[i][2]);\n\n      else if(Q[i][0] == 2) { // type-2\n\n         int L = Q[i][1];\n         int R = Q[i][2];\n         int count = 0;\n         for(int i = 0; i &lt; R - L + 1; i++, L++) {\n            if(S.charAt(i) != S.charAt(L))\n               count += 1;\n         }\n\n         result.add(count);\n      }\n   }\n\n\n   return result;\n}\n</code></pre>\n<p><strong>Time Complexity</strong> : <code>O(Q * N)</code></p>\n<p>How can we solve this problem more efficiently, such that the time complexity for each query would be less that <code>O(N)</code>.</p>\n"},{"tags":["java","android","kotlin","save","onchange"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1647362550,"post_id":71485771,"comment_id":126350008,"body_markdown":"Save the selected language (e.g., in `SharedPreferences`) and re-apply it when your app starts up. `updateConfiguration()` only affects your current process.","body":"Save the selected language (e.g., in <code>SharedPreferences</code>) and re-apply it when your app starts up. <code>updateConfiguration()</code> only affects your current process."},{"owner":{"account_id":16659620,"reputation":1366,"user_id":15227398,"display_name":"Ananiya J. Kesto"},"score":0,"creation_date":1647362556,"post_id":71485771,"comment_id":126350010,"body_markdown":"you could use K-V storage as per mentioned in the 2nd answer https://stackoverflow.com/questions/4985805/set-locale-programmatically","body":"you could use K-V storage as per mentioned in the 2nd answer <a href=\"https://stackoverflow.com/questions/4985805/set-locale-programmatically\" title=\"set locale programmatically\">stackoverflow.com/questions/4985805/set-locale-programmatica&zwnj;&#8203;lly</a>"}],"answers":[{"tags":[],"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647363105,"creation_date":1647363105,"answer_id":71486037,"question_id":71485771,"body_markdown":" 1. You can store the value (selected language) in SharedPreference \r\n 2. and then in onStop() you can store the value in database\r\n 3. and then in onStart() you can read the value from database and keep in SharedPreference","title":"How to save selected language, after closing and reopening the Application?","body":"<ol>\n<li>You can store the value (selected language) in SharedPreference</li>\n<li>and then in onStop() you can store the value in database</li>\n<li>and then in onStart() you can read the value from database and keep in SharedPreference</li>\n</ol>\n"}],"owner":{"account_id":24543830,"reputation":15,"user_id":18453975,"display_name":"Afearntm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71486037,"answer_count":1,"score":0,"last_activity_date":1647367792,"creation_date":1647362067,"question_id":71485771,"body_markdown":"I want to change the language of the program and exit the program, and after re-entering the program, the original language of the device can not change the language selected by the program.\r\nif there is any way please help me at this point.\r\nhere is my codes :\r\n\r\n    class LanguageActivity : AppCompatActivity() {\r\n    private lateinit var databinding: ActivityLanguageBinding\r\n    private lateinit var locale: Locale\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        databinding = DataBindingUtil.setContentView(this,R.layout.activity_language)\r\n        val languageList = ArrayList&lt;String&gt;()\r\n        languageList.add(&quot;Select&quot;)\r\n        languageList.add(&quot;English&quot;)\r\n        languageList.add(&quot;Persian&quot;)\r\n        languageList.add(&quot;Pashto&quot;)\r\n        val adapter = ArrayAdapter(this, androidx.appcompat.R.layout.support_simple_spinner_dropdown_item, languageList)\r\n        databinding.spinnerLanguage.adapter = adapter\r\n        databinding.spinnerLanguage.onItemSelectedListener = object : AdapterView.OnItemSelectedListener{\r\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\r\n                when(position){\r\n                    0 -&gt; {\r\n                    }\r\n                    1 -&gt; setLocale(&quot;en&quot;)\r\n                    2 -&gt; setLocale(&quot;fa&quot;)\r\n                    3 -&gt; setLocale(&quot;ps&quot;)\r\n                }\r\n            }\r\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\r\n            }\r\n        }\r\n    }\r\n    fun setLocale (languageName: String){\r\n        locale = Locale(languageName)\r\n        val res = resources\r\n        val dm = res.displayMetrics\r\n        val conf = res.configuration\r\n        conf.locale = locale\r\n        res.updateConfiguration(conf,dm)\r\n        val refresh = Intent(this, LanguageActivity::class.java)\r\n        startActivity(refresh)\r\n    }\r\n\r\nmy project does not have even 1 error, but the thing that I want is in too many apps by changing language inside them and they keep selected language, but mine after closing and reopennig, the selected language is changed by default device language!\r\n\r\nchanging onCreate() to onResume() and onStop() as the lifecycle changed nothing in my app.\r\nthanks a lot to whom is trying to help me :)","title":"How to save selected language, after closing and reopening the Application?","body":"<p>I want to change the language of the program and exit the program, and after re-entering the program, the original language of the device can not change the language selected by the program.\nif there is any way please help me at this point.\nhere is my codes :</p>\n<pre><code>class LanguageActivity : AppCompatActivity() {\nprivate lateinit var databinding: ActivityLanguageBinding\nprivate lateinit var locale: Locale\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    databinding = DataBindingUtil.setContentView(this,R.layout.activity_language)\n    val languageList = ArrayList&lt;String&gt;()\n    languageList.add(&quot;Select&quot;)\n    languageList.add(&quot;English&quot;)\n    languageList.add(&quot;Persian&quot;)\n    languageList.add(&quot;Pashto&quot;)\n    val adapter = ArrayAdapter(this, androidx.appcompat.R.layout.support_simple_spinner_dropdown_item, languageList)\n    databinding.spinnerLanguage.adapter = adapter\n    databinding.spinnerLanguage.onItemSelectedListener = object : AdapterView.OnItemSelectedListener{\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n            when(position){\n                0 -&gt; {\n                }\n                1 -&gt; setLocale(&quot;en&quot;)\n                2 -&gt; setLocale(&quot;fa&quot;)\n                3 -&gt; setLocale(&quot;ps&quot;)\n            }\n        }\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n        }\n    }\n}\nfun setLocale (languageName: String){\n    locale = Locale(languageName)\n    val res = resources\n    val dm = res.displayMetrics\n    val conf = res.configuration\n    conf.locale = locale\n    res.updateConfiguration(conf,dm)\n    val refresh = Intent(this, LanguageActivity::class.java)\n    startActivity(refresh)\n}\n</code></pre>\n<p>my project does not have even 1 error, but the thing that I want is in too many apps by changing language inside them and they keep selected language, but mine after closing and reopennig, the selected language is changed by default device language!</p>\n<p>changing onCreate() to onResume() and onStop() as the lifecycle changed nothing in my app.\nthanks a lot to whom is trying to help me :)</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647412125,"post_id":71486281,"comment_id":126361345,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":20919384,"reputation":3,"user_id":15368373,"display_name":"Phil Morrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647367701,"creation_date":1647367701,"answer_id":71487027,"question_id":71486281,"body_markdown":"I didn&#39;t initalizee the manager \r\n\r\nsolved\r\n\r\n \r\n\r\n    @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n    \r\n            v = inflater.inflate(R.layout.fragment_add_food, container, false);\r\n    \r\n            searchView = v.findViewById(R.id.addFoodSearch);\r\n    \r\n            *manager = new requestManager(getContext());*\r\n    \r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n                    foodNames = query;\r\n                    manager.getFoodNames(listener, foodNames);\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n                    return false;\r\n                }\r\n            });\r\n    \r\n            return v;\r\n        }","title":"How do I add API data to a fragment&#39;s recycler view using query text listener to call the GET query","body":"<p>I didn't initalizee the manager</p>\n<p>solved</p>\n<pre><code>@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        v = inflater.inflate(R.layout.fragment_add_food, container, false);\n\n        searchView = v.findViewById(R.id.addFoodSearch);\n\n        *manager = new requestManager(getContext());*\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                foodNames = query;\n                manager.getFoodNames(listener, foodNames);\n                return true;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                return false;\n            }\n        });\n\n        return v;\n    }\n</code></pre>\n"}],"owner":{"account_id":20919384,"reputation":3,"user_id":15368373,"display_name":"Phil Morrison"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647367701,"creation_date":1647364089,"question_id":71486281,"body_markdown":"I created a requestManager class \r\n\r\n        package com.example.pantry;\r\n    \r\n    import android.content.Context;\r\n    \r\n    import com.example.pantry.models.apiResponse;\r\n    \r\n    import java.util.List;\r\n    \r\n    import retrofit2.Call;\r\n    import retrofit2.Callback;\r\n    import retrofit2.Response;\r\n    import retrofit2.Retrofit;\r\n    import retrofit2.converter.gson.GsonConverterFactory;\r\n    import retrofit2.http.GET;\r\n    import retrofit2.http.Query;\r\n    \r\n    public class requestManager {\r\n    \r\n        Context context;\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://api.spoonacular.com/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n    \r\n        public requestManager(Context context){this.context = context;}\r\n    \r\n        public void getFoodNames(OnFetchDataListener listener, String query){\r\n    \r\n            callFoodApi CallFoods = retrofit.create(callFoodApi.class);\r\n            Call&lt;apiResponse&gt; call = CallFoods.callFoods(context.getString(R.string.api_key), query, &quot;5&quot;);\r\n            call.enqueue(new Callback&lt;apiResponse&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;apiResponse&gt; call, Response&lt;apiResponse&gt; response) {\r\n                    if(!response.isSuccessful()){\r\n                        listener.didNotFetch(response.message());\r\n                    }\r\n                    listener.didFetch(response.body(), response.message());\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;apiResponse&gt; call, Throwable t) {\r\n                    listener.didNotFetch(t.getMessage());\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private interface callFoodApi{\r\n            @GET(&quot;food/ingredients/search&quot;)\r\n            Call&lt;apiResponse&gt; callFoods(\r\n                    @Query(&quot;apiKey&quot;) String apiKey,\r\n                    @Query(&quot;query&quot;) String query,\r\n                    @Query(&quot;number&quot;) String number\r\n    \r\n            );\r\n        }\r\n    \r\n    }\r\n\r\nand a FetchDataListener interface \r\n\r\n    package com.example.pantry;\r\n    \r\n    public interface OnFetchDataListener&lt;apiResponse&gt; {\r\n        void didFetch(apiResponse response, String message);\r\n        void didNotFetch(String message);\r\n    }\r\n\r\nand here is my fragment code \r\n\r\n     RecyclerView recyclerView;\r\n        addFoodAdapter adapter;\r\n        requestManager manager;\r\n        SearchView searchView;\r\n        String foodNames;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n    \r\n            View view = inflater.inflate(R.layout.fragment_add_food, container, false);\r\n    \r\n            searchView = view.findViewById(R.id.addFoodSearch);\r\n    \r\n    \r\n    \r\n    \r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n                    foodNames = query;\r\n                    manager.getFoodNames(listener, foodNames);\r\n                    Log.d(&quot;executed&quot;, &quot;submitted&quot;);\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n                    return false;\r\n                }\r\n            });\r\n    \r\n            return view;\r\n        }\r\n    \r\n        private final OnFetchDataListener&lt;apiResponse&gt; listener = new OnFetchDataListener&lt;apiResponse&gt;() {\r\n            @Override\r\n            public void didFetch(apiResponse apiResponse, String message) {\r\n                recyclerView = recyclerView.findViewById(R.id.addFoodRecycler);\r\n                recyclerView.setHasFixedSize(true);\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n                adapter = new addFoodAdapter(apiResponse.results);\r\n                recyclerView.setAdapter(adapter);\r\n            }\r\n    \r\n            @Override\r\n            public void didNotFetch(String message) {\r\n                Toast.makeText(getContext(), message, Toast.LENGTH_SHORT).show();\r\n            }\r\n        };\r\n\r\nThe adapter \r\n\r\n    package com.example.pantry;\r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.ViewGroup;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.example.pantry.models.Result;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class addFoodAdapter extends RecyclerView.Adapter&lt;addFoodViewHolder&gt; {\r\n    \r\n    \r\n        private List&lt;Result&gt; foodNames;\r\n    \r\n        public addFoodAdapter(List&lt;Result&gt; foodNames){\r\n            this.foodNames = foodNames;\r\n        }\r\n    \r\n    \r\n        @NonNull\r\n        @Override\r\n        public addFoodViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            return new addFoodViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.add_food_row, parent, false));\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull addFoodViewHolder holder, int position) {\r\n                holder.foodName.setText(foodNames.get(position).getName());\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return foodNames.size();\r\n        }\r\n    }\r\n\r\nand the viewholder \r\n\r\n    package com.example.pantry;\r\n    \r\n    import android.view.View;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    public class addFoodViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n        TextView foodName;\r\n    \r\n        public addFoodViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n    \r\n            foodName = itemView.findViewById(R.id.addFoodItem);\r\n        }\r\n    }\r\n\r\nbut when I try and run it, and I submit the search query the app crashes and I get an error response in the log \r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.example.pantry.requestManager.getFoodNames(com.example.pantry.OnFetchDataListener, java.lang.String)&#39; on a null object reference\r\n\r\nI&#39;ve tried to solve it and figured out the crash and error only come when the search is submitted. I&#39;ve only been doing this for a couple of months so still learning but I&#39;m very lost, is it a fragments problem or am I just misunderstanding how fragments work? Any help would be greatly appreciated. ","title":"How do I add API data to a fragment&#39;s recycler view using query text listener to call the GET query","body":"<p>I created a requestManager class</p>\n<pre><code>    package com.example.pantry;\n\nimport android.content.Context;\n\nimport com.example.pantry.models.apiResponse;\n\nimport java.util.List;\n\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\nimport retrofit2.http.GET;\nimport retrofit2.http.Query;\n\npublic class requestManager {\n\n    Context context;\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(&quot;https://api.spoonacular.com/&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n\n    public requestManager(Context context){this.context = context;}\n\n    public void getFoodNames(OnFetchDataListener listener, String query){\n\n        callFoodApi CallFoods = retrofit.create(callFoodApi.class);\n        Call&lt;apiResponse&gt; call = CallFoods.callFoods(context.getString(R.string.api_key), query, &quot;5&quot;);\n        call.enqueue(new Callback&lt;apiResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;apiResponse&gt; call, Response&lt;apiResponse&gt; response) {\n                if(!response.isSuccessful()){\n                    listener.didNotFetch(response.message());\n                }\n                listener.didFetch(response.body(), response.message());\n            }\n\n            @Override\n            public void onFailure(Call&lt;apiResponse&gt; call, Throwable t) {\n                listener.didNotFetch(t.getMessage());\n            }\n        });\n\n    }\n\n    private interface callFoodApi{\n        @GET(&quot;food/ingredients/search&quot;)\n        Call&lt;apiResponse&gt; callFoods(\n                @Query(&quot;apiKey&quot;) String apiKey,\n                @Query(&quot;query&quot;) String query,\n                @Query(&quot;number&quot;) String number\n\n        );\n    }\n\n}\n</code></pre>\n<p>and a FetchDataListener interface</p>\n<pre><code>package com.example.pantry;\n\npublic interface OnFetchDataListener&lt;apiResponse&gt; {\n    void didFetch(apiResponse response, String message);\n    void didNotFetch(String message);\n}\n</code></pre>\n<p>and here is my fragment code</p>\n<pre><code> RecyclerView recyclerView;\n    addFoodAdapter adapter;\n    requestManager manager;\n    SearchView searchView;\n    String foodNames;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_add_food, container, false);\n\n        searchView = view.findViewById(R.id.addFoodSearch);\n\n\n\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                foodNames = query;\n                manager.getFoodNames(listener, foodNames);\n                Log.d(&quot;executed&quot;, &quot;submitted&quot;);\n                return true;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                return false;\n            }\n        });\n\n        return view;\n    }\n\n    private final OnFetchDataListener&lt;apiResponse&gt; listener = new OnFetchDataListener&lt;apiResponse&gt;() {\n        @Override\n        public void didFetch(apiResponse apiResponse, String message) {\n            recyclerView = recyclerView.findViewById(R.id.addFoodRecycler);\n            recyclerView.setHasFixedSize(true);\n            recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n            adapter = new addFoodAdapter(apiResponse.results);\n            recyclerView.setAdapter(adapter);\n        }\n\n        @Override\n        public void didNotFetch(String message) {\n            Toast.makeText(getContext(), message, Toast.LENGTH_SHORT).show();\n        }\n    };\n</code></pre>\n<p>The adapter</p>\n<pre><code>package com.example.pantry;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.pantry.models.Result;\n\nimport java.util.List;\n\npublic class addFoodAdapter extends RecyclerView.Adapter&lt;addFoodViewHolder&gt; {\n\n\n    private List&lt;Result&gt; foodNames;\n\n    public addFoodAdapter(List&lt;Result&gt; foodNames){\n        this.foodNames = foodNames;\n    }\n\n\n    @NonNull\n    @Override\n    public addFoodViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new addFoodViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.add_food_row, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull addFoodViewHolder holder, int position) {\n            holder.foodName.setText(foodNames.get(position).getName());\n    }\n\n    @Override\n    public int getItemCount() {\n        return foodNames.size();\n    }\n}\n</code></pre>\n<p>and the viewholder</p>\n<pre><code>package com.example.pantry;\n\nimport android.view.View;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class addFoodViewHolder extends RecyclerView.ViewHolder {\n\n    TextView foodName;\n\n    public addFoodViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        foodName = itemView.findViewById(R.id.addFoodItem);\n    }\n}\n</code></pre>\n<p>but when I try and run it, and I submit the search query the app crashes and I get an error response in the log</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void com.example.pantry.requestManager.getFoodNames(com.example.pantry.OnFetchDataListener, java.lang.String)' on a null object reference\n</code></pre>\n<p>I've tried to solve it and figured out the crash and error only come when the search is submitted. I've only been doing this for a couple of months so still learning but I'm very lost, is it a fragments problem or am I just misunderstanding how fragments work? Any help would be greatly appreciated.</p>\n"},{"tags":["java","bytecode","javap"],"answers":[{"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646977642,"creation_date":1646977642,"answer_id":71434135,"question_id":71433736,"body_markdown":"1. Trust the descriptor. It&#39;s possible that javap isn&#39;t expanding the ctor parameters in the line above because it understands that this is an inner class and that the source code had no such special parameters declared.\r\n2. This might depend on the Java version that you compiled against. Java 11 supports nestmates, and so it doesn&#39;t need to downgrade to package-private modifiers.","title":"java internal method signature doesn&#39;t match constructor parameters (javap)","body":"<ol>\n<li>Trust the descriptor. It's possible that javap isn't expanding the ctor parameters in the line above because it understands that this is an inner class and that the source code had no such special parameters declared.</li>\n<li>This might depend on the Java version that you compiled against. Java 11 supports nestmates, and so it doesn't need to downgrade to package-private modifiers.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647367263,"creation_date":1647367263,"answer_id":71486951,"question_id":71433736,"body_markdown":"It’s seems, `javac` generates a [`Signature` Attribute]:\r\n\r\n&gt; A `Signature` attribute stores a signature ([&#167;4.7.9.1]) for a class, interface, constructor, method, field, or record component whose declaration in the Java programming language uses type variables or parameterized types.\r\n\r\nThis purpose doesn’t match the scenario, as this local class does use type variables or parameterized types, but we can show that the behavior of `javap` matches.\r\n\r\nE.g., when we run `javap -s java.util.function.Supplier`, we get\r\n\r\n```none\r\nCompiled from &quot;Supplier.java&quot;\r\npublic interface java.util.function.Supplier&lt;T&gt; {\r\n  public abstract T get();\r\n    descriptor: ()Ljava/lang/Object;\r\n}\r\n```\r\n\r\nshowing that `javap` prints the method declaration as seen by the generic type system while printing the descriptor as used by the JVM is the second line. Which implies that is uses the information from the `Signature` attribute when printing the method declaration.\r\n\r\nWe can even force `javap` to print the `Signature` attribute.  \r\nUsing `javap -v java.util.function.Supplier`:\r\n\r\n```none\r\n[class declaration and constant pool omitted]\r\n  public abstract T get();\r\n    descriptor: ()Ljava/lang/Object;\r\n    flags: (0x0401) ACC_PUBLIC, ACC_ABSTRACT\r\n    Signature: #8                           // ()TT;\r\n}\r\nSignature: #9                           // &lt;T:Ljava/lang/Object;&gt;Ljava/lang/Object;\r\nSourceFile: &quot;Supplier.java&quot;\r\nRuntimeVisibleAnnotations:\r\n  0: #13()\r\n    java.lang.FunctionalInterface\r\n```\r\nNote the line `Signature: #8 // ()TT;`\r\n\r\nWhen I run `javap -p -v my.test.Outer$1LocalInner` with your example, I get\r\n\r\n```none\r\n…\r\n  private my.test.Outer$1LocalInner();\r\n    descriptor: (Lmy/test/Outer;Z)V\r\n    flags: (0x0002) ACC_PRIVATE\r\n    Code:\r\n      stack=2, locals=3, args_size=3\r\n         0: aload_0\r\n         1: aload_1\r\n         2: putfield      #1                  // Field this$0:Lmy/test/Outer;\r\n         5: aload_0\r\n         6: iload_2\r\n         7: putfield      #7                  // Field val$beep:Z\r\n        10: aload_0\r\n        11: invokespecial #11                 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n        14: return\r\n      LineNumberTable:\r\n        line 31: 0\r\n        line 33: 14\r\n    Signature: #16                          // ()V\r\n…\r\n```\r\nwhich is consistent with the theory that the method has a `Signature` attribute reporting `()V` which leads to `javap` printing a declaration with no parameters.\r\n\r\nUsing this attribute for encoding the constructor’s source code appearance, even when it is not using type variables or generic types, has not been mentioned as a purpose of this attribute and Eclipse’s compiler does not generate such an attribute.\r\n\r\nNote that [the documentation][`Signature` Attribute] also says:\r\n\r\n&gt; Oracle&#39;s Java Virtual Machine implementation does not check the well-formedness of Signature attributes during class loading or linking. Instead, Signature attributes are checked by methods of the Java SE Platform class libraries which expose generic signatures of classes, interfaces, constructors, methods, and fields.\r\n\r\nSo the presence or absence of this attribute has no direct impact on the execution of the code. But when I append the following code to the end of your `start` method\r\n\r\n```java\r\ntry {\r\n    Constructor&lt;?&gt; c = li.getClass().getDeclaredConstructor(Outer.class, boolean.class);\r\n    System.out.println(Arrays.asList(c.getParameterTypes()));\r\n    System.out.println(Arrays.asList(c.getGenericParameterTypes()));\r\n} catch(ReflectiveOperationException ex) {}\r\n```\r\n\r\nit prints\r\n\r\n```none\r\n[class my.test.Outer, boolean]\r\n[class my.test.Outer, boolean]\r\n```\r\n\r\nwhen compiled with Eclipse and\r\n\r\n```none\r\n[class my.test.Outer, boolean]\r\n[]\r\n```\r\n\r\nwhen compiled with `javac`, showing that `getGenericParameterTypes()` interprets this `Signature` attribute.\r\n\r\n---\r\n\r\nAll tests above where made with JDK&#160;17. Since JDK&#160;11, the outer class can access the `private` constructor directly and therefore, the constructor declared as `private` is compiled as `private`.\r\n\r\nPrior to JDK&#160;11, the `private` modifier gets removed for a local class. This is different from nonlocal nested classes, where `javac` keeps the `private` modifier and generates another non-`private` delegating constructor.\r\n\r\n[`Signature` Attribute]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.9\r\n[&#167;4.7.9.1]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.9.1 (4.7.9.1. Signatures)","title":"java internal method signature doesn&#39;t match constructor parameters (javap)","body":"<p>It’s seems, <code>javac</code> generates a <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.9\" rel=\"nofollow noreferrer\"><code>Signature</code> Attribute</a>:</p>\n<blockquote>\n<p>A <code>Signature</code> attribute stores a signature (<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.9.1\" rel=\"nofollow noreferrer\" title=\"4.7.9.1. Signatures\">§4.7.9.1</a>) for a class, interface, constructor, method, field, or record component whose declaration in the Java programming language uses type variables or parameterized types.</p>\n</blockquote>\n<p>This purpose doesn’t match the scenario, as this local class does use type variables or parameterized types, but we can show that the behavior of <code>javap</code> matches.</p>\n<p>E.g., when we run <code>javap -s java.util.function.Supplier</code>, we get</p>\n<pre class=\"lang-none prettyprint-override\"><code>Compiled from &quot;Supplier.java&quot;\npublic interface java.util.function.Supplier&lt;T&gt; {\n  public abstract T get();\n    descriptor: ()Ljava/lang/Object;\n}\n</code></pre>\n<p>showing that <code>javap</code> prints the method declaration as seen by the generic type system while printing the descriptor as used by the JVM is the second line. Which implies that is uses the information from the <code>Signature</code> attribute when printing the method declaration.</p>\n<p>We can even force <code>javap</code> to print the <code>Signature</code> attribute.<br />\nUsing <code>javap -v java.util.function.Supplier</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[class declaration and constant pool omitted]\n  public abstract T get();\n    descriptor: ()Ljava/lang/Object;\n    flags: (0x0401) ACC_PUBLIC, ACC_ABSTRACT\n    Signature: #8                           // ()TT;\n}\nSignature: #9                           // &lt;T:Ljava/lang/Object;&gt;Ljava/lang/Object;\nSourceFile: &quot;Supplier.java&quot;\nRuntimeVisibleAnnotations:\n  0: #13()\n    java.lang.FunctionalInterface\n</code></pre>\n<p>Note the line <code>Signature: #8 // ()TT;</code></p>\n<p>When I run <code>javap -p -v my.test.Outer$1LocalInner</code> with your example, I get</p>\n<pre class=\"lang-none prettyprint-override\"><code>…\n  private my.test.Outer$1LocalInner();\n    descriptor: (Lmy/test/Outer;Z)V\n    flags: (0x0002) ACC_PRIVATE\n    Code:\n      stack=2, locals=3, args_size=3\n         0: aload_0\n         1: aload_1\n         2: putfield      #1                  // Field this$0:Lmy/test/Outer;\n         5: aload_0\n         6: iload_2\n         7: putfield      #7                  // Field val$beep:Z\n        10: aload_0\n        11: invokespecial #11                 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n        14: return\n      LineNumberTable:\n        line 31: 0\n        line 33: 14\n    Signature: #16                          // ()V\n…\n</code></pre>\n<p>which is consistent with the theory that the method has a <code>Signature</code> attribute reporting <code>()V</code> which leads to <code>javap</code> printing a declaration with no parameters.</p>\n<p>Using this attribute for encoding the constructor’s source code appearance, even when it is not using type variables or generic types, has not been mentioned as a purpose of this attribute and Eclipse’s compiler does not generate such an attribute.</p>\n<p>Note that <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.9\" rel=\"nofollow noreferrer\">the documentation</a> also says:</p>\n<blockquote>\n<p>Oracle's Java Virtual Machine implementation does not check the well-formedness of Signature attributes during class loading or linking. Instead, Signature attributes are checked by methods of the Java SE Platform class libraries which expose generic signatures of classes, interfaces, constructors, methods, and fields.</p>\n</blockquote>\n<p>So the presence or absence of this attribute has no direct impact on the execution of the code. But when I append the following code to the end of your <code>start</code> method</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Constructor&lt;?&gt; c = li.getClass().getDeclaredConstructor(Outer.class, boolean.class);\n    System.out.println(Arrays.asList(c.getParameterTypes()));\n    System.out.println(Arrays.asList(c.getGenericParameterTypes()));\n} catch(ReflectiveOperationException ex) {}\n</code></pre>\n<p>it prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>[class my.test.Outer, boolean]\n[class my.test.Outer, boolean]\n</code></pre>\n<p>when compiled with Eclipse and</p>\n<pre class=\"lang-none prettyprint-override\"><code>[class my.test.Outer, boolean]\n[]\n</code></pre>\n<p>when compiled with <code>javac</code>, showing that <code>getGenericParameterTypes()</code> interprets this <code>Signature</code> attribute.</p>\n<hr />\n<p>All tests above where made with JDK 17. Since JDK 11, the outer class can access the <code>private</code> constructor directly and therefore, the constructor declared as <code>private</code> is compiled as <code>private</code>.</p>\n<p>Prior to JDK 11, the <code>private</code> modifier gets removed for a local class. This is different from nonlocal nested classes, where <code>javac</code> keeps the <code>private</code> modifier and generates another non-<code>private</code> delegating constructor.</p>\n"}],"owner":{"account_id":1046766,"reputation":3474,"user_id":1051589,"accept_rate":56,"display_name":"joker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71486951,"answer_count":2,"score":1,"last_activity_date":1647367263,"creation_date":1646973844,"question_id":71433736,"body_markdown":"I have the following class containing local inner class:\r\n\r\n```java\r\nclass Outer {\r\n    private boolean beep;\r\n    private int foo;\r\n\r\n    public Outer(boolean beep) {\r\n        this.beep = beep;\r\n    }\r\n\r\n    public void start(boolean beep) {\r\n        class LocalInner {\r\n            private LocalInner() {\r\n\r\n            }\r\n            public void method() {\r\n                System.out.println(&quot;Test.&quot;);\r\n                if (beep) {\r\n                    System.out.println(&quot;beeping.&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n        LocalInner li = new LocalInner();\r\n        li.method();\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I compile the class `javac Outer.class`, and then check compiled members of `Outer$1LocalInner` with `javap -private Outer\\$1LocalClass.class`, I get this:\r\n\r\n```\r\nclass Outer$1LocalInner {\r\n  final boolean val$beep;\r\n  final Outer this$0;\r\n  Outer$1LocalInner();\r\n  public void method();\r\n}\r\n```\r\n\r\nI was expecting that the constructor will be compiled to: `Outer$1LocalInner(Outer, boolean)`. When I tried to have a look at the byte code `javap -c -s -private Outer$1LocalInner.class` I got this:\r\n\r\n```\r\nclass Outer$1LocalInner {\r\n  final boolean val$beep;\r\n    descriptor: Z\r\n                                                                                                         \r\n  final Outer this$0;\r\n    descriptor: LOuter;\r\n                                                                                                         \r\n  Outer$1LocalInner();\r\n    descriptor: (LOuter;Z)V\r\n    Code:                    \r\n       0: aload_0   \r\n       1: aload_1\r\n       2: putfield      #1                  // Field this$0:LOuter;   \r\n       5: aload_0\r\n       6: iload_2\r\n       7: putfield      #2                  // Field val$beep:Z\r\n      10: aload_0                                                                                        \r\n      11: invokespecial #3                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n      14: return \r\n                                                                                                         \r\n...\r\n}\r\n```\r\n\r\nNow this is rather interesting! Let&#39;s have a closer look at these two lines:\r\n\r\n```\r\n  Outer$1LocalInner();\r\n    descriptor: (LOuter;Z)V\r\n```\r\n\r\n1. Why is there no parameters to `Outer$1LocalInner()` constructor, yet I can see in the method descriptor that it does accept two parameters as I&#39;m expecting `Outer` and `boolean`?\r\n\r\n2. Why does the compiler ignores the access modifier of the local inner class? I&#39;m declaring it as private, yet the disassembled version is package modifier.","title":"java internal method signature doesn&#39;t match constructor parameters (javap)","body":"<p>I have the following class containing local inner class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Outer {\n    private boolean beep;\n    private int foo;\n\n    public Outer(boolean beep) {\n        this.beep = beep;\n    }\n\n    public void start(boolean beep) {\n        class LocalInner {\n            private LocalInner() {\n\n            }\n            public void method() {\n                System.out.println(&quot;Test.&quot;);\n                if (beep) {\n                    System.out.println(&quot;beeping.&quot;);\n                }\n            }\n        }\n\n        LocalInner li = new LocalInner();\n        li.method();\n    }\n}\n\n</code></pre>\n<p>When I compile the class <code>javac Outer.class</code>, and then check compiled members of <code>Outer$1LocalInner</code> with <code>javap -private Outer\\$1LocalClass.class</code>, I get this:</p>\n<pre><code>class Outer$1LocalInner {\n  final boolean val$beep;\n  final Outer this$0;\n  Outer$1LocalInner();\n  public void method();\n}\n</code></pre>\n<p>I was expecting that the constructor will be compiled to: <code>Outer$1LocalInner(Outer, boolean)</code>. When I tried to have a look at the byte code <code>javap -c -s -private Outer$1LocalInner.class</code> I got this:</p>\n<pre><code>class Outer$1LocalInner {\n  final boolean val$beep;\n    descriptor: Z\n                                                                                                         \n  final Outer this$0;\n    descriptor: LOuter;\n                                                                                                         \n  Outer$1LocalInner();\n    descriptor: (LOuter;Z)V\n    Code:                    \n       0: aload_0   \n       1: aload_1\n       2: putfield      #1                  // Field this$0:LOuter;   \n       5: aload_0\n       6: iload_2\n       7: putfield      #2                  // Field val$beep:Z\n      10: aload_0                                                                                        \n      11: invokespecial #3                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n      14: return \n                                                                                                         \n...\n}\n</code></pre>\n<p>Now this is rather interesting! Let's have a closer look at these two lines:</p>\n<pre><code>  Outer$1LocalInner();\n    descriptor: (LOuter;Z)V\n</code></pre>\n<ol>\n<li><p>Why is there no parameters to <code>Outer$1LocalInner()</code> constructor, yet I can see in the method descriptor that it does accept two parameters as I'm expecting <code>Outer</code> and <code>boolean</code>?</p>\n</li>\n<li><p>Why does the compiler ignores the access modifier of the local inner class? I'm declaring it as private, yet the disassembled version is package modifier.</p>\n</li>\n</ol>\n"},{"tags":["java","unit-testing","mocking","spock"],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647367148,"creation_date":1647367148,"answer_id":71486933,"question_id":71483127,"body_markdown":"You want to use `Mock(MyPortType, additionalInterfaces: [BindingProvider])`, i.e. [A la Carte Mocks][1].\r\nHowever, there is an [open issue][2] which prevents defining responses for the additional interfaces methods, so it will only pass `instanceof` checks. As a workaround you can define a test interface that extends both interfaces.\r\n\r\n```\r\ninterface TestPortType extends MyPortType, BindingProvider {}\r\n// ...\r\nTestPortType port = Mock(TestPortType)\r\n```\r\n\r\n\r\n\r\n  [1]: https://spockframework.org/spock/docs/2.1/all_in_one.html#ALaCarteMocks\r\n  [2]: https://github.com/spockframework/spock/issues/1405","title":"Spock mock multiple interfaces","body":"<p>You want to use <code>Mock(MyPortType, additionalInterfaces: [BindingProvider])</code>, i.e. <a href=\"https://spockframework.org/spock/docs/2.1/all_in_one.html#ALaCarteMocks\" rel=\"nofollow noreferrer\">A la Carte Mocks</a>.\nHowever, there is an <a href=\"https://github.com/spockframework/spock/issues/1405\" rel=\"nofollow noreferrer\">open issue</a> which prevents defining responses for the additional interfaces methods, so it will only pass <code>instanceof</code> checks. As a workaround you can define a test interface that extends both interfaces.</p>\n<pre><code>interface TestPortType extends MyPortType, BindingProvider {}\n// ...\nTestPortType port = Mock(TestPortType)\n</code></pre>\n"}],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71486933,"answer_count":1,"score":0,"last_activity_date":1647367148,"creation_date":1647351098,"question_id":71483127,"body_markdown":"I have a Jax-WS Webservice call which is enclosed in a class which I need to test using spock.\r\nThe implementation of the webservice call is done in a superclass which I can&#39;t change. I would prefer to do a redesign and get rid of the inheritance but I can&#39;t do that.\r\n\r\nFor my unit test I wan&#39;t to mock the webservice. The code which creates the port looks like this:\r\n\r\n    MyPortType client = createServiceClient(); //inherited from superclass, needs to be mocked\r\n    (BindingProvider) bp = (BindingProvider) client;\r\n\r\nThat cast to ```BindingProvider``` is always safe with JAX-WS, so that&#39;s not a problem. However I need to mock the ```createServiceClient()``` method and I need it to return a mock which implements both ```MyPortType``` and ```BindingProvider```.\r\n\r\nHere&#39;s what I&#39;ve got so far:\r\n\r\n    MyPortType port = Mock(MyPortType) as BindingProvider\r\n    port.myMethod(_ as MyType) &gt;&gt; Mock(MyResponse)\r\n\r\nBut I get this exception:\r\n\r\n    java.lang.AbstractMethodError: Receiver class $Proxy541_groovyProxy does not define or inherit an implementation of the resolved method &#39;abstract MyResponse myMethod(MyType)&#39; of interface MyPortType.\r\n\r\nI suspect that I&#39;m still defining the ```MyPortType``` Mock the wrong way, but I can&#39;t figure it out.\r\n\r\nHas anybody tried this kind of thing before?\r\n\r\n**EDIT**: Both of these return true, so it would seem, that the mock for the class works, but the mock for the method does not:\r\n\r\n    port instanceof MyPortType\r\n    port instanceof BindingProvider","title":"Spock mock multiple interfaces","body":"<p>I have a Jax-WS Webservice call which is enclosed in a class which I need to test using spock.\nThe implementation of the webservice call is done in a superclass which I can't change. I would prefer to do a redesign and get rid of the inheritance but I can't do that.</p>\n<p>For my unit test I wan't to mock the webservice. The code which creates the port looks like this:</p>\n<pre><code>MyPortType client = createServiceClient(); //inherited from superclass, needs to be mocked\n(BindingProvider) bp = (BindingProvider) client;\n</code></pre>\n<p>That cast to <code>BindingProvider</code> is always safe with JAX-WS, so that's not a problem. However I need to mock the <code>createServiceClient()</code> method and I need it to return a mock which implements both <code>MyPortType</code> and <code>BindingProvider</code>.</p>\n<p>Here's what I've got so far:</p>\n<pre><code>MyPortType port = Mock(MyPortType) as BindingProvider\nport.myMethod(_ as MyType) &gt;&gt; Mock(MyResponse)\n</code></pre>\n<p>But I get this exception:</p>\n<pre><code>java.lang.AbstractMethodError: Receiver class $Proxy541_groovyProxy does not define or inherit an implementation of the resolved method 'abstract MyResponse myMethod(MyType)' of interface MyPortType.\n</code></pre>\n<p>I suspect that I'm still defining the <code>MyPortType</code> Mock the wrong way, but I can't figure it out.</p>\n<p>Has anybody tried this kind of thing before?</p>\n<p><strong>EDIT</strong>: Both of these return true, so it would seem, that the mock for the class works, but the mock for the method does not:</p>\n<pre><code>port instanceof MyPortType\nport instanceof BindingProvider\n</code></pre>\n"},{"tags":["java","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647366926,"creation_date":1647366926,"answer_id":71486874,"question_id":71485100,"body_markdown":"Try using an `abstract class` instead of an interface, and then putting the field inside it. That way your `isIndividual` method can access the field directly.\r\n\r\nFor example:\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, nullValuePropertyMappingStrategy = IGNORE)\r\npublic abstract class TransferMapper {\r\n\r\n  @Value(&quot;${clientType.individual.channelIds}&quot;)\r\n  private List&lt;String&gt; validIndividualChannelIds;\r\n\r\n  // @Mapping annotations here.\r\n  abstract Transfer toTransfer(TransferRequest transferRequest, TransferHeaders headers, UUID messageId);\r\n\r\n  @AfterMapping\r\n  protected void mapClientType(@MappingTarget Transfer transfer, TransferHeaders headers, TransferRequest transferRequest) {\r\n    if (isIndividual(headers, transferRequest)) {\r\n      transfer.setClientType(ClientType.INDIVIDUAL);\r\n    } else {\r\n      transfer.setClientType(ClientType.ORGANISATION);\r\n    }\r\n  }\r\n\r\n  private boolean isIndividual(TransferHeaders headers, TransferRequest transferRequest) {\r\n    return validIndividualChannelIds.contains(headers.getChannelId()) ||\r\n            (ChannelType.BATCH.getValue().equals(headers.getChannelType()));\r\n  }\r\n\r\n}\r\n```","title":"How to inject a value to a MapStruct interface - java","body":"<p>Try using an <code>abstract class</code> instead of an interface, and then putting the field inside it. That way your <code>isIndividual</code> method can access the field directly.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, nullValuePropertyMappingStrategy = IGNORE)\npublic abstract class TransferMapper {\n\n  @Value(&quot;${clientType.individual.channelIds}&quot;)\n  private List&lt;String&gt; validIndividualChannelIds;\n\n  // @Mapping annotations here.\n  abstract Transfer toTransfer(TransferRequest transferRequest, TransferHeaders headers, UUID messageId);\n\n  @AfterMapping\n  protected void mapClientType(@MappingTarget Transfer transfer, TransferHeaders headers, TransferRequest transferRequest) {\n    if (isIndividual(headers, transferRequest)) {\n      transfer.setClientType(ClientType.INDIVIDUAL);\n    } else {\n      transfer.setClientType(ClientType.ORGANISATION);\n    }\n  }\n\n  private boolean isIndividual(TransferHeaders headers, TransferRequest transferRequest) {\n    return validIndividualChannelIds.contains(headers.getChannelId()) ||\n            (ChannelType.BATCH.getValue().equals(headers.getChannelType()));\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1009189,"reputation":557,"user_id":1022149,"accept_rate":50,"display_name":"Steve B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647366926,"creation_date":1647359297,"question_id":71485100,"body_markdown":"I have a MapStruct interface that receives a List&lt;&gt; as a parameter which is read from a yaml config file\r\n\r\n      @Value(&quot;${clientType.individual.channelIds}&quot;)\r\n      private List&lt;String&gt; validIndividualChannelIds;\r\n\r\nI was wondering if there was either a way to retrieve that property from within the MapStruct interace or injected into the interface to avoid having to pass that parameter around to mapClientType() and then to isIndividual()?\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, nullValuePropertyMappingStrategy = IGNORE)\r\n    public interface TransferMapper {\r\n    \r\n      @Mapping(source = &quot;headers.requestId&quot;, target = &quot;requestId&quot;)\r\n      @Mapping(source = &quot;headers.callback&quot;, target = &quot;callback&quot;)\r\n      @Mapping(source = &quot;headers.agentId&quot;, target = &quot;agentId&quot;)\r\n      @Mapping(source = &quot;headers.partnerId&quot;, target = &quot;partnerId&quot;)\r\n      @Mapping(source = &quot;messageId&quot;, target = &quot;messageId&quot;)\r\n      @Mapping(source = &quot;transferRequest.instructedAmount.amount&quot;, target = &quot;amountWithCurrency.amount&quot;)\r\n      @Mapping(source = &quot;transferRequest.instructedAmount.currency&quot;, target = &quot;amountWithCurrency.currency&quot;)\r\n      @Mapping(source = &quot;transferRequest.debtor.identification.organisationIdentification.other.identification&quot;, target = &quot;clientId&quot;)\r\n      Transfer toTransfer(TransferRequest transferRequest, TransferHeaders headers, UUID messageId, List&lt;String&gt; validIndividualChannelIds);\r\n    \r\n      @AfterMapping\r\n      default void mapClientType(@MappingTarget Transfer transfer, TransferHeaders headers,\r\n                                 TransferRequest transferRequest, List&lt;String&gt; validIndividualChannelIds) {\r\n        if (isIndividual(headers, transferRequest, validIndividualChannelIds)) {\r\n          transfer.setClientType(ClientType.INDIVIDUAL);\r\n        } else {\r\n          transfer.setClientType(ClientType.ORGANISATION);\r\n        }\r\n      }\r\n    \r\n      default boolean isIndividual(TransferHeaders headers, TransferRequest transferRequest, List&lt;String&gt; validIndividualChannelIds) {\r\n        return validIndividualChannelIds.contains(headers.getChannelId()) ||\r\n                (ChannelType.BATCH.getValue().equals(headers.getChannelType()));\r\n      }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"How to inject a value to a MapStruct interface - java","body":"<p>I have a MapStruct interface that receives a List&lt;&gt; as a parameter which is read from a yaml config file</p>\n<pre><code>  @Value(&quot;${clientType.individual.channelIds}&quot;)\n  private List&lt;String&gt; validIndividualChannelIds;\n</code></pre>\n<p>I was wondering if there was either a way to retrieve that property from within the MapStruct interace or injected into the interface to avoid having to pass that parameter around to mapClientType() and then to isIndividual()?</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, nullValuePropertyMappingStrategy = IGNORE)\npublic interface TransferMapper {\n\n  @Mapping(source = &quot;headers.requestId&quot;, target = &quot;requestId&quot;)\n  @Mapping(source = &quot;headers.callback&quot;, target = &quot;callback&quot;)\n  @Mapping(source = &quot;headers.agentId&quot;, target = &quot;agentId&quot;)\n  @Mapping(source = &quot;headers.partnerId&quot;, target = &quot;partnerId&quot;)\n  @Mapping(source = &quot;messageId&quot;, target = &quot;messageId&quot;)\n  @Mapping(source = &quot;transferRequest.instructedAmount.amount&quot;, target = &quot;amountWithCurrency.amount&quot;)\n  @Mapping(source = &quot;transferRequest.instructedAmount.currency&quot;, target = &quot;amountWithCurrency.currency&quot;)\n  @Mapping(source = &quot;transferRequest.debtor.identification.organisationIdentification.other.identification&quot;, target = &quot;clientId&quot;)\n  Transfer toTransfer(TransferRequest transferRequest, TransferHeaders headers, UUID messageId, List&lt;String&gt; validIndividualChannelIds);\n\n  @AfterMapping\n  default void mapClientType(@MappingTarget Transfer transfer, TransferHeaders headers,\n                             TransferRequest transferRequest, List&lt;String&gt; validIndividualChannelIds) {\n    if (isIndividual(headers, transferRequest, validIndividualChannelIds)) {\n      transfer.setClientType(ClientType.INDIVIDUAL);\n    } else {\n      transfer.setClientType(ClientType.ORGANISATION);\n    }\n  }\n\n  default boolean isIndividual(TransferHeaders headers, TransferRequest transferRequest, List&lt;String&gt; validIndividualChannelIds) {\n    return validIndividualChannelIds.contains(headers.getChannelId()) ||\n            (ChannelType.BATCH.getValue().equals(headers.getChannelType()));\n  }\n\n}\n</code></pre>\n"},{"tags":["java","sql-server","jdbc","bulkinsert","insert-update"],"comments":[{"owner":{"account_id":20873194,"reputation":31568,"user_id":15332650,"display_name":"Stu"},"score":1,"creation_date":1627845722,"post_id":68613406,"comment_id":121259357,"body_markdown":"Batching with &lt;=5000 rows per batch would be a good idea as you allude to. Generally when loading data it&#39;s a good idea to get the data out of the source file and into a staging table first, and from there run a batch insert/update process within sql server; involving a client application for inserting into production tables in my experience is never the most performant nor concurrency-friendly way.","body":"Batching with &lt;=5000 rows per batch would be a good idea as you allude to. Generally when loading data it&#39;s a good idea to get the data out of the source file and into a staging table first, and from there run a batch insert/update process within sql server; involving a client application for inserting into production tables in my experience is never the most performant nor concurrency-friendly way."},{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":1,"creation_date":1627846066,"post_id":68613406,"comment_id":121259423,"body_markdown":"Use Bulk Copy https://learn.microsoft.com/en-us/sql/connect/jdbc/use-bulk-copy-api-batch-insert-operation?view=sql-server-ver15#","body":"Use Bulk Copy <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/use-bulk-copy-api-batch-insert-operation?view=sql-server-ver15#\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1627856062,"post_id":68613406,"comment_id":121261389,"body_markdown":"You may find additional insights [on the DBA site](https://dba.stackexchange.com/), if you have not already taken a look.","body":"You may find additional insights <a href=\"https://dba.stackexchange.com/\">on the DBA site</a>, if you have not already taken a look."}],"answers":[{"tags":[],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647366823,"creation_date":1647366823,"answer_id":71486847,"question_id":68613406,"body_markdown":"After looking into it, the best solution i found for the following,\r\n\r\nFirst as stated in the comments, I read the whole file loaded it into memory in a java structure.\r\n\r\nAfter loading the file I then iterated the java stricter and started to load each record in the batch. At the same time I kept a counter on each item I add the batch.\r\nWhen the counter hits 5000, I do a commit on the batch, reset the counter to 0 and keep adding to the following items I either hit 5000 again or reached the end of the iteration.\r\n\r\nBy doing this I am preventing MSSQL from creating a lock on the table, and the table can still be used by the other processes and applications.\r\n","title":"Best strategy for Massive Insert/Update using jdbc in mssqlserver","body":"<p>After looking into it, the best solution i found for the following,</p>\n<p>First as stated in the comments, I read the whole file loaded it into memory in a java structure.</p>\n<p>After loading the file I then iterated the java stricter and started to load each record in the batch. At the same time I kept a counter on each item I add the batch.\nWhen the counter hits 5000, I do a commit on the batch, reset the counter to 0 and keep adding to the following items I either hit 5000 again or reached the end of the iteration.</p>\n<p>By doing this I am preventing MSSQL from creating a lock on the table, and the table can still be used by the other processes and applications.</p>\n"}],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71486847,"answer_count":1,"score":0,"last_activity_date":1647366823,"creation_date":1627843693,"question_id":68613406,"body_markdown":"Good Day, I posted this question previously but it seems I am not clear enough so I will try to be as detailed as possible here about my situation.\r\n\r\nI need to implement a solution to do a daily extraction of data from some CSV files and using only JDBC insert this data into a production environment database tables.\r\n\r\nI have to insert into 2 tables\r\n\r\nTables :\r\n\r\n        Table1 (\r\n        [func] [varchar](8) NOT NULL,\r\n    \t[Ver] [smallint] NOT NULL,\r\n    \t[id] [varchar](32) NOT NULL,\r\n    \t[desc] [varchar](300) NOT NULL,\r\n    \t[value] [float] NOT NULL,\r\n    \t[dtcreated] [date] NOT NULL,\r\n    \t[dtloaded] [date] NULL,\r\n     CONSTRAINT [Table1_PK] PRIMARY KEY CLUSTERED \r\n    (\r\n    \t[func] ASC,\r\n    \t[ver] ASC,\r\n    \t[id] ASC,\r\n    \t[desc] ASC,\r\n    \t[dtcreated] ASC\r\n    );\r\n    \r\n    table2 (\r\n        [id] [varchar](32) NOT NULL,\r\n        [f1] [varchar](50) NOT NULL,\r\n        [f2] [varchar](32) NOT NULL,\r\n        [f3] [varchar](6) NULL,\r\n        [f4] [varchar](3) NULL,\r\n        [f5] [varchar](3) NULL,\r\n        [f6] [varchar](32) NULL,\r\n        [DtStart] [date] NOT NULL,\r\n        [DtEnd] [date] NOT NULL,\r\n        [dtcreated] [date] NOT NULL,\r\n        [dtloaded] [date] NULL,\r\n        CONSTRAINT [table2_PK] PRIMARY KEY CLUSTERED \r\n        (\r\n        \t[id] ASC,\r\n        \t[DtStart] DESC,\r\n        \t[DtEnd] DESC\r\n        )\r\n\r\nTable1 has a size of 400+GB with 6,500+ Million Records.\r\nTable2 has a size of 30+GB with about 5 Million Records.\r\n\r\nIn table1 I need to process and insert 1.5 Million records.\r\n\r\nIn table2 I need to process and update/insert 1.1 Million records, this is done using a merge-when-matched query.\r\n\r\nI need to be able to do these 2 processes without interruption of usage of these tables. \r\n\r\nmy code does the following\r\n\r\n\tpublic void processFile(String fileLocation) throws IOException, SQLException{\r\n\t\ttry {\r\n\r\n\t\t\tSqlClient sqlClient = SqlClient.from(DriverClassName.SQLSERVER, DriverConnectionString.barra());\r\n\t\t\tConnection connection = sqlClient.getConnection();\r\n\r\n\t\t\tPreparedStatement pstmt  = connection.prepareStatement(getSql());\r\n\r\n\t\t\tFile file = new File(fileLocation);\r\n\r\n\t\t\ttry (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n\t\t\t\tint lnproc = 0;\r\n\t\t\t\tint batchCount = 0;\r\n\t\t\t\tString line;\r\n\t\t\t\twhile (((line = br.readLine()) != null) {\r\n\t\t\r\n\t\t\t\t\tString[] parts = line.split(&quot;,&quot;);\r\n                    pstmt.clearParameters();\r\n                    .....//Process parts and add them to the preparestatement\r\n                    pstmt.addBatch();\r\n\t\t\t\t\tbatchCount++;\r\n\t\t\r\n\t\t\t\t\tif(batchCount&gt;=batchSize){\r\n\t\t\t\t\t\tbatchCount = 0;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tpstmt.executeBatch();\r\n\t\t\t\t\t\t}catch (BatchUpdateException ex){\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tpstmt.executeBatch();\r\n\t\t\t\t}catch (BatchUpdateException ex){\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconnection.commit();\r\n\t\t\tconnection.close();\r\n\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\r\n\t\t}\r\n\t}\r\n\r\n\r\nbecause of the huge amount of records to insert in each table, i can generate dfferent locks on the tables that can afect the production environment.\r\n\r\nI have done some research and I have multiple strategies I am thinking of using\r\n\r\n - create batches of max 5k inserts and commit them to prevent lock-escalation\r\n - committing after every record to prevent locks and\r\n   transactions logs.\r\n\r\nI would like to pick the brains of the community about what you think could be the best strategy to use in this case.\r\n\r\nAnd any recomendations you can make me.","title":"Best strategy for Massive Insert/Update using jdbc in mssqlserver","body":"<p>Good Day, I posted this question previously but it seems I am not clear enough so I will try to be as detailed as possible here about my situation.</p>\n<p>I need to implement a solution to do a daily extraction of data from some CSV files and using only JDBC insert this data into a production environment database tables.</p>\n<p>I have to insert into 2 tables</p>\n<p>Tables :</p>\n<pre><code>    Table1 (\n    [func] [varchar](8) NOT NULL,\n    [Ver] [smallint] NOT NULL,\n    [id] [varchar](32) NOT NULL,\n    [desc] [varchar](300) NOT NULL,\n    [value] [float] NOT NULL,\n    [dtcreated] [date] NOT NULL,\n    [dtloaded] [date] NULL,\n CONSTRAINT [Table1_PK] PRIMARY KEY CLUSTERED \n(\n    [func] ASC,\n    [ver] ASC,\n    [id] ASC,\n    [desc] ASC,\n    [dtcreated] ASC\n);\n\ntable2 (\n    [id] [varchar](32) NOT NULL,\n    [f1] [varchar](50) NOT NULL,\n    [f2] [varchar](32) NOT NULL,\n    [f3] [varchar](6) NULL,\n    [f4] [varchar](3) NULL,\n    [f5] [varchar](3) NULL,\n    [f6] [varchar](32) NULL,\n    [DtStart] [date] NOT NULL,\n    [DtEnd] [date] NOT NULL,\n    [dtcreated] [date] NOT NULL,\n    [dtloaded] [date] NULL,\n    CONSTRAINT [table2_PK] PRIMARY KEY CLUSTERED \n    (\n        [id] ASC,\n        [DtStart] DESC,\n        [DtEnd] DESC\n    )\n</code></pre>\n<p>Table1 has a size of 400+GB with 6,500+ Million Records.\nTable2 has a size of 30+GB with about 5 Million Records.</p>\n<p>In table1 I need to process and insert 1.5 Million records.</p>\n<p>In table2 I need to process and update/insert 1.1 Million records, this is done using a merge-when-matched query.</p>\n<p>I need to be able to do these 2 processes without interruption of usage of these tables.</p>\n<p>my code does the following</p>\n<pre><code>public void processFile(String fileLocation) throws IOException, SQLException{\n    try {\n\n        SqlClient sqlClient = SqlClient.from(DriverClassName.SQLSERVER, DriverConnectionString.barra());\n        Connection connection = sqlClient.getConnection();\n\n        PreparedStatement pstmt  = connection.prepareStatement(getSql());\n\n        File file = new File(fileLocation);\n\n        try (BufferedReader br = new BufferedReader(new FileReader(file))) {\n            int lnproc = 0;\n            int batchCount = 0;\n            String line;\n            while (((line = br.readLine()) != null) {\n    \n                String[] parts = line.split(&quot;,&quot;);\n                pstmt.clearParameters();\n                .....//Process parts and add them to the preparestatement\n                pstmt.addBatch();\n                batchCount++;\n    \n                if(batchCount&gt;=batchSize){\n                    batchCount = 0;\n                    try {\n                        pstmt.executeBatch();\n                    }catch (BatchUpdateException ex){               \n                    }\n                }\n            }\n\n            try {\n                pstmt.executeBatch();\n            }catch (BatchUpdateException ex){\n            }\n        }\n\n        connection.commit();\n        connection.close();\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\n    }\n}\n</code></pre>\n<p>because of the huge amount of records to insert in each table, i can generate dfferent locks on the tables that can afect the production environment.</p>\n<p>I have done some research and I have multiple strategies I am thinking of using</p>\n<ul>\n<li>create batches of max 5k inserts and commit them to prevent lock-escalation</li>\n<li>committing after every record to prevent locks and\ntransactions logs.</li>\n</ul>\n<p>I would like to pick the brains of the community about what you think could be the best strategy to use in this case.</p>\n<p>And any recomendations you can make me.</p>\n"},{"tags":["java","spring-boot","unit-testing","integration-testing","converters"],"answers":[{"tags":[],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647366768,"creation_date":1647366768,"answer_id":71486837,"question_id":71486793,"body_markdown":"Simply use your POJO instead of `String.class` in the &quot;post&quot; method:  \r\n`ResponseEntity&lt;MyPojo&gt; response = restTemplate.postForEntity(&quot;http://localhost:8081/api&quot;, request, MyPojo.class);`\r\n\r\nor directly:  \r\n`MyPojo myPojo = restTemplate.postForObject(&quot;http://localhost:8081/api&quot;, request, MyPojo.class);`\r\n\r\nIf you have followed the standard Spring Boot setup for your tests, then the Resttemplate is automatically configured with sane defaults to deserialize your POJO (using the Jackson library most likely).","title":"Spring boot: Converting response to pojo","body":"<p>Simply use your POJO instead of <code>String.class</code> in the &quot;post&quot; method:<br />\n<code>ResponseEntity&lt;MyPojo&gt; response = restTemplate.postForEntity(&quot;http://localhost:8081/api&quot;, request, MyPojo.class);</code></p>\n<p>or directly:<br />\n<code>MyPojo myPojo = restTemplate.postForObject(&quot;http://localhost:8081/api&quot;, request, MyPojo.class);</code></p>\n<p>If you have followed the standard Spring Boot setup for your tests, then the Resttemplate is automatically configured with sane defaults to deserialize your POJO (using the Jackson library most likely).</p>\n"}],"owner":{"account_id":24427070,"reputation":101,"user_id":18352519,"display_name":"Bash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1895,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71486837,"answer_count":1,"score":0,"last_activity_date":1647366768,"creation_date":1647366548,"question_id":71486793,"body_markdown":"I am busy with an integration test. I have a struggle with converting the response body to the required entity data: \r\n```\r\n  HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;header_name&quot;, &quot;header_value&quot;);\r\n        headers.setContentType(MediaType.APPLICATION_XML);\r\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(fileToBeRead(&quot;file.xml&quot;), headers);\r\n        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(&quot;http://localhost:8081/api&quot;, request, String.class);\r\n\r\n```\r\nhow can I convert the the received json data to Java POJO.?","title":"Spring boot: Converting response to pojo","body":"<p>I am busy with an integration test. I have a struggle with converting the response body to the required entity data:</p>\n<pre><code>  HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;header_name&quot;, &quot;header_value&quot;);\n        headers.setContentType(MediaType.APPLICATION_XML);\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(fileToBeRead(&quot;file.xml&quot;), headers);\n        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(&quot;http://localhost:8081/api&quot;, request, String.class);\n\n</code></pre>\n<p>how can I convert the the received json data to Java POJO.?</p>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1647367147,"post_id":71485986,"comment_id":126351734,"body_markdown":"Welcome to stack overflow.  As a side note, since you&#39;re dealing with money I would urge you to read the following articles that basically state, don&#39;t use a float for storing money values.  [Money](https://martinfowler.com/eaaCatalog/money.html) by Martin Fowler,  [You better work in cents, not dollars](https://blog.agentrisk.com/you-better-work-in-cents-not-dollars-2edb52cdf308).","body":"Welcome to stack overflow.  As a side note, since you&#39;re dealing with money I would urge you to read the following articles that basically state, don&#39;t use a float for storing money values.  <a href=\"https://martinfowler.com/eaaCatalog/money.html\" rel=\"nofollow noreferrer\">Money</a> by Martin Fowler,  <a href=\"https://blog.agentrisk.com/you-better-work-in-cents-not-dollars-2edb52cdf308\" rel=\"nofollow noreferrer\">You better work in cents, not dollars</a>."}],"answers":[{"tags":[],"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647363622,"creation_date":1647363622,"answer_id":71486179,"question_id":71485986,"body_markdown":"Since you have tagged Spring and Springboot and asked for cleanest way to validate user inputs, I would suggest Spring aop.\r\n\r\nYou can have a Validation Aspect.\r\n \r\nThis keeps your business logic clean with validation logic separated from it.","title":"What is the cleanest way to validate user input depending on business logic?","body":"<p>Since you have tagged Spring and Springboot and asked for cleanest way to validate user inputs, I would suggest Spring aop.</p>\n<p>You can have a Validation Aspect.</p>\n<p>This keeps your business logic clean with validation logic separated from it.</p>\n"},{"tags":[],"owner":{"account_id":15346986,"reputation":1,"user_id":11072063,"display_name":"m.bidkham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647366036,"creation_date":1647366036,"answer_id":71486683,"question_id":71485986,"body_markdown":"If you are using spring boot, I suppose that using annotation base validation is the cleanest and the most readable way.\r\nUse @Max(value=1000) for amount and also @Pattern for regex validation.For currencies, I suggest using Enum and handling Exception. For the situation EUR you can see this:\r\nhttps://stackoverflow.com/a/2783859/11072063[1]\r\n","title":"What is the cleanest way to validate user input depending on business logic?","body":"<p>If you are using spring boot, I suppose that using annotation base validation is the cleanest and the most readable way.\nUse @Max(value=1000) for amount and also @Pattern for regex validation.For currencies, I suggest using Enum and handling Exception. For the situation EUR you can see this:\n<a href=\"https://stackoverflow.com/a/2783859/11072063%5B1%5D\">https://stackoverflow.com/a/2783859/11072063[1]</a></p>\n"},{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647366666,"creation_date":1647366666,"answer_id":71486817,"question_id":71485986,"body_markdown":"I would recommend looking into [Java Bean Validation][1] via [Hibernate Validator][2].\r\n\r\n[Baeldung has a great tutorial][3] on how to use validation inside of Spring-Boot.\r\n\r\nWhen writing your validation I would urge you to consider the following validation levels:\r\n\r\n - Required, does the value have to exist.\r\n - Type, is the value of the right type?  Meaning is it a string, boolean, or integer?\r\n - Date, does the value meet certain criteria?  Is the value large enough, long enough, complex enough, etc...\r\n - Does the value meet any requirements that are associated with the database?  Does the value have to be unique or does the value have to exist already in the database?\r\n\r\nI wrote a fairly detailed answer a while ago that might be of use:  [How to perform custom validations in Spring MVC?][4]\r\n\r\n\r\n  [1]: https://www.baeldung.com/javax-validation\r\n  [2]: https://hibernate.org/validator/\r\n  [3]: https://www.baeldung.com/spring-boot-bean-validation\r\n  [4]: https://stackoverflow.com/a/65206422/42962","title":"What is the cleanest way to validate user input depending on business logic?","body":"<p>I would recommend looking into <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">Java Bean Validation</a> via <a href=\"https://hibernate.org/validator/\" rel=\"nofollow noreferrer\">Hibernate Validator</a>.</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">Baeldung has a great tutorial</a> on how to use validation inside of Spring-Boot.</p>\n<p>When writing your validation I would urge you to consider the following validation levels:</p>\n<ul>\n<li>Required, does the value have to exist.</li>\n<li>Type, is the value of the right type?  Meaning is it a string, boolean, or integer?</li>\n<li>Date, does the value meet certain criteria?  Is the value large enough, long enough, complex enough, etc...</li>\n<li>Does the value meet any requirements that are associated with the database?  Does the value have to be unique or does the value have to exist already in the database?</li>\n</ul>\n<p>I wrote a fairly detailed answer a while ago that might be of use:  <a href=\"https://stackoverflow.com/a/65206422/42962\">How to perform custom validations in Spring MVC?</a></p>\n"}],"owner":{"account_id":24402334,"reputation":13,"user_id":18330894,"display_name":"Sara Eva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":911,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1647366666,"creation_date":1647362899,"question_id":71485986,"body_markdown":"We have fields: currency, amount, customerId. Let&#39;s think that our users input currencies can be USD, GBP, EUR. For USD we have to check amount (should be less than 1000) and customerId by regex. For GBP we only check customerId by regex. For EUR we only check amount.\r\n\r\nIs switch(currency) and if statements okay for checking validations?","title":"What is the cleanest way to validate user input depending on business logic?","body":"<p>We have fields: currency, amount, customerId. Let's think that our users input currencies can be USD, GBP, EUR. For USD we have to check amount (should be less than 1000) and customerId by regex. For GBP we only check customerId by regex. For EUR we only check amount.</p>\n<p>Is switch(currency) and if statements okay for checking validations?</p>\n"},{"tags":["java","sql-server","jdbc","northwind"],"comments":[{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":1,"creation_date":1647368133,"post_id":71486809,"comment_id":126352084,"body_markdown":"If you don&#39;t **know** how that image is encoded, you will struggle regardless. Simple search will find ways to download a binary column to a file. Using one of those you could compare the contents with that created by your application. If the same, then you need to solve the &quot;what does the image contain&quot; issue (but at least your app is working correctly). If they are not the same, then your problem is with your application code (and perhaps assumptions about any header or content interpretation). Dont&#39; know what &quot;JBP&quot; is.","body":"If you don&#39;t <b>know</b> how that image is encoded, you will struggle regardless. Simple search will find ways to download a binary column to a file. Using one of those you could compare the contents with that created by your application. If the same, then you need to solve the &quot;what does the image contain&quot; issue (but at least your app is working correctly). If they are not the same, then your problem is with your application code (and perhaps assumptions about any header or content interpretation). Dont&#39; know what &quot;JBP&quot; is."},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":4,"creation_date":1647368308,"post_id":71486809,"comment_id":126352148,"body_markdown":"I suggest you ditch the 20+ year old Northwind database and use a newer sample database, like AdventureWorks or WideWorldImporters. Those images are not OLE format.","body":"I suggest you ditch the 20+ year old Northwind database and use a newer sample database, like AdventureWorks or WideWorldImporters. Those images are not OLE format."},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1647372207,"post_id":71486809,"comment_id":126353417,"body_markdown":"@DanGuzman Yeah. Good idea. I was planning on testing with WideWorldImporters anyway.","body":"@DanGuzman Yeah. Good idea. I was planning on testing with WideWorldImporters anyway."}],"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647366632,"creation_date":1647366632,"question_id":71486809,"body_markdown":"I&#39;m unit testing binary data in a sample database and I want to read the image column from the Categories table from northwind sample db and save it to a file.\r\n\r\nhttps://github.com/microsoft/sql-server-samples\r\n\r\nI get the byte array fine but if I write it the image file is invalid.  I&#39;ve read that the format contains an OLE header 78 bytes to remove. I tried that but still the image is not viewable when I save it to a file.  I tried saving as JBP and BMP. Neither worked.\r\n\r\nAny ideas?\r\n\r\n\r\n","title":"How to extract &quot;Image&quot; type from SQL Server Northwind database with JDBC","body":"<p>I'm unit testing binary data in a sample database and I want to read the image column from the Categories table from northwind sample db and save it to a file.</p>\n<p><a href=\"https://github.com/microsoft/sql-server-samples\" rel=\"nofollow noreferrer\">https://github.com/microsoft/sql-server-samples</a></p>\n<p>I get the byte array fine but if I write it the image file is invalid.  I've read that the format contains an OLE header 78 bytes to remove. I tried that but still the image is not viewable when I save it to a file.  I tried saving as JBP and BMP. Neither worked.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","jvm"],"answers":[{"tags":[],"owner":{"account_id":23675581,"reputation":426,"user_id":17701864,"display_name":"NewbieDeveloper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647366121,"creation_date":1647366121,"answer_id":71486697,"question_id":71486648,"body_markdown":"If you&#39;re using bash, all you have to do is:\r\n\r\n    echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile\r\n\r\nIf you&#39;re using zsh (which probably means you&#39;re running macOS Catalina or newer), then it should instead be:\r\n\r\n    echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.zshrc\r\n\r\nIn either case, restart your shell.\r\n\r\nIf you have multiple JDK versions installed and you want it to be a specific one, you can use the -v flag to java_home like so:\r\n\r\n    echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home -v 1.7)&quot; &gt;&gt; ~/.bash_profile","title":"jvm path not found on mac","body":"<p>If you're using bash, all you have to do is:</p>\n<pre><code>echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile\n</code></pre>\n<p>If you're using zsh (which probably means you're running macOS Catalina or newer), then it should instead be:</p>\n<pre><code>echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.zshrc\n</code></pre>\n<p>In either case, restart your shell.</p>\n<p>If you have multiple JDK versions installed and you want it to be a specific one, you can use the -v flag to java_home like so:</p>\n<pre><code>echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home -v 1.7)&quot; &gt;&gt; ~/.bash_profile\n</code></pre>\n"}],"owner":{"account_id":21265741,"reputation":65,"user_id":15645980,"display_name":"Deepika reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71486697,"answer_count":1,"score":2,"last_activity_date":1647366586,"creation_date":1647365863,"question_id":71486648,"body_markdown":"I have installed java11 using \r\n\r\n    brew install java11\r\n\r\nThen I tried the below to get JAVA_HOME\r\n\r\n    echo $JAVA_HOME\r\nIt returned empty .\r\nso following the instructions in https://stackoverflow.com/questions/35752497/echo-java-home-returns-nothing\r\n\r\nwhen I have run `ls -l /usr/bin/java`\r\ni cannot see any jvm path as shown in the above link. Below is what I got\r\n\r\n     ~ % ls -l /usr/bin/java\r\n    -rwxr-xr-x  1 root  wheel  168432 Dec  8 05:09 /usr/bin/java\r\n\r\n    ls -l /usr/lib/jvm/\r\n    ls: /usr/lib/jvm/: No such file or directory\r\n\r\nHow to set JAVA_HOME\r\n\r\n","title":"jvm path not found on mac","body":"<p>I have installed java11 using</p>\n<pre><code>brew install java11\n</code></pre>\n<p>Then I tried the below to get JAVA_HOME</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>It returned empty .\nso following the instructions in <a href=\"https://stackoverflow.com/questions/35752497/echo-java-home-returns-nothing\">echo $JAVA_HOME returns nothing</a></p>\n<p>when I have run <code>ls -l /usr/bin/java</code>\ni cannot see any jvm path as shown in the above link. Below is what I got</p>\n<pre><code> ~ % ls -l /usr/bin/java\n-rwxr-xr-x  1 root  wheel  168432 Dec  8 05:09 /usr/bin/java\n\nls -l /usr/lib/jvm/\nls: /usr/lib/jvm/: No such file or directory\n</code></pre>\n<p>How to set JAVA_HOME</p>\n"},{"tags":["java","jvm","heap-memory"],"comments":[{"owner":{"account_id":6957,"reputation":74511,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"score":0,"creation_date":1291916899,"post_id":4401396,"comment_id":4798438,"body_markdown":"possible duplicate of [Java Refuses to Start - Could not reserve enough space for object heap](http://stackoverflow.com/questions/1058471/java-refuses-to-start-could-not-reserve-enough-space-for-object-heap)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1058471/java-refuses-to-start-could-not-reserve-enough-space-for-object-heap\">Java Refuses to Start - Could not reserve enough space for object heap</a>"},{"owner":{"account_id":371521,"reputation":4537,"user_id":720097,"accept_rate":88,"display_name":"Alexander.Iljushkin"},"score":2,"creation_date":1422537449,"post_id":4401396,"comment_id":44794699,"body_markdown":"I also get this error when using jdk/jre 1.6 on my virtual machine, tried to change config values given in comments but this was not helping, after updating to jdk 1.7 the error is gone and larger Xmx parameters applied. Seems there are many changes with heap usage since java 1.6.","body":"I also get this error when using jdk/jre 1.6 on my virtual machine, tried to change config values given in comments but this was not helping, after updating to jdk 1.7 the error is gone and larger Xmx parameters applied. Seems there are many changes with heap usage since java 1.6."},{"owner":{"account_id":133236,"reputation":14472,"user_id":334451,"accept_rate":64,"display_name":"Mikko Rantalainen"},"score":0,"creation_date":1663920931,"post_id":4401396,"comment_id":130357291,"body_markdown":"I got similar error on Ubuntu 20.04 after upgrading from Ubuntu 18.04. I was using OpenJDK version 12 earlier and even though OpenJDK version 12 was available for Ubuntu 20.04, it didn&#39;t work for a complex Java app. Upgrading to more modern OpenJDK version (`sudo apt install openjdk-17-jdk openjdk-12-jdk-`, the dash at the end of `openjdk-12-jdk` tells system to uninstall that package while installing another) things started to work as expected again.","body":"I got similar error on Ubuntu 20.04 after upgrading from Ubuntu 18.04. I was using OpenJDK version 12 earlier and even though OpenJDK version 12 was available for Ubuntu 20.04, it didn&#39;t work for a complex Java app. Upgrading to more modern OpenJDK version (<code>sudo apt install openjdk-17-jdk openjdk-12-jdk-</code>, the dash at the end of <code>openjdk-12-jdk</code> tells system to uninstall that package while installing another) things started to work as expected again."},{"owner":{"account_id":133236,"reputation":14472,"user_id":334451,"accept_rate":64,"display_name":"Mikko Rantalainen"},"score":0,"creation_date":1663921286,"post_id":4401396,"comment_id":130357405,"body_markdown":"The error messages I got were `Not enough space available on the backing filesystem to hold the current max` and `Forcefully lowering max Java heap size to 0M`. The interesting thing was that I had `-Xmx3000m` and system had 16 GB free RAM and filesystem had ~60 GB free space. And `java` forcing the max heap size to zero is obviously not going to work so I guess that&#39;s some weird bug in JVM.","body":"The error messages I got were <code>Not enough space available on the backing filesystem to hold the current max</code> and <code>Forcefully lowering max Java heap size to 0M</code>. The interesting thing was that I had <code>-Xmx3000m</code> and system had 16 GB free RAM and filesystem had ~60 GB free space. And <code>java</code> forcing the max heap size to zero is obviously not going to work so I guess that&#39;s some weird bug in JVM."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":7,"up_vote_count":247,"is_accepted":true,"score":240,"last_activity_date":1553332507,"creation_date":1291916936,"answer_id":4401410,"question_id":4401396,"body_markdown":"Run the JVM with `-XX:MaxHeapSize=512m` (or any big number as you need) (or `-Xmx512m` for short)","title":"Could not reserve enough space for object heap","body":"<p>Run the JVM with <code>-XX:MaxHeapSize=512m</code> (or any big number as you need) (or <code>-Xmx512m</code> for short)</p>\n"},{"tags":[],"owner":{"account_id":54172,"reputation":3040,"user_id":162056,"accept_rate":79,"display_name":"daramasala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291924665,"creation_date":1291924665,"answer_id":4402525,"question_id":4401396,"body_markdown":"Assuming you have enough free memory and you setup you JVM arguments correctly, you might have a problem of memory fragmentation. Check [Java maximum memory on Windows XP][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/171205/java-maximum-memory-on-windows-xp","title":"Could not reserve enough space for object heap","body":"<p>Assuming you have enough free memory and you setup you JVM arguments correctly, you might have a problem of memory fragmentation. Check <a href=\"https://stackoverflow.com/questions/171205/java-maximum-memory-on-windows-xp\">Java maximum memory on Windows XP</a>.</p>\n"},{"tags":[],"owner":{"account_id":29100,"reputation":14836,"user_id":78351,"accept_rate":71,"display_name":"euphoria83"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1352367622,"creation_date":1291925047,"answer_id":4402600,"question_id":4401396,"body_markdown":"Suppose your class is called `Test` in package `mypackage`. Run your code like this:\r\n\r\n    java -Xmx1024m mypackage.Test\r\n\r\nThis will reserve 1024 MB of heap space for your code. If you want 512 MB, you can use:\r\n\r\n    java -Xmx512m mypackage.Test\r\n\r\nUse little m in `1024m`, `512m`, etc\r\n\r\n ","title":"Could not reserve enough space for object heap","body":"<p>Suppose your class is called <code>Test</code> in package <code>mypackage</code>. Run your code like this:</p>\n\n<pre><code>java -Xmx1024m mypackage.Test\n</code></pre>\n\n<p>This will reserve 1024 MB of heap space for your code. If you want 512 MB, you can use:</p>\n\n<pre><code>java -Xmx512m mypackage.Test\n</code></pre>\n\n<p>Use little m in <code>1024m</code>, <code>512m</code>, etc</p>\n"},{"tags":[],"owner":{"account_id":9072,"reputation":8342,"user_id":16605,"accept_rate":29,"display_name":"Axl"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1322017242,"creation_date":1322017242,"answer_id":8236817,"question_id":4401396,"body_markdown":"Combined with -Xmx512M use -d64 to make sure you&#39;re running 64-bit VM. On a 64-bit machine I thought for sure I was running 64-bit virtual machine, but no. After installing 64-bit Java the -d64 option works and -Xmx allows much larger memory sizes.\r\n\r\n    java -d64 -Xmx512M mypackage.Test\r\n","title":"Could not reserve enough space for object heap","body":"<p>Combined with -Xmx512M use -d64 to make sure you're running 64-bit VM. On a 64-bit machine I thought for sure I was running 64-bit virtual machine, but no. After installing 64-bit Java the -d64 option works and -Xmx allows much larger memory sizes.</p>\n\n<pre><code>java -d64 -Xmx512M mypackage.Test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1133471,"reputation":151,"user_id":1119019,"display_name":"Ankam shyamsundar"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1579274310,"creation_date":1325064515,"answer_id":8654060,"question_id":4401396,"body_markdown":"I got the same error and resolved this by configuring it in the run.conf.bat\r\n\r\nRun the JVM with the configuring run.conf.bat in Jboss5x\r\n\r\nIf free memory is not available AS you are passing in the statement then please make changes in run.conf.bat\r\n\r\n    set &quot;JAVA_OPTS=-Xms512m -Xmx512m -XX:MaxPermSize=256m&quot;","title":"Could not reserve enough space for object heap","body":"<p>I got the same error and resolved this by configuring it in the run.conf.bat</p>\n\n<p>Run the JVM with the configuring run.conf.bat in Jboss5x</p>\n\n<p>If free memory is not available AS you are passing in the statement then please make changes in run.conf.bat</p>\n\n<pre><code>set \"JAVA_OPTS=-Xms512m -Xmx512m -XX:MaxPermSize=256m\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":2,"up_vote_count":143,"is_accepted":false,"score":141,"last_activity_date":1375288826,"creation_date":1345488361,"answer_id":12043269,"question_id":4401396,"body_markdown":"This can also be caused by setting something too large on a 32-bit HotSpot vm, for example:\r\n\r\n    -Xms1536m -Xmx1536m\r\n\r\nwhere this *might/would* work:\r\n\r\n    -Xms1336m -Xmx1336m","title":"Could not reserve enough space for object heap","body":"<p>This can also be caused by setting something too large on a 32-bit HotSpot vm, for example:</p>\n\n<pre><code>-Xms1536m -Xmx1536m\n</code></pre>\n\n<p>where this <em>might/would</em> work:</p>\n\n<pre><code>-Xms1336m -Xmx1336m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161909,"reputation":1,"user_id":1915899,"display_name":"Harish"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1355923775,"creation_date":1355922744,"answer_id":13953187,"question_id":4401396,"body_markdown":"No need to do anything just chnage in POM file like below\r\n\r\n    &lt;configuration&gt;\r\n        &lt;maxmemory&gt;1024M&lt;/maxmemory&gt;\r\n    &lt;/configuration&gt;","title":"Could not reserve enough space for object heap","body":"<p>No need to do anything just chnage in POM file like below</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;maxmemory&gt;1024M&lt;/maxmemory&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37795,"reputation":1575,"user_id":108153,"accept_rate":25,"display_name":"codeDr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1360703781,"creation_date":1360703781,"answer_id":14841984,"question_id":4401396,"body_markdown":"I recently faced this issue.  I have 3 java applications that start with 1024m or 1280m heap size.\r\nJava is looking at the available space in swap, and if there is not enough memory available, the jvm exits.\r\n\r\nTo resolve the issue, I had to end several programs that had a large amount of virtual memory allocated.\r\n\r\nI was running on x86-64 linux with a 64-bit jvm.","title":"Could not reserve enough space for object heap","body":"<p>I recently faced this issue.  I have 3 java applications that start with 1024m or 1280m heap size.\nJava is looking at the available space in swap, and if there is not enough memory available, the jvm exits.</p>\n\n<p>To resolve the issue, I had to end several programs that had a large amount of virtual memory allocated.</p>\n\n<p>I was running on x86-64 linux with a 64-bit jvm.</p>\n"},{"tags":[],"owner":{"account_id":465418,"reputation":9386,"user_id":869482,"display_name":"Jens Timmerman"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1553513392,"creation_date":1366800666,"answer_id":16190055,"question_id":4401396,"body_markdown":"I ran into this when using javac, and it doesn&#39;t seem to pick up on the command line options,\r\n\r\n    -bash-3.2$ javac -Xmx256M HelloWorldApp.java \r\n    Error occurred during initialization of VM\r\n    Could not reserve enough space for object heap\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nso the solution here it so set _JAVA_OPTIONS\r\n\r\n    -bash-3.2$ export _JAVA_OPTIONS=&quot;-Xmx256M&quot;\r\n    -bash-3.2$ javac HelloWorldApp.java \r\n    Picked up _JAVA_OPTIONS: -Xmx256M\r\n\r\nAnd this compiles fine.\r\n\r\nThis happens to me on machines with a lot of RAM, but with lower memory ulimits. Java decides to allocate a big heap because it detects the ram in the machine, but it&#39;s not allowed to allocate it because of ulimits. ","title":"Could not reserve enough space for object heap","body":"<p>I ran into this when using javac, and it doesn't seem to pick up on the command line options,</p>\n\n<pre><code>-bash-3.2$ javac -Xmx256M HelloWorldApp.java \nError occurred during initialization of VM\nCould not reserve enough space for object heap\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>so the solution here it so set _JAVA_OPTIONS</p>\n\n<pre><code>-bash-3.2$ export _JAVA_OPTIONS=\"-Xmx256M\"\n-bash-3.2$ javac HelloWorldApp.java \nPicked up _JAVA_OPTIONS: -Xmx256M\n</code></pre>\n\n<p>And this compiles fine.</p>\n\n<p>This happens to me on machines with a lot of RAM, but with lower memory ulimits. Java decides to allocate a big heap because it detects the ram in the machine, but it's not allowed to allocate it because of ulimits. </p>\n"},{"tags":[],"owner":{"account_id":7236,"reputation":26100,"user_id":12484,"accept_rate":73,"display_name":"Jon Schneider"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1368102530,"creation_date":1368102530,"answer_id":16461785,"question_id":4401396,"body_markdown":"Sometimes, this error indicates that physical memory and swap on the server actually are fully utilized!\r\n\r\nI was seeing this problem recently on a server running RedHat Enterprise Linux 5.7 with 48 GB of RAM.  I found that even just running\r\n\r\n    java -version\r\n\r\ncaused the same error, which established that the problem was not specific to my application.\r\n\r\nRunning \r\n\r\n    cat /proc/meminfo\r\n\r\nreported that MemFree and SwapFree were both well under 1% of the MemTotal and SwapTotal values, respectively:\r\n\r\n    MemTotal:     49300620 kB\r\n    MemFree:        146376 kB\r\n    ...\r\n    SwapTotal:     4192956 kB\r\n    SwapFree:         1364 kB\r\n\r\nStopping a few other running applications on the machine brought the free memory figures up somewhat:\r\n\r\n    MemTotal:     49300620 kB\r\n    MemFree:       2908664 kB\r\n    ...\r\n    SwapTotal:     4192956 kB\r\n    SwapFree:      1016052 kB\r\n\r\nAt this point, a new instance of Java would start up okay, and I was able to run my application.\r\n\r\n(Obviously, for me, this was just a temporary solution; I still have an outstanding task to do a more thorough examination of the processes running on that machine to see if there&#39;s something that can be done to reduce the nominal memory utilization levels, without having to resort to stopping applications.)","title":"Could not reserve enough space for object heap","body":"<p>Sometimes, this error indicates that physical memory and swap on the server actually are fully utilized!</p>\n\n<p>I was seeing this problem recently on a server running RedHat Enterprise Linux 5.7 with 48 GB of RAM.  I found that even just running</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>caused the same error, which established that the problem was not specific to my application.</p>\n\n<p>Running </p>\n\n<pre><code>cat /proc/meminfo\n</code></pre>\n\n<p>reported that MemFree and SwapFree were both well under 1% of the MemTotal and SwapTotal values, respectively:</p>\n\n<pre><code>MemTotal:     49300620 kB\nMemFree:        146376 kB\n...\nSwapTotal:     4192956 kB\nSwapFree:         1364 kB\n</code></pre>\n\n<p>Stopping a few other running applications on the machine brought the free memory figures up somewhat:</p>\n\n<pre><code>MemTotal:     49300620 kB\nMemFree:       2908664 kB\n...\nSwapTotal:     4192956 kB\nSwapFree:      1016052 kB\n</code></pre>\n\n<p>At this point, a new instance of Java would start up okay, and I was able to run my application.</p>\n\n<p>(Obviously, for me, this was just a temporary solution; I still have an outstanding task to do a more thorough examination of the processes running on that machine to see if there's something that can be done to reduce the nominal memory utilization levels, without having to resort to stopping applications.)</p>\n"},{"tags":[],"owner":{"account_id":177873,"reputation":619,"user_id":409486,"accept_rate":17,"display_name":"Fico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388050314,"creation_date":1388050314,"answer_id":20782366,"question_id":4401396,"body_markdown":"In case you are running a java program:\r\n- run your program in a terminal using the correct command for linux it would be &#39;java -jar myprogram.jar&#39; and add -Xms256m -Xmx512m, for instance: &#39;java -jar myprogram.jar Xms256m -Xmx512m&#39;\r\n\r\nIn case you are running a .sh script (linux, mac?) or a .bat script (windows) open the script and look for the java options if they are present and increase the memory.\r\n\r\nIf all of the above doesn&#39;t work, check your processes (ctrl+alt+delete on windows) (ps aux on linux/mac) and kill the processes which use allot of memory and are not necessary for your operating system! =&gt; Try to re-run your program.","title":"Could not reserve enough space for object heap","body":"<p>In case you are running a java program:\n- run your program in a terminal using the correct command for linux it would be 'java -jar myprogram.jar' and add -Xms256m -Xmx512m, for instance: 'java -jar myprogram.jar Xms256m -Xmx512m'</p>\n\n<p>In case you are running a .sh script (linux, mac?) or a .bat script (windows) open the script and look for the java options if they are present and increase the memory.</p>\n\n<p>If all of the above doesn't work, check your processes (ctrl+alt+delete on windows) (ps aux on linux/mac) and kill the processes which use allot of memory and are not necessary for your operating system! => Try to re-run your program.</p>\n"},{"tags":[],"owner":{"account_id":3235782,"reputation":309,"user_id":2730052,"display_name":"Prabhakar"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1389179857,"creation_date":1389179245,"answer_id":20993833,"question_id":4401396,"body_markdown":"## Error : ##\r\nFor the error,&lt;strong&gt; &quot;error occurred during initialization of vm could not reserve enough space for object heap jboss&quot; &lt;/strong&gt;\r\n\r\n## Root Cause : ##\r\n\r\n - Improper/insufficient memory allocation to our JVM as mentioned below.\r\n\r\n - e.g. &lt;strong&gt;JAVA_OPTS=&quot;-Xms1303m -Xmx1303m -XX:MaxPermSize=256m&quot; &lt;/strong&gt; in jboss-eap-6.2\\bin\\standalone.conf or &lt;strong&gt; &quot;JAVA_OPTS=-Xms1G -Xmx1G -XX:MaxPermSize=256M&quot;&lt;/strong&gt; in jboss-eap-6.2\\bin\\standalone.conf.bat which is nothing but JVM memory allocation pool parameters.\r\n\r\n## Resolution : ##\r\n\r\n - Increase the heap size. To increase the heap size, \r\n - goto -&gt; jboss-eap-6.2\\bin\\standalone.conf.bat or jboss-eap-6.2\\bin\\standalone.conf\r\n - change -&gt;JAVA_OPTS=&quot;-Xms256m -Xmx512m -XX:MaxPermSize=256m&quot; where -Xms is Minimum heap size and -Xmx is Maximum heap size.\r\n - Usually its not recommanded to have same size for min and max.\r\n\r\n - If you are running your application from eclipse,\r\n - Double click on the server\r\n - select &#39;open launch configuration&#39; you will be redirected to the window &#39;Edit launch configuration properties&#39;.\r\n - In this windown goto the tab &#39;(x)=Arguments&#39;.\r\n - In VM Arguments, define your heap size as mentioned below\r\n - &quot;-Dprogram.name=JBossTools: JBoss EAP 6.1+ Runtime Server&quot; -server -Xms256m -Xmx512m -XX:MaxPermSize=256m -Dorg.jboss.resolver.warning=true","title":"Could not reserve enough space for object heap","body":"<h2>Error :</h2>\n\n<p>For the error,<strong> \"error occurred during initialization of vm could not reserve enough space for object heap jboss\" </strong></p>\n\n<h2>Root Cause :</h2>\n\n<ul>\n<li><p>Improper/insufficient memory allocation to our JVM as mentioned below.</p></li>\n<li><p>e.g. <strong>JAVA_OPTS=\"-Xms1303m -Xmx1303m -XX:MaxPermSize=256m\" </strong> in jboss-eap-6.2\\bin\\standalone.conf or <strong> \"JAVA_OPTS=-Xms1G -Xmx1G -XX:MaxPermSize=256M\"</strong> in jboss-eap-6.2\\bin\\standalone.conf.bat which is nothing but JVM memory allocation pool parameters.</p></li>\n</ul>\n\n<h2>Resolution :</h2>\n\n<ul>\n<li>Increase the heap size. To increase the heap size, </li>\n<li>goto -> jboss-eap-6.2\\bin\\standalone.conf.bat or jboss-eap-6.2\\bin\\standalone.conf</li>\n<li>change ->JAVA_OPTS=\"-Xms256m -Xmx512m -XX:MaxPermSize=256m\" where -Xms is Minimum heap size and -Xmx is Maximum heap size.</li>\n<li><p>Usually its not recommanded to have same size for min and max.</p></li>\n<li><p>If you are running your application from eclipse,</p></li>\n<li>Double click on the server</li>\n<li>select 'open launch configuration' you will be redirected to the window 'Edit launch configuration properties'.</li>\n<li>In this windown goto the tab '(x)=Arguments'.</li>\n<li>In VM Arguments, define your heap size as mentioned below</li>\n<li>\"-Dprogram.name=JBossTools: JBoss EAP 6.1+ Runtime Server\" -server -Xms256m -Xmx512m -XX:MaxPermSize=256m -Dorg.jboss.resolver.warning=true</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":157345,"reputation":5943,"user_id":375230,"accept_rate":36,"display_name":"h--n"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396585352,"creation_date":1396585352,"answer_id":22853518,"question_id":4401396,"body_markdown":"If you&#39;re running 32bit JVM, change heap size to smaller would probabaly help. You can do this by passing args to java directly or through enviroment variables like following,\r\n\r\n    java -Xms128M -Xmx512M\r\n    JAVA_OPTS=&quot;-Xms128M -Xmx512M&quot;\r\n\r\nFor 64bit JVM, bigger heap size like ```-Xms512M -Xmx1536M``` should work.\r\n\r\nRun ```java -version``` or ```java -d32```, ```java--d64``` for Java7 to check which version you&#39;re running.\r\n\r\n\r\n\r\n","title":"Could not reserve enough space for object heap","body":"<p>If you're running 32bit JVM, change heap size to smaller would probabaly help. You can do this by passing args to java directly or through enviroment variables like following,</p>\n\n<pre><code>java -Xms128M -Xmx512M\nJAVA_OPTS=\"-Xms128M -Xmx512M\"\n</code></pre>\n\n<p>For 64bit JVM, bigger heap size like <code>-Xms512M -Xmx1536M</code> should work.</p>\n\n<p>Run <code>java -version</code> or <code>java -d32</code>, <code>java--d64</code> for Java7 to check which version you're running.</p>\n"},{"tags":[],"owner":{"account_id":3511610,"reputation":3120,"user_id":2935802,"display_name":"Sudhakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404386968,"creation_date":1404386968,"answer_id":24552536,"question_id":4401396,"body_markdown":"Anyway, here is how to fix it:\r\nGo to Start-&gt;Control Panel-&gt;System-&gt;Advanced(tab)-&gt;Environment Variables-&gt;System Variables-&gt;New:\r\nVariable name: _JAVA_OPTIONS\r\nVariable value: -Xmx512M\r\n\r\nOR \r\n\r\nChange the ant call as shown as below.\r\n\r\n       &lt;exec\r\n            **&lt;arg value=&quot;-J-Xmx512m&quot; /&gt;**\r\n        &lt;/exec&gt;\r\n\r\nIt worked for me.","title":"Could not reserve enough space for object heap","body":"<p>Anyway, here is how to fix it:\nGo to Start->Control Panel->System->Advanced(tab)->Environment Variables->System Variables->New:\nVariable name: _JAVA_OPTIONS\nVariable value: -Xmx512M</p>\n\n<p>OR </p>\n\n<p>Change the ant call as shown as below.</p>\n\n<pre><code>   &lt;exec\n        **&lt;arg value=\"-J-Xmx512m\" /&gt;**\n    &lt;/exec&gt;\n</code></pre>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1421700746,"creation_date":1421700746,"answer_id":28033272,"question_id":4401396,"body_markdown":"I had right amount of memory settings but for me it was using a 64bit intellij with 32 bit jvm. Once I switched to 64 bit VM, the error was gone.","title":"Could not reserve enough space for object heap","body":"<p>I had right amount of memory settings but for me it was using a 64bit intellij with 32 bit jvm. Once I switched to 64 bit VM, the error was gone.</p>\n"},{"tags":[],"owner":{"account_id":4440614,"reputation":1980,"user_id":3615225,"display_name":"Mohamed Adel"},"down_vote_count":1,"up_vote_count":63,"is_accepted":false,"score":62,"last_activity_date":1553332641,"creation_date":1430961098,"answer_id":30090271,"question_id":4401396,"body_markdown":"here is how to fix it:    \r\n\r\n - Go to Start-&gt;Control Panel-&gt;System-&gt;Advanced(tab)-&gt;Environment Variables-&gt;System\r\n\r\n    Variables-&gt;New: Variable name: `_JAVA_OPTIONS`\r\n    Variable value: `-Xmx512M`\r\n    Variable name: `Path`     \r\n    Variable value: `%PATH%;C:\\Program Files\\Java\\jre6\\bin;F:\\JDK\\bin;`\r\n\r\nChange this to your appropriate path.","title":"Could not reserve enough space for object heap","body":"<p>here is how to fix it:    </p>\n\n<ul>\n<li><p>Go to Start->Control Panel->System->Advanced(tab)->Environment Variables->System</p>\n\n<p>Variables->New: Variable name: <code>_JAVA_OPTIONS</code>\nVariable value: <code>-Xmx512M</code>\nVariable name: <code>Path</code><br>\nVariable value: <code>%PATH%;C:\\Program Files\\Java\\jre6\\bin;F:\\JDK\\bin;</code></p></li>\n</ul>\n\n<p>Change this to your appropriate path.</p>\n"},{"tags":[],"owner":{"account_id":5099432,"reputation":671,"user_id":4089521,"display_name":"Manu Sharma"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1553332678,"creation_date":1450135122,"answer_id":34278394,"question_id":4401396,"body_markdown":"I had similar issues. I had installed 32 bit version of Java on a 64 bit machine. \r\n\r\nBy uninstalling that version and installing 64 bit version of Java. I was able to resolve the issue.","title":"Could not reserve enough space for object heap","body":"<p>I had similar issues. I had installed 32 bit version of Java on a 64 bit machine. </p>\n\n<p>By uninstalling that version and installing 64 bit version of Java. I was able to resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":2633780,"reputation":757,"user_id":2279035,"display_name":"Deepak Singhvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457182201,"creation_date":1457181445,"answer_id":35814208,"question_id":4401396,"body_markdown":"In CASSANDRA_HOME/bin/cassandra.bat you would find following configuration \r\n\r\n    REM JVM Opts we&#39;ll use in legacy run or installation\r\n    set JAVA_OPTS=-ea^\r\n     -javaagent:&quot;%CASSANDRA_HOME%\\lib\\jamm-0.3.0.jar&quot;^\r\n     -Xms**2G**^\r\n     -Xmx**2G**^\r\n\r\nYou can reduce 2G to some smaller number for e.g. 1G or even lesser and it should work.\r\n\r\nSame if you are running on unix box, change in .sh file appropriately.\r\n\r\n","title":"Could not reserve enough space for object heap","body":"<p>In CASSANDRA_HOME/bin/cassandra.bat you would find following configuration </p>\n\n<pre><code>REM JVM Opts we'll use in legacy run or installation\nset JAVA_OPTS=-ea^\n -javaagent:\"%CASSANDRA_HOME%\\lib\\jamm-0.3.0.jar\"^\n -Xms**2G**^\n -Xmx**2G**^\n</code></pre>\n\n<p>You can reduce 2G to some smaller number for e.g. 1G or even lesser and it should work.</p>\n\n<p>Same if you are running on unix box, change in .sh file appropriately.</p>\n"},{"tags":[],"owner":{"account_id":1089981,"reputation":6557,"user_id":1084813,"accept_rate":87,"display_name":"JohnEye"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1553332607,"creation_date":1466156546,"answer_id":37878282,"question_id":4401396,"body_markdown":"32-bit Java requires contiguous free space in memory to run. If you specify a large heap size, there may not be so much contiguous free space in memory even if you have much more free space available than necessary.\r\n\r\nInstalling a 64-bit version of Java helps in these cases, the contiguous memory requirements only applies to 32-bit Java.","title":"Could not reserve enough space for object heap","body":"<p>32-bit Java requires contiguous free space in memory to run. If you specify a large heap size, there may not be so much contiguous free space in memory even if you have much more free space available than necessary.</p>\n\n<p>Installing a 64-bit version of Java helps in these cases, the contiguous memory requirements only applies to 32-bit Java.</p>\n"},{"tags":[],"owner":{"account_id":7463797,"reputation":21,"user_id":5751818,"display_name":"Haris Durrani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476389406,"creation_date":1476389406,"answer_id":40030062,"question_id":4401396,"body_markdown":"Error occurred during initialization of VM\r\n           Could not reserve enough space for 1572864KB object heap\r\n\r\nI changed value of memory in settings.grade file\r\n1536 to 512 and it helped","title":"Could not reserve enough space for object heap","body":"<p>Error occurred during initialization of VM\n           Could not reserve enough space for 1572864KB object heap</p>\n\n<p>I changed value of memory in settings.grade file\n1536 to 512 and it helped</p>\n"},{"tags":[],"owner":{"account_id":2869949,"reputation":693,"user_id":3570133,"accept_rate":60,"display_name":"kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553332584,"creation_date":1484752861,"answer_id":41723092,"question_id":4401396,"body_markdown":"Sometimes it relates as\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-shell --&gt;\r\n\r\n    $ sysctl vm.overcommit_memory\r\n    vm.overcommit_memory = 2\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you set it to:\r\n\r\n    $ sysctl vm.overcommit_memory=0\r\n\r\nIt should work.","title":"Could not reserve enough space for object heap","body":"<p>Sometimes it relates as</p>\n\n<pre class=\"lang-shell prettyprint-override\"><code>$ sysctl vm.overcommit_memory\nvm.overcommit_memory = 2\n</code></pre>\n\n<p>If you set it to:</p>\n\n<pre><code>$ sysctl vm.overcommit_memory=0\n</code></pre>\n\n<p>It should work.</p>\n"},{"tags":[],"owner":{"account_id":1814662,"reputation":51165,"user_id":1650012,"accept_rate":67,"display_name":"kramer65"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1553332553,"creation_date":1487323095,"answer_id":42293924,"question_id":4401396,"body_markdown":"I know there are a lot of answers here already, but none of them helped me. In the end I opened the file `/etc/elasticsearch/jvm.options` and changed:\r\n\r\n    -Xms2G\r\n    -Xmx2G\r\n\r\nto \r\n\r\n    -Xms256M\r\n    -Xmx256M\r\n\r\nThat solved it for me. Hopefully this helps someone else here.\r\n","title":"Could not reserve enough space for object heap","body":"<p>I know there are a lot of answers here already, but none of them helped me. In the end I opened the file <code>/etc/elasticsearch/jvm.options</code> and changed:</p>\n\n<pre><code>-Xms2G\n-Xmx2G\n</code></pre>\n\n<p>to </p>\n\n<pre><code>-Xms256M\n-Xmx256M\n</code></pre>\n\n<p>That solved it for me. Hopefully this helps someone else here.</p>\n"},{"tags":[],"owner":{"account_id":287314,"reputation":77,"user_id":587048,"display_name":"kiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553332911,"creation_date":1492770176,"answer_id":43540201,"question_id":4401396,"body_markdown":"Replace `-Xmx2G` with `-Xms512M` or any greater memory size in cassandra.bat file in cassandra bin directory.","title":"Could not reserve enough space for object heap","body":"<p>Replace <code>-Xmx2G</code> with <code>-Xms512M</code> or any greater memory size in cassandra.bat file in cassandra bin directory.</p>\n"},{"tags":[],"owner":{"account_id":6644573,"reputation":63,"user_id":5129203,"display_name":"Viswanath Nuggu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509372325,"creation_date":1509372325,"answer_id":47017263,"question_id":4401396,"body_markdown":"I got the same error and it got resolved when I deleted temp files using %temp% and restarting eclipse.","title":"Could not reserve enough space for object heap","body":"<p>I got the same error and it got resolved when I deleted temp files using %temp% and restarting eclipse.</p>\n"},{"tags":[],"owner":{"account_id":8633104,"reputation":121,"user_id":6464144,"display_name":"El mehdi AZROUR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553332527,"creation_date":1524576063,"answer_id":50002764,"question_id":4401396,"body_markdown":"Go to Start-&gt;Control Panel-&gt;System-&gt;Advanced(tab)-&gt;Environment Variables-&gt;System Variables-&gt;New:\r\n\r\n\r\n    Variable name: _JAVA_OPTIONS\r\n    Variable value: -Xmx512M\r\n\r\n","title":"Could not reserve enough space for object heap","body":"<p>Go to Start->Control Panel->System->Advanced(tab)->Environment Variables->System Variables->New:</p>\n\n<pre><code>Variable name: _JAVA_OPTIONS\nVariable value: -Xmx512M\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1591319790,"creation_date":1591319790,"answer_id":62206593,"question_id":4401396,"body_markdown":"Open gradle.properties file in android folder.\r\n\r\nReplace this line:\r\n\r\n    org.gradle.jvmargs=-Xmx1536M\r\n\r\nwith:\r\n\r\n    org.gradle.jvmargs=-Xmx512m\r\n\r\n\r\nExplanation:\r\nMax limit from Gradle document:\r\n\r\nIf the requested build environment does not specify a maximum heap size, the Daemon will use up to 512MB of heap.\r\n","title":"Could not reserve enough space for object heap","body":"<p>Open gradle.properties file in android folder.</p>\n\n<p>Replace this line:</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx1536M\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx512m\n</code></pre>\n\n<p>Explanation:\nMax limit from Gradle document:</p>\n\n<p>If the requested build environment does not specify a maximum heap size, the Daemon will use up to 512MB of heap.</p>\n"},{"tags":[],"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647366486,"creation_date":1647366486,"answer_id":71486781,"question_id":4401396,"body_markdown":"In my case I couldn&#39;t increase `org.gradle.jvmargs=-Xmx...` in `gradle.properties` beyond 1GB. It didn&#39;t work because I had two Java installation on my machine, one 32 bit (Gradle was using this one) and the other 64 bit. I resolved the problem by adding `JAVA_HOME` environment variable pointing to 64 bit Java.","title":"Could not reserve enough space for object heap","body":"<p>In my case I couldn't increase <code>org.gradle.jvmargs=-Xmx...</code> in <code>gradle.properties</code> beyond 1GB. It didn't work because I had two Java installation on my machine, one 32 bit (Gradle was using this one) and the other 64 bit. I resolved the problem by adding <code>JAVA_HOME</code> environment variable pointing to 64 bit Java.</p>\n"}],"owner":{"account_id":226571,"reputation":5653,"user_id":487694,"accept_rate":67,"display_name":"Narendra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1214069,"favorite_count":0,"down_vote_count":1,"up_vote_count":324,"accepted_answer_id":4401410,"answer_count":27,"score":323,"last_activity_date":1647366486,"creation_date":1291916797,"question_id":4401396,"body_markdown":"I am getting the following exception repeatedly each time I try to run the program.\n\n&gt; Error occurred during initialization of VM\n&gt;\n&gt; Could not reserve enough space for object heap\n&gt;\n&gt;Could not create the Java virtual machine.\n\nI tried to increase my virtual memory (page size) and RAM size, but to no avail. \n\nHow can I eliminate this error?","title":"Could not reserve enough space for object heap","body":"<p>I am getting the following exception repeatedly each time I try to run the program.</p>\n<blockquote>\n<p>Error occurred during initialization of VM</p>\n<p>Could not reserve enough space for object heap</p>\n<p>Could not create the Java virtual machine.</p>\n</blockquote>\n<p>I tried to increase my virtual memory (page size) and RAM size, but to no avail.</p>\n<p>How can I eliminate this error?</p>\n"},{"tags":["java","user-interface","netbeans"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1601200397,"post_id":64087100,"comment_id":113326888,"body_markdown":"Try launching it from `cmd` and see if there&#39;s any error on the terminal.","body":"Try launching it from <code>cmd</code> and see if there&#39;s any error on the terminal."},{"owner":{"account_id":18105354,"reputation":21,"user_id":13162713,"display_name":"Nelaach"},"score":0,"creation_date":1601201795,"post_id":64087100,"comment_id":113327186,"body_markdown":"It shows me just this: http://prntscr.com/uookhl","body":"It shows me just this: <a href=\"http://prntscr.com/uookhl\" rel=\"nofollow noreferrer\">prntscr.com/uookhl</a>"},{"owner":{"account_id":227300,"reputation":89,"user_id":488894,"accept_rate":0,"display_name":"malik badar"},"score":0,"creation_date":1643177181,"post_id":64087100,"comment_id":125267614,"body_markdown":"Does your problem solved?","body":"Does your problem solved?"}],"owner":{"account_id":18105354,"reputation":21,"user_id":13162713,"display_name":"Nelaach"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647366448,"creation_date":1601200275,"question_id":64087100,"body_markdown":"when I launch netbeans, it&#39;s loading and then it doesn&#39;t launch nothing and if I want to reopen it, it just shows me this: http://prntscr.com/uoo9aa\r\nI tried to uninstall it, but it said I have running program, so I deleted files and tried to install it again, but it didn&#39;t help.\r\nI&#39;m installing Apache Netbeans IDE 12.0 with jdk-14.0.2.\r\n\r\n\r\n","title":"Apache Netbeans IDE 12.0 doesn&#39;t open","body":"<p>when I launch netbeans, it's loading and then it doesn't launch nothing and if I want to reopen it, it just shows me this: <a href=\"http://prntscr.com/uoo9aa\" rel=\"nofollow noreferrer\">http://prntscr.com/uoo9aa</a>\nI tried to uninstall it, but it said I have running program, so I deleted files and tried to install it again, but it didn't help.\nI'm installing Apache Netbeans IDE 12.0 with jdk-14.0.2.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647364518,"creation_date":1647364518,"answer_id":71486363,"question_id":71485940,"body_markdown":"Ok, let me give you steps to achieve this, I won’t take the fun of coding away from you.\r\n\r\n 1. Get the cart using username (you already have the repository function for this)\r\n 2. Stream the products in the cart \r\n 3. filter the product which has the input product name.\r\n 4. Update the quantity in above stream (using peek) with the input quantity \r\n 5. Collect the product list from stream.\r\n 6. set the collected product list back to cart.\r\n 7. Save the cart save()","title":"Can not update data in MongoDB Springboot?","body":"<p>Ok, let me give you steps to achieve this, I won’t take the fun of coding away from you.</p>\n<ol>\n<li>Get the cart using username (you already have the repository function for this)</li>\n<li>Stream the products in the cart</li>\n<li>filter the product which has the input product name.</li>\n<li>Update the quantity in above stream (using peek) with the input quantity</li>\n<li>Collect the product list from stream.</li>\n<li>set the collected product list back to cart.</li>\n<li>Save the cart save()</li>\n</ol>\n"}],"owner":{"account_id":18355622,"reputation":11,"user_id":13368740,"display_name":"Shivam Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647366334,"creation_date":1647362711,"question_id":71485940,"body_markdown":"My MongoDB Schema look like this. I want to update quantity field using uname, prodname and quantity. I tried to write a function in CartService class but it shows error\r\n&quot;The method save(S) in the type CrudRepository&lt;Cart,String&gt; is not applicable for the arguments (Optional&lt;Cart&gt;)\r\n] with root cause&quot;\r\n\r\nPlease suggest any other solution or point out my mistake in code.\r\n```{\r\n&quot;Id&quot;:&quot;string&quot;,\r\n&quot;uname&quot;:&quot;string&quot;,\r\n&quot;products&quot;:[\r\n  {\r\n    &quot;prodname&quot;:&quot;string&quot;,\r\n    &quot;quantity&quot;:&quot;int&quot;,\r\n    &quot;price&quot;:&quot;double&quot;\r\n  }],\r\n&quot;tot_amt&quot;:&quot;double&quot;,\r\n}\r\n```\r\nThis is one of my model Cart.java\r\n```\r\npublic class Cart {\r\n    \r\n    @Id\r\n    public String Id;\r\n    \r\n    @Indexed(unique=true)\r\n    public String uname;\r\n    \r\n    public List&lt;Product&gt;products;\r\n    public double tot_amt;\r\n\r\n}\r\n```\r\nThis is another model class Product.java\r\n```\r\npublic class Product {\r\n\r\n    public String prodname;\r\n    public int quantity;\r\n    public double price;\r\n}\r\n```\r\nThis is the repository interface CartRepository.java\r\n```\r\npublic interface CartRepository extends MongoRepository&lt;Cart,String&gt;{\r\n    \r\n    @Query(&quot;{uname:?0}&quot;)\r\n    Optional&lt;Cart&gt; findByName(String name);\r\n\r\n}\r\n```\r\nThis is Service class\r\n```\r\npublic class CartService {\r\n    \r\n       @Autowired\r\n       public CartRepository cartRepo;\r\n       \r\n       public MongoTemplate mt;\r\n       \r\n    \r\n    public void saveUser(Cart cart) {\r\n        List&lt;Double&gt;amt= new ArrayList&lt;&gt;();\r\n        List&lt;Product&gt;products=cart.getProducts();\r\n        products.forEach(p -&gt; {\r\n            double price=p.getPrice();\r\n            int quantity=p.getQuantity();\r\n            amt.add(price*quantity);\r\n            \r\n            \r\n        });\r\n         double tot_amount = 0;\r\n            for (Double i : amt)\r\n                tot_amount += i;\r\n            \r\n            cart.setTot_amt(tot_amount);\r\n        \r\n       cartRepo.save(cart);        \r\n    }\r\n     \r\n    public List&lt;Cart&gt; getdata()\r\n    {\r\n        return cartRepo.findAll();\r\n        \r\n    }\r\n\r\n    public Optional&lt;Cart&gt; getDetailsByName(String name) {\r\n        \r\n        Optional&lt;Cart&gt; savedCartData=Optional.of(cartRepo.findByName(name).orElseThrow(()-&gt;new RuntimeException(String.format(&quot;Not found %s&quot;,name))));\r\n        return savedCartData;\r\n         \r\n    }\r\n\r\n\tpublic void updateProd(String name, String prodname, int qty) {\r\n\t\t\r\n\t\tOptional&lt;Cart&gt; cart=cartRepo.findByName(name);\r\n\t\tCart c=cart.get();\r\n\t\tList&lt;Product&gt;products=c.getProducts();\r\n\t\tfor(Product p:products)\r\n\t\t{\r\n\t\t\tif (p.getProdname().equals(prodname)) {\r\n\t\t\t\tp.setQuantity(qty);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tc.setProducts(products);\r\n\t\tcart=Optional.of(c);\r\n\t\tcartRepo.save(cart);\r\n\t}\r\n\r\n```\r\nAnd this is update function in controller class\r\n```\r\n@PutMapping(&quot;/{name}/{prodname}/{qty}&quot;)\r\n\tpublic String updateProduct(@PathVariable String name,@PathVariable String prodname,@PathVariable \r\n        int qty)\r\n\t{\r\n\t\t\r\n\t\t\tcartService.updateProd(name,prodname,qty);\r\n\t\t\treturn &quot;Product updated&quot;;\r\n\t\t\r\n\t\t\r\n\t}\r\n```\r\n","title":"Can not update data in MongoDB Springboot?","body":"<p>My MongoDB Schema look like this. I want to update quantity field using uname, prodname and quantity. I tried to write a function in CartService class but it shows error\n&quot;The method save(S) in the type CrudRepository&lt;Cart,String&gt; is not applicable for the arguments (Optional)\n] with root cause&quot;</p>\n<p>Please suggest any other solution or point out my mistake in code.</p>\n<pre><code>&quot;Id&quot;:&quot;string&quot;,\n&quot;uname&quot;:&quot;string&quot;,\n&quot;products&quot;:[\n  {\n    &quot;prodname&quot;:&quot;string&quot;,\n    &quot;quantity&quot;:&quot;int&quot;,\n    &quot;price&quot;:&quot;double&quot;\n  }],\n&quot;tot_amt&quot;:&quot;double&quot;,\n}\n</code></pre>\n<p>This is one of my model Cart.java</p>\n<pre><code>public class Cart {\n    \n    @Id\n    public String Id;\n    \n    @Indexed(unique=true)\n    public String uname;\n    \n    public List&lt;Product&gt;products;\n    public double tot_amt;\n\n}\n</code></pre>\n<p>This is another model class Product.java</p>\n<pre><code>public class Product {\n\n    public String prodname;\n    public int quantity;\n    public double price;\n}\n</code></pre>\n<p>This is the repository interface CartRepository.java</p>\n<pre><code>public interface CartRepository extends MongoRepository&lt;Cart,String&gt;{\n    \n    @Query(&quot;{uname:?0}&quot;)\n    Optional&lt;Cart&gt; findByName(String name);\n\n}\n</code></pre>\n<p>This is Service class</p>\n<pre><code>public class CartService {\n    \n       @Autowired\n       public CartRepository cartRepo;\n       \n       public MongoTemplate mt;\n       \n    \n    public void saveUser(Cart cart) {\n        List&lt;Double&gt;amt= new ArrayList&lt;&gt;();\n        List&lt;Product&gt;products=cart.getProducts();\n        products.forEach(p -&gt; {\n            double price=p.getPrice();\n            int quantity=p.getQuantity();\n            amt.add(price*quantity);\n            \n            \n        });\n         double tot_amount = 0;\n            for (Double i : amt)\n                tot_amount += i;\n            \n            cart.setTot_amt(tot_amount);\n        \n       cartRepo.save(cart);        \n    }\n     \n    public List&lt;Cart&gt; getdata()\n    {\n        return cartRepo.findAll();\n        \n    }\n\n    public Optional&lt;Cart&gt; getDetailsByName(String name) {\n        \n        Optional&lt;Cart&gt; savedCartData=Optional.of(cartRepo.findByName(name).orElseThrow(()-&gt;new RuntimeException(String.format(&quot;Not found %s&quot;,name))));\n        return savedCartData;\n         \n    }\n\n    public void updateProd(String name, String prodname, int qty) {\n        \n        Optional&lt;Cart&gt; cart=cartRepo.findByName(name);\n        Cart c=cart.get();\n        List&lt;Product&gt;products=c.getProducts();\n        for(Product p:products)\n        {\n            if (p.getProdname().equals(prodname)) {\n                p.setQuantity(qty);\n                break;\n                \n            }\n        }\n        c.setProducts(products);\n        cart=Optional.of(c);\n        cartRepo.save(cart);\n    }\n\n</code></pre>\n<p>And this is update function in controller class</p>\n<pre><code>@PutMapping(&quot;/{name}/{prodname}/{qty}&quot;)\n    public String updateProduct(@PathVariable String name,@PathVariable String prodname,@PathVariable \n        int qty)\n    {\n        \n            cartService.updateProd(name,prodname,qty);\n            return &quot;Product updated&quot;;\n        \n        \n    }\n</code></pre>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":4355856,"reputation":33,"user_id":3554512,"accept_rate":100,"display_name":"Jojo"},"score":0,"creation_date":1647266798,"post_id":71469004,"comment_id":126321341,"body_markdown":"I know there may be a simple solution to this, but please do not down vote me. I am still learning.","body":"I know there may be a simple solution to this, but please do not down vote me. I am still learning."}],"answers":[{"tags":[],"owner":{"account_id":4355856,"reputation":33,"user_id":3554512,"accept_rate":100,"display_name":"Jojo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647366211,"creation_date":1647366211,"answer_id":71486719,"question_id":71469004,"body_markdown":"Ok. So I finally found the problem by isolating each section of the layout file. The problem is actually from the Backdrop section, particularly, the layout that I included: \r\n```\r\n&lt;include layout=&quot;@layout/backdrop&quot;&gt;&lt;/include&gt;\r\n```\r\n\r\nThe backdrop.xml contains a View segment that takes a colour reference for the background:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        style=&quot;@style/Widget.Shrine.Button.TextButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textColor=&quot;#F4D7D5&quot;\r\n        android:id=&quot;@+id/fullscreen_button&quot;\r\n        android:text=&quot;Livestream&quot; /&gt;\r\n    &lt;View\r\n    android:layout_width=&quot;56dp&quot;\r\n    android:layout_height=&quot;1dp&quot;\r\n    android:layout_margin=&quot;16dp&quot;\r\n    android:background=&quot;?android:attr/textColorPrimary&quot; /&gt;\r\n&lt;/merge&gt;\r\n```\r\nThe android:background textColorPrimary is not accessible in Android 9 and lower, check statement by @azizbekian at [Why does ?android:textColorPrimary get different values with different API versions?][1]: \r\n\r\n*This means, that the value specified in the current theme&#39;s android:textColorPrimary would be applied. So, if you have declared a TextView in xml and have applied android:textColor=&quot;?android:textColorPrimary&quot; to it, then this attribute would be fetched from the theme of the current context with which this layout is being inflated.*\r\n\r\nAs it seems, Android 9 and lower does not reference the attrs.xml. Here&#39;s the section of the xml:\r\n\r\n```\r\n   &lt;!-- The most prominent text color.  --&gt;\r\n        &lt;attr name=&quot;textColorPrimary&quot; format=&quot;reference|color&quot; /&gt;\r\n        &lt;!-- Secondary text color. --&gt;\r\n        &lt;attr name=&quot;textColorSecondary&quot; format=&quot;reference|color&quot; /&gt;\r\n        &lt;!-- Tertiary text color. --&gt;\r\n        &lt;attr name=&quot;textColorTertiary&quot; format=&quot;reference|color&quot; /&gt;\r\n```\r\n\r\nTo solve the problem, I simply changed the View background to this:\r\n\r\n```\r\n        &lt;View\r\n        android:layout_width=&quot;56dp&quot;\r\n        android:layout_height=&quot;1dp&quot;\r\n        android:layout_margin=&quot;16dp&quot;\r\n        android:background=&quot;@color/textColorPrimary&quot; /&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/45657033/why-does-androidtextcolorprimary-get-different-values-with-different-api-versi\r\n\r\nNow app is running fine.","title":"Kept getting this error on Android 9 &amp; below: &#39;android.content.res.Resources$NotFoundException: Drawable android:color/text_color_primary&#39;","body":"<p>Ok. So I finally found the problem by isolating each section of the layout file. The problem is actually from the Backdrop section, particularly, the layout that I included:</p>\n<pre><code>&lt;include layout=&quot;@layout/backdrop&quot;&gt;&lt;/include&gt;\n</code></pre>\n<p>The backdrop.xml contains a View segment that takes a colour reference for the background:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        style=&quot;@style/Widget.Shrine.Button.TextButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textColor=&quot;#F4D7D5&quot;\n        android:id=&quot;@+id/fullscreen_button&quot;\n        android:text=&quot;Livestream&quot; /&gt;\n    &lt;View\n    android:layout_width=&quot;56dp&quot;\n    android:layout_height=&quot;1dp&quot;\n    android:layout_margin=&quot;16dp&quot;\n    android:background=&quot;?android:attr/textColorPrimary&quot; /&gt;\n&lt;/merge&gt;\n</code></pre>\n<p>The android:background textColorPrimary is not accessible in Android 9 and lower, check statement by @azizbekian at <a href=\"https://stackoverflow.com/questions/45657033/why-does-androidtextcolorprimary-get-different-values-with-different-api-versi\">Why does ?android:textColorPrimary get different values with different API versions?</a>:</p>\n<p><em>This means, that the value specified in the current theme's android:textColorPrimary would be applied. So, if you have declared a TextView in xml and have applied android:textColor=&quot;?android:textColorPrimary&quot; to it, then this attribute would be fetched from the theme of the current context with which this layout is being inflated.</em></p>\n<p>As it seems, Android 9 and lower does not reference the attrs.xml. Here's the section of the xml:</p>\n<pre><code>   &lt;!-- The most prominent text color.  --&gt;\n        &lt;attr name=&quot;textColorPrimary&quot; format=&quot;reference|color&quot; /&gt;\n        &lt;!-- Secondary text color. --&gt;\n        &lt;attr name=&quot;textColorSecondary&quot; format=&quot;reference|color&quot; /&gt;\n        &lt;!-- Tertiary text color. --&gt;\n        &lt;attr name=&quot;textColorTertiary&quot; format=&quot;reference|color&quot; /&gt;\n</code></pre>\n<p>To solve the problem, I simply changed the View background to this:</p>\n<pre><code>        &lt;View\n        android:layout_width=&quot;56dp&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:layout_margin=&quot;16dp&quot;\n        android:background=&quot;@color/textColorPrimary&quot; /&gt;\n</code></pre>\n<p>Now app is running fine.</p>\n"}],"owner":{"account_id":4355856,"reputation":33,"user_id":3554512,"accept_rate":100,"display_name":"Jojo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647366211,"creation_date":1647266530,"question_id":71469004,"body_markdown":"The app launches and runs well on Android 10 and upward. However, on Android 9 and lower, it keeps throwing this runtime exception that has kept me searching for days. Here is the stack trace:\r\n```\r\n2022-03-14 13:42:15.724 14046-14046/com.iqjoy.jojo... E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.iqjoy.jojo..., PID: 14046\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.iqjoy.jojo.../com.iqjoy.jojo....NavActivity}: android.view.InflateException: Binary XML file line #19: Binary XML file line #36: Error inflating class android.view.View\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: android.view.InflateException: Binary XML file line #19: Binary XML file line #36: Error inflating class android.view.View\r\n     Caused by: android.view.InflateException: Binary XML file line #36: Error inflating class android.view.View\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:703)\r\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:68)\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:963)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:859)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:706)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n        at com.iqjoy.jojo....NavActivity.onCreate(NavActivity.java:119)\r\n        at android.app.Activity.performCreate(Activity.java:7136)\r\n        at android.app.Activity.performCreate(Activity.java:7127)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n2022-03-14 13:42:15.726 14046-14046/com.iqjoy.jojo... E/AndroidRuntime: Caused by: android.content.res.Resources$NotFoundException: Drawable android:color/text_color_primary with resource ID #0x106015f\r\n    Caused by: android.content.res.Resources$NotFoundException: File res/color/text_color_primary.xml from drawable resource ID #0x106015f\r\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:847)\r\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:631)\r\n        at android.content.res.Resources.loadDrawable(Resources.java:897)\r\n        at android.content.res.TypedArray.getDrawableForDensity(TypedArray.java:955)\r\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:930)\r\n        at android.view.View.&lt;init&gt;(View.java:5010)\r\n        at android.view.View.&lt;init&gt;(View.java:4911)\r\n        at android.view.View.&lt;init&gt;(View.java:4890)\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:703)\r\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:68)\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:963)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:859)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:706)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n        at com.iqjoy.jojo....NavActivity.onCreate(NavActivity.java:119)\r\n        at android.app.Activity.performCreate(Activity.java:7136)\r\n        at android.app.Activity.performCreate(Activity.java:7127)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #18: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable\r\n        at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:190)\r\n        at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:122)\r\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:142)\r\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1332)\r\n        at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1291)\r\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:833)\r\n```\r\n\r\nI believe there must be a resource which Android &gt;=10 ignores or automatically finds hence the exception is not thrown but lower versions shut down.\r\n\r\n**What I have done**\r\n\r\nI have created the &quot;res/color/text_color_primary.xml&quot;. The error remains.\r\nI have rebuilt and cleaned over and over.\r\nI have tried to locate the resource file where the problem is being generated, can&#39;t find it.\r\nI have tried several other ideas including [this][1] and [this][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37187909/android-content-res-resourcesnotfoundexception-resource-is-not-a-drawable-col\r\n  [2]: https://stackoverflow.com/questions/44542755/android-content-res-resourcesnotfoundexception-res-color-file-xml\r\n\r\n\r\nEDITED\r\n\r\nHere&#39;s a draft of the affected layout file:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id = &quot;@+id/parentContainer&quot;\r\n    android:background=&quot;@android:color/black&quot;\r\n    &gt;\r\n\r\n    &lt;LinearLayout\r\n        style=&quot;@style/Widget.Shrine.Backdrop&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_marginTop=&quot;80dp&quot;\r\n        android:paddingBottom=&quot;100dp&quot;\r\n        &gt;\r\n        &lt;include layout=&quot;@layout/backdrop&quot;&gt;&lt;/include&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/app_tool&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/app_bar&quot;\r\n            style=&quot;@style/Widget.Shrine.Toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            app:navigationIcon=&quot;@drawable/ic_a_menu&quot;\r\n            app:popupTheme=&quot;@style/Theme.PopupOverlay.Menu&quot;\r\n            app:title=&quot;@string/app_name&quot; /&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_host_fragment&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        app:itemIconTint=&quot;@drawable/bottom_navigation_selector&quot;\r\n        app:itemTextColor=&quot;@drawable/bottom_navigation_selector&quot;\r\n        app:itemRippleColor=&quot;@color/colorPrimary&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/RelativeLayout&gt;\r\n```","title":"Kept getting this error on Android 9 &amp; below: &#39;android.content.res.Resources$NotFoundException: Drawable android:color/text_color_primary&#39;","body":"<p>The app launches and runs well on Android 10 and upward. However, on Android 9 and lower, it keeps throwing this runtime exception that has kept me searching for days. Here is the stack trace:</p>\n<pre><code>2022-03-14 13:42:15.724 14046-14046/com.iqjoy.jojo... E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.iqjoy.jojo..., PID: 14046\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.iqjoy.jojo.../com.iqjoy.jojo....NavActivity}: android.view.InflateException: Binary XML file line #19: Binary XML file line #36: Error inflating class android.view.View\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: android.view.InflateException: Binary XML file line #19: Binary XML file line #36: Error inflating class android.view.View\n     Caused by: android.view.InflateException: Binary XML file line #36: Error inflating class android.view.View\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:703)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:68)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:963)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:859)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:706)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at com.iqjoy.jojo....NavActivity.onCreate(NavActivity.java:119)\n        at android.app.Activity.performCreate(Activity.java:7136)\n        at android.app.Activity.performCreate(Activity.java:7127)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n2022-03-14 13:42:15.726 14046-14046/com.iqjoy.jojo... E/AndroidRuntime: Caused by: android.content.res.Resources$NotFoundException: Drawable android:color/text_color_primary with resource ID #0x106015f\n    Caused by: android.content.res.Resources$NotFoundException: File res/color/text_color_primary.xml from drawable resource ID #0x106015f\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:847)\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:631)\n        at android.content.res.Resources.loadDrawable(Resources.java:897)\n        at android.content.res.TypedArray.getDrawableForDensity(TypedArray.java:955)\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:930)\n        at android.view.View.&lt;init&gt;(View.java:5010)\n        at android.view.View.&lt;init&gt;(View.java:4911)\n        at android.view.View.&lt;init&gt;(View.java:4890)\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:703)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:68)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:963)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:859)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:706)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at com.iqjoy.jojo....NavActivity.onCreate(NavActivity.java:119)\n        at android.app.Activity.performCreate(Activity.java:7136)\n        at android.app.Activity.performCreate(Activity.java:7127)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #18: &lt;item&gt; tag requires a 'drawable' attribute or child tag defining a drawable\n        at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:190)\n        at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:122)\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:142)\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1332)\n        at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1291)\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:833)\n</code></pre>\n<p>I believe there must be a resource which Android &gt;=10 ignores or automatically finds hence the exception is not thrown but lower versions shut down.</p>\n<p><strong>What I have done</strong></p>\n<p>I have created the &quot;res/color/text_color_primary.xml&quot;. The error remains.\nI have rebuilt and cleaned over and over.\nI have tried to locate the resource file where the problem is being generated, can't find it.\nI have tried several other ideas including <a href=\"https://stackoverflow.com/questions/37187909/android-content-res-resourcesnotfoundexception-resource-is-not-a-drawable-col\">this</a> and <a href=\"https://stackoverflow.com/questions/44542755/android-content-res-resourcesnotfoundexception-res-color-file-xml\">this</a></p>\n<p>EDITED</p>\n<p>Here's a draft of the affected layout file:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id = &quot;@+id/parentContainer&quot;\n    android:background=&quot;@android:color/black&quot;\n    &gt;\n\n    &lt;LinearLayout\n        style=&quot;@style/Widget.Shrine.Backdrop&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_marginTop=&quot;80dp&quot;\n        android:paddingBottom=&quot;100dp&quot;\n        &gt;\n        &lt;include layout=&quot;@layout/backdrop&quot;&gt;&lt;/include&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/app_tool&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:elevation=&quot;10dp&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/app_bar&quot;\n            style=&quot;@style/Widget.Shrine.Toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            app:navigationIcon=&quot;@drawable/ic_a_menu&quot;\n            app:popupTheme=&quot;@style/Theme.PopupOverlay.Menu&quot;\n            app:title=&quot;@string/app_name&quot; /&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;&gt;\n    &lt;/fragment&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:background=&quot;?android:attr/windowBackground&quot;\n        app:itemIconTint=&quot;@drawable/bottom_navigation_selector&quot;\n        app:itemTextColor=&quot;@drawable/bottom_navigation_selector&quot;\n        app:itemRippleColor=&quot;@color/colorPrimary&quot;\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","elasticsearch","bonsai-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":18283230,"reputation":51,"user_id":13311680,"display_name":"Andreas C."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1629747910,"creation_date":1629746970,"answer_id":68898080,"question_id":68892847,"body_markdown":"It appear that you have two issues here. \r\n\r\nFirst your logger is not configured correctly. That is why you are receiving \r\n\r\n    ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\n\r\nBy adding the logger configuration in your classpath or using the following dependency should save you of this problem. \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nFor the second one can you have to check the version of the **RestHighLevelClient** you are using. I assume that you might using the 7.xx one , which is alredy known to having some troubles with OSS flavors of ElasticSearch. Please try to downgrade your client version - see bonsai documentation as reference [https://docs.bonsai.io/article/278-java][1]\r\n\r\n\r\n  [1]: https://docs.bonsai.io/article/278-java","title":"Not able to put data into elastic search index","body":"<p>It appear that you have two issues here.</p>\n<p>First your logger is not configured correctly. That is why you are receiving</p>\n<pre><code>ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\n</code></pre>\n<p>By adding the logger configuration in your classpath or using the following dependency should save you of this problem.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n&lt;version&gt;2.8.2&lt;/version&gt;\n</code></pre>\n\n<p>For the second one can you have to check the version of the <strong>RestHighLevelClient</strong> you are using. I assume that you might using the 7.xx one , which is alredy known to having some troubles with OSS flavors of ElasticSearch. Please try to downgrade your client version - see bonsai documentation as reference <a href=\"https://docs.bonsai.io/article/278-java\" rel=\"nofollow noreferrer\">https://docs.bonsai.io/article/278-java</a></p>\n"},{"tags":[],"owner":{"account_id":295257,"reputation":1091,"user_id":599570,"accept_rate":44,"display_name":"ievgen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647366062,"creation_date":1647366062,"answer_id":71486687,"question_id":68892847,"body_markdown":"As a **last effort** you could try the following **dirty hack** to disable version validation and see if everything still works correctly.\r\n\r\n```\r\n    @SneakyThrows\r\n    private void disableVersionValidation(@Nonnull RestHighLevelClient restHighLevelClient) {\r\n        ListenableFuture&lt;Optional&lt;String&gt;&gt; mockVersionValidationFuture = new ListenableFuture&lt;&gt;();\r\n        mockVersionValidationFuture.onResponse(Optional.empty());\r\n\r\n        Field versionValidationFutureField = RestHighLevelClient.class.getDeclaredField(&quot;versionValidationFuture&quot;);\r\n        versionValidationFutureField.setAccessible(true);\r\n        versionValidationFutureField.set(restHighLevelClient, mockVersionValidationFuture);\r\n    }\r\n```","title":"Not able to put data into elastic search index","body":"<p>As a <strong>last effort</strong> you could try the following <strong>dirty hack</strong> to disable version validation and see if everything still works correctly.</p>\n<pre><code>    @SneakyThrows\n    private void disableVersionValidation(@Nonnull RestHighLevelClient restHighLevelClient) {\n        ListenableFuture&lt;Optional&lt;String&gt;&gt; mockVersionValidationFuture = new ListenableFuture&lt;&gt;();\n        mockVersionValidationFuture.onResponse(Optional.empty());\n\n        Field versionValidationFutureField = RestHighLevelClient.class.getDeclaredField(&quot;versionValidationFuture&quot;);\n        versionValidationFutureField.setAccessible(true);\n        versionValidationFutureField.set(restHighLevelClient, mockVersionValidationFuture);\n    }\n</code></pre>\n"}],"owner":{"account_id":22542678,"reputation":1,"user_id":16733063,"display_name":"Sumanta Dutta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647366062,"creation_date":1629722214,"question_id":68892847,"body_markdown":"Need help. I&#39;m new to elasticsearch. I&#39;ve created an account at bonsai.io to create an elastic search platform. I&#39;ve been trying the below code base to connect but everytime I&#39;m receiving error. \r\n\r\nCode:\r\n```    \r\nimport org.apache.http.HttpHost;\r\nimport org.apache.http.auth.AuthScope;\r\nimport org.apache.http.auth.UsernamePasswordCredentials;\r\nimport org.apache.http.client.CredentialsProvider;\r\nimport org.apache.http.impl.client.BasicCredentialsProvider;\r\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\nimport org.elasticsearch.ElasticsearchException;\r\nimport org.elasticsearch.action.ActionListener;\r\nimport org.elasticsearch.action.index.IndexRequest;\r\nimport org.elasticsearch.action.index.IndexResponse;\r\nimport org.elasticsearch.client.RequestOptions;\r\nimport org.elasticsearch.client.RestClient;\r\nimport org.elasticsearch.client.RestClientBuilder;\r\nimport org.elasticsearch.client.RestHighLevelClient;\r\nimport org.elasticsearch.client.indices.CreateIndexRequest;\r\nimport org.elasticsearch.client.indices.CreateIndexResponse;\r\nimport org.elasticsearch.common.xcontent.XContentType;\r\nimport org.elasticsearch.rest.RestStatus;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class ElasticSearchConsumer {\r\n\r\n    public static RestHighLevelClient createClient(){\r\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n        credsProvider.setCredentials(AuthScope.ANY,\r\n                new UsernamePasswordCredentials(&lt;username&gt;, &lt;password&gt;));\r\n\r\n        RestClientBuilder builder = RestClient.builder(\r\n                        new HttpHost(&lt;hostURL&gt;, 443, &quot;https&quot;))\r\n                .setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\r\n                    @Override\r\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpAsyncClientBuilder) {\r\n                        return httpAsyncClientBuilder.setDefaultCredentialsProvider(credsProvider);\r\n                    }\r\n                });\r\n\r\n        RestHighLevelClient client = new RestHighLevelClient(builder);\r\n        return client;\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        Logger logger = LoggerFactory.getLogger(ElasticSearchConsumer.class.getName());\r\n\r\n        RestHighLevelClient client = createClient();\r\n        String testString = &quot;{\\&quot;name\\&quot;:\\&quot;Sumanta\\&quot;, \\&quot;Nationality\\&quot;:\\&quot;Indian\\&quot;}&quot;;\r\n        IndexRequest indexRequest = new IndexRequest(&quot;twitter&quot;).source(testString, XContentType.JSON);\r\n\r\n\r\n        IndexResponse response = client.index(indexRequest, RequestOptions.DEFAULT);\r\n        String id = response.getId();\r\n\r\n\r\n        logger.info(id);\r\n\r\n\r\n        //close the client\r\n        client.close();\r\n    }\r\n}\r\n```\r\nI&#39;ve masked the username, password and host url within code. PFB the error I&#39;m receiving:\r\n```\r\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\nException in thread &quot;main&quot; ElasticsearchException[Invalid or missing build flavor [oss]]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2084)\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1732)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672)\r\n\tat org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1029)\r\n\tat com.github.simplekafka.tutorial3.ElasticSearchConsumer.main(ElasticSearchConsumer.java:59)\r\n```\r\n\r\nNot sure what I&#39;m doing wrong. I already have an index created named &quot;twitter&quot;. It will be great help if someone guide me about the issue. Thanks in advance","title":"Not able to put data into elastic search index","body":"<p>Need help. I'm new to elasticsearch. I've created an account at bonsai.io to create an elastic search platform. I've been trying the below code base to connect but everytime I'm receiving error.</p>\n<p>Code:</p>\n<pre><code>import org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.elasticsearch.ElasticsearchException;\nimport org.elasticsearch.action.ActionListener;\nimport org.elasticsearch.action.index.IndexRequest;\nimport org.elasticsearch.action.index.IndexResponse;\nimport org.elasticsearch.client.RequestOptions;\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestClientBuilder;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.elasticsearch.client.indices.CreateIndexRequest;\nimport org.elasticsearch.client.indices.CreateIndexResponse;\nimport org.elasticsearch.common.xcontent.XContentType;\nimport org.elasticsearch.rest.RestStatus;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\n\npublic class ElasticSearchConsumer {\n\n    public static RestHighLevelClient createClient(){\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\n        credsProvider.setCredentials(AuthScope.ANY,\n                new UsernamePasswordCredentials(&lt;username&gt;, &lt;password&gt;));\n\n        RestClientBuilder builder = RestClient.builder(\n                        new HttpHost(&lt;hostURL&gt;, 443, &quot;https&quot;))\n                .setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpAsyncClientBuilder) {\n                        return httpAsyncClientBuilder.setDefaultCredentialsProvider(credsProvider);\n                    }\n                });\n\n        RestHighLevelClient client = new RestHighLevelClient(builder);\n        return client;\n\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        Logger logger = LoggerFactory.getLogger(ElasticSearchConsumer.class.getName());\n\n        RestHighLevelClient client = createClient();\n        String testString = &quot;{\\&quot;name\\&quot;:\\&quot;Sumanta\\&quot;, \\&quot;Nationality\\&quot;:\\&quot;Indian\\&quot;}&quot;;\n        IndexRequest indexRequest = new IndexRequest(&quot;twitter&quot;).source(testString, XContentType.JSON);\n\n\n        IndexResponse response = client.index(indexRequest, RequestOptions.DEFAULT);\n        String id = response.getId();\n\n\n        logger.info(id);\n\n\n        //close the client\n        client.close();\n    }\n}\n</code></pre>\n<p>I've masked the username, password and host url within code. PFB the error I'm receiving:</p>\n<pre><code>ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nException in thread &quot;main&quot; ElasticsearchException[Invalid or missing build flavor [oss]]\n    at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2084)\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1732)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672)\n    at org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1029)\n    at com.github.simplekafka.tutorial3.ElasticSearchConsumer.main(ElasticSearchConsumer.java:59)\n</code></pre>\n<p>Not sure what I'm doing wrong. I already have an index created named &quot;twitter&quot;. It will be great help if someone guide me about the issue. Thanks in advance</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8478,"page":1514,"page_size":100}
