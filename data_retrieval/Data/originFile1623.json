{"items":[{"tags":["java","mysql","spring"],"answers":[{"tags":[],"owner":{"account_id":24093989,"reputation":44,"user_id":18066841,"display_name":"pepitoenpeligro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643754852,"creation_date":1643754852,"answer_id":70948427,"question_id":70948240,"body_markdown":"Ensure all models are in package `com.example.hospitalmanage.model`\r\n- User\r\n- user_diagnosis\r\n- user_treatments\r\n- user_videos\r\n\r\nAll should be inside the same package.\r\n","title":"I can&#39;t create table with hibernate","body":"<p>Ensure all models are in package <code>com.example.hospitalmanage.model</code></p>\n<ul>\n<li>User</li>\n<li>user_diagnosis</li>\n<li>user_treatments</li>\n<li>user_videos</li>\n</ul>\n<p>All should be inside the same package.</p>\n"}],"owner":{"account_id":15254316,"reputation":1,"user_id":16007661,"display_name":"Serhio Duran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643906336,"creation_date":1643753654,"question_id":70948240,"body_markdown":"I created a jpa xml `EntityManagerFactory`. After running tomcat, and Hibernate create table in console, but when I checked the database , I didn&#39;t see the table. What&#39;s the problem ?\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uHTV4.png\r\n  [2]: https://i.stack.imgur.com/oo4Ru.png\r\n\r\n\r\n        &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot;/&gt;\r\n        \r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;${hibernate.hbm2ddl.auto}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.example.hospitalmanage.model&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;","title":"I can&#39;t create table with hibernate","body":"<p>I created a jpa xml <code>EntityManagerFactory</code>. After running tomcat, and Hibernate create table in console, but when I checked the database , I didn't see the table. What's the problem ?</p>\n<p><img src=\"https://i.stack.imgur.com/uHTV4.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/oo4Ru.png\" alt=\"enter image description here\" /></p>\n<pre><code>    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot;/&gt;\n    \n    &lt;property name=&quot;jpaProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;${hibernate.hbm2ddl.auto}&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;com.example.hospitalmanage.model&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","google-cloud-storage"],"comments":[{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":0,"creation_date":1643623679,"post_id":70924083,"comment_id":125380596,"body_markdown":"`sourceBucketName = &#39;spark-bucket&#39;`,  `blobName = &#39;directoryA/subdirectoryA/textfile.txt&#39;`","body":"<code>sourceBucketName = &#39;spark-bucket&#39;</code>,  <code>blobName = &#39;directoryA&#47;subdirectoryA&#47;textfile.txt&#39;</code>"},{"owner":{"account_id":9199997,"reputation":521,"user_id":6837337,"display_name":"Dookoto_Sea"},"score":0,"creation_date":1643627756,"post_id":70924083,"comment_id":125382069,"body_markdown":"@blackbishop tried this, but the file was not moved. I&#39;m checking the logs in spark history server and I don&#39;t see any application logs (println statements). Also I don&#39;t see any exceptions or errors, the job completed successfully. I&#39;m new to GCP so not sure why the logs are not shown","body":"@blackbishop tried this, but the file was not moved. I&#39;m checking the logs in spark history server and I don&#39;t see any application logs (println statements). Also I don&#39;t see any exceptions or errors, the job completed successfully. I&#39;m new to GCP so not sure why the logs are not shown"},{"owner":{"account_id":9199997,"reputation":521,"user_id":6837337,"display_name":"Dookoto_Sea"},"score":0,"creation_date":1643632360,"post_id":70924083,"comment_id":125383627,"body_markdown":"@blackbishop I do see an exception while executing this method.\ndiagnostics: User class threw exception: java.lang.NoSuchMethodError: com.google.common.util.concurrent.MoreExecutors.directExecutor()Ljava/util/concurrent/Executor;\nat com.google.api.gax.retrying.BasicRetryingFuture.&lt;init&gt;(BasicRetryingFuture.java:88)\n\tat com.google.api.gax.retrying.DirectRetryingExecutor.createFuture(DirectRetryingExecutor.java:88)\n\tat com.google.api.gax.retrying.DirectRetryingExecutor.createFuture(DirectRetryingExecutor.java:74)\n\tat com.google.cloud.RetryHelper.run(RetryHelper.java:75)","body":"@blackbishop I do see an exception while executing this method. diagnostics: User class threw exception: java.lang.NoSuchMethodError: com.google.common.util.concurrent.MoreExecutors.directExecut&zwnj;&#8203;or()Ljava/util/concu&zwnj;&#8203;rrent/Executor; at com.google.api.gax.retrying.BasicRetryingFuture.&lt;init&gt;(Basic&zwnj;&#8203;RetryingFuture.java:&zwnj;&#8203;88) \tat com.google.api.gax.retrying.DirectRetryingExecutor.createFut&zwnj;&#8203;ure(DirectRetryingEx&zwnj;&#8203;ecutor.java:88) \tat com.google.api.gax.retrying.DirectRetryingExecutor.createFut&zwnj;&#8203;ure(DirectRetryingEx&zwnj;&#8203;ecutor.java:74) \tat com.google.cloud.RetryHelper.run(RetryHelper.java:75)"}],"answers":[{"tags":[],"owner":{"account_id":17977293,"reputation":1500,"user_id":15746749,"display_name":"Prabir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643885980,"creation_date":1643885980,"answer_id":70970080,"question_id":70924083,"body_markdown":"You want to move `textfile.txt` from `gs://spark-bucket/directoryA/subdirectoryA/` to `gs://spark-bucket/directoryA/subdirectoryB/`\r\n\r\nFrom your question it is clear that you have one bucket i.e. spark-bucket. So both **sourceBucketName** and **destBucketName** are the same i.e. `spark-bucket`.\r\n\r\nNow there are other two parameters i.e. **blobName** and **destBlobName**.\r\n\r\nIn your case **blobName** should be `directoryA/subdirectoryA/textfile.txt` and **destBlobName** should be `directoryA/subdirectoryB/textfile.txt`.\r\n\r\nSo in short - \r\n\r\n```\r\nsourceBucketName = “spark-bucket”\r\ndestBucketName = “spark-bucket”\r\nblobName = “directoryA/subdirectoryA/textfile.txt”\r\ndestBlobName = “directoryA/subdirectoryB/textfile.txt”\r\n\r\n```\r\n","title":"Move blob within Google bucket using Google Cloud Storage library","body":"<p>You want to move <code>textfile.txt</code> from <code>gs://spark-bucket/directoryA/subdirectoryA/</code> to <code>gs://spark-bucket/directoryA/subdirectoryB/</code></p>\n<p>From your question it is clear that you have one bucket i.e. spark-bucket. So both <strong>sourceBucketName</strong> and <strong>destBucketName</strong> are the same i.e. <code>spark-bucket</code>.</p>\n<p>Now there are other two parameters i.e. <strong>blobName</strong> and <strong>destBlobName</strong>.</p>\n<p>In your case <strong>blobName</strong> should be <code>directoryA/subdirectoryA/textfile.txt</code> and <strong>destBlobName</strong> should be <code>directoryA/subdirectoryB/textfile.txt</code>.</p>\n<p>So in short -</p>\n<pre><code>sourceBucketName = “spark-bucket”\ndestBucketName = “spark-bucket”\nblobName = “directoryA/subdirectoryA/textfile.txt”\ndestBlobName = “directoryA/subdirectoryB/textfile.txt”\n\n</code></pre>\n"}],"owner":{"account_id":9199997,"reputation":521,"user_id":6837337,"display_name":"Dookoto_Sea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70970080,"answer_count":1,"score":0,"last_activity_date":1643906307,"creation_date":1643623228,"question_id":70924083,"body_markdown":"I have a Spark job in which I want to move a text file within Google Cloud Storage bucket from directory A to directory B using google.cloud.storage.StorageOptions \r\n\r\nsource file path = &quot;gs://spark-bucket/directoryA/subdirectoryA/textfile.txt&quot;\r\n\r\ndest bucket location = &quot;gs://spark-bucket/directoryA/subdirectoryB/&quot;  \r\n\r\nWhat should be the sourceBucketName, blobName and destBucketName? Does it have to be the  entire path &quot;gs://spark-bucket/directoryA/subdirectoryA/&quot; or just the bucket name i.e. &quot;spark-bucket&quot; based on the above source file path?\r\n\r\n    val storage = StorageOptions.newBuilder.setProjectId(&quot;project-id&quot;).build.getService\r\n    val blobId = BlobId.of(sourceBucketName, blobName)\r\n    val blob = storage.get(blobId)\r\n    val copyWriter = blob.copyTo(destBucketName, destBlobName)\r\n    blob.delete();\r\n\r\n","title":"Move blob within Google bucket using Google Cloud Storage library","body":"<p>I have a Spark job in which I want to move a text file within Google Cloud Storage bucket from directory A to directory B using google.cloud.storage.StorageOptions</p>\n<p>source file path = &quot;gs://spark-bucket/directoryA/subdirectoryA/textfile.txt&quot;</p>\n<p>dest bucket location = &quot;gs://spark-bucket/directoryA/subdirectoryB/&quot;</p>\n<p>What should be the sourceBucketName, blobName and destBucketName? Does it have to be the  entire path &quot;gs://spark-bucket/directoryA/subdirectoryA/&quot; or just the bucket name i.e. &quot;spark-bucket&quot; based on the above source file path?</p>\n<pre><code>val storage = StorageOptions.newBuilder.setProjectId(&quot;project-id&quot;).build.getService\nval blobId = BlobId.of(sourceBucketName, blobName)\nval blob = storage.get(blobId)\nval copyWriter = blob.copyTo(destBucketName, destBlobName)\nblob.delete();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","dependency-injection","inversion-of-control"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643876480,"post_id":70967764,"comment_id":125456980,"body_markdown":"The `Optional` probably just contains a proxy which seems to have trouble resolving/instantiating the bean. Can you share the complete stack trace? Btw, `currentUser.isPresent().nonNull()`  shouldn&#39;t even compile since `isPresent()` returns `boolean`.","body":"The <code>Optional</code> probably just contains a proxy which seems to have trouble resolving/instantiating the bean. Can you share the complete stack trace? Btw, <code>currentUser.isPresent().nonNull()</code>  shouldn&#39;t even compile since <code>isPresent()</code> returns <code>boolean</code>."},{"owner":{"account_id":1735752,"reputation":2511,"user_id":1588361,"accept_rate":54,"display_name":"Ravi MCA"},"score":0,"creation_date":1643906181,"post_id":70967764,"comment_id":125469118,"body_markdown":"@Thomas Regrets compilation you cited. Updated question with stack trace. Thanks.","body":"@Thomas Regrets compilation you cited. Updated question with stack trace. Thanks."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643989830,"post_id":70967764,"comment_id":125493482,"body_markdown":"&quot;Factory method &#39;user&#39; threw exception&quot; - this seems to be a problem with the method that actually creates a `User` instance.","body":"&quot;Factory method &#39;user&#39; threw exception&quot; - this seems to be a problem with the method that actually creates a <code>User</code> instance."},{"owner":{"account_id":1735752,"reputation":2511,"user_id":1588361,"accept_rate":54,"display_name":"Ravi MCA"},"score":0,"creation_date":1644306978,"post_id":70967764,"comment_id":125564781,"body_markdown":"@Thomas How this can be handled when it&#39;s injected.","body":"@Thomas How this can be handled when it&#39;s injected."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1644310156,"post_id":70967764,"comment_id":125565841,"body_markdown":"Did you try returning `null` if the user cannot be created? Also declare the bean to be in &quot;dependent&quot; scope (CDI term, don&#39;t know the Spring one atm) so you call the method every time you need the user injected.","body":"Did you try returning <code>null</code> if the user cannot be created? Also declare the bean to be in &quot;dependent&quot; scope (CDI term, don&#39;t know the Spring one atm) so you call the method every time you need the user injected."}],"owner":{"account_id":1735752,"reputation":2511,"user_id":1588361,"accept_rate":54,"display_name":"Ravi MCA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":677,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643906119,"creation_date":1643875788,"question_id":70967764,"body_markdown":"I&#39;m injecting a bean as below which scope is Request.\r\n```java\r\n@Autowired\r\nprivate Optional&lt;User&gt; currentUser;\r\n```\r\n\r\nBut when, bean is not injected for any reason, I&#39;m trying to check `currentUser.isPresent()` and `currentUser.isPresent()`, `Objects.nonNull( currentUser.get() )` both are giving `true`. But when try to access bean fields, it&#39;s giving **Bean instantiation exception**.\r\n\r\nHow can I check if the bean is successfully injected and available to use?\r\n\r\nAs asked by Thomas posting the stack trace.\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.user&#39; defined in class path resource [com/xxxx/spring/RequestScopeBeansConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.cl.xxxx.data.model.xxxxUser]: Factory method &#39;user&#39; threw exception; nested exception is org.springframework.security.core.userdetails.UsernameNotFoundException: xxxxxxxxxxxxx\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:359)\r\n\tat deployment.xxxxx.war//org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:45)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:356)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat deployment.xxxxx.war//org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n\tat deployment.xxxxx.war//org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:675)\r\n\tat deployment.xxxxx.war//com.cl.xxxx.data.model.xxxxUser$$EnhancerBySpringCGLIB$$48f26ffd.getId(&lt;generated&gt;)\r\n\tat deployment.xxxxx.war//com.xxxx.spring.api.v1.service.UserService.createUser(UserService.java:355)\r\n\tat deployment.xxxxx.war//com.xxxx.spring.api.v1.web.UserController.create(UserController.java:105)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat deployment.xxxxx.war//org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat deployment.xxxxx.war//org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:114)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:124)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n\tat org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\r\n\tat org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.cl.xxxx.data.model.xxxxUser]: Factory method &#39;user&#39; threw exception; nested exception is org.springframework.security.core.userdetails.UsernameNotFoundException: xxxxxxxxxxxxxxxxx\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\r\n\t... 115 more\r\n```","title":"How to check if a bean is injected or not in Spring","body":"<p>I'm injecting a bean as below which scope is Request.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate Optional&lt;User&gt; currentUser;\n</code></pre>\n<p>But when, bean is not injected for any reason, I'm trying to check <code>currentUser.isPresent()</code> and <code>currentUser.isPresent()</code>, <code>Objects.nonNull( currentUser.get() )</code> both are giving <code>true</code>. But when try to access bean fields, it's giving <strong>Bean instantiation exception</strong>.</p>\n<p>How can I check if the bean is successfully injected and available to use?</p>\n<p>As asked by Thomas posting the stack trace.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.user' defined in class path resource [com/xxxx/spring/RequestScopeBeansConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.cl.xxxx.data.model.xxxxUser]: Factory method 'user' threw exception; nested exception is org.springframework.security.core.userdetails.UsernameNotFoundException: xxxxxxxxxxxxx\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:359)\n    at deployment.xxxxx.war//org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:45)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:356)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at deployment.xxxxx.war//org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at deployment.xxxxx.war//org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:675)\n    at deployment.xxxxx.war//com.cl.xxxx.data.model.xxxxUser$$EnhancerBySpringCGLIB$$48f26ffd.getId(&lt;generated&gt;)\n    at deployment.xxxxx.war//com.xxxx.spring.api.v1.service.UserService.createUser(UserService.java:355)\n    at deployment.xxxxx.war//com.xxxx.spring.api.v1.web.UserController.create(UserController.java:105)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at deployment.xxxxx.war//org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at deployment.xxxxx.war//org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\n    at deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at deployment.xxxxx.war//org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at deployment.xxxxx.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\n    at deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at deployment.xxxxx.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at deployment.xxxxx.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:114)\n    at deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:124)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at deployment.xxxxx.war//org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at deployment.xxxxx.war//org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at deployment.xxxxx.war//org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.core@2.1.3.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n    at io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.cl.xxxx.data.model.xxxxUser]: Factory method 'user' threw exception; nested exception is org.springframework.security.core.userdetails.UsernameNotFoundException: xxxxxxxxxxxxxxxxx\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\n    ... 115 more\n</code></pre>\n"},{"tags":["java","spring-boot","maven","log4j","slf4j"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1643793849,"post_id":70952641,"comment_id":125431006,"body_markdown":"Can you show me your dependecies","body":"Can you show me your dependecies"},{"owner":{"account_id":12471093,"reputation":11,"user_id":9136135,"display_name":"user9136135"},"score":0,"creation_date":1643801702,"post_id":70952641,"comment_id":125434206,"body_markdown":"I have added Pom.xml in question","body":"I have added Pom.xml in question"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1643906223,"post_id":70952641,"comment_id":125469136,"body_markdown":"Does this answer your question? [SLF4J: Class path contains multiple SLF4J bindings](https://stackoverflow.com/questions/14024756/slf4j-class-path-contains-multiple-slf4j-bindings)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14024756/slf4j-class-path-contains-multiple-slf4j-bindings\">SLF4J: Class path contains multiple SLF4J bindings</a>"}],"owner":{"account_id":12471093,"reputation":11,"user_id":9136135,"display_name":"user9136135"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643906097,"creation_date":1643791351,"question_id":70952641,"body_markdown":"When I run my Spring project I got error `SLF4J: Class path contains multiple SLF4J bindings.` in my ide console. I don&#39;t why this error is produce while run my project.\r\n\r\n```\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/D:/*/fiserv/src/main/resources/CommerceConnect.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Users/rsawant/.m2/repository/org/slf4j/slf4j-log4j12/1.7.13/slf4j-log4j12-1.7.13.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Users/rsawant/.m2/repository/ch/qos/logback/logback-classic/1.2.10/logback-classic-1.2.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\nCaused by: java.lang.NoSuchMethodException: org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.\r\norg.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:164)\r\n\t... 15 common frames omitted\r\n```\r\n\r\nHere is pom.xml for reference\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fiserv.java&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;fiserv-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n  ","title":"Why got &quot;Class path contains multiple SLF4J bindings&quot;","body":"<p>When I run my Spring project I got error <code>SLF4J: Class path contains multiple SLF4J bindings.</code> in my ide console. I don't why this error is produce while run my project.</p>\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/D:/*/fiserv/src/main/resources/CommerceConnect.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Users/rsawant/.m2/repository/org/slf4j/slf4j-log4j12/1.7.13/slf4j-log4j12-1.7.13.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Users/rsawant/.m2/repository/ch/qos/logback/logback-classic/1.2.10/logback-classic-1.2.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\nCaused by: java.lang.NoSuchMethodException: org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.\norg.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:164)\n    ... 15 common frames omitted\n</code></pre>\n<p>Here is pom.xml for reference</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fiserv.java&lt;/groupId&gt;\n            &lt;artifactId&gt;fiserv-java&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","merge","docx"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1643183730,"post_id":70853711,"comment_id":125269107,"body_markdown":"It&#39;s hardly doable without &quot;extra&quot; code since DOCX is a bit more complex format than just an array of bytes. If it is strictly required to have no extra jars, you can manually add source code of some tool (that is designed for DOCX merging) into your project, respecting the license of course. Tools are observed here https://stackoverflow.com/a/2494642/2224047","body":"It&#39;s hardly doable without &quot;extra&quot; code since DOCX is a bit more complex format than just an array of bytes. If it is strictly required to have no extra jars, you can manually add source code of some tool (that is designed for DOCX merging) into your project, respecting the license of course. Tools are observed here <a href=\"https://stackoverflow.com/a/2494642/2224047\">stackoverflow.com/a/2494642/2224047</a>"},{"owner":{"account_id":19947676,"reputation":61,"user_id":14617996,"display_name":"Hussam Barouqa"},"score":0,"creation_date":1643927145,"post_id":70853711,"comment_id":125476701,"body_markdown":"Using java runtime alone is difficult for merging DOCX. Your best bet is to use a java library with classes for document format processing. The LEADTOOLS toolkit, for example, has the [LEADDocument](https://www.leadtools.com/help/sdk/v22/dh/dox/leaddocument.html) class which can encapsulate loaded DOCX files and can be used to merge them into a single file. This functionality is also available through a [Cloud Service](https://www.leadtools.com/help/sdk/v22/tutorials/cloud-services-java-merge-documents.html). (Disclaimer: I am an employee of the vendor).","body":"Using java runtime alone is difficult for merging DOCX. Your best bet is to use a java library with classes for document format processing. The LEADTOOLS toolkit, for example, has the <a href=\"https://www.leadtools.com/help/sdk/v22/dh/dox/leaddocument.html\" rel=\"nofollow noreferrer\">LEADDocument</a> class which can encapsulate loaded DOCX files and can be used to merge them into a single file. This functionality is also available through a <a href=\"https://www.leadtools.com/help/sdk/v22/tutorials/cloud-services-java-merge-documents.html\" rel=\"nofollow noreferrer\">Cloud Service</a>. (Disclaimer: I am an employee of the vendor)."}],"owner":{"account_id":24052443,"reputation":1,"user_id":18030740,"display_name":"Gilli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643905715,"creation_date":1643134688,"question_id":70853711,"body_markdown":"I used a service to get one docx in binary content and I have one docx file which I&#39;am able to convert to binary content now \r\nIf I try to write both to byte array and when I open either I found only one document or I was not able to open the document .The code can be seen below \r\n\r\n        Byte [] a = (byte[])obj1;\r\n    Byte [] b = (byte[])obj2;\r\n        Outputstream op= new outputstream();\r\n    Try {\r\n    Op.write(a);\r\n    Op write(b);\r\n    Byte[] combined = op.toByteArray();\r\n\r\nFinal byte array - combined either contain only one docx file or It became s unreadable.\r\nNeed a solution without any extra jars.\r\n\r\n","title":"Merging two but streams obtained from docx","body":"<p>I used a service to get one docx in binary content and I have one docx file which I'am able to convert to binary content now\nIf I try to write both to byte array and when I open either I found only one document or I was not able to open the document .The code can be seen below</p>\n<pre><code>    Byte [] a = (byte[])obj1;\nByte [] b = (byte[])obj2;\n    Outputstream op= new outputstream();\nTry {\nOp.write(a);\nOp write(b);\nByte[] combined = op.toByteArray();\n</code></pre>\n<p>Final byte array - combined either contain only one docx file or It became s unreadable.\nNeed a solution without any extra jars.</p>\n"},{"tags":["java","android","algorithm","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1643905040,"post_id":70974663,"comment_id":125468632,"body_markdown":"https://stackoverflow.com/questions/1016896/how-to-get-screen-dimensions-as-pixels-in-android","body":"<a href=\"https://stackoverflow.com/questions/1016896/how-to-get-screen-dimensions-as-pixels-in-android\" title=\"how to get screen dimensions as pixels in android\">stackoverflow.com/questions/1016896/&hellip;</a>"},{"owner":{"account_id":20903308,"reputation":529,"user_id":15355904,"display_name":"Bob Redity"},"score":0,"creation_date":1643905130,"post_id":70974663,"comment_id":125468674,"body_markdown":"@Tenfour04 I don&#39;t need to get just dimensions. I know how to get them. I need help to get % of the screen dynamically","body":"@Tenfour04 I don&#39;t need to get just dimensions. I know how to get them. I need help to get % of the screen dynamically"}],"answers":[{"tags":[],"owner":{"account_id":11720407,"reputation":1858,"user_id":8579556,"display_name":"Luca Murra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643905538,"creation_date":1643905538,"answer_id":70974846,"question_id":70974663,"body_markdown":"Once you have the width, let&#39;s say `w` is the width value, it&#39;s 25% is\r\n\r\n    w / 100 * 25\r\n\r\nI don&#39;t know if this is your question.","title":"How to calculate percent of width programmatically Android?","body":"<p>Once you have the width, let's say <code>w</code> is the width value, it's 25% is</p>\n<pre><code>w / 100 * 25\n</code></pre>\n<p>I don't know if this is your question.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643905613,"creation_date":1643905613,"answer_id":70974871,"question_id":70974663,"body_markdown":"Divide by the width using float values to avoid integer division truncating the result to 0. Then compare to fractions of 1 instead of integer percentages.\r\n\r\n```\r\nwhen (x.toFloat() / screenWidth) { \r\n    in 0f..0.25f -&gt; doSmth()\r\n    in 0.75f..1f -&gt; doSmthElse()\r\n}\r\n```","title":"How to calculate percent of width programmatically Android?","body":"<p>Divide by the width using float values to avoid integer division truncating the result to 0. Then compare to fractions of 1 instead of integer percentages.</p>\n<pre><code>when (x.toFloat() / screenWidth) { \n    in 0f..0.25f -&gt; doSmth()\n    in 0.75f..1f -&gt; doSmthElse()\n}\n</code></pre>\n"}],"owner":{"account_id":20903308,"reputation":529,"user_id":15355904,"display_name":"Bob Redity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70974846,"answer_count":2,"score":0,"last_activity_date":1643905613,"creation_date":1643904765,"question_id":70974663,"body_markdown":"For example I got a screen width 1000 . And I need to calculate the value of the first 25% which will be `when x in 0..250 -&gt; doSmth()` and last part \r\n\r\nwhich will be `when x in 750..1000 -&gt; doSmth()`\r\n \r\nBut I need to make it dynamically depends on the screen width. What is the way to do that in Android?","title":"How to calculate percent of width programmatically Android?","body":"<p>For example I got a screen width 1000 . And I need to calculate the value of the first 25% which will be <code>when x in 0..250 -&gt; doSmth()</code> and last part</p>\n<p>which will be <code>when x in 750..1000 -&gt; doSmth()</code></p>\n<p>But I need to make it dynamically depends on the screen width. What is the way to do that in Android?</p>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643905326,"creation_date":1643905326,"answer_id":70974798,"question_id":70974470,"body_markdown":"Before checking the `startsWith()`, check if the value is null or not.&lt;br&gt;\r\n```java\r\nif(result.get(&quot;EID&quot;+i)!=null &amp;&amp; result.get(&quot;CID&quot;+i)!=null ){\r\n    //your code to execute\r\n}\r\nelse {\r\n    // some code to execute if the value is null\r\n}","title":"Skipping null values using a for loop","body":"<p>Before checking the <code>startsWith()</code>, check if the value is null or not.<br></p>\n<pre class=\"lang-java prettyprint-override\"><code>if(result.get(&quot;EID&quot;+i)!=null &amp;&amp; result.get(&quot;CID&quot;+i)!=null ){\n    //your code to execute\n}\nelse {\n    // some code to execute if the value is null\n}\n</code></pre>\n"}],"owner":{"account_id":10751944,"reputation":31,"user_id":7911020,"display_name":"Callum Kent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70974798,"answer_count":1,"score":0,"last_activity_date":1643905326,"creation_date":1643904026,"question_id":70974470,"body_markdown":"[DB_Example][1]\r\nI&#39;m exploring automation testing on databases and struggling with hitting null values in my table. \r\n\r\nI want to test:\r\n\r\n1. If EID1 =&lt; 8 and CID1 starts with M, print pass, else, print fail.\r\n\r\n2. If EID2 =&lt; 8 and CID2 starts with M, print pass, else, print fail.\r\n\r\nThere is null values and I&#39;m getting the following error: Cannot invoke &quot;String.startsWith(String)&quot; because the return value of java.util.Map.get(object) is null.\r\n\r\nMy first value is always null, so I begin the loop at counter 1, which solved that issue, but there is null values in both EID and CID in my table. It&#39;s fine if the test fails if the conditions are not met (ie a value being null), but my application crashes upon reaching any null values. What can I change to avoid crashing and filter null values? I&#39;ve not been able to work it out. Tried adding the nullpointerexception and some fiddling with the loop but no luck. I have included an example image of the table for reference is required. \r\n\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n    Map&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\r\n    query = &quot;select * FROM DEA.TUSET where T_DATE &gt;&#39;2010-11-02&#39;&quot;;\r\n    resultSet = statement.executeQuery(Query)\r\n    ResultSetMetaData rsmd = resultSet.getMetaData();\r\n    long pId = 1:\r\n    while (resultSet.next()) {\r\n    for int col = 1; col &lt;= rsmd.getColumnCount(); col ++) {\r\n    result.put(rsmd.getColumnLabel(col)+pId, resultSet.getString(col)); }\r\n    pId ++;\r\n    }\r\n    //print all results in col\r\n    for (int i=0; i&lt;pId;i++)\r\n    System.out.println(&quot;EID: &quot;+result.get(&quot;EID&quot;+i));\r\n\r\n    //problem\r\n    for (int i=1; i&lt;pId;i++)\r\n    if (result.get(&quot;EID&quot;+i).startsWith(&quot;8&quot;){\r\n    if result.get(&quot;CID&quot;+i).startsWith(&quot;M&quot;) {\r\n    System.out.println (&quot;true&quot;);\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PtYIB.png","title":"Skipping null values using a for loop","body":"<p><a href=\"https://i.stack.imgur.com/PtYIB.png\" rel=\"nofollow noreferrer\">DB_Example</a>\nI'm exploring automation testing on databases and struggling with hitting null values in my table.</p>\n<p>I want to test:</p>\n<ol>\n<li><p>If EID1 =&lt; 8 and CID1 starts with M, print pass, else, print fail.</p>\n</li>\n<li><p>If EID2 =&lt; 8 and CID2 starts with M, print pass, else, print fail.</p>\n</li>\n</ol>\n<p>There is null values and I'm getting the following error: Cannot invoke &quot;String.startsWith(String)&quot; because the return value of java.util.Map.get(object) is null.</p>\n<p>My first value is always null, so I begin the loop at counter 1, which solved that issue, but there is null values in both EID and CID in my table. It's fine if the test fails if the conditions are not met (ie a value being null), but my application crashes upon reaching any null values. What can I change to avoid crashing and filter null values? I've not been able to work it out. Tried adding the nullpointerexception and some fiddling with the loop but no luck. I have included an example image of the table for reference is required.</p>\n<pre><code>Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\nMap&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\nquery = &quot;select * FROM DEA.TUSET where T_DATE &gt;'2010-11-02'&quot;;\nresultSet = statement.executeQuery(Query)\nResultSetMetaData rsmd = resultSet.getMetaData();\nlong pId = 1:\nwhile (resultSet.next()) {\nfor int col = 1; col &lt;= rsmd.getColumnCount(); col ++) {\nresult.put(rsmd.getColumnLabel(col)+pId, resultSet.getString(col)); }\npId ++;\n}\n//print all results in col\nfor (int i=0; i&lt;pId;i++)\nSystem.out.println(&quot;EID: &quot;+result.get(&quot;EID&quot;+i));\n\n//problem\nfor (int i=1; i&lt;pId;i++)\nif (result.get(&quot;EID&quot;+i).startsWith(&quot;8&quot;){\nif result.get(&quot;CID&quot;+i).startsWith(&quot;M&quot;) {\nSystem.out.println (&quot;true&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","android","class","android-activity"],"answers":[{"tags":[],"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1429988919,"creation_date":1429987889,"answer_id":29869296,"question_id":29869191,"body_markdown":"The error message should be self-explanatory: `...ColourActivity` is a class name and a class name by itself is not a valid expression in Java. This is not an android problem, this is a simple syntax error.\r\n\r\n`do_output()` expects an **instance** of an `Activity`. I&#39;m not quite sure, what you where trying to achieve by trying to pass the name of the activity class.\r\n\r\nI&#39;d assume, that --since you are calling `do_output()` from inside your activity-- you might want to try \r\n\r\n    ColourOutput.do_output(ColorActivity.this);\r\n\r\ninstead.\r\n\r\nAs suggested by @Priya Singhal, the explicit reference to `ColorActivity.this` is necessary as you are calling the method from within an inner class and `this` refers to the instance of that inner class.","title":"Android: &quot;Expression expected&quot; when passing an Activity class","body":"<p>The error message should be self-explanatory: <code>...ColourActivity</code> is a class name and a class name by itself is not a valid expression in Java. This is not an android problem, this is a simple syntax error.</p>\n\n<p><code>do_output()</code> expects an <strong>instance</strong> of an <code>Activity</code>. I'm not quite sure, what you where trying to achieve by trying to pass the name of the activity class.</p>\n\n<p>I'd assume, that --since you are calling <code>do_output()</code> from inside your activity-- you might want to try </p>\n\n<pre><code>ColourOutput.do_output(ColorActivity.this);\n</code></pre>\n\n<p>instead.</p>\n\n<p>As suggested by @Priya Singhal, the explicit reference to <code>ColorActivity.this</code> is necessary as you are calling the method from within an inner class and <code>this</code> refers to the instance of that inner class.</p>\n"}],"owner":{"account_id":5413591,"reputation":558,"user_id":4309474,"accept_rate":43,"display_name":"micheal65536"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29630,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29869296,"answer_count":1,"score":4,"last_activity_date":1643905242,"creation_date":1429987419,"question_id":29869191,"body_markdown":"I am kind of new to Android programming and Java in general, and I cannot work out what is causing this error; as I understand it this should work. In the code shown below (near the end of the first snippet), the line `&quot;ColourOutput.do_output((Activity) com.(name-removed).(app-name-removed).ColourActivity);&quot;` is giving the error `&quot;Expression expected&quot;` on the text `&quot;com.(name-removed).(app-name-removed).ColourActivity&quot;` in Android Studio 1.1.0.\r\n\r\n(This is inside the class `&quot;public class ColourActivity extends Activity&quot;`.)\r\n\r\n            private Camera.PreviewCallback preview_callback = new Camera.PreviewCallback() {\r\n            @Override\r\n            public void onPreviewFrame(byte[] data, Camera camera) {\r\n                int width = mCamera.getParameters().getPreviewSize().width;\r\n                int height = mCamera.getParameters().getPreviewSize().height;\r\n                int raw_pixels[];\r\n                int pixels[];\r\n\r\n                raw_pixels = new int[width * height];\r\n                pixels = new int[get_sample_width() * get_sample_height()];\r\n                convert_yuv(raw_pixels, data, width, height);\r\n                crop_pixels(raw_pixels, pixels, width, height, (width - get_sample_width()) / 2, (height - get_sample_height()) / 2, get_sample_width(), get_sample_height());\r\n\r\n                if (PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;use_mean&quot;, true) == true) {\r\n                    ColourOutput.add_colour_to_output(\r\n                            ColourTools.get_mean(\r\n                                    pixels, get_sample_width(), get_sample_height(),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_secondary&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_white&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_brightness&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_secondary&quot;, 32),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_dark&quot;, 43),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_light&quot;, 128),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;quantization_matching_only&quot;, true)\r\n                            ),\r\n                            ColourOutput.ColourType.MEAN);\r\n                }\r\n                if (PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;use_mode&quot;, true) == true) {\r\n                    ColourOutput.add_colour_to_output(\r\n                            ColourTools.get_mode(\r\n                                    pixels, get_sample_width(), get_sample_height(),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_secondary&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_white&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_brightness&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_secondary&quot;, 32),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_dark&quot;, 43),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_light&quot;, 128),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;quantization_matching_only&quot;, true)\r\n                            ),\r\n                            ColourOutput.ColourType.MODE);\r\n                }\r\n                ColourOutput.do_output((Activity) com.(name-removed).(app-name-removed).ColourActivity);\r\n            }\r\n        };\r\n\r\nHere is the definition of **&quot;ColourOutput.do_output&quot;**:\r\n\r\n    public class ColourOutput {\r\n        private static boolean output_clear = true;\r\n        private static String output_buffer = &quot;&quot;;\r\n\r\n        public static enum ColourType {\r\n            MEAN,\r\n            MODE\r\n        }\r\n\r\n        public static void add_colour_to_output(ColourTools.ColourDescription colour, ColourType type) {\r\n            if (output_clear == true) {\r\n                output_buffer = colour.Brightness.toString() + &quot; &quot; + colour.Colour.toString();\r\n            }\r\n            else {\r\n                output_buffer = output_buffer + &quot; &quot; + colour.Brightness.toString() + &quot; &quot; + colour.Colour.toString();\r\n            }\r\n            output_clear = false;\r\n        }\r\n\r\n        public static void do_output(Activity activity) {\r\n            ((TextView) activity.findViewById(R.id.output_text)).setText(output_buffer);\r\n            output_buffer = &quot;&quot;;\r\n            output_clear = true;\r\n        }\r\n    }","title":"Android: &quot;Expression expected&quot; when passing an Activity class","body":"<p>I am kind of new to Android programming and Java in general, and I cannot work out what is causing this error; as I understand it this should work. In the code shown below (near the end of the first snippet), the line <code>\"ColourOutput.do_output((Activity) com.(name-removed).(app-name-removed).ColourActivity);\"</code> is giving the error <code>\"Expression expected\"</code> on the text <code>\"com.(name-removed).(app-name-removed).ColourActivity\"</code> in Android Studio 1.1.0.</p>\n\n<p>(This is inside the class <code>\"public class ColourActivity extends Activity\"</code>.)</p>\n\n<pre><code>        private Camera.PreviewCallback preview_callback = new Camera.PreviewCallback() {\n        @Override\n        public void onPreviewFrame(byte[] data, Camera camera) {\n            int width = mCamera.getParameters().getPreviewSize().width;\n            int height = mCamera.getParameters().getPreviewSize().height;\n            int raw_pixels[];\n            int pixels[];\n\n            raw_pixels = new int[width * height];\n            pixels = new int[get_sample_width() * get_sample_height()];\n            convert_yuv(raw_pixels, data, width, height);\n            crop_pixels(raw_pixels, pixels, width, height, (width - get_sample_width()) / 2, (height - get_sample_height()) / 2, get_sample_width(), get_sample_height());\n\n            if (PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"use_mean\", true) == true) {\n                ColourOutput.add_colour_to_output(\n                        ColourTools.get_mean(\n                                pixels, get_sample_width(), get_sample_height(),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_secondary\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_white\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_brightness\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_secondary\", 32),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_dark\", 43),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_light\", 128),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"quantization_matching_only\", true)\n                        ),\n                        ColourOutput.ColourType.MEAN);\n            }\n            if (PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"use_mode\", true) == true) {\n                ColourOutput.add_colour_to_output(\n                        ColourTools.get_mode(\n                                pixels, get_sample_width(), get_sample_height(),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_secondary\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_white\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_brightness\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_secondary\", 32),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_dark\", 43),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_light\", 128),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"quantization_matching_only\", true)\n                        ),\n                        ColourOutput.ColourType.MODE);\n            }\n            ColourOutput.do_output((Activity) com.(name-removed).(app-name-removed).ColourActivity);\n        }\n    };\n</code></pre>\n\n<p>Here is the definition of <strong>\"ColourOutput.do_output\"</strong>:</p>\n\n<pre><code>public class ColourOutput {\n    private static boolean output_clear = true;\n    private static String output_buffer = \"\";\n\n    public static enum ColourType {\n        MEAN,\n        MODE\n    }\n\n    public static void add_colour_to_output(ColourTools.ColourDescription colour, ColourType type) {\n        if (output_clear == true) {\n            output_buffer = colour.Brightness.toString() + \" \" + colour.Colour.toString();\n        }\n        else {\n            output_buffer = output_buffer + \" \" + colour.Brightness.toString() + \" \" + colour.Colour.toString();\n        }\n        output_clear = false;\n    }\n\n    public static void do_output(Activity activity) {\n        ((TextView) activity.findViewById(R.id.output_text)).setText(output_buffer);\n        output_buffer = \"\";\n        output_clear = true;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","fragment"],"comments":[{"owner":{"account_id":6726488,"reputation":115,"user_id":5184251,"display_name":"Ajaya Tiwari"},"score":0,"creation_date":1568116962,"post_id":57870352,"comment_id":102165600,"body_markdown":"Fragments has it’s own life cycle but it always be embedded with an activity so that the fragments life cycle is directly affected by the host activity’s life cycle","body":"Fragments has it’s own life cycle but it always be embedded with an activity so that the fragments life cycle is directly affected by the host activity’s life cycle"},{"owner":{"account_id":13810539,"reputation":3452,"user_id":9968399,"display_name":"Taseer"},"score":0,"creation_date":1568117474,"post_id":57870352,"comment_id":102165875,"body_markdown":"If you are not saving anything `onSaveInstance` callback, then the savedInstance will be null, hence the fragment transaction occurs again.","body":"If you are not saving anything <code>onSaveInstance</code> callback, then the savedInstance will be null, hence the fragment transaction occurs again."},{"owner":{"account_id":8356567,"reputation":2899,"user_id":6276596,"display_name":"Furkan Yurdakul"},"score":0,"creation_date":1568118987,"post_id":57870352,"comment_id":102166761,"body_markdown":"For example: orientation change is a configuration change that triggers this lifecycle. Based on that: That depends on whether you use `android:configChanges=&quot;orientation&quot;` in your manifest. If you do, everything will remain the same and views just re-layout themselves. If not, activities and fragments will be recreated with their saved instances, which you can override as `onSaveInstanceState(Bundle outState)`.","body":"For example: orientation change is a configuration change that triggers this lifecycle. Based on that: That depends on whether you use <code>android:configChanges=&quot;orientation&quot;</code> in your manifest. If you do, everything will remain the same and views just re-layout themselves. If not, activities and fragments will be recreated with their saved instances, which you can override as <code>onSaveInstanceState(Bundle outState)</code>."},{"owner":{"account_id":16594796,"reputation":553,"user_id":11991941,"display_name":"Hady Salhab"},"score":0,"creation_date":1568121869,"post_id":57870352,"comment_id":102168407,"body_markdown":"My point is: if the savedinstancestate is not null after rotation , why does the fragment manager add the fragments again?","body":"My point is: if the savedinstancestate is not null after rotation , why does the fragment manager add the fragments again?"}],"answers":[{"tags":[],"owner":{"account_id":6726488,"reputation":115,"user_id":5184251,"display_name":"Ajaya Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643905028,"creation_date":1568117014,"answer_id":57870424,"question_id":57870352,"body_markdown":"Fragments has it’s own life cycle but it always be embedded with an activity so that the fragments life cycle is directly affected by the host activity’s life cycle.\r\n\r\n\r\nI think this will help: When you rotate your device and the screen changes orientation, Android usually destroys your application&#39;s existing Activities and Fragments and recreates them. Android does this so that your application can reload resources based on the new configuration.\r\n\r\nif you use SaveInstanceState like below, then its hold the value, and will not be null and you can handle.\r\n```\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState){\r\n        super.onSaveInstanceState(outState);\r\n        outState.putString(savedName, name);\r\n    }\r\n```","title":"Fragments And Configuration Change","body":"<p>Fragments has it’s own life cycle but it always be embedded with an activity so that the fragments life cycle is directly affected by the host activity’s life cycle.</p>\n<p>I think this will help: When you rotate your device and the screen changes orientation, Android usually destroys your application's existing Activities and Fragments and recreates them. Android does this so that your application can reload resources based on the new configuration.</p>\n<p>if you use SaveInstanceState like below, then its hold the value, and will not be null and you can handle.</p>\n<pre><code>    @Override\n    public void onSaveInstanceState(Bundle outState){\n        super.onSaveInstanceState(outState);\n        outState.putString(savedName, name);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12638560,"reputation":956,"user_id":9186913,"display_name":"raj kavadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568118246,"creation_date":1568118246,"answer_id":57870739,"question_id":57870352,"body_markdown":"I belive what you are looking for is here\r\nhttps://www.androiddesignpatterns.com/2013/04/retaining-objects-across-config-changes.html\r\nand \r\n\r\n if you want to know the shorcut just put\r\n\r\nsetretaininstance(true);\r\n\r\n\r\ninside of Fragments.","title":"Fragments And Configuration Change","body":"<p>I belive what you are looking for is here\n<a href=\"https://www.androiddesignpatterns.com/2013/04/retaining-objects-across-config-changes.html\" rel=\"nofollow noreferrer\">https://www.androiddesignpatterns.com/2013/04/retaining-objects-across-config-changes.html</a>\nand </p>\n\n<p>if you want to know the shorcut just put</p>\n\n<p>setretaininstance(true);</p>\n\n<p>inside of Fragments.</p>\n"}],"owner":{"account_id":16594796,"reputation":553,"user_id":11991941,"display_name":"Hady Salhab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643905028,"creation_date":1568116769,"question_id":57870352,"body_markdown":"I&#39;m trying to understand the behavior of fragments when a configuration change occurs.\r\nI have created a project where an activity will host a fragment in `onCreate()`:\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if(savedInstanceState==null) {\r\n            mFragment1 = new Fragment1();\r\n            mManager = getFragmentManager();\r\n            mManager.beginTransaction().add(R.id.container_1, mFragment1, null)\r\n                    .add(R.id.container_1, mFragment1, null)\r\n                    .commit();\r\n        }\r\n    }\r\n\r\n\r\n\r\nIf the transaction happens only if savedInstanceState is null, and activity and fragments are destroyed and recreated,why does my activity host the fragment again when the device is rotated?\r\nMy point is: if the savedinstancestate is not null after rotation , why does the fragment manager add the fragments again?\r\n\r\nThank you.","title":"Fragments And Configuration Change","body":"<p>I'm trying to understand the behavior of fragments when a configuration change occurs.\nI have created a project where an activity will host a fragment in <code>onCreate()</code>:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    if(savedInstanceState==null) {\n        mFragment1 = new Fragment1();\n        mManager = getFragmentManager();\n        mManager.beginTransaction().add(R.id.container_1, mFragment1, null)\n                .add(R.id.container_1, mFragment1, null)\n                .commit();\n    }\n}\n</code></pre>\n\n<p>If the transaction happens only if savedInstanceState is null, and activity and fragments are destroyed and recreated,why does my activity host the fragment again when the device is rotated?\nMy point is: if the savedinstancestate is not null after rotation , why does the fragment manager add the fragments again?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","firebase-admin","firebase-tools"],"answers":[{"tags":[],"owner":{"account_id":6736149,"reputation":7230,"user_id":5190886,"display_name":"Hiranya Jayathilaka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1628707141,"creation_date":1628617453,"answer_id":68731383,"question_id":68726082,"body_markdown":"You can pass a fake credential like this:\r\n\r\n    GoogleCredentials.create(new AccessToken(\r\n        &quot;mock-token&quot;, \r\n        Date.from(LocalDateTime.now().plusYears(1).atZone(ZoneId.systemDefault()).toInstant())));","title":"Do I need a firebase service account when I only want to use the emulator?","body":"<p>You can pass a fake credential like this:</p>\n<pre><code>GoogleCredentials.create(new AccessToken(\n    &quot;mock-token&quot;, \n    Date.from(LocalDateTime.now().plusYears(1).atZone(ZoneId.systemDefault()).toInstant())));\n</code></pre>\n"}],"owner":{"account_id":4272236,"reputation":263,"user_id":3493800,"accept_rate":80,"display_name":"Morten Nyhaug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68731383,"answer_count":1,"score":4,"last_activity_date":1643904989,"creation_date":1628595289,"question_id":68726082,"body_markdown":"When connecting to the Firebase Emulator Suite, using the java admin SDK, how can I initialize the app without existing service account credentials? I have the environment variable `FIREBASE_DATABASE_EMULATOR_HOST=localhost:9000` set, and the emulator is running. I then initialize the app with the following code:\r\n\r\n    FirebaseApp.initializeApp(FirebaseOptions.builder()\r\n\t        .setCredentials(GoogleCredentials.getApplicationDefault())\r\n\t        .setDatabaseUrl(&quot;http://localhost:9000?ns=my-project-id&quot;)\r\n    \t    .build(), &quot;my-project-id&quot;);\r\n\r\nBut I get the exception:\r\n\r\n    java.io.IOException: The Application Default Credentials are not available. \r\n    They are available if running in Google Compute Engine. \r\n    Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined \r\n    pointing to a file defining the credentials. \r\n    See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n\r\nDo I always need to have an existing service-account even if I only want to use the emulator? Is there some sort of dummy service-account-credentials for the emulator that I can use?","title":"Do I need a firebase service account when I only want to use the emulator?","body":"<p>When connecting to the Firebase Emulator Suite, using the java admin SDK, how can I initialize the app without existing service account credentials? I have the environment variable <code>FIREBASE_DATABASE_EMULATOR_HOST=localhost:9000</code> set, and the emulator is running. I then initialize the app with the following code:</p>\n<pre><code>FirebaseApp.initializeApp(FirebaseOptions.builder()\n        .setCredentials(GoogleCredentials.getApplicationDefault())\n        .setDatabaseUrl(&quot;http://localhost:9000?ns=my-project-id&quot;)\n        .build(), &quot;my-project-id&quot;);\n</code></pre>\n<p>But I get the exception:</p>\n<pre><code>java.io.IOException: The Application Default Credentials are not available. \nThey are available if running in Google Compute Engine. \nOtherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined \npointing to a file defining the credentials. \nSee https://developers.google.com/accounts/docs/application-default-credentials for more information.\n</code></pre>\n<p>Do I always need to have an existing service-account even if I only want to use the emulator? Is there some sort of dummy service-account-credentials for the emulator that I can use?</p>\n"},{"tags":["java","spring","rest","spring-cloud","feign"],"answers":[{"tags":[],"owner":{"account_id":12564971,"reputation":79,"user_id":13082437,"display_name":"Pascal Sochacki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643065176,"creation_date":1643065176,"answer_id":70841506,"question_id":70841445,"body_markdown":"looking at the doc there is a imported Note https://cloud.spring.io/spring-cloud-openfeign/reference/html/#spring-cloud-feign-overriding-defaults\r\n\r\n&gt; FooConfiguration does not need to be annotated with @Configuration. However, if it is, then take care to exclude it from any @ComponentScan that would otherwise include this configuration as it will become the default source for feign.Decoder, feign.Encoder, feign.Contract, etc., when specified. This can be avoided by putting it in a separate, non-overlapping package from any @ComponentScan or @SpringBootApplication, or it can be explicitly excluded in @ComponentScan.\r\n\r\nTry to remove the annotation: `@Configuration`","title":"Creating a Feign configuration just for one client?","body":"<p>looking at the doc there is a imported Note <a href=\"https://cloud.spring.io/spring-cloud-openfeign/reference/html/#spring-cloud-feign-overriding-defaults\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-openfeign/reference/html/#spring-cloud-feign-overriding-defaults</a></p>\n<blockquote>\n<p>FooConfiguration does not need to be annotated with @Configuration. However, if it is, then take care to exclude it from any @ComponentScan that would otherwise include this configuration as it will become the default source for feign.Decoder, feign.Encoder, feign.Contract, etc., when specified. This can be avoided by putting it in a separate, non-overlapping package from any @ComponentScan or @SpringBootApplication, or it can be explicitly excluded in @ComponentScan.</p>\n</blockquote>\n<p>Try to remove the annotation: <code>@Configuration</code></p>\n"},{"tags":[],"owner":{"account_id":13489444,"reputation":33,"user_id":9732184,"display_name":"Amir Shokri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643904274,"creation_date":1643904274,"answer_id":70974537,"question_id":70841445,"body_markdown":"You have to create new FeignConfiguration class for your new Feign client,\r\nAlso you should remove the @Configuration from your Feign configuration classes.\r\n","title":"Creating a Feign configuration just for one client?","body":"<p>You have to create new FeignConfiguration class for your new Feign client,\nAlso you should remove the @Configuration from your Feign configuration classes.</p>\n"}],"owner":{"account_id":20053569,"reputation":141,"user_id":14701745,"display_name":"HelloWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9011,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1643904749,"creation_date":1643064650,"question_id":70841445,"body_markdown":"I have a whole bunch of Feign clients that uses a shared configuration(`MyFeignConfiguration.class`):\r\n\r\n    @FeignClient(name = &quot;clientA&quot;, url = &quot;http://serviceA.com&quot;, fallbackFactory = ServiceAFallbackFactory.class, configuration = MyFeignConfiguration.class)\r\n    \r\n    @FeignClient(name = &quot;clientB&quot;, url = &quot;http://serviceB.com&quot;, fallbackFactory = ServiceBFallbackFactory.class, configuration = MyFeignConfiguration.class)\r\n    \r\n    @FeignClient(name = &quot;clientC&quot;, url = &quot;http://serviceC.com&quot;, fallbackFactory = ServiceCFallbackFactory.class, configuration = MyFeignConfiguration.class)\r\n\r\nHowever, for a new client, I want to change the underlying Http Client that is used to OkHttp one. In the `MyFeignConfiguration` class, I can add the following:\r\n\r\n    @Configuration\r\n    class MyFeignConfiguration {\r\n        @Bean\r\n        public Client getClient() {\r\n            return OkHttpClient() // use the OkHttp client \r\n        }\r\n       \r\n        @Bean\r\n        public ErrorDecoder getErrorDecoder() {\r\n            //... existing configs\r\n        }\r\n\r\nHowever, now all of the clients are using this OkHttp client. How do configure the new feign client so that only it is using the OkHttp client? Also, I still need to use the existing default configs(like the `ErrorDecoder`) from my main `MyFeignConfiguration` class.\r\n","title":"Creating a Feign configuration just for one client?","body":"<p>I have a whole bunch of Feign clients that uses a shared configuration(<code>MyFeignConfiguration.class</code>):</p>\n<pre><code>@FeignClient(name = &quot;clientA&quot;, url = &quot;http://serviceA.com&quot;, fallbackFactory = ServiceAFallbackFactory.class, configuration = MyFeignConfiguration.class)\n\n@FeignClient(name = &quot;clientB&quot;, url = &quot;http://serviceB.com&quot;, fallbackFactory = ServiceBFallbackFactory.class, configuration = MyFeignConfiguration.class)\n\n@FeignClient(name = &quot;clientC&quot;, url = &quot;http://serviceC.com&quot;, fallbackFactory = ServiceCFallbackFactory.class, configuration = MyFeignConfiguration.class)\n</code></pre>\n<p>However, for a new client, I want to change the underlying Http Client that is used to OkHttp one. In the <code>MyFeignConfiguration</code> class, I can add the following:</p>\n<pre><code>@Configuration\nclass MyFeignConfiguration {\n    @Bean\n    public Client getClient() {\n        return OkHttpClient() // use the OkHttp client \n    }\n   \n    @Bean\n    public ErrorDecoder getErrorDecoder() {\n        //... existing configs\n    }\n</code></pre>\n<p>However, now all of the clients are using this OkHttp client. How do configure the new feign client so that only it is using the OkHttp client? Also, I still need to use the existing default configs(like the <code>ErrorDecoder</code>) from my main <code>MyFeignConfiguration</code> class.</p>\n"},{"tags":["java","spring","auto-increment","derby"],"answers":[{"tags":[],"owner":{"account_id":1143154,"reputation":19805,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1438678389,"creation_date":1438677915,"answer_id":31804619,"question_id":31804210,"body_markdown":"This is due to [pre-allocation of values for auto-increment columns](https://db.apache.org/derby/docs/10.9/ref/rrefproperpreallocator.html).  Derby being an in-memory database, caches auto-increment values when the database is first loaded into the memory.  Then, future values of the auto-increment columns are generated using the cache instead of querying the database again and again.  If the database is not shut down properly, unused values from the cache are lost forever.\r\n\r\nYou have two options to address this:\r\n\r\n1. Add `;shutdown=true` to the JDBC URL.  This will shut the database down when the application ends.\r\n1. Set the [`derby.language.sequence.preallocator`](https://db.apache.org/derby/docs/10.9/ref/rrefproperpreallocator.html) property to `1` (its default value is `100`).  This will ensure that the column value is never cached.\r\n\r\nNote that most databases behave similarly for sequences.  For example, H2 has the exact same behaviour but uses a cache size of `32` instead of `100` like Derby does.","title":"Derby Auto Increment by 100 when specified as 1","body":"<p>This is due to <a href=\"https://db.apache.org/derby/docs/10.9/ref/rrefproperpreallocator.html\" rel=\"noreferrer\">pre-allocation of values for auto-increment columns</a>.  Derby being an in-memory database, caches auto-increment values when the database is first loaded into the memory.  Then, future values of the auto-increment columns are generated using the cache instead of querying the database again and again.  If the database is not shut down properly, unused values from the cache are lost forever.</p>\n\n<p>You have two options to address this:</p>\n\n<ol>\n<li>Add <code>;shutdown=true</code> to the JDBC URL.  This will shut the database down when the application ends.</li>\n<li>Set the <a href=\"https://db.apache.org/derby/docs/10.9/ref/rrefproperpreallocator.html\" rel=\"noreferrer\"><code>derby.language.sequence.preallocator</code></a> property to <code>1</code> (its default value is <code>100</code>).  This will ensure that the column value is never cached.</li>\n</ol>\n\n<p>Note that most databases behave similarly for sequences.  For example, H2 has the exact same behaviour but uses a cache size of <code>32</code> instead of <code>100</code> like Derby does.</p>\n"},{"tags":[],"owner":{"account_id":21493335,"reputation":36,"user_id":15838700,"display_name":"Uditha Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643904300,"creation_date":1643904300,"answer_id":70974545,"question_id":31804210,"body_markdown":"Thanks to  @manish the second option worked for me.\r\n\r\nIn order to implement the 2nd solution, add the following code line where you set your database connection as shown in the below example.\r\n\r\n    Class.forName(&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;);\r\n    String URL = &quot;jdbc:derby:testDB;create=true;&quot;;\r\n    conn = DriverManager.getConnection(URL);\r\n    System.setProperty(&quot;derby.language.sequence.preallocator&quot;, &quot;1&quot;); // Add this line\r\n\r\nThanks to [answer][1] provided by @xfocus99, I was able to know how to implement the 2nd solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57872367/derby-db-increment-the-id-even-after-the-statement-has-been-rolled-back","title":"Derby Auto Increment by 100 when specified as 1","body":"<p>Thanks to  @manish the second option worked for me.</p>\n<p>In order to implement the 2nd solution, add the following code line where you set your database connection as shown in the below example.</p>\n<pre><code>Class.forName(&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;);\nString URL = &quot;jdbc:derby:testDB;create=true;&quot;;\nconn = DriverManager.getConnection(URL);\nSystem.setProperty(&quot;derby.language.sequence.preallocator&quot;, &quot;1&quot;); // Add this line\n</code></pre>\n<p>Thanks to <a href=\"https://stackoverflow.com/questions/57872367/derby-db-increment-the-id-even-after-the-statement-has-been-rolled-back\">answer</a> provided by @xfocus99, I was able to know how to implement the 2nd solution.</p>\n"}],"owner":{"account_id":3329749,"reputation":8669,"user_id":2798955,"accept_rate":28,"display_name":"Bruce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4855,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31804619,"answer_count":2,"score":7,"last_activity_date":1643904673,"creation_date":1438676580,"question_id":31804210,"body_markdown":"I used the statement below to create a Derby database table with auto-increment primary column.\r\n\r\n    CREATE TABLE \\&quot;table\\&quot; (\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;id\\&quot; INTEGER  NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;path\\&quot; VARCHAR(2000) DEFAULT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;downloaded\\&quot; BOOLEAN DEFAULT false NOT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;retried_times\\&quot; SMALLINT DEFAULT 0 NOT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;name\\&quot; VARCHAR(40),\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;downloaded_date\\&quot; TIMESTAMP DEFAULT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\tPRIMARY KEY (\\&quot;id\\&quot;)\\n&quot;\r\n\r\n\r\nWhen I insert a row through Spring JDBC, it increments by 100. Is there any error in my statement?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Mq7X7.png","title":"Derby Auto Increment by 100 when specified as 1","body":"<p>I used the statement below to create a Derby database table with auto-increment primary column.</p>\n<pre><code>CREATE TABLE \\&quot;table\\&quot; (\\n&quot;\n            + &quot; \\&quot;id\\&quot; INTEGER  NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,\\n&quot;\n            + &quot; \\&quot;path\\&quot; VARCHAR(2000) DEFAULT NULL,\\n&quot;\n            + &quot; \\&quot;downloaded\\&quot; BOOLEAN DEFAULT false NOT NULL,\\n&quot;\n            + &quot; \\&quot;retried_times\\&quot; SMALLINT DEFAULT 0 NOT NULL,\\n&quot;\n            + &quot; \\&quot;name\\&quot; VARCHAR(40),\\n&quot;\n            + &quot; \\&quot;downloaded_date\\&quot; TIMESTAMP DEFAULT NULL,\\n&quot;\n            + &quot; PRIMARY KEY (\\&quot;id\\&quot;)\\n&quot;\n</code></pre>\n<p>When I insert a row through Spring JDBC, it increments by 100. Is there any error in my statement?</p>\n<p><a href=\"https://i.stack.imgur.com/Mq7X7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mq7X7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string","locale"],"comments":[{"owner":{"account_id":1272460,"reputation":53083,"user_id":1228454,"accept_rate":76,"display_name":"nwinkler"},"score":0,"creation_date":1330702889,"post_id":9536018,"comment_id":12081787,"body_markdown":"Did you take a look at http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Locale.html?","body":"Did you take a look at <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/api/java/util/Locale.html</a>?"},{"owner":{"account_id":1285400,"reputation":131,"user_id":1238590,"accept_rate":75,"display_name":"Jack Jr"},"score":0,"creation_date":1330703269,"post_id":9536018,"comment_id":12081967,"body_markdown":"thanx.. just a newbie.. trying to figure sth out...","body":"thanx.. just a newbie.. trying to figure sth out..."},{"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"score":0,"creation_date":1330719023,"post_id":9536018,"comment_id":12087563,"body_markdown":"@Jack: In future you might want to (Google|Bing) search for answers first and ask **detailed** question if you are unable to find the answer or feel confused. I understand that Locale class could be very confusing, especially since Java 7 but it really doesn&#39;t mean that you should not work on the problem by yourself instead of looking for fast solutions.","body":"@Jack: In future you might want to (Google|Bing) search for answers first and ask <b>detailed</b> question if you are unable to find the answer or feel confused. I understand that Locale class could be very confusing, especially since Java 7 but it really doesn&#39;t mean that you should not work on the problem by yourself instead of looking for fast solutions."},{"owner":{"account_id":2153873,"reputation":13196,"user_id":1909531,"accept_rate":79,"display_name":"Matthias M"},"score":2,"creation_date":1415275955,"post_id":9536018,"comment_id":42136105,"body_markdown":"Since locale conversion is not trivial, I think this question is not so stupid. Especially when you need convert both ways: locale =&gt; string and string =&gt; locale http://stackoverflow.com/questions/2522248/how-to-get-locale-from-its-string-representation-in-java","body":"Since locale conversion is not trivial, I think this question is not so stupid. Especially when you need convert both ways: locale =&gt; string and string =&gt; locale <a href=\"http://stackoverflow.com/questions/2522248/how-to-get-locale-from-its-string-representation-in-java\" title=\"how to get locale from its string representation in java\">stackoverflow.com/questions/2522248/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643904116,"creation_date":1330703488,"answer_id":9536252,"question_id":9536018,"body_markdown":"Depending what you want to do with it you could use the [toString][1] method of the Locale class.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#toString()\r\n","title":"Java Locale to String","body":"<p>Depending what you want to do with it you could use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#toString()\" rel=\"nofollow noreferrer\">toString</a> method of the Locale class.</p>\n"},{"tags":[],"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1330718795,"creation_date":1330718795,"answer_id":9539659,"question_id":9536018,"body_markdown":"That really depends on the Java version you use. When you say convert to String, I assume you might want to:\r\n\r\n 1. Convert it to Locale identifier, so that you can easily recreate Locale in the future.\r\n 2. Pass it as a String representation to some part of the system.\r\n 3. Get (possibly native) name of language, country or the Locale object.\r\n\r\nOthers pointed you to a documentation, but I think it is better to walk through several possibilities.\r\n\r\nAd 1. If you need to convert to a Locale identifier, the best method as of Java 7 (that doesn&#39;t really exist in previous releases) is [toLanguageTag()][1].\r\n\r\nThat&#39;s because you can easily store Locale identifier in a string (including all the options, like script, Unicode extensions, etc.) and recreate Locale object using [forLanguageTag(String)][2] without losing information. Simple `toString()` does not hold this property.  \r\nFollowing code snippet illustrates my point:\r\n\r\n    Locale locale = Locale.getDefault(Locale.Category.DISPLAY);\r\n    String localeId = locale.toLanguageTag();\r\n    Locale recreatedLocale = Locale.forLanguageTag(localeId);\r\n\r\nPrior to Java 7, you really needed to use `toString()` and manually handle countries and variants (for Locale consisted of up to three identifiers separated by and underscore, i.e. no_NO_NY.)\r\n\r\nAd 2. If you need to pass Locale to other part of the system (i.e. web service), `toString()` may and may be not what you are looking for. That&#39;s because of what I wrote above - if you need dash as a separator and don&#39;t care so much for variants, I would go with [getLanguage()][3] and [getCountry()][4] methods rather than plain `toString()`:\r\n\r\n    Locale uiLocale = Locale.getDefault(Locale.Category.DISPLAY);\r\n    String localeId = MessageFormat.format(&quot;{0}-{1}&quot;, \r\n                                           uiLocale.getLanguage(),\r\n                                           uiLocale.getCountry());\r\n\r\nThis method should work well with Java versions since version 1.4.\r\n\r\nAd 3. If you want to present language, country or Locale display name, so that user can choose the valid Locale (i.e. in his/her profile), what you probably looking for are [getDisplayCountry(Locale)][5], [getDisplayLanguage(Locale)][6] and [getDisplayName(Locale)][7]. You can use them to display names in a target user language (provided that JVM has appropriate translations, which is true for many languages):\r\n\r\n    Locale uiLocale = Locale.getDefault(Locale.Category.DISPLAY);\r\n    String languageName = uiLocale.getDisplayLanguage(uiLocale);\r\n    String countryName = uiLocale.getDisplayLanguage(uiLocale);\r\n    // usually something like langage (country), i.e. polski (Polska)\r\n    String localeName = uiLocale.getDisplayName(uiLocale);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#toLanguageTag%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#forLanguageTag%28java.lang.String%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getLanguage%28%29\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getCountry%28%29\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayCountry%28%29\r\n  [6]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayLanguage%28java.util.Locale%29\r\n  [7]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayName%28%29","title":"Java Locale to String","body":"<p>That really depends on the Java version you use. When you say convert to String, I assume you might want to:</p>\n\n<ol>\n<li>Convert it to Locale identifier, so that you can easily recreate Locale in the future.</li>\n<li>Pass it as a String representation to some part of the system.</li>\n<li>Get (possibly native) name of language, country or the Locale object.</li>\n</ol>\n\n<p>Others pointed you to a documentation, but I think it is better to walk through several possibilities.</p>\n\n<p>Ad 1. If you need to convert to a Locale identifier, the best method as of Java 7 (that doesn't really exist in previous releases) is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#toLanguageTag%28%29\">toLanguageTag()</a>.</p>\n\n<p>That's because you can easily store Locale identifier in a string (including all the options, like script, Unicode extensions, etc.) and recreate Locale object using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#forLanguageTag%28java.lang.String%29\">forLanguageTag(String)</a> without losing information. Simple <code>toString()</code> does not hold this property.<br>\nFollowing code snippet illustrates my point:</p>\n\n<pre><code>Locale locale = Locale.getDefault(Locale.Category.DISPLAY);\nString localeId = locale.toLanguageTag();\nLocale recreatedLocale = Locale.forLanguageTag(localeId);\n</code></pre>\n\n<p>Prior to Java 7, you really needed to use <code>toString()</code> and manually handle countries and variants (for Locale consisted of up to three identifiers separated by and underscore, i.e. no_NO_NY.)</p>\n\n<p>Ad 2. If you need to pass Locale to other part of the system (i.e. web service), <code>toString()</code> may and may be not what you are looking for. That's because of what I wrote above - if you need dash as a separator and don't care so much for variants, I would go with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getLanguage%28%29\">getLanguage()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getCountry%28%29\">getCountry()</a> methods rather than plain <code>toString()</code>:</p>\n\n<pre><code>Locale uiLocale = Locale.getDefault(Locale.Category.DISPLAY);\nString localeId = MessageFormat.format(\"{0}-{1}\", \n                                       uiLocale.getLanguage(),\n                                       uiLocale.getCountry());\n</code></pre>\n\n<p>This method should work well with Java versions since version 1.4.</p>\n\n<p>Ad 3. If you want to present language, country or Locale display name, so that user can choose the valid Locale (i.e. in his/her profile), what you probably looking for are <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayCountry%28%29\">getDisplayCountry(Locale)</a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayLanguage%28java.util.Locale%29\">getDisplayLanguage(Locale)</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayName%28%29\">getDisplayName(Locale)</a>. You can use them to display names in a target user language (provided that JVM has appropriate translations, which is true for many languages):</p>\n\n<pre><code>Locale uiLocale = Locale.getDefault(Locale.Category.DISPLAY);\nString languageName = uiLocale.getDisplayLanguage(uiLocale);\nString countryName = uiLocale.getDisplayLanguage(uiLocale);\n// usually something like langage (country), i.e. polski (Polska)\nString localeName = uiLocale.getDisplayName(uiLocale);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291759,"reputation":1,"user_id":5557922,"display_name":"Muhammad Mujahid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643904463,"creation_date":1453270936,"answer_id":34892891,"question_id":9536018,"body_markdown":"It’s very simple. Just use the following code. Consider you are using locale to convert from an ISO current calendar date to the [Hijri calendar][1].\r\n\r\n    Chronology iso = ISOChronology.getInstanceUTC();\r\n    Chronology hijri = IslamicChronology.getInstanceUTC();\r\n    LocalDate todayIso = new LocalDate(2016, 1, 20, iso);\r\n    LocalDate todayHijri = new LocalDate(todayIso.toDateTimeAtStartOfDay(), hijri);\r\n    String currenthijridate = &quot;&quot; + todayHijri;\r\n\r\n    /* &#39;currenthijridate&#39; will appear as 1437-04-08 which\r\n       is a string. Now it&#39;s simply String = &quot;&quot; + locale\r\n     */\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Islamic_calendar\r\n\r\n\r\n","title":"Java Locale to String","body":"<p>It’s very simple. Just use the following code. Consider you are using locale to convert from an ISO current calendar date to the <a href=\"https://en.wikipedia.org/wiki/Islamic_calendar\" rel=\"nofollow noreferrer\">Hijri calendar</a>.</p>\n<pre><code>Chronology iso = ISOChronology.getInstanceUTC();\nChronology hijri = IslamicChronology.getInstanceUTC();\nLocalDate todayIso = new LocalDate(2016, 1, 20, iso);\nLocalDate todayHijri = new LocalDate(todayIso.toDateTimeAtStartOfDay(), hijri);\nString currenthijridate = &quot;&quot; + todayHijri;\n\n/* 'currenthijridate' will appear as 1437-04-08 which\n   is a string. Now it's simply String = &quot;&quot; + locale\n */\n</code></pre>\n"}],"owner":{"account_id":1285400,"reputation":131,"user_id":1238590,"accept_rate":75,"display_name":"Jack Jr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23986,"favorite_count":0,"down_vote_count":8,"up_vote_count":13,"accepted_answer_id":9536252,"answer_count":3,"score":5,"last_activity_date":1643904631,"creation_date":1330702613,"question_id":9536018,"body_markdown":"I need to convert Locale to String. How can I do that?\r\n\r\nI have Locale loc and String loc1 and need to convert the value from locale to String.\r\n\r\n","title":"Java Locale to String","body":"<p>I need to convert Locale to String. How can I do that?</p>\n<p>I have Locale loc and String loc1 and need to convert the value from locale to String.</p>\n"},{"tags":["java","spring-boot","feign"],"answers":[{"tags":[],"owner":{"account_id":13489444,"reputation":33,"user_id":9732184,"display_name":"Amir Shokri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643904011,"creation_date":1643904011,"answer_id":70974465,"question_id":70940372,"body_markdown":"Can you change your yaml file to be like this?:\r\n```\r\nlr:\r\n  main-product-client.url: http://localhost:8081\r\n  product-client-properties:\r\n    client-one:\r\n      type: productone\r\n      use-proxy: false\r\n      url: someUrl\r\n    client-two:\r\n      type: producttwo\r\n      use-proxy: true\r\n      url: someUrl\r\n    client-three:\r\n      type: productthree\r\n      use-proxy: true\r\n      url: someUrl\r\n```\r\n\r\nand use in @Value like this:\r\n```\r\n@Value( &quot;${lr.product-client-properties.client-one.url}&quot;)\r\n```","title":"How to bind a Feign Client url from the YAML when the url is located at a index of a List","body":"<p>Can you change your yaml file to be like this?:</p>\n<pre><code>lr:\n  main-product-client.url: http://localhost:8081\n  product-client-properties:\n    client-one:\n      type: productone\n      use-proxy: false\n      url: someUrl\n    client-two:\n      type: producttwo\n      use-proxy: true\n      url: someUrl\n    client-three:\n      type: productthree\n      use-proxy: true\n      url: someUrl\n</code></pre>\n<p>and use in @Value like this:</p>\n<pre><code>@Value( &quot;${lr.product-client-properties.client-one.url}&quot;)\n</code></pre>\n"}],"owner":{"account_id":16498239,"reputation":103,"user_id":11920187,"display_name":"Sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1512,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643904011,"creation_date":1643717543,"question_id":70940372,"body_markdown":"Hello new to Java and Springboot.  I currently have my integrations set up in this way.  It needs to stay as a List so I could add the clients in one place instead of two. \r\n\r\napplication.yaml\r\n```\r\nlr:\r\n  main-product-client.url: http://localhost:8081\r\n  product-client-properties:\r\n    - type: productone\r\n      use-proxy: false\r\n      url: someUrl\r\n    - type: producttwo\r\n      use-proxy: true\r\n      url: someUrl\r\n    - type: productthree\r\n      use-proxy: true\r\n      url: someUrl\r\n```\r\n\r\nProductOneClient.java\r\n```\r\n@FeignClient(\r\n    value = &quot;productOneClient&quot;,\r\n    url = &quot;${lr.product-client-properties(0).url}&quot;,\r\n    configuration = ProductOneClient.ProductOneClientConfig.class)\r\npublic interface ProductOneClient {\r\n...\r\n```\r\nThis fails to read the placeholder for `${lr.product-client-properties(0).url}`. What&#39;s the proper way to retrieve the integration url for my ProductOne client? Thank you for your time!","title":"How to bind a Feign Client url from the YAML when the url is located at a index of a List","body":"<p>Hello new to Java and Springboot.  I currently have my integrations set up in this way.  It needs to stay as a List so I could add the clients in one place instead of two.</p>\n<p>application.yaml</p>\n<pre><code>lr:\n  main-product-client.url: http://localhost:8081\n  product-client-properties:\n    - type: productone\n      use-proxy: false\n      url: someUrl\n    - type: producttwo\n      use-proxy: true\n      url: someUrl\n    - type: productthree\n      use-proxy: true\n      url: someUrl\n</code></pre>\n<p>ProductOneClient.java</p>\n<pre><code>@FeignClient(\n    value = &quot;productOneClient&quot;,\n    url = &quot;${lr.product-client-properties(0).url}&quot;,\n    configuration = ProductOneClient.ProductOneClientConfig.class)\npublic interface ProductOneClient {\n...\n</code></pre>\n<p>This fails to read the placeholder for <code>${lr.product-client-properties(0).url}</code>. What's the proper way to retrieve the integration url for my ProductOne client? Thank you for your time!</p>\n"},{"tags":["java","jdbc","database-backups"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1643903945,"post_id":70973699,"comment_id":125468133,"body_markdown":"JDBC itself does not offer a database-agnostic backup API, and in its current form, your question is asking multiple questions, and - a bit reading between the lines - asking for tool recommendations. This makes your question off-topic.","body":"JDBC itself does not offer a database-agnostic backup API, and in its current form, your question is asking multiple questions, and - a bit reading between the lines - asking for tool recommendations. This makes your question off-topic."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1643904166,"post_id":70973699,"comment_id":125468243,"body_markdown":"JDBC Connection.getMetaData() allows a general querying of the database structure. But then you&#39;ll need to program.","body":"JDBC Connection.getMetaData() allows a general querying of the database structure. But then you&#39;ll need to program."}],"owner":{"account_id":5310766,"reputation":11,"user_id":4237192,"display_name":"Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643903783,"creation_date":1643900999,"question_id":70973699,"body_markdown":"We built a Java tool that uses Hibernate / JPA to persist and map data on SQL databases. We also provide an installer to ease the setup process. This installer is a Java program that is among others responsible for updating the database scheme to the new version.\r\n\r\nWe&#39;d like to extend the functionality to generate and restore backups if necessary. \r\n\r\nIs there a database technology-agnostic approach to this using JDBC? Is there an alternative to invoking database-specific scripts (for example pq_dump or mysqldump) as subprocess from within Java?\r\n\r\n","title":"What is the suggested way to save and restore a technology agnostic database backup using Java?","body":"<p>We built a Java tool that uses Hibernate / JPA to persist and map data on SQL databases. We also provide an installer to ease the setup process. This installer is a Java program that is among others responsible for updating the database scheme to the new version.</p>\n<p>We'd like to extend the functionality to generate and restore backups if necessary.</p>\n<p>Is there a database technology-agnostic approach to this using JDBC? Is there an alternative to invoking database-specific scripts (for example pq_dump or mysqldump) as subprocess from within Java?</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":22022326,"reputation":46,"user_id":16290940,"display_name":"Abhinav Batta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643856084,"creation_date":1643856084,"answer_id":70965320,"question_id":70965292,"body_markdown":"You need to check for two cases :\r\n\r\nFirst : check for 0,1,2,3  (first four rolls)\r\n\r\nSecond : check for 1,2,3,4 (next four rolls)\r\n\r\nThese cases cover the five rolls.","title":"Algorithm for a small straight in Yahtzee not working for specific dice roll","body":"<p>You need to check for two cases :</p>\n<p>First : check for 0,1,2,3  (first four rolls)</p>\n<p>Second : check for 1,2,3,4 (next four rolls)</p>\n<p>These cases cover the five rolls.</p>\n"},{"tags":[],"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643903736,"creation_date":1643856552,"answer_id":70965365,"question_id":70965292,"body_markdown":"There are more test cases which will fail. E.g. 1,2,3,5, x with x != 4 will return 30 which is wrong. Also 3, 4, 5, 6, x whith x between 3 and 6 will fail.\r\n\r\nWhy? Because your if else is wrong (but it is close to be correctly). The count is only checked if there is no match and count isn&#39;t reset.\r\n\r\nHere is how it should look like:\r\n\r\n    if (x[i] != 0) {\r\n        count++;\r\n    } else {\r\n        count = 0; // reset count if no match\r\n    }\r\n    if (count &gt;= 4) { // always check and not just if there is no match\r\n        score = 30;\r\n        break;\r\n    }\r\n\r\nYou could simplify (and also eliminate the score variable):\r\n\r\n    if (x[i] &gt; 0) {\r\n        if (++count == 4)\r\n            return 30;\r\n    } else {\r\n        count = 0;\r\n    }\r\n\r\nOr:\r\n\r\n    return x[2] &gt; 0 &amp;&amp; x[3] &gt; 0 &amp;&amp; (x[1] &gt; 0 &amp;&amp; (x[0] &gt; 0 || x[4] &gt; 0) || x[4] &gt; 0 &amp;&amp; x[5] &gt; 0) ? 30 : 0;","title":"Algorithm for a small straight in Yahtzee not working for specific dice roll","body":"<p>There are more test cases which will fail. E.g. 1,2,3,5, x with x != 4 will return 30 which is wrong. Also 3, 4, 5, 6, x whith x between 3 and 6 will fail.</p>\n<p>Why? Because your if else is wrong (but it is close to be correctly). The count is only checked if there is no match and count isn't reset.</p>\n<p>Here is how it should look like:</p>\n<pre><code>if (x[i] != 0) {\n    count++;\n} else {\n    count = 0; // reset count if no match\n}\nif (count &gt;= 4) { // always check and not just if there is no match\n    score = 30;\n    break;\n}\n</code></pre>\n<p>You could simplify (and also eliminate the score variable):</p>\n<pre><code>if (x[i] &gt; 0) {\n    if (++count == 4)\n        return 30;\n} else {\n    count = 0;\n}\n</code></pre>\n<p>Or:</p>\n<pre><code>return x[2] &gt; 0 &amp;&amp; x[3] &gt; 0 &amp;&amp; (x[1] &gt; 0 &amp;&amp; (x[0] &gt; 0 || x[4] &gt; 0) || x[4] &gt; 0 &amp;&amp; x[5] &gt; 0) ? 30 : 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643858374,"creation_date":1643858029,"answer_id":70965502,"question_id":70965292,"body_markdown":"Try this:\r\n\r\n    public int getSmallStraightScore() {\r\n        int[] x = getRollFrequency();\r\n        int count = 0;\r\n        for (int i = 0; i &lt; x.length; i++) {\r\n            if (x[i] == 0) {   // prefer affirmative comparisons\r\n                count = 0;     // no need for break\r\n            } else if (++count == 4) { // in-line increment and compare\r\n                return 30;     // clear &quot;found&quot; result\r\n            }\r\n        }\r\n        return 0;              // clear &quot;not found&quot; result\r\n    }\r\n\r\nThis is the simplest/least code approach.\r\n\r\nThe `break` statement has been removed, reducing the [cyclomatic complexity][1], and the `score` variable has been eliminated; a further simplification.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Cyclomatic_complexity","title":"Algorithm for a small straight in Yahtzee not working for specific dice roll","body":"<p>Try this:</p>\n<pre><code>public int getSmallStraightScore() {\n    int[] x = getRollFrequency();\n    int count = 0;\n    for (int i = 0; i &lt; x.length; i++) {\n        if (x[i] == 0) {   // prefer affirmative comparisons\n            count = 0;     // no need for break\n        } else if (++count == 4) { // in-line increment and compare\n            return 30;     // clear &quot;found&quot; result\n        }\n    }\n    return 0;              // clear &quot;not found&quot; result\n}\n</code></pre>\n<p>This is the simplest/least code approach.</p>\n<p>The <code>break</code> statement has been removed, reducing the <a href=\"https://en.wikipedia.org/wiki/Cyclomatic_complexity\" rel=\"nofollow noreferrer\">cyclomatic complexity</a>, and the <code>score</code> variable has been eliminated; a further simplification.</p>\n"}],"owner":{"account_id":24138932,"reputation":21,"user_id":18105404,"display_name":"Obitual"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70965365,"answer_count":3,"score":1,"last_activity_date":1643903736,"creation_date":1643855762,"question_id":70965292,"body_markdown":"I have created a method to calculate whether 5 dice rolls make a small straight in Java. According to my task, a small straight is defined by rolling 4 consecutive numbers in any order.\r\n\r\nI am using an array that tracks the frequency of the rolls in my method. `arr[0]` being the quantity of `1` dice rolled, `arr[1]` the quantity of `2` dice rolled, etc.\r\n\r\nIt works for all of my test cases except when the numbers rolled are `3, 4, 5, 5, 6`.\r\n\r\nThe frequency array for the case that will not work is `[0, 0, 1, 1, 2, 1]`.\r\n\r\n```\r\npublic int getSmallStraightScore() {\r\n    int score = 0;\r\n    int count = 0;\r\n    int[] x = getRollFrequency();\r\n    for (int i = 0; i &lt; x.length; i++) {\r\n        if (x[i] != 0) {\r\n            count++;\r\n        } else if (count == 4) {\r\n            score = 30;\r\n            break;\r\n        }\r\n    }\r\n    return score;\r\n}\r\n```\r\n\r\nI have tried changing `else if (count &gt;= 4)` which does not work either.\r\n\r\nI can&#39;t use anything like a hash table as it has to be in vanilla Java. ","title":"Algorithm for a small straight in Yahtzee not working for specific dice roll","body":"<p>I have created a method to calculate whether 5 dice rolls make a small straight in Java. According to my task, a small straight is defined by rolling 4 consecutive numbers in any order.</p>\n<p>I am using an array that tracks the frequency of the rolls in my method. <code>arr[0]</code> being the quantity of <code>1</code> dice rolled, <code>arr[1]</code> the quantity of <code>2</code> dice rolled, etc.</p>\n<p>It works for all of my test cases except when the numbers rolled are <code>3, 4, 5, 5, 6</code>.</p>\n<p>The frequency array for the case that will not work is <code>[0, 0, 1, 1, 2, 1]</code>.</p>\n<pre><code>public int getSmallStraightScore() {\n    int score = 0;\n    int count = 0;\n    int[] x = getRollFrequency();\n    for (int i = 0; i &lt; x.length; i++) {\n        if (x[i] != 0) {\n            count++;\n        } else if (count == 4) {\n            score = 30;\n            break;\n        }\n    }\n    return score;\n}\n</code></pre>\n<p>I have tried changing <code>else if (count &gt;= 4)</code> which does not work either.</p>\n<p>I can't use anything like a hash table as it has to be in vanilla Java.</p>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643904237,"post_id":70974286,"comment_id":125468268,"body_markdown":"Why are you calling `System.exit(0)` in your class or in your test?","body":"Why are you calling <code>System.exit(0)</code> in your class or in your test?"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643905515,"post_id":70974286,"comment_id":125468825,"body_markdown":"Because i have an everyhour test build and due to some logic it has to stop running in particular situation(Make an exit instead of test)","body":"Because i have an everyhour test build and due to some logic it has to stop running in particular situation(Make an exit instead of test)"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643905608,"post_id":70974286,"comment_id":125468857,"body_markdown":"@BeforeClass\n    public void beforeClass() {\n        if (fileUtills.isSuccessValueFromFile(FileUtills.DATA_FOR_SEO_STATUS_FILE) &amp;&amp; Data.getCurrentHour() != 8) {\n            System.exit(0);\n        }\n    }","body":"@BeforeClass     public void beforeClass() {         if (fileUtills.isSuccessValueFromFile(FileUtills.DATA_FOR_SEO_S&zwnj;&#8203;TATUS_FILE) &amp;&amp; Data.getCurrentHour() != 8) {             System.exit(0);         }     }"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643907282,"post_id":70974286,"comment_id":125469604,"body_markdown":"Really running a test which calls `System.exit(0)`?  And why does this test check the hour of the test? To be honest that looks really weird... Why not using a assumptions (assumeTrue()) etc? That&#39;s much better ... See https://junit.org/junit5/docs/current/user-guide/#writing-tests-assumptions","body":"Really running a test which calls <code>System.exit(0)</code>?  And why does this test check the hour of the test? To be honest that looks really weird... Why not using a assumptions (assumeTrue()) etc? That&#39;s much better ... See <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-assumptions\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643907762,"post_id":70974286,"comment_id":125469841,"body_markdown":"Requirements from the Head. Because it has to start from a new day after success. Without an hour checking it won&#39;t start after success case anymore. They require to stop running it after success case till the next day. So it&#39;s impossible to deal with other way i assume","body":"Requirements from the Head. Because it has to start from a new day after success. Without an hour checking it won&#39;t start after success case anymore. They require to stop running it after success case till the next day. So it&#39;s impossible to deal with other way i assume"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643908084,"post_id":70974286,"comment_id":125469988,"body_markdown":"I use TestNg, not JUnit. Does it have something similar?","body":"I use TestNg, not JUnit. Does it have something similar?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643908340,"post_id":70974286,"comment_id":125470110,"body_markdown":"Not that I know. That&#39;s why I changed a long time ago to JUnit Jupiter (much better and more options)... sorry to say but that requirement sounds wrong..","body":"Not that I know. That&#39;s why I changed a long time ago to JUnit Jupiter (much better and more options)... sorry to say but that requirement sounds wrong.."},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643908750,"post_id":70974286,"comment_id":125470259,"body_markdown":"I agree with you. But they sometimes need so curious requirements &#128513;","body":"I agree with you. But they sometimes need so curious requirements 😁"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643909162,"post_id":70974286,"comment_id":125470422,"body_markdown":"That sentence `Because it has to start from a new day after success. Without an hour checking it won&#39;t start after success case anymore. ` reads to me. There is an issue in your test or in your code??","body":"That sentence <code>Because it has to start from a new day after success. Without an hour checking it won&#39;t start after success case anymore. </code> reads to me. There is an issue in your test or in your code??"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643909473,"post_id":70974286,"comment_id":125470536,"body_markdown":"It&#39;s not an issue. I just want to know how make my build success with exit. On gradle it works showing success &#129300;","body":"It&#39;s not an issue. I just want to know how make my build success with exit. On gradle it works showing success 🤔"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643909670,"post_id":70974286,"comment_id":125470601,"body_markdown":"But this logic in my test","body":"But this logic in my test"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1643909845,"post_id":70974286,"comment_id":125470672,"body_markdown":"If you tests does not start under some circumstances your code sounds to be buggy... if tests can not run over an over again there is some problem in there...","body":"If you tests does not start under some circumstances your code sounds to be buggy... if tests can not run over an over again there is some problem in there..."},{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":1,"creation_date":1643909936,"post_id":70974286,"comment_id":125470716,"body_markdown":"If you want to terminate the test execution process while it&#39;s in progress, you&#39;ll never get success. You have to try/catch this type of fail due to system.exit in jenkinsfile pipeline somehow..","body":"If you want to terminate the test execution process while it&#39;s in progress, you&#39;ll never get success. You have to try/catch this type of fail due to system.exit in jenkinsfile pipeline somehow.."},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643910738,"post_id":70974286,"comment_id":125471071,"body_markdown":"But through gradle in the same case it built with success","body":"But through gradle in the same case it built with success"}],"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643903359,"creation_date":1643903359,"question_id":70974286,"body_markdown":"I have called System.exit(0) in  my class and getting this error trace in jenkins, using maven\r\n\r\n    Process Exit Code: 0\r\n    org.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\r\n\r\nHow can i get success build using System.exit(0)? \r\n\r\n\r\n","title":"org.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye","body":"<p>I have called System.exit(0) in  my class and getting this error trace in jenkins, using maven</p>\n<pre><code>Process Exit Code: 0\norg.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\n</code></pre>\n<p>How can i get success build using System.exit(0)?</p>\n"},{"tags":["java","spring-boot","ssl","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643895682,"post_id":70966387,"comment_id":125464200,"body_markdown":"I doubt Spring is the problem. Have you tried using `kafka-console-consumer`? Unless you&#39;ve edited /etc/hosts file, your host doesn&#39;t know what `kafka` hostname is. You&#39;d need to run the client code on the same Docker network, in a container, for that to work. Also, I&#39;d recommend not using a container that has both Zookeeper and Kafka in it","body":"I doubt Spring is the problem. Have you tried using <code>kafka-console-consumer</code>? Unless you&#39;ve edited /etc/hosts file, your host doesn&#39;t know what <code>kafka</code> hostname is. You&#39;d need to run the client code on the same Docker network, in a container, for that to work. Also, I&#39;d recommend not using a container that has both Zookeeper and Kafka in it"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1643897423,"post_id":70966387,"comment_id":125465028,"body_markdown":"I have the kafka hostname edited in hostfile.","body":"I have the kafka hostname edited in hostfile."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643898110,"post_id":70966387,"comment_id":125465314,"body_markdown":"That&#39;s only going to cause problems. Edit your container advertised listeners to correctly expose its address","body":"That&#39;s only going to cause problems. Edit your container advertised listeners to correctly expose its address"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643898445,"post_id":70966387,"comment_id":125465492,"body_markdown":"Other problem - notice `ssl.key.password = null`... Should this be set?","body":"Other problem - notice <code>ssl.key.password = null</code>... Should this be set?"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1643898534,"post_id":70966387,"comment_id":125465541,"body_markdown":"I have ssl.truststore.password = [hidden] and  ssl.keystore.password = [hidden]","body":"I have ssl.truststore.password = [hidden] and  ssl.keystore.password = [hidden]"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643903232,"post_id":70966387,"comment_id":125467796,"body_markdown":"Sure, those are the stores, not the password of the key itself. I assume you either added/removed that JKS key password when you were using PEM files with Python?","body":"Sure, those are the stores, not the password of the key itself. I assume you either added/removed that JKS key password when you were using PEM files with Python?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643903408,"post_id":70966387,"comment_id":125467869,"body_markdown":"For example, see this post that `ssl.key.password` is set https://docs.confluent.io/platform/current/kafka/authentication_ssl.html","body":"For example, see this post that <code>ssl.key.password</code> is set <a href=\"https://docs.confluent.io/platform/current/kafka/authentication_ssl.html\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/kafka/&hellip;</a>"}],"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643903286,"creation_date":1643866710,"question_id":70966387,"body_markdown":"I have kafka running in docker container as:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZSIE8.png\r\n\r\nI had the message produced to this kafka and now would like to consume through spring boot. I used the codebase from this repo:\r\n\r\nhttps://github.com/lokeshgupta1981/Kafka-Tutorials/tree/master/spring-boot-kafka-app/src/main/java/com/howtodoinjava/kafka/demo\r\n\r\nwhile running the consumer, I am getting flooding of flowing error.\r\n\r\n    [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\r\n\r\nI have kafka hostname resolved through hostfile.\r\n\r\nI even added ssl properties as:\r\n\r\n    spring.kafka.ssl.key-store-location=file:/tmp/secrets/client_keystore.jks\r\n    spring.kafka.ssl.trust-store-location=file:/tmp/secrets/truststore.jks\r\n    spring.kafka.ssl.key-store-password=foobar\r\n    spring.kafka.ssl.trust-store-password=foobar\r\n    spring.kafka.ssl.key-store-type=JKS\r\n    spring.kafka.ssl.trust-store-type=JKS\r\n\r\nbut couldn&#39;t figure out why I am not able to connect to topic from spring-boot.\r\nHowever, I am able to consume from python as:\r\n\r\n \r\n\r\n    # Setup consumer properties\r\n        broker_host = properties.get(&quot;client.consumer.broker.hosts&quot;) #kafka\r\n        broker_port = properties.get(&quot;client.consumer.broker.port&quot;)  #9093\r\n        sink_topic = properties.get(&quot;client.consumer.topic&quot;) # my-private-topic\r\n       \r\n    \r\n        # Load SSL properties\r\n        ssl_security_protocol = properties.get(&quot;ssl.security.protocol&quot;) #SSL\r\n        ssl_ca_location = properties.get(&quot;ssl.ca.location&quot;) #/tmp/secrets/fake-ca-crt.pem\r\n        ssl_cert_location = properties.get(&quot;ssl.cert.location&quot;) #tmp/secrets/client_cert.pem\r\n        ssl_key_location = properties.get(&quot;ssl.key.location&quot;) #/tmp/secrets/client_key.pem\r\n    \r\n    \r\n        # Load record avro schema\r\n        record_schema_path = os.path.join(dirname, properties[&quot;schema.location&quot;])\r\n        record_schema = loads(open(record_schema_path).read())\r\n    \r\n        deserializer = SdpAvroDeserializer(record_schema)\r\n    \r\n        # Create a kafka consumer\r\n        # Set enable.auto.commit to False to consume from the beginning of time\r\n        # Set enable.auto.commit to True to only consume what hasn&#39;t been consumed yet\r\n        props = {&quot;bootstrap.servers&quot;: broker_host + &quot;:&quot; + str(broker_port),\r\n                 &quot;default.topic.config&quot;: {&quot;auto.offset.reset&quot;: &quot;earliest&quot;},\r\n                 &quot;group.id&quot;: &quot;python-consumer-example-group&quot;,\r\n                 &quot;enable.auto.commit&quot;: False,\r\n                 &quot;security.protocol&quot;: ssl_security_protocol,\r\n                 &quot;ssl.ca.location&quot;: ssl_ca_location,\r\n                 &quot;ssl.certificate.location&quot;: ssl_cert_location,\r\n                 &quot;ssl.key.location&quot;: ssl_key_location\r\n                 }\r\n        consumer = KafkaConsumer(props)\r\n        consumer.subscribe([sink_topic])\r\n \r\n        print(f&quot;Start consuming from {sink_topic} at {broker_host} for {listenTimeoutSeconds} seconds&quot;)\r\n    \r\n        t_end = time.time() + listenTimeoutSeconds\r\n        while (time.time() &lt; t_end):\r\n            message = consumer.poll(10)\r\n            # print(message)\r\n            # print(&quot;test\\n&quot;)\r\n            # print(message.value())\r\n            if message and message.value() and not message.error():\r\n                header, payload = deserializer.decode(message.value(), deserialize_header=True)\r\n                if include_record_metadata.lower() == &#39;true&#39;:\r\n                    print(&quot;Message metadata: %s&quot; % header)\r\n                print(&quot;Message payload: %s&quot; % payload)\r\n\r\n\r\nso what I am missing in spring boot to consume the message from kafka?\r\n\r\n\r\nOUTPUT:\r\n\r\n        2022-02-03 00:36:50.431  INFO 20840 --- [           main] c.h.k.d.SpringBootKafkaAppApplication    : No active profile set, falling back to default profiles: default\r\n    2022-02-03 00:36:51.110  INFO 20840 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9000 (http)\r\n    2022-02-03 00:36:51.118  INFO 20840 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-02-03 00:36:51.118  INFO 20840 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]\r\n    2022-02-03 00:36:51.178  INFO 20840 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-02-03 00:36:51.178  INFO 20840 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 714 ms\r\n    2022-02-03 00:36:51.326  INFO 20840 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2022-02-03 00:36:51.475  INFO 20840 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \r\n            allow.auto.create.topics = true\r\n            auto.commit.interval.ms = 5000\r\n            auto.offset.reset = earliest\r\n            bootstrap.servers = [kafka:9093]\r\n            check.crcs = true\r\n            client.dns.lookup = default\r\n            client.id = \r\n            client.rack = \r\n            connections.max.idle.ms = 540000\r\n            default.api.timeout.ms = 60000\r\n            enable.auto.commit = false\r\n            exclude.internal.topics = true\r\n            fetch.max.bytes = 52428800\r\n            fetch.max.wait.ms = 500\r\n            fetch.min.bytes = 1\r\n            group.id = group_id\r\n            group.instance.id = null\r\n            heartbeat.interval.ms = 3000\r\n            interceptor.classes = []\r\n            internal.leave.group.on.close = true\r\n            isolation.level = read_uncommitted\r\n            key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n            max.partition.fetch.bytes = 1048576\r\n            max.poll.interval.ms = 300000\r\n            max.poll.records = 500\r\n            metadata.max.age.ms = 300000\r\n            metric.reporters = []\r\n            metrics.num.samples = 2\r\n            metrics.recording.level = INFO\r\n            metrics.sample.window.ms = 30000\r\n            partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\r\n            receive.buffer.bytes = 65536\r\n            reconnect.backoff.max.ms = 1000\r\n            reconnect.backoff.ms = 50\r\n            request.timeout.ms = 30000\r\n            retry.backoff.ms = 100\r\n            sasl.client.callback.handler.class = null\r\n            sasl.jaas.config = null\r\n            sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n            sasl.kerberos.min.time.before.relogin = 60000\r\n            sasl.kerberos.service.name = null\r\n            sasl.kerberos.ticket.renew.jitter = 0.05\r\n            sasl.kerberos.ticket.renew.window.factor = 0.8\r\n            sasl.login.callback.handler.class = null\r\n            sasl.login.class = null\r\n            sasl.login.refresh.buffer.seconds = 300\r\n            sasl.login.refresh.min.period.seconds = 60\r\n            sasl.login.refresh.window.factor = 0.8\r\n            sasl.login.refresh.window.jitter = 0.05\r\n            sasl.mechanism = GSSAPI\r\n            security.protocol = PLAINTEXT\r\n            security.providers = null\r\n            send.buffer.bytes = 131072\r\n            session.timeout.ms = 10000\r\n            ssl.cipher.suites = null\r\n            ssl.enabled.protocols = [TLSv1.2]\r\n            ssl.endpoint.identification.algorithm = https\r\n            ssl.key.password = null\r\n            ssl.keymanager.algorithm = SunX509\r\n            ssl.keystore.location = /tmp/secrets/client_keystore.jks\r\n            ssl.keystore.password = [hidden]\r\n            ssl.keystore.type = JKS\r\n            ssl.protocol = TLSv1.2\r\n            ssl.provider = null\r\n            ssl.secure.random.implementation = null\r\n            ssl.trustmanager.algorithm = PKIX\r\n            ssl.truststore.location = /tmp/secrets/truststore.jks\r\n            ssl.truststore.password = [hidden]\r\n            ssl.truststore.type = JKS\r\n            value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer\r\n    \r\n    2022-02-03 00:36:51.550  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.5.0\r\n    2022-02-03 00:36:51.551  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 66563e712b0b9f84\r\n    2022-02-03 00:36:51.551  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1643866611549\r\n    2022-02-03 00:36:51.553  INFO 20840 --- [           main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-group_id-1, groupId=group_id] Subscribed to topic(s): my-private-topic\r\n    2022-02-03 00:36:51.554  INFO 20840 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService\r\n    2022-02-03 00:36:51.576  INFO 20840 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9000 (http) with context path &#39;&#39;\r\n    2022-02-03 00:36:51.583  INFO 20840 --- [           main] c.h.k.d.SpringBootKafkaAppApplication    : Started SpringBootKafkaAppApplication in 1.405 seconds (JVM running for 1.727)\r\n    2022-02-03 00:36:52.036  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\r\n    2022-02-03 00:36:52.302  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\r\n    2022-02-03 00:36:52.569  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\r\n    2","title":"Python ssl consumer works. Spring does not","body":"<p>I have kafka running in docker container as:\n<a href=\"https://i.stack.imgur.com/ZSIE8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZSIE8.png\" alt=\"enter image description here\" /></a></p>\n<p>I had the message produced to this kafka and now would like to consume through spring boot. I used the codebase from this repo:</p>\n<p><a href=\"https://github.com/lokeshgupta1981/Kafka-Tutorials/tree/master/spring-boot-kafka-app/src/main/java/com/howtodoinjava/kafka/demo\" rel=\"nofollow noreferrer\">https://github.com/lokeshgupta1981/Kafka-Tutorials/tree/master/spring-boot-kafka-app/src/main/java/com/howtodoinjava/kafka/demo</a></p>\n<p>while running the consumer, I am getting flooding of flowing error.</p>\n<pre><code>[Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\n</code></pre>\n<p>I have kafka hostname resolved through hostfile.</p>\n<p>I even added ssl properties as:</p>\n<pre><code>spring.kafka.ssl.key-store-location=file:/tmp/secrets/client_keystore.jks\nspring.kafka.ssl.trust-store-location=file:/tmp/secrets/truststore.jks\nspring.kafka.ssl.key-store-password=foobar\nspring.kafka.ssl.trust-store-password=foobar\nspring.kafka.ssl.key-store-type=JKS\nspring.kafka.ssl.trust-store-type=JKS\n</code></pre>\n<p>but couldn't figure out why I am not able to connect to topic from spring-boot.\nHowever, I am able to consume from python as:</p>\n<pre><code># Setup consumer properties\n    broker_host = properties.get(&quot;client.consumer.broker.hosts&quot;) #kafka\n    broker_port = properties.get(&quot;client.consumer.broker.port&quot;)  #9093\n    sink_topic = properties.get(&quot;client.consumer.topic&quot;) # my-private-topic\n   \n\n    # Load SSL properties\n    ssl_security_protocol = properties.get(&quot;ssl.security.protocol&quot;) #SSL\n    ssl_ca_location = properties.get(&quot;ssl.ca.location&quot;) #/tmp/secrets/fake-ca-crt.pem\n    ssl_cert_location = properties.get(&quot;ssl.cert.location&quot;) #tmp/secrets/client_cert.pem\n    ssl_key_location = properties.get(&quot;ssl.key.location&quot;) #/tmp/secrets/client_key.pem\n\n\n    # Load record avro schema\n    record_schema_path = os.path.join(dirname, properties[&quot;schema.location&quot;])\n    record_schema = loads(open(record_schema_path).read())\n\n    deserializer = SdpAvroDeserializer(record_schema)\n\n    # Create a kafka consumer\n    # Set enable.auto.commit to False to consume from the beginning of time\n    # Set enable.auto.commit to True to only consume what hasn't been consumed yet\n    props = {&quot;bootstrap.servers&quot;: broker_host + &quot;:&quot; + str(broker_port),\n             &quot;default.topic.config&quot;: {&quot;auto.offset.reset&quot;: &quot;earliest&quot;},\n             &quot;group.id&quot;: &quot;python-consumer-example-group&quot;,\n             &quot;enable.auto.commit&quot;: False,\n             &quot;security.protocol&quot;: ssl_security_protocol,\n             &quot;ssl.ca.location&quot;: ssl_ca_location,\n             &quot;ssl.certificate.location&quot;: ssl_cert_location,\n             &quot;ssl.key.location&quot;: ssl_key_location\n             }\n    consumer = KafkaConsumer(props)\n    consumer.subscribe([sink_topic])\n\n    print(f&quot;Start consuming from {sink_topic} at {broker_host} for {listenTimeoutSeconds} seconds&quot;)\n\n    t_end = time.time() + listenTimeoutSeconds\n    while (time.time() &lt; t_end):\n        message = consumer.poll(10)\n        # print(message)\n        # print(&quot;test\\n&quot;)\n        # print(message.value())\n        if message and message.value() and not message.error():\n            header, payload = deserializer.decode(message.value(), deserialize_header=True)\n            if include_record_metadata.lower() == 'true':\n                print(&quot;Message metadata: %s&quot; % header)\n            print(&quot;Message payload: %s&quot; % payload)\n</code></pre>\n<p>so what I am missing in spring boot to consume the message from kafka?</p>\n<p>OUTPUT:</p>\n<pre><code>    2022-02-03 00:36:50.431  INFO 20840 --- [           main] c.h.k.d.SpringBootKafkaAppApplication    : No active profile set, falling back to default profiles: default\n2022-02-03 00:36:51.110  INFO 20840 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9000 (http)\n2022-02-03 00:36:51.118  INFO 20840 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-02-03 00:36:51.118  INFO 20840 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]\n2022-02-03 00:36:51.178  INFO 20840 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-02-03 00:36:51.178  INFO 20840 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 714 ms\n2022-02-03 00:36:51.326  INFO 20840 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2022-02-03 00:36:51.475  INFO 20840 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \n        allow.auto.create.topics = true\n        auto.commit.interval.ms = 5000\n        auto.offset.reset = earliest\n        bootstrap.servers = [kafka:9093]\n        check.crcs = true\n        client.dns.lookup = default\n        client.id = \n        client.rack = \n        connections.max.idle.ms = 540000\n        default.api.timeout.ms = 60000\n        enable.auto.commit = false\n        exclude.internal.topics = true\n        fetch.max.bytes = 52428800\n        fetch.max.wait.ms = 500\n        fetch.min.bytes = 1\n        group.id = group_id\n        group.instance.id = null\n        heartbeat.interval.ms = 3000\n        interceptor.classes = []\n        internal.leave.group.on.close = true\n        isolation.level = read_uncommitted\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n        max.partition.fetch.bytes = 1048576\n        max.poll.interval.ms = 300000\n        max.poll.records = 500\n        metadata.max.age.ms = 300000\n        metric.reporters = []\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\n        receive.buffer.bytes = 65536\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 30000\n        retry.backoff.ms = 100\n        sasl.client.callback.handler.class = null\n        sasl.jaas.config = null\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.login.callback.handler.class = null\n        sasl.login.class = null\n        sasl.login.refresh.buffer.seconds = 300\n        sasl.login.refresh.min.period.seconds = 60\n        sasl.login.refresh.window.factor = 0.8\n        sasl.login.refresh.window.jitter = 0.05\n        sasl.mechanism = GSSAPI\n        security.protocol = PLAINTEXT\n        security.providers = null\n        send.buffer.bytes = 131072\n        session.timeout.ms = 10000\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2]\n        ssl.endpoint.identification.algorithm = https\n        ssl.key.password = null\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.location = /tmp/secrets/client_keystore.jks\n        ssl.keystore.password = [hidden]\n        ssl.keystore.type = JKS\n        ssl.protocol = TLSv1.2\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.location = /tmp/secrets/truststore.jks\n        ssl.truststore.password = [hidden]\n        ssl.truststore.type = JKS\n        value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer\n\n2022-02-03 00:36:51.550  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.5.0\n2022-02-03 00:36:51.551  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 66563e712b0b9f84\n2022-02-03 00:36:51.551  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1643866611549\n2022-02-03 00:36:51.553  INFO 20840 --- [           main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-group_id-1, groupId=group_id] Subscribed to topic(s): my-private-topic\n2022-02-03 00:36:51.554  INFO 20840 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService\n2022-02-03 00:36:51.576  INFO 20840 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9000 (http) with context path ''\n2022-02-03 00:36:51.583  INFO 20840 --- [           main] c.h.k.d.SpringBootKafkaAppApplication    : Started SpringBootKafkaAppApplication in 1.405 seconds (JVM running for 1.727)\n2022-02-03 00:36:52.036  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\n2022-02-03 00:36:52.302  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\n2022-02-03 00:36:52.569  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\n2\n</code></pre>\n"},{"tags":["java","spring","spring-boot","web-services","soap"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643896132,"post_id":70971645,"comment_id":125464395,"body_markdown":"Now if only there would be an [`@SoapHeader`](https://docs.spring.io/spring-ws/site/apidocs/index.html?org/springframework/ws/soap/SoapElement.html) annotation that you could use to map that. You can also use the `SoapHeader` interface/class to get the full header instead of the `MessageContext. But something like `@SoapHeader(&quot;{http://www.w3.org/2005/08/addressing&quot;}From&quot;) SoapHeaderElement from` should do the trick. You can then extract the text from that element.","body":"Now if only there would be an <a href=\"https://docs.spring.io/spring-ws/site/apidocs/index.html?org/springframework/ws/soap/SoapElement.html\" rel=\"nofollow noreferrer\"><code>@SoapHeader</code></a> annotation that you could use to map that. You can also use the <code>SoapHeader</code> interface/class to get the full header instead of the <code>MessageContext. But something like </code>@SoapHeader(&quot;{<a href=\"http://www.w3.org/2005/08/addressing\" rel=\"nofollow noreferrer\">w3.org/2005/08/addressing</a>&quot;}From&quot;) SoapHeaderElement from` should do the trick. You can then extract the text from that element."},{"owner":{"account_id":17934624,"reputation":113,"user_id":13031195,"display_name":"daravetu"},"score":0,"creation_date":1643900683,"post_id":70971645,"comment_id":125466659,"body_markdown":"Thanks for the help. Indeed I can use this:\n\n`@SoapHeader(&quot;{http://www.w3.org/2005/08/addressing}From&quot;) SoapHeaderElement fromHeaderElement`\n\nBut by doing so I&#39;m still not able to access the address. `getText` returns null.. which makes sense since there is not text - just another child element `Address` - and this `Address` is what I need :-)","body":"Thanks for the help. Indeed I can use this:  <code>@SoapHeader(&quot;{http:&#47;&#47;www.w3.org&#47;2005&#47;08&#47;addressing}From&quot;) SoapHeaderElement fromHeaderElement</code>  But by doing so I&#39;m still not able to access the address. <code>getText</code> returns null.. which makes sense since there is not text - just another child element <code>Address</code> - and this <code>Address</code> is what I need :-)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643901558,"post_id":70971645,"comment_id":125467063,"body_markdown":"I suspect the easiest way is to use the proper `AddressingVersion` in your code, I suspect the `Addressing10`. You can use the `getMessageAddressingProperties` to obtain all the headers for the `SoapMessage`.","body":"I suspect the easiest way is to use the proper <code>AddressingVersion</code> in your code, I suspect the <code>Addressing10</code>. You can use the <code>getMessageAddressingProperties</code> to obtain all the headers for the <code>SoapMessage</code>."}],"answers":[{"tags":[],"owner":{"account_id":17934624,"reputation":113,"user_id":13031195,"display_name":"daravetu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643902904,"creation_date":1643902904,"answer_id":70974174,"question_id":70971645,"body_markdown":"Thanks to help of [M. Deinum][1]  I&#39;ve found a solution:\r\n\r\n```\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\r\n    @ResponsePayload\r\n    public GetCountryResponse getCountry(@RequestPayload GetCountryRequest request, MessageContext messageContext) {\r\n        Addressing10 addressing10 = new Addressing10();\r\n        MessageAddressingProperties messageAddressingProperties = addressing10.getMessageAddressingProperties((SoapMessage) messageContext.getRequest());\r\n        URI address = messageAddressingProperties.getFrom().getAddress();\r\n    }\r\n    \r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"How to retrieve From/Address value in SOAP header (in Java/SpringBoot)","body":"<p>Thanks to help of <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a>  I've found a solution:</p>\n<pre><code>    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\n    @ResponsePayload\n    public GetCountryResponse getCountry(@RequestPayload GetCountryRequest request, MessageContext messageContext) {\n        Addressing10 addressing10 = new Addressing10();\n        MessageAddressingProperties messageAddressingProperties = addressing10.getMessageAddressingProperties((SoapMessage) messageContext.getRequest());\n        URI address = messageAddressingProperties.getFrom().getAddress();\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":17934624,"reputation":113,"user_id":13031195,"display_name":"daravetu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643903060,"creation_date":1643892721,"question_id":70971645,"body_markdown":"I&#39;m trying to create a Spring Boot SOAP application using this tutorial: https://www.baeldung.com/spring-boot-soap-web-service Everything works like a charm so far.\r\n\r\n**Task: I&#39;d like to access the SOAP header.** \r\n\r\nThis is what I&#39;ve done so far:\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\r\n    @ResponsePayload\r\n    public GetCountryResponse getCountry(@RequestPayload GetCountryRequest request) {\r\n        [..]\r\n    }\r\n\r\nI can just extend this with `MessageContext`:\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\r\n    @ResponsePayload\r\n    public GetCountryResponse getCountry(@RequestPayload GetCountryRequest request, MessageContext messageContext) {\r\n        [..]\r\n    }\r\n\r\nThis `MessageContext ` plus a little util method `fooBar` is supposed to access the SOAP header:\r\n\r\n    protected static String fooBar(final MessageContext messageContext) {\r\n        SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\r\n        [...]\r\n    }\r\n\r\nSo far so good. This is what my SOAP message looks like:\r\n```\r\n&lt;soap:Envelope\r\n        xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot;\r\n        [...]\r\n        xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\r\n    &lt;soap:Header&gt;\r\n        [...]\r\n        &lt;wsa:From&gt;\r\n            &lt;wsa:Address&gt;http://from-endpoint&lt;/wsa:Address&gt;\r\n        &lt;/wsa:From&gt;\r\n        [...]\r\n    &lt;/soap:Header&gt;\r\n    &lt;soap:Body&gt;\r\n        [...]\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nI would like to get the address in `&lt;From&gt;&lt;Address&gt;`:  http://from-endpoint .. but now it starts to get awkward..\r\n\r\n    protected static String fooBar(final MessageContext messageContext) {\r\n        SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\r\n        Iterator&lt;SoapHeaderElement&gt; soapHeaderElementIterator = soapHeader.examineAllHeaderElements();\r\n        while (soapHeaderElementIterator.hasNext()) {\r\n            SoapHeaderElement soapHeaderElement = soapHeaderElementIterator.next();\r\n            if (soapHeaderElement.getName().getLocalPart().equals(&quot;From&quot;)) {\r\n     [...]\r\n\r\nThis works as expected, but this `SoapHeaderElement` is type [org.springframework.ws.soap.SoapHeaderElement][1] which gives me no options to access further child elements.\r\n\r\n**What am I doing wrong here?**\r\n\r\n...\r\n...\r\n...\r\n\r\n✅ SOLUTION has been found - see comments\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-ws/docs/current/api/org/springframework/ws/soap/SoapHeaderElement.html","title":"How to retrieve From/Address value in SOAP header (in Java/SpringBoot)","body":"<p>I'm trying to create a Spring Boot SOAP application using this tutorial: <a href=\"https://www.baeldung.com/spring-boot-soap-web-service\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-soap-web-service</a> Everything works like a charm so far.</p>\n<p><strong>Task: I'd like to access the SOAP header.</strong></p>\n<p>This is what I've done so far:</p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\n@ResponsePayload\npublic GetCountryResponse getCountry(@RequestPayload GetCountryRequest request) {\n    [..]\n}\n</code></pre>\n<p>I can just extend this with <code>MessageContext</code>:</p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\n@ResponsePayload\npublic GetCountryResponse getCountry(@RequestPayload GetCountryRequest request, MessageContext messageContext) {\n    [..]\n}\n</code></pre>\n<p>This <code>MessageContext </code> plus a little util method <code>fooBar</code> is supposed to access the SOAP header:</p>\n<pre><code>protected static String fooBar(final MessageContext messageContext) {\n    SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\n    [...]\n}\n</code></pre>\n<p>So far so good. This is what my SOAP message looks like:</p>\n<pre><code>&lt;soap:Envelope\n        xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot;\n        [...]\n        xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\n    &lt;soap:Header&gt;\n        [...]\n        &lt;wsa:From&gt;\n            &lt;wsa:Address&gt;http://from-endpoint&lt;/wsa:Address&gt;\n        &lt;/wsa:From&gt;\n        [...]\n    &lt;/soap:Header&gt;\n    &lt;soap:Body&gt;\n        [...]\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>I would like to get the address in <code>&lt;From&gt;&lt;Address&gt;</code>:  http://from-endpoint .. but now it starts to get awkward..</p>\n<pre><code>protected static String fooBar(final MessageContext messageContext) {\n    SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\n    Iterator&lt;SoapHeaderElement&gt; soapHeaderElementIterator = soapHeader.examineAllHeaderElements();\n    while (soapHeaderElementIterator.hasNext()) {\n        SoapHeaderElement soapHeaderElement = soapHeaderElementIterator.next();\n        if (soapHeaderElement.getName().getLocalPart().equals(&quot;From&quot;)) {\n [...]\n</code></pre>\n<p>This works as expected, but this <code>SoapHeaderElement</code> is type <a href=\"https://docs.spring.io/spring-ws/docs/current/api/org/springframework/ws/soap/SoapHeaderElement.html\" rel=\"nofollow noreferrer\">org.springframework.ws.soap.SoapHeaderElement</a> which gives me no options to access further child elements.</p>\n<p><strong>What am I doing wrong here?</strong></p>\n<p>...\n...\n...</p>\n<p>✅ SOLUTION has been found - see comments</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":20240869,"reputation":89,"user_id":14844785,"display_name":"The problem with other minds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643902406,"creation_date":1643902406,"answer_id":70974052,"question_id":70940085,"body_markdown":"Finally came up with a really good solution. \r\nThis is how! \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n       public List&lt;UserEntity&gt; search(String str, Integer page, Integer limit) {\r\n\r\n            CriteriaBuilder qb = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;UserEntity&gt; query = qb.createQuery(UserEntity.class);\r\n            Root&lt;UserEntity&gt; root = query.from(UserEntity.class);\r\n            query.select(root);\r\n\r\n            if (str.length() &gt; 0) {\r\n                Predicate checkName = qb.equal(root.get(&quot;name&quot;), str);\r\n                Predicate checkSurname = qb.equal(root.get(&quot;surname&quot;), str);\r\n                Predicate checkEmail = qb.equal(root.get(&quot;account&quot;).get(&quot;email&quot;), str);\r\n\r\n                query.where(\r\n                        qb.or( checkName, checkSurname, checkEmail)\r\n                );\r\n            }\r\n\r\n            Query q = entityManager.createQuery(query);\r\n\r\n            q.setFirstResult(page * limit);\r\n            q.setMaxResults(limit);\r\n\r\n            return q.getResultList();\r\n\r\n        }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Using CriteriaQuery for complex queries","body":"<p>Finally came up with a really good solution.\nThis is how!</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   public List&lt;UserEntity&gt; search(String str, Integer page, Integer limit) {\n\n        CriteriaBuilder qb = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;UserEntity&gt; query = qb.createQuery(UserEntity.class);\n        Root&lt;UserEntity&gt; root = query.from(UserEntity.class);\n        query.select(root);\n\n        if (str.length() &gt; 0) {\n            Predicate checkName = qb.equal(root.get(\"name\"), str);\n            Predicate checkSurname = qb.equal(root.get(\"surname\"), str);\n            Predicate checkEmail = qb.equal(root.get(\"account\").get(\"email\"), str);\n\n            query.where(\n                    qb.or( checkName, checkSurname, checkEmail)\n            );\n        }\n\n        Query q = entityManager.createQuery(query);\n\n        q.setFirstResult(page * limit);\n        q.setMaxResults(limit);\n\n        return q.getResultList();\n\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":20240869,"reputation":89,"user_id":14844785,"display_name":"The problem with other minds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70974052,"answer_count":1,"score":0,"last_activity_date":1643902406,"creation_date":1643716213,"question_id":70940085,"body_markdown":"Assume the following query:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     public List&lt;UserEntity&gt; search(String str, Integer page, Integer limit) {\r\n\r\n            String sql = &quot;SELECT u FROM UserEntity u  &quot;;\r\n\r\n            if (str.length() &gt; 0) {\r\n                sql += &quot;INNER JOIN u.account a &quot;;\r\n            }\r\n\r\n            sql += &quot;WHERE 1 = 1 &quot;;\r\n\r\n            if (str.length() &gt; 0) {\r\n                sql += &quot;AND LOWER(u.name) LIKE :str OR LOWER(u.surname) LIKE :str OR LOWER(a.email) LIKE :str &quot;;\r\n            }\r\n\r\n            Query q = entityManager.createQuery(sql);\r\n\r\n            if (str.length() &gt; 0) {\r\n                q.setParameter(&quot;str&quot;, str.toLowerCase() + &quot;%&quot;);\r\n            }\r\n\r\n            q.setFirstResult(page * limit);\r\n            q.setMaxResults(limit);\r\n            return q.getResultList();\r\n\r\n        }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAs you can see, we have two conditions which will determine if the table will be joined with another one and if there will be some where conditions. Furthermore, we have OR conditions so that the input &quot;str&quot; can be checked against multiple columns (one of which taken from the joined account table).\r\n\r\nNow I would like to write this up using CriteriaQuery, but the problem is I cannot manage to include all the conditions above. \r\n","title":"Using CriteriaQuery for complex queries","body":"<p>Assume the following query:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> public List&lt;UserEntity&gt; search(String str, Integer page, Integer limit) {\n\n        String sql = \"SELECT u FROM UserEntity u  \";\n\n        if (str.length() &gt; 0) {\n            sql += \"INNER JOIN u.account a \";\n        }\n\n        sql += \"WHERE 1 = 1 \";\n\n        if (str.length() &gt; 0) {\n            sql += \"AND LOWER(u.name) LIKE :str OR LOWER(u.surname) LIKE :str OR LOWER(a.email) LIKE :str \";\n        }\n\n        Query q = entityManager.createQuery(sql);\n\n        if (str.length() &gt; 0) {\n            q.setParameter(\"str\", str.toLowerCase() + \"%\");\n        }\n\n        q.setFirstResult(page * limit);\n        q.setMaxResults(limit);\n        return q.getResultList();\n\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>As you can see, we have two conditions which will determine if the table will be joined with another one and if there will be some where conditions. Furthermore, we have OR conditions so that the input &quot;str&quot; can be checked against multiple columns (one of which taken from the joined account table).</p>\n<p>Now I would like to write this up using CriteriaQuery, but the problem is I cannot manage to include all the conditions above.</p>\n"},{"tags":["java","maven","build"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1390573290,"post_id":21334987,"comment_id":32162191,"body_markdown":"Which kind of 3rd party tool? Just use mvn `deploy:deploy-file` or manually upload them into Nexus.","body":"Which kind of 3rd party tool? Just use mvn <code>deploy:deploy-file</code> or manually upload them into Nexus."},{"owner":{"account_id":1376901,"reputation":75,"user_id":1310755,"display_name":"jemailix"},"score":0,"creation_date":1390575693,"post_id":21334987,"comment_id":32163836,"body_markdown":"The 3rd party I use extracts the artifacts created on a build server to my local repo. However the project is too big to deploy each artifact manually. Is there a command that I can run on all the source code, and that, instead of compiling all the source code, uses the artifacts in my local maven repo and then deploy on the remote repo?","body":"The 3rd party I use extracts the artifacts created on a build server to my local repo. However the project is too big to deploy each artifact manually. Is there a command that I can run on all the source code, and that, instead of compiling all the source code, uses the artifacts in my local maven repo and then deploy on the remote repo?"}],"answers":[{"tags":[],"owner":{"account_id":317273,"reputation":2315,"user_id":3907061,"accept_rate":66,"display_name":"Christofer Dutz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643902298,"creation_date":1390575637,"answer_id":21335816,"question_id":21334987,"body_markdown":"If you want to deploy a whole bunch of artifacts with their poms as well as multiple artifacts using classifiers, you could use the tool we created in the Apache Flex project which is part of the Mavenizer tool, that we use to deploy entire repositories or parts of them ... \r\n\r\n[https://cwiki.apache.org/confluence/display/FLEX/Apache+Flex+SDK+Mavenizer][1]\r\n\r\nCode available at: [https://git-wip-us.apache.org/repos/asf/flex-utilities.git][2]\r\n\r\nThe SDKDeployer uses a local maven installation and acts as a wrapper to the maven `deploy:deploy-file` plugin, the SDKInVMDeployer does the same but without Maven utilizing the Maven libs directly (Is quite a lot faster)\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/FLEX/Apache+Flex+SDK+Mavenizer\r\n  [2]: https://git-wip-us.apache.org/repos/asf/flex-utilities.git","title":"Deploy artifacts in my local Maven repository to a remote repository","body":"<p>If you want to deploy a whole bunch of artifacts with their poms as well as multiple artifacts using classifiers, you could use the tool we created in the Apache Flex project which is part of the Mavenizer tool, that we use to deploy entire repositories or parts of them ...</p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/FLEX/Apache+Flex+SDK+Mavenizer\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/FLEX/Apache+Flex+SDK+Mavenizer</a></p>\n<p>Code available at: <a href=\"https://git-wip-us.apache.org/repos/asf/flex-utilities.git\" rel=\"nofollow noreferrer\">https://git-wip-us.apache.org/repos/asf/flex-utilities.git</a></p>\n<p>The SDKDeployer uses a local maven installation and acts as a wrapper to the maven <code>deploy:deploy-file</code> plugin, the SDKInVMDeployer does the same but without Maven utilizing the Maven libs directly (Is quite a lot faster)</p>\n"}],"owner":{"account_id":1376901,"reputation":75,"user_id":1310755,"display_name":"jemailix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1795,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1643902298,"creation_date":1390573243,"question_id":21334987,"body_markdown":"I am using Maven as a build tool. Is there a way to deploy the artifacts present in my local maven repository (which I install via a 3rd party tool), to my remote Nexus repository ?\r\n\r\nThanks","title":"Deploy artifacts in my local Maven repository to a remote repository","body":"<p>I am using Maven as a build tool. Is there a way to deploy the artifacts present in my local maven repository (which I install via a 3rd party tool), to my remote Nexus repository ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","junit","txt"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1643901962,"post_id":70973905,"comment_id":125467246,"body_markdown":"Is there a difference in the line endings? (`\\r\\n` vs `\\n`?)","body":"Is there a difference in the line endings? (<code>\\r\\n</code> vs <code>\\n</code>?)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1643902046,"post_id":70973905,"comment_id":125467280,"body_markdown":"As an aside: don&#39;t call a class `File`: most people skimming your code would assume it&#39;s `java.io.File`, rather than your own class.","body":"As an aside: don&#39;t call a class <code>File</code>: most people skimming your code would assume it&#39;s <code>java.io.File</code>, rather than your own class."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1643902929,"post_id":70973905,"comment_id":125467658,"body_markdown":"You might also want to consider using try-with-resources.","body":"You might also want to consider using try-with-resources."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643902224,"creation_date":1643902224,"answer_id":70974004,"question_id":70973905,"body_markdown":"You are explicitly concatenating the lines being read from the reader with `System.getProperty(&quot;line.separator&quot;)`; your screenshot suggests that you&#39;re running this on Windows (the path starts with `C:\\Users`), which uses `\\r\\n` as the line separator.\r\n\r\nYour expected string&#39;s lines use `\\n` as the line separator.\r\n\r\nHence, the strings aren&#39;t equal because they use different line separators.\r\n\r\nIt would be better to keep things as a list of strings, and then just compare the lists (`List.equals` does pair-wise comparison of elements, so it&#39;s effectively the same - just without any confusion over line separators).","title":"2 same Strings , when compared in a Junit test it tells me they are not equal","body":"<p>You are explicitly concatenating the lines being read from the reader with <code>System.getProperty(&quot;line.separator&quot;)</code>; your screenshot suggests that you're running this on Windows (the path starts with <code>C:\\Users</code>), which uses <code>\\r\\n</code> as the line separator.</p>\n<p>Your expected string's lines use <code>\\n</code> as the line separator.</p>\n<p>Hence, the strings aren't equal because they use different line separators.</p>\n<p>It would be better to keep things as a list of strings, and then just compare the lists (<code>List.equals</code> does pair-wise comparison of elements, so it's effectively the same - just without any confusion over line separators).</p>\n"}],"owner":{"account_id":24144919,"reputation":1,"user_id":18110681,"display_name":"DxDouglax"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643902224,"creation_date":1643901863,"question_id":70973905,"body_markdown":"I try to compare this .txt\r\n\r\n```USER alea Alex \r\nUSER bonb Bird\r\nUSER colc Colin Cook\r\nEVENT alea Class ULE 11/11/2011 9:00 11/11/2011 13:00\r\nEVENT alea Meeting MIC 11/11/2011 13:00 11/11/2011 14:00\r\nEVENT alea Lunch Cafeteria 11/11/2011 14:00 11/11/2011 15:00\r\nEVENT bonb Class ULE 11/11/2011 15:00 11/11/2011 19:00\r\nEVENT bonb Meeting Library 11/11/2011 13:00 11/11/2011 14:00\r\n```\r\nIn my class File.java I use this method to convert to String the content of the txt.\r\n```\r\npublic String readElements() throws FileException {\r\n\t\tFileReader fr = null;\r\n\t\tBufferedReader br = null;\r\n\t\tStringBuilder line = new StringBuilder();\r\n\t\tString lineAux = &quot;&quot;;\r\n\r\n\t\tlogger.info(&quot;Reads an element of the file: &quot; + this.fileName);\r\n\r\n\t\ttry {\r\n\t\t\tfr = new FileReader(this.fileName);\r\n\t\t\tbr = new BufferedReader(fr);\r\n\r\n\t\t\tlineAux = br.readLine();\r\n\t\t\twhile (lineAux != null) {\r\n\t\t\t\tline.append(lineAux + System.getProperty(&quot;line.separator&quot;));\r\n\t\t\t\tlineAux = br.readLine();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.warn(&quot;File Error: Can&#180;t open the file: &quot; + this.fileName);\r\n\t\t\tthrow new FileException(&quot;File Error: Can&#180;t open the file &quot; + this.fileName);\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tif (null != fr) {\r\n\t\t\t\t\tfr.close();\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tlogger.warn(&quot;File error: Can&#180;t open the file: &quot; + this.fileName);\r\n\t\t\t\tthrow new FileException(&quot;File error: Can&#180;t open the file: &quot; + this.fileName);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn line.toString();\r\n\t}\r\n```\r\n\r\n\r\n\r\nI use this tests to try the File.Java\r\nThe TestReadElements compares that String with the content of the file. And when I use Junit in eclipse or the build.xml in a Linux terminal the test fails.\r\n\r\n```\r\n@Before\r\n\tpublic void setUp() throws Exception {\r\n\t\tthis.fileName = &quot;./etc/test/rightCalendar.txt&quot;;\r\n\t\tthis.file = new File(this.fileName);\r\n\t}\r\n\r\n@Test\r\n\tpublic void testReadElements() throws FileException {\r\n\t\tassertEquals(&quot;USER alea Alex Archer\\n&quot; + &quot;USER bonb Bonnie Bird\\n&quot; + &quot;USER colc Colin Cook\\n&quot;\r\n\t\t\t\t+ &quot;EVENT alea Class ULE 11/11/2011 9:00 13:00\\n&quot; + &quot;EVENT alea Meeting MIC 11/11/2011 13:00 14:00\\n&quot;\r\n\t\t\t\t+ &quot;EVENT alea Lunch Cafeteria 11/11/2011 14:00 15:00\\n&quot;\r\n\t\t\t\t+ &quot;EVENT bonb Class ULE 11/11/2011 15:00 19:00\\n&quot;\r\n\t\t\t\t+ &quot;EVENT bonb Meeting Library 11/11/2011 13:00 14:00\\n&quot;, this.file.readElements());\r\n\t}\r\n```\r\n\r\n\r\nI don&#180;t know where the problem is(if the problem is within the build.xml or some other file)\r\nI have been changing little things for hours and I&#180;m tired...\r\n[These are the path files and the comparison that tells me it&#180;s incorrect][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iGo1r.png","title":"2 same Strings , when compared in a Junit test it tells me they are not equal","body":"<p>I try to compare this .txt</p>\n<pre><code>USER bonb Bird\nUSER colc Colin Cook\nEVENT alea Class ULE 11/11/2011 9:00 11/11/2011 13:00\nEVENT alea Meeting MIC 11/11/2011 13:00 11/11/2011 14:00\nEVENT alea Lunch Cafeteria 11/11/2011 14:00 11/11/2011 15:00\nEVENT bonb Class ULE 11/11/2011 15:00 11/11/2011 19:00\nEVENT bonb Meeting Library 11/11/2011 13:00 11/11/2011 14:00\n</code></pre>\n<p>In my class File.java I use this method to convert to String the content of the txt.</p>\n<pre><code>public String readElements() throws FileException {\n        FileReader fr = null;\n        BufferedReader br = null;\n        StringBuilder line = new StringBuilder();\n        String lineAux = &quot;&quot;;\n\n        logger.info(&quot;Reads an element of the file: &quot; + this.fileName);\n\n        try {\n            fr = new FileReader(this.fileName);\n            br = new BufferedReader(fr);\n\n            lineAux = br.readLine();\n            while (lineAux != null) {\n                line.append(lineAux + System.getProperty(&quot;line.separator&quot;));\n                lineAux = br.readLine();\n            }\n        } catch (IOException e) {\n            logger.warn(&quot;File Error: Can´t open the file: &quot; + this.fileName);\n            throw new FileException(&quot;File Error: Can´t open the file &quot; + this.fileName);\n        } finally {\n            try {\n                if (null != fr) {\n                    fr.close();\n                }\n            } catch (IOException e) {\n                logger.warn(&quot;File error: Can´t open the file: &quot; + this.fileName);\n                throw new FileException(&quot;File error: Can´t open the file: &quot; + this.fileName);\n            }\n        }\n        return line.toString();\n    }\n</code></pre>\n<p>I use this tests to try the File.Java\nThe TestReadElements compares that String with the content of the file. And when I use Junit in eclipse or the build.xml in a Linux terminal the test fails.</p>\n<pre><code>@Before\n    public void setUp() throws Exception {\n        this.fileName = &quot;./etc/test/rightCalendar.txt&quot;;\n        this.file = new File(this.fileName);\n    }\n\n@Test\n    public void testReadElements() throws FileException {\n        assertEquals(&quot;USER alea Alex Archer\\n&quot; + &quot;USER bonb Bonnie Bird\\n&quot; + &quot;USER colc Colin Cook\\n&quot;\n                + &quot;EVENT alea Class ULE 11/11/2011 9:00 13:00\\n&quot; + &quot;EVENT alea Meeting MIC 11/11/2011 13:00 14:00\\n&quot;\n                + &quot;EVENT alea Lunch Cafeteria 11/11/2011 14:00 15:00\\n&quot;\n                + &quot;EVENT bonb Class ULE 11/11/2011 15:00 19:00\\n&quot;\n                + &quot;EVENT bonb Meeting Library 11/11/2011 13:00 14:00\\n&quot;, this.file.readElements());\n    }\n</code></pre>\n<p>I don´t know where the problem is(if the problem is within the build.xml or some other file)\nI have been changing little things for hours and I´m tired...\n<a href=\"https://i.stack.imgur.com/iGo1r.png\" rel=\"nofollow noreferrer\">These are the path files and the comparison that tells me it´s incorrect</a></p>\n"},{"tags":["java","object","jackson","mapping"],"answers":[{"tags":[],"owner":{"account_id":9344539,"reputation":1083,"user_id":6936154,"display_name":"Danil Perestoronin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643902203,"creation_date":1643900685,"answer_id":70973626,"question_id":70973001,"body_markdown":"Use `Map&lt;String, Object&gt; resources` instead of `List&lt;Object&gt; resources`. It allows you to have a map with different objects inside.\r\n\r\n```java\r\npublic class Input{\r\n  private String filepath;\r\n  private String inputType;\r\n  private Map&lt;String, Object&gt; resources;\r\n\r\n  // getters and setters here\r\n}\r\n```","title":"How to map a dynamic object with Jackson","body":"<p>Use <code>Map&lt;String, Object&gt; resources</code> instead of <code>List&lt;Object&gt; resources</code>. It allows you to have a map with different objects inside.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Input{\n  private String filepath;\n  private String inputType;\n  private Map&lt;String, Object&gt; resources;\n\n  // getters and setters here\n}\n</code></pre>\n"}],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70973626,"answer_count":1,"score":0,"last_activity_date":1643902203,"creation_date":1643898410,"question_id":70973001,"body_markdown":"Hello I have the next json response:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yPuTp.png\r\n\r\nAs you can see I have a resource object with many different objects inside, but these objects could be different depending on the input. I created the next pojo:\r\n\r\nThis in my input Pojo:\r\n\r\nimport java.util.List;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Input\r\n    {\r\n    \r\n      private String filepath;\r\n      private String inputType;\r\n      private List&lt;Object&gt; resources;\r\n    \r\n      @JsonProperty(&quot;filepath&quot;)\r\n      public String getFilepath() {\r\n        return filepath;\r\n      }\r\n    \r\n      public void setFilepath(final String filepath) {\r\n        this.filepath = filepath;\r\n      }\r\n    \r\n      @JsonProperty(&quot;input_type&quot;)\r\n      public String getInputType() {\r\n        return inputType;\r\n      }\r\n    \r\n      public void setInputType(final String inputType) {\r\n        this.inputType = inputType;\r\n      }\r\n    \r\n      @JsonProperty(&quot;resources&quot;)\r\n      public List&lt;Object&gt; getResources() {\r\n        return resources;\r\n      }\r\n    \r\n      public void setResources(final List&lt;Object&gt; resources) {\r\n        this.resources = resources;\r\n      }\r\n    }\r\n\r\nI added the resources as an object List, but I can see that it is an Object with different objects inside it. How can I map this different objects to an object in Java? In fact I need to count how may resources I have, but I&#39;m struggling trying to achieve this. Thanks!\r\n\r\n","title":"How to map a dynamic object with Jackson","body":"<p>Hello I have the next json response:</p>\n<p><a href=\"https://i.stack.imgur.com/yPuTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yPuTp.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see I have a resource object with many different objects inside, but these objects could be different depending on the input. I created the next pojo:</p>\n<p>This in my input Pojo:</p>\n<p>import java.util.List;</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Input\n{\n\n  private String filepath;\n  private String inputType;\n  private List&lt;Object&gt; resources;\n\n  @JsonProperty(&quot;filepath&quot;)\n  public String getFilepath() {\n    return filepath;\n  }\n\n  public void setFilepath(final String filepath) {\n    this.filepath = filepath;\n  }\n\n  @JsonProperty(&quot;input_type&quot;)\n  public String getInputType() {\n    return inputType;\n  }\n\n  public void setInputType(final String inputType) {\n    this.inputType = inputType;\n  }\n\n  @JsonProperty(&quot;resources&quot;)\n  public List&lt;Object&gt; getResources() {\n    return resources;\n  }\n\n  public void setResources(final List&lt;Object&gt; resources) {\n    this.resources = resources;\n  }\n}\n</code></pre>\n<p>I added the resources as an object List, but I can see that it is an Object with different objects inside it. How can I map this different objects to an object in Java? In fact I need to count how may resources I have, but I'm struggling trying to achieve this. Thanks!</p>\n"},{"tags":["java","json","validation"],"comments":[{"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"score":0,"creation_date":1643881448,"post_id":70968822,"comment_id":125458654,"body_markdown":"I have tried something like  ```@Size(min=4, max=4, message=&quot;application value should be of length 4 ${modelName.id}&quot;)``` but getting  &quot;references an unknown property &quot; error","body":"I have tried something like  <code>@Size(min=4, max=4, message=&quot;application value should be of length 4 ${modelName.id}&quot;)</code> but getting  &quot;references an unknown property &quot; error"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643902164,"creation_date":1643902164,"answer_id":70973988,"question_id":70968822,"body_markdown":"To my knowledge, it is only possible to get current validated value, and the values in the annotation methods(min, max, etc). If someone actually knows of a way, please feel free to correct me.\r\n\r\nTo achieve access to another property value, you would need custom validation annotation on the type level. I&#39;ll assume the class holding data is called `MyModel`. Annotation might look like this:\r\n```\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = MyModelApplicationSizeValidator.class)\r\npublic @interface MyModelApplicationSize {\r\n\r\n    String message() default &quot;default message&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default { };\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default { };\r\n\r\n    int min() default 0;\r\n\r\n    int max() default Integer.MAX_VALUE;\r\n}\r\n```\r\nAnd the actual validator for this annotation:\r\n```\r\nimport com.example.random.model.MyModel;\r\n\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\n\r\npublic class MyModelApplicationSizeValidator implements ConstraintValidator&lt;MyModelApplicationSize, MyModel&gt; {\r\n\r\n    private int min;\r\n    private int max;\r\n    private String msgFormat;\r\n\r\n    @Override\r\n    public void initialize(MyModelApplicationSize constraintAnnotation) {\r\n        this.min = constraintAnnotation.min();\r\n        this.max = constraintAnnotation.max();\r\n        this.msgFormat = constraintAnnotation.message();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(MyModel model, ConstraintValidatorContext context) {\r\n        String value = model.getApplication();\r\n        if (value == null || value.isEmpty() || value.length() &lt; this.min || value.length() &gt; this.max) {\r\n            context.disableDefaultConstraintViolation();\r\n            String message = String.format(this.msgFormat, this.min, this.max, value, model.getId());\r\n            context.buildConstraintViolationWithTemplate(message).addConstraintViolation();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\nKeep in mind building error message with `String.format` is not the best way to do it, it&#39;s kind of brittle, you might actually need to implement it in another way, depending on your needs.\r\n\r\nAnd `MyModel`, validated with the new annotation:\r\n```\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.Size;\r\n\r\n@MyModelApplicationSize(message = &quot;application accepts min length of %d and max length of %d for val - %s with id - %s&quot;, min = 2, max = 7)\r\npublic class MyModel {\r\n\r\n    @NotEmpty(message=&quot;Id must not be empty&quot;)\r\n    @Size(min=1, max=70, message=&quot;Id accepts max length of 70&quot;)\r\n    private String id;\r\n\r\n    @NotEmpty(message=&quot;application must not be empty&quot;)\r\n    @Size(min=1, max=8, message=&quot;application accepts min length of {min} and max length of {max} for val - ${validatedValue}&quot;)\r\n    private String application;\r\n\r\n    //getters and setters\r\n}\r\n```","title":"Can we add parameters to Json validation annonations?","body":"<p>To my knowledge, it is only possible to get current validated value, and the values in the annotation methods(min, max, etc). If someone actually knows of a way, please feel free to correct me.</p>\n<p>To achieve access to another property value, you would need custom validation annotation on the type level. I'll assume the class holding data is called <code>MyModel</code>. Annotation might look like this:</p>\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = MyModelApplicationSizeValidator.class)\npublic @interface MyModelApplicationSize {\n\n    String message() default &quot;default message&quot;;\n\n    Class&lt;?&gt;[] groups() default { };\n\n    Class&lt;? extends Payload&gt;[] payload() default { };\n\n    int min() default 0;\n\n    int max() default Integer.MAX_VALUE;\n}\n</code></pre>\n<p>And the actual validator for this annotation:</p>\n<pre><code>import com.example.random.model.MyModel;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class MyModelApplicationSizeValidator implements ConstraintValidator&lt;MyModelApplicationSize, MyModel&gt; {\n\n    private int min;\n    private int max;\n    private String msgFormat;\n\n    @Override\n    public void initialize(MyModelApplicationSize constraintAnnotation) {\n        this.min = constraintAnnotation.min();\n        this.max = constraintAnnotation.max();\n        this.msgFormat = constraintAnnotation.message();\n    }\n\n    @Override\n    public boolean isValid(MyModel model, ConstraintValidatorContext context) {\n        String value = model.getApplication();\n        if (value == null || value.isEmpty() || value.length() &lt; this.min || value.length() &gt; this.max) {\n            context.disableDefaultConstraintViolation();\n            String message = String.format(this.msgFormat, this.min, this.max, value, model.getId());\n            context.buildConstraintViolationWithTemplate(message).addConstraintViolation();\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Keep in mind building error message with <code>String.format</code> is not the best way to do it, it's kind of brittle, you might actually need to implement it in another way, depending on your needs.</p>\n<p>And <code>MyModel</code>, validated with the new annotation:</p>\n<pre><code>import javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.Size;\n\n@MyModelApplicationSize(message = &quot;application accepts min length of %d and max length of %d for val - %s with id - %s&quot;, min = 2, max = 7)\npublic class MyModel {\n\n    @NotEmpty(message=&quot;Id must not be empty&quot;)\n    @Size(min=1, max=70, message=&quot;Id accepts max length of 70&quot;)\n    private String id;\n\n    @NotEmpty(message=&quot;application must not be empty&quot;)\n    @Size(min=1, max=8, message=&quot;application accepts min length of {min} and max length of {max} for val - ${validatedValue}&quot;)\n    private String application;\n\n    //getters and setters\n}\n</code></pre>\n"}],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643902164,"creation_date":1643880868,"question_id":70968822,"body_markdown":"I am doing the json field validation as below : \r\n```\r\n\t@Valid\r\n\t@NotEmpty(message=&quot;Id must not be empty&quot;)\r\n\t@Size(min=1, max=70, message=&quot;Id accepts max length of 70&quot;)\r\n\tprivate String Id;\r\n\t@Valid\r\n\t@NotEmpty(message=&quot;application must not be empty&quot;)\r\n\t@Size(min=1, max=8, message=&quot;application accepts max length of 8&quot;)\r\n\tprivate String application;\r\n```\r\nThis is working fine\r\nbut now i have got another requirement where while validating the second field i need to pass the id as well to the message, stating this application message is coming for which id\r\n\r\nExample : application must not be empty for id = 123\r\nor \r\napplication accepts max length of 8 for id = 456\r\n\r\nI am not sure if i can pass other attribute from model to the message \r\nIf you have any clue please comment","title":"Can we add parameters to Json validation annonations?","body":"<p>I am doing the json field validation as below :</p>\n<pre><code>    @Valid\n    @NotEmpty(message=&quot;Id must not be empty&quot;)\n    @Size(min=1, max=70, message=&quot;Id accepts max length of 70&quot;)\n    private String Id;\n    @Valid\n    @NotEmpty(message=&quot;application must not be empty&quot;)\n    @Size(min=1, max=8, message=&quot;application accepts max length of 8&quot;)\n    private String application;\n</code></pre>\n<p>This is working fine\nbut now i have got another requirement where while validating the second field i need to pass the id as well to the message, stating this application message is coming for which id</p>\n<p>Example : application must not be empty for id = 123\nor\napplication accepts max length of 8 for id = 456</p>\n<p>I am not sure if i can pass other attribute from model to the message\nIf you have any clue please comment</p>\n"},{"tags":["java","caching","hazelcast","hazelcast-imap"],"comments":[{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1643706608,"post_id":70933682,"comment_id":125404935,"body_markdown":"Do you mean a JCache `cache` or an IMap ?","body":"Do you mean a JCache <code>cache</code> or an IMap ?"},{"owner":{"account_id":24115404,"reputation":51,"user_id":18085368,"display_name":"Bambatrack"},"score":0,"creation_date":1643899722,"post_id":70933682,"comment_id":125466164,"body_markdown":"I&#39;m using an IMap to store data.","body":"I&#39;m using an IMap to store data."},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1644012258,"post_id":70933682,"comment_id":125501328,"body_markdown":"You could use transactions, to update both objects atomically. But why does the second object need to contain the first? Could it hold a reference to the first instead (such as it&#39;s primary key)","body":"You could use transactions, to update both objects atomically. But why does the second object need to contain the first? Could it hold a reference to the first instead (such as it&#39;s primary key)"}],"answers":[{"tags":[],"owner":{"account_id":7239553,"reputation":1078,"user_id":5523550,"display_name":"wildnez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643750225,"creation_date":1643750225,"answer_id":70947658,"question_id":70933682,"body_markdown":"You can use [EntryProcessor][1] to update the content of the entity in the map, directly on the server (without having to perform a get() first). That ways a common update code can be used for all the caches and you save on all network and ser/des overheads too.\r\n\r\n\r\n  [1]: https://docs.hazelcast.com/hazelcast/5.0/computing/entry-processor","title":"Hazelcast update entities","body":"<p>You can use <a href=\"https://docs.hazelcast.com/hazelcast/5.0/computing/entry-processor\" rel=\"nofollow noreferrer\">EntryProcessor</a> to update the content of the entity in the map, directly on the server (without having to perform a get() first). That ways a common update code can be used for all the caches and you save on all network and ser/des overheads too.</p>\n"}],"owner":{"account_id":24115404,"reputation":51,"user_id":18085368,"display_name":"Bambatrack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643902073,"creation_date":1643668732,"question_id":70933682,"body_markdown":"I want to know if there is a way to let Hazelcast automatically sync the cache with all the updates that an entity receives. here&#39;s an example:\r\nI want to update an entity that has been stored into a cache and is also used in other caches. I do a get() and retrieve the value, and then perform an update changing some properties. The problem is that Hazelcast does not automatically serialize the item in the cache after every change, but i need to force a put to actually propagate the update to the cache. And i would need to perform a put for every cache that my entity is stored into. Is there someway to let Hazelcast manage those situations automatically?\r\n\r\n#Edit\r\n\r\nJust to clarify the problem, here i give you an example:\r\nimagine i have 2 IMaps: map1 stores objects of Entity A, map2 contains object of entity B, and entity B represents a complex object which in turn contains Entity A. If i want to perform an edit on one of the objects contained in map1 (which will be an instance of Entity A), i will do a map1.get(key) and retreive the object. Then i modify this object in some way and i will persist the changes in map1 by doing a map1.put(key, entityA).\r\nThe problem rises because in map2, all the entitiesB which contain the jsut modified entityA will not show the update, and i have to manually do a get and a put also in this map.  ","title":"Hazelcast update entities","body":"<p>I want to know if there is a way to let Hazelcast automatically sync the cache with all the updates that an entity receives. here's an example:\nI want to update an entity that has been stored into a cache and is also used in other caches. I do a get() and retrieve the value, and then perform an update changing some properties. The problem is that Hazelcast does not automatically serialize the item in the cache after every change, but i need to force a put to actually propagate the update to the cache. And i would need to perform a put for every cache that my entity is stored into. Is there someway to let Hazelcast manage those situations automatically?</p>\n<p>#Edit</p>\n<p>Just to clarify the problem, here i give you an example:\nimagine i have 2 IMaps: map1 stores objects of Entity A, map2 contains object of entity B, and entity B represents a complex object which in turn contains Entity A. If i want to perform an edit on one of the objects contained in map1 (which will be an instance of Entity A), i will do a map1.get(key) and retreive the object. Then i modify this object in some way and i will persist the changes in map1 by doing a map1.put(key, entityA).\nThe problem rises because in map2, all the entitiesB which contain the jsut modified entityA will not show the update, and i have to manually do a get and a put also in this map.</p>\n"},{"tags":["java","jndi"],"answers":[{"tags":[],"owner":{"account_id":810397,"reputation":1901,"user_id":914155,"display_name":"ClickerMonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386097841,"creation_date":1386097841,"answer_id":20359605,"question_id":20359483,"body_markdown":"Tomcat provides Context &amp; DataSource implementations that work with the InitialContext class. When running Tomcat the Context.INITIAL_CONTEXT_FACTORY property is set to point to Tomcat&#39;s implementations. When not running Tomcat, you don&#39;t have this ability... you need to use a third-party-library like c3p0 for connection pooling.\r\n","title":"Initialcontext in a standalone Java program","body":"<p>Tomcat provides Context &amp; DataSource implementations that work with the InitialContext class. When running Tomcat the Context.INITIAL_CONTEXT_FACTORY property is set to point to Tomcat's implementations. When not running Tomcat, you don't have this ability... you need to use a third-party-library like c3p0 for connection pooling.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386098002,"creation_date":1386098002,"answer_id":20359656,"question_id":20359483,"body_markdown":"There isn&#39;t a way to directly use the Tomcat Context Factory, see [here](http://docs.oracle.com/javase/1.5.0/docs/guide/jndi/jndi-rmi.html#URLPROP) for a little more documentation on the alternatives. But I recommend you try running a registry outside of Tomcat...\r\n\r\n    // select the registry context factory for creating a context\r\n    env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.rmi.registry.RegistryContextFactory&quot;);\r\n\r\n    // specify where that factory is running.\r\n    env.put(Context.PROVIDER_URL, &quot;rmi://server:1099&quot;);\r\n\r\n    // create an initial context that accesses the registry\r\n    Context ctx = new InitialContext(env);\r\n\r\nYou could change your code in Tomcat to also use this external RegistryContext and then both set(s) would be using the same JNDI provider. This [question](https://stackoverflow.com/questions/5324989/what-would-be-java-naming-provider-url-for-tomcat) seems very similar.","title":"Initialcontext in a standalone Java program","body":"<p>There isn't a way to directly use the Tomcat Context Factory, see <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/jndi/jndi-rmi.html#URLPROP\" rel=\"nofollow noreferrer\">here</a> for a little more documentation on the alternatives. But I recommend you try running a registry outside of Tomcat...</p>\n\n<pre><code>// select the registry context factory for creating a context\nenv.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.rmi.registry.RegistryContextFactory\");\n\n// specify where that factory is running.\nenv.put(Context.PROVIDER_URL, \"rmi://server:1099\");\n\n// create an initial context that accesses the registry\nContext ctx = new InitialContext(env);\n</code></pre>\n\n<p>You could change your code in Tomcat to also use this external RegistryContext and then both set(s) would be using the same JNDI provider. This <a href=\"https://stackoverflow.com/questions/5324989/what-would-be-java-naming-provider-url-for-tomcat\">question</a> seems very similar.</p>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1467994688,"creation_date":1386099048,"answer_id":20359973,"question_id":20359483,"body_markdown":"You could also create your own custom context. \r\n\r\n    LocalContext ctx = LocalContextFactory.createLocalContext();\r\n    ctx.addDataSource(&quot;jdbc/testdb&quot;, driverName, url, usr, pwd);\r\n\r\nSee [*Running Beans Locally that use Application Server Data Sources*][1] for more details.\r\n\r\n---\r\n\r\n![new](http://i.stack.imgur.com/EzUP1.gif) *UPDATE*\r\n\r\nYou can use the class [**`org.springframework.mock.jndi.SimpleNamingContextBuilder`**](http://docs.spring.io/spring-framework/docs/2.5.x/api/org/springframework/mock/jndi/SimpleNamingContextBuilder.html) of Spring. e.g.:\r\n\r\n- *Setup:*\r\n\r\n        SimpleNamingContextBuilder builder = new SimpleNamingContextBuilder();\r\n        builder.bind(&quot;jdbc/Oracle&quot;, ods);\r\n        builder.activate();\r\n\r\n- *Use:*\r\n\r\n        DataSource ds = InitialContext.doLookup(&quot;jdbc/Oracle&quot;);\r\n\r\n\r\n  [1]: http://penguindreams.org/blog/running-beans-that-use-application-server-datasources-locally/","title":"Initialcontext in a standalone Java program","body":"<p>You could also create your own custom context. </p>\n\n<pre><code>LocalContext ctx = LocalContextFactory.createLocalContext();\nctx.addDataSource(\"jdbc/testdb\", driverName, url, usr, pwd);\n</code></pre>\n\n<p>See <a href=\"http://penguindreams.org/blog/running-beans-that-use-application-server-datasources-locally/\" rel=\"noreferrer\"><em>Running Beans Locally that use Application Server Data Sources</em></a> for more details.</p>\n\n<hr>\n\n<p><img src=\"https://i.stack.imgur.com/EzUP1.gif\" alt=\"new\"> <em>UPDATE</em></p>\n\n<p>You can use the class <a href=\"http://docs.spring.io/spring-framework/docs/2.5.x/api/org/springframework/mock/jndi/SimpleNamingContextBuilder.html\" rel=\"noreferrer\"><strong><code>org.springframework.mock.jndi.SimpleNamingContextBuilder</code></strong></a> of Spring. e.g.:</p>\n\n<ul>\n<li><p><em>Setup:</em></p>\n\n<pre><code>SimpleNamingContextBuilder builder = new SimpleNamingContextBuilder();\nbuilder.bind(\"jdbc/Oracle\", ods);\nbuilder.activate();\n</code></pre></li>\n<li><p><em>Use:</em></p>\n\n<pre><code>DataSource ds = InitialContext.doLookup(\"jdbc/Oracle\");\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":545095,"reputation":839,"user_id":914749,"display_name":"Scott Nelson"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1392222955,"creation_date":1392222955,"answer_id":21733896,"question_id":20359483,"body_markdown":"Here is an example adapted from the accepted answer but doing everything inline to avoid creating extra classes.\r\n\r\n    public static void main(String[] args) {\r\n        setupInitialContext();\r\n        //do something that looks up a datasource\r\n    }\r\n    \r\n    private static void setupInitialContext() {\r\n        try {\r\n            NamingManager.setInitialContextFactoryBuilder(new InitialContextFactoryBuilder() {\r\n\r\n                @Override\r\n                public InitialContextFactory createInitialContextFactory(Hashtable&lt;?, ?&gt; environment) throws NamingException {\r\n                    return new InitialContextFactory() {\r\n\r\n                        @Override\r\n                        public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\r\n                            return new InitialContext(){\r\n                                \r\n                                private Hashtable&lt;String, DataSource&gt; dataSources = new Hashtable&lt;&gt;();\r\n                                \r\n                                @Override\r\n                                public Object lookup(String name) throws NamingException {\r\n                                    \r\n                                    if (dataSources.isEmpty()) { //init datasources\r\n                                        MysqlConnectionPoolDataSource ds = new MysqlConnectionPoolDataSource();\r\n                                        ds.setURL(&quot;jdbc:mysql://localhost:3306/mydb&quot;);\r\n                                        ds.setUser(&quot;mydbuser&quot;);\r\n                                        ds.setPassword(&quot;mydbpass&quot;);\r\n                                        dataSources.put(&quot;jdbc/mydbname&quot;, ds);\r\n\r\n                                        //add more datasources to the list as necessary\r\n                                    }\r\n                                    \r\n                                    if (dataSources.containsKey(name)) {\r\n                                        return dataSources.get(name);\r\n                                    }\r\n                                    \r\n                                    throw new NamingException(&quot;Unable to find datasource: &quot;+name);\r\n                                }\r\n                            };\r\n                        }\r\n                        \r\n                    };\r\n                }\r\n                \r\n            });\r\n        }\r\n        catch (NamingException ne) {\r\n            ne.printStackTrace();\r\n        }\r\n    }","title":"Initialcontext in a standalone Java program","body":"<p>Here is an example adapted from the accepted answer but doing everything inline to avoid creating extra classes.</p>\n\n<pre><code>public static void main(String[] args) {\n    setupInitialContext();\n    //do something that looks up a datasource\n}\n\nprivate static void setupInitialContext() {\n    try {\n        NamingManager.setInitialContextFactoryBuilder(new InitialContextFactoryBuilder() {\n\n            @Override\n            public InitialContextFactory createInitialContextFactory(Hashtable&lt;?, ?&gt; environment) throws NamingException {\n                return new InitialContextFactory() {\n\n                    @Override\n                    public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\n                        return new InitialContext(){\n\n                            private Hashtable&lt;String, DataSource&gt; dataSources = new Hashtable&lt;&gt;();\n\n                            @Override\n                            public Object lookup(String name) throws NamingException {\n\n                                if (dataSources.isEmpty()) { //init datasources\n                                    MysqlConnectionPoolDataSource ds = new MysqlConnectionPoolDataSource();\n                                    ds.setURL(\"jdbc:mysql://localhost:3306/mydb\");\n                                    ds.setUser(\"mydbuser\");\n                                    ds.setPassword(\"mydbpass\");\n                                    dataSources.put(\"jdbc/mydbname\", ds);\n\n                                    //add more datasources to the list as necessary\n                                }\n\n                                if (dataSources.containsKey(name)) {\n                                    return dataSources.get(name);\n                                }\n\n                                throw new NamingException(\"Unable to find datasource: \"+name);\n                            }\n                        };\n                    }\n\n                };\n            }\n\n        });\n    }\n    catch (NamingException ne) {\n        ne.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9973938,"reputation":11,"user_id":7379167,"display_name":"faizan saifi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535722726,"creation_date":1535722726,"answer_id":52116720,"question_id":20359483,"body_markdown":"You can create an initial context using blow code.\r\n\r\n    InitialContext ic = new InitialContext();\r\n\t\t// Retrieve the Home interface using JNDI lookup\r\n\t\tObject helloObject = ic.lookup(&quot;java:comp/env/ejb/HelloBean&quot;);\r\nif you want create custom initial context, you can extends javax.naming.InitailContext class","title":"Initialcontext in a standalone Java program","body":"<p>You can create an initial context using blow code.</p>\n\n<pre><code>InitialContext ic = new InitialContext();\n    // Retrieve the Home interface using JNDI lookup\n    Object helloObject = ic.lookup(\"java:comp/env/ejb/HelloBean\");\n</code></pre>\n\n<p>if you want create custom initial context, you can extends javax.naming.InitailContext class</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556190020,"creation_date":1556190020,"answer_id":55847747,"question_id":20359483,"body_markdown":"You can create your own `Context` by sub-classing `javax.naming.InitialContext` and implementing only a small subset of methods, typically the `bind` and the `lookup` methods. \r\n\r\nThen you can create your data source and bind it to your initial context to a specific key. After this you are ready to go and query from any place your JNDI context in your stand-alone Java programme.\r\n\r\nThis is the code you can use to create your own context:\r\n\r\n    InitialContext initialContext = new InitialContext() {\r\n\r\n        private Map&lt;String, Object&gt; table = new HashMap&lt;&gt;();\r\n\r\n        public void bind(String key, Object value) {\r\n            table.put(key, value);\r\n        }\r\n\r\n        public Object lookup(String key) throws NamingException {\r\n            return table.get(key);\r\n        }\r\n    };\r\n\r\n    // Activate the initial context\r\n    NamingManager.setInitialContextFactoryBuilder(environment -&gt; environment1 -&gt; initialContext);\r\n\r\nThen you can initialise your data source, whichever you choose:\r\n\r\n    InitialContext ic = new InitialContext();\r\n\r\n    BasicDataSource bds = new BasicDataSource();\r\n    bds.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    bds.setUrl(url);\r\n    bds.setUsername(username);\r\n    bds.setPassword(password);\r\n\r\n    ic.bind(jndiPath, bds);\r\n\r\nAnd somewhere else in your code, you can use the existing data source by retrieving it from the JNDI context:\r\n\r\n    InitialContext ic2 = new InitialContext();\r\n    DataSource ds = (DataSource) ic2.lookup(jndiPath);\r\n    assertNotNull(ds);\r\n    Connection conn = ds.getConnection();\r\n    assertNotNull(conn);\r\n    conn.close();","title":"Initialcontext in a standalone Java program","body":"<p>You can create your own <code>Context</code> by sub-classing <code>javax.naming.InitialContext</code> and implementing only a small subset of methods, typically the <code>bind</code> and the <code>lookup</code> methods. </p>\n\n<p>Then you can create your data source and bind it to your initial context to a specific key. After this you are ready to go and query from any place your JNDI context in your stand-alone Java programme.</p>\n\n<p>This is the code you can use to create your own context:</p>\n\n<pre><code>InitialContext initialContext = new InitialContext() {\n\n    private Map&lt;String, Object&gt; table = new HashMap&lt;&gt;();\n\n    public void bind(String key, Object value) {\n        table.put(key, value);\n    }\n\n    public Object lookup(String key) throws NamingException {\n        return table.get(key);\n    }\n};\n\n// Activate the initial context\nNamingManager.setInitialContextFactoryBuilder(environment -&gt; environment1 -&gt; initialContext);\n</code></pre>\n\n<p>Then you can initialise your data source, whichever you choose:</p>\n\n<pre><code>InitialContext ic = new InitialContext();\n\nBasicDataSource bds = new BasicDataSource();\nbds.setDriverClassName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\nbds.setUrl(url);\nbds.setUsername(username);\nbds.setPassword(password);\n\nic.bind(jndiPath, bds);\n</code></pre>\n\n<p>And somewhere else in your code, you can use the existing data source by retrieving it from the JNDI context:</p>\n\n<pre><code>InitialContext ic2 = new InitialContext();\nDataSource ds = (DataSource) ic2.lookup(jndiPath);\nassertNotNull(ds);\nConnection conn = ds.getConnection();\nassertNotNull(conn);\nconn.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5352637,"reputation":742,"user_id":4266338,"accept_rate":86,"display_name":"Pixelstix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643901729,"creation_date":1643901729,"answer_id":70973869,"question_id":20359483,"body_markdown":"You can configure a standalone app (or unit tests!) to use your server&#39;s `INITIAL_CONTEXT_FACTORY` without running the server.\r\n\r\nThis is how to do that for a **Apache Tomcat** initialization, *but you should have enough information to adapt it for another server*.\r\n\r\n**Starting configuration from the server**\r\n\r\nThis example presumes you want to mimic something like this from your `context.xml` file:\r\n\r\n    &lt;Resource name=&quot;jdbc/testdb&quot; auth=&quot;Container&quot;\r\n      type=&quot;javax.sql.DataSource&quot;\r\n      driverClassName=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;\r\n      username=&quot;someuser&quot; password=&quot;somepassword&quot;\r\n      url=&quot;jdbc:sqlserver://localhost\\SQLEXPRESS;databaseName=somedb;applicationName=someapp&quot;/&gt;\r\n\r\n**Create the resource to go into the Context**\r\n\r\nThis example is database specific, *but you can put things other than a `DataSource` in the Context*.  Here is one way you might be able to create a `DataSource` for this SQL Server example. (It requires the JDBC driver and `tomcat-dbcp.jar` in your classpath.  This code is for an older version of the driver, new versions probably have `SQLServerXADataSource` and would not need `tomcat-dbcp.jar`.)\r\n\r\n\tBasicDataSource dataSource = new BasicDataSource();\r\n\tdataSource.setDriverClassName(SQLServerDriver.class.getName());\r\n\tdataSource.setUrl(url);\r\n\tdataSource.setUsername(getUserName());\r\n\tdataSource.setPassword(getPassword());\r\n\r\n**Initialize using Tomcat INITIAL_CONTEXT_FACTORY**\r\n\r\nSee [this old blog post][1].\r\n\r\n    System.setProperty(Context.INITIAL_CONTEXT_FACTORY,\r\n\t\t\t&quot;org.apache.naming.java.javaURLContextFactory&quot;);\r\n\tSystem.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\r\n    InitialContext ctxt = new InitialContext();`\r\n\r\nThe reference to `org.apache.naming.java.javaURLContextFactory` means you should have `catalina.jar` in your classpath.  *You should be able to find variants for the `INITIAL_CONTEXT_FACTORY` and `URL_PGK_PREFIXES` values for other application servers.*\r\n\r\n**Register the resource for future lookups**\r\n\r\nThen register your `DataSource dataSource` for future lookups, at `java:/comp/env/jdbc/testdb`.  Unfortunately, you have to make sure all the intermediate subcontext levels are created before you can add the resource. (Exercise for the reader: You can create a method to figure out the subcontext names from the `resourceName` instead of hard-coding the list as this example does.)\r\n\r\n    // Create all the intermediate levels\r\n    for (String resource : new String[]{ &quot;java:&quot;, &quot;java:comp&quot;, &quot;java:comp/env&quot;, &quot;java:/comp/env/jdbc&quot; })\r\n    {\r\n\t\ttry\r\n\t\t{\r\n\t\t\tctxt.lookup(subContext);\r\n\t\t}\r\n\t\tcatch (NameNotFoundException nnfe)\r\n\t\t{\r\n\t\t\tctxt.createSubcontext(subContext);\r\n\t\t}\r\n    }\r\n\r\n    // Finally, register the resource\r\n    ctxt.bind(resourceName, dataSource);\r\n\r\nThis completes the setup portion, mimicking what is normally done in the Tomcat application server `context.xml`.\r\n\r\n**Do the lookup**\r\n\r\nThen the rest of your application can create `InitialContext`s and do `lookup`s as normal (in a single `lookup` call):\r\n\r\n    Context ic = new InitialContext();\r\n    DataSource ds = (DataSource)ic.lookup(&quot;java:/comp/env/jdbc/testdb&quot;);\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140530014804/https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit","title":"Initialcontext in a standalone Java program","body":"<p>You can configure a standalone app (or unit tests!) to use your server's <code>INITIAL_CONTEXT_FACTORY</code> without running the server.</p>\n<p>This is how to do that for a <strong>Apache Tomcat</strong> initialization, <em>but you should have enough information to adapt it for another server</em>.</p>\n<p><strong>Starting configuration from the server</strong></p>\n<p>This example presumes you want to mimic something like this from your <code>context.xml</code> file:</p>\n<pre><code>&lt;Resource name=&quot;jdbc/testdb&quot; auth=&quot;Container&quot;\n  type=&quot;javax.sql.DataSource&quot;\n  driverClassName=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;\n  username=&quot;someuser&quot; password=&quot;somepassword&quot;\n  url=&quot;jdbc:sqlserver://localhost\\SQLEXPRESS;databaseName=somedb;applicationName=someapp&quot;/&gt;\n</code></pre>\n<p><strong>Create the resource to go into the Context</strong></p>\n<p>This example is database specific, <em>but you can put things other than a <code>DataSource</code> in the Context</em>.  Here is one way you might be able to create a <code>DataSource</code> for this SQL Server example. (It requires the JDBC driver and <code>tomcat-dbcp.jar</code> in your classpath.  This code is for an older version of the driver, new versions probably have <code>SQLServerXADataSource</code> and would not need <code>tomcat-dbcp.jar</code>.)</p>\n<pre><code>BasicDataSource dataSource = new BasicDataSource();\ndataSource.setDriverClassName(SQLServerDriver.class.getName());\ndataSource.setUrl(url);\ndataSource.setUsername(getUserName());\ndataSource.setPassword(getPassword());\n</code></pre>\n<p><strong>Initialize using Tomcat INITIAL_CONTEXT_FACTORY</strong></p>\n<p>See <a href=\"https://web.archive.org/web/20140530014804/https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit\" rel=\"nofollow noreferrer\">this old blog post</a>.</p>\n<pre><code>System.setProperty(Context.INITIAL_CONTEXT_FACTORY,\n        &quot;org.apache.naming.java.javaURLContextFactory&quot;);\nSystem.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\nInitialContext ctxt = new InitialContext();`\n</code></pre>\n<p>The reference to <code>org.apache.naming.java.javaURLContextFactory</code> means you should have <code>catalina.jar</code> in your classpath.  <em>You should be able to find variants for the <code>INITIAL_CONTEXT_FACTORY</code> and <code>URL_PGK_PREFIXES</code> values for other application servers.</em></p>\n<p><strong>Register the resource for future lookups</strong></p>\n<p>Then register your <code>DataSource dataSource</code> for future lookups, at <code>java:/comp/env/jdbc/testdb</code>.  Unfortunately, you have to make sure all the intermediate subcontext levels are created before you can add the resource. (Exercise for the reader: You can create a method to figure out the subcontext names from the <code>resourceName</code> instead of hard-coding the list as this example does.)</p>\n<pre><code>// Create all the intermediate levels\nfor (String resource : new String[]{ &quot;java:&quot;, &quot;java:comp&quot;, &quot;java:comp/env&quot;, &quot;java:/comp/env/jdbc&quot; })\n{\n    try\n    {\n        ctxt.lookup(subContext);\n    }\n    catch (NameNotFoundException nnfe)\n    {\n        ctxt.createSubcontext(subContext);\n    }\n}\n\n// Finally, register the resource\nctxt.bind(resourceName, dataSource);\n</code></pre>\n<p>This completes the setup portion, mimicking what is normally done in the Tomcat application server <code>context.xml</code>.</p>\n<p><strong>Do the lookup</strong></p>\n<p>Then the rest of your application can create <code>InitialContext</code>s and do <code>lookup</code>s as normal (in a single <code>lookup</code> call):</p>\n<pre><code>Context ic = new InitialContext();\nDataSource ds = (DataSource)ic.lookup(&quot;java:/comp/env/jdbc/testdb&quot;);\n</code></pre>\n"}],"owner":{"account_id":3301570,"reputation":619,"user_id":2777616,"accept_rate":29,"display_name":"Satish Jonnala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47470,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":20359973,"answer_count":7,"score":26,"last_activity_date":1643901729,"creation_date":1386097413,"question_id":20359483,"body_markdown":"I&#39;m using a JNDI for creating connection pool. It works great in a web application. I believe the InitialContext is provided by the tomcat server.\r\n\r\n    Context initContext  = new InitialContext();\r\n    Context envContext  = (Context)initContext.lookup(&quot;java:/comp/env&quot;);\r\n    dataSource = (DataSource)envContext.lookup(&quot;jdbc/testdb&quot;);\r\n\r\nBut when I try to call the same utility from a standalone Java program, the initContext object  is null. How can I explicitly provide all the necessary properties that Context object is expecting.\r\n\r\n&gt; Error : javax.naming.NoInitialContextException: Need to specify class\r\n&gt; name in environment or system property, or as an applet parameter, or\r\n&gt; in an application resource file:  java.naming.factory.initial\r\n\r\n","title":"Initialcontext in a standalone Java program","body":"<p>I'm using a JNDI for creating connection pool. It works great in a web application. I believe the InitialContext is provided by the tomcat server.</p>\n<pre><code>Context initContext  = new InitialContext();\nContext envContext  = (Context)initContext.lookup(&quot;java:/comp/env&quot;);\ndataSource = (DataSource)envContext.lookup(&quot;jdbc/testdb&quot;);\n</code></pre>\n<p>But when I try to call the same utility from a standalone Java program, the initContext object  is null. How can I explicitly provide all the necessary properties that Context object is expecting.</p>\n<blockquote>\n<p>Error : javax.naming.NoInitialContextException: Need to specify class\nname in environment or system property, or as an applet parameter, or\nin an application resource file:  java.naming.factory.initial</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":15014315,"reputation":634,"user_id":10837776,"display_name":"Ibrahim AlTamimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643901613,"creation_date":1643901613,"answer_id":70973838,"question_id":70973629,"body_markdown":"Use your custom handler, when the validation throws a constraint violation exception (`javax.validation.ConstraintViolationException`) handle it using a custom exception handler, so; you can simplify the response based on the usage.\r\n\r\nFor example:\r\n\r\n```java\r\n\r\n@ControllerAdvice\r\npublic class SampleApiExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler\r\n    public ResponseEntity&lt;???&gt; handle(ConstraintViolationException ex) {\r\n        LOGGER.error(&quot;Domain violation error&quot;, ex);\r\n        return badRequest().body(&quot;YOUR_RESPONSE_BODY&quot;);\r\n    }\r\n}\r\n\r\n```","title":"Straightforward way of simplifying javax validation notations message","body":"<p>Use your custom handler, when the validation throws a constraint violation exception (<code>javax.validation.ConstraintViolationException</code>) handle it using a custom exception handler, so; you can simplify the response based on the usage.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@ControllerAdvice\npublic class SampleApiExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler\n    public ResponseEntity&lt;???&gt; handle(ConstraintViolationException ex) {\n        LOGGER.error(&quot;Domain violation error&quot;, ex);\n        return badRequest().body(&quot;YOUR_RESPONSE_BODY&quot;);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":9949128,"reputation":1376,"user_id":8286276,"accept_rate":77,"display_name":"Pelicer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643901613,"creation_date":1643900693,"question_id":70973629,"body_markdown":"I&#39;ve read several answers and question on how to custom handle validation errors on API request. However, it all seem a bit overkill. I have a simple object that is excepect in my endpoint:\r\n\r\n    @NotNull(message = &quot;A target group must be provided&quot;)\r\n    @NotBlank(message = &quot;Target group cannot be blank&quot;)\r\n    private String targetGroup;\r\n\r\n    @NotNull(message = &quot;A target entity must be provided&quot;)\r\n    @NotBlank(message = &quot;Target entity cannot be blank&quot;)\r\n    private String targetEntity;\r\n\r\n    @NotNull(message = &quot;A target entity identifier must be provided&quot;)\r\n    @NotBlank(message = &quot;Target entity identifier cannot be blank&quot;)\r\n    private String targetEntityIdentifier;\r\n\r\n    @NotNull(message = &quot;A content must be provided&quot;)\r\n    @NotBlank(message = &quot;Content cannot be blank&quot;)\r\n    private String content;\r\n\r\nAnd the error thrown when I send a null or blank value is:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-02-03T15:01:43.296+00:00&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;message&quot;: &quot;JSON parse error: Cannot construct instance of `com.foo.notification.adapter.in.web.request.NotificationItemRequest`, problem: targetGroup: Target group cannot be blank, targetGroup: A target group must be provided; nested exception is com.fasterxml.jackson.databind.exc.ValueInstantiationException: Cannot construct instance of `com.foo.notification.adapter.in.web.request.NotificationItemRequest`, problem: targetGroup: Target group cannot be blank, targetGroup: A target group must be provided\\n at [Source: (PushbackInputStream); line: 5, column: 1]&quot;,\r\n        &quot;path&quot;: &quot;/notification&quot;\r\n    }\r\n\r\nThis message is a bit too much to deliver to an front-end. Simply what they need is &#39;Target group cannot be blank&#39;. I want to transform the message above into the following:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-02-03T15:01:43.296+00:00&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;message&quot;: &quot;A target group must be provided&quot;,\r\n        &quot;path&quot;: &quot;/notification&quot;\r\n    }\r\n\r\nHow can I accomplish that?","title":"Straightforward way of simplifying javax validation notations message","body":"<p>I've read several answers and question on how to custom handle validation errors on API request. However, it all seem a bit overkill. I have a simple object that is excepect in my endpoint:</p>\n<pre><code>@NotNull(message = &quot;A target group must be provided&quot;)\n@NotBlank(message = &quot;Target group cannot be blank&quot;)\nprivate String targetGroup;\n\n@NotNull(message = &quot;A target entity must be provided&quot;)\n@NotBlank(message = &quot;Target entity cannot be blank&quot;)\nprivate String targetEntity;\n\n@NotNull(message = &quot;A target entity identifier must be provided&quot;)\n@NotBlank(message = &quot;Target entity identifier cannot be blank&quot;)\nprivate String targetEntityIdentifier;\n\n@NotNull(message = &quot;A content must be provided&quot;)\n@NotBlank(message = &quot;Content cannot be blank&quot;)\nprivate String content;\n</code></pre>\n<p>And the error thrown when I send a null or blank value is:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-02-03T15:01:43.296+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;message&quot;: &quot;JSON parse error: Cannot construct instance of `com.foo.notification.adapter.in.web.request.NotificationItemRequest`, problem: targetGroup: Target group cannot be blank, targetGroup: A target group must be provided; nested exception is com.fasterxml.jackson.databind.exc.ValueInstantiationException: Cannot construct instance of `com.foo.notification.adapter.in.web.request.NotificationItemRequest`, problem: targetGroup: Target group cannot be blank, targetGroup: A target group must be provided\\n at [Source: (PushbackInputStream); line: 5, column: 1]&quot;,\n    &quot;path&quot;: &quot;/notification&quot;\n}\n</code></pre>\n<p>This message is a bit too much to deliver to an front-end. Simply what they need is 'Target group cannot be blank'. I want to transform the message above into the following:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-02-03T15:01:43.296+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;message&quot;: &quot;A target group must be provided&quot;,\n    &quot;path&quot;: &quot;/notification&quot;\n}\n</code></pre>\n<p>How can I accomplish that?</p>\n"},{"tags":["java","mysql","database"],"answers":[{"tags":[],"owner":{"account_id":24145112,"reputation":11,"user_id":18110849,"display_name":"roach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643901611,"creation_date":1643901611,"answer_id":70973837,"question_id":70973054,"body_markdown":"Are you want grouping players, if there are same bets_id?\r\nIf this is right, see below code\r\n\r\n```java\r\n        while (rs.next()) {\r\n            int betsID = rs.getInt(&quot;bets_id&quot;);\r\n            int playerID = rs.getInt(&quot;players_id&quot;);\r\n            int position = rs.getInt(&quot;position&quot;);\r\n            int playerBet = (rs.getInt(&quot;player_bet&quot;));\r\n            \r\n            StringBuilder sb = null;\r\n            \r\n            if (records.containsKey(betsID)) {\r\n                sb = records.get(betsID);\r\n            } else {\r\n                sb = new StringBuilder();\r\n            }\r\n\r\n            sb.append(&quot; player &quot; + playerID + &quot; finished &quot; + position + &quot; and voted for &quot; + playerBet);\r\n\r\n            records.put(betsID, sb);\r\n        }\r\n\r\n        records.forEach((key, value) -&gt; {\r\n            System.out.println(&quot;Bets &quot; + key + value);\r\n        });\r\n```","title":"Java iterating through MySQL database","body":"<p>Are you want grouping players, if there are same bets_id?\nIf this is right, see below code</p>\n<pre class=\"lang-java prettyprint-override\"><code>        while (rs.next()) {\n            int betsID = rs.getInt(&quot;bets_id&quot;);\n            int playerID = rs.getInt(&quot;players_id&quot;);\n            int position = rs.getInt(&quot;position&quot;);\n            int playerBet = (rs.getInt(&quot;player_bet&quot;));\n            \n            StringBuilder sb = null;\n            \n            if (records.containsKey(betsID)) {\n                sb = records.get(betsID);\n            } else {\n                sb = new StringBuilder();\n            }\n\n            sb.append(&quot; player &quot; + playerID + &quot; finished &quot; + position + &quot; and voted for &quot; + playerBet);\n\n            records.put(betsID, sb);\n        }\n\n        records.forEach((key, value) -&gt; {\n            System.out.println(&quot;Bets &quot; + key + value);\n        });\n</code></pre>\n"}],"owner":{"account_id":9634940,"reputation":17,"user_id":7151399,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643901611,"creation_date":1643898581,"question_id":70973054,"body_markdown":"In java using JDBC I am trying to connect to 3 databases I created in MySQL. Below is a snippet of what each database looks like and their keys. Left table is titled &#39;bets, right &#39;players&#39; and bottom &#39;standings&#39;.\r\n\r\n[![3 databases with keys][1]][1]\r\n\r\n\r\nI want to extract from the tables each players bet/position for 1 bet.\r\n\r\nFor instance a simple System.out.println that will says &quot;For bet 1, player (player_id) came in (position) and bet on player (player_id)&quot;. \r\n\r\nI&#39;ve done initally a simple variation of this\r\n\r\n    String standingsTable = CreateStatement.CreateStatement(&quot;*&quot;, &quot;standings&quot;, null);\r\n\r\n    PreparedStatement ps = connection.prepareStatement(standingsTable);\r\n    ResultSet rs = ps.executeQuery();\r\n\r\n    while (rs.next()) {\r\n       int betsID = rs.getInt(&quot;bets_id&quot;);\r\n       int playerID = rs.getInt(&quot;players_id&quot;);\r\n       int position = rs.getInt(&quot;position&quot;);\r\n       int playerBet = (rs.getInt(&quot;player_bet&quot;));\r\n \r\n       System.out.println(&quot;Bet &quot; + betsID + &quot; player &quot; + playerID + &quot; finished &quot; + position + &quot; and voted for &quot; + playerBet ); }\r\n\r\nHowever this would print out the below results \r\n\r\n[![Code results][2]][2]\r\n\r\n\r\nIf possible I instead would want one line to be like \r\n\r\n&quot;Bet 1 player 1 finished 0 and voted for 3, player 2 finished 1 and voted for 1, player 3 finished 2 and voted for 2&quot;. \r\n\r\nSo to have each players record for each bet as a unit rather than 3 seperate entries. If i&#39;m not making it clear enough please say and I will try to clear it up further what I&#39;m requesting.\r\n\r\n  [1]: https://i.stack.imgur.com/f2SBZ.png\r\n  [2]: https://i.stack.imgur.com/oa2K5.png","title":"Java iterating through MySQL database","body":"<p>In java using JDBC I am trying to connect to 3 databases I created in MySQL. Below is a snippet of what each database looks like and their keys. Left table is titled 'bets, right 'players' and bottom 'standings'.</p>\n<p><a href=\"https://i.stack.imgur.com/f2SBZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f2SBZ.png\" alt=\"3 databases with keys\" /></a></p>\n<p>I want to extract from the tables each players bet/position for 1 bet.</p>\n<p>For instance a simple System.out.println that will says &quot;For bet 1, player (player_id) came in (position) and bet on player (player_id)&quot;.</p>\n<p>I've done initally a simple variation of this</p>\n<pre><code>String standingsTable = CreateStatement.CreateStatement(&quot;*&quot;, &quot;standings&quot;, null);\n\nPreparedStatement ps = connection.prepareStatement(standingsTable);\nResultSet rs = ps.executeQuery();\n\nwhile (rs.next()) {\n   int betsID = rs.getInt(&quot;bets_id&quot;);\n   int playerID = rs.getInt(&quot;players_id&quot;);\n   int position = rs.getInt(&quot;position&quot;);\n   int playerBet = (rs.getInt(&quot;player_bet&quot;));\n\n   System.out.println(&quot;Bet &quot; + betsID + &quot; player &quot; + playerID + &quot; finished &quot; + position + &quot; and voted for &quot; + playerBet ); }\n</code></pre>\n<p>However this would print out the below results</p>\n<p><a href=\"https://i.stack.imgur.com/oa2K5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oa2K5.png\" alt=\"Code results\" /></a></p>\n<p>If possible I instead would want one line to be like</p>\n<p>&quot;Bet 1 player 1 finished 0 and voted for 3, player 2 finished 1 and voted for 1, player 3 finished 2 and voted for 2&quot;.</p>\n<p>So to have each players record for each bet as a unit rather than 3 seperate entries. If i'm not making it clear enough please say and I will try to clear it up further what I'm requesting.</p>\n"},{"tags":["java","environment-variables"],"comments":[{"owner":{"account_id":11597557,"reputation":469,"user_id":8495832,"display_name":"SYED MUSTAFA HUSSAIN"},"score":2,"creation_date":1643901628,"post_id":70973802,"comment_id":125467100,"body_markdown":"you can change JDK from your ide setting","body":"you can change JDK from your ide setting"},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":1,"creation_date":1643901819,"post_id":70973802,"comment_id":125467182,"body_markdown":"See the accepted answer to [this question](https://stackoverflow.com/questions/54756951/how-do-i-change-the-java-version-fro-sts4)","body":"See the accepted answer to <a href=\"https://stackoverflow.com/questions/54756951/how-do-i-change-the-java-version-fro-sts4\">this question</a>"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1643901861,"post_id":70973802,"comment_id":125467206,"body_markdown":"Do you have a `~/.bash_profile` in your git bash ?","body":"Do you have a <code>~&#47;.bash_profile</code> in your git bash ?"}],"owner":{"account_id":16811904,"reputation":169,"user_id":12154734,"display_name":"JCP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643901451,"creation_date":1643901451,"question_id":70973802,"body_markdown":"I am getting Gradle build errors and my theory is, it&#39;s because of the JDK version I&#39;m using. My JAVA_HOME is set to JDK 8 and the command prompt reflects this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf I run git bash terminal from my STS4 IDE, it returns JDK 17:[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W229E.png\r\n  [2]: https://i.stack.imgur.com/5HkHM.png\r\n\r\nHow is this possible? Yes, I have my environment variables pointing to JDK 8 ( this is the desired version) and the path is listed FIRST. For some reason, my IDE is picking up version 17. Lastly, yes I have reopened my IDE/command prompt since making these changes.\r\n\r\nAny ideas/explanations would be greatly appreciated! Thanks in advance.","title":"Why different java versions from terminal/IDE?","body":"<p>I am getting Gradle build errors and my theory is, it's because of the JDK version I'm using. My JAVA_HOME is set to JDK 8 and the command prompt reflects this:\n<a href=\"https://i.stack.imgur.com/W229E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W229E.png\" alt=\"enter image description here\" /></a></p>\n<p>If I run git bash terminal from my STS4 IDE, it returns JDK 17:<a href=\"https://i.stack.imgur.com/5HkHM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5HkHM.png\" alt=\"enter image description here\" /></a></p>\n<p>How is this possible? Yes, I have my environment variables pointing to JDK 8 ( this is the desired version) and the path is listed FIRST. For some reason, my IDE is picking up version 17. Lastly, yes I have reopened my IDE/command prompt since making these changes.</p>\n<p>Any ideas/explanations would be greatly appreciated! Thanks in advance.</p>\n"},{"tags":["java","websocket","java-websocket"],"answers":[{"tags":[],"owner":{"account_id":1203958,"reputation":18288,"user_id":1174054,"accept_rate":38,"display_name":"Takahiko Kawasaki"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1435641642,"creation_date":1435641642,"answer_id":31130128,"question_id":31115205,"body_markdown":"&lt;code&gt;[ClientEndpointConfig][1].[Configurator][2].[beforeRequest][3](Map&amp;lt;String,List&amp;lt;String&amp;gt;&amp;gt; &lt;b&gt;headers&lt;/b&gt;)&lt;/code&gt; may be usable.\r\n\r\nThe JavaDoc about the argument &lt;code&gt;&lt;b&gt;headers&lt;/b&gt;&lt;/code&gt; says as follows:\r\n\r\n&lt;blockquote&gt;\r\n&lt;i&gt;the &lt;b&gt;mutable&lt;/b&gt; map of handshake request headers the implementation is about to send to start the handshake interaction.&lt;/i&gt;\r\n&lt;/blockquote&gt;\r\n\r\nSo, why don&#39;t you override &lt;code&gt;&lt;b&gt;[beforeRequest][4]&lt;/b&gt;&lt;/code&gt; method like below?\r\n\r\n    @Override\r\n    public void beforeRequest(Map&lt;String,List&lt;String&gt;&gt; headers)\r\n    {\r\n        List&lt;String&gt; values = new ArrayList&lt;String&gt;();\r\n        values.add(&quot;My Value&quot;);\r\n\r\n        headers.put(&quot;X-My-Custom-Header&quot;, values);\r\n    }\r\n\r\nYou can pass &lt;code&gt;[ClientEndpointConfig][5]&lt;/code&gt; to &lt;code&gt;[connectToServer][6](Class&amp;lt;? extends Endpoint&amp;gt; endpointClass, [ClientEndpointConfig][7] cec, URI path)&lt;/code&gt;.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\r\n  [2]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html\r\n  [3]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html#beforeRequest(java.util.Map)\r\n  [4]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html#beforeRequest(java.util.Map)\r\n  [5]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\r\n  [6]: http://docs.oracle.com/javaee/7/api/javax/websocket/WebSocketContainer.html#connectToServer(java.lang.Class,%20javax.websocket.ClientEndpointConfig,%20java.net.URI)\r\n  [7]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html","title":"How to add headers in Java Websocket client","body":"<p><code><a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\">ClientEndpointConfig</a>.<a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html\">Configurator</a>.<a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html#beforeRequest(java.util.Map)\">beforeRequest</a>(Map&lt;String,List&lt;String&gt;&gt; <b>headers</b>)</code> may be usable.</p>\n\n<p>The JavaDoc about the argument <code><b>headers</b></code> says as follows:</p>\n\n<blockquote>\n<i>the <b>mutable</b> map of handshake request headers the implementation is about to send to start the handshake interaction.</i>\n</blockquote>\n\n<p>So, why don't you override <code><b><a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html#beforeRequest(java.util.Map)\">beforeRequest</a></b></code> method like below?</p>\n\n<pre><code>@Override\npublic void beforeRequest(Map&lt;String,List&lt;String&gt;&gt; headers)\n{\n    List&lt;String&gt; values = new ArrayList&lt;String&gt;();\n    values.add(\"My Value\");\n\n    headers.put(\"X-My-Custom-Header\", values);\n}\n</code></pre>\n\n<p>You can pass <code><a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\">ClientEndpointConfig</a></code> to <code><a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/WebSocketContainer.html#connectToServer(java.lang.Class,%20javax.websocket.ClientEndpointConfig,%20java.net.URI)\">connectToServer</a>(Class&lt;? extends Endpoint&gt; endpointClass, <a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\">ClientEndpointConfig</a> cec, URI path)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1775018,"reputation":61,"user_id":1618949,"display_name":"sky54521"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507658759,"creation_date":1507658759,"answer_id":46673169,"question_id":31115205,"body_markdown":"    public class Config extends ClientEndpointConfig.Configurator{\r\n        @Override\r\n        public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\r\n            headers.put(&quot;Pragma&quot;, Arrays.asList(&quot;no-cache&quot;));\r\n            headers.put(&quot;Origin&quot;, Arrays.asList(&quot;https://www.bcex.ca&quot;));\r\n            headers.put(&quot;Accept-Encoding&quot;, Arrays.asList(&quot;gzip, deflate, br&quot;));\r\n            headers.put(&quot;Accept-Language&quot;, Arrays.asList(&quot;en-US,en;q=0.8,zh-CN;q=0.6,zh;q=0.4&quot;));\r\n            headers.put(&quot;User-Agent&quot;, Arrays.asList(&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36&quot;));\r\n            headers.put(&quot;Upgrade&quot;, Arrays.asList(&quot;websocket&quot;));\r\n            headers.put(&quot;Cache-Control&quot;, Arrays.asList(&quot;no-cache&quot;));\r\n            headers.put(&quot;Connection&quot;, Arrays.asList(&quot;Upgrade&quot;));\r\n            headers.put(&quot;Sec-WebSocket-Version&quot;, Arrays.asList(&quot;13&quot;));\r\n        }\r\n        \r\n        @Override\r\n        public void afterResponse(HandshakeResponse hr) {\r\n            Map&lt;String, List&lt;String&gt;&gt; headers = hr.getHeaders();\r\n            log.info(&quot;headers -&gt; &quot;+headers);\r\n        }\r\n    }","title":"How to add headers in Java Websocket client","body":"<pre><code>public class Config extends ClientEndpointConfig.Configurator{\n    @Override\n    public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\n        headers.put(\"Pragma\", Arrays.asList(\"no-cache\"));\n        headers.put(\"Origin\", Arrays.asList(\"https://www.bcex.ca\"));\n        headers.put(\"Accept-Encoding\", Arrays.asList(\"gzip, deflate, br\"));\n        headers.put(\"Accept-Language\", Arrays.asList(\"en-US,en;q=0.8,zh-CN;q=0.6,zh;q=0.4\"));\n        headers.put(\"User-Agent\", Arrays.asList(\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36\"));\n        headers.put(\"Upgrade\", Arrays.asList(\"websocket\"));\n        headers.put(\"Cache-Control\", Arrays.asList(\"no-cache\"));\n        headers.put(\"Connection\", Arrays.asList(\"Upgrade\"));\n        headers.put(\"Sec-WebSocket-Version\", Arrays.asList(\"13\"));\n    }\n\n    @Override\n    public void afterResponse(HandshakeResponse hr) {\n        Map&lt;String, List&lt;String&gt;&gt; headers = hr.getHeaders();\n        log.info(\"headers -&gt; \"+headers);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4355372,"reputation":396,"user_id":3554203,"accept_rate":60,"display_name":"tissa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581697020,"creation_date":1581697020,"answer_id":60229947,"question_id":31115205,"body_markdown":"    Builder configBuilder = ClientEndpointConfig.Builder.create();\r\n    configBuilder.configurator(new Configurator() {\r\n        @Override\r\n        public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\r\n    \theaders.put(&quot;Cookie&quot;, Arrays.asList(&quot;JSESSIONID=&quot; + sessionID));\r\n        }\r\n    });\r\n    ClientEndpointConfig clientConfig = configBuilder.build();\r\n    webSocketContainer.connectToServer(MyClientEndpoint.class, clientConfig, new URI(uri));","title":"How to add headers in Java Websocket client","body":"<pre><code>Builder configBuilder = ClientEndpointConfig.Builder.create();\nconfigBuilder.configurator(new Configurator() {\n    @Override\n    public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\n    headers.put(\"Cookie\", Arrays.asList(\"JSESSIONID=\" + sessionID));\n    }\n});\nClientEndpointConfig clientConfig = configBuilder.build();\nwebSocketContainer.connectToServer(MyClientEndpoint.class, clientConfig, new URI(uri));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590031102,"creation_date":1590030800,"answer_id":61926558,"question_id":31115205,"body_markdown":"Update 2020. This is how IntelliJ community proposed it:\r\n\r\n  \r\n  \r\n\r\n      public WsClient(String uri) throws Exception {\r\n\r\n        ClientEndpointConfig.Builder configBuilder = ClientEndpointConfig.Builder.create();\r\n\r\n        configBuilder.configurator(new ClientEndpointConfig.Configurator() {\r\n            public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\r\n                headers.put(&quot;FriendlyName&quot;, Arrays.asList(&quot;TakaTurautin&quot;));\r\n            }\r\n        });\r\n        ClientEndpointConfig clientConfig = configBuilder.build();\r\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n\r\n        container.connectToServer(this, clientConfig, URI.create(uri));\r\n\r\n    }\r\n\r\n  \r\n","title":"How to add headers in Java Websocket client","body":"<p>Update 2020. This is how IntelliJ community proposed it:</p>\n\n<pre><code>  public WsClient(String uri) throws Exception {\n\n    ClientEndpointConfig.Builder configBuilder = ClientEndpointConfig.Builder.create();\n\n    configBuilder.configurator(new ClientEndpointConfig.Configurator() {\n        public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\n            headers.put(\"FriendlyName\", Arrays.asList(\"TakaTurautin\"));\n        }\n    });\n    ClientEndpointConfig clientConfig = configBuilder.build();\n    WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n\n    container.connectToServer(this, clientConfig, URI.create(uri));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9658794,"reputation":11,"user_id":7167531,"display_name":"Sankar Ganesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643901241,"creation_date":1643900772,"answer_id":70973642,"question_id":31115205,"body_markdown":"I tried the similar code as below \r\n\r\n    webSocketContainer.connectToServer(MyClientEndpoint.class, clientConfig, new URI(uri));\r\n\r\nHere &#39;MyClientEndpoint&#39; extends Endpoint (it should as per the method specification).\r\nBut there is no `@OnMessage` event listener available in Endpoint class.. If I simply use `webSocketContainer.connectToServer(this, new URI(uri))`;, without client configuration, I&#39;m getting authorization issue. Kindly advise.","title":"How to add headers in Java Websocket client","body":"<p>I tried the similar code as below</p>\n<pre><code>webSocketContainer.connectToServer(MyClientEndpoint.class, clientConfig, new URI(uri));\n</code></pre>\n<p>Here 'MyClientEndpoint' extends Endpoint (it should as per the method specification).\nBut there is no <code>@OnMessage</code> event listener available in Endpoint class.. If I simply use <code>webSocketContainer.connectToServer(this, new URI(uri))</code>;, without client configuration, I'm getting authorization issue. Kindly advise.</p>\n"}],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17172,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":31130128,"answer_count":5,"score":14,"last_activity_date":1643901241,"creation_date":1435579366,"question_id":31115205,"body_markdown":"I am connecting to a websocket server in Java using `javax.websocket` classes.\r\n\r\n    import javax.websocket.DeploymentException;\r\n    import javax.websocket.Session;\r\n    import javax.websocket.WebSocketContainer;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n\r\n    public class WSClient {\r\n        private WebSocketContainer webSocketContainer;\r\n    \r\n        public void sendMessage(URI endpointURI, String message) throws IOException, DeploymentException {\r\n            Session session = webSocketContainer.connectToServer(MyClientEndpoint.class, endpointURI);\r\n            session.getAsyncRemote().sendText(message);\r\n        }\r\n    }\r\n\r\nFor the initial HTTP handshake I want to add extra HTTP Headers to the request on the ***Client side***\r\n\r\nIs this possible?\r\n\r\nI know that this is possible on server side using `ServerEndpointConfig.Configurator.modifyHandshake`. Is there a similar solution on client side?","title":"How to add headers in Java Websocket client","body":"<p>I am connecting to a websocket server in Java using <code>javax.websocket</code> classes.</p>\n\n<pre><code>import javax.websocket.DeploymentException;\nimport javax.websocket.Session;\nimport javax.websocket.WebSocketContainer;\nimport java.io.IOException;\nimport java.net.URI;\n\npublic class WSClient {\n    private WebSocketContainer webSocketContainer;\n\n    public void sendMessage(URI endpointURI, String message) throws IOException, DeploymentException {\n        Session session = webSocketContainer.connectToServer(MyClientEndpoint.class, endpointURI);\n        session.getAsyncRemote().sendText(message);\n    }\n}\n</code></pre>\n\n<p>For the initial HTTP handshake I want to add extra HTTP Headers to the request on the <strong><em>Client side</em></strong></p>\n\n<p>Is this possible?</p>\n\n<p>I know that this is possible on server side using <code>ServerEndpointConfig.Configurator.modifyHandshake</code>. Is there a similar solution on client side?</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1499351922,"post_id":44951957,"comment_id":76879186,"body_markdown":"the most basic way might be loop ?","body":"the most basic way might be loop ?"},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":1,"creation_date":1499351958,"post_id":44951957,"comment_id":76879219,"body_markdown":"I am not sure why you ask a question and then VTC as a duplicate of another question...","body":"I am not sure why you ask a question and then VTC as a duplicate of another question..."},{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1499351984,"post_id":44951957,"comment_id":76879239,"body_markdown":"@Frakcool, yeah I thought it was the same but it is not...","body":"@Frakcool, yeah I thought it was the same but it is not..."},{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1499352140,"post_id":44951957,"comment_id":76879362,"body_markdown":"@Ravi is that the only way? Seems too simple but then again...","body":"@Ravi is that the only way? Seems too simple but then again..."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":1,"creation_date":1499352242,"post_id":44951957,"comment_id":76879450,"body_markdown":"@DavidBrossard as you mentioned *What about more basic ways*. Then, YES.","body":"@DavidBrossard as you mentioned <i>What about more basic ways</i>. Then, YES."}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1555319005,"creation_date":1499352222,"answer_id":44952144,"question_id":44951957,"body_markdown":"One way without Java 8 streams:\r\n\r\n    public boolean containsAtLeastOne( List&lt;String&gt; a, String[] b ) {\r\n        Set&lt;String&gt; aSet = new HashSet( a );\r\n        for ( s : b ) {\r\n           if ( aSet.contains( s ) ) {\r\n               return true;\r\n           }\r\n        }\r\n        return false;\r\n    }\r\n\r\nAnother way:\r\n\r\n     public boolean containsAtLeastOne( List&lt;String&gt; a, String[] b ) {\r\n        Set&lt;String&gt; aSet = new HashSet( a );\r\n        List&lt;String&gt; bList = Arrays.asList(b);\r\n\r\n        bList.retainAll( aSet );\r\n   \r\n        return 0 &lt; bList.size();\r\n     }\r\n","title":"Quick way to determine whether a list contains at least one item contained in an array","body":"<p>One way without Java 8 streams:</p>\n\n<pre><code>public boolean containsAtLeastOne( List&lt;String&gt; a, String[] b ) {\n    Set&lt;String&gt; aSet = new HashSet( a );\n    for ( s : b ) {\n       if ( aSet.contains( s ) ) {\n           return true;\n       }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Another way:</p>\n\n<pre><code> public boolean containsAtLeastOne( List&lt;String&gt; a, String[] b ) {\n    Set&lt;String&gt; aSet = new HashSet( a );\n    List&lt;String&gt; bList = Arrays.asList(b);\n\n    bList.retainAll( aSet );\n\n    return 0 &lt; bList.size();\n }\n</code></pre>\n"}],"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44952144,"answer_count":1,"score":1,"last_activity_date":1643901167,"creation_date":1499351754,"question_id":44951957,"body_markdown":"I have a `List&lt;String&gt; a` and a `String[] b`. I would like to return true if there is at least one member of the list inside the array. For that matter, it doesn&#39;t matter that I am dealing with a `List&lt;String&gt;` and an `String[]`. Both could be lists.\r\n\r\n## EDIT\r\n\r\nJava 8 gives you a way to [do it via streams][1], it seems. What about more basic ways?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41920852/a-list-contains-at-least-one-value-from-another-list-java-8","title":"Quick way to determine whether a list contains at least one item contained in an array","body":"<p>I have a <code>List&lt;String&gt; a</code> and a <code>String[] b</code>. I would like to return true if there is at least one member of the list inside the array. For that matter, it doesn't matter that I am dealing with a <code>List&lt;String&gt;</code> and an <code>String[]</code>. Both could be lists.</p>\n\n<h2>EDIT</h2>\n\n<p>Java 8 gives you a way to <a href=\"https://stackoverflow.com/questions/41920852/a-list-contains-at-least-one-value-from-another-list-java-8\">do it via streams</a>, it seems. What about more basic ways?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","unit-testing","apache-kafka-streams","junit5"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1643901734,"post_id":70973709,"comment_id":125467148,"body_markdown":"Just a comment: This will make your tests crawl. Each startup of kafka takes multiple seconds and they will happen for each test. I don&#39;t know about your app, but there are some approaches to write tests that avoid having to reload an app for each test. Just sharing this as I recently saw a project where this was done extensively and the test suite took ~40mins to run. We avoided reloading kafk (or using `DirtiesContext`) in another project and the test suite took less than 4 minutes to run and afterwards we could see the data in kafka and the DB if we needed.","body":"Just a comment: This will make your tests crawl. Each startup of kafka takes multiple seconds and they will happen for each test. I don&#39;t know about your app, but there are some approaches to write tests that avoid having to reload an app for each test. Just sharing this as I recently saw a project where this was done extensively and the test suite took ~40mins to run. We avoided reloading kafk (or using <code>DirtiesContext</code>) in another project and the test suite took less than 4 minutes to run and afterwards we could see the data in kafka and the DB if we needed."},{"owner":{"account_id":21140802,"reputation":97,"user_id":15543279,"display_name":"flowAlong"},"score":0,"creation_date":1645001553,"post_id":70973709,"comment_id":125751696,"body_markdown":"@Augusto Could you share some details on how you replicated the DirtiesContext behaviour without using the annotation?","body":"@Augusto Could you share some details on how you replicated the DirtiesContext behaviour without using the annotation?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1645006239,"post_id":70973709,"comment_id":125753554,"body_markdown":"I didn&#39;t replicate the behaviour, but designed the configuration classes so it wouldn&#39;t be required for the tests. If you need the annotation it means that there&#39;s a side effect of a test that can affect other tests, the solution is to address that side effect so the tests can run independently. In the case of Kafka it was to find for a message that matched the expectation rather than expect 1 message with a given payload.","body":"I didn&#39;t replicate the behaviour, but designed the configuration classes so it wouldn&#39;t be required for the tests. If you need the annotation it means that there&#39;s a side effect of a test that can affect other tests, the solution is to address that side effect so the tests can run independently. In the case of Kafka it was to find for a message that matched the expectation rather than expect 1 message with a given payload."}],"owner":{"account_id":21140802,"reputation":97,"user_id":15543279,"display_name":"flowAlong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1643901040,"creation_date":1643901040,"question_id":70973709,"body_markdown":"I&#39;m trying to test a KafkaStreams application.Using JUnit5 and EmbededKafka.\r\nWhen executing any TestCase, I see that the logs are bombarded with the following messages\r\n\r\n    [Producer clientId=myTask-227e2e90-212b-4663-bd17-2d307018c81a-StreamThread-1-producer] Connection to node 0 (localhost/127.0.0.1:61269) could not be established. Broker may not be available.\r\n    [Consumer clientId=myTask-227e2e90-212b-4663-bd17-2d307018c81a-StreamThread-3-consumer, groupId=my-task] Connection to node 0 (localhost/127.0.0.1:61269) could not be established. Broker may not be available.\r\n\r\nI have also added \r\n\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n\r\nClass Level configurations\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n    @TestPropertySource(&quot;/application-test.properties&quot;)\r\n    @EmbeddedKafka(topics = { &quot;${kafka.topic.}&quot;\r\n        },\r\n        partitions = 1, controlledShutdown = true\r\n    )\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class KStreamTest{\r\n    \r\n        @Autowired\r\n     protected EmbeddedKafkaBroker embeddedKafka;\r\n      \r\n      //TestMethod\r\n\r\n     }\r\n\r\nCan you suggest anything I can try or if I&#39;m missing something?\r\n\r\n\r\n","title":"DirtiesContext does not close Kafka consumer and producer","body":"<p>I'm trying to test a KafkaStreams application.Using JUnit5 and EmbededKafka.\nWhen executing any TestCase, I see that the logs are bombarded with the following messages</p>\n<pre><code>[Producer clientId=myTask-227e2e90-212b-4663-bd17-2d307018c81a-StreamThread-1-producer] Connection to node 0 (localhost/127.0.0.1:61269) could not be established. Broker may not be available.\n[Consumer clientId=myTask-227e2e90-212b-4663-bd17-2d307018c81a-StreamThread-3-consumer, groupId=my-task] Connection to node 0 (localhost/127.0.0.1:61269) could not be established. Broker may not be available.\n</code></pre>\n<p>I have also added</p>\n<pre><code>@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n</code></pre>\n<p>Class Level configurations</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@TestPropertySource(&quot;/application-test.properties&quot;)\n@EmbeddedKafka(topics = { &quot;${kafka.topic.}&quot;\n    },\n    partitions = 1, controlledShutdown = true\n)\n@ExtendWith(MockitoExtension.class)\npublic class KStreamTest{\n\n    @Autowired\n protected EmbeddedKafkaBroker embeddedKafka;\n  \n  //TestMethod\n\n }\n</code></pre>\n<p>Can you suggest anything I can try or if I'm missing something?</p>\n"},{"tags":["java","node.js","emulation"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1643863352,"post_id":70965853,"comment_id":125454041,"body_markdown":"Omay, you&#39;ll need to add more details to the question. What code are you trying to run? How have you invoked Trireme, from the command line or embedded in a Java application?","body":"Omay, you&#39;ll need to add more details to the question. What code are you trying to run? How have you invoked Trireme, from the command line or embedded in a Java application?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1643863478,"post_id":70965853,"comment_id":125454057,"body_markdown":"Also, you might be interested in this known issue https://github.com/apigee/trireme/issues/190","body":"Also, you might be interested in this known issue <a href=\"https://github.com/apigee/trireme/issues/190\" rel=\"nofollow noreferrer\">github.com/apigee/trireme/issues/190</a>"}],"answers":[{"tags":[],"owner":{"account_id":23922119,"reputation":1,"user_id":17917787,"display_name":"TCoder12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643877062,"creation_date":1643877062,"answer_id":70968016,"question_id":70965853,"body_markdown":"Check this out: https://stackoverflow.com/questions/32607089/how-should-i-run-nodejs-from-a-java-application. Hope it helps. Or you should maybe try Spring as an alternative to NodeJS","title":"How do I run NodeJS with Java","body":"<p>Check this out: <a href=\"https://stackoverflow.com/questions/32607089/how-should-i-run-nodejs-from-a-java-application\">How should I run NodeJS from a Java application?</a>. Hope it helps. Or you should maybe try Spring as an alternative to NodeJS</p>\n"}],"owner":{"account_id":19700949,"reputation":11,"user_id":14423724,"display_name":"Omay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643900961,"creation_date":1643861773,"question_id":70965853,"body_markdown":"I&#39;m trying to run NodeJS on my school computer, and all it has is java, so I&#39;m trying to find a way to run it. The closest I&#39;ve come is Trireme, but it generates the following errors:\r\n```\r\nmissing ; before statement\r\nmissing ; before statement\r\n    at module.js:439:0\r\n    at module.js:474:0\r\n    at module.js:356:0\r\n    at module.js:312:0\r\n    at module.js:364:0\r\n    at require (module.js:380:0)\r\n    at index.js:6:0\r\n    at module.js:456:0\r\n    at module.js:474:0\r\n    at module.js:356:0\r\n    at module.js:312:0\r\n    at module.js:497:0\r\n    at startup (trireme.js:142:0)\r\n    at trireme.js:923:0\r\n```\r\nI&#39;m running trireme with `java -jar trireme.jar index.js`, and the NodeJS code is \r\n```\r\nconst fs = require(&#39;fs&#39;);\r\nconst express = require(&#39;express&#39;);\r\nconst app = express();\r\nconst http = require(&#39;http&#39;);\r\nconst server = http.createServer(app);\r\nconst { Server } = require(&#39;socket.io&#39;);\r\nconst io = new Server(server);\r\n\r\napp.set(&#39;view engine&#39;, &#39;pug&#39;);\r\napp.set(&#39;views&#39;, __dirname + &#39;/templates&#39;);\r\n\r\nserver.listen(3000, () =&gt; {\r\n  console.log(&#39;listening on *:3000&#39;);\r\n});\r\n\r\nrequire(&#39;./routes.js&#39;)(app, fs);\r\nrequire(&#39;./io.js&#39;)(io, fs);\r\n```\r\nIt almost works, but not quite. I don&#39;t know how to fix these bugs though.","title":"How do I run NodeJS with Java","body":"<p>I'm trying to run NodeJS on my school computer, and all it has is java, so I'm trying to find a way to run it. The closest I've come is Trireme, but it generates the following errors:</p>\n<pre><code>missing ; before statement\nmissing ; before statement\n    at module.js:439:0\n    at module.js:474:0\n    at module.js:356:0\n    at module.js:312:0\n    at module.js:364:0\n    at require (module.js:380:0)\n    at index.js:6:0\n    at module.js:456:0\n    at module.js:474:0\n    at module.js:356:0\n    at module.js:312:0\n    at module.js:497:0\n    at startup (trireme.js:142:0)\n    at trireme.js:923:0\n</code></pre>\n<p>I'm running trireme with <code>java -jar trireme.jar index.js</code>, and the NodeJS code is</p>\n<pre><code>const fs = require('fs');\nconst express = require('express');\nconst app = express();\nconst http = require('http');\nconst server = http.createServer(app);\nconst { Server } = require('socket.io');\nconst io = new Server(server);\n\napp.set('view engine', 'pug');\napp.set('views', __dirname + '/templates');\n\nserver.listen(3000, () =&gt; {\n  console.log('listening on *:3000');\n});\n\nrequire('./routes.js')(app, fs);\nrequire('./io.js')(io, fs);\n</code></pre>\n<p>It almost works, but not quite. I don't know how to fix these bugs though.</p>\n"},{"tags":["java","sql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451551543,"creation_date":1451551056,"answer_id":34543533,"question_id":34543520,"body_markdown":"You need to add `User` class to the `hibernate.cfg.xml`. \r\n\r\n**Update**\r\n\r\nYour HQL query is correct. If you already has `User` class in `hibernate.cfg.xml`,  try to replace HQL with this\r\n\r\n    return (User) session.get(User.class, id);\r\n\r\nAnd you need to add a transaction related code.","title":"org.hibernate.hql.internal.ast.QuerySyntaxException","body":"<p>You need to add <code>User</code> class to the <code>hibernate.cfg.xml</code>. </p>\n\n<p><strong>Update</strong></p>\n\n<p>Your HQL query is correct. If you already has <code>User</code> class in <code>hibernate.cfg.xml</code>,  try to replace HQL with this</p>\n\n<pre><code>return (User) session.get(User.class, id);\n</code></pre>\n\n<p>And you need to add a transaction related code.</p>\n"},{"tags":[],"owner":{"account_id":8250328,"reputation":1,"user_id":10001175,"display_name":"Nelson Mourao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643900863,"creation_date":1643900863,"answer_id":70973664,"question_id":34543520,"body_markdown":"I had that error and work for me using the complete class name, package+className. \r\n\r\nCheck other options here [org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped][1]\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9954590/hibernate-error-querysyntaxexception-users-is-not-mapped-from-users/9954677","title":"org.hibernate.hql.internal.ast.QuerySyntaxException","body":"<p>I had that error and work for me using the complete class name, package+className.</p>\n<p>Check other options here <a href=\"https://stackoverflow.com/questions/9954590/hibernate-error-querysyntaxexception-users-is-not-mapped-from-users/9954677\">org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped</a></p>\n"}],"owner":{"account_id":7426965,"reputation":37,"user_id":5649146,"accept_rate":0,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643900863,"creation_date":1451550972,"question_id":34543520,"body_markdown":"I am having one function which is trying to retrieve some data from database using hibernate. I am getting \r\n\r\norg.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped [FROM User where id = :id]\r\n\r\n        @Override\r\n        public List&lt;User&gt; getUserById(int id) {\r\n        \t\tSystem.out.println(id);\r\n        \t\tQuery query = sessionFactory.getCurrentSession().createQuery(&quot;FROM User where id = :id&quot;);\r\n        \t\tquery.setInteger(&quot;id&quot;, id);\r\n        \t\treturn query.list();\r\n    }\r\n\r\n  \r\n\r\nThe id is passing via URL and receiving it by a controller class which further calling my above function.\r\n\r\nIt seems that query is correct, not able to understand why getting this error.\r\n\r\nPlease provide your suggestion on same.\r\nThanks in Advance. \r\n\r\n\r\n","title":"org.hibernate.hql.internal.ast.QuerySyntaxException","body":"<p>I am having one function which is trying to retrieve some data from database using hibernate. I am getting </p>\n\n<p>org.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped [FROM User where id = :id]</p>\n\n<pre><code>    @Override\n    public List&lt;User&gt; getUserById(int id) {\n            System.out.println(id);\n            Query query = sessionFactory.getCurrentSession().createQuery(\"FROM User where id = :id\");\n            query.setInteger(\"id\", id);\n            return query.list();\n}\n</code></pre>\n\n<p>The id is passing via URL and receiving it by a controller class which further calling my above function.</p>\n\n<p>It seems that query is correct, not able to understand why getting this error.</p>\n\n<p>Please provide your suggestion on same.\nThanks in Advance. </p>\n"},{"tags":["java","amazon-web-services","amazon-s3","mime","amazon-ses"],"comments":[{"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"score":0,"creation_date":1643901169,"post_id":70973514,"comment_id":125466901,"body_markdown":"\\r\\n represent carriage return and line feed. By any chance when you stored the data, you replaced CR-LF with \\r\\n? You may like to replace \\r\\n with CR-LF and see what happens.","body":"\\r\\n represent carriage return and line feed. By any chance when you stored the data, you replaced CR-LF with \\r\\n? You may like to replace \\r\\n with CR-LF and see what happens."},{"owner":{"account_id":13625591,"reputation":13,"user_id":9828969,"display_name":"Pratap Gangwani"},"score":0,"creation_date":1643913527,"post_id":70973514,"comment_id":125472202,"body_markdown":"I&#39;ve not stored the data manually. I&#39;ve configured AWS SES to store the incoming email to S3 by configuring domain name and MX record. So whenever I send any email to my configured domain, AWS SES capture that and store it to s3 as per the rules and action I configured and when I download the file directly from AWS console, I see a properly formatted MIME file without \\r\\n.","body":"I&#39;ve not stored the data manually. I&#39;ve configured AWS SES to store the incoming email to S3 by configuring domain name and MX record. So whenever I send any email to my configured domain, AWS SES capture that and store it to s3 as per the rules and action I configured and when I download the file directly from AWS console, I see a properly formatted MIME file without \\r\\n."},{"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"score":0,"creation_date":1643953535,"post_id":70973514,"comment_id":125481169,"body_markdown":"Maybe you can try printing `contents.replaceAll(&quot;\\\\\\\\r\\\\\\\\n&quot;, &quot;\\r\\n&quot;)` (yes, there are four &#39;\\&#39;). This will help you to know that \\r\\n are really CR-LF or four characters &#39;\\&#39;, &#39;r&#39;, &#39;\\&#39;, &amp; &#39;n&#39;.","body":"Maybe you can try printing <code>contents.replaceAll(&quot;\\\\\\\\r\\\\\\\\n&quot;, &quot;\\r\\n&quot;)</code> (yes, there are four &#39;\\&#39;). This will help you to know that \\r\\n are really CR-LF or four characters &#39;\\&#39;, &#39;r&#39;, &#39;\\&#39;, &amp; &#39;n&#39;."},{"owner":{"account_id":13625591,"reputation":13,"user_id":9828969,"display_name":"Pratap Gangwani"},"score":0,"creation_date":1644319214,"post_id":70973514,"comment_id":125569482,"body_markdown":"I tried dumping the object to text file. On checking the contents of this text file, no CR-LF / escape characters were found.","body":"I tried dumping the object to text file. On checking the contents of this text file, no CR-LF / escape characters were found."}],"owner":{"account_id":13625591,"reputation":13,"user_id":9828969,"display_name":"Pratap Gangwani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643900226,"creation_date":1643900226,"question_id":70973514,"body_markdown":"I&#39;m having a requirement where I need to read a MIME object from AWS S3 and parse it. Below is the code I&#39;m using to read the S3 object. \r\n\r\n    String awsS3Key = &quot;myAWSS3key&quot;;\r\n    String awsS3Secret = &quot;myAWSS3secret&quot;;\r\n    String awsS3Region = &quot;us-west-2&quot;;\r\n    String awsS3Bucket = &quot;my-s3-bucket&quot;;\r\n\r\n    S3Client s3Client = buildS3Client(awsS3Region, awsS3Secret, awsS3Key);\r\n    \r\n    GetObjectRequest request = \r\n    GetObjectRequest.builder().bucket(awsS3Bucket).key(&quot;myobject&quot;).build();\r\n    ResponseBytes&lt;GetObjectResponse&gt; responseBytes = s3Client.getObjectAsBytes(request);\r\n    InputStream mailFileInputStream = responseBytes.asInputStream();\r\n\r\nBelow is the code for building s3 client.\r\n\r\n    private S3Client buildS3Client(String awsS3Region, String awsS3Secret, String awsS3Key) {\r\n    S3ClientBuilder s3ClientBuilder = \r\n    S3Client.builder().credentialsProvider(getAwsCredentialsProvider(awsS3Key, awsS3Secret));\r\n    if (StringUtils.isNotBlank(awsS3Region)) {\r\n      s3ClientBuilder.region(Region.of(awsS3Region));\r\n    }\r\n    return s3ClientBuilder.build();\r\n    }\r\n\r\nI&#39;m able to fetch MIME object from S3 successfully but with some escape characters. I tried printing the content of mailFileInputStream by below code and it is showing the content with escape characters.\r\n\r\n      String contents = IOUtils.toString(mailFileInputStream);\r\n      logger.info(&quot;S3 email content: {}&quot;,contents);\r\n\r\nThe problem with this is when I tried converting this mailInputStream to MimeMessage by below code, I get an empty MimeMessage object, may be because inputStream in MimeMessage constructor contain some escape characters.\r\n\r\n      Properties props = new Properties();\r\n      Session session = Session.getDefaultInstance(props, null);\r\n      message = new MimeMessage(session, mailFileInputStream);\r\n\r\nI tried parsing this MimeMessage by below code to retrieve the content of email but getting null in all the fields.\r\n\r\n        MimeMessageParser mimeParser = new MimeMessageParser(message);\r\n        mimeParser.parse();\r\n  \r\n        String subject = mimeParser.getSubject();\r\n        logger.info(&quot;subject: {}&quot;, subject);\r\n        String from = mimeParser.getFrom();\r\n        logger.info(&quot;from: &quot; + from);\r\n        String plainText = mimeParser.getPlainContent();\r\n        logger.info(&quot;plainText: &quot; + plainText);\r\n        String htmString = mimeParser.getHtmlContent();\r\n        logger.info(&quot;htmString: &quot; + htmString);\r\n\r\nBelow is the MIME format expected \r\n\r\n        Return-Path: &lt;pratap.gangwani@XXXXX.com&gt;\r\n        Received: from mail-XXX-XXX.google.com (mail-XXX-XXX.google.com [XXXXXXXXXXX])\r\n          by inbound-smtp.us-west-2.amazonaws.com with SMTP id XXXXXXXXX\r\n\r\nBelow is what I&#39;m getting\r\n\r\n        Return-Path: &lt;pratap.gangwani@XXXXX.com&gt;\\r\\nReceived: from mail-XXX-XXX.google.com (mail- \r\n        XXX-XXX.google.com [XXXXXXXXX])\\r\\n by inbound-smtp.us-west-2.amazonaws.com with SMTP \r\n        id XXXXXXXXX\\r\\n\r\n \r\nI&#39;m not sure whether it is due some escape characters that are coming while getting the object from S3 or something else. Is there a way we can get the object in the exact same format that is stored in S3?","title":"To read MIME object as input stream from AWS s3 without escape characters","body":"<p>I'm having a requirement where I need to read a MIME object from AWS S3 and parse it. Below is the code I'm using to read the S3 object.</p>\n<pre><code>String awsS3Key = &quot;myAWSS3key&quot;;\nString awsS3Secret = &quot;myAWSS3secret&quot;;\nString awsS3Region = &quot;us-west-2&quot;;\nString awsS3Bucket = &quot;my-s3-bucket&quot;;\n\nS3Client s3Client = buildS3Client(awsS3Region, awsS3Secret, awsS3Key);\n\nGetObjectRequest request = \nGetObjectRequest.builder().bucket(awsS3Bucket).key(&quot;myobject&quot;).build();\nResponseBytes&lt;GetObjectResponse&gt; responseBytes = s3Client.getObjectAsBytes(request);\nInputStream mailFileInputStream = responseBytes.asInputStream();\n</code></pre>\n<p>Below is the code for building s3 client.</p>\n<pre><code>private S3Client buildS3Client(String awsS3Region, String awsS3Secret, String awsS3Key) {\nS3ClientBuilder s3ClientBuilder = \nS3Client.builder().credentialsProvider(getAwsCredentialsProvider(awsS3Key, awsS3Secret));\nif (StringUtils.isNotBlank(awsS3Region)) {\n  s3ClientBuilder.region(Region.of(awsS3Region));\n}\nreturn s3ClientBuilder.build();\n}\n</code></pre>\n<p>I'm able to fetch MIME object from S3 successfully but with some escape characters. I tried printing the content of mailFileInputStream by below code and it is showing the content with escape characters.</p>\n<pre><code>  String contents = IOUtils.toString(mailFileInputStream);\n  logger.info(&quot;S3 email content: {}&quot;,contents);\n</code></pre>\n<p>The problem with this is when I tried converting this mailInputStream to MimeMessage by below code, I get an empty MimeMessage object, may be because inputStream in MimeMessage constructor contain some escape characters.</p>\n<pre><code>  Properties props = new Properties();\n  Session session = Session.getDefaultInstance(props, null);\n  message = new MimeMessage(session, mailFileInputStream);\n</code></pre>\n<p>I tried parsing this MimeMessage by below code to retrieve the content of email but getting null in all the fields.</p>\n<pre><code>    MimeMessageParser mimeParser = new MimeMessageParser(message);\n    mimeParser.parse();\n\n    String subject = mimeParser.getSubject();\n    logger.info(&quot;subject: {}&quot;, subject);\n    String from = mimeParser.getFrom();\n    logger.info(&quot;from: &quot; + from);\n    String plainText = mimeParser.getPlainContent();\n    logger.info(&quot;plainText: &quot; + plainText);\n    String htmString = mimeParser.getHtmlContent();\n    logger.info(&quot;htmString: &quot; + htmString);\n</code></pre>\n<p>Below is the MIME format expected</p>\n<pre><code>    Return-Path: &lt;pratap.gangwani@XXXXX.com&gt;\n    Received: from mail-XXX-XXX.google.com (mail-XXX-XXX.google.com [XXXXXXXXXXX])\n      by inbound-smtp.us-west-2.amazonaws.com with SMTP id XXXXXXXXX\n</code></pre>\n<p>Below is what I'm getting</p>\n<pre><code>    Return-Path: &lt;pratap.gangwani@XXXXX.com&gt;\\r\\nReceived: from mail-XXX-XXX.google.com (mail- \n    XXX-XXX.google.com [XXXXXXXXX])\\r\\n by inbound-smtp.us-west-2.amazonaws.com with SMTP \n    id XXXXXXXXX\\r\\n\n</code></pre>\n<p>I'm not sure whether it is due some escape characters that are coming while getting the object from S3 or something else. Is there a way we can get the object in the exact same format that is stored in S3?</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":19414262,"reputation":2186,"user_id":17939455,"display_name":"Darth-CodeX"},"score":0,"creation_date":1643897415,"post_id":70972723,"comment_id":125465020,"body_markdown":"What you have tried so far, and what were the results of that??","body":"What you have tried so far, and what were the results of that??"},{"owner":{"account_id":24144785,"reputation":1,"user_id":18110564,"display_name":"MYPD SHP"},"score":0,"creation_date":1643899333,"post_id":70972723,"comment_id":125465972,"body_markdown":"I haven&#39;t tried anything yet, because I am confused as to how I can get the screen to reset.","body":"I haven&#39;t tried anything yet, because I am confused as to how I can get the screen to reset."},{"owner":{"account_id":19414262,"reputation":2186,"user_id":17939455,"display_name":"Darth-CodeX"},"score":0,"creation_date":1643899807,"post_id":70972723,"comment_id":125466212,"body_markdown":"Re-write your code so that you can attach it with a loop, which clears the array or results after the winner is decided.","body":"Re-write your code so that you can attach it with a loop, which clears the array or results after the winner is decided."},{"owner":{"account_id":24144785,"reputation":1,"user_id":18110564,"display_name":"MYPD SHP"},"score":0,"creation_date":1643924998,"post_id":70972723,"comment_id":125476055,"body_markdown":"will do, thanks!","body":"will do, thanks!"},{"owner":{"account_id":19414262,"reputation":2186,"user_id":17939455,"display_name":"Darth-CodeX"},"score":0,"creation_date":1643955405,"post_id":70972723,"comment_id":125481516,"body_markdown":"Okay, no problem","body":"Okay, no problem"}],"owner":{"account_id":24144785,"reputation":1,"user_id":18110564,"display_name":"MYPD SHP"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643900074,"creation_date":1643897293,"question_id":70972723,"body_markdown":"I am trying to write this code in processing. A Connect Four game uses an Arduino as a controller for each row.\r\n\r\nAfter a winner is detected, the game stops. But I want to make the game reset the table and restart after any button is pushed, and the problem is I am not sure how to do that.\r\n\r\nThanks in advance! \r\n\r\nHere&#39;s the code: \r\n\r\n```\r\n//Connect Four Game\r\n//Mohammed Sharifpour\r\n//2nd of February, 2022\r\n\r\nimport processing.serial.*;\r\n\r\nSerial ADP;\r\n\r\nint squareSize = 64;\r\nString serialName = &quot;COM6&quot;;   //Can be modified to the indicated COM Port \r\n\r\ncolor pc[] = {color(255, 75,0), color(48, 213, 200)};\r\nString PCN[] = {&quot;Orange&quot;, &quot;Turqoise&quot;};\r\nint playerTurn = 0;\r\n\r\nint grid[][] = new int[7][8];\r\nboolean finished = false;\r\n\r\ncolor backgroundColor = color(0, 0, 0);\r\ncolor lineColor = color(255, 255, 255);\r\n\r\n\r\nvoid Circle(int x, int y, color c){\r\n  fill(c);\r\n  noStroke();\r\n  circle(x * squareSize + 0.5 * squareSize, y * squareSize + 0.5 * squareSize, squareSize);\r\n}\r\n\r\nvoid draw(){\r\n  if (ADP.available() &gt; 0) keypressed(ADP.read()-1);\r\n}\r\n\r\nvoid printText(String message){\r\n  fill(backgroundColor);\r\n  noStroke();\r\n  rect(0, 6 * squareSize + 1, 7 * squareSize + 1, (6 + 1) * squareSize + 1);\r\n  fill(lineColor);\r\n  text(message, 16, 6 * squareSize + squareSize * 0.75);\r\n}\r\n\r\nvoid setup(){\r\n  size(480, 480);\r\n  noCursor();\r\n  background(backgroundColor);\r\n  stroke(lineColor);\r\n  for(int x = 0; x &lt;= 7 * squareSize; x += squareSize){\r\n    line(x, 0, x, 6 * squareSize);\r\n  }\r\n  for(int y = 0; y &lt;= 6 * squareSize; y += squareSize){\r\n    line(0, y, 7 * squareSize, y);\r\n  }\r\n  //RGB Code for Circle &quot;Orange&quot; (255, 75,0);\r\n  //RGB Code for Circle &quot;Turqoise&quot; (48, 213, 200);\r\n\r\n  printArray(Serial.list());\r\n  ADP = new Serial(this, serialName, 9600);\r\n  \r\n  textSize(squareSize / 4);\r\n  printText(&quot;Welcome to Connect Four, press any button to start!&quot;);\r\n}\r\n\r\n\r\n\r\nboolean handleDrop(int column){\r\n  boolean dropped = false;\r\n  for(int y = 6 - 1; y &gt;= 0; y--){\r\n    if(grid[column][y] == 0){\r\n      grid[column][y] = playerTurn;\r\n      Circle(column, y, pc[playerTurn - 1]);\r\n      dropped = true;\r\n      break;\r\n    }\r\n  }\r\n  return dropped;\r\n}\r\n\r\nvoid keypressed(int bs){\r\n  if(bs &lt; 2 || bs &gt; 7 + 1) return;\r\n  if(finished) return;\r\n  boolean dropped = false;\r\n  if(playerTurn &gt; 0){\r\n    dropped = handleDrop(bs - 2);\r\n    if(!dropped) return;\r\n  }\r\n  playerTurn++;\r\n  if(playerTurn &gt; 2) playerTurn = 1;\r\n  int winner = testWinner();\r\n  if(winner &gt; 0){\r\n    finished = true;\r\n    textSize(squareSize / 3);\r\n    printText(PCN[winner - 1] + &quot; won!, GAME OVER&quot;);\r\n    return;\r\n  }\r\n  printText(PCN[playerTurn - 1] + &quot;&#39;s turn&quot;);\r\n}\r\n\r\nint testFour(int startX, int startY, int incX, int incY){\r\n  int box = -1;\r\n  for(int x = startX, y = startY, i = 0; i &lt; 4; x += incX, y += incY, i++){\r\n    if(box &lt; 0){\r\n      box = grid[x][y];\r\n    }else{\r\n      if(grid[x][y] != box) return 0;\r\n    }\r\n  }\r\n  if(box &gt; 0){\r\n    int startXPixel = startX * squareSize + squareSize / 2;\r\n    int startYPixel = startY * squareSize + squareSize / 2;\r\n    stroke(lineColor);\r\n    strokeWeight(4);\r\n    line(startXPixel, startYPixel, startXPixel + 3 * incX * squareSize, startYPixel + 3 * incY * squareSize);\r\n  }\r\n  return box;\r\n}\r\n\r\nint testWinner(){\r\n  int winner = 0;\r\n  for(int x = 0; x &lt; 7  - 3; x++){\r\n    for(int y = 0; y &lt; 6 ; y++){\r\n      winner = testFour(x, y, 1, 0);\r\n      if(winner &gt; 0) return winner;\r\n    }\r\n  }\r\n  for(int y = 0; y &lt;6 - 3; y++){\r\n    for(int x = 0; x &lt; 7; x++){\r\n      winner = testFour(x, y, 0, 1);\r\n      if(winner &gt; 0) return winner;\r\n    }\r\n  }\r\n  for(int x = 0; x &lt; 7 - 3; x++){\r\n    for(int y = 0; y &lt; 6 - 3; y++){\r\n      winner = testFour(x, y, 1, 1);\r\n      if(winner &gt; 0) return winner;\r\n    }\r\n  }\r\n  for(int x = 0; x &lt; 7 - 3; x++){\r\n    for(int y = 6 - 1; y &gt;= 3; y--){\r\n      winner = testFour(x, y, 1, -1);\r\n      if(winner &gt; 0) return winner;\r\n    }\r\n  }\r\n  return winner;\r\n}","title":"How can I add a reset and restart to this when a button is pressed after the game is over?","body":"<p>I am trying to write this code in processing. A Connect Four game uses an Arduino as a controller for each row.</p>\n<p>After a winner is detected, the game stops. But I want to make the game reset the table and restart after any button is pushed, and the problem is I am not sure how to do that.</p>\n<p>Thanks in advance!</p>\n<p>Here's the code:</p>\n<pre><code>//Connect Four Game\n//Mohammed Sharifpour\n//2nd of February, 2022\n\nimport processing.serial.*;\n\nSerial ADP;\n\nint squareSize = 64;\nString serialName = &quot;COM6&quot;;   //Can be modified to the indicated COM Port \n\ncolor pc[] = {color(255, 75,0), color(48, 213, 200)};\nString PCN[] = {&quot;Orange&quot;, &quot;Turqoise&quot;};\nint playerTurn = 0;\n\nint grid[][] = new int[7][8];\nboolean finished = false;\n\ncolor backgroundColor = color(0, 0, 0);\ncolor lineColor = color(255, 255, 255);\n\n\nvoid Circle(int x, int y, color c){\n  fill(c);\n  noStroke();\n  circle(x * squareSize + 0.5 * squareSize, y * squareSize + 0.5 * squareSize, squareSize);\n}\n\nvoid draw(){\n  if (ADP.available() &gt; 0) keypressed(ADP.read()-1);\n}\n\nvoid printText(String message){\n  fill(backgroundColor);\n  noStroke();\n  rect(0, 6 * squareSize + 1, 7 * squareSize + 1, (6 + 1) * squareSize + 1);\n  fill(lineColor);\n  text(message, 16, 6 * squareSize + squareSize * 0.75);\n}\n\nvoid setup(){\n  size(480, 480);\n  noCursor();\n  background(backgroundColor);\n  stroke(lineColor);\n  for(int x = 0; x &lt;= 7 * squareSize; x += squareSize){\n    line(x, 0, x, 6 * squareSize);\n  }\n  for(int y = 0; y &lt;= 6 * squareSize; y += squareSize){\n    line(0, y, 7 * squareSize, y);\n  }\n  //RGB Code for Circle &quot;Orange&quot; (255, 75,0);\n  //RGB Code for Circle &quot;Turqoise&quot; (48, 213, 200);\n\n  printArray(Serial.list());\n  ADP = new Serial(this, serialName, 9600);\n  \n  textSize(squareSize / 4);\n  printText(&quot;Welcome to Connect Four, press any button to start!&quot;);\n}\n\n\n\nboolean handleDrop(int column){\n  boolean dropped = false;\n  for(int y = 6 - 1; y &gt;= 0; y--){\n    if(grid[column][y] == 0){\n      grid[column][y] = playerTurn;\n      Circle(column, y, pc[playerTurn - 1]);\n      dropped = true;\n      break;\n    }\n  }\n  return dropped;\n}\n\nvoid keypressed(int bs){\n  if(bs &lt; 2 || bs &gt; 7 + 1) return;\n  if(finished) return;\n  boolean dropped = false;\n  if(playerTurn &gt; 0){\n    dropped = handleDrop(bs - 2);\n    if(!dropped) return;\n  }\n  playerTurn++;\n  if(playerTurn &gt; 2) playerTurn = 1;\n  int winner = testWinner();\n  if(winner &gt; 0){\n    finished = true;\n    textSize(squareSize / 3);\n    printText(PCN[winner - 1] + &quot; won!, GAME OVER&quot;);\n    return;\n  }\n  printText(PCN[playerTurn - 1] + &quot;'s turn&quot;);\n}\n\nint testFour(int startX, int startY, int incX, int incY){\n  int box = -1;\n  for(int x = startX, y = startY, i = 0; i &lt; 4; x += incX, y += incY, i++){\n    if(box &lt; 0){\n      box = grid[x][y];\n    }else{\n      if(grid[x][y] != box) return 0;\n    }\n  }\n  if(box &gt; 0){\n    int startXPixel = startX * squareSize + squareSize / 2;\n    int startYPixel = startY * squareSize + squareSize / 2;\n    stroke(lineColor);\n    strokeWeight(4);\n    line(startXPixel, startYPixel, startXPixel + 3 * incX * squareSize, startYPixel + 3 * incY * squareSize);\n  }\n  return box;\n}\n\nint testWinner(){\n  int winner = 0;\n  for(int x = 0; x &lt; 7  - 3; x++){\n    for(int y = 0; y &lt; 6 ; y++){\n      winner = testFour(x, y, 1, 0);\n      if(winner &gt; 0) return winner;\n    }\n  }\n  for(int y = 0; y &lt;6 - 3; y++){\n    for(int x = 0; x &lt; 7; x++){\n      winner = testFour(x, y, 0, 1);\n      if(winner &gt; 0) return winner;\n    }\n  }\n  for(int x = 0; x &lt; 7 - 3; x++){\n    for(int y = 0; y &lt; 6 - 3; y++){\n      winner = testFour(x, y, 1, 1);\n      if(winner &gt; 0) return winner;\n    }\n  }\n  for(int x = 0; x &lt; 7 - 3; x++){\n    for(int y = 6 - 1; y &gt;= 3; y--){\n      winner = testFour(x, y, 1, -1);\n      if(winner &gt; 0) return winner;\n    }\n  }\n  return winner;\n}\n</code></pre>\n"},{"tags":["java","colors","awt","rgb","awtrobot"],"comments":[{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1405215755,"post_id":24718815,"comment_id":38339650,"body_markdown":"Why it will be slow for high tolerances on large images?","body":"Why it will be slow for high tolerances on large images?"},{"owner":{"account_id":3425786,"reputation":1307,"user_id":2871578,"accept_rate":64,"display_name":"Nathan"},"score":0,"creation_date":1405215866,"post_id":24718815,"comment_id":38339672,"body_markdown":"@ForguesR In a 800x600 image, thats 480 000 pixels that need to be checked. Checking for 1 color in each of those pixels is ok, the speed is fine, but imagine checking for 100 different colors in each of 480 000 pixels, all of a sudden its 100x slower. Efficiency is a huge priority in this project, so if theres a way to do this faster that would be awesome","body":"@ForguesR In a 800x600 image, thats 480 000 pixels that need to be checked. Checking for 1 color in each of those pixels is ok, the speed is fine, but imagine checking for 100 different colors in each of 480 000 pixels, all of a sudden its 100x slower. Efficiency is a huge priority in this project, so if theres a way to do this faster that would be awesome"},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1405216830,"post_id":24718815,"comment_id":38339828,"body_markdown":"You are comparing your RGB value as a &quot;whole&quot; with a int which is, I guess, the color you are looking for.  Why don&#39;t you compare the RGB values instead?","body":"You are comparing your RGB value as a &quot;whole&quot; with a int which is, I guess, the color you are looking for.  Why don&#39;t you compare the RGB values instead?"},{"owner":{"account_id":3425786,"reputation":1307,"user_id":2871578,"accept_rate":64,"display_name":"Nathan"},"score":0,"creation_date":1405216958,"post_id":24718815,"comment_id":38339850,"body_markdown":"@ForguesR Yeah I guess thats sort of what I&#39;m looking for I guess, like a quick way to look for any color with [R, G, B] of [x+-tolerance, y+-tolerance, z+-tolerance]. Is my best bet just to use for loops to compare `Color`s?","body":"@ForguesR Yeah I guess thats sort of what I&#39;m looking for I guess, like a quick way to look for any color with [R, G, B] of [x+-tolerance, y+-tolerance, z+-tolerance]. Is my best bet just to use for loops to compare <code>Color</code>s?"}],"answers":[{"tags":[],"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643900056,"creation_date":1405219992,"answer_id":24719138,"question_id":24718815,"body_markdown":"You need to compare RGB values and not the &quot;whole&quot; color if you want to have a custom tolerance.  Here is the code, it is not tested, but you get the idea :\r\n\r\n    public static Point findColor(Box searchArea, int r, int g, int b, int tolerance) {\r\n        // Pre-calc RGB &quot;tolerance&quot; values out of the loop (min is 0 and max is 255)\r\n        int minR = Math.max(r - tolerance, 0);\r\n        int minG = Math.max(g - tolerance, 0);\r\n        int minB = Math.max(b - tolerance, 0);\r\n        int maxR = Math.min(r + tolerance, 255);\r\n        int maxG = Math.min(g + tolerance, 255);\r\n        int maxB = Math.min(b + tolerance, 255);\r\n    \r\n        BufferedImage image = generateScreenCap(searchArea);\r\n        for (int i = 0; i &lt; image.getWidth(); i++) {\r\n            for (int j = 0; j &lt; image.getHeight(); j++) {\r\n                // get single RGB pixel\r\n                int color = image.getRGB(i, j);\r\n    \r\n                // get individual RGB values of that pixel\r\n                // (could use Java&#39;s Color class but this is probably a little faster)\r\n                int red = (color &gt;&gt; 16) &amp; 0x000000FF;\r\n                int green = (color &gt;&gt; 8) &amp; 0x000000FF;\r\n                int blue = (color) &amp; 0x000000FF;  \r\n    \r\n                if ( (red &gt;= minR &amp;&amp; red &lt;= maxR) &amp;&amp;\r\n                     (green &gt;= minG &amp;&amp; green &lt;= maxG) &amp;&amp;\r\n                     (blue &gt;= minB &amp;&amp; blue &lt;= maxB) ) \r\n                    return new Point(i + searchArea.x1, j + searchArea.y1);\r\n            }\r\n        }\r\n        return new Point(-1, -1);\r\n    }\r\n","title":"Find color with tolerance in bufferedimage","body":"<p>You need to compare RGB values and not the &quot;whole&quot; color if you want to have a custom tolerance.  Here is the code, it is not tested, but you get the idea :</p>\n<pre><code>public static Point findColor(Box searchArea, int r, int g, int b, int tolerance) {\n    // Pre-calc RGB &quot;tolerance&quot; values out of the loop (min is 0 and max is 255)\n    int minR = Math.max(r - tolerance, 0);\n    int minG = Math.max(g - tolerance, 0);\n    int minB = Math.max(b - tolerance, 0);\n    int maxR = Math.min(r + tolerance, 255);\n    int maxG = Math.min(g + tolerance, 255);\n    int maxB = Math.min(b + tolerance, 255);\n\n    BufferedImage image = generateScreenCap(searchArea);\n    for (int i = 0; i &lt; image.getWidth(); i++) {\n        for (int j = 0; j &lt; image.getHeight(); j++) {\n            // get single RGB pixel\n            int color = image.getRGB(i, j);\n\n            // get individual RGB values of that pixel\n            // (could use Java's Color class but this is probably a little faster)\n            int red = (color &gt;&gt; 16) &amp; 0x000000FF;\n            int green = (color &gt;&gt; 8) &amp; 0x000000FF;\n            int blue = (color) &amp; 0x000000FF;  \n\n            if ( (red &gt;= minR &amp;&amp; red &lt;= maxR) &amp;&amp;\n                 (green &gt;= minG &amp;&amp; green &lt;= maxG) &amp;&amp;\n                 (blue &gt;= minB &amp;&amp; blue &lt;= maxB) ) \n                return new Point(i + searchArea.x1, j + searchArea.y1);\n        }\n    }\n    return new Point(-1, -1);\n}\n</code></pre>\n"}],"owner":{"account_id":3425786,"reputation":1307,"user_id":2871578,"accept_rate":64,"display_name":"Nathan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1983,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24719138,"answer_count":1,"score":2,"last_activity_date":1643900056,"creation_date":1405215243,"question_id":24718815,"body_markdown":"I&#39;m writing a method that will attempt to find a color in a bufferedImage. At the moment, the method works by taking a screencap, and then scanning the image for a specific color. Now I&#39;d like to add some RGB tolerence, so if the user is trying to find color (1, 3, 5) with tolerance 1, any color +-1 R, B or G will return true.\r\n\r\nI could solve this by first generating a arrayList of RGB values that work, and then for each pixel I could go through the array and check with each value. The problem is that would probably get VERY slow for high tolerances on large images.\r\n\r\nIs there a more efficient or possibly a built in way I can do this? Here is my method as it stands right now. Thank you!\r\n\r\n    public static Point findColor(Box searchArea, int color){\r\n        System.out.println(&quot;Test&quot;);\r\n        BufferedImage image = generateScreenCap(searchArea);\r\n        for (int i = 0; i &lt; image.getWidth(); i++) {\r\n            for (int j = 0; j &lt; image.getHeight(); j++) {\r\n                if((image.getRGB(i, j)*-1)==color){\r\n                    return new Point(i + searchArea.x1, j + searchArea.y1);\r\n                }\r\n            }\r\n        }\r\n        return new Point(-1, -1);\r\n    }\r\n\r\nEdit: I&#39;m using the int RGB values for all comparisons, so instead of Color[1, 1, 1], I use Color.getRGB() which returns a negative int which I convert to positive for end user simplicity.\r\n","title":"Find color with tolerance in bufferedimage","body":"<p>I'm writing a method that will attempt to find a color in a bufferedImage. At the moment, the method works by taking a screencap, and then scanning the image for a specific color. Now I'd like to add some RGB tolerence, so if the user is trying to find color (1, 3, 5) with tolerance 1, any color +-1 R, B or G will return true.</p>\n\n<p>I could solve this by first generating a arrayList of RGB values that work, and then for each pixel I could go through the array and check with each value. The problem is that would probably get VERY slow for high tolerances on large images.</p>\n\n<p>Is there a more efficient or possibly a built in way I can do this? Here is my method as it stands right now. Thank you!</p>\n\n<pre><code>public static Point findColor(Box searchArea, int color){\n    System.out.println(\"Test\");\n    BufferedImage image = generateScreenCap(searchArea);\n    for (int i = 0; i &lt; image.getWidth(); i++) {\n        for (int j = 0; j &lt; image.getHeight(); j++) {\n            if((image.getRGB(i, j)*-1)==color){\n                return new Point(i + searchArea.x1, j + searchArea.y1);\n            }\n        }\n    }\n    return new Point(-1, -1);\n}\n</code></pre>\n\n<p>Edit: I'm using the int RGB values for all comparisons, so instead of Color[1, 1, 1], I use Color.getRGB() which returns a negative int which I convert to positive for end user simplicity.</p>\n"},{"tags":["java","spring","spring-mvc","spring-rest","spring-web"],"comments":[{"owner":{"account_id":3107900,"reputation":3965,"user_id":2630326,"accept_rate":80,"display_name":"Wojciech Wirzbicki"},"score":0,"creation_date":1544528734,"post_id":53723451,"comment_id":94300397,"body_markdown":"sth similar https://stackoverflow.com/questions/48653533/streamingresponsebody-reuses-outputstream-if-not-closed-is-this-expected","body":"sth similar <a href=\"https://stackoverflow.com/questions/48653533/streamingresponsebody-reuses-outputstream-if-not-closed-is-this-expected\" title=\"streamingresponsebody reuses outputstream if not closed is this expected\">stackoverflow.com/questions/48653533/&hellip;</a>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1544528829,"post_id":53723451,"comment_id":94300447,"body_markdown":"I know, but that question is without any answer, thus useless. The question is still: should the stream be closed, or not?","body":"I know, but that question is without any answer, thus useless. The question is still: should the stream be closed, or not?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1544533284,"post_id":53723451,"comment_id":94302767,"body_markdown":"No... If you don&#39;t open/manage/own the stream you don&#39;t close it. The stream is managed externally and hence you, apart from writing to it, don&#39;t close it. You don&#39;t know what the other party (which manages the stream) wants to do with it (maybe write some more data).","body":"No... If you don&#39;t open/manage/own the stream you don&#39;t close it. The stream is managed externally and hence you, apart from writing to it, don&#39;t close it. You don&#39;t know what the other party (which manages the stream) wants to do with it (maybe write some more data)."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1544536936,"post_id":53723451,"comment_id":94304830,"body_markdown":"@M.Deinum So did I get it right: if I&#39;d resolve the file manually eg on my local system, it would be fine closing the outputstream inside the StreamingBodyResponse. But if I resolve it externally eg through another webservice, I should not touch it? In case, would you mind adding that as a real answer, so I can accept it?","body":"@M.Deinum So did I get it right: if I&#39;d resolve the file manually eg on my local system, it would be fine closing the outputstream inside the StreamingBodyResponse. But if I resolve it externally eg through another webservice, I should not touch it? In case, would you mind adding that as a real answer, so I can accept it?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1544538501,"post_id":53723451,"comment_id":94305818,"body_markdown":"No. You aren&#39;t opening the outputstream here, so no you don&#39;t close it. You would close the `InputStream` you used for reading the file.","body":"No. You aren&#39;t opening the outputstream here, so no you don&#39;t close it. You would close the <code>InputStream</code> you used for reading the file."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1544538946,"post_id":53723451,"comment_id":94306050,"body_markdown":"Oh that&#39;s right, ok!","body":"Oh that&#39;s right, ok!"}],"answers":[{"tags":[],"owner":{"account_id":3144837,"reputation":1675,"user_id":2659499,"accept_rate":79,"display_name":"Vahid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643899701,"creation_date":1643899701,"answer_id":70973369,"question_id":53723451,"body_markdown":"It will be closed by the container. Check [StreamingResponseBodyReturnValueHandler](https://github.com/spring-projects/spring-framework/blob/c263cbfbe486d7712b9e46b80ed151c1eda98c74/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandler.java#L93).\r\n\r\n`OutputStream` wraps a native `HttpServletResponse`.\r\n\r\n```java\r\nHttpServletResponse response = webRequest.getNativeResponse(HttpServletResponse.class);\r\nAssert.state(response != null, &quot;No HttpServletResponse&quot;);\r\nServerHttpResponse outputMessage = new ServletServerHttpResponse(response);\r\n```\r\n\r\nIf you follow it down you will get to `CoyoteAdapter` which is calling `finishResponse()` and closing OutputBuffer.\r\n","title":"Should OutputStream be closed explicit in StreamingResponseBody?","body":"<p>It will be closed by the container. Check <a href=\"https://github.com/spring-projects/spring-framework/blob/c263cbfbe486d7712b9e46b80ed151c1eda98c74/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandler.java#L93\" rel=\"nofollow noreferrer\">StreamingResponseBodyReturnValueHandler</a>.</p>\n<p><code>OutputStream</code> wraps a native <code>HttpServletResponse</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpServletResponse response = webRequest.getNativeResponse(HttpServletResponse.class);\nAssert.state(response != null, &quot;No HttpServletResponse&quot;);\nServerHttpResponse outputMessage = new ServletServerHttpResponse(response);\n</code></pre>\n<p>If you follow it down you will get to <code>CoyoteAdapter</code> which is calling <code>finishResponse()</code> and closing OutputBuffer.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2607,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70973369,"answer_count":1,"score":4,"last_activity_date":1643899701,"creation_date":1544528551,"question_id":53723451,"body_markdown":"I&#39;m streaming a big external resource using `StreamingResponseBody` in a spring `@RestController`.\r\n\r\nQuestion: should the `OutputStream` of the response body be closed explicit here?\r\n\r\n    @GetMapping(&quot;/{filename}&quot;)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; getFile(@PathVariable String filename) {\r\n                StreamingResponseBody responseBody = outputStream -&gt; {\r\n    \t\t\t\tresolveExternally(outputStream, response, filename);\r\n\r\n                    //TODO should the stream be closed explicit here?\r\n                    //outputStream.close();\r\n    \t\t\t};\r\n    \r\n    \t\t\treturn ResponseEntity.ok(responseBody);\r\n    }","title":"Should OutputStream be closed explicit in StreamingResponseBody?","body":"<p>I'm streaming a big external resource using <code>StreamingResponseBody</code> in a spring <code>@RestController</code>.</p>\n\n<p>Question: should the <code>OutputStream</code> of the response body be closed explicit here?</p>\n\n<pre><code>@GetMapping(\"/{filename}\")\npublic ResponseEntity&lt;StreamingResponseBody&gt; getFile(@PathVariable String filename) {\n            StreamingResponseBody responseBody = outputStream -&gt; {\n                resolveExternally(outputStream, response, filename);\n\n                //TODO should the stream be closed explicit here?\n                //outputStream.close();\n            };\n\n            return ResponseEntity.ok(responseBody);\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1643860470,"post_id":70965723,"comment_id":125453576,"body_markdown":"Use an Interface, which offers a contract to make that check in your objects.","body":"Use an Interface, which offers a contract to make that check in your objects."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1643860672,"post_id":70965723,"comment_id":125453611,"body_markdown":"Presumably your object has some field or method that gives you the number...","body":"Presumably your object has some field or method that gives you the number..."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1643861055,"post_id":70965723,"comment_id":125453661,"body_markdown":"You can create a span and use span.contains(...) https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/util/Span.java","body":"You can create a span and use span.contains(...) <a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/util/Span.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/util/Span.java</a>"}],"answers":[{"tags":[],"owner":{"account_id":17703964,"reputation":97,"user_id":13730201,"display_name":"&#193;ngel Talero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643860649,"creation_date":1643860649,"answer_id":70965750,"question_id":70965723,"body_markdown":"Implement your own comparison method inside Dice class &#39;.greaterOrEqual(x)&#39; or access the data on Dice class directly and compare that value instead","title":"how do I check if each value of an array is between a range if the array is a non primitive type","body":"<p>Implement your own comparison method inside Dice class '.greaterOrEqual(x)' or access the data on Dice class directly and compare that value instead</p>\n"},{"tags":[],"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643865849,"creation_date":1643865849,"answer_id":70966284,"question_id":70965723,"body_markdown":"I regret to inform you that Java doesn&#39;t support operator overloading like other languages such as C++. It was a decision made by the designers with the hope that would make the language simpler to use.\r\n\r\nHowever, there are other options available that you could implement.\r\n\r\nThe one option that could work very well for you, could be implementing the the Comparable interface.\r\n\r\n```java\r\nimport java.lang.Comparable;\r\n\r\npublic class Dice implements Comparable&lt;Dice&gt; {\r\n\r\n    /* Code */\r\n\r\n    @Override\r\n    public int compareTo(Dice otherDice) {\r\n        return this.value - otherDice.value;\r\n    }\r\n}\r\n```\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n\r\nThe good thing is that you can apply many things with it such as using the Comparator interface:\r\n\r\n```java\r\nComparator&lt;Dice&gt; compareByValue = Comparator.comparing(Dice::getValue);\r\n```\r\n\r\nI hope this helps you out.","title":"how do I check if each value of an array is between a range if the array is a non primitive type","body":"<p>I regret to inform you that Java doesn't support operator overloading like other languages such as C++. It was a decision made by the designers with the hope that would make the language simpler to use.</p>\n<p>However, there are other options available that you could implement.</p>\n<p>The one option that could work very well for you, could be implementing the the Comparable interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.Comparable;\n\npublic class Dice implements Comparable&lt;Dice&gt; {\n\n    /* Code */\n\n    @Override\n    public int compareTo(Dice otherDice) {\n        return this.value - otherDice.value;\n    }\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html</a></p>\n<p>The good thing is that you can apply many things with it such as using the Comparator interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;Dice&gt; compareByValue = Comparator.comparing(Dice::getValue);\n</code></pre>\n<p>I hope this helps you out.</p>\n"}],"owner":{"display_name":"user17607040"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643899589,"creation_date":1643860309,"question_id":70965723,"body_markdown":"Basically, I want to check each value of dice.\r\n\r\nIf the value is ranges between 1 and 6, inclusive, then I want to such value into the array count. \r\n\r\nThe problem is that dice is an object, not a primitive, which I declared earlier thus the `&gt;=` operator does not work.\r\n\r\n```java\r\n    public int[] getValueCount() {\r\n\t\tint[] count;\r\n\t\tfor (int i = 0; i &lt; dice.length; ++i) {\r\n\t\tif ((dice[i] &gt;= 0) &amp;&amp; (dice[i] &lt;= 6)) {\r\n\t\t\t\tcount[i] = dice[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n    }\r\n```\r\n","title":"how do I check if each value of an array is between a range if the array is a non primitive type","body":"<p>Basically, I want to check each value of dice.</p>\n<p>If the value is ranges between 1 and 6, inclusive, then I want to such value into the array count.</p>\n<p>The problem is that dice is an object, not a primitive, which I declared earlier thus the <code>&gt;=</code> operator does not work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int[] getValueCount() {\n        int[] count;\n        for (int i = 0; i &lt; dice.length; ++i) {\n        if ((dice[i] &gt;= 0) &amp;&amp; (dice[i] &lt;= 6)) {\n                count[i] = dice[i];\n            }\n        }\n        return count;\n    }\n</code></pre>\n"},{"tags":["java","selenium","appium","winappdriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1617793146,"post_id":66980424,"comment_id":118403958,"body_markdown":"Is WinAppDriver.exe running?","body":"Is WinAppDriver.exe running?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1617793688,"post_id":66980424,"comment_id":118404190,"body_markdown":"What is your real `&quot;&lt;path_of_exe_file&gt;&quot;` in `capabilities.setCapability(&quot;app&quot;, &quot;&lt;path_of_exe_file&gt;&quot;);`? If not secret.","body":"What is your real <code>&quot;&lt;path_of_exe_file&gt;&quot;</code> in <code>capabilities.setCapability(&quot;app&quot;, &quot;&lt;path_of_exe_file&gt;&quot;);</code>? If not secret."},{"owner":{"account_id":8428565,"reputation":29,"user_id":6325048,"display_name":"Lawrence"},"score":0,"creation_date":1617856135,"post_id":66980424,"comment_id":118425924,"body_markdown":"Yes, WinAppDriver.exe is running.","body":"Yes, WinAppDriver.exe is running."},{"owner":{"account_id":8428565,"reputation":29,"user_id":6325048,"display_name":"Lawrence"},"score":0,"creation_date":1617856317,"post_id":66980424,"comment_id":118425969,"body_markdown":"capabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Program Files (x86)\\\\abc def\\\\ghi.jk\\\\somefolder\\\\someapplication.exe&quot;);","body":"capabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Program Files (x86)\\\\abc def\\\\ghi.jk\\\\somefolder\\\\someapplication.exe&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617826593,"creation_date":1617826593,"answer_id":66993554,"question_id":66980424,"body_markdown":"You may need to install the WinAppDriver. And the app id should be the path of the desktop application you want to automate.","title":"WinAppDriver: org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session","body":"<p>You may need to install the WinAppDriver. And the app id should be the path of the desktop application you want to automate.</p>\n"},{"tags":[],"owner":{"account_id":5254469,"reputation":31,"user_id":4197724,"display_name":"Murali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643899481,"creation_date":1643899481,"answer_id":70973296,"question_id":66980424,"body_markdown":"I had the same issue multiple times. The best solution is close all the the applications and restart the machine. Then run the winappdriver.exe and execute the test scripts.","title":"WinAppDriver: org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session","body":"<p>I had the same issue multiple times. The best solution is close all the the applications and restart the machine. Then run the winappdriver.exe and execute the test scripts.</p>\n"}],"owner":{"account_id":8428565,"reputation":29,"user_id":6325048,"display_name":"Lawrence"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643899481,"creation_date":1617775779,"question_id":66980424,"body_markdown":"I am trying to automate tests in a desktop application developed in Delphi, using WinAppDriver.\r\n\r\n - Programming language: Java 1.8.0_281\r\n - IDE: Eclipse, Luna Service Release 2 (4.4.2)\r\n - selenium-server-standalone-3.141.59.jar\r\n - Appium: java-client-7.4.1.jar\r\n - commons-lang3-3.12.0\r\n\r\n    public class Demo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tWindowsDriver driver = null;\r\n    \t\t\r\n    \t\tDesiredCapabilities capabilities = new DesiredCapabilities();\r\n    \t\tcapabilities.setCapability(&quot;app&quot;, &quot;&lt;path_of_exe_file&gt;&quot;);\r\n    \t\tcapabilities.setCapability(&quot;platformName&quot;,&quot;Windows&quot;);\r\n    \t\tcapabilities.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\r\n    \t\ttry {\r\n    \t\t\tdriver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), capabilities);\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t}\r\n    }\r\n\r\nThe application starts with an info-splash screen and then main application is launched. However following error is displayed in the console:\r\n\r\n**Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: Failed to locate opened application window with appId: &lt;path_of_exe_file&gt;, and processId: 1936 (WARNING: The server did not provide any stacktrace information)**\r\n\r\nPlease let me know, how to solve this.","title":"WinAppDriver: org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session","body":"<p>I am trying to automate tests in a desktop application developed in Delphi, using WinAppDriver.</p>\n<ul>\n<li><p>Programming language: Java 1.8.0_281</p>\n</li>\n<li><p>IDE: Eclipse, Luna Service Release 2 (4.4.2)</p>\n</li>\n<li><p>selenium-server-standalone-3.141.59.jar</p>\n</li>\n<li><p>Appium: java-client-7.4.1.jar</p>\n</li>\n<li><p>commons-lang3-3.12.0</p>\n<p>public class Demo {</p>\n<pre><code> public static void main(String[] args) {\n\n     WindowsDriver driver = null;\n\n     DesiredCapabilities capabilities = new DesiredCapabilities();\n     capabilities.setCapability(&quot;app&quot;, &quot;&lt;path_of_exe_file&gt;&quot;);\n     capabilities.setCapability(&quot;platformName&quot;,&quot;Windows&quot;);\n     capabilities.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\n     try {\n         driver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), capabilities);\n     } catch (MalformedURLException e) {\n         e.printStackTrace();\n     } \n }\n</code></pre>\n<p>}</p>\n</li>\n</ul>\n<p>The application starts with an info-splash screen and then main application is launched. However following error is displayed in the console:</p>\n<p><strong>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: Failed to locate opened application window with appId: &lt;path_of_exe_file&gt;, and processId: 1936 (WARNING: The server did not provide any stacktrace information)</strong></p>\n<p>Please let me know, how to solve this.</p>\n"},{"tags":["java","bytecode","byte-buddy"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1643004273,"post_id":70829580,"comment_id":125215431,"body_markdown":"&quot;Do some transformations&quot; and &quot;analyze&quot; aren&#39;t very specific. Stack Overflow isn&#39;t really suited for giving tutorials, you should ask a specific question that has a definite answer. See [ask] and [mcve].","body":"&quot;Do some transformations&quot; and &quot;analyze&quot; aren&#39;t very specific. Stack Overflow isn&#39;t really suited for giving tutorials, you should ask a specific question that has a definite answer. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1643004944,"post_id":70829580,"comment_id":125215556,"body_markdown":"I still don&#39;t understand what is it that you have an issue with?","body":"I still don&#39;t understand what is it that you have an issue with?"},{"owner":{"account_id":15915947,"reputation":41,"user_id":12382544,"display_name":"Makarov Alexey"},"score":0,"creation_date":1643005395,"post_id":70829580,"comment_id":125215630,"body_markdown":"I&#39;ll clarify my question now","body":"I&#39;ll clarify my question now"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1643013449,"post_id":70829580,"comment_id":125217780,"body_markdown":"I’m not sure whether ByteBuddy still makes the task easier, compared to directly using ASM for this specific task. Besides that, why are you writing constructs like `String.format(&quot;fieldName: %s&quot;, fieldName)` instead of a simple `&quot;fieldName: &quot; + fieldName`?","body":"I’m not sure whether ByteBuddy still makes the task easier, compared to directly using ASM for this specific task. Besides that, why are you writing constructs like <code>String.format(&quot;fieldName: %s&quot;, fieldName)</code> instead of a simple <code>&quot;fieldName: &quot; + fieldName</code>?"},{"owner":{"account_id":15915947,"reputation":41,"user_id":12382544,"display_name":"Makarov Alexey"},"score":0,"creation_date":1643017448,"post_id":70829580,"comment_id":125219137,"body_markdown":"This is for uniformity.","body":"This is for uniformity."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643098754,"creation_date":1643098754,"answer_id":70845401,"question_id":70829580,"body_markdown":"If you need to act based on specific byte code instructions, Byte Buddy exposes ASM for this exact purpose. The `MemberSubstitution` is rather meant for situations where you want to &quot;replace calls to method A with calls to method B&quot; or &quot;instead of reading field C, call method D&quot;. \r\n\r\nByte Buddy is stateless, ASM is stateful. In your case, you want to make a change based on a previous state and ASM is the choice for this. You can still use Byte Buddy for the Maven plugin and method matching, but use a `MethodVisitor` which you can register via a `AsmVisitorWrapper.ForDeclaredMethods`.","title":"How to collect information about bytecode instructions before &#39;getfield&#39; and &#39;putfield&#39;?","body":"<p>If you need to act based on specific byte code instructions, Byte Buddy exposes ASM for this exact purpose. The <code>MemberSubstitution</code> is rather meant for situations where you want to &quot;replace calls to method A with calls to method B&quot; or &quot;instead of reading field C, call method D&quot;.</p>\n<p>Byte Buddy is stateless, ASM is stateful. In your case, you want to make a change based on a previous state and ASM is the choice for this. You can still use Byte Buddy for the Maven plugin and method matching, but use a <code>MethodVisitor</code> which you can register via a <code>AsmVisitorWrapper.ForDeclaredMethods</code>.</p>\n"}],"owner":{"account_id":15915947,"reputation":41,"user_id":12382544,"display_name":"Makarov Alexey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643899180,"creation_date":1643004005,"question_id":70829580,"body_markdown":"I work with the byte-buddy-maven plugin. I need to walk through constructors and method code and collect information about bytecode instruction before &#39;getfield&#39; and &#39;putfield&#39; instructions. How I can do this?\r\nI know about MemberSubstitution, but I need to call static methods of utility class with the field name.\r\nHere is my code:\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage com.mycompany.mylib;\r\n\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Method;\r\nimport net.bytebuddy.asm.MemberSubstitution;\r\nimport net.bytebuddy.build.BuildLogger;\r\nimport net.bytebuddy.build.Plugin;\r\nimport net.bytebuddy.description.ByteCodeElement;\r\nimport net.bytebuddy.description.TypeVariableSource;\r\nimport net.bytebuddy.description.method.MethodDescription;\r\nimport net.bytebuddy.description.type.TypeDescription;\r\nimport net.bytebuddy.description.type.TypeDescription.Generic.Visitor;\r\nimport net.bytebuddy.description.type.TypeList;\r\nimport net.bytebuddy.dynamic.ClassFileLocator;\r\nimport net.bytebuddy.dynamic.DynamicType;\r\nimport net.bytebuddy.implementation.bytecode.StackManipulation;\r\nimport net.bytebuddy.implementation.bytecode.constant.JavaConstantValue;\r\nimport net.bytebuddy.implementation.bytecode.member.MethodInvocation;\r\nimport net.bytebuddy.matcher.ElementMatchers;\r\nimport net.bytebuddy.pool.TypePool;\r\nimport net.bytebuddy.utility.JavaConstant;\r\n\r\n/**\r\n *\r\n * @author makarov\r\n */\r\npublic class ByteBuddyPlugin implements Plugin {\r\n\r\n    private final BuildLogger logger;\r\n\r\n    public ByteBuddyPlugin(BuildLogger logger) {\r\n        this.logger = logger;\r\n    }\r\n\r\n    @Override\r\n    public boolean matches(TypeDescription target) {\r\n        return target.getDeclaredAnnotations()\r\n                .isAnnotationPresent(Entity.class);\r\n    }\r\n\r\n    @Override\r\n    public DynamicType.Builder&lt;?&gt; apply(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassFileLocator classFileLocator) {\r\n        try {\r\n            Method setValueMethod = ObjectDB.class.getMethod(&quot;setValue&quot;, Object.class, String.class, Object.class); // args, first - value from aload_0, second - field name, third - value (in byte byte some instruction)\r\n            Method getValueMethod = ObjectDB.class.getMethod(&quot;getValue&quot;, Object.class, String.class); // args: 1 - value from aload_0, 2 - field name\r\n            \r\n            logger.info(String.format(&quot;applying for %s&quot;, typeDescription.getSimpleName()));\r\n            return builder.visit(\r\n                    MemberSubstitution.strict()\r\n                            .field(ElementMatchers.declaresAnnotation(ElementMatchers.annotationType(Field.class)))\r\n                            .onWrite()\r\n                            .replaceWith(new MemberSubstitution.Substitution.Factory() {\r\n                                \r\n                                @Override\r\n                                public MemberSubstitution.Substitution make(TypeDescription instrumentedType, MethodDescription instrumentedMethod, TypePool typePool) {\r\n                                    logger.info(String.format(&quot;substitution writer in method %s&quot;, instrumentedMethod));\r\n                                    \r\n                                    return new MemberSubstitution.Substitution() {\r\n                                        \r\n                                        @Override\r\n                                        public StackManipulation resolve(TypeDescription targetType, ByteCodeElement target, TypeList.Generic parameters, TypeDescription.Generic result, int freeOffset) {\r\n                                            logger.info(String.format(&quot;resolve targetType %s, target %s, parameters %s, result %s, freeOffset %s&quot;, targetType, target, parameters, result, freeOffset));\r\n                                            \r\n                                            String fieldName = target.getDeclaredAnnotations()\r\n                                                    .ofType(Field.class)\r\n                                                    .load()\r\n                                                    .value();\r\n                                            \r\n                                            logger.info(String.format(&quot;fieldName: %s&quot;, fieldName));\r\n                                            \r\n                                            // Here is my question... I need to get existing instruction that pushes assigning value to stack for &#39;putfield&#39; (third argument of &#39;setValueMethod&#39;)\r\n\r\n                                            return new StackManipulation.Compound(\r\n                                                    new JavaConstantValue(JavaConstant.Simple.ofLoaded(fieldName)),\r\n                                                    ... //  existing instruction,\r\n                                                    MethodInvocation.invoke(new MethodDescription.ForLoadedMethod(setValueMethod))\r\n                                            );\r\n                                        }\r\n                                    };\r\n                                }\r\n                            }).on(ElementMatchers.any())\r\n            );\r\n        } catch (NoSuchMethodException ex) {\r\n            throw new RuntimeException(ex);\r\n        } catch (SecurityException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void close() throws IOException {\r\n        logger.info(String.format(&quot;closing&quot;));\r\n        /* do nothing */\r\n    }\r\n}\r\n```","title":"How to collect information about bytecode instructions before &#39;getfield&#39; and &#39;putfield&#39;?","body":"<p>I work with the byte-buddy-maven plugin. I need to walk through constructors and method code and collect information about bytecode instruction before 'getfield' and 'putfield' instructions. How I can do this?\nI know about MemberSubstitution, but I need to call static methods of utility class with the field name.\nHere is my code:</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage com.mycompany.mylib;\n\nimport java.io.IOException;\nimport java.lang.reflect.Method;\nimport net.bytebuddy.asm.MemberSubstitution;\nimport net.bytebuddy.build.BuildLogger;\nimport net.bytebuddy.build.Plugin;\nimport net.bytebuddy.description.ByteCodeElement;\nimport net.bytebuddy.description.TypeVariableSource;\nimport net.bytebuddy.description.method.MethodDescription;\nimport net.bytebuddy.description.type.TypeDescription;\nimport net.bytebuddy.description.type.TypeDescription.Generic.Visitor;\nimport net.bytebuddy.description.type.TypeList;\nimport net.bytebuddy.dynamic.ClassFileLocator;\nimport net.bytebuddy.dynamic.DynamicType;\nimport net.bytebuddy.implementation.bytecode.StackManipulation;\nimport net.bytebuddy.implementation.bytecode.constant.JavaConstantValue;\nimport net.bytebuddy.implementation.bytecode.member.MethodInvocation;\nimport net.bytebuddy.matcher.ElementMatchers;\nimport net.bytebuddy.pool.TypePool;\nimport net.bytebuddy.utility.JavaConstant;\n\n/**\n *\n * @author makarov\n */\npublic class ByteBuddyPlugin implements Plugin {\n\n    private final BuildLogger logger;\n\n    public ByteBuddyPlugin(BuildLogger logger) {\n        this.logger = logger;\n    }\n\n    @Override\n    public boolean matches(TypeDescription target) {\n        return target.getDeclaredAnnotations()\n                .isAnnotationPresent(Entity.class);\n    }\n\n    @Override\n    public DynamicType.Builder&lt;?&gt; apply(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassFileLocator classFileLocator) {\n        try {\n            Method setValueMethod = ObjectDB.class.getMethod(&quot;setValue&quot;, Object.class, String.class, Object.class); // args, first - value from aload_0, second - field name, third - value (in byte byte some instruction)\n            Method getValueMethod = ObjectDB.class.getMethod(&quot;getValue&quot;, Object.class, String.class); // args: 1 - value from aload_0, 2 - field name\n            \n            logger.info(String.format(&quot;applying for %s&quot;, typeDescription.getSimpleName()));\n            return builder.visit(\n                    MemberSubstitution.strict()\n                            .field(ElementMatchers.declaresAnnotation(ElementMatchers.annotationType(Field.class)))\n                            .onWrite()\n                            .replaceWith(new MemberSubstitution.Substitution.Factory() {\n                                \n                                @Override\n                                public MemberSubstitution.Substitution make(TypeDescription instrumentedType, MethodDescription instrumentedMethod, TypePool typePool) {\n                                    logger.info(String.format(&quot;substitution writer in method %s&quot;, instrumentedMethod));\n                                    \n                                    return new MemberSubstitution.Substitution() {\n                                        \n                                        @Override\n                                        public StackManipulation resolve(TypeDescription targetType, ByteCodeElement target, TypeList.Generic parameters, TypeDescription.Generic result, int freeOffset) {\n                                            logger.info(String.format(&quot;resolve targetType %s, target %s, parameters %s, result %s, freeOffset %s&quot;, targetType, target, parameters, result, freeOffset));\n                                            \n                                            String fieldName = target.getDeclaredAnnotations()\n                                                    .ofType(Field.class)\n                                                    .load()\n                                                    .value();\n                                            \n                                            logger.info(String.format(&quot;fieldName: %s&quot;, fieldName));\n                                            \n                                            // Here is my question... I need to get existing instruction that pushes assigning value to stack for 'putfield' (third argument of 'setValueMethod')\n\n                                            return new StackManipulation.Compound(\n                                                    new JavaConstantValue(JavaConstant.Simple.ofLoaded(fieldName)),\n                                                    ... //  existing instruction,\n                                                    MethodInvocation.invoke(new MethodDescription.ForLoadedMethod(setValueMethod))\n                                            );\n                                        }\n                                    };\n                                }\n                            }).on(ElementMatchers.any())\n            );\n        } catch (NoSuchMethodException ex) {\n            throw new RuntimeException(ex);\n        } catch (SecurityException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    @Override\n    public void close() throws IOException {\n        logger.info(String.format(&quot;closing&quot;));\n        /* do nothing */\n    }\n}\n</code></pre>\n"},{"tags":["java","android","react-native","kotlin"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1643903210,"post_id":70971753,"comment_id":125467783,"body_markdown":"Post the full stacktrace, not just the first line - some function is being called with a parameter that&#39;s not allowed to be null, but we need the rest of the trace to actually tell what it is","body":"Post the full stacktrace, not just the first line - some function is being called with a parameter that&#39;s not allowed to be null, but we need the rest of the trace to actually tell what it is"}],"owner":{"account_id":22680902,"reputation":168,"user_id":16851274,"display_name":"Jake Giles-Phillips"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643898622,"creation_date":1643893199,"question_id":70971753,"body_markdown":"When requesting location from the user, if approximate location is selected rather than exact location, the app crashes unexpectedly.\r\n\r\nLogcat gives the error simply &quot;permission is null&quot;.\r\n\r\nIn my manifest I am stating\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n``` \r\n\r\nand in my request I am simultaneously requesting both fine and course, as specified in [googles guide here][1]\r\n```\r\nconst getPermission = await PermissionsAndroid.requestMultiple([\r\n  PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION,\r\n  PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION,\r\n]);\r\n```\r\n\r\nAt this point, the app will crash, and only through logcat can I see the error\r\n```\r\n02-03 12:21:46.736 15320 15395 E AndroidRuntime: java.lang.IllegalArgumentException: permission is null\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/training/location/permissions#approximate-request","title":"Android 12 app crashes when users grants approximate location permission","body":"<p>When requesting location from the user, if approximate location is selected rather than exact location, the app crashes unexpectedly.</p>\n<p>Logcat gives the error simply &quot;permission is null&quot;.</p>\n<p>In my manifest I am stating</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n</code></pre>\n<p>and in my request I am simultaneously requesting both fine and course, as specified in <a href=\"https://developer.android.com/training/location/permissions#approximate-request\" rel=\"nofollow noreferrer\">googles guide here</a></p>\n<pre><code>const getPermission = await PermissionsAndroid.requestMultiple([\n  PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION,\n  PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION,\n]);\n</code></pre>\n<p>At this point, the app will crash, and only through logcat can I see the error</p>\n<pre><code>02-03 12:21:46.736 15320 15395 E AndroidRuntime: java.lang.IllegalArgumentException: permission is null\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","assertion","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":5703004,"reputation":524,"user_id":4507438,"display_name":"John Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643898545,"creation_date":1643898545,"answer_id":70973043,"question_id":70953422,"body_markdown":"You cannot test for the Java exception in the traditional sense. You need to test for the response status, and body if you need to. MockMVC is mocking the HTTP request / response. ","title":"How to unit test exception message thrown inside try and caught by catch using mockMvc","body":"<p>You cannot test for the Java exception in the traditional sense. You need to test for the response status, and body if you need to. MockMVC is mocking the HTTP request / response.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643898545,"creation_date":1643795158,"question_id":70953422,"body_markdown":"I have a controller somewhere like this:\r\n\r\n    @GetMapping(value = &quot;redirect&quot;)\r\n    public ModelAndView oauthRedirect() {\r\n        try {\r\n\r\n            if (true) {\r\n                serviceOAuthMetrics.addRedirectCookieException();\r\n                throw new AuthenticationChainException(&quot;User or client is null in state token&quot;);\r\n            }\r\n\r\n            return new ModelAndView(REDIRECT + redirectUrl + &quot;closewindow.html?connected=true&quot;);\r\n        } catch (Exception e) {\r\n            return new ModelAndView(REDIRECT + redirectUrl + &quot;closewindow.html?connected=false&quot;);\r\n        }\r\n    }\r\n\r\nI&#39;m trying to test it like this:\r\n\r\n```\r\n @Test\r\n void oauthRedirectThrowsExceptionUserIdIsNullTest() throws Exception {\r\n\r\n        RequestBuilder request = MockMvcRequestBuilders\r\n                .get(&quot;/oauth/redirect&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                .accept(MediaType.APPLICATION_JSON);\r\n\r\n        mockMvc.perform(request)\r\n                .andExpect(redirectedUrl(&quot;http://localhost:8080/closewindow.html?connected=false&quot;))\r\n                //.andExpect(content().string(&quot;AuthenticationChainException: User or client is null in state token&quot;))\r\n                .andReturn();\r\n    }\r\n```\r\n\r\nThe tests pass as it asserts the return piece from the catch block. However, I&#39;m not seeing a way to assert which exception was thrown and what is the message inside it? (the line commented out fails the test when uncommented).\r\n\r\nThank you.","title":"How to unit test exception message thrown inside try and caught by catch using mockMvc","body":"<p>I have a controller somewhere like this:</p>\n<pre><code>@GetMapping(value = &quot;redirect&quot;)\npublic ModelAndView oauthRedirect() {\n    try {\n\n        if (true) {\n            serviceOAuthMetrics.addRedirectCookieException();\n            throw new AuthenticationChainException(&quot;User or client is null in state token&quot;);\n        }\n\n        return new ModelAndView(REDIRECT + redirectUrl + &quot;closewindow.html?connected=true&quot;);\n    } catch (Exception e) {\n        return new ModelAndView(REDIRECT + redirectUrl + &quot;closewindow.html?connected=false&quot;);\n    }\n}\n</code></pre>\n<p>I'm trying to test it like this:</p>\n<pre><code> @Test\n void oauthRedirectThrowsExceptionUserIdIsNullTest() throws Exception {\n\n        RequestBuilder request = MockMvcRequestBuilders\n                .get(&quot;/oauth/redirect&quot;)\n                .contentType(MediaType.APPLICATION_JSON_VALUE)\n                .accept(MediaType.APPLICATION_JSON);\n\n        mockMvc.perform(request)\n                .andExpect(redirectedUrl(&quot;http://localhost:8080/closewindow.html?connected=false&quot;))\n                //.andExpect(content().string(&quot;AuthenticationChainException: User or client is null in state token&quot;))\n                .andReturn();\n    }\n</code></pre>\n<p>The tests pass as it asserts the return piece from the catch block. However, I'm not seeing a way to assert which exception was thrown and what is the message inside it? (the line commented out fails the test when uncommented).</p>\n<p>Thank you.</p>\n"},{"tags":["java","docker","redis","jedis","redis-cluster"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1628266715,"post_id":68684057,"comment_id":121383280,"body_markdown":"Where is the application actually running -- in a container or not, on the same host or not?  (All of these contexts will believe they are themselves `localhost` so &quot;in local&quot; isn&#39;t a great description.)  What is the error you&#39;re getting?","body":"Where is the application actually running -- in a container or not, on the same host or not?  (All of these contexts will believe they are themselves <code>localhost</code> so &quot;in local&quot; isn&#39;t a great description.)  What is the error you&#39;re getting?"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1628269767,"post_id":68684057,"comment_id":121384282,"body_markdown":"@DavidMaze application isn&#39;t running in container.","body":"@DavidMaze application isn&#39;t running in container."},{"owner":{"account_id":9846006,"reputation":356,"user_id":7293497,"display_name":"Enrique Tejeda"},"score":0,"creation_date":1628275811,"post_id":68684057,"comment_id":121386087,"body_markdown":"What is the output if you execute this command `docker inspect docker-it-network` (maybe the scope or the driver is wrong and block your local traffic to the redis containers).","body":"What is the output if you execute this command <code>docker inspect docker-it-network</code> (maybe the scope or the driver is wrong and block your local traffic to the redis containers)."},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1628277087,"post_id":68684057,"comment_id":121386464,"body_markdown":"@EnriqueTejedaRodriguez updated the output of network inspect","body":"@EnriqueTejedaRodriguez updated the output of network inspect"},{"owner":{"account_id":9846006,"reputation":356,"user_id":7293497,"display_name":"Enrique Tejeda"},"score":0,"creation_date":1628280573,"post_id":68684057,"comment_id":121387434,"body_markdown":"Please see this thread may be can be helpful for your case (the problem is locate in the redis config and not in the docker networking)\n\nhttps://stackoverflow.com/questions/61162024/how-to-connect-to-a-docker-redis-cluster-instance-using-jedis-for-java","body":"Please see this thread may be can be helpful for your case (the problem is locate in the redis config and not in the docker networking)  <a href=\"https://stackoverflow.com/questions/61162024/how-to-connect-to-a-docker-redis-cluster-instance-using-jedis-for-java\" title=\"how to connect to a docker redis cluster instance using jedis for java\">stackoverflow.com/questions/61162024/&hellip;</a>"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1628400199,"post_id":68684057,"comment_id":121407050,"body_markdown":"@EnriqueTejeda what should be the value of cluster-announce-ip?","body":"@EnriqueTejeda what should be the value of cluster-announce-ip?"},{"owner":{"account_id":1849884,"reputation":650,"user_id":1676632,"accept_rate":48,"display_name":"sattu"},"score":0,"creation_date":1646879514,"post_id":68684057,"comment_id":126234950,"body_markdown":"@Programmer Were you able to resolve this? How?","body":"@Programmer Were you able to resolve this? How?"}],"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1904,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643898337,"creation_date":1628263421,"question_id":68684057,"body_markdown":"I created redis docker cluster using the script:\r\n\r\n\r\n**Cluster_creation.sh**\r\n\r\n    #------------ bootstrap the cluster nodes --------------------\r\n    \r\n    start_cmd=&#39;redis-server --port 6379 --cluster-enabled yes --cluster-config-file nodes.conf --cluster-node-timeout 5000 --appendonly yes&#39;\r\n    redis_image=&#39;redis:5.0-rc&#39;\r\n    network_name=&#39;docker-it-network&#39;\r\n    \r\n    docker network create $network_name\r\n    echo $network_name &quot; created&quot;\r\n    \r\n    #---------- create the cluster ------------------------\r\n    \r\n    for port in `seq 6379 6384`; do \\\r\n     docker run -d --name &quot;redis-&quot;$port -p $port:6379 --net $network_name $redis_image $start_cmd;\r\n     echo &quot;created redis cluster node redis-&quot;$port\r\n    done\r\n    \r\n    cluster_hosts=&#39;&#39;\r\n    \r\n    for port in `seq 6379 6384`; do \\\r\n     hostip=`docker inspect -f &#39;{{(index .NetworkSettings.Networks &quot;docker-it-network&quot;).IPAddress}}&#39; &quot;redis-&quot;$port`;\r\n     echo &quot;IP for cluster node redis-&quot;$port &quot;is&quot; $hostip\r\n     cluster_hosts=&quot;$cluster_hosts$hostip:6379 &quot;;\r\n    done\r\n    \r\n    echo &quot;cluster hosts &quot;$cluster_hosts\r\n    echo &quot;creating cluster....&quot;\r\n    echo &#39;yes&#39; | docker run -i --rm --net $network_name $redis_image redis-cli --cluster create $cluster_hosts --cluster-replicas 1;\r\n\r\n\r\nthis script created the cluster and all the nodes are connected.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BBWdJ.png\r\n\r\n\r\nHowever i am not able to connect to this redis cluster through my spring boot application.\r\n I tried using localhost:6379 ,  127.0.0.1:6379, host.docker.internal:6379 but none of this worked.\r\n\r\nHow do I expose the redis cluster docker container to be consumed by the application in local?\r\n\r\n\r\nNote: application isn&#39;t running in docker. If application is running in docker, I can access redis with redis endpoint as **redis-6379:6379**.  However can&#39;t access directly from the local host machine using localhost:6379\r\n\r\n\r\nERROR:\r\n\r\n    gframework.data.redis.TooManyClusterRedirectionsException: No more cluster attempts left.; nested exception is redis.clients.jedis.exceptions.JedisClusterMaxAttemptsException: No more cluster attempts left.\r\n\r\n\r\ndocker inspect docker-it-network:\r\n\r\n \r\n\r\n    {\r\n            &quot;Name&quot;: &quot;docker-it-network&quot;,\r\n            &quot;Id&quot;: &quot;46fc0aacb845bb6fddf36ba85f57f346414594730299cc28ff85a70e3bff1227&quot;,\r\n            &quot;Created&quot;: &quot;2021-08-06T14:37:59.189023848Z&quot;,\r\n            &quot;Scope&quot;: &quot;local&quot;,\r\n            &quot;Driver&quot;: &quot;bridge&quot;,\r\n            &quot;EnableIPv6&quot;: false,\r\n            &quot;IPAM&quot;: {\r\n                &quot;Driver&quot;: &quot;default&quot;,\r\n                &quot;Options&quot;: {},\r\n                &quot;Config&quot;: [\r\n                    {\r\n                        &quot;Subnet&quot;: &quot;172.18.0.0/16&quot;,\r\n                        &quot;Gateway&quot;: &quot;172.18.0.1&quot;\r\n                    }\r\n                ]\r\n            },\r\n            &quot;Internal&quot;: false,\r\n            &quot;Attachable&quot;: false,\r\n            &quot;Ingress&quot;: false,\r\n            &quot;ConfigFrom&quot;: {\r\n                &quot;Network&quot;: &quot;&quot;\r\n            },\r\n            &quot;ConfigOnly&quot;: false,\r\n            &quot;Containers&quot;: {\r\n               \r\n                &quot;1105aea5de2ccaa4bdbd01b849c7ff0447299f407112e586ec3943596d2df2ef&quot;: {\r\n                    &quot;Name&quot;: &quot;redis-6382&quot;,\r\n                    &quot;EndpointID&quot;: &quot;a3f81288c528d37033ec3f091d00a879022558e58614fe9e73626dcaa136d68e&quot;,\r\n                    &quot;MacAddress&quot;: &quot;02:42:ac:12:00:05&quot;,\r\n                    &quot;IPv4Address&quot;: &quot;172.18.0.5/16&quot;,\r\n                    &quot;IPv6Address&quot;: &quot;&quot;\r\n                },\r\n                &quot;233e19cbad6658a65593fcfc8d50688b9b88e7edc1d5f0b8d959ba640c9a3e74&quot;: {\r\n                    &quot;Name&quot;: &quot;redis-6383&quot;,\r\n                    &quot;EndpointID&quot;: &quot;e0703f96fd6efaef6a7ebf1af6e22151ae85418f62a501fb042ed58d5a364250&quot;,\r\n                    &quot;MacAddress&quot;: &quot;02:42:ac:12:00:06&quot;,\r\n                    &quot;IPv4Address&quot;: &quot;172.18.0.6/16&quot;,\r\n                    &quot;IPv6Address&quot;: &quot;&quot;\r\n                },\r\n                &quot;3372eaf8ceb5b8024202f5bf0421b5ccc697ca6ccbcded5238b1ac05ef1d81bb&quot;: {\r\n                    &quot;Name&quot;: &quot;redis-6381&quot;,\r\n                    &quot;EndpointID&quot;: &quot;34e11bb16cd3c41aed6d75b35443d043ab7fedd5719b63c3be1d311fb6bfc9d0&quot;,\r\n                    &quot;MacAddress&quot;: &quot;02:42:ac:12:00:04&quot;,\r\n                    &quot;IPv4Address&quot;: &quot;172.18.0.4/16&quot;,\r\n                    &quot;IPv6Address&quot;: &quot;&quot;\r\n                },\r\n                &quot;45c0ac3378e4c85dfe766e030779c94c39028253744c734ba483154a0fe0d722&quot;: {\r\n                    &quot;Name&quot;: &quot;redis-6384&quot;,\r\n                    &quot;EndpointID&quot;: &quot;10e43a763b66727ce4f4fc4a90a6a057768772d2c97596454bf2ec4134cc18f7&quot;,\r\n                    &quot;MacAddress&quot;: &quot;02:42:ac:12:00:07&quot;,\r\n                    &quot;IPv4Address&quot;: &quot;172.18.0.7/16&quot;,\r\n                    &quot;IPv6Address&quot;: &quot;&quot;\r\n                },\r\n              \r\n                &quot;8e757a3c2dbb95f9b330fa7ea0bad6c0cf4485fbeeaae92be2e596bccc02b309&quot;: {\r\n                    &quot;Name&quot;: &quot;redis-6379&quot;,\r\n                    &quot;EndpointID&quot;: &quot;a4a236ca36f4704667c4634564c7b42e5b8d8c308e381efadb408fe11dfb221c&quot;,\r\n                    &quot;MacAddress&quot;: &quot;02:42:ac:12:00:02&quot;,\r\n                    &quot;IPv4Address&quot;: &quot;172.18.0.2/16&quot;,\r\n                    &quot;IPv6Address&quot;: &quot;&quot;\r\n                },\r\n               \r\n                &quot;fdeace5cff0a5d8ccb5875863f97033426ce97e07224b5ec24b918a017b1701e&quot;: {\r\n                    &quot;Name&quot;: &quot;redis-6380&quot;,\r\n                    &quot;EndpointID&quot;: &quot;87c837fdcca1f2c8f7c23f369f61b2aa17014a63d21c10823563a6874526d76d&quot;,\r\n                    &quot;MacAddress&quot;: &quot;02:42:ac:12:00:03&quot;,\r\n                    &quot;IPv4Address&quot;: &quot;172.18.0.3/16&quot;,\r\n                    &quot;IPv6Address&quot;: &quot;&quot;\r\n                }\r\n            },\r\n            &quot;Options&quot;: {},\r\n            &quot;Labels&quot;: {}\r\n        }\r\n    ]","title":"How to connect to docker redis cluster from local host","body":"<p>I created redis docker cluster using the script:</p>\n<p><strong>Cluster_creation.sh</strong></p>\n<pre><code>#------------ bootstrap the cluster nodes --------------------\n\nstart_cmd='redis-server --port 6379 --cluster-enabled yes --cluster-config-file nodes.conf --cluster-node-timeout 5000 --appendonly yes'\nredis_image='redis:5.0-rc'\nnetwork_name='docker-it-network'\n\ndocker network create $network_name\necho $network_name &quot; created&quot;\n\n#---------- create the cluster ------------------------\n\nfor port in `seq 6379 6384`; do \\\n docker run -d --name &quot;redis-&quot;$port -p $port:6379 --net $network_name $redis_image $start_cmd;\n echo &quot;created redis cluster node redis-&quot;$port\ndone\n\ncluster_hosts=''\n\nfor port in `seq 6379 6384`; do \\\n hostip=`docker inspect -f '{{(index .NetworkSettings.Networks &quot;docker-it-network&quot;).IPAddress}}' &quot;redis-&quot;$port`;\n echo &quot;IP for cluster node redis-&quot;$port &quot;is&quot; $hostip\n cluster_hosts=&quot;$cluster_hosts$hostip:6379 &quot;;\ndone\n\necho &quot;cluster hosts &quot;$cluster_hosts\necho &quot;creating cluster....&quot;\necho 'yes' | docker run -i --rm --net $network_name $redis_image redis-cli --cluster create $cluster_hosts --cluster-replicas 1;\n</code></pre>\n<p>this script created the cluster and all the nodes are connected.</p>\n<p><a href=\"https://i.stack.imgur.com/BBWdJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BBWdJ.png\" alt=\"enter image description here\" /></a></p>\n<p>However i am not able to connect to this redis cluster through my spring boot application.\nI tried using localhost:6379 ,  127.0.0.1:6379, host.docker.internal:6379 but none of this worked.</p>\n<p>How do I expose the redis cluster docker container to be consumed by the application in local?</p>\n<p>Note: application isn't running in docker. If application is running in docker, I can access redis with redis endpoint as <strong>redis-6379:6379</strong>.  However can't access directly from the local host machine using localhost:6379</p>\n<p>ERROR:</p>\n<pre><code>gframework.data.redis.TooManyClusterRedirectionsException: No more cluster attempts left.; nested exception is redis.clients.jedis.exceptions.JedisClusterMaxAttemptsException: No more cluster attempts left.\n</code></pre>\n<p>docker inspect docker-it-network:</p>\n<pre><code>{\n        &quot;Name&quot;: &quot;docker-it-network&quot;,\n        &quot;Id&quot;: &quot;46fc0aacb845bb6fddf36ba85f57f346414594730299cc28ff85a70e3bff1227&quot;,\n        &quot;Created&quot;: &quot;2021-08-06T14:37:59.189023848Z&quot;,\n        &quot;Scope&quot;: &quot;local&quot;,\n        &quot;Driver&quot;: &quot;bridge&quot;,\n        &quot;EnableIPv6&quot;: false,\n        &quot;IPAM&quot;: {\n            &quot;Driver&quot;: &quot;default&quot;,\n            &quot;Options&quot;: {},\n            &quot;Config&quot;: [\n                {\n                    &quot;Subnet&quot;: &quot;172.18.0.0/16&quot;,\n                    &quot;Gateway&quot;: &quot;172.18.0.1&quot;\n                }\n            ]\n        },\n        &quot;Internal&quot;: false,\n        &quot;Attachable&quot;: false,\n        &quot;Ingress&quot;: false,\n        &quot;ConfigFrom&quot;: {\n            &quot;Network&quot;: &quot;&quot;\n        },\n        &quot;ConfigOnly&quot;: false,\n        &quot;Containers&quot;: {\n           \n            &quot;1105aea5de2ccaa4bdbd01b849c7ff0447299f407112e586ec3943596d2df2ef&quot;: {\n                &quot;Name&quot;: &quot;redis-6382&quot;,\n                &quot;EndpointID&quot;: &quot;a3f81288c528d37033ec3f091d00a879022558e58614fe9e73626dcaa136d68e&quot;,\n                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:05&quot;,\n                &quot;IPv4Address&quot;: &quot;172.18.0.5/16&quot;,\n                &quot;IPv6Address&quot;: &quot;&quot;\n            },\n            &quot;233e19cbad6658a65593fcfc8d50688b9b88e7edc1d5f0b8d959ba640c9a3e74&quot;: {\n                &quot;Name&quot;: &quot;redis-6383&quot;,\n                &quot;EndpointID&quot;: &quot;e0703f96fd6efaef6a7ebf1af6e22151ae85418f62a501fb042ed58d5a364250&quot;,\n                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:06&quot;,\n                &quot;IPv4Address&quot;: &quot;172.18.0.6/16&quot;,\n                &quot;IPv6Address&quot;: &quot;&quot;\n            },\n            &quot;3372eaf8ceb5b8024202f5bf0421b5ccc697ca6ccbcded5238b1ac05ef1d81bb&quot;: {\n                &quot;Name&quot;: &quot;redis-6381&quot;,\n                &quot;EndpointID&quot;: &quot;34e11bb16cd3c41aed6d75b35443d043ab7fedd5719b63c3be1d311fb6bfc9d0&quot;,\n                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:04&quot;,\n                &quot;IPv4Address&quot;: &quot;172.18.0.4/16&quot;,\n                &quot;IPv6Address&quot;: &quot;&quot;\n            },\n            &quot;45c0ac3378e4c85dfe766e030779c94c39028253744c734ba483154a0fe0d722&quot;: {\n                &quot;Name&quot;: &quot;redis-6384&quot;,\n                &quot;EndpointID&quot;: &quot;10e43a763b66727ce4f4fc4a90a6a057768772d2c97596454bf2ec4134cc18f7&quot;,\n                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:07&quot;,\n                &quot;IPv4Address&quot;: &quot;172.18.0.7/16&quot;,\n                &quot;IPv6Address&quot;: &quot;&quot;\n            },\n          \n            &quot;8e757a3c2dbb95f9b330fa7ea0bad6c0cf4485fbeeaae92be2e596bccc02b309&quot;: {\n                &quot;Name&quot;: &quot;redis-6379&quot;,\n                &quot;EndpointID&quot;: &quot;a4a236ca36f4704667c4634564c7b42e5b8d8c308e381efadb408fe11dfb221c&quot;,\n                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:02&quot;,\n                &quot;IPv4Address&quot;: &quot;172.18.0.2/16&quot;,\n                &quot;IPv6Address&quot;: &quot;&quot;\n            },\n           \n            &quot;fdeace5cff0a5d8ccb5875863f97033426ce97e07224b5ec24b918a017b1701e&quot;: {\n                &quot;Name&quot;: &quot;redis-6380&quot;,\n                &quot;EndpointID&quot;: &quot;87c837fdcca1f2c8f7c23f369f61b2aa17014a63d21c10823563a6874526d76d&quot;,\n                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:03&quot;,\n                &quot;IPv4Address&quot;: &quot;172.18.0.3/16&quot;,\n                &quot;IPv6Address&quot;: &quot;&quot;\n            }\n        },\n        &quot;Options&quot;: {},\n        &quot;Labels&quot;: {}\n    }\n]\n</code></pre>\n"},{"tags":["java","c#","android","visual-studio"],"answers":[{"tags":[],"owner":{"account_id":3805333,"reputation":11,"user_id":3157923,"display_name":"monkeychew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641831800,"creation_date":1641831800,"answer_id":70655653,"question_id":67112866,"body_markdown":"There are a few things wrong with the C# code, I recommend looking at the source code for the original native library. \r\n\r\nFor example you should specify an entry point where the method name does not match the native method signature.\r\n\r\n```\r\n[System.Runtime.InteropServices.DllImport(&quot;serial_port&quot;, EntryPoint = &quot;Java_android_1serialport_1api_SerialPort_open&quot;)]\r\n```\r\nhttps://github.com/cepr/android-serialport-api/blob/master/android-serialport-api/project/jni/SerialPort.c","title":"Andriod app crashes while calling Java.IO.FileDescriptor Open(String path, int baudrate, int flags);","body":"<p>There are a few things wrong with the C# code, I recommend looking at the source code for the original native library.</p>\n<p>For example you should specify an entry point where the method name does not match the native method signature.</p>\n<pre><code>[System.Runtime.InteropServices.DllImport(&quot;serial_port&quot;, EntryPoint = &quot;Java_android_1serialport_1api_SerialPort_open&quot;)]\n</code></pre>\n<p><a href=\"https://github.com/cepr/android-serialport-api/blob/master/android-serialport-api/project/jni/SerialPort.c\" rel=\"nofollow noreferrer\">https://github.com/cepr/android-serialport-api/blob/master/android-serialport-api/project/jni/SerialPort.c</a></p>\n"}],"owner":{"account_id":21269678,"reputation":1,"user_id":15649392,"display_name":"user15649392"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643898181,"creation_date":1618506176,"question_id":67112866,"body_markdown":"I am new to xamarin.\r\nDeveloping app for ProDVX android 8.1.0 to switch LED lights\r\ni am following a sample written in java.\r\n\r\n    package android_serialport_api;\r\n    \r\n    import android.util.Log;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileDescriptor;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class SerialPort {\r\n    \r\n    \tprivate static final String TAG = &quot;SerialPort&quot;;\r\n    \r\n    \t/*\r\n    \t * Do not remove or rename the field mFd: it is used by native method close();\r\n    \t */\r\n    \tprivate FileDescriptor mFd;\r\n    \tprivate FileInputStream mFileInputStream;\r\n    \tprivate FileOutputStream mFileOutputStream;\r\n    \r\n    \tpublic SerialPort(File device, int baudrate, int flags) throws SecurityException, IOException {\r\n    \r\n    \t\t/* Check access permission */\r\n    \t\tif (!device.canRead() || !device.canWrite()) {\r\n    \t\t\ttry {\r\n    \t\t\t\t/* Missing read/write permission, trying to chmod the file */\r\n    \t\t\t\tProcess su;\r\n    \t\t\t\tsu = Runtime.getRuntime().exec(&quot;/system/bin/su&quot;);\r\n    \t\t\t\tString cmd = &quot;chmod 666 &quot; + device.getAbsolutePath() + &quot;\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;exit\\n&quot;;\r\n    \t\t\t\tsu.getOutputStream().write(cmd.getBytes());\r\n    \t\t\t\tif ((su.waitFor() != 0) || !device.canRead()\r\n    \t\t\t\t\t\t|| !device.canWrite()) {\r\n    \t\t\t\t\tthrow new SecurityException();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tthrow new SecurityException();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tmFd = open(device.getAbsolutePath(), baudrate, flags);\r\n    \t\tif (mFd == null) {\r\n    \t\t\tLog.e(TAG, &quot;native open returns null&quot;);\r\n    \t\t\tthrow new IOException();\r\n    \t\t}\r\n    \t\tmFileInputStream = new FileInputStream(mFd);\r\n    \t\tmFileOutputStream = new FileOutputStream(mFd);\r\n    \t}\r\n    \r\n    \t// Getters and setters\r\n    \tpublic FileInputStream getFileInputStream() {\r\n    \t\treturn mFileInputStream;\r\n    \t}\r\n    \r\n    \tpublic FileOutputStream getFileOutputStream() {\r\n    \t\treturn mFileOutputStream;\r\n    \t}\r\n    \r\n    \t// JNI\r\n    \tprivate native static FileDescriptor open(String path, int baudrate, int flags);\r\n    \tpublic native void close();\r\n    \tstatic {\r\n    \t\tSystem.loadLibrary(&quot;serial_port&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nNow call these functions to switch LED\r\n\r\n    public void AllGreenOn() {                   //All Green the lights\r\n            try {\r\n                sp = new SerialPort(new File(&quot;/dev/ttyS1&quot;), 115200, 0);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (lock == null) {\r\n                        System.out.println(&quot;lock = null&quot;);\r\n                    } else {\r\n                        try {\r\n                            synchronized (lock) {\r\n                                out = sp.getFileOutputStream();\r\n                                AllGOnLamps();\r\n                                out.close();\r\n                                sp.close();\r\n                            }\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }).run();\r\n        }\r\n    private void AllGOnLamps() throws IOException {                   //All the Green lights\r\n    int num1 = 0x55;\r\n    int num2 = 0xaa;        \r\n    int numL = 0xfb;\r\n            int numR = 0;\r\n            int numB = 0;\r\n            int numG = 0x70;\r\n    int num7 = 0x88;\r\n            out.write(intToByteArray(num1));\r\n            out.write(intToByteArray(num2));\r\n            for (int i = 0; i &lt; 52; i++) {\r\n                out.write(intToByteArray(numL));\r\n                out.write(intToByteArray(numB));\r\n                out.write(intToByteArray(numR));\r\n                out.write(intToByteArray(numG));\r\n            }\r\n            out.write(intToByteArray(num7));\r\n        }\r\n\r\nI am trying this into c# and my code is\r\n\r\n    public class SerialPort\r\n        {\r\n            private Java.IO.FileDescriptor mFd;\r\n            private Java.IO.FileInputStream mFileInputStream;\r\n            private Java.IO.FileOutputStream mFileOutputStream;\r\n         \r\n            //[System.Runtime.InteropServices.DllImport(&quot;serial_port.so&quot;)]\r\n            //private static extern Java.IO.FileDescriptor Open(String path, int baudrate, int flags);\r\n            \r\n            \r\n            public SerialPort(Java.IO.File device, int baudrate, int flags)\r\n            {\r\n                MainActivity.addDebug(&quot; su beging: .....&quot;);\r\n                \r\n                if (!device.CanRead() || !device.CanWrite())\r\n                {\r\n                    \r\n                    MainActivity.addDebug(&quot;process su started: .....&quot;);\r\n                    Java.Lang.Process su;\r\n                    su = Java.Lang.Runtime.GetRuntime().Exec(&quot;su&quot;);\r\n    \r\n                    MainActivity.addDebug(&quot;process su made: .....&quot;);\r\n                    string cmd = &quot;chmod 666 &quot; + device.AbsolutePath + &quot;\\n&quot; + &quot;exit\\n&quot;;\r\n                    su.OutputStream.Write(Encoding.ASCII.GetBytes(cmd));\r\n    \r\n                    MainActivity.addDebug(&quot;chmod 666 written ..... &quot;);\r\n                }\r\n    \r\n                mFd = Open(device.AbsolutePath, baudrate, flags);\r\n                \r\n                if (mFd == null)\r\n                {\r\n                    MainActivity.addDebug(&quot;mfd made&quot;);\r\n                    throw new Exception();\r\n                }\r\n                mFileInputStream = new Java.IO.FileInputStream(mFd);\r\n                mFileOutputStream = new Java.IO.FileOutputStream(mFd);\r\n    \r\n            }\r\n            public Java.IO.FileInputStream getFileInputStream()\r\n            {\r\n                return mFileInputStream;\r\n            }\r\n            public Java.IO.FileOutputStream getFileOutputStream()\r\n            {\r\n                return mFileOutputStream;\r\n            }\r\n            \r\n        }\r\n\r\n    public void AllGreenOn()\r\n            {\r\n                try\r\n                {\r\n                    sp = new SerialPort(new Java.IO.File(&quot;/dev/ttyS1&quot;), 115200, 0);\r\n                    _out = sp.getFileOutputStream();\r\n                    AllGOnLamps();\r\n                    _out.Close();\r\n                    \r\n                }\r\n                catch (IOException e)\r\n                {\r\n                    \r\n                }\r\n            }\r\n\r\n    private SerialPort sp;\r\n    private Java.IO.FileOutputStream _out = null;\r\n    public void AllGOnLamps()\r\n    {\r\n    \r\n    \tint num1 = 0x55;\r\n    \tint num2 = 0xaa;        \r\n    \tint numL = 0xfb;\r\n    \tint numR = 0;\r\n    \tint numB = 0;\r\n    \tint numG = 0x70;\r\n    \tint num7 = 0x88;\r\n    \r\n    \t_out.Write(intToByteArray(num1));\r\n    \t_out.Write(intToByteArray(num2));\r\n    \tMainActivity.addDebug(&quot;num1 written ..... &quot;);\r\n    \r\n    \tfor (int i = 0; i &lt; 52; i++)\r\n    \t{\r\n    \t\t_out.Write(intToByteArray(numL));\r\n    \t\t_out.Write(intToByteArray(numB));\r\n    \t\t_out.Write(intToByteArray(numR));\r\n    \t\t_out.Write(intToByteArray(numG));\r\n    \r\n    \t}\r\n    \r\n    \t_out.Write(intToByteArray(num7));\r\n    \tMainActivity.addDebug(&quot;num7 written ..... &quot;);\r\n    \r\n    \r\n       \r\n    \r\n    }\r\n\r\nNow here mFd = Open(device.AbsolutePath, baudrate, flags); cause crash the app\r\n\r\nI have no idea where i am doing wrong. Any suggestion or alternate to this will be highly appriciated.","title":"Andriod app crashes while calling Java.IO.FileDescriptor Open(String path, int baudrate, int flags);","body":"<p>I am new to xamarin.\nDeveloping app for ProDVX android 8.1.0 to switch LED lights\ni am following a sample written in java.</p>\n<pre><code>package android_serialport_api;\n\nimport android.util.Log;\n\nimport java.io.File;\nimport java.io.FileDescriptor;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class SerialPort {\n\n    private static final String TAG = &quot;SerialPort&quot;;\n\n    /*\n     * Do not remove or rename the field mFd: it is used by native method close();\n     */\n    private FileDescriptor mFd;\n    private FileInputStream mFileInputStream;\n    private FileOutputStream mFileOutputStream;\n\n    public SerialPort(File device, int baudrate, int flags) throws SecurityException, IOException {\n\n        /* Check access permission */\n        if (!device.canRead() || !device.canWrite()) {\n            try {\n                /* Missing read/write permission, trying to chmod the file */\n                Process su;\n                su = Runtime.getRuntime().exec(&quot;/system/bin/su&quot;);\n                String cmd = &quot;chmod 666 &quot; + device.getAbsolutePath() + &quot;\\n&quot;\n                        + &quot;exit\\n&quot;;\n                su.getOutputStream().write(cmd.getBytes());\n                if ((su.waitFor() != 0) || !device.canRead()\n                        || !device.canWrite()) {\n                    throw new SecurityException();\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n                throw new SecurityException();\n            }\n        }\n\n        mFd = open(device.getAbsolutePath(), baudrate, flags);\n        if (mFd == null) {\n            Log.e(TAG, &quot;native open returns null&quot;);\n            throw new IOException();\n        }\n        mFileInputStream = new FileInputStream(mFd);\n        mFileOutputStream = new FileOutputStream(mFd);\n    }\n\n    // Getters and setters\n    public FileInputStream getFileInputStream() {\n        return mFileInputStream;\n    }\n\n    public FileOutputStream getFileOutputStream() {\n        return mFileOutputStream;\n    }\n\n    // JNI\n    private native static FileDescriptor open(String path, int baudrate, int flags);\n    public native void close();\n    static {\n        System.loadLibrary(&quot;serial_port&quot;);\n    }\n\n}\n</code></pre>\n<p>Now call these functions to switch LED</p>\n<pre><code>public void AllGreenOn() {                   //All Green the lights\n        try {\n            sp = new SerialPort(new File(&quot;/dev/ttyS1&quot;), 115200, 0);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                if (lock == null) {\n                    System.out.println(&quot;lock = null&quot;);\n                } else {\n                    try {\n                        synchronized (lock) {\n                            out = sp.getFileOutputStream();\n                            AllGOnLamps();\n                            out.close();\n                            sp.close();\n                        }\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }).run();\n    }\nprivate void AllGOnLamps() throws IOException {                   //All the Green lights\nint num1 = 0x55;\nint num2 = 0xaa;        \nint numL = 0xfb;\n        int numR = 0;\n        int numB = 0;\n        int numG = 0x70;\nint num7 = 0x88;\n        out.write(intToByteArray(num1));\n        out.write(intToByteArray(num2));\n        for (int i = 0; i &lt; 52; i++) {\n            out.write(intToByteArray(numL));\n            out.write(intToByteArray(numB));\n            out.write(intToByteArray(numR));\n            out.write(intToByteArray(numG));\n        }\n        out.write(intToByteArray(num7));\n    }\n</code></pre>\n<p>I am trying this into c# and my code is</p>\n<pre><code>public class SerialPort\n    {\n        private Java.IO.FileDescriptor mFd;\n        private Java.IO.FileInputStream mFileInputStream;\n        private Java.IO.FileOutputStream mFileOutputStream;\n     \n        //[System.Runtime.InteropServices.DllImport(&quot;serial_port.so&quot;)]\n        //private static extern Java.IO.FileDescriptor Open(String path, int baudrate, int flags);\n        \n        \n        public SerialPort(Java.IO.File device, int baudrate, int flags)\n        {\n            MainActivity.addDebug(&quot; su beging: .....&quot;);\n            \n            if (!device.CanRead() || !device.CanWrite())\n            {\n                \n                MainActivity.addDebug(&quot;process su started: .....&quot;);\n                Java.Lang.Process su;\n                su = Java.Lang.Runtime.GetRuntime().Exec(&quot;su&quot;);\n\n                MainActivity.addDebug(&quot;process su made: .....&quot;);\n                string cmd = &quot;chmod 666 &quot; + device.AbsolutePath + &quot;\\n&quot; + &quot;exit\\n&quot;;\n                su.OutputStream.Write(Encoding.ASCII.GetBytes(cmd));\n\n                MainActivity.addDebug(&quot;chmod 666 written ..... &quot;);\n            }\n\n            mFd = Open(device.AbsolutePath, baudrate, flags);\n            \n            if (mFd == null)\n            {\n                MainActivity.addDebug(&quot;mfd made&quot;);\n                throw new Exception();\n            }\n            mFileInputStream = new Java.IO.FileInputStream(mFd);\n            mFileOutputStream = new Java.IO.FileOutputStream(mFd);\n\n        }\n        public Java.IO.FileInputStream getFileInputStream()\n        {\n            return mFileInputStream;\n        }\n        public Java.IO.FileOutputStream getFileOutputStream()\n        {\n            return mFileOutputStream;\n        }\n        \n    }\n\npublic void AllGreenOn()\n        {\n            try\n            {\n                sp = new SerialPort(new Java.IO.File(&quot;/dev/ttyS1&quot;), 115200, 0);\n                _out = sp.getFileOutputStream();\n                AllGOnLamps();\n                _out.Close();\n                \n            }\n            catch (IOException e)\n            {\n                \n            }\n        }\n\nprivate SerialPort sp;\nprivate Java.IO.FileOutputStream _out = null;\npublic void AllGOnLamps()\n{\n\n    int num1 = 0x55;\n    int num2 = 0xaa;        \n    int numL = 0xfb;\n    int numR = 0;\n    int numB = 0;\n    int numG = 0x70;\n    int num7 = 0x88;\n\n    _out.Write(intToByteArray(num1));\n    _out.Write(intToByteArray(num2));\n    MainActivity.addDebug(&quot;num1 written ..... &quot;);\n\n    for (int i = 0; i &lt; 52; i++)\n    {\n        _out.Write(intToByteArray(numL));\n        _out.Write(intToByteArray(numB));\n        _out.Write(intToByteArray(numR));\n        _out.Write(intToByteArray(numG));\n\n    }\n\n    _out.Write(intToByteArray(num7));\n    MainActivity.addDebug(&quot;num7 written ..... &quot;);\n\n\n   \n\n}\n</code></pre>\n<p>Now here mFd = Open(device.AbsolutePath, baudrate, flags); cause crash the app</p>\n<p>I have no idea where i am doing wrong. Any suggestion or alternate to this will be highly appriciated.</p>\n"},{"tags":["java","html"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1591350953,"post_id":62211072,"comment_id":110028483,"body_markdown":"How this question related to java?","body":"How this question related to java?"},{"owner":{"account_id":399158,"reputation":1526,"user_id":764312,"display_name":"dagelf"},"score":0,"creation_date":1591367458,"post_id":62211072,"comment_id":110037687,"body_markdown":"The code is produced by the Java ZK web framework, I guess. To find the attribute that will work for the button, go into your browser inspector (in the debugging console) and edit the components live until you find the correct one, then consult the ZK framework documentation for that, and then come and answer your own question... Also add &quot;ZK framework in Java&quot; to your question title, so as to not confuse people. :-)","body":"The code is produced by the Java ZK web framework, I guess. To find the attribute that will work for the button, go into your browser inspector (in the debugging console) and edit the components live until you find the correct one, then consult the ZK framework documentation for that, and then come and answer your own question... Also add &quot;ZK framework in Java&quot; to your question title, so as to not confuse people. :-)"}],"answers":[{"tags":[],"owner":{"account_id":10377107,"reputation":2823,"user_id":7653007,"display_name":"yinsweet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591345832,"creation_date":1591345832,"answer_id":62211190,"question_id":62211072,"body_markdown":"Remove the space between `#` and color code and it shall work.\r\n\r\n`# 088ADE` to `#088ADE`\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;button type = &quot;button&quot; style = &quot;background-color: #088ADE&quot;&gt; Save &lt;/button&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to set button color in ZK","body":"<p>Remove the space between <code>#</code> and color code and it shall work.</p>\n\n<p><code># 088ADE</code> to <code>#088ADE</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button type = \"button\" style = \"background-color: #088ADE\"&gt; Save &lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":18768622,"reputation":1,"user_id":13685915,"display_name":"Кирилл Солнцев"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643898028,"creation_date":1591345392,"question_id":62211072,"body_markdown":"There is a button in the code:\r\n\r\n    &lt;button type = &quot;button&quot; style = &quot;background-color: #088ADE&quot;&gt; Save &lt;/button&gt;\r\n\r\nBut the button color does not change. How to set button color attribute correctly?","title":"How to set button color in ZK","body":"<p>There is a button in the code:</p>\n\n<pre><code>&lt;button type = \"button\" style = \"background-color: #088ADE\"&gt; Save &lt;/button&gt;\n</code></pre>\n\n<p>But the button color does not change. How to set button color attribute correctly?</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643742096,"post_id":70944060,"comment_id":125419220,"body_markdown":"Was my answer clear? Is that what you were looking for?","body":"Was my answer clear? Is that what you were looking for?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643897985,"creation_date":1643737239,"answer_id":70945097,"question_id":70944060,"body_markdown":"You are correct in your assertion. The Cucumber Hook `@Before` will execute methods tagged with this annotation before the first step of each scenario [See: [Cucumber Reference\\]][1]. Obviously, if you do not want to open and close the browser before and after each scenario, then you can&#39;t add that code there. Unfortunately, Cucumber does not have a hook to run &quot;*Before Suite*&quot; like JUnit or TestNG have. So, you cannot run something before all or after all like you can on those unit test platforms.\r\n\r\nA trick I have used is to initialize the driver and then store it as a global variable in a utility class. This way, I can reuse the same instance for an entire test session. Also, you can create an *init* scenario and run that will your scenarios.\r\n\r\n```\r\n@StartBrowser\r\nScenario: Start browser session\r\n  When I initialize driver\r\n  Then open browser\r\n```\r\nIn the code...\r\n```\r\npublic class BrowserInitStepDefinitions {\r\n    @When(&quot;I initialize driver&quot;)\r\n    public void initializeDriver() {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\xxx\\\\chromedriver.exe&quot;);\r\n        WebDriverUtils.setDriver(new ChromeDriver());\r\n    }\r\n\r\n    @Then (&quot;open browser&quot;)\r\n    public void openBrowser() {\r\n        WebDriver driver = WebDriverUtils.getDriver();\r\n        driver.get(&quot;https://www.yourwebsite.com&quot;);\r\n    }\r\n\r\n    @Then (&quot;close browser&quot;)\r\n    public void closeBrowser() {\r\n        WebDriver driver = WebDriverUtils.getDriver();\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\n```\r\npublic class WebDriverUtils {\r\n    private static WebDriver driver;\r\n    public static void setDriver(WebDriver webDdriver) {\r\n        if (driver == null) {\r\n            driver = webDdriver;\r\n        }\r\n    }\r\n    public static WebDriver getDriver() {\r\n        if (driver == null) {\r\n            throw new AssertionError(&quot;Driver is null. Initialize driver before calling this method.&quot;);\r\n        }\r\n        return driver;\r\n    }\r\n}\r\n```\r\nLastly, when you call your scenarios, just remember to include these scenarios first.\r\n\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-report.html&quot;},\r\n        features= &quot;features&quot;,\r\n        glue= {&quot;whatever&quot;},\r\n        tags= &quot;@StartBrowser or @MyTest1 or @MyTest2&quot;\r\n        )\r\npublic class TestRunner {\r\n    // code omitted\r\n}\r\n```\r\nYou could (and most likely should) create a scenario to close your browser and reclaim any resources that you might&#39;ve used during the execution of your tests.\r\n\r\n  [1]: https://cucumber.io/docs/cucumber/api/","title":"Run step to open browser in cucumber / selenium test once before running all scenario examples then run step to close browser afterwards","body":"<p>You are correct in your assertion. The Cucumber Hook <code>@Before</code> will execute methods tagged with this annotation before the first step of each scenario [See: <a href=\"https://cucumber.io/docs/cucumber/api/\" rel=\"nofollow noreferrer\">Cucumber Reference]</a>. Obviously, if you do not want to open and close the browser before and after each scenario, then you can't add that code there. Unfortunately, Cucumber does not have a hook to run &quot;<em>Before Suite</em>&quot; like JUnit or TestNG have. So, you cannot run something before all or after all like you can on those unit test platforms.</p>\n<p>A trick I have used is to initialize the driver and then store it as a global variable in a utility class. This way, I can reuse the same instance for an entire test session. Also, you can create an <em>init</em> scenario and run that will your scenarios.</p>\n<pre><code>@StartBrowser\nScenario: Start browser session\n  When I initialize driver\n  Then open browser\n</code></pre>\n<p>In the code...</p>\n<pre><code>public class BrowserInitStepDefinitions {\n    @When(&quot;I initialize driver&quot;)\n    public void initializeDriver() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\xxx\\\\chromedriver.exe&quot;);\n        WebDriverUtils.setDriver(new ChromeDriver());\n    }\n\n    @Then (&quot;open browser&quot;)\n    public void openBrowser() {\n        WebDriver driver = WebDriverUtils.getDriver();\n        driver.get(&quot;https://www.yourwebsite.com&quot;);\n    }\n\n    @Then (&quot;close browser&quot;)\n    public void closeBrowser() {\n        WebDriver driver = WebDriverUtils.getDriver();\n        driver.quit();\n    }\n}\n</code></pre>\n<pre><code>public class WebDriverUtils {\n    private static WebDriver driver;\n    public static void setDriver(WebDriver webDdriver) {\n        if (driver == null) {\n            driver = webDdriver;\n        }\n    }\n    public static WebDriver getDriver() {\n        if (driver == null) {\n            throw new AssertionError(&quot;Driver is null. Initialize driver before calling this method.&quot;);\n        }\n        return driver;\n    }\n}\n</code></pre>\n<p>Lastly, when you call your scenarios, just remember to include these scenarios first.</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-report.html&quot;},\n        features= &quot;features&quot;,\n        glue= {&quot;whatever&quot;},\n        tags= &quot;@StartBrowser or @MyTest1 or @MyTest2&quot;\n        )\npublic class TestRunner {\n    // code omitted\n}\n</code></pre>\n<p>You could (and most likely should) create a scenario to close your browser and reclaim any resources that you might've used during the execution of your tests.</p>\n"}],"owner":{"account_id":1597231,"reputation":837,"user_id":1479019,"accept_rate":28,"display_name":"chucknor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3008,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70945097,"answer_count":1,"score":0,"last_activity_date":1643897985,"creation_date":1643732887,"question_id":70944060,"body_markdown":"Apologies for poorly worded question. I am new to test automation and selenium / cucumber BDD and am trying to create a demo project that runs some maths expressions using google and validates the results. I want to use a scenario outline so have ..\r\n\r\n    Scenario Outline: Enter a maths expression\r\n    \tGiven User enters the maths expression &lt;expression&gt;\r\n    \tWhen the user clicks the Search button\r\n    \tThen The result of &lt;expectedResult&gt; is returned  \r\n    Examples: \r\n        | expression | expectedResult |\r\n        | 4+4 | 8 | \r\n        | 5^3 | 125 |  \r\n\r\nI had my steps to open the chrome browser and navigate to google in the @Before method like ..\r\n\r\n    @Before\r\n    public void setup() throws Throwable {\r\n    \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\xxx\\\\chromedriver.exe&quot;);\r\n    \tthis.driver = new ChromeDriver();\r\n    \tthis.driver.manage().window().maximize();\r\n    \tthis.driver.manage().timeouts().pageLoadTimeout(60, TimeUnit.SECONDS);\r\n    \tthis.driver.manage().timeouts().setScriptTimeout(60, TimeUnit.SECONDS);\r\n    \tdriver.get(&quot;https://google.com&quot;);\r\n    \tThread.sleep(2000);\r\n    \t//agrees to the terms and conditions\r\n    \tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;L2AGLb\\&quot;]/div&quot;)).click();\r\n    }\r\n\r\nWhen I run my feature it works but for every example in the Scenario Outline it runs the before steps (as appears to be expected behaviour from reading online) i.e. browser opens and closes for each example.\r\n\r\nIdeally I would want the browser to open once at start, run through all examples and then close at end. Is there an appropriate method annotation that I can use to achieve this. I have tried to find the answer online but not had any luck. One post mentioned using @BeforeSuite but I just for errors when I tried to use this. Also I tried to use the @Background annotation but this did the same thing as it seems this runs for every scenario example.\r\n\r\nAny help would be much appreciated.\r\n\r\n","title":"Run step to open browser in cucumber / selenium test once before running all scenario examples then run step to close browser afterwards","body":"<p>Apologies for poorly worded question. I am new to test automation and selenium / cucumber BDD and am trying to create a demo project that runs some maths expressions using google and validates the results. I want to use a scenario outline so have ..</p>\n<pre><code>Scenario Outline: Enter a maths expression\n    Given User enters the maths expression &lt;expression&gt;\n    When the user clicks the Search button\n    Then The result of &lt;expectedResult&gt; is returned  \nExamples: \n    | expression | expectedResult |\n    | 4+4 | 8 | \n    | 5^3 | 125 |  \n</code></pre>\n<p>I had my steps to open the chrome browser and navigate to google in the @Before method like ..</p>\n<pre><code>@Before\npublic void setup() throws Throwable {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\xxx\\\\chromedriver.exe&quot;);\n    this.driver = new ChromeDriver();\n    this.driver.manage().window().maximize();\n    this.driver.manage().timeouts().pageLoadTimeout(60, TimeUnit.SECONDS);\n    this.driver.manage().timeouts().setScriptTimeout(60, TimeUnit.SECONDS);\n    driver.get(&quot;https://google.com&quot;);\n    Thread.sleep(2000);\n    //agrees to the terms and conditions\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;L2AGLb\\&quot;]/div&quot;)).click();\n}\n</code></pre>\n<p>When I run my feature it works but for every example in the Scenario Outline it runs the before steps (as appears to be expected behaviour from reading online) i.e. browser opens and closes for each example.</p>\n<p>Ideally I would want the browser to open once at start, run through all examples and then close at end. Is there an appropriate method annotation that I can use to achieve this. I have tried to find the answer online but not had any luck. One post mentioned using @BeforeSuite but I just for errors when I tried to use this. Also I tried to use the @Background annotation but this did the same thing as it seems this runs for every scenario example.</p>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","json","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643897640,"creation_date":1643892207,"answer_id":70971525,"question_id":70971215,"body_markdown":"In your class `InnerTestEntity` use `@JsonValue` annotation:\r\n\r\n    @Data\r\n    public class InnerTestEntity {\r\n    \r\n        @NotEmpty(message = &quot;name is required&quot;)\r\n        @JsonValue //This is the added line\r\n        private String name;\r\n    \r\n    }\r\n\r\nSee Javadoc for [@JsonValue][1]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonValue.html","title":"ObjectMapper converting array into set of Objects with one field","body":"<p>In your class <code>InnerTestEntity</code> use <code>@JsonValue</code> annotation:</p>\n<pre><code>@Data\npublic class InnerTestEntity {\n\n    @NotEmpty(message = &quot;name is required&quot;)\n    @JsonValue //This is the added line\n    private String name;\n\n}\n</code></pre>\n<p>See Javadoc for <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonValue.html\" rel=\"nofollow noreferrer\">@JsonValue</a></p>\n"}],"owner":{"account_id":24143463,"reputation":13,"user_id":18109400,"display_name":"Roman_Kuznetcov1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70971525,"answer_count":1,"score":1,"last_activity_date":1643897640,"creation_date":1643890906,"question_id":70971215,"body_markdown":"I have TestEntity class:\r\n\r\n    @Data\r\n    public class TestEntity {\r\n    \r\n        @NotEmpty(message = &quot;strings are required&quot;)\r\n        private Set&lt;InnerTestEntity&gt; strings;\r\n    \r\n    }\r\n\r\nAlso I have InnerTestEntity:\r\n\r\n    @Data\r\n    public class InnerTestEntity {\r\n    \r\n        @NotEmpty(message = &quot;name is required&quot;)\r\n        private String name;\r\n    \r\n    }\r\n\r\nAnd I have JSON file:\r\n\r\n    {\r\n      &quot;strings&quot; : [\r\n        &quot;name1&quot;,\r\n        &quot;name2&quot;,\r\n        &quot;name3&quot;\r\n      ]\r\n    }\r\n\r\nThe idea is to map each name from Strings into InnerTestEntity objects to &quot;name&quot; field, and have TestEntity object with this set of InnerTestEntity objects.\r\n\r\nWhen I call this: \r\n\r\n    TestEntity test = objectMapper.readValue(*Path to JSON*, new TypeReference&lt;&gt;() {\r\n            });\r\n\r\nIt gives me this error:\r\n\r\n&gt; Cannot construct instance of `...InnerTestEntity` (although at least\r\n&gt; one Creator exists): no String-argument constructor/factory method to\r\n&gt; deserialize from String value (&#39;name1&#39;)\r\n\r\nWhat is the option to map it properly?","title":"ObjectMapper converting array into set of Objects with one field","body":"<p>I have TestEntity class:</p>\n<pre><code>@Data\npublic class TestEntity {\n\n    @NotEmpty(message = &quot;strings are required&quot;)\n    private Set&lt;InnerTestEntity&gt; strings;\n\n}\n</code></pre>\n<p>Also I have InnerTestEntity:</p>\n<pre><code>@Data\npublic class InnerTestEntity {\n\n    @NotEmpty(message = &quot;name is required&quot;)\n    private String name;\n\n}\n</code></pre>\n<p>And I have JSON file:</p>\n<pre><code>{\n  &quot;strings&quot; : [\n    &quot;name1&quot;,\n    &quot;name2&quot;,\n    &quot;name3&quot;\n  ]\n}\n</code></pre>\n<p>The idea is to map each name from Strings into InnerTestEntity objects to &quot;name&quot; field, and have TestEntity object with this set of InnerTestEntity objects.</p>\n<p>When I call this:</p>\n<pre><code>TestEntity test = objectMapper.readValue(*Path to JSON*, new TypeReference&lt;&gt;() {\n        });\n</code></pre>\n<p>It gives me this error:</p>\n<blockquote>\n<p>Cannot construct instance of <code>...InnerTestEntity</code> (although at least\none Creator exists): no String-argument constructor/factory method to\ndeserialize from String value ('name1')</p>\n</blockquote>\n<p>What is the option to map it properly?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643897012,"creation_date":1643897012,"answer_id":70972659,"question_id":70970074,"body_markdown":"I assume that you are passing a _detached_ entity instance to the `update` method, and a new transaction is started when entering the method (by the spring transactional aop proxy).  \r\n(Otherwise, the `dbDomain` entry would be resolved from the hibernate 1st level cache to the passed entity instance `updated`, so that there would not be any property differences.)\r\n\r\nWhen passing the _detached_ instance `updated` to the `save` method, the entity manager will merge it into the persistence context. Thereby, it will also check for another already attached instance of the same entity (same ID), and keep the other instance of the entity in sync by copying all values from the newly passed instance to the other attached instance:  \r\nhttps://github.com/hibernate/hibernate-orm/blob/734b80c531bdb2a9bb33971cd57f51fce662e758/hibernate-core/src/main/java/org/hibernate/event/internal/DefaultMergeEventListener.java#L346  \r\n(Which makes sense, since you would otherwise end up with different values on the attached entities, and you could not decide which would be persisted to the DB at the end of the transaction.)\r\n\r\nTo prevent your `dbDomain` instance being updated, you could manually detach it from the persistence context before calling `save(updated)`:\r\n\r\n    T dbDomain = get(updated.getId());\r\n    entityManager.detach(dbDomain); // &lt;--\r\n    T updatedData = repository.save(updated);    \r\n\r\nAlternatively, you may also deep-copy the relevant `dbDomain` property values.\r\n\r\n","title":"store spring JPA repository find data to variable before save?","body":"<p>I assume that you are passing a <em>detached</em> entity instance to the <code>update</code> method, and a new transaction is started when entering the method (by the spring transactional aop proxy).<br />\n(Otherwise, the <code>dbDomain</code> entry would be resolved from the hibernate 1st level cache to the passed entity instance <code>updated</code>, so that there would not be any property differences.)</p>\n<p>When passing the <em>detached</em> instance <code>updated</code> to the <code>save</code> method, the entity manager will merge it into the persistence context. Thereby, it will also check for another already attached instance of the same entity (same ID), and keep the other instance of the entity in sync by copying all values from the newly passed instance to the other attached instance:<br />\n<a href=\"https://github.com/hibernate/hibernate-orm/blob/734b80c531bdb2a9bb33971cd57f51fce662e758/hibernate-core/src/main/java/org/hibernate/event/internal/DefaultMergeEventListener.java#L346\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/734b80c531bdb2a9bb33971cd57f51fce662e758/hibernate-core/src/main/java/org/hibernate/event/internal/DefaultMergeEventListener.java#L346</a><br />\n(Which makes sense, since you would otherwise end up with different values on the attached entities, and you could not decide which would be persisted to the DB at the end of the transaction.)</p>\n<p>To prevent your <code>dbDomain</code> instance being updated, you could manually detach it from the persistence context before calling <code>save(updated)</code>:</p>\n<pre><code>T dbDomain = get(updated.getId());\nentityManager.detach(dbDomain); // &lt;--\nT updatedData = repository.save(updated);    \n</code></pre>\n<p>Alternatively, you may also deep-copy the relevant <code>dbDomain</code> property values.</p>\n"}],"owner":{"account_id":10780491,"reputation":85,"user_id":7931162,"display_name":"Denny Lesmana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70972659,"answer_count":1,"score":1,"last_activity_date":1643897012,"creation_date":1643885968,"question_id":70970074,"body_markdown":"i wanna store spring JPA repository object before it should be saved.\r\n\r\nin function update, i wanna store old record data to **dbDomain**\r\nbut suddenly after ``` repository.save(updated)``` the dbDomain changed to new updated data.\r\n\r\nany one know how to solve this ? thanks\r\n\r\n```\r\npackage com.test.admintool.userauth.services;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\n\r\nimport com.test.admintool.engine.common.AdminToolFunction;\r\nimport com.test.admintool.engine.common.AuditTrailMessage;\r\nimport com.test.admintool.engine.common.CopyUtil;\r\nimport com.test.admintool.engine.service.AdminService;\r\nimport com.test.admintool.engine.service.AuditTrailEventService;\r\nimport com.test.admintool.engine.utils.SecurityUtil;\r\nimport com.test.admintool.userauth.entity.User;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.core.GenericTypeResolver;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.test.admintool.engine.AdminEntity;\r\nimport com.test.admintool.engine.exception.EntityNotFoundException;\r\nimport com.test.admintool.engine.repository.AdminRepository;\r\nimport com.querydsl.core.types.Predicate;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.Table;\r\n\r\n@Slf4j\r\npublic abstract class AdminServiceImpl&lt;T extends AdminEntity&lt;T&gt;&gt; implements AdminService&lt;T&gt; {\r\n\r\n\tprivate static final String AUDIT_ACTION_CREATE = &quot;CREATE&quot;;\r\n\tprivate static final String AUDIT_ACTION_UPDATE = &quot;UPDATE&quot;;\r\n\tprivate static final String AUDIT_ACTION_DELETE = &quot;DELETE&quot;;\r\n\tprivate final AdminRepository&lt;T&gt; repository;\r\n\r\n\tprivate final AuditTrailEventService auditTrailEventService;\r\n\r\n\tprotected AdminServiceImpl(AdminRepository&lt;T&gt; repository, AuditTrailEventService auditTrailEventService) {\r\n\t\tthis.repository = repository;\r\n\t\tthis.auditTrailEventService = auditTrailEventService;\r\n\t}\r\n\r\n\tpublic T get(Long id) throws EntityNotFoundException {\r\n\t\treturn repository.findById(id)\r\n\t\t\t\t.orElseThrow(() -&gt; new EntityNotFoundException(String.format(&quot;Product %s not found&quot;, id)));\r\n\t}\r\n\r\n\t@Transactional\r\n\tpublic T update(T updated) throws EntityNotFoundException {\r\n\t\tT dbDomain = get(updated.getId());\r\n\t\tT updatedData = repository.save(updated);\r\n\t\tproduceAuditMessageUpdate(dbDomain, updatedData, AUDIT_ACTION_UPDATE);\r\n\t\treturn updatedData;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"store spring JPA repository find data to variable before save?","body":"<p>i wanna store spring JPA repository object before it should be saved.</p>\n<p>in function update, i wanna store old record data to <strong>dbDomain</strong>\nbut suddenly after <code> repository.save(updated)</code> the dbDomain changed to new updated data.</p>\n<p>any one know how to solve this ? thanks</p>\n<pre><code>package com.test.admintool.userauth.services;\n\nimport java.text.SimpleDateFormat;\nimport java.util.*;\n\nimport com.test.admintool.engine.common.AdminToolFunction;\nimport com.test.admintool.engine.common.AuditTrailMessage;\nimport com.test.admintool.engine.common.CopyUtil;\nimport com.test.admintool.engine.service.AdminService;\nimport com.test.admintool.engine.service.AuditTrailEventService;\nimport com.test.admintool.engine.utils.SecurityUtil;\nimport com.test.admintool.userauth.entity.User;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.core.GenericTypeResolver;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.test.admintool.engine.AdminEntity;\nimport com.test.admintool.engine.exception.EntityNotFoundException;\nimport com.test.admintool.engine.repository.AdminRepository;\nimport com.querydsl.core.types.Predicate;\n\nimport javax.persistence.Entity;\nimport javax.persistence.EntityManager;\nimport javax.persistence.Table;\n\n@Slf4j\npublic abstract class AdminServiceImpl&lt;T extends AdminEntity&lt;T&gt;&gt; implements AdminService&lt;T&gt; {\n\n    private static final String AUDIT_ACTION_CREATE = &quot;CREATE&quot;;\n    private static final String AUDIT_ACTION_UPDATE = &quot;UPDATE&quot;;\n    private static final String AUDIT_ACTION_DELETE = &quot;DELETE&quot;;\n    private final AdminRepository&lt;T&gt; repository;\n\n    private final AuditTrailEventService auditTrailEventService;\n\n    protected AdminServiceImpl(AdminRepository&lt;T&gt; repository, AuditTrailEventService auditTrailEventService) {\n        this.repository = repository;\n        this.auditTrailEventService = auditTrailEventService;\n    }\n\n    public T get(Long id) throws EntityNotFoundException {\n        return repository.findById(id)\n                .orElseThrow(() -&gt; new EntityNotFoundException(String.format(&quot;Product %s not found&quot;, id)));\n    }\n\n    @Transactional\n    public T update(T updated) throws EntityNotFoundException {\n        T dbDomain = get(updated.getId());\n        T updatedData = repository.save(updated);\n        produceAuditMessageUpdate(dbDomain, updatedData, AUDIT_ACTION_UPDATE);\n        return updatedData;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","vaadin","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":16682690,"reputation":568,"user_id":12057371,"display_name":"vincendep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643896775,"creation_date":1643882248,"answer_id":70969160,"question_id":70968471,"body_markdown":"Set ids to the filter fields and then use it to retrieve the correct value from the map? Something like (where event is the ValueChangeEvent from the filter field)\r\n```\r\nif (filter!= null &amp;&amp; filter.length() &gt; 0 &amp;&amp; !StringUtils\r\n            .containsIgnoreCase(map.get(event.getSource().getId()),\r\n                    filter)) {\r\n        return false;\r\n}\r\n```","title":"Vaadin grid filtering with HashMap (no class)","body":"<p>Set ids to the filter fields and then use it to retrieve the correct value from the map? Something like (where event is the ValueChangeEvent from the filter field)</p>\n<pre><code>if (filter!= null &amp;&amp; filter.length() &gt; 0 &amp;&amp; !StringUtils\n            .containsIgnoreCase(map.get(event.getSource().getId()),\n                    filter)) {\n        return false;\n}\n</code></pre>\n"}],"owner":{"account_id":24141853,"reputation":1,"user_id":18107956,"display_name":"BenRuggers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643896775,"creation_date":1643879362,"question_id":70968471,"body_markdown":"I have worked with Vaadin Grids before based on classes (e.g. person as shown in most examples made on Vaadins-website). However, for my next project, I need one based on a HashMap (or any non-class-based variable).\r\n\r\nSo now, I have a working Vaadin Grid based on a HashMap&lt;String, String&gt;. But I am coming up short when I have to add the filter-methods.\r\n\r\nSo here is my full code.\r\n\r\n    public class TestGrid extends Div {\r\n    List&lt;String&gt; columns;\r\n\r\n    public TestGrid() {\r\n        Grid&lt;HashMap&lt;String, String&gt;&gt; grid = new Grid&lt;&gt;();\r\n        columns = new ArrayList&lt;&gt;();\r\n\r\n        grid.appendHeaderRow();\r\n        HeaderRow headerRow = grid.appendHeaderRow();\r\n\r\n        grid.setItems(getItems());\r\n\r\n        for (String s : columns) {\r\n            TextField textField = new TextField();\r\n            grid.addColumn(h -&gt; h.get(s)).setHeader(s);\r\n\r\n            TextField filter = new TextField();\r\n            filter.setSizeFull();\r\n            filter.setClearButtonVisible(true);\r\n            filter.setValueChangeMode(ValueChangeMode.EAGER);\r\n            filter.addValueChangeListener(event -&gt; {\r\n\r\n            });\r\n            headerRow.getCell(grid.getColumns().get(grid.getColumns().size() - 1)).setComponent(filter);\r\n        }\r\n\r\n        add(grid);\r\n    }\r\n\r\n    List&lt;HashMap&lt;String, String&gt;&gt; getItems() {\r\n        columns = new ArrayList&lt;&gt;();\r\n        columns.add(&quot;Row1&quot;);\r\n        columns.add(&quot;Row2&quot;);\r\n        columns.add(&quot;Row3&quot;);\r\n        columns.add(&quot;Row4&quot;);\r\n        columns.add(&quot;Row5&quot;);\r\n\r\n        List&lt;HashMap&lt;String, String&gt;&gt; hashMaps = new ArrayList&lt;&gt;();\r\n\r\n        while (hashMaps.size() != 10) {\r\n            HashMap&lt;String, String&gt; item = new HashMap&lt;&gt;();\r\n            for (String s : columns) {\r\n                item.put(s, RandomStringUtils.randomAlphanumeric(10));\r\n            }\r\n            hashMaps.add(item);\r\n        }\r\n        return hashMaps;\r\n    }\r\n    }\r\n\r\nNormally, I would have a dataprovider and a second class (gridfilter) with setters, getters, and the filter-boolean. Like so:\r\n\r\n            if (name != null &amp;&amp; name.length() &gt; 0 &amp;&amp; !StringUtils\r\n                .containsIgnoreCase(String.valueOf(user.getName()),\r\n                        name)) {\r\n            return false;\r\n        }\r\n\r\nBut now that it works on the HashMap&lt;String, String&gt; I am wondering how to proceed.\r\n\r\nI hope you can help me.","title":"Vaadin grid filtering with HashMap (no class)","body":"<p>I have worked with Vaadin Grids before based on classes (e.g. person as shown in most examples made on Vaadins-website). However, for my next project, I need one based on a HashMap (or any non-class-based variable).</p>\n<p>So now, I have a working Vaadin Grid based on a HashMap&lt;String, String&gt;. But I am coming up short when I have to add the filter-methods.</p>\n<p>So here is my full code.</p>\n<pre><code>public class TestGrid extends Div {\nList&lt;String&gt; columns;\n\npublic TestGrid() {\n    Grid&lt;HashMap&lt;String, String&gt;&gt; grid = new Grid&lt;&gt;();\n    columns = new ArrayList&lt;&gt;();\n\n    grid.appendHeaderRow();\n    HeaderRow headerRow = grid.appendHeaderRow();\n\n    grid.setItems(getItems());\n\n    for (String s : columns) {\n        TextField textField = new TextField();\n        grid.addColumn(h -&gt; h.get(s)).setHeader(s);\n\n        TextField filter = new TextField();\n        filter.setSizeFull();\n        filter.setClearButtonVisible(true);\n        filter.setValueChangeMode(ValueChangeMode.EAGER);\n        filter.addValueChangeListener(event -&gt; {\n\n        });\n        headerRow.getCell(grid.getColumns().get(grid.getColumns().size() - 1)).setComponent(filter);\n    }\n\n    add(grid);\n}\n\nList&lt;HashMap&lt;String, String&gt;&gt; getItems() {\n    columns = new ArrayList&lt;&gt;();\n    columns.add(&quot;Row1&quot;);\n    columns.add(&quot;Row2&quot;);\n    columns.add(&quot;Row3&quot;);\n    columns.add(&quot;Row4&quot;);\n    columns.add(&quot;Row5&quot;);\n\n    List&lt;HashMap&lt;String, String&gt;&gt; hashMaps = new ArrayList&lt;&gt;();\n\n    while (hashMaps.size() != 10) {\n        HashMap&lt;String, String&gt; item = new HashMap&lt;&gt;();\n        for (String s : columns) {\n            item.put(s, RandomStringUtils.randomAlphanumeric(10));\n        }\n        hashMaps.add(item);\n    }\n    return hashMaps;\n}\n}\n</code></pre>\n<p>Normally, I would have a dataprovider and a second class (gridfilter) with setters, getters, and the filter-boolean. Like so:</p>\n<pre><code>        if (name != null &amp;&amp; name.length() &gt; 0 &amp;&amp; !StringUtils\n            .containsIgnoreCase(String.valueOf(user.getName()),\n                    name)) {\n        return false;\n    }\n</code></pre>\n<p>But now that it works on the HashMap&lt;String, String&gt; I am wondering how to proceed.</p>\n<p>I hope you can help me.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643896755,"creation_date":1643896755,"answer_id":70972601,"question_id":70971961,"body_markdown":"In fact, it will be easier to answer if you add the code you applied while asking the question. Other than that, you can use a dotindicator for the recyclerview. This recyclerview will scroll automatically as it scrolls.\r\n\r\nExample :\r\n\r\n     final int radius = getResources().getDimensionPixelSize(R.dimen.radius);\r\n            final int dotsHeight = getResources().getDimensionPixelSize(R.dimen.dotsHeight);\r\n            final int color = ContextCompat.getColor(getApplicationContext(), R.color.appcolor1);\r\n            recyclerViewSlider.addItemDecoration(new DotsIndicatorDecoration(radius, radius * 4, dotsHeight, color, color));\r\n\r\nDotsIndicatorDecoration.java\r\n\r\n    \r\n    \r\n    import android.content.res.Resources;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Paint;\r\n    import android.graphics.Rect;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    \r\n    import androidx.annotation.ColorInt;\r\n    import androidx.recyclerview.widget.GridLayoutManager;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import org.jetbrains.annotations.NotNull;\r\n    \r\n    public class DotsIndicatorDecoration extends RecyclerView.ItemDecoration {\r\n    \r\n        private final int indicatorHeight;\r\n        private final int indicatorItemPadding;\r\n        private final int radius;\r\n    \r\n        private final Paint inactivePaint = new Paint();\r\n        private final Paint activePaint = new Paint();\r\n    \r\n        public DotsIndicatorDecoration(int radius, int padding, int indicatorHeight, @ColorInt int colorInactive, @ColorInt int colorActive) {\r\n            float strokeWidth = Resources.getSystem().getDisplayMetrics().density * 1;\r\n            this.radius = radius;\r\n            inactivePaint.setStrokeCap(Paint.Cap.ROUND);\r\n            inactivePaint.setStrokeWidth(strokeWidth);\r\n            inactivePaint.setStyle(Paint.Style.STROKE);\r\n            inactivePaint.setAntiAlias(true);\r\n            inactivePaint.setColor(colorInactive);\r\n    \r\n            activePaint.setStrokeCap(Paint.Cap.ROUND);\r\n            activePaint.setStrokeWidth(strokeWidth);\r\n            activePaint.setStyle(Paint.Style.FILL);\r\n            activePaint.setAntiAlias(true);\r\n            activePaint.setColor(colorActive);\r\n    \r\n            this.indicatorItemPadding = padding;\r\n            this.indicatorHeight = indicatorHeight;\r\n        }\r\n    \r\n        @Override\r\n        public void onDrawOver(@NotNull Canvas c, @NotNull RecyclerView parent, @NotNull RecyclerView.State state) {\r\n            super.onDrawOver(c, parent, state);\r\n    \r\n            final RecyclerView.Adapter adapter = parent.getAdapter();\r\n    \r\n            if (adapter == null) {\r\n                return;\r\n            }\r\n    \r\n            int itemCount = adapter.getItemCount();\r\n    \r\n            // center horizontally, calculate width and subtract half from center\r\n            float totalLength = this.radius * 2 * itemCount;\r\n            float paddingBetweenItems = Math.max(0, itemCount - 1) * indicatorItemPadding;\r\n            float indicatorTotalWidth = totalLength + paddingBetweenItems;\r\n            float indicatorStartX = (parent.getWidth() - indicatorTotalWidth) / 2f;\r\n    \r\n            // center vertically in the allotted space\r\n            Log.d(&quot;olley&quot;, parent.getHeight() + &quot;--&quot; + indicatorHeight);\r\n            float indicatorPosY = parent.getHeight()*0.9f - indicatorHeight/2f;\r\n    \r\n            drawInactiveDots(c, indicatorStartX, indicatorPosY, itemCount);\r\n    \r\n            final int activePosition;\r\n    \r\n            if (parent.getLayoutManager() instanceof GridLayoutManager) {\r\n                activePosition = ((GridLayoutManager) parent.getLayoutManager()).findFirstVisibleItemPosition();\r\n            } else if (parent.getLayoutManager() instanceof LinearLayoutManager) {\r\n                activePosition = ((LinearLayoutManager) parent.getLayoutManager()).findFirstVisibleItemPosition();\r\n            } else {\r\n                // not supported layout manager\r\n                return;\r\n            }\r\n    \r\n            if (activePosition == RecyclerView.NO_POSITION) {\r\n                return;\r\n            }\r\n    \r\n            // find offset of active page if the user is scrolling\r\n            final View activeChild = parent.getLayoutManager().findViewByPosition(activePosition);\r\n            if (activeChild == null) {\r\n                return;\r\n            }\r\n    \r\n            drawActiveDot(c, indicatorStartX, indicatorPosY, activePosition);\r\n        }\r\n    \r\n        private void drawInactiveDots(Canvas c, float indicatorStartX, float indicatorPosY, int itemCount) {\r\n            // width of item indicator including padding\r\n            final float itemWidth = this.radius * 2 + indicatorItemPadding;\r\n    \r\n            float start = indicatorStartX + radius;\r\n            for (int i = 0; i &lt; itemCount; i++) {\r\n                c.drawCircle(start, indicatorPosY, radius, inactivePaint);\r\n                start += itemWidth;\r\n            }\r\n        }\r\n    \r\n        private void drawActiveDot(Canvas c, float indicatorStartX, float indicatorPosY,\r\n                                   int highlightPosition) {\r\n            // width of item indicator including padding\r\n            final float itemWidth = this.radius * 2 + indicatorItemPadding;\r\n            float highlightStart = indicatorStartX + radius + itemWidth * highlightPosition;\r\n            c.drawCircle(highlightStart, indicatorPosY, radius, activePaint);\r\n        }\r\n    \r\n        @Override\r\n        public void getItemOffsets(@NotNull Rect outRect, @NotNull View view, @NotNull RecyclerView parent, @NotNull RecyclerView.State state) {\r\n            super.getItemOffsets(outRect, view, parent, state);\r\n            outRect.bottom = indicatorHeight; //evil just like cat on box\r\n        }\r\n    }\r\n\r\n\r\n\r\nI hope you want something like this. You can make adjustments etc. in the :) redirect.","title":"Android : Handling child recyclerview vertical scroll and click in parent recyclerview header","body":"<p>In fact, it will be easier to answer if you add the code you applied while asking the question. Other than that, you can use a dotindicator for the recyclerview. This recyclerview will scroll automatically as it scrolls.</p>\n<p>Example :</p>\n<pre><code> final int radius = getResources().getDimensionPixelSize(R.dimen.radius);\n        final int dotsHeight = getResources().getDimensionPixelSize(R.dimen.dotsHeight);\n        final int color = ContextCompat.getColor(getApplicationContext(), R.color.appcolor1);\n        recyclerViewSlider.addItemDecoration(new DotsIndicatorDecoration(radius, radius * 4, dotsHeight, color, color));\n</code></pre>\n<p>DotsIndicatorDecoration.java</p>\n<pre><code>import android.content.res.Resources;\nimport android.graphics.Canvas;\nimport android.graphics.Paint;\nimport android.graphics.Rect;\nimport android.util.Log;\nimport android.view.View;\n\nimport androidx.annotation.ColorInt;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport org.jetbrains.annotations.NotNull;\n\npublic class DotsIndicatorDecoration extends RecyclerView.ItemDecoration {\n\n    private final int indicatorHeight;\n    private final int indicatorItemPadding;\n    private final int radius;\n\n    private final Paint inactivePaint = new Paint();\n    private final Paint activePaint = new Paint();\n\n    public DotsIndicatorDecoration(int radius, int padding, int indicatorHeight, @ColorInt int colorInactive, @ColorInt int colorActive) {\n        float strokeWidth = Resources.getSystem().getDisplayMetrics().density * 1;\n        this.radius = radius;\n        inactivePaint.setStrokeCap(Paint.Cap.ROUND);\n        inactivePaint.setStrokeWidth(strokeWidth);\n        inactivePaint.setStyle(Paint.Style.STROKE);\n        inactivePaint.setAntiAlias(true);\n        inactivePaint.setColor(colorInactive);\n\n        activePaint.setStrokeCap(Paint.Cap.ROUND);\n        activePaint.setStrokeWidth(strokeWidth);\n        activePaint.setStyle(Paint.Style.FILL);\n        activePaint.setAntiAlias(true);\n        activePaint.setColor(colorActive);\n\n        this.indicatorItemPadding = padding;\n        this.indicatorHeight = indicatorHeight;\n    }\n\n    @Override\n    public void onDrawOver(@NotNull Canvas c, @NotNull RecyclerView parent, @NotNull RecyclerView.State state) {\n        super.onDrawOver(c, parent, state);\n\n        final RecyclerView.Adapter adapter = parent.getAdapter();\n\n        if (adapter == null) {\n            return;\n        }\n\n        int itemCount = adapter.getItemCount();\n\n        // center horizontally, calculate width and subtract half from center\n        float totalLength = this.radius * 2 * itemCount;\n        float paddingBetweenItems = Math.max(0, itemCount - 1) * indicatorItemPadding;\n        float indicatorTotalWidth = totalLength + paddingBetweenItems;\n        float indicatorStartX = (parent.getWidth() - indicatorTotalWidth) / 2f;\n\n        // center vertically in the allotted space\n        Log.d(&quot;olley&quot;, parent.getHeight() + &quot;--&quot; + indicatorHeight);\n        float indicatorPosY = parent.getHeight()*0.9f - indicatorHeight/2f;\n\n        drawInactiveDots(c, indicatorStartX, indicatorPosY, itemCount);\n\n        final int activePosition;\n\n        if (parent.getLayoutManager() instanceof GridLayoutManager) {\n            activePosition = ((GridLayoutManager) parent.getLayoutManager()).findFirstVisibleItemPosition();\n        } else if (parent.getLayoutManager() instanceof LinearLayoutManager) {\n            activePosition = ((LinearLayoutManager) parent.getLayoutManager()).findFirstVisibleItemPosition();\n        } else {\n            // not supported layout manager\n            return;\n        }\n\n        if (activePosition == RecyclerView.NO_POSITION) {\n            return;\n        }\n\n        // find offset of active page if the user is scrolling\n        final View activeChild = parent.getLayoutManager().findViewByPosition(activePosition);\n        if (activeChild == null) {\n            return;\n        }\n\n        drawActiveDot(c, indicatorStartX, indicatorPosY, activePosition);\n    }\n\n    private void drawInactiveDots(Canvas c, float indicatorStartX, float indicatorPosY, int itemCount) {\n        // width of item indicator including padding\n        final float itemWidth = this.radius * 2 + indicatorItemPadding;\n\n        float start = indicatorStartX + radius;\n        for (int i = 0; i &lt; itemCount; i++) {\n            c.drawCircle(start, indicatorPosY, radius, inactivePaint);\n            start += itemWidth;\n        }\n    }\n\n    private void drawActiveDot(Canvas c, float indicatorStartX, float indicatorPosY,\n                               int highlightPosition) {\n        // width of item indicator including padding\n        final float itemWidth = this.radius * 2 + indicatorItemPadding;\n        float highlightStart = indicatorStartX + radius + itemWidth * highlightPosition;\n        c.drawCircle(highlightStart, indicatorPosY, radius, activePaint);\n    }\n\n    @Override\n    public void getItemOffsets(@NotNull Rect outRect, @NotNull View view, @NotNull RecyclerView parent, @NotNull RecyclerView.State state) {\n        super.getItemOffsets(outRect, view, parent, state);\n        outRect.bottom = indicatorHeight; //evil just like cat on box\n    }\n}\n</code></pre>\n<p>I hope you want something like this. You can make adjustments etc. in the :) redirect.</p>\n"}],"owner":{"account_id":2655901,"reputation":117,"user_id":2296627,"accept_rate":80,"display_name":"Rummy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643896755,"creation_date":1643894097,"question_id":70971961,"body_markdown":"I need to implement a recyclerview with fixed height  (250 dp) which scrolls vertically in the header of parent recyclerview which also scrolls vertically. And also header has a button in it. I am not able to get the child recyclerview&#39;s click or scroll . How we can achieve both parent recyclerview scroll and child recyclerview scroll(which is in header of parent)?","title":"Android : Handling child recyclerview vertical scroll and click in parent recyclerview header","body":"<p>I need to implement a recyclerview with fixed height  (250 dp) which scrolls vertically in the header of parent recyclerview which also scrolls vertically. And also header has a button in it. I am not able to get the child recyclerview's click or scroll . How we can achieve both parent recyclerview scroll and child recyclerview scroll(which is in header of parent)?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1382751,"reputation":4828,"user_id":1315419,"accept_rate":44,"display_name":"Vasan"},"score":1,"creation_date":1510893833,"post_id":47343366,"comment_id":81638833,"body_markdown":"Why not do a regex replace? i.e. replace the pattern `.\\*+.` with empty string?","body":"Why not do a regex replace? i.e. replace the pattern <code>.\\*+.</code> with empty string?"},{"owner":{"account_id":8845463,"reputation":117,"user_id":6606363,"accept_rate":29,"display_name":"HariPriya"},"score":0,"creation_date":1510894028,"post_id":47343366,"comment_id":81638873,"body_markdown":"I am new to java and string so tell me in detail.Do we have function called regex replace","body":"I am new to java and string so tell me in detail.Do we have function called regex replace"}],"answers":[{"tags":[],"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510894359,"creation_date":1510894359,"answer_id":47343515,"question_id":47343366,"body_markdown":"You can use regex to replace character group in your string. To remove `*` and 1 character before &amp; after it:\r\n\r\n    Pattern pt = Pattern.compile(&quot;.\\\\*+.&quot;); \r\n\tMatcher match = pt.matcher(input);\r\n\tString output = match.replaceAll(&quot;&quot;);\r\n\t//System.out.println(output);","title":"remove characters before and after character in java","body":"<p>You can use regex to replace character group in your string. To remove <code>*</code> and 1 character before &amp; after it:</p>\n\n<pre><code>Pattern pt = Pattern.compile(\".\\\\*+.\"); \nMatcher match = pt.matcher(input);\nString output = match.replaceAll(\"\");\n//System.out.println(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12184256,"reputation":386,"user_id":8894711,"display_name":"Sattyaki"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1510894392,"creation_date":1510894392,"answer_id":47343520,"question_id":47343366,"body_markdown":"Use regex to replace more than one `*` with single `*`. Your code will be like below:\r\n\r\n    input:ab*cd output:ad\r\n    input ab**cd  ouput:ad\r\n    import java.util.Scanner;\r\n    \r\n    public class Starstring {\r\n        public static void main(String[] args) {\r\n            String str1;\r\n            String res=&quot;&quot;;\r\n            int n,i=0;\r\n    \r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Enter the string&quot;);\r\n            str1=sc.next();\r\n            res=str1;\r\n            str1 = str1.replaceAll(&quot;[*]+&quot;, &quot;*&quot;);// add this line\r\n            StringBuffer a = new StringBuffer(str1);\r\n            n=str1.length()-1;\r\n            for(i=0;i&lt;n;i++)\r\n            {\r\n                if(str1.charAt(i)==&#39;*&#39;)\r\n                {\r\n                    res=a.delete(i-1, i+2).toString();\r\n                }\r\n            }\r\n            System.out.println(&quot;The final string is&quot;+res);\r\n        }\r\n    \r\n    }","title":"remove characters before and after character in java","body":"<p>Use regex to replace more than one <code>*</code> with single <code>*</code>. Your code will be like below:</p>\n\n<pre><code>input:ab*cd output:ad\ninput ab**cd  ouput:ad\nimport java.util.Scanner;\n\npublic class Starstring {\n    public static void main(String[] args) {\n        String str1;\n        String res=\"\";\n        int n,i=0;\n\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"Enter the string\");\n        str1=sc.next();\n        res=str1;\n        str1 = str1.replaceAll(\"[*]+\", \"*\");// add this line\n        StringBuffer a = new StringBuffer(str1);\n        n=str1.length()-1;\n        for(i=0;i&lt;n;i++)\n        {\n            if(str1.charAt(i)=='*')\n            {\n                res=a.delete(i-1, i+2).toString();\n            }\n        }\n        System.out.println(\"The final string is\"+res);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3584907,"reputation":1436,"user_id":2992314,"display_name":"Mahendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510894515,"creation_date":1510894515,"answer_id":47343538,"question_id":47343366,"body_markdown":"You can do it like this : \r\n\r\n        String str1;\r\n        int n;\r\n\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Enter the string&quot;);\r\n        str1=sc.next();\r\n\r\n        sc.close();\r\n\r\n        StringBuffer a = new StringBuffer(str1);\r\n        n=a.length();\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            if(str1.charAt(i)==&#39;*&#39;)\r\n            {\r\n                int aa = i-1;\r\n                int bb = i+1;\r\n                for(;bb&lt;n; bb++){\r\n                    if(str1.charAt(bb)!=&#39;*&#39;){\r\n                        break;\r\n                    }\r\n                }\r\n                a.delete( aa, bb+1 );\r\n                i = bb;\r\n\r\n            }\r\n        }\r\n        String res = a.toString();\r\n        System.out.println(&quot;The final string is&quot;+res);\r\n\r\n\r\nBut a better java ***regex*** way is :\r\n\r\nAfter reading value from scanner -\r\n\r\n        String res2 = str1.replaceAll( &quot;.[\\\\*]+.&quot;, &quot;&quot; );\r\n        System.out.println(&quot;The final string is&quot;+res2);\r\n","title":"remove characters before and after character in java","body":"<p>You can do it like this : </p>\n\n<pre><code>    String str1;\n    int n;\n\n    Scanner sc=new Scanner(System.in);\n    System.out.println(\"Enter the string\");\n    str1=sc.next();\n\n    sc.close();\n\n    StringBuffer a = new StringBuffer(str1);\n    n=a.length();\n    for(int i=0;i&lt;n;i++)\n    {\n        if(str1.charAt(i)=='*')\n        {\n            int aa = i-1;\n            int bb = i+1;\n            for(;bb&lt;n; bb++){\n                if(str1.charAt(bb)!='*'){\n                    break;\n                }\n            }\n            a.delete( aa, bb+1 );\n            i = bb;\n\n        }\n    }\n    String res = a.toString();\n    System.out.println(\"The final string is\"+res);\n</code></pre>\n\n<p>But a better java <strong><em>regex</em></strong> way is :</p>\n\n<p>After reading value from scanner -</p>\n\n<pre><code>    String res2 = str1.replaceAll( \".[\\\\*]+.\", \"\" );\n    System.out.println(\"The final string is\"+res2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2595174,"reputation":1462,"user_id":2249037,"accept_rate":62,"display_name":"Sh4m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510894523,"creation_date":1510894523,"answer_id":47343541,"question_id":47343366,"body_markdown":"Using @Vasan regex.. below is the code.\r\n\r\n    public static void main(String[] args) {\r\n            String str1;\r\n            String res=&quot;&quot;;\r\n            int n;\r\n    \r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Enter the string&quot;);\r\n            str1=sc.next();\r\n            res=str1;\r\n            StringBuffer a = new StringBuffer(str1);\r\n            n=str1.length()-1;\r\n            \r\n            String[] splitVal = str1.split(&quot;.\\\\*+.&quot;);\r\n            String newString =&quot;&quot;;\r\n            for(int i=0; i&lt;splitVal.length; i++){\r\n            \tnewString = newString + splitVal[i];\r\n            }\r\n            \r\n            System.out.println(&quot;The final string is &quot;+newString);\r\n        }\r\n\r\nHope you understand.","title":"remove characters before and after character in java","body":"<p>Using @Vasan regex.. below is the code.</p>\n\n<pre><code>public static void main(String[] args) {\n        String str1;\n        String res=\"\";\n        int n;\n\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"Enter the string\");\n        str1=sc.next();\n        res=str1;\n        StringBuffer a = new StringBuffer(str1);\n        n=str1.length()-1;\n\n        String[] splitVal = str1.split(\".\\\\*+.\");\n        String newString =\"\";\n        for(int i=0; i&lt;splitVal.length; i++){\n            newString = newString + splitVal[i];\n        }\n\n        System.out.println(\"The final string is \"+newString);\n    }\n</code></pre>\n\n<p>Hope you understand.</p>\n"},{"tags":[],"owner":{"account_id":1723011,"reputation":4272,"user_id":1578298,"accept_rate":47,"display_name":"Vijaya Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510894858,"creation_date":1510894858,"answer_id":47343591,"question_id":47343366,"body_markdown":"Try this:\r\n\r\n    public static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Enter the string&quot;);\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString str1 = sc.nextLine();\r\n\t\tString[] separated = str1.split(&quot;.\\\\*+.&quot;);\r\n\t\tString result = &quot;&quot;;\r\n\t\tfor(String str : separated) {\r\n\t\t\tresult += str;\r\n\t\t}\r\n\t\tSystem.out.println(result);\r\n\t}","title":"remove characters before and after character in java","body":"<p>Try this:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"Enter the string\");\n    Scanner sc = new Scanner(System.in);\n    String str1 = sc.nextLine();\n    String[] separated = str1.split(\".\\\\*+.\");\n    String result = \"\";\n    for(String str : separated) {\n        result += str;\n    }\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8838732,"reputation":16,"user_id":6601838,"display_name":"Suri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510901578,"creation_date":1510901578,"answer_id":47344888,"question_id":47343366,"body_markdown":"what if input is : \\*abc* or ab\\*c*de","title":"remove characters before and after character in java","body":"<p>what if input is : *abc* or ab*c*de</p>\n"}],"owner":{"account_id":8845463,"reputation":117,"user_id":6606363,"accept_rate":29,"display_name":"HariPriya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47343520,"answer_count":6,"score":1,"last_activity_date":1643896379,"creation_date":1510893323,"question_id":47343366,"body_markdown":"I need to delete all characters before and after a specific character using java programming\r\nfor example:\r\n\r\n**input:** `ab*cd` **output:**`ad`\r\n\r\n**input:** `ab**cd` **output:**`ad`\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Starstring {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str1;\r\n    \t\tString res=&quot;&quot;;\r\n    \t\tint n,i=0;\r\n    \t\t\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter the string&quot;);\r\n    \t\tstr1=sc.next();\r\n    \t\tres=str1;\r\n    \t\tStringBuffer a = new StringBuffer(str1);\r\n    \t\tn=str1.length()-1;\r\n    \t\tfor(i=0;i&lt;n;i++)\r\n    \t\t{\r\n    \t\t\tif(str1.charAt(i)==&#39;*&#39;)\r\n    \t\t\t{\r\n    \t\t\t\tres=a.delete(i-1, i+2).toString();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;The final string is&quot;+res);\r\n    \t}\r\n    \r\n    }\r\n\r\nI am getting expected output for `case 1` but `case 2` wrong output with ac as output.I don&#39;t know where I am going wrong.Someone please help me.Thanks in advance:)\r\n\r\n\r\n ","title":"remove characters before and after character in java","body":"<p>I need to delete all characters before and after a specific character using java programming\nfor example:</p>\n\n<p><strong>input:</strong> <code>ab*cd</code> <strong>output:</strong><code>ad</code></p>\n\n<p><strong>input:</strong> <code>ab**cd</code> <strong>output:</strong><code>ad</code></p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Starstring {\n    public static void main(String[] args) {\n        String str1;\n        String res=\"\";\n        int n,i=0;\n\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"Enter the string\");\n        str1=sc.next();\n        res=str1;\n        StringBuffer a = new StringBuffer(str1);\n        n=str1.length()-1;\n        for(i=0;i&lt;n;i++)\n        {\n            if(str1.charAt(i)=='*')\n            {\n                res=a.delete(i-1, i+2).toString();\n            }\n        }\n        System.out.println(\"The final string is\"+res);\n    }\n\n}\n</code></pre>\n\n<p>I am getting expected output for <code>case 1</code> but <code>case 2</code> wrong output with ac as output.I don't know where I am going wrong.Someone please help me.Thanks in advance:)</p>\n"},{"tags":["java","swing","layout-manager","springlayout"],"answers":[{"tags":[],"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643869906,"creation_date":1643869906,"answer_id":70966826,"question_id":70966055,"body_markdown":"You need to change\r\n```\r\nspringLayout.putConstraint(topConstraint, comp, padding, SpringLayout.NORTH, northComponent);\r\n```\r\nto\r\n```\r\nspringLayout.putConstraint(NORTH, comp, padding, topConstraint, northComponent);\r\n```","title":"How to use SpringLayout to arrange components vertically","body":"<p>You need to change</p>\n<pre><code>springLayout.putConstraint(topConstraint, comp, padding, SpringLayout.NORTH, northComponent);\n</code></pre>\n<p>to</p>\n<pre><code>springLayout.putConstraint(NORTH, comp, padding, topConstraint, northComponent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643892752,"creation_date":1643891421,"answer_id":70971329,"question_id":70966055,"body_markdown":"Here&#39;s what I finally came up with:\r\n\r\n    import static javax.swing.SpringLayout.EAST;\r\n    import static javax.swing.SpringLayout.NORTH;\r\n    import static javax.swing.SpringLayout.SOUTH;\r\n    import static javax.swing.SpringLayout.WEST;\r\n    \r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.LayoutManager;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SpringLayout;\r\n    \r\n    public class OneWidthPanel extends JPanel\r\n    {\r\n      private static final long serialVersionUID = 1L;\r\n      \r\n      private int padding = 5;\r\n      SpringLayout springLayout = new SpringLayout();\r\n      BoxLayout boxLayout = new BoxLayout(this, BoxLayout.PAGE_AXIS);\r\n      \r\n      public OneWidthPanel() \r\n      { \r\n        super();\r\n        setLayout(springLayout);\r\n      }\r\n      public OneWidthPanel(boolean isDoubleBuffered) { super(isDoubleBuffered); }\r\n      public OneWidthPanel(LayoutManager layout) { throw new IllegalArgumentException(&quot;Cannot set a layout manager on the OneWidthPanel class&quot;); }\r\n      public OneWidthPanel(LayoutManager l, boolean isDoubleBuffered) { throw new IllegalArgumentException(&quot;Cannot set a layout manager on the OneWidthPanel class&quot;); }\r\n      \r\n      private ArrayList&lt;Component&gt; componentList = new ArrayList&lt;&gt;();\r\n      \r\n      @Override\r\n      public Component add(Component comp)\r\n      {\r\n        super.add(comp);\r\n        \r\n        componentList.add(comp);\r\n        int listSize = componentList.size();\r\n    \r\n        String topConstraint;\r\n        Component northComponent;\r\n        if (listSize == 1)\r\n        {\r\n          topConstraint = NORTH;\r\n          northComponent = this;\r\n        }\r\n        else\r\n        {\r\n          topConstraint = SOUTH;\r\n          northComponent = componentList.get(listSize - 2);\r\n        }\r\n    \r\n        springLayout.putConstraint(NORTH, comp, padding, topConstraint, northComponent);\r\n        springLayout.putConstraint(WEST, comp, padding, WEST, this);\r\n    //    springLayout.putConstraint(EAST, comp, padding, EAST, this);\r\n        \r\n        return comp;\r\n      }\r\n      \r\n      public void finishedAdding()\r\n      {\r\n        Component lastComponent = componentList.get(componentList.size()-1);\r\n    //    springLayout.putConstraint(EAST,   this, padding, EAST,  lastComponent);\r\n        springLayout.putConstraint(SOUTH,  this, padding, SOUTH, lastComponent);\r\n        springLayout.putConstraint(WEST,   this, padding, WEST,  lastComponent);\r\n    \r\n        int maxComponentWidth = 0;\r\n        int panelHeight = padding;\r\n        \r\n        // calculate overall height and maximum width\r\n        for (Component component: componentList)\r\n        {\r\n          Dimension componentDimension = component.getPreferredSize();\r\n          maxComponentWidth = Math.max(maxComponentWidth, componentDimension.width);\r\n          panelHeight = panelHeight + componentDimension.height + padding;\r\n        }\r\n        \r\n        // for each component, set the component width and preferred height,\r\n        //    and set maximum width to MAX_VALUE; I was trying to get the components\r\n        //    to stretch, but that doesn&#39;t work.\r\n        for (Component component: componentList)\r\n        {\r\n          Dimension componentDimension = component.getPreferredSize();\r\n          Dimension newD = new Dimension(maxComponentWidth, componentDimension.height);\r\n    //      Dimension maxD = new Dimension(Integer.MAX_VALUE, componentDimension.height);\r\n          component.setPreferredSize(newD);\r\n          component.setMinimumSize(newD);\r\n          component.setMaximumSize(newD);\r\n        }\r\n        \r\n        // set panel dimensions\r\n        Dimension newD = new Dimension(maxComponentWidth + (padding*2), panelHeight);\r\n        this.setPreferredSize(newD);\r\n        this.setMinimumSize(newD);\r\n      }\r\n    }\r\n\r\nAnd the current tester:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    import rcutil.layout.OneWidthPanel;\r\n    \r\n    public class OneWidthPanelTester extends JFrame implements Runnable\r\n    {\r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        OneWidthPanelTester tester = new OneWidthPanelTester();\r\n        SwingUtilities.invokeLater(tester);\r\n      }\r\n      \r\n      public void run()\r\n      {\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        \r\n        JButton button1 = new JButton(&quot;ONE new button&quot;);\r\n        JButton button2 = new JButton(&quot;second b&quot;);\r\n        JRadioButton rButton = new JRadioButton(&quot;choose me&quot;);\r\n        JLabel label = new JLabel(&quot;I&#39;m last&quot;);\r\n        label.setBorder(BorderFactory.createLineBorder(Color.black));\r\n        JTextField textField = new JTextField(25);\r\n        \r\n        OneWidthPanel panel = new OneWidthPanel();\r\n        panel.add(button1);\r\n        panel.add(button2);\r\n        panel.add(rButton);\r\n        panel.add(label);\r\n        panel.add(textField);\r\n        panel.finishedAdding();\r\n        \r\n        add(panel, BorderLayout.CENTER);\r\n        pack();\r\n        setVisible(true);\r\n      }\r\n    \r\n    }\r\n\r\nThese components are displayed at the width of the widest component (by preferred size) that was added to the panel. The buttons do not stretch with the panel, but the text field does - I had thought setting the max size of the buttons and adding and EAST-direction constraint would stretch them, but it doesn&#39;t seem to, and I don&#39;t need that for what I&#39;m doing now.\r\n","title":"How to use SpringLayout to arrange components vertically","body":"<p>Here's what I finally came up with:</p>\n<pre><code>import static javax.swing.SpringLayout.EAST;\nimport static javax.swing.SpringLayout.NORTH;\nimport static javax.swing.SpringLayout.SOUTH;\nimport static javax.swing.SpringLayout.WEST;\n\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.LayoutManager;\nimport java.util.ArrayList;\n\nimport javax.swing.BoxLayout;\nimport javax.swing.JPanel;\nimport javax.swing.SpringLayout;\n\npublic class OneWidthPanel extends JPanel\n{\n  private static final long serialVersionUID = 1L;\n  \n  private int padding = 5;\n  SpringLayout springLayout = new SpringLayout();\n  BoxLayout boxLayout = new BoxLayout(this, BoxLayout.PAGE_AXIS);\n  \n  public OneWidthPanel() \n  { \n    super();\n    setLayout(springLayout);\n  }\n  public OneWidthPanel(boolean isDoubleBuffered) { super(isDoubleBuffered); }\n  public OneWidthPanel(LayoutManager layout) { throw new IllegalArgumentException(&quot;Cannot set a layout manager on the OneWidthPanel class&quot;); }\n  public OneWidthPanel(LayoutManager l, boolean isDoubleBuffered) { throw new IllegalArgumentException(&quot;Cannot set a layout manager on the OneWidthPanel class&quot;); }\n  \n  private ArrayList&lt;Component&gt; componentList = new ArrayList&lt;&gt;();\n  \n  @Override\n  public Component add(Component comp)\n  {\n    super.add(comp);\n    \n    componentList.add(comp);\n    int listSize = componentList.size();\n\n    String topConstraint;\n    Component northComponent;\n    if (listSize == 1)\n    {\n      topConstraint = NORTH;\n      northComponent = this;\n    }\n    else\n    {\n      topConstraint = SOUTH;\n      northComponent = componentList.get(listSize - 2);\n    }\n\n    springLayout.putConstraint(NORTH, comp, padding, topConstraint, northComponent);\n    springLayout.putConstraint(WEST, comp, padding, WEST, this);\n//    springLayout.putConstraint(EAST, comp, padding, EAST, this);\n    \n    return comp;\n  }\n  \n  public void finishedAdding()\n  {\n    Component lastComponent = componentList.get(componentList.size()-1);\n//    springLayout.putConstraint(EAST,   this, padding, EAST,  lastComponent);\n    springLayout.putConstraint(SOUTH,  this, padding, SOUTH, lastComponent);\n    springLayout.putConstraint(WEST,   this, padding, WEST,  lastComponent);\n\n    int maxComponentWidth = 0;\n    int panelHeight = padding;\n    \n    // calculate overall height and maximum width\n    for (Component component: componentList)\n    {\n      Dimension componentDimension = component.getPreferredSize();\n      maxComponentWidth = Math.max(maxComponentWidth, componentDimension.width);\n      panelHeight = panelHeight + componentDimension.height + padding;\n    }\n    \n    // for each component, set the component width and preferred height,\n    //    and set maximum width to MAX_VALUE; I was trying to get the components\n    //    to stretch, but that doesn't work.\n    for (Component component: componentList)\n    {\n      Dimension componentDimension = component.getPreferredSize();\n      Dimension newD = new Dimension(maxComponentWidth, componentDimension.height);\n//      Dimension maxD = new Dimension(Integer.MAX_VALUE, componentDimension.height);\n      component.setPreferredSize(newD);\n      component.setMinimumSize(newD);\n      component.setMaximumSize(newD);\n    }\n    \n    // set panel dimensions\n    Dimension newD = new Dimension(maxComponentWidth + (padding*2), panelHeight);\n    this.setPreferredSize(newD);\n    this.setMinimumSize(newD);\n  }\n}\n</code></pre>\n<p>And the current tester:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\nimport rcutil.layout.OneWidthPanel;\n\npublic class OneWidthPanelTester extends JFrame implements Runnable\n{\n  private static final long serialVersionUID = 1L;\n\n  public static void main(String[] args)\n  {\n    OneWidthPanelTester tester = new OneWidthPanelTester();\n    SwingUtilities.invokeLater(tester);\n  }\n  \n  public void run()\n  {\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n    \n    JButton button1 = new JButton(&quot;ONE new button&quot;);\n    JButton button2 = new JButton(&quot;second b&quot;);\n    JRadioButton rButton = new JRadioButton(&quot;choose me&quot;);\n    JLabel label = new JLabel(&quot;I'm last&quot;);\n    label.setBorder(BorderFactory.createLineBorder(Color.black));\n    JTextField textField = new JTextField(25);\n    \n    OneWidthPanel panel = new OneWidthPanel();\n    panel.add(button1);\n    panel.add(button2);\n    panel.add(rButton);\n    panel.add(label);\n    panel.add(textField);\n    panel.finishedAdding();\n    \n    add(panel, BorderLayout.CENTER);\n    pack();\n    setVisible(true);\n  }\n\n}\n</code></pre>\n<p>These components are displayed at the width of the widest component (by preferred size) that was added to the panel. The buttons do not stretch with the panel, but the text field does - I had thought setting the max size of the buttons and adding and EAST-direction constraint would stretch them, but it doesn't seem to, and I don't need that for what I'm doing now.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643896378,"creation_date":1643896378,"answer_id":70972506,"question_id":70966055,"body_markdown":"As Hitesh pointed out, you swapped the arguments to SpringLayout.putConstraints in your `add` method.  [The documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SpringLayout.html#putConstraint(java.lang.String,java.awt.Component,int,java.lang.String,java.awt.Component)) states:\r\n\r\n&gt;      public void putConstraint(String e1,\r\n&gt;                                Component c1,\r\n&gt;                                int pad,\r\n&gt;                                String e2,\r\n&gt;                                Component c2)\r\n&gt;\r\n&gt;…\r\n&gt;\r\n&gt;**Parameters:**  \r\n&gt;`e1` - the edge of the dependent  \r\n&gt;`c1` - the component of the dependent  \r\n&gt;`pad` - the fixed distance between dependent and anchor  \r\n&gt;`e2` - the edge of the anchor  \r\n&gt;`c2` - the component of the anchor\r\n\r\nThe first two arguments are the “dependent”—that is, the component you want to position.  The last two arguments are the “anchor”—that is, the other component (or the container) on which the component being positioned will rely.\r\n\r\nBut that’s not the entire problem.  To make all components the same width, you want to aggregate all of their heights using a [Spring](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Spring.html) which is built using [Spring.max](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Spring.html#max(javax.swing.Spring,javax.swing.Spring)).\r\n\r\nA [Spring based on a component](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Spring.html#width(java.awt.Component)) is a “live” object:  the exact minimum, preferred, and maximum values change whenever they change in the respective component.  So the maximum of all those component-based Spring objects would be the width you want to apply to all of them.\r\n\r\nStart by keeping the components’ width in a private field:\r\n\r\n    private Spring width = Spring.constant(0);\r\n\r\nThen, in your `add` method, you only need one call to `putConstraints`.  For the time being, don’t attach the horizontal dimensions of the component:\r\n\r\n    springLayout.putConstraint(NORTH, comp, padding, topConstraint, northComponent );\r\n    width = Spring.max(width, Spring.width(comp));\r\n\r\nFinally, in `finishedAdding`, use that “intelligent” Spring as both the width of the container, and the width of each component.\r\n\r\n    public void finishedAdding()\r\n    {\r\n      Component lastComponent = componentList.get(componentList.size()-1);\r\n      springLayout.putConstraint(EAST,   this, width,   WEST,  this);\r\n      springLayout.putConstraint(SOUTH,  this, padding, SOUTH, lastComponent);\r\n  \r\n      // Make every component&#39;s width fill this container.\r\n      for (Component comp : componentList) {\r\n        springLayout.putConstraint(WEST, comp, 0, WEST, this);\r\n        springLayout.putConstraint(EAST, comp, width, WEST, this);\r\n      }\r\n    }\r\n\r\nFirst, we bind the container&#39;s width to the maximum width of all components (and its height to the last component).  Then, to make sure each component stretches to fill the container’s width, we attach both its east and west sides to the container.\r\n\r\nFor what it’s worth, you don’t actually need SpringLayout for this.  [Box](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Box.html) can do what you want, without the need for a specialized class:\r\n\r\n    JButton button1 = new JButton(&quot;ONE new button&quot;);\r\n    JButton button2 = new JButton(&quot;second b&quot;);\r\n    JRadioButton rButton = new JRadioButton(&quot;choose me&quot;);\r\n\r\n    int padding = 5;\r\n\r\n    Box panel = Box.createVerticalBox();\r\n    panel.add(button1);\r\n    panel.add(Box.createVerticalStrut(padding));\r\n    panel.add(button2);\r\n    panel.add(Box.createVerticalStrut(padding));\r\n    panel.add(rButton);\r\n\r\n    for (Component comp : panel.getComponents()) {\r\n        Dimension size = comp.getMaximumSize();\r\n        size.width = Integer.MAX_VALUE;\r\n        comp.setMaximumSize(size);\r\n    }\r\n","title":"How to use SpringLayout to arrange components vertically","body":"<p>As Hitesh pointed out, you swapped the arguments to SpringLayout.putConstraints in your <code>add</code> method.  <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SpringLayout.html#putConstraint(java.lang.String,java.awt.Component,int,java.lang.String,java.awt.Component)\" rel=\"nofollow noreferrer\">The documentation</a> states:</p>\n<blockquote>\n<pre><code> public void putConstraint(String e1,\n                           Component c1,\n                           int pad,\n                           String e2,\n                           Component c2)\n</code></pre>\n<p>…</p>\n<p><strong>Parameters:</strong><br />\n<code>e1</code> - the edge of the dependent<br />\n<code>c1</code> - the component of the dependent<br />\n<code>pad</code> - the fixed distance between dependent and anchor<br />\n<code>e2</code> - the edge of the anchor<br />\n<code>c2</code> - the component of the anchor</p>\n</blockquote>\n<p>The first two arguments are the “dependent”—that is, the component you want to position.  The last two arguments are the “anchor”—that is, the other component (or the container) on which the component being positioned will rely.</p>\n<p>But that’s not the entire problem.  To make all components the same width, you want to aggregate all of their heights using a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Spring.html\" rel=\"nofollow noreferrer\">Spring</a> which is built using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Spring.html#max(javax.swing.Spring,javax.swing.Spring)\" rel=\"nofollow noreferrer\">Spring.max</a>.</p>\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Spring.html#width(java.awt.Component)\" rel=\"nofollow noreferrer\">Spring based on a component</a> is a “live” object:  the exact minimum, preferred, and maximum values change whenever they change in the respective component.  So the maximum of all those component-based Spring objects would be the width you want to apply to all of them.</p>\n<p>Start by keeping the components’ width in a private field:</p>\n<pre><code>private Spring width = Spring.constant(0);\n</code></pre>\n<p>Then, in your <code>add</code> method, you only need one call to <code>putConstraints</code>.  For the time being, don’t attach the horizontal dimensions of the component:</p>\n<pre><code>springLayout.putConstraint(NORTH, comp, padding, topConstraint, northComponent );\nwidth = Spring.max(width, Spring.width(comp));\n</code></pre>\n<p>Finally, in <code>finishedAdding</code>, use that “intelligent” Spring as both the width of the container, and the width of each component.</p>\n<pre><code>public void finishedAdding()\n{\n  Component lastComponent = componentList.get(componentList.size()-1);\n  springLayout.putConstraint(EAST,   this, width,   WEST,  this);\n  springLayout.putConstraint(SOUTH,  this, padding, SOUTH, lastComponent);\n\n  // Make every component's width fill this container.\n  for (Component comp : componentList) {\n    springLayout.putConstraint(WEST, comp, 0, WEST, this);\n    springLayout.putConstraint(EAST, comp, width, WEST, this);\n  }\n}\n</code></pre>\n<p>First, we bind the container's width to the maximum width of all components (and its height to the last component).  Then, to make sure each component stretches to fill the container’s width, we attach both its east and west sides to the container.</p>\n<p>For what it’s worth, you don’t actually need SpringLayout for this.  <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Box.html\" rel=\"nofollow noreferrer\">Box</a> can do what you want, without the need for a specialized class:</p>\n<pre><code>JButton button1 = new JButton(&quot;ONE new button&quot;);\nJButton button2 = new JButton(&quot;second b&quot;);\nJRadioButton rButton = new JRadioButton(&quot;choose me&quot;);\n\nint padding = 5;\n\nBox panel = Box.createVerticalBox();\npanel.add(button1);\npanel.add(Box.createVerticalStrut(padding));\npanel.add(button2);\npanel.add(Box.createVerticalStrut(padding));\npanel.add(rButton);\n\nfor (Component comp : panel.getComponents()) {\n    Dimension size = comp.getMaximumSize();\n    size.width = Integer.MAX_VALUE;\n    comp.setMaximumSize(size);\n}\n</code></pre>\n"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70966826,"answer_count":3,"score":1,"last_activity_date":1643896378,"creation_date":1643863504,"question_id":70966055,"body_markdown":"There&#39;s clearly something I don&#39;t understand about SpringLayout. I&#39;m trying to create a class, an extension of JPanel, that allows me to add components and have them appear vertically, all the same width.\r\n\r\nMy extension of JPanel would set its LayoutManager to use SpringLayout, and each time a component was added it would put in the SpringLayout constraints to attach it, to the panel for the first component, and then each component to the previous one.\r\n\r\nFirst, here&#39;s an Oracle-written example of using SpringLayout that I altered to put components vertically instead of horizontally:\r\n\r\n    /*\r\n     * Copyright (c) 1995, 2008, Oracle and/or its affiliates. All rights reserved.\r\n     *\r\n     * Redistribution and use in source and binary forms, with or without\r\n     * modification, are permitted provided that the following conditions\r\n     * are met:\r\n     *\r\n     *   - Redistributions of source code must retain the above copyright\r\n     *     notice, this list of conditions and the following disclaimer.\r\n     *\r\n     *   - Redistributions in binary form must reproduce the above copyright\r\n     *     notice, this list of conditions and the following disclaimer in the\r\n     *     documentation and/or other materials provided with the distribution.\r\n     *\r\n     *   - Neither the name of Oracle or the names of its\r\n     *     contributors may be used to endorse or promote products derived\r\n     *     from this software without specific prior written permission.\r\n     *\r\n     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\r\n     * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\r\n     * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\r\n     * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\r\n     * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n     * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\r\n     * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n     * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n     * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n     * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n     */\r\n    \r\n    import javax.swing.SpringLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JTextField;\r\n    import java.awt.Container;\r\n    \r\n    public class SpringDemo3\r\n    {\r\n      /**\r\n       * Create the GUI and show it. For thread safety, this method should be\r\n       * invoked from the event-dispatching thread.\r\n       */\r\n      private static void createAndShowGUI()\r\n      {\r\n        // Create and set up the window.\r\n        JFrame frame = new JFrame(&quot;SpringDemo3&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n        // Set up the content pane.\r\n        Container contentPane = frame.getContentPane();\r\n        SpringLayout layout = new SpringLayout();\r\n        contentPane.setLayout(layout);\r\n    \r\n        // Create and add the components.\r\n        JLabel label = new JLabel(&quot;Label: &quot;);\r\n        JTextField textField = new JTextField(&quot;Text field&quot;, 15);\r\n        contentPane.add(label);\r\n        contentPane.add(textField);\r\n    \r\n        // Adjust constraints for the label so it&#39;s at (5,5).\r\n        layout.putConstraint(SpringLayout.WEST, label, 5, SpringLayout.WEST, contentPane);\r\n        layout.putConstraint(SpringLayout.NORTH, label, 5, SpringLayout.NORTH, contentPane);\r\n    \r\n        // Adjust constraints for the text field so it&#39;s at\r\n        // (&lt;label&#39;s right edge&gt; + 5, 5).\r\n    //    layout.putConstraint(SpringLayout.WEST, textField, 5, SpringLayout.EAST, label);\r\n    //    layout.putConstraint(SpringLayout.EAST, textField, 5, SpringLayout.EAST, contentPane);\r\n        layout.putConstraint(SpringLayout.NORTH, textField, 5, SpringLayout.SOUTH, label);\r\n    \r\n        // Adjust constraints for the content pane: Its right\r\n        // edge should be 5 pixels beyond the text field&#39;s right\r\n        // edge, and its bottom edge should be 5 pixels beyond\r\n        // the bottom edge of the tallest component (which we&#39;ll\r\n        // assume is textField).\r\n        layout.putConstraint(SpringLayout.EAST, contentPane, 5, SpringLayout.EAST, textField);\r\n        layout.putConstraint(SpringLayout.SOUTH, contentPane, 5, SpringLayout.SOUTH, textField);\r\n    \r\n        // Display the window.\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        // Schedule a job for the event-dispatching thread:\r\n        // creating and showing this application&#39;s GUI.\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable()\r\n        {\r\n          public void run()\r\n          {\r\n            createAndShowGUI();\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\nBased on what I understood SpringLayout requires, I wrote the following:\r\n\r\n    import java.awt.Component;\r\n    import java.awt.LayoutManager;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.swing.JPanel;\r\n    import javax.swing.SpringLayout;\r\n    \r\n    import static javax.swing.SpringLayout.NORTH;\r\n    import static javax.swing.SpringLayout.EAST;\r\n    import static javax.swing.SpringLayout.SOUTH;\r\n    import static javax.swing.SpringLayout.WEST;\r\n    \r\n    public class OneWidthPanel extends JPanel\r\n    {\r\n      private static final long serialVersionUID = 1L;\r\n      \r\n      private int padding = 5;\r\n      SpringLayout springLayout = new SpringLayout();\r\n      \r\n      public OneWidthPanel() { super(); setLayout(springLayout); }\r\n      public OneWidthPanel(boolean isDoubleBuffered) { super(isDoubleBuffered); }\r\n      public OneWidthPanel(LayoutManager layout) { throw new IllegalArgumentException(&quot;Cannot set a layout manager on the OneWidthPanel class&quot;); }\r\n      public OneWidthPanel(LayoutManager l, boolean isDoubleBuffered) { throw new IllegalArgumentException(&quot;Cannot set a layout manager on the OneWidthPanel class&quot;); }\r\n      \r\n      private ArrayList&lt;Component&gt; componentList = new ArrayList&lt;&gt;();\r\n      \r\n      @Override\r\n      public Component add(Component comp)\r\n      {\r\n        super.add(comp);\r\n        \r\n        componentList.add(comp);\r\n        int listSize = componentList.size();\r\n        \r\n        String topConstraint;\r\n        Component northComponent;\r\n        if (listSize == 1)\r\n        {\r\n          topConstraint = NORTH;\r\n          northComponent = this;\r\n        }\r\n        else\r\n        {\r\n          topConstraint = SOUTH;\r\n          northComponent = componentList.get(listSize - 2);\r\n        }\r\n    \r\n        springLayout.putConstraint(topConstraint, northComponent, padding, SpringLayout.NORTH, comp);\r\n        springLayout.putConstraint(WEST, this, padding, WEST, comp);\r\n        springLayout.putConstraint(EAST, this, padding, EAST, comp);\r\n        \r\n        return comp;\r\n      }\r\n      \r\n      public void finishedAdding()\r\n      {\r\n        Component lastComponent = componentList.get(componentList.size()-1);\r\n        springLayout.putConstraint(EAST,   this, padding, EAST,  lastComponent);\r\n        springLayout.putConstraint(SOUTH,  this, padding, SOUTH, lastComponent);\r\n      }\r\n    }\r\n\r\nHere&#39;s a little program to test it:\r\n\r\n    import java.awt.BorderLayout;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JRadioButton;\r\n    \r\n    import rcutil.layout.OneWidthPanel;\r\n    \r\n    public class OneWidthPanelTester extends JFrame\r\n    {\r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        OneWidthPanelTester tester = new OneWidthPanelTester();\r\n        tester.go();\r\n      }\r\n      \r\n      public void go()\r\n      {\r\n        OneWidthPanel panel = new OneWidthPanel();\r\n        JButton button1 = new JButton(&quot;ONE new button&quot;);\r\n        JButton button2 = new JButton(&quot;second b&quot;);\r\n        JRadioButton rButton = new JRadioButton(&quot;choose me&quot;);\r\n        \r\n        panel.add(button1);\r\n        panel.add(button2);\r\n        panel.add(rButton);\r\n        panel.finishedAdding();\r\n        \r\n        add(panel, BorderLayout.WEST);\r\n        pack();\r\n        setVisible(true);\r\n      }\r\n    \r\n    }\r\n\r\nThe components appear on top of each other at the top of the panel. I thought setting the constraints of each one, as I added it, to connect the north end of each component to the south edge of the previous component, would line them up vertically in the order added. I have the `finishedAdding()` method so that I can wrap up the last component&#39;s connection to its container, as told in the &quot;How to use SpringLayout&quot; tutorial at https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html, and as done in the demo program I copied.\r\n\r\nI don&#39;t understand why my components overlay each other but the (two) demo components are next to each other vertically. And am I going to be able to satisfy my original desire, which is to have the vertical components stretch to be the same size in the panel?\r\n\r\n","title":"How to use SpringLayout to arrange components vertically","body":"<p>There's clearly something I don't understand about SpringLayout. I'm trying to create a class, an extension of JPanel, that allows me to add components and have them appear vertically, all the same width.</p>\n<p>My extension of JPanel would set its LayoutManager to use SpringLayout, and each time a component was added it would put in the SpringLayout constraints to attach it, to the panel for the first component, and then each component to the previous one.</p>\n<p>First, here's an Oracle-written example of using SpringLayout that I altered to put components vertically instead of horizontally:</p>\n<pre><code>/*\n * Copyright (c) 1995, 2008, Oracle and/or its affiliates. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n *   - Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n *\n *   - Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n *\n *   - Neither the name of Oracle or the names of its\n *     contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\n * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport javax.swing.SpringLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JTextField;\nimport java.awt.Container;\n\npublic class SpringDemo3\n{\n  /**\n   * Create the GUI and show it. For thread safety, this method should be\n   * invoked from the event-dispatching thread.\n   */\n  private static void createAndShowGUI()\n  {\n    // Create and set up the window.\n    JFrame frame = new JFrame(&quot;SpringDemo3&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    // Set up the content pane.\n    Container contentPane = frame.getContentPane();\n    SpringLayout layout = new SpringLayout();\n    contentPane.setLayout(layout);\n\n    // Create and add the components.\n    JLabel label = new JLabel(&quot;Label: &quot;);\n    JTextField textField = new JTextField(&quot;Text field&quot;, 15);\n    contentPane.add(label);\n    contentPane.add(textField);\n\n    // Adjust constraints for the label so it's at (5,5).\n    layout.putConstraint(SpringLayout.WEST, label, 5, SpringLayout.WEST, contentPane);\n    layout.putConstraint(SpringLayout.NORTH, label, 5, SpringLayout.NORTH, contentPane);\n\n    // Adjust constraints for the text field so it's at\n    // (&lt;label's right edge&gt; + 5, 5).\n//    layout.putConstraint(SpringLayout.WEST, textField, 5, SpringLayout.EAST, label);\n//    layout.putConstraint(SpringLayout.EAST, textField, 5, SpringLayout.EAST, contentPane);\n    layout.putConstraint(SpringLayout.NORTH, textField, 5, SpringLayout.SOUTH, label);\n\n    // Adjust constraints for the content pane: Its right\n    // edge should be 5 pixels beyond the text field's right\n    // edge, and its bottom edge should be 5 pixels beyond\n    // the bottom edge of the tallest component (which we'll\n    // assume is textField).\n    layout.putConstraint(SpringLayout.EAST, contentPane, 5, SpringLayout.EAST, textField);\n    layout.putConstraint(SpringLayout.SOUTH, contentPane, 5, SpringLayout.SOUTH, textField);\n\n    // Display the window.\n    frame.pack();\n    frame.setVisible(true);\n  }\n\n  public static void main(String[] args)\n  {\n    // Schedule a job for the event-dispatching thread:\n    // creating and showing this application's GUI.\n    javax.swing.SwingUtilities.invokeLater(new Runnable()\n    {\n      public void run()\n      {\n        createAndShowGUI();\n      }\n    });\n  }\n}\n</code></pre>\n<p>Based on what I understood SpringLayout requires, I wrote the following:</p>\n<pre><code>import java.awt.Component;\nimport java.awt.LayoutManager;\nimport java.util.ArrayList;\n\nimport javax.swing.JPanel;\nimport javax.swing.SpringLayout;\n\nimport static javax.swing.SpringLayout.NORTH;\nimport static javax.swing.SpringLayout.EAST;\nimport static javax.swing.SpringLayout.SOUTH;\nimport static javax.swing.SpringLayout.WEST;\n\npublic class OneWidthPanel extends JPanel\n{\n  private static final long serialVersionUID = 1L;\n  \n  private int padding = 5;\n  SpringLayout springLayout = new SpringLayout();\n  \n  public OneWidthPanel() { super(); setLayout(springLayout); }\n  public OneWidthPanel(boolean isDoubleBuffered) { super(isDoubleBuffered); }\n  public OneWidthPanel(LayoutManager layout) { throw new IllegalArgumentException(&quot;Cannot set a layout manager on the OneWidthPanel class&quot;); }\n  public OneWidthPanel(LayoutManager l, boolean isDoubleBuffered) { throw new IllegalArgumentException(&quot;Cannot set a layout manager on the OneWidthPanel class&quot;); }\n  \n  private ArrayList&lt;Component&gt; componentList = new ArrayList&lt;&gt;();\n  \n  @Override\n  public Component add(Component comp)\n  {\n    super.add(comp);\n    \n    componentList.add(comp);\n    int listSize = componentList.size();\n    \n    String topConstraint;\n    Component northComponent;\n    if (listSize == 1)\n    {\n      topConstraint = NORTH;\n      northComponent = this;\n    }\n    else\n    {\n      topConstraint = SOUTH;\n      northComponent = componentList.get(listSize - 2);\n    }\n\n    springLayout.putConstraint(topConstraint, northComponent, padding, SpringLayout.NORTH, comp);\n    springLayout.putConstraint(WEST, this, padding, WEST, comp);\n    springLayout.putConstraint(EAST, this, padding, EAST, comp);\n    \n    return comp;\n  }\n  \n  public void finishedAdding()\n  {\n    Component lastComponent = componentList.get(componentList.size()-1);\n    springLayout.putConstraint(EAST,   this, padding, EAST,  lastComponent);\n    springLayout.putConstraint(SOUTH,  this, padding, SOUTH, lastComponent);\n  }\n}\n</code></pre>\n<p>Here's a little program to test it:</p>\n<pre><code>import java.awt.BorderLayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JRadioButton;\n\nimport rcutil.layout.OneWidthPanel;\n\npublic class OneWidthPanelTester extends JFrame\n{\n  private static final long serialVersionUID = 1L;\n\n  public static void main(String[] args)\n  {\n    OneWidthPanelTester tester = new OneWidthPanelTester();\n    tester.go();\n  }\n  \n  public void go()\n  {\n    OneWidthPanel panel = new OneWidthPanel();\n    JButton button1 = new JButton(&quot;ONE new button&quot;);\n    JButton button2 = new JButton(&quot;second b&quot;);\n    JRadioButton rButton = new JRadioButton(&quot;choose me&quot;);\n    \n    panel.add(button1);\n    panel.add(button2);\n    panel.add(rButton);\n    panel.finishedAdding();\n    \n    add(panel, BorderLayout.WEST);\n    pack();\n    setVisible(true);\n  }\n\n}\n</code></pre>\n<p>The components appear on top of each other at the top of the panel. I thought setting the constraints of each one, as I added it, to connect the north end of each component to the south edge of the previous component, would line them up vertically in the order added. I have the <code>finishedAdding()</code> method so that I can wrap up the last component's connection to its container, as told in the &quot;How to use SpringLayout&quot; tutorial at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html</a>, and as done in the demo program I copied.</p>\n<p>I don't understand why my components overlay each other but the (two) demo components are next to each other vertically. And am I going to be able to satisfy my original desire, which is to have the vertical components stretch to be the same size in the panel?</p>\n"},{"tags":["java","linux","ubuntu"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643896286,"creation_date":1643896286,"answer_id":70972487,"question_id":70972012,"body_markdown":"Your Java 8 install is only for the *Java Runtime Environment* (JRE). Therefore, it won&#39;t have a Java compiler (*javac*). The compiler is part of the *Java Development Kit* (JDK). \r\n\r\nTry installing Java 8 JDK: `sudo apt-get install openjdk-8-jdk`. It is likely that your Java 11 distribution is also a JRE-only install. If you need it, just install it the same way as I showed you for Java 8.","title":"I can&#39;t find the javac for versions other than java17","body":"<p>Your Java 8 install is only for the <em>Java Runtime Environment</em> (JRE). Therefore, it won't have a Java compiler (<em>javac</em>). The compiler is part of the <em>Java Development Kit</em> (JDK).</p>\n<p>Try installing Java 8 JDK: <code>sudo apt-get install openjdk-8-jdk</code>. It is likely that your Java 11 distribution is also a JRE-only install. If you need it, just install it the same way as I showed you for Java 8.</p>\n"}],"owner":{"account_id":18328055,"reputation":198,"user_id":13347255,"display_name":"Atul Anand Oraon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70972487,"answer_count":1,"score":1,"last_activity_date":1643896286,"creation_date":1643894340,"question_id":70972012,"body_markdown":"I have installed multiple versions of java on my Linux mint mate 20.\r\nI can find the multiple Java versions. But I can&#39;t find the multiple *javac* versions, *javac* is only present for Java 17.\r\n\r\nI have installed all the Java version using\r\n`sudo apt-get install openjdk-x-jdk`, where `x` is the the Java version.\r\n\r\nThis is the log of `sudo update-alternatives --config java`\r\n\r\n```\r\nThere are 3 choices for the alternative java (providing /usr/bin/java).\r\n\r\n  Selection    Path                                            Priority   Status\r\n------------------------------------------------------------\r\n  0            /usr/lib/jvm/java-17-openjdk-amd64/bin/java      1711      auto mode\r\n  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\r\n* 2            /usr/lib/jvm/java-17-openjdk-amd64/bin/java      1711      manual mode\r\n  3            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\r\n\r\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: \r\n\r\n```\r\n\r\nThis is the log of `sudo update-alternatives --config javac`\r\n\r\n```\r\natul@mintMate:~$ sudo update-alternatives --config javac\r\nThere is only one alternative in link group javac (providing /usr/bin/javac): /usr/lib/jvm/java-17-openjdk-amd64/bin/javac\r\nNothing to configure.\r\natul@mintMate:~$ \r\n\r\n```\r\n\r\nThis is my terminal log\r\n```\r\natul@mintMate:~$ java -version\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\nOpenJDK Runtime Environment (build 17.0.1+12-Ubuntu-120.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.1+12-Ubuntu-120.04, mixed mode, sharing)\r\natul@mintMate:~$ javac -version\r\njavac 17.0.1\r\n```\r\n\r\nIs there a way to install or locate *javac* in the openjdk-amd64/bin/ folder. As I have already tried to look for them manually using the ***tree*** command.\r\n","title":"I can&#39;t find the javac for versions other than java17","body":"<p>I have installed multiple versions of java on my Linux mint mate 20.\nI can find the multiple Java versions. But I can't find the multiple <em>javac</em> versions, <em>javac</em> is only present for Java 17.</p>\n<p>I have installed all the Java version using\n<code>sudo apt-get install openjdk-x-jdk</code>, where <code>x</code> is the the Java version.</p>\n<p>This is the log of <code>sudo update-alternatives --config java</code></p>\n<pre><code>There are 3 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                            Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/java-17-openjdk-amd64/bin/java      1711      auto mode\n  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\n* 2            /usr/lib/jvm/java-17-openjdk-amd64/bin/java      1711      manual mode\n  3            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: \n\n</code></pre>\n<p>This is the log of <code>sudo update-alternatives --config javac</code></p>\n<pre><code>atul@mintMate:~$ sudo update-alternatives --config javac\nThere is only one alternative in link group javac (providing /usr/bin/javac): /usr/lib/jvm/java-17-openjdk-amd64/bin/javac\nNothing to configure.\natul@mintMate:~$ \n\n</code></pre>\n<p>This is my terminal log</p>\n<pre><code>atul@mintMate:~$ java -version\nopenjdk version &quot;17.0.1&quot; 2021-10-19\nOpenJDK Runtime Environment (build 17.0.1+12-Ubuntu-120.04)\nOpenJDK 64-Bit Server VM (build 17.0.1+12-Ubuntu-120.04, mixed mode, sharing)\natul@mintMate:~$ javac -version\njavac 17.0.1\n</code></pre>\n<p>Is there a way to install or locate <em>javac</em> in the openjdk-amd64/bin/ folder. As I have already tried to look for them manually using the <em><strong>tree</strong></em> command.</p>\n"},{"tags":["java","spring-data-jpa","jpa-2.0"],"comments":[{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":0,"creation_date":1635091203,"post_id":57815919,"comment_id":123197118,"body_markdown":"The question is unclear. Could you explain your need a bit better? I understood your code but I didn&#39;t understand your requirement.","body":"The question is unclear. Could you explain your need a bit better? I understood your code but I didn&#39;t understand your requirement."}],"answers":[{"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643896248,"creation_date":1643896248,"answer_id":70972482,"question_id":57815919,"body_markdown":"Sometimes it is a good idea to create a special &quot;query entity&quot; class that includes everything that is needed to respond to a certain kind of client request.\r\n\r\nThe general idea is like this:\r\n\r\nLet&#39;s say you&#39;d have two classes in you domain:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;table_a&quot;)\r\npublic class A {\r\n\r\n  @Id int id;\r\n  String propertyA;\r\n  int bId;\r\n}\r\n\r\n@Entity\r\npublic class B {\r\n  @Id int id;\r\n  String propertyB;\r\n}\r\n```\r\n\r\nAnd then you&#39;d combine the two two the mentioned &quot;query entity&quot; (outside of the domain).\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;table_a&quot;)\r\npublic class QueryEntity {\r\n  private @Id private int aId;\r\n  private String propertyA;\r\n  private B b;\r\n\r\n  public String propertyA() {\r\n    return propertyA;\r\n  }\r\n\r\n  public String propertyB() {\r\n    return b.propertyB;\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m not quite sure whether this approach is applicable in your case, but hopefully it makes the idea clear.","title":"Merge multiple Spring JPA Page objects results","body":"<p>Sometimes it is a good idea to create a special &quot;query entity&quot; class that includes everything that is needed to respond to a certain kind of client request.</p>\n<p>The general idea is like this:</p>\n<p>Let's say you'd have two classes in you domain:</p>\n<pre><code>@Entity\n@Table(name = &quot;table_a&quot;)\npublic class A {\n\n  @Id int id;\n  String propertyA;\n  int bId;\n}\n\n@Entity\npublic class B {\n  @Id int id;\n  String propertyB;\n}\n</code></pre>\n<p>And then you'd combine the two two the mentioned &quot;query entity&quot; (outside of the domain).</p>\n<pre><code>@Entity\n@Table(name = &quot;table_a&quot;)\npublic class QueryEntity {\n  private @Id private int aId;\n  private String propertyA;\n  private B b;\n\n  public String propertyA() {\n    return propertyA;\n  }\n\n  public String propertyB() {\n    return b.propertyB;\n  }\n}\n</code></pre>\n<p>I'm not quite sure whether this approach is applicable in your case, but hopefully it makes the idea clear.</p>\n"}],"owner":{"account_id":5439134,"reputation":255,"user_id":4327661,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5183,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1643896248,"creation_date":1567745601,"question_id":57815919,"body_markdown":"My initial requirement was to fetch Car details as:\r\n\r\n```java\r\nList&lt;String&gt; carMake = getUserCarMake();\r\nPage&lt;Car&gt; carDetails = carRepository.findAllCarsInfo(carMake, pageRequest);\r\n```\r\n**CarRepository.java**\r\n\r\n```java\r\n@Query(value=&quot;SELECT A FROM Cars A WHERE A.model = ?1 \r\n public Page&lt;Cars&gt; findAllCarsInfo(List&lt;String&gt; carMake, Pageable pageRequest);\r\n```\r\n\r\nNow my requirement has changed to fetch car details based car models for each car make. So I have changed the code as shown\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```java\r\n\r\nfor (Cars car : userCars) {\r\n    String carMake = car.getCarMake();\r\n       List&lt;String&gt; carModelForMake = new ArrayList&lt;&gt;();\r\n       List &lt;CarModels&gt; carModelList  = car.getCarModels();\r\n        for (CarModels carModel : carModelList) {\r\n            carModelForMake.add(carModel.getModelName());\r\n\r\n\tPage&lt;Car&gt; carDetails = carRepository.findAllCarsInfo(carModelForMake, carMake, pageRequest)\r\n        }\r\n     \r\n    }\r\n```\r\n**CarRepository.java**\r\n```java\r\n@Query(value=&quot;SELECT A FROM Cars A WHERE A.model IN ?1 AND A.make = ?2” \r\n\r\npublic Page&lt;Car&gt; findAllCarsInfo(List&lt;String&gt; carModel, String carMake,Pageable pageRequest);\r\n```\r\n\r\nSo for each car i have a carMake and corresponding carModels for that make which i then pass to the query to fetch carDetails which is a Page Object. As a result same query is called multiple times for different carMake.\r\nThe problem is how do I manage the Page object here. In the above scenario the Page object will contain only the details of last car from the carModelList, rest will be overwritten as I do not\r\nhave an option of carDetails.addAll() as in case of List.\r\n\r\n**Note:** I cannot use the  below query as the model can overlap across different makes.\r\n```java\r\nSELECT A FROM Cars A WHERE A.model IN ?1 AND A.make IN ?2\r\n```\r\n\r\nAlso my pageRequest has size as (0, 20 )\r\n\r\nI have tried to modify the query to remove pageRequest and use findAll to fetch the results in List and then convert them to PageObject but that breaks the pagination because the page.getContent() has the entire result set and not just 20 records.\r\n```java\r\nPage&lt;Car&gt; carDetails = new PageImpl &lt;&gt;(carDetailsList, pageRequest, carDetailsList.size());\r\n```\r\nHow can I effectively get Page object or merge different page objects here so that my pagination works as it did in my previous requirement.","title":"Merge multiple Spring JPA Page objects results","body":"<p>My initial requirement was to fetch Car details as:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; carMake = getUserCarMake();\nPage&lt;Car&gt; carDetails = carRepository.findAllCarsInfo(carMake, pageRequest);\n</code></pre>\n\n<p><strong>CarRepository.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value=\"SELECT A FROM Cars A WHERE A.model = ?1 \n public Page&lt;Cars&gt; findAllCarsInfo(List&lt;String&gt; carMake, Pageable pageRequest);\n</code></pre>\n\n<p>Now my requirement has changed to fetch car details based car models for each car make. So I have changed the code as shown</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\nfor (Cars car : userCars) {\n    String carMake = car.getCarMake();\n       List&lt;String&gt; carModelForMake = new ArrayList&lt;&gt;();\n       List &lt;CarModels&gt; carModelList  = car.getCarModels();\n        for (CarModels carModel : carModelList) {\n            carModelForMake.add(carModel.getModelName());\n\n    Page&lt;Car&gt; carDetails = carRepository.findAllCarsInfo(carModelForMake, carMake, pageRequest)\n        }\n\n    }\n</code></pre>\n\n<p><strong>CarRepository.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value=\"SELECT A FROM Cars A WHERE A.model IN ?1 AND A.make = ?2” \n\npublic Page&lt;Car&gt; findAllCarsInfo(List&lt;String&gt; carModel, String carMake,Pageable pageRequest);\n</code></pre>\n\n<p>So for each car i have a carMake and corresponding carModels for that make which i then pass to the query to fetch carDetails which is a Page Object. As a result same query is called multiple times for different carMake.\nThe problem is how do I manage the Page object here. In the above scenario the Page object will contain only the details of last car from the carModelList, rest will be overwritten as I do not\nhave an option of carDetails.addAll() as in case of List.</p>\n\n<p><strong>Note:</strong> I cannot use the  below query as the model can overlap across different makes.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SELECT A FROM Cars A WHERE A.model IN ?1 AND A.make IN ?2\n</code></pre>\n\n<p>Also my pageRequest has size as (0, 20 )</p>\n\n<p>I have tried to modify the query to remove pageRequest and use findAll to fetch the results in List and then convert them to PageObject but that breaks the pagination because the page.getContent() has the entire result set and not just 20 records.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Page&lt;Car&gt; carDetails = new PageImpl &lt;&gt;(carDetailsList, pageRequest, carDetailsList.size());\n</code></pre>\n\n<p>How can I effectively get Page object or merge different page objects here so that my pagination works as it did in my previous requirement.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643866894,"post_id":70966198,"comment_id":125454605,"body_markdown":"How is the string being generated?","body":"How is the string being generated?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643865442,"creation_date":1643865442,"answer_id":70966244,"question_id":70966198,"body_markdown":"If you want to remove the whitespace separators in your input, retaining all non whitespace characters, then a simple replace all should suffice:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String response = &quot;AAA\\nBBB\\nCCC\\nDDD&quot;;\r\n    String output = response.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    System.out.println(output); // AAABBBCCCDDD","title":"How to remove newline from string","body":"<p>If you want to remove the whitespace separators in your input, retaining all non whitespace characters, then a simple replace all should suffice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String response = &quot;AAA\\nBBB\\nCCC\\nDDD&quot;;\nString output = response.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\nSystem.out.println(output); // AAABBBCCCDDD\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643868618,"creation_date":1643866655,"answer_id":70966379,"question_id":70966198,"body_markdown":"Use the *any linebreak* regex `\\R`:\r\n\r\n    response.replaceAll(&quot;\\\\R&quot;, &quot;&quot;);\r\n\r\nAccording to the [documentation][1]:\r\n\r\n&gt;`\\R` Any Unicode linebreak sequence, is equivalent to  \r\n `\\u000D\\u000A|[\\u000A\\u000B\\u000C\\u000D\\u0085\\u2028\\u2029]`\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#any_unicode_linebreak","title":"How to remove newline from string","body":"<p>Use the <em>any linebreak</em> regex <code>\\R</code>:</p>\n<pre><code>response.replaceAll(&quot;\\\\R&quot;, &quot;&quot;);\n</code></pre>\n<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#any_unicode_linebreak\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><code>\\R</code> Any Unicode linebreak sequence, is equivalent to<br />\n<code>\\u000D\\u000A|[\\u000A\\u000B\\u000C\\u000D\\u0085\\u2028\\u2029]</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643866871,"creation_date":1643866871,"answer_id":70966414,"question_id":70966198,"body_markdown":"The ASCII code `0x0d` is `CR` (Carriage Return).\r\n\r\nWhen a string includes `CR+LF`s as line separators (e.g. on Windows) and your system uses `LF`s as line separators (e.g. on Unix descendants), `System.getProperty(&quot;line.separator&quot;)` just gives you `LF`. So your code removes only `LF`s let alone `CR`s.\r\n\r\nIf you just get rid of `CR` or `LF`, below may be sufficient.\r\n\r\n    response.replaceAll(&quot;[\\\\r\\\\n]&quot;, &quot;&quot;);","title":"How to remove newline from string","body":"<p>The ASCII code <code>0x0d</code> is <code>CR</code> (Carriage Return).</p>\n<p>When a string includes <code>CR+LF</code>s as line separators (e.g. on Windows) and your system uses <code>LF</code>s as line separators (e.g. on Unix descendants), <code>System.getProperty(&quot;line.separator&quot;)</code> just gives you <code>LF</code>. So your code removes only <code>LF</code>s let alone <code>CR</code>s.</p>\n<p>If you just get rid of <code>CR</code> or <code>LF</code>, below may be sufficient.</p>\n<pre><code>response.replaceAll(&quot;[\\\\r\\\\n]&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643876848,"creation_date":1643876848,"answer_id":70967979,"question_id":70966198,"body_markdown":"```responseTransactions.replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);``` this worked for me and the end systems have also confirmed that now they are not receiving any spaces or 0D in the message.","title":"How to remove newline from string","body":"<p><code>responseTransactions.replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);</code> this worked for me and the end systems have also confirmed that now they are not receiving any spaces or 0D in the message.</p>\n"}],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70966414,"answer_count":4,"score":2,"last_activity_date":1643896149,"creation_date":1643864998,"question_id":70966198,"body_markdown":"My application flow is like i need to create a fixed length message and send it to end consumer over mqs.\r\n```\r\nAAA\r\nBBB\r\nCCC\r\nDDD\r\n```\r\nNeeds to be converted to `AAABBBCCCDDD` and send to end application over mqs\r\nfor this i am using below code\r\n```\r\nString response = &quot;AAA\r\nBBB\r\nCCC\r\nDDD&quot;;\r\nresponse.replaceAll(System.getProperty(&quot;line.separator&quot;), &quot;&quot;);\r\nresponse = AAABBBCCCDDD\r\n```\r\n\r\nEverything is good so far, but when the message reach to end system they are complaining about a space after each line and when checked via hex it looks like a 0D character is getting inserted at place of next line\r\n\r\n**AAA BBB CCC DDD** -&gt; This is how they are received\r\n\r\n**AAA0DBBB0DCCC0DDDD** -&gt; Hex enabled Hex’0D’ (I think it’s more like delimiter, EOL or something)\r\n\r\nCan someone suggest how can i get rid of these characters which are getting added?","title":"How to remove newline from string","body":"<p>My application flow is like i need to create a fixed length message and send it to end consumer over mqs.</p>\n<pre><code>AAA\nBBB\nCCC\nDDD\n</code></pre>\n<p>Needs to be converted to <code>AAABBBCCCDDD</code> and send to end application over mqs\nfor this i am using below code</p>\n<pre><code>String response = &quot;AAA\nBBB\nCCC\nDDD&quot;;\nresponse.replaceAll(System.getProperty(&quot;line.separator&quot;), &quot;&quot;);\nresponse = AAABBBCCCDDD\n</code></pre>\n<p>Everything is good so far, but when the message reach to end system they are complaining about a space after each line and when checked via hex it looks like a 0D character is getting inserted at place of next line</p>\n<p><strong>AAA BBB CCC DDD</strong> -&gt; This is how they are received</p>\n<p><strong>AAA0DBBB0DCCC0DDDD</strong> -&gt; Hex enabled Hex’0D’ (I think it’s more like delimiter, EOL or something)</p>\n<p>Can someone suggest how can i get rid of these characters which are getting added?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1643863092,"post_id":70965541,"comment_id":125453999,"body_markdown":"Why do you define your variables as `key:pair` value as `${DB_HOST:dbhost}` and not like this `${DB_HOST}`?","body":"Why do you define your variables as <code>key:pair</code> value as <code>${DB_HOST:dbhost}</code> and not like this <code>${DB_HOST}</code>?"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1643867789,"post_id":70965541,"comment_id":125454738,"body_markdown":"@HarryCoder is right. Check `${DB_NAME}` is matched with your postgresql database name?","body":"@HarryCoder is right. Check <code>${DB_NAME}</code> is matched with your postgresql database name?"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1643868517,"post_id":70965541,"comment_id":125454885,"body_markdown":"can you please display your `environment variables` in question","body":"can you please display your <code>environment variables</code> in question"},{"owner":{"account_id":10500224,"reputation":65,"user_id":7739151,"display_name":"PragmaticFire"},"score":0,"creation_date":1643880438,"post_id":70965541,"comment_id":125458304,"body_markdown":"dbhost is a place holder value, If environment variables are not given Spring boot  picks up that value","body":"dbhost is a place holder value, If environment variables are not given Spring boot  picks up that value"}],"answers":[{"tags":[],"owner":{"account_id":10500224,"reputation":65,"user_id":7739151,"display_name":"PragmaticFire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643883429,"creation_date":1643880568,"answer_id":70968744,"question_id":70965541,"body_markdown":"The issue is fixed by running a .bat file in command prompt. The file sets the env variables. When running mvn clean install in cmd tests passed.  ","title":"Spring boot tests failing - Unable to read environment variables","body":"<p>The issue is fixed by running a .bat file in command prompt. The file sets the env variables. When running mvn clean install in cmd tests passed.</p>\n"}],"owner":{"account_id":10500224,"reputation":65,"user_id":7739151,"display_name":"PragmaticFire"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643896029,"creation_date":1643858351,"question_id":70965541,"body_markdown":"I am unable to build the `spring boot` application as `spring boot` tests are failing. I didn&#39;t include any tests. `spring boot` created a test class annotated with `@SpringBootTest`. It was working fine when I had db config in `application.properties`. I removed the hardcoded values and added it as environment variables in intelliJ and used place holders eg : \r\n\r\n    spring.datasource.url=jdbc:postgresql://${DB_HOST:dbhost}:${DB_PORT:5432}/${DB_NAME}\r\nI tried using `@PropertySource(&quot;classpath:application.properties&quot;)` but that didn&#39;t work. \r\n\r\nThe application starts without any exceptions when started from *IntelliJ*. The issue is only when runnning `mvn clean` install the tests are failing. \r\n\r\nException \r\n\r\n    Caused by: org.postgresql.util.PSQLException: The connection attempt failed.\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225)\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n    \tat org.postgresql.Driver.connect(Driver.java:264)\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n    \t... 120 common frames omitted\r\n    Caused by: java.net.UnknownHostException: dbhost\r\n\r\n\r\n ","title":"Spring boot tests failing - Unable to read environment variables","body":"<p>I am unable to build the <code>spring boot</code> application as <code>spring boot</code> tests are failing. I didn't include any tests. <code>spring boot</code> created a test class annotated with <code>@SpringBootTest</code>. It was working fine when I had db config in <code>application.properties</code>. I removed the hardcoded values and added it as environment variables in intelliJ and used place holders eg :</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://${DB_HOST:dbhost}:${DB_PORT:5432}/${DB_NAME}\n</code></pre>\n<p>I tried using <code>@PropertySource(&quot;classpath:application.properties&quot;)</code> but that didn't work.</p>\n<p>The application starts without any exceptions when started from <em>IntelliJ</em>. The issue is only when runnning <code>mvn clean</code> install the tests are failing.</p>\n<p>Exception</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: The connection attempt failed.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225)\n    at org.postgresql.Driver.makeConnection(Driver.java:465)\n    at org.postgresql.Driver.connect(Driver.java:264)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n    ... 120 common frames omitted\nCaused by: java.net.UnknownHostException: dbhost\n</code></pre>\n"},{"tags":["java","c++","exception","error-handling"],"comments":[{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":0,"creation_date":1599902968,"post_id":63857665,"comment_id":112923600,"body_markdown":"1. It means &quot;`try ... finally { stream.close(); }`&quot; (or the more modern &quot;try-with-resources&quot;)","body":"1. It means &quot;<code>try ... finally { stream.close(); }</code>&quot; (or the more modern &quot;try-with-resources&quot;)"},{"owner":{"account_id":5820711,"reputation":4823,"user_id":4641116,"display_name":"Eljay"},"score":0,"creation_date":1599913719,"post_id":63857665,"comment_id":112926036,"body_markdown":"Since C++ does not have a `finally` clause, when I have a non-RAII resource I do things like `Finally closeFile([&amp;file]{if (file) fclose(file);});` where my Finally class calls the lambda in its own destructor, as an *ad hoc* RAII.  I wouldn&#39;t normally use a C-style fopen/fclose anyway, but sometimes my code interops with someone else&#39;s C library.","body":"Since C++ does not have a <code>finally</code> clause, when I have a non-RAII resource I do things like <code>Finally closeFile([&amp;file]{if (file) fclose(file);});</code> where my Finally class calls the lambda in its own destructor, as an <i>ad hoc</i> RAII.  I wouldn&#39;t normally use a C-style fopen/fclose anyway, but sometimes my code interops with someone else&#39;s C library."}],"answers":[{"tags":[],"owner":{"account_id":251380,"reputation":10845,"user_id":528720,"display_name":"&#214;&#246; Tiib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643895969,"creation_date":1599899059,"answer_id":63858363,"question_id":63857665,"body_markdown":"In C++ we can use RAII for all resource management. In Java we have GC for memory resource management and manual explicit code for non-memory resource management.\r\n\r\n1. To do that manual non-memory resource management on case of exceptions we have to use explicit try/finally blocks in Java. Doing same in C++ however loses the whole benefit of C++.\r\n\r\n2. It explains that unit-testing resource owning objects is simpler as it can be done in isolation while unit testing of explicit management has to be done in context of each place where that explicit management is done.","title":"What is &quot;JAVA exception handling mindset&quot; in comparison with &quot;C++ exception handling&quot;?","body":"<p>In C++ we can use RAII for all resource management. In Java we have GC for memory resource management and manual explicit code for non-memory resource management.</p>\n<ol>\n<li><p>To do that manual non-memory resource management on case of exceptions we have to use explicit try/finally blocks in Java. Doing same in C++ however loses the whole benefit of C++.</p>\n</li>\n<li><p>It explains that unit-testing resource owning objects is simpler as it can be done in isolation while unit testing of explicit management has to be done in context of each place where that explicit management is done.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1599901115,"accepted_answer_id":63858363,"answer_count":1,"score":0,"last_activity_date":1643895969,"creation_date":1599893400,"question_id":63857665,"body_markdown":"In https://isocpp.org/wiki/faq/exceptions, it talks about some wrong exception-handling mindsets, one of which is the &quot;JAVA exception handling mindset&quot;, described as follows:\r\n\r\n&gt; **In Java, non-memory resources are reclaimed via explicit try/finally blocks.** When this mindset is used in C++, it results in a large number of unnecessary try blocks, which, compared with RAII, clutters the code and makes the logic harder to follow. Essentially the code swaps back and forth between the “good path” and the “bad path” (the latter meaning the path taken during an exception). With RAII, the code is mostly optimistic — it’s all the “good path,” and the cleanup code is buried in destructors of the resource-owning objects. This also helps reduce the cost of code reviews and unit-testing, since **these “resource-owning objects” can be validated in isolation (with explicit try/catch blocks, each copy must be unit-tested and inspected individually; they cannot be handled as a group)**.\r\n\r\nHere are my questions:\r\n\r\n1. Why **&quot;In Java, non-memory resources are reclaimed via explicit try/finally blocks&quot;** and **&quot;When this mindset is used in C++, it results in a large number of unnecessary try blocks&quot;**? I do not understand what it means to use try/finally blocks to reclaim non-memory resources.\r\n\r\n2. What does **&quot;validated in isolation&quot;** mean? (The bolded part: **these “resource-owning objects” can be validated in isolation (with explicit try/catch blocks, each copy must be unit-tested and inspected individually; they cannot be handled as a group)**)","title":"What is &quot;JAVA exception handling mindset&quot; in comparison with &quot;C++ exception handling&quot;?","body":"<p>In <a href=\"https://isocpp.org/wiki/faq/exceptions\" rel=\"nofollow noreferrer\">https://isocpp.org/wiki/faq/exceptions</a>, it talks about some wrong exception-handling mindsets, one of which is the &quot;JAVA exception handling mindset&quot;, described as follows:</p>\n<blockquote>\n<p><strong>In Java, non-memory resources are reclaimed via explicit try/finally blocks.</strong> When this mindset is used in C++, it results in a large number of unnecessary try blocks, which, compared with RAII, clutters the code and makes the logic harder to follow. Essentially the code swaps back and forth between the “good path” and the “bad path” (the latter meaning the path taken during an exception). With RAII, the code is mostly optimistic — it’s all the “good path,” and the cleanup code is buried in destructors of the resource-owning objects. This also helps reduce the cost of code reviews and unit-testing, since <strong>these “resource-owning objects” can be validated in isolation (with explicit try/catch blocks, each copy must be unit-tested and inspected individually; they cannot be handled as a group)</strong>.</p>\n</blockquote>\n<p>Here are my questions:</p>\n<ol>\n<li><p>Why <strong>&quot;In Java, non-memory resources are reclaimed via explicit try/finally blocks&quot;</strong> and <strong>&quot;When this mindset is used in C++, it results in a large number of unnecessary try blocks&quot;</strong>? I do not understand what it means to use try/finally blocks to reclaim non-memory resources.</p>\n</li>\n<li><p>What does <strong>&quot;validated in isolation&quot;</strong> mean? (The bolded part: <strong>these “resource-owning objects” can be validated in isolation (with explicit try/catch blocks, each copy must be unit-tested and inspected individually; they cannot be handled as a group)</strong>)</p>\n</li>\n</ol>\n"},{"tags":["java","android","mapbox-android","mapbox-marker"],"answers":[{"tags":[],"owner":{"account_id":17592830,"reputation":873,"user_id":12764335,"display_name":"Citizen-Dror"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613547403,"creation_date":1613547403,"answer_id":66237544,"question_id":66047330,"body_markdown":"1- first you need the input  - you need to get the [getBearing()][1] from the location object. \r\n\r\n2- you need the correct output - you can do it in 2 ways - \r\n\r\na. if you use png icons , you can create an arrow for every 10 degrees, (36 arrows) and updated the marker with correct icon, if current bearing is different from the old bearing.\r\n \r\nb. Better option but i don&#39;t know if this works: the marker of mapbox has [options.rotation][2] option. But in android, Mapbx moved to [Mapbox annotation plugin][3], see also [here][4] \r\n\r\nthe [SymbolManager][5] has a function setIconRotationAlignment. so if you can use this class, i believe you can set the rotation of the icon by the bearing.\r\n\r\nyou can also see in [this demo][4] that one of the options is &quot;set icon rotation to 45&quot;\r\n\r\n[![enter image description here][6]][6]\r\n\r\n3- One more thing - you may want to get also input of [getBearingAccuracyDegrees][7] to know when you don&#39;t have a good enough Accuracy of the Bearing, and give indication to the user. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/location/Location#getBearing()\r\n  [2]: https://docs.mapbox.com/mapbox-gl-js/api/markers/\r\n  [3]: https://docs.mapbox.com/android/plugins/guides/annotation/\r\n  [4]: https://github.com/mapbox/mapbox-plugins-android/tree/master/plugin-annotation\r\n  [5]: https://github.com/mapbox/mapbox-plugins-android/blob/master/plugin-annotation/src/main/java/com/mapbox/mapboxsdk/plugins/annotation/SymbolManager.java\r\n  [6]: https://i.stack.imgur.com/pwDlI.png\r\n  [7]: https://developer.android.com/reference/android/location/Location#getBearingAccuracyDegrees()","title":"Rotate marker(arrow) as per user navigation on mapbox maps android","body":"<p>1- first you need the input  - you need to get the <a href=\"https://developer.android.com/reference/android/location/Location#getBearing()\" rel=\"nofollow noreferrer\">getBearing()</a> from the location object.</p>\n<p>2- you need the correct output - you can do it in 2 ways -</p>\n<p>a. if you use png icons , you can create an arrow for every 10 degrees, (36 arrows) and updated the marker with correct icon, if current bearing is different from the old bearing.</p>\n<p>b. Better option but i don't know if this works: the marker of mapbox has <a href=\"https://docs.mapbox.com/mapbox-gl-js/api/markers/\" rel=\"nofollow noreferrer\">options.rotation</a> option. But in android, Mapbx moved to <a href=\"https://docs.mapbox.com/android/plugins/guides/annotation/\" rel=\"nofollow noreferrer\">Mapbox annotation plugin</a>, see also <a href=\"https://github.com/mapbox/mapbox-plugins-android/tree/master/plugin-annotation\" rel=\"nofollow noreferrer\">here</a></p>\n<p>the <a href=\"https://github.com/mapbox/mapbox-plugins-android/blob/master/plugin-annotation/src/main/java/com/mapbox/mapboxsdk/plugins/annotation/SymbolManager.java\" rel=\"nofollow noreferrer\">SymbolManager</a> has a function setIconRotationAlignment. so if you can use this class, i believe you can set the rotation of the icon by the bearing.</p>\n<p>you can also see in <a href=\"https://github.com/mapbox/mapbox-plugins-android/tree/master/plugin-annotation\" rel=\"nofollow noreferrer\">this demo</a> that one of the options is &quot;set icon rotation to 45&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/pwDlI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pwDlI.png\" alt=\"enter image description here\" /></a></p>\n<p>3- One more thing - you may want to get also input of <a href=\"https://developer.android.com/reference/android/location/Location#getBearingAccuracyDegrees()\" rel=\"nofollow noreferrer\">getBearingAccuracyDegrees</a> to know when you don't have a good enough Accuracy of the Bearing, and give indication to the user.</p>\n"},{"tags":[],"owner":{"account_id":266959,"reputation":1154,"user_id":554830,"accept_rate":59,"display_name":"Kutbi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1614084497,"creation_date":1614084497,"answer_id":66333418,"question_id":66047330,"body_markdown":"I got success in calculate bearing using the below method and rotate the arrow as per user navigation:\r\n\r\n    float bearingBetweenLocations(LatLng latLng1, LatLng latLng2) {\r\n            double PI = 3.14159;\r\n            double lat1 = latLng1.getLatitude() * PI / 180;\r\n            double long1 = latLng1.getLongitude() * PI / 180;\r\n            double lat2 = latLng2.getLatitude() * PI / 180;\r\n            double long2 = latLng2.getLongitude() * PI / 180;\r\n            double dLon = (long2 - long1);\r\n            double y = Math.sin(dLon) * Math.cos(lat2);\r\n            double x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1)\r\n                    * Math.cos(lat2) * Math.cos(dLon);\r\n            double brng = Math.atan2(y, x);\r\n            brng = Math.toDegrees(brng);\r\n            brng = (brng + 360) % 360;\r\n    \r\n            return (float) brng;\r\n        }\r\n\r\nNote: Arrow&#39;s head should be pointed towards the up direction like the below image.\r\nIf it is not then you have to set bearing +/- as per the arrow&#39;s direction.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A5uTx.png","title":"Rotate marker(arrow) as per user navigation on mapbox maps android","body":"<p>I got success in calculate bearing using the below method and rotate the arrow as per user navigation:</p>\n<pre><code>float bearingBetweenLocations(LatLng latLng1, LatLng latLng2) {\n        double PI = 3.14159;\n        double lat1 = latLng1.getLatitude() * PI / 180;\n        double long1 = latLng1.getLongitude() * PI / 180;\n        double lat2 = latLng2.getLatitude() * PI / 180;\n        double long2 = latLng2.getLongitude() * PI / 180;\n        double dLon = (long2 - long1);\n        double y = Math.sin(dLon) * Math.cos(lat2);\n        double x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1)\n                * Math.cos(lat2) * Math.cos(dLon);\n        double brng = Math.atan2(y, x);\n        brng = Math.toDegrees(brng);\n        brng = (brng + 360) % 360;\n\n        return (float) brng;\n    }\n</code></pre>\n<p>Note: Arrow's head should be pointed towards the up direction like the below image.\nIf it is not then you have to set bearing +/- as per the arrow's direction.</p>\n<p><a href=\"https://i.stack.imgur.com/A5uTx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A5uTx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1054762,"reputation":1539,"user_id":1057740,"accept_rate":100,"display_name":"A.Alqadomi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643895203,"creation_date":1643895203,"answer_id":70972212,"question_id":66047330,"body_markdown":"If you prefer to use a library instead of the method you suggested then I suggest to use Turf .\r\n&quot;Turf android&quot; is a library created by the mapbox guys ,which have many useful methods including this one . \r\n\r\n    /*\r\n    Takes two {@link Point}s and finds the geographic bearing between them.\r\n    */\r\n    TurfMeasurement.bearing(@NonNull Point point1, @NonNull Point point2) \r\n\r\n\r\nlibrary homepage : \r\nhttps://docs.mapbox.com/android/java/guides/turf/","title":"Rotate marker(arrow) as per user navigation on mapbox maps android","body":"<p>If you prefer to use a library instead of the method you suggested then I suggest to use Turf .\n&quot;Turf android&quot; is a library created by the mapbox guys ,which have many useful methods including this one .</p>\n<pre><code>/*\nTakes two {@link Point}s and finds the geographic bearing between them.\n*/\nTurfMeasurement.bearing(@NonNull Point point1, @NonNull Point point2) \n</code></pre>\n<p>library homepage :\n<a href=\"https://docs.mapbox.com/android/java/guides/turf/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/java/guides/turf/</a></p>\n"}],"owner":{"account_id":266959,"reputation":1154,"user_id":554830,"accept_rate":59,"display_name":"Kutbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1580,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":66333418,"answer_count":3,"score":5,"last_activity_date":1643895203,"creation_date":1612447786,"question_id":66047330,"body_markdown":"I am working on an application in which I have to rotate an arrow according to the user navigation.\r\n\r\nI am using the latest Mapbox SDK.\r\n\r\nI have tried with a barrier (calculating using lat &amp; long) but couldn&#39;t get success.\r\n\r\nI don&#39;t have any clue that how can I achieve it.\r\n\r\nIt(Arrow marker) should be navigated on a predefined polygon path.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f2HJb.png","title":"Rotate marker(arrow) as per user navigation on mapbox maps android","body":"<p>I am working on an application in which I have to rotate an arrow according to the user navigation.</p>\n<p>I am using the latest Mapbox SDK.</p>\n<p>I have tried with a barrier (calculating using lat &amp; long) but couldn't get success.</p>\n<p>I don't have any clue that how can I achieve it.</p>\n<p>It(Arrow marker) should be navigated on a predefined polygon path.</p>\n<p><a href=\"https://i.stack.imgur.com/f2HJb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f2HJb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jsp","web-applications"],"comments":[{"owner":{"account_id":13559789,"reputation":1287,"user_id":9781957,"display_name":"DCTID"},"score":0,"creation_date":1583289315,"post_id":60517951,"comment_id":107062771,"body_markdown":"The plugin can&#39;t connect to the internet. The error suspects you are behind a corporate firewall and need to configure the plugin or netbeans to use a proxy to get to the internet outside the proxy. But, it also suggests checking your internet connection outside a corporate env or clearing the cache.","body":"The plugin can&#39;t connect to the internet. The error suspects you are behind a corporate firewall and need to configure the plugin or netbeans to use a proxy to get to the internet outside the proxy. But, it also suggests checking your internet connection outside a corporate env or clearing the cache."},{"owner":{"account_id":14660750,"reputation":43,"user_id":11200404,"display_name":"Dee Slotegraaf"},"score":0,"creation_date":1583289481,"post_id":60517951,"comment_id":107062797,"body_markdown":"how do i confugure the plugin?","body":"how do i confugure the plugin?"},{"owner":{"account_id":13559789,"reputation":1287,"user_id":9781957,"display_name":"DCTID"},"score":0,"creation_date":1583290151,"post_id":60517951,"comment_id":107062924,"body_markdown":"Actually, it looks like the entire plugin site is down.  [netbeans plugin site](http://plugins.netbeans.org/PluginPortal/) gives a similar error in Chrome. Can&#39;t remember the last time I used netbeans so not sure how long its been down.","body":"Actually, it looks like the entire plugin site is down.  <a href=\"http://plugins.netbeans.org/PluginPortal/\" rel=\"nofollow noreferrer\">netbeans plugin site</a> gives a similar error in Chrome. Can&#39;t remember the last time I used netbeans so not sure how long its been down."},{"owner":{"account_id":14660750,"reputation":43,"user_id":11200404,"display_name":"Dee Slotegraaf"},"score":0,"creation_date":1583290386,"post_id":60517951,"comment_id":107062973,"body_markdown":"So is there no way to fix it then? Do I just have to wait until the site comes back up??","body":"So is there no way to fix it then? Do I just have to wait until the site comes back up??"}],"owner":{"account_id":14660750,"reputation":43,"user_id":11200404,"display_name":"Dee Slotegraaf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2854,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643895148,"creation_date":1583286141,"question_id":60517951,"body_markdown":"I&#39;m trying to figure out how to create jsp files in netbeans. So I know I have to first create a new project making it a web application but I don&#39;t have the option to do so. So I tried to download the plugin but I keep getting this error:\r\n\r\n**Networking problem in http://plugins.netbeans.org/nbpluginportal/files/nbms/z8930_dukewizard-2.1.nbm\r\nCheck your proxy settings or try again later. The server may be unavailable at the moment. You may also want to make sure that your firewall is not blocking network traffic. Your cache may be out of date. Please click Check for Updates to refresh content.**\r\n\r\nI have no idea what that means or how to fix it.","title":"How to fix proxy errors?","body":"<p>I'm trying to figure out how to create jsp files in netbeans. So I know I have to first create a new project making it a web application but I don't have the option to do so. So I tried to download the plugin but I keep getting this error:</p>\n\n<p><strong>Networking problem in <a href=\"http://plugins.netbeans.org/nbpluginportal/files/nbms/z8930_dukewizard-2.1.nbm\" rel=\"nofollow noreferrer\">http://plugins.netbeans.org/nbpluginportal/files/nbms/z8930_dukewizard-2.1.nbm</a>\nCheck your proxy settings or try again later. The server may be unavailable at the moment. You may also want to make sure that your firewall is not blocking network traffic. Your cache may be out of date. Please click Check for Updates to refresh content.</strong></p>\n\n<p>I have no idea what that means or how to fix it.</p>\n"},{"tags":["java","hibernate","postgresql","jsf","junit"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1399451639,"post_id":23512643,"comment_id":36062150,"body_markdown":"possible duplicate of [Java Enums, JPA and Postgres enums - How do I make them work together?](http://stackoverflow.com/questions/851758/java-enums-jpa-and-postgres-enums-how-do-i-make-them-work-together)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/851758/java-enums-jpa-and-postgres-enums-how-do-i-make-them-work-together\">Java Enums, JPA and Postgres enums - How do I make them work together?</a>"},{"owner":{"account_id":2715865,"reputation":801,"user_id":2343261,"accept_rate":70,"display_name":"Robertas Uldukis"},"score":1,"creation_date":1399461966,"post_id":23512643,"comment_id":36068915,"body_markdown":"Sorry, but i think problem is not there. i already try it before posted this question.","body":"Sorry, but i think problem is not there. i already try it before posted this question."}],"answers":[{"tags":[],"owner":{"account_id":8682658,"reputation":21,"user_id":6498036,"display_name":"Kennedy Buluma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643894941,"creation_date":1643894941,"answer_id":70972150,"question_id":23512643,"body_markdown":"I got an explanation from the Postgres documentation here: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/PGobject.html . I then cast the PGObject as PGObject, then used object.getValue() for its String value. That seemed to sort my issue.\r\nExample:\r\n\r\n`import org.postgresql.util.PGobject;`\r\n\r\n```\r\npublic static String pgObjectToString(PGobject object){\r\n        if(null==object) return null;\r\n        String s = object.getValue();\r\n        return s;\r\n}\r\n``` ","title":"org.postgresql.util.PGobject cannot be cast to java.lang.String","body":"<p>I got an explanation from the Postgres documentation here: <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/PGobject.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/PGobject.html</a> . I then cast the PGObject as PGObject, then used object.getValue() for its String value. That seemed to sort my issue.\nExample:</p>\n<p><code>import org.postgresql.util.PGobject;</code></p>\n<pre><code>public static String pgObjectToString(PGobject object){\n        if(null==object) return null;\n        String s = object.getValue();\n        return s;\n}\n</code></pre>\n"}],"owner":{"account_id":2715865,"reputation":801,"user_id":2343261,"accept_rate":70,"display_name":"Robertas Uldukis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7364,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1643894941,"creation_date":1399451385,"question_id":23512643,"body_markdown":"trying to learn how to use PostgeSQL data base, and JAVA with ENUM&#39;s and got some problem with casting.\r\n\r\nHere is my sql:\r\n\r\n    CREATE TYPE enum_created_from AS ENUM (&#39;CHAT&#39;, &#39;WEB&#39;);\r\n    ALTER TABLE contact ADD COLUMN created_from enum_created_from;\r\n    UPDATE contact SET created_from=&#39;WEB&#39;;\r\n\r\nEnum file:\r\n\r\n    public enum ContactCreatedFrom {\r\n        WEB, CHAT;\r\n    }\r\n\r\nJAVA Entity file:\r\n\r\n    @Column(name = &quot;CREATED_FROM&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private ContactCreatedFrom createdFrom;\r\n\r\noff course getters and setters.\r\n\r\n@Test file using JUnit\r\n\r\n    @Test\r\n    public void testContactCreatedFrom() \r\n    {\r\n        try\r\n        {\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            List&lt;Contact&gt; contacts = (List&lt;Contact&gt;) db.createQuery(&quot;from Contact where id between 20 and 25&quot;).list();\r\n            for (Contact c : contacts)\r\n            {\r\n                System.out.println(&quot;Name: &quot; + c.getName());\r\n                System.out.println (&quot;Enum: &quot; + c.getCreatedFrom());\r\n            }\r\n        } catch (Exception e)\r\n        {\r\n            System.out.println(&quot;Exception: &quot; + e);\r\n        }\r\n    }\r\n\r\nAnd I still getting Exception:\r\n\r\n    Exception: java.lang.ClassCastException: org.postgresql.util.PGobject cannot be cast to java.lang.String\r\n\r\nCan anybody tell me where I&#39;m wrong please.\r\n\r\nRegards\r\n","title":"org.postgresql.util.PGobject cannot be cast to java.lang.String","body":"<p>trying to learn how to use PostgeSQL data base, and JAVA with ENUM's and got some problem with casting.</p>\n\n<p>Here is my sql:</p>\n\n<pre><code>CREATE TYPE enum_created_from AS ENUM ('CHAT', 'WEB');\nALTER TABLE contact ADD COLUMN created_from enum_created_from;\nUPDATE contact SET created_from='WEB';\n</code></pre>\n\n<p>Enum file:</p>\n\n<pre><code>public enum ContactCreatedFrom {\n    WEB, CHAT;\n}\n</code></pre>\n\n<p>JAVA Entity file:</p>\n\n<pre><code>@Column(name = \"CREATED_FROM\")\n@Enumerated(EnumType.STRING)\nprivate ContactCreatedFrom createdFrom;\n</code></pre>\n\n<p>off course getters and setters.</p>\n\n<p>@Test file using JUnit</p>\n\n<pre><code>@Test\npublic void testContactCreatedFrom() \n{\n    try\n    {\n        @SuppressWarnings(\"unchecked\")\n        List&lt;Contact&gt; contacts = (List&lt;Contact&gt;) db.createQuery(\"from Contact where id between 20 and 25\").list();\n        for (Contact c : contacts)\n        {\n            System.out.println(\"Name: \" + c.getName());\n            System.out.println (\"Enum: \" + c.getCreatedFrom());\n        }\n    } catch (Exception e)\n    {\n        System.out.println(\"Exception: \" + e);\n    }\n}\n</code></pre>\n\n<p>And I still getting Exception:</p>\n\n<pre><code>Exception: java.lang.ClassCastException: org.postgresql.util.PGobject cannot be cast to java.lang.String\n</code></pre>\n\n<p>Can anybody tell me where I'm wrong please.</p>\n\n<p>Regards</p>\n"},{"tags":["java","generics","collections","language-lawyer"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1643894823,"creation_date":1643893894,"answer_id":70971904,"question_id":70969598,"body_markdown":"Prior to Java&#160;16, the only purpose of `instanceof` was to check whether a referenced object is assignable to the specified type and since type erasure prevents from checking whether an object truly is assignable to a parameterized type, it made no sense to allow an expression pretending that such a test was possible.\r\n\r\nThe only thing which could be tested, was whether the object is an instance of `List` and hence, it was only allowed to write `… instanceof List` or `… instanceof List&lt;?&gt;`, as neither pretends to test the list’s element type.\r\n\r\nStarting with Java&#160;16 (available as preview since 14), `instanceof` allows to declare a new variable of the specified type.\r\n\r\nFor example:\r\n\r\n```java\r\npublic void someMethod(Iterable&lt;String&gt; i) {\r\n    if(i instanceof List&lt;String&gt; l) {\r\n        if(l.isEmpty()) return;\r\n        // optimized List processing\r\n    } else {\r\n        // generic iterable processing\r\n    }\r\n}\r\n```\r\nwhich is equivalent to\r\n```java\r\npublic void someMethod(Iterable&lt;String&gt; i) {\r\n    if(i instanceof List&lt;String&gt;) {\r\n        List&lt;String&gt; l = (List&lt;String&gt;)i;\r\n        if(l.isEmpty()) return;\r\n        // optimized List processing\r\n    } else {\r\n        // generic iterable processing\r\n    }\r\n}\r\n```\r\n\r\nFor the declaration of a new variable, it would be impractical to be limited to raw types or wildcard types. Therefore, it is now allowed to specify actual type arguments, which are relevant to the implied variable declaration and assignment. Since the element type still can’t be checked, you are only allowed to specify types to which the compile-time source type could be cast without an *unchecked* cast.\r\n\r\nSo, the following would not be valid\r\n\r\n```java\r\nIterable&lt;?&gt; i = null;\r\nboolean b = i instanceof List&lt;String&gt;;\r\n```\r\n\r\nbecause you can’t safely cast from `Iterable&lt;?&gt;` to `List&lt;String&gt;`.\r\n\r\nIn your example, `var a = List.of(2,3,4,5,23);` declares `a` as `List&lt;Integer&gt;`, hence, `a instanceof List&lt;? extends Object&gt;` is valid because `List&lt;Integer&gt;` is assignable to `List&lt;? extends Object&gt;` (even without a cast).\r\n\r\nOf course, specifying element types which are not checked is only useful if you declare a variable like in the first example. But the Java language follows the principle of not adding extra rules just because some construct is less useful than the other. Therefore, you can now always specify actual type arguments to `instanceof` following the same rules, whether you declare a variable or not.\r\n\r\nThis feature is called [Pattern Matching] as it is considered a special case of a broader concept which Java is heading for. In JDK&#160;17, there’s a similar feature for `switch` available as preview.\r\n\r\nSee also [&#167;14.30. Patterns] in the Java Language Specification.\r\n\r\n[Pattern Matching]: https://cr.openjdk.java.net/~briangoetz/amber/pattern-match.html\r\n[&#167;14.30. Patterns]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.30","title":"Java instance type with generic version 8 vs 17","body":"<p>Prior to Java 16, the only purpose of <code>instanceof</code> was to check whether a referenced object is assignable to the specified type and since type erasure prevents from checking whether an object truly is assignable to a parameterized type, it made no sense to allow an expression pretending that such a test was possible.</p>\n<p>The only thing which could be tested, was whether the object is an instance of <code>List</code> and hence, it was only allowed to write <code>… instanceof List</code> or <code>… instanceof List&lt;?&gt;</code>, as neither pretends to test the list’s element type.</p>\n<p>Starting with Java 16 (available as preview since 14), <code>instanceof</code> allows to declare a new variable of the specified type.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void someMethod(Iterable&lt;String&gt; i) {\n    if(i instanceof List&lt;String&gt; l) {\n        if(l.isEmpty()) return;\n        // optimized List processing\n    } else {\n        // generic iterable processing\n    }\n}\n</code></pre>\n<p>which is equivalent to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void someMethod(Iterable&lt;String&gt; i) {\n    if(i instanceof List&lt;String&gt;) {\n        List&lt;String&gt; l = (List&lt;String&gt;)i;\n        if(l.isEmpty()) return;\n        // optimized List processing\n    } else {\n        // generic iterable processing\n    }\n}\n</code></pre>\n<p>For the declaration of a new variable, it would be impractical to be limited to raw types or wildcard types. Therefore, it is now allowed to specify actual type arguments, which are relevant to the implied variable declaration and assignment. Since the element type still can’t be checked, you are only allowed to specify types to which the compile-time source type could be cast without an <em>unchecked</em> cast.</p>\n<p>So, the following would not be valid</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterable&lt;?&gt; i = null;\nboolean b = i instanceof List&lt;String&gt;;\n</code></pre>\n<p>because you can’t safely cast from <code>Iterable&lt;?&gt;</code> to <code>List&lt;String&gt;</code>.</p>\n<p>In your example, <code>var a = List.of(2,3,4,5,23);</code> declares <code>a</code> as <code>List&lt;Integer&gt;</code>, hence, <code>a instanceof List&lt;? extends Object&gt;</code> is valid because <code>List&lt;Integer&gt;</code> is assignable to <code>List&lt;? extends Object&gt;</code> (even without a cast).</p>\n<p>Of course, specifying element types which are not checked is only useful if you declare a variable like in the first example. But the Java language follows the principle of not adding extra rules just because some construct is less useful than the other. Therefore, you can now always specify actual type arguments to <code>instanceof</code> following the same rules, whether you declare a variable or not.</p>\n<p>This feature is called <a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/pattern-match.html\" rel=\"noreferrer\">Pattern Matching</a> as it is considered a special case of a broader concept which Java is heading for. In JDK 17, there’s a similar feature for <code>switch</code> available as preview.</p>\n<p>See also <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.30\" rel=\"noreferrer\">§14.30. Patterns</a> in the Java Language Specification.</p>\n"}],"owner":{"account_id":2014596,"reputation":69,"user_id":1802197,"display_name":"Jitendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70971904,"answer_count":1,"score":4,"last_activity_date":1643894823,"creation_date":1643884018,"question_id":70969598,"body_markdown":"As per Java Generic and Collections by Maurice Naftalin, in below options-\r\n1. obj instanceof List \r\n2. obj instanceof List&lt;?&gt; \r\n3. obj instanceof List&lt;? extends Object&gt;\r\n\r\n\r\n 1st and 2nd is permitted but 3rd is not which works fine in java 8(version &quot;1.8.0_321&quot;). Option 1 and 2 compile and option 3 gives compile error.\r\nBut 3rd option work fine with java 17(version &quot;17.0.1&quot; 2021-10-19 LTS). Could you please help me understand why its working in java 17.\r\nsample code which I am trying -\r\n```\r\nvar a = List.of(2,3,4,5,23);\r\nvar b = a instanceof List&lt;? extends Object&gt;;\r\nreturn b;\r\n```","title":"Java instance type with generic version 8 vs 17","body":"<p>As per Java Generic and Collections by Maurice Naftalin, in below options-</p>\n<ol>\n<li>obj instanceof List</li>\n<li>obj instanceof List&lt;?&gt;</li>\n<li>obj instanceof List&lt;? extends Object&gt;</li>\n</ol>\n<p>1st and 2nd is permitted but 3rd is not which works fine in java 8(version &quot;1.8.0_321&quot;). Option 1 and 2 compile and option 3 gives compile error.\nBut 3rd option work fine with java 17(version &quot;17.0.1&quot; 2021-10-19 LTS). Could you please help me understand why its working in java 17.\nsample code which I am trying -</p>\n<pre><code>var a = List.of(2,3,4,5,23);\nvar b = a instanceof List&lt;? extends Object&gt;;\nreturn b;\n</code></pre>\n"},{"tags":["java","serialization"],"answers":[{"tags":[],"owner":{"account_id":164602,"reputation":839,"user_id":387461,"accept_rate":33,"display_name":"Baski"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1609790169,"creation_date":1284048175,"answer_id":3678342,"question_id":3678136,"body_markdown":"You do not have to maintain multiple version of the class. The latest version should be sufficient. See the link [5 things you don&#39;t know about Serialization][1] specifically &quot;Refactoring Serialized Class&quot;\r\n\r\n\r\n  [1]: https://web.archive.org/web/20180528064509/https://www.ibm.com/developerworks/java/library/j-5things1/index.html","title":"Managing several versions of serialized Java objects","body":"<p>You do not have to maintain multiple version of the class. The latest version should be sufficient. See the link <a href=\"https://web.archive.org/web/20180528064509/https://www.ibm.com/developerworks/java/library/j-5things1/index.html\" rel=\"nofollow noreferrer\">5 things you don't know about Serialization</a> specifically &quot;Refactoring Serialized Class&quot;</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1284057964,"creation_date":1284051367,"answer_id":3678759,"question_id":3678136,"body_markdown":"Unfortunately, changing field types is not allowed. Supporting two (ten, hundred?) different versions would be too much of an effort. So you can utilize the `readObject(ObjectInputStream in)` method. And set a fixed `serialVersionUID`. If you haven&#39;t set it initially, use your IDE or the JDK `serialver` to get it, so that it appears you have only one version of the class.\r\n\r\nIf you want to change the type of a field, change its name as well. For example `paws` &gt; `pawsCount`. The deserialization mechanism doesn&#39;t even get to the `readObject(..)` method if there is a type mismatch in the fields.\r\n\r\nFor the above example, a working solution would be:\r\n\r\n    class Pet implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        long pawsCount; // handle marsian centipedes\r\n        boolean sharpTeeth;\r\n    \r\n        private void readObject(java.io.ObjectInputStream in)\r\n            throws IOException, ClassNotFoundException {\r\n    \r\n            in.defaultReadObject();\r\n            GetField fields = in.readFields();\r\n            int paws = fields.get(&quot;paws&quot;, 0); // the 0 is a default value \r\n            this.pawsCount = paws;\r\n        }\r\n    }\r\n\r\nThe fields that were added later will be set to their default values.\r\n\r\nBtw, it might be a bit easier to use [`java.beans.XMLEncoder`][1] (if it is not too late for your project)\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/beans/XMLEncoder.html","title":"Managing several versions of serialized Java objects","body":"<p>Unfortunately, changing field types is not allowed. Supporting two (ten, hundred?) different versions would be too much of an effort. So you can utilize the <code>readObject(ObjectInputStream in)</code> method. And set a fixed <code>serialVersionUID</code>. If you haven't set it initially, use your IDE or the JDK <code>serialver</code> to get it, so that it appears you have only one version of the class.</p>\n\n<p>If you want to change the type of a field, change its name as well. For example <code>paws</code> > <code>pawsCount</code>. The deserialization mechanism doesn't even get to the <code>readObject(..)</code> method if there is a type mismatch in the fields.</p>\n\n<p>For the above example, a working solution would be:</p>\n\n<pre><code>class Pet implements Serializable {\n    private static final long serialVersionUID = 1L;\n    long pawsCount; // handle marsian centipedes\n    boolean sharpTeeth;\n\n    private void readObject(java.io.ObjectInputStream in)\n        throws IOException, ClassNotFoundException {\n\n        in.defaultReadObject();\n        GetField fields = in.readFields();\n        int paws = fields.get(\"paws\", 0); // the 0 is a default value \n        this.pawsCount = paws;\n    }\n}\n</code></pre>\n\n<p>The fields that were added later will be set to their default values.</p>\n\n<p>Btw, it might be a bit easier to use <a href=\"http://download.oracle.com/javase/6/docs/api/java/beans/XMLEncoder.html\" rel=\"noreferrer\"><code>java.beans.XMLEncoder</code></a> (if it is not too late for your project)</p>\n"},{"tags":[],"owner":{"account_id":17898,"reputation":80772,"user_id":40516,"accept_rate":89,"display_name":"Juliet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1284052822,"creation_date":1284052822,"answer_id":3678935,"question_id":3678136,"body_markdown":"&gt; Should I do deserialization in one\r\n&gt; class loader, and if that fails try\r\n&gt; using another class loader that uses\r\n&gt; an older version (and so on), or are\r\n&gt; there better ways?\r\n&gt; \r\n&gt; What&#39;s the best strategy?\r\n\r\nSerialization really shouldn&#39;t be used for long term storage.\r\n\r\nThe best strategy here is to make use of a database instead: store your objects in a `Pets` table, then as you change fields on your table, all of your old data gets updated too, every object has the same and most up-to-date schema.\r\n\r\nThis is really the best way to maintain data for longterm storage, and updates to your old objects to fill in null fields is really easy.","title":"Managing several versions of serialized Java objects","body":"<blockquote>\n  <p>Should I do deserialization in one\n  class loader, and if that fails try\n  using another class loader that uses\n  an older version (and so on), or are\n  there better ways?</p>\n  \n  <p>What's the best strategy?</p>\n</blockquote>\n\n<p>Serialization really shouldn't be used for long term storage.</p>\n\n<p>The best strategy here is to make use of a database instead: store your objects in a <code>Pets</code> table, then as you change fields on your table, all of your old data gets updated too, every object has the same and most up-to-date schema.</p>\n\n<p>This is really the best way to maintain data for longterm storage, and updates to your old objects to fill in null fields is really easy.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1643894689,"creation_date":1361224904,"answer_id":14946099,"question_id":3678136,"body_markdown":"&gt; Lets assume that it&#39;s (logically) possible to convert an old object to a new object using some clever strategy to set nonexistant fields etc etc... How do I arrange my source code?\r\n\r\nI see two ways of handling this.  First off, you should never change the `serialVersionUID` unless you want `InvalidClassException` to be thrown.  The second rule is to _not_ change the _types_ of fields but to only add or remove fields which serialization handles automagically.  For example, if a serialized data has the version of the class which has `boolean sharpTeeth;` but the class doesn&#39;t have that field then it will be ignored during deserialization.  If the class has the `sharpTeeth` field but the serialized data doesn&#39;t then it will get initialized to its default value – `false` in this case.\r\n\r\nThis is especially important with distributed systems where you want to try to handle both forwards and backwards compatibility.  You don&#39;t want to upgrade a version of application A and break another application B which depends on A.  By not changing the `serialVersionUID` but just adding or removing fields you can do that.  Later versions of your entity need to support older versions without values in newer fields but older entities won&#39;t mind if new fields are available.  This also means that you shouldn&#39;t change a field&#39;s scale as well. \r\n\r\nSerialization is pretty smart but it does not handle type changes to fields.  You shouldn&#39;t just change `paws` from an `int` to a `long`.  Instead, I&#39;d recommend adding a `long pawsLong` or some such and writing your code to handle the possibility of there being `int paws` or `long pawsLong` having a value.\r\n\r\n\tpublic long getPaws() {\r\n\t\tif (pawsLong &gt; 0) {\r\n\t\t\treturn pawsLong;\r\n\t\t} else {\r\n\t\t\t// paws used to be an integer\r\n            return paws;\r\n        }\r\n\t}\r\n\r\nYou could also write your own `readObject` method to do the conversion at de-serialization time:\r\n\r\n\tprivate void readObject(java.io.ObjectInputStream in) {\r\n\t\tsuper.readObject(in);\r\n\t\t// paws used to be an integer\r\n\t\tif (pawsLong == 0 &amp;&amp; paws != 0) {\r\n\t\t\tpawsLong = paws;\r\n\t\t}\r\n\t}\r\n\r\nIf this doesn&#39;t work for you then custom serialization is the way to go.  You have to start from the beginning doing this however and define custom `readObject(...)` and `writeObject(...)` methods with an internal version id.  Something like:\r\n\r\n\t// never change this\r\n\tprivate static final long serialVersionUID = 3375159358757648792L;\r\n\t// only goes up\r\n\tprivate static final int INTERNAL_VERSION_ID = 2;\r\n\t...\r\n\t// NOTE: in version #1, this was an int\r\n\tprivate long paws;\r\n\r\n\tprivate void readObject(java.io.ObjectInputStream in) {\r\n\t\tint version = in.readInt();\r\n\t\tswitch (version) {\r\n\t\t\tcase 1 :\r\n\t\t\t\tpaws = in.readInt();\r\n\t\t\t\t...\r\n\t\t\tcase 2 :\r\n\t\t\t\tpaws = in.readLong();\r\n\t\t\t\t...\r\n\t\r\n\tprivate void writeObject(java.io.ObjectOutputStream out) {\r\n\t\tout.writeInt(INTERNAL_VERSION_ID);\r\n\t\tout.writeLong(paws);\r\n\t\t...\r\n\r\nBut this method does not help you with forwards compatibility.  A version 1 reader won&#39;t understand version 2 serialization input.\r\n\r\n&gt; Should I do deserialization in one class loader, and if that fails try using another class loader that uses an older version (and so on), or are there better ways?\r\n\r\nI would not suggest any of these methods.  Sounds very difficult to maintain.\r\n","title":"Managing several versions of serialized Java objects","body":"<blockquote>\n<p>Lets assume that it's (logically) possible to convert an old object to a new object using some clever strategy to set nonexistant fields etc etc... How do I arrange my source code?</p>\n</blockquote>\n<p>I see two ways of handling this.  First off, you should never change the <code>serialVersionUID</code> unless you want <code>InvalidClassException</code> to be thrown.  The second rule is to <em>not</em> change the <em>types</em> of fields but to only add or remove fields which serialization handles automagically.  For example, if a serialized data has the version of the class which has <code>boolean sharpTeeth;</code> but the class doesn't have that field then it will be ignored during deserialization.  If the class has the <code>sharpTeeth</code> field but the serialized data doesn't then it will get initialized to its default value – <code>false</code> in this case.</p>\n<p>This is especially important with distributed systems where you want to try to handle both forwards and backwards compatibility.  You don't want to upgrade a version of application A and break another application B which depends on A.  By not changing the <code>serialVersionUID</code> but just adding or removing fields you can do that.  Later versions of your entity need to support older versions without values in newer fields but older entities won't mind if new fields are available.  This also means that you shouldn't change a field's scale as well.</p>\n<p>Serialization is pretty smart but it does not handle type changes to fields.  You shouldn't just change <code>paws</code> from an <code>int</code> to a <code>long</code>.  Instead, I'd recommend adding a <code>long pawsLong</code> or some such and writing your code to handle the possibility of there being <code>int paws</code> or <code>long pawsLong</code> having a value.</p>\n<pre><code>public long getPaws() {\n    if (pawsLong &gt; 0) {\n        return pawsLong;\n    } else {\n        // paws used to be an integer\n        return paws;\n    }\n}\n</code></pre>\n<p>You could also write your own <code>readObject</code> method to do the conversion at de-serialization time:</p>\n<pre><code>private void readObject(java.io.ObjectInputStream in) {\n    super.readObject(in);\n    // paws used to be an integer\n    if (pawsLong == 0 &amp;&amp; paws != 0) {\n        pawsLong = paws;\n    }\n}\n</code></pre>\n<p>If this doesn't work for you then custom serialization is the way to go.  You have to start from the beginning doing this however and define custom <code>readObject(...)</code> and <code>writeObject(...)</code> methods with an internal version id.  Something like:</p>\n<pre><code>// never change this\nprivate static final long serialVersionUID = 3375159358757648792L;\n// only goes up\nprivate static final int INTERNAL_VERSION_ID = 2;\n...\n// NOTE: in version #1, this was an int\nprivate long paws;\n\nprivate void readObject(java.io.ObjectInputStream in) {\n    int version = in.readInt();\n    switch (version) {\n        case 1 :\n            paws = in.readInt();\n            ...\n        case 2 :\n            paws = in.readLong();\n            ...\n\nprivate void writeObject(java.io.ObjectOutputStream out) {\n    out.writeInt(INTERNAL_VERSION_ID);\n    out.writeLong(paws);\n    ...\n</code></pre>\n<p>But this method does not help you with forwards compatibility.  A version 1 reader won't understand version 2 serialization input.</p>\n<blockquote>\n<p>Should I do deserialization in one class loader, and if that fails try using another class loader that uses an older version (and so on), or are there better ways?</p>\n</blockquote>\n<p>I would not suggest any of these methods.  Sounds very difficult to maintain.</p>\n"}],"owner":{"account_id":33004,"reputation":5149,"user_id":92018,"accept_rate":100,"display_name":"KarlP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20557,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":14946099,"answer_count":4,"score":44,"last_activity_date":1643894689,"creation_date":1284046816,"question_id":3678136,"body_markdown":"Lets say that I have a program that for some reason need to handle old versions of serialized objects.\r\n\r\nEg: when deserializing, one of these versions may be encountered.\r\n\r\n    class Pet {\r\n        private static final long serialVersionUID = 1L;\r\n        int paws;\r\n    }\r\n\r\n    class Pet {\r\n        private static final long serialVersionUID = 2L;\r\n        long paws; // handle marsian centipedes\r\n        boolean sharpTeeth;\r\n    }\r\n\r\nLets assume that it&#39;s (logically) possible to convert an old object to a new object using some clever strategy to set nonexistant fields etc etc, but:\r\n\r\nHow do I arrange my source code?  I would probably need both versions in the same source tree when writing a converter, but how do I handle that in , say, eclipse.\r\n\r\nShould I do deserialization in one class loader, and if that fails try using another class loader that uses an older version (and so on), or are there better ways?\r\n\r\n\r\nWhat&#39;s the best strategy? \r\n\r\n\r\n","title":"Managing several versions of serialized Java objects","body":"<p>Lets say that I have a program that for some reason need to handle old versions of serialized objects.</p>\n\n<p>Eg: when deserializing, one of these versions may be encountered.</p>\n\n<pre><code>class Pet {\n    private static final long serialVersionUID = 1L;\n    int paws;\n}\n\nclass Pet {\n    private static final long serialVersionUID = 2L;\n    long paws; // handle marsian centipedes\n    boolean sharpTeeth;\n}\n</code></pre>\n\n<p>Lets assume that it's (logically) possible to convert an old object to a new object using some clever strategy to set nonexistant fields etc etc, but:</p>\n\n<p>How do I arrange my source code?  I would probably need both versions in the same source tree when writing a converter, but how do I handle that in , say, eclipse.</p>\n\n<p>Should I do deserialization in one class loader, and if that fails try using another class loader that uses an older version (and so on), or are there better ways?</p>\n\n<p>What's the best strategy? </p>\n"},{"tags":["javascript","java","javafx","tinymce","tinymce-plugins"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643505151,"post_id":70904995,"comment_id":125358033,"body_markdown":"Here is an [example using a different HTML based editor (codemirror) in a WebView](https://github.com/jewelsea/conception/blob/master/src/org/jewelsea/conception/CodeEditor.java).  The implementation is different from what you need and, overall, the linked example is probably too simplistic to aid you much, but perhaps you might get some useful ideas after a quick review, which may or may not be able to be adapted and applied to your situation.  You probably need to invoke the tinymce equivalent function to: `(String) webview.getEngine().executeScript(&quot;editor.getValue();&quot;);`,","body":"Here is an <a href=\"https://github.com/jewelsea/conception/blob/master/src/org/jewelsea/conception/CodeEditor.java\" rel=\"nofollow noreferrer\">example using a different HTML based editor (codemirror) in a WebView</a>.  The implementation is different from what you need and, overall, the linked example is probably too simplistic to aid you much, but perhaps you might get some useful ideas after a quick review, which may or may not be able to be adapted and applied to your situation.  You probably need to invoke the tinymce equivalent function to: <code>(String) webview.getEngine().executeScript(&quot;editor.getValue();&quot;);</code>,"}],"answers":[{"tags":[],"owner":{"account_id":5171829,"reputation":67,"user_id":4140077,"display_name":"michdraft lord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643894674,"creation_date":1643894674,"answer_id":70972086,"question_id":70904995,"body_markdown":"**Finally I get it to work as below, may it help someone else. Any nice suggestion or better solution will be appreciated..**\r\n\r\n 1. Create a global `var tinyEditor;` in the script.\r\n 2. Initiate it at the begin of setup function: `tinyEditor = editor;`\r\n 3. Create the reference to this editor in javaFx\r\n\r\n        // JavaScript interface object\r\n        public class JavaFxApp {\r\n            private JSObject tinyEditor;\r\n            \r\n            public void init(JSObject tinyEditor) {\r\n                this.tinyEditor = tinyEditor;\r\n                }\r\n         }\r\n\r\n \r\n\r\n 2. Initiate reference to tinymceEditor with webEngin as below. \r\n\r\n       \r\n             webEngine.getLoadWorker().stateProperty().addListener((ov, oldState, newState) -&gt; {\r\n                if (newState == State.SUCCEEDED) {\r\n                    JSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n                    window.setMember(&quot;fxApp&quot;, javaFxApp = new JavaFxApp());\r\n                    \r\n                    webEngine.executeScript( &quot;window.fxApp.init(window.tinyEditor);&quot; );\r\n                }\r\n            });\r\n\r\n 1. Set content by :  `javaFxApp.tinyEditor.call(&quot;setContent&quot;, &quot;Your content here&quot;);`\r\n 2. Get content by : `String content = (String) javaFxApp.tinyEditor.call(&quot;getContent&quot;);`","title":"How to integrate Tinymce into JavaFx webview?","body":"<p><strong>Finally I get it to work as below, may it help someone else. Any nice suggestion or better solution will be appreciated..</strong></p>\n<ol>\n<li><p>Create a global <code>var tinyEditor;</code> in the script.</p>\n</li>\n<li><p>Initiate it at the begin of setup function: <code>tinyEditor = editor;</code></p>\n</li>\n<li><p>Create the reference to this editor in javaFx</p>\n<pre><code>// JavaScript interface object\npublic class JavaFxApp {\n    private JSObject tinyEditor;\n\n    public void init(JSObject tinyEditor) {\n        this.tinyEditor = tinyEditor;\n        }\n }\n</code></pre>\n</li>\n<li><p>Initiate reference to tinymceEditor with webEngin as below.</p>\n<pre><code>     webEngine.getLoadWorker().stateProperty().addListener((ov, oldState, newState) -&gt; {\n        if (newState == State.SUCCEEDED) {\n            JSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\n            window.setMember(&quot;fxApp&quot;, javaFxApp = new JavaFxApp());\n\n            webEngine.executeScript( &quot;window.fxApp.init(window.tinyEditor);&quot; );\n        }\n    });\n</code></pre>\n</li>\n<li><p>Set content by :  <code>javaFxApp.tinyEditor.call(&quot;setContent&quot;, &quot;Your content here&quot;);</code></p>\n</li>\n<li><p>Get content by : <code>String content = (String) javaFxApp.tinyEditor.call(&quot;getContent&quot;);</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":5171829,"reputation":67,"user_id":4140077,"display_name":"michdraft lord"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70972086,"answer_count":1,"score":1,"last_activity_date":1643894674,"creation_date":1643456771,"question_id":70904995,"body_markdown":"I am trying to add Tinymce in our JavaFX desktop application therefore I need a bidirectional communication between Tinymce and FX webview.\r\n\r\nWhat I have done up to now:\r\nIntegrated Tinymce in javaFX webview and displaying it, but don&#39;t know how to communicate between Tinymce and javaFx webview?\r\n\r\n**Anyone has experience or can answer the following?**\r\n\r\n - How do I get content from Tinymce to javaFx component for example textarea?\r\n - How to setup Tinymce content from JavaFX after fx application is loaded?\r\n\r\n**Here are realization source code.**\r\n\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.layout.Border;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    import javafx.stage.Stage;\r\n    import netscape.javascript.JSObject;\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.events.EventTarget;\r\n    \r\n    import static javafx.concurrent.Worker.State;\r\n    \r\n    public class TinymceInJavaFx extends Application {\r\n        private static String URL_TINYMCE_PAGE = &quot;/html/tinymcePage.html&quot;;\r\n        private static String ID = &quot;tinymceTextarea&quot;;\r\n        private static String INITIAL_TEXT = &quot;Initial text to be loaded in Tinymce.&quot;;\r\n    \r\n        private WebEngine webEngine;\r\n        private Document document;\r\n        private Element element;\r\n    \r\n        final TextArea fxTextArea = new TextArea(INITIAL_TEXT);\r\n        public JavaFxApp javaFxApp;\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        public void start(Stage primaryStage) {\r\n            primaryStage.setTitle(&quot;JavaFX HTML Editor Tinymce&quot;);\r\n    \r\n            WebView webView = new WebView();\r\n            webEngine = webView.getEngine();\r\n            webEngine.load(getClass().getResource(URL_TINYMCE_PAGE).toExternalForm());\r\n            webEngine.getLoadWorker().stateProperty().addListener(new ChangeListener&lt;State&gt;() {\r\n                public void changed(ObservableValue&lt;? extends State&gt; ov, State oldState, State newState) {\r\n                    if (newState == State.SUCCEEDED) {\r\n                        primaryStage.setTitle(webEngine.getLocation());\r\n                        initJavaAndJavascriptObject();\r\n                        element.setTextContent(fxTextArea.getText());\r\n                    }\r\n                }\r\n            });\r\n    \r\n            VBox vBox = new VBox(webView);\r\n            vBox.setStyle(&quot;-fx-padding: 10;&quot; +\r\n                    &quot;-fx-border-style: solid inside;&quot; +\r\n                    &quot;-fx-border-width: 2;&quot; +\r\n                    &quot;-fx-border-insets: 5;&quot; +\r\n                    &quot;-fx-border-radius: 5;&quot; +\r\n                    &quot;-fx-border-color: blue;&quot;);\r\n            fxTextArea.setBorder(Border.EMPTY);\r\n            fxTextArea.setStyle(&quot;-fx-padding: 10;&quot; +\r\n                    &quot;-fx-border-style: solid inside;&quot; +\r\n                    &quot;-fx-border-width: 2;&quot; +\r\n                    &quot;-fx-border-insets: 5;&quot; +\r\n                    &quot;-fx-border-radius: 5;&quot; +\r\n                    &quot;-fx-border-color: red;&quot;);\r\n            Button btnSave = new Button(&quot;Update FX TextArea&quot;);\r\n            btnSave.setOnAction((ActionEvent t) -&gt; {\r\n                fxTextArea.setText(element.getTextContent());\r\n            });\r\n            // create the toolbar\r\n            VBox toolBar = new VBox();\r\n            toolBar.setMinHeight(200.0);\r\n            toolBar.setAlignment(Pos.CENTER);\r\n            toolBar.getStyleClass().add(&quot;browser-toolbar&quot;);\r\n            toolBar.getChildren().addAll(btnSave, fxTextArea);\r\n            Scene scene = new Scene(new VBox(vBox, toolBar), 1000, 600);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        private void initJavaAndJavascriptObject() {\r\n            document = webEngine.getDocument();\r\n            element = document.getElementById(ID);\r\n            addChangeListenerToTinymceEditorTextareaElement(element);\r\n    \r\n            //Mapping Java objects to JavaScript values, Calling back to Java from JavaScript\r\n            JSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n            // You can then refer to the object and the method from your HTML page: &lt;a href=&quot;&quot; onclick=&quot;fxApp.update()&quot;&gt;Click here to exit application&lt;/a&gt;\r\n            window.setMember(&quot;fxApp&quot;, javaFxApp);\r\n        }\r\n    \r\n    \r\n        // JavaScript interface object\r\n        public class JavaFxApp {\r\n    \r\n            public JavaFxApp() {\r\n            }\r\n    \r\n            public void update(String content) {\r\n                fxTextArea.setText(content);\r\n            }\r\n    \r\n            public void reset() {\r\n                fxTextArea.setText(&quot;&quot;);\r\n            }\r\n        }\r\n    \r\n    \r\n        private void addChangeListenerToTinymceEditorTextareaElement(Element el) {\r\n            ((EventTarget) el).addEventListener(\r\n                    &quot;onchange&quot;,\r\n                    event -&gt; fxTextArea.setText(&quot;Added by textarea change listener. &quot;.concat(el.getTextContent())),\r\n                    false\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**html page which contains Tinymce and javascript codes:**\r\n\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;script src=&quot;../js/tinymce4/tinymce.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n            tinymce.init({\r\n                selector: &quot;#tinymceTextarea&quot;,\r\n                width: &#39;100%&#39;,\r\n                height: 800,\r\n                placeholder:&#39;Typ of plak hier...&#39;,\r\n                plugins: [\r\n                    &quot;advlist autolink lists link image charmap print preview anchor&quot;,\r\n                    &quot;searchreplace visualblocks code fullscreen&quot;,\r\n                    &quot;insertdatetime media table paste&quot;,\r\n                ],\r\n                toolbar:\r\n                    &quot;undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | code openlocalfile&quot;,\r\n                setup: function(editor) {\r\n    \r\n                    function displayFile(contents) {\r\n                        editor.insertContent(contents);\r\n                    }\r\n    \r\n                    function openLocalFile() {\r\n                        const readFile = function (e) {\r\n                            let file = e.target.files[0];\r\n                            if (!file) {\r\n                                return;\r\n                            }\r\n                            let reader = new FileReader();\r\n                            reader.onload = function (e) {\r\n                                let contents = e.target.result;\r\n                                fileInput.func(contents)\r\n                                document.body.removeChild(fileInput)\r\n                            }\r\n                            reader.readAsText(file)\r\n                        };\r\n                        let fileInput = document.createElement(&quot;input&quot;)\r\n                        fileInput.type=&#39;file&#39;\r\n                        fileInput.style.display=&#39;none&#39;\r\n                        fileInput.onchange=readFile\r\n                        fileInput.func=displayFile\r\n                        document.body.appendChild(fileInput)\r\n                        fileInput.dispatchEvent(new MouseEvent(&#39;click&#39;, {shiftKey: true}));\r\n                    }\r\n    \r\n                    editor.addButton(&#39;openlocalfile&#39;, {\r\n                        text:&quot;Open file&quot;,\r\n                        icon: &#39;browse&#39;,\r\n                        //image: &#39;https://cdn-icons.flaticon.com/png/512/5994/premium/5994754.png?token=exp=1643109307~hmac=6e7bf649b369f4936adba174205d9e5c&#39;,\r\n                        tooltip: &quot;Open a local File in the editor&quot;,\r\n                        onclick: openLocalFile\r\n                    });\r\n                }\r\n            });\r\n    \r\n            function callJavaFx(){\r\n                return tinymce.getContent();\r\n            }\r\n    \r\n    \r\n        &lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div&gt;Tinymce &lt;b&gt;locally&lt;/b&gt; hosted and &lt;strong&gt;Opensource&lt;/strong&gt;&lt;br&gt;\r\n        &lt;input type=&quot;button&quot; onclick=&quot;fxApp.reset()&quot; value=&quot;Reset FX Textarea from html page&quot;&gt;\r\n        &lt;input type=&quot;button&quot; onclick=&quot;fxApp.update(callJavaFx());&quot; value=&quot;Save tinymce content to FX textarea&quot;&gt;\r\n        &lt;hr&gt;\r\n    &lt;/div&gt;\r\n    &lt;form method=&quot;post&quot;&gt;\r\n        &lt;textarea id=&quot;tinymceTextarea&quot; onchange=&quot;fxApp.update()&quot; &gt;I&#39;m initial text value in opensource self-hosted HTML page.&lt;/textarea&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"How to integrate Tinymce into JavaFx webview?","body":"<p>I am trying to add Tinymce in our JavaFX desktop application therefore I need a bidirectional communication between Tinymce and FX webview.</p>\n<p>What I have done up to now:\nIntegrated Tinymce in javaFX webview and displaying it, but don't know how to communicate between Tinymce and javaFx webview?</p>\n<p><strong>Anyone has experience or can answer the following?</strong></p>\n<ul>\n<li>How do I get content from Tinymce to javaFx component for example textarea?</li>\n<li>How to setup Tinymce content from JavaFX after fx application is loaded?</li>\n</ul>\n<p><strong>Here are realization source code.</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.event.ActionEvent;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.Border;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\nimport netscape.javascript.JSObject;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.events.EventTarget;\n\nimport static javafx.concurrent.Worker.State;\n\npublic class TinymceInJavaFx extends Application {\n    private static String URL_TINYMCE_PAGE = &quot;/html/tinymcePage.html&quot;;\n    private static String ID = &quot;tinymceTextarea&quot;;\n    private static String INITIAL_TEXT = &quot;Initial text to be loaded in Tinymce.&quot;;\n\n    private WebEngine webEngine;\n    private Document document;\n    private Element element;\n\n    final TextArea fxTextArea = new TextArea(INITIAL_TEXT);\n    public JavaFxApp javaFxApp;\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;JavaFX HTML Editor Tinymce&quot;);\n\n        WebView webView = new WebView();\n        webEngine = webView.getEngine();\n        webEngine.load(getClass().getResource(URL_TINYMCE_PAGE).toExternalForm());\n        webEngine.getLoadWorker().stateProperty().addListener(new ChangeListener&lt;State&gt;() {\n            public void changed(ObservableValue&lt;? extends State&gt; ov, State oldState, State newState) {\n                if (newState == State.SUCCEEDED) {\n                    primaryStage.setTitle(webEngine.getLocation());\n                    initJavaAndJavascriptObject();\n                    element.setTextContent(fxTextArea.getText());\n                }\n            }\n        });\n\n        VBox vBox = new VBox(webView);\n        vBox.setStyle(&quot;-fx-padding: 10;&quot; +\n                &quot;-fx-border-style: solid inside;&quot; +\n                &quot;-fx-border-width: 2;&quot; +\n                &quot;-fx-border-insets: 5;&quot; +\n                &quot;-fx-border-radius: 5;&quot; +\n                &quot;-fx-border-color: blue;&quot;);\n        fxTextArea.setBorder(Border.EMPTY);\n        fxTextArea.setStyle(&quot;-fx-padding: 10;&quot; +\n                &quot;-fx-border-style: solid inside;&quot; +\n                &quot;-fx-border-width: 2;&quot; +\n                &quot;-fx-border-insets: 5;&quot; +\n                &quot;-fx-border-radius: 5;&quot; +\n                &quot;-fx-border-color: red;&quot;);\n        Button btnSave = new Button(&quot;Update FX TextArea&quot;);\n        btnSave.setOnAction((ActionEvent t) -&gt; {\n            fxTextArea.setText(element.getTextContent());\n        });\n        // create the toolbar\n        VBox toolBar = new VBox();\n        toolBar.setMinHeight(200.0);\n        toolBar.setAlignment(Pos.CENTER);\n        toolBar.getStyleClass().add(&quot;browser-toolbar&quot;);\n        toolBar.getChildren().addAll(btnSave, fxTextArea);\n        Scene scene = new Scene(new VBox(vBox, toolBar), 1000, 600);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private void initJavaAndJavascriptObject() {\n        document = webEngine.getDocument();\n        element = document.getElementById(ID);\n        addChangeListenerToTinymceEditorTextareaElement(element);\n\n        //Mapping Java objects to JavaScript values, Calling back to Java from JavaScript\n        JSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\n        // You can then refer to the object and the method from your HTML page: &lt;a href=&quot;&quot; onclick=&quot;fxApp.update()&quot;&gt;Click here to exit application&lt;/a&gt;\n        window.setMember(&quot;fxApp&quot;, javaFxApp);\n    }\n\n\n    // JavaScript interface object\n    public class JavaFxApp {\n\n        public JavaFxApp() {\n        }\n\n        public void update(String content) {\n            fxTextArea.setText(content);\n        }\n\n        public void reset() {\n            fxTextArea.setText(&quot;&quot;);\n        }\n    }\n\n\n    private void addChangeListenerToTinymceEditorTextareaElement(Element el) {\n        ((EventTarget) el).addEventListener(\n                &quot;onchange&quot;,\n                event -&gt; fxTextArea.setText(&quot;Added by textarea change listener. &quot;.concat(el.getTextContent())),\n                false\n        );\n    }\n\n}\n</code></pre>\n<p><strong>html page which contains Tinymce and javascript codes:</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;script src=&quot;../js/tinymce4/tinymce.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n        tinymce.init({\n            selector: &quot;#tinymceTextarea&quot;,\n            width: '100%',\n            height: 800,\n            placeholder:'Typ of plak hier...',\n            plugins: [\n                &quot;advlist autolink lists link image charmap print preview anchor&quot;,\n                &quot;searchreplace visualblocks code fullscreen&quot;,\n                &quot;insertdatetime media table paste&quot;,\n            ],\n            toolbar:\n                &quot;undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | code openlocalfile&quot;,\n            setup: function(editor) {\n\n                function displayFile(contents) {\n                    editor.insertContent(contents);\n                }\n\n                function openLocalFile() {\n                    const readFile = function (e) {\n                        let file = e.target.files[0];\n                        if (!file) {\n                            return;\n                        }\n                        let reader = new FileReader();\n                        reader.onload = function (e) {\n                            let contents = e.target.result;\n                            fileInput.func(contents)\n                            document.body.removeChild(fileInput)\n                        }\n                        reader.readAsText(file)\n                    };\n                    let fileInput = document.createElement(&quot;input&quot;)\n                    fileInput.type='file'\n                    fileInput.style.display='none'\n                    fileInput.onchange=readFile\n                    fileInput.func=displayFile\n                    document.body.appendChild(fileInput)\n                    fileInput.dispatchEvent(new MouseEvent('click', {shiftKey: true}));\n                }\n\n                editor.addButton('openlocalfile', {\n                    text:&quot;Open file&quot;,\n                    icon: 'browse',\n                    //image: 'https://cdn-icons.flaticon.com/png/512/5994/premium/5994754.png?token=exp=1643109307~hmac=6e7bf649b369f4936adba174205d9e5c',\n                    tooltip: &quot;Open a local File in the editor&quot;,\n                    onclick: openLocalFile\n                });\n            }\n        });\n\n        function callJavaFx(){\n            return tinymce.getContent();\n        }\n\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;Tinymce &lt;b&gt;locally&lt;/b&gt; hosted and &lt;strong&gt;Opensource&lt;/strong&gt;&lt;br&gt;\n    &lt;input type=&quot;button&quot; onclick=&quot;fxApp.reset()&quot; value=&quot;Reset FX Textarea from html page&quot;&gt;\n    &lt;input type=&quot;button&quot; onclick=&quot;fxApp.update(callJavaFx());&quot; value=&quot;Save tinymce content to FX textarea&quot;&gt;\n    &lt;hr&gt;\n&lt;/div&gt;\n&lt;form method=&quot;post&quot;&gt;\n    &lt;textarea id=&quot;tinymceTextarea&quot; onchange=&quot;fxApp.update()&quot; &gt;I'm initial text value in opensource self-hosted HTML page.&lt;/textarea&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1375018311,"creation_date":1375018311,"answer_id":17908733,"question_id":17908708,"body_markdown":"There&#39;s an implicit conversion from `byte` to `int`, but *not* from `byte[]` to `int[]`. This makes a lot of sense - the JIT compiler knows that to get to a value in an `int[]`, it just needs to multiply the index by 4 and add that to the start of the data (after validation, and assuming no extra padding, of course). That wouldn&#39;t work if you could assign a `byte[]` reference to an `int[]` variable - the *representations* are different.\r\n\r\nThe language could have been designed to allow that conversion but make it create a *new* `int[]` which contained a copy of all the bytes, but that would have been pretty surprising in terms of the design of the rest of Java, where the assignment operator *just* copies a value from the right hand side of the operator to the variable on the left.\r\n\r\nAlternatively, we could have imposed a restriction on the VM that every array access would have to look at the *actual* type of the array object in question, and work out how to get to the element appropriately... but that would have been horrible (even worse than the current nastiness of reference-type array covariance).","title":"why can&#39;t byte array be stored in integer array in java","body":"<p>There's an implicit conversion from <code>byte</code> to <code>int</code>, but <em>not</em> from <code>byte[]</code> to <code>int[]</code>. This makes a lot of sense - the JIT compiler knows that to get to a value in an <code>int[]</code>, it just needs to multiply the index by 4 and add that to the start of the data (after validation, and assuming no extra padding, of course). That wouldn't work if you could assign a <code>byte[]</code> reference to an <code>int[]</code> variable - the <em>representations</em> are different.</p>\n\n<p>The language could have been designed to allow that conversion but make it create a <em>new</em> <code>int[]</code> which contained a copy of all the bytes, but that would have been pretty surprising in terms of the design of the rest of Java, where the assignment operator <em>just</em> copies a value from the right hand side of the operator to the variable on the left.</p>\n\n<p>Alternatively, we could have imposed a restriction on the VM that every array access would have to look at the <em>actual</em> type of the array object in question, and work out how to get to the element appropriately... but that would have been horrible (even worse than the current nastiness of reference-type array covariance).</p>\n"},{"tags":[],"owner":{"account_id":2587815,"reputation":1219,"user_id":2243092,"accept_rate":80,"display_name":"ThiepLV"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1375018405,"creation_date":1375018405,"answer_id":17908748,"question_id":17908708,"body_markdown":"Simply, Type byte[] does not extend int[]","title":"why can&#39;t byte array be stored in integer array in java","body":"<p>Simply, Type byte[] does not extend int[]</p>\n"},{"tags":[],"owner":{"account_id":2306641,"reputation":4811,"user_id":2025784,"accept_rate":59,"display_name":"tkroman"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1643894622,"creation_date":1375018422,"answer_id":17908752,"question_id":17908708,"body_markdown":"That&#39;s the design. When you assign `byte` to wider `int`, that&#39;s okay. But when you declare `new byte[4]`, that&#39;s a [&quot;continuous&quot;] part of memory which is, roughly speaking, equal to 4 * 8 bits (or 4 bytes). And one `int` is 32 bits, so, technically, all your `byte` array&#39;s size is equal to size of one `int`. In C, where you have a direct memory access, you could do some pointer magic and get your `byte` pointer casted to `int` pointer. In Java, you cant and that&#39;s safe.\r\n\r\nAnyway, why do you want that?\r\nDisclaimer: the code below is considered to be extremely unlikely seen anywhere except for the most critical sections in some performance-sensitive libraries/apps. Ideone: http://ideone.com/e14Omr\r\n\r\nComments are explanatory enough, I hope. \r\n\r\n    import sun.misc.Unsafe;\r\n    import java.lang.reflect.Field;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws NoSuchFieldException, IllegalAccessException, InstantiationException {\r\n            /* too lazy to run with VM args, use Reflection */\r\n    \t    Field f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n    \t    f.setAccessible(true);\r\n    \t    /* get array address */\r\n    \t    Unsafe unsafe = (Unsafe)f.get(null);\r\n    \t\tbyte four_bytes[] = {25, 25, 25, 25};\r\n    \t    Object trash[] = new Object[] { four_bytes };\r\n    \t    long base_offset_bytes = unsafe.arrayBaseOffset(Object[].class);\r\n    \t    long four_bytes_address = unsafe.getLong(trash, base_offset_bytes); // &lt;- this is it\r\n    \t    long ints_addr = unsafe.allocateMemory(16); // allocate 4 * 4 bytes, i.e. 4 ints\r\n    \t    unsafe.copyMemory(four_bytes_address + base_offset_bytes, ints_addr, 4); // copy all four bytes\r\n    \t    for(int i = 0; i &lt; 4; i++) {\r\n    \t\t    System.out.println(unsafe.getInt(ints_addr + i)); //run through entire allocated int[],\r\n    \t\t                                                      // get some intestines\r\n    \t    }\r\n            System.out.println(&quot;*****************************&quot;);\r\n            for(int i = 0; i &lt; 16; i++) {\r\n        \t    System.out.println(unsafe.getByte(ints_addr + i)); //run through entire allocated int[],\r\n    \t\t                                                      // get some intestines\r\n    \t    }\r\n        }\r\n    }","title":"why can&#39;t byte array be stored in integer array in java","body":"<p>That's the design. When you assign <code>byte</code> to wider <code>int</code>, that's okay. But when you declare <code>new byte[4]</code>, that's a [&quot;continuous&quot;] part of memory which is, roughly speaking, equal to 4 * 8 bits (or 4 bytes). And one <code>int</code> is 32 bits, so, technically, all your <code>byte</code> array's size is equal to size of one <code>int</code>. In C, where you have a direct memory access, you could do some pointer magic and get your <code>byte</code> pointer casted to <code>int</code> pointer. In Java, you cant and that's safe.</p>\n<p>Anyway, why do you want that?\nDisclaimer: the code below is considered to be extremely unlikely seen anywhere except for the most critical sections in some performance-sensitive libraries/apps. Ideone: <a href=\"http://ideone.com/e14Omr\" rel=\"nofollow noreferrer\">http://ideone.com/e14Omr</a></p>\n<p>Comments are explanatory enough, I hope.</p>\n<pre><code>import sun.misc.Unsafe;\nimport java.lang.reflect.Field;\n\npublic class Main {\n\n    public static void main(String[] args) throws NoSuchFieldException, IllegalAccessException, InstantiationException {\n        /* too lazy to run with VM args, use Reflection */\n        Field f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n        f.setAccessible(true);\n        /* get array address */\n        Unsafe unsafe = (Unsafe)f.get(null);\n        byte four_bytes[] = {25, 25, 25, 25};\n        Object trash[] = new Object[] { four_bytes };\n        long base_offset_bytes = unsafe.arrayBaseOffset(Object[].class);\n        long four_bytes_address = unsafe.getLong(trash, base_offset_bytes); // &lt;- this is it\n        long ints_addr = unsafe.allocateMemory(16); // allocate 4 * 4 bytes, i.e. 4 ints\n        unsafe.copyMemory(four_bytes_address + base_offset_bytes, ints_addr, 4); // copy all four bytes\n        for(int i = 0; i &lt; 4; i++) {\n            System.out.println(unsafe.getInt(ints_addr + i)); //run through entire allocated int[],\n                                                              // get some intestines\n        }\n        System.out.println(&quot;*****************************&quot;);\n        for(int i = 0; i &lt; 16; i++) {\n            System.out.println(unsafe.getByte(ints_addr + i)); //run through entire allocated int[],\n                                                              // get some intestines\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1375027043,"creation_date":1375026720,"answer_id":17910034,"question_id":17908708,"body_markdown":"The difference is firstly due to the difference in behavior between primitive types and reference types.\r\n\r\nIn case you&#39;re not familiar with it, primitive types have &quot;value semantics&quot;. This means that when you do `a = b;` when `a` and `b` are a primitive type (`byte`, `short`, `int`, `long`, `float`, `double`, `boolean`, or `char`) the numeric/boolean value is copied. For example:\r\n\r\n    int a = 3;\r\n    int b = a; // int value of a is copied to b\r\n    a = 5;\r\n    System.out.println(b); // outputs: 3\r\n\r\nBut arrays are objects, and objects have &quot;reference semantics&quot;. That means that when you do `a = b;` where `a` and `b` are both declared as an array type, the array object that is referred to becomes **shared**. In a sense the value is still copied, but here the &quot;value&quot; is just the pointer to the object located elsewhere in memory. For example:\r\n\r\n    int[] a = new int[] { 3 };\r\n    int[] b = a; // pointer value of a is copied to b, so a and b now point at the same array object\r\n    a[0] = 5;\r\n    System.out.println(b[0]); // outputs: 5\r\n    a = null; // note: &#39;a&#39; now points at no array, although this has no effect on b\r\n    System.out.println(b[0]); // outputs: 5\r\n\r\nSo it is okay to do `int = byte` because the numeric value is going to be copied (as they are both primitive types) and also because any possible value of type byte can be safely stored in an int (it is a [&quot;widening&quot; primitive conversion](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2)).\r\n\r\nBut `int[]` and `byte[]` are both object types, so when you do `int[] = byte[]` you are asking for the object (the array) to be **shared** (not copied).\r\n\r\nNow you have to ask, **why can&#39;t an int array and a byte array share their array memory**? And what would if mean if they did?\r\n\r\nInts are 4 times the size of bytes, so if the int and byte arrays were to have the same number of elements, then this causes all sorts of nonsense. If you tried to implement it in a memory efficient way, then complex (and very slow) run-time logic would be needed when accessing elements of int arrays to see if they were actually byte arrays. Int reads from byte array memory would have to read and widen the byte value, and int stores would have to either lose the upper 3 bytes, or throw an exception saying that there isn&#39;t enough space. *Or*, you could do it in a fast but memory-wasting way, by padding all byte arrays so that there are 3 wasted bytes per element, just in case somebody wants to use the byte array as an int array.\r\n\r\nOn the other hand, perhaps you want to pack 4 bytes per int (in this case, the shared array won&#39;t have the same number of elements depending on the type of the variable you use to access it). Unfortunately this also causes nonsense. The biggest problem is that it is not portable across CPU architectures. On a [little-endian](https://en.wikipedia.org/wiki/Endianness) PC, `b[0]` would refer to the low byte of `i[0]`, but on an ARM device `b[0]` might point at the high byte of `i[0]` (and it could even change while the program is running as ARM has a switchable endianness). The overhead of accessing the array&#39;s length property would also be made more complicated, and just what should happen if the byte array&#39;s length is not divisible by 4?!\r\n\r\nYou can do this in C, but that&#39;s because C arrays don&#39;t have a well-defined length property and because C doesn&#39;t try to protect you from the other issues. C doesn&#39;t care if you go outside the array bounds or muddle up endianness. But Java does care, so it is not feasible to share the array memory in Java. (Java doesn&#39;t have [unions](https://en.wikipedia.org/wiki/Union_type).)\r\n\r\nThat&#39;s why `int[].class` and `byte[].class` both separately extend class `Object`, but neither class extends the other. You can&#39;t store a reference to a byte array in a variable that is declared to point at int arrays, in the same way you can&#39;t store a reference to a `List` in a variable of type `String`; they&#39;re just incompatible classes.\r\n\r\n","title":"why can&#39;t byte array be stored in integer array in java","body":"<p>The difference is firstly due to the difference in behavior between primitive types and reference types.</p>\n\n<p>In case you're not familiar with it, primitive types have \"value semantics\". This means that when you do <code>a = b;</code> when <code>a</code> and <code>b</code> are a primitive type (<code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, <code>boolean</code>, or <code>char</code>) the numeric/boolean value is copied. For example:</p>\n\n<pre><code>int a = 3;\nint b = a; // int value of a is copied to b\na = 5;\nSystem.out.println(b); // outputs: 3\n</code></pre>\n\n<p>But arrays are objects, and objects have \"reference semantics\". That means that when you do <code>a = b;</code> where <code>a</code> and <code>b</code> are both declared as an array type, the array object that is referred to becomes <strong>shared</strong>. In a sense the value is still copied, but here the \"value\" is just the pointer to the object located elsewhere in memory. For example:</p>\n\n<pre><code>int[] a = new int[] { 3 };\nint[] b = a; // pointer value of a is copied to b, so a and b now point at the same array object\na[0] = 5;\nSystem.out.println(b[0]); // outputs: 5\na = null; // note: 'a' now points at no array, although this has no effect on b\nSystem.out.println(b[0]); // outputs: 5\n</code></pre>\n\n<p>So it is okay to do <code>int = byte</code> because the numeric value is going to be copied (as they are both primitive types) and also because any possible value of type byte can be safely stored in an int (it is a <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2\">\"widening\" primitive conversion</a>).</p>\n\n<p>But <code>int[]</code> and <code>byte[]</code> are both object types, so when you do <code>int[] = byte[]</code> you are asking for the object (the array) to be <strong>shared</strong> (not copied).</p>\n\n<p>Now you have to ask, <strong>why can't an int array and a byte array share their array memory</strong>? And what would if mean if they did?</p>\n\n<p>Ints are 4 times the size of bytes, so if the int and byte arrays were to have the same number of elements, then this causes all sorts of nonsense. If you tried to implement it in a memory efficient way, then complex (and very slow) run-time logic would be needed when accessing elements of int arrays to see if they were actually byte arrays. Int reads from byte array memory would have to read and widen the byte value, and int stores would have to either lose the upper 3 bytes, or throw an exception saying that there isn't enough space. <em>Or</em>, you could do it in a fast but memory-wasting way, by padding all byte arrays so that there are 3 wasted bytes per element, just in case somebody wants to use the byte array as an int array.</p>\n\n<p>On the other hand, perhaps you want to pack 4 bytes per int (in this case, the shared array won't have the same number of elements depending on the type of the variable you use to access it). Unfortunately this also causes nonsense. The biggest problem is that it is not portable across CPU architectures. On a <a href=\"https://en.wikipedia.org/wiki/Endianness\">little-endian</a> PC, <code>b[0]</code> would refer to the low byte of <code>i[0]</code>, but on an ARM device <code>b[0]</code> might point at the high byte of <code>i[0]</code> (and it could even change while the program is running as ARM has a switchable endianness). The overhead of accessing the array's length property would also be made more complicated, and just what should happen if the byte array's length is not divisible by 4?!</p>\n\n<p>You can do this in C, but that's because C arrays don't have a well-defined length property and because C doesn't try to protect you from the other issues. C doesn't care if you go outside the array bounds or muddle up endianness. But Java does care, so it is not feasible to share the array memory in Java. (Java doesn't have <a href=\"https://en.wikipedia.org/wiki/Union_type\">unions</a>.)</p>\n\n<p>That's why <code>int[].class</code> and <code>byte[].class</code> both separately extend class <code>Object</code>, but neither class extends the other. You can't store a reference to a byte array in a variable that is declared to point at int arrays, in the same way you can't store a reference to a <code>List</code> in a variable of type <code>String</code>; they're just incompatible classes.</p>\n"},{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375027997,"creation_date":1375027997,"answer_id":17910202,"question_id":17908708,"body_markdown":"When you say\r\n\r\n    int[] arr = new byte[5];\r\n\r\nyou copy references. On the right hand side is a reference to a byte array. Essentially, this looks like:\r\n\r\n    |__|__|__|__|__|\r\n    0  1  2  3  4            offset of elements, in bytes\r\n    ^\r\n    |\r\n    reference to byte array\r\n\r\nOn the left hand side is a reference to an int array. This, however, is expected to look thus:\r\n\r\n    |________|________|________|________|________|\r\n    0        4        8        12       16\r\n    ^\r\n    |\r\n    reference to int array\r\n\r\nHence, simply copying the reference is not possible. For, to get arr[1], the code would look at the starting address+4 (rather than starting adress+1).\r\n\r\nThe only way to achieve what you want is to create an int[] that has the same number of elements and copy the bytes there.\r\n\r\nThe rationale behind not doing that automatically:\r\n\r\n  - interpreting a single byte as an int comes at essentially no cost, especially no memory must be allocated.\r\n  - copying a byte array is completly different. The new int array must be allocated, which is at least 4 times at big as the byte array. The copy process itself could take some time.\r\n\r\nConclusion: In Java, you can always say &quot;I want to treat this special byte as if it were an int.&quot; But you can not say: &quot;I want to treat some data structure (like an array, or a class instance) that contains bytes as if it contained ints.&quot;","title":"why can&#39;t byte array be stored in integer array in java","body":"<p>When you say</p>\n\n<pre><code>int[] arr = new byte[5];\n</code></pre>\n\n<p>you copy references. On the right hand side is a reference to a byte array. Essentially, this looks like:</p>\n\n<pre><code>|__|__|__|__|__|\n0  1  2  3  4            offset of elements, in bytes\n^\n|\nreference to byte array\n</code></pre>\n\n<p>On the left hand side is a reference to an int array. This, however, is expected to look thus:</p>\n\n<pre><code>|________|________|________|________|________|\n0        4        8        12       16\n^\n|\nreference to int array\n</code></pre>\n\n<p>Hence, simply copying the reference is not possible. For, to get arr[1], the code would look at the starting address+4 (rather than starting adress+1).</p>\n\n<p>The only way to achieve what you want is to create an int[] that has the same number of elements and copy the bytes there.</p>\n\n<p>The rationale behind not doing that automatically:</p>\n\n<ul>\n<li>interpreting a single byte as an int comes at essentially no cost, especially no memory must be allocated.</li>\n<li>copying a byte array is completly different. The new int array must be allocated, which is at least 4 times at big as the byte array. The copy process itself could take some time.</li>\n</ul>\n\n<p>Conclusion: In Java, you can always say \"I want to treat this special byte as if it were an int.\" But you can not say: \"I want to treat some data structure (like an array, or a class instance) that contains bytes as if it contained ints.\"</p>\n"},{"tags":[],"owner":{"account_id":3103618,"reputation":1,"user_id":2627059,"display_name":"user2627059"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1375037721,"creation_date":1375037721,"answer_id":17911696,"question_id":17908708,"body_markdown":"you  cant because its like big element is going to be stored in smaller one.Integer cant be stored in byte.Its our memory design who decides these type of  allocation","title":"why can&#39;t byte array be stored in integer array in java","body":"<p>you  cant because its like big element is going to be stored in smaller one.Integer cant be stored in byte.Its our memory design who decides these type of  allocation</p>\n"}],"owner":{"account_id":1083888,"reputation":10344,"user_id":1080093,"accept_rate":92,"display_name":"Nav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3045,"favorite_count":0,"down_vote_count":4,"up_vote_count":24,"accepted_answer_id":17910034,"answer_count":6,"score":20,"last_activity_date":1643894622,"creation_date":1375018106,"question_id":17908708,"body_markdown":"This code is valid \r\n\r\n    int h;\r\n    byte r;\r\n    h=r;\r\n\r\nbut these are not\r\n\r\n    int[] h;\r\n    byte[] r;\r\n    h=r;\r\n\r\nor say \r\n\r\n    int[] h =new byte[4];\r\n\r\nI would like to know why?\r\n\r\n\r\n\r\n","title":"why can&#39;t byte array be stored in integer array in java","body":"<p>This code is valid </p>\n\n<pre><code>int h;\nbyte r;\nh=r;\n</code></pre>\n\n<p>but these are not</p>\n\n<pre><code>int[] h;\nbyte[] r;\nh=r;\n</code></pre>\n\n<p>or say </p>\n\n<pre><code>int[] h =new byte[4];\n</code></pre>\n\n<p>I would like to know why?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"score":4,"creation_date":1346880998,"post_id":12290021,"comment_id":16486255,"body_markdown":"Is ControllerTest abstract? I dont think JUnit runs tests in abstract classes from memory","body":"Is ControllerTest abstract? I dont think JUnit runs tests in abstract classes from memory"},{"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"score":0,"creation_date":1346881080,"post_id":12290021,"comment_id":16486285,"body_markdown":"No, it&#39;s not abstract.  I will try that.","body":"No, it&#39;s not abstract.  I will try that."},{"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"score":0,"creation_date":1346882754,"post_id":12290021,"comment_id":16486792,"body_markdown":"Excellent - see my answer for how to do it in JUnit 4 as well","body":"Excellent - see my answer for how to do it in JUnit 4 as well"}],"answers":[{"tags":[],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1643894499,"creation_date":1346881791,"answer_id":12290290,"question_id":12290021,"body_markdown":"This works for me\r\n\r\nJUnit 3\r\n-------\r\n\r\n    public abstract class BaseTest extends TestCase {\r\n\r\n        public void setUp(){\r\n            System.out.println(&quot;before called&quot;);\r\n        }\r\n    }\r\n\r\n    public class Test1 extends BaseTest {\r\n\r\n        public void test() {\r\n            Assert.assertTrue(true);\r\n            System.out.println(&quot;Test1&quot;);\r\n        }\t\r\n    }\r\n\r\n    public class Test2 extends BaseTest {\r\n\r\n        public void test() {\r\n            Assert.assertTrue(true);\r\n            System.out.println(&quot;Test2&quot;);\r\n        }\t\r\n    }\r\n\r\n\r\nThe output I get is\r\n\r\n    before called\r\n    Test2\r\n    before called\r\n    Test1\r\n\r\n\r\nJUnit 4\r\n-------\r\n\r\nFor JUnit4 you do not even need to make the base class abstract. You can just use the following\r\n\r\n\r\n    public class BaseTest {\r\n        @Before\r\n        public void setUp(){\r\n            System.out.println(&quot;before called&quot;);\r\n        }\r\n    }\r\n\r\n    public class Test1 extends BaseTest {\r\n        @Test\r\n        public void test() {\r\n            Assert.assertTrue(true);\r\n            System.out.println(&quot;Test1&quot;);\r\n        }\t\r\n    }\r\n\r\n    public class Test2 extends BaseTest {\r\n        @Test\r\n        public void test() {\r\n            Assert.assertTrue(true);\r\n            System.out.println(&quot;Test1&quot;);\r\n        }\t\r\n    }\r\n\r\n\r\nI would strongly recommend using JUnit 4. Using annotations means that you break some of this inheritance dependency which can get confusing.\r\n","title":"Super JUnit classes with no test cases","body":"<p>This works for me</p>\n<h2>JUnit 3</h2>\n<pre><code>public abstract class BaseTest extends TestCase {\n\n    public void setUp(){\n        System.out.println(&quot;before called&quot;);\n    }\n}\n\npublic class Test1 extends BaseTest {\n\n    public void test() {\n        Assert.assertTrue(true);\n        System.out.println(&quot;Test1&quot;);\n    }   \n}\n\npublic class Test2 extends BaseTest {\n\n    public void test() {\n        Assert.assertTrue(true);\n        System.out.println(&quot;Test2&quot;);\n    }   \n}\n</code></pre>\n<p>The output I get is</p>\n<pre><code>before called\nTest2\nbefore called\nTest1\n</code></pre>\n<h2>JUnit 4</h2>\n<p>For JUnit4 you do not even need to make the base class abstract. You can just use the following</p>\n<pre><code>public class BaseTest {\n    @Before\n    public void setUp(){\n        System.out.println(&quot;before called&quot;);\n    }\n}\n\npublic class Test1 extends BaseTest {\n    @Test\n    public void test() {\n        Assert.assertTrue(true);\n        System.out.println(&quot;Test1&quot;);\n    }   \n}\n\npublic class Test2 extends BaseTest {\n    @Test\n    public void test() {\n        Assert.assertTrue(true);\n        System.out.println(&quot;Test1&quot;);\n    }   \n}\n</code></pre>\n<p>I would strongly recommend using JUnit 4. Using annotations means that you break some of this inheritance dependency which can get confusing.</p>\n"}],"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9090,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12290290,"answer_count":1,"score":7,"last_activity_date":1643894499,"creation_date":1346880338,"question_id":12290021,"body_markdown":"I have three JUnit test classes that all had some common code, including identical setup() methods.  So, I factored this code out into its own class that extends TestCase and now have the three earlier JUnit test classes extend this new class.  The new super class contains no tests itself.\r\n\r\nHowever, in our build, JUnit runs all the JUnit test classes, including the new super class with no tests.  It gives this error:\r\n\r\n    junit.framework.AssertionFailedError: No tests found in com.acme.ControllerTest\r\n\r\nI could get rid of this error by creating some simple test that does nothing in ControllerTest.  But is there a cleaner way of fixing this?","title":"Super JUnit classes with no test cases","body":"<p>I have three JUnit test classes that all had some common code, including identical setup() methods.  So, I factored this code out into its own class that extends TestCase and now have the three earlier JUnit test classes extend this new class.  The new super class contains no tests itself.</p>\n\n<p>However, in our build, JUnit runs all the JUnit test classes, including the new super class with no tests.  It gives this error:</p>\n\n<pre><code>junit.framework.AssertionFailedError: No tests found in com.acme.ControllerTest\n</code></pre>\n\n<p>I could get rid of this error by creating some simple test that does nothing in ControllerTest.  But is there a cleaner way of fixing this?</p>\n"},{"tags":["java","if-statement","java-7","notnull"],"comments":[{"owner":{"account_id":1521272,"reputation":1659,"user_id":1420839,"accept_rate":80,"display_name":"Dragondraikk"},"score":3,"creation_date":1436455589,"post_id":31321818,"comment_id":50630552,"body_markdown":"Why not check and print each variable separately? it would be much cleaner that way.","body":"Why not check and print each variable separately? it would be much cleaner that way."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1436455634,"post_id":31321818,"comment_id":50630578,"body_markdown":"If `home` is `null`, you&#39;ll print `home is null`, otherwise you&#39;ll print `home is not null`. This is independent of the values of your other variables.","body":"If <code>home</code> is <code>null</code>, you&#39;ll print <code>home is null</code>, otherwise you&#39;ll print <code>home is not null</code>. This is independent of the values of your other variables."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1643895034,"post_id":31321818,"comment_id":125463898,"body_markdown":"**Warning**: you are using *raw types* (`List` and `ArrayList`). Never do that, always specify the necessary *type arguments*. (Even if this is a simplified example, don&#39;t use raw types.)","body":"<b>Warning</b>: you are using <i>raw types</i> (<code>List</code> and <code>ArrayList</code>). Never do that, always specify the necessary <i>type arguments</i>. (Even if this is a simplified example, don&#39;t use raw types.)"}],"answers":[{"tags":[],"owner":{"account_id":875894,"reputation":3530,"user_id":925549,"accept_rate":73,"display_name":"yas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436455967,"creation_date":1436455967,"answer_id":31322016,"question_id":31321818,"body_markdown":"Just check `home`, `bill`, and `reg` individually, because they have no dependency with each other.\r\n\r\n    public void helloWorld()\r\n    {\r\n        List items=new ArrayList();\r\n        items.add(&quot;1&quot;); // dummy list\r\n        String home=&quot;&quot;; // can be null or empty\r\n        String bill=null;  // can be null or empty\r\n        String reg=&quot;&quot;;  // can be null or empty\r\n        if(!items.isEmpty())\r\n        {\r\n            System.out.println(&quot;List is not null&quot;);\r\n            System.out.println( home == null ? &quot;home is null&quot; : &quot;home is not null&quot; );\r\n            System.out.println( bill == null ? &quot;bill is null&quot; : &quot;bill is not null&quot; );\r\n            System.out.println( reg == null ? &quot;reg is null&quot; : &quot;reg is not null&quot; );\r\n\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;List is null&quot;);\r\n        }\r\n    }","title":"Java if condition code optimise","body":"<p>Just check <code>home</code>, <code>bill</code>, and <code>reg</code> individually, because they have no dependency with each other.</p>\n\n<pre><code>public void helloWorld()\n{\n    List items=new ArrayList();\n    items.add(\"1\"); // dummy list\n    String home=\"\"; // can be null or empty\n    String bill=null;  // can be null or empty\n    String reg=\"\";  // can be null or empty\n    if(!items.isEmpty())\n    {\n        System.out.println(\"List is not null\");\n        System.out.println( home == null ? \"home is null\" : \"home is not null\" );\n        System.out.println( bill == null ? \"bill is null\" : \"bill is not null\" );\n        System.out.println( reg == null ? \"reg is null\" : \"reg is not null\" );\n\n    }\n    else\n    {\n        System.out.println(\"List is null\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3562336,"reputation":1128,"user_id":2974922,"accept_rate":75,"display_name":"nucleon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436455988,"creation_date":1436455988,"answer_id":31322024,"question_id":31321818,"body_markdown":"As proposed just check each variable instead of listing all permutations\r\n\r\n        if(home==null) \r\n        {\r\n            System.out.println(&quot;home is null&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;home is not null&quot;);\r\n        }\r\n        if (bill==null)\r\n        {\r\n            System.out.println(&quot;bill is null&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;bill is not null&quot;);\r\n        }\r\n        ...\r\n\r\n        \r\n","title":"Java if condition code optimise","body":"<p>As proposed just check each variable instead of listing all permutations</p>\n\n<pre><code>    if(home==null) \n    {\n        System.out.println(\"home is null\");\n    }\n    else\n    {\n        System.out.println(\"home is not null\");\n    }\n    if (bill==null)\n    {\n        System.out.println(\"bill is null\");\n    }\n    else\n    {\n        System.out.println(\"bill is not null\");\n    }\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":950905,"reputation":1226,"user_id":977081,"accept_rate":76,"display_name":"melli-182"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436456785,"creation_date":1436456171,"answer_id":31322095,"question_id":31321818,"body_markdown":"According to your comment on other answer, you need to do some actions...\r\n\r\nSo here is an example of how you could reuse the code to do different actions according to the value of different strings:\r\n\r\n    public void helloWorld() {\r\n        List items = new ArrayList();\r\n        items.add(&quot;1&quot;); // dummy list\r\n        String home = &quot;&quot;; // can be null or empty\r\n        String bill = null; // can be null or empty\r\n        String reg = &quot;&quot;; // can be null or empty\r\n        \r\n        \r\n        switch (validateInputString(home)) {\r\n        case 1:\r\n            //doAction 1;\r\n            break;\r\n        case 2:\r\n            //doAction 2;\r\n            break;\r\n        case 3:\r\n            //doAction 3;\r\n            break;\r\n\r\n        default:\r\n            break;\r\n        }\r\n\r\n    }\r\n    \r\n    public int validateInputString(String toValidate){\r\n        if(toValidate==null)\r\n            return 1;\r\n        \r\n        if(toValidate.equals(&quot;&quot;))\r\n            return 2;\r\n        \r\n        \r\n        return 3;\r\n    }\r\n\r\n\r\nYou could do this for every string, and something quite similar for the list...","title":"Java if condition code optimise","body":"<p>According to your comment on other answer, you need to do some actions...</p>\n\n<p>So here is an example of how you could reuse the code to do different actions according to the value of different strings:</p>\n\n<pre><code>public void helloWorld() {\n    List items = new ArrayList();\n    items.add(\"1\"); // dummy list\n    String home = \"\"; // can be null or empty\n    String bill = null; // can be null or empty\n    String reg = \"\"; // can be null or empty\n\n\n    switch (validateInputString(home)) {\n    case 1:\n        //doAction 1;\n        break;\n    case 2:\n        //doAction 2;\n        break;\n    case 3:\n        //doAction 3;\n        break;\n\n    default:\n        break;\n    }\n\n}\n\npublic int validateInputString(String toValidate){\n    if(toValidate==null)\n        return 1;\n\n    if(toValidate.equals(\"\"))\n        return 2;\n\n\n    return 3;\n}\n</code></pre>\n\n<p>You could do this for every string, and something quite similar for the list...</p>\n"},{"tags":[],"owner":{"account_id":24110398,"reputation":51,"user_id":18081065,"display_name":"Anson Francis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643894425,"creation_date":1643894117,"answer_id":70971965,"question_id":31321818,"body_markdown":"     public void helloWorld() {\r\n            List items = new ArrayList();\r\n            items.add(&quot;1&quot;); // dummy list\r\n            String home = &quot;&quot;; // can be null or empty\r\n            String bill = null;  // can be null or empty\r\n            String reg = &quot;&quot;;  // can be null or empty\r\n            if (!items.isEmpty()) {\r\n                System.out.println(&quot;List is not null&quot;);\r\n                System.out.println(&quot;home is &quot; + (StringUtils.isEmpty(home) ? &quot;null&quot; : &quot;not null&quot;));\r\n                System.out.println(&quot;bill is &quot; + (StringUtils.isEmpty(bill) ? &quot;null&quot; : &quot;not null&quot;));\r\n                System.out.println(&quot;reg is &quot; + (StringUtils.isEmpty(reg) ? &quot;null&quot; : &quot;not null&quot;));\r\n            } else {\r\n                System.out.println(&quot;List is null&quot;);\r\n            }\r\n        }\r\n\r\nStringUtils.isEmpty() function can be used to check both null and empty values.","title":"Java if condition code optimise","body":"<pre><code> public void helloWorld() {\n        List items = new ArrayList();\n        items.add(&quot;1&quot;); // dummy list\n        String home = &quot;&quot;; // can be null or empty\n        String bill = null;  // can be null or empty\n        String reg = &quot;&quot;;  // can be null or empty\n        if (!items.isEmpty()) {\n            System.out.println(&quot;List is not null&quot;);\n            System.out.println(&quot;home is &quot; + (StringUtils.isEmpty(home) ? &quot;null&quot; : &quot;not null&quot;));\n            System.out.println(&quot;bill is &quot; + (StringUtils.isEmpty(bill) ? &quot;null&quot; : &quot;not null&quot;));\n            System.out.println(&quot;reg is &quot; + (StringUtils.isEmpty(reg) ? &quot;null&quot; : &quot;not null&quot;));\n        } else {\n            System.out.println(&quot;List is null&quot;);\n        }\n    }\n</code></pre>\n<p>StringUtils.isEmpty() function can be used to check both null and empty values.</p>\n"}],"owner":{"account_id":4270583,"reputation":93,"user_id":3492471,"accept_rate":31,"display_name":"user3492471"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1643894425,"creation_date":1436455492,"question_id":31321818,"body_markdown":"Kindly help me if there is any other easy way to optimise/implement the code on the below possibilities. Variables like home, bill, reg can either be empty string(&quot;&quot;) or null depending on the scenario.\r\n\r\n**My code**\r\n\r\n\r\n    public void helloWorld()\r\n\t{\r\n\t\tList items=new ArrayList();\r\n\t\titems.add(&quot;1&quot;); // dummy list\r\n\t\tString home=&quot;&quot;; // can be null or empty\r\n\t\tString bill=null;  // can be null or empty\r\n\t\tString reg=&quot;&quot;;  // can be null or empty\r\n\t\tif(!items.isEmpty())\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;List is not null&quot;);\r\n\t\t\tif(home==null&amp;&amp;bill==null&amp;&amp;reg==null) \r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;home is null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;bill is null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;reg is null&quot;);\r\n\t\t\t}\r\n\t\t\tif(home==null&amp;&amp;bill==null&amp;&amp;reg!=null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;home is null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;bill is null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;reg is not null&quot;);\r\n\t\t\t}\r\n\t\t\tif(home==null&amp;&amp;bill!=null&amp;&amp;reg==null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;home is null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;bill is not null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;reg is null&quot;);\r\n\t\t\t}\r\n\t\t\tif(home==null&amp;&amp;bill!=null&amp;&amp;reg!=null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;home is null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;bill is not null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;reg is not null&quot;);\r\n\t\t\t}\r\n\t\t\tif(home!=null&amp;&amp;bill==null&amp;&amp;reg==null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;home is not null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;bill is null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;reg is null&quot;);\r\n\t\t\t}\r\n\t\t\tif(home!=null&amp;&amp;bill==null&amp;&amp;reg!=null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;home is not null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;bill is null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;reg is not null&quot;);\r\n\t\t\t}\r\n\t\t\tif(home!=null&amp;&amp;bill!=null&amp;&amp;reg==null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;home is not null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;bill is not null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;reg is null&quot;);\r\n\t\t\t}\r\n\t\t\tif(home!=null&amp;&amp;bill!=null&amp;&amp;reg!=null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;home is not null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;bill is not null&quot;);\r\n\t\t\t\tSystem.out.println(&quot;reg is not null&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;List is null&quot;);\r\n\t\t}\r\n\t}\r\nPlease advise.\r\nThanks in advance.","title":"Java if condition code optimise","body":"<p>Kindly help me if there is any other easy way to optimise/implement the code on the below possibilities. Variables like home, bill, reg can either be empty string(\"\") or null depending on the scenario.</p>\n\n<p><strong>My code</strong></p>\n\n<pre><code>public void helloWorld()\n{\n    List items=new ArrayList();\n    items.add(\"1\"); // dummy list\n    String home=\"\"; // can be null or empty\n    String bill=null;  // can be null or empty\n    String reg=\"\";  // can be null or empty\n    if(!items.isEmpty())\n    {\n        System.out.println(\"List is not null\");\n        if(home==null&amp;&amp;bill==null&amp;&amp;reg==null) \n        {\n            System.out.println(\"home is null\");\n            System.out.println(\"bill is null\");\n            System.out.println(\"reg is null\");\n        }\n        if(home==null&amp;&amp;bill==null&amp;&amp;reg!=null)\n        {\n            System.out.println(\"home is null\");\n            System.out.println(\"bill is null\");\n            System.out.println(\"reg is not null\");\n        }\n        if(home==null&amp;&amp;bill!=null&amp;&amp;reg==null)\n        {\n            System.out.println(\"home is null\");\n            System.out.println(\"bill is not null\");\n            System.out.println(\"reg is null\");\n        }\n        if(home==null&amp;&amp;bill!=null&amp;&amp;reg!=null)\n        {\n            System.out.println(\"home is null\");\n            System.out.println(\"bill is not null\");\n            System.out.println(\"reg is not null\");\n        }\n        if(home!=null&amp;&amp;bill==null&amp;&amp;reg==null)\n        {\n            System.out.println(\"home is not null\");\n            System.out.println(\"bill is null\");\n            System.out.println(\"reg is null\");\n        }\n        if(home!=null&amp;&amp;bill==null&amp;&amp;reg!=null)\n        {\n            System.out.println(\"home is not null\");\n            System.out.println(\"bill is null\");\n            System.out.println(\"reg is not null\");\n        }\n        if(home!=null&amp;&amp;bill!=null&amp;&amp;reg==null)\n        {\n            System.out.println(\"home is not null\");\n            System.out.println(\"bill is not null\");\n            System.out.println(\"reg is null\");\n        }\n        if(home!=null&amp;&amp;bill!=null&amp;&amp;reg!=null)\n        {\n            System.out.println(\"home is not null\");\n            System.out.println(\"bill is not null\");\n            System.out.println(\"reg is not null\");\n        }\n    }\n    else\n    {\n        System.out.println(\"List is null\");\n    }\n}\n</code></pre>\n\n<p>Please advise.\nThanks in advance.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643893969,"creation_date":1643893969,"answer_id":70971922,"question_id":70971560,"body_markdown":"Try to use `runOnUIThread`:\r\n\r\n    exec.scheduleAtFixedRate(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    txtCrono.setText(String.valueOf(System.currentTimeMillis()));\r\n                }\r\n            });\r\n        }\r\n    }, 0, 100, TimeUnit.MILLISECONDS);\r\n\r\nBasically, you must access a View from the main UI thread. (I don&#39;t know why your code doesn&#39;t cause an error and the first runnable is successfully `setText`. Maybe only the first runnable is executed on the main UI thread.)","title":"ScheduledThreadPoolExecutor does not work on Android. Why?","body":"<p>Try to use <code>runOnUIThread</code>:</p>\n<pre><code>exec.scheduleAtFixedRate(new Runnable() {\n    @Override\n    public void run() {\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                txtCrono.setText(String.valueOf(System.currentTimeMillis()));\n            }\n        });\n    }\n}, 0, 100, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>Basically, you must access a View from the main UI thread. (I don't know why your code doesn't cause an error and the first runnable is successfully <code>setText</code>. Maybe only the first runnable is executed on the main UI thread.)</p>\n"}],"owner":{"account_id":24143889,"reputation":13,"user_id":18109786,"display_name":"Jorge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70971922,"answer_count":1,"score":1,"last_activity_date":1643893969,"creation_date":1643892334,"question_id":70971560,"body_markdown":"I am quite newbie with android development and I am trying to figure out why this does not work.\r\nI run this idea on Eclipse and it works fine. But I cant make it work on any of my devices. The app shows the value at start but it dont refresh the value anymore.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private TextView txtCrono;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            this.txtCrono = (TextView) findViewById(R.id.txtTiempo); //activity_main TextView\r\n    \r\n            ScheduledThreadPoolExecutor exec = new ScheduledThreadPoolExecutor(1);\r\n    \r\n    \r\n            exec.scheduleAtFixedRate(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    txtCrono.setText(String.valueOf(System.currentTimeMillis()));\r\n                }\r\n            }, 0, 100, TimeUnit.MILLISECONDS);\r\n    \r\n        }\r\n    }","title":"ScheduledThreadPoolExecutor does not work on Android. Why?","body":"<p>I am quite newbie with android development and I am trying to figure out why this does not work.\nI run this idea on Eclipse and it works fine. But I cant make it work on any of my devices. The app shows the value at start but it dont refresh the value anymore.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private TextView txtCrono;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        this.txtCrono = (TextView) findViewById(R.id.txtTiempo); //activity_main TextView\n\n        ScheduledThreadPoolExecutor exec = new ScheduledThreadPoolExecutor(1);\n\n\n        exec.scheduleAtFixedRate(new Runnable() {\n            @Override\n            public void run() {\n                txtCrono.setText(String.valueOf(System.currentTimeMillis()));\n            }\n        }, 0, 100, TimeUnit.MILLISECONDS);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","unreal-engine4","oculusquest"],"comments":[{"owner":{"account_id":29040,"reputation":25229,"user_id":78162,"accept_rate":83,"display_name":"BlueMonkMN"},"score":0,"creation_date":1626694721,"post_id":68430609,"comment_id":120953676,"body_markdown":"May be related to https://github.com/gradle/gradle/issues/16777","body":"May be related to <a href=\"https://github.com/gradle/gradle/issues/16777\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/16777</a>"}],"answers":[{"tags":[],"owner":{"account_id":29040,"reputation":25229,"user_id":78162,"accept_rate":83,"display_name":"BlueMonkMN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626703985,"creation_date":1626702643,"answer_id":68441660,"question_id":68430609,"body_markdown":"Needed to downgrade Gradle back to `distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip`\r\nand that only worked once. I can&#39;t build again with the same settings. There appears to be some timing issue that may require waiting for https://github.com/gradle/gradle/issues/16777 to be resolved in order to get past the errors. Every time I build I see a different error. I have seen at least 6 different errors. After deleting the Intermediate and Saved directories I built successfully on the second attempt.","title":"Unable to set up new Unreal &amp; Quest 2 development environment","body":"<p>Needed to downgrade Gradle back to <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip</code>\nand that only worked once. I can't build again with the same settings. There appears to be some timing issue that may require waiting for <a href=\"https://github.com/gradle/gradle/issues/16777\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/16777</a> to be resolved in order to get past the errors. Every time I build I see a different error. I have seen at least 6 different errors. After deleting the Intermediate and Saved directories I built successfully on the second attempt.</p>\n"},{"tags":[],"owner":{"account_id":24144271,"reputation":21,"user_id":18110120,"display_name":"Ingmar van Busschbach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643893605,"creation_date":1643893605,"answer_id":70971846,"question_id":68430609,"body_markdown":"It seems jdk1.8.0_321 is required instead of JDK16/17. This allowed me to consistently build for Quest (I do not have a Quest 2 but it should work there too)\r\n\r\nOther than that, all the settings you provided here fixed my issues.","title":"Unable to set up new Unreal &amp; Quest 2 development environment","body":"<p>It seems jdk1.8.0_321 is required instead of JDK16/17. This allowed me to consistently build for Quest (I do not have a Quest 2 but it should work there too)</p>\n<p>Other than that, all the settings you provided here fixed my issues.</p>\n"}],"owner":{"account_id":29040,"reputation":25229,"user_id":78162,"accept_rate":83,"display_name":"BlueMonkMN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2215,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":68441660,"answer_count":2,"score":3,"last_activity_date":1643893605,"creation_date":1626622562,"question_id":68430609,"body_markdown":"I am unable to get even an empty Unreal project targeting the Quest 2 platform to build Android targets without errors. It seems to be related to the mess of various Java / SDK / NDK / Gradle versions that aren&#39;t compatible with each other, and I can&#39;t find a combination that will work.\r\nThis is what I am currently using according to Android Studio and Android SDK Platform settings in Unreal:\r\n\r\nAndroid SDK:\r\n------------\r\n* API level 28 is installed\r\n* API level 30 is installed\r\n* API level 31 is installed \r\n* SDK Build Tools 31 was installed, but then removed because the build reported a corrupt version\r\n* SDK Build Tools 30.0.3 is installed\r\n* SDK Build Tools 29.0.2 is installed\r\n* Unreal environment is configured for SDK API Level `latest`\r\n* Unreal project is configured to target SDK version 28 (Minimum 23)\r\n* I have explicitly provided the location to Unreal Platform Android SDK settings at `D:/android-sdk` which matches the location specified in Android Studio, except Android Studio uses `\\` and Unreal uses `/`.\r\n\r\nAndroid NDK:\r\n------------\r\n* I have 22.1.7171670 installed\r\n* I have explicitly provided the location to Unreal at `D:/android-sdk/ndk/22.1.7171670`\r\n* I have told Unreal to use NDK API Level `latest`\r\n\r\nJava:\r\n-----\r\n* I have JDK 16.0.1 installed at D:\\Java\r\n* I have explicitly told Unreal Android SDK settings to use JAVA from `D:/Java`\r\n\r\nGradle:\r\n-------\r\n* I updated my UE_4.26\\Engine\\Build\\Android\\Java\\gradle\\gradle\\wrapper\\gradle-wrapper.properties file to refer to `distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0-bin.zip` and commented out `#distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip` because of some other error I don&#39;t remember right now.\r\n\r\nWhen I try to build a project in this environment (with File &gt; Package Project &gt; Android &gt; Android (Multi: ASTC, DXT, ETC2), the end of my output look like this:\r\n\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): FAILURE: Build failed with an exception.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * What went wrong:\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Execution failed for task &#39;:app:processDebugManifest&#39;.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): &gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @5caa5e6c\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * Try:\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * Get more help at https://help.gradle.org\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): See https://docs.gradle.org/7.0/userguide/command_line_interface.html#sec:command_line_warnings\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): BUILD FAILED in 10s\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): 16 actionable tasks: 1 executed, 15 up-to-date\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): ERROR: cmd.exe failed with args /c &quot;C:\\Users\\bluem\\Documents\\Unreal Projects\\Quest2Test\\Intermediate\\Android\\armv7\\gradle\\rungradle.bat&quot; :app:assembleDebug\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)):        (see C:\\Users\\bluem\\AppData\\Roaming\\Unreal Engine\\AutomationTool\\Logs\\D+Games+Epic+UE_4.26\\Log.txt for full exception trace)\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): AutomationTool exiting with ExitCode=1 (Error_Unknown)\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): BUILD FAILED\r\n\r\nI changed the SDK target from 28 to 30 and changed the JAVA directory from `D:/Java` to `C:/Program Files/Java/jdk1.8.0_161` and then the error changes:\r\n\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): FAILURE: Build failed with an exception.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * What went wrong:\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Execution failed for task &#39;:downloader_library:compileDebugJavaWithJavac&#39;.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): &gt; Failed to query the value of task &#39;:downloader_library:compileDebugJavaWithJavac&#39; property &#39;options.generatedSourceOutputDirectory&#39;.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)):    &gt; Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, Z:\\downloader_library\\build\\generated\\ap_generated_sources\\debug\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFi\r\n    leTransformer@2ccc294e) before task &#39;:downloader_library:compileDebugJavaWithJavac&#39; has completed is not supported\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * Try:\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * Get more help at https://help.gradle.org\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): BUILD FAILED in 25s\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): See https://docs.gradle.org/7.0/userguide/command_line_interface.html#sec:command_line_warnings\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): 44 actionable tasks: 6 executed, 38 up-to-date\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): ERROR: cmd.exe failed with args /c &quot;C:\\Users\\bluem\\Documents\\Unreal Projects\\Quest2Test\\Intermediate\\Android\\armv7\\gradle\\rungradle.bat&quot; :app:assembleDebug\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)):        (see C:\\Users\\bluem\\AppData\\Roaming\\Unreal Engine\\AutomationTool\\Logs\\D+Games+Epic+UE_4.26\\Log.txt for full exception trace)\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): AutomationTool exiting with ExitCode=1 (Error_Unknown)\r\n    UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): BUILD FAILED\r\n\r\nIf I change either or both of those two settings back to their previous values, the error does not change back to the first error. If I then change the Target SDK version (again) back to 30 then I get the original error again, this time with the Target SDK version set to 30. So it seems like the JDK version is the culprit, but changing the Target SDK version is required to force something  to rebuild despite the fact that I have &quot;Full Rebuild&quot; selected in Project Packaging Settings.\r\n\r\nQuestion\r\n--------\r\nSo my question is, how do I get past both of these errors?\r\n1. Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @5caa5e6c\r\n2. Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, Z:\\downloader_library\\build\\generated\\ap_generated_sources\\debug\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@2ccc294e) before task &#39;:downloader_library:compileDebugJavaWithJavac&#39; has completed is not supported","title":"Unable to set up new Unreal &amp; Quest 2 development environment","body":"<p>I am unable to get even an empty Unreal project targeting the Quest 2 platform to build Android targets without errors. It seems to be related to the mess of various Java / SDK / NDK / Gradle versions that aren't compatible with each other, and I can't find a combination that will work.\nThis is what I am currently using according to Android Studio and Android SDK Platform settings in Unreal:</p>\n<h2 id=\"android-sdk\">Android SDK:</h2>\n<ul>\n<li>API level 28 is installed</li>\n<li>API level 30 is installed</li>\n<li>API level 31 is installed</li>\n<li>SDK Build Tools 31 was installed, but then removed because the build reported a corrupt version</li>\n<li>SDK Build Tools 30.0.3 is installed</li>\n<li>SDK Build Tools 29.0.2 is installed</li>\n<li>Unreal environment is configured for SDK API Level <code>latest</code></li>\n<li>Unreal project is configured to target SDK version 28 (Minimum 23)</li>\n<li>I have explicitly provided the location to Unreal Platform Android SDK settings at <code>D:/android-sdk</code> which matches the location specified in Android Studio, except Android Studio uses <code>\\</code> and Unreal uses <code>/</code>.</li>\n</ul>\n<h2 id=\"android-ndk\">Android NDK:</h2>\n<ul>\n<li>I have 22.1.7171670 installed</li>\n<li>I have explicitly provided the location to Unreal at <code>D:/android-sdk/ndk/22.1.7171670</code></li>\n<li>I have told Unreal to use NDK API Level <code>latest</code></li>\n</ul>\n<h2 id=\"java\">Java:</h2>\n<ul>\n<li>I have JDK 16.0.1 installed at D:\\Java</li>\n<li>I have explicitly told Unreal Android SDK settings to use JAVA from <code>D:/Java</code></li>\n</ul>\n<h2 id=\"gradle\">Gradle:</h2>\n<ul>\n<li>I updated my UE_4.26\\Engine\\Build\\Android\\Java\\gradle\\gradle\\wrapper\\gradle-wrapper.properties file to refer to <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0-bin.zip</code> and commented out <code>#distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip</code> because of some other error I don't remember right now.</li>\n</ul>\n<p>When I try to build a project in this environment (with File &gt; Package Project &gt; Android &gt; Android (Multi: ASTC, DXT, ETC2), the end of my output look like this:</p>\n<pre><code>UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): FAILURE: Build failed with an exception.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * What went wrong:\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Execution failed for task ':app:processDebugManifest'.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): &gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @5caa5e6c\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * Try:\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * Get more help at https://help.gradle.org\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Use '--warning-mode all' to show the individual deprecation warnings.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): See https://docs.gradle.org/7.0/userguide/command_line_interface.html#sec:command_line_warnings\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): BUILD FAILED in 10s\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): 16 actionable tasks: 1 executed, 15 up-to-date\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): ERROR: cmd.exe failed with args /c &quot;C:\\Users\\bluem\\Documents\\Unreal Projects\\Quest2Test\\Intermediate\\Android\\armv7\\gradle\\rungradle.bat&quot; :app:assembleDebug\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)):        (see C:\\Users\\bluem\\AppData\\Roaming\\Unreal Engine\\AutomationTool\\Logs\\D+Games+Epic+UE_4.26\\Log.txt for full exception trace)\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): AutomationTool exiting with ExitCode=1 (Error_Unknown)\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): BUILD FAILED\n</code></pre>\n<p>I changed the SDK target from 28 to 30 and changed the JAVA directory from <code>D:/Java</code> to <code>C:/Program Files/Java/jdk1.8.0_161</code> and then the error changes:</p>\n<pre><code>UATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): FAILURE: Build failed with an exception.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * What went wrong:\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Execution failed for task ':downloader_library:compileDebugJavaWithJavac'.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): &gt; Failed to query the value of task ':downloader_library:compileDebugJavaWithJavac' property 'options.generatedSourceOutputDirectory'.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)):    &gt; Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, Z:\\downloader_library\\build\\generated\\ap_generated_sources\\debug\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFi\nleTransformer@2ccc294e) before task ':downloader_library:compileDebugJavaWithJavac' has completed is not supported\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * Try:\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): * Get more help at https://help.gradle.org\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): BUILD FAILED in 25s\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): Use '--warning-mode all' to show the individual deprecation warnings.\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): See https://docs.gradle.org/7.0/userguide/command_line_interface.html#sec:command_line_warnings\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): 44 actionable tasks: 6 executed, 38 up-to-date\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): ERROR: cmd.exe failed with args /c &quot;C:\\Users\\bluem\\Documents\\Unreal Projects\\Quest2Test\\Intermediate\\Android\\armv7\\gradle\\rungradle.bat&quot; :app:assembleDebug\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)):        (see C:\\Users\\bluem\\AppData\\Roaming\\Unreal Engine\\AutomationTool\\Logs\\D+Games+Epic+UE_4.26\\Log.txt for full exception trace)\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): AutomationTool exiting with ExitCode=1 (Error_Unknown)\nUATHelper: Packaging (Android (Multi:ASTC,DXT,ETC2)): BUILD FAILED\n</code></pre>\n<p>If I change either or both of those two settings back to their previous values, the error does not change back to the first error. If I then change the Target SDK version (again) back to 30 then I get the original error again, this time with the Target SDK version set to 30. So it seems like the JDK version is the culprit, but changing the Target SDK version is required to force something  to rebuild despite the fact that I have &quot;Full Rebuild&quot; selected in Project Packaging Settings.</p>\n<h2 id=\"question\">Question</h2>\n<p>So my question is, how do I get past both of these errors?</p>\n<ol>\n<li>Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @5caa5e6c</li>\n<li>Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, Z:\\downloader_library\\build\\generated\\ap_generated_sources\\debug\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@2ccc294e) before task ':downloader_library:compileDebugJavaWithJavac' has completed is not supported</li>\n</ol>\n"},{"tags":["java","docker","docker-compose","keycloak","keycloak-services"],"answers":[{"tags":[],"owner":{"account_id":10875339,"reputation":56,"user_id":7995881,"display_name":"little_pinecone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643893465,"creation_date":1643829937,"answer_id":70961646,"question_id":68782531,"body_markdown":"The following suggestions are tested for Keycloak 16.1.1 ([jboss/keycloak image][1]) and based on the [Importing and exporting the database](https://www.keycloak.org/docs/latest/server_admin/#assembly-exporting-importing_server_administration_guide) chapter from the official Keycloak docs.\r\n\r\n## Using correct import parameters\r\n\r\nThe documentation states that:\r\n\r\n&gt; You cannot use the `keycloak.import` parameter with `keycloak.migration.X` parameters. If you use these parameters together, Keycloak ignores the `keycloak.import` parameter. The `keycloak.import` mechanism ignores the realms which already exist in Keycloak. The `keycloak.import` mechanism is convenient for development purposes, but if more flexibility is needed, use the `keycloak.migration.X` parameters.\r\n\r\nTherefore, I used solely the `keycloak.migration.X` options in the following solution.\r\n\r\n## Naming convention\r\n\r\nAs we can read in the docs:\r\n\r\n&gt; When importing from a directory, the filenames must follow this naming convention:\r\n&gt; \r\n&gt; - &lt;REALM_NAME&gt;-realm.json. For example, &quot;acme-roadrunner-affairs-realm.json&quot; for the realm named &quot;acme-roadrunner-affairs&quot;.\r\n&gt; - &lt;REALM_NAME&gt;-users-\\&lt;INDEX\\&gt;.json. For example, &quot;acme-roadrunner-affairs-users-0.json&quot; for the first user’s file of the realm named &quot;acme-roadrunner-affairs&quot;.\r\n\r\nIn my example project I have the `keep-growing` realm. Therefore, the import files are named: `keep-growing-realm.json` and `keep-growing-users-0.json`.\r\n\r\n## Volume\r\n\r\nMy example volume config from the `docker-compose.yml` file:\r\n\r\n```yml\r\nversion: &#39;3.3&#39;\r\nservices:\r\n  keycloak:\r\n    …\r\n    volumes:\r\n      - ./keycloak/realms/import:/tmp/import\r\n    …\r\n```\r\n\r\nThe `./keycloak/realms/import` on my machine contains:\r\n[![enter image description here][2]][2]\r\n\r\nAs a result, after restarting the docker instance, I can see all the files from the aforementioned location on my machine available in the container:\r\n[![enter image description here][3]][3]\r\n\r\n## Minimal import config\r\n\r\nI added the following commands to my `docker-compose.yml` file:\r\n\r\n```yaml\r\nversion: &#39;3.3&#39;\r\nservices:\r\n  keycloak:\r\n    …\r\n    volumes:\r\n       …\r\n    command:\r\n      - &quot;-Dkeycloak.migration.action=import&quot;\r\n      - &quot;-Dkeycloak.migration.provider=dir&quot;\r\n      - &quot;-Dkeycloak.migration.dir=/tmp/import&quot;\r\n```\r\n\r\nThis will import the realm on the container startup and overwrite the existing one (if one already exists).\r\n\r\n## Recreate the container to test the import\r\n\r\nI deleted the container and started it again. The users were imported properly:\r\n[![enter image description here][4]][4]\r\n\r\n## Verify logs\r\n\r\nAs we can see in the problem description, logs are not a guarantee that the export was successful. However, I decided to include here the entries that I received after starting the container:\r\n\r\n```\r\nINFO  [org.keycloak.exportimport.dir.DirImportProvider] (ServerService Thread Pool -- 62) Importing from directory /tmp/import\r\n…\r\nINFO  [org.keycloak.services] (ServerService Thread Pool -- 62) KC-SERVICES0050: Initializing master realm\r\nINFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0030: Full model import requested. Strategy: OVERWRITE_EXISTING\r\nINFO  [org.keycloak.exportimport.util.ImportUtils] (ServerService Thread Pool -- 56) Realm &#39;keep-growing&#39; imported\r\nINFO  [org.keycloak.exportimport.dir.DirImportProvider] (ServerService Thread Pool -- 56) Imported users from /tmp/import/keep-growing-users-0.json\r\nINFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0032: Import finished successfully\r\n```\r\n\r\n## For reference\r\n\r\nThe complete `docker-compose.yml` file:\r\n\r\n```yml\r\nversion: &#39;3.3&#39;\r\nservices:\r\n  keycloak:\r\n    image: jboss/keycloak:${KEYCLOAK_VERSION}\r\n    ports:\r\n      - &quot;8024:8080&quot;\r\n    environment:\r\n      - KEYCLOAK_USER=${KEYCLOAK_USER}\r\n      - KEYCLOAK_PASSWORD=${KEYCLOAK_PASSWORD}\r\n    volumes:\r\n      - ./keycloak/realms/import:/tmp/import\r\n    command:\r\n      - &quot;-Dkeycloak.migration.action=import&quot;\r\n      - &quot;-Dkeycloak.migration.provider=dir&quot;\r\n      - &quot;-Dkeycloak.migration.dir=/tmp/import&quot;\r\n```\r\n\r\nThe `.env` file:\r\n\r\n```\r\nKEYCLOAK_VERSION=16.1.1\r\nKEYCLOAK_USER=keycloak\r\nKEYCLOAK_PASSWORD=keycloak\r\n```\r\n\r\nEDIT: I wrote more on Keycloak directory import in the [Keycloak in Docker #6 - How to import realms from a directory](https://keepgrowing.in/tools/keycloak-in-docker-6-how-to-import-realms-from-a-directory/) post.\r\n\r\n\r\n  [1]: https://hub.docker.com/r/jboss/keycloak/\r\n  [2]: https://i.stack.imgur.com/72knF.png\r\n  [3]: https://i.stack.imgur.com/cH8nt.png\r\n  [4]: https://i.stack.imgur.com/emc54.png","title":"Missing users from Keycloak Realm after import","body":"<p>The following suggestions are tested for Keycloak 16.1.1 (<a href=\"https://hub.docker.com/r/jboss/keycloak/\" rel=\"nofollow noreferrer\">jboss/keycloak image</a>) and based on the <a href=\"https://www.keycloak.org/docs/latest/server_admin/#assembly-exporting-importing_server_administration_guide\" rel=\"nofollow noreferrer\">Importing and exporting the database</a> chapter from the official Keycloak docs.</p>\n<h2>Using correct import parameters</h2>\n<p>The documentation states that:</p>\n<blockquote>\n<p>You cannot use the <code>keycloak.import</code> parameter with <code>keycloak.migration.X</code> parameters. If you use these parameters together, Keycloak ignores the <code>keycloak.import</code> parameter. The <code>keycloak.import</code> mechanism ignores the realms which already exist in Keycloak. The <code>keycloak.import</code> mechanism is convenient for development purposes, but if more flexibility is needed, use the <code>keycloak.migration.X</code> parameters.</p>\n</blockquote>\n<p>Therefore, I used solely the <code>keycloak.migration.X</code> options in the following solution.</p>\n<h2>Naming convention</h2>\n<p>As we can read in the docs:</p>\n<blockquote>\n<p>When importing from a directory, the filenames must follow this naming convention:</p>\n<ul>\n<li>&lt;REALM_NAME&gt;-realm.json. For example, &quot;acme-roadrunner-affairs-realm.json&quot; for the realm named &quot;acme-roadrunner-affairs&quot;.</li>\n<li>&lt;REALM_NAME&gt;-users-&lt;INDEX&gt;.json. For example, &quot;acme-roadrunner-affairs-users-0.json&quot; for the first user’s file of the realm named &quot;acme-roadrunner-affairs&quot;.</li>\n</ul>\n</blockquote>\n<p>In my example project I have the <code>keep-growing</code> realm. Therefore, the import files are named: <code>keep-growing-realm.json</code> and <code>keep-growing-users-0.json</code>.</p>\n<h2>Volume</h2>\n<p>My example volume config from the <code>docker-compose.yml</code> file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3.3'\nservices:\n  keycloak:\n    …\n    volumes:\n      - ./keycloak/realms/import:/tmp/import\n    …\n</code></pre>\n<p>The <code>./keycloak/realms/import</code> on my machine contains:\n<a href=\"https://i.stack.imgur.com/72knF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72knF.png\" alt=\"enter image description here\" /></a></p>\n<p>As a result, after restarting the docker instance, I can see all the files from the aforementioned location on my machine available in the container:\n<a href=\"https://i.stack.imgur.com/cH8nt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cH8nt.png\" alt=\"enter image description here\" /></a></p>\n<h2>Minimal import config</h2>\n<p>I added the following commands to my <code>docker-compose.yml</code> file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3.3'\nservices:\n  keycloak:\n    …\n    volumes:\n       …\n    command:\n      - &quot;-Dkeycloak.migration.action=import&quot;\n      - &quot;-Dkeycloak.migration.provider=dir&quot;\n      - &quot;-Dkeycloak.migration.dir=/tmp/import&quot;\n</code></pre>\n<p>This will import the realm on the container startup and overwrite the existing one (if one already exists).</p>\n<h2>Recreate the container to test the import</h2>\n<p>I deleted the container and started it again. The users were imported properly:\n<a href=\"https://i.stack.imgur.com/emc54.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/emc54.png\" alt=\"enter image description here\" /></a></p>\n<h2>Verify logs</h2>\n<p>As we can see in the problem description, logs are not a guarantee that the export was successful. However, I decided to include here the entries that I received after starting the container:</p>\n<pre><code>INFO  [org.keycloak.exportimport.dir.DirImportProvider] (ServerService Thread Pool -- 62) Importing from directory /tmp/import\n…\nINFO  [org.keycloak.services] (ServerService Thread Pool -- 62) KC-SERVICES0050: Initializing master realm\nINFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0030: Full model import requested. Strategy: OVERWRITE_EXISTING\nINFO  [org.keycloak.exportimport.util.ImportUtils] (ServerService Thread Pool -- 56) Realm 'keep-growing' imported\nINFO  [org.keycloak.exportimport.dir.DirImportProvider] (ServerService Thread Pool -- 56) Imported users from /tmp/import/keep-growing-users-0.json\nINFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0032: Import finished successfully\n</code></pre>\n<h2>For reference</h2>\n<p>The complete <code>docker-compose.yml</code> file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3.3'\nservices:\n  keycloak:\n    image: jboss/keycloak:${KEYCLOAK_VERSION}\n    ports:\n      - &quot;8024:8080&quot;\n    environment:\n      - KEYCLOAK_USER=${KEYCLOAK_USER}\n      - KEYCLOAK_PASSWORD=${KEYCLOAK_PASSWORD}\n    volumes:\n      - ./keycloak/realms/import:/tmp/import\n    command:\n      - &quot;-Dkeycloak.migration.action=import&quot;\n      - &quot;-Dkeycloak.migration.provider=dir&quot;\n      - &quot;-Dkeycloak.migration.dir=/tmp/import&quot;\n</code></pre>\n<p>The <code>.env</code> file:</p>\n<pre><code>KEYCLOAK_VERSION=16.1.1\nKEYCLOAK_USER=keycloak\nKEYCLOAK_PASSWORD=keycloak\n</code></pre>\n<p>EDIT: I wrote more on Keycloak directory import in the <a href=\"https://keepgrowing.in/tools/keycloak-in-docker-6-how-to-import-realms-from-a-directory/\" rel=\"nofollow noreferrer\">Keycloak in Docker #6 - How to import realms from a directory</a> post.</p>\n"}],"owner":{"account_id":2041731,"reputation":6786,"user_id":1822712,"accept_rate":42,"display_name":"Freak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1960,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643893465,"creation_date":1628937862,"question_id":68782531,"body_markdown":"I am trying to import Realm Configuration and users into Keycloak.Realm is being imported fine but users are still missing even though keycloak-logs are printing that User are imported.\r\n\r\n    keycloak_1             | 12:33:31,635 INFO  [org.keycloak.exportimport.dir.DirImportProvider] (ServerService Thread Pool -- 59) Imported users from /opt/jboss/keycloak/imports/myrealm-users-0.json\r\n    keycloak_1             | 12:33:31,798 INFO  [org.keycloak.services] (ServerService Thread Pool -- 59) KC-SERVICES0032: Import finished successfully\r\n\r\n\r\nFollowing is the configuraiton of docker-compose file.\r\n\r\n    keycloak:\r\n        depends_on:\r\n          - postgresql\r\n        image: Keycloak_registry\r\n        ports:\r\n          - &quot;31081:31081&quot;\r\n        volumes:\r\n          - ./imports:/opt/jboss/keycloak/imports\r\n        environment:\r\n          KEYCLOAK_PROPS: -Dkeycloak.import=/opt/jboss/keycloak/imports/fin4u-realm.json,/opt/jboss/keycloak/imports/myrealm-users-0.json -Dkeycloak.profile.feature.upload_scripts=enabled -Dkeycloak.migration.action=import -Dkeycloak.migration.provider=dir -Dkeycloak.migration.dir=          KEYCLOAK_ADDITIONAL_PROPS: -Dkeycloak.import=/opt/jboss/keycloak/imports/myrealm-realm.json,/opt/jboss/keycloak/imports/myrealm-users-0.json -Dkeycloak.profile.feature.upload_scripts=enabled -Dkeycloak.migration.action=import -Dkeycloak.migration.provider=dir -Dkeycloak.migration.dir=/opt/jboss/keycloak/imports -Dkeycloak.migration.strategy=IGNORE_EXISTING/opt/jboss/keycloak/imports -Dkeycloak.migration.strategy=IGNORE_EXISTING\r\n          HOSTNAME: localhost\r\n          CERTBASE: localhost\r\n          HTTPS_PORT: 38081\r\n          KEYCLOAK_JGROUPS_PORT: 9000\r\n\r\nSo In above yaml code, it can be seen that Realm Configuration and Users are target to be imported. Realm got imported successfully but users are still missing even though logs are showing that users are imported too. ","title":"Missing users from Keycloak Realm after import","body":"<p>I am trying to import Realm Configuration and users into Keycloak.Realm is being imported fine but users are still missing even though keycloak-logs are printing that User are imported.</p>\n<pre><code>keycloak_1             | 12:33:31,635 INFO  [org.keycloak.exportimport.dir.DirImportProvider] (ServerService Thread Pool -- 59) Imported users from /opt/jboss/keycloak/imports/myrealm-users-0.json\nkeycloak_1             | 12:33:31,798 INFO  [org.keycloak.services] (ServerService Thread Pool -- 59) KC-SERVICES0032: Import finished successfully\n</code></pre>\n<p>Following is the configuraiton of docker-compose file.</p>\n<pre><code>keycloak:\n    depends_on:\n      - postgresql\n    image: Keycloak_registry\n    ports:\n      - &quot;31081:31081&quot;\n    volumes:\n      - ./imports:/opt/jboss/keycloak/imports\n    environment:\n      KEYCLOAK_PROPS: -Dkeycloak.import=/opt/jboss/keycloak/imports/fin4u-realm.json,/opt/jboss/keycloak/imports/myrealm-users-0.json -Dkeycloak.profile.feature.upload_scripts=enabled -Dkeycloak.migration.action=import -Dkeycloak.migration.provider=dir -Dkeycloak.migration.dir=          KEYCLOAK_ADDITIONAL_PROPS: -Dkeycloak.import=/opt/jboss/keycloak/imports/myrealm-realm.json,/opt/jboss/keycloak/imports/myrealm-users-0.json -Dkeycloak.profile.feature.upload_scripts=enabled -Dkeycloak.migration.action=import -Dkeycloak.migration.provider=dir -Dkeycloak.migration.dir=/opt/jboss/keycloak/imports -Dkeycloak.migration.strategy=IGNORE_EXISTING/opt/jboss/keycloak/imports -Dkeycloak.migration.strategy=IGNORE_EXISTING\n      HOSTNAME: localhost\n      CERTBASE: localhost\n      HTTPS_PORT: 38081\n      KEYCLOAK_JGROUPS_PORT: 9000\n</code></pre>\n<p>So In above yaml code, it can be seen that Realm Configuration and Users are target to be imported. Realm got imported successfully but users are still missing even though logs are showing that users are imported too.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1643877113,"post_id":70967996,"comment_id":125457185,"body_markdown":"While what starts with `str`?","body":"While what starts with <code>str</code>?"},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1643877221,"post_id":70967996,"comment_id":125457231,"body_markdown":"the proper syntax is `MainString.startsWith(substring)`","body":"the proper syntax is <code>MainString.startsWith(substring)</code>"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1643891403,"post_id":70967996,"comment_id":125462519,"body_markdown":"It is unclear what you are trying to achieve.  Consider adding sample data to demonstrate what you expect to happen.  E.g. given lines - [&quot;The Cat Ran Fast&quot;, &quot;Dogs are sleepy.&quot;] and  `str` = &quot;The Cat&quot; then the method returns &quot;Ran&quot;?","body":"It is unclear what you are trying to achieve.  Consider adding sample data to demonstrate what you expect to happen.  E.g. given lines - [&quot;The Cat Ran Fast&quot;, &quot;Dogs are sleepy.&quot;] and  <code>str</code> = &quot;The Cat&quot; then the method returns &quot;Ran&quot;?"},{"owner":{"account_id":19018243,"reputation":1,"user_id":13882787,"display_name":"Holly Wong"},"score":0,"creation_date":1643891474,"post_id":70967996,"comment_id":125462551,"body_markdown":"YES That What I want to write","body":"YES That What I want to write"}],"answers":[{"tags":[],"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643877105,"creation_date":1643877105,"answer_id":70968024,"question_id":70967996,"body_markdown":"The error means exactly what it says: there is no `startsWith()` method in your `InfoProcessor` class.\r\n\r\nYou may have intended `str.startsWith(...)` instead of `startsWith(str)`.","title":"How can I fix the startsWith() error of java","body":"<p>The error means exactly what it says: there is no <code>startsWith()</code> method in your <code>InfoProcessor</code> class.</p>\n<p>You may have intended <code>str.startsWith(...)</code> instead of <code>startsWith(str)</code>.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643892971,"creation_date":1643892971,"answer_id":70971702,"question_id":70967996,"body_markdown":"You are trying to invoke a String method but you are not invoking it on a String.  Therefore, the compiler interprets your attempt as invoking the method on this class.  This class does not implement that method so the method is undefined.  In your case, you want to invoke that method on an individual line to see if it contains the prefix.\r\n\r\n    public String findWordAfterPrefix(String prefix) {\r\n      for (String line : lines) { // iterate over the lines\r\n        if (line.startsWith(prefix)) { // does the line start with the prefix?\r\n          /// find the next word and return it - that is a separate issue! ;)\r\n        }\r\n      }\r\n      return null; // return null if we never found the prefix\r\n    }\r\n\r\np.s. You may find some other String method useful as you pull out the next word (e.g. trim(), substring(int).\r\n\r\n","title":"How can I fix the startsWith() error of java","body":"<p>You are trying to invoke a String method but you are not invoking it on a String.  Therefore, the compiler interprets your attempt as invoking the method on this class.  This class does not implement that method so the method is undefined.  In your case, you want to invoke that method on an individual line to see if it contains the prefix.</p>\n<pre><code>public String findWordAfterPrefix(String prefix) {\n  for (String line : lines) { // iterate over the lines\n    if (line.startsWith(prefix)) { // does the line start with the prefix?\n      /// find the next word and return it - that is a separate issue! ;)\n    }\n  }\n  return null; // return null if we never found the prefix\n}\n</code></pre>\n<p>p.s. You may find some other String method useful as you pull out the next word (e.g. trim(), substring(int).</p>\n"}],"owner":{"account_id":19018243,"reputation":1,"user_id":13882787,"display_name":"Holly Wong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643892971,"creation_date":1643876968,"question_id":70967996,"body_markdown":"I cannot figure out the startsWith(str)　in the while loop below have the error \r\nThe method startsWith(String) is undefined for the type InfoProcessor.\r\n\r\nI want to get the String that follows the line that starts with the given String (str). \r\n\r\nIt is great pleasure to have your help.\r\n```\r\nimport java.util.*;\r\n\r\npublic class InfoProcessor {\r\n\t\r\n\tprivate ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n\r\n\tpublic InfoProcessor(ArrayList&lt;String&gt; lines) {\r\n\t\tthis.lines = lines;\r\n\t}\r\n\r\n\tString getNextStringStartsWith(String str) {\r\n\r\n\t    for  (int i = 0 ; i &lt; lines.size(); i++){\r\n\t    Scanner scanner = new Scanner(lines.get(i));\r\n\t\t    while (startsWith(str)){\r\n\t\t\t   String hobby = scanner.nextLine();\r\n              String[] tokens = hobby.split(&quot;\\\\s+&quot;);\r\n\t\t\t  return tokens[1];\r\n\t\t\r\n\t\t    }\r\n\r\n\t\t}\r\n\t\treturn null;\r\n\t}","title":"How can I fix the startsWith() error of java","body":"<p>I cannot figure out the startsWith(str)　in the while loop below have the error\nThe method startsWith(String) is undefined for the type InfoProcessor.</p>\n<p>I want to get the String that follows the line that starts with the given String (str).</p>\n<p>It is great pleasure to have your help.</p>\n<pre><code>import java.util.*;\n\npublic class InfoProcessor {\n    \n    private ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n\n    public InfoProcessor(ArrayList&lt;String&gt; lines) {\n        this.lines = lines;\n    }\n\n    String getNextStringStartsWith(String str) {\n\n        for  (int i = 0 ; i &lt; lines.size(); i++){\n        Scanner scanner = new Scanner(lines.get(i));\n            while (startsWith(str)){\n               String hobby = scanner.nextLine();\n              String[] tokens = hobby.split(&quot;\\\\s+&quot;);\n              return tokens[1];\n        \n            }\n\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1643890720,"post_id":70970958,"comment_id":125462239,"body_markdown":"Why are you iterating fields rather than letting Gson serialize the whole thing itself?","body":"Why are you iterating fields rather than letting Gson serialize the whole thing itself?"},{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":0,"creation_date":1643891206,"post_id":70970958,"comment_id":125462443,"body_markdown":"not clear what are you trying to do.\ntake BBClass with these fields and? make it json?","body":"not clear what are you trying to do. take BBClass with these fields and? make it json?"},{"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"score":0,"creation_date":1643891695,"post_id":70970958,"comment_id":125462637,"body_markdown":"The BBClass is actually an external interface which I&#39;m using reflect to get the existing field/s , each time this run it can get different field/s,  I don&#39;t have any way to know in advance what I get , I only i need to build up json from it .","body":"The BBClass is actually an external interface which I&#39;m using reflect to get the existing field/s , each time this run it can get different field/s,  I don&#39;t have any way to know in advance what I get , I only i need to build up json from it ."},{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":0,"creation_date":1643891848,"post_id":70970958,"comment_id":125462687,"body_markdown":"I am not sure I understand, every time you get inputs it will be an implementation of  BBClass?","body":"I am not sure I understand, every time you get inputs it will be an implementation of  BBClass?"},{"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"score":0,"creation_date":1643892287,"post_id":70970958,"comment_id":125462858,"body_markdown":"The set of possible described in the beginning of the post , \nThe only way I can access the input is by reflect and hence the use of Field .\nAnd it require to build the json by Filed.Name and Field.Value","body":"The set of possible described in the beginning of the post ,  The only way I can access the input is by reflect and hence the use of Field . And it require to build the json by Filed.Name and Field.Value"},{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":1,"creation_date":1643892445,"post_id":70970958,"comment_id":125462917,"body_markdown":"is &quot;this&quot; an instance of BBClass?\nDo you know you can move the class to JSON with no need to do it yourself?","body":"is &quot;this&quot; an instance of BBClass? Do you know you can move the class to JSON with no need to do it yourself?"},{"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"score":0,"creation_date":1643893209,"post_id":70970958,"comment_id":125463173,"body_markdown":"x.get(this) is relate to instance of BBClass , note BBClass has also method but i need to refer only to fields (getDeclaredFields) ,I didnt know how can I move this class to Json but it sound like great solution would appreciate for any guidance","body":"x.get(this) is relate to instance of BBClass , note BBClass has also method but i need to refer only to fields (getDeclaredFields) ,I didnt know how can I move this class to Json but it sound like great solution would appreciate for any guidance"},{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":0,"creation_date":1643893814,"post_id":70970958,"comment_id":125463424,"body_markdown":"someone has already given you an example of how you should do...","body":"someone has already given you an example of how you should do..."}],"answers":[{"tags":[],"owner":{"account_id":24142791,"reputation":76,"user_id":18108815,"display_name":"gl1tor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643892934,"creation_date":1643892934,"answer_id":70971687,"question_id":70970958,"body_markdown":"You are trying to squeeze a java.lang.Object into a JsonElement (the add method) or a String (the addProperty method). The type of the field could be anything, including types that have no direct counterpart in json.\r\n\r\nThe easiest way would be to rely on the marshalling gson provides.\r\n\r\n```\r\n        Gson gson = new Gson();\r\n        \r\n        gson.toJson( this );\r\n```\r\n\r\nwhich yields a json formatted string.\r\n\r\nIf for some reason you still want to iterate the fields manually, you could still use gsons type marshalling for building the properties. Like this:\r\n\r\n```\r\n        JsonObject jsonObject = new JsonObject();\r\n        Field[] OutPortList = Test.class.getDeclaredFields();\r\n        Gson gson = new Gson();\r\n\r\n        for(Field x : OutPortList)\r\n        {\r\n            jsonObject.add( x.getName(), gson.toJsonTree( x.get(this) ) );\r\n        }\r\n```\r\n\r\nNote, that you should consider sticking to Java naming conventions by using lowerCamelCase on variable names.\r\n","title":"Java[Gson] - How to assign the correct type automatically to Json","body":"<p>You are trying to squeeze a java.lang.Object into a JsonElement (the add method) or a String (the addProperty method). The type of the field could be anything, including types that have no direct counterpart in json.</p>\n<p>The easiest way would be to rely on the marshalling gson provides.</p>\n<pre><code>        Gson gson = new Gson();\n        \n        gson.toJson( this );\n</code></pre>\n<p>which yields a json formatted string.</p>\n<p>If for some reason you still want to iterate the fields manually, you could still use gsons type marshalling for building the properties. Like this:</p>\n<pre><code>        JsonObject jsonObject = new JsonObject();\n        Field[] OutPortList = Test.class.getDeclaredFields();\n        Gson gson = new Gson();\n\n        for(Field x : OutPortList)\n        {\n            jsonObject.add( x.getName(), gson.toJsonTree( x.get(this) ) );\n        }\n</code></pre>\n<p>Note, that you should consider sticking to Java naming conventions by using lowerCamelCase on variable names.</p>\n"}],"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643892934,"creation_date":1643889851,"question_id":70970958,"body_markdown":"I&#39;m trying to build json using Gson dynamically as following ,\r\nloop through existing fields and take the name and value and build json based on it,\r\n\r\nso for an input:\r\n```\r\na=&quot;AString&quot;\r\nB=true\r\nC=null\r\nD=[1,2,3] \r\nE={&quot;a&quot;:&quot;b&quot;}\r\n```\r\n\r\nwill get valid json as:\r\n```\r\n{\r\n&quot;a&quot;:&quot;AString&quot;,\r\n&quot;b&quot;: true,\r\n&quot;c&quot;: null,\r\n&quot;d&quot;:[1,2,3],\r\n&quot;e&quot;:{&quot;a&quot;:&quot;b&quot;}\r\n}\r\n\r\n```\r\n\r\ncode:\r\n```\r\n\r\nJsonObject jsonObject = new JsonObject();\r\nField OutPortList[] = BBClass.class.getDeclaredFields();  \r\n\r\n\r\nfor(Field x : OutPortList)\r\n{\r\n\r\njsonObject.addProperty(  x.getName() ,  x.get(this));\r\n\r\n}\r\n\r\n```\r\n\r\nGetting error :\r\n\r\n```\r\njsonObject.addProperty(  String , String ) is not applicable \r\n```\r\nalso tried casting :\r\n```\r\njsonObject.addProperty(  x.getName() , x.getType().cast(x.get(this)) );\r\n```\r\n\r\nNot sure but i guess it relate to type ,\r\nas i try with x.get(this).toString() and its work but this will cast everything to string type.\r\nI&#39;m not sure what would be the correct way to handle the type automatically without casting it each time to the correct type.\r\n","title":"Java[Gson] - How to assign the correct type automatically to Json","body":"<p>I'm trying to build json using Gson dynamically as following ,\nloop through existing fields and take the name and value and build json based on it,</p>\n<p>so for an input:</p>\n<pre><code>a=&quot;AString&quot;\nB=true\nC=null\nD=[1,2,3] \nE={&quot;a&quot;:&quot;b&quot;}\n</code></pre>\n<p>will get valid json as:</p>\n<pre><code>{\n&quot;a&quot;:&quot;AString&quot;,\n&quot;b&quot;: true,\n&quot;c&quot;: null,\n&quot;d&quot;:[1,2,3],\n&quot;e&quot;:{&quot;a&quot;:&quot;b&quot;}\n}\n\n</code></pre>\n<p>code:</p>\n<pre><code>\nJsonObject jsonObject = new JsonObject();\nField OutPortList[] = BBClass.class.getDeclaredFields();  \n\n\nfor(Field x : OutPortList)\n{\n\njsonObject.addProperty(  x.getName() ,  x.get(this));\n\n}\n\n</code></pre>\n<p>Getting error :</p>\n<pre><code>jsonObject.addProperty(  String , String ) is not applicable \n</code></pre>\n<p>also tried casting :</p>\n<pre><code>jsonObject.addProperty(  x.getName() , x.getType().cast(x.get(this)) );\n</code></pre>\n<p>Not sure but i guess it relate to type ,\nas i try with x.get(this).toString() and its work but this will cast everything to string type.\nI'm not sure what would be the correct way to handle the type automatically without casting it each time to the correct type.</p>\n"},{"tags":["java","regex","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643892653,"creation_date":1643892653,"answer_id":70971625,"question_id":70971050,"body_markdown":"The `r` prefix creates a raw String.\r\nAs a result you don&#39;t need to double escape your `\\\\.` sequence. Use a single backslash: `\\.`\r\n\r\nSee https://api.flutter.dev/flutter/dart-core/RegExp-class.html \r\n\r\n&gt; Note the use of a raw string (a string prefixed with r) in the example\r\n&gt; above. Use a raw string to treat each character in a string as a\r\n&gt; literal character.\r\n\r\nAnd https://www.learndartprogramming.com/fundamentals/strings-and-raw-strings-in-dart/\r\n\r\n&gt; What is a raw strings in Dart: In Dart programming language, raw strings are a type of strings where special characters such as \\ do not get special treatment.\r\n\r\n&gt; Raw strings are useful when you want to define a String that has a lot of special characters.\r\n\r\n&gt; Raw strings are also useful when you are defining complex regular expressions that otherwise are difficlut to define using the single and double quotes.\r\n\r\nThe main advantage of using a raw String with regular expressions is that, unlike in Java, you can copy and paste your regex and test it easily in other tools, such as https://www.regexr.com, without worrying about additional escaping.","title":"Java Regex to Flutter Regex","body":"<p>The <code>r</code> prefix creates a raw String.\nAs a result you don't need to double escape your <code>\\\\.</code> sequence. Use a single backslash: <code>\\.</code></p>\n<p>See <a href=\"https://api.flutter.dev/flutter/dart-core/RegExp-class.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/dart-core/RegExp-class.html</a></p>\n<blockquote>\n<p>Note the use of a raw string (a string prefixed with r) in the example\nabove. Use a raw string to treat each character in a string as a\nliteral character.</p>\n</blockquote>\n<p>And <a href=\"https://www.learndartprogramming.com/fundamentals/strings-and-raw-strings-in-dart/\" rel=\"nofollow noreferrer\">https://www.learndartprogramming.com/fundamentals/strings-and-raw-strings-in-dart/</a></p>\n<blockquote>\n<p>What is a raw strings in Dart: In Dart programming language, raw strings are a type of strings where special characters such as \\ do not get special treatment.</p>\n</blockquote>\n<blockquote>\n<p>Raw strings are useful when you want to define a String that has a lot of special characters.</p>\n</blockquote>\n<blockquote>\n<p>Raw strings are also useful when you are defining complex regular expressions that otherwise are difficlut to define using the single and double quotes.</p>\n</blockquote>\n<p>The main advantage of using a raw String with regular expressions is that, unlike in Java, you can copy and paste your regex and test it easily in other tools, such as <a href=\"https://www.regexr.com\" rel=\"nofollow noreferrer\">https://www.regexr.com</a>, without worrying about additional escaping.</p>\n"}],"owner":{"account_id":24143596,"reputation":3,"user_id":18109518,"display_name":"radu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70971625,"answer_count":1,"score":0,"last_activity_date":1643892653,"creation_date":1643890224,"question_id":70971050,"body_markdown":"I am trying to convert a Java regex to a Flutter(Dart) regex but I am having trouble. \r\n\r\nMy Java Code and Regex example, witch returns Matching:\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\tString EMAIL_VALIDATION_REGEX = &quot;^[a-zA-Z0-9_+&amp;*-]+(?:\\\\.[a-zA-Z0-9_+&amp;*-]+)*@(?:[a-zA-Z0-9-]+\\\\.)+[a-zA-Z]{2,7}$&quot;;\r\n\t\tString email = &quot;testemail@gmail.com&quot;;\r\n\t\tif(!Pattern.matches(EMAIL_VALIDATION_REGEX, email)) {\r\n\t\t\tSystem.out.println(&quot;Not matching!&quot;);\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;Matching!&quot;);\r\n\t\t}\r\n\t}\r\n\r\nMy Flutter Code example witch returns Not Matching:\r\n\r\n        final RegExp _emailRegex = RegExp(\r\n        r&quot;^[a-zA-Z0-9_+&amp;*-]+(?:\\\\.[a-zA-Z0-9_+&amp;*-]+)*@(?:[a-zA-Z0-9-]+\\\\.)+[a-zA-Z]{2,7}$&quot;,\r\n        caseSensitive: false,\r\n        multiLine: false);\r\n\r\n    final String _email = &quot;testemail@gmail.com&quot;;\r\n\r\n    if (!_emailRegex.hasMatch(_email)) {\r\n      print(&quot;Not Matching!&quot;);\r\n    } else {\r\n      print(&quot;Matching!&quot;);\r\n    }\r\n\r\nI have basically copied the regex that i use in java and added r as a prefix. Can someone help me identify the issue with this code?","title":"Java Regex to Flutter Regex","body":"<p>I am trying to convert a Java regex to a Flutter(Dart) regex but I am having trouble.</p>\n<p>My Java Code and Regex example, witch returns Matching:</p>\n<pre><code>    public static void main(String[] args) {\n    String EMAIL_VALIDATION_REGEX = &quot;^[a-zA-Z0-9_+&amp;*-]+(?:\\\\.[a-zA-Z0-9_+&amp;*-]+)*@(?:[a-zA-Z0-9-]+\\\\.)+[a-zA-Z]{2,7}$&quot;;\n    String email = &quot;testemail@gmail.com&quot;;\n    if(!Pattern.matches(EMAIL_VALIDATION_REGEX, email)) {\n        System.out.println(&quot;Not matching!&quot;);\n    }else {\n        System.out.println(&quot;Matching!&quot;);\n    }\n}\n</code></pre>\n<p>My Flutter Code example witch returns Not Matching:</p>\n<pre><code>    final RegExp _emailRegex = RegExp(\n    r&quot;^[a-zA-Z0-9_+&amp;*-]+(?:\\\\.[a-zA-Z0-9_+&amp;*-]+)*@(?:[a-zA-Z0-9-]+\\\\.)+[a-zA-Z]{2,7}$&quot;,\n    caseSensitive: false,\n    multiLine: false);\n\nfinal String _email = &quot;testemail@gmail.com&quot;;\n\nif (!_emailRegex.hasMatch(_email)) {\n  print(&quot;Not Matching!&quot;);\n} else {\n  print(&quot;Matching!&quot;);\n}\n</code></pre>\n<p>I have basically copied the regex that i use in java and added r as a prefix. Can someone help me identify the issue with this code?</p>\n"},{"tags":["java","gradle","shadowjar"],"answers":[{"tags":[],"owner":{"account_id":19431363,"reputation":46,"user_id":14211723,"display_name":"N1K-x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643892386,"creation_date":1643892386,"answer_id":70971574,"question_id":70962387,"body_markdown":"Since you did not provide us with your build file I can only give some general advice:\r\n\r\n- make sure this `Main` class is the only file in the source tree (shadow does not care what the main class is)\r\n- make sure your dependencies are not marked as `api`\r\n\r\nAs you have stated yourself, the minimizing *works*. I also did some tests  myself (see below) with **many** dependencies. The jar file was at 187MB without minimizing and had so many entries I needed to enable [zip64][1]. Shadow minimized it to just 25MB. \r\n\r\nNow, where do those 25MB come from? From what I have seen in my testing there are two types of files that stay:\r\n\r\n- general resource files (in fact the `META-INF` folder was at 24MB in my test case)\r\n- `package-info.class` and `module-info.class` (though there size is probably far less)\r\n\r\nThose can not be stripped automatically since it is unclear whether they are used or not.\r\n\r\nIf you are 100% sure you do not need some of those files you could [filter][2] them out from your jar manually. Although I doubt that it is worth the effort.\r\n\r\nIf you think there are other files included as well, you could extract the Jar (a jar is just a zip with a different name extension) and look at its content.\r\n\r\n### Test Case\r\n\r\nFirst off, I cloned [Spring Boot][3], then I removed all unnecessary modules (that is everything except `spring-boot-project:spring-boot`, `spring-boot-project:spring-boot-dependencies` and `spring-boot-project:spring-boot-parent`) and changed all dependencies of `spring-boot-project:spring-boot` to be of type `implementation`.\r\nThen I removed the current source code and replaced it with your sample `Main` class.\r\nAfter adding the `shadow` plugin I got a jar with a size of 187MB. When I then applied `minimize` it was only 25MB.\r\n\r\nI then extracted the Jar and ran some commands to remove every `package-info`, `module-info` and general resource file:\r\n\r\n```\r\n$&gt; find \\( \\( -not -name &quot;*.class&quot; -or -name &quot;package-info.class&quot; -or -name &quot;module-info.class&quot; \\) -and -not -type d \\) -delete\r\n$&gt; find -empty -delete\r\n```\r\n\r\nI do not know if there is an equivalent command on Windows. In any case, doing the above leaves only a few number of class files left (144kB!), so I think it is save to say that shadow is doing its job.\r\n\r\n  [1]: https://docs.gradle.org/7.3.3/dsl/org.gradle.api.tasks.bundling.Zip.html#org.gradle.api.tasks.bundling.Zip:zip64\r\n  [2]: https://imperceptiblethoughts.com/shadow/configuration/filtering/\r\n  [3]: https://github.com/spring-projects/spring-boot/","title":"Why shadowJar minimise() is not removing all unused dependencies?","body":"<p>Since you did not provide us with your build file I can only give some general advice:</p>\n<ul>\n<li>make sure this <code>Main</code> class is the only file in the source tree (shadow does not care what the main class is)</li>\n<li>make sure your dependencies are not marked as <code>api</code></li>\n</ul>\n<p>As you have stated yourself, the minimizing <em>works</em>. I also did some tests  myself (see below) with <strong>many</strong> dependencies. The jar file was at 187MB without minimizing and had so many entries I needed to enable <a href=\"https://docs.gradle.org/7.3.3/dsl/org.gradle.api.tasks.bundling.Zip.html#org.gradle.api.tasks.bundling.Zip:zip64\" rel=\"nofollow noreferrer\">zip64</a>. Shadow minimized it to just 25MB.</p>\n<p>Now, where do those 25MB come from? From what I have seen in my testing there are two types of files that stay:</p>\n<ul>\n<li>general resource files (in fact the <code>META-INF</code> folder was at 24MB in my test case)</li>\n<li><code>package-info.class</code> and <code>module-info.class</code> (though there size is probably far less)</li>\n</ul>\n<p>Those can not be stripped automatically since it is unclear whether they are used or not.</p>\n<p>If you are 100% sure you do not need some of those files you could <a href=\"https://imperceptiblethoughts.com/shadow/configuration/filtering/\" rel=\"nofollow noreferrer\">filter</a> them out from your jar manually. Although I doubt that it is worth the effort.</p>\n<p>If you think there are other files included as well, you could extract the Jar (a jar is just a zip with a different name extension) and look at its content.</p>\n<h3>Test Case</h3>\n<p>First off, I cloned <a href=\"https://github.com/spring-projects/spring-boot/\" rel=\"nofollow noreferrer\">Spring Boot</a>, then I removed all unnecessary modules (that is everything except <code>spring-boot-project:spring-boot</code>, <code>spring-boot-project:spring-boot-dependencies</code> and <code>spring-boot-project:spring-boot-parent</code>) and changed all dependencies of <code>spring-boot-project:spring-boot</code> to be of type <code>implementation</code>.\nThen I removed the current source code and replaced it with your sample <code>Main</code> class.\nAfter adding the <code>shadow</code> plugin I got a jar with a size of 187MB. When I then applied <code>minimize</code> it was only 25MB.</p>\n<p>I then extracted the Jar and ran some commands to remove every <code>package-info</code>, <code>module-info</code> and general resource file:</p>\n<pre><code>$&gt; find \\( \\( -not -name &quot;*.class&quot; -or -name &quot;package-info.class&quot; -or -name &quot;module-info.class&quot; \\) -and -not -type d \\) -delete\n$&gt; find -empty -delete\n</code></pre>\n<p>I do not know if there is an equivalent command on Windows. In any case, doing the above leaves only a few number of class files left (144kB!), so I think it is save to say that shadow is doing its job.</p>\n"}],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70971574,"answer_count":1,"score":0,"last_activity_date":1643892386,"creation_date":1643833320,"question_id":70962387,"body_markdown":"I&#39;m trying to generate two different jars from a project which is a monorepo that includes dependencies to many many great things in this world, so needless to say i do not want these executable jars to have big sizes and would rather have them include only classes that they actually use.\r\n\r\nI followed instructions here `https://imperceptiblethoughts.com/shadow/configuration/minimizing/`.\r\n\r\nIn order to test if `shadowJar` task actually works i created a simple Main java file that practically uses nothing other than java SDK.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;client&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand added the actual shadow jar task and pointed to this as a main class\r\n\r\n```\r\nshadowJar {\r\n    archiveBaseName.set(&#39;client&#39;)\r\n    archiveClassifier.set(&#39;&#39;)\r\n    archiveVersion.set(&#39;0.1&#39;)\r\n    minimize()\r\n\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;my.package.Main&#39;\r\n    }\r\n}\r\n```\r\n\r\nwhich generates the uber jar correctly (i was able to run it simply with `java -jar ...`), however the size of the file is 10Mb.\r\n\r\nthen i generated a new version without `minimize()` part and it was 15Mb.\r\n\r\nIs there something i do wrong here? \r\nMaybe i&#39;m expecting too much from this tool and proguard (as tedious as it is to setup) is the only way?\r\n\r\n","title":"Why shadowJar minimise() is not removing all unused dependencies?","body":"<p>I'm trying to generate two different jars from a project which is a monorepo that includes dependencies to many many great things in this world, so needless to say i do not want these executable jars to have big sizes and would rather have them include only classes that they actually use.</p>\n<p>I followed instructions here <code>https://imperceptiblethoughts.com/shadow/configuration/minimizing/</code>.</p>\n<p>In order to test if <code>shadowJar</code> task actually works i created a simple Main java file that practically uses nothing other than java SDK.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;client&quot;);\n    }\n}\n</code></pre>\n<p>and added the actual shadow jar task and pointed to this as a main class</p>\n<pre><code>shadowJar {\n    archiveBaseName.set('client')\n    archiveClassifier.set('')\n    archiveVersion.set('0.1')\n    minimize()\n\n    manifest {\n        attributes 'Main-Class': 'my.package.Main'\n    }\n}\n</code></pre>\n<p>which generates the uber jar correctly (i was able to run it simply with <code>java -jar ...</code>), however the size of the file is 10Mb.</p>\n<p>then i generated a new version without <code>minimize()</code> part and it was 15Mb.</p>\n<p>Is there something i do wrong here?\nMaybe i'm expecting too much from this tool and proguard (as tedious as it is to setup) is the only way?</p>\n"},{"tags":["java","rabbitmq","spring-amqp","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643892152,"creation_date":1506034680,"answer_id":46354371,"question_id":46340403,"body_markdown":"You can spin up `SimpleMessageListenerContainer`s programmatically rather than using the declarative paradigm.\r\n\r\nYou can also use the `RabbitAdmin` to programmatically declare queues, bindings etc.\r\n\r\nSee [Configuring the Broker](https://docs.spring.io/spring-amqp/docs/current/reference/html/#broker-configuration).\r\n\r\nSince Spring AMQP caches channels there is no guarantee that two sends will occur on the same channel (which introduces a very small possibility that order is lost); to ensure order, you need to use the new `RabbitTemplate.invoke()` method in the upcoming 2.0 release. It will perform sends within the scope of the invoke on the same channel so order is guaranteed.\r\n\r\nIt is not a problem if your sending code is single-threaded, since the same channel will always be used in that case.","title":"Spring and Rabbit mq message order","body":"<p>You can spin up <code>SimpleMessageListenerContainer</code>s programmatically rather than using the declarative paradigm.</p>\n<p>You can also use the <code>RabbitAdmin</code> to programmatically declare queues, bindings etc.</p>\n<p>See <a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#broker-configuration\" rel=\"nofollow noreferrer\">Configuring the Broker</a>.</p>\n<p>Since Spring AMQP caches channels there is no guarantee that two sends will occur on the same channel (which introduces a very small possibility that order is lost); to ensure order, you need to use the new <code>RabbitTemplate.invoke()</code> method in the upcoming 2.0 release. It will perform sends within the scope of the invoke on the same channel so order is guaranteed.</p>\n<p>It is not a problem if your sending code is single-threaded, since the same channel will always be used in that case.</p>\n"}],"owner":{"account_id":8796190,"reputation":457,"user_id":6574013,"accept_rate":83,"display_name":"marie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46354371,"answer_count":1,"score":2,"last_activity_date":1643892152,"creation_date":1505986479,"question_id":46340403,"body_markdown":"I am developing an application that receives rest messages grouped by a session id (session 1 can be composed of 2 messages, session 2 can be composed of 10 messages) and send them to a database. The messages of a given session have the same session id inside.\r\n\r\nFor a given session, the 1st message should be sent 1st to the database, then the 2nd, etc. The order is very important inside a session. \r\n\r\nThe order of sessions is not important and we can mix their messages, e.g. we can send the messages in this order to the database:\r\n\r\n - session A msg 1\r\n - session B msg 1\r\n - session A msg 2\r\n - session C msg 1 \r\n - session B msg 2\r\n - session A msg 3\r\n - session C msg 2\r\n\r\nI created 10 rabbitmq queues. The application chooses the queue regarding the session id: all messages from a given session are in the same queue.\r\n\r\nThere is 1 consumer per queue so the order in the same queue is guaranteed.\r\n\r\nFor performance reasons (and traffic growing), we have to set the number of queues higher (100 queues created by the node) or deploy other instances of the application (10 nodes that have 1 consumer on each queue - so 10 consumers per queue).\r\n\r\nSetting the number of queue higher is not difficult but the way I did is a bit ugly and have code duplication (see below). I need suggestions to make it better (and for the day we need 1000 queues).\r\n\r\nIf we deploy 10 nodes instead of 1, there will be 10 consumers for each queue and the order of messages in a queue will not be guaranteed (so message 2 from session A could be sent to database before msg 1 from session A).\r\n\r\nThe preferred solution is the 10 nodes one, as we could make it dynamic and we could start/stop nodes in docker when needed.\r\n\r\nHere is the dependencies I use:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-amqp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nHere is the rabbit configuration:\r\n\r\n    @Bean\r\n\tpublic SimpleRabbitListenerContainerFactory myRabbitListenerContainerFactory() {\r\n\t\tSimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n\t\tfactory.setConnectionFactory(connectionFactory());\r\n\t\tfactory.setPrefetchCount(50);\r\n\t\tfactory.setAcknowledgeMode(AcknowledgeMode.AUTO);\r\n\t\treturn factory;\r\n\t}\r\n\t@Bean\r\n\tpublic ConnectionFactory connectionFactory() {\r\n\t    String addresses = &quot;address1,address2&quot;;\r\n\t\tcom.rabbitmq.client.ConnectionFactory rabbitConnection = new com.rabbitmq.client.ConnectionFactory();\r\n\t\trabbitConnection.setAutomaticRecoveryEnabled(true);\r\n\t\trabbitConnection.setUsername(&quot;username&quot;);\r\n\t\trabbitConnection.setPassword(&quot;password&quot;);\r\n\t\trabbitConnection.setVirtualHost(&quot;virtualHost&quot;);\r\n\t\tCachingConnectionFactory connectionFactory = new CachingConnectionFactory(rabbitConnection);\r\n\t\tconnectionFactory.setPublisherConfirms(true);\r\n\t\tconnectionFactory.setAddresses(addresses);\r\n\t\tconnectionFactory.setChannelCacheSize(100);\r\n\t\treturn connectionFactory;\r\n\t}\r\n\r\n\r\nAt the moment, I have 10 queues that I created with 10 classes. Here is a queue example:\r\n\r\n    @Component\r\n    @RabbitListener(containerFactory = &quot;myRabbitListenerContainerFactory&quot;, bindings = @QueueBinding(value = @Queue(value = &quot;queue2&quot;, durable = &quot;true&quot;), exchange = @Exchange(type = &quot;topic&quot;, value = &quot;exchange2&quot;, durable = &quot;true&quot;), key = &quot;key2&quot;))\r\n    public class QueueGroup2Listener {\r\n        @RabbitHandler\r\n        public void processOrder(RequestMessage received) throws DataAccessResourceFailureException {\r\n            process(received);\r\n        }\r\n    }\r\n\r\nI didn&#39;t find the way to make it better than creating 10 times this class with different values in the annotations (from 1 to 10).\r\n\r\nThe question is:\r\nhow can I add consumers on a queue and guarantee the order of messages in a given session? I mean there are 10 consumers in a queue. Consumer A consumes messages 1 from session A so other consumers shouldn&#39;t consume the other messages from session A.\r\n\r\nBonus question is:\r\nhow can I make the queue creation better than 1 class per queue?\r\n\r\nMany thanks\r\n\r\n**UPDATE**\r\n\r\nAn answer to this question could help me a lot\r\nhttps://stackoverflow.com/questions/30590373/rabbitmq-create-dynamic-queues-in-direct-exchange: I could create a queue per session (in this case, the next question would be how many queues rabbitmq could manage at the same time?)\r\n\r\n**UPDATE after Gary&#39;s answer**\r\n\r\nThanks for the reply, I tried the following but the application is very very long to start consumers:\r\n\r\n    @Bean\r\n    public QueueMessageListener listener() {\r\n        return new QueueMessageListener();\r\n    }\r\n\r\n\r\n    @Bean(name=&quot;exchange&quot;)\r\n    public Exchange exchange() {\r\n        TopicExchange exchange = new TopicExchange(EXCHANGE, true, false);\r\n        SimpleMessageListenerContainer container = new SimpleMessageListenerContainer(connectionFactory());\r\n        MessageListenerAdapter adapter = new MessageListenerAdapter(listener(), &quot;processOrder&quot;);\r\n        container.setMessageListener(adapter);\r\n        admin().declareExchange(exchange);\r\n        createQueues(exchange, QUEUE, numberOfQueues, BINDING_KEY, container, null, true);\r\n        container.start();  // very very very long \r\n        return exchange;\r\n    }\r\n\t\r\n\tprivate void createQueues(Exchange exchange, String queuePrefix, int numberOfQueues, String bindingPrefix,\r\n            SimpleMessageListenerContainer container, Map&lt;String, Object&gt; args) {\r\n        int length = 1;\r\n        if(numberOfQueues &gt; 1) {\r\n            length = (int)(Math.log10(numberOfQueues - 1) + 1);\r\n        }\r\n        for (int i = 0; i &lt; numberOfQueues; i++) {\r\n            Queue queue = new Queue(queuePrefix + String.format(&quot;%0&quot; + length + &quot;d&quot;, i), true, false, false, args);\r\n            container.addQueues(queue);\r\n            admin().declareQueue(queue);\r\n            Binding binding = BindingBuilder.bind(queue).to(exchange).with(bindingPrefix + i).noargs();\r\n            admin().declareBinding(binding);\r\n        }\r\n    }\r\n\r\nIf I don&#39;t call the start function, the consumers are not created.","title":"Spring and Rabbit mq message order","body":"<p>I am developing an application that receives rest messages grouped by a session id (session 1 can be composed of 2 messages, session 2 can be composed of 10 messages) and send them to a database. The messages of a given session have the same session id inside.</p>\n\n<p>For a given session, the 1st message should be sent 1st to the database, then the 2nd, etc. The order is very important inside a session. </p>\n\n<p>The order of sessions is not important and we can mix their messages, e.g. we can send the messages in this order to the database:</p>\n\n<ul>\n<li>session A msg 1</li>\n<li>session B msg 1</li>\n<li>session A msg 2</li>\n<li>session C msg 1 </li>\n<li>session B msg 2</li>\n<li>session A msg 3</li>\n<li>session C msg 2</li>\n</ul>\n\n<p>I created 10 rabbitmq queues. The application chooses the queue regarding the session id: all messages from a given session are in the same queue.</p>\n\n<p>There is 1 consumer per queue so the order in the same queue is guaranteed.</p>\n\n<p>For performance reasons (and traffic growing), we have to set the number of queues higher (100 queues created by the node) or deploy other instances of the application (10 nodes that have 1 consumer on each queue - so 10 consumers per queue).</p>\n\n<p>Setting the number of queue higher is not difficult but the way I did is a bit ugly and have code duplication (see below). I need suggestions to make it better (and for the day we need 1000 queues).</p>\n\n<p>If we deploy 10 nodes instead of 1, there will be 10 consumers for each queue and the order of messages in a queue will not be guaranteed (so message 2 from session A could be sent to database before msg 1 from session A).</p>\n\n<p>The preferred solution is the 10 nodes one, as we could make it dynamic and we could start/stop nodes in docker when needed.</p>\n\n<p>Here is the dependencies I use:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-amqp&lt;/artifactId&gt;\n        &lt;version&gt;1.6.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n        &lt;version&gt;1.6.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Here is the rabbit configuration:</p>\n\n<pre><code>@Bean\npublic SimpleRabbitListenerContainerFactory myRabbitListenerContainerFactory() {\n    SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory());\n    factory.setPrefetchCount(50);\n    factory.setAcknowledgeMode(AcknowledgeMode.AUTO);\n    return factory;\n}\n@Bean\npublic ConnectionFactory connectionFactory() {\n    String addresses = \"address1,address2\";\n    com.rabbitmq.client.ConnectionFactory rabbitConnection = new com.rabbitmq.client.ConnectionFactory();\n    rabbitConnection.setAutomaticRecoveryEnabled(true);\n    rabbitConnection.setUsername(\"username\");\n    rabbitConnection.setPassword(\"password\");\n    rabbitConnection.setVirtualHost(\"virtualHost\");\n    CachingConnectionFactory connectionFactory = new CachingConnectionFactory(rabbitConnection);\n    connectionFactory.setPublisherConfirms(true);\n    connectionFactory.setAddresses(addresses);\n    connectionFactory.setChannelCacheSize(100);\n    return connectionFactory;\n}\n</code></pre>\n\n<p>At the moment, I have 10 queues that I created with 10 classes. Here is a queue example:</p>\n\n<pre><code>@Component\n@RabbitListener(containerFactory = \"myRabbitListenerContainerFactory\", bindings = @QueueBinding(value = @Queue(value = \"queue2\", durable = \"true\"), exchange = @Exchange(type = \"topic\", value = \"exchange2\", durable = \"true\"), key = \"key2\"))\npublic class QueueGroup2Listener {\n    @RabbitHandler\n    public void processOrder(RequestMessage received) throws DataAccessResourceFailureException {\n        process(received);\n    }\n}\n</code></pre>\n\n<p>I didn't find the way to make it better than creating 10 times this class with different values in the annotations (from 1 to 10).</p>\n\n<p>The question is:\nhow can I add consumers on a queue and guarantee the order of messages in a given session? I mean there are 10 consumers in a queue. Consumer A consumes messages 1 from session A so other consumers shouldn't consume the other messages from session A.</p>\n\n<p>Bonus question is:\nhow can I make the queue creation better than 1 class per queue?</p>\n\n<p>Many thanks</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>An answer to this question could help me a lot\n<a href=\"https://stackoverflow.com/questions/30590373/rabbitmq-create-dynamic-queues-in-direct-exchange\">RabbitMQ : Create Dynamic queues in Direct Exchange</a>: I could create a queue per session (in this case, the next question would be how many queues rabbitmq could manage at the same time?)</p>\n\n<p><strong>UPDATE after Gary's answer</strong></p>\n\n<p>Thanks for the reply, I tried the following but the application is very very long to start consumers:</p>\n\n<pre><code>@Bean\npublic QueueMessageListener listener() {\n    return new QueueMessageListener();\n}\n\n\n@Bean(name=\"exchange\")\npublic Exchange exchange() {\n    TopicExchange exchange = new TopicExchange(EXCHANGE, true, false);\n    SimpleMessageListenerContainer container = new SimpleMessageListenerContainer(connectionFactory());\n    MessageListenerAdapter adapter = new MessageListenerAdapter(listener(), \"processOrder\");\n    container.setMessageListener(adapter);\n    admin().declareExchange(exchange);\n    createQueues(exchange, QUEUE, numberOfQueues, BINDING_KEY, container, null, true);\n    container.start();  // very very very long \n    return exchange;\n}\n\nprivate void createQueues(Exchange exchange, String queuePrefix, int numberOfQueues, String bindingPrefix,\n        SimpleMessageListenerContainer container, Map&lt;String, Object&gt; args) {\n    int length = 1;\n    if(numberOfQueues &gt; 1) {\n        length = (int)(Math.log10(numberOfQueues - 1) + 1);\n    }\n    for (int i = 0; i &lt; numberOfQueues; i++) {\n        Queue queue = new Queue(queuePrefix + String.format(\"%0\" + length + \"d\", i), true, false, false, args);\n        container.addQueues(queue);\n        admin().declareQueue(queue);\n        Binding binding = BindingBuilder.bind(queue).to(exchange).with(bindingPrefix + i).noargs();\n        admin().declareBinding(binding);\n    }\n}\n</code></pre>\n\n<p>If I don't call the start function, the consumers are not created.</p>\n"},{"tags":["java","spring","spring-boot","ssl","rabbitmq"],"comments":[{"owner":{"account_id":954318,"reputation":3281,"user_id":979898,"display_name":"Ivan dal Bosco"},"score":0,"creation_date":1622627080,"post_id":66983766,"comment_id":119843810,"body_markdown":"Hello @Uri Shapira, could you ever solve your issue?","body":"Hello @Uri Shapira, could you ever solve your issue?"}],"answers":[{"tags":[],"owner":{"account_id":7728613,"reputation":794,"user_id":5852506,"display_name":"R13mus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623341058,"creation_date":1623340757,"answer_id":67924691,"question_id":66983766,"body_markdown":"Try like this:\r\n\r\n```\r\n...\r\nspring.rabbitmq.ssl.key-store=classpath:/client-file\r\nspring.rabbitmq.ssl.key-store-password=client\r\n```\r\n\r\nI did put mine in the resource folder &#39;..\\src\\main\\resources&#39;.","title":"RabbitMQ JAVA Spring Configurations - spring.rabbitmq.ssl.key-store","body":"<p>Try like this:</p>\n<pre><code>...\nspring.rabbitmq.ssl.key-store=classpath:/client-file\nspring.rabbitmq.ssl.key-store-password=client\n</code></pre>\n<p>I did put mine in the resource folder '..\\src\\main\\resources'.</p>\n"},{"tags":[],"owner":{"account_id":12877390,"reputation":1,"user_id":9313626,"display_name":"Mayank Vaid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643891995,"creation_date":1643891995,"answer_id":70971485,"question_id":66983766,"body_markdown":"use file:file_path if you are placing the file on a directory location(or a mounted drive) outside your app.","title":"RabbitMQ JAVA Spring Configurations - spring.rabbitmq.ssl.key-store","body":"<p>use file:file_path if you are placing the file on a directory location(or a mounted drive) outside your app.</p>\n"}],"owner":{"account_id":14670428,"reputation":369,"user_id":10595044,"display_name":"Uri Shapira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2482,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643891995,"creation_date":1617789667,"question_id":66983766,"body_markdown":"I am trying to connect my Spring application to a RabbitMQ server.\r\nI have in my src/main/resources folder an application.properties file containing the following properties:\r\n````\r\nspring.rabbitmq.port=port\r\nspring.rabbitmq.username=user\r\nspring.rabbitmq.password=pass\r\nspring.rabbitmq.host=hostname\r\nspring.rabbitmq.ssl.verify-hostname=true\r\nspring.rabbitmq.virtual-host=virtualHost\r\nspring.rabbitmq.ssl.enabled=true\r\nspring.rabbitmq.ssl.algorithm=TLSv1.2\r\nspring.rabbitmq.ssl.key-store=client-file\r\nspring.rabbitmq.ssl.key-store-password=client\r\n````\r\n\r\nThe &quot;client-file&quot; is also in the same directory - src/main/resources. However, when I build the application - I recieve the following error:\r\n\r\n````\r\nFactory method &#39;rabbitConnectionFactory&#39; threw exception; \r\nnested exception is org.springframework.amqp.AmqpIOException: java.io.FileNotFoundException: \r\nclass path resource [client-file] cannot be opened because it does not exist\r\n````\r\n\r\nMy file is not being recognized... I might need to have some full path, but am not sure what it should look like. Any help would be greatly appreciated!","title":"RabbitMQ JAVA Spring Configurations - spring.rabbitmq.ssl.key-store","body":"<p>I am trying to connect my Spring application to a RabbitMQ server.\nI have in my src/main/resources folder an application.properties file containing the following properties:</p>\n<pre><code>spring.rabbitmq.port=port\nspring.rabbitmq.username=user\nspring.rabbitmq.password=pass\nspring.rabbitmq.host=hostname\nspring.rabbitmq.ssl.verify-hostname=true\nspring.rabbitmq.virtual-host=virtualHost\nspring.rabbitmq.ssl.enabled=true\nspring.rabbitmq.ssl.algorithm=TLSv1.2\nspring.rabbitmq.ssl.key-store=client-file\nspring.rabbitmq.ssl.key-store-password=client\n</code></pre>\n<p>The &quot;client-file&quot; is also in the same directory - src/main/resources. However, when I build the application - I recieve the following error:</p>\n<pre><code>Factory method 'rabbitConnectionFactory' threw exception; \nnested exception is org.springframework.amqp.AmqpIOException: java.io.FileNotFoundException: \nclass path resource [client-file] cannot be opened because it does not exist\n</code></pre>\n<p>My file is not being recognized... I might need to have some full path, but am not sure what it should look like. Any help would be greatly appreciated!</p>\n"},{"tags":["java","multithreading","kotlin","coroutine"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1643829751,"post_id":70961473,"comment_id":125446140,"body_markdown":"I think on JVM you need the specific coroutines library for the UI system you’re using, e.g. Swing or JavaFX.","body":"I think on JVM you need the specific coroutines library for the UI system you’re using, e.g. Swing or JavaFX."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1643836029,"post_id":70961473,"comment_id":125448329,"body_markdown":"This isn&#39;t really possible in a generic case. So called &quot;main thread&quot; is always related to some specific framework/technology that runs an event loop internally. We can even have multiple main threads in the same application. Anyway, this is a [XY problem](https://xyproblem.info/). What is your real problem that you try to solve? If you want to create an event loop for your own use then create an executor with `Executors.newSingleThreadExecutor()` and optionally convert it to a coroutine dispatcher (if you want to use coroutines).","body":"This isn&#39;t really possible in a generic case. So called &quot;main thread&quot; is always related to some specific framework/technology that runs an event loop internally. We can even have multiple main threads in the same application. Anyway, this is a <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. What is your real problem that you try to solve? If you want to create an event loop for your own use then create an executor with <code>Executors.newSingleThreadExecutor()</code> and optionally convert it to a coroutine dispatcher (if you want to use coroutines)."}],"answers":[{"tags":[],"owner":{"account_id":19320762,"reputation":41,"user_id":14124510,"display_name":"Dayo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643891975,"creation_date":1643891975,"answer_id":70971482,"question_id":70961473,"body_markdown":"I found code for spigot,\r\n```kotlin\r\nBukkit.getScheduler().runTaskTimer(JavaPlugin, Runnable {\r\n    }\r\n}, 1L, 1L)\r\n```\r\nwhich calls runnable every one tick. And I found that it not exists on default JVM functions.","title":"How to invoke code in main thread on java or kotlin?","body":"<p>I found code for spigot,</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Bukkit.getScheduler().runTaskTimer(JavaPlugin, Runnable {\n    }\n}, 1L, 1L)\n</code></pre>\n<p>which calls runnable every one tick. And I found that it not exists on default JVM functions.</p>\n"}],"owner":{"account_id":19320762,"reputation":41,"user_id":14124510,"display_name":"Dayo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643891975,"creation_date":1643829119,"question_id":70961473,"body_markdown":"I&#39;m trying to use spigot event which not supports multithread with multithread plugin.\r\n\r\n**I&#39;ve tried:** \r\n\r\nUsing Coroutine in kotlin works fine with Default dispatcher but in main dispatcher, It throws exception about main dispatcher is missing(I impl coroutines-core and also coroutines-core-jvm).\r\n\r\nI found code using `BlockingQueue&lt;Runnable&gt;` in SO but I cannot use while(true) loop on main thread.\r\n\r\n\r\nI found code works fine with C#.\r\n```cs\r\nthis.Invoke(() =&gt; { }));\r\n```\r\n\r\nIs any code exists for me?\r\n\r\n","title":"How to invoke code in main thread on java or kotlin?","body":"<p>I'm trying to use spigot event which not supports multithread with multithread plugin.</p>\n<p><strong>I've tried:</strong></p>\n<p>Using Coroutine in kotlin works fine with Default dispatcher but in main dispatcher, It throws exception about main dispatcher is missing(I impl coroutines-core and also coroutines-core-jvm).</p>\n<p>I found code using <code>BlockingQueue&lt;Runnable&gt;</code> in SO but I cannot use while(true) loop on main thread.</p>\n<p>I found code works fine with C#.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>this.Invoke(() =&gt; { }));\n</code></pre>\n<p>Is any code exists for me?</p>\n"},{"tags":["java","google-apps-script","google-sheets"],"comments":[{"owner":{"account_id":23310798,"reputation":1298,"user_id":17390082,"display_name":"Gabriel Carballo"},"score":0,"creation_date":1643656566,"post_id":70930826,"comment_id":125393701,"body_markdown":"Could you share an example Spreadsheet? That way the community will be able to help you out in a better way, please try to include a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue with your current code.","body":"Could you share an example Spreadsheet? That way the community will be able to help you out in a better way, please try to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue with your current code."},{"owner":{"account_id":24001023,"reputation":25,"user_id":17985936,"display_name":"Jack Wareing"},"score":0,"creation_date":1643668519,"post_id":70930826,"comment_id":125397650,"body_markdown":"@GabrielCarballo - I must have missed that. Amended.","body":"@GabrielCarballo - I must have missed that. Amended."}],"answers":[{"tags":[],"owner":{"account_id":9729507,"reputation":61490,"user_id":7215091,"accept_rate":71,"display_name":"Cooper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643661434,"creation_date":1643661434,"answer_id":70932526,"question_id":70930826,"body_markdown":"### Return item cost\r\n\r\n    function getCost(itemname){\r\n      const ss1 = SpreadsheetApp.getActive();\r\n      const ssh = ss1.getSheetByName(&#39;Sheet1&#39;);\r\n      let tf = sh.createTextFinder(itemname).findNext();\r\n      return ssh.getRange(tf.getRow(),3).getValue();\r\n    }\r\n\r\nor \r\n\r\n    function getCost(itemname){\r\n      const ss1 = SpreadsheetApp.getActive();\r\n      const ssh = ss1.getSheetByName(&#39;Sheet1&#39;);\r\n      let tf = sh.getRange(&#39;A1:A&#39;+ ssh.getLastRow()).createTextFinder(itemname).findNext();\r\n      return ssh.getRange(tf.getRow(),3).getValue();\r\n    }","title":"Creating a editable master cost list spreadsheet that is referenced by multiple google spreadsheets for costing recipes","body":"<h3>Return item cost</h3>\n<pre><code>function getCost(itemname){\n  const ss1 = SpreadsheetApp.getActive();\n  const ssh = ss1.getSheetByName('Sheet1');\n  let tf = sh.createTextFinder(itemname).findNext();\n  return ssh.getRange(tf.getRow(),3).getValue();\n}\n</code></pre>\n<p>or</p>\n<pre><code>function getCost(itemname){\n  const ss1 = SpreadsheetApp.getActive();\n  const ssh = ss1.getSheetByName('Sheet1');\n  let tf = sh.getRange('A1:A'+ ssh.getLastRow()).createTextFinder(itemname).findNext();\n  return ssh.getRange(tf.getRow(),3).getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23310798,"reputation":1298,"user_id":17390082,"display_name":"Gabriel Carballo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643671543,"creation_date":1643671543,"answer_id":70934018,"question_id":70930826,"body_markdown":"**Try this:**\r\n\r\nSince now you are getting a permission error when opening the external script you could try the following:\r\n\r\n- Try adding the specific scopes in the appscript.json file manifest, to do this follow this [documentation][1].\r\n\r\n- If the above still throws the same message find your project and remove all access from your [account settings][2], once done try giving permissions to the script again when running the code.\r\n\r\n\r\n  [1]: https://developers.google.com/apps-script/concepts/scopes#setting_explicit_scopes\r\n  [2]: https://myaccount.google.com/permissions","title":"Creating a editable master cost list spreadsheet that is referenced by multiple google spreadsheets for costing recipes","body":"<p><strong>Try this:</strong></p>\n<p>Since now you are getting a permission error when opening the external script you could try the following:</p>\n<ul>\n<li><p>Try adding the specific scopes in the appscript.json file manifest, to do this follow this <a href=\"https://developers.google.com/apps-script/concepts/scopes#setting_explicit_scopes\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n</li>\n<li><p>If the above still throws the same message find your project and remove all access from your <a href=\"https://myaccount.google.com/permissions\" rel=\"nofollow noreferrer\">account settings</a>, once done try giving permissions to the script again when running the code.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":24001023,"reputation":25,"user_id":17985936,"display_name":"Jack Wareing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70932526,"answer_count":2,"score":-1,"last_activity_date":1643891410,"creation_date":1643652746,"question_id":70930826,"body_markdown":"I&#39;m trying to create a centralised list of ingredients that are brought into a warehouse. I know the Name, Volume &amp; Cost of each of those ingredients and have detailed them in a master spreadsheet that will be updated with new ingredients and amended prices as time goes on.\r\n\r\n[![Sample of the Master cost spreadsheet][1]][1]\r\n\r\nI also have a bunch of recipes spreadsheets that use those ingredients. What I&#39;d like to do is have those recipes spreadsheets reference the master spreadsheet to pull the cost value in the cell and volume value in the adjacent cell when the name of the ingredient is mentioned in plain English and then have those values updated when the master spreadsheet is amended.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    function dataLookUp(item) {\r\n        var item = item.toLowerCase() // convert to lower case \r\n            .trim()                     // remove spaces at the start and at end\r\n            .replace(/ +/g, &#39; &#39;);       // replaces double spaces with single spaces\r\n        \r\n          var ss = SpreadsheetApp.openById(&quot;Master Cost ID&quot;).getSheetByName(&quot;Cost&quot;);\r\n          var sheets = ss.getsheets();\r\n          var data = sheet.getDataRange().getValues();\r\n\r\n        function get_value(item) {\r\n           \r\n            var texts = [&#39;GNS@60&#39;];\r\n            if (texts.includes(item))      return 0.64;\r\n        }\r\n        function get_volume(item) {\r\n           \r\n            var texts = [&#39;GNS@60&#39;];\r\n            if (texts.includes(item))      return 1000; //in adjacent cell\r\n        }\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have tried a few methods and I&#39;m struggling to get this off the ground. I&#39;m trying to express what I want to do in garbage code, apologies if my code doesn&#39;t make sense. I don&#39;t particularly want to use `IF` because then every time I add a new ingredient, I&#39;ll have to change the script with hundreds of entries.\r\nI&#39;m at a bit of a loss where to go.\r\n\r\n**EDIT -**\r\nAs requested, a [sample spreadsheet here][2]\r\nThanks for helping out with this code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    /**\r\n     * This fuction determines whether the ingredient is in the database &amp; returns it&#39;s price point and breaks\r\n     * @constructor\r\n     * @customfunction\r\n     *  */ \r\n\r\n    function getCost(itemname){\r\n      const ss1 = SpreadsheetApp.getActive();\r\n      const ssh = ss1.getSheetByName(&#39;Cost&#39;);\r\n      let tf = ssh.getRange(&#39;A1:A&#39;+ ssh.getLastRow()).createTextFinder(itemname).findNext();\r\n      return ssh.getRange(tf.getRow(),3).getValue();\r\n    }\r\n    function getVol(itemname){\r\n      const ss1 = SpreadsheetApp.getActive();\r\n      const ssh = ss1.getSheetByName(&#39;Cost&#39;);\r\n      let tf = ssh.getRange(&#39;A1:A&#39;+ ssh.getLastRow()).createTextFinder(itemname).findNext();\r\n      return ssh.getRange(tf.getRow(),2).getValue();\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis works great for a cost sheet that is in the same spreadsheet, but what I&#39;m wanting to achieve is scraping values from an external spreadsheet (as in a different file) that is updated separately. This way if 20 recipes use the same ingredient and the price changes, I can just update the master cost spreadsheet instead of individually changing each file. \r\nI&#39;m running into a problem when trying to point the script towards an external spreadsheet via `SpreadsheetApp.openById` which pings an error:\r\n\r\n&gt; Exception: You do not have permission to call SpreadsheetApp.openById. Required permissions: https://www.googleapis.com/auth/spreadsheets\r\n\r\nI&#39;ve read that .openById doesn&#39;t work anymore for what I&#39;m trying to do. Is there another method to do this?\r\n\r\n**EDIT 2**\r\n\r\nI&#39;ve added the Google Sheets API through services and I have created a custom menu item to trigger the permissions check needed to access the external spreadsheet, although it doesn&#39;t ping a permissions check and I&#39;m still getting the same error as the previous edit. See what I&#39;ve added:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    `/**\r\n     * This function calls the database through a custom menu to give permission\r\n     */\r\n\r\n    function onOpen() {\r\n    var ui = SpreadsheetApp.getUi();\r\n      ui.createMenu(&#39;Database&#39;)\r\n      .addItem(&#39;Access&#39;, &#39;accessDB&#39;)\r\n      .addToUi();\r\n    }\r\n    function accessDB() {\r\n      SpreadsheetApp.openById(&#39;Database ID&#39;);\r\n      SpreadsheetApp.getUi().alert(&#39;Database now active!&#39;);\r\n    }`\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNot quite sure what&#39;s going wrong here.\r\n\r\n  [1]: https://i.stack.imgur.com/vp1Xp.png\r\n  [2]: https://docs.google.com/spreadsheets/d/1vLnmpBCIDD5aB1zBPlw7HTq69RAr2QpZuN83VJWtAQ4/edit#gid=1427038959","title":"Creating a editable master cost list spreadsheet that is referenced by multiple google spreadsheets for costing recipes","body":"<p>I'm trying to create a centralised list of ingredients that are brought into a warehouse. I know the Name, Volume &amp; Cost of each of those ingredients and have detailed them in a master spreadsheet that will be updated with new ingredients and amended prices as time goes on.</p>\n<p><a href=\"https://i.stack.imgur.com/vp1Xp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vp1Xp.png\" alt=\"Sample of the Master cost spreadsheet\" /></a></p>\n<p>I also have a bunch of recipes spreadsheets that use those ingredients. What I'd like to do is have those recipes spreadsheets reference the master spreadsheet to pull the cost value in the cell and volume value in the adjacent cell when the name of the ingredient is mentioned in plain English and then have those values updated when the master spreadsheet is amended.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>function dataLookUp(item) {\n    var item = item.toLowerCase() // convert to lower case \n        .trim()                     // remove spaces at the start and at end\n        .replace(/ +/g, ' ');       // replaces double spaces with single spaces\n    \n      var ss = SpreadsheetApp.openById(\"Master Cost ID\").getSheetByName(\"Cost\");\n      var sheets = ss.getsheets();\n      var data = sheet.getDataRange().getValues();\n\n    function get_value(item) {\n       \n        var texts = ['GNS@60'];\n        if (texts.includes(item))      return 0.64;\n    }\n    function get_volume(item) {\n       \n        var texts = ['GNS@60'];\n        if (texts.includes(item))      return 1000; //in adjacent cell\n    }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I have tried a few methods and I'm struggling to get this off the ground. I'm trying to express what I want to do in garbage code, apologies if my code doesn't make sense. I don't particularly want to use <code>IF</code> because then every time I add a new ingredient, I'll have to change the script with hundreds of entries.\nI'm at a bit of a loss where to go.</p>\n<p><strong>EDIT -</strong>\nAs requested, a <a href=\"https://docs.google.com/spreadsheets/d/1vLnmpBCIDD5aB1zBPlw7HTq69RAr2QpZuN83VJWtAQ4/edit#gid=1427038959\" rel=\"nofollow noreferrer\">sample spreadsheet here</a>\nThanks for helping out with this code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>/**\n * This fuction determines whether the ingredient is in the database &amp; returns it's price point and breaks\n * @constructor\n * @customfunction\n *  */ \n\nfunction getCost(itemname){\n  const ss1 = SpreadsheetApp.getActive();\n  const ssh = ss1.getSheetByName('Cost');\n  let tf = ssh.getRange('A1:A'+ ssh.getLastRow()).createTextFinder(itemname).findNext();\n  return ssh.getRange(tf.getRow(),3).getValue();\n}\nfunction getVol(itemname){\n  const ss1 = SpreadsheetApp.getActive();\n  const ssh = ss1.getSheetByName('Cost');\n  let tf = ssh.getRange('A1:A'+ ssh.getLastRow()).createTextFinder(itemname).findNext();\n  return ssh.getRange(tf.getRow(),2).getValue();\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This works great for a cost sheet that is in the same spreadsheet, but what I'm wanting to achieve is scraping values from an external spreadsheet (as in a different file) that is updated separately. This way if 20 recipes use the same ingredient and the price changes, I can just update the master cost spreadsheet instead of individually changing each file.\nI'm running into a problem when trying to point the script towards an external spreadsheet via <code>SpreadsheetApp.openById</code> which pings an error:</p>\n<blockquote>\n<p>Exception: You do not have permission to call SpreadsheetApp.openById. Required permissions: <a href=\"https://www.googleapis.com/auth/spreadsheets\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/spreadsheets</a></p>\n</blockquote>\n<p>I've read that .openById doesn't work anymore for what I'm trying to do. Is there another method to do this?</p>\n<p><strong>EDIT 2</strong></p>\n<p>I've added the Google Sheets API through services and I have created a custom menu item to trigger the permissions check needed to access the external spreadsheet, although it doesn't ping a permissions check and I'm still getting the same error as the previous edit. See what I've added:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>`/**\n * This function calls the database through a custom menu to give permission\n */\n\nfunction onOpen() {\nvar ui = SpreadsheetApp.getUi();\n  ui.createMenu('Database')\n  .addItem('Access', 'accessDB')\n  .addToUi();\n}\nfunction accessDB() {\n  SpreadsheetApp.openById('Database ID');\n  SpreadsheetApp.getUi().alert('Database now active!');\n}`</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Not quite sure what's going wrong here.</p>\n"},{"tags":["java","android","kotlin","android-download-manager"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643891369,"post_id":70971137,"comment_id":125462505,"body_markdown":"does it give filenotfound exception?","body":"does it give filenotfound exception?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643896140,"post_id":70971137,"comment_id":125464401,"body_markdown":"`if (!direct.exists()) {\n        direct.mkdirs()\n    }` That should be: `if (!direct.exists()) {\n        if ( !direct.mkdirs() ) return;\n    }` but.. you do not have to create that directory as the download manager will do it for you. Well.. if allowed.","body":"<code>if (!direct.exists()) {         direct.mkdirs()     }</code> That should be: <code>if (!direct.exists()) {         if ( !direct.mkdirs() ) return;     }</code> but.. you do not have to create that directory as the download manager will do it for you. Well.. if allowed."}],"answers":[{"tags":[],"owner":{"account_id":22570136,"reputation":184,"user_id":16756416,"display_name":"mordor619"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643891018,"creation_date":1643891018,"answer_id":70971240,"question_id":70971137,"body_markdown":"Can you try and see if this works?\r\n\r\n    val request:DownloadManager.Request=DownloadManager.Request(\r\n            Uri.parse(url)\r\n        ).setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\r\n            .setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, name+&quot;.png&quot;)\r\n            .setAllowedOverMetered(true)\r\n\r\n","title":"How to change the file path in Download manager - Android(Kotlin)","body":"<p>Can you try and see if this works?</p>\n<pre><code>val request:DownloadManager.Request=DownloadManager.Request(\n        Uri.parse(url)\n    ).setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\n        .setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, name+&quot;.png&quot;)\n        .setAllowedOverMetered(true)\n</code></pre>\n"}],"owner":{"account_id":24143688,"reputation":11,"user_id":18109597,"display_name":"The Land of Devil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643891018,"creation_date":1643890581,"question_id":70971137,"body_markdown":"I am try to create new file and replace it with current path as this : but the line with -&gt;  .setDestinationInExternalPublicDir(&quot;/NEW_files&quot;, name+&quot;.png&quot;) \r\nmake my app crash ;( \r\n\r\n        val direct = File(\r\n            Environment.getExternalStorageDirectory().toString() + &quot;/NEW_files&quot;\r\n        )\r\n\r\n        if (!direct.exists()) {\r\n            direct.mkdirs()\r\n        }\r\n       \r\n        val request:DownloadManager.Request=DownloadManager.Request(\r\n            Uri.parse(url)\r\n        ).setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\r\n            .setDestinationInExternalPublicDir(&quot;/NEW_files&quot;, name+&quot;.png&quot;)\r\n            .setAllowedOverMetered(true)\r\n   \r\n\r\n    \r\n        val dm:DownloadManager=getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n        dm.enqueue(request)","title":"How to change the file path in Download manager - Android(Kotlin)","body":"<p>I am try to create new file and replace it with current path as this : but the line with -&gt;  .setDestinationInExternalPublicDir(&quot;/NEW_files&quot;, name+&quot;.png&quot;)\nmake my app crash ;(</p>\n<pre><code>    val direct = File(\n        Environment.getExternalStorageDirectory().toString() + &quot;/NEW_files&quot;\n    )\n\n    if (!direct.exists()) {\n        direct.mkdirs()\n    }\n   \n    val request:DownloadManager.Request=DownloadManager.Request(\n        Uri.parse(url)\n    ).setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\n        .setDestinationInExternalPublicDir(&quot;/NEW_files&quot;, name+&quot;.png&quot;)\n        .setAllowedOverMetered(true)\n\n\n\n    val dm:DownloadManager=getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n    dm.enqueue(request)\n</code></pre>\n"},{"tags":["java","install4j"],"comments":[{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":0,"creation_date":1643881339,"post_id":70968901,"comment_id":125458616,"body_markdown":"You should provide a 32 bit download, bundled with a 32bit jre and a 64 bit downlod bundled with a 64 bit jre. Most software packages offer a choice to the customer which version they opt to download","body":"You should provide a 32 bit download, bundled with a 32bit jre and a 64 bit downlod bundled with a 64 bit jre. Most software packages offer a choice to the customer which version they opt to download"},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1643881411,"post_id":70968901,"comment_id":125458643,"body_markdown":"@Tschallacka yes, of course. We decided to drop the 32-bit installer a while ago. Now I&#39;m just wondering about a manual workaround for a single user.","body":"@Tschallacka yes, of course. We decided to drop the 32-bit installer a while ago. Now I&#39;m just wondering about a manual workaround for a single user."},{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":0,"creation_date":1643882905,"post_id":70968901,"comment_id":125459290,"body_markdown":"You&#39;ll need to provide the user a jar without bundled installer.","body":"You&#39;ll need to provide the user a jar without bundled installer."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1643883088,"post_id":70968901,"comment_id":125459364,"body_markdown":"You probably mean an installer without a bundled JRE. That would work, yes, just like providing an installer with a bundled 32-bit JRE. But we don&#39;t want to provide (and manage) any additional installers. Just wondering if there is a way to get this existing installer to work somehow.","body":"You probably mean an installer without a bundled JRE. That would work, yes, just like providing an installer with a bundled 32-bit JRE. But we don&#39;t want to provide (and manage) any additional installers. Just wondering if there is a way to get this existing installer to work somehow."},{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":1,"creation_date":1643883321,"post_id":70968901,"comment_id":125459460,"body_markdown":"With a special installer that strips the jre when a flag is used. `install.sh --32bit` that then first strips all runtime things from the downloaded installer, and then install it with the existing runtime","body":"With a special installer that strips the jre when a flag is used. <code>install.sh --32bit</code> that then first strips all runtime things from the downloaded installer, and then install it with the existing runtime"},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1643883679,"post_id":70968901,"comment_id":125459622,"body_markdown":"Yes good idea. But not confident this is even possible. The installer binary probably contains logic that expects the bundled JRE and would fail trying to unpack it. Before going that route, it would be less effort to compile a one-off installer without bundled JRE for that user.","body":"Yes good idea. But not confident this is even possible. The installer binary probably contains logic that expects the bundled JRE and would fail trying to unpack it. Before going that route, it would be less effort to compile a one-off installer without bundled JRE for that user."},{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":0,"creation_date":1643884237,"post_id":70968901,"comment_id":125459822,"body_markdown":"Yes, add a fee. if the customer has outdated specs for the system, add a fee for the support, or let them upgrade to a support tier for this.","body":"Yes, add a fee. if the customer has outdated specs for the system, add a fee for the support, or let them upgrade to a support tier for this."}],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643890869,"creation_date":1643890869,"answer_id":70971204,"question_id":70968901,"body_markdown":"As of install4j 9.x there is no way to do that. I&#39;ve added a feature request to our issue tracker.","title":"Is there an option to specify the JRE location to be used by the installer?","body":"<p>As of install4j 9.x there is no way to do that. I've added a feature request to our issue tracker.</p>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70971204,"answer_count":1,"score":1,"last_activity_date":1643890869,"creation_date":1643881160,"question_id":70968901,"body_markdown":"We have a a Linux installer with bundled 64-bit JRE.\r\n\r\nOne user is still on Ubuntu 16 32-bit. The installer does not run (as expected):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe were wondering if we could provide a workaround to get the installer to run anyway, like a [command line option][2] for the installer to provide the JRE location to use.\r\n\r\nWe also tried installing a 32-bit JRE via apt-get and were hoping that the installer would [fall back to the standard JRE search locations][3], but it only tries the unpacked bundled JRE.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QLRGV.png\r\n  [2]: https://www.ej-technologies.com/resources/install4j/help/doc/installers/options.html\r\n  [3]: https://www.ej-technologies.com/resources/install4j/help/doc/installers/jre.html","title":"Is there an option to specify the JRE location to be used by the installer?","body":"<p>We have a a Linux installer with bundled 64-bit JRE.</p>\n<p>One user is still on Ubuntu 16 32-bit. The installer does not run (as expected):</p>\n<p><a href=\"https://i.stack.imgur.com/QLRGV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QLRGV.png\" alt=\"enter image description here\" /></a></p>\n<p>We were wondering if we could provide a workaround to get the installer to run anyway, like a <a href=\"https://www.ej-technologies.com/resources/install4j/help/doc/installers/options.html\" rel=\"nofollow noreferrer\">command line option</a> for the installer to provide the JRE location to use.</p>\n<p>We also tried installing a 32-bit JRE via apt-get and were hoping that the installer would <a href=\"https://www.ej-technologies.com/resources/install4j/help/doc/installers/jre.html\" rel=\"nofollow noreferrer\">fall back to the standard JRE search locations</a>, but it only tries the unpacked bundled JRE.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"score":0,"creation_date":1544592744,"post_id":53718184,"comment_id":94326155,"body_markdown":"r u getting exception ? How you are importing configurations from dependent jars ?","body":"r u getting exception ? How you are importing configurations from dependent jars ?"},{"owner":{"account_id":6800535,"reputation":764,"user_id":5233978,"display_name":"Mahesh Bhuva"},"score":0,"creation_date":1544611648,"post_id":53718184,"comment_id":94335166,"body_markdown":"I am getting an exception that required bean `(e.g XYZ)` could not be autowired.\nThere is `spring.components` file in META-INF in the dependent jar. I am not importing any other configuration from it.","body":"I am getting an exception that required bean <code>(e.g XYZ)</code> could not be autowired. There is <code>spring.components</code> file in META-INF in the dependent jar. I am not importing any other configuration from it."},{"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"score":0,"creation_date":1544613494,"post_id":53718184,"comment_id":94336200,"body_markdown":"how you are importing configurations from lib.jar ? Have u used/Imported configuration file from lib.jar?","body":"how you are importing configurations from lib.jar ? Have u used/Imported configuration file from lib.jar?"},{"owner":{"account_id":6800535,"reputation":764,"user_id":5233978,"display_name":"Mahesh Bhuva"},"score":0,"creation_date":1544676562,"post_id":53718184,"comment_id":94362845,"body_markdown":"I haven&#39;t imported any configurations from `lib.jar`. It simply contains `META-INF/spring.components` file. So, I think spring should consider this file and register beans defined in it.","body":"I haven&#39;t imported any configurations from <code>lib.jar</code>. It simply contains <code>META-INF&#47;spring.components</code> file. So, I think spring should consider this file and register beans defined in it."},{"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"score":0,"creation_date":1544678637,"post_id":53718184,"comment_id":94363379,"body_markdown":"give try importing @Import({ libconfigfile.class }) in configuration class","body":"give try importing @Import({ libconfigfile.class }) in configuration class"},{"owner":{"account_id":6800535,"reputation":764,"user_id":5233978,"display_name":"Mahesh Bhuva"},"score":1,"creation_date":1544679025,"post_id":53718184,"comment_id":94363501,"body_markdown":"But I have not any configuration class available in `lib.jar`. It contains `Repositories` and `Services`.","body":"But I have not any configuration class available in <code>lib.jar</code>. It contains <code>Repositories</code> and <code>Services</code>."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1643825314,"post_id":53718184,"comment_id":125444450,"body_markdown":"It is really hard for us to get a sense of what is happening with your project without anything to start with. Would it be possible for you to create a mockup project with said structure (a lib.jar with spring components) and another one that uses it, try to reproduce the same behavior add it on github and share it here so we can try it. It will be a lot easier for us to help and find out the problem","body":"It is really hard for us to get a sense of what is happening with your project without anything to start with. Would it be possible for you to create a mockup project with said structure (a lib.jar with spring components) and another one that uses it, try to reproduce the same behavior add it on github and share it here so we can try it. It will be a lot easier for us to help and find out the problem"}],"answers":[{"tags":[],"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643890862,"creation_date":1643824536,"answer_id":70960493,"question_id":53718184,"body_markdown":"### TL;DR\r\n\r\nIf you&#39;re using Spring Data, `@SpringBootApplication.scanBasePackages` is not enough, you also need `@EnableJdbcRepositories` (or `*Jpa*` or whatsoever).\r\n\r\n```java\r\npackage application;\r\n\r\n\r\n// without this annotation all Repository classes\r\n// from library will be missing\r\n@EnableJdbcRepositories({ \r\n        &quot;application&quot;,\r\n        &quot;library&quot;\r\n})\r\n@SpringBootApplication(\r\n        scanBasePackages = {\r\n                &quot;application&quot;,\r\n                &quot;library&quot;\r\n        }\r\n)\r\npublic class Application {\r\n\r\n    public static void main(final String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n### Some more info\r\n\r\nOkay, maybe I&#39;m a bit late, but I decided to investigate this case a bit.\r\nThat&#39;s what I&#39;ve found as of 2 Feb 2022:\r\n\r\n 1. All `META-INF/spring.components` files are loaded in [`CandidateComponentsIndexLoader.doLoadIndex`][1]. You can use debug to check whether it sees file from **lib** or not\r\n\r\n 2. `CandidateComponentsIndexLoader` then creates [`CandidateComponentsIndex`][2], which is then stored in the component scanner, for me it is `AnnotationConfigServletWebServerApplicationContext.scanner.componentsIndex`\r\n \r\n 3. Then in `ClassPathScanningCandidateComponentProvider` [`findCandidateComponents`][3] is called, which, if `componentsIndex` is not null, just gets components from that index by provided `basePackage`.\r\n\r\n\r\nThat&#39;s why missing `basePackage` is crucial.\r\n\r\nI haven&#39;t dug into the Spring Data algorithms, but in my case Spring hadn&#39;t been generating library Repositories until I added the `@EnableJdbcRepositories` with packages.\r\n\r\nP.S. All links represent files at the 5.3.15 tag, latest atm.\r\n\r\n[1]: https://github.com/spring-projects/spring-framework/blob/v5.3.15/spring-context/src/main/java/org/springframework/context/index/CandidateComponentsIndexLoader.java#L93\r\n\r\n[2]: https://github.com/spring-projects/spring-framework/blob/v5.3.15/spring-context/src/main/java/org/springframework/context/index/CandidateComponentsIndex.java\r\n\r\n[3]: https://github.com/spring-projects/spring-framework/blob/v5.3.15/spring-context/src/main/java/org/springframework/context/annotation/ClassPathScanningCandidateComponentProvider.java#L311","title":"Spring context indexer not working for dependency jar","body":"<h3>TL;DR</h3>\n<p>If you're using Spring Data, <code>@SpringBootApplication.scanBasePackages</code> is not enough, you also need <code>@EnableJdbcRepositories</code> (or <code>*Jpa*</code> or whatsoever).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package application;\n\n\n// without this annotation all Repository classes\n// from library will be missing\n@EnableJdbcRepositories({ \n        &quot;application&quot;,\n        &quot;library&quot;\n})\n@SpringBootApplication(\n        scanBasePackages = {\n                &quot;application&quot;,\n                &quot;library&quot;\n        }\n)\npublic class Application {\n\n    public static void main(final String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<h3>Some more info</h3>\n<p>Okay, maybe I'm a bit late, but I decided to investigate this case a bit.\nThat's what I've found as of 2 Feb 2022:</p>\n<ol>\n<li><p>All <code>META-INF/spring.components</code> files are loaded in <a href=\"https://github.com/spring-projects/spring-framework/blob/v5.3.15/spring-context/src/main/java/org/springframework/context/index/CandidateComponentsIndexLoader.java#L93\" rel=\"nofollow noreferrer\"><code>CandidateComponentsIndexLoader.doLoadIndex</code></a>. You can use debug to check whether it sees file from <strong>lib</strong> or not</p>\n</li>\n<li><p><code>CandidateComponentsIndexLoader</code> then creates <a href=\"https://github.com/spring-projects/spring-framework/blob/v5.3.15/spring-context/src/main/java/org/springframework/context/index/CandidateComponentsIndex.java\" rel=\"nofollow noreferrer\"><code>CandidateComponentsIndex</code></a>, which is then stored in the component scanner, for me it is <code>AnnotationConfigServletWebServerApplicationContext.scanner.componentsIndex</code></p>\n</li>\n<li><p>Then in <code>ClassPathScanningCandidateComponentProvider</code> <a href=\"https://github.com/spring-projects/spring-framework/blob/v5.3.15/spring-context/src/main/java/org/springframework/context/annotation/ClassPathScanningCandidateComponentProvider.java#L311\" rel=\"nofollow noreferrer\"><code>findCandidateComponents</code></a> is called, which, if <code>componentsIndex</code> is not null, just gets components from that index by provided <code>basePackage</code>.</p>\n</li>\n</ol>\n<p>That's why missing <code>basePackage</code> is crucial.</p>\n<p>I haven't dug into the Spring Data algorithms, but in my case Spring hadn't been generating library Repositories until I added the <code>@EnableJdbcRepositories</code> with packages.</p>\n<p>P.S. All links represent files at the 5.3.15 tag, latest atm.</p>\n"}],"owner":{"account_id":6800535,"reputation":764,"user_id":5233978,"display_name":"Mahesh Bhuva"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1493,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1643890862,"creation_date":1544507709,"question_id":53718184,"body_markdown":"I have some library jar **lib.jar** (made using spring boot but packaged as normal jar without spring boot plugin) which is made of spring boot and contains `spring.components` file generated by `spring-context-indexer`.\r\n\r\nNow, I&#39;m using this jar in my application which also has `spring-context-indexer` and its own `spring.components` file and uses some of the bean defined in **lib.jar**.\r\n\r\nWhen I start my application, spring should register all beans defined in `spring.components` of **lib.jar** and `spring.components` of **application**. But spring isn&#39;t registering any of bean of **lib.jar**.\r\n\r\nI tried using `basePackages` property of `@SpringBootApplication` but no results.\r\n\r\nI even copied all entries of `spring.components` of **lib.jar** into `spring.components` of my application but no result.\r\n\r\nCan anyone please help me?","title":"Spring context indexer not working for dependency jar","body":"<p>I have some library jar <strong>lib.jar</strong> (made using spring boot but packaged as normal jar without spring boot plugin) which is made of spring boot and contains <code>spring.components</code> file generated by <code>spring-context-indexer</code>.</p>\n\n<p>Now, I'm using this jar in my application which also has <code>spring-context-indexer</code> and its own <code>spring.components</code> file and uses some of the bean defined in <strong>lib.jar</strong>.</p>\n\n<p>When I start my application, spring should register all beans defined in <code>spring.components</code> of <strong>lib.jar</strong> and <code>spring.components</code> of <strong>application</strong>. But spring isn't registering any of bean of <strong>lib.jar</strong>.</p>\n\n<p>I tried using <code>basePackages</code> property of <code>@SpringBootApplication</code> but no results.</p>\n\n<p>I even copied all entries of <code>spring.components</code> of <strong>lib.jar</strong> into <code>spring.components</code> of my application but no result.</p>\n\n<p>Can anyone please help me?</p>\n"},{"tags":["java","google-cloud-platform","transfer"],"comments":[{"owner":{"account_id":21951955,"reputation":1862,"user_id":16231068,"display_name":"boredabdel"},"score":0,"creation_date":1643883226,"post_id":70968394,"comment_id":125459422,"body_markdown":"Where are the files? on a VM Disk or in a GCS bucket ?","body":"Where are the files? on a VM Disk or in a GCS bucket ?"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1643885171,"post_id":70968394,"comment_id":125460190,"body_markdown":"Where are stored the file? Which service do you use? Which protocol do want/need to use to transfert the files?","body":"Where are stored the file? Which service do you use? Which protocol do want/need to use to transfert the files?"},{"owner":{"account_id":13148451,"reputation":19,"user_id":9497824,"display_name":"Deepak Singh"},"score":0,"creation_date":1643887819,"post_id":70968394,"comment_id":125461229,"body_markdown":"@boredabdel , Files are stored in gcs bucket (let&#39;s say under organization A we have one project project1 which have one gcs bucket buck1 where some files are there) and we want to move/copy those files into the destination gcs bucket (let&#39;s say under organization B we have one project project2 which have one gcs bucket buck2 where we want to copy files)","body":"@boredabdel , Files are stored in gcs bucket (let&#39;s say under organization A we have one project project1 which have one gcs bucket buck1 where some files are there) and we want to move/copy those files into the destination gcs bucket (let&#39;s say under organization B we have one project project2 which have one gcs bucket buck2 where we want to copy files)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644912721,"post_id":70968394,"comment_id":125724026,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":21951955,"reputation":1862,"user_id":16231068,"display_name":"boredabdel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643890623,"creation_date":1643890623,"answer_id":70971148,"question_id":70968394,"body_markdown":"There are different ways to do this:\r\n\r\n- The easiest would be to spin up a VM in one of the projects, and use gsutil with a Service Account that has Storage permissions to read and write from both projects (The Service Account itself  could belong to either projects)\r\n\r\n- Programmatically you can use the [API][1] to transfer the files \r\n\r\n- You can also use the [console][2] to create transfer jobs\r\n\r\n\r\n  [1]: https://cloud.google.com/storage-transfer/docs/create-manage-transfer-program#cloud-to-cloud\r\n  [2]: https://cloud.google.com/storage-transfer/docs/create-manage-transfer-console","title":"Transfer files from one GCP project to another GCP project programmatically (In Java)","body":"<p>There are different ways to do this:</p>\n<ul>\n<li><p>The easiest would be to spin up a VM in one of the projects, and use gsutil with a Service Account that has Storage permissions to read and write from both projects (The Service Account itself  could belong to either projects)</p>\n</li>\n<li><p>Programmatically you can use the <a href=\"https://cloud.google.com/storage-transfer/docs/create-manage-transfer-program#cloud-to-cloud\" rel=\"nofollow noreferrer\">API</a> to transfer the files</p>\n</li>\n<li><p>You can also use the <a href=\"https://cloud.google.com/storage-transfer/docs/create-manage-transfer-console\" rel=\"nofollow noreferrer\">console</a> to create transfer jobs</p>\n</li>\n</ul>\n"}],"owner":{"account_id":13148451,"reputation":19,"user_id":9497824,"display_name":"Deepak Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643890623,"creation_date":1643879010,"question_id":70968394,"body_markdown":"What are all possible options to make files transfer across the projects?\r\n\r\nNote: Both projects are in different organization networks. ","title":"Transfer files from one GCP project to another GCP project programmatically (In Java)","body":"<p>What are all possible options to make files transfer across the projects?</p>\n<p>Note: Both projects are in different organization networks.</p>\n"},{"tags":["java","hibernate","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319050237,"creation_date":1319046144,"answer_id":7825594,"question_id":7825484,"body_markdown":"Have you tried using [`session.delete()`](http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#delete(java.lang.Object)), or equivalent [EntityManager.remove()](http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#remove(java.lang.Object)) ?\r\n\r\nWhen you use an HQL delete statement to issue a query, you might be bypassing Hibernate&#39;s cascading mechanism. Take a look at this JIRA Issue: [HHH-368](https://hibernate.onjira.com/browse/HHH-368)\r\n\r\nYou will possibly be able to achieve this by: \r\n\r\n    Mother mother = session.load(Mother.class, id);\r\n    // If it is a lazy association, \r\n    //it might be necessary to load it in order to cascade properly\r\n    mother.getChildren(); \r\n    session.delete(mother);\r\n\r\nI&#39;m not sure right now if it is necessary to initialize the collection in order to make it cascade properly.","title":"JPA: DELETE WHERE does not delete children and throws an exception","body":"<p>Have you tried using <a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#delete%28java.lang.Object%29\" rel=\"nofollow\"><code>session.delete()</code></a>, or equivalent <a href=\"http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#remove%28java.lang.Object%29\" rel=\"nofollow\">EntityManager.remove()</a> ?</p>\n\n<p>When you use an HQL delete statement to issue a query, you might be bypassing Hibernate's cascading mechanism. Take a look at this JIRA Issue: <a href=\"https://hibernate.onjira.com/browse/HHH-368\" rel=\"nofollow\">HHH-368</a></p>\n\n<p>You will possibly be able to achieve this by: </p>\n\n<pre><code>Mother mother = session.load(Mother.class, id);\n// If it is a lazy association, \n//it might be necessary to load it in order to cascade properly\nmother.getChildren(); \nsession.delete(mother);\n</code></pre>\n\n<p>I'm not sure right now if it is necessary to initialize the collection in order to make it cascade properly.</p>\n"},{"tags":[],"owner":{"account_id":40939,"reputation":41525,"user_id":118846,"display_name":"Mikko Maunu"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1643890583,"creation_date":1319047084,"answer_id":7825817,"question_id":7825484,"body_markdown":"DELETE (and INSERT) do not cascade via relationships in JPQL query. This is clearly spelled in [specification][1]:\r\n\r\n&gt; A delete operation only applies to entities of the specified class and\r\n&gt; its subclasses. It does not cascade to related entities.\r\n\r\n\r\n Luckily persist and removal via entity manager do (when there is cascade attribute defined). \r\n\r\nWhat you can do:\r\n\r\n - fetch all Mother entity instances that should be removed.\r\n - for each of them call EntityManager.remove().\r\n\r\nCode is something like this:\r\n\r\n    String selectQuery = &quot;SELECT m FROM Mother m WHERE some_condition&quot;;  \r\n    List&lt;Mother&gt; mothersToRemove = entityManager\r\n        .createQuery(selectQuery)\r\n        .getResultStream()\r\n        .forEach(em::remove);\r\n\r\n\r\n  [1]: https://docs.oracle.com/html/E13946_04/ejb3_langref.html#ejb3_langref_bulk_ops","title":"JPA: DELETE WHERE does not delete children and throws an exception","body":"<p>DELETE (and INSERT) do not cascade via relationships in JPQL query. This is clearly spelled in <a href=\"https://docs.oracle.com/html/E13946_04/ejb3_langref.html#ejb3_langref_bulk_ops\" rel=\"nofollow noreferrer\">specification</a>:</p>\n<blockquote>\n<p>A delete operation only applies to entities of the specified class and\nits subclasses. It does not cascade to related entities.</p>\n</blockquote>\n<p>Luckily persist and removal via entity manager do (when there is cascade attribute defined).</p>\n<p>What you can do:</p>\n<ul>\n<li>fetch all Mother entity instances that should be removed.</li>\n<li>for each of them call EntityManager.remove().</li>\n</ul>\n<p>Code is something like this:</p>\n<pre><code>String selectQuery = &quot;SELECT m FROM Mother m WHERE some_condition&quot;;  \nList&lt;Mother&gt; mothersToRemove = entityManager\n    .createQuery(selectQuery)\n    .getResultStream()\n    .forEach(em::remove);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1319051826,"creation_date":1319047824,"answer_id":7825978,"question_id":7825484,"body_markdown":"This is related and may offer a solution if you&#39;re using Hibernate.\r\n\r\nhttps://stackoverflow.com/questions/306144/jpa-cascadetype-all-does-not-delete-orphans\r\n\r\nEDIT\r\n\r\nSince Oracle is the one giving you the error you could maybe make use of the Oracle cascade delete to get around this. However, this could have unpredictable results: since JPA doesn&#39;t realize that you&#39;re deleting other records those objects could remain in the cache and be used even though they&#39;ve been deleted. This only applies if the implementation of JPA you are using has a cache and is configured to use it.\r\n\r\nHere is info on using cascade delete in Oracle: http://www.techonthenet.com/oracle/foreign_keys/foreign_delete.php","title":"JPA: DELETE WHERE does not delete children and throws an exception","body":"<p>This is related and may offer a solution if you're using Hibernate.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/306144/jpa-cascadetype-all-does-not-delete-orphans\">JPA CascadeType.ALL does not delete orphans</a></p>\n\n<p>EDIT</p>\n\n<p>Since Oracle is the one giving you the error you could maybe make use of the Oracle cascade delete to get around this. However, this could have unpredictable results: since JPA doesn't realize that you're deleting other records those objects could remain in the cache and be used even though they've been deleted. This only applies if the implementation of JPA you are using has a cache and is configured to use it.</p>\n\n<p>Here is info on using cascade delete in Oracle: <a href=\"http://www.techonthenet.com/oracle/foreign_keys/foreign_delete.php\" rel=\"nofollow noreferrer\">http://www.techonthenet.com/oracle/foreign_keys/foreign_delete.php</a></p>\n"},{"tags":[],"owner":{"account_id":301920,"reputation":2739,"user_id":609973,"display_name":"MarianP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319112829,"creation_date":1319048604,"answer_id":7826147,"question_id":7825484,"body_markdown":"I must say I am not sure if &#39;delete&#39; in a query won&#39;t remove all related onetomany entities in your case as &#39;MikKo Maunu&#39; says. I would say it would.\r\nThe problem is (sorry for not trying this out) that what JPA/Hibernate will do is to just execute the &#39;real sql delete&#39; and while those Mother and Child instances are not managed at that moment,  it has no way of knowing which Child instances to remove too.\r\norphanRemoval is a great help, but not in this case.\r\nI would\r\n\r\n 1) try to add &#39;fetch = FetchType.EAGER&#39; into the onetomany relation (this might be a performance issue too)\r\n\r\n 2) if 1) does not work, not do all Mother/Child fetching to make everything clear for the JPA layer, and just run a query before the one you use (in the same transaction, but I am not sure if you need not to run &#39;em.flush&#39; between them) \r\n\r\n    DELETE FROM Child c WHERE c.mother &lt;the condition&gt;\r\n\r\n\r\n(Deletes are often a nuisance with JPA/Hibernate and one example I use to denounce the use of ORM, which is essentially an added layer in apps, to make things &#39;easier&#39;. Only good thing about it is, that ORM issues/bugs are usually discovered during development phase. My money is always on MyBatis which is much cleaner in my opinion.)\r\n\r\n**UPDATE:**\r\n\r\nMikko Maunu is right, bulk delete in JPQL does not cascade. Using two queries as I suggested is fine though.\r\n\r\nTricky thing is, that persistence context (all entities managed by EntityManager) is not synchronized with what bulk delete does, so it (both queries in the case I suggest) should be run in a separate transaction.\r\n\r\n**UPDATE 2:**\r\nIf using manual remove instead of bulk delete, many JPA providers and Hibernate too provide removeAll(...) method or something similar (non-API) on their EntityManager implementations. It is simpler to use and might be more effective in regards to performance.\r\n\r\nIn e.g. OpenJPA you only need to cast your EM to OpenJPAEntityManager, best by OpenJPAPersistence.cast(em).removeAll(...)","title":"JPA: DELETE WHERE does not delete children and throws an exception","body":"<p>I must say I am not sure if 'delete' in a query won't remove all related onetomany entities in your case as 'MikKo Maunu' says. I would say it would.\nThe problem is (sorry for not trying this out) that what JPA/Hibernate will do is to just execute the 'real sql delete' and while those Mother and Child instances are not managed at that moment,  it has no way of knowing which Child instances to remove too.\norphanRemoval is a great help, but not in this case.\nI would</p>\n\n<p>1) try to add 'fetch = FetchType.EAGER' into the onetomany relation (this might be a performance issue too)</p>\n\n<p>2) if 1) does not work, not do all Mother/Child fetching to make everything clear for the JPA layer, and just run a query before the one you use (in the same transaction, but I am not sure if you need not to run 'em.flush' between them) </p>\n\n<pre><code>DELETE FROM Child c WHERE c.mother &lt;the condition&gt;\n</code></pre>\n\n<p>(Deletes are often a nuisance with JPA/Hibernate and one example I use to denounce the use of ORM, which is essentially an added layer in apps, to make things 'easier'. Only good thing about it is, that ORM issues/bugs are usually discovered during development phase. My money is always on MyBatis which is much cleaner in my opinion.)</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Mikko Maunu is right, bulk delete in JPQL does not cascade. Using two queries as I suggested is fine though.</p>\n\n<p>Tricky thing is, that persistence context (all entities managed by EntityManager) is not synchronized with what bulk delete does, so it (both queries in the case I suggest) should be run in a separate transaction.</p>\n\n<p><strong>UPDATE 2:</strong>\nIf using manual remove instead of bulk delete, many JPA providers and Hibernate too provide removeAll(...) method or something similar (non-API) on their EntityManager implementations. It is simpler to use and might be more effective in regards to performance.</p>\n\n<p>In e.g. OpenJPA you only need to cast your EM to OpenJPAEntityManager, best by OpenJPAPersistence.cast(em).removeAll(...)</p>\n"},{"tags":[],"owner":{"account_id":73316,"reputation":9114,"user_id":211205,"display_name":"rzymek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477660263,"creation_date":1477660263,"answer_id":40305849,"question_id":7825484,"body_markdown":"You could relay on the RDBMS to delete those `Mother`s using foreign key constraint.\r\nThis assumes your generateing your DDL from entities:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;CHILD&quot;)\r\n    public class Child  implements Serializable {\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;MOTHER_ID&quot;, foreignKey = @ForeignKey(foreignKeyDefinition =\r\n            &quot;FOREIGN KEY(MOTHER_ID) REFERENCES MOTHER(ID) ON DELETE CASCADE&quot;,\r\n            value = ConstraintMode.CONSTRAINT))\r\n        private Mother mother;    \r\n    }\r\n","title":"JPA: DELETE WHERE does not delete children and throws an exception","body":"<p>You could relay on the RDBMS to delete those <code>Mother</code>s using foreign key constraint.\nThis assumes your generateing your DDL from entities:</p>\n\n<pre><code>@Entity\n@Table(name = \"CHILD\")\npublic class Child  implements Serializable {\n\n    @ManyToOne\n    @JoinColumn(name = \"MOTHER_ID\", foreignKey = @ForeignKey(foreignKeyDefinition =\n        \"FOREIGN KEY(MOTHER_ID) REFERENCES MOTHER(ID) ON DELETE CASCADE\",\n        value = ConstraintMode.CONSTRAINT))\n    private Mother mother;    \n}\n</code></pre>\n"}],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54346,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":7825817,"answer_count":5,"score":31,"last_activity_date":1643890583,"creation_date":1319045589,"question_id":7825484,"body_markdown":"I am trying to delete a large number of rows from ``MOTHER`` thanks to a JPQL query.\r\n\r\nThe ``Mother`` class is defined as follows:\r\n\r\n    @Entity\r\n    @Table(name = &quot;MOTHER&quot;)\r\n    public class Mother implements Serializable {\r\n\r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;mother&quot;, \r\n                   orphanRemoval = true)\r\n        private List&lt;Child&gt; children;    \r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;CHILD&quot;)\r\n    public class Child  implements Serializable {\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;MOTHER_ID&quot;)\r\n        private Mother mother;    \r\n    }\r\n\r\nAs you can see, the ``Mother`` class has &quot;children&quot; and when executing the following query:\r\n\r\n    String deleteQuery = &quot;DELETE FROM MOTHER WHERE some_condition&quot;;\r\n    entityManager.createQuery(deleteQuery).executeUpdate();\r\n\r\nan exception is thrown:\r\n\r\n    ERROR - ORA-02292: integrity constraint &lt;constraint name&gt; violated - \r\n                       child record found\r\n\r\nOf course, I could first select all the objects I want to delete and retrieve them into a list before iterating through it to delete all the retrieved object, but the performance of such a solution would just be terrible!\r\n\r\nSo is there a way to take advantage of the previous mapping to delete all the ``Mother`` objects AND all the ``Child`` objects associated with them efficiently and without writing first the queries for **all** the children?","title":"JPA: DELETE WHERE does not delete children and throws an exception","body":"<p>I am trying to delete a large number of rows from <code>MOTHER</code> thanks to a JPQL query.</p>\n\n<p>The <code>Mother</code> class is defined as follows:</p>\n\n<pre><code>@Entity\n@Table(name = \"MOTHER\")\npublic class Mother implements Serializable {\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"mother\", \n               orphanRemoval = true)\n    private List&lt;Child&gt; children;    \n}\n\n@Entity\n@Table(name = \"CHILD\")\npublic class Child  implements Serializable {\n\n    @ManyToOne\n    @JoinColumn(name = \"MOTHER_ID\")\n    private Mother mother;    \n}\n</code></pre>\n\n<p>As you can see, the <code>Mother</code> class has \"children\" and when executing the following query:</p>\n\n<pre><code>String deleteQuery = \"DELETE FROM MOTHER WHERE some_condition\";\nentityManager.createQuery(deleteQuery).executeUpdate();\n</code></pre>\n\n<p>an exception is thrown:</p>\n\n<pre><code>ERROR - ORA-02292: integrity constraint &lt;constraint name&gt; violated - \n                   child record found\n</code></pre>\n\n<p>Of course, I could first select all the objects I want to delete and retrieve them into a list before iterating through it to delete all the retrieved object, but the performance of such a solution would just be terrible!</p>\n\n<p>So is there a way to take advantage of the previous mapping to delete all the <code>Mother</code> objects AND all the <code>Child</code> objects associated with them efficiently and without writing first the queries for <strong>all</strong> the children?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1362691026,"post_id":15281904,"comment_id":21561970,"body_markdown":"It will return a `List&lt;? extends Foo&gt;`.","body":"It will return a <code>List&lt;? extends Foo&gt;</code>."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1362694633,"post_id":15281904,"comment_id":21563812,"body_markdown":"@LuiggiMendoza `?` is specified by the caller. The method itself has no choice. All it can legitimately return is an empty `List`, a `List` of `null`s, `null` or throw an exception/not return.","body":"@LuiggiMendoza <code>?</code> is specified by the caller. The method itself has no choice. All it can legitimately return is an empty <code>List</code>, a <code>List</code> of <code>null</code>s, <code>null</code> or throw an exception/not return."}],"answers":[{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1643890130,"creation_date":1362691036,"answer_id":15281917,"question_id":15281904,"body_markdown":"No, you don&#39;t have two return types. It&#39;s a [*generic method*][1] you are seeing.\r\n\r\n* `&lt;E extends Foo&gt;` → You are declaring a generic type for your method;\r\n* `List&lt;E&gt;` → This is your return type.\r\n\r\nYour method can have a generic type `E` which is a subclass of `Foo`. The return type of the method is a `List&lt;Foo-or-any-subtype-of-Foo&gt;`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/extra/generics/methods.html","title":"Why does this Java method appear to have two return types?","body":"<p>No, you don't have two return types. It's a <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\" rel=\"nofollow noreferrer\"><em>generic method</em></a> you are seeing.</p>\n<ul>\n<li><code>&lt;E extends Foo&gt;</code> → You are declaring a generic type for your method;</li>\n<li><code>List&lt;E&gt;</code> → This is your return type.</li>\n</ul>\n<p>Your method can have a generic type <code>E</code> which is a subclass of <code>Foo</code>. The return type of the method is a <code>List&lt;Foo-or-any-subtype-of-Foo&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1362691040,"creation_date":1362691040,"answer_id":15281922,"question_id":15281904,"body_markdown":"The return type is `List&lt;E&gt;`.  The clause `&lt;E extends Foo&gt;` is not a return type; it is a generic type declaration, specifying that the particular type `E` must be a `Foo` (or a subclass of `Foo`).  This is standard syntax for declaring a generic method.","title":"Why does this Java method appear to have two return types?","body":"<p>The return type is <code>List&lt;E&gt;</code>.  The clause <code>&lt;E extends Foo&gt;</code> is not a return type; it is a generic type declaration, specifying that the particular type <code>E</code> must be a <code>Foo</code> (or a subclass of <code>Foo</code>).  This is standard syntax for declaring a generic method.</p>\n"},{"tags":[],"owner":{"account_id":274799,"reputation":4604,"user_id":567249,"display_name":"Fls&#39;Zen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1362691063,"creation_date":1362691063,"answer_id":15281928,"question_id":15281904,"body_markdown":"Take a look at the Java [documentation][1] pertaining to generics. \r\n\r\n    &lt;E extends Foo&gt; // declares the bounds for the generic type `E`\r\n    List&lt;E&gt; // declares the return value\r\n\r\nThe return type of the method is `List&lt;E&gt;`.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/boundedTypeParams.html","title":"Why does this Java method appear to have two return types?","body":"<p>Take a look at the Java <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/boundedTypeParams.html\" rel=\"nofollow\">documentation</a> pertaining to generics. </p>\n\n<pre><code>&lt;E extends Foo&gt; // declares the bounds for the generic type `E`\nList&lt;E&gt; // declares the return value\n</code></pre>\n\n<p>The return type of the method is <code>List&lt;E&gt;</code>.</p>\n"}],"owner":{"account_id":1295358,"reputation":3441,"user_id":1246555,"accept_rate":70,"display_name":"Cacheing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":3,"up_vote_count":15,"accepted_answer_id":15281917,"answer_count":3,"score":12,"last_activity_date":1643890130,"creation_date":1362690960,"question_id":15281904,"body_markdown":"    public &lt;E extends Foo&gt; List&lt;E&gt; getResult(String s);\r\n\r\nwhere `Foo` is my own class. \r\n\r\nWhat is the return type of this method? Why does it seem to have two return types?","title":"Why does this Java method appear to have two return types?","body":"<pre><code>public &lt;E extends Foo&gt; List&lt;E&gt; getResult(String s);\n</code></pre>\n\n<p>where <code>Foo</code> is my own class. </p>\n\n<p>What is the return type of this method? Why does it seem to have two return types?</p>\n"},{"tags":["java","spring","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":14946817,"reputation":91,"user_id":10791845,"display_name":"atakansaltik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592057372,"creation_date":1592056580,"answer_id":62360755,"question_id":62357892,"body_markdown":"There is nothing in the successfulAuthentication() method. It should look like this.\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest req,\r\n                                            HttpServletResponse res,\r\n                                            FilterChain chain,\r\n                                            Authentication auth) throws IOException, ServletException {\r\n            super.successfulAuthentication(req, res, chain, auth);\r\n    \t\tchain.doFilter(req, res);\r\n    }\r\n\r\nSorry I didn&#39;t notice that &#39;successfulAuthentication doesn&#39;t invoke&#39;. Could you please share the stack trace in debug mode using\r\n\r\n    @EnableWebSecurity(debug = true)","title":"Spring security authentication always return 401","body":"<p>There is nothing in the successfulAuthentication() method. It should look like this.</p>\n\n<pre><code>@Override\nprotected void successfulAuthentication(HttpServletRequest req,\n                                        HttpServletResponse res,\n                                        FilterChain chain,\n                                        Authentication auth) throws IOException, ServletException {\n        super.successfulAuthentication(req, res, chain, auth);\n        chain.doFilter(req, res);\n}\n</code></pre>\n\n<p>Sorry I didn't notice that 'successfulAuthentication doesn't invoke'. Could you please share the stack trace in debug mode using</p>\n\n<pre><code>@EnableWebSecurity(debug = true)\n</code></pre>\n"}],"owner":{"account_id":16259050,"reputation":186,"user_id":11740958,"display_name":"dulikkk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643889940,"creation_date":1592040808,"question_id":62357892,"body_markdown":"I have a problem with authentication in spring.\r\nI have authentication filter extends UsernamePasswordAuthenticationFilter.\r\n\r\n    public class AuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n    private final RefreshTokenProvider refreshTokenProvider;\r\n    private final AccessTokenProvider accessTokenProvider = new AccessTokenProvider();\r\n\r\n    public AuthenticationFilter(AuthenticationManager authenticationManager, RefreshTokenProvider refreshTokenProvider) {\r\n        this.authenticationManager = authenticationManager;\r\n        this.refreshTokenProvider = refreshTokenProvider;\r\n        setFilterProcessesUrl(SecurityConstants.AUTH_SIGN_IN_PATH);\r\n    }\r\n\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request,\r\n                                                HttpServletResponse response) throws AuthenticationException {\r\n        try {\r\n            SingInRequest singInRequest = new ObjectMapper().readValue(request.getInputStream(), SingInRequest.class);\r\n\r\n            UsernamePasswordAuthenticationToken authRequest =\r\n                    new UsernamePasswordAuthenticationToken(singInRequest.getUsername(), singInRequest.getPassword());\r\n\r\n            return authenticationManager.authenticate(authRequest);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest req,\r\n                                            HttpServletResponse res,\r\n                                            FilterChain chain,\r\n                                            Authentication auth) throws IOException, ServletException {\r\n        //\r\n\r\n    }\r\n\r\n\r\nImplementation UserDetailsService\r\n\r\n    @RequiredArgsConstructor\r\n    public class UserDetailsServiceImpl implements UserDetailsService {\r\n    \r\n        private final PasswordEncoder encoder;\r\n        private final UserQueryRepository userQueryRepository;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            return userQueryRepository.findUserByUsername(username)\r\n                    .map(this::getUserDetails)\r\n                    .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User with username &quot; + username + &quot; not found&quot;));\r\n        }\r\n    \r\n        private UserDetails getUserDetails(UserDto user) {\r\n            return org.springframework.security.core.userdetails.User.builder()\r\n                    .username(user.getUsername())\r\n                    .authorities(convertAuthorities(user))\r\n                    .password(encoder.encode(user.getPassword()))\r\n                    .disabled(!user.isActive())\r\n                    .build();\r\n        }\r\n    \r\n        private List&lt;GrantedAuthority&gt; convertAuthorities(UserDto user) {\r\n            return user.getRoles().stream().map(role -&gt;\r\n                    new SimpleGrantedAuthority(role.toString())\r\n            ).collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nAnd SecurityConfig class\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final UserQueryRepository userQueryRepository;\r\n        private final RefreshTokenProvider refreshTokenProvider;\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf()\r\n                    .disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/auth/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/book/**&quot;).authenticated()\r\n                    .and()\r\n                    .addFilter(new AuthenticationFilter(authenticationManager(), refreshTokenProvider))\r\n                    .addFilter(new AuthorizationFilter(authenticationManager()))\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService())\r\n                    .passwordEncoder(passwordEncoder());\r\n        }\r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            return new UserDetailsServiceImpl(passwordEncoder(), userQueryRepository);\r\n        }\r\n    \r\n        @Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            final CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n            final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            corsConfiguration.addAllowedOrigin(&quot;http://localhost:3000&quot;);\r\n            source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n            return source;\r\n        }\r\n\r\nAnd if I try with the postman send an auth request with good credentials, in debugger mode everything works fine (AuthFilter and UserDetailsService) but the server returns 401 and successfulAuthentication method in Authfilter doesn&#39;t invoke.\r\n\r\n---\r\n\r\nRequest received for POST &#39;/auth/sing-in&#39;:\r\n\r\norg.apache.catalina.connector.RequestFacade@27b774b2\r\n\r\nservletPath:/auth/sing-in\r\npathInfo:null\r\nheaders: \r\ncontent-type: application/json\r\nuser-agent: PostmanRuntime/7.25.0\r\naccept: */*\r\ncache-control: no-cache\r\npostman-token: c5bb3320-9c22-4d3d-93e9-628fe0e6f82a\r\nhost: localhost:9000\r\naccept-encoding: gzip, deflate, br\r\nconnection: keep-alive\r\ncontent-length: 54\r\n\r\n\r\nSecurity filter chain: [\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextPersistenceFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  AuthenticationFilter\r\n  AuthorizationFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  SessionManagementFilter\r\n  ExceptionTranslationFilter\r\n  FilterSecurityInterceptor\r\n]\r\n\r\n\r\n************************************************************\r\n\r\n\r\n2020-06-13 20:52:42.048  INFO 9956 --- [nio-9000-exec-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:126}] to 127.0.0.1:27017\r\n2020-06-13 20:52:42.258  INFO 9956 --- [nio-9000-exec-2] Spring Security Debugger                 : \r\n\r\n************************************************************\r\n\r\nRequest received for POST &#39;/error&#39;:\r\n\r\norg.apache.catalina.core.ApplicationHttpRequest@fafe057\r\n\r\nservletPath:/error\r\npathInfo:null\r\nheaders: \r\ncontent-type: application/json\r\nuser-agent: PostmanRuntime/7.25.0\r\naccept: */*\r\ncache-control: no-cache\r\npostman-token: c5bb3320-9c22-4d3d-93e9-628fe0e6f82a\r\nhost: localhost:9000\r\naccept-encoding: gzip, deflate, br\r\nconnection: keep-alive\r\ncontent-length: 54\r\n\r\n\r\nSecurity filter chain: [\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextPersistenceFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  AuthenticationFilter\r\n  AuthorizationFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  SessionManagementFilter\r\n  ExceptionTranslationFilter\r\n  FilterSecurityInterceptor\r\n]\r\n\r\n\r\n************************************************************","title":"Spring security authentication always return 401","body":"<p>I have a problem with authentication in spring.\nI have authentication filter extends UsernamePasswordAuthenticationFilter.</p>\n<pre><code>public class AuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\nprivate final AuthenticationManager authenticationManager;\nprivate final RefreshTokenProvider refreshTokenProvider;\nprivate final AccessTokenProvider accessTokenProvider = new AccessTokenProvider();\n\npublic AuthenticationFilter(AuthenticationManager authenticationManager, RefreshTokenProvider refreshTokenProvider) {\n    this.authenticationManager = authenticationManager;\n    this.refreshTokenProvider = refreshTokenProvider;\n    setFilterProcessesUrl(SecurityConstants.AUTH_SIGN_IN_PATH);\n}\n\n\n@Override\npublic Authentication attemptAuthentication(HttpServletRequest request,\n                                            HttpServletResponse response) throws AuthenticationException {\n    try {\n        SingInRequest singInRequest = new ObjectMapper().readValue(request.getInputStream(), SingInRequest.class);\n\n        UsernamePasswordAuthenticationToken authRequest =\n                new UsernamePasswordAuthenticationToken(singInRequest.getUsername(), singInRequest.getPassword());\n\n        return authenticationManager.authenticate(authRequest);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n\n}\n\n@Override\nprotected void successfulAuthentication(HttpServletRequest req,\n                                        HttpServletResponse res,\n                                        FilterChain chain,\n                                        Authentication auth) throws IOException, ServletException {\n    //\n\n}\n</code></pre>\n<p>Implementation UserDetailsService</p>\n<pre><code>@RequiredArgsConstructor\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    private final PasswordEncoder encoder;\n    private final UserQueryRepository userQueryRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return userQueryRepository.findUserByUsername(username)\n                .map(this::getUserDetails)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User with username &quot; + username + &quot; not found&quot;));\n    }\n\n    private UserDetails getUserDetails(UserDto user) {\n        return org.springframework.security.core.userdetails.User.builder()\n                .username(user.getUsername())\n                .authorities(convertAuthorities(user))\n                .password(encoder.encode(user.getPassword()))\n                .disabled(!user.isActive())\n                .build();\n    }\n\n    private List&lt;GrantedAuthority&gt; convertAuthorities(UserDto user) {\n        return user.getRoles().stream().map(role -&gt;\n                new SimpleGrantedAuthority(role.toString())\n        ).collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>And SecurityConfig class</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@RequiredArgsConstructor\nclass SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final UserQueryRepository userQueryRepository;\n    private final RefreshTokenProvider refreshTokenProvider;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/auth/**&quot;).permitAll()\n                .antMatchers(&quot;/book/**&quot;).authenticated()\n                .and()\n                .addFilter(new AuthenticationFilter(authenticationManager(), refreshTokenProvider))\n                .addFilter(new AuthorizationFilter(authenticationManager()))\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService())\n                .passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new UserDetailsServiceImpl(passwordEncoder(), userQueryRepository);\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        final CorsConfiguration corsConfiguration = new CorsConfiguration();\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        corsConfiguration.addAllowedOrigin(&quot;http://localhost:3000&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n        return source;\n    }\n</code></pre>\n<p>And if I try with the postman send an auth request with good credentials, in debugger mode everything works fine (AuthFilter and UserDetailsService) but the server returns 401 and successfulAuthentication method in Authfilter doesn't invoke.</p>\n<hr />\n<p>Request received for POST '/auth/sing-in':</p>\n<p>org.apache.catalina.connector.RequestFacade@27b774b2</p>\n<p>servletPath:/auth/sing-in\npathInfo:null\nheaders:\ncontent-type: application/json\nuser-agent: PostmanRuntime/7.25.0\naccept: <em>/</em>\ncache-control: no-cache\npostman-token: c5bb3320-9c22-4d3d-93e9-628fe0e6f82a\nhost: localhost:9000\naccept-encoding: gzip, deflate, br\nconnection: keep-alive\ncontent-length: 54</p>\n<p>Security filter chain: [\nWebAsyncManagerIntegrationFilter\nSecurityContextPersistenceFilter\nHeaderWriterFilter\nLogoutFilter\nAuthenticationFilter\nAuthorizationFilter\nRequestCacheAwareFilter\nSecurityContextHolderAwareRequestFilter\nAnonymousAuthenticationFilter\nSessionManagementFilter\nExceptionTranslationFilter\nFilterSecurityInterceptor\n]</p>\n<hr />\n<p>2020-06-13 20:52:42.048  INFO 9956 --- [nio-9000-exec-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:126}] to 127.0.0.1:27017\n2020-06-13 20:52:42.258  INFO 9956 --- [nio-9000-exec-2] Spring Security Debugger                 :</p>\n<hr />\n<p>Request received for POST '/error':</p>\n<p>org.apache.catalina.core.ApplicationHttpRequest@fafe057</p>\n<p>servletPath:/error\npathInfo:null\nheaders:\ncontent-type: application/json\nuser-agent: PostmanRuntime/7.25.0\naccept: <em>/</em>\ncache-control: no-cache\npostman-token: c5bb3320-9c22-4d3d-93e9-628fe0e6f82a\nhost: localhost:9000\naccept-encoding: gzip, deflate, br\nconnection: keep-alive\ncontent-length: 54</p>\n<p>Security filter chain: [\nWebAsyncManagerIntegrationFilter\nSecurityContextPersistenceFilter\nHeaderWriterFilter\nLogoutFilter\nAuthenticationFilter\nAuthorizationFilter\nRequestCacheAwareFilter\nSecurityContextHolderAwareRequestFilter\nAnonymousAuthenticationFilter\nSessionManagementFilter\nExceptionTranslationFilter\nFilterSecurityInterceptor\n]</p>\n<hr />\n"},{"tags":["java","spring-boot","apache-camel","sftp","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":19383629,"reputation":118,"user_id":14174293,"display_name":"jwwallin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643889756,"creation_date":1643889756,"answer_id":70970937,"question_id":70935853,"body_markdown":"I believe you want to use the `schedulerProperties` option in the endpoint uri. I don&#39;t how the syntax for it works, but to me it seems like that is the only way for naming the scheduler.","title":"Is there any way I can create a Scheduled Job with custom Job Name and Job Group for SFTP Endpoint","body":"<p>I believe you want to use the <code>schedulerProperties</code> option in the endpoint uri. I don't how the syntax for it works, but to me it seems like that is the only way for naming the scheduler.</p>\n"}],"owner":{"account_id":21086965,"reputation":1,"user_id":15499859,"display_name":"Srinivas N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643889756,"creation_date":1643692537,"question_id":70935853,"body_markdown":"From URI of the Route looks like below\r\n\r\nsftp://{{host}}/{{remoteFolderLocation}}?username={{username}}&amp;password={{password}}&amp;recursive=true&amp;useUserKnownHostsFile=false\r\n&amp;move=.consumed&amp;maximumReconnectAttempts=3&amp;readLock=changed&amp;readLockMinAge=10s&amp;fastExistsCheck=true\r\n**&amp;scheduler=quartz2&amp;scheduler.cron=0+0/10+*+1/1+*+?+***\r\n\r\nI want to consume files from SFTP Server remote folder location and also have control on the Job Name and Job Group created by Camel Quartz2 Component\r\n\r\nCan someone let me know how to achieve the above requirement??","title":"Is there any way I can create a Scheduled Job with custom Job Name and Job Group for SFTP Endpoint","body":"<p>From URI of the Route looks like below</p>\n<p>sftp://{{host}}/{{remoteFolderLocation}}?username={{username}}&amp;password={{password}}&amp;recursive=true&amp;useUserKnownHostsFile=false\n&amp;move=.consumed&amp;maximumReconnectAttempts=3&amp;readLock=changed&amp;readLockMinAge=10s&amp;fastExistsCheck=true\n<strong>&amp;scheduler=quartz2&amp;scheduler.cron=0+0/10+<em>+1/1+</em>+?+</strong>*</p>\n<p>I want to consume files from SFTP Server remote folder location and also have control on the Job Name and Job Group created by Camel Quartz2 Component</p>\n<p>Can someone let me know how to achieve the above requirement??</p>\n"},{"tags":["java","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643888543,"creation_date":1643888167,"answer_id":70970591,"question_id":70970383,"body_markdown":"`Map` doesn&#39;t have a `stream()` method, also your `.map()` doesn&#39;t really make sense. What is `entrySet()` in that context? And at last, `findFirst()` returns an `Optional` so you&#39;d either change the variable, or unwrap the `Optional`. \r\n\r\nYour code could look something like this:\r\n\r\n```java\r\nString first = stringMap.entrySet().stream()\r\n    .filter(Map.Entry::getValue) // similar to: e -&gt; e.getValue()\r\n    .map(Map.Entry::getKey)      // similar to: e -&gt; e.getKey()\r\n    .findFirst()\r\n    .orElseThrow(); // throws an exception when stringMap is empty / no element could be found with value == true\r\n```\r\n\r\nPlease also note that the &quot;first&quot; element doesn&#39;t really make sense in the context of maps. Because a normal map (like `HashMap`) has no defined order (unless you use `SortedMap` like `TreeMap`).\r\n\r\nAt last, you *shouldn&#39;t* modify the input map while streaming over it. Find the &quot;first&quot; value. And then simply do:\r\n\r\n```java\r\nstringMap.put(first, false);\r\n```","title":"Using Streams on a map and finding/replacing value","body":"<p><code>Map</code> doesn't have a <code>stream()</code> method, also your <code>.map()</code> doesn't really make sense. What is <code>entrySet()</code> in that context? And at last, <code>findFirst()</code> returns an <code>Optional</code> so you'd either change the variable, or unwrap the <code>Optional</code>.</p>\n<p>Your code could look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String first = stringMap.entrySet().stream()\n    .filter(Map.Entry::getValue) // similar to: e -&gt; e.getValue()\n    .map(Map.Entry::getKey)      // similar to: e -&gt; e.getKey()\n    .findFirst()\n    .orElseThrow(); // throws an exception when stringMap is empty / no element could be found with value == true\n</code></pre>\n<p>Please also note that the &quot;first&quot; element doesn't really make sense in the context of maps. Because a normal map (like <code>HashMap</code>) has no defined order (unless you use <code>SortedMap</code> like <code>TreeMap</code>).</p>\n<p>At last, you <em>shouldn't</em> modify the input map while streaming over it. Find the &quot;first&quot; value. And then simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stringMap.put(first, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24142791,"reputation":76,"user_id":18108815,"display_name":"gl1tor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643888942,"creation_date":1643888942,"answer_id":70970748,"question_id":70970383,"body_markdown":"```\r\nOptional&lt;String&gt; firstString = stringMap.entrySet().stream()\r\n\t\t .filter( v-&gt; v.getValue() == true )\r\n\t\t .map( e -&gt; e.getKey())\r\n\t\t .findFirst();\r\n```\t\t \r\nYour ordering of the operations seems to be off. \r\n\r\n`stringMap.entrySet().stream()`\r\n\r\nOn a map you could stream the key set, or the entry set, or the value collection. So make sure you stream the entry set, because you&#39;ll need access to both the key for returning and the value for filtering.\r\n\r\n`.filter( v-&gt; v.getValue() == true )`\r\n\r\nNext filter the stream of entries so that only entries with a true value remain.\r\n\r\n`.map( e -&gt; e.getKey())`\r\n\r\nNow map the stream of entries to just the String value of their key.\r\n\r\n`.findFirst();`\r\n \r\nFind the first key whose value is true. Note that the entries in a hash map are in no particular order. The result of the find first operation is as you already mentioned an optional value.\r\n","title":"Using Streams on a map and finding/replacing value","body":"<pre><code>Optional&lt;String&gt; firstString = stringMap.entrySet().stream()\n         .filter( v-&gt; v.getValue() == true )\n         .map( e -&gt; e.getKey())\n         .findFirst();\n</code></pre>\n<p>Your ordering of the operations seems to be off.</p>\n<p><code>stringMap.entrySet().stream()</code></p>\n<p>On a map you could stream the key set, or the entry set, or the value collection. So make sure you stream the entry set, because you'll need access to both the key for returning and the value for filtering.</p>\n<p><code>.filter( v-&gt; v.getValue() == true )</code></p>\n<p>Next filter the stream of entries so that only entries with a true value remain.</p>\n<p><code>.map( e -&gt; e.getKey())</code></p>\n<p>Now map the stream of entries to just the String value of their key.</p>\n<p><code>.findFirst();</code></p>\n<p>Find the first key whose value is true. Note that the entries in a hash map are in no particular order. The result of the find first operation is as you already mentioned an optional value.</p>\n"}],"owner":{"account_id":11828465,"reputation":41,"user_id":8655833,"display_name":"jennifer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70970748,"answer_count":2,"score":0,"last_activity_date":1643888942,"creation_date":1643887170,"question_id":70970383,"body_markdown":"I&#39;m new to streams and I am trying to filter through this map for the first true value in a key/value pair, then I want to return the string Key, and replace the Value of true with false.\r\n\r\nI have a map of strings/booleans:\r\n\r\n   \r\n\r\n     Map&lt;String, Boolean&gt; stringMap = new HashMap&lt;&gt;();\r\n     //... added values to the map\r\n    \r\n     String firstString = stringMap.stream()\r\n            .map(e -&gt; entrySet())\r\n            .filter(v -&gt; v.getValue() == true)\r\n            .findFirst()\r\n     //after find first i&#39;d like to return\r\n     //the first string Key associated with a true Value\r\n     //and I want to replace the boolean Value with false.\r\n\r\nThat is where I am stuck--I might be doing the first part wrong too, but I&#39;m not sure how to both return the string value and replace the boolean value in the same stream? I was going to try to use collect here to deal with the return value, but I think if I did that it would maybe return a Set rather than the string alone. \r\n\r\nI could work with that but I would prefer to try to just return the string. I also wondered if I should use Optional here instead of the `String firstString` local variable. I&#39;ve been reviewing similar questions but I can&#39;t get this to work and I&#39;m a bit lost.  \r\n\r\nHere are some of the similar questions I&#39;ve checked by I can&#39;t apply them here:\r\n\r\nhttps://stackoverflow.com/questions/29567575/sort-map-by-value-using-lambdas-and-streams\r\n\r\nhttps://stackoverflow.com/questions/57599018/modify-a-map-using-stream\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Using Streams on a map and finding/replacing value","body":"<p>I'm new to streams and I am trying to filter through this map for the first true value in a key/value pair, then I want to return the string Key, and replace the Value of true with false.</p>\n<p>I have a map of strings/booleans:</p>\n<pre><code> Map&lt;String, Boolean&gt; stringMap = new HashMap&lt;&gt;();\n //... added values to the map\n\n String firstString = stringMap.stream()\n        .map(e -&gt; entrySet())\n        .filter(v -&gt; v.getValue() == true)\n        .findFirst()\n //after find first i'd like to return\n //the first string Key associated with a true Value\n //and I want to replace the boolean Value with false.\n</code></pre>\n<p>That is where I am stuck--I might be doing the first part wrong too, but I'm not sure how to both return the string value and replace the boolean value in the same stream? I was going to try to use collect here to deal with the return value, but I think if I did that it would maybe return a Set rather than the string alone.</p>\n<p>I could work with that but I would prefer to try to just return the string. I also wondered if I should use Optional here instead of the <code>String firstString</code> local variable. I've been reviewing similar questions but I can't get this to work and I'm a bit lost.</p>\n<p>Here are some of the similar questions I've checked by I can't apply them here:</p>\n<p><a href=\"https://stackoverflow.com/questions/29567575/sort-map-by-value-using-lambdas-and-streams\">Sort map by value using lambdas and streams</a></p>\n<p><a href=\"https://stackoverflow.com/questions/57599018/modify-a-map-using-stream\">Modify a map using stream</a></p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":412132,"reputation":209,"user_id":785034,"accept_rate":60,"display_name":"HashT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643888752,"creation_date":1643888752,"answer_id":70970707,"question_id":70970427,"body_markdown":"Instead of `CustomAdapter.this` in \r\n`startActivity(new Intent(CustomAdapter.this, LoginActivity.class));`\r\n\r\nUse the Activity context of which you are using the adapter.\r\n\r\nBut the correct way of starting another activity should be from the activity. Perhaps you could call the method of your activity within the ViewHolder. Which will start your desired activity","title":"How to startActivity within RecyclerView CustomAdapter","body":"<p>Instead of <code>CustomAdapter.this</code> in\n<code>startActivity(new Intent(CustomAdapter.this, LoginActivity.class));</code></p>\n<p>Use the Activity context of which you are using the adapter.</p>\n<p>But the correct way of starting another activity should be from the activity. Perhaps you could call the method of your activity within the ViewHolder. Which will start your desired activity</p>\n"},{"tags":[],"owner":{"account_id":22570136,"reputation":184,"user_id":16756416,"display_name":"mordor619"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643888908,"creation_date":1643888908,"answer_id":70970742,"question_id":70970427,"body_markdown":"In you customer adapter class you need to get context using constructor.\r\n\r\n    private Context mcon;\r\n\r\nand in constructor-&gt;\r\n\r\n    public CustomAdapter (Context _mcon, List&lt;String&gt; data){\r\n\r\n    this.mcon = _mcon;\r\n        this.data = data;\r\n    }\r\n\r\n\r\nand then in onClickListener-&gt;\r\n\r\n    @Override\r\n            public void onClick(View view) {\r\n        mcon.startActivity(new Intent(mcon, LoginActivity.class));\r\n    \r\n            }\r\n\r\n","title":"How to startActivity within RecyclerView CustomAdapter","body":"<p>In you customer adapter class you need to get context using constructor.</p>\n<pre><code>private Context mcon;\n</code></pre>\n<p>and in constructor-&gt;</p>\n<pre><code>public CustomAdapter (Context _mcon, List&lt;String&gt; data){\n\nthis.mcon = _mcon;\n    this.data = data;\n}\n</code></pre>\n<p>and then in onClickListener-&gt;</p>\n<pre><code>@Override\n        public void onClick(View view) {\n    mcon.startActivity(new Intent(mcon, LoginActivity.class));\n\n        }\n</code></pre>\n"}],"owner":{"account_id":22224504,"reputation":83,"user_id":17333696,"display_name":"Ken Adams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70970742,"answer_count":2,"score":0,"last_activity_date":1643888908,"creation_date":1643887346,"question_id":70970427,"body_markdown":"I want to add `startActivity()` to my `onClick` listeners in my CustomAdapter class.\r\n\r\n`CustomAdapter.java`:\r\n```Java\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.List;\r\n\r\nimport static androidx.core.content.ContextCompat.startActivity;\r\n\r\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\r\n    private List&lt;String&gt; data;\r\n    public CustomAdapter (List&lt;String&gt; data){\r\n        this.data = data;\r\n    }\r\n\r\n    @Override\r\n    public CustomAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View rowItem = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item_view, parent, false);\r\n        return new ViewHolder(rowItem);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(CustomAdapter.ViewHolder holder, int position) {\r\n        holder.textView.setText(this.data.get(position));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return this.data.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n        private TextView textView;\r\n\r\n        public ViewHolder(View view) {\r\n            super(view);\r\n            view.setOnClickListener(this);\r\n            this.textView = view.findViewById(R.id.textview);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n           startActivity(new Intent(CustomAdapter.this, LoginActivity.class));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe problem is I&#39;m getting the following error in my IDE:\r\n\r\n```Java\r\nCannot resolve constructor &#39;Intent(com.kenadams.app.CustomAdapter, java.lang.Class&lt;com.kenadams.app.LoginActivity&gt;)&#39;\r\n```\r\nInitially , I thought this was happening because my `CustomAdapter` class was `static`. So, I made it non-static. But, the problem still persists. Pls guide me on making this intent work.","title":"How to startActivity within RecyclerView CustomAdapter","body":"<p>I want to add <code>startActivity()</code> to my <code>onClick</code> listeners in my CustomAdapter class.</p>\n<p><code>CustomAdapter.java</code>:</p>\n<pre><code>import android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\nimport static androidx.core.content.ContextCompat.startActivity;\n\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\n    private List&lt;String&gt; data;\n    public CustomAdapter (List&lt;String&gt; data){\n        this.data = data;\n    }\n\n    @Override\n    public CustomAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View rowItem = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item_view, parent, false);\n        return new ViewHolder(rowItem);\n    }\n\n    @Override\n    public void onBindViewHolder(CustomAdapter.ViewHolder holder, int position) {\n        holder.textView.setText(this.data.get(position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return this.data.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n        private TextView textView;\n\n        public ViewHolder(View view) {\n            super(view);\n            view.setOnClickListener(this);\n            this.textView = view.findViewById(R.id.textview);\n        }\n\n        @Override\n        public void onClick(View view) {\n           startActivity(new Intent(CustomAdapter.this, LoginActivity.class));\n        }\n    }\n}\n</code></pre>\n<p>The problem is I'm getting the following error in my IDE:</p>\n<pre><code>Cannot resolve constructor 'Intent(com.kenadams.app.CustomAdapter, java.lang.Class&lt;com.kenadams.app.LoginActivity&gt;)'\n</code></pre>\n<p>Initially , I thought this was happening because my <code>CustomAdapter</code> class was <code>static</code>. So, I made it non-static. But, the problem still persists. Pls guide me on making this intent work.</p>\n"},{"tags":["java","escaping","character"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1306247304,"creation_date":1306247304,"answer_id":6112021,"question_id":6111985,"body_markdown":"You don&#39;t need to escape forward slashes either in Java as a language or in regular expressions.\r\n\r\nAlso note that blocks like this:\r\n\r\n    if (condition) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n\r\nare more compactly and readably written as:\r\n\r\n    return condition;\r\n\r\nSo in your case, I believe your method should be something like:\r\n\r\n    public boolean checkDate(String dateToCheck) {\r\n        return dateToCheck.matches(&quot;[0-9][0-9]/[0-9][0-9]/[0-9][0-9][0-9][0-9]&quot;));\r\n    }\r\n\r\nNote that this isn&#39;t a terribly good way of testing for valid dates - it would probably be worth trying to parse it *as* a date as well or instead, ideally with an API which will allow you to do this without throwing an exception on failure.\r\n\r\nYour regular expression can also be written more simply as:\r\n\r\n\r\n    public boolean checkDate(String dateToCheck) {\r\n        return dateToCheck.matches(&quot;[0-9]{2}/[0-9]{2}/[0-9]{4}&quot;));\r\n    }\r\n","title":"Java - Forward Slash Escape Character","body":"<p>You don't need to escape forward slashes either in Java as a language or in regular expressions.</p>\n\n<p>Also note that blocks like this:</p>\n\n<pre><code>if (condition) {\n    return true;\n} else {\n    return false;\n}\n</code></pre>\n\n<p>are more compactly and readably written as:</p>\n\n<pre><code>return condition;\n</code></pre>\n\n<p>So in your case, I believe your method should be something like:</p>\n\n<pre><code>public boolean checkDate(String dateToCheck) {\n    return dateToCheck.matches(\"[0-9][0-9]/[0-9][0-9]/[0-9][0-9][0-9][0-9]\"));\n}\n</code></pre>\n\n<p>Note that this isn't a terribly good way of testing for valid dates - it would probably be worth trying to parse it <em>as</em> a date as well or instead, ideally with an API which will allow you to do this without throwing an exception on failure.</p>\n\n<p>Your regular expression can also be written more simply as:</p>\n\n<pre><code>public boolean checkDate(String dateToCheck) {\n    return dateToCheck.matches(\"[0-9]{2}/[0-9]{2}/[0-9]{4}\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7869153,"reputation":55,"user_id":5947073,"accept_rate":0,"display_name":"P.Ellis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643888808,"creation_date":1643888808,"answer_id":70970717,"question_id":6111985,"body_markdown":"I wanted to write &quot;n/a&quot; and ended up with &quot;\\&quot;n\\u002Fa\\&quot;&quot;","title":"Java - Forward Slash Escape Character","body":"<p>I wanted to write &quot;n/a&quot; and ended up with &quot;&quot;n\\u002Fa&quot;&quot;</p>\n"}],"owner":{"account_id":751992,"reputation":105,"user_id":751076,"display_name":"pnefc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29381,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6112021,"answer_count":2,"score":6,"last_activity_date":1643888808,"creation_date":1306247181,"question_id":6111985,"body_markdown":"Can anybody tell me how I use a forward slash escape character in Java. I know backward slash is \\ \\ but I&#39;ve tried \\ / and / / with no luck!\r\n\r\nHere is my code:-  \r\n\r\n    public boolean checkDate(String dateToCheck) {  \r\n        if(dateToCheck.matches(&quot;[0-9][0-9]\\ /[0-9][0-9]\\ /[0-9][0-9][0-9][0-9]&quot;)) {\r\n            return true;\r\n        } // end if.\r\n        return false;\r\n    } // end method.\r\n\r\nThanks in advance!","title":"Java - Forward Slash Escape Character","body":"<p>Can anybody tell me how I use a forward slash escape character in Java. I know backward slash is \\ \\ but I've tried \\ / and / / with no luck!</p>\n\n<p>Here is my code:-  </p>\n\n<pre><code>public boolean checkDate(String dateToCheck) {  \n    if(dateToCheck.matches(\"[0-9][0-9]\\ /[0-9][0-9]\\ /[0-9][0-9][0-9][0-9]\")) {\n        return true;\n    } // end if.\n    return false;\n} // end method.\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","opengl","textures","lwjgl","opengl-3"],"owner":{"account_id":23451050,"reputation":305,"user_id":17507202,"display_name":"mitas1c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643888665,"creation_date":1643739494,"question_id":70945556,"body_markdown":"everybody.\r\nSo I am using LWJGL to learn OpenGL.\r\n\r\nSo I am trying to apply texture that is located in a folder called textures (full path -&gt; src/textures/texture.png). However all I am getting is black box. \r\n\r\nI don&#39;t know if the texture is too big or small, it doesn&#39;t crash, it just renders completely black box.\r\n\r\nDoes anybody knows what might be the problem ? I tried applying the texture the same way as colors but that did nothing.\r\n\r\nThis is my Texture class code \r\n\r\n```java\r\npublic class Texture {\r\n    private String filePath;\r\n    private int textureID;\r\n\r\n    public Texture(String filePath){\r\n        this.filePath = filePath;\r\n\r\n        //Generate texture on GPU\r\n        textureID = glGenTextures();\r\n\r\n        //Set texture parameters\r\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\r\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\r\n\r\n        //When streching image pixelate\r\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\r\n        //When shrinking image pixelate\r\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\r\n\r\n        IntBuffer width = BufferUtils.createIntBuffer(1);\r\n        IntBuffer height = BufferUtils.createIntBuffer(1);\r\n        IntBuffer channels = BufferUtils.createIntBuffer(1);\r\n        ByteBuffer image = stbi_load(filePath, width, height, channels, 0);\r\n\r\n        if (image != null) {\r\n            if (channels.get(0) == 3) {\r\n                glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width.get(0), height.get(0),\r\n                        0, GL_RGB, GL_UNSIGNED_BYTE, image);\r\n            } else if (channels.get(0) == 4) {\r\n                glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, width.get(0), height.get(0),\r\n                        0, GL_RGBA, GL_UNSIGNED_BYTE, image);\r\n            } else {\r\n                assert false : &quot;Error: (Texture) Unknown number of channesl &#39;&quot; + channels.get(0) + &quot;&#39;&quot;;\r\n            }\r\n        } else {\r\n            assert false : &quot;Error: (Texture) Could not load image &#39;&quot; + filePath + &quot;&#39;&quot;;\r\n        }\r\n\r\n        stbi_image_free(image);\r\n    }\r\n\r\n    public void Bind(){\r\n        glBindTexture(GL_TEXTURE_2D, textureID);\r\n    }\r\n\r\n    public void Unbind(){\r\n        glBindTexture(GL_TEXTURE_2D, 0);\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my Mesh classs where I am rendering whole cube.\r\n\r\n```java\r\npublic class Mesh {\r\n    private String vertexShaderSrc =&quot;&quot; +\r\n            &quot;#version 330 core\\n&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;layout (location=0) in vec3 aPos;\\n&quot; +\r\n            &quot;layout (location=1) in vec4 aColor;\\n&quot; +\r\n            &quot;layout (location=2) in vec2 aTexCoords;\\n&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;out vec4 fColor;\\n&quot; +\r\n            &quot;out vec2 fTexCoords;\\n&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;uniform mat4 worldMatrix;\\n&quot; +\r\n            &quot;uniform mat4 projectionMatrix;\\n&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;void main(){\\n&quot; +\r\n            &quot;    fColor = aColor;\\n&quot; +\r\n            &quot;    fTexCoords = aTexCoords;\\n&quot; +\r\n            &quot;    gl_Position = projectionMatrix * worldMatrix * vec4(aPos, 1.0);\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n    private String fragmentShaderSrc = &quot;&quot; +\r\n            &quot;#version 330 core\\n&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;in vec4 fColor;\\n&quot; +\r\n            &quot;in vec2 fTexCoords;\\n&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;out vec4 Color;\\n&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;uniform sampler2D textureSampler;\\n&quot; +\r\n            &quot;void main(){\\n&quot; +\r\n            &quot;   // Color = fColor;\\n&quot; +\r\n            &quot;    Color = texture(textureSampler, fTexCoords);\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n    private int vertexID;\r\n    private int fragmentID;\r\n    private int shaderProgram;\r\n\r\n    private int VAO_ID;\r\n    private int VBO_ID;\r\n    private int EBO_ID;\r\n    private int colourVBO_ID;\r\n    private int textureID;\r\n\r\n    private float[] vertices;\r\n    private int[] triangles;    //MUST BE IN COUNTERCLOCKWISE ORDER\r\n    private float[] colours;\r\n    private float[] UVs;\r\n\r\n    //CAMERA\r\n    private float FOV;\r\n    private float nearPlane;\r\n    private float farPlane;\r\n    private int width;\r\n    private int height;\r\n\r\n    private String fileName;\r\n    private Matrix4f projectionMatrix;\r\n    private Matrix4f worldMatrix;\r\n\r\n    private Map&lt;String, Integer&gt; uniforms = new HashMap&lt;&gt;();\r\n    private Map&lt;String, Integer&gt; uniformsPosition = new HashMap&lt;&gt;();\r\n    private Map&lt;String, Integer&gt; uniformsTexture = new HashMap&lt;&gt;();\r\n    private WorldTransformation transformation;\r\n\r\n    private Texture texture;\r\n    public Mesh(){\r\n        this.transformation = new WorldTransformation();\r\n    }\r\n\r\n    public void SetTexture(String fileName) { this.fileName = fileName; }\r\n    public void SetRenderSettings(float FOV, float nearPlane, float farPlane, int width, int height){\r\n        this.FOV = FOV;\r\n        this.nearPlane = nearPlane;\r\n        this.farPlane = farPlane;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    public void SetVertices(float[] vertices){\r\n        this.vertices = vertices;\r\n    }\r\n    public void SetTriangles(int[] triangles){\r\n        this.triangles = triangles;\r\n    }\r\n    public void SetColours(float[] colours) { this.colours = colours; }\r\n    public void SetUVs(float[] UVs) { this.UVs = UVs; }\r\n\r\n    public void Init(){\r\n\r\n        this.texture = new Texture(fileName);\r\n\r\n        //COMPILE AND LINK SHADERS\r\n        //************\r\n        // Vertex Shader\r\n        //************\r\n\r\n        vertexID = glCreateShader(GL_VERTEX_SHADER); //Load shader type\r\n        glShaderSource(vertexID, vertexShaderSrc); // Pass shader source to GPU\r\n        glCompileShader(vertexID); // Compile shader\r\n\r\n        //Error check in compilation process\r\n        int success = glGetShaderi(vertexID,GL_COMPILE_STATUS);\r\n        if(success == GL_FALSE){\r\n            int lenght = glGetShaderi(vertexID, GL_INFO_LOG_LENGTH);\r\n            System.out.println(&quot;ERROR: &#39;defaultShader.glsl: \\n\\t Vertex shader compilation failed !&quot;);\r\n            System.out.println(glGetShaderInfoLog(vertexID,lenght));\r\n        }\r\n\r\n        //************\r\n        // Fragment Shader\r\n        //************\r\n        fragmentID = glCreateShader(GL_FRAGMENT_SHADER); //Load shader type\r\n        glShaderSource(fragmentID, fragmentShaderSrc); // Pass shader source to GPU\r\n        glCompileShader(fragmentID); // Compile shader\r\n\r\n        //Error check in compilation process\r\n        success = glGetShaderi(fragmentID,GL_COMPILE_STATUS);\r\n        if(success == GL_FALSE){\r\n            int lenght = glGetShaderi(fragmentID, GL_INFO_LOG_LENGTH);\r\n            System.out.println(&quot;ERROR: &#39;defaultShader.glsl: \\n\\t Vertex shader compilation failed !&quot;);\r\n            System.out.println(glGetShaderInfoLog(fragmentID,lenght));\r\n        }\r\n\r\n\r\n        //************\r\n        // Link shaders and Check for errors\r\n        //************\r\n        shaderProgram = glCreateProgram();\r\n        glAttachShader(shaderProgram, vertexID);\r\n        glAttachShader(shaderProgram, fragmentID);\r\n        glLinkProgram(shaderProgram);\r\n\r\n        //Check for linking errors\r\n        success = glGetProgrami(shaderProgram, GL_LINK_STATUS);\r\n        if(success == GL_FALSE){\r\n            int lenght = glGetProgrami(shaderProgram, GL_INFO_LOG_LENGTH);\r\n            System.out.println(&quot;ERROR: &#39;defaultShader.glsl:&#39; \\n\\t Linking of shaders failed !&quot;);\r\n            System.out.println(glGetProgramInfoLog(fragmentID,lenght));\r\n            assert false : &quot;&quot;;\r\n        }\r\n\r\n\r\n\r\n        int uniformLocation = glGetUniformLocation(shaderProgram,&quot;projectionMatrix&quot;);\r\n        uniforms.put(&quot;projectionMatrix&quot;,uniformLocation);\r\n\r\n        int uniformPosLocation = glGetUniformLocation(shaderProgram,&quot;worldMatrix&quot;);\r\n        uniformsPosition.put(&quot;worldMatrix&quot;,uniformPosLocation);\r\n\r\n        //TEXTURE \r\n        int uniformTexturePosition = glGetUniformLocation(shaderProgram, &quot;textureSampler&quot;);\r\n        uniformsTexture.put(&quot;textureSampler&quot;, uniformTexturePosition);\r\n\r\n\r\n        //************\r\n        // Generate VAO, VBO and EBO and send them to GPU\r\n        //************\r\n\r\n        // GENERATE VAO\r\n        VAO_ID = glGenVertexArrays();\r\n        glBindVertexArray(VAO_ID);\r\n\r\n        //POSITION VBO\r\n        // GENERATE VBO and upload VertexBuffer\r\n        VBO_ID = glGenBuffers();\r\n        //Create float buffer of vertices\r\n        FloatBuffer vertexBuffer = MemoryUtil.memAllocFloat(vertices.length);\r\n        vertexBuffer.put(vertices).flip();\r\n        glBindBuffer(GL_ARRAY_BUFFER, VBO_ID);\r\n        glBufferData(GL_ARRAY_BUFFER, vertexBuffer, GL_STATIC_DRAW);\r\n        glEnableVertexAttribArray(0);\r\n        glVertexAttribPointer(0, 3, GL_FLOAT, false, 0, 0);\r\n\r\n        //COLOR VBO\r\n        //GENERATE VBO and upload colourBuffer\r\n        colourVBO_ID = glGenBuffers();\r\n        FloatBuffer colourBuffer = MemoryUtil.memAllocFloat(colours.length);\r\n        colourBuffer.put(colours).flip();\r\n        glBindBuffer(GL_ARRAY_BUFFER, colourVBO_ID);\r\n        glBufferData(GL_ARRAY_BUFFER, colourBuffer, GL_STATIC_DRAW);\r\n        glEnableVertexAttribArray(1);\r\n        glVertexAttribPointer(1, 4, GL_FLOAT, false, 0,  0);\r\n\r\n        textureID = glGenBuffers();\r\n        FloatBuffer textureBuffer = MemoryUtil.memAllocFloat(UVs.length);\r\n        textureBuffer.put(UVs).flip();\r\n        glBindBuffer(GL_ARRAY_BUFFER, textureID);\r\n        glBufferData(GL_ARRAY_BUFFER, textureBuffer, GL_STATIC_DRAW);\r\n        glEnableVertexAttribArray(2);\r\n        glVertexAttribPointer(2, 2, GL_FLOAT, false, 0,  0);\r\n\r\n\r\n        //TRIANGLE VBO\r\n        //Create Indices and upload them\r\n        EBO_ID = glGenBuffers();\r\n        IntBuffer elementBuffer = MemoryUtil.memAllocInt(triangles.length);\r\n        elementBuffer.put(triangles).flip();\r\n        //Create EBO\r\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO_ID);\r\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, elementBuffer, GL_STATIC_DRAW);\r\n\r\n        glBindBuffer(GL_ARRAY_BUFFER,0);\r\n        glBindVertexArray(0);\r\n        // glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);\r\n\r\n        //Free Buffers\r\n        memFree(vertexBuffer);\r\n        memFree(colourBuffer);\r\n        memFree(elementBuffer);\r\n        memFree(textureBuffer);\r\n\r\n    }\r\n\r\n    public void Render(){\r\n\r\n        //Bind shader program\r\n        glUseProgram(shaderProgram);\r\n\r\n        glActiveTexture(GL_TEXTURE0);\r\n        texture.Bind();\r\n        SetTextureSample(&quot;textureSampler&quot;, 0);\r\n\r\n        SetUniform(&quot;projectionMatrix&quot;, projectionMatrix, uniforms);\r\n        SetUniform(&quot;worldMatrix&quot;, worldMatrix, uniformsPosition);\r\n\r\n        //Bind VAO currently in use\r\n        glBindVertexArray(VAO_ID);\r\n\r\n        //Enable vertex atribute pointers\r\n        glEnableVertexAttribArray(0);\r\n        glEnableVertexAttribArray(1);\r\n        //Draw triangles\r\n        glDrawElements(GL_TRIANGLES,triangles.length, GL_UNSIGNED_INT,0);\r\n\r\n        //Unbind everything\r\n        glDisableVertexAttribArray(0);\r\n        glDisableVertexAttribArray(1);\r\n        glBindVertexArray(0);\r\n        glUseProgram(0);\r\n\r\n    }\r\n\r\n    void SetUniform(String uniformName, Matrix4f value, Map&lt;String, Integer&gt; uniformsMap){\r\n        try (MemoryStack stack = MemoryStack.stackPush()) {\r\n            FloatBuffer fb = stack.mallocFloat(16);\r\n            value.get(fb);\r\n            glUniformMatrix4fv(uniformsMap.get(uniformName), false, fb);\r\n        }\r\n    }\r\n\r\n    void SetTextureSample(String uniformName, int slot){\r\n        int location = glGetUniformLocation(shaderProgram, uniformName);\r\n        glUniform1i(location, slot);\r\n    }\r\n\r\n\r\n    public void SetWorldMetrix(Matrix4f worldMatrix){\r\n         this.worldMatrix = worldMatrix;\r\n    }\r\n\r\n    public void SetProjectionMatrix(Matrix4f projectionMatrix){\r\n        this.projectionMatrix = projectionMatrix;\r\n    }\r\n\r\n}\r\n```","title":"Java - LWJGL and OpenGL, How to apply texture to an object?","body":"<p>everybody.\nSo I am using LWJGL to learn OpenGL.</p>\n<p>So I am trying to apply texture that is located in a folder called textures (full path -&gt; src/textures/texture.png). However all I am getting is black box.</p>\n<p>I don't know if the texture is too big or small, it doesn't crash, it just renders completely black box.</p>\n<p>Does anybody knows what might be the problem ? I tried applying the texture the same way as colors but that did nothing.</p>\n<p>This is my Texture class code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Texture {\n    private String filePath;\n    private int textureID;\n\n    public Texture(String filePath){\n        this.filePath = filePath;\n\n        //Generate texture on GPU\n        textureID = glGenTextures();\n\n        //Set texture parameters\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\n\n        //When streching image pixelate\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\n        //When shrinking image pixelate\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\n\n        IntBuffer width = BufferUtils.createIntBuffer(1);\n        IntBuffer height = BufferUtils.createIntBuffer(1);\n        IntBuffer channels = BufferUtils.createIntBuffer(1);\n        ByteBuffer image = stbi_load(filePath, width, height, channels, 0);\n\n        if (image != null) {\n            if (channels.get(0) == 3) {\n                glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width.get(0), height.get(0),\n                        0, GL_RGB, GL_UNSIGNED_BYTE, image);\n            } else if (channels.get(0) == 4) {\n                glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, width.get(0), height.get(0),\n                        0, GL_RGBA, GL_UNSIGNED_BYTE, image);\n            } else {\n                assert false : &quot;Error: (Texture) Unknown number of channesl '&quot; + channels.get(0) + &quot;'&quot;;\n            }\n        } else {\n            assert false : &quot;Error: (Texture) Could not load image '&quot; + filePath + &quot;'&quot;;\n        }\n\n        stbi_image_free(image);\n    }\n\n    public void Bind(){\n        glBindTexture(GL_TEXTURE_2D, textureID);\n    }\n\n    public void Unbind(){\n        glBindTexture(GL_TEXTURE_2D, 0);\n    }\n}\n</code></pre>\n<p>And this is my Mesh classs where I am rendering whole cube.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Mesh {\n    private String vertexShaderSrc =&quot;&quot; +\n            &quot;#version 330 core\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;layout (location=0) in vec3 aPos;\\n&quot; +\n            &quot;layout (location=1) in vec4 aColor;\\n&quot; +\n            &quot;layout (location=2) in vec2 aTexCoords;\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;out vec4 fColor;\\n&quot; +\n            &quot;out vec2 fTexCoords;\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;uniform mat4 worldMatrix;\\n&quot; +\n            &quot;uniform mat4 projectionMatrix;\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;void main(){\\n&quot; +\n            &quot;    fColor = aColor;\\n&quot; +\n            &quot;    fTexCoords = aTexCoords;\\n&quot; +\n            &quot;    gl_Position = projectionMatrix * worldMatrix * vec4(aPos, 1.0);\\n&quot; +\n            &quot;}&quot;;\n\n    private String fragmentShaderSrc = &quot;&quot; +\n            &quot;#version 330 core\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;in vec4 fColor;\\n&quot; +\n            &quot;in vec2 fTexCoords;\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;out vec4 Color;\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;uniform sampler2D textureSampler;\\n&quot; +\n            &quot;void main(){\\n&quot; +\n            &quot;   // Color = fColor;\\n&quot; +\n            &quot;    Color = texture(textureSampler, fTexCoords);\\n&quot; +\n            &quot;}&quot;;\n\n    private int vertexID;\n    private int fragmentID;\n    private int shaderProgram;\n\n    private int VAO_ID;\n    private int VBO_ID;\n    private int EBO_ID;\n    private int colourVBO_ID;\n    private int textureID;\n\n    private float[] vertices;\n    private int[] triangles;    //MUST BE IN COUNTERCLOCKWISE ORDER\n    private float[] colours;\n    private float[] UVs;\n\n    //CAMERA\n    private float FOV;\n    private float nearPlane;\n    private float farPlane;\n    private int width;\n    private int height;\n\n    private String fileName;\n    private Matrix4f projectionMatrix;\n    private Matrix4f worldMatrix;\n\n    private Map&lt;String, Integer&gt; uniforms = new HashMap&lt;&gt;();\n    private Map&lt;String, Integer&gt; uniformsPosition = new HashMap&lt;&gt;();\n    private Map&lt;String, Integer&gt; uniformsTexture = new HashMap&lt;&gt;();\n    private WorldTransformation transformation;\n\n    private Texture texture;\n    public Mesh(){\n        this.transformation = new WorldTransformation();\n    }\n\n    public void SetTexture(String fileName) { this.fileName = fileName; }\n    public void SetRenderSettings(float FOV, float nearPlane, float farPlane, int width, int height){\n        this.FOV = FOV;\n        this.nearPlane = nearPlane;\n        this.farPlane = farPlane;\n        this.width = width;\n        this.height = height;\n    }\n    public void SetVertices(float[] vertices){\n        this.vertices = vertices;\n    }\n    public void SetTriangles(int[] triangles){\n        this.triangles = triangles;\n    }\n    public void SetColours(float[] colours) { this.colours = colours; }\n    public void SetUVs(float[] UVs) { this.UVs = UVs; }\n\n    public void Init(){\n\n        this.texture = new Texture(fileName);\n\n        //COMPILE AND LINK SHADERS\n        //************\n        // Vertex Shader\n        //************\n\n        vertexID = glCreateShader(GL_VERTEX_SHADER); //Load shader type\n        glShaderSource(vertexID, vertexShaderSrc); // Pass shader source to GPU\n        glCompileShader(vertexID); // Compile shader\n\n        //Error check in compilation process\n        int success = glGetShaderi(vertexID,GL_COMPILE_STATUS);\n        if(success == GL_FALSE){\n            int lenght = glGetShaderi(vertexID, GL_INFO_LOG_LENGTH);\n            System.out.println(&quot;ERROR: 'defaultShader.glsl: \\n\\t Vertex shader compilation failed !&quot;);\n            System.out.println(glGetShaderInfoLog(vertexID,lenght));\n        }\n\n        //************\n        // Fragment Shader\n        //************\n        fragmentID = glCreateShader(GL_FRAGMENT_SHADER); //Load shader type\n        glShaderSource(fragmentID, fragmentShaderSrc); // Pass shader source to GPU\n        glCompileShader(fragmentID); // Compile shader\n\n        //Error check in compilation process\n        success = glGetShaderi(fragmentID,GL_COMPILE_STATUS);\n        if(success == GL_FALSE){\n            int lenght = glGetShaderi(fragmentID, GL_INFO_LOG_LENGTH);\n            System.out.println(&quot;ERROR: 'defaultShader.glsl: \\n\\t Vertex shader compilation failed !&quot;);\n            System.out.println(glGetShaderInfoLog(fragmentID,lenght));\n        }\n\n\n        //************\n        // Link shaders and Check for errors\n        //************\n        shaderProgram = glCreateProgram();\n        glAttachShader(shaderProgram, vertexID);\n        glAttachShader(shaderProgram, fragmentID);\n        glLinkProgram(shaderProgram);\n\n        //Check for linking errors\n        success = glGetProgrami(shaderProgram, GL_LINK_STATUS);\n        if(success == GL_FALSE){\n            int lenght = glGetProgrami(shaderProgram, GL_INFO_LOG_LENGTH);\n            System.out.println(&quot;ERROR: 'defaultShader.glsl:' \\n\\t Linking of shaders failed !&quot;);\n            System.out.println(glGetProgramInfoLog(fragmentID,lenght));\n            assert false : &quot;&quot;;\n        }\n\n\n\n        int uniformLocation = glGetUniformLocation(shaderProgram,&quot;projectionMatrix&quot;);\n        uniforms.put(&quot;projectionMatrix&quot;,uniformLocation);\n\n        int uniformPosLocation = glGetUniformLocation(shaderProgram,&quot;worldMatrix&quot;);\n        uniformsPosition.put(&quot;worldMatrix&quot;,uniformPosLocation);\n\n        //TEXTURE \n        int uniformTexturePosition = glGetUniformLocation(shaderProgram, &quot;textureSampler&quot;);\n        uniformsTexture.put(&quot;textureSampler&quot;, uniformTexturePosition);\n\n\n        //************\n        // Generate VAO, VBO and EBO and send them to GPU\n        //************\n\n        // GENERATE VAO\n        VAO_ID = glGenVertexArrays();\n        glBindVertexArray(VAO_ID);\n\n        //POSITION VBO\n        // GENERATE VBO and upload VertexBuffer\n        VBO_ID = glGenBuffers();\n        //Create float buffer of vertices\n        FloatBuffer vertexBuffer = MemoryUtil.memAllocFloat(vertices.length);\n        vertexBuffer.put(vertices).flip();\n        glBindBuffer(GL_ARRAY_BUFFER, VBO_ID);\n        glBufferData(GL_ARRAY_BUFFER, vertexBuffer, GL_STATIC_DRAW);\n        glEnableVertexAttribArray(0);\n        glVertexAttribPointer(0, 3, GL_FLOAT, false, 0, 0);\n\n        //COLOR VBO\n        //GENERATE VBO and upload colourBuffer\n        colourVBO_ID = glGenBuffers();\n        FloatBuffer colourBuffer = MemoryUtil.memAllocFloat(colours.length);\n        colourBuffer.put(colours).flip();\n        glBindBuffer(GL_ARRAY_BUFFER, colourVBO_ID);\n        glBufferData(GL_ARRAY_BUFFER, colourBuffer, GL_STATIC_DRAW);\n        glEnableVertexAttribArray(1);\n        glVertexAttribPointer(1, 4, GL_FLOAT, false, 0,  0);\n\n        textureID = glGenBuffers();\n        FloatBuffer textureBuffer = MemoryUtil.memAllocFloat(UVs.length);\n        textureBuffer.put(UVs).flip();\n        glBindBuffer(GL_ARRAY_BUFFER, textureID);\n        glBufferData(GL_ARRAY_BUFFER, textureBuffer, GL_STATIC_DRAW);\n        glEnableVertexAttribArray(2);\n        glVertexAttribPointer(2, 2, GL_FLOAT, false, 0,  0);\n\n\n        //TRIANGLE VBO\n        //Create Indices and upload them\n        EBO_ID = glGenBuffers();\n        IntBuffer elementBuffer = MemoryUtil.memAllocInt(triangles.length);\n        elementBuffer.put(triangles).flip();\n        //Create EBO\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO_ID);\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, elementBuffer, GL_STATIC_DRAW);\n\n        glBindBuffer(GL_ARRAY_BUFFER,0);\n        glBindVertexArray(0);\n        // glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);\n\n        //Free Buffers\n        memFree(vertexBuffer);\n        memFree(colourBuffer);\n        memFree(elementBuffer);\n        memFree(textureBuffer);\n\n    }\n\n    public void Render(){\n\n        //Bind shader program\n        glUseProgram(shaderProgram);\n\n        glActiveTexture(GL_TEXTURE0);\n        texture.Bind();\n        SetTextureSample(&quot;textureSampler&quot;, 0);\n\n        SetUniform(&quot;projectionMatrix&quot;, projectionMatrix, uniforms);\n        SetUniform(&quot;worldMatrix&quot;, worldMatrix, uniformsPosition);\n\n        //Bind VAO currently in use\n        glBindVertexArray(VAO_ID);\n\n        //Enable vertex atribute pointers\n        glEnableVertexAttribArray(0);\n        glEnableVertexAttribArray(1);\n        //Draw triangles\n        glDrawElements(GL_TRIANGLES,triangles.length, GL_UNSIGNED_INT,0);\n\n        //Unbind everything\n        glDisableVertexAttribArray(0);\n        glDisableVertexAttribArray(1);\n        glBindVertexArray(0);\n        glUseProgram(0);\n\n    }\n\n    void SetUniform(String uniformName, Matrix4f value, Map&lt;String, Integer&gt; uniformsMap){\n        try (MemoryStack stack = MemoryStack.stackPush()) {\n            FloatBuffer fb = stack.mallocFloat(16);\n            value.get(fb);\n            glUniformMatrix4fv(uniformsMap.get(uniformName), false, fb);\n        }\n    }\n\n    void SetTextureSample(String uniformName, int slot){\n        int location = glGetUniformLocation(shaderProgram, uniformName);\n        glUniform1i(location, slot);\n    }\n\n\n    public void SetWorldMetrix(Matrix4f worldMatrix){\n         this.worldMatrix = worldMatrix;\n    }\n\n    public void SetProjectionMatrix(Matrix4f projectionMatrix){\n        this.projectionMatrix = projectionMatrix;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","linux","ubuntu-20.04","rider"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643897840,"post_id":70970686,"comment_id":125465194,"body_markdown":"You need to set one of those environment variables.  Like the error message says.","body":"You need to set one of those environment variables.  Like the error message says."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643898080,"post_id":70970686,"comment_id":125465301,"body_markdown":"Since you are using OpenJDK 11 installed from the Ubuntu package manager, this will probably do what is needed `$ export JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64/`.","body":"Since you are using OpenJDK 11 installed from the Ubuntu package manager, this will probably do what is needed <code>$ export JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;java-1.11.0-openjdk-amd64&#47;</code>."}],"owner":{"account_id":2201052,"reputation":2134,"user_id":1945443,"accept_rate":80,"display_name":"Amirhossein Yari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643898328,"answer_count":0,"score":0,"last_activity_date":1643888657,"creation_date":1643888657,"question_id":70970686,"body_markdown":"I want to run JetBrains Rider 2021.3 by `rider.sh` but I get this error:\r\n\r\n    No JRE found. Please make sure $RIDER_JDK, $JDK_HOME, or $JAVA_HOME point to valid JRE installation.\r\n\r\nI used this commands:\r\n\r\n    sudo apt install default-jdk\r\n    sudo apt install default-jre\r\nand my current java version is :\r\n\r\n    openjdk 11.0.13 2021-10-19\r\n    OpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\r\nbut I cant start rider.\r\n","title":"No JRE found. Please make sure $RIDER_JDK, $JDK_HOME, or $JAVA_HOME point to valid JRE installation","body":"<p>I want to run JetBrains Rider 2021.3 by <code>rider.sh</code> but I get this error:</p>\n<pre><code>No JRE found. Please make sure $RIDER_JDK, $JDK_HOME, or $JAVA_HOME point to valid JRE installation.\n</code></pre>\n<p>I used this commands:</p>\n<pre><code>sudo apt install default-jdk\nsudo apt install default-jre\n</code></pre>\n<p>and my current java version is :</p>\n<pre><code>openjdk 11.0.13 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\n</code></pre>\n<p>but I cant start rider.</p>\n"},{"tags":["java","spring","spring-boot","version-control","flyway"],"comments":[{"owner":{"account_id":1940767,"reputation":17954,"user_id":1747018,"accept_rate":100,"display_name":"Yogesh_D"},"score":0,"creation_date":1643884753,"post_id":70969660,"comment_id":125460016,"body_markdown":"Why not use a feature flag kinda of thing with `@EventListener(ApplicationReadyEvent.class)` and/or `@Conditional` that checks the feature flag.","body":"Why not use a feature flag kinda of thing with <code>@EventListener(ApplicationReadyEvent.class)</code> and/or <code>@Conditional</code> that checks the feature flag."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1643888680,"post_id":70969660,"comment_id":125461561,"body_markdown":"I do not know any framework like Flyway for doing what you want. One way is to use something like this: https://stackoverflow.com/questions/30347233/spring-scheduling-task-run-only-once","body":"I do not know any framework like Flyway for doing what you want. One way is to use something like this: <a href=\"https://stackoverflow.com/questions/30347233/spring-scheduling-task-run-only-once\" title=\"spring scheduling task run only once\">stackoverflow.com/questions/30347233/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24142791,"reputation":76,"user_id":18108815,"display_name":"gl1tor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643887886,"creation_date":1643887886,"answer_id":70970539,"question_id":70969660,"body_markdown":"There are many ways to execute code upon startup in a spring application. Take a look [here][1] for some of them.  The code would be run every single time the application starts, so in order to apply the fix only once you could: \r\n\r\n# Just let it run once\r\n\r\nThe simplest solution would be to deploy the version with the fix, let the code run automatically and then deploy the next version with the fix removed. Though not very elegant and not recommended it would only execute once in a simple setup. Depending on the deployment and runtime setup there might be some risks to that though, or even impossible.\r\n\r\nYou seem to be looking for some protection against multiple execution of that fix. For instance because the application is started again after being deployed, which essentially boils done to either making multiple executions possible or prevent them by remembering state:\r\n\r\n\r\n# Make the changes idempotent\r\n\r\nYou won&#39;t need any tool if you&#39;re able to make the fix operation idempotent, changing the entities in question only on its initial application. Say you created users with a faulty email address, you&#39;d check for a faulty email address and only apply the fix if you found your fix not already applied. That way the fix can run multiple times without causing any harm. Not all operations can be made idempotent though.\r\n\r\n# Preserve state between runs\r\n\r\nThe idea behind this is to remember the successfull execution of your fix. Flyway does this for database migrations. Again it depends on the execution environment to determine what kind of storage is sufficient here.\r\n\r\n- Use a file on the filesystem to mark the completion. Only execute the fix if the file&#39;s missing and create it afterwards. This solution might fail in a containerized enviroment when the container is recreated or in a cluster setup.\r\n- Use a database to mark the completition. You can create f.i. a H2 database, create an empty table with flyway and check for the empty table before executing your fix, then insert a row into the table afterwards. Using a h2 database safes you from having another service running, but is subject to the same limitations the file solution is.\r\n- Use an external service like redis to protect against multiple execution of your script. You could also protect the fix against multiple concurrent executions using this one.\r\n\r\n\r\n  [1]: https://www.baeldung.com/running-setup-logic-on-startup-in-spring","title":"Version control tool for spring-boot based java application, Flyway like","body":"<p>There are many ways to execute code upon startup in a spring application. Take a look <a href=\"https://www.baeldung.com/running-setup-logic-on-startup-in-spring\" rel=\"nofollow noreferrer\">here</a> for some of them.  The code would be run every single time the application starts, so in order to apply the fix only once you could:</p>\n<h1>Just let it run once</h1>\n<p>The simplest solution would be to deploy the version with the fix, let the code run automatically and then deploy the next version with the fix removed. Though not very elegant and not recommended it would only execute once in a simple setup. Depending on the deployment and runtime setup there might be some risks to that though, or even impossible.</p>\n<p>You seem to be looking for some protection against multiple execution of that fix. For instance because the application is started again after being deployed, which essentially boils done to either making multiple executions possible or prevent them by remembering state:</p>\n<h1>Make the changes idempotent</h1>\n<p>You won't need any tool if you're able to make the fix operation idempotent, changing the entities in question only on its initial application. Say you created users with a faulty email address, you'd check for a faulty email address and only apply the fix if you found your fix not already applied. That way the fix can run multiple times without causing any harm. Not all operations can be made idempotent though.</p>\n<h1>Preserve state between runs</h1>\n<p>The idea behind this is to remember the successfull execution of your fix. Flyway does this for database migrations. Again it depends on the execution environment to determine what kind of storage is sufficient here.</p>\n<ul>\n<li>Use a file on the filesystem to mark the completion. Only execute the fix if the file's missing and create it afterwards. This solution might fail in a containerized enviroment when the container is recreated or in a cluster setup.</li>\n<li>Use a database to mark the completition. You can create f.i. a H2 database, create an empty table with flyway and check for the empty table before executing your fix, then insert a row into the table afterwards. Using a h2 database safes you from having another service running, but is subject to the same limitations the file solution is.</li>\n<li>Use an external service like redis to protect against multiple execution of your script. You could also protect the fix against multiple concurrent executions using this one.</li>\n</ul>\n"}],"owner":{"account_id":2969043,"reputation":83,"user_id":2521564,"display_name":"Pablo Cavalieri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643887886,"creation_date":1643884220,"question_id":70969660,"body_markdown":"**Problem description**   \r\nI have a spring-boot based application that creates entities on a 3rd party environment.   \r\nThe application is deployed on prod.   \r\nI&#39;ve discovered a bug whose fix required changes on the already created entities on the 3rd party prod entities.  \r\n**Expected solution**   \r\nThe the 3rd party prod environment entities are fix running a java based script.   \r\nI want that script to be run in prod only the first time the application version with the fix is deployed.    \r\nI&#39;m looking for the same functionality Flyway provided for database entities. I could use Flayway but since my application does not uses a database, I don&#39;t want to use a database versioning control tool on a non database application, in order to do not couple the database versioning concept to a non database application.  \r\n**Question**       \r\nIs there a library/tool that provides the functionality I&#39;m looking for?","title":"Version control tool for spring-boot based java application, Flyway like","body":"<p><strong>Problem description</strong><br />\nI have a spring-boot based application that creates entities on a 3rd party environment.<br />\nThe application is deployed on prod.<br />\nI've discovered a bug whose fix required changes on the already created entities on the 3rd party prod entities.<br />\n<strong>Expected solution</strong><br />\nThe the 3rd party prod environment entities are fix running a java based script.<br />\nI want that script to be run in prod only the first time the application version with the fix is deployed.<br />\nI'm looking for the same functionality Flyway provided for database entities. I could use Flayway but since my application does not uses a database, I don't want to use a database versioning control tool on a non database application, in order to do not couple the database versioning concept to a non database application.<br />\n<strong>Question</strong><br />\nIs there a library/tool that provides the functionality I'm looking for?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":19171994,"reputation":127,"user_id":14005535,"display_name":"Shephard"},"score":0,"creation_date":1643788832,"post_id":70952108,"comment_id":125429187,"body_markdown":"Also tried [this](https://stackoverflow.com/questions/14592968/open-jpa-saving-onetomany-foreign-key-not-set?fbclid=IwAR3LoiLmzTUTYDGfa5r041OUxYuZny2PtbJHGlup7sQV-rURR81M_-4ashc)","body":"Also tried <a href=\"https://stackoverflow.com/questions/14592968/open-jpa-saving-onetomany-foreign-key-not-set?fbclid=IwAR3LoiLmzTUTYDGfa5r041OUxYuZny2PtbJHGlup7sQV-rURR81M_-4ashc\">this</a>"},{"owner":{"account_id":21339371,"reputation":1,"user_id":15710089,"display_name":"Wansoft"},"score":1,"creation_date":1664475929,"post_id":70952108,"comment_id":130486759,"body_markdown":"This answer maybe can help you :D https://stackoverflow.com/a/48883398","body":"This answer maybe can help you :D <a href=\"https://stackoverflow.com/a/48883398\">stackoverflow.com/a/48883398</a>"}],"owner":{"account_id":19171994,"reputation":127,"user_id":14005535,"display_name":"Shephard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2594,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1643887752,"creation_date":1643788501,"question_id":70952108,"body_markdown":"I have 2 tables with one-to-many relation on the owner class (Person) and many-to-one on the child class (Email)\r\n\r\nMy problem is that in the child class&#39; foreign key is (person_id) is always null when I want to save my Person object. I tried different things using other questions&#39; answers, but no luck.\r\n\r\nI would like to solve this in an annotation approach, if it is possible.\r\n\r\nPerson Class:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;PERSON&quot;)\r\npublic class Person {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_PERSON&quot;)\r\n    @SequenceGenerator(name=&quot;SEQ_PERSON&quot;, sequenceName=&quot;SEQ_PERSON&quot;, allocationSize=1)\r\n    @Column(name = &quot;person_id&quot;)\r\n    private Long personId;\r\n\r\n    @OneToMany(mappedBy=&quot;person&quot;, cascade=CascadeType.ALL)\r\n    private List&lt;Email&gt; email;\r\n\r\n    // getters and setters\r\n\r\n}\r\n```\r\n\r\nEmail class:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;EMAIL&quot;)\r\npublic class Email{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_EMAIL&quot;)\r\n    @SequenceGenerator(name=&quot;SEQ_EMAIL&quot;, sequenceName=&quot;SEQ_EMAIL&quot;, allocationSize=1)\r\n    @Column(name = &quot;email_id&quot;)\r\n    private Long emailId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;person_id&quot;, referencedColumnName=&quot;person_id&quot;, insertable = true)\r\n    private Person person;\r\n\r\n    // getters and setters\r\n\r\n}\r\n```\r\n\r\nI get no exception / errors when I use this.\r\n\r\nWhen I change the ```JoinColumn``` to ``` @JoinColumn(name=&quot;person_id&quot;, referencedColumnName=&quot;person_id&quot;, nullable = false, updatable = false, insertable = true) ``` then I get this error: org.hibernate.PropertyValueException: not-null property references a null or transient value: com.test.Email.person\r\n\r\nI tried to change the Person&#39;s email setter like this, nothing changed:\r\n\r\n```\r\npublic synchronized void setEmail(List&lt;Email&gt; email) {\r\n\r\n   this.email=email;\r\n   for(Email em: email) {\r\n      em.setPerson(this);\r\n   }\r\n}\r\n```\r\n[source](https://stackoverflow.com/a/25804077/14005535)\r\n\r\nI have a Person object, with 2 emails (as a test object to save, every column is filled, except the FK in Email table), do I have to set the FK everytime manually? (it doesn&#39;t look good, if I have multiple one-to-many variables)\r\n\r\nEdit: I tried [this](https://stackoverflow.com/a/40977829/14005535) Which is working, but my problem with that if I have a very deep data structure with a lot of One-To-Many relations, I have to implement this to every variable and then save.. So, is there a better solution with pure annotations / getters-setters ? ","title":"JPA not saving foreign key in one-to-many relation","body":"<p>I have 2 tables with one-to-many relation on the owner class (Person) and many-to-one on the child class (Email)</p>\n<p>My problem is that in the child class' foreign key is (person_id) is always null when I want to save my Person object. I tried different things using other questions' answers, but no luck.</p>\n<p>I would like to solve this in an annotation approach, if it is possible.</p>\n<p>Person Class:</p>\n<pre><code>@Entity\n@Table(name=&quot;PERSON&quot;)\npublic class Person {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_PERSON&quot;)\n    @SequenceGenerator(name=&quot;SEQ_PERSON&quot;, sequenceName=&quot;SEQ_PERSON&quot;, allocationSize=1)\n    @Column(name = &quot;person_id&quot;)\n    private Long personId;\n\n    @OneToMany(mappedBy=&quot;person&quot;, cascade=CascadeType.ALL)\n    private List&lt;Email&gt; email;\n\n    // getters and setters\n\n}\n</code></pre>\n<p>Email class:</p>\n<pre><code>@Entity\n@Table(name=&quot;EMAIL&quot;)\npublic class Email{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_EMAIL&quot;)\n    @SequenceGenerator(name=&quot;SEQ_EMAIL&quot;, sequenceName=&quot;SEQ_EMAIL&quot;, allocationSize=1)\n    @Column(name = &quot;email_id&quot;)\n    private Long emailId;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;person_id&quot;, referencedColumnName=&quot;person_id&quot;, insertable = true)\n    private Person person;\n\n    // getters and setters\n\n}\n</code></pre>\n<p>I get no exception / errors when I use this.</p>\n<p>When I change the <code>JoinColumn</code> to <code>@JoinColumn(name=&quot;person_id&quot;, referencedColumnName=&quot;person_id&quot;, nullable = false, updatable = false, insertable = true)</code> then I get this error: org.hibernate.PropertyValueException: not-null property references a null or transient value: com.test.Email.person</p>\n<p>I tried to change the Person's email setter like this, nothing changed:</p>\n<pre><code>public synchronized void setEmail(List&lt;Email&gt; email) {\n\n   this.email=email;\n   for(Email em: email) {\n      em.setPerson(this);\n   }\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/25804077/14005535\">source</a></p>\n<p>I have a Person object, with 2 emails (as a test object to save, every column is filled, except the FK in Email table), do I have to set the FK everytime manually? (it doesn't look good, if I have multiple one-to-many variables)</p>\n<p>Edit: I tried <a href=\"https://stackoverflow.com/a/40977829/14005535\">this</a> Which is working, but my problem with that if I have a very deep data structure with a lot of One-To-Many relations, I have to implement this to every variable and then save.. So, is there a better solution with pure annotations / getters-setters ?</p>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1643888743,"post_id":70970447,"comment_id":125461582,"body_markdown":"Depends really on the spring internals. I.e. if the fields are stored in ordered/sorted collections or in unordered/unsorted ones.","body":"Depends really on the spring internals. I.e. if the fields are stored in ordered/sorted collections or in unordered/unsorted ones."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643891664,"post_id":70970447,"comment_id":125462626,"body_markdown":"There is no garantueed ordering. Spring uses reflection to obtain the autowired fields, so it depends on the actual underlying implementation on reflection in which order those fields are being returned.","body":"There is no garantueed ordering. Spring uses reflection to obtain the autowired fields, so it depends on the actual underlying implementation on reflection in which order those fields are being returned."},{"owner":{"account_id":7644014,"reputation":19,"user_id":5795274,"display_name":"Chicov"},"score":0,"creation_date":1643895489,"post_id":70970447,"comment_id":125464100,"body_markdown":"Thanks for your replies, So  if i understand, when i launch my web application two times, then the ordering will not be necessary the same for each restart ?","body":"Thanks for your replies, So  if i understand, when i launch my web application two times, then the ordering will not be necessary the same for each restart ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1643896489,"post_id":70970447,"comment_id":125464568,"body_markdown":"The order of injection can differ, the fields in your class will still be the same. Although when running in the same JVM and underlying system it probably will be the same.","body":"The order of injection can differ, the fields in your class will still be the same. Although when running in the same JVM and underlying system it probably will be the same."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643898551,"post_id":70970447,"comment_id":125465553,"body_markdown":"See also: https://stackoverflow.com/questions/22760615","body":"See also: <a href=\"https://stackoverflow.com/questions/22760615\">stackoverflow.com/questions/22760615</a>"},{"owner":{"account_id":7644014,"reputation":19,"user_id":5795274,"display_name":"Chicov"},"score":0,"creation_date":1643969809,"post_id":70970447,"comment_id":125485635,"body_markdown":"@Deinum Yes, it seems to be logic because my problem was that my application launches perfectly in local but not in a DEV pod.","body":"@Deinum Yes, it seems to be logic because my problem was that my application launches perfectly in local but not in a DEV pod."}],"owner":{"account_id":7644014,"reputation":19,"user_id":5795274,"display_name":"Chicov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643887430,"creation_date":1643887430,"question_id":70970447,"body_markdown":"Here is an example of what i want to understand :\r\n```\r\n@Component\r\nclass Foo {\r\n   \r\n   @Autowired B b; // B is @Component\r\n   @Autowired C c; // C is @Component\r\n   @Autowired A a; // A is @Component\r\n\r\n}\r\n```\r\nWhat is the ordering that spring takes for injecting A, B and C beans in Foo bean :\r\n\r\n 1. It starts with B beacause it is the first declared ?\r\n 2. It starts with A because by default it is the first in alphabetical order ?\r\n 3. It injects beans randomly ?\r\n\r\nI understand that @Autowired is not recommanded and we should use constructor for dependency injection instead but just i want to know how spring behaves by default.\r\n\r\nThanks","title":"What is the default autowiring ordering in a single bean class","body":"<p>Here is an example of what i want to understand :</p>\n<pre><code>@Component\nclass Foo {\n   \n   @Autowired B b; // B is @Component\n   @Autowired C c; // C is @Component\n   @Autowired A a; // A is @Component\n\n}\n</code></pre>\n<p>What is the ordering that spring takes for injecting A, B and C beans in Foo bean :</p>\n<ol>\n<li>It starts with B beacause it is the first declared ?</li>\n<li>It starts with A because by default it is the first in alphabetical order ?</li>\n<li>It injects beans randomly ?</li>\n</ol>\n<p>I understand that @Autowired is not recommanded and we should use constructor for dependency injection instead but just i want to know how spring behaves by default.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":2524916,"reputation":40766,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1502803806,"creation_date":1502799405,"answer_id":45692687,"question_id":45692179,"body_markdown":"It looks like you are missing `LocalValidatorFactoryBean` definition in your application configuration. Below you can find an example of `Application` class that defines two beans: `LocalValidatorFactoryBean` and `MessageSource` that uses `messages.properties` file.\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.MessageSource;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.support.ReloadableResourceBundleMessageSource;\r\n    import org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        @Bean\r\n        public MessageSource messageSource() {\r\n            ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n            messageSource.setBasename(&quot;classpath:messages&quot;);\r\n            messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            return messageSource;\r\n        }\r\n    \r\n        @Bean\r\n        public LocalValidatorFactoryBean validator() {\r\n            LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\r\n            bean.setValidationMessageSource(messageSource());\r\n            return bean;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nHaving `LocalValidatorFactoryBean` bean defined you can use custom validation message like:\r\n\r\n    @NotEmpty(message = &quot;{validation.mail.notEmpty}&quot;)\r\n    @Email\r\n    private String email;\r\n\r\nand **messages.properties**:\r\n\r\n    validation.mail.notEmpty=E-mail cannot be empty!\r\n\r\nand Thymeleaf template file with:\r\n\r\n    &lt;p th:if=&quot;${#fields.hasErrors(&#39;email&#39;)}&quot; th:errors=&quot;*{email}&quot;&gt;Name Error&lt;/p&gt;\r\n\r\n## Sample application\r\n\r\n&gt; https://github.com/wololock/stackoverflow-answers/tree/master/45692179\r\n\r\nI have prepared sample Spring Boot application that reflects your problem. Feel free to clone it and run it locally. It will display translated validation message if value posted with form does not meet `@NotEmpty` and `@Email` validation.\r\n\r\n## `WebMvcConfigurerAdapter` configuration\r\n\r\nIn case of extending `WebMvcConfigurerAdapter` you will have to provide validator by overriding `getValidator()` method from parent class, e.g.:\r\n\r\n    import org.springframework.context.MessageSource;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.support.ReloadableResourceBundleMessageSource;\r\n    import org.springframework.validation.Validator;\r\n    import org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfiguration extends WebMvcConfigurerAdapter {\r\n\r\n        @Bean\r\n        public MessageSource messageSource() {\r\n            ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n            messageSource.setBasename(&quot;classpath:messages&quot;);\r\n            messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            return messageSource;\r\n        }\r\n\r\n        @Bean\r\n        @Override\r\n        public Validator getValidator() {\r\n            LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\r\n            bean.setValidationMessageSource(messageSource());\r\n            return bean;\r\n        }\r\n\r\n        // other methods...\r\n    }\r\n\r\nOtherwise if you define `LocalValidatorFactoryBean` bean in other place it will get overridden and there will be no effect. \r\n\r\nI hope it helps.","title":"Spring Boot validation message is not being resolved","body":"<p>It looks like you are missing <code>LocalValidatorFactoryBean</code> definition in your application configuration. Below you can find an example of <code>Application</code> class that defines two beans: <code>LocalValidatorFactoryBean</code> and <code>MessageSource</code> that uses <code>messages.properties</code> file.</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.MessageSource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.support.ReloadableResourceBundleMessageSource;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\n\n@SpringBootApplication\npublic class Application {\n\n    @Bean\n    public MessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n        messageSource.setBasename(\"classpath:messages\");\n        messageSource.setDefaultEncoding(\"UTF-8\");\n        return messageSource;\n    }\n\n    @Bean\n    public LocalValidatorFactoryBean validator() {\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\n        bean.setValidationMessageSource(messageSource());\n        return bean;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Having <code>LocalValidatorFactoryBean</code> bean defined you can use custom validation message like:</p>\n\n<pre><code>@NotEmpty(message = \"{validation.mail.notEmpty}\")\n@Email\nprivate String email;\n</code></pre>\n\n<p>and <strong>messages.properties</strong>:</p>\n\n<pre><code>validation.mail.notEmpty=E-mail cannot be empty!\n</code></pre>\n\n<p>and Thymeleaf template file with:</p>\n\n<pre><code>&lt;p th:if=\"${#fields.hasErrors('email')}\" th:errors=\"*{email}\"&gt;Name Error&lt;/p&gt;\n</code></pre>\n\n<h2>Sample application</h2>\n\n<blockquote>\n  <p><a href=\"https://github.com/wololock/stackoverflow-answers/tree/master/45692179\" rel=\"noreferrer\">https://github.com/wololock/stackoverflow-answers/tree/master/45692179</a></p>\n</blockquote>\n\n<p>I have prepared sample Spring Boot application that reflects your problem. Feel free to clone it and run it locally. It will display translated validation message if value posted with form does not meet <code>@NotEmpty</code> and <code>@Email</code> validation.</p>\n\n<h2><code>WebMvcConfigurerAdapter</code> configuration</h2>\n\n<p>In case of extending <code>WebMvcConfigurerAdapter</code> you will have to provide validator by overriding <code>getValidator()</code> method from parent class, e.g.:</p>\n\n<pre><code>import org.springframework.context.MessageSource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.support.ReloadableResourceBundleMessageSource;\nimport org.springframework.validation.Validator;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\n\n@Configuration\n@EnableWebMvc\npublic class WebConfiguration extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public MessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n        messageSource.setBasename(\"classpath:messages\");\n        messageSource.setDefaultEncoding(\"UTF-8\");\n        return messageSource;\n    }\n\n    @Bean\n    @Override\n    public Validator getValidator() {\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\n        bean.setValidationMessageSource(messageSource());\n        return bean;\n    }\n\n    // other methods...\n}\n</code></pre>\n\n<p>Otherwise if you define <code>LocalValidatorFactoryBean</code> bean in other place it will get overridden and there will be no effect. </p>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":3475140,"reputation":2491,"user_id":3019956,"accept_rate":33,"display_name":"want2learn"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1527869541,"creation_date":1527869541,"answer_id":50647411,"question_id":45692179,"body_markdown":"Not sure which version of spring boot you are using. I am using Spring boot `2.0.1.RELEASE`. A clearer solution would be move all your validation messages to `ValidationMessages.properties`. This way you don&#39;t have to override the auto-configured `Validator()` and setting the `MessageSource`.","title":"Spring Boot validation message is not being resolved","body":"<p>Not sure which version of spring boot you are using. I am using Spring boot <code>2.0.1.RELEASE</code>. A clearer solution would be move all your validation messages to <code>ValidationMessages.properties</code>. This way you don't have to override the auto-configured <code>Validator()</code> and setting the <code>MessageSource</code>.</p>\n"},{"tags":[],"owner":{"account_id":5564847,"reputation":405,"user_id":4412553,"display_name":"A.Mushate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553077501,"creation_date":1553077501,"answer_id":55258483,"question_id":45692179,"body_markdown":"For rest controllers you will then have to add @Valid annotation on method parameter&#39;s request body. e.g\r\n    \r\n    @PostMapping\r\n    public User create(@Valid @RequestBody User user){\r\n      //...\r\n    }\r\n","title":"Spring Boot validation message is not being resolved","body":"<p>For rest controllers you will then have to add @Valid annotation on method parameter's request body. e.g</p>\n\n<pre><code>@PostMapping\npublic User create(@Valid @RequestBody User user){\n  //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15458614,"reputation":73,"user_id":11151853,"display_name":"Ramesh Singh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619402036,"creation_date":1590093375,"answer_id":61943412,"question_id":45692179,"body_markdown":"I am using 2.2.7 Release of Spring boot and it worked by just changing the property file name to ValidationMessages.properties and no other config required.","title":"Spring Boot validation message is not being resolved","body":"<p>I am using 2.2.7 Release of Spring boot and it worked by just changing the property file name to ValidationMessages.properties and no other config required.</p>\n"},{"tags":[],"owner":{"account_id":16163497,"reputation":1,"user_id":11669000,"display_name":"user111"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1610793353,"creation_date":1610793353,"answer_id":65748669,"question_id":45692179,"body_markdown":"after struggling with this problem ,i just reboot the computer and everything works fine \r\ni am using spring boot version   2.4.2 ","title":"Spring Boot validation message is not being resolved","body":"<p>after struggling with this problem ,i just reboot the computer and everything works fine\ni am using spring boot version   2.4.2</p>\n"},{"tags":[],"owner":{"account_id":19954866,"reputation":113,"user_id":14623694,"display_name":"Wais Shuja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627569201,"creation_date":1623418539,"answer_id":67937995,"question_id":45692179,"body_markdown":"I had the same issue and after reading the answers here I found out that the file name should only be **&#39;ValidationMessages.properties&#39;**.\r\nI first named it something else and it wasn&#39;t working for me either. until I renamed it to **ValidationMessages.properties**","title":"Spring Boot validation message is not being resolved","body":"<p>I had the same issue and after reading the answers here I found out that the file name should only be <strong>'ValidationMessages.properties'</strong>.\nI first named it something else and it wasn't working for me either. until I renamed it to <strong>ValidationMessages.properties</strong></p>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643887429,"creation_date":1627561894,"answer_id":68575987,"question_id":45692179,"body_markdown":"\r\n\r\nregarding to the answer of **Wais Shuja** and **Ramesh Singh** I confirm with it because I think this is the proper solution you looking for. I expand their answer:\r\n\r\nIn folder `/resources/` you can create as much files as languages you are support. In my web app I use German and English. Therefore, I create these two files:\r\n\r\n     - ValidationMessages_en.properties\r\n     - ValidationMessages_de.properties\r\n\r\nThen, thanks to Spring magic, you can do this:\r\n\r\n    @NotNull(message = &quot;{error.mandatory}&quot;)\r\n    @Size(min = 1, message = &quot;{error.mandatory}&quot;)\r\n    private String forname;\r\n\r\nDepending on the language stored in the `CookieLocaleResolver` Spring chooses appropriate file and inserts the text.\r\n\r\n","title":"Spring Boot validation message is not being resolved","body":"<p>regarding to the answer of <strong>Wais Shuja</strong> and <strong>Ramesh Singh</strong> I confirm with it because I think this is the proper solution you looking for. I expand their answer:</p>\n<p>In folder <code>/resources/</code> you can create as much files as languages you are support. In my web app I use German and English. Therefore, I create these two files:</p>\n<pre><code> - ValidationMessages_en.properties\n - ValidationMessages_de.properties\n</code></pre>\n<p>Then, thanks to Spring magic, you can do this:</p>\n<pre><code>@NotNull(message = &quot;{error.mandatory}&quot;)\n@Size(min = 1, message = &quot;{error.mandatory}&quot;)\nprivate String forname;\n</code></pre>\n<p>Depending on the language stored in the <code>CookieLocaleResolver</code> Spring chooses appropriate file and inserts the text.</p>\n"},{"tags":[],"owner":{"account_id":9970057,"reputation":25,"user_id":7376440,"display_name":"&#214;mer Bulut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643887268,"creation_date":1643887268,"answer_id":70970409,"question_id":45692179,"body_markdown":"    @Configuration\r\n    public class LocalizationMessageSource {\r\n    \r\n        @Bean\r\n        public MessageSource messageSource() {\r\n            ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n            messageSource.setBasename(&quot;classpath:messages&quot;);\r\n            messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            return messageSource;\r\n        }\r\n    \r\n        @Bean\r\n        public LocalValidatorFactoryBean validator() {\r\n            LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\r\n            bean.setValidationMessageSource(messageSource());\r\n            return bean;\r\n        }\r\n    }\r\n\r\nAnd you should validation anotation with blank beyween message parameter like this ; \r\n\r\n    public class User{\r\n      private @NotNull(message = &quot;{serviceNumber.required}&quot;) String serviceNumber;\r\n    \r\n    }\r\n\r\nThis usage is wrong one.\r\n\r\n    public class User{\r\n      private @NotNull(message=&quot;{serviceNumber.required}&quot;) String serviceNumber;  \r\n    }\r\n\r\n ","title":"Spring Boot validation message is not being resolved","body":"<pre><code>@Configuration\npublic class LocalizationMessageSource {\n\n    @Bean\n    public MessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n        messageSource.setBasename(&quot;classpath:messages&quot;);\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n        return messageSource;\n    }\n\n    @Bean\n    public LocalValidatorFactoryBean validator() {\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\n        bean.setValidationMessageSource(messageSource());\n        return bean;\n    }\n}\n</code></pre>\n<p>And you should validation anotation with blank beyween message parameter like this ;</p>\n<pre><code>public class User{\n  private @NotNull(message = &quot;{serviceNumber.required}&quot;) String serviceNumber;\n\n}\n</code></pre>\n<p>This usage is wrong one.</p>\n<pre><code>public class User{\n  private @NotNull(message=&quot;{serviceNumber.required}&quot;) String serviceNumber;  \n}\n</code></pre>\n"}],"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58295,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":45692687,"answer_count":8,"score":30,"last_activity_date":1643887429,"creation_date":1502797517,"question_id":45692179,"body_markdown":"I am having trouble getting my validation message to be resolved.\r\n\r\nI have been searching and reading through the web and SO for some hours now, I want to relate the question with the marked answer of https://stackoverflow.com/questions/4805168/customize-spring-validation-error\r\n\r\nI do have a `MessageSource` bean defined and the *messages.properties* it getting read correctly, as I also use it for regular text to be displayed with `th:text=&quot;#{some.prop.name}`, which does work absolutely fine.\r\nIt is just the validation error that won&#39;t work the way it should.\r\nI&#39;m sure it&#39;s a stupid mistake I just overlook...\r\nThe validation itself works fine.\r\n\r\nConstraint:\r\n    \r\n    @NotEmpty(message=&quot;{validation.mail.notEmpty}&quot;)\r\n    @Email()\r\n    private String mail;\r\n\r\nmessages.properties:\r\n\r\n    # Validation\r\n    validation.mail.notEmpty=The mail must not be empty!\r\n\r\nTemplate part:\r\n\r\n    &lt;span th:if=&quot;${#fields.hasErrors(&#39;mail&#39;)}&quot; th:errors=&quot;*{mail}&quot;&gt;&lt;/span&gt;\r\n\r\nThe displayed text:\r\n\r\n    {validation.mail.notEmpty}\r\n\r\nI tried a lot of variation, all without success.\r\n\r\n    @NotEmpty(message=&quot;validation.mail.notEmpty&quot;)\r\n    @NotEmpty(message=&quot;#{validation.mail.notEmpty}&quot;)\r\n\r\nWill just show the exact value of the messages string, no parsing.\r\n\r\n    &lt;span th:if=&quot;${#fields.hasErrors(&#39;mail&#39;)}&quot; th:errors=&quot;${mail}&quot;&gt;&lt;/span&gt;\r\n    &lt;span th:if=&quot;${#fields.hasErrors(&#39;mail&#39;)}&quot; th:errors=&quot;#{mail}&quot;&gt;&lt;/span&gt;\r\n    &lt;span th:if=&quot;${#fields.hasErrors(&#39;mail&#39;)}&quot; th:errors=&quot;#{*{mail}}&quot;&gt;&lt;/span&gt;\r\n    &lt;span th:if=&quot;${#fields.hasErrors(&#39;mail&#39;)}&quot; th:errors=&quot;#{__*{mail}__}&quot;&gt;&lt;/span&gt;\r\n\r\nWill result in an error.\r\n\r\n---\r\n\r\nEDIT:\r\n\r\nAfter debugging, I stumbled up on this:\r\n\r\nClass: `org.springframework.context.support.MessageSourceSupport`\r\n\r\nMethod: `formatMessage(String msg, Object[] args, Locale locale)`\r\n\r\nwill be called with\r\n\r\n`formatMessage(&quot;{validation.mail.notEmpty}&quot;, null, locale /*German Locale*/)`\r\n\r\nAnd it will run into `if (messageFormat == INVALID_MESSAGE_FORMAT) {`\r\n\r\nSo... my message format is not correct. This is way out of my scope/knowledge. Anyone knows what that means?","title":"Spring Boot validation message is not being resolved","body":"<p>I am having trouble getting my validation message to be resolved.</p>\n\n<p>I have been searching and reading through the web and SO for some hours now, I want to relate the question with the marked answer of <a href=\"https://stackoverflow.com/questions/4805168/customize-spring-validation-error\">Customize spring validation error</a></p>\n\n<p>I do have a <code>MessageSource</code> bean defined and the <em>messages.properties</em> it getting read correctly, as I also use it for regular text to be displayed with <code>th:text=\"#{some.prop.name}</code>, which does work absolutely fine.\nIt is just the validation error that won't work the way it should.\nI'm sure it's a stupid mistake I just overlook...\nThe validation itself works fine.</p>\n\n<p>Constraint:</p>\n\n<pre><code>@NotEmpty(message=\"{validation.mail.notEmpty}\")\n@Email()\nprivate String mail;\n</code></pre>\n\n<p>messages.properties:</p>\n\n<pre><code># Validation\nvalidation.mail.notEmpty=The mail must not be empty!\n</code></pre>\n\n<p>Template part:</p>\n\n<pre><code>&lt;span th:if=\"${#fields.hasErrors('mail')}\" th:errors=\"*{mail}\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>The displayed text:</p>\n\n<pre><code>{validation.mail.notEmpty}\n</code></pre>\n\n<p>I tried a lot of variation, all without success.</p>\n\n<pre><code>@NotEmpty(message=\"validation.mail.notEmpty\")\n@NotEmpty(message=\"#{validation.mail.notEmpty}\")\n</code></pre>\n\n<p>Will just show the exact value of the messages string, no parsing.</p>\n\n<pre><code>&lt;span th:if=\"${#fields.hasErrors('mail')}\" th:errors=\"${mail}\"&gt;&lt;/span&gt;\n&lt;span th:if=\"${#fields.hasErrors('mail')}\" th:errors=\"#{mail}\"&gt;&lt;/span&gt;\n&lt;span th:if=\"${#fields.hasErrors('mail')}\" th:errors=\"#{*{mail}}\"&gt;&lt;/span&gt;\n&lt;span th:if=\"${#fields.hasErrors('mail')}\" th:errors=\"#{__*{mail}__}\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>Will result in an error.</p>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>After debugging, I stumbled up on this:</p>\n\n<p>Class: <code>org.springframework.context.support.MessageSourceSupport</code></p>\n\n<p>Method: <code>formatMessage(String msg, Object[] args, Locale locale)</code></p>\n\n<p>will be called with</p>\n\n<p><code>formatMessage(\"{validation.mail.notEmpty}\", null, locale /*German Locale*/)</code></p>\n\n<p>And it will run into <code>if (messageFormat == INVALID_MESSAGE_FORMAT) {</code></p>\n\n<p>So... my message format is not correct. This is way out of my scope/knowledge. Anyone knows what that means?</p>\n"},{"tags":["java","android","xml","json"],"comments":[{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":0,"creation_date":1311054331,"post_id":6742705,"comment_id":7990818,"body_markdown":"may be you should read JSON in JavaScript on your UI and parse it. (and display accordingly). If you must see [here](http://www.webmasterworld.com/javascript/3540648.htm)","body":"may be you should read JSON in JavaScript on your UI and parse it. (and display accordingly). If you must see <a href=\"http://www.webmasterworld.com/javascript/3540648.htm\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":198425,"reputation":6313,"user_id":443075,"accept_rate":98,"display_name":"Sandy"},"score":0,"creation_date":1311054654,"post_id":6742705,"comment_id":24907797,"body_markdown":"Look into [this](http://stackoverflow.com/questions/559296/java-implementation-of-json-to-xml-conversion) and [this](http://www.discursive.com/books/cjcook/reference/json-sect-convert-json-xml) Hope this will help you.","body":"Look into <a href=\"http://stackoverflow.com/questions/559296/java-implementation-of-json-to-xml-conversion\">this</a> and <a href=\"http://www.discursive.com/books/cjcook/reference/json-sect-convert-json-xml\" rel=\"nofollow noreferrer\">this</a> Hope this will help you."},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1583301562,"post_id":6742705,"comment_id":107065268,"body_markdown":"Underscore-java library has a static method U.jsonToXml(json).","body":"Underscore-java library has a static method U.jsonToXml(json)."}],"answers":[{"tags":[],"owner":{"account_id":198620,"reputation":10364,"user_id":443387,"accept_rate":57,"display_name":"N-JOY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311054300,"creation_date":1311054300,"answer_id":6742757,"question_id":6742705,"body_markdown":"No direct conversion API is available in android to convert JSON to XML. You need to parse JSON first then you will have to write logic for converting it to xml.","title":"Simplest method to Convert Json to Xml","body":"<p>No direct conversion API is available in android to convert JSON to XML. You need to parse JSON first then you will have to write logic for converting it to xml.</p>\n"},{"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1311056608,"creation_date":1311056608,"answer_id":6743058,"question_id":6742705,"body_markdown":"For a simple solution, I recommend [Jackson][1], as it can transform arbitrarily complex JSON into XML with just a few simple lines of code.\r\n\r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    \r\n    import com.fasterxml.jackson.xml.XmlMapper;\r\n    \r\n    public class Foo\r\n    {\r\n      public String name;\r\n      public Bar bar;\r\n      \r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        // JSON input: {&quot;name&quot;:&quot;FOO&quot;,&quot;bar&quot;:{&quot;id&quot;:42}}\r\n        String jsonInput = &quot;{\\&quot;name\\&quot;:\\&quot;FOO\\&quot;,\\&quot;bar\\&quot;:{\\&quot;id\\&quot;:42}}&quot;;\r\n        \r\n        ObjectMapper jsonMapper = new ObjectMapper();\r\n        Foo foo = jsonMapper.readValue(jsonInput, Foo.class);\r\n        \r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        System.out.println(xmlMapper.writeValueAsString(foo));\r\n        // &lt;Foo xmlns=&quot;&quot;&gt;&lt;name&gt;FOO&lt;/name&gt;&lt;bar&gt;&lt;id&gt;42&lt;/id&gt;&lt;/bar&gt;&lt;/Foo&gt;\r\n      }\r\n    }\r\n    \r\n    class Bar\r\n    {\r\n      public int id;\r\n    }\r\n\r\nThis demo uses [Jackson 1.7.7][2] (the newer 1.7.8 should also work), [Jackson XML Databind 0.5.3][3] (not yet compatible with Jackson 1.8), and [Stax2 3.1.1][4].\r\n\r\n\r\n  [1]: http://jackson.codehaus.org\r\n  [2]: http://wiki.fasterxml.com/JacksonDownload\r\n  [3]: https://github.com/FasterXML/jackson-xml-databind/wiki\r\n  [4]: http://wiki.fasterxml.com/WoodstoxDownload","title":"Simplest method to Convert Json to Xml","body":"<p>For a simple solution, I recommend <a href=\"http://jackson.codehaus.org\" rel=\"noreferrer\">Jackson</a>, as it can transform arbitrarily complex JSON into XML with just a few simple lines of code.</p>\n\n<pre><code>import org.codehaus.jackson.map.ObjectMapper;\n\nimport com.fasterxml.jackson.xml.XmlMapper;\n\npublic class Foo\n{\n  public String name;\n  public Bar bar;\n\n  public static void main(String[] args) throws Exception\n  {\n    // JSON input: {\"name\":\"FOO\",\"bar\":{\"id\":42}}\n    String jsonInput = \"{\\\"name\\\":\\\"FOO\\\",\\\"bar\\\":{\\\"id\\\":42}}\";\n\n    ObjectMapper jsonMapper = new ObjectMapper();\n    Foo foo = jsonMapper.readValue(jsonInput, Foo.class);\n\n    XmlMapper xmlMapper = new XmlMapper();\n    System.out.println(xmlMapper.writeValueAsString(foo));\n    // &lt;Foo xmlns=\"\"&gt;&lt;name&gt;FOO&lt;/name&gt;&lt;bar&gt;&lt;id&gt;42&lt;/id&gt;&lt;/bar&gt;&lt;/Foo&gt;\n  }\n}\n\nclass Bar\n{\n  public int id;\n}\n</code></pre>\n\n<p>This demo uses <a href=\"http://wiki.fasterxml.com/JacksonDownload\" rel=\"noreferrer\">Jackson 1.7.7</a> (the newer 1.7.8 should also work), <a href=\"https://github.com/FasterXML/jackson-xml-databind/wiki\" rel=\"noreferrer\">Jackson XML Databind 0.5.3</a> (not yet compatible with Jackson 1.8), and <a href=\"http://wiki.fasterxml.com/WoodstoxDownload\" rel=\"noreferrer\">Stax2 3.1.1</a>.</p>\n"},{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607759748,"creation_date":1433840738,"answer_id":30727596,"question_id":6742705,"body_markdown":"Standard [org.json.XML][1] class converts between JSON and XML in both directions. There is also [tutorial][2] on how to use it.\r\n\r\nThe conversion is not very nice as it does not create XML attributes at all (entities only), so XML output is more bulky than could possibly be. But it does not require to define Java classes matching the data structures that need to be converted.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.json/json/20171018/org/json/XML.html\r\n  [2]: https://www.tutorialspoint.com/org_json/org_json_xml.htm","title":"Simplest method to Convert Json to Xml","body":"<p>Standard <a href=\"https://www.javadoc.io/doc/org.json/json/20171018/org/json/XML.html\" rel=\"nofollow noreferrer\">org.json.XML</a> class converts between JSON and XML in both directions. There is also <a href=\"https://www.tutorialspoint.com/org_json/org_json_xml.htm\" rel=\"nofollow noreferrer\">tutorial</a> on how to use it.</p>\n<p>The conversion is not very nice as it does not create XML attributes at all (entities only), so XML output is more bulky than could possibly be. But it does not require to define Java classes matching the data structures that need to be converted.</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485790966,"creation_date":1485790966,"answer_id":41939893,"question_id":6742705,"body_markdown":"Here is an example of how you can do this, generating valid XML. I also use the Jackson library in a Maven project.\r\n\r\nMaven setup:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml/jackson-xml-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-xml-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;0.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nHere is some Java code that first converts a JSON string to an object and then converts the object with the XMLMapper to XML and also removes any wrong element names. The reason for replacing wrong characters in XML element names is the fact that you can use in JSON element names like $oid with characters not allowed in XML. The Jackson library does not account for that, so I ended up adding some code which removes illegal characters from element names and also the namespace declarations.\r\n\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.xml.XmlMapper;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Map;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    /**\r\n     * Converts JSON to XML and makes sure the resulting XML \r\n     * does not have invalid element names.\r\n     */\r\n    public class JsonToXMLConverter {\r\n    \r\n        private static final Pattern XML_TAG =\r\n                Pattern.compile(&quot;(?m)(?s)(?i)(?&lt;first&gt;&lt;(/)?)(?&lt;nonXml&gt;.+?)(?&lt;last&gt;(/)?&gt;)&quot;);\r\n    \r\n        private static final Pattern REMOVE_ILLEGAL_CHARS = \r\n                Pattern.compile(&quot;(i?)([^\\\\s=\\&quot;&#39;a-zA-Z0-9._-])|(xmlns=\\&quot;[^\\&quot;]*\\&quot;)&quot;);\r\n    \r\n        private ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        private XmlMapper xmlMapper = new XmlMapper();\r\n    \r\n        String convertToXml(Object obj) throws IOException {\r\n            final String s = xmlMapper.writeValueAsString(obj);\r\n            return removeIllegalXmlChars(s);\r\n        }\r\n    \r\n        private String removeIllegalXmlChars(String s) {\r\n            final Matcher matcher = XML_TAG.matcher(s);\r\n            StringBuffer sb = new StringBuffer();\r\n            while(matcher.find()) {\r\n                String elementName = REMOVE_ILLEGAL_CHARS.matcher(matcher.group(&quot;nonXml&quot;))\r\n                        .replaceAll(&quot;&quot;).trim();\r\n                matcher.appendReplacement(sb, &quot;${first}&quot; + elementName + &quot;${last}&quot;);\r\n            }\r\n            matcher.appendTail(sb);\r\n            return sb.toString();\r\n        }\r\n    \r\n        Map&lt;String, Object&gt; convertJson(String json) throws IOException {\r\n            return mapper.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});\r\n        }\r\n    \r\n        public String convertJsonToXml(String json) throws IOException {\r\n            return convertToXml(convertJson(json));\r\n        }\r\n    }\r\n\r\nHere is a JUnit test for *convertJsonToXml*:\r\n\r\n    @Test\r\n    void convertJsonToXml() throws IOException, ParserConfigurationException, SAXException {\r\n        try(InputStream in = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;json/customer_sample.json&quot;)) {\r\n            String json = new Scanner(in).useDelimiter(&quot;\\\\Z&quot;).next();\r\n            String xml = converter.convertJsonToXml(json);\r\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder db = dbf.newDocumentBuilder();\r\n            Document doc = db.parse(new ByteArrayInputStream(xml.getBytes(&quot;UTF-8&quot;)));\r\n            Node first = doc.getFirstChild();\r\n            assertNotNull(first);\r\n            assertTrue(first.getChildNodes().getLength() &gt; 0);\r\n        }\r\n    }","title":"Simplest method to Convert Json to Xml","body":"<p>Here is an example of how you can do this, generating valid XML. I also use the Jackson library in a Maven project.</p>\n\n<p>Maven setup:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.fasterxml/jackson-xml-databind --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-xml-databind&lt;/artifactId&gt;\n        &lt;version&gt;0.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Here is some Java code that first converts a JSON string to an object and then converts the object with the XMLMapper to XML and also removes any wrong element names. The reason for replacing wrong characters in XML element names is the fact that you can use in JSON element names like $oid with characters not allowed in XML. The Jackson library does not account for that, so I ended up adding some code which removes illegal characters from element names and also the namespace declarations.</p>\n\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.xml.XmlMapper;\n\nimport java.io.IOException;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n/**\n * Converts JSON to XML and makes sure the resulting XML \n * does not have invalid element names.\n */\npublic class JsonToXMLConverter {\n\n    private static final Pattern XML_TAG =\n            Pattern.compile(\"(?m)(?s)(?i)(?&lt;first&gt;&lt;(/)?)(?&lt;nonXml&gt;.+?)(?&lt;last&gt;(/)?&gt;)\");\n\n    private static final Pattern REMOVE_ILLEGAL_CHARS = \n            Pattern.compile(\"(i?)([^\\\\s=\\\"'a-zA-Z0-9._-])|(xmlns=\\\"[^\\\"]*\\\")\");\n\n    private ObjectMapper mapper = new ObjectMapper();\n\n    private XmlMapper xmlMapper = new XmlMapper();\n\n    String convertToXml(Object obj) throws IOException {\n        final String s = xmlMapper.writeValueAsString(obj);\n        return removeIllegalXmlChars(s);\n    }\n\n    private String removeIllegalXmlChars(String s) {\n        final Matcher matcher = XML_TAG.matcher(s);\n        StringBuffer sb = new StringBuffer();\n        while(matcher.find()) {\n            String elementName = REMOVE_ILLEGAL_CHARS.matcher(matcher.group(\"nonXml\"))\n                    .replaceAll(\"\").trim();\n            matcher.appendReplacement(sb, \"${first}\" + elementName + \"${last}\");\n        }\n        matcher.appendTail(sb);\n        return sb.toString();\n    }\n\n    Map&lt;String, Object&gt; convertJson(String json) throws IOException {\n        return mapper.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});\n    }\n\n    public String convertJsonToXml(String json) throws IOException {\n        return convertToXml(convertJson(json));\n    }\n}\n</code></pre>\n\n<p>Here is a JUnit test for <em>convertJsonToXml</em>:</p>\n\n<pre><code>@Test\nvoid convertJsonToXml() throws IOException, ParserConfigurationException, SAXException {\n    try(InputStream in = Thread.currentThread().getContextClassLoader().getResourceAsStream(\"json/customer_sample.json\")) {\n        String json = new Scanner(in).useDelimiter(\"\\\\Z\").next();\n        String xml = converter.convertJsonToXml(json);\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        DocumentBuilder db = dbf.newDocumentBuilder();\n        Document doc = db.parse(new ByteArrayInputStream(xml.getBytes(\"UTF-8\")));\n        Node first = doc.getFirstChild();\n        assertNotNull(first);\n        assertTrue(first.getChildNodes().getLength() &gt; 0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643887366,"creation_date":1559193455,"answer_id":56372030,"question_id":6742705,"body_markdown":"[Underscore-java][1] library has static method U.jsonToXml(string). [Live example][2]\r\n\r\n    import com.github.underscore.U;\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            String json = &quot;{\\&quot;Price\\&quot;: {&quot;\r\n            + &quot;    \\&quot;LineItems\\&quot;: {&quot;\r\n            + &quot;        \\&quot;LineItem\\&quot;: {&quot;\r\n            + &quot;            \\&quot;UnitOfMeasure\\&quot;: \\&quot;EACH\\&quot;, \\&quot;Quantity\\&quot;: 2, \\&quot;ItemID\\&quot;: \\&quot;ItemID\\&quot;&quot;\r\n            + &quot;        }&quot;\r\n            + &quot;    },&quot;\r\n            + &quot;    \\&quot;Currency\\&quot;: \\&quot;USD\\&quot;,&quot;\r\n            + &quot;    \\&quot;EnterpriseCode\\&quot;: \\&quot;EnterpriseCode\\&quot;&quot;\r\n            + &quot;}}&quot;;\r\n            System.out.println(U.jsonToXml(json)); \r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Price&gt;\r\n      &lt;LineItems&gt;\r\n        &lt;LineItem&gt;\r\n          &lt;UnitOfMeasure&gt;EACH&lt;/UnitOfMeasure&gt;\r\n          &lt;Quantity number=&quot;true&quot;&gt;2&lt;/Quantity&gt;\r\n          &lt;ItemID&gt;ItemID&lt;/ItemID&gt;\r\n        &lt;/LineItem&gt;\r\n      &lt;/LineItems&gt;\r\n      &lt;Currency&gt;USD&lt;/Currency&gt;\r\n      &lt;EnterpriseCode&gt;EnterpriseCode&lt;/EnterpriseCode&gt;\r\n    &lt;/Price&gt;\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://www.jdoodle.com/embed/v0/Ecb","title":"Simplest method to Convert Json to Xml","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library has static method U.jsonToXml(string). <a href=\"https://www.jdoodle.com/embed/v0/Ecb\" rel=\"nofollow noreferrer\">Live example</a></p>\n<pre><code>import com.github.underscore.U;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        String json = &quot;{\\&quot;Price\\&quot;: {&quot;\n        + &quot;    \\&quot;LineItems\\&quot;: {&quot;\n        + &quot;        \\&quot;LineItem\\&quot;: {&quot;\n        + &quot;            \\&quot;UnitOfMeasure\\&quot;: \\&quot;EACH\\&quot;, \\&quot;Quantity\\&quot;: 2, \\&quot;ItemID\\&quot;: \\&quot;ItemID\\&quot;&quot;\n        + &quot;        }&quot;\n        + &quot;    },&quot;\n        + &quot;    \\&quot;Currency\\&quot;: \\&quot;USD\\&quot;,&quot;\n        + &quot;    \\&quot;EnterpriseCode\\&quot;: \\&quot;EnterpriseCode\\&quot;&quot;\n        + &quot;}}&quot;;\n        System.out.println(U.jsonToXml(json)); \n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Price&gt;\n  &lt;LineItems&gt;\n    &lt;LineItem&gt;\n      &lt;UnitOfMeasure&gt;EACH&lt;/UnitOfMeasure&gt;\n      &lt;Quantity number=&quot;true&quot;&gt;2&lt;/Quantity&gt;\n      &lt;ItemID&gt;ItemID&lt;/ItemID&gt;\n    &lt;/LineItem&gt;\n  &lt;/LineItems&gt;\n  &lt;Currency&gt;USD&lt;/Currency&gt;\n  &lt;EnterpriseCode&gt;EnterpriseCode&lt;/EnterpriseCode&gt;\n&lt;/Price&gt;\n</code></pre>\n"}],"owner":{"account_id":426661,"reputation":333,"user_id":807985,"accept_rate":17,"display_name":"Pearl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49642,"favorite_count":0,"down_vote_count":2,"up_vote_count":17,"answer_count":5,"score":15,"last_activity_date":1643887366,"creation_date":1311053871,"question_id":6742705,"body_markdown":"I have web-service in .net. When I retrieve data from database, it returns JSON File in Android Mobile. How can I convert JSON File to XML Or text.\r\n","title":"Simplest method to Convert Json to Xml","body":"<p>I have web-service in .net. When I retrieve data from database, it returns JSON File in Android Mobile. How can I convert JSON File to XML Or text.</p>\n"},{"tags":["java","io","printwriter","appfuse"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1408623010,"post_id":25425873,"comment_id":39664971,"body_markdown":"And what if instead of `response.getWriter()` you print it into `System.out/err` ?","body":"And what if instead of <code>response.getWriter()</code> you print it into <code>System.out&#47;err</code> ?"},{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":0,"creation_date":1408623171,"post_id":25425873,"comment_id":39665064,"body_markdown":"Can you show the full code ? Specially the creation of the `response` object.","body":"Can you show the full code ? Specially the creation of the <code>response</code> object."},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1408623522,"post_id":25425873,"comment_id":39665297,"body_markdown":"I guess that this is the response from the servlet context.","body":"I guess that this is the response from the servlet context."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1408623906,"post_id":25425873,"comment_id":39665573,"body_markdown":"The content returned is read how?","body":"The content returned is read how?"}],"answers":[{"tags":[],"owner":{"account_id":10229672,"reputation":46,"user_id":7550929,"display_name":"Junyang HE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643887355,"creation_date":1643887355,"answer_id":70970429,"question_id":25425873,"body_markdown":"I had a similar issue with the PrintWriter:\r\n\r\n    response.getWriter().write(responseString);\r\n\r\nAfter I change it to OutputStream:\r\n\r\n    response.getOutputStream().write(responseString.getBytes(&quot;UTF-8&quot;));\r\n    response.flushBuffer();\r\n\r\nIt works. But I don&#39;t know why the PrintWriter does not work.","title":"Java PrintWriter not flushing full String","body":"<p>I had a similar issue with the PrintWriter:</p>\n<pre><code>response.getWriter().write(responseString);\n</code></pre>\n<p>After I change it to OutputStream:</p>\n<pre><code>response.getOutputStream().write(responseString.getBytes(&quot;UTF-8&quot;));\nresponse.flushBuffer();\n</code></pre>\n<p>It works. But I don't know why the PrintWriter does not work.</p>\n"}],"owner":{"account_id":3079554,"reputation":124,"user_id":2608104,"accept_rate":38,"display_name":"CodeNameGrant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643887355,"creation_date":1408622537,"question_id":25425873,"body_markdown":"Im using AJAX to retrieve a JSONP response of an external system, however the response is being (for the lack of a better work) truncated. \r\nMy front-end page will make the AJAX call to the URL, my system will generate a response which is added to a PrintWriter and then flush the Printwriter. However the content returned is not complete.\r\n\r\n    PrintWriter pw = response.getWriter();\r\n    pw.write(callBackFn);\r\n    pw.write(&quot;(&quot; + requestsJSON + &quot;)&quot;);\t\r\n    pw.flush();\r\n    pw.close();\r\n\r\nPlease note that the response is approx 120 000 characters.\r\nIve tried looking for a reason for the cut-off but have found nothing like it.\r\n\r\n**EDIT**\r\n\r\n    public ActionForward getJSON(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n    \t\tList requestList = RequestUtil.convertRequestsHashMapToRequestsList((HashMap)request.getSession().getServletContext().getAttribute(Constants.REQUESTS_CACHE_MAP));\r\n    \t\tString requestsJSON = &quot;&quot;;\r\n    \t\t\r\n    \t\tif (!requestList.isEmpty()) {\r\n    \t\t\tRequests requestObj = (Requests) requestList.get(0);\r\n    \t\t\trequestsJSON += &quot;{\\&quot;key\\&quot;:\\&quot;&quot; + requestObj.getRequestId() + &quot;\\&quot;,\\&quot;value\\&quot;:\\&quot;&quot; + requestObj.getSubject() + &quot;\\&quot;}&quot;;\r\n    \t\t\t\r\n    \t\t\tfor (int i = 1; i &lt; requestList.size(); i++) {\r\n    \t\t\t\trequestObj = (Requests) requestList.get(i);\r\n    \t\t\t\trequestsJSON += &quot;,{\\&quot;key\\&quot;:\\&quot;&quot; + requestObj.getRequestId() + &quot;\\&quot;,\\&quot;value\\&quot;:\\&quot;&quot; + requestObj.getSubject() + &quot;\\&quot;}&quot;;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\trequestsJSON = &quot;{\\&quot;values\\&quot;:[&quot;+requestsJSON+&quot;]}&quot;;\r\n    \t\tString callBackFn = (String) request.getParameter(&quot;callback&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;#### Character length: &quot; + (callBackFn + &quot;(&quot; + requestsJSON + &quot;)&quot;).length());\r\n    \t\t\r\n    \t\tPrintWriter pw = response.getWriter();\r\n            pw.write(callBackFn);\r\n            pw.write(&quot;(&quot; + requestsJSON + &quot;)&quot;);\t\r\n            pw.flush();\r\n            pw.close();\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n\r\n\r\nNOTE: The system that I&#39;ve added the above method to is quite old and not maintained. it was created using AppFuse 1.8.2 (which uses Spring 2) and is running Java 1.4.\r\nUnfortunately the system wasn&#39;t written very well so updating to a later version of Java is not an option.\r\n\r\nWith regards to how the returned content (JSONP String) that the method returns is used, its irrelevant. an external system is calling a URL which links to this method which returns the string.\r\n","title":"Java PrintWriter not flushing full String","body":"<p>Im using AJAX to retrieve a JSONP response of an external system, however the response is being (for the lack of a better work) truncated. \nMy front-end page will make the AJAX call to the URL, my system will generate a response which is added to a PrintWriter and then flush the Printwriter. However the content returned is not complete.</p>\n\n<pre><code>PrintWriter pw = response.getWriter();\npw.write(callBackFn);\npw.write(\"(\" + requestsJSON + \")\"); \npw.flush();\npw.close();\n</code></pre>\n\n<p>Please note that the response is approx 120 000 characters.\nIve tried looking for a reason for the cut-off but have found nothing like it.</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>public ActionForward getJSON(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {\n        List requestList = RequestUtil.convertRequestsHashMapToRequestsList((HashMap)request.getSession().getServletContext().getAttribute(Constants.REQUESTS_CACHE_MAP));\n        String requestsJSON = \"\";\n\n        if (!requestList.isEmpty()) {\n            Requests requestObj = (Requests) requestList.get(0);\n            requestsJSON += \"{\\\"key\\\":\\\"\" + requestObj.getRequestId() + \"\\\",\\\"value\\\":\\\"\" + requestObj.getSubject() + \"\\\"}\";\n\n            for (int i = 1; i &lt; requestList.size(); i++) {\n                requestObj = (Requests) requestList.get(i);\n                requestsJSON += \",{\\\"key\\\":\\\"\" + requestObj.getRequestId() + \"\\\",\\\"value\\\":\\\"\" + requestObj.getSubject() + \"\\\"}\";\n            }\n        }\n\n        requestsJSON = \"{\\\"values\\\":[\"+requestsJSON+\"]}\";\n        String callBackFn = (String) request.getParameter(\"callback\");\n\n        System.out.println(\"#### Character length: \" + (callBackFn + \"(\" + requestsJSON + \")\").length());\n\n        PrintWriter pw = response.getWriter();\n        pw.write(callBackFn);\n        pw.write(\"(\" + requestsJSON + \")\"); \n        pw.flush();\n        pw.close();\n\n        return null;\n    }\n</code></pre>\n\n<p>NOTE: The system that I've added the above method to is quite old and not maintained. it was created using AppFuse 1.8.2 (which uses Spring 2) and is running Java 1.4.\nUnfortunately the system wasn't written very well so updating to a later version of Java is not an option.</p>\n\n<p>With regards to how the returned content (JSONP String) that the method returns is used, its irrelevant. an external system is calling a URL which links to this method which returns the string.</p>\n"},{"tags":["java","xml","json"],"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1377110419,"post_id":18349628,"comment_id":26964547,"body_markdown":"What library/-ies are you using? POI? What kind of input XML, output JSON? Too vague a question without more info.","body":"What library/-ies are you using? POI? What kind of input XML, output JSON? Too vague a question without more info."},{"owner":{"account_id":2357883,"reputation":525,"user_id":2065290,"accept_rate":76,"display_name":"Anil kumar"},"score":0,"creation_date":1392285761,"post_id":18349628,"comment_id":32899345,"body_markdown":"Hi Durga, Can you please either select the correct answer which resolved your issue or add your answer if you have managed to resolve this of your own? I am also getting the same error and not finding the answers given here useful for my case.","body":"Hi Durga, Can you please either select the correct answer which resolved your issue or add your answer if you have managed to resolve this of your own? I am also getting the same error and not finding the answers given here useful for my case."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1377063865,"creation_date":1377063865,"answer_id":18349649,"question_id":18349628,"body_markdown":"You are trying to read physical `File` as a classpath `Resource`, which is **wrong**\r\n\r\n    InputStream in = ConvertXMLtoJSON.class.getResourceAsStream(&quot;D:\\\\sample.xml&quot;);\r\n\r\nChange it to\r\n\r\n    InputStream in =  new FileInputStream(new File(&quot;D:\\\\sample.xml&quot;));\r\n","title":"How to convert xml to .json file in java","body":"<p>You are trying to read physical <code>File</code> as a classpath <code>Resource</code>, which is <strong>wrong</strong></p>\n\n<pre><code>InputStream in = ConvertXMLtoJSON.class.getResourceAsStream(\"D:\\\\sample.xml\");\n</code></pre>\n\n<p>Change it to</p>\n\n<pre><code>InputStream in =  new FileInputStream(new File(\"D:\\\\sample.xml\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1377064527,"creation_date":1377063893,"answer_id":18349655,"question_id":18349628,"body_markdown":"    String xml = IOUtils.toString(in);\r\n\r\nHere InputStream `in` is null so it raise `NullPointerException`. \r\n\r\n`Class#getResourceAsStream(String name)` it use to load resource from classpath and normally use in web-based project, and an absolute resource name is constructed from the given resource name using this algorithm:\r\n\r\n 1. If the name begins with a &#39;/&#39; (&#39;\\u002f&#39;), then the absolute name of\r\n    the resource is the portion of the name following the &#39;/&#39;.\r\n 2. Otherwise, the absolute name is of the following form:\r\n    modified_package_name/name\r\n\r\nAs [Documentation][1] \r\n\r\nAs your file exists in local hard-drive(`D:\\\\sample.xml`) better use `FileInputStream` to load the resouce.\r\n\r\n    InputStream in =  new FileInputStream(&quot;D:\\\\sample.xml&quot;);\r\n\r\nFind a good related question  -\r\n\r\n - [getResourceAsStream() vs FileInputStream][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResourceAsStream%28java.lang.String%29\r\n  [2]: https://stackoverflow.com/questions/2308188/getresourceasstream-vs-fileinputstream","title":"How to convert xml to .json file in java","body":"<pre><code>String xml = IOUtils.toString(in);\n</code></pre>\n\n<p>Here InputStream <code>in</code> is null so it raise <code>NullPointerException</code>. </p>\n\n<p><code>Class#getResourceAsStream(String name)</code> it use to load resource from classpath and normally use in web-based project, and an absolute resource name is constructed from the given resource name using this algorithm:</p>\n\n<ol>\n<li>If the name begins with a '/' ('\\u002f'), then the absolute name of\nthe resource is the portion of the name following the '/'.</li>\n<li>Otherwise, the absolute name is of the following form:\nmodified_package_name/name</li>\n</ol>\n\n<p>As <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResourceAsStream%28java.lang.String%29\" rel=\"nofollow noreferrer\">Documentation</a> </p>\n\n<p>As your file exists in local hard-drive(<code>D:\\\\sample.xml</code>) better use <code>FileInputStream</code> to load the resouce.</p>\n\n<pre><code>InputStream in =  new FileInputStream(\"D:\\\\sample.xml\");\n</code></pre>\n\n<p>Find a good related question  -</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2308188/getresourceasstream-vs-fileinputstream\">getResourceAsStream() vs FileInputStream</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1841886,"reputation":63,"user_id":1671133,"display_name":"DURGA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1475065819,"creation_date":1392383001,"answer_id":21780180,"question_id":18349628,"body_markdown":"This is the code which is used to convert xml to json    \r\n\r\n     import org.json.JSONObject;\r\n     import org.json.JSONException;\r\n     import org.json.XML;\r\n     import java.io.*;\r\n\r\n\r\n     public class ConvertXMLtoJSON2{  \r\n          public static void main(String[] args) throws Exception {  \r\n        \tString fileName = &quot;D:\\\\temp.json&quot;;\r\n            try {          \t\r\n                File file = new File (&quot;D:\\\\output333.xml&quot;);  \r\n                InputStream inputStream = new FileInputStream(file);  \r\n                StringBuilder builder =  new StringBuilder();  \r\n                int ptr = 0;  \r\n                while ((ptr = inputStream.read()) != -1 ) {  \r\n                    builder.append((char) ptr); \r\n                  //  System.out.println(ptr);\r\n                }  \r\n  \r\n                String xml  = builder.toString();  \r\n                JSONObject jsonObj = XML.toJSONObject(xml);   \r\n                // System.out.println(jsonObj.toString()); \r\n                // System.out.println(jsonObj.toString().split(&quot;,&quot;).length);\r\n                // Assume default encoding.\r\n                FileWriter fileWriter =\r\n                    new FileWriter(fileName);\r\n\r\n                // Always wrap FileWriter in BufferedWriter.\r\n                BufferedWriter bufferedWriter =\r\n                    new BufferedWriter(fileWriter);\r\n\r\n                // Always close files.\r\n                \r\n                for(int i= 0 ;i &lt; jsonObj.toString().split(&quot;,&quot;).length; i ++) {\r\n                   System.out.println(jsonObj.toString().split(&quot;,&quot;)[i]);\r\n                   bufferedWriter.write(jsonObj.toString().split(&quot;,&quot;)[i]);\r\n                   bufferedWriter.write(&quot;\\n&quot;);\r\n                }\r\n  \r\n                bufferedWriter.close();\r\n            }\r\n                \r\n   \r\n                /* \r\n                String xmlString  = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&lt;ASF_Service_ResponseVO id=\\&quot;1\\&quot;&gt;&lt;service type=\\&quot;String\\&quot;&gt;OnboardingV2&lt;/service&gt;&lt;operation type=\\&quot;String\\&quot;&gt;start_onboarding_session&lt;/operation&gt;&lt;requested_version type=\\&quot;String\\&quot;&gt;1.0&lt;/requested_version&gt;&lt;actual_version type=\\&quot;String\\&quot;&gt;1.0&lt;/actual_version&gt;&lt;server_info type=\\&quot;String\\&quot;&gt;onboardingv2serv:start_onboarding_session&amp;CalThreadId=85&amp;TopLevelTxnStartTime=13b40fe91c4&amp;Host=L-BLR-00438534&amp;pid=3564&lt;/server_info&gt;&lt;result type=\\&quot;Onboarding::StartOnboardingSessionResponse\\&quot; id=\\&quot;2\\&quot;&gt;&lt;onboarding_id type=\\&quot;String\\&quot;&gt;137&lt;/onboarding_id&gt;&lt;success type=\\&quot;bool\\&quot;&gt;true&lt;/success&gt;&lt;/result&gt;&lt;/ASF_Service_ResponseVO&gt;&quot;; \r\n \r\n                JSONObject jsonObj = XML.toJSONObject(xmlString);  \r\n                System.out.println(jsonObj.toString());  \r\n\t\t\t\t*/\r\n              catch(IOException ex) {\r\n                    System.out.println(\r\n                        &quot;Error writing to file &#39;&quot;\r\n                        + fileName + &quot;&#39;&quot;);\r\n                    // Or we could just do this:\r\n                    // ex.printStackTrace();\r\n                } catch(Exception e) {  \r\n                    e.printStackTrace();  \r\n                }\r\n        }  \r\n    }","title":"How to convert xml to .json file in java","body":"<p>This is the code which is used to convert xml to json    </p>\n\n<pre><code> import org.json.JSONObject;\n import org.json.JSONException;\n import org.json.XML;\n import java.io.*;\n\n\n public class ConvertXMLtoJSON2{  \n      public static void main(String[] args) throws Exception {  \n        String fileName = \"D:\\\\temp.json\";\n        try {           \n            File file = new File (\"D:\\\\output333.xml\");  \n            InputStream inputStream = new FileInputStream(file);  \n            StringBuilder builder =  new StringBuilder();  \n            int ptr = 0;  \n            while ((ptr = inputStream.read()) != -1 ) {  \n                builder.append((char) ptr); \n              //  System.out.println(ptr);\n            }  \n\n            String xml  = builder.toString();  \n            JSONObject jsonObj = XML.toJSONObject(xml);   \n            // System.out.println(jsonObj.toString()); \n            // System.out.println(jsonObj.toString().split(\",\").length);\n            // Assume default encoding.\n            FileWriter fileWriter =\n                new FileWriter(fileName);\n\n            // Always wrap FileWriter in BufferedWriter.\n            BufferedWriter bufferedWriter =\n                new BufferedWriter(fileWriter);\n\n            // Always close files.\n\n            for(int i= 0 ;i &lt; jsonObj.toString().split(\",\").length; i ++) {\n               System.out.println(jsonObj.toString().split(\",\")[i]);\n               bufferedWriter.write(jsonObj.toString().split(\",\")[i]);\n               bufferedWriter.write(\"\\n\");\n            }\n\n            bufferedWriter.close();\n        }\n\n\n            /* \n            String xmlString  = \"&lt;?xml version=\\\"1.0\\\"?&gt;&lt;ASF_Service_ResponseVO id=\\\"1\\\"&gt;&lt;service type=\\\"String\\\"&gt;OnboardingV2&lt;/service&gt;&lt;operation type=\\\"String\\\"&gt;start_onboarding_session&lt;/operation&gt;&lt;requested_version type=\\\"String\\\"&gt;1.0&lt;/requested_version&gt;&lt;actual_version type=\\\"String\\\"&gt;1.0&lt;/actual_version&gt;&lt;server_info type=\\\"String\\\"&gt;onboardingv2serv:start_onboarding_session&amp;CalThreadId=85&amp;TopLevelTxnStartTime=13b40fe91c4&amp;Host=L-BLR-00438534&amp;pid=3564&lt;/server_info&gt;&lt;result type=\\\"Onboarding::StartOnboardingSessionResponse\\\" id=\\\"2\\\"&gt;&lt;onboarding_id type=\\\"String\\\"&gt;137&lt;/onboarding_id&gt;&lt;success type=\\\"bool\\\"&gt;true&lt;/success&gt;&lt;/result&gt;&lt;/ASF_Service_ResponseVO&gt;\"; \n\n            JSONObject jsonObj = XML.toJSONObject(xmlString);  \n            System.out.println(jsonObj.toString());  \n            */\n          catch(IOException ex) {\n                System.out.println(\n                    \"Error writing to file '\"\n                    + fileName + \"'\");\n                // Or we could just do this:\n                // ex.printStackTrace();\n            } catch(Exception e) {  \n                e.printStackTrace();  \n            }\n    }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7182391,"reputation":113,"user_id":5485788,"display_name":"Sandio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488187903,"creation_date":1487603051,"answer_id":42347894,"question_id":18349628,"body_markdown":"Try the following code:\r\n\r\n\timport org.json.JSONObject;\r\n\timport org.json.XML;\r\n\timport java.io.*;\r\n\r\n\tpublic class ConverterXMLToJSON {\r\n        public static int PRETTY_FACTOR=4;\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tString jsonFileName = &quot;src\\\\main\\\\resources\\\\Light.json&quot;;\r\n\t\t\ttry {\r\n\t\t\t\tFile xmlFile = new File(&quot;src\\\\main\\\\resources\\\\Light.xml&quot;);\r\n\t\t\t\tInputStream inputStream = new FileInputStream(xmlFile);\r\n\t\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\t\tint ptr;\r\n\t\t\t\twhile ((ptr = inputStream.read()) != -1) {\r\n\t\t\t\t\tbuilder.append((char) ptr);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tString xml = builder.toString();\r\n\t\t\t\tJSONObject jsonObj = XML.toJSONObject(xml);\r\n\t\t\t\tSystem.out.print(jsonObj);\r\n\t\t\t\tFileWriter fileWriter =\r\n\t\t\t\t\t\tnew FileWriter(jsonFileName);\r\n\r\n\t\t\t\t// Always wrap FileWriter in BufferedWriter.\r\n\t\t\t\tBufferedWriter bufferedWriter =\r\n\t\t\t\t\t\tnew BufferedWriter(fileWriter);\r\n\t\t\t\tbufferedWriter.write(jsonObj.toString(PRETTY_FACTOR));\r\n\t\t\t\tbufferedWriter.close();\r\n\t\t\t} catch (IOException ex) {\r\n\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t\t&quot;Error writing to file &#39;&quot;\r\n\t\t\t\t\t\t\t\t+ jsonFileName + &quot;&#39;&quot;);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to convert xml to .json file in java","body":"<p>Try the following code:</p>\n\n<pre><code>import org.json.JSONObject;\nimport org.json.XML;\nimport java.io.*;\n\npublic class ConverterXMLToJSON {\n    public static int PRETTY_FACTOR=4;\n    public static void main(String[] args) throws Exception {\n        String jsonFileName = \"src\\\\main\\\\resources\\\\Light.json\";\n        try {\n            File xmlFile = new File(\"src\\\\main\\\\resources\\\\Light.xml\");\n            InputStream inputStream = new FileInputStream(xmlFile);\n            StringBuilder builder = new StringBuilder();\n            int ptr;\n            while ((ptr = inputStream.read()) != -1) {\n                builder.append((char) ptr);\n            }\n\n            String xml = builder.toString();\n            JSONObject jsonObj = XML.toJSONObject(xml);\n            System.out.print(jsonObj);\n            FileWriter fileWriter =\n                    new FileWriter(jsonFileName);\n\n            // Always wrap FileWriter in BufferedWriter.\n            BufferedWriter bufferedWriter =\n                    new BufferedWriter(fileWriter);\n            bufferedWriter.write(jsonObj.toString(PRETTY_FACTOR));\n            bufferedWriter.close();\n        } catch (IOException ex) {\n            System.out.println(\n                    \"Error writing to file '\"\n                            + jsonFileName + \"'\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643887287,"creation_date":1535771033,"answer_id":52124523,"question_id":18349628,"body_markdown":"[Underscore-java][1] library can convert xml to json. [Live example][2]\r\n\r\n    import com.github.underscore.U;\r\n\r\n    public class JsonConversion {\r\n        public static void main(String args[]) {\r\n            String xmlString  = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&lt;ASF_Service_ResponseVO id=\\&quot;1\\&quot;&gt;&lt;service type=\\&quot;String\\&quot;&gt;OnboardingV2&lt;/service&gt;&quot;\r\n            + &quot;&lt;operation type=\\&quot;String\\&quot;&gt;start_onboarding_session&lt;/operation&gt;&lt;requested_version type=\\&quot;String\\&quot;&gt;1.0&lt;/requested_version&gt;&quot;\r\n            + &quot;&lt;actual_version type=\\&quot;String\\&quot;&gt;1.0&lt;/actual_version&gt;&lt;server_info type=\\&quot;String\\&quot;&gt;onboardingv2serv:start_onboarding_session&quot;\r\n            + &quot;&amp;amp;CalThreadId=85&amp;amp;TopLevelTxnStartTime=13b40fe91c4&amp;amp;Host=L-BLR-00438534&amp;amp;pid=3564&lt;/server_info&gt;&lt;result type=&quot;\r\n            + &quot;\\&quot;Onboarding::StartOnboardingSessionResponse\\&quot; id=\\&quot;2\\&quot;&gt;&lt;onboarding_id type=\\&quot;String\\&quot;&gt;137&lt;/onboarding_id&gt;&lt;success type=&quot;\r\n            + &quot;\\&quot;bool\\&quot;&gt;true&lt;/success&gt;&lt;/result&gt;&lt;/ASF_Service_ResponseVO&gt;&quot;; \r\n\r\n            String json = U.xmlToJson(xmlString);  \r\n            System.out.println(json);  \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://www.jdoodle.com/embed/v0/Dzg","title":"How to convert xml to .json file in java","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library can convert xml to json. <a href=\"https://www.jdoodle.com/embed/v0/Dzg\" rel=\"nofollow noreferrer\">Live example</a></p>\n<pre><code>import com.github.underscore.U;\n\npublic class JsonConversion {\n    public static void main(String args[]) {\n        String xmlString  = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&lt;ASF_Service_ResponseVO id=\\&quot;1\\&quot;&gt;&lt;service type=\\&quot;String\\&quot;&gt;OnboardingV2&lt;/service&gt;&quot;\n        + &quot;&lt;operation type=\\&quot;String\\&quot;&gt;start_onboarding_session&lt;/operation&gt;&lt;requested_version type=\\&quot;String\\&quot;&gt;1.0&lt;/requested_version&gt;&quot;\n        + &quot;&lt;actual_version type=\\&quot;String\\&quot;&gt;1.0&lt;/actual_version&gt;&lt;server_info type=\\&quot;String\\&quot;&gt;onboardingv2serv:start_onboarding_session&quot;\n        + &quot;&amp;amp;CalThreadId=85&amp;amp;TopLevelTxnStartTime=13b40fe91c4&amp;amp;Host=L-BLR-00438534&amp;amp;pid=3564&lt;/server_info&gt;&lt;result type=&quot;\n        + &quot;\\&quot;Onboarding::StartOnboardingSessionResponse\\&quot; id=\\&quot;2\\&quot;&gt;&lt;onboarding_id type=\\&quot;String\\&quot;&gt;137&lt;/onboarding_id&gt;&lt;success type=&quot;\n        + &quot;\\&quot;bool\\&quot;&gt;true&lt;/success&gt;&lt;/result&gt;&lt;/ASF_Service_ResponseVO&gt;&quot;; \n\n        String json = U.xmlToJson(xmlString);  \n        System.out.println(json);  \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1841886,"reputation":63,"user_id":1671133,"display_name":"DURGA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21780180,"answer_count":5,"score":1,"last_activity_date":1643887287,"creation_date":1377063746,"question_id":18349628,"body_markdown":"\r\n      public class ConvertXMLtoJSON {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n        \tInputStream in =             ConvertXMLtoJSON.class.getResourceAsStream(&quot;D:\\\\sample.xml&quot;);\r\n        \tString xml = IOUtils.toString(in);\r\n        \tXMLSerializer xmlSerializer = new XMLSerializer(); \r\n        \tJSON json = xmlSerializer.read(xml);  \r\n        \tSystem.out.println(json.toString(2));\r\n        }\r\n          }\r\n\r\n   but i am getting error\r\n\r\n          Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat java.io.Reader.&lt;init&gt;(Reader.java:78)\r\n\tat java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:72)\r\n\tat org.apache.commons.io.IOUtils.copy(IOUtils.java:1020)\r\n\tat org.apache.commons.io.IOUtils.toString(IOUtils.java:358)\r\n\tat com.apache.poi.ConvertXMLtoJSON.main(ConvertXMLtoJSON.java:13\r\n\r\ncan u please help me to resolve it\r\nThis is my xml format\r\n             &lt;user&gt;\r\n\t   &lt;UserDetails&gt;\r\n\t\t&lt;id&gt;ac3&lt;/id&gt;\r\n\t\t&lt;name&gt;AC3 Phone&lt;/name&gt;\r\n\t\t&lt;brand&gt;ACME&lt;/brand&gt;\r\n\t\t&lt;type&gt;phone&lt;/type&gt;\r\n\t\t&lt;price&gt;200.0 &lt;/price&gt;\r\n\t\t&lt;warranty_years&gt;1.0 &lt;/warranty_years&gt;\r\n\t\t&lt;available&gt;true&lt;/available&gt;\r\n\t\t&lt;type_001/&gt;\r\n\t\t&lt;type_002/&gt;\r\n\t\t&lt;for_001/&gt;\r\n\t\t&lt;for_002/&gt;\r\n\t\t&lt;for_003/&gt;\r\n\t\t&lt;color/&gt;\r\n\t\t&lt;for_004/&gt;\r\n\t\t&lt;for_005/&gt;\r\n\t\t&lt;for_006/&gt;\r\n\t\t&lt;for/&gt;\r\n\t\t&lt;monthly_price/&gt;\r\n\t\t&lt;limits_voice_units/&gt;\r\n\t\t&lt;limits_voice_n/&gt;\r\n\t\t&lt;limits_voice_over_rate/&gt;\r\n\t\t&lt;limits_data_units/&gt;\r\n\t\t&lt;limits_data_n/&gt;\r\n\t\t&lt;limits_data_over_rate/&gt;\r\n\t\t&lt;limits_sms_units/&gt;\r\n\t\t&lt;limits_sms_n/&gt;\r\n\t\t&lt;limts_sms_over_rate/&gt;\r\n\t\t&lt;term_years/&gt;\r\n\t&lt;/UserDetails&gt;\r\n         &lt;/user&gt;\r\n\r\n i have generated this xml from my excel file and i have convert this xml file to json file ","title":"How to convert xml to .json file in java","body":"<pre><code>  public class ConvertXMLtoJSON {\n\n    public static void main(String[] args) throws Exception {\n        InputStream in =             ConvertXMLtoJSON.class.getResourceAsStream(\"D:\\\\sample.xml\");\n        String xml = IOUtils.toString(in);\n        XMLSerializer xmlSerializer = new XMLSerializer(); \n        JSON json = xmlSerializer.read(xml);  \n        System.out.println(json.toString(2));\n    }\n      }\n</code></pre>\n\n<p>but i am getting error</p>\n\n<pre><code>      Exception in thread \"main\" java.lang.NullPointerException\nat java.io.Reader.&lt;init&gt;(Reader.java:78)\nat java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:72)\nat org.apache.commons.io.IOUtils.copy(IOUtils.java:1020)\nat org.apache.commons.io.IOUtils.toString(IOUtils.java:358)\nat com.apache.poi.ConvertXMLtoJSON.main(ConvertXMLtoJSON.java:13\n</code></pre>\n\n<p>can u please help me to resolve it\nThis is my xml format\n             \n       \n        ac3\n        AC3 Phone\n        ACME\n        phone\n        200.0 \n        1.0 \n        true\n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n    \n         </p>\n\n<p>i have generated this xml from my excel file and i have convert this xml file to json file </p>\n"},{"tags":["java","xml","dom","pretty-print"],"answers":[{"tags":[],"owner":{"account_id":1579630,"reputation":3005,"user_id":1465252,"accept_rate":25,"display_name":"iCrazybest"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1410859964,"creation_date":1410859964,"answer_id":25865290,"question_id":25864316,"body_markdown":"Create xml file : \r\n\r\n    new FileInputStream(&quot;xml Store - Copy.xml&quot;) ;// result xml file format incorrect ! \r\n\r\n\r\nso that, when parse the content of the given input source as an XML document\r\nand return a new DOM object.\r\n\r\n    Document original = null;\r\n    ...\r\n    original.parse(&quot;data.xml&quot;);//input source as an XML document","title":"Pretty print XML in java 8","body":"<p>Create xml file : </p>\n\n<pre><code>new FileInputStream(\"xml Store - Copy.xml\") ;// result xml file format incorrect ! \n</code></pre>\n\n<p>so that, when parse the content of the given input source as an XML document\nand return a new DOM object.</p>\n\n<pre><code>Document original = null;\n...\noriginal.parse(\"data.xml\");//input source as an XML document\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5539,"reputation":43971,"user_id":8969,"accept_rate":67,"display_name":"Tom"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1410860037,"creation_date":1410860037,"answer_id":25865324,"question_id":25864316,"body_markdown":"This works on Java 8:\r\n\r\n\r\n    public static void main (String[] args) throws Exception {\r\n    \tString xmlString = &quot;&lt;hello&gt;&lt;from&gt;ME&lt;/from&gt;&lt;/hello&gt;&quot;;\r\n    \tDocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\r\n    \tDocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();\r\n    \tDocument document = documentBuilder.parse(new InputSource(new StringReader(xmlString)));\r\n    \tpretty(document, System.out, 2);\r\n    }\r\n    \r\n    private static void pretty(Document document, OutputStream outputStream, int indent) throws Exception {\r\n    \tTransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    \tTransformer transformer = transformerFactory.newTransformer();\r\n    \ttransformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n    \tif (indent &gt; 0) {\r\n    \t\ttransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n    \t\ttransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, Integer.toString(indent));\r\n    \t}\r\n    \tResult result = new StreamResult(outputStream);\r\n    \tSource source = new DOMSource(document);\r\n    \ttransformer.transform(source, result);\r\n    }\r\n\r\n","title":"Pretty print XML in java 8","body":"<p>This works on Java 8:</p>\n\n<pre><code>public static void main (String[] args) throws Exception {\n    String xmlString = \"&lt;hello&gt;&lt;from&gt;ME&lt;/from&gt;&lt;/hello&gt;\";\n    DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();\n    Document document = documentBuilder.parse(new InputSource(new StringReader(xmlString)));\n    pretty(document, System.out, 2);\n}\n\nprivate static void pretty(Document document, OutputStream outputStream, int indent) throws Exception {\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\n    Transformer transformer = transformerFactory.newTransformer();\n    transformer.setOutputProperty(OutputKeys.ENCODING, \"UTF-8\");\n    if (indent &gt; 0) {\n        transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n        transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", Integer.toString(indent));\n    }\n    Result result = new StreamResult(outputStream);\n    Source source = new DOMSource(document);\n    transformer.transform(source, result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4628085,"reputation":550,"user_id":3751298,"display_name":"Aldo"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1456575470,"creation_date":1410862749,"answer_id":25866191,"question_id":25864316,"body_markdown":"I guess that the problem is related to **blank text nodes** (i.e. text nodes with only whitespaces) in the original file. You should try to programmatically remove them just after the parsing, using the following code. If you don&#39;t remove them, the `Transformer` is going to preserve them.\r\n\r\n    original.getDocumentElement().normalize();\r\n    XPathExpression xpath = XPathFactory.newInstance().newXPath().compile(&quot;//text()[normalize-space(.) = &#39;&#39;]&quot;);\r\n    NodeList blankTextNodes = (NodeList) xpath.evaluate(original, XPathConstants.NODESET);\r\n    \r\n    for (int i = 0; i &lt; blankTextNodes.getLength(); i++) {\r\n         blankTextNodes.item(i).getParentNode().removeChild(blankTextNodes.item(i));\r\n    }\r\n","title":"Pretty print XML in java 8","body":"<p>I guess that the problem is related to <strong>blank text nodes</strong> (i.e. text nodes with only whitespaces) in the original file. You should try to programmatically remove them just after the parsing, using the following code. If you don't remove them, the <code>Transformer</code> is going to preserve them.</p>\n\n<pre><code>original.getDocumentElement().normalize();\nXPathExpression xpath = XPathFactory.newInstance().newXPath().compile(\"//text()[normalize-space(.) = '']\");\nNodeList blankTextNodes = (NodeList) xpath.evaluate(original, XPathConstants.NODESET);\n\nfor (int i = 0; i &lt; blankTextNodes.getLength(); i++) {\n     blankTextNodes.item(i).getParentNode().removeChild(blankTextNodes.item(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208843,"reputation":8250,"user_id":459579,"display_name":"ThomasRS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450274854,"creation_date":1419807561,"answer_id":27681477,"question_id":25864316,"body_markdown":"I&#39;ve written a [simple class][1] for for removing whitespace in documents - supports command-line and does not use DOM / XPath.\r\n\r\nEdit: Come to think of it, the project also contains a pretty-printer which handles existing whitespace:\r\n\r\n    PrettyPrinter prettyPrinter = PrettyPrinterBuilder.newPrettyPrinter().ignoreWhitespace().build();\r\n\r\n  [1]: https://github.com/greenbird/xml-formatter-core/blob/master/src/test/java/com/greenbird/prettyprinter/tools/WhitespaceRemoverTool.java","title":"Pretty print XML in java 8","body":"<p>I've written a <a href=\"https://github.com/greenbird/xml-formatter-core/blob/master/src/test/java/com/greenbird/prettyprinter/tools/WhitespaceRemoverTool.java\" rel=\"nofollow\">simple class</a> for for removing whitespace in documents - supports command-line and does not use DOM / XPath.</p>\n\n<p>Edit: Come to think of it, the project also contains a pretty-printer which handles existing whitespace:</p>\n\n<pre><code>PrettyPrinter prettyPrinter = PrettyPrinterBuilder.newPrettyPrinter().ignoreWhitespace().build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1488195392,"creation_date":1446718326,"answer_id":33541820,"question_id":25864316,"body_markdown":"In reply to Espinosa&#39;s comment, here is a solution when &quot;*the original xml is not already (partially) indented or contain new lines*&quot;.\r\n\r\n**Background**\r\n\r\nExcerpt from the article (see *References* below) inspiring this solution:\r\n&gt;*Based on the DOM specification, whitespaces outside the tags are perfectly valid and they are properly preserved. To remove them, we can use XPath’s normalize-space to locate all the whitespace nodes and remove them first.*\r\n\r\n**Java Code**\r\n\r\n\tpublic static String toPrettyString(String xml, int indent) {\r\n\t\ttry {\r\n\t\t\t// Turn xml string into a document\r\n\t\t\tDocument document = DocumentBuilderFactory.newInstance()\r\n\t\t\t\t\t.newDocumentBuilder()\r\n\t\t\t\t\t.parse(new InputSource(new ByteArrayInputStream(xml.getBytes(&quot;utf-8&quot;))));\r\n\t\t \r\n\t\t\t// Remove whitespaces outside tags\r\n            document.normalize();\r\n\t\t\tXPath xPath = XPathFactory.newInstance().newXPath();\r\n\t\t\tNodeList nodeList = (NodeList) xPath.evaluate(&quot;//text()[normalize-space()=&#39;&#39;]&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  document,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  XPathConstants.NODESET);\r\n\t\t \r\n\t\t\tfor (int i = 0; i &lt; nodeList.getLength(); ++i) {\r\n\t\t\t\tNode node = nodeList.item(i);\r\n\t\t\t\tnode.getParentNode().removeChild(node);\r\n\t\t\t}\r\n\t\t \r\n\t\t\t// Setup pretty print options\r\n            TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n            transformerFactory.setAttribute(&quot;indent-number&quot;, indent);\r\n\t\t\tTransformer transformer = transformerFactory.newTransformer();\r\n\t\t\ttransformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n\t\t\ttransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n\t\t\ttransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\t\t \r\n\t\t\t// Return pretty print xml string\r\n\t\t\tStringWriter stringWriter = new StringWriter();\r\n\t\t\ttransformer.transform(new DOMSource(document), new StreamResult(stringWriter));\r\n\t\t\treturn stringWriter.toString();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n**Sample usage**\r\n\r\n\tString xml = &quot;&lt;root&gt;&quot; + //\r\n\t\t\t\t &quot;\\n   &quot;  + //\r\n\t\t\t\t &quot;\\n&lt;name&gt;Coco Puff&lt;/name&gt;&quot; + //\r\n\t\t\t\t &quot;\\n        &lt;total&gt;10&lt;/total&gt;    &lt;/root&gt;&quot;;\r\n\t \r\n    System.out.println(toPrettyString(xml, 4));\r\n\r\n**Output**\r\n\r\n    &lt;root&gt;\r\n        &lt;name&gt;Coco Puff&lt;/name&gt;\r\n        &lt;total&gt;10&lt;/total&gt;\r\n    &lt;/root&gt;\r\n\r\n**References**\r\n\r\n- [Java: Properly Indenting XML String][1] published on *MyShittyCode*\r\n- [Save new XML node to file][2]\r\n\r\n  [1]: http://myshittycode.com/2014/02/10/java-properly-indenting-xml-string/\r\n  [2]: https://stackoverflow.com/a/33936257/363573","title":"Pretty print XML in java 8","body":"<p>In reply to Espinosa's comment, here is a solution when \"<em>the original xml is not already (partially) indented or contain new lines</em>\".</p>\n\n<p><strong>Background</strong></p>\n\n<p>Excerpt from the article (see <em>References</em> below) inspiring this solution:</p>\n\n<blockquote>\n  <p><em>Based on the DOM specification, whitespaces outside the tags are perfectly valid and they are properly preserved. To remove them, we can use XPath’s normalize-space to locate all the whitespace nodes and remove them first.</em></p>\n</blockquote>\n\n<p><strong>Java Code</strong></p>\n\n<pre><code>public static String toPrettyString(String xml, int indent) {\n    try {\n        // Turn xml string into a document\n        Document document = DocumentBuilderFactory.newInstance()\n                .newDocumentBuilder()\n                .parse(new InputSource(new ByteArrayInputStream(xml.getBytes(\"utf-8\"))));\n\n        // Remove whitespaces outside tags\n        document.normalize();\n        XPath xPath = XPathFactory.newInstance().newXPath();\n        NodeList nodeList = (NodeList) xPath.evaluate(\"//text()[normalize-space()='']\",\n                                                      document,\n                                                      XPathConstants.NODESET);\n\n        for (int i = 0; i &lt; nodeList.getLength(); ++i) {\n            Node node = nodeList.item(i);\n            node.getParentNode().removeChild(node);\n        }\n\n        // Setup pretty print options\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        transformerFactory.setAttribute(\"indent-number\", indent);\n        Transformer transformer = transformerFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.ENCODING, \"UTF-8\");\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n        transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n\n        // Return pretty print xml string\n        StringWriter stringWriter = new StringWriter();\n        transformer.transform(new DOMSource(document), new StreamResult(stringWriter));\n        return stringWriter.toString();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p><strong>Sample usage</strong></p>\n\n<pre><code>String xml = \"&lt;root&gt;\" + //\n             \"\\n   \"  + //\n             \"\\n&lt;name&gt;Coco Puff&lt;/name&gt;\" + //\n             \"\\n        &lt;total&gt;10&lt;/total&gt;    &lt;/root&gt;\";\n\nSystem.out.println(toPrettyString(xml, 4));\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>&lt;root&gt;\n    &lt;name&gt;Coco Puff&lt;/name&gt;\n    &lt;total&gt;10&lt;/total&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>References</strong></p>\n\n<ul>\n<li><a href=\"http://myshittycode.com/2014/02/10/java-properly-indenting-xml-string/\" rel=\"noreferrer\">Java: Properly Indenting XML String</a> published on <em>MyShittyCode</em></li>\n<li><a href=\"https://stackoverflow.com/a/33936257/363573\">Save new XML node to file</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514488044,"creation_date":1490202102,"answer_id":42958172,"question_id":25864316,"body_markdown":"I didn&#39;t like any of the common XML formatting solutions because they all remove more than 1 consecutive new line character (for some reason, removing spaces/tabs and removing new line characters are inseparable...). Here&#39;s my solution, which was actually made for XHTML but should do the job with XML as well:\r\n\r\n    public String GenerateTabs(int tabLevel) {\r\n      char[] tabs = new char[tabLevel * 2];\r\n      Arrays.fill(tabs, &#39; &#39;);\r\n      \r\n      //Or:\r\n      //char[] tabs = new char[tabLevel];\r\n      //Arrays.fill(tabs, &#39;\\t&#39;);\r\n      \r\n      return new String(tabs);\r\n    }\r\n    \r\n    public String FormatXHTMLCode(String code) {\r\n      // Split on new lines.\r\n      String[] splitLines = code.split(&quot;\\\\n&quot;, 0);\r\n    \r\n      int tabLevel = 0;\r\n    \r\n      // Go through each line.\r\n      for (int lineNum = 0; lineNum &lt; splitLines.length; ++lineNum) {\r\n        String currentLine = splitLines[lineNum];\r\n    \r\n        if (currentLine.trim().isEmpty()) {\r\n          splitLines[lineNum] = &quot;&quot;;\r\n        } else if (currentLine.matches(&quot;.*&lt;[^/!][^&lt;&gt;]+?(?&lt;!/)&gt;?&quot;)) {\r\n          splitLines[lineNum] = GenerateTabs(tabLevel) + splitLines[lineNum];\r\n    \r\n          ++tabLevel;\r\n        } else if (currentLine.matches(&quot;.*&lt;/[^&lt;&gt;]+?&gt;&quot;)) {\r\n          --tabLevel;\r\n    \r\n          if (tabLevel &lt; 0) {\r\n            tabLevel = 0;\r\n          }\r\n          \r\n          splitLines[lineNum] = GenerateTabs(tabLevel) + splitLines[lineNum];\r\n        } else if (currentLine.matches(&quot;[^&lt;&gt;]*?/&gt;&quot;)) {\r\n          splitLines[lineNum] = GenerateTabs(tabLevel) + splitLines[lineNum];\r\n    \r\n          --tabLevel;\r\n    \r\n          if (tabLevel &lt; 0) {\r\n            tabLevel = 0;\r\n          }\r\n        } else {\r\n          splitLines[lineNum] = GenerateTabs(tabLevel) + splitLines[lineNum];\r\n        }\r\n      }\r\n    \r\n      return String.join(&quot;\\n&quot;, splitLines);\r\n    }\r\n\r\nIt makes **one assumption**: that there are no &lt;&gt; characters except for those that comprise the XML/XHTML tags.","title":"Pretty print XML in java 8","body":"<p>I didn't like any of the common XML formatting solutions because they all remove more than 1 consecutive new line character (for some reason, removing spaces/tabs and removing new line characters are inseparable...). Here's my solution, which was actually made for XHTML but should do the job with XML as well:</p>\n\n<pre><code>public String GenerateTabs(int tabLevel) {\n  char[] tabs = new char[tabLevel * 2];\n  Arrays.fill(tabs, ' ');\n\n  //Or:\n  //char[] tabs = new char[tabLevel];\n  //Arrays.fill(tabs, '\\t');\n\n  return new String(tabs);\n}\n\npublic String FormatXHTMLCode(String code) {\n  // Split on new lines.\n  String[] splitLines = code.split(\"\\\\n\", 0);\n\n  int tabLevel = 0;\n\n  // Go through each line.\n  for (int lineNum = 0; lineNum &lt; splitLines.length; ++lineNum) {\n    String currentLine = splitLines[lineNum];\n\n    if (currentLine.trim().isEmpty()) {\n      splitLines[lineNum] = \"\";\n    } else if (currentLine.matches(\".*&lt;[^/!][^&lt;&gt;]+?(?&lt;!/)&gt;?\")) {\n      splitLines[lineNum] = GenerateTabs(tabLevel) + splitLines[lineNum];\n\n      ++tabLevel;\n    } else if (currentLine.matches(\".*&lt;/[^&lt;&gt;]+?&gt;\")) {\n      --tabLevel;\n\n      if (tabLevel &lt; 0) {\n        tabLevel = 0;\n      }\n\n      splitLines[lineNum] = GenerateTabs(tabLevel) + splitLines[lineNum];\n    } else if (currentLine.matches(\"[^&lt;&gt;]*?/&gt;\")) {\n      splitLines[lineNum] = GenerateTabs(tabLevel) + splitLines[lineNum];\n\n      --tabLevel;\n\n      if (tabLevel &lt; 0) {\n        tabLevel = 0;\n      }\n    } else {\n      splitLines[lineNum] = GenerateTabs(tabLevel) + splitLines[lineNum];\n    }\n  }\n\n  return String.join(\"\\n\", splitLines);\n}\n</code></pre>\n\n<p>It makes <strong>one assumption</strong>: that there are no &lt;> characters except for those that comprise the XML/XHTML tags.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643887257,"creation_date":1544247012,"answer_id":53679819,"question_id":25864316,"body_markdown":"[Underscore-java][1] has static method `U.formatXml(string)`. I am the maintainer of the project. [Live example][2]\r\n\r\n    import com.github.underscore.U;\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            String xml = &quot;&lt;root&gt;&quot; + //\r\n                 &quot;\\n   &quot;  + //\r\n                 &quot;\\n&lt;name&gt;Coco Puff&lt;/name&gt;&quot; + //\r\n                 &quot;\\n        &lt;total&gt;10&lt;/total&gt;    &lt;/root&gt;&quot;;\r\n\r\n            System.out.println(U.formatXml(xml));\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    &lt;root&gt;\r\n       &lt;name&gt;Coco Puff&lt;/name&gt;\r\n       &lt;total&gt;10&lt;/total&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://www.jdoodle.com/embed/v0/QaB","title":"Pretty print XML in java 8","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> has static method <code>U.formatXml(string)</code>. I am the maintainer of the project. <a href=\"https://www.jdoodle.com/embed/v0/QaB\" rel=\"nofollow noreferrer\">Live example</a></p>\n<pre><code>import com.github.underscore.U;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        String xml = &quot;&lt;root&gt;&quot; + //\n             &quot;\\n   &quot;  + //\n             &quot;\\n&lt;name&gt;Coco Puff&lt;/name&gt;&quot; + //\n             &quot;\\n        &lt;total&gt;10&lt;/total&gt;    &lt;/root&gt;&quot;;\n\n        System.out.println(U.formatXml(xml));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;root&gt;\n   &lt;name&gt;Coco Puff&lt;/name&gt;\n   &lt;total&gt;10&lt;/total&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":4906148,"reputation":1665,"user_id":3952838,"accept_rate":75,"display_name":"Hungry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52068,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":25866191,"answer_count":7,"score":32,"last_activity_date":1643887257,"creation_date":1410857123,"question_id":25864316,"body_markdown":"I have an XML file stored as a DOM Document and I would like to pretty print it to the console, preferably without using an external library. **I am aware that this question has been asked multiple times on this site, however none of the previous answers have worked for me.** I am using java 8, so perhaps this is where my code differs from previous questions? I have also tried to set the transformer manually using code found from the web, however this just caused a `not found` error.\r\n\r\nHere is my code which currently just outputs each xml element on a new line to the left of the console.\r\n\r\n    import java.io.*;\r\n    import javax.xml.parsers.*;\r\n    import javax.xml.transform.*;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.SAXException;\r\n    \r\n    \r\n    public class Test {\r\n    \tpublic Test(){\r\n    \t\ttry {\r\n    \t\t\t//java.lang.System.setProperty(&quot;javax.xml.transform.TransformerFactory&quot;, &quot;org.apache.xalan.xsltc.trax.TransformerFactoryImpl&quot;);\r\n    \t\t\t\r\n    \t\t\tDocumentBuilderFactory dbFactory;\r\n    \t\t\tDocumentBuilder dBuilder;\r\n    \t\t\tDocument original = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tdbFactory = DocumentBuilderFactory.newInstance();\r\n    \t\t\t\tdBuilder = dbFactory.newDocumentBuilder();\r\n    \t\t\t\toriginal = dBuilder.parse(new InputSource(new InputStreamReader(new FileInputStream(&quot;xml Store - Copy.xml&quot;))));\r\n    \t\t\t} catch (SAXException | IOException | ParserConfigurationException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tStringWriter stringWriter = new StringWriter();\r\n                StreamResult xmlOutput = new StreamResult(stringWriter);\r\n    \t\t\tTransformerFactory tf = TransformerFactory.newInstance();\r\n    \t\t\t//tf.setAttribute(&quot;indent-number&quot;, 2);\r\n    \t\t\tTransformer transformer = tf.newTransformer();\r\n    \t\t\ttransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n    \t\t\ttransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n    \t\t\ttransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;no&quot;);\r\n    \t\t\ttransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n    \t\t\ttransformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n    \t\t\ttransformer.transform(new DOMSource(original), xmlOutput);\r\n    \t\t    java.lang.System.out.println(xmlOutput.getWriter().toString());\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tthrow new RuntimeException(&quot;Error converting to String&quot;, ex);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \t\tnew Test();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Pretty print XML in java 8","body":"<p>I have an XML file stored as a DOM Document and I would like to pretty print it to the console, preferably without using an external library. <strong>I am aware that this question has been asked multiple times on this site, however none of the previous answers have worked for me.</strong> I am using java 8, so perhaps this is where my code differs from previous questions? I have also tried to set the transformer manually using code found from the web, however this just caused a <code>not found</code> error.</p>\n\n<p>Here is my code which currently just outputs each xml element on a new line to the left of the console.</p>\n\n<pre><code>import java.io.*;\nimport javax.xml.parsers.*;\nimport javax.xml.transform.*;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.w3c.dom.Document;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\n\n\npublic class Test {\n    public Test(){\n        try {\n            //java.lang.System.setProperty(\"javax.xml.transform.TransformerFactory\", \"org.apache.xalan.xsltc.trax.TransformerFactoryImpl\");\n\n            DocumentBuilderFactory dbFactory;\n            DocumentBuilder dBuilder;\n            Document original = null;\n            try {\n                dbFactory = DocumentBuilderFactory.newInstance();\n                dBuilder = dbFactory.newDocumentBuilder();\n                original = dBuilder.parse(new InputSource(new InputStreamReader(new FileInputStream(\"xml Store - Copy.xml\"))));\n            } catch (SAXException | IOException | ParserConfigurationException e) {\n                e.printStackTrace();\n            }\n            StringWriter stringWriter = new StringWriter();\n            StreamResult xmlOutput = new StreamResult(stringWriter);\n            TransformerFactory tf = TransformerFactory.newInstance();\n            //tf.setAttribute(\"indent-number\", 2);\n            Transformer transformer = tf.newTransformer();\n            transformer.setOutputProperty(OutputKeys.METHOD, \"xml\");\n            transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"4\");\n            transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"no\");\n            transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n            transformer.setOutputProperty(OutputKeys.ENCODING, \"UTF-8\");\n            transformer.transform(new DOMSource(original), xmlOutput);\n            java.lang.System.out.println(xmlOutput.getWriter().toString());\n        } catch (Exception ex) {\n            throw new RuntimeException(\"Error converting to String\", ex);\n        }\n    }\n\n    public static void main(String[] args){\n        new Test();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","json","xml","stax"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1513581573,"post_id":47863716,"comment_id":82692312,"body_markdown":"what are you asking?","body":"what are you asking?"}],"answers":[{"tags":[],"owner":{"account_id":9460988,"reputation":812,"user_id":7034696,"display_name":"SamwellTarly"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513581879,"creation_date":1513581879,"answer_id":47863778,"question_id":47863716,"body_markdown":"Why not use already existing JARs to do the job.   \r\nOne such efficient parser is present in java-json\r\nhttp://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm\r\n\r\nConversion can be done in one line using     \r\n\r\n    import org.json.XML;\r\n\r\n    ....\r\n\r\n    JSONObject jsonObject = XML.toJSONObject(&quot;Your XML Here&quot;);","title":"Efficient parser to convert XML to JSON in java without JsonObject and Array","body":"<p>Why not use already existing JARs to do the job.<br>\nOne such efficient parser is present in java-json\n<a href=\"http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm</a></p>\n\n<p>Conversion can be done in one line using     </p>\n\n<pre><code>import org.json.XML;\n\n....\n\nJSONObject jsonObject = XML.toJSONObject(\"Your XML Here\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643887233,"creation_date":1535301154,"answer_id":52028211,"question_id":47863716,"body_markdown":"[Underscore-java][1] library can convert xml to json. I am the maintainer of the project. [Live example][2]\r\n\r\n    import com.github.underscore.U;\r\n\r\n    public class JsonConversion {\r\n        public static String TEST_XML_STRING =\r\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; ?&gt;&lt;test attrib=\\&quot;moretest\\&quot;&gt;Turn this to JSON&lt;/test&gt;&quot;;\r\n        public static void main(String args[]) {\r\n            String jsonPrettyPrintString = U.xmlToJson(TEST_XML_STRING);\r\n            System.out.println(jsonPrettyPrintString);\r\n            // {\r\n            //   &quot;test&quot;: {\r\n            //     &quot;-attrib&quot;: &quot;moretest&quot;,\r\n            //     &quot;#text&quot;: &quot;Turn this to JSON&quot;\r\n            //   }\r\n            // }\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://www.jdoodle.com/embed/v0/Dzd","title":"Efficient parser to convert XML to JSON in java without JsonObject and Array","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library can convert xml to json. I am the maintainer of the project. <a href=\"https://www.jdoodle.com/embed/v0/Dzd\" rel=\"nofollow noreferrer\">Live example</a></p>\n<pre><code>import com.github.underscore.U;\n\npublic class JsonConversion {\n    public static String TEST_XML_STRING =\n        &quot;&lt;?xml version=\\&quot;1.0\\&quot; ?&gt;&lt;test attrib=\\&quot;moretest\\&quot;&gt;Turn this to JSON&lt;/test&gt;&quot;;\n    public static void main(String args[]) {\n        String jsonPrettyPrintString = U.xmlToJson(TEST_XML_STRING);\n        System.out.println(jsonPrettyPrintString);\n        // {\n        //   &quot;test&quot;: {\n        //     &quot;-attrib&quot;: &quot;moretest&quot;,\n        //     &quot;#text&quot;: &quot;Turn this to JSON&quot;\n        //   }\n        // }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13192890,"reputation":791,"user_id":9528696,"display_name":"Ashwini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1535533912,"creation_date":1535533912,"answer_id":52073680,"question_id":47863716,"body_markdown":"Sample code to convert XML to JSON. Create a java project in eclipse since I am creating a java project I will manually import the Java-json.jar by right-clicking on the project and select configure build path their by selecting the add external jar option add the jar file and run the project. If you are building using maven project add the following dependency in the pom.xml \r\n\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20140107&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n    package com.test.jsontoxml\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.json.XML;\r\n\r\n    public class JsonConversion {\r\n\t\t\r\n\t public static int PRETTY_PRINT_INDENT_FACTOR = 4;\r\n\t    public static String TEST_XML_STRING =\r\n\t        &quot;&lt;?xml version=\\&quot;1.0\\&quot; ?&gt;&lt;test attrib=\\&quot;moretest\\&quot;&gt;Turn this to JSON&lt;/test&gt;&quot;;\r\n\t    \t\t\r\n\t    public static void main(String[] args) {\r\n\t        try {\r\n\t            JSONObject xmlJSONObj = XML.toJSONObject(TEST_XML_STRING);\r\n\t            String jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\r\n\t            System.out.println(jsonPrettyPrintString);\r\n\t        } catch (JSONException je) {\r\n\t            System.out.println(je.toString());\r\n\t        }\r\n\t    }\r\n    }","title":"Efficient parser to convert XML to JSON in java without JsonObject and Array","body":"<p>Sample code to convert XML to JSON. Create a java project in eclipse since I am creating a java project I will manually import the Java-json.jar by right-clicking on the project and select configure build path their by selecting the add external jar option add the jar file and run the project. If you are building using maven project add the following dependency in the pom.xml </p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.json&lt;/groupId&gt;\n&lt;artifactId&gt;json&lt;/artifactId&gt;\n&lt;version&gt;20140107&lt;/version&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>package com.test.jsontoxml\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.json.XML;\n\npublic class JsonConversion {\n\n public static int PRETTY_PRINT_INDENT_FACTOR = 4;\n    public static String TEST_XML_STRING =\n        \"&lt;?xml version=\\\"1.0\\\" ?&gt;&lt;test attrib=\\\"moretest\\\"&gt;Turn this to JSON&lt;/test&gt;\";\n\n    public static void main(String[] args) {\n        try {\n            JSONObject xmlJSONObj = XML.toJSONObject(TEST_XML_STRING);\n            String jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\n            System.out.println(jsonPrettyPrintString);\n        } catch (JSONException je) {\n            System.out.println(je.toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8780066,"reputation":416,"user_id":6563959,"accept_rate":100,"display_name":"Navin a.s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12854,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":52073680,"answer_count":3,"score":-2,"last_activity_date":1643887233,"creation_date":1513581524,"question_id":47863716,"body_markdown":"I tried to convert XML to JSON in java. I am using Stax parser for Conversion. After getting START_ELEMENT, END_ELEMENT, CHARACTERS, I don&#39;t know how to convert it to JSON Format. Not use any inbuilt libraries, JsonObject, JSonArray.IS any logic available For this conversion...","title":"Efficient parser to convert XML to JSON in java without JsonObject and Array","body":"<p>I tried to convert XML to JSON in java. I am using Stax parser for Conversion. After getting START_ELEMENT, END_ELEMENT, CHARACTERS, I don't know how to convert it to JSON Format. Not use any inbuilt libraries, JsonObject, JSonArray.IS any logic available For this conversion...</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8369,"page":1623,"page_size":100}
