{"items":[{"tags":["java","date","simpledateformat","date-format"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1683852390,"post_id":76232447,"comment_id":134433887,"body_markdown":"`&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;` is not the same as `&quot;2023-03-13 12:00:02&quot;` - you parsing format needs to match the expected input `String` otherwise it won&#39;t work. I&#39;d also encourage you to stop using the `java.util` based date/time classes and make use of the newer `java.time` APIs instead","body":"<code>&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;</code> is not the same as <code>&quot;2023-03-13 12:00:02&quot;</code> - you parsing format needs to match the expected input <code>String</code> otherwise it won&#39;t work. I&#39;d also encourage you to stop using the <code>java.util</code> based date/time classes and make use of the newer <code>java.time</code> APIs instead"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1683852739,"post_id":76232447,"comment_id":134433914,"body_markdown":"I&#39;m assuming your trying to present nano seconds and not milliseconds, which `SimpleDateFormat` doesn&#39;t support, instead you should be trying to use something more like `LocalDateTime.parse(dateService, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy, HH:mm:ss.nnnnnnnn&quot;))`","body":"I&#39;m assuming your trying to present nano seconds and not milliseconds, which <code>SimpleDateFormat</code> doesn&#39;t support, instead you should be trying to use something more like <code>LocalDateTime.parse(dateService, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd&#47;MM&#47;yyyy, HH:mm:ss.nnnnnnnn&quot;))</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1683860319,"post_id":76232447,"comment_id":134434525,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683988309,"post_id":76232447,"comment_id":134452431,"body_markdown":"`LocalDateTime .parse(&quot;2023-03-13 12:00:02&quot;, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;)) .format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss.SSSSSSSSS&quot;))`. It yields `13-03-2023 12:00:02.000000000`.","body":"<code>LocalDateTime .parse(&quot;2023-03-13 12:00:02&quot;, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;)) .format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss.SSSSSSSSS&quot;))</code>. It yields <code>13-03-2023 12:00:02.000000000</code>."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1683860668,"post_id":76232571,"comment_id":134434546,"body_markdown":"Thanks for wanting to contribute. Your way of doing it is strongly discouraged. We should all have stopped using `SimpleDateFormat` a long time ago since it is so troublesome to work with. Use [java.time, the moddern java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). And when you use its `DateTimeFormatter`, beware of the case of format pattern letters. You don’t want lower case `hh` here.","body":"Thanks for wanting to contribute. Your way of doing it is strongly discouraged. We should all have stopped using <code>SimpleDateFormat</code> a long time ago since it is so troublesome to work with. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the moddern java date and time API</a>. And when you use its <code>DateTimeFormatter</code>, beware of the case of format pattern letters. You don’t want lower case <code>hh</code> here."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683874923,"post_id":76232571,"comment_id":134436210,"body_markdown":"also using `SimpleDateFormat`, as posted here, will not work correctly if using `hh` (12-hour format) (e.g. `formatoFechaFinBd(&quot;2022-10-20 15:16:17&quot;)` will return `&quot;20-10-2022 03:16:17.000000000&quot;`) || `SSSSSSSSS`  would also be wrong if input format had milliseconds","body":"also using <code>SimpleDateFormat</code>, as posted here, will not work correctly if using <code>hh</code> (12-hour format) (e.g. <code>formatoFechaFinBd(&quot;2022-10-20 15:16:17&quot;)</code> will return <code>&quot;20-10-2022 03:16:17.000000000&quot;</code>) || <code>SSSSSSSSS</code>  would also be wrong if input format had milliseconds"}],"tags":[],"owner":{"account_id":11389357,"reputation":9,"user_id":8349982,"display_name":"baoyinlei"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683854611,"creation_date":1683854611,"answer_id":76232571,"question_id":76232447,"body_markdown":"```\r\nstatic String formatoFechaFinBd(String dateService) throws ParseException {\r\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).parse(dateService);\r\n        String formattedDate = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss.SSSSSSSSS&quot;).format(date);\r\n        return formattedDate;\r\n    }\r\n```","title":"How to format a date inside a String with Java?","body":"<pre><code>static String formatoFechaFinBd(String dateService) throws ParseException {\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).parse(dateService);\n        String formattedDate = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss.SSSSSSSSS&quot;).format(date);\n        return formattedDate;\n    }\n</code></pre>\n"}],"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683860408,"answer_count":1,"score":0,"last_activity_date":1683854611,"creation_date":1683852070,"question_id":76232447,"body_markdown":"I have a String that receives the following date format (yyyy-MM-dd ...)\r\n\r\n&gt; &quot;2023-03-13 12:00:02&quot;\r\n\r\nand i need to change the format to the following (dd-MM-yyyy ...) \r\n\r\n    &quot;13-03-2023 12:00:02.000000000&quot;\r\n\r\nI tried to build the following method but it doesn&#39;t work and I don&#39;t have much idea how it should be\r\n\r\n    String formatoFechaFinBd(String dateService) throws ParseException {\r\n    \t\tDate date = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).parse(dateService);\r\n    \t\t\r\n    \t\tString formattedDate = new SimpleDateFormat(&quot;dd/MM/yyyy, Ka&quot;).format(date);\r\n    \t    return formattedDate;\r\n    \t}\r\n\r\n\r\nHow can I do the conversion I need to get that date format in the String","title":"How to format a date inside a String with Java?","body":"<p>I have a String that receives the following date format (yyyy-MM-dd ...)</p>\n<blockquote>\n<p>&quot;2023-03-13 12:00:02&quot;</p>\n</blockquote>\n<p>and i need to change the format to the following (dd-MM-yyyy ...)</p>\n<pre><code>&quot;13-03-2023 12:00:02.000000000&quot;\n</code></pre>\n<p>I tried to build the following method but it doesn't work and I don't have much idea how it should be</p>\n<pre><code>String formatoFechaFinBd(String dateService) throws ParseException {\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;).parse(dateService);\n        \n        String formattedDate = new SimpleDateFormat(&quot;dd/MM/yyyy, Ka&quot;).format(date);\n        return formattedDate;\n    }\n</code></pre>\n<p>How can I do the conversion I need to get that date format in the String</p>\n"},{"tags":["java","antlr","antlr4","abstract-syntax-tree"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683833372,"post_id":76229894,"comment_id":134431138,"body_markdown":"Does this answer your question? [How to create AST with ANTLR4?](https://stackoverflow.com/questions/29971097/how-to-create-ast-with-antlr4)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29971097/how-to-create-ast-with-antlr4\">How to create AST with ANTLR4?</a>"},{"owner":{"account_id":28546856,"reputation":11,"user_id":21852177,"display_name":"Bj&#248;rn Jakobsen"},"score":0,"creation_date":1683910675,"post_id":76229894,"comment_id":134444257,"body_markdown":"@aled The answer was not quite what I needed, but it gave me the inspiration I needed to fix it and it now works flawlessly.","body":"@aled The answer was not quite what I needed, but it gave me the inspiration I needed to fix it and it now works flawlessly."}],"answers":[{"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683854598,"creation_date":1683854598,"answer_id":76232570,"question_id":76229894,"body_markdown":"This construct:\r\n```\r\nstmts : s1=stmt s2=stmts\r\n        | ;\r\nstmt : INTVAL &#39;;&#39; ;\r\n```\r\n\r\nWill create a parse tree that is n nodes deep where n is the number of `stmt`s, and each level will have its own `stmts` node.  This will make it a bit cumbersome to navigate to the &quot;parent&quot; of the top level `stmts` node.  \r\n\r\nThis is not an uncommon structure in parser generators less expressive than ANTLR.  However, in ANTLR you can get the same ability to parse &quot;one or more `stmt`s&quot; as a `stmts` rule, like so:\r\n\r\n```\r\nstmts: stmt+;\r\n```\r\n\r\nIf you take a look at the Ctx class generated for this rule, you&#39;ll find that all of your `stmt`s will be in a list in the `stmts` Ctx.  You won&#39;t have to trace up an extended tree to find the root `stmts`&#39;s parent.\r\n\r\nYou don&#39;t provide sample input so it&#39;s not easy to provide images of the difference between the parse trees, but you can use the `grun` alias, an ANTLR plugin for your IDE or [Antlr Lab][1] to see the difference in the two parse trees. Take a look at the parse tree with and without the changes, and it should be obvious that using `+` to build the list produces a parse tree that&#39;s much more manageable.\r\n\r\nThis should make it much easier to gather all of the `stmt` nodes that are the children of your `stmts` node (and you&#39;ll only have a single `stmts` node that just contains a list of the `stmt` children).\r\n\r\nNote:  You may even find, that it simplifies things enough that you can change:\r\n\r\n```\r\nsetup : SETUP LCURLY s=stmts RCURLY ;\r\nround : ROUND LCURLY s=stmts RCURLY ;\r\n```\r\n\r\nto:\r\n\r\n```\r\nsetup : SETUP LCURLY s=stmt+ RCURLY ;\r\nround : ROUND LCURLY s=stmt+ RCURLY ;\r\n```\r\nand drop the `stmts` rule entirely. \r\n\r\n  [1]: http://lab.antlr.org","title":"How do I choose a parent node when building an AST in antlr4?","body":"<p>This construct:</p>\n<pre><code>stmts : s1=stmt s2=stmts\n        | ;\nstmt : INTVAL ';' ;\n</code></pre>\n<p>Will create a parse tree that is n nodes deep where n is the number of <code>stmt</code>s, and each level will have its own <code>stmts</code> node.  This will make it a bit cumbersome to navigate to the &quot;parent&quot; of the top level <code>stmts</code> node.</p>\n<p>This is not an uncommon structure in parser generators less expressive than ANTLR.  However, in ANTLR you can get the same ability to parse &quot;one or more <code>stmt</code>s&quot; as a <code>stmts</code> rule, like so:</p>\n<pre><code>stmts: stmt+;\n</code></pre>\n<p>If you take a look at the Ctx class generated for this rule, you'll find that all of your <code>stmt</code>s will be in a list in the <code>stmts</code> Ctx.  You won't have to trace up an extended tree to find the root <code>stmts</code>'s parent.</p>\n<p>You don't provide sample input so it's not easy to provide images of the difference between the parse trees, but you can use the <code>grun</code> alias, an ANTLR plugin for your IDE or <a href=\"http://lab.antlr.org\" rel=\"nofollow noreferrer\">Antlr Lab</a> to see the difference in the two parse trees. Take a look at the parse tree with and without the changes, and it should be obvious that using <code>+</code> to build the list produces a parse tree that's much more manageable.</p>\n<p>This should make it much easier to gather all of the <code>stmt</code> nodes that are the children of your <code>stmts</code> node (and you'll only have a single <code>stmts</code> node that just contains a list of the <code>stmt</code> children).</p>\n<p>Note:  You may even find, that it simplifies things enough that you can change:</p>\n<pre><code>setup : SETUP LCURLY s=stmts RCURLY ;\nround : ROUND LCURLY s=stmts RCURLY ;\n</code></pre>\n<p>to:</p>\n<pre><code>setup : SETUP LCURLY s=stmt+ RCURLY ;\nround : ROUND LCURLY s=stmt+ RCURLY ;\n</code></pre>\n<p>and drop the <code>stmts</code> rule entirely.</p>\n"}],"owner":{"account_id":28546856,"reputation":11,"user_id":21852177,"display_name":"Bj&#248;rn Jakobsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76232570,"answer_count":1,"score":0,"last_activity_date":1683854598,"creation_date":1683823512,"question_id":76229894,"body_markdown":"I have the following AST: \r\n```\r\nimport org.antlr.v4.runtime.CommonToken;\r\nimport org.antlr.v4.runtime.Token;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic class AST {\r\n    Token token;             // from which token do we create this node?\r\n    List&lt;AST&gt; children;      // normalized list of children\r\n\r\n    public AST() { ; } // for making nil-rooted nodes\r\n\r\n    public AST(Token token) { this.token = token; }\r\n\r\n    /** Create node from token type; used mainly for imaginary tokens */\r\n    public AST(int tokenType) { this.token = new CommonToken(tokenType); }\r\n\r\n    /** external visitors execute the same action for all nodes\r\n     * with same node type while walking\r\n     */\r\n    public int getNodeType() { return token.getType(); }\r\n\r\n    public void addChild(AST t) {\r\n        if (children == null) children = new ArrayList&lt;&gt;();\r\n        children.add(t);\r\n    }\r\n    public void addChildren(AST... nodes) {\r\n        List&lt;AST&gt; asts = new ArrayList&lt;AST&gt;();\r\n        for (AST node : nodes){asts.add(node);}\r\n        for (int i = 0; i &lt; asts.size(); i++) {\r\n            this.addChild(asts.get(i));\r\n        }\r\n    }\r\n\r\n    public List&lt;AST&gt; getChildren() { return children; }\r\n\r\n    /** to represent flat lists. A list is a subtree w/o a root, which we simulate\r\n     * with a nil root node. A nil node is a node with token == null.\r\n     */\r\n    public boolean isNil() { return token == null; }\r\n\r\n    /** Compute string for single node */\r\n    public String toString() {\r\n        String typeName = CLUBParser.VOCABULARY.getSymbolicName(getNodeType());\r\n        typeName = typeName == null ? token.getText() : typeName;\r\n        return token != null ? &quot;&lt;&quot; +typeName +&quot;, &#39;&quot; + token.getText() +&quot;&#39;&gt;&quot;: &quot;nil&quot;;\r\n    }\r\n\r\n    /** Compute string for a whole tree */\r\n    public String toStringTree() {\r\n        if (children == null || children.isEmpty()) return this.toString();\r\n\r\n        StringBuilder buf = new StringBuilder();\r\n        if (!isNil()) {\r\n            buf.append(&#39;(&#39;);\r\n            buf.append(this.toString());\r\n            buf.append(&#39; &#39;);\r\n        }\r\n        for (int i = 0; i &lt; children.size(); i++) {\r\n            AST t = children.get(i); // normalized (unnamed) children\r\n            if (t != null) {  // Null check\r\n                if (i &gt; 0) buf.append(&#39; &#39;);\r\n                buf.append(t.toStringTree());\r\n            }\r\n        }\r\n        if (!isNil()) buf.append(&#39;)&#39;);\r\n        return buf.toString();\r\n    }\r\n}\r\n```\r\nThis Grammar:\r\n\r\n```\r\ngrammar CLUB;\r\n\r\nprogram : setup round turn funcs EOF ;\r\nsetup : SETUP LCURLY s=stmts RCURLY ;\r\nround : ROUND LCURLY s=stmts RCURLY ;\r\nturn : TURN &#39;(&#39; CLASSID VARID &#39;)&#39; &#39;{&#39; s=stmts &#39;}&#39;\r\n        | ;\r\nfuncs : func+\r\n        | ;\r\nstmts : s1=stmt s2=stmts\r\n        | ;\r\nfunc : FUNCID &#39;(&#39; tParams &#39;)&#39; &#39;{&#39; stmts &#39;}&#39;\r\n        | FUNCID &#39;(&#39; &#39;)&#39; &#39;{&#39; stmts &#39;}&#39; ;\r\ntParams : tParam &#39;,&#39; tParams;\r\nstmt : INTVAL &#39;;&#39; ;\r\niterStmt : &#39;while&#39; &#39;(&#39; expr &#39;)&#39; &#39;{&#39; stmts &#39;}&#39;\r\n        | &#39;for&#39; &#39;(&#39; decl &#39;;&#39; expr &#39;;&#39; postfExpr &#39;)&#39; &#39;{&#39; stmts &#39;}&#39; ;\r\nselectStmt : &#39;if&#39; &#39;(&#39; expr &#39;)&#39; &#39;{&#39; stmts &#39;}&#39; ;\r\nexprStmt : expr ;\r\ntype : &#39;bool&#39;\r\n        | &#39;int&#39;\r\n        | &#39;string&#39; ;\r\ntParam : type VARID ;\r\nparams : param &#39;,&#39; params\r\n        |&#39;[&#39;list&#39;]&#39; &#39;,&#39; param\r\n        | param ;\r\nlist : OBJID &#39;,&#39; list\r\n        | OBJID ;\r\nparam : assignExpr ;\r\nexpr : assignExpr ;\r\nassignExpr : logicOrExpr\r\n        | primaryExpr &#39;=&#39; assignExpr ;\r\nlogicOrExpr : logicAndExpr\r\n        | logicOrExpr &#39;||&#39; logicAndExpr ;\r\nlogicAndExpr : equalExpr\r\n        | logicAndExpr &#39;&amp;&amp;&#39; equalExpr ;\r\nequalExpr : relatExpr\r\n        | equalExpr &#39;==&#39; relatExpr\r\n        | equalExpr &#39;!=&#39; relatExpr ;\r\nrelatExpr : addExpr\r\n        | relatExpr &#39;&lt;&#39; addExpr\r\n        | relatExpr &#39;&gt;&#39; addExpr\r\n        | relatExpr &#39;&lt;=&#39; addExpr\r\n        | relatExpr &#39;&gt;=&#39; addExpr ;\r\naddExpr : multExpr\r\n        | addExpr &#39;+&#39; multExpr\r\n        | addExpr &#39;-&#39; multExpr ;\r\nmultExpr : unaryExpr\r\n        | multExpr &#39;*&#39; unaryExpr\r\n        | multExpr &#39;/&#39; unaryExpr ;\r\nunaryExpr : postfExpr\r\n        | &#39;-&#39; postfExpr\r\n        | &#39;!&#39; postfExpr ;\r\npostfExpr : primaryExpr\r\n        | primaryExpr &#39;++&#39;\r\n        | primaryExpr &#39;--&#39;\r\n        | primaryExpr &#39;(&#39; params &#39;)&#39;\r\n        | primaryExpr &#39;(&#39;  &#39;)&#39;\r\n        | METHODID &#39;(&#39; params &#39;)&#39;\r\n        | METHODID &#39;(&#39; &#39;)&#39;\r\n        | primaryExpr &#39;.&#39; postfExpr ;\r\nprimaryExpr : val\r\n        | VARID\r\n        | OBJID\r\n        | FUNCID\r\n        | CLASSID ;\r\nval : BOOLVAL\r\n        | INTVAL\r\n        | STRINGVAL  ;\r\ndecl : tParam &#39;=&#39; logicOrExpr ;\r\n\r\nAND : &#39;&amp;&amp;&#39; ;\r\nOR : &#39;||&#39; ;\r\nEQ : &#39;==&#39; ;\r\nNOTEQ : &#39;!=&#39; ;\r\nSMALLER : &#39;&lt;&#39; ;\r\nLARGER : &#39;&gt;&#39; ;\r\nSMALLEREQ : &#39;&lt;=&#39; ;\r\nBIGGEREQ : &#39;&gt;=&#39; ;\r\nINCREM : &#39;++&#39; ;\r\nDECREM : &#39;--&#39; ;\r\nPLUS : &#39;+&#39; ;\r\nMINUS : &#39;-&#39; ;\r\nMULT : &#39;*&#39; ;\r\nDIVIDE : &#39;/&#39; ;\r\nDOT : &#39;.&#39; ;\r\nNOT : &#39;!&#39; ;\r\nASSIGN : &#39;=&#39; ;\r\nCOMMA : &#39;,&#39; ;\r\nSEMI : &#39;;&#39; ;\r\nLPAREN : &#39;(&#39; ;\r\nRPAREN : &#39;)&#39; ;\r\nLCURLY : &#39;{&#39; ;\r\nRCURLY : &#39;}&#39; ;\r\nLSQUARE : &#39;[&#39; ;\r\nRSQUARE : &#39;]&#39; ;\r\n\r\nWS: [ \\t\\n\\r\\f]+ -&gt; skip ;\r\n\r\n\r\nSETUP : &#39;Setup&#39; ;\r\nROUND : &#39;Round&#39; ;\r\nTURN : &#39;Turn&#39; ;\r\nWHILE : &#39;while&#39; ;\r\nFOR : &#39;for&#39; ;\r\nIF : &#39;if&#39; ;\r\nBOOL : &#39;bool&#39; ;\r\nINT : &#39;int&#39; ;\r\nSTRING : &#39;string&#39; ;\r\n\r\n\r\nMETHODID : &#39;create&#39;\r\n        |&#39;getHand&#39;\r\n        |&#39;getHandPoints&#39;\r\n        |&#39;handSize&#39;\r\n        |&#39;printHand&#39;\r\n        |&#39;getTable&#39;\r\n        |&#39;getTablePoints&#39;\r\n        |&#39;printTable&#39;\r\n        |&#39;getDiscardPile&#39;\r\n        |&#39;draw&#39;\r\n        |&#39;discard&#39;\r\n        |&#39;takeCard&#39;\r\n        |&#39;layDown&#39;\r\n        |&#39;addJokers&#39;\r\n        |&#39;assignPoints&#39;\r\n        |&#39;shuffle&#39;\r\n        |&#39;getCard&#39;\r\n        |&#39;getCards&#39;\r\n        |&#39;print&#39;\r\n        |&#39;size&#39;\r\n        |&#39;returnCards&#39;\r\n        |&#39;returnDiscardPile&#39;\r\n        |&#39;flip&#39;\r\n        |&#39;getPoints&#39; ;\r\nBOOLVAL : &#39;true&#39;\r\n        | &#39;false&#39; ;\r\nCLASSID : &#39;Player&#39;\r\n        | &#39;Deck&#39;\r\n        | &#39;Card&#39;\r\n        | &#39;Table&#39; ;\r\nOBJID : [HDCS][2-9]\r\n        |[HDCS]&#39;1&#39;[0-3]?\r\n        |&#39;J&#39;[1-3]\r\n        |&#39;player&#39;[1-9][0-9]*\r\n        |&#39;deck&#39;\r\n        |&#39;table&#39; ;\r\nINTVAL : &#39;0&#39;\r\n        | [1-9][0-9]* ;\r\nVARID : [a-z][a-zA-Z_0-9]* ;\r\nFUNCID : [A-Z][a-zA-Z_0-9]* ;\r\nSTRINGVAL : &#39;&quot;&#39;~[&quot;]*&#39;&quot;&#39; ;\r\n```\r\nAnd the following overwritten methods that work fine: \r\n\r\n```Java\r\npublic class ClubBuildASTVisitor extends CLUBBaseVisitor&lt;AST&gt; {\r\n    // Start of tree\r\n    @Override\r\n    public AST visitProgram(CLUBParser.ProgramContext ctx) {\r\n        AST ast = new AST();\r\n        ast.addChild(visit(ctx.setup()));\r\n        ast.addChild(visit(ctx.round()));\r\n        ast.addChild(visit(ctx.turn()));\r\n        ast.addChild(visit(ctx.funcs()));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitSetup(CLUBParser.SetupContext ctx) {\r\n        AST ast = new AST(ctx.SETUP().getSymbol());\r\n        ast.addChild(visit(ctx.stmts()));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitRound(CLUBParser.RoundContext ctx) {\r\n        AST ast = new AST(ctx.ROUND().getSymbol());\r\n        AST stmtsAst = visit(ctx.stmts());\r\n        ast.addChild(stmtsAst);\r\n        return ast;\r\n    }\r\n```\r\nIm trying to create one for visitStmts. The problem is that the when I make one it keeps choosing the first child in the tree to become the root. An example would be: \r\n```\r\n@Override\r\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\r\n    AST ast = new AST(ctx.getStart());\r\n    int childCount = ctx.getChildCount();\r\n    for (int i = 0; i &lt; childCount; i++) {\r\n        ParseTree child = ctx.getChild(i);\r\n        AST childAst = visit(child);\r\n        ast.addChild(childAst);\r\n    }\r\n    return ast;\r\n}\r\n```\r\nHow can i choose Round as my root and make the rest children?\r\n\r\n\r\n\r\nive tried replacing the parameters of the \r\n```\r\n@Override\r\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\r\n    AST ast = new AST(new CommonToken(CLUBParser.ROUND)); // Create AST with &quot;ROUND&quot; as the root token\r\n\r\n    if (ctx.stmt() != null) {\r\n        AST stmtChild = visit(ctx.stmt());\r\n        ast.addChild(stmtChild);\r\n    }\r\n\r\n    if (ctx.stmts() != null) {\r\n        AST stmtsChild = visit(ctx.stmts());\r\n        if (stmtsChild != null &amp;&amp; !stmtsChild.isNil()) {\r\n            for (AST child : stmtsChild.getChildren()) {\r\n                ast.addChild(child);\r\n            }\r\n        }\r\n    }\r\n\r\n    return ast;\r\n}\r\n```\r\nBut that ends up with the output looking like this:\r\n`(&lt;SETUP, &#39;Setup&#39;&gt; (&lt;ROUND, &#39;null&#39;&gt; )) (&lt;ROUND, &#39;Round&#39;&gt; (&lt;ROUND, &#39;null&#39;&gt; ))`\r\n\r\nI need the AST for type checking but ive read its also possible to do so with the parse tree built into antlr4?","title":"How do I choose a parent node when building an AST in antlr4?","body":"<p>I have the following AST:</p>\n<pre><code>import org.antlr.v4.runtime.CommonToken;\nimport org.antlr.v4.runtime.Token;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class AST {\n    Token token;             // from which token do we create this node?\n    List&lt;AST&gt; children;      // normalized list of children\n\n    public AST() { ; } // for making nil-rooted nodes\n\n    public AST(Token token) { this.token = token; }\n\n    /** Create node from token type; used mainly for imaginary tokens */\n    public AST(int tokenType) { this.token = new CommonToken(tokenType); }\n\n    /** external visitors execute the same action for all nodes\n     * with same node type while walking\n     */\n    public int getNodeType() { return token.getType(); }\n\n    public void addChild(AST t) {\n        if (children == null) children = new ArrayList&lt;&gt;();\n        children.add(t);\n    }\n    public void addChildren(AST... nodes) {\n        List&lt;AST&gt; asts = new ArrayList&lt;AST&gt;();\n        for (AST node : nodes){asts.add(node);}\n        for (int i = 0; i &lt; asts.size(); i++) {\n            this.addChild(asts.get(i));\n        }\n    }\n\n    public List&lt;AST&gt; getChildren() { return children; }\n\n    /** to represent flat lists. A list is a subtree w/o a root, which we simulate\n     * with a nil root node. A nil node is a node with token == null.\n     */\n    public boolean isNil() { return token == null; }\n\n    /** Compute string for single node */\n    public String toString() {\n        String typeName = CLUBParser.VOCABULARY.getSymbolicName(getNodeType());\n        typeName = typeName == null ? token.getText() : typeName;\n        return token != null ? &quot;&lt;&quot; +typeName +&quot;, '&quot; + token.getText() +&quot;'&gt;&quot;: &quot;nil&quot;;\n    }\n\n    /** Compute string for a whole tree */\n    public String toStringTree() {\n        if (children == null || children.isEmpty()) return this.toString();\n\n        StringBuilder buf = new StringBuilder();\n        if (!isNil()) {\n            buf.append('(');\n            buf.append(this.toString());\n            buf.append(' ');\n        }\n        for (int i = 0; i &lt; children.size(); i++) {\n            AST t = children.get(i); // normalized (unnamed) children\n            if (t != null) {  // Null check\n                if (i &gt; 0) buf.append(' ');\n                buf.append(t.toStringTree());\n            }\n        }\n        if (!isNil()) buf.append(')');\n        return buf.toString();\n    }\n}\n</code></pre>\n<p>This Grammar:</p>\n<pre><code>grammar CLUB;\n\nprogram : setup round turn funcs EOF ;\nsetup : SETUP LCURLY s=stmts RCURLY ;\nround : ROUND LCURLY s=stmts RCURLY ;\nturn : TURN '(' CLASSID VARID ')' '{' s=stmts '}'\n        | ;\nfuncs : func+\n        | ;\nstmts : s1=stmt s2=stmts\n        | ;\nfunc : FUNCID '(' tParams ')' '{' stmts '}'\n        | FUNCID '(' ')' '{' stmts '}' ;\ntParams : tParam ',' tParams;\nstmt : INTVAL ';' ;\niterStmt : 'while' '(' expr ')' '{' stmts '}'\n        | 'for' '(' decl ';' expr ';' postfExpr ')' '{' stmts '}' ;\nselectStmt : 'if' '(' expr ')' '{' stmts '}' ;\nexprStmt : expr ;\ntype : 'bool'\n        | 'int'\n        | 'string' ;\ntParam : type VARID ;\nparams : param ',' params\n        |'['list']' ',' param\n        | param ;\nlist : OBJID ',' list\n        | OBJID ;\nparam : assignExpr ;\nexpr : assignExpr ;\nassignExpr : logicOrExpr\n        | primaryExpr '=' assignExpr ;\nlogicOrExpr : logicAndExpr\n        | logicOrExpr '||' logicAndExpr ;\nlogicAndExpr : equalExpr\n        | logicAndExpr '&amp;&amp;' equalExpr ;\nequalExpr : relatExpr\n        | equalExpr '==' relatExpr\n        | equalExpr '!=' relatExpr ;\nrelatExpr : addExpr\n        | relatExpr '&lt;' addExpr\n        | relatExpr '&gt;' addExpr\n        | relatExpr '&lt;=' addExpr\n        | relatExpr '&gt;=' addExpr ;\naddExpr : multExpr\n        | addExpr '+' multExpr\n        | addExpr '-' multExpr ;\nmultExpr : unaryExpr\n        | multExpr '*' unaryExpr\n        | multExpr '/' unaryExpr ;\nunaryExpr : postfExpr\n        | '-' postfExpr\n        | '!' postfExpr ;\npostfExpr : primaryExpr\n        | primaryExpr '++'\n        | primaryExpr '--'\n        | primaryExpr '(' params ')'\n        | primaryExpr '('  ')'\n        | METHODID '(' params ')'\n        | METHODID '(' ')'\n        | primaryExpr '.' postfExpr ;\nprimaryExpr : val\n        | VARID\n        | OBJID\n        | FUNCID\n        | CLASSID ;\nval : BOOLVAL\n        | INTVAL\n        | STRINGVAL  ;\ndecl : tParam '=' logicOrExpr ;\n\nAND : '&amp;&amp;' ;\nOR : '||' ;\nEQ : '==' ;\nNOTEQ : '!=' ;\nSMALLER : '&lt;' ;\nLARGER : '&gt;' ;\nSMALLEREQ : '&lt;=' ;\nBIGGEREQ : '&gt;=' ;\nINCREM : '++' ;\nDECREM : '--' ;\nPLUS : '+' ;\nMINUS : '-' ;\nMULT : '*' ;\nDIVIDE : '/' ;\nDOT : '.' ;\nNOT : '!' ;\nASSIGN : '=' ;\nCOMMA : ',' ;\nSEMI : ';' ;\nLPAREN : '(' ;\nRPAREN : ')' ;\nLCURLY : '{' ;\nRCURLY : '}' ;\nLSQUARE : '[' ;\nRSQUARE : ']' ;\n\nWS: [ \\t\\n\\r\\f]+ -&gt; skip ;\n\n\nSETUP : 'Setup' ;\nROUND : 'Round' ;\nTURN : 'Turn' ;\nWHILE : 'while' ;\nFOR : 'for' ;\nIF : 'if' ;\nBOOL : 'bool' ;\nINT : 'int' ;\nSTRING : 'string' ;\n\n\nMETHODID : 'create'\n        |'getHand'\n        |'getHandPoints'\n        |'handSize'\n        |'printHand'\n        |'getTable'\n        |'getTablePoints'\n        |'printTable'\n        |'getDiscardPile'\n        |'draw'\n        |'discard'\n        |'takeCard'\n        |'layDown'\n        |'addJokers'\n        |'assignPoints'\n        |'shuffle'\n        |'getCard'\n        |'getCards'\n        |'print'\n        |'size'\n        |'returnCards'\n        |'returnDiscardPile'\n        |'flip'\n        |'getPoints' ;\nBOOLVAL : 'true'\n        | 'false' ;\nCLASSID : 'Player'\n        | 'Deck'\n        | 'Card'\n        | 'Table' ;\nOBJID : [HDCS][2-9]\n        |[HDCS]'1'[0-3]?\n        |'J'[1-3]\n        |'player'[1-9][0-9]*\n        |'deck'\n        |'table' ;\nINTVAL : '0'\n        | [1-9][0-9]* ;\nVARID : [a-z][a-zA-Z_0-9]* ;\nFUNCID : [A-Z][a-zA-Z_0-9]* ;\nSTRINGVAL : '&quot;'~[&quot;]*'&quot;' ;\n</code></pre>\n<p>And the following overwritten methods that work fine:</p>\n<pre><code>public class ClubBuildASTVisitor extends CLUBBaseVisitor&lt;AST&gt; {\n    // Start of tree\n    @Override\n    public AST visitProgram(CLUBParser.ProgramContext ctx) {\n        AST ast = new AST();\n        ast.addChild(visit(ctx.setup()));\n        ast.addChild(visit(ctx.round()));\n        ast.addChild(visit(ctx.turn()));\n        ast.addChild(visit(ctx.funcs()));\n        return ast;\n    }\n\n    @Override\n    public AST visitSetup(CLUBParser.SetupContext ctx) {\n        AST ast = new AST(ctx.SETUP().getSymbol());\n        ast.addChild(visit(ctx.stmts()));\n        return ast;\n    }\n\n    @Override\n    public AST visitRound(CLUBParser.RoundContext ctx) {\n        AST ast = new AST(ctx.ROUND().getSymbol());\n        AST stmtsAst = visit(ctx.stmts());\n        ast.addChild(stmtsAst);\n        return ast;\n    }\n</code></pre>\n<p>Im trying to create one for visitStmts. The problem is that the when I make one it keeps choosing the first child in the tree to become the root. An example would be:</p>\n<pre><code>@Override\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\n    AST ast = new AST(ctx.getStart());\n    int childCount = ctx.getChildCount();\n    for (int i = 0; i &lt; childCount; i++) {\n        ParseTree child = ctx.getChild(i);\n        AST childAst = visit(child);\n        ast.addChild(childAst);\n    }\n    return ast;\n}\n</code></pre>\n<p>How can i choose Round as my root and make the rest children?</p>\n<p>ive tried replacing the parameters of the</p>\n<pre><code>@Override\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\n    AST ast = new AST(new CommonToken(CLUBParser.ROUND)); // Create AST with &quot;ROUND&quot; as the root token\n\n    if (ctx.stmt() != null) {\n        AST stmtChild = visit(ctx.stmt());\n        ast.addChild(stmtChild);\n    }\n\n    if (ctx.stmts() != null) {\n        AST stmtsChild = visit(ctx.stmts());\n        if (stmtsChild != null &amp;&amp; !stmtsChild.isNil()) {\n            for (AST child : stmtsChild.getChildren()) {\n                ast.addChild(child);\n            }\n        }\n    }\n\n    return ast;\n}\n</code></pre>\n<p>But that ends up with the output looking like this:\n<code>(&lt;SETUP, 'Setup'&gt; (&lt;ROUND, 'null'&gt; )) (&lt;ROUND, 'Round'&gt; (&lt;ROUND, 'null'&gt; ))</code></p>\n<p>I need the AST for type checking but ive read its also possible to do so with the parse tree built into antlr4?</p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-boot-starter","versionupgrade"],"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683854271,"creation_date":1682926058,"question_id":76145350,"body_markdown":"I updated my application to spring boot version 2.7.0 from 2.2.4. Java version is 8. Application built sucessfully but when I try to run the application with idea below error occurs.\r\n\r\n\r\n    Execution failed for task &#39;:MyApplication.main()&#39;.\r\n    &gt; Process &#39;command &#39;C:/Program Files/Amazon Corretto/jdk1.8.0_342/bin/java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\r\n\r\nI tried to manually run the .jar file. But nothing happened. It exit from the java -jar command.\r\n","title":"finished with non-zero exit value 1 error return when spring boot application start to run","body":"<p>I updated my application to spring boot version 2.7.0 from 2.2.4. Java version is 8. Application built sucessfully but when I try to run the application with idea below error occurs.</p>\n<pre><code>Execution failed for task ':MyApplication.main()'.\n&gt; Process 'command 'C:/Program Files/Amazon Corretto/jdk1.8.0_342/bin/java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p>I tried to manually run the .jar file. But nothing happened. It exit from the java -jar command.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683095164,"post_id":76159514,"comment_id":134311927,"body_markdown":"You should check which maven plugin versions are being used... and you should define them all your self to be sure the most recent versions will be used (https://maven.apache.org/plugins/) ... defining things like plexus-utils as a dependencies will not help here...","body":"You should check which maven plugin versions are being used... and you should define them all your self to be sure the most recent versions will be used (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) ... defining things like plexus-utils as a dependencies will not help here..."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1683180058,"post_id":76159514,"comment_id":134327360,"body_markdown":"Are you using eclipse?","body":"Are you using eclipse?"},{"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"score":0,"creation_date":1683848345,"post_id":76159514,"comment_id":134433447,"body_markdown":"Thanks. @khmarbaise  the problem is with Maven plugins and I have resolved it by overriding it.","body":"Thanks. @khmarbaise  the problem is with Maven plugins and I have resolved it by overriding it."}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683874118,"post_id":76232286,"comment_id":134436085,"body_markdown":"The dependency to plexus utils should not be neccessary... defining the plugins itself must be enough...","body":"The dependency to plexus utils should not be neccessary... defining the plugins itself must be enough..."},{"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"score":0,"creation_date":1683897729,"post_id":76232286,"comment_id":134441240,"body_markdown":"@khmarbaise - My objective is to override the plexus utils packages which are coming with maven plugins.","body":"@khmarbaise - My objective is to override the plexus utils packages which are coming with maven plugins."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683906855,"post_id":76232286,"comment_id":134443445,"body_markdown":"Why is it needed to override the version? The problem is that you are using the spring-boot-parent ... which contains plugin versions which are not up-to-date... you can define them on your own...","body":"Why is it needed to override the version? The problem is that you are using the spring-boot-parent ... which contains plugin versions which are not up-to-date... you can define them on your own..."}],"tags":[],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683848971,"creation_date":1683848971,"answer_id":76232286,"question_id":76159514,"body_markdown":"First I started debugging the code with maven compile to see which plugin/dependency is downloading the vulnerable versions. \r\n\r\nThen I went through this [article][1] \r\nI have made below changes to my maven plugins, that&#39;s it. It worked. \r\n\r\n***NOTE***: If you don&#39;t specify any specific versions from you&#39;re pom.xml. Maven downloads the defaults plugins with help of (whatever maven version is update in maven_home)\r\n\r\n```\r\n\r\n\t     &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/mvn-plugin-dependency-exclusion","title":"How to exclude specific dependency from spring-boot-starter-parent","body":"<p>First I started debugging the code with maven compile to see which plugin/dependency is downloading the vulnerable versions.</p>\n<p>Then I went through this <a href=\"https://www.baeldung.com/mvn-plugin-dependency-exclusion\" rel=\"nofollow noreferrer\">article</a>\nI have made below changes to my maven plugins, that's it. It worked.</p>\n<p><em><strong>NOTE</strong></em>: If you don't specify any specific versions from you're pom.xml. Maven downloads the defaults plugins with help of (whatever maven version is update in maven_home)</p>\n<pre><code>\n         &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n                        &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n                        &lt;version&gt;3.5.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n                        &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n                        &lt;version&gt;3.5.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28499565,"reputation":41,"user_id":21810958,"display_name":"qalokoz"},"score":0,"creation_date":1683849742,"post_id":76232316,"comment_id":134433594,"body_markdown":"accordingly add your groupid and artifactid for your dependency that you want to exclude.","body":"accordingly add your groupid and artifactid for your dependency that you want to exclude."},{"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"score":0,"creation_date":1683849823,"post_id":76232316,"comment_id":134433604,"body_markdown":"My issue is with plugins, not with dependencies.","body":"My issue is with plugins, not with dependencies."},{"owner":{"account_id":28499565,"reputation":41,"user_id":21810958,"display_name":"qalokoz"},"score":0,"creation_date":1683856710,"post_id":76232316,"comment_id":134434261,"body_markdown":"You can use  &lt;pluginManagement&gt; tag in pom xml file. Within the &lt;pluginManagement&gt; section and then use &lt;exclusion&gt; tag. Inside &lt;plugin&gt; use &lt;exclusions&gt; for any plugin you want to exclude. Reference here: https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html for examples.","body":"You can use  &lt;pluginManagement&gt; tag in pom xml file. Within the &lt;pluginManagement&gt; section and then use &lt;exclusion&gt; tag. Inside &lt;plugin&gt; use &lt;exclusions&gt; for any plugin you want to exclude. Reference here: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> for examples."}],"tags":[],"owner":{"account_id":28499565,"reputation":41,"user_id":21810958,"display_name":"qalokoz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683849709,"creation_date":1683849709,"answer_id":76232316,"question_id":76159514,"body_markdown":"just add &lt;exclusions&gt;&lt;/&gt; to your pom.xml file. \r\n      `&lt;exclusions&gt;\r\n       &lt;groupid&gt;\r\n       &lt;artifcatid&gt;\r\n       &lt;/&gt;`\r\n\r\nbasically consider this as telling mvn or any other build tool to exclude this dependency. ","title":"How to exclude specific dependency from spring-boot-starter-parent","body":"<p>just add &lt;/&gt; to your pom.xml file.\n<code>&lt;exclusions&gt; &lt;groupid&gt; &lt;artifcatid&gt; &lt;/&gt;</code></p>\n<p>basically consider this as telling mvn or any other build tool to exclude this dependency.</p>\n"}],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683854133,"creation_date":1683070243,"question_id":76159514,"body_markdown":"I am using a Spring boot application. Spring boot parent dependency coming up with lot of legacy versions of (plexus-utils). I need to use specific version of (plexus-utils). \r\n\r\nI have tried adding below code in properties tag of my pom.xml but no luck its still downloading legacy vesions like ```(1.5.8, 3.0.10, 2.1, 1.5.5..)```. I have tried adding both versions (1. plexus-utils and 2. codeahus) to see either one works. \r\n\r\n        &lt;properties&gt;\r\n\t    &lt;plexus-utils.version&gt;3.5.1&lt;/plexus-utils.version&gt;\r\n\t\t&lt;codehaus.version&gt;3.5.1&lt;/codehaus.version&gt;\r\n\t    &lt;/properties&gt;\r\n\r\nI need to do changes such that spring boot parent needs to download only ```3.5.1``` version. Below is pom.xml. Can anyone please assist me here, is there any alternative we need to exclude or something needs to be corrected in my properties tag code ?\r\n\r\n\r\n\r\n       &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t  &lt;/parent&gt;\r\n\r\n        &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n       &lt;dependencies&gt;\r\n\r\n","title":"How to exclude specific dependency from spring-boot-starter-parent","body":"<p>I am using a Spring boot application. Spring boot parent dependency coming up with lot of legacy versions of (plexus-utils). I need to use specific version of (plexus-utils).</p>\n<p>I have tried adding below code in properties tag of my pom.xml but no luck its still downloading legacy vesions like <code>(1.5.8, 3.0.10, 2.1, 1.5.5..)</code>. I have tried adding both versions (1. plexus-utils and 2. codeahus) to see either one works.</p>\n<pre><code>    &lt;properties&gt;\n    &lt;plexus-utils.version&gt;3.5.1&lt;/plexus-utils.version&gt;\n    &lt;codehaus.version&gt;3.5.1&lt;/codehaus.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>I need to do changes such that spring boot parent needs to download only <code>3.5.1</code> version. Below is pom.xml. Can anyone please assist me here, is there any alternative we need to exclude or something needs to be corrected in my properties tag code ?</p>\n<pre><code>   &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.6&lt;/version&gt;\n    &lt;relativePath /&gt;\n  &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n        &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n   &lt;dependencies&gt;\n</code></pre>\n"},{"tags":["java","memory","jvm","containers","openshift"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":2,"creation_date":1683822917,"post_id":76229754,"comment_id":134429025,"body_markdown":"`java -XX:+PrintFlagsFinal` and `java -XX:+PrintCommandLineFlags` start a *new* Java process and show the flags of this *new* Java process. To see the parameters of an existing Java process, use `jcmd` instead.","body":"<code>java -XX:+PrintFlagsFinal</code> and <code>java -XX:+PrintCommandLineFlags</code> start a <i>new</i> Java process and show the flags of this <i>new</i> Java process. To see the parameters of an existing Java process, use <code>jcmd</code> instead."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683827069,"post_id":76229754,"comment_id":134429896,"body_markdown":"If you give all memory available to the heap you are going to have other memory issues. You should learn about Java memory settings first.","body":"If you give all memory available to the heap you are going to have other memory issues. You should learn about Java memory settings first."},{"owner":{"account_id":12977908,"reputation":58,"user_id":9381370,"display_name":"Roni Beitel"},"score":0,"creation_date":1684096941,"post_id":76229754,"comment_id":134463161,"body_markdown":"Than you very much,  indeed I was starting another process with no other configuration than default. Thanks a lot.","body":"Than you very much,  indeed I was starting another process with no other configuration than default. Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":5238010,"reputation":2834,"user_id":4185994,"accept_rate":56,"display_name":"titou10"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683853846,"creation_date":1683853846,"answer_id":76232526,"question_id":76229754,"body_markdown":"What version of Java 8 are you using? older version of Java 8 are not able to correctly &quot;see&quot; the available memory \r\n\r\nSee this article on how to configure Java 8 depending of you version (ie before or after JDK 8u191)\r\n\r\nhttps://www.baeldung.com/ops/docker-jvm-heap-size\r\n\r\nIf you are on OpenShift 4.12, check this article for many improvement with the latest version of Java 8 about the support of concerning cgroups v2, but you need the very last version of JDK 8:\r\n\r\nhttps://developers.redhat.com/articles/2023/04/19/openjdk-8u372-feature-cgroup-v2-support#\r\n","title":"JVM max heap size in Openshift doesn&#39;t change","body":"<p>What version of Java 8 are you using? older version of Java 8 are not able to correctly &quot;see&quot; the available memory</p>\n<p>See this article on how to configure Java 8 depending of you version (ie before or after JDK 8u191)</p>\n<p><a href=\"https://www.baeldung.com/ops/docker-jvm-heap-size\" rel=\"nofollow noreferrer\">https://www.baeldung.com/ops/docker-jvm-heap-size</a></p>\n<p>If you are on OpenShift 4.12, check this article for many improvement with the latest version of Java 8 about the support of concerning cgroups v2, but you need the very last version of JDK 8:</p>\n<p><a href=\"https://developers.redhat.com/articles/2023/04/19/openjdk-8u372-feature-cgroup-v2-support#\" rel=\"nofollow noreferrer\">https://developers.redhat.com/articles/2023/04/19/openjdk-8u372-feature-cgroup-v2-support#</a></p>\n"}],"owner":{"account_id":12977908,"reputation":58,"user_id":9381370,"display_name":"Roni Beitel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683853846,"creation_date":1683822406,"question_id":76229754,"body_markdown":"I have a Java application that is being run on Openshift. \r\nThe Java is run via a docker-entrypoint.sh file \r\n```\r\ncd /usr/src/java_app\r\n/usr/local/openjdk-8/bin/java -Xmx12g -jar application.jar --spring.profiles.active=prod &gt;&gt; /proc/self/fd/1 2&gt; /proc/self/fd/1\r\n```\r\n\r\nMy Openshift deploymemt memory part is as follows:\r\n```\r\ncontainers:\r\n  - resources: \r\n      limits:\r\n        memory: 12g\r\n      requests:\r\n        memory: 12g\r\n```\r\n\r\nI tried running the jar command with the following options:\r\n```\r\n-Xmx12g\r\n-XX:MaxHeapSize=12g\r\n-XX:MaxRAM=12g\r\n-XX:+UnlockExperimentalVMOptions\r\n-XX:+UseCGroupMemoryLimitForHeap\r\n-XX:ErgoHeapSizeLimit=0\r\n```\r\nBut when running\r\n```\r\njava -XX:+PrintFlagsFinal -version | grep Heap\r\n```\r\nI always get a ~3g heap size, which is 25% of the 12g I gave the container. \r\nThis value changes to 4g if I give the container 16G. \r\nAlso, I can see that &#39;product&#39; was reponsible to settign this value, so I guess it is not getting override  in the code. \r\n\r\nRunning\r\n```\r\njava -XX:+PrintCommandLineFlags\r\n```\r\nReturns \r\n```\r\n-XX:InitialHeapSize=187499968 -XX:MaxHeapSize=29999999488\r\n```\r\n\r\nI&#39;d appreciate some help, given that memory is not that cheap","title":"JVM max heap size in Openshift doesn&#39;t change","body":"<p>I have a Java application that is being run on Openshift.\nThe Java is run via a docker-entrypoint.sh file</p>\n<pre><code>cd /usr/src/java_app\n/usr/local/openjdk-8/bin/java -Xmx12g -jar application.jar --spring.profiles.active=prod &gt;&gt; /proc/self/fd/1 2&gt; /proc/self/fd/1\n</code></pre>\n<p>My Openshift deploymemt memory part is as follows:</p>\n<pre><code>containers:\n  - resources: \n      limits:\n        memory: 12g\n      requests:\n        memory: 12g\n</code></pre>\n<p>I tried running the jar command with the following options:</p>\n<pre><code>-Xmx12g\n-XX:MaxHeapSize=12g\n-XX:MaxRAM=12g\n-XX:+UnlockExperimentalVMOptions\n-XX:+UseCGroupMemoryLimitForHeap\n-XX:ErgoHeapSizeLimit=0\n</code></pre>\n<p>But when running</p>\n<pre><code>java -XX:+PrintFlagsFinal -version | grep Heap\n</code></pre>\n<p>I always get a ~3g heap size, which is 25% of the 12g I gave the container.\nThis value changes to 4g if I give the container 16G.\nAlso, I can see that 'product' was reponsible to settign this value, so I guess it is not getting override  in the code.</p>\n<p>Running</p>\n<pre><code>java -XX:+PrintCommandLineFlags\n</code></pre>\n<p>Returns</p>\n<pre><code>-XX:InitialHeapSize=187499968 -XX:MaxHeapSize=29999999488\n</code></pre>\n<p>I'd appreciate some help, given that memory is not that cheap</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"comments":[{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1683899568,"post_id":76232507,"comment_id":134441708,"body_markdown":"Thank you, OneCricketeer, but is the consumer failing because it was not able to seek an offset? is that what the error means?","body":"Thank you, OneCricketeer, but is the consumer failing because it was not able to seek an offset? is that what the error means?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683925824,"post_id":76232507,"comment_id":134446976,"body_markdown":"The log is INFO level. It is not an error... It says `Resetting offset`, which is because your `auto.offset.reset` property, as answered","body":"The log is INFO level. It is not an error... It says <code>Resetting offset</code>, which is because your <code>auto.offset.reset</code> property, as answered"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683853429,"creation_date":1683853429,"answer_id":76232507,"question_id":76231510,"body_markdown":"When you use `assign` API instead of `subscribe`, consumer groups are not used, and therefore Kafka doesn&#39;t track offsets for you. \r\n\r\nAs answered in your previous question, `auto.offset.reset=latest` is being applied until you reseek the consumer elsewhere to the offset you want. When you&#39;re at the latest offset, there&#39;s nothing to consume without some active producer sending new records... You can set the value to `none` if you want to manage offsets on your own. \r\n\r\n","title":"o.a.k.c.c.i.SubscriptionState.maybeSeekUnvalidated:397 What does it mean?","body":"<p>When you use <code>assign</code> API instead of <code>subscribe</code>, consumer groups are not used, and therefore Kafka doesn't track offsets for you.</p>\n<p>As answered in your previous question, <code>auto.offset.reset=latest</code> is being applied until you reseek the consumer elsewhere to the offset you want. When you're at the latest offset, there's nothing to consume without some active producer sending new records... You can set the value to <code>none</code> if you want to manage offsets on your own.</p>\n"}],"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76232507,"answer_count":1,"score":0,"last_activity_date":1683853447,"creation_date":1683838220,"question_id":76231510,"body_markdown":"I am using Java Kafka and when I am consuming messages, using offsetfortimes, intermittently, I am getting an log thread\r\n\r\n    INFO  o.a.k.c.c.i.SubscriptionState.maybeSeekUnvalidated:397 - Resetting offset for partition XXX to offset 8793363.\r\n\r\nAnd after this message I am not able to get any message from Kafka Consumer. Only when I restart the consumer the offsetfortimes is calculated again and my consumer is picking up those messages. \r\n\r\nI would like to understand what this maybeSeekUnvalidated means, and why my offset is being reset.\r\n\r\nMy consumer starter code:\r\n\r\n    kafkaConsumer = consumerHelperFactory.getConsumerInstance(consumerConfiguration);\r\n            long duration = startTime.until(Instant.now(), MINUTES)+1;\r\n            log.info(&quot;Consumer consuming messages {} minutes ago&quot;,duration);\r\n            Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\r\n            query.put(new TopicPartition(topic, 0), Instant.now().minus(duration, MINUTES).toEpochMilli());\r\n            Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = kafkaConsumer.offsetsForTimes(query);\r\n            kafkaConsumer.assign(result.keySet().stream().collect(Collectors.toList()));            ","title":"o.a.k.c.c.i.SubscriptionState.maybeSeekUnvalidated:397 What does it mean?","body":"<p>I am using Java Kafka and when I am consuming messages, using offsetfortimes, intermittently, I am getting an log thread</p>\n<pre><code>INFO  o.a.k.c.c.i.SubscriptionState.maybeSeekUnvalidated:397 - Resetting offset for partition XXX to offset 8793363.\n</code></pre>\n<p>And after this message I am not able to get any message from Kafka Consumer. Only when I restart the consumer the offsetfortimes is calculated again and my consumer is picking up those messages.</p>\n<p>I would like to understand what this maybeSeekUnvalidated means, and why my offset is being reset.</p>\n<p>My consumer starter code:</p>\n<pre><code>kafkaConsumer = consumerHelperFactory.getConsumerInstance(consumerConfiguration);\n        long duration = startTime.until(Instant.now(), MINUTES)+1;\n        log.info(&quot;Consumer consuming messages {} minutes ago&quot;,duration);\n        Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\n        query.put(new TopicPartition(topic, 0), Instant.now().minus(duration, MINUTES).toEpochMilli());\n        Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = kafkaConsumer.offsetsForTimes(query);\n        kafkaConsumer.assign(result.keySet().stream().collect(Collectors.toList()));            \n</code></pre>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":3791133,"reputation":249,"user_id":3147648,"display_name":"alexmac"},"score":0,"creation_date":1395279022,"post_id":22521288,"comment_id":34270054,"body_markdown":"There is sure some good humour here possible, Aux being a second class, steerage class.  However, think of it more as a pattern you way wish to look and search for &quot;object Patterns&quot;","body":"There is sure some good humour here possible, Aux being a second class, steerage class.  However, think of it more as a pattern you way wish to look and search for &quot;object Patterns&quot;"},{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":0,"creation_date":1395280226,"post_id":22521288,"comment_id":34270372,"body_markdown":"You need to provide more information. In your case &quot;Auxilary&quot; may be the name of actual class in that library.","body":"You need to provide more information. In your case &quot;Auxilary&quot; may be the name of actual class in that library."},{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":0,"creation_date":1395341014,"post_id":22521288,"comment_id":34306588,"body_markdown":"It is just a warning, so you shouldn&#39;t be concerned. However, are you sure that class name matches file name?","body":"It is just a warning, so you shouldn&#39;t be concerned. However, are you sure that class name matches file name?"},{"owner":{"account_id":1449074,"reputation":1584,"user_id":1366594,"accept_rate":83,"display_name":"Sir Intellegence-BrainStormexe"},"score":0,"creation_date":1395341408,"post_id":22521288,"comment_id":34306839,"body_markdown":"I know, but I am writing this program for scratch and I want all warnings solved or suppressed (if I know what I am doing), so they won&#39;t make it hard to find errors in the output.","body":"I know, but I am writing this program for scratch and I want all warnings solved or suppressed (if I know what I am doing), so they won&#39;t make it hard to find errors in the output."},{"owner":{"account_id":118457,"reputation":2860,"user_id":309502,"accept_rate":91,"display_name":"kmort"},"score":1,"creation_date":1417020748,"post_id":22521288,"comment_id":42803677,"body_markdown":"@Artem Warnings should almost always be concerning. At least in my experience. :-)","body":"@Artem Warnings should almost always be concerning. At least in my experience. :-)"}],"answers":[{"tags":[],"owner":{"account_id":311679,"reputation":89831,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1395278820,"creation_date":1395278820,"answer_id":22521663,"question_id":22521288,"body_markdown":"An auxiliary class isn&#39;t any kind of official or technical thing as far as I know. Someone might describe a class as auxiliary if it were addressing a secondary concern, or something, but the compiler doesn&#39;t have any idea what an auxiliary class is, and neither do I.\r\n\r\nIn general, if you have error messages from the computer, please *paste them in their entirety*. If you think the compiler is upset about an auxiliary class, paste the error message: someone else will be able to make sense of it, whereas currently it&#39;s being filtered through some kind of confusion that&#39;s made you think auxiliary classes are a real thing!","title":"What are auxiliary classes?","body":"<p>An auxiliary class isn't any kind of official or technical thing as far as I know. Someone might describe a class as auxiliary if it were addressing a secondary concern, or something, but the compiler doesn't have any idea what an auxiliary class is, and neither do I.</p>\n\n<p>In general, if you have error messages from the computer, please <em>paste them in their entirety</em>. If you think the compiler is upset about an auxiliary class, paste the error message: someone else will be able to make sense of it, whereas currently it's being filtered through some kind of confusion that's made you think auxiliary classes are a real thing!</p>\n"},{"comments":[{"owner":{"account_id":311679,"reputation":89831,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"score":0,"creation_date":1395279244,"post_id":22521705,"comment_id":34270113,"body_markdown":"Your link doesn&#39;t contain the word &quot;auxiliary&quot; anywhere in it. Did you link to the wrong place? If this is what you intended to link to, how do you know that this is what&#39;s meant by auxiliary in the OP&#39;s question?","body":"Your link doesn&#39;t contain the word &quot;auxiliary&quot; anywhere in it. Did you link to the wrong place? If this is what you intended to link to, how do you know that this is what&#39;s meant by auxiliary in the OP&#39;s question?"},{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":0,"creation_date":1395280099,"post_id":22521705,"comment_id":34270329,"body_markdown":"Yeah, because Java specification does not call them that way. They are named &quot;Auxilary&quot; here: http://www.youtube.com/watch?v=miTM9rY3He0","body":"Yeah, because Java specification does not call them that way. They are named &quot;Auxilary&quot; here: <a href=\"http://www.youtube.com/watch?v=miTM9rY3He0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=miTM9rY3He0</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1395280251,"post_id":22521705,"comment_id":34270380,"body_markdown":"`AuxilaryClass` has [*package-private*](http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html) access.","body":"<code>AuxilaryClass</code> has <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\"><i>package-private</i></a> access."},{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":0,"creation_date":1395280363,"post_id":22521705,"comment_id":34270415,"body_markdown":"No @trashgod, your link is only related to main classes. Just try to test it - you&#39;ll see.","body":"No @trashgod, your link is only related to main classes. Just try to test it - you&#39;ll see."},{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":0,"creation_date":1395281053,"post_id":22521705,"comment_id":34270645,"body_markdown":"@trashgod I just tried. In addition to the AClass.java file I&#39;ve provided create B.java file in the same package: package test;\n\nimport test.AuxilaryClass;\n\npublic class C {\n\tAuxilaryClass e;\n\t\n}\nIt won&#39;t compile in Java 8.","body":"@trashgod I just tried. In addition to the AClass.java file I&#39;ve provided create B.java file in the same package: package test;  import test.AuxilaryClass;  public class C { \tAuxilaryClass e; \t } It won&#39;t compile in Java 8."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1395281315,"post_id":22521705,"comment_id":34270736,"body_markdown":"Yes, `AuxilaryClass` and its public members should be visible in `B`.","body":"Yes, <code>AuxilaryClass</code> and its public members should be visible in <code>B</code>."},{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":0,"creation_date":1395282586,"post_id":22521705,"comment_id":34271105,"body_markdown":"They are not. Please try.","body":"They are not. Please try."},{"owner":{"account_id":311679,"reputation":89831,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"score":0,"creation_date":1395301545,"post_id":22521705,"comment_id":34278024,"body_markdown":"@trashgod is of course correct - those members are package-private. I just tried it myself, in case I was misremembering: another class in the same package has access to this &quot;auxiliary class&quot; and its public members.","body":"@trashgod is of course correct - those members are package-private. I just tried it myself, in case I was misremembering: another class in the same package has access to this &quot;auxiliary class&quot; and its public members."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1395319296,"post_id":22521705,"comment_id":34290107,"body_markdown":"@amalloy: Thank you for elaborating; I should add that `B` also has access to the _package-private_ member `b` in an instance of `AuxilaryClass`.","body":"@amalloy: Thank you for elaborating; I should add that <code>B</code> also has access to the <i>package-private</i> member <code>b</code> in an instance of <code>AuxilaryClass</code>."},{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":1,"creation_date":1395339700,"post_id":22521705,"comment_id":34305744,"body_markdown":"Hey guys, I apologize, you are correct, it looks like I had some kind of temporarily issue with my Eclipse Java 8 beta support. It compiled fine after restart. I will update the answer.","body":"Hey guys, I apologize, you are correct, it looks like I had some kind of temporarily issue with my Eclipse Java 8 beta support. It compiled fine after restart. I will update the answer."},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1590434274,"post_id":22521705,"comment_id":109672901,"body_markdown":"NB: The [preview of sealed classes](https://openjdk.java.net/jeps/360) introduced in Java 15 uses auxiliary classes as known subclasses of a main sealed class (`Shape`).","body":"NB: The <a href=\"https://openjdk.java.net/jeps/360\" rel=\"nofollow noreferrer\">preview of sealed classes</a> introduced in Java 15 uses auxiliary classes as known subclasses of a main sealed class (<code>Shape</code>)."}],"tags":[],"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"comment_count":11,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1395339988,"creation_date":1395279067,"answer_id":22521705,"question_id":22521288,"body_markdown":"As descried in Java specification [here][1], you can specify more than one class in one .java file. The class which name matches .java file name will be the main class which can be declared public and be visible to other classes. All other classes in the file therefore are &quot;auxilary&quot; classes. Auxilary class can NOT be declared public and (as @trashgod rightfully pointed out) therefore they only be declared with package-private access. For instance for AClass.java file:\r\n\r\n    public class AClass {\r\n    \tprivate AuxilaryClass a;\r\n    }\r\n    class AuxilaryClass {\r\n    \tprivate int b;\r\n    }\r\n\r\nAuxilaryClass class can&#39;t be public and is not visible outside this AClass.java file.\r\n\r\nHowever, using auxilary classes considered extremely bad style and against [Java Code Convention][2]. Please use separate or [inner][3] classes if really needed.\r\n\r\nEdit: The term &quot;Auxilary&quot; is not Oracle/Sun official terminology. It has been introduced (or used) here: http://www.youtube.com/watch?v=miTM9rY3He0 and/or here: http://doc.sumy.ua/prog/java/langref/ch05_03.htm\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-7.html#jls-7.3\r\n  [2]: http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141855.html#11684\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3","title":"What are auxiliary classes?","body":"<p>As descried in Java specification <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-7.html#jls-7.3\" rel=\"noreferrer\">here</a>, you can specify more than one class in one .java file. The class which name matches .java file name will be the main class which can be declared public and be visible to other classes. All other classes in the file therefore are \"auxilary\" classes. Auxilary class can NOT be declared public and (as @trashgod rightfully pointed out) therefore they only be declared with package-private access. For instance for AClass.java file:</p>\n\n<pre><code>public class AClass {\n    private AuxilaryClass a;\n}\nclass AuxilaryClass {\n    private int b;\n}\n</code></pre>\n\n<p>AuxilaryClass class can't be public and is not visible outside this AClass.java file.</p>\n\n<p>However, using auxilary classes considered extremely bad style and against <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141855.html#11684\" rel=\"noreferrer\">Java Code Convention</a>. Please use separate or <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3\" rel=\"noreferrer\">inner</a> classes if really needed.</p>\n\n<p>Edit: The term \"Auxilary\" is not Oracle/Sun official terminology. It has been introduced (or used) here: <a href=\"http://www.youtube.com/watch?v=miTM9rY3He0\" rel=\"noreferrer\">http://www.youtube.com/watch?v=miTM9rY3He0</a> and/or here: <a href=\"http://doc.sumy.ua/prog/java/langref/ch05_03.htm\" rel=\"noreferrer\">http://doc.sumy.ua/prog/java/langref/ch05_03.htm</a></p>\n"}],"owner":{"account_id":1449074,"reputation":1584,"user_id":1366594,"accept_rate":83,"display_name":"Sir Intellegence-BrainStormexe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16054,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":22521705,"answer_count":2,"score":9,"last_activity_date":1683853210,"creation_date":1395276508,"question_id":22521288,"body_markdown":"What are Auxiliary classes in Java, how does some one write one, and how does the compiler know that something is an Auxiliary class?\r\n\r\n\r\nThe reason I ask this is because the compiler is generating a warning regarding an object in an external library:\r\n\r\n    warning: auxiliary class Pattern in jregex/Pattern.java should not be accessed from outside its own source file\r\n\r\n and I want to know why","title":"What are auxiliary classes?","body":"<p>What are Auxiliary classes in Java, how does some one write one, and how does the compiler know that something is an Auxiliary class?</p>\n<p>The reason I ask this is because the compiler is generating a warning regarding an object in an external library:</p>\n<pre><code>warning: auxiliary class Pattern in jregex/Pattern.java should not be accessed from outside its own source file\n</code></pre>\n<p>and I want to know why</p>\n"},{"tags":["java","sockets","http","timeout","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1425163204,"post_id":28785085,"comment_id":45851382,"body_markdown":"Well they&#39;re going to block until data arrives or they timeout. Do you mean that these threads are permanently blocked and not timing out?","body":"Well they&#39;re going to block until data arrives or they timeout. Do you mean that these threads are permanently blocked and not timing out?"},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1425283364,"post_id":28785085,"comment_id":45883168,"body_markdown":"Yes, I mean it hungs forever (I checked in 6 hours scenerio)","body":"Yes, I mean it hungs forever (I checked in 6 hours scenerio)"},{"owner":{"account_id":373703,"reputation":1246,"user_id":723510,"accept_rate":100,"display_name":"Anton Danilov"},"score":0,"creation_date":1425565804,"post_id":28785085,"comment_id":46021880,"body_markdown":"Is it correct that `HttpClientBuilder` has `builder.disableRedirectHandling()` and `RequestConfig` has `.setRedirectsEnabled(true)` ?","body":"Is it correct that <code>HttpClientBuilder</code> has <code>builder.disableRedirectHandling()</code> and <code>RequestConfig</code> has <code>.setRedirectsEnabled(true)</code> ?"},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1425648824,"post_id":28785085,"comment_id":46058994,"body_markdown":"Yes, but I think it&#39;s unrelated. Hung is on socketRead0() and also with other clients than Apache Http","body":"Yes, but I think it&#39;s unrelated. Hung is on socketRead0() and also with other clients than Apache Http"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1425932639,"post_id":28785085,"comment_id":46155968,"body_markdown":"Please show the code you use to initiate the http request","body":"Please show the code you use to initiate the http request"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1425953128,"post_id":28785085,"comment_id":46163495,"body_markdown":"Are you sure it&#39;s the same thread that is hung for six hours? The fact that you&#39;re doing blocking reads will always mean there are threads blocked in `read(),` but the timeout should ensure that they unblock eventually. I would consider five seconds rather short for a read timeout BTW.","body":"Are you sure it&#39;s the same thread that is hung for six hours? The fact that you&#39;re doing blocking reads will always mean there are threads blocked in <code>read(),</code> but the timeout should ensure that they unblock eventually. I would consider five seconds rather short for a read timeout BTW."},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1425992540,"post_id":28785085,"comment_id":46180528,"body_markdown":"@Bohemian Just the simplest HttpGet and client execute. Also hungs were present on simple URLConnection usage withot apache client","body":"@Bohemian Just the simplest HttpGet and client execute. Also hungs were present on simple URLConnection usage withot apache client"},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1425992578,"post_id":28785085,"comment_id":46180565,"body_markdown":"@Ejp I&#39;m totally sure, I&#39;ve tracked every thread/client/request very much, even watching stacktraces through MBeans. I feel like the hung is infinite.","body":"@Ejp I&#39;m totally sure, I&#39;ve tracked every thread/client/request very much, even watching stacktraces through MBeans. I feel like the hung is infinite."},{"owner":{"account_id":1880749,"reputation":3097,"user_id":4465354,"display_name":"qwwdfsad"},"score":4,"creation_date":1426024032,"post_id":28785085,"comment_id":46200634,"body_markdown":"Don&#39;t you think it&#39;s just OpenJDK bug? E.g.: https://bugs.openjdk.java.net/browse/JDK-8049846","body":"Don&#39;t you think it&#39;s just OpenJDK bug? E.g.: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8049846\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8049846</a>"},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1426057606,"post_id":28785085,"comment_id":46210864,"body_markdown":"@qwwdfsad I&#39;ve just grabbed OpenJDK source for demo and some help. I&#39;ve used Oracle JDK 8 with that problem.","body":"@qwwdfsad I&#39;ve just grabbed OpenJDK source for demo and some help. I&#39;ve used Oracle JDK 8 with that problem."},{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":3,"creation_date":1487952819,"post_id":28785085,"comment_id":72030330,"body_markdown":"As of Feb 2017, still no sign of a fix for the hang on Windows.  In contrast, With JDK-8075484 (JDK 9 in Sep 2016) and JDK-8172578 (JDK 8u152 in Jan 2017), Oracle seems to have fixed the hang in linux, solaris, macosx, and aix.  The closest Windows bug seems to be JDK-8000679.","body":"As of Feb 2017, still no sign of a fix for the hang on Windows.  In contrast, With JDK-8075484 (JDK 9 in Sep 2016) and JDK-8172578 (JDK 8u152 in Jan 2017), Oracle seems to have fixed the hang in linux, solaris, macosx, and aix.  The closest Windows bug seems to be JDK-8000679."},{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":1,"creation_date":1498485260,"post_id":28785085,"comment_id":76503523,"body_markdown":"Stuart Marks decided to close JDK-8000679 (the Windows version of this bug)  in May 2017 sadly commenting &quot;This is either a bug in the Java networking code or in the OS network layer. Closing as Cannot Reproduce.&quot;","body":"Stuart Marks decided to close JDK-8000679 (the Windows version of this bug)  in May 2017 sadly commenting &quot;This is either a bug in the Java networking code or in the OS network layer. Closing as Cannot Reproduce.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1425890256,"post_id":28914046,"comment_id":46130720,"body_markdown":"Socket read timeout defines the maximum interval between entering the `recv()` method and the arrival of data. It has nothing to do with the interval befween read operations, or between packets.","body":"Socket read timeout defines the maximum interval between entering the <code>recv()</code> method and the arrival of data. It has nothing to do with the interval befween read operations, or between packets."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1425940375,"post_id":28914046,"comment_id":46159541,"body_markdown":"Correct. Doesn&#39;t change the error in your answer. The timer starts when you enter recv(), or read(), and stops when it expires or data or arrives or EOS or an error occurs. Nothing to do with the interval between two reads or two packets. What you&#39;ve written above doesn&#39;t begin to make sense. It implies that you can&#39;t get a timeout on the first read, for example. And the time between two reads isn&#39;t the same thing as the time between two packets in the first place.","body":"Correct. Doesn&#39;t change the error in your answer. The timer starts when you enter recv(), or read(), and stops when it expires or data or arrives or EOS or an error occurs. Nothing to do with the interval between two reads or two packets. What you&#39;ve written above doesn&#39;t begin to make sense. It implies that you can&#39;t get a timeout on the first read, for example. And the time between two reads isn&#39;t the same thing as the time between two packets in the first place."},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":0,"creation_date":1425976093,"post_id":28914046,"comment_id":46170565,"body_markdown":"Marvelous. The problem with your wonderful argument is that Java attempts to abstract away low level TCP/IP machinery and provides a different contract based on I/O stream APIs. Consumer of the API has no control over timers, buffers or #recv() method. The consumer can see how long the current execution thread stays blocked in a read operation. For long streams of data such as an HTTP content body what matters is how long it takes for an operation to unblock or in other words how long one read operation stays inactive before the next one can begin and reset the timer.","body":"Marvelous. The problem with your wonderful argument is that Java attempts to abstract away low level TCP/IP machinery and provides a different contract based on I/O stream APIs. Consumer of the API has no control over timers, buffers or #recv() method. The consumer can see how long the current execution thread stays blocked in a read operation. For long streams of data such as an HTTP content body what matters is how long it takes for an operation to unblock or in other words how long one read operation stays inactive before the next one can begin and reset the timer."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1425976541,"post_id":28914046,"comment_id":46170784,"body_markdown":"The problem with your &#39;marvelous&#39; answer is that it is false, as you could easily have determined by experiment, rather than just arguing about it, and posting yet more unsubstantiated nonsense about the intervals between two reads, or two packets, or whatever else you&#39;re trying to contort this into. I suggest you try it before you debate this further.","body":"The problem with your &#39;marvelous&#39; answer is that it is false, as you could easily have determined by experiment, rather than just arguing about it, and posting yet more unsubstantiated nonsense about the intervals between two reads, or two packets, or whatever else you&#39;re trying to contort this into. I suggest you try it before you debate this further."},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":0,"creation_date":1425978123,"post_id":28914046,"comment_id":46171655,"body_markdown":"And that was it? Suggestion to try it out actually works both ways.","body":"And that was it? Suggestion to try it out actually works both ways."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1425978795,"post_id":28914046,"comment_id":46172013,"body_markdown":"It&#39;s your answer: it&#39;s your assertion: it&#39;s been challenged. It&#39;s up to you to prove it. Or rather, them, as you&#39;ve asserted two mutually inconsistent positions. Let us know when you have some evidence, or an acceptable source to cite, for whichever of them you decide to maintain. But they can&#39;t both be right. I will just hint that I&#39;m not guessing about this.","body":"It&#39;s your answer: it&#39;s your assertion: it&#39;s been challenged. It&#39;s up to you to prove it. Or rather, them, as you&#39;ve asserted two mutually inconsistent positions. Let us know when you have some evidence, or an acceptable source to cite, for whichever of them you decide to maintain. But they can&#39;t both be right. I will just hint that I&#39;m not guessing about this."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1425985106,"post_id":28914046,"comment_id":46175723,"body_markdown":"Depressing it may be, but that doesn&#39;t absolve you of the responsibility of backing up your claims. In this case you can&#39;t, as you&#39;re embedded in self-contradiction. Suppose you explain this: if it&#39;s the interval between packets, or reads, whichever you like, how come you can get a timeout on the first read? Or the first packet? And cut out the personal remarks. All they accomplish is to underline your lack of proof and logical argument.","body":"Depressing it may be, but that doesn&#39;t absolve you of the responsibility of backing up your claims. In this case you can&#39;t, as you&#39;re embedded in self-contradiction. Suppose you explain this: if it&#39;s the interval between packets, or reads, whichever you like, how come you can get a timeout on the first read? Or the first packet? And cut out the personal remarks. All they accomplish is to underline your lack of proof and logical argument."},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":0,"creation_date":1425985743,"post_id":28914046,"comment_id":46176158,"body_markdown":"Allow me to ignore most of your blathering. As far as the question goes: read operations starts, no packet arrives, read unblocks with exception, no more reads attempted, socket timeout equals the maximum period inactivity between consecutive reads.","body":"Allow me to ignore most of your blathering. As far as the question goes: read operations starts, no packet arrives, read unblocks with exception, no more reads attempted, socket timeout equals the maximum period inactivity between consecutive reads."},{"owner":{"account_id":17533,"reputation":5283,"user_id":39334,"accept_rate":81,"display_name":"stolsvik"},"score":2,"creation_date":1505901225,"post_id":28914046,"comment_id":79598682,"body_markdown":"Of course @oleg is right: If the server you&#39;re connected to is extremely slow, sending a 1TB file via one byte per 4.9 seconds, you will spend very much time blocked on that socketRead0(), without being kicked out by the timeout. Once you have lots of threads in this situation, you&#39;ve depleted your thread pool, and the system is &quot;down&quot;. This is one of the reasons why HTTP/REST is a shitty solution for comms between &quot;Micro Services&quot;.","body":"Of course @oleg is right: If the server you&#39;re connected to is extremely slow, sending a 1TB file via one byte per 4.9 seconds, you will spend very much time blocked on that socketRead0(), without being kicked out by the timeout. Once you have lots of threads in this situation, you&#39;ve depleted your thread pool, and the system is &quot;down&quot;. This is one of the reasons why HTTP/REST is a shitty solution for comms between &quot;Micro Services&quot;."}],"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"comment_count":9,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1425725134,"creation_date":1425725134,"answer_id":28914046,"question_id":28785085,"body_markdown":"Given no one else responded so far, here is my take\r\n\r\nYour timeout setting looks perfectly OK to me. The reason why certain requests appear to be constantly blocked in a `java.net.SocketInputStream#socketRead0()` call is likely to be due to a combination of misbehaving servers and your local configuration. Socket timeout defines a maximum period of inactivity between two consecutive i/o read operations (or in other words two consecutive incoming packets). Your socket timeout setting is 5,000 milliseconds. As long as the opposite endpoint keeps on sending a packet every 4,999 milliseconds for a chunk encoded message the request will never time out and will end up sending most of its time blocked in `java.net.SocketInputStream#socketRead0()`. You can find out whether or not this is the case by running HttpClient with wire logging turned on. ","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>Given no one else responded so far, here is my take</p>\n\n<p>Your timeout setting looks perfectly OK to me. The reason why certain requests appear to be constantly blocked in a <code>java.net.SocketInputStream#socketRead0()</code> call is likely to be due to a combination of misbehaving servers and your local configuration. Socket timeout defines a maximum period of inactivity between two consecutive i/o read operations (or in other words two consecutive incoming packets). Your socket timeout setting is 5,000 milliseconds. As long as the opposite endpoint keeps on sending a packet every 4,999 milliseconds for a chunk encoded message the request will never time out and will end up sending most of its time blocked in <code>java.net.SocketInputStream#socketRead0()</code>. You can find out whether or not this is the case by running HttpClient with wire logging turned on. </p>\n"},{"comments":[{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1426057853,"post_id":28950809,"comment_id":46210967,"body_markdown":"Good idea and probably I will finish with that, but I just wanted to clarify how to achieve that with blocking Http (to get socketRead0 called, but not hang). So other response accepted. Thanks. I would only add that Apache Http Client also has async non blocking version.","body":"Good idea and probably I will finish with that, but I just wanted to clarify how to achieve that with blocking Http (to get socketRead0 called, but not hang). So other response accepted. Thanks. I would only add that Apache Http Client also has async non blocking version."}],"tags":[],"owner":{"account_id":25027,"reputation":9018,"user_id":64044,"display_name":"Clint"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1425931453,"creation_date":1425931453,"answer_id":28950809,"question_id":28785085,"body_markdown":"You should consider a Non-blocking HTTP client like [Grizzly][1] or [Netty][2] which do not have blocking operations to hang a thread.\r\n\r\n\r\n  [1]: https://grizzly.java.net/httpframework.html\r\n  [2]: http://netty.io/wiki/user-guide-for-5.x.html","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>You should consider a Non-blocking HTTP client like <a href=\"https://grizzly.java.net/httpframework.html\" rel=\"noreferrer\">Grizzly</a> or <a href=\"http://netty.io/wiki/user-guide-for-5.x.html\" rel=\"noreferrer\">Netty</a> which do not have blocking operations to hang a thread.</p>\n"},{"comments":[{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1426057788,"post_id":28974449,"comment_id":46210939,"body_markdown":"Thanks for detailed answer. Link about eviction policy was that what i&#39;m looking for. I have done similar thing with whole connection manager, now I know how to do it on actual separate connections. Thanks. But finally probably I will switch to non blocking client.","body":"Thanks for detailed answer. Link about eviction policy was that what i&#39;m looking for. I have done similar thing with whole connection manager, now I know how to do it on actual separate connections. Thanks. But finally probably I will switch to non blocking client."},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":2,"creation_date":1426076646,"post_id":28974449,"comment_id":46221502,"body_markdown":"Eviction policy is intended to remove stale _idle_ connections. It will have no effect of what so ever on connections leased from the pool and being used to execute requests (and blocked in a read operation).","body":"Eviction policy is intended to remove stale <i>idle</i> connections. It will have no effect of what so ever on connections leased from the pool and being used to execute requests (and blocked in a read operation)."},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1426078058,"post_id":28974449,"comment_id":46222410,"body_markdown":"@oleg If so, I&#39;ve unaccepted the answer. Maybe something new will came up.","body":"@oleg If so, I&#39;ve unaccepted the answer. Maybe something new will came up."},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":0,"creation_date":1426078820,"post_id":28974449,"comment_id":46222946,"body_markdown":"If you want to figure out what is going _please_ get me the wire log of the hanging sessions as I requested in my answer","body":"If you want to figure out what is going <i>please</i> get me the wire log of the hanging sessions as I requested in my answer"}],"tags":[],"owner":{"account_id":3670630,"reputation":9935,"user_id":3057934,"display_name":"vzamanillo"},"comment_count":4,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1426023624,"creation_date":1426023007,"answer_id":28974449,"question_id":28785085,"body_markdown":"As [Clint said][1], you should consider a Non-blocking HTTP client, or (seeing that you are using the Apache Httpclient) implement a [Multithreaded request execution][2] to prevent possible hangs of the main application thread (this not solve the problem but is better than restart your app because is freezed). Anyway, you set the `setStaleConnectionCheckEnabled` property but the stale connection check is not 100% reliable, from the Apache Httpclient tutorial:\r\n\r\n&gt; One of the major shortcomings of the classic blocking I/O model is\r\n&gt; that the network socket can react to I/O events only when blocked in\r\n&gt; an I/O operation. When a connection is released back to the manager,\r\n&gt; it can be kept alive however it is unable to monitor the status of the\r\n&gt; socket and react to any I/O events. If the connection gets closed on\r\n&gt; the server side, the client side connection is unable to detect the\r\n&gt; change in the connection state (and react appropriately by closing the\r\n&gt; socket on its end).\r\n&gt; \r\n&gt; HttpClient tries to mitigate the problem by testing whether the\r\n&gt; connection is &#39;stale&#39;, that is no longer valid because it was closed\r\n&gt; on the server side, prior to using the connection for executing an\r\n&gt; HTTP request. The stale connection check is not 100% reliable and adds\r\n&gt; 10 to 30 ms overhead to each request execution.\r\n\r\nThe Apache HttpComponents crew recommends the implementation of a **[Connection eviction policy][3]**\r\n\r\n&gt; The only feasible solution that does not involve a one thread per\r\n&gt; socket model for idle connections is a dedicated monitor thread used\r\n&gt; to evict connections that are considered expired due to a long period\r\n&gt; of inactivity. The monitor thread can periodically call\r\n&gt; ClientConnectionManager#closeExpiredConnections() method to close all\r\n&gt; expired connections and evict closed connections from the pool. It can\r\n&gt; also optionally call ClientConnectionManager#closeIdleConnections()\r\n&gt; method to close all connections that have been idle over a given\r\n&gt; period of time.\r\n\r\nTake a look at the sample code of the **Connection eviction policy** section and try to implement it in your application along with the Multithread request execution, I think the implementation of both mechanisms will prevent your undesired hangs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28950809/3057934\r\n  [2]: https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e392\r\n  [3]: https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e405","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>As <a href=\"https://stackoverflow.com/a/28950809/3057934\">Clint said</a>, you should consider a Non-blocking HTTP client, or (seeing that you are using the Apache Httpclient) implement a <a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e392\" rel=\"noreferrer\">Multithreaded request execution</a> to prevent possible hangs of the main application thread (this not solve the problem but is better than restart your app because is freezed). Anyway, you set the <code>setStaleConnectionCheckEnabled</code> property but the stale connection check is not 100% reliable, from the Apache Httpclient tutorial:</p>\n\n<blockquote>\n  <p>One of the major shortcomings of the classic blocking I/O model is\n  that the network socket can react to I/O events only when blocked in\n  an I/O operation. When a connection is released back to the manager,\n  it can be kept alive however it is unable to monitor the status of the\n  socket and react to any I/O events. If the connection gets closed on\n  the server side, the client side connection is unable to detect the\n  change in the connection state (and react appropriately by closing the\n  socket on its end).</p>\n  \n  <p>HttpClient tries to mitigate the problem by testing whether the\n  connection is 'stale', that is no longer valid because it was closed\n  on the server side, prior to using the connection for executing an\n  HTTP request. The stale connection check is not 100% reliable and adds\n  10 to 30 ms overhead to each request execution.</p>\n</blockquote>\n\n<p>The Apache HttpComponents crew recommends the implementation of a <strong><a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e405\" rel=\"noreferrer\">Connection eviction policy</a></strong></p>\n\n<blockquote>\n  <p>The only feasible solution that does not involve a one thread per\n  socket model for idle connections is a dedicated monitor thread used\n  to evict connections that are considered expired due to a long period\n  of inactivity. The monitor thread can periodically call\n  ClientConnectionManager#closeExpiredConnections() method to close all\n  expired connections and evict closed connections from the pool. It can\n  also optionally call ClientConnectionManager#closeIdleConnections()\n  method to close all connections that have been idle over a given\n  period of time.</p>\n</blockquote>\n\n<p>Take a look at the sample code of the <strong>Connection eviction policy</strong> section and try to implement it in your application along with the Multithread request execution, I think the implementation of both mechanisms will prevent your undesired hangs.</p>\n"},{"comments":[{"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"score":1,"creation_date":1477117423,"post_id":32656924,"comment_id":67644903,"body_markdown":"It looks like the bug has been fixed in September. Have you stopped experiencing the problem?","body":"It looks like the bug has been fixed in September. Have you stopped experiencing the problem?"}],"tags":[],"owner":{"account_id":42347,"reputation":15894,"user_id":123336,"accept_rate":73,"display_name":"Trevor Robinson"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1442594921,"creation_date":1442593953,"answer_id":32656924,"question_id":28785085,"body_markdown":"Though this question mentions Windows, I have the same problem on Linux. It appears there is a flaw in the way the JVM implements blocking socket timeouts:\r\n\r\n - https://bugs.openjdk.java.net/browse/JDK-8049846\r\n -  https://bugs.openjdk.java.net/browse/JDK-8075484\r\n\r\nTo summarize, timeout for blocking sockets is implemented by calling `poll` on Linux (and `select` on Windows) to determine that data is available before calling `recv`. However, at least on Linux, both methods can spuriously indicate that data is available when it is not, leading to `recv` blocking indefinitely.\r\n\r\nFrom poll(2) man page BUGS section:\r\n\r\n&gt; See the discussion of spurious readiness notifications under the BUGS section of select(2).\r\n\r\nFrom select(2) man page BUGS section:\r\n\r\n&gt; Under Linux, select() may report a socket file descriptor as &quot;ready\r\n&gt; for reading&quot;, while nevertheless a subsequent read blocks.  This could\r\n&gt; for example happen when data has arrived but upon examination has\r\n&gt; wrong checksum  and  is  discarded. There may be other circumstances\r\n&gt; in which a file descriptor is spuriously reported as ready.  Thus it\r\n&gt; may be safer to use O_NONBLOCK on sockets that should not block.\r\n\r\nThe Apache HTTP Client code is a bit hard to follow, but it [appears][1] that connection expiration is only set for HTTP keep-alive connections (which you&#39;ve disabled) and is indefinite unless the server specifies otherwise. Therefore, as pointed out by oleg, the [Connection eviction policy][2] approach won&#39;t work in your case and can&#39;t be relied upon in general.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/org.apache.httpcomponents/httpclient/4.3.2/org/apache/http/impl/execchain/MainClientExec.java#256\r\n  [2]: https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e405","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>Though this question mentions Windows, I have the same problem on Linux. It appears there is a flaw in the way the JVM implements blocking socket timeouts:</p>\n\n<ul>\n<li><a href=\"https://bugs.openjdk.java.net/browse/JDK-8049846\">https://bugs.openjdk.java.net/browse/JDK-8049846</a></li>\n<li><a href=\"https://bugs.openjdk.java.net/browse/JDK-8075484\">https://bugs.openjdk.java.net/browse/JDK-8075484</a></li>\n</ul>\n\n<p>To summarize, timeout for blocking sockets is implemented by calling <code>poll</code> on Linux (and <code>select</code> on Windows) to determine that data is available before calling <code>recv</code>. However, at least on Linux, both methods can spuriously indicate that data is available when it is not, leading to <code>recv</code> blocking indefinitely.</p>\n\n<p>From poll(2) man page BUGS section:</p>\n\n<blockquote>\n  <p>See the discussion of spurious readiness notifications under the BUGS section of select(2).</p>\n</blockquote>\n\n<p>From select(2) man page BUGS section:</p>\n\n<blockquote>\n  <p>Under Linux, select() may report a socket file descriptor as \"ready\n  for reading\", while nevertheless a subsequent read blocks.  This could\n  for example happen when data has arrived but upon examination has\n  wrong checksum  and  is  discarded. There may be other circumstances\n  in which a file descriptor is spuriously reported as ready.  Thus it\n  may be safer to use O_NONBLOCK on sockets that should not block.</p>\n</blockquote>\n\n<p>The Apache HTTP Client code is a bit hard to follow, but it <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.httpcomponents/httpclient/4.3.2/org/apache/http/impl/execchain/MainClientExec.java#256\">appears</a> that connection expiration is only set for HTTP keep-alive connections (which you've disabled) and is indefinite unless the server specifies otherwise. Therefore, as pointed out by oleg, the <a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e405\">Connection eviction policy</a> approach won't work in your case and can't be relied upon in general.</p>\n"},{"tags":[],"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1472371795,"creation_date":1472371795,"answer_id":39189243,"question_id":28785085,"body_markdown":"For Apache HTTP Client (blocking) I found best solution is to getConnectionManager(). and shutdown it.\r\n\r\nSo in high-reliability solution I just schedule shutdown in other thread and in case request does not complete I&#39;m shutting in down from other thread","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>For Apache HTTP Client (blocking) I found best solution is to getConnectionManager(). and shutdown it.</p>\n\n<p>So in high-reliability solution I just schedule shutdown in other thread and in case request does not complete I'm shutting in down from other thread</p>\n"},{"comments":[{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1497966585,"post_id":44653050,"comment_id":76295128,"body_markdown":"Thanks for the update, please notify about the results.","body":"Thanks for the update, please notify about the results."},{"owner":{"account_id":7507272,"reputation":1116,"user_id":5703420,"display_name":"Stefan Matei"},"score":0,"creation_date":1498037383,"post_id":44653050,"comment_id":76328466,"body_markdown":"No luck. It got stuck over the night. I will try to contact them at oracle about the bug. It was marked as resolved. And also find a workaround (abort connection from another thread) as I got tired of restarting the machines every day.","body":"No luck. It got stuck over the night. I will try to contact them at oracle about the bug. It was marked as resolved. And also find a workaround (abort connection from another thread) as I got tired of restarting the machines every day."},{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":1,"creation_date":1504728302,"post_id":44653050,"comment_id":79128881,"body_markdown":"@Stefan Thanks for the info.  If you get a bug filed against the Windows JDK please post the bug number on this stackoverflow question.","body":"@Stefan Thanks for the info.  If you get a bug filed against the Windows JDK please post the bug number on this stackoverflow question."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1653421703,"post_id":44653050,"comment_id":127847884,"body_markdown":"Still happening in Java 8 U181 on Windows.","body":"Still happening in Java 8 U181 on Windows."}],"tags":[],"owner":{"account_id":7507272,"reputation":1116,"user_id":5703420,"display_name":"Stefan Matei"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497961557,"creation_date":1497961557,"answer_id":44653050,"question_id":28785085,"body_markdown":"I have more than 50 machines that make about 200k requests/day/machine. They are running Amazon Linux AMI 2017.03. I previously had jdk1.8.0_102, now I have jdk1.8.0_131. I am using both apacheHttpClient and OKHttp as scraping libraries.\r\n\r\nEach machine was running 50 threads, and sometimes, the threads get lost. After profiling with Youkit java profiler I got\r\n\r\n    ScraperThread42 State: RUNNABLE CPU usage on sample: 0ms\r\n    java.net.SocketInputStream.socketRead0(FileDescriptor, byte[], int, int, int) SocketInputStream.java (native)\r\n    java.net.SocketInputStream.socketRead(FileDescriptor, byte[], int, int, int) SocketInputStream.java:116\r\n    java.net.SocketInputStream.read(byte[], int, int, int) SocketInputStream.java:171\r\n    java.net.SocketInputStream.read(byte[], int, int) SocketInputStream.java:141\r\n    okio.Okio$2.read(Buffer, long) Okio.java:139\r\n    okio.AsyncTimeout$2.read(Buffer, long) AsyncTimeout.java:211\r\n    okio.RealBufferedSource.indexOf(byte, long) RealBufferedSource.java:306\r\n    okio.RealBufferedSource.indexOf(byte) RealBufferedSource.java:300\r\n    okio.RealBufferedSource.readUtf8LineStrict() RealBufferedSource.java:196\r\n    okhttp3.internal.http1.Http1Codec.readResponse() Http1Codec.java:191\r\n    okhttp3.internal.connection.RealConnection.createTunnel(int, int, Request, HttpUrl) RealConnection.java:303\r\n    okhttp3.internal.connection.RealConnection.buildTunneledConnection(int, int, int, ConnectionSpecSelector) RealConnection.java:156\r\n    okhttp3.internal.connection.RealConnection.connect(int, int, int, List, boolean) RealConnection.java:112\r\n    okhttp3.internal.connection.StreamAllocation.findConnection(int, int, int, boolean) StreamAllocation.java:193\r\n    okhttp3.internal.connection.StreamAllocation.findHealthyConnection(int, int, int, boolean, boolean) StreamAllocation.java:129\r\n    okhttp3.internal.connection.StreamAllocation.newStream(OkHttpClient, boolean) StreamAllocation.java:98\r\n    okhttp3.internal.connection.ConnectInterceptor.intercept(Interceptor$Chain) ConnectInterceptor.java:42\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request) RealInterceptorChain.java:67\r\n    okhttp3.internal.http.BridgeInterceptor.intercept(Interceptor$Chain) BridgeInterceptor.java:93\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\r\n    okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(Interceptor$Chain) RetryAndFollowUpInterceptor.java:124\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request) RealInterceptorChain.java:67\r\n    okhttp3.RealCall.getResponseWithInterceptorChain() RealCall.java:198\r\n    okhttp3.RealCall.execute() RealCall.java:83\r\n\r\nI found out that they have a fix for this \r\n\r\n[https://bugs.openjdk.java.net/browse/JDK-8172578][1]\r\n\r\nin JDK 8u152 (early access). I have installed it on one of our machines. Now I am waiting to see some good results.\r\n\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8172578","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>I have more than 50 machines that make about 200k requests/day/machine. They are running Amazon Linux AMI 2017.03. I previously had jdk1.8.0_102, now I have jdk1.8.0_131. I am using both apacheHttpClient and OKHttp as scraping libraries.</p>\n\n<p>Each machine was running 50 threads, and sometimes, the threads get lost. After profiling with Youkit java profiler I got</p>\n\n<pre><code>ScraperThread42 State: RUNNABLE CPU usage on sample: 0ms\njava.net.SocketInputStream.socketRead0(FileDescriptor, byte[], int, int, int) SocketInputStream.java (native)\njava.net.SocketInputStream.socketRead(FileDescriptor, byte[], int, int, int) SocketInputStream.java:116\njava.net.SocketInputStream.read(byte[], int, int, int) SocketInputStream.java:171\njava.net.SocketInputStream.read(byte[], int, int) SocketInputStream.java:141\nokio.Okio$2.read(Buffer, long) Okio.java:139\nokio.AsyncTimeout$2.read(Buffer, long) AsyncTimeout.java:211\nokio.RealBufferedSource.indexOf(byte, long) RealBufferedSource.java:306\nokio.RealBufferedSource.indexOf(byte) RealBufferedSource.java:300\nokio.RealBufferedSource.readUtf8LineStrict() RealBufferedSource.java:196\nokhttp3.internal.http1.Http1Codec.readResponse() Http1Codec.java:191\nokhttp3.internal.connection.RealConnection.createTunnel(int, int, Request, HttpUrl) RealConnection.java:303\nokhttp3.internal.connection.RealConnection.buildTunneledConnection(int, int, int, ConnectionSpecSelector) RealConnection.java:156\nokhttp3.internal.connection.RealConnection.connect(int, int, int, List, boolean) RealConnection.java:112\nokhttp3.internal.connection.StreamAllocation.findConnection(int, int, int, boolean) StreamAllocation.java:193\nokhttp3.internal.connection.StreamAllocation.findHealthyConnection(int, int, int, boolean, boolean) StreamAllocation.java:129\nokhttp3.internal.connection.StreamAllocation.newStream(OkHttpClient, boolean) StreamAllocation.java:98\nokhttp3.internal.connection.ConnectInterceptor.intercept(Interceptor$Chain) ConnectInterceptor.java:42\nokhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\nokhttp3.internal.http.RealInterceptorChain.proceed(Request) RealInterceptorChain.java:67\nokhttp3.internal.http.BridgeInterceptor.intercept(Interceptor$Chain) BridgeInterceptor.java:93\nokhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(Interceptor$Chain) RetryAndFollowUpInterceptor.java:124\nokhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\nokhttp3.internal.http.RealInterceptorChain.proceed(Request) RealInterceptorChain.java:67\nokhttp3.RealCall.getResponseWithInterceptorChain() RealCall.java:198\nokhttp3.RealCall.execute() RealCall.java:83\n</code></pre>\n\n<p>I found out that they have a fix for this </p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8172578\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8172578</a></p>\n\n<p>in JDK 8u152 (early access). I have installed it on one of our machines. Now I am waiting to see some good results.</p>\n"},{"tags":[],"owner":{"account_id":5345891,"reputation":2894,"user_id":4261472,"accept_rate":88,"display_name":"Sergei Voitovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547631760,"creation_date":1512555759,"answer_id":47671938,"question_id":28785085,"body_markdown":"I bumped into the same issue using apache common http client. \r\n\r\nThere&#39;s a pretty simple workaround (which doesn&#39;t require shutting the connection manager down):\r\n\r\nIn order to reproduce it, one needs to execute the request from the question in a new thread paying attention to details: \r\n\r\n - run request in separate thread, close request and release it&#39;s connection in a different thread, interrupt hanging thread\r\n - don&#39;t run `EntityUtils.consumeQuietly(response.getEntity())` in finally block (because it hangs on &#39;dead&#39; connection)\r\n\r\nFirst, add the interface\r\n\r\n    interface RequestDisposer {\r\n        void dispose();\r\n    }\r\n  \r\nExecute an HTTP request in a new thread\r\n\r\n    final AtomicReference&lt;RequestDisposer&gt; requestDisposer = new AtomicReference&lt;&gt;(null);  \r\n\r\n    final Thread thread = new Thread(() -&gt; {\r\n        final HttpGet request = new HttpGet(&quot;http://my.url&quot;);\r\n        final RequestDisposer disposer = () -&gt; {\r\n            request.abort();\r\n            request.releaseConnection();\r\n        };\r\n        requestDiposer.set(disposer);\r\n        \r\n        try (final CloseableHttpResponse response = httpClient.execute(request))) {\r\n            ...\r\n        } finally {\r\n          disposer.dispose();\r\n        } \r\n    };)\r\n    thread.start()\r\n\r\nCall `dispose()` in the main thread to close hanging connection\r\n\r\n    requestDisposer.get().dispose(); // better check if it&#39;s not null first\r\n    thread.interrupt();\r\n    thread.join();\r\n\r\nThat fixed the issue for me.\r\n\r\nMy stacktrace looked like this:\r\n\r\n    java.lang.Thread.State: RUNNABLE\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:155)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:284)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.getChunkSize(ChunkedInputStream.java:253)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.nextChunk(ChunkedInputStream.java:227)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:186)\r\n\tat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:137)\r\n\tat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\r\nTo whom it might be interesting, it easily reproducable, interrupt the thread without aborting request and releasing connection (ratio is about 1/100).\r\nWindows 10, version 10.0.\r\njdk8.151-x64.","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>I bumped into the same issue using apache common http client. </p>\n\n<p>There's a pretty simple workaround (which doesn't require shutting the connection manager down):</p>\n\n<p>In order to reproduce it, one needs to execute the request from the question in a new thread paying attention to details: </p>\n\n<ul>\n<li>run request in separate thread, close request and release it's connection in a different thread, interrupt hanging thread</li>\n<li>don't run <code>EntityUtils.consumeQuietly(response.getEntity())</code> in finally block (because it hangs on 'dead' connection)</li>\n</ul>\n\n<p>First, add the interface</p>\n\n<pre><code>interface RequestDisposer {\n    void dispose();\n}\n</code></pre>\n\n<p>Execute an HTTP request in a new thread</p>\n\n<pre><code>final AtomicReference&lt;RequestDisposer&gt; requestDisposer = new AtomicReference&lt;&gt;(null);  \n\nfinal Thread thread = new Thread(() -&gt; {\n    final HttpGet request = new HttpGet(\"http://my.url\");\n    final RequestDisposer disposer = () -&gt; {\n        request.abort();\n        request.releaseConnection();\n    };\n    requestDiposer.set(disposer);\n\n    try (final CloseableHttpResponse response = httpClient.execute(request))) {\n        ...\n    } finally {\n      disposer.dispose();\n    } \n};)\nthread.start()\n</code></pre>\n\n<p>Call <code>dispose()</code> in the main thread to close hanging connection</p>\n\n<pre><code>requestDisposer.get().dispose(); // better check if it's not null first\nthread.interrupt();\nthread.join();\n</code></pre>\n\n<p>That fixed the issue for me.</p>\n\n<p>My stacktrace looked like this:</p>\n\n<pre><code>java.lang.Thread.State: RUNNABLE\nat java.net.SocketInputStream.socketRead0(Native Method)\nat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\nat java.net.SocketInputStream.read(SocketInputStream.java:171)\nat java.net.SocketInputStream.read(SocketInputStream.java:141)\nat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)\nat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:155)\nat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:284)\nat org.apache.http.impl.io.ChunkedInputStream.getChunkSize(ChunkedInputStream.java:253)\nat org.apache.http.impl.io.ChunkedInputStream.nextChunk(ChunkedInputStream.java:227)\nat org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:186)\nat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:137)\nat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\nat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\nat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\n</code></pre>\n\n<p>To whom it might be interesting, it easily reproducable, interrupt the thread without aborting request and releasing connection (ratio is about 1/100).\nWindows 10, version 10.0.\njdk8.151-x64.</p>\n"},{"tags":[],"owner":{"account_id":10397196,"reputation":1510,"user_id":7666635,"display_name":"Gunther Schadow"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589740575,"creation_date":1589740575,"answer_id":61856844,"question_id":28785085,"body_markdown":"I feel that all these answers are way too specific.\r\n\r\nWe have to note that this is probably a real JVM bug. It should be possible to get the file descriptor and close it. All this timeout-talk is too high level. You do not want a timeout to the extent that the connection fails, what you want is an ability to hard break this stuck thread and stop or interrupt it.\r\n\r\nThe way the JVM should implemented the SocketInputStream.socketRead function is to set some internal default timeout, which should be even as low as 1 second. Then when the timeout comes, immediately looping back to the socketRead0. While that is happening, the Thread.interrupt and Thread.stop commands can take effect.\r\n\r\nThe even better way of doing this of course is not to do any blocking wait at all, but instead use a the select(2) system call with a list of file descriptors and when any one has data available, let it perform the read operation. \r\n\r\nJust look all over the internet all these people having trouble with threads stuck in java.net.SocketInputStream#socketRead0, it&#39;s the most popular topic about java.net.SocketInputStream hands down!\r\n\r\nSo, while the bug is not fixed, I wonder about the most dirty trick I can come up with to break up this situation. Something like connecting with the debugger interface to get to the stack frame of the socketRead call and grab the FileDescriptor and then break into that to get the int fd number and then make a native close(2) call on that fd.\r\n\r\nDo we have a chance to do that? (Don&#39;t tell me &quot;it&#39;s not good practice&quot;) -- if so, let&#39;s do it!","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>I feel that all these answers are way too specific.</p>\n\n<p>We have to note that this is probably a real JVM bug. It should be possible to get the file descriptor and close it. All this timeout-talk is too high level. You do not want a timeout to the extent that the connection fails, what you want is an ability to hard break this stuck thread and stop or interrupt it.</p>\n\n<p>The way the JVM should implemented the SocketInputStream.socketRead function is to set some internal default timeout, which should be even as low as 1 second. Then when the timeout comes, immediately looping back to the socketRead0. While that is happening, the Thread.interrupt and Thread.stop commands can take effect.</p>\n\n<p>The even better way of doing this of course is not to do any blocking wait at all, but instead use a the select(2) system call with a list of file descriptors and when any one has data available, let it perform the read operation. </p>\n\n<p>Just look all over the internet all these people having trouble with threads stuck in java.net.SocketInputStream#socketRead0, it's the most popular topic about java.net.SocketInputStream hands down!</p>\n\n<p>So, while the bug is not fixed, I wonder about the most dirty trick I can come up with to break up this situation. Something like connecting with the debugger interface to get to the stack frame of the socketRead call and grab the FileDescriptor and then break into that to get the int fd number and then make a native close(2) call on that fd.</p>\n\n<p>Do we have a chance to do that? (Don't tell me \"it's not good practice\") -- if so, let's do it!</p>\n"},{"tags":[],"owner":{"account_id":13579878,"reputation":121,"user_id":9796213,"display_name":"Eduardo Brito"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597410574,"creation_date":1597410221,"answer_id":63413327,"question_id":28785085,"body_markdown":"I faced the same issue today. Based on @Sergei Voitovich I&#39;ve tried to make it work still using Apache Http Client. \r\n\r\nSince I am using Java 8 its simpler to make a timeout to abort the connection.\r\n\r\nHere&#39;s is a draft of the implementation:\r\n\r\n    private HttpResponse executeRequest(Request request){\r\n        InterruptibleRequestExecution requestExecution = new InterruptibleRequestExecution(request, executor);\r\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        try {\r\n            return executorService.submit(requestExecution).get(&lt;your timeout in milliseconds&gt;, TimeUnit.MILLISECONDS);\r\n        } catch (TimeoutException | ExecutionException e) {\r\n            // Your request timed out, you can throw an exception here if you want\r\n            throw new UsefulExceptionForYourApplication(e);\r\n        } catch (InterruptedException e) {\r\n            // Always remember to call interrupt after catching InterruptedException\r\n            Thread.currentThread().interrupt();\r\n            throw new UsefulExceptionForYourApplication(e);\r\n        } finally {\r\n            // This method forces to stop the Thread Pool (with single thread) created by Executors.newSingleThreadExecutor() and makes the pending request to abort inside the thread. So if the request is hanging in socketRead0 it will stop and also the thread will be terminated\r\n            forceStopIdleThreadsAndRequests(requestExecution, executorService);\r\n        }\r\n    }\r\n    \r\n    private void forceStopIdleThreadsAndRequests(InterruptibleRequestExecution execution,\r\n                                                 ExecutorService executorService) {\r\n        execution.abortRequest();\r\n        executorService.shutdownNow();\r\n    }\r\n    \r\nThe code above will create a new Thread to execute the request using `org.apache.http.client.fluent.Executor`. Timeout can be easily configured.\r\n\r\nThe execution of the thread is defined in `InterruptibleRequestExecution` which you can see below.\r\n\r\n\r\n    private static class InterruptibleRequestExecution implements Callable&lt;HttpResponse&gt; {\r\n        private final Request request;\r\n        private final Executor executor;\r\n        private final RequestDisposer disposer;\r\n\r\n        public InterruptibleRequestExecution(Request request, Executor executor) {\r\n            this.request = request;\r\n            this.executor = executor;\r\n            this.disposer = request::abort;\r\n        }\r\n\r\n        @Override\r\n        public HttpResponse call() {\r\n            try {\r\n                return executor.execute(request).returnResponse();\r\n            } catch (IOException e) {\r\n                throw new UsefulExceptionForYourApplication(e);\r\n            } finally {\r\n                disposer.dispose();\r\n            }\r\n        }\r\n\r\n        public void abortRequest() {\r\n            disposer.dispose();\r\n        }\r\n\r\n        @FunctionalInterface\r\n        interface RequestDisposer {\r\n            void dispose();\r\n        }\r\n    }\r\n\r\n\r\nThe results are really good. We&#39;ve had times where some connections where hanging in sockedRead0 for 7 hours! Now, it never passes the defined timeout and its working in production with millions of requests per day without having any problems.","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>I faced the same issue today. Based on @Sergei Voitovich I've tried to make it work still using Apache Http Client.</p>\n<p>Since I am using Java 8 its simpler to make a timeout to abort the connection.</p>\n<p>Here's is a draft of the implementation:</p>\n<pre><code>private HttpResponse executeRequest(Request request){\n    InterruptibleRequestExecution requestExecution = new InterruptibleRequestExecution(request, executor);\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\n    try {\n        return executorService.submit(requestExecution).get(&lt;your timeout in milliseconds&gt;, TimeUnit.MILLISECONDS);\n    } catch (TimeoutException | ExecutionException e) {\n        // Your request timed out, you can throw an exception here if you want\n        throw new UsefulExceptionForYourApplication(e);\n    } catch (InterruptedException e) {\n        // Always remember to call interrupt after catching InterruptedException\n        Thread.currentThread().interrupt();\n        throw new UsefulExceptionForYourApplication(e);\n    } finally {\n        // This method forces to stop the Thread Pool (with single thread) created by Executors.newSingleThreadExecutor() and makes the pending request to abort inside the thread. So if the request is hanging in socketRead0 it will stop and also the thread will be terminated\n        forceStopIdleThreadsAndRequests(requestExecution, executorService);\n    }\n}\n\nprivate void forceStopIdleThreadsAndRequests(InterruptibleRequestExecution execution,\n                                             ExecutorService executorService) {\n    execution.abortRequest();\n    executorService.shutdownNow();\n}\n</code></pre>\n<p>The code above will create a new Thread to execute the request using <code>org.apache.http.client.fluent.Executor</code>. Timeout can be easily configured.</p>\n<p>The execution of the thread is defined in <code>InterruptibleRequestExecution</code> which you can see below.</p>\n<pre><code>private static class InterruptibleRequestExecution implements Callable&lt;HttpResponse&gt; {\n    private final Request request;\n    private final Executor executor;\n    private final RequestDisposer disposer;\n\n    public InterruptibleRequestExecution(Request request, Executor executor) {\n        this.request = request;\n        this.executor = executor;\n        this.disposer = request::abort;\n    }\n\n    @Override\n    public HttpResponse call() {\n        try {\n            return executor.execute(request).returnResponse();\n        } catch (IOException e) {\n            throw new UsefulExceptionForYourApplication(e);\n        } finally {\n            disposer.dispose();\n        }\n    }\n\n    public void abortRequest() {\n        disposer.dispose();\n    }\n\n    @FunctionalInterface\n    interface RequestDisposer {\n        void dispose();\n    }\n}\n</code></pre>\n<p>The results are really good. We've had times where some connections where hanging in sockedRead0 for 7 hours! Now, it never passes the defined timeout and its working in production with millions of requests per day without having any problems.</p>\n"}],"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55778,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":39189243,"answer_count":9,"score":70,"last_activity_date":1683853046,"creation_date":1425146923,"question_id":28785085,"body_markdown":"Performing millions of HTTP requests with different Java libraries gives me threads hung on:\r\n\r\n`java.net.SocketInputStream.socketRead0()`\r\n\r\nwhich is a `native` function.\r\n\r\nI tried to set up the Apache Http Client and `RequestConfig` to have timeouts on  (I hope) everythig that is possible but still, **I have (probably infinite) hangs on `socketRead0`. How to get rid of them?**\r\n\r\nThe hung ratio is about ~1 per 10000 requests (to 10000 different hosts) and it can last probably forever (I&#39;ve confirmed thread hung as still valid after 10 hours).\r\n\r\nJDK 1.8 on Windows 7.\r\n\r\nMy `HttpClient` factory:\r\n\r\n    SocketConfig socketConfig = SocketConfig.custom()\r\n                .setSoKeepAlive(false)\r\n                .setSoLinger(1)\r\n                .setSoReuseAddress(true)\r\n                .setSoTimeout(5000)\r\n                .setTcpNoDelay(true).build();\r\n\r\n        HttpClientBuilder builder = HttpClientBuilder.create();\r\n        builder.disableAutomaticRetries();\r\n        builder.disableContentCompression();\r\n        builder.disableCookieManagement();\r\n        builder.disableRedirectHandling();\r\n        builder.setConnectionReuseStrategy(new NoConnectionReuseStrategy());\r\n        builder.setDefaultSocketConfig(socketConfig);\r\n\r\n        return HttpClientBuilder.create().build();\r\n\r\nMy `RequestConfig` factory:\r\n\r\n        HttpGet request = new HttpGet(url);\r\n\r\n        RequestConfig config = RequestConfig.custom()\r\n                .setCircularRedirectsAllowed(false)\r\n                .setConnectionRequestTimeout(8000)\r\n                .setConnectTimeout(4000)\r\n                .setMaxRedirects(1)\r\n                .setRedirectsEnabled(true)\r\n                .setSocketTimeout(5000)\r\n                .setStaleConnectionCheckEnabled(true).build();\r\n        request.setConfig(config);\r\n\r\n        return new HttpGet(url);\r\n\r\n[OpenJDK `socketRead0` source][1]\r\n\r\nNote: Actually I have a &quot;trick&quot;: I can schedule `.getConnectionManager().shutdown()` in other `Thread` with a cancellation of the `Future` if request finished properly. But, it is deprecated and also it kills whole `HttpClient`, not just that single request.\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/windows/native/java/net/SocketInputStream.c","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>Performing millions of HTTP requests with different Java libraries gives me threads hung on:</p>\n<p><code>java.net.SocketInputStream.socketRead0()</code></p>\n<p>which is a <code>native</code> function.</p>\n<p>I tried to set up the Apache Http Client and <code>RequestConfig</code> to have timeouts on  (I hope) everythig that is possible but still, <strong>I have (probably infinite) hangs on <code>socketRead0</code>. How to get rid of them?</strong></p>\n<p>The hung ratio is about ~1 per 10000 requests (to 10000 different hosts) and it can last probably forever (I've confirmed thread hung as still valid after 10 hours).</p>\n<p>JDK 1.8 on Windows 7.</p>\n<p>My <code>HttpClient</code> factory:</p>\n<pre><code>SocketConfig socketConfig = SocketConfig.custom()\n            .setSoKeepAlive(false)\n            .setSoLinger(1)\n            .setSoReuseAddress(true)\n            .setSoTimeout(5000)\n            .setTcpNoDelay(true).build();\n\n    HttpClientBuilder builder = HttpClientBuilder.create();\n    builder.disableAutomaticRetries();\n    builder.disableContentCompression();\n    builder.disableCookieManagement();\n    builder.disableRedirectHandling();\n    builder.setConnectionReuseStrategy(new NoConnectionReuseStrategy());\n    builder.setDefaultSocketConfig(socketConfig);\n\n    return HttpClientBuilder.create().build();\n</code></pre>\n<p>My <code>RequestConfig</code> factory:</p>\n<pre><code>    HttpGet request = new HttpGet(url);\n\n    RequestConfig config = RequestConfig.custom()\n            .setCircularRedirectsAllowed(false)\n            .setConnectionRequestTimeout(8000)\n            .setConnectTimeout(4000)\n            .setMaxRedirects(1)\n            .setRedirectsEnabled(true)\n            .setSocketTimeout(5000)\n            .setStaleConnectionCheckEnabled(true).build();\n    request.setConfig(config);\n\n    return new HttpGet(url);\n</code></pre>\n<p><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/windows/native/java/net/SocketInputStream.c\" rel=\"nofollow noreferrer\">OpenJDK <code>socketRead0</code> source</a></p>\n<p>Note: Actually I have a &quot;trick&quot;: I can schedule <code>.getConnectionManager().shutdown()</code> in other <code>Thread</code> with a cancellation of the <code>Future</code> if request finished properly. But, it is deprecated and also it kills whole <code>HttpClient</code>, not just that single request.</p>\n"},{"tags":["java","sockets","server","client-server","socketexception"],"answers":[{"comments":[{"owner":{"account_id":7237505,"reputation":1,"user_id":5522189,"display_name":"Joshua Wilford"},"score":0,"creation_date":1448165663,"post_id":33849048,"comment_id":55467339,"body_markdown":"When I comment out the writer.close();  and run 2 clients, now the message is not being sent to the server. I have the system read out what is sent to see if its being sent and its not. I will look over the Javadoc on oracles site and see what I can make of it. Thank you EJP for looking at this.","body":"When I comment out the writer.close();  and run 2 clients, now the message is not being sent to the server. I have the system read out what is sent to see if its being sent and its not. I will look over the Javadoc on oracles site and see what I can make of it. Thank you EJP for looking at this."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1448279424,"post_id":33849048,"comment_id":55503942,"body_markdown":"call writer.flush() since you are using PrintWriter.","body":"call writer.flush() since you are using PrintWriter."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448143075,"creation_date":1448143075,"answer_id":33849048,"question_id":33847792,"body_markdown":"This exception means that *you* closed the socket and then continued to use it.\r\n\r\n    writer.close();\r\n\r\nYou closed it here. Closing either the input stream or the output stream of a socket closes the socket. See the Javadoc.","title":"Client/Server Socket Exception issue","body":"<p>This exception means that <em>you</em> closed the socket and then continued to use it.</p>\n\n<pre><code>writer.close();\n</code></pre>\n\n<p>You closed it here. Closing either the input stream or the output stream of a socket closes the socket. See the Javadoc.</p>\n"}],"owner":{"account_id":7237505,"reputation":1,"user_id":5522189,"display_name":"Joshua Wilford"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1448145452,"answer_count":1,"score":0,"last_activity_date":1683852583,"creation_date":1448134991,"question_id":33847792,"body_markdown":"   So I am still trying to tackle this client/server concept. I finally have a somewhat working program except I get this error. I have looked around the net to see if this something I can try to resolve myself, but for the life of me I can&#39;t figure it out. Can someone take a look at the client code and see where I made a mistake and point me in the right direction. \r\n\r\n\r\n\r\n    java.net.SocketException: Socket closed\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:170)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\tat java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n\tat java.io.BufferedReader.fill(BufferedReader.java:161)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:324)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:389)\r\n\tat Contact$IncomingReader.run(Contact.java:104)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\n\r\nClient Code\r\n\r\n\r\n\r\n    public class Contact{\r\n\r\n\tJTextArea incoming;\r\n\tJTextField outgoing;\r\n\tBufferedReader reader;\r\n\tPrintWriter writer;\r\n\tSocket sock;\r\n\tJPanel mainP;\r\n\tJScrollPane scroll;\r\n\tJButton sendB;\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tContact client = new Contact();\r\n\t\tclient.go();\r\n\t}\r\n\t\r\n\t\r\n\tpublic void go(){\r\n\t\t\r\n\t\tJFrame frame = new JFrame(&quot;Client&quot;);\r\n\t\tmainP = new JPanel();\r\n\t\tincoming = new JTextArea(15,50);\r\n\t\tincoming.setLineWrap(true);\r\n\t\tincoming.setWrapStyleWord(false);\r\n\t\tincoming.setEditable(false);\r\n\t\tscroll = new JScrollPane(incoming);\r\n\t\tscroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\tscroll.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n\t\toutgoing = new JTextField(20);\r\n\t\tsendB = new JButton(&quot;Send&quot;);\r\n\t\tsendB.addActionListener(new SendButtonListener());\r\n\t\tmainP.add(scroll);\r\n\t\tmainP.add(outgoing);\r\n\t\tmainP.add(sendB);\r\n\t\tNetworking();\r\n\t\t\r\n\t\tThread readerThread = new Thread(new IncomingReader());\r\n\t\treaderThread.start();\r\n\t\t\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.getContentPane().add(BorderLayout.CENTER, mainP);\r\n\t\tframe.setSize(400,400);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\tprivate void Networking(){\r\n\t\ttry{\r\n\t\t\tsock = new Socket(&quot;127.0.0.1&quot;,5000);\r\n\t\t\tInputStreamReader streamReader = new InputStreamReader(sock.getInputStream());\r\n\t\t\treader = new BufferedReader(streamReader);\r\n\t\t\twriter = new PrintWriter(sock.getOutputStream());\r\n\t\t\tSystem.out.println(&quot;Connection Established&quot;);\r\n\t\t}catch(IOException ex){\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic class SendButtonListener implements ActionListener {\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\ttry{\r\n\t\t\t\twriter.println(outgoing.getText());\r\n\t\t\t\twriter.close();\r\n\t\t\t}catch(Exception ex){\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\toutgoing.setText(&quot;&quot;);\r\n\t\t\toutgoing.requestFocus();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class IncomingReader implements Runnable{\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tString message;\r\n\t\t\ttry{\r\n\t\t\t\twhile((message = reader.readLine()) != null){\r\n\t\t\t\t\tSystem.out.println(&quot;read &quot; + message);\r\n\t\t\t\t\tincoming.append(message + &quot;\\n&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}catch(Exception ex){\r\n\t\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\n","title":"Client/Server Socket Exception issue","body":"<p>So I am still trying to tackle this client/server concept. I finally have a somewhat working program except I get this error. I have looked around the net to see if this something I can try to resolve myself, but for the life of me I can't figure it out. Can someone take a look at the client code and see where I made a mistake and point me in the right direction.</p>\n<pre><code>java.net.SocketException: Socket closed\nat java.net.SocketInputStream.socketRead0(Native Method)\nat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\nat java.net.SocketInputStream.read(SocketInputStream.java:170)\nat java.net.SocketInputStream.read(SocketInputStream.java:141)\nat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\nat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\nat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\nat java.io.InputStreamReader.read(InputStreamReader.java:184)\nat java.io.BufferedReader.fill(BufferedReader.java:161)\nat java.io.BufferedReader.readLine(BufferedReader.java:324)\nat java.io.BufferedReader.readLine(BufferedReader.java:389)\nat Contact$IncomingReader.run(Contact.java:104)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>Client Code</p>\n<pre><code>public class Contact{\n\nJTextArea incoming;\nJTextField outgoing;\nBufferedReader reader;\nPrintWriter writer;\nSocket sock;\nJPanel mainP;\nJScrollPane scroll;\nJButton sendB;\n\npublic static void main(String[] args){\n    Contact client = new Contact();\n    client.go();\n}\n\n\npublic void go(){\n    \n    JFrame frame = new JFrame(&quot;Client&quot;);\n    mainP = new JPanel();\n    incoming = new JTextArea(15,50);\n    incoming.setLineWrap(true);\n    incoming.setWrapStyleWord(false);\n    incoming.setEditable(false);\n    scroll = new JScrollPane(incoming);\n    scroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n    scroll.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n    outgoing = new JTextField(20);\n    sendB = new JButton(&quot;Send&quot;);\n    sendB.addActionListener(new SendButtonListener());\n    mainP.add(scroll);\n    mainP.add(outgoing);\n    mainP.add(sendB);\n    Networking();\n    \n    Thread readerThread = new Thread(new IncomingReader());\n    readerThread.start();\n    \n    frame.setLocationRelativeTo(null);\n    frame.getContentPane().add(BorderLayout.CENTER, mainP);\n    frame.setSize(400,400);\n    frame.setVisible(true);\n}\n\nprivate void Networking(){\n    try{\n        sock = new Socket(&quot;127.0.0.1&quot;,5000);\n        InputStreamReader streamReader = new InputStreamReader(sock.getInputStream());\n        reader = new BufferedReader(streamReader);\n        writer = new PrintWriter(sock.getOutputStream());\n        System.out.println(&quot;Connection Established&quot;);\n    }catch(IOException ex){\n        ex.printStackTrace();\n    }\n}\n\n\npublic class SendButtonListener implements ActionListener {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        try{\n            writer.println(outgoing.getText());\n            writer.close();\n        }catch(Exception ex){\n            ex.printStackTrace();\n        }\n        outgoing.setText(&quot;&quot;);\n        outgoing.requestFocus();\n    }\n}\n\npublic class IncomingReader implements Runnable{\n    @Override\n    public void run() {\n        String message;\n        try{\n            while((message = reader.readLine()) != null){\n                System.out.println(&quot;read &quot; + message);\n                incoming.append(message + &quot;\\n&quot;);\n            }\n            \n        }catch(Exception ex){\n                ex.printStackTrace();\n        }\n        \n    }\n    \n}\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1566459099,"post_id":57603972,"comment_id":101664549,"body_markdown":"Is there really a tab between the date and time?","body":"Is there really a tab between the date and time?"},{"owner":{"account_id":13715480,"reputation":377,"user_id":9896706,"display_name":"Remco Buddelmeijer"},"score":1,"creation_date":1566459207,"post_id":57603972,"comment_id":101664613,"body_markdown":"Are you sure there is a tab (as @RobAu said)? This would be the only explanation.","body":"Are you sure there is a tab (as @RobAu said)? This would be the only explanation."},{"owner":{"account_id":6809077,"reputation":627,"user_id":5239927,"accept_rate":83,"display_name":"Peter S"},"score":1,"creation_date":1566459358,"post_id":57603972,"comment_id":101664688,"body_markdown":"I Edited the Question and posted a Screenshot of the LogFile.","body":"I Edited the Question and posted a Screenshot of the LogFile."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1566459624,"post_id":57603972,"comment_id":101664823,"body_markdown":"Try splitting on `\\\\t+` to handle multiple consecutive tabs.","body":"Try splitting on <code>\\\\t+</code> to handle multiple consecutive tabs."}],"answers":[{"comments":[{"owner":{"account_id":6809077,"reputation":627,"user_id":5239927,"accept_rate":83,"display_name":"Peter S"},"score":0,"creation_date":1566460485,"post_id":57604341,"comment_id":101665287,"body_markdown":"I see why the exception was raised. &quot;\\\\t+&quot; puts all values (100,1.0,2.0) into value[1].","body":"I see why the exception was raised. &quot;\\\\t+&quot; puts all values (100,1.0,2.0) into value[1]."}],"tags":[],"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566460181,"creation_date":1566459672,"answer_id":57604341,"question_id":57603972,"body_markdown":"Result of ```String[] values = data.split(&quot;\\\\t&quot;);```\r\n&gt; 1: [&quot;2019-06-06 10:01:02&quot;, &quot;&quot;, &quot;1.0&quot;]    \r\n&gt; 2: [&quot;2019-06-06 10:25:12&quot;, &quot;100.0&quot;]  \r\n&gt; 3: [&quot;2019-06-06 11:02:32 &quot;, &quot;&quot;, &quot;2.0&quot;] \r\n\r\nNote that double tabulation will split to an empty String.\r\nOn line 2 there is a single tabulation which results in an ```ArrayOutOfBoundsException``` because values does not have a third value.\r\n\r\nAs mentionned by @Thilo, a split on ```&quot;\\\\t+&quot;``` should fix your problem ","title":"Java Scanner hasNext() skips empty lines","body":"<p>Result of <code>String[] values = data.split(\"\\\\t\");</code></p>\n\n<blockquote>\n  <p>1: [\"2019-06-06 10:01:02\", \"\", \"1.0\"]<br>\n  2: [\"2019-06-06 10:25:12\", \"100.0\"]<br>\n  3: [\"2019-06-06 11:02:32 \", \"\", \"2.0\"] </p>\n</blockquote>\n\n<p>Note that double tabulation will split to an empty String.\nOn line 2 there is a single tabulation which results in an <code>ArrayOutOfBoundsException</code> because values does not have a third value.</p>\n\n<p>As mentionned by @Thilo, a split on <code>\"\\\\t+\"</code> should fix your problem </p>\n"},{"tags":[],"owner":{"account_id":15240508,"reputation":1895,"user_id":11143190,"display_name":"Zain Arshad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566460206,"creation_date":1566460206,"answer_id":57604478,"question_id":57603972,"body_markdown":"The problem as stated by other is that there are empty entries in the array i.e.\r\n\r\n&gt; [&quot;2019-06-06 10:01:02&quot;, &quot;&quot;, &quot;1.0&quot;]\r\n\r\nSo you need to delete all such entries. Using Java 8 this can be done like:\r\n\r\n    // You have the &quot;values&quot; array now do this...\r\n    String[] correctValues = Arrays.stream(values)\r\n                .filter(value -&gt;\r\n                        value != null &amp;&amp; value.length() &gt; 0\r\n                )\r\n                .toArray(size -&gt; new String[size]);\r\n    // Rest of the code ...","title":"Java Scanner hasNext() skips empty lines","body":"<p>The problem as stated by other is that there are empty entries in the array i.e.</p>\n\n<blockquote>\n  <p>[\"2019-06-06 10:01:02\", \"\", \"1.0\"]</p>\n</blockquote>\n\n<p>So you need to delete all such entries. Using Java 8 this can be done like:</p>\n\n<pre><code>// You have the \"values\" array now do this...\nString[] correctValues = Arrays.stream(values)\n            .filter(value -&gt;\n                    value != null &amp;&amp; value.length() &gt; 0\n            )\n            .toArray(size -&gt; new String[size]);\n// Rest of the code ...\n</code></pre>\n"}],"owner":{"account_id":6809077,"reputation":627,"user_id":5239927,"accept_rate":83,"display_name":"Peter S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57604341,"answer_count":2,"score":0,"last_activity_date":1683852328,"creation_date":1566458364,"question_id":57603972,"body_markdown":"The log file I want to work with is tab-separated and looks like this:\r\n\r\n    2019-06-06 10:01:02\t\t1.0\r\n    2019-06-06 10:25:12\t100.0\r\n    2019-06-06 11:02:32\t\t2.0\r\n\r\nI use the following code to scan through the file:\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class FirstTry {\r\n    public static void main(String[] args) \r\n    {\r\n        String fileName = &quot;LogFile.csv&quot;;\r\n        File file = new File(fileName);\r\n        try\r\n        {\r\n            Scanner inputStream = new Scanner(file);\r\n            while (inputStream.hasNext()){\r\n                String data = inputStream.nextLine();\r\n                String[] values = data.split(&quot;\\\\t&quot;);\r\n                System.out.println(values[0] + &quot;    &quot; + values[1]);\r\n            }\r\n            inputStream.close();\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThe line\r\n\r\n    System.out.println(values[0] + &quot;    &quot; + values[1]);\r\n\r\nprints the following, working output:\r\n\r\n    2019-06-06 10:01:02    \r\n    2019-06-06 10:25:12    100.0\r\n    2019-06-06 11:02:32    \r\n\r\nbut \r\n\r\n    System.out.println(values[0] + &quot;    &quot; + values[2]);\r\n\r\nprints:\r\n\r\n    2019-06-06 10:01:02    1.0\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException\r\n\r\n\r\nWhy is this exceptions raised vor `values[2]` and not `values [1]`?\r\n\r\n\r\nEdit:\r\nSublime Text Screenshot of the LogFile with the Tabs (5 in total) marked:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NCI2h.png\r\n\r\n\r\nEdit 2:\r\n\r\n    String[] values = data.split(&quot;\\\\t+&quot;);\r\n    System.out.println(values[0] + &quot;    &quot; + values[1]);\r\nprints:\r\n\r\n    2019-06-06 10:01:02    1.0\r\n    2019-06-06 10:25:12    100.0\r\n    2019-06-06 11:02:32    2.0\r\n\r\n`System.out.println(values[0] + &quot;    &quot; + values[2]);`results in an `java.lang.ArrayIndexOutOfBoundsException`","title":"Java Scanner hasNext() skips empty lines","body":"<p>The log file I want to work with is tab-separated and looks like this:</p>\n\n<pre><code>2019-06-06 10:01:02     1.0\n2019-06-06 10:25:12 100.0\n2019-06-06 11:02:32     2.0\n</code></pre>\n\n<p>I use the following code to scan through the file:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class FirstTry {\n    public static void main(String[] args) \n    {\n        String fileName = \"LogFile.csv\";\n        File file = new File(fileName);\n        try\n        {\n            Scanner inputStream = new Scanner(file);\n            while (inputStream.hasNext()){\n                String data = inputStream.nextLine();\n                String[] values = data.split(\"\\\\t\");\n                System.out.println(values[0] + \"    \" + values[1]);\n            }\n            inputStream.close();\n        }\n        catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>The line</p>\n\n<pre><code>System.out.println(values[0] + \"    \" + values[1]);\n</code></pre>\n\n<p>prints the following, working output:</p>\n\n<pre><code>2019-06-06 10:01:02    \n2019-06-06 10:25:12    100.0\n2019-06-06 11:02:32    \n</code></pre>\n\n<p>but </p>\n\n<pre><code>System.out.println(values[0] + \"    \" + values[2]);\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>2019-06-06 10:01:02    1.0\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException\n</code></pre>\n\n<p>Why is this exceptions raised vor <code>values[2]</code> and not <code>values [1]</code>?</p>\n\n<p>Edit:\nSublime Text Screenshot of the LogFile with the Tabs (5 in total) marked:\n<a href=\"https://i.stack.imgur.com/NCI2h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NCI2h.png\" alt=\"enter image description here\"></a></p>\n\n<p>Edit 2:</p>\n\n<pre><code>String[] values = data.split(\"\\\\t+\");\nSystem.out.println(values[0] + \"    \" + values[1]);\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>2019-06-06 10:01:02    1.0\n2019-06-06 10:25:12    100.0\n2019-06-06 11:02:32    2.0\n</code></pre>\n\n<p><code>System.out.println(values[0] + \"    \" + values[2]);</code>results in an <code>java.lang.ArrayIndexOutOfBoundsException</code></p>\n"},{"tags":["java","input","user-input"],"comments":[{"owner":{"account_id":11260438,"reputation":5143,"user_id":8258942,"accept_rate":0,"display_name":"Nitin Bisht"},"score":1,"creation_date":1594183557,"post_id":62787676,"comment_id":111033363,"body_markdown":"How and what inputs are you giving since it seems fine","body":"How and what inputs are you giving since it seems fine"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1594184229,"post_id":62787676,"comment_id":111033508,"body_markdown":"What error does it print?","body":"What error does it print?"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1594184366,"post_id":62787676,"comment_id":111033558,"body_markdown":"Welcome to SO!  It would also help us if you could tell us exactly what error you are getting.","body":"Welcome to SO!  It would also help us if you could tell us exactly what error you are getting."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1594184395,"post_id":62787676,"comment_id":111033567,"body_markdown":"and Kevin beat me to it lol","body":"and Kevin beat me to it lol"}],"answers":[{"tags":[],"owner":{"account_id":8999874,"reputation":345,"user_id":6708879,"display_name":"MissingSemiColon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594195135,"creation_date":1594195135,"answer_id":62790104,"question_id":62787676,"body_markdown":"The problem is that nextLine is reading everying, so nextInt has nothing to read. What you want to do is.\r\n\r\n1.Read the input\r\n\r\n2.Split by something (space for example)\r\n\r\n3.Parse the text manualy.\r\n\r\n    public static void main(String[] args) {\r\n        // Try-with-resources so its closes the scanner.\r\n        try (Scanner input = new Scanner(System.in);) {\r\n\r\n            System.out.println(&quot;Enter Name and age : &quot;);\r\n            // Read input, split by spaces.\r\n            String[] text = input.nextLine().split(&quot; &quot;);\r\n            String name = &quot;&quot;;\r\n            // Read the values, but not the last one.\r\n            for (int i = 0; i &lt; text.length - 1; i++) {\r\n                name += text[i] + &quot; &quot;;\r\n            }\r\n\r\n            try {\r\n                // Take the last one and convert it to int.\r\n                int age = Integer.parseInt(text[text.length - 1]);\r\n                // Print if everything was ok.\r\n                System.out.println(&quot;String name : &quot; + name);\r\n                System.out.println(&quot;String name : &quot; + age);\r\n\r\n            } catch (NumberFormatException e) {\r\n                // The last field was not a number.\r\n                System.err.println(&quot;Age has to be a number&quot;);\r\n            }\r\n        } // No catch propagate the exception.\r\n    }","title":"Error after adding second input statement to code","body":"<p>The problem is that nextLine is reading everying, so nextInt has nothing to read. What you want to do is.</p>\n<p>1.Read the input</p>\n<p>2.Split by something (space for example)</p>\n<p>3.Parse the text manualy.</p>\n<pre><code>public static void main(String[] args) {\n    // Try-with-resources so its closes the scanner.\n    try (Scanner input = new Scanner(System.in);) {\n\n        System.out.println(&quot;Enter Name and age : &quot;);\n        // Read input, split by spaces.\n        String[] text = input.nextLine().split(&quot; &quot;);\n        String name = &quot;&quot;;\n        // Read the values, but not the last one.\n        for (int i = 0; i &lt; text.length - 1; i++) {\n            name += text[i] + &quot; &quot;;\n        }\n\n        try {\n            // Take the last one and convert it to int.\n            int age = Integer.parseInt(text[text.length - 1]);\n            // Print if everything was ok.\n            System.out.println(&quot;String name : &quot; + name);\n            System.out.println(&quot;String name : &quot; + age);\n\n        } catch (NumberFormatException e) {\n            // The last field was not a number.\n            System.err.println(&quot;Age has to be a number&quot;);\n        }\n    } // No catch propagate the exception.\n}\n</code></pre>\n"}],"owner":{"account_id":16663148,"reputation":35,"user_id":12042609,"display_name":"Simba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1594213016,"answer_count":1,"score":0,"last_activity_date":1683852292,"creation_date":1594183281,"question_id":62787676,"body_markdown":"code_1\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Enter Name : &quot;);\r\n    String name = input.nextLine();\r\n    System.out.println(&quot;String name : &quot; + name);\r\n    System.out.println(&quot;Enter age : &quot;);\r\n    int age = input.nextInt();\r\n\r\ncode_2\r\n\r\nHere I tried to get both and name and age at once. This code takes name and After I enter name and it prints error and doesn&#39;t ask for age...\r\n\r\n    System.out.println(&quot;Enter Name and age : &quot;);\r\n    String name = input.nextLine();\r\n    int age = input.nextInt();//error may be over here\r\n    \r\n    System.out.println(&quot;String name : &quot; + name);\r\n    System.out.println(&quot;String name : &quot; + age);\r\n    \r\n\r\n\r\n","title":"Error after adding second input statement to code","body":"<p>code_1</p>\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.println(&quot;Enter Name : &quot;);\nString name = input.nextLine();\nSystem.out.println(&quot;String name : &quot; + name);\nSystem.out.println(&quot;Enter age : &quot;);\nint age = input.nextInt();\n</code></pre>\n<p>code_2</p>\n<p>Here I tried to get both and name and age at once. This code takes name and After I enter name and it prints error and doesn't ask for age...</p>\n<pre><code>System.out.println(&quot;Enter Name and age : &quot;);\nString name = input.nextLine();\nint age = input.nextInt();//error may be over here\n\nSystem.out.println(&quot;String name : &quot; + name);\nSystem.out.println(&quot;String name : &quot; + age);\n</code></pre>\n"},{"tags":["java","string","java.util.scanner","delimiter"],"comments":[{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":1,"creation_date":1606158952,"post_id":64974854,"comment_id":114871832,"body_markdown":"What do you mean &quot;assign every 2 characters **to their variables**&quot;?","body":"What do you mean &quot;assign every 2 characters <b>to their variables</b>&quot;?"},{"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"score":0,"creation_date":1606159004,"post_id":64974854,"comment_id":114871853,"body_markdown":"You might want to look at `String.substring()`","body":"You might want to look at <code>String.substring()</code>"},{"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"score":0,"creation_date":1606159128,"post_id":64974854,"comment_id":114871918,"body_markdown":"@Spectric for example numBG needs to be incremented by 1 for every occurrence of &quot;BG&quot;  in the string","body":"@Spectric for example numBG needs to be incremented by 1 for every occurrence of &quot;BG&quot;  in the string"},{"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"score":0,"creation_date":1606160823,"post_id":64974854,"comment_id":114872627,"body_markdown":"@RIVERMAN2010 Thank you, I used token = token.substring(0); after every loop","body":"@RIVERMAN2010 Thank you, I used token = token.substring(0); after every loop"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1606161357,"creation_date":1606161357,"answer_id":64975460,"question_id":64974854,"body_markdown":"The easiest way is to use a map.  To split the string, replace every two characters with the string following by some unused character or characters.  Then split on those characters.  The rest is to just stream the array of character pairs and do a frequency count.\r\n\r\n```\r\nString s = &quot;BBGBGBBGGGGBGBGBGBGG&quot;;\r\nMap&lt;String, Long&gt; count =\r\n\t\tArrays.stream(s.replaceAll(&quot;..&quot;, &quot;$0#&quot;).split(&quot;#&quot;))\r\n\t\t\t\t.collect(Collectors.groupingBy(a -&gt; a,\r\n\t\t\t\t\t\tCollectors.counting()));\r\n\r\ncount.forEach((k,v)-&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\nPrints\r\n```\r\nGG -&gt; 2\r\nBB -&gt; 1\r\nBG -&gt; 1\r\nGB -&gt; 6","title":"How could I separate this string by 2 character increments?","body":"<p>The easiest way is to use a map.  To split the string, replace every two characters with the string following by some unused character or characters.  Then split on those characters.  The rest is to just stream the array of character pairs and do a frequency count.</p>\n<pre><code>String s = &quot;BBGBGBBGGGGBGBGBGBGG&quot;;\nMap&lt;String, Long&gt; count =\n        Arrays.stream(s.replaceAll(&quot;..&quot;, &quot;$0#&quot;).split(&quot;#&quot;))\n                .collect(Collectors.groupingBy(a -&gt; a,\n                        Collectors.counting()));\n\ncount.forEach((k,v)-&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p>Prints</p>\n<pre><code>GG -&gt; 2\nBB -&gt; 1\nBG -&gt; 1\nGB -&gt; 6\n</code></pre>\n"}],"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64975460,"answer_count":1,"score":0,"last_activity_date":1683852240,"creation_date":1606158687,"question_id":64974854,"body_markdown":" There are no delimiters and the string itself comes from a file formatted like the following:\r\n\r\nBB\r\n\r\nGB\r\n\r\nGB\r\n\r\nBG\r\n\r\nGG\r\n\r\nGB\r\n\r\nGB\r\n\r\nGB\r\n\r\nGB\r\n\r\nGG\r\n\r\nAfter using the following code I&#39;m left with BBGBGBBGGGGBGBGBGBGG, as printed from the print statement after `token = in.nextLine( )`; My goal for this program is to assign every 2 characters to their variables and increment them to get a count. I just don`t know how to increment and assign them correctly. Any help is appreciated.  \r\n```\r\nimport java.util.Scanner;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\npublic class Family\r\n{\r\n   public static void main (String args[]) throws IOException {\r\n    //variables defined\r\n    int numGB = 0;\r\n    int numBG = 0;\r\n    int numGG = 0;\r\n    int numBB = 0;\r\n    int totalNum = 0;\r\n    double probBG;\r\n    double probGG;\r\n    double probBB;\r\n    String token =&quot;&quot;;\r\n    int spaceDeleter = 0;\r\n    int token2Sub = 0;\r\n    \r\n    File fileName = new File (&quot;test1.txt&quot;); \r\n    \r\n    Scanner in = new Scanner(fileName); //scans file\r\n    \r\n    System.out.println(&quot;Composition statistics for families with two children&quot;);\r\n    while(in.hasNextLine())\r\n    {\r\n        token = in.nextLine( ); //recives token from scanner\r\n        System.out.print(token);\r\n        if(token.equals(&quot;GB&quot;))\r\n        {\r\n        numGB = numGB + 1;\r\n        }\r\n        else if(token.equals(&quot;BG&quot;))\r\n        {\r\n        numBG = numBG + 1;\r\n        }\r\n        else if(token.equals(&quot;GG&quot;))\r\n        {\r\n        numGG = numGG + 1;\r\n        }\r\n        else if(token.equals(&quot;BB&quot;))\r\n        {\r\n        numBB = numBB + 1;\r\n        }\r\n        else if(token.equals(&quot;&quot;))\r\n        {\r\n        spaceDeleter =+ 1; //tried to delete space to no avial\r\n        }\r\n        else \r\n        {\r\n        System.out.println(&quot;Data reading error&quot;);\r\n        }\r\n    }\r\n```","title":"How could I separate this string by 2 character increments?","body":"<p>There are no delimiters and the string itself comes from a file formatted like the following:</p>\n<p>BB</p>\n<p>GB</p>\n<p>GB</p>\n<p>BG</p>\n<p>GG</p>\n<p>GB</p>\n<p>GB</p>\n<p>GB</p>\n<p>GB</p>\n<p>GG</p>\n<p>After using the following code I'm left with BBGBGBBGGGGBGBGBGBGG, as printed from the print statement after <code>token = in.nextLine( )</code>; My goal for this program is to assign every 2 characters to their variables and increment them to get a count. I just don`t know how to increment and assign them correctly. Any help is appreciated.</p>\n<pre><code>import java.util.Scanner;\nimport java.io.File;\nimport java.io.IOException;\npublic class Family\n{\n   public static void main (String args[]) throws IOException {\n    //variables defined\n    int numGB = 0;\n    int numBG = 0;\n    int numGG = 0;\n    int numBB = 0;\n    int totalNum = 0;\n    double probBG;\n    double probGG;\n    double probBB;\n    String token =&quot;&quot;;\n    int spaceDeleter = 0;\n    int token2Sub = 0;\n    \n    File fileName = new File (&quot;test1.txt&quot;); \n    \n    Scanner in = new Scanner(fileName); //scans file\n    \n    System.out.println(&quot;Composition statistics for families with two children&quot;);\n    while(in.hasNextLine())\n    {\n        token = in.nextLine( ); //recives token from scanner\n        System.out.print(token);\n        if(token.equals(&quot;GB&quot;))\n        {\n        numGB = numGB + 1;\n        }\n        else if(token.equals(&quot;BG&quot;))\n        {\n        numBG = numBG + 1;\n        }\n        else if(token.equals(&quot;GG&quot;))\n        {\n        numGG = numGG + 1;\n        }\n        else if(token.equals(&quot;BB&quot;))\n        {\n        numBB = numBB + 1;\n        }\n        else if(token.equals(&quot;&quot;))\n        {\n        spaceDeleter =+ 1; //tried to delete space to no avial\n        }\n        else \n        {\n        System.out.println(&quot;Data reading error&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","list","iterator","predicate"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1612644172,"post_id":66081537,"comment_id":116833197,"body_markdown":"Are you saying that the structures presented only implement Iterator&lt;&gt; and not ListIterator&lt;&gt;?  What&#39;s preventing you from implementing both Iterator and ListIterator.  Then you would have the method you need.","body":"Are you saying that the structures presented only implement Iterator&lt;&gt; and not ListIterator&lt;&gt;?  What&#39;s preventing you from implementing both Iterator and ListIterator.  Then you would have the method you need."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1612647217,"post_id":66081537,"comment_id":116833880,"body_markdown":"You&#39;re implementation does not make sense to me.  Why are you passing an interator to the class.  Can you state the problem **exactly** as it has been given to you including any examples that were provided, etc.  It seems to me that `hasNext()` should just call `iterator.hasNext()` and `next()` should call `iterator.next()`  And you exception was that you tried to  remove or add an entry in an immutable collection.","body":"You&#39;re implementation does not make sense to me.  Why are you passing an interator to the class.  Can you state the problem <b>exactly</b> as it has been given to you including any examples that were provided, etc.  It seems to me that <code>hasNext()</code> should just call <code>iterator.hasNext()</code> and <code>next()</code> should call <code>iterator.next()</code>  And you exception was that you tried to  remove or add an entry in an immutable collection."},{"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"score":0,"creation_date":1612647786,"post_id":66081537,"comment_id":116834032,"body_markdown":"A PredicateIterator&lt;T&gt; iterates over the elements of an arbitrary iterable data structure and provides only those elements which satisfy a certain predicate, while skipping all of the other elements. The constructor of PredicateIterator&lt;T&gt; expects the following arguments:\n\niter, a java.util.Iterator&lt;T&gt; for the actual data\npredicate, a Predicate&lt;T&gt; object that encapsulates the logic to test the predicate","body":"A PredicateIterator&lt;T&gt; iterates over the elements of an arbitrary iterable data structure and provides only those elements which satisfy a certain predicate, while skipping all of the other elements. The constructor of PredicateIterator&lt;T&gt; expects the following arguments:  iter, a java.util.Iterator&lt;T&gt; for the actual data predicate, a Predicate&lt;T&gt; object that encapsulates the logic to test the predicate"},{"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"score":0,"creation_date":1612647827,"post_id":66081537,"comment_id":116834040,"body_markdown":"Otherwise, PredicateIterator&lt;T&gt; should conform to the specification documented in the Iterator&lt;E&gt; interface (however, you don’t need to implement remove() and forEachRemaining(…)).\n\nThe method test(T value) of the generic interface Predicate&lt;T&gt; checks whether the given argument satisfies the predicate. It returns true or false accordingly. A value of null never satisfies the predicate.","body":"Otherwise, PredicateIterator&lt;T&gt; should conform to the specification documented in the Iterator&lt;E&gt; interface (however, you don’t need to implement remove() and forEachRemaining(…)).  The method test(T value) of the generic interface Predicate&lt;T&gt; checks whether the given argument satisfies the predicate. It returns true or false accordingly. A value of null never satisfies the predicate."}],"answers":[{"comments":[{"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"score":0,"creation_date":1612643691,"post_id":66081601,"comment_id":116833056,"body_markdown":"Yeah, i&#39;ve tried it but then, the tests show me error, because there was `value.iterator()` initialised, not listIterator.","body":"Yeah, i&#39;ve tried it but then, the tests show me error, because there was <code>value.iterator()</code> initialised, not listIterator."},{"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"score":0,"creation_date":1612646491,"post_id":66081601,"comment_id":116833709,"body_markdown":"I added ListIterator, but then i got error. Look upstairs.","body":"I added ListIterator, but then i got error. Look upstairs."},{"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"score":0,"creation_date":1612699506,"post_id":66081601,"comment_id":116842974,"body_markdown":"It helped, but now different problem appeared.","body":"It helped, but now different problem appeared."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1612710961,"post_id":66081601,"comment_id":116846238,"body_markdown":"Yeah.  It lets you return the save value.  Look at the change I made to `next()` and see if that helps.  `hasNext()` should still be okay.","body":"Yeah.  It lets you return the save value.  Look at the change I made to <code>next()</code> and see if that helps.  <code>hasNext()</code> should still be okay."},{"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"score":0,"creation_date":1612719605,"post_id":66081601,"comment_id":116848818,"body_markdown":"`hasNext()` is okey, buy `next()` still returns an Exception.","body":"<code>hasNext()</code> is okey, buy <code>next()</code> still returns an Exception."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1612719761,"post_id":66081601,"comment_id":116848866,"body_markdown":"If `hasNext()` returned false then it is correct for `next()` to throw an exception.  Other than that I don&#39;t what is going on.","body":"If <code>hasNext()</code> returned false then it is correct for <code>next()</code> to throw an exception.  Other than that I don&#39;t what is going on."},{"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"score":0,"creation_date":1612721639,"post_id":66081601,"comment_id":116849486,"body_markdown":"`hasNext()` returned false, but there is one more item in the list and then `assertTrue` and `assertEqual` fail.","body":"<code>hasNext()</code> returned false, but there is one more item in the list and then <code>assertTrue</code> and <code>assertEqual</code> fail."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612710881,"creation_date":1612643260,"answer_id":66081601,"question_id":66081537,"body_markdown":"Ok, I found the problem.  I modified your `PredicateIterator&lt;T&gt;` class to save the value before doing the predicate testing.  It seems to work with the tests defined.\r\n```\r\nclass PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n\t\r\n\tprivate Iterator&lt;T&gt; iterator;\r\n\tprivate Predicate&lt;T&gt; predicate;\r\n\tT value;\r\n\tpublic PredicateIterator(Iterator&lt;T&gt; iter,\r\n\t\t\tPredicate&lt;T&gt; predicate) {\r\n\t\tthis.iterator = iter;\r\n\t\tthis.predicate = predicate;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean hasNext() {\r\n\t\t\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t\tvalue = iterator.next();  //&lt;-- save value before test\r\n\t\t\tif (predicate.test(value)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic T next() {\r\n\t\tif (value != null) {\r\n            T retValue = value;\r\n            value = null;\r\n\t\t    return retValue;   // &lt;-- return saved value.\r\n\t\t} else {\r\n\t\tthrow new NoSuchElementException();\r\n\t\t}\r\n\t}\t\r\n}\r\n```\r\nOne more observation.  If you need to alter any of the test list you won&#39;t be able to since `List.of()` returns an immutable list.  But you can pass that as a an argument to a mutable implementation.  E.g. `new ArrayList&lt;&gt;(List.of(...));`","title":"How to get previous element with Iterator java","body":"<p>Ok, I found the problem.  I modified your <code>PredicateIterator&lt;T&gt;</code> class to save the value before doing the predicate testing.  It seems to work with the tests defined.</p>\n<pre><code>class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n    \n    private Iterator&lt;T&gt; iterator;\n    private Predicate&lt;T&gt; predicate;\n    T value;\n    public PredicateIterator(Iterator&lt;T&gt; iter,\n            Predicate&lt;T&gt; predicate) {\n        this.iterator = iter;\n        this.predicate = predicate;\n    }\n    \n    @Override\n    public boolean hasNext() {\n        \n        while (iterator.hasNext()) {\n            value = iterator.next();  //&lt;-- save value before test\n            if (predicate.test(value)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    @Override\n    public T next() {\n        if (value != null) {\n            T retValue = value;\n            value = null;\n            return retValue;   // &lt;-- return saved value.\n        } else {\n        throw new NoSuchElementException();\n        }\n    }   \n}\n</code></pre>\n<p>One more observation.  If you need to alter any of the test list you won't be able to since <code>List.of()</code> returns an immutable list.  But you can pass that as a an argument to a mutable implementation.  E.g. <code>new ArrayList&lt;&gt;(List.of(...));</code></p>\n"},{"tags":[],"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612699536,"creation_date":1612697066,"answer_id":66087333,"question_id":66081537,"body_markdown":"Thank you very much, i copied your `hasNext()` methode and changed `next()`, so it looks like this:\r\n```\r\n@Override\r\n    public T next() {\r\n        if(value!= null){\r\n           if(predicate.test(value)) {\r\n               return value;\r\n           }\r\n       }\r\n       throw new NoSuchElementException();\r\n    }\r\n```\r\nFirst test `providesValuesEndingWithJava()` compiles now correctly, but now the other problem appeared. It throws an `NoSuchElementException`. Here&#39;s the test and the message i got. I tried to make with `while(value!=null)` or `while(iterator.hasNext())`, but then it compiles too long and crashes.\r\n```\r\n @Test\r\n    public void hasNextReturnsFalseAfterLastElement1() {\r\n        valuesEndingWithJava.next();\r\n        valuesEndingWithJava.next();\r\n        assertFalse(valuesEndingWithJava.hasNext());\r\n    }\r\n```\r\n```\r\njava.util.NoSuchElementException\r\n\tat PredicateIterator.next(PredicateIterator.java:34)\r\n\tat PredicateIteratorTest.hasNextReturnsFalseAfterLastElement1(PredicateIteratorTest.java:44)\r\n```\r\n","title":"How to get previous element with Iterator java","body":"<p>Thank you very much, i copied your <code>hasNext()</code> methode and changed <code>next()</code>, so it looks like this:</p>\n<pre><code>@Override\n    public T next() {\n        if(value!= null){\n           if(predicate.test(value)) {\n               return value;\n           }\n       }\n       throw new NoSuchElementException();\n    }\n</code></pre>\n<p>First test <code>providesValuesEndingWithJava()</code> compiles now correctly, but now the other problem appeared. It throws an <code>NoSuchElementException</code>. Here's the test and the message i got. I tried to make with <code>while(value!=null)</code> or <code>while(iterator.hasNext())</code>, but then it compiles too long and crashes.</p>\n<pre><code> @Test\n    public void hasNextReturnsFalseAfterLastElement1() {\n        valuesEndingWithJava.next();\n        valuesEndingWithJava.next();\n        assertFalse(valuesEndingWithJava.hasNext());\n    }\n</code></pre>\n<pre><code>java.util.NoSuchElementException\n    at PredicateIterator.next(PredicateIterator.java:34)\n    at PredicateIteratorTest.hasNextReturnsFalseAfterLastElement1(PredicateIteratorTest.java:44)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20221080,"reputation":26,"user_id":14830513,"display_name":"AHMAD23"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1612974173,"creation_date":1612948536,"answer_id":66133966,"question_id":66081537,"body_markdown":"create a boolean field and assign it to false but it in the the hasNext method after finding a value assign it to true and then check this field in next method, if it was false that&#39;s  mean you called the next method before the hasNext method, then you have to call hasNext method in the next method.\r\n\r\n```\r\npublic class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n\r\n    private Predicate predicate;\r\n\r\n    private Iterator&lt;T&gt; iter;\r\n    private T type;\r\n    private boolean test = false;\r\n\r\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate) {\r\n        if (iter == null || predicate == null) throw new NoSuchElementException();\r\n        this.predicate = predicate;\r\n        this.iter =  iter;\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n\r\n        if (iter == null) throw new NoSuchElementException();\r\n\r\n        while (iter.hasNext()) {\r\n\r\n            type = iter.next();\r\n\r\n            if (predicate.test(type)) {\r\n                test = true;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public T next() {\r\n\r\n        if (!test) {\r\n\r\n            if ( hasNext()) {\r\n                T newTyp = type;\r\n                type = null;\r\n                test = false;\r\n               return newTyp;\r\n            }\r\n        }\r\n\r\n       else  if (type != null) {\r\n\r\n            T newTyp = type;\r\n            type = null;\r\n            test = false;\r\n            return newTyp;\r\n        }\r\n        throw new NoSuchElementException();\r\n\r\n    }\r\n}\r\n```","title":"How to get previous element with Iterator java","body":"<p>create a boolean field and assign it to false but it in the the hasNext method after finding a value assign it to true and then check this field in next method, if it was false that's  mean you called the next method before the hasNext method, then you have to call hasNext method in the next method.</p>\n<pre><code>public class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    private Predicate predicate;\n\n    private Iterator&lt;T&gt; iter;\n    private T type;\n    private boolean test = false;\n\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate) {\n        if (iter == null || predicate == null) throw new NoSuchElementException();\n        this.predicate = predicate;\n        this.iter =  iter;\n\n\n    }\n\n\n    @Override\n    public boolean hasNext() {\n\n        if (iter == null) throw new NoSuchElementException();\n\n        while (iter.hasNext()) {\n\n            type = iter.next();\n\n            if (predicate.test(type)) {\n                test = true;\n                return true;\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public T next() {\n\n        if (!test) {\n\n            if ( hasNext()) {\n                T newTyp = type;\n                type = null;\n                test = false;\n               return newTyp;\n            }\n        }\n\n       else  if (type != null) {\n\n            T newTyp = type;\n            type = null;\n            test = false;\n            return newTyp;\n        }\n        throw new NoSuchElementException();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1097,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66133966,"answer_count":3,"score":0,"last_activity_date":1683852214,"creation_date":1612642804,"question_id":66081537,"body_markdown":"i have the following problem. I&#39;ve been doing a task where the iterator is given and Predicate class have to check, if the String exists in the iterator. I overrode `hasNext()` and `next()` methods from Iterator. Hier is the PredicateIteratorTest. I get the message `junit.framework.AssertionFailedError: expected:&lt;Java [and UML]&gt; but was:&lt;Java [11]&gt;\r\n                   at PredicateIteratorTest.providesValuesBeginningWithJava(PredicateIteratorTest.java:37)` \r\n\r\nIt should return the previous element.\r\n```\r\npublic class PredicateIteratorTest {\r\n    private final List&lt;String&gt; values = List.of(//\r\n            &quot;Java and UML&quot;, &quot;UML and Java&quot;, &quot;Java 11&quot;, &quot;UML 2.0&quot;, &quot;Effective Java&quot;);\r\n    private Iterator&lt;String&gt; valuesEndingWithJava;\r\n    private Iterator&lt;String&gt; valuesBeginningWithJava;\r\n    private Iterator&lt;String&gt; noValues;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        valuesEndingWithJava = new PredicateIterator&lt;&gt;(values.iterator(), new EndsWith(&quot;Java&quot;));\r\n        valuesBeginningWithJava = new PredicateIterator&lt;&gt;(values.iterator(), new StartsWith(&quot;Java&quot;));\r\n        noValues = new PredicateIterator&lt;&gt;(values.iterator(), new StartsWith(&quot;Doesn&#39;t match&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void providesValuesEndingWithJava() {\r\n        assertTrue(valuesEndingWithJava.hasNext());\r\n        assertEquals(&quot;UML and Java&quot;, valuesEndingWithJava.next());\r\n        assertTrue(valuesEndingWithJava.hasNext());\r\n        assertEquals(&quot;Effective Java&quot;, valuesEndingWithJava.next());\r\n    }\r\n}\r\n```\r\nHere&#39;s the PredicateIterator class. After `if(predicate.test(iterator.next())){` i want to do something simmilar to method `iterator.previous()` from ListIterator, but without using ListIterator, because tests use only Iterator. How can i make it ?\r\n\r\n```\r\npublic class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt;{\r\n\r\n    private  Iterator&lt;T&gt; iterator;\r\n    private  Predicate&lt;T&gt; predicate;\r\n\r\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate){\r\n        this.iterator = iter;\r\n        this.predicate = predicate;\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext(){\r\n        while(iterator.hasNext()){\r\n            if(predicate.test(iterator.next())){\r\n                return true;\r\n                }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    @Override\r\n    public T next(){\r\n        T elem;\r\n        while (iterator.hasNext()){\r\n            elem = iterator.next();\r\n            if(predicate.test(elem)){\r\n                return elem;\r\n            }\r\n        }\r\n        throw new NoSuchElementException();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;ve changed PredicateIterator by adding ListIterator and then iterator.previous(). But now i have test error ```java.lang.UnsupportedOperationException\r\n\tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:73)\r\n\tat java.base/java.util.ImmutableCollections$ListItr.previous(ImmutableCollections.java:260)\r\n\tat PredicateIterator.hasNext(PredicateIterator.java:20)\r\n\tat PredicateIteratorTest.providesValuesBeginningWithJava(PredicateIteratorTest.java:36)```\r\n```\r\nprivate ListIterator&lt;T&gt; iterator;\r\n    private  Predicate&lt;T&gt; predicate;\r\n\r\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate){\r\n        this.iterator = (ListIterator&lt;T&gt;) iter;\r\n        this.predicate = predicate;\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext(){\r\n        while(iterator.hasNext()){\r\n            if(predicate.test(iterator.next())){\r\n                iterator.previous();\r\n                return true;\r\n                }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"How to get previous element with Iterator java","body":"<p>i have the following problem. I've been doing a task where the iterator is given and Predicate class have to check, if the String exists in the iterator. I overrode <code>hasNext()</code> and <code>next()</code> methods from Iterator. Hier is the PredicateIteratorTest. I get the message <code>junit.framework.AssertionFailedError: expected:&lt;Java [and UML]&gt; but was:&lt;Java [11]&gt; at PredicateIteratorTest.providesValuesBeginningWithJava(PredicateIteratorTest.java:37)</code></p>\n<p>It should return the previous element.</p>\n<pre><code>public class PredicateIteratorTest {\n    private final List&lt;String&gt; values = List.of(//\n            &quot;Java and UML&quot;, &quot;UML and Java&quot;, &quot;Java 11&quot;, &quot;UML 2.0&quot;, &quot;Effective Java&quot;);\n    private Iterator&lt;String&gt; valuesEndingWithJava;\n    private Iterator&lt;String&gt; valuesBeginningWithJava;\n    private Iterator&lt;String&gt; noValues;\n\n    @Before\n    public void setUp() {\n        valuesEndingWithJava = new PredicateIterator&lt;&gt;(values.iterator(), new EndsWith(&quot;Java&quot;));\n        valuesBeginningWithJava = new PredicateIterator&lt;&gt;(values.iterator(), new StartsWith(&quot;Java&quot;));\n        noValues = new PredicateIterator&lt;&gt;(values.iterator(), new StartsWith(&quot;Doesn't match&quot;));\n    }\n\n    @Test\n    public void providesValuesEndingWithJava() {\n        assertTrue(valuesEndingWithJava.hasNext());\n        assertEquals(&quot;UML and Java&quot;, valuesEndingWithJava.next());\n        assertTrue(valuesEndingWithJava.hasNext());\n        assertEquals(&quot;Effective Java&quot;, valuesEndingWithJava.next());\n    }\n}\n</code></pre>\n<p>Here's the PredicateIterator class. After <code>if(predicate.test(iterator.next())){</code> i want to do something simmilar to method <code>iterator.previous()</code> from ListIterator, but without using ListIterator, because tests use only Iterator. How can i make it ?</p>\n<pre><code>public class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt;{\n\n    private  Iterator&lt;T&gt; iterator;\n    private  Predicate&lt;T&gt; predicate;\n\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate){\n        this.iterator = iter;\n        this.predicate = predicate;\n    }\n\n    @Override\n    public boolean hasNext(){\n        while(iterator.hasNext()){\n            if(predicate.test(iterator.next())){\n                return true;\n                }\n        }\n        return false;\n    }\n\n\n    @Override\n    public T next(){\n        T elem;\n        while (iterator.hasNext()){\n            elem = iterator.next();\n            if(predicate.test(elem)){\n                return elem;\n            }\n        }\n        throw new NoSuchElementException();\n    }\n\n}\n</code></pre>\n<p>I've changed PredicateIterator by adding ListIterator and then iterator.previous(). But now i have test error <code>java.lang.UnsupportedOperationException at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:73) at java.base/java.util.ImmutableCollections$ListItr.previous(ImmutableCollections.java:260) at PredicateIterator.hasNext(PredicateIterator.java:20) at PredicateIteratorTest.providesValuesBeginningWithJava(PredicateIteratorTest.java:36)</code></p>\n<pre><code>private ListIterator&lt;T&gt; iterator;\n    private  Predicate&lt;T&gt; predicate;\n\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate){\n        this.iterator = (ListIterator&lt;T&gt;) iter;\n        this.predicate = predicate;\n    }\n\n    @Override\n    public boolean hasNext(){\n        while(iterator.hasNext()){\n            if(predicate.test(iterator.next())){\n                iterator.previous();\n                return true;\n                }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","swing","graphics"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683849425,"post_id":76231128,"comment_id":134433566,"body_markdown":"Couldn&#39;t you just create a new `BufferedImage` of the size of the original and simply paint the sub image into it?","body":"Couldn&#39;t you just create a new <code>BufferedImage</code> of the size of the original and simply paint the sub image into it?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683851757,"post_id":76231128,"comment_id":134433842,"body_markdown":"You&#39;re not starting with a transparent image","body":"You&#39;re not starting with a transparent image"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683851983,"creation_date":1683851983,"answer_id":76232444,"question_id":76231128,"body_markdown":"You&#39;re not starting with a transparent image (your source image is `jpg`, which doesn&#39;t tend to support transparency)\r\n\r\nSo, instead, you need to create an intermediate transparent image, for example...\r\n\r\n    BufferedImage transparentSub = new BufferedImage(sub.getWidth(), sub.getHeight(), BufferedImage.TRANSLUCENT);\r\n\r\n    Graphics2D g3d = transparentSub.createGraphics();\r\n    g3d.drawImage(sub, 0, 0, null);\r\n\r\nSo, with this modification in your original code...\r\n\r\n    int rules[] = {\r\n        AlphaComposite.DST_IN, AlphaComposite.DST_OUT, AlphaComposite.DST_OVER,\r\n        AlphaComposite.SRC_IN, AlphaComposite.SRC_OVER, AlphaComposite.SRC_OUT,\r\n        AlphaComposite.CLEAR};\r\n    try {\r\n\r\n        int ac = rules[3];\r\n\r\n        // Any image of the right size will do here. I&#39;m just using this as a demo.d\r\n        BufferedImage original = ImageIO.read(new URL(&quot;https://eskipaper.com/images/abstract-art-1.jpg&quot;));\r\n        BufferedImage sub = original.getSubimage(500, 400, 1050, 300);\r\n\r\n        Rectangle2D.Double r1 = new Rectangle2D.Double(0, 0, 1050, 300);\r\n        Area a1 = new Area(r1);\r\n        Ellipse2D.Double e1 = new Ellipse2D.Double(0, 0, 1050, 300);\r\n        Area a2 = new Area(e1);\r\n\r\n        BufferedImage transparentSub = new BufferedImage(sub.getWidth(), sub.getHeight(), BufferedImage.TRANSLUCENT);\r\n\r\n        Graphics2D g3d = transparentSub.createGraphics();\r\n        g3d.drawImage(sub, 0, 0, null);\r\n\r\n        g3d.setColor(new Color(0.0f, 0.0f, 0.0f, 0.0f));\r\n        a1.subtract(a2);\r\n        g3d.setComposite(AlphaComposite.getInstance(rules[3], 1.0f));\r\n        g3d.fill(a1);\r\n        g3d.dispose();\r\n\r\n        JOptionPane.showMessageDialog(null, new ImageIcon(transparentSub));\r\n\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nIt now outputs...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gm3hI.png","title":"Extract portion of image with transparent background","body":"<p>You're not starting with a transparent image (your source image is <code>jpg</code>, which doesn't tend to support transparency)</p>\n<p>So, instead, you need to create an intermediate transparent image, for example...</p>\n<pre><code>BufferedImage transparentSub = new BufferedImage(sub.getWidth(), sub.getHeight(), BufferedImage.TRANSLUCENT);\n\nGraphics2D g3d = transparentSub.createGraphics();\ng3d.drawImage(sub, 0, 0, null);\n</code></pre>\n<p>So, with this modification in your original code...</p>\n<pre><code>int rules[] = {\n    AlphaComposite.DST_IN, AlphaComposite.DST_OUT, AlphaComposite.DST_OVER,\n    AlphaComposite.SRC_IN, AlphaComposite.SRC_OVER, AlphaComposite.SRC_OUT,\n    AlphaComposite.CLEAR};\ntry {\n\n    int ac = rules[3];\n\n    // Any image of the right size will do here. I'm just using this as a demo.d\n    BufferedImage original = ImageIO.read(new URL(&quot;https://eskipaper.com/images/abstract-art-1.jpg&quot;));\n    BufferedImage sub = original.getSubimage(500, 400, 1050, 300);\n\n    Rectangle2D.Double r1 = new Rectangle2D.Double(0, 0, 1050, 300);\n    Area a1 = new Area(r1);\n    Ellipse2D.Double e1 = new Ellipse2D.Double(0, 0, 1050, 300);\n    Area a2 = new Area(e1);\n\n    BufferedImage transparentSub = new BufferedImage(sub.getWidth(), sub.getHeight(), BufferedImage.TRANSLUCENT);\n\n    Graphics2D g3d = transparentSub.createGraphics();\n    g3d.drawImage(sub, 0, 0, null);\n\n    g3d.setColor(new Color(0.0f, 0.0f, 0.0f, 0.0f));\n    a1.subtract(a2);\n    g3d.setComposite(AlphaComposite.getInstance(rules[3], 1.0f));\n    g3d.fill(a1);\n    g3d.dispose();\n\n    JOptionPane.showMessageDialog(null, new ImageIcon(transparentSub));\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>It now outputs...</p>\n<p><a href=\"https://i.stack.imgur.com/gm3hI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gm3hI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21535210,"reputation":47,"user_id":17085543,"display_name":"Jeff Higgins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76232444,"answer_count":1,"score":2,"last_activity_date":1683851983,"creation_date":1683834156,"question_id":76231128,"body_markdown":"I have a BufferedImage(any will do). I extract a sub-image.\r\nNow I wish to define a region of interest within the sub-image,\r\nand save my sub-image to another BufferedImage with all but the\r\nregion of interest transparent.\r\n\r\n[![Sub image without transparent][1]][1]\r\n\r\nSo far I&#39;m unable to make the region outside my region of\r\ninterest transparent. In the code below, the region I want\r\nto be transparent is Area a1.\r\n\r\nAny guidance will be greatly appreciated.\r\n\r\n```\r\nimport java.awt.AlphaComposite;\r\nimport java.awt.Color;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.geom.Area;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class Image {\r\n\r\n  public static void main(String[] args) {\r\n    int rules[] = {\r\n        AlphaComposite.DST_IN, AlphaComposite.DST_OUT,  AlphaComposite.DST_OVER,\r\n        AlphaComposite.SRC_IN, AlphaComposite.SRC_OVER, AlphaComposite.SRC_OUT,\r\n        AlphaComposite.CLEAR };\r\n    try {      \r\n\r\n      int ac = rules[3];\r\n      \r\n      // Any image of the right size will do here. I&#39;m just using this as a demo.d\r\n      BufferedImage original = ImageIO.read(new URL(&quot;https://eskipaper.com/images/abstract-art-1.jpg&quot;));\r\n      BufferedImage sub = original.getSubimage(500, 400, 1050, 300);\r\n      \r\n      Rectangle2D.Double r1 = new Rectangle2D.Double(0, 0, 1050, 300);\r\n      Area a1 = new Area(r1);\r\n      Ellipse2D.Double e1 = new Ellipse2D.Double(0, 0, 1050, 300);\r\n      Area a2 = new Area(e1);\r\n      \r\n      Graphics2D g3d = sub.createGraphics();\r\n      \r\n      g3d.setColor(new Color(0.0f, 0.0f, 0.0f, 0.0f));\r\n      a1.subtract(a2);\r\n      g3d.setComposite(AlphaComposite.getInstance(rules[3], 1.0f));\r\n      g3d.fill(a1);      \r\n      \r\n      ImageIO.write(sub, &quot;png&quot;, new File(&quot;abstract-art-out.png&quot;));\r\n      \r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/hB8z5.png","title":"Extract portion of image with transparent background","body":"<p>I have a BufferedImage(any will do). I extract a sub-image.\nNow I wish to define a region of interest within the sub-image,\nand save my sub-image to another BufferedImage with all but the\nregion of interest transparent.</p>\n<p><a href=\"https://i.stack.imgur.com/hB8z5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hB8z5.png\" alt=\"Sub image without transparent\" /></a></p>\n<p>So far I'm unable to make the region outside my region of\ninterest transparent. In the code below, the region I want\nto be transparent is Area a1.</p>\n<p>Any guidance will be greatly appreciated.</p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Area;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URL;\n\nimport javax.imageio.ImageIO;\n\npublic class Image {\n\n  public static void main(String[] args) {\n    int rules[] = {\n        AlphaComposite.DST_IN, AlphaComposite.DST_OUT,  AlphaComposite.DST_OVER,\n        AlphaComposite.SRC_IN, AlphaComposite.SRC_OVER, AlphaComposite.SRC_OUT,\n        AlphaComposite.CLEAR };\n    try {      \n\n      int ac = rules[3];\n      \n      // Any image of the right size will do here. I'm just using this as a demo.d\n      BufferedImage original = ImageIO.read(new URL(&quot;https://eskipaper.com/images/abstract-art-1.jpg&quot;));\n      BufferedImage sub = original.getSubimage(500, 400, 1050, 300);\n      \n      Rectangle2D.Double r1 = new Rectangle2D.Double(0, 0, 1050, 300);\n      Area a1 = new Area(r1);\n      Ellipse2D.Double e1 = new Ellipse2D.Double(0, 0, 1050, 300);\n      Area a2 = new Area(e1);\n      \n      Graphics2D g3d = sub.createGraphics();\n      \n      g3d.setColor(new Color(0.0f, 0.0f, 0.0f, 0.0f));\n      a1.subtract(a2);\n      g3d.setComposite(AlphaComposite.getInstance(rules[3], 1.0f));\n      g3d.fill(a1);      \n      \n      ImageIO.write(sub, &quot;png&quot;, new File(&quot;abstract-art-out.png&quot;));\n      \n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","sockets","httpurlconnection","urlconnection"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1411371947,"post_id":25968769,"comment_id":40661293,"body_markdown":"`Connection: keep-alive` is the default. You&#39;re not writing any POST parameters: is that deliberate?","body":"<code>Connection: keep-alive</code> is the default. You&#39;re not writing any POST parameters: is that deliberate?"},{"owner":{"account_id":4775764,"reputation":133,"user_id":3858950,"accept_rate":25,"display_name":"BurningDocker"},"score":0,"creation_date":1411372740,"post_id":25968769,"comment_id":40661645,"body_markdown":"thanks @EJP, I just paste more code to the code quote, It&#39;s a post operation.  please review it again..","body":"thanks @EJP, I just paste more code to the code quote, It&#39;s a post operation.  please review it again.."},{"owner":{"account_id":96438,"reputation":2390,"user_id":262114,"accept_rate":69,"display_name":"HamoriZ"},"score":0,"creation_date":1416493122,"post_id":25968769,"comment_id":42602662,"body_markdown":"Do you have any update on this? I have exactly the same problem","body":"Do you have any update on this? I have exactly the same problem"},{"owner":{"account_id":4775764,"reputation":133,"user_id":3858950,"accept_rate":25,"display_name":"BurningDocker"},"score":0,"creation_date":1416538525,"post_id":25968769,"comment_id":42623671,"body_markdown":"@Hamoriz, Sorry, we don&#39;t have a good solution on it.","body":"@Hamoriz, Sorry, we don&#39;t have a good solution on it."},{"owner":{"account_id":41094,"reputation":1680,"user_id":119363,"accept_rate":69,"display_name":"Chris W."},"score":0,"creation_date":1423164998,"post_id":25968769,"comment_id":45048844,"body_markdown":"Another victim of this issue... Surely there&#39;s a solution for this problem -- this is a core Java library. :-|","body":"Another victim of this issue... Surely there&#39;s a solution for this problem -- this is a core Java library. :-|"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683856740,"post_id":28990115,"comment_id":134434263,"body_markdown":"It wasn&#39;t. See the other answer.","body":"It wasn&#39;t. See the other answer."}],"tags":[],"owner":{"account_id":5920664,"reputation":25,"user_id":4658182,"display_name":"TV Trailers"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1426086075,"creation_date":1426086075,"answer_id":28990115,"question_id":25968769,"body_markdown":"I think this is a bug with URLConnection. Use Sockets and timeout on them to check.","title":"Got stuck at java.net.SocketInputStream.socketRead0(Native Method)","body":"<p>I think this is a bug with URLConnection. Use Sockets and timeout on them to check.</p>\n"},{"tags":[],"owner":{"account_id":4477332,"reputation":172,"user_id":3642122,"display_name":"fmcato"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1477746240,"creation_date":1477746240,"answer_id":40319366,"question_id":25968769,"body_markdown":"I identified this same bug today on our systems. This is a bug in the JDK caused by the native implementation used in java. Was fixed as recently as 21st September 2016, so should be available in later JDK releases.\r\n\r\nThis is the bug:\r\nhttps://bugs.openjdk.java.net/browse/JDK-8075484\r\n\r\nIf you can&#39;t wait, seems like someone has created a workaround:\r\nhttps://github.com/nukesparrow/JNativeSocket","title":"Got stuck at java.net.SocketInputStream.socketRead0(Native Method)","body":"<p>I identified this same bug today on our systems. This is a bug in the JDK caused by the native implementation used in java. Was fixed as recently as 21st September 2016, so should be available in later JDK releases.</p>\n\n<p>This is the bug:\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8075484\" rel=\"nofollow\">https://bugs.openjdk.java.net/browse/JDK-8075484</a></p>\n\n<p>If you can't wait, seems like someone has created a workaround:\n<a href=\"https://github.com/nukesparrow/JNativeSocket\" rel=\"nofollow\">https://github.com/nukesparrow/JNativeSocket</a></p>\n"}],"owner":{"account_id":4775764,"reputation":133,"user_id":3858950,"accept_rate":25,"display_name":"BurningDocker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7435,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1683851626,"creation_date":1411371116,"question_id":25968769,"body_markdown":"I got a stuck thread at `java.net.SocketInputStream.socketRead0(Native Method)`.  Please see the thread dump below. It&#39;s been in this status for 3 hours. \r\n\r\n    Thread-0&quot; prio=10 tid=0x00007facd02a5000 nid=0x309 runnable [0x00007facd4a43000]\r\n    java.lang.Thread.State: RUNNABLE\r\n        at java.net.SocketInputStream.socketRead0(Native Method)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:150)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:121)\r\n        at sun.security.ssl.InputRecord.readFully(InputRecord.java:442)\r\n        at sun.security.ssl.InputRecord.read(InputRecord.java:480)\r\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:927)\r\n        - locked &lt;0x00000000e34a0428&gt; (a java.lang.Object)\r\n        at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:884)\r\n        at sun.security.ssl.AppInputStream.read(AppInputStream.java:102)\r\n        - locked &lt;0x00000000e34a0590&gt; (a sun.security.ssl.AppInputStream)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\r\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\r\n        - locked &lt;0x00000000e30408b8&gt; (a java.io.BufferedInputStream)\r\n        at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:633)\r\n        at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1322)\r\n        - locked &lt;0x00000000e3031d00&gt; (a sun.net.www.protocol.https.DelegateHttpsURLConnection)\r\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n        - locked &lt;0x00000000e3031c80&gt; (a sun.net.www.protocol.https.HttpsURLConnectionImpl)\r\n\r\nAnd I&#39;ve set the connect timeout and read timeout in `URLConnection`. Please see the code snippet below. So I don&#39;t know why it&#39;d hang at `java.net.SocketInputStream.socketRead0`. I just have this problem occasionally.  Any suggestion is appreciated!\r\n\r\n    public String sendPost(String params) throws Throwable {\r\n    PrintWriter out = null;\r\n    String htmlContent = null;\r\n    try\r\n    {\r\n      StringBuffer strBuffer = new StringBuffer();\r\n      URL url = new URL(this.webUrl);\r\n      URLConnection urlConnection = url.openConnection();\r\n      urlConnection.setConnectTimeout(3000);\r\n      urlConnection.setReadTimeout(3000);\r\n\r\n      urlConnection.setRequestProperty(&quot;accept&quot;, &quot;*/*&quot;);\r\n      urlConnection.setRequestProperty(&quot;connection&quot;, &quot;Keep-Alive&quot;);\r\n      urlConnection.setRequestProperty(&quot;user-agent&quot;, &quot;***&quot;);\r\n\r\n      urlConnection.setDoOutput(true);\r\n      urlConnection.setDoInput(true);\r\n\r\n      out = new PrintWriter(urlConnection.getOutputStream());\r\n      out.print(params);\r\n      out.flush();\r\n\r\n      BufferedReader bufferdReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream(), &quot;utf-8&quot;));\r\n      String readLine = null;\r\n            try {\r\n                while ((readLine = bufferdReader.readLine()) != null) {\r\n                    strBuffer.append(readLine);\r\n                }\r\n            } catch (Throwable e) {\r\n                return htmlContent;\r\n            }\r\n            htmlContent = strBuffer.toString();\r\n            bufferdReader.close();","title":"Got stuck at java.net.SocketInputStream.socketRead0(Native Method)","body":"<p>I got a stuck thread at <code>java.net.SocketInputStream.socketRead0(Native Method)</code>.  Please see the thread dump below. It's been in this status for 3 hours.</p>\n<pre><code>Thread-0&quot; prio=10 tid=0x00007facd02a5000 nid=0x309 runnable [0x00007facd4a43000]\njava.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.read(SocketInputStream.java:150)\n    at java.net.SocketInputStream.read(SocketInputStream.java:121)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:442)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:480)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:927)\n    - locked &lt;0x00000000e34a0428&gt; (a java.lang.Object)\n    at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:884)\n    at sun.security.ssl.AppInputStream.read(AppInputStream.java:102)\n    - locked &lt;0x00000000e34a0590&gt; (a sun.security.ssl.AppInputStream)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\n    at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n    - locked &lt;0x00000000e30408b8&gt; (a java.io.BufferedInputStream)\n    at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:633)\n    at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1322)\n    - locked &lt;0x00000000e3031d00&gt; (a sun.net.www.protocol.https.DelegateHttpsURLConnection)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n    - locked &lt;0x00000000e3031c80&gt; (a sun.net.www.protocol.https.HttpsURLConnectionImpl)\n</code></pre>\n<p>And I've set the connect timeout and read timeout in <code>URLConnection</code>. Please see the code snippet below. So I don't know why it'd hang at <code>java.net.SocketInputStream.socketRead0</code>. I just have this problem occasionally.  Any suggestion is appreciated!</p>\n<pre><code>public String sendPost(String params) throws Throwable {\nPrintWriter out = null;\nString htmlContent = null;\ntry\n{\n  StringBuffer strBuffer = new StringBuffer();\n  URL url = new URL(this.webUrl);\n  URLConnection urlConnection = url.openConnection();\n  urlConnection.setConnectTimeout(3000);\n  urlConnection.setReadTimeout(3000);\n\n  urlConnection.setRequestProperty(&quot;accept&quot;, &quot;*/*&quot;);\n  urlConnection.setRequestProperty(&quot;connection&quot;, &quot;Keep-Alive&quot;);\n  urlConnection.setRequestProperty(&quot;user-agent&quot;, &quot;***&quot;);\n\n  urlConnection.setDoOutput(true);\n  urlConnection.setDoInput(true);\n\n  out = new PrintWriter(urlConnection.getOutputStream());\n  out.print(params);\n  out.flush();\n\n  BufferedReader bufferdReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream(), &quot;utf-8&quot;));\n  String readLine = null;\n        try {\n            while ((readLine = bufferdReader.readLine()) != null) {\n                strBuffer.append(readLine);\n            }\n        } catch (Throwable e) {\n            return htmlContent;\n        }\n        htmlContent = strBuffer.toString();\n        bufferdReader.close();\n</code></pre>\n"},{"tags":["java","multithreading","nio","nonblocking"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1683851158,"post_id":74761680,"comment_id":134433765,"body_markdown":"There is nothing [tag:asynchronous] here. There is non-blocking I/O. It isn&#39;t the same thing.","body":"There is nothing <a href=\"https://stackoverflow.com/questions/tagged/asynchronous\">asynchronous</a> here. There is non-blocking I/O. It isn&#39;t the same thing."}],"answers":[{"comments":[{"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"score":0,"creation_date":1670772146,"post_id":74761925,"comment_id":131945572,"body_markdown":"Thank you for your answer @shun chen, I have tried your code but it goes on an infinite loop printing:\nClosing Connection Read...\nReadable","body":"Thank you for your answer @shun chen, I have tried your code but it goes on an infinite loop printing: Closing Connection Read... Readable"},{"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"score":1,"creation_date":1670819209,"post_id":74761925,"comment_id":131953696,"body_markdown":"@Luca I have test by telnet command , it&#39;s all right. have you check client code?","body":"@Luca I have test by telnet command , it&#39;s all right. have you check client code?"},{"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"score":0,"creation_date":1670837222,"post_id":74761925,"comment_id":131957310,"body_markdown":"my client code is the same that I have posted above, have you also used that code to try? Thank you","body":"my client code is the same that I have posted above, have you also used that code to try? Thank you"},{"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"score":1,"creation_date":1670909905,"post_id":74761925,"comment_id":131976368,"body_markdown":"@Luca I have changed the code , it&#39;s work,  we need close socket when read error, I miss that .","body":"@Luca I have changed the code , it&#39;s work,  we need close socket when read error, I miss that ."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1683851308,"post_id":74761925,"comment_id":134433775,"body_markdown":"&quot;You can&#39;t use `key.cancel()`&quot; why? All my code that uses it works correctly,and has been doing so for 20 years. And your code *does* use `key.cancel()`, incorrectly. You should be closing the socket, not just cancelling the key: you are leaking socket channels.","body":"&quot;You can&#39;t use <code>key.cancel()</code>&quot; why? All my code that uses it works correctly,and has been doing so for 20 years. And your code <i>does</i> use <code>key.cancel()</code>, incorrectly. You should be closing the socket, not just cancelling the key: you are leaking socket channels."}],"tags":[],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670909820,"creation_date":1670771356,"answer_id":74761925,"question_id":74761680,"body_markdown":"sorry , I can&#39;t comment.\r\n\r\nyou can&#39;t use `key.cancel();`, I don&#39;t know your business, only I can advice just don&#39;t use Map like that. \r\n\r\n`JDK.NIO` is very hard. here is your code(change a bit) , hoping work for you.\r\n\r\nDon&#39;t write NIO code buy yourself. [https://netty.io/][Netty] is good.\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.SelectionKey;\r\nimport java.nio.channels.Selector;\r\nimport java.nio.channels.ServerSocketChannel;\r\nimport java.nio.channels.SocketChannel;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n/**\r\n * @author chenshun00@gmail.com\r\n * @since 2022/12/13 09:46\r\n */\r\npublic class MyAsyncProcessor {\r\n\r\n    enum States {\r\n        Idle,\r\n        Read,\r\n        Write\r\n    }\r\n\r\n    ExecutorService pool;\r\n    private Map&lt;Integer, States&gt; socketStates = new HashMap&lt;&gt;();\r\n\r\n    public MyAsyncProcessor() {\r\n    }\r\n\r\n    public static class MyTask implements Runnable {\r\n\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;execute task&quot;);\r\n        }\r\n\r\n        private int secondsToRead;\r\n        private int secondsToWrite;\r\n\r\n        public void setTimeToRead(int secondsToRead) {\r\n            this.secondsToRead = secondsToRead;\r\n        }\r\n\r\n        public void setTimeToWrite(int secondsToWrite) {\r\n            this.secondsToWrite = secondsToWrite;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new MyAsyncProcessor().process();\r\n    }\r\n\r\n    public void process() throws IOException {\r\n        pool = Executors.newFixedThreadPool(2);\r\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\r\n        Selector selector = Selector.open();\r\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\r\n        serverSocketChannel.configureBlocking(false);\r\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\r\n        final SelectionKey register1 = serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n        register1.attach(serverSocketChannel);\r\n        SelectionKey key;\r\n        while (true) {\r\n            if (selector.select() &gt; 0) {\r\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\r\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\r\n                while (i.hasNext()) {\r\n                    key = i.next();\r\n                    i.remove();\r\n                    MyTask task = new MyTask();\r\n                    if (!key.isValid()) {\r\n                        key.cancel();\r\n                        continue;\r\n                    }\r\n                    if (key.isAcceptable()) {\r\n                        SocketChannel socketChannel = serverSocketChannel.accept();\r\n                        socketChannel.configureBlocking(false);\r\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\r\n                        final SelectionKey register = socketChannel.register(selector, SelectionKey.OP_READ);\r\n                        register.attach(key.attachment());\r\n                        System.out.println(&quot;Connection accepted from: &quot; + socketChannel.getLocalAddress());\r\n                    }\r\n                    if (key.isReadable()) {\r\n                        System.out.println(&quot;Readable&quot;);\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        socketStates.put(socketChannel.hashCode(), States.Read);\r\n\r\n\r\n                        ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\r\n                        try {\r\n                            final int read = socketChannel.read(byteBuffer);\r\n                            if (read &gt; 0) {\r\n                                System.out.println(&quot;receive message form client:&quot; + new String(byteBuffer.array(), 0, read - 1));\r\n                                task.setTimeToRead(10);\r\n                                task.setTimeToWrite(10);\r\n                                pool.execute(task);\r\n                            }\r\n                            socketChannel.register(selector, SelectionKey.OP_WRITE);\r\n                        } catch (Exception e) {\r\n                            socketChannel.close();\r\n                        }\r\n                    }\r\n                    if (key.isValid() &amp;&amp; key.isWritable()) {\r\n                        System.out.println(&quot;Writable&quot;);\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        try {\r\n                            socketChannel.write(ByteBuffer.wrap(&quot;hello world!&quot;.getBytes(StandardCharsets.UTF_8)));\r\n                            socketChannel.register(selector, SelectionKey.OP_READ);\r\n                        } catch (IOException e) {\r\n                            socketChannel.close();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://netty.io/","title":"Java NIO non-blocking read and write operations","body":"<p>sorry , I can't comment.</p>\n<p>you can't use <code>key.cancel();</code>, I don't know your business, only I can advice just don't use Map like that.</p>\n<p><code>JDK.NIO</code> is very hard. here is your code(change a bit) , hoping work for you.</p>\n<p>Don't write NIO code buy yourself. [https://netty.io/][Netty] is good.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.InetAddress;\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n/**\n * @author chenshun00@gmail.com\n * @since 2022/12/13 09:46\n */\npublic class MyAsyncProcessor {\n\n    enum States {\n        Idle,\n        Read,\n        Write\n    }\n\n    ExecutorService pool;\n    private Map&lt;Integer, States&gt; socketStates = new HashMap&lt;&gt;();\n\n    public MyAsyncProcessor() {\n    }\n\n    public static class MyTask implements Runnable {\n\n        @Override\n        public void run() {\n            System.out.println(&quot;execute task&quot;);\n        }\n\n        private int secondsToRead;\n        private int secondsToWrite;\n\n        public void setTimeToRead(int secondsToRead) {\n            this.secondsToRead = secondsToRead;\n        }\n\n        public void setTimeToWrite(int secondsToWrite) {\n            this.secondsToWrite = secondsToWrite;\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        new MyAsyncProcessor().process();\n    }\n\n    public void process() throws IOException {\n        pool = Executors.newFixedThreadPool(2);\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\n        Selector selector = Selector.open();\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\n        serverSocketChannel.configureBlocking(false);\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\n        final SelectionKey register1 = serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\n        register1.attach(serverSocketChannel);\n        SelectionKey key;\n        while (true) {\n            if (selector.select() &gt; 0) {\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\n                while (i.hasNext()) {\n                    key = i.next();\n                    i.remove();\n                    MyTask task = new MyTask();\n                    if (!key.isValid()) {\n                        key.cancel();\n                        continue;\n                    }\n                    if (key.isAcceptable()) {\n                        SocketChannel socketChannel = serverSocketChannel.accept();\n                        socketChannel.configureBlocking(false);\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\n                        final SelectionKey register = socketChannel.register(selector, SelectionKey.OP_READ);\n                        register.attach(key.attachment());\n                        System.out.println(&quot;Connection accepted from: &quot; + socketChannel.getLocalAddress());\n                    }\n                    if (key.isReadable()) {\n                        System.out.println(&quot;Readable&quot;);\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        socketStates.put(socketChannel.hashCode(), States.Read);\n\n\n                        ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\n                        try {\n                            final int read = socketChannel.read(byteBuffer);\n                            if (read &gt; 0) {\n                                System.out.println(&quot;receive message form client:&quot; + new String(byteBuffer.array(), 0, read - 1));\n                                task.setTimeToRead(10);\n                                task.setTimeToWrite(10);\n                                pool.execute(task);\n                            }\n                            socketChannel.register(selector, SelectionKey.OP_WRITE);\n                        } catch (Exception e) {\n                            socketChannel.close();\n                        }\n                    }\n                    if (key.isValid() &amp;&amp; key.isWritable()) {\n                        System.out.println(&quot;Writable&quot;);\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        try {\n                            socketChannel.write(ByteBuffer.wrap(&quot;hello world!&quot;.getBytes(StandardCharsets.UTF_8)));\n                            socketChannel.register(selector, SelectionKey.OP_READ);\n                        } catch (IOException e) {\n                            socketChannel.close();\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74761925,"answer_count":1,"score":0,"last_activity_date":1683851171,"creation_date":1670769146,"question_id":74761680,"body_markdown":"I&#39;m developing for a project a NIO server that takes as input a message from the client containing the times of running for the read and write operations.\r\nI have a problem because at the first execution of the client everything works fine, but if I run the client once again the server gets stuck in the writable part.\r\nCan you tell me what am I doing wrong? These are my files, thank you in advance.\r\n\r\nMyAsyncProcessor.java\r\n```\r\npublic class MyAsyncProcessor {\r\n\r\n    enum States {\r\n        Idle,\r\n        Read,\r\n        Write\r\n    }\r\n\r\n    ExecutorService pool;\r\n    private Map&lt;Integer, States&gt; socketStates = new HashMap&lt;&gt;();\r\n\r\n    public MyAsyncProcessor() {\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new MyAsyncProcessor().process();\r\n    }\r\n\r\n    public void process() throws IOException {\r\n        pool = Executors.newFixedThreadPool(2);\r\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\r\n        Selector selector = Selector.open();\r\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\r\n        serverSocketChannel.configureBlocking(false);\r\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\r\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n        SelectionKey key;\r\n        while (true) {\r\n            if (selector.select() &gt; 0) {\r\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\r\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\r\n                while (i.hasNext()) {\r\n                    key = i.next();\r\n                    i.remove();\r\n                    MyTask task = new MyTask();\r\n                    if (key.isAcceptable()) {\r\n                        SocketChannel socketChannel = serverSocketChannel.accept();\r\n                        socketChannel.configureBlocking(false);\r\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\r\n                        socketChannel.register(selector, SelectionKey.OP_READ + SelectionKey.OP_WRITE);\r\n                        socketStates.put(socketChannel.hashCode(), States.Idle);\r\n                        System.out.println(&quot;Connection accepted from: &quot; + socketChannel.getLocalAddress());\r\n                    }\r\n                    if (key.isReadable()) {\r\n                        System.out.println(&quot;Readable&quot;);\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        States socketState = socketStates.get(socketChannel.hashCode());\r\n                        if (socketState == States.Idle) {\r\n                            socketStates.put(socketChannel.hashCode(), States.Read);\r\n                            ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\r\n                            try {\r\n                                socketChannel.read(byteBuffer);\r\n                                String result = new String(byteBuffer.array()).trim();\r\n                                String[] words = result.split(&quot; &quot;);\r\n                                int secondsToRead = Integer.parseInt(words[words.length - 2])*1000;\r\n                                int secondsToWrite = Integer.parseInt(words[words.length - 1])*1000;\r\n                                task.setTimeToRead(secondsToRead);\r\n                                task.setTimeToWrite(secondsToWrite);\r\n                                System.out.println(task.getTimeToRead() + &quot; &quot; + task.getTimeToWrite());\r\n                                Runnable h = new MyAsyncReadThread(task);\r\n                                pool.execute(h);\r\n                                socketChannel.register(selector, SelectionKey.OP_WRITE);\r\n                            } catch (Exception e) {\r\n                                System.out.println(&quot;Closing Connection Read...&quot;);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (key.isWritable()) {\r\n                        System.out.println(&quot;Writable&quot;);\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        States socketState = socketStates.get(socketChannel.hashCode());\r\n                        if (socketState == States.Read) {\r\n                            socketStates.put(socketChannel.hashCode(), States.Write);\r\n                            System.out.println(task.getTimeToRead() + &quot; &quot; + task.getTimeToWrite());\r\n                            Runnable h = new MyAsyncWriteThread(task);\r\n                            pool.execute(h);\r\n                        }\r\n                        key.cancel();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMyClient.java\r\n```\r\npublic class MyClient  {\r\n\r\n\tpublic static void main(String [] args) {\r\n\r\n\t\tRandom rand = new Random();\r\n\t\tint secondsToRead = rand.nextInt(10);\r\n\t\tint secondsToWrite = secondsToRead + 1;\r\n\t\tString message = &quot;Seconds for the task to be read and written: &quot; + secondsToRead + &quot; &quot; + secondsToWrite;\r\n\t\tSystem.out.println(message);\r\n\t\tSocket socket;\r\n\t\ttry {\r\n\t\t\tsocket = new Socket(&quot;127.0.0.1&quot;, 9876);\r\n\t\t\tPrintWriter printWriter = new PrintWriter(socket.getOutputStream(), true);\r\n\t\t\tprintWriter.println(message);\r\n\t\t\tSystem.out.println(&quot;Sending message&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Error in Socket&quot;);\r\n\t\t\tSystem.exit(-1);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n```","title":"Java NIO non-blocking read and write operations","body":"<p>I'm developing for a project a NIO server that takes as input a message from the client containing the times of running for the read and write operations.\nI have a problem because at the first execution of the client everything works fine, but if I run the client once again the server gets stuck in the writable part.\nCan you tell me what am I doing wrong? These are my files, thank you in advance.</p>\n<p>MyAsyncProcessor.java</p>\n<pre><code>public class MyAsyncProcessor {\n\n    enum States {\n        Idle,\n        Read,\n        Write\n    }\n\n    ExecutorService pool;\n    private Map&lt;Integer, States&gt; socketStates = new HashMap&lt;&gt;();\n\n    public MyAsyncProcessor() {\n    }\n\n    public static void main(String[] args) throws IOException {\n        new MyAsyncProcessor().process();\n    }\n\n    public void process() throws IOException {\n        pool = Executors.newFixedThreadPool(2);\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\n        Selector selector = Selector.open();\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\n        serverSocketChannel.configureBlocking(false);\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\n        SelectionKey key;\n        while (true) {\n            if (selector.select() &gt; 0) {\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\n                while (i.hasNext()) {\n                    key = i.next();\n                    i.remove();\n                    MyTask task = new MyTask();\n                    if (key.isAcceptable()) {\n                        SocketChannel socketChannel = serverSocketChannel.accept();\n                        socketChannel.configureBlocking(false);\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\n                        socketChannel.register(selector, SelectionKey.OP_READ + SelectionKey.OP_WRITE);\n                        socketStates.put(socketChannel.hashCode(), States.Idle);\n                        System.out.println(&quot;Connection accepted from: &quot; + socketChannel.getLocalAddress());\n                    }\n                    if (key.isReadable()) {\n                        System.out.println(&quot;Readable&quot;);\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        States socketState = socketStates.get(socketChannel.hashCode());\n                        if (socketState == States.Idle) {\n                            socketStates.put(socketChannel.hashCode(), States.Read);\n                            ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\n                            try {\n                                socketChannel.read(byteBuffer);\n                                String result = new String(byteBuffer.array()).trim();\n                                String[] words = result.split(&quot; &quot;);\n                                int secondsToRead = Integer.parseInt(words[words.length - 2])*1000;\n                                int secondsToWrite = Integer.parseInt(words[words.length - 1])*1000;\n                                task.setTimeToRead(secondsToRead);\n                                task.setTimeToWrite(secondsToWrite);\n                                System.out.println(task.getTimeToRead() + &quot; &quot; + task.getTimeToWrite());\n                                Runnable h = new MyAsyncReadThread(task);\n                                pool.execute(h);\n                                socketChannel.register(selector, SelectionKey.OP_WRITE);\n                            } catch (Exception e) {\n                                System.out.println(&quot;Closing Connection Read...&quot;);\n                            }\n                        }\n                    }\n                    if (key.isWritable()) {\n                        System.out.println(&quot;Writable&quot;);\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        States socketState = socketStates.get(socketChannel.hashCode());\n                        if (socketState == States.Read) {\n                            socketStates.put(socketChannel.hashCode(), States.Write);\n                            System.out.println(task.getTimeToRead() + &quot; &quot; + task.getTimeToWrite());\n                            Runnable h = new MyAsyncWriteThread(task);\n                            pool.execute(h);\n                        }\n                        key.cancel();\n                    }\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>MyClient.java</p>\n<pre><code>public class MyClient  {\n\n    public static void main(String [] args) {\n\n        Random rand = new Random();\n        int secondsToRead = rand.nextInt(10);\n        int secondsToWrite = secondsToRead + 1;\n        String message = &quot;Seconds for the task to be read and written: &quot; + secondsToRead + &quot; &quot; + secondsToWrite;\n        System.out.println(message);\n        Socket socket;\n        try {\n            socket = new Socket(&quot;127.0.0.1&quot;, 9876);\n            PrintWriter printWriter = new PrintWriter(socket.getOutputStream(), true);\n            printWriter.println(message);\n            System.out.println(&quot;Sending message&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;Error in Socket&quot;);\n            System.exit(-1);\n        }\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","android","kotlin","surfaceview","google-filament"],"answers":[{"comments":[{"owner":{"account_id":24310984,"reputation":11,"user_id":18252997,"display_name":"Khang Pham"},"score":0,"creation_date":1667227416,"post_id":74261701,"comment_id":131114304,"body_markdown":"Hi Abolfazl Abbasi, i did it but it still not working.","body":"Hi Abolfazl Abbasi, i did it but it still not working."}],"tags":[],"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667211016,"creation_date":1667211016,"answer_id":74261701,"question_id":74261001,"body_markdown":"Find view by id Or call this code directly on the SurfaceView object:\r\n\r\n    SurfaceView sfvTrack = (SurfaceView)findViewById(R.id.sfvTrack);\r\n    sfvTrack.setZOrderOnTop(true);    // necessary\r\n    SurfaceHolder sfhTrackHolder = sfvTrack.getHolder();\r\n    sfhTrackHolder.setFormat(PixelFormat.TRANSPARENT);\r\n\r\ncheck [this link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7061396/9472193","title":"SurfaceView background, how to make surfaceview transparent","body":"<p>Find view by id Or call this code directly on the SurfaceView object:</p>\n<pre><code>SurfaceView sfvTrack = (SurfaceView)findViewById(R.id.sfvTrack);\nsfvTrack.setZOrderOnTop(true);    // necessary\nSurfaceHolder sfhTrackHolder = sfvTrack.getHolder();\nsfhTrackHolder.setFormat(PixelFormat.TRANSPARENT);\n</code></pre>\n<p>check <a href=\"https://stackoverflow.com/a/7061396/9472193\">this link</a></p>\n"}],"owner":{"account_id":24310984,"reputation":11,"user_id":18252997,"display_name":"Khang Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683851153,"creation_date":1667207426,"question_id":74261001,"body_markdown":"i&#39;m newbie. I have a application that show 3d model with surfaceview, but i just want show shape of model without background of surfaceview like below picture. How do i reach it ? Thank you.&#39;\r\n[![enter image description here](https://i.stack.imgur.com/kgYOf.png)](https://i.stack.imgur.com/kgYOf.png)\r\n\r\nI try surfaceView.setZOrderOnTop(true),surfaceView.holder.setFormat(PixelFormat.TRANSPARENT) but not working !.\r\n\r\n","title":"SurfaceView background, how to make surfaceview transparent","body":"<p>i'm newbie. I have a application that show 3d model with surfaceview, but i just want show shape of model without background of surfaceview like below picture. How do i reach it ? Thank you.'\n<a href=\"https://i.stack.imgur.com/kgYOf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kgYOf.png\" alt=\"enter image description here\" /></a></p>\n<p>I try surfaceView.setZOrderOnTop(true),surfaceView.holder.setFormat(PixelFormat.TRANSPARENT) but not working !.</p>\n"},{"tags":["java","jackson"],"answers":[{"comments":[{"owner":{"account_id":1946726,"reputation":2718,"user_id":1751692,"accept_rate":78,"display_name":"orpqK"},"score":0,"creation_date":1454951888,"post_id":35275329,"comment_id":58262468,"body_markdown":"The parser im using is the JacksonEncoder and JacksonDecoder. \n.encoder(new JacksonEncoder()).decoder(new JacksonDecoder())\n .target(myEntity.class);\n\nAre you saying I just have to add the getter and setters then it should do it by itself? Because I already have public getters and setters for the fields, but it didnt work.","body":"The parser im using is the JacksonEncoder and JacksonDecoder.  .encoder(new JacksonEncoder()).decoder(new JacksonDecoder())  .target(myEntity.class);  Are you saying I just have to add the getter and setters then it should do it by itself? Because I already have public getters and setters for the fields, but it didnt work."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":2,"creation_date":1454952227,"post_id":35275329,"comment_id":58262667,"body_markdown":"Look at ObjectMapper class and its methods: readValue(), writeValueAsString(), convertValue(). that should work","body":"Look at ObjectMapper class and its methods: readValue(), writeValueAsString(), convertValue(). that should work"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1454961071,"post_id":35275329,"comment_id":58267641,"body_markdown":"@PhoonOne you would need to define what &quot;does not work&quot; means. But as far as `@JsonProperty` goes, no, the POJO classes do NOT need anything to mark them as serializable; nor do properties if you have public getter or setter.","body":"@PhoonOne you would need to define what &quot;does not work&quot; means. But as far as <code>@JsonProperty</code> goes, no, the POJO classes do NOT need anything to mark them as serializable; nor do properties if you have public getter or setter."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683849634,"creation_date":1454951470,"answer_id":35275329,"question_id":35275098,"body_markdown":"@JsonProperty is not a class-level annotation, and you don&#39;t need to mark your class with any annotation. If you provide your class name as an argument to parser it will know how to map it according to your getter methods. It is as if every getter method has been marked with @JsonProperty without any argument.","title":"Is there a class level annotation for @JsonProperty","body":"<p>@JsonProperty is not a class-level annotation, and you don't need to mark your class with any annotation. If you provide your class name as an argument to parser it will know how to map it according to your getter methods. It is as if every getter method has been marked with @JsonProperty without any argument.</p>\n"},{"comments":[{"owner":{"account_id":7227751,"reputation":638,"user_id":5515739,"display_name":"mayank agrawal"},"score":1,"creation_date":1606921561,"post_id":60754477,"comment_id":115110063,"body_markdown":"it&#39;s not working for me. is there any alternative for it","body":"it&#39;s not working for me. is there any alternative for it"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1683849235,"post_id":60754477,"comment_id":134433539,"body_markdown":"Why is this a solution to field names within a class?","body":"Why is this a solution to field names within a class?"}],"tags":[],"owner":{"account_id":6499111,"reputation":906,"user_id":5030597,"display_name":"Kyrylo Semenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1584611004,"creation_date":1584611004,"answer_id":60754477,"question_id":35275098,"body_markdown":"Class level annotation\r\n\r\n    @JsonRootName(&quot;Response&quot;)\r\n    public class SuperResponse {\r\n    ...\r\n    }\r\n\r\nResult:\r\n\r\n    &lt;Response&gt;\r\n    ...\r\n    &lt;/Response&gt;","title":"Is there a class level annotation for @JsonProperty","body":"<p>Class level annotation</p>\n\n<pre><code>@JsonRootName(\"Response\")\npublic class SuperResponse {\n...\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&lt;Response&gt;\n...\n&lt;/Response&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819143,"reputation":123,"user_id":5246822,"display_name":"ad3bay0"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612213648,"creation_date":1612213648,"answer_id":66000146,"question_id":35275098,"body_markdown":"    @JsonRootName(value = &quot;user&quot;)\r\n    public class User {\r\n    public int id;\r\n    public String name;\r\n    }","title":"Is there a class level annotation for @JsonProperty","body":"<pre><code>@JsonRootName(value = &quot;user&quot;)\npublic class User {\npublic int id;\npublic String name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683850515,"creation_date":1683850515,"answer_id":76232372,"question_id":35275098,"body_markdown":"In addition to solutions from [Answer by @MicaelGantman](https://stackoverflow.com/a/35275329/1357094) that leverage getters/setters, making the fields `public` (even without getters/setters) also works (without any field or class-level Annotation).  `public final` also works (when shielding the fields more).","title":"Is there a class level annotation for @JsonProperty","body":"<p>In addition to solutions from <a href=\"https://stackoverflow.com/a/35275329/1357094\">Answer by @MicaelGantman</a> that leverage getters/setters, making the fields <code>public</code> (even without getters/setters) also works (without any field or class-level Annotation).  <code>public final</code> also works (when shielding the fields more).</p>\n"}],"owner":{"account_id":1946726,"reputation":2718,"user_id":1751692,"accept_rate":78,"display_name":"orpqK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24841,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":35275329,"answer_count":4,"score":18,"last_activity_date":1683850515,"creation_date":1454950801,"question_id":35275098,"body_markdown":"Is there a class level annotation for `jackson`&#39;s `@JsonProperty` ? Without knowing what field names are in the class, I can be able to annotate the class with a annotation and it will map it for me automatically? \r\n\r\nCurrently I have to annotate each field with a JsonProperty, is there something I can do at the class level that servers the same purpose?\r\n\r\n    public class myEntity() {\r\n    \r\n    @JsonProperty(&quot;banner&quot;)\r\n    private String banner;\r\n    \r\n    @JsonProperty(&quot;menu&quot;)\r\n    private String menu;\r\n    \r\n    }","title":"Is there a class level annotation for @JsonProperty","body":"<p>Is there a class level annotation for <code>jackson</code>'s <code>@JsonProperty</code> ? Without knowing what field names are in the class, I can be able to annotate the class with a annotation and it will map it for me automatically? </p>\n\n<p>Currently I have to annotate each field with a JsonProperty, is there something I can do at the class level that servers the same purpose?</p>\n\n<pre><code>public class myEntity() {\n\n@JsonProperty(\"banner\")\nprivate String banner;\n\n@JsonProperty(\"menu\")\nprivate String menu;\n\n}\n</code></pre>\n"},{"tags":["java","hive","trino"],"owner":{"account_id":5650099,"reputation":406,"user_id":4471036,"accept_rate":36,"display_name":"natarajan k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683850470,"creation_date":1683787788,"question_id":76224832,"body_markdown":"I am working on Trino UDF. Basically i want to remove &#39;/r/n&#39;,&#39;/r&#39; and &#39;/n&#39; from the string.\r\n\r\nThe below code does not work if regex with replaceAll is used in Trino. The same code functionality inside the method works fine in hive UDF and as well as tested in java.\r\n\r\n    \r\n    public static Slice rmcc(@SqlType(StandardTypes.VARCHAR) Slice string)\r\n    {\r\n    String text = string.toStringUtf8();\r\n    \r\n    String regex = &quot;(\\\\x0D\\\\x0A|\\\\x0D|\\\\x0A)&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(text);\r\n    String result = m.replaceAll(&quot; &quot;);\r\n    return Slices.utf8Slice(result);\r\n    }\r\n\r\nBelow code works fine with replace.\r\n\r\n    String text = &quot;hello\\nhello\\rhello\\r\\nhello&quot;;\r\n    \r\n    String result = text.replace(&quot;\\\\r\\\\n&quot;, &quot; &quot;).replace(&quot;\\\\r&quot;, &quot; &quot;).replace(&quot;\\\\n&quot;, &quot; &quot;);\r\n\r\n\r\noutput should be: hello1 hello2 hello3 hello4\r\n\r\nI want to use regex pattern and achieve in replaceall function. please help if i am missing anything.\r\n\r\nTIA.","title":"regex replaceAll pattern does not work in Trino UDF","body":"<p>I am working on Trino UDF. Basically i want to remove '/r/n','/r' and '/n' from the string.</p>\n<p>The below code does not work if regex with replaceAll is used in Trino. The same code functionality inside the method works fine in hive UDF and as well as tested in java.</p>\n<pre><code>public static Slice rmcc(@SqlType(StandardTypes.VARCHAR) Slice string)\n{\nString text = string.toStringUtf8();\n\nString regex = &quot;(\\\\x0D\\\\x0A|\\\\x0D|\\\\x0A)&quot;;\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(text);\nString result = m.replaceAll(&quot; &quot;);\nreturn Slices.utf8Slice(result);\n}\n</code></pre>\n<p>Below code works fine with replace.</p>\n<pre><code>String text = &quot;hello\\nhello\\rhello\\r\\nhello&quot;;\n\nString result = text.replace(&quot;\\\\r\\\\n&quot;, &quot; &quot;).replace(&quot;\\\\r&quot;, &quot; &quot;).replace(&quot;\\\\n&quot;, &quot; &quot;);\n</code></pre>\n<p>output should be: hello1 hello2 hello3 hello4</p>\n<p>I want to use regex pattern and achieve in replaceall function. please help if i am missing anything.</p>\n<p>TIA.</p>\n"},{"tags":["java","mongodb","spring-mvc","sharding"],"comments":[{"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"score":1,"creation_date":1382606760,"post_id":19555987,"comment_id":29028413,"body_markdown":"You can set it via `mongoTemplate` for sure","body":"You can set it via <code>mongoTemplate</code> for sure"},{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":0,"creation_date":1382611706,"post_id":19555987,"comment_id":29031242,"body_markdown":"Looking at the schema (http://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsd) you can only set slave-ok, there&#39;s no &quot;secondary preferred&quot; option (which is the replacement).  You&#39;ll be OK using slave-ok, it&#39;s still supported in the Mongo driver despite deprecation.  But you can definitely do it on the MongoTemplate by setting the read preference to secondary.","body":"Looking at the schema (<a href=\"http://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/data/mongo/spring-mongo-1.0.xsd</a>) you can only set slave-ok, there&#39;s no &quot;secondary preferred&quot; option (which is the replacement).  You&#39;ll be OK using slave-ok, it&#39;s still supported in the Mongo driver despite deprecation.  But you can definitely do it on the MongoTemplate by setting the read preference to secondary."},{"owner":{"account_id":3034942,"reputation":55,"user_id":2578323,"display_name":"sorebrek"},"score":0,"creation_date":1382664659,"post_id":19555987,"comment_id":29058502,"body_markdown":"@Trisha, you are right that Slave-ok is just supported.  Do it in MongoTemplate programmatically to secondary also works, but is it too much overhead if I call setReadPreference() every time when I wanna get a collection from MongoTemplate?","body":"@Trisha, you are right that Slave-ok is just supported.  Do it in MongoTemplate programmatically to secondary also works, but is it too much overhead if I call setReadPreference() every time when I wanna get a collection from MongoTemplate?"},{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":0,"creation_date":1382681904,"post_id":19555987,"comment_id":29063129,"body_markdown":"No, you only have to set it on the collection (or database) once, then it will be used as the default on that collection (or database &amp; therefore all collections) from then on,","body":"No, you only have to set it on the collection (or database) once, then it will be used as the default on that collection (or database &amp; therefore all collections) from then on,"}],"answers":[{"tags":[],"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1393273105,"creation_date":1393273105,"answer_id":21998109,"question_id":19555987,"body_markdown":"Expanding @Trisha&#39;s response in to an answer: &quot;Do it in MongoTemplate programmatically&quot; by setting the [`ReadPreference`](http://api.mongodb.org/java/current/index.html?com/mongodb/ReadPreference.html) to `SECONDARY`.\r\n\r\n    MongoTemplate template = new MongoTemplate(...);\r\n    template.setReadPreference(com.mongodb.ReadPreference.SECONDARY);\r\n","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>Expanding @Trisha's response in to an answer: \"Do it in MongoTemplate programmatically\" by setting the <a href=\"http://api.mongodb.org/java/current/index.html?com/mongodb/ReadPreference.html\" rel=\"noreferrer\"><code>ReadPreference</code></a> to <code>SECONDARY</code>.</p>\n\n<pre><code>MongoTemplate template = new MongoTemplate(...);\ntemplate.setReadPreference(com.mongodb.ReadPreference.SECONDARY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1840077,"reputation":11967,"user_id":1669665,"accept_rate":33,"display_name":"jaipster"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1404747354,"creation_date":1404747354,"answer_id":24614418,"question_id":19555987,"body_markdown":"Declare the following bean \r\n\r\n    &lt;bean id=&quot;readPreferenceSecondary&quot; class=&quot;com.mongodb.TaggableReadPreference.SecondaryReadPreference&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nand \r\n\r\nyou inject this in your mongotemplate\r\n\r\n    &lt;bean id=&quot;mongoTemplateProdDb&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot; &gt;\r\n            &lt;property name=&quot;readPreference&quot; ref=&quot;readPreferenceSecondary&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>Declare the following bean </p>\n\n<pre><code>&lt;bean id=\"readPreferenceSecondary\" class=\"com.mongodb.TaggableReadPreference.SecondaryReadPreference\"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and </p>\n\n<p>you inject this in your mongotemplate</p>\n\n<pre><code>&lt;bean id=\"mongoTemplateProdDb\" class=\"org.springframework.data.mongodb.core.MongoTemplate\" &gt;\n        &lt;property name=\"readPreference\" ref=\"readPreferenceSecondary\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2381486,"reputation":1692,"user_id":2083415,"accept_rate":25,"display_name":"Amazia Gur"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436353139,"creation_date":1436353139,"answer_id":31290672,"question_id":19555987,"body_markdown":"In case you have more than one secondary (replica-set) you can be more specific and tell the mongo driver explicitly which of the secondaries you want to read from, using [tags][1].\r\n\r\nOn the mongo side you run this command:\r\n\r\n    db.getMongo().setReadPref(&#39;secondaryPreferred&#39;,\r\n                              [{&quot;tagName&quot;:&quot;TagVal1&quot;},\r\n                                {&quot;tagName&quot;:&quot;TagVal2&quot;},\r\n                                {}])\r\n\r\nIn the code it looks like this:\r\n\r\n    \r\n    MongoTemplate template = new MongoTemplate(...)\r\n    template.setReadPreference(ReadPreference.secondaryPreferred(&quot;your DBObject that reflect your mongo tag names&quot;);\r\n\r\nHope it helps.\r\n\r\n  [1]: http://docs.mongodb.org/v2.6/reference/method/Mongo.setReadPref/","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>In case you have more than one secondary (replica-set) you can be more specific and tell the mongo driver explicitly which of the secondaries you want to read from, using <a href=\"http://docs.mongodb.org/v2.6/reference/method/Mongo.setReadPref/\" rel=\"nofollow\">tags</a>.</p>\n\n<p>On the mongo side you run this command:</p>\n\n<pre><code>db.getMongo().setReadPref('secondaryPreferred',\n                          [{\"tagName\":\"TagVal1\"},\n                            {\"tagName\":\"TagVal2\"},\n                            {}])\n</code></pre>\n\n<p>In the code it looks like this:</p>\n\n<pre><code>MongoTemplate template = new MongoTemplate(...)\ntemplate.setReadPreference(ReadPreference.secondaryPreferred(\"your DBObject that reflect your mongo tag names\");\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":13892426,"reputation":41,"user_id":10030061,"display_name":"user10030061"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1530680730,"creation_date":1530680730,"answer_id":51166102,"question_id":19555987,"body_markdown":"In case you are using spring-data-mongodb and have some requirement to use multiple Read Preferences based on find query, you can create multiple Mongo Templates and/or Repositories like \r\n\r\n        @EnableMongoRepositories(basePackages = {\r\n                &quot;com.you.repo.package&quot; }, mongoTemplateRef = &quot;mongoTemplateOne&quot;)    \r\n        @Configuration\r\n        public class MongoConfig {\r\n    \r\n        @Bean(name=&quot;mongoTemplateOne&quot;)\r\n        public MongoTemplate getMongoTemplateOne() throws UnknownHostException {\r\n            MongoTemplate templateOne = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(&quot;YOUR_MONGO_URL&quot;)));\r\n            templateOne.setReadPreference(ReadPreference.secondaryPreferred());\r\n    \r\n            //setting WriteConcern but not relevant for this thread\r\n            templateOne.setWriteConcernResolver(yourWriteConcernResolver());\r\n            return templateOne;\r\n        }\r\n        \r\n        @Bean(name = &quot;mongoTemplateTwo&quot;)\r\n        public MongoTemplate getMongoTemplateTwo() throws UnknownHostException {\r\n            MongoTemplate templateTwo = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(&quot;YOUR_MONGO_URL&quot;)));\r\n            templateTwo.setReadPreference(ReadPreference.secondaryPreferred());\r\n            return templateTwo;\r\n        }\r\n    \r\n    \r\n        private WriteConcernResolver yourWriteConcernResolver() {\r\n            return action -&gt; {\r\n                if (action.getCollectionName()\r\n                        .equals(&quot;your_collecton&quot;)\r\n                        &amp;&amp; (action.getMongoActionOperation() == MongoActionOperation.SAVE\r\n                                || action.getMongoActionOperation() == MongoActionOperation.UPDATE)) {\r\n                    return WriteConcern.MAJORITY;\r\n                }\r\n                return action.getDefaultWriteConcern();\r\n            };\r\n        }\r\n\r\n      ","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>In case you are using spring-data-mongodb and have some requirement to use multiple Read Preferences based on find query, you can create multiple Mongo Templates and/or Repositories like </p>\n\n<pre><code>    @EnableMongoRepositories(basePackages = {\n            \"com.you.repo.package\" }, mongoTemplateRef = \"mongoTemplateOne\")    \n    @Configuration\n    public class MongoConfig {\n\n    @Bean(name=\"mongoTemplateOne\")\n    public MongoTemplate getMongoTemplateOne() throws UnknownHostException {\n        MongoTemplate templateOne = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(\"YOUR_MONGO_URL\")));\n        templateOne.setReadPreference(ReadPreference.secondaryPreferred());\n\n        //setting WriteConcern but not relevant for this thread\n        templateOne.setWriteConcernResolver(yourWriteConcernResolver());\n        return templateOne;\n    }\n\n    @Bean(name = \"mongoTemplateTwo\")\n    public MongoTemplate getMongoTemplateTwo() throws UnknownHostException {\n        MongoTemplate templateTwo = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(\"YOUR_MONGO_URL\")));\n        templateTwo.setReadPreference(ReadPreference.secondaryPreferred());\n        return templateTwo;\n    }\n\n\n    private WriteConcernResolver yourWriteConcernResolver() {\n        return action -&gt; {\n            if (action.getCollectionName()\n                    .equals(\"your_collecton\")\n                    &amp;&amp; (action.getMongoActionOperation() == MongoActionOperation.SAVE\n                            || action.getMongoActionOperation() == MongoActionOperation.UPDATE)) {\n                return WriteConcern.MAJORITY;\n            }\n            return action.getDefaultWriteConcern();\n        };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4659262,"reputation":666,"user_id":3773920,"display_name":"Thilak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546937277,"creation_date":1546851507,"answer_id":54071192,"question_id":19555987,"body_markdown":"If there is a need to mix between primary and secondary for reads depending on the collection, you can set the `ReadPreference` on the `DBCollection` object. This helps to avoid complex multiple `MongoTemplate` configuration. Instead, set collection level preference like below once in the application lifetime.  All the reads for that specific collection will go to secondary, while for other collections it goes to primary.\r\n\r\n    DBCollection dbCollection = mongoTemplate.getCollection(mongoTemplate.getCollectionName(collection));\r\n    dbCollection.setReadPreference(ReadPreference.secondaryPreferred());\r\n\r\nIf you want to know different options to achieve it, please check [Spring data mongodb secondary reads][1]\r\n\r\n\r\n  [1]: https://ttechlearning.blogspot.com/2019/01/spring-data-mongodb-secondary-node-reads.html","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>If there is a need to mix between primary and secondary for reads depending on the collection, you can set the <code>ReadPreference</code> on the <code>DBCollection</code> object. This helps to avoid complex multiple <code>MongoTemplate</code> configuration. Instead, set collection level preference like below once in the application lifetime.  All the reads for that specific collection will go to secondary, while for other collections it goes to primary.</p>\n\n<pre><code>DBCollection dbCollection = mongoTemplate.getCollection(mongoTemplate.getCollectionName(collection));\ndbCollection.setReadPreference(ReadPreference.secondaryPreferred());\n</code></pre>\n\n<p>If you want to know different options to achieve it, please check <a href=\"https://ttechlearning.blogspot.com/2019/01/spring-data-mongodb-secondary-node-reads.html\" rel=\"nofollow noreferrer\">Spring data mongodb secondary reads</a></p>\n"},{"tags":[],"owner":{"account_id":122202,"reputation":411,"user_id":315868,"display_name":"htompkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568656452,"creation_date":1568656452,"answer_id":57962072,"question_id":19555987,"body_markdown":"As of [spring-mongo-2.0.xsd][1], `slave-ok` has been entirely removed, but support has been added for XML config of `ReadPreference`. Here&#39;s the XML from the original question translated for the current XSD:\r\n\r\n    &lt;mongo:mongo-client host=&quot;mongo.sample.com&quot; port=&quot;30000&quot;&gt;\r\n         &lt;mongo:client-options read-preference=&quot;SECONDARY_PREFERRED&quot; /&gt;\r\n    &lt;/mongo:mongo-client&gt;\r\n\r\n\r\n  [1]: http://www.springframework.org/schema/data/mongo/spring-mongo-2.0.xsd","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>As of <a href=\"http://www.springframework.org/schema/data/mongo/spring-mongo-2.0.xsd\" rel=\"nofollow noreferrer\">spring-mongo-2.0.xsd</a>, <code>slave-ok</code> has been entirely removed, but support has been added for XML config of <code>ReadPreference</code>. Here's the XML from the original question translated for the current XSD:</p>\n\n<pre><code>&lt;mongo:mongo-client host=\"mongo.sample.com\" port=\"30000\"&gt;\n     &lt;mongo:client-options read-preference=\"SECONDARY_PREFERRED\" /&gt;\n&lt;/mongo:mongo-client&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023548,"reputation":141,"user_id":1033335,"accept_rate":50,"display_name":"prashanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631192505,"creation_date":1631192505,"answer_id":69118716,"question_id":19555987,"body_markdown":"Here is one more way to do this using Mongo Repositories\r\n\r\n```\r\n@Configuration\r\n@EnableMongoRepositories\r\nclass ApplicationConfig extends AbstractMongoClientConfiguration {\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Value(&quot;${spring.data.mongodb.uri}&quot;)\r\n    public String mongoUri;\r\n\r\n\r\n    @Override\r\n    protected String getDatabaseName() {\r\n        return env.getProperty(&quot;spring.data.mongodb.database&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configureClientSettings(MongoClientSettings.Builder builder) {\r\n        builder.applyConnectionString(new ConnectionString(mongoUri)).readPreference(ReadPreference.secondary());\r\n    }\r\n\r\n}\r\n```\r\n\r\nsample app available @ \r\nhttps://github.com/prashanthmadi/cosmosdb-mongodb-readpreference-springboot-java/blob/main/src/main/java/azure/cosmosdb/mongodb/spring/cosmosdbmongodb/ApplicationConfig.java","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>Here is one more way to do this using Mongo Repositories</p>\n<pre><code>@Configuration\n@EnableMongoRepositories\nclass ApplicationConfig extends AbstractMongoClientConfiguration {\n\n    @Autowired\n    private Environment env;\n\n    @Value(&quot;${spring.data.mongodb.uri}&quot;)\n    public String mongoUri;\n\n\n    @Override\n    protected String getDatabaseName() {\n        return env.getProperty(&quot;spring.data.mongodb.database&quot;);\n    }\n\n    @Override\n    protected void configureClientSettings(MongoClientSettings.Builder builder) {\n        builder.applyConnectionString(new ConnectionString(mongoUri)).readPreference(ReadPreference.secondary());\n    }\n\n}\n</code></pre>\n<p>sample app available @\n<a href=\"https://github.com/prashanthmadi/cosmosdb-mongodb-readpreference-springboot-java/blob/main/src/main/java/azure/cosmosdb/mongodb/spring/cosmosdbmongodb/ApplicationConfig.java\" rel=\"nofollow noreferrer\">https://github.com/prashanthmadi/cosmosdb-mongodb-readpreference-springboot-java/blob/main/src/main/java/azure/cosmosdb/mongodb/spring/cosmosdbmongodb/ApplicationConfig.java</a></p>\n"},{"tags":[],"owner":{"account_id":2678739,"reputation":477,"user_id":2314495,"display_name":"Pla"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683850361,"creation_date":1683850361,"answer_id":76232360,"question_id":19555987,"body_markdown":"Or you can define at the query level with annotation in the repository interface:\r\n\r\n    @Meta(flags = CursorOption.SECONDARY_READS)\r\n    Stream&lt;MyClass&gt; findBySomeField(String someField);\r\n\r\nWhich is really useful when using spring generated queries from method names or annotations like **@Query** or **@Aggregation**\r\n","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>Or you can define at the query level with annotation in the repository interface:</p>\n<pre><code>@Meta(flags = CursorOption.SECONDARY_READS)\nStream&lt;MyClass&gt; findBySomeField(String someField);\n</code></pre>\n<p>Which is really useful when using spring generated queries from method names or annotations like <strong>@Query</strong> or <strong>@Aggregation</strong></p>\n"}],"owner":{"account_id":3034942,"reputation":55,"user_id":2578323,"display_name":"sorebrek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16243,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":21998109,"answer_count":8,"score":5,"last_activity_date":1683850361,"creation_date":1382582708,"question_id":19555987,"body_markdown":"I am connecting to a MongoDB sharding server via mongodb java driver in Spring MVC. I am using the following versions:\r\n\r\n - spring-webmvc-3.2.1.RELEASE\r\n - mongo-java-driver/2.10.0/mongo-java-driver-2.10.0\r\n - spring-data-mongodb-1.2.0.RELEASE\r\n\r\nMy Mongo options are set in the contextConfigLocation file mvc-dispatcher-servlet.xml\r\n\r\n\t&lt;mongo:mongo host=&quot;mongo.sample.com&quot; port=&quot;30000&quot;&gt;\r\n\t\t &lt;mongo:options auto-connect-retry=&quot;true&quot;\r\n\t\t                slave-ok=&quot;true&quot;/&gt;\r\n\t&lt;/mongo:mongo&gt;\r\n\r\nIt works pretty well, but the slave-ok is deprecated by come.MongoDB.ReadPreference.  I just wonder if there is any way to set the readPreference for Spring MVC in the contextConfiLocation file.\r\n","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>I am connecting to a MongoDB sharding server via mongodb java driver in Spring MVC. I am using the following versions:</p>\n\n<ul>\n<li>spring-webmvc-3.2.1.RELEASE</li>\n<li>mongo-java-driver/2.10.0/mongo-java-driver-2.10.0</li>\n<li>spring-data-mongodb-1.2.0.RELEASE</li>\n</ul>\n\n<p>My Mongo options are set in the contextConfigLocation file mvc-dispatcher-servlet.xml</p>\n\n<pre><code>&lt;mongo:mongo host=\"mongo.sample.com\" port=\"30000\"&gt;\n     &lt;mongo:options auto-connect-retry=\"true\"\n                    slave-ok=\"true\"/&gt;\n&lt;/mongo:mongo&gt;\n</code></pre>\n\n<p>It works pretty well, but the slave-ok is deprecated by come.MongoDB.ReadPreference.  I just wonder if there is any way to set the readPreference for Spring MVC in the contextConfiLocation file.</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":7162415,"reputation":121,"user_id":5472740,"display_name":"Youssef Wagih"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683850140,"creation_date":1683850140,"answer_id":76232344,"question_id":76230701,"body_markdown":"It seems you have missed to add the Toast message inside the conditions of context menu item.\r\n\r\nFor more clarification you can make it like below\r\n\r\n                override fun onOptionsItemSelected(item: MenuItem): Boolean {\r\n                val id = item.itemId\r\n                if (id == android.R.id.home) {\r\n                    // Show the context menu\r\n                    registerForContextMenu(findViewById(android.R.id.content))\r\n                    openContextMenu(findViewById(android.R.id.content))\r\n                    unregisterForContextMenu(findViewById(android.R.id.content))\r\n                    return true\r\n                }\r\n\r\n               if (id== R.id.context_item_1){\r\n                   // you should add Toast to be show when click on first item\r\n                   Toast.makeText(applicationContext, &quot;Hello Javatpoint - first item&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n                    return true;\r\n               }\r\n\r\n                if (id== R.id.context_item_2){\r\n                    // you should add Toast to be show when click on second item\r\n                    Toast.makeText(applicationContext, &quot;Hello Javatpoint - second item&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n                    return true;}\r\n\r\n                return super.onOptionsItemSelected(item)\r\n            }\r\n\r\nAnother note if Toast in the `onCreate()` method is not working make sure to try it using physical device as emulator sometimes is not working good with Toast as per the below link\r\n[https://stackoverflow.com/questions/16241566/android-toast-wont-appear]\r\n","title":"Toast message not getting displayed on selecting context menu item in Android Studio","body":"<p>It seems you have missed to add the Toast message inside the conditions of context menu item.</p>\n<p>For more clarification you can make it like below</p>\n<pre><code>            override fun onOptionsItemSelected(item: MenuItem): Boolean {\n            val id = item.itemId\n            if (id == android.R.id.home) {\n                // Show the context menu\n                registerForContextMenu(findViewById(android.R.id.content))\n                openContextMenu(findViewById(android.R.id.content))\n                unregisterForContextMenu(findViewById(android.R.id.content))\n                return true\n            }\n\n           if (id== R.id.context_item_1){\n               // you should add Toast to be show when click on first item\n               Toast.makeText(applicationContext, &quot;Hello Javatpoint - first item&quot;, Toast.LENGTH_SHORT).show()\n\n                return true;\n           }\n\n            if (id== R.id.context_item_2){\n                // you should add Toast to be show when click on second item\n                Toast.makeText(applicationContext, &quot;Hello Javatpoint - second item&quot;, Toast.LENGTH_SHORT).show()\n\n                return true;}\n\n            return super.onOptionsItemSelected(item)\n        }\n</code></pre>\n<p>Another note if Toast in the <code>onCreate()</code> method is not working make sure to try it using physical device as emulator sometimes is not working good with Toast as per the below link\n[https://stackoverflow.com/questions/16241566/android-toast-wont-appear]</p>\n"}],"owner":{"account_id":28582576,"reputation":1,"user_id":21883351,"display_name":"hee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683850140,"creation_date":1683830153,"question_id":76230701,"body_markdown":"Toast message not getting displayed on selecting context menu item in Android Studio\r\n\r\n\r\nHere is the main activity I used\r\nMainActivity.java\r\n\r\n    package com.example.endsempracmad;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.ContextMenu;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.ActionBar;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.setTitle(&quot;Home Activity&quot;);\r\n    \r\n        Toast.makeText(getApplicationContext(),&quot;Hello Javatpoint&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n     }\r\n    \r\n    \r\n     @Override\r\n     public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.context_menu, menu);\r\n    \r\n        // Set up the action bar to display the overflow menu button\r\n        ActionBar actionBar = getSupportActionBar();\r\n        if (actionBar != null) {\r\n            actionBar.setDisplayHomeAsUpEnabled(false);\r\n        }\r\n    \r\n        return true;\r\n    }\r\n    \r\n     @Override\r\n     public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo)        \r\n     {\r\n        super.onCreateContextMenu(menu, v, menuInfo);\r\n        getMenuInflater().inflate(R.menu.context_menu, menu);\r\n     }\r\n    \r\n     @Override\r\n     public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n    \r\n        if (id == android.R.id.home) {\r\n            // Show the context menu\r\n            registerForContextMenu(findViewById(android.R.id.content));\r\n            openContextMenu(findViewById(android.R.id.content));\r\n            unregisterForContextMenu(findViewById(android.R.id.content));\r\n            return true;\r\n        }\r\n    \r\n        return super.onOptionsItemSelected(item);\r\n      }\r\n    \r\n      @Override\r\n      public boolean onContextItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n    \r\n        if (id== R.id.context_item_1){\r\n    \r\n                return true;}\r\n    \r\n        if (id== R.id.context_item_2){\r\n        return true;}\r\n    \r\n            else{\r\n           \r\n                return super.onContextItemSelected(item);}\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nthis is the context menu i used \r\nHere, we register the content view (i.e., the root view of the activity&#39;s layout) for the context menu, then open the context menu by calling openContextMenu with the content view as the argument. Finally, we unregister the content view from the context menu to ensure that it doesn&#39;t interfere with other menus in the future.\r\nDefined context menu items in a menu resource file res/menu folder:\r\ncontext_menu.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n       &lt;item android:id=&quot;@+id/context_item_1&quot;\r\n          android:title=&quot;Context Item 1&quot; /&gt;\r\n       &lt;item android:id=&quot;@+id/context_item_2&quot;\r\n        android:title=&quot;Context Item 2&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\n\r\n","title":"Toast message not getting displayed on selecting context menu item in Android Studio","body":"<p>Toast message not getting displayed on selecting context menu item in Android Studio</p>\n<p>Here is the main activity I used\nMainActivity.java</p>\n<pre><code>package com.example.endsempracmad;\n\nimport android.os.Bundle;\nimport android.view.ContextMenu;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    ActionBar actionBar = getSupportActionBar();\n    actionBar.setTitle(&quot;Home Activity&quot;);\n\n    Toast.makeText(getApplicationContext(),&quot;Hello Javatpoint&quot;,Toast.LENGTH_SHORT).show();\n\n }\n\n\n @Override\n public boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.context_menu, menu);\n\n    // Set up the action bar to display the overflow menu button\n    ActionBar actionBar = getSupportActionBar();\n    if (actionBar != null) {\n        actionBar.setDisplayHomeAsUpEnabled(false);\n    }\n\n    return true;\n}\n\n @Override\n public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo)        \n {\n    super.onCreateContextMenu(menu, v, menuInfo);\n    getMenuInflater().inflate(R.menu.context_menu, menu);\n }\n\n @Override\n public boolean onOptionsItemSelected(MenuItem item) {\n    int id = item.getItemId();\n\n    if (id == android.R.id.home) {\n        // Show the context menu\n        registerForContextMenu(findViewById(android.R.id.content));\n        openContextMenu(findViewById(android.R.id.content));\n        unregisterForContextMenu(findViewById(android.R.id.content));\n        return true;\n    }\n\n    return super.onOptionsItemSelected(item);\n  }\n\n  @Override\n  public boolean onContextItemSelected(MenuItem item) {\n    int id = item.getItemId();\n\n    if (id== R.id.context_item_1){\n\n            return true;}\n\n    if (id== R.id.context_item_2){\n    return true;}\n\n        else{\n       \n            return super.onContextItemSelected(item);}\n\n\n    }\n}\n</code></pre>\n<p>this is the context menu i used\nHere, we register the content view (i.e., the root view of the activity's layout) for the context menu, then open the context menu by calling openContextMenu with the content view as the argument. Finally, we unregister the content view from the context menu to ensure that it doesn't interfere with other menus in the future.\nDefined context menu items in a menu resource file res/menu folder:\ncontext_menu.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n   &lt;item android:id=&quot;@+id/context_item_1&quot;\n      android:title=&quot;Context Item 1&quot; /&gt;\n   &lt;item android:id=&quot;@+id/context_item_2&quot;\n    android:title=&quot;Context Item 2&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","nullpointerexception","java-17"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1683850797,"post_id":76232278,"comment_id":134433729,"body_markdown":"[Edit] your post and include the complete stack trace (format as code).  Find the statement _in your code_ that caused the exception, and indicate that statement clearly in your code listing.","body":"<a href=\"https://stackoverflow.com/posts/76232278/edit\">Edit</a> your post and include the complete stack trace (format as code).  Find the statement <i>in your code</i> that caused the exception, and indicate that statement clearly in your code listing."}],"owner":{"account_id":26254308,"reputation":23,"user_id":19926606,"display_name":"Eveprogram11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683848833,"creation_date":1683848833,"question_id":76232278,"body_markdown":"I&#39;m encountering an issue in my Spring Boot application where I&#39;m getting a NullPointerException when trying to save an entity with a non-null foreign key using JPA. I have a HistoriaClinica entity that has a many-to-one relationship with a Paciente entity. The foreign key column paciente_id is not nullable in the database.\r\n\r\nHowever, when I attempt to save a new HistoriaClinica entity with a valid pacienteId, I&#39;m getting a NullPointerException with the error message: &quot;The given id must not be null&quot;. I&#39;ve checked and confirmed that the pacienteId is not null and exists in the database.\r\n\r\nI&#39;ve reviewed my code and verified that the mapping and annotations for the relationship between Paciente and HistoriaClinica are set correctly. I&#39;ve also checked the database configuration and ensured that the necessary tables and columns are present.\r\n\r\nI&#39;m using Spring Boot 3.0.5 and JPA for my persistence layer. I&#39;ve included the relevant code snippets below:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;historias_clinicas&quot;)\r\n@Getter\r\n@Setter\r\npublic class HistoriaClinica {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;fecha_creacion&quot;, nullable = false)\r\n    @JsonFormat(pattern = &quot;dd-MM-yyyy&quot;)\r\n    private Date fechaCreacion;\r\n\r\n    private String enfermedad;\r\n\r\n    private String descripcion;\r\n\r\n    private String medicacion;\r\n    \r\n    private String droga;\r\n    \r\n    private String d&#243;sis;\r\n    \r\n    private Double peso;\r\n    \r\n    private Double altura;\r\n\r\n    @Column(nullable = false)\r\n    private String indicaciones;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;paciente_id&quot;, nullable = false)\r\n    private Paciente paciente;\r\n\r\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;ArchivoHistoriaClinica&gt; archivosHistoriaClinica;\r\n\r\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Actualizacion&gt; actualizaciones = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;ArchivoHistoriaClinica&gt; archivos = new ArrayList&lt;&gt;();\r\n//respective constructors\r\n```\r\n\r\n```\r\n@Getter @Setter\r\npublic class Paciente {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \r\n    private Long id;\r\n    \r\n    @Column(nullable = false)\r\n    @NotNull\r\n    private String nombre;\r\n    \r\n    @Column(nullable = false)\r\n    @NotNull\r\n    private String apellido;\r\n    \r\n    @Column(nullable = false, unique = true)\r\n    @NotNull\r\n    private String dni;\r\n    \r\n    @Column(name = &quot;fecha_nacimiento&quot;)\r\n    @NotNull\r\n    private LocalDate fechaNacimiento;\r\n    \r\n    private String direccion;\r\n    \r\n    private String telefono;\r\n    \r\n    private String email;\r\n    \r\n    @Column(nullable = false)\r\n    private String role = &quot;ROLE_PACIENTE&quot;; // anotaci&#243;n de rol\r\n\r\n    \r\n    @OneToMany(mappedBy = &quot;paciente&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;HistoriaClinica&gt; historiasClinicas;\r\n\r\n    public Paciente() {\r\n    }\r\n```\r\n\r\nThe HistoriaClinicaService method that i&#39;m calling:\r\n\r\n```\r\n public HistoriaClinica save(HistoriaClinicaDTO hcDTO, Long idPaciente) {\r\n        Paciente paciente = pacienteRepository.findById(idPaciente)\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Paciente no encontrado con id &quot; + idPaciente));\r\n\r\n        HistoriaClinica hc = historiaClinicaMapper.toEntity(hcDTO);\r\n        hc.setPaciente(paciente);\r\n\r\n        List&lt;Actualizacion&gt; actualizaciones = hcDTO.getActualizaciones().stream()\r\n                .map(actualizacionMapper::toEntity)\r\n                .collect(Collectors.toList());\r\n        hc.setActualizaciones(actualizaciones);\r\n\r\n        List&lt;ArchivoHistoriaClinica&gt; archivos = hcDTO.getArchivos().stream()\r\n                .map(archivoHistoriaClinicaMapper::toEntity)\r\n                .collect(Collectors.toList());\r\n        hc.setArchivos(archivos);\r\n        actualizaciones.forEach(actualizacion -&gt; actualizacion.setHistoriaClinica(hc));\r\n        archivos.forEach(archivo -&gt; archivo.setHistoriaClinica(hc));\r\n\r\n        entityManager.persist(hc);\r\n        return hc;\r\n    }\r\n```\r\n\r\nAnd the endpoint:\r\n\r\n```\r\n@PostMapping(&quot;/nuevas/{idPaciente}&quot;)\r\npublic ResponseEntity&lt;HistoriaClinicaDTO&gt; createHistoriaClinica(@RequestBody HistoriaClinicaDTO historiaClinicaDTO, @PathVariable(&quot;idPaciente&quot;) Long pacienteId) {\r\n    // Verificar si el paciente existe\r\n    Optional&lt;Paciente&gt; pacienteOptional = pacienteService.buscarPorId(pacienteId);\r\n    if (!pacienteOptional.isPresent()) {\r\n        throw new RuntimeException(&quot;No se encontr&#243; un paciente con el ID proporcionado.&quot;);\r\n    }\r\n\r\n    HistoriaClinica nuevaHistoriaClinica = historiaClinicaService.save(historiaClinicaDTO, pacienteId);\r\n\r\n    HistoriaClinicaDTO newHistoriaClinicaDTO = historiaClinicaMapper.toDto(nuevaHistoriaClinica);\r\n\r\n    return ResponseEntity.ok(newHistoriaClinicaDTO);\r\n}\r\n```\r\n\r\nI have tried debugging the code and inspecting the values at each step, but I haven&#39;t been able to identify the root cause of the NullPointerException. I would greatly appreciate any insights or suggestions on how to troubleshoot and resolve this issue.\r\n\r\nThank you in advance for your help!\r\n\r\n\r\nHere&#39;s what I have checked so far:\r\n\r\n- The &quot;Paciente&quot; entity has a generated &quot;id&quot; field, and it is assigned automatically when saving a new instance.\r\n- The &quot;HistoriaClinica&quot; entity has a Many-to-One relationship with &quot;Paciente&quot;, and the association is properly defined with the &quot;paciente_id&quot; foreign key.\r\n- When retrieving the &quot;Paciente&quot; from the repository, it is successfully found and returned.\r\n- I have verified that the &quot;Paciente&quot; object has a valid ID before setting it in the &quot;HistoriaClinica&quot; entity.\r\n- I have checked the database, and the associated &quot;Paciente&quot; record exists with a valid ID.\r\n- Despite these checks, I still encounter the &quot;NullPointerException&quot; with the message stating that &quot;pacienteId must not be null&quot; when trying to persist the &quot;HistoriaClinica&quot; entity.","title":"NullPointerException when saving entity with non-null foreign key in Spring Boot and JPA","body":"<p>I'm encountering an issue in my Spring Boot application where I'm getting a NullPointerException when trying to save an entity with a non-null foreign key using JPA. I have a HistoriaClinica entity that has a many-to-one relationship with a Paciente entity. The foreign key column paciente_id is not nullable in the database.</p>\n<p>However, when I attempt to save a new HistoriaClinica entity with a valid pacienteId, I'm getting a NullPointerException with the error message: &quot;The given id must not be null&quot;. I've checked and confirmed that the pacienteId is not null and exists in the database.</p>\n<p>I've reviewed my code and verified that the mapping and annotations for the relationship between Paciente and HistoriaClinica are set correctly. I've also checked the database configuration and ensured that the necessary tables and columns are present.</p>\n<p>I'm using Spring Boot 3.0.5 and JPA for my persistence layer. I've included the relevant code snippets below:</p>\n<pre><code>@Entity\n@Table(name = &quot;historias_clinicas&quot;)\n@Getter\n@Setter\npublic class HistoriaClinica {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;fecha_creacion&quot;, nullable = false)\n    @JsonFormat(pattern = &quot;dd-MM-yyyy&quot;)\n    private Date fechaCreacion;\n\n    private String enfermedad;\n\n    private String descripcion;\n\n    private String medicacion;\n    \n    private String droga;\n    \n    private String dósis;\n    \n    private Double peso;\n    \n    private Double altura;\n\n    @Column(nullable = false)\n    private String indicaciones;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;paciente_id&quot;, nullable = false)\n    private Paciente paciente;\n\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL)\n    private List&lt;ArchivoHistoriaClinica&gt; archivosHistoriaClinica;\n\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Actualizacion&gt; actualizaciones = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;ArchivoHistoriaClinica&gt; archivos = new ArrayList&lt;&gt;();\n//respective constructors\n</code></pre>\n<pre><code>@Getter @Setter\npublic class Paciente {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    \n    private Long id;\n    \n    @Column(nullable = false)\n    @NotNull\n    private String nombre;\n    \n    @Column(nullable = false)\n    @NotNull\n    private String apellido;\n    \n    @Column(nullable = false, unique = true)\n    @NotNull\n    private String dni;\n    \n    @Column(name = &quot;fecha_nacimiento&quot;)\n    @NotNull\n    private LocalDate fechaNacimiento;\n    \n    private String direccion;\n    \n    private String telefono;\n    \n    private String email;\n    \n    @Column(nullable = false)\n    private String role = &quot;ROLE_PACIENTE&quot;; // anotación de rol\n\n    \n    @OneToMany(mappedBy = &quot;paciente&quot;, cascade = CascadeType.ALL)\n    private List&lt;HistoriaClinica&gt; historiasClinicas;\n\n    public Paciente() {\n    }\n</code></pre>\n<p>The HistoriaClinicaService method that i'm calling:</p>\n<pre><code> public HistoriaClinica save(HistoriaClinicaDTO hcDTO, Long idPaciente) {\n        Paciente paciente = pacienteRepository.findById(idPaciente)\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Paciente no encontrado con id &quot; + idPaciente));\n\n        HistoriaClinica hc = historiaClinicaMapper.toEntity(hcDTO);\n        hc.setPaciente(paciente);\n\n        List&lt;Actualizacion&gt; actualizaciones = hcDTO.getActualizaciones().stream()\n                .map(actualizacionMapper::toEntity)\n                .collect(Collectors.toList());\n        hc.setActualizaciones(actualizaciones);\n\n        List&lt;ArchivoHistoriaClinica&gt; archivos = hcDTO.getArchivos().stream()\n                .map(archivoHistoriaClinicaMapper::toEntity)\n                .collect(Collectors.toList());\n        hc.setArchivos(archivos);\n        actualizaciones.forEach(actualizacion -&gt; actualizacion.setHistoriaClinica(hc));\n        archivos.forEach(archivo -&gt; archivo.setHistoriaClinica(hc));\n\n        entityManager.persist(hc);\n        return hc;\n    }\n</code></pre>\n<p>And the endpoint:</p>\n<pre><code>@PostMapping(&quot;/nuevas/{idPaciente}&quot;)\npublic ResponseEntity&lt;HistoriaClinicaDTO&gt; createHistoriaClinica(@RequestBody HistoriaClinicaDTO historiaClinicaDTO, @PathVariable(&quot;idPaciente&quot;) Long pacienteId) {\n    // Verificar si el paciente existe\n    Optional&lt;Paciente&gt; pacienteOptional = pacienteService.buscarPorId(pacienteId);\n    if (!pacienteOptional.isPresent()) {\n        throw new RuntimeException(&quot;No se encontró un paciente con el ID proporcionado.&quot;);\n    }\n\n    HistoriaClinica nuevaHistoriaClinica = historiaClinicaService.save(historiaClinicaDTO, pacienteId);\n\n    HistoriaClinicaDTO newHistoriaClinicaDTO = historiaClinicaMapper.toDto(nuevaHistoriaClinica);\n\n    return ResponseEntity.ok(newHistoriaClinicaDTO);\n}\n</code></pre>\n<p>I have tried debugging the code and inspecting the values at each step, but I haven't been able to identify the root cause of the NullPointerException. I would greatly appreciate any insights or suggestions on how to troubleshoot and resolve this issue.</p>\n<p>Thank you in advance for your help!</p>\n<p>Here's what I have checked so far:</p>\n<ul>\n<li>The &quot;Paciente&quot; entity has a generated &quot;id&quot; field, and it is assigned automatically when saving a new instance.</li>\n<li>The &quot;HistoriaClinica&quot; entity has a Many-to-One relationship with &quot;Paciente&quot;, and the association is properly defined with the &quot;paciente_id&quot; foreign key.</li>\n<li>When retrieving the &quot;Paciente&quot; from the repository, it is successfully found and returned.</li>\n<li>I have verified that the &quot;Paciente&quot; object has a valid ID before setting it in the &quot;HistoriaClinica&quot; entity.</li>\n<li>I have checked the database, and the associated &quot;Paciente&quot; record exists with a valid ID.</li>\n<li>Despite these checks, I still encounter the &quot;NullPointerException&quot; with the message stating that &quot;pacienteId must not be null&quot; when trying to persist the &quot;HistoriaClinica&quot; entity.</li>\n</ul>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1683848503,"post_id":76232230,"comment_id":134433462,"body_markdown":"The documentation you are referencing is for Log4j 2.x, but you are using Log4j 1.x.","body":"The documentation you are referencing is for Log4j 2.x, but you are using Log4j 1.x."}],"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683848608,"creation_date":1683847874,"question_id":76232230,"body_markdown":"I am setting up log4j config to print the process id from java code\r\n\r\n    log4j.appender.default.file.layout.ConversionPattern=%d pid:[%pid] %-5p %c{-2} %x - %m%n\r\n\r\nI attempting to use pid:[%pid] for the purpose. But, when I deployed this in our unix server,\r\nI get the output like this -&gt; pid:[INFOid] and not process id.\r\n\r\nI did refer [here][1]. it seems %pid is the way to go, but it doesnt seem to work. What am i doing wrong?\r\n\r\na sample full output log line looks like below\r\n\r\n    2023-05-12 09:17:18,513 pid:[INFOid] INFO  com.test.my.class  - Attempting publish ...\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout","title":"Log4J print process id and thread id in java and unix","body":"<p>I am setting up log4j config to print the process id from java code</p>\n<pre><code>log4j.appender.default.file.layout.ConversionPattern=%d pid:[%pid] %-5p %c{-2} %x - %m%n\n</code></pre>\n<p>I attempting to use pid:[%pid] for the purpose. But, when I deployed this in our unix server,\nI get the output like this -&gt; pid:[INFOid] and not process id.</p>\n<p>I did refer <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">here</a>. it seems %pid is the way to go, but it doesnt seem to work. What am i doing wrong?</p>\n<p>a sample full output log line looks like below</p>\n<pre><code>2023-05-12 09:17:18,513 pid:[INFOid] INFO  com.test.my.class  - Attempting publish ...\n</code></pre>\n"},{"tags":["java","visual-studio","nginx","zlib"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1683848289,"post_id":72406423,"comment_id":134433440,"body_markdown":"How is this question related to [tag:java]?","body":"How is this question related to <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>?"}],"answers":[{"tags":[],"owner":{"account_id":26605117,"reputation":1,"user_id":20226108,"display_name":"Polar Bear"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683848226,"creation_date":1683848226,"answer_id":76232250,"question_id":72406423,"body_markdown":"I moved zconf.h from \\nginx\\objs\\lib\\zlib-1.2.13\\out\\build\\x64-Debug\r\nto \\nginx\\objs\\lib\\zlib-1.2.13. After that it build correctly for me and nginx.exe can be found in \\nginx\\objs\\. Let me know if there are any other issues.","title":"building Nginx on windows throwing &#39;zconf.h&#39; not found","body":"<p>I moved zconf.h from \\nginx\\objs\\lib\\zlib-1.2.13\\out\\build\\x64-Debug\nto \\nginx\\objs\\lib\\zlib-1.2.13. After that it build correctly for me and nginx.exe can be found in \\nginx\\objs. Let me know if there are any other issues.</p>\n"}],"owner":{"account_id":24110624,"reputation":131,"user_id":18081268,"display_name":"Katja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683848226,"creation_date":1653659265,"question_id":72406423,"body_markdown":"I am trying to build the nginx on Windows by following [this tutorial][1]\r\neverything works fine but when I enter **nmake/f objs\\MakeFile** command it throws following error\r\n\r\n\\nginx\\objs\\lib\\zlib-1.2.12\\zlib.h(34): fatal error C1083: Cannot open include file: &#39;zconf.h&#39;: No such file or directory\r\nNMAKE : fatal error U1077: &#39;&quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.29.30133\\bin\\HostX64\\x64\\cl.EXE&quot;&#39; : return code &#39;0x2&#39;\r\nStop. \r\n  but if I search for file &#39;zconf.h&#39; in zlib folder. I can see it.\r\nI am using Visual Studio 2019 and zlib 1.2.12\r\nCan someone please guide me is it the issue of some dependency?\r\nHow can I fix it?\r\nthanks in advance\r\n  [1]: https://www.youtube.com/watch?v=M-cj-p4rZtU","title":"building Nginx on windows throwing &#39;zconf.h&#39; not found","body":"<p>I am trying to build the nginx on Windows by following [this tutorial][1]\neverything works fine but when I enter <strong>nmake/f objs\\MakeFile</strong> command it throws following error</p>\n<p>\\nginx\\objs\\lib\\zlib-1.2.12\\zlib.h(34): fatal error C1083: Cannot open include file: 'zconf.h': No such file or directory\nNMAKE : fatal error U1077: '&quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.29.30133\\bin\\HostX64\\x64\\cl.EXE&quot;' : return code '0x2'\nStop.\nbut if I search for file 'zconf.h' in zlib folder. I can see it.\nI am using Visual Studio 2019 and zlib 1.2.12\nCan someone please guide me is it the issue of some dependency?\nHow can I fix it?\nthanks in advance\n[1]: <a href=\"https://www.youtube.com/watch?v=M-cj-p4rZtU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=M-cj-p4rZtU</a></p>\n"},{"tags":["java","maven","dependencies","apache-httpcomponents"],"comments":[{"owner":{"account_id":1083825,"reputation":1223,"user_id":1080041,"display_name":"Hong"},"score":2,"creation_date":1518144233,"post_id":13635388,"comment_id":84394668,"body_markdown":"`$ mvn dependency:tree  -Dverbose -Dincludes=httpcore`, which will show all versions of `httpcore` in the dependency tree including those omitted. It will tell you where/why you get the version &quot;4.1.4&quot;","body":"<code>$ mvn dependency:tree  -Dverbose -Dincludes=httpcore</code>, which will show all versions of <code>httpcore</code> in the dependency tree including those omitted. It will tell you where/why you get the version &quot;4.1.4&quot;"}],"answers":[{"comments":[{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1354226274,"post_id":13635415,"comment_id":18704266,"body_markdown":"i see there is a conflict. how can i override the version to get the latest one or can i have a side by side ?","body":"i see there is a conflict. how can i override the version to get the latest one or can i have a side by side ?"},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":0,"creation_date":1354226688,"post_id":13635415,"comment_id":18704423,"body_markdown":"In my experience, having them side by side does not work that good, since it often ends up trying to call the wrong one. But which dependency depends on the version you don&#39;t want?","body":"In my experience, having them side by side does not work that good, since it often ends up trying to call the wrong one. But which dependency depends on the version you don&#39;t want?"},{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":1,"creation_date":1354226971,"post_id":13635415,"comment_id":18704523,"body_markdown":"i want httpcore.4.2 not httpcore.4.1.*. i added dependencyManagement tag.would that work? please see my edit.","body":"i want httpcore.4.2 not httpcore.4.1.*. i added dependencyManagement tag.would that work? please see my edit."},{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1354227427,"post_id":13635415,"comment_id":18704728,"body_markdown":"i look at it within eclipse. and i see the conflict.","body":"i look at it within eclipse. and i see the conflict."},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":0,"creation_date":1354227478,"post_id":13635415,"comment_id":18704749,"body_markdown":"Good for you. I can&#39;t see it, so hard to offer any real help.","body":"Good for you. I can&#39;t see it, so hard to offer any real help."},{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1354227632,"post_id":13635415,"comment_id":18704806,"body_markdown":"another project that i have is depending on httpcore.4.1.4","body":"another project that i have is depending on httpcore.4.1.4"},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":0,"creation_date":1354227945,"post_id":13635415,"comment_id":18704938,"body_markdown":"If its an eclipse problem only (it is not part of the maven project in question), then you should just remove it from the eclipse java build path (Project -&gt; properties)","body":"If its an eclipse problem only (it is not part of the maven project in question), then you should just remove it from the eclipse java build path (Project -&gt; properties)"},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":0,"creation_date":1354227951,"post_id":13635415,"comment_id":18704941,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/20355/discussion-between-tobb-and-darthvader)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/20355/discussion-between-tobb-and-darthvader\">continue this discussion in chat</a>"},{"owner":{"account_id":344159,"reputation":2932,"user_id":676319,"accept_rate":55,"display_name":"liam xu"},"score":0,"creation_date":1552448638,"post_id":13635415,"comment_id":97008992,"body_markdown":"Even Any dependency version added explicitly in your pom will override the version of any transitive dependency of the same groupId/artifactId.,Does it mean there is no need to explicitly exclude the transitive jar?","body":"Even Any dependency version added explicitly in your pom will override the version of any transitive dependency of the same groupId/artifactId.,Does it mean there is no need to explicitly exclude the transitive jar?"},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":0,"creation_date":1552475311,"post_id":13635415,"comment_id":97020912,"body_markdown":"If you have defined a dependency with a specific version in your pom, then there is no need to exclude this dependency from being pulled transitively. One small exception is dependencies that contain the same classes (same package), but have a different groupId/artifactId.","body":"If you have defined a dependency with a specific version in your pom, then there is no need to exclude this dependency from being pulled transitively. One small exception is dependencies that contain the same classes (same package), but have a different groupId/artifactId."}],"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"comment_count":10,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1414595092,"creation_date":1354225930,"answer_id":13635415,"question_id":13635388,"body_markdown":"You might have a transitive dependency, one your other dependencies depend on the version you don&#39;t want.\r\n\r\nTo get an overview of all dependencies, direct and transitive, try:\r\n\r\n&gt;mvn dependency:tree\r\n\r\nIf you find a crash between different versions of the same dependency, the first thing you should do is figure out whether the crash is critical (do you need both?) If not, upgrade so that the lowest dependency version will become equal to the highest. If it is a transitive dependency consider upgrading the version of this.\r\n\r\nIf you just want to lock on to a specific version of the dependency, you have some choices:\r\n\r\nExclude the transitive dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.something&lt;/groupId&gt;\r\n      &lt;artifactId&gt;something&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.somethingElse&lt;/groupId&gt;\r\n          &lt;artifactId&gt;somethingElse&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nInclude a specific version:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.somethingElse&lt;/groupId&gt;\r\n      &lt;artifactId&gt;somethingElse&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAny dependency version added explicitly in your pom will override the version of any transitive dependency of the same groupId/artifactId.\r\n\r\nAlthough being a bit of a puzzle, you should try to get compatible versions of your dependencies, that being version with the same version transitive dependencies.\r\n   \r\n        ","title":"maven dependency pulling a wrong dependency","body":"<p>You might have a transitive dependency, one your other dependencies depend on the version you don't want.</p>\n\n<p>To get an overview of all dependencies, direct and transitive, try:</p>\n\n<blockquote>\n  <p>mvn dependency:tree</p>\n</blockquote>\n\n<p>If you find a crash between different versions of the same dependency, the first thing you should do is figure out whether the crash is critical (do you need both?) If not, upgrade so that the lowest dependency version will become equal to the highest. If it is a transitive dependency consider upgrading the version of this.</p>\n\n<p>If you just want to lock on to a specific version of the dependency, you have some choices:</p>\n\n<p>Exclude the transitive dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.something&lt;/groupId&gt;\n  &lt;artifactId&gt;something&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.somethingElse&lt;/groupId&gt;\n      &lt;artifactId&gt;somethingElse&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Include a specific version:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.somethingElse&lt;/groupId&gt;\n  &lt;artifactId&gt;somethingElse&lt;/artifactId&gt;\n  &lt;version&gt;2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Any dependency version added explicitly in your pom will override the version of any transitive dependency of the same groupId/artifactId.</p>\n\n<p>Although being a bit of a puzzle, you should try to get compatible versions of your dependencies, that being version with the same version transitive dependencies.</p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19935,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":13635415,"answer_count":1,"score":11,"last_activity_date":1683847139,"creation_date":1354225813,"question_id":13635388,"body_markdown":"The dependency bellow pulls another dependency: `httpcore.4.1.4`.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n  &lt;version&gt;4.2&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nDoing so will throws `ClassDefNotFound`, during deployment.\r\n&lt;br/&gt;\r\nUsing `httpcore.4.2` though, everything works.\r\n\r\nI even added both dependencies directly into my pom:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n  &lt;version&gt;4.2&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\t\t\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n  &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n  &lt;version&gt;4.2&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis doesn&#39;t change anything and I&#39;m still facing the same issue: maven downgrades `httpcore.4.2` to `httpcore.4.1.2`.\r\n\r\nThe `dependencyManagement` looks like this:\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n      &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n      &lt;version&gt;4.2&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```","title":"maven dependency pulling a wrong dependency","body":"<p>The dependency bellow pulls another dependency: <code>httpcore.4.1.4</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n  &lt;version&gt;4.2&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Doing so will throws <code>ClassDefNotFound</code>, during deployment.\n<br/>\nUsing <code>httpcore.4.2</code> though, everything works.</p>\n<p>I even added both dependencies directly into my pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n  &lt;version&gt;4.2&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n  &lt;version&gt;4.2&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This doesn't change anything and I'm still facing the same issue: maven downgrades <code>httpcore.4.2</code> to <code>httpcore.4.1.2</code>.</p>\n<p>The <code>dependencyManagement</code> looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n      &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n      &lt;version&gt;4.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","webview","fullscreen"],"answers":[{"tags":[],"owner":{"account_id":16550278,"reputation":41,"user_id":11958786,"display_name":"Jake Muller"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683846828,"creation_date":1566506993,"answer_id":57616870,"question_id":57597866,"body_markdown":"Just had to clear the focus on the web view\r\n```java\r\npublic void onHideCustomView()\r\n{\r\n    ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\r\n    this.mCustomView = null;\r\n    getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\r\n    setRequestedOrientation(this.mOriginalOrientation);\r\n    this.mCustomViewCallback.onCustomViewHidden();\r\n    this.mCustomViewCallback = null;\r\n    myWebView.clearFocus();\r\n}\r\n```","title":"Android soft-keyboard will not display after enabling youtube video to return from full screen","body":"<p>Just had to clear the focus on the web view</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onHideCustomView()\n{\n    ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\n    this.mCustomView = null;\n    getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\n    setRequestedOrientation(this.mOriginalOrientation);\n    this.mCustomViewCallback.onCustomViewHidden();\n    this.mCustomViewCallback = null;\n    myWebView.clearFocus();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13711043,"reputation":179,"user_id":9893403,"display_name":"Akshay Masram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585391677,"creation_date":1585391677,"answer_id":60899998,"question_id":57597866,"body_markdown":"Just clear the focus of webview it worked.\r\n\r\n     public void onHideCustomView()\r\n        {\r\n\r\n            ((FrameLayout)MainUI.this.getWindow().getDecorView()).removeView(this.mCustomView);\r\n            this.mCustomView = null;\r\n            MainUI.this.getWindow().getDecorView()\r\n                    .setSystemUiVisibility(this.mOriginalSystemUiVisibility);\r\n            MainUI.this.setRequestedOrientation(this.mOriginalOrientation);\r\n            this.mCustomViewCallback.onCustomViewHidden();\r\n            this.mCustomViewCallback = null;\r\n\r\n            ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\r\n            webView.clearFocus();\r\n      }","title":"Android soft-keyboard will not display after enabling youtube video to return from full screen","body":"<p>Just clear the focus of webview it worked.</p>\n\n<pre><code> public void onHideCustomView()\n    {\n\n        ((FrameLayout)MainUI.this.getWindow().getDecorView()).removeView(this.mCustomView);\n        this.mCustomView = null;\n        MainUI.this.getWindow().getDecorView()\n                .setSystemUiVisibility(this.mOriginalSystemUiVisibility);\n        MainUI.this.setRequestedOrientation(this.mOriginalOrientation);\n        this.mCustomViewCallback.onCustomViewHidden();\n        this.mCustomViewCallback = null;\n\n        ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\n        webView.clearFocus();\n  }\n</code></pre>\n"}],"owner":{"account_id":16550278,"reputation":41,"user_id":11958786,"display_name":"Jake Muller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683846828,"creation_date":1566414544,"question_id":57597866,"body_markdown":"My app makes heavy use of youtube videos to answer questions about products and installs of these products. Just for context, I am a full stack web developer and have only a month of java/android studio development under my belt. The app in written in only javascript and css and i use the android webview to display it as an app. Currently, I have a web chrome client that hides the full youtube video and also display the full screen youtube video. Once one video is full screen and then back to normal view, if i tap on a input field the key board does not display and i get the message in the debugger.  \r\n\r\n&quot;I/AssistStructure: Flattened final assist data: 1928 bytes, containing 1 windows, 5 views&quot;\r\n\r\nThinking it is from the web chrome client hiding the custom view.  \r\n\r\n\r\n\r\nthinking that the answer is to check if the view is the keyboard, and not execute the \r\nonHideCustomView(); but i am not exactly sure this is the case or if i am just doing something stupid. \r\n\r\nbelow is the code of most of the app or enough for context.  \r\n\r\nThank you guys for taking the time to help me out. \r\n\r\nAlso any pointers if i can improve this process would be appreciated as well. \r\n\r\nThank You :)\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getSupportActionBar().hide();\r\n        myWebView = new WebView(this);\r\n        setContentView(myWebView);\r\n        myWebView.setWebChromeClient(new MyChrome());\r\n        myWebView.setWebViewClient(new WebViewClient());\r\n        myWebView.loadUrl(&quot;url&quot;);\r\n\r\n        WebSettings webSettings = myWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        myWebView.requestFocus(View.FOCUS_DOWN);\r\n   \r\n\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    public boolean onKeyDown (int keyCode, KeyEvent event) {\r\n        if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n            String webUrl = myWebView.getUrl();\r\n            if (webUrl.indexOf(&quot;directory/url&quot;) &lt; 0){\r\n\r\n                    myWebView.loadUrl(&quot;url&quot;);\r\n\r\n\r\n                return true;\r\n            }else {\r\n                myWebView.loadUrl(&quot;javascript:android();&quot;);\r\n                return true;\r\n            }\r\n\r\n        }\r\n        return super.onKeyDown(keyCode, event);\r\n\r\n    }\r\n\r\n\r\n    private class MyChrome extends WebChromeClient {\r\n\r\n        private View mCustomView;\r\n        private WebChromeClient.CustomViewCallback mCustomViewCallback;\r\n        protected FrameLayout mFullscreenContainer;\r\n        private int mOriginalOrientation;\r\n        private int mOriginalSystemUiVisibility;\r\n\r\n        MyChrome() {}\r\n\r\n\r\n\r\n        public void onHideCustomView()\r\n        {\r\n            ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\r\n            this.mCustomView = null;\r\n            getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\r\n            setRequestedOrientation(this.mOriginalOrientation);\r\n            this.mCustomViewCallback.onCustomViewHidden();\r\n            this.mCustomViewCallback = null;\r\n        }\r\n\r\n        public void onShowCustomView(View paramView, WebChromeClient.CustomViewCallback paramCustomViewCallback)\r\n        {\r\n            if (this.mCustomView != null)\r\n            {\r\n                onHideCustomView();\r\n                return;\r\n            }\r\n            this.mCustomView = paramView;\r\n            this.mOriginalSystemUiVisibility = getWindow().getDecorView().getSystemUiVisibility();\r\n            this.mOriginalOrientation = getRequestedOrientation();\r\n            this.mCustomViewCallback = paramCustomViewCallback;\r\n            ((FrameLayout)getWindow().getDecorView()).addView(this.mCustomView, new FrameLayout.LayoutParams(-1, -1));\r\n            getWindow().getDecorView().setSystemUiVisibility(3846);\r\n        }\r\n    }\r\n\r\n   \r\n\r\n","title":"Android soft-keyboard will not display after enabling youtube video to return from full screen","body":"<p>My app makes heavy use of youtube videos to answer questions about products and installs of these products. Just for context, I am a full stack web developer and have only a month of java/android studio development under my belt. The app in written in only javascript and css and i use the android webview to display it as an app. Currently, I have a web chrome client that hides the full youtube video and also display the full screen youtube video. Once one video is full screen and then back to normal view, if i tap on a input field the key board does not display and i get the message in the debugger.  </p>\n\n<p>\"I/AssistStructure: Flattened final assist data: 1928 bytes, containing 1 windows, 5 views\"</p>\n\n<p>Thinking it is from the web chrome client hiding the custom view.  </p>\n\n<p>thinking that the answer is to check if the view is the keyboard, and not execute the \nonHideCustomView(); but i am not exactly sure this is the case or if i am just doing something stupid. </p>\n\n<p>below is the code of most of the app or enough for context.  </p>\n\n<p>Thank you guys for taking the time to help me out. </p>\n\n<p>Also any pointers if i can improve this process would be appreciated as well. </p>\n\n<p>Thank You :)</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getSupportActionBar().hide();\n    myWebView = new WebView(this);\n    setContentView(myWebView);\n    myWebView.setWebChromeClient(new MyChrome());\n    myWebView.setWebViewClient(new WebViewClient());\n    myWebView.loadUrl(\"url\");\n\n    WebSettings webSettings = myWebView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    myWebView.requestFocus(View.FOCUS_DOWN);\n\n\n}\n\n@RequiresApi(api = Build.VERSION_CODES.KITKAT)\npublic boolean onKeyDown (int keyCode, KeyEvent event) {\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\n        String webUrl = myWebView.getUrl();\n        if (webUrl.indexOf(\"directory/url\") &lt; 0){\n\n                myWebView.loadUrl(\"url\");\n\n\n            return true;\n        }else {\n            myWebView.loadUrl(\"javascript:android();\");\n            return true;\n        }\n\n    }\n    return super.onKeyDown(keyCode, event);\n\n}\n\n\nprivate class MyChrome extends WebChromeClient {\n\n    private View mCustomView;\n    private WebChromeClient.CustomViewCallback mCustomViewCallback;\n    protected FrameLayout mFullscreenContainer;\n    private int mOriginalOrientation;\n    private int mOriginalSystemUiVisibility;\n\n    MyChrome() {}\n\n\n\n    public void onHideCustomView()\n    {\n        ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\n        this.mCustomView = null;\n        getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\n        setRequestedOrientation(this.mOriginalOrientation);\n        this.mCustomViewCallback.onCustomViewHidden();\n        this.mCustomViewCallback = null;\n    }\n\n    public void onShowCustomView(View paramView, WebChromeClient.CustomViewCallback paramCustomViewCallback)\n    {\n        if (this.mCustomView != null)\n        {\n            onHideCustomView();\n            return;\n        }\n        this.mCustomView = paramView;\n        this.mOriginalSystemUiVisibility = getWindow().getDecorView().getSystemUiVisibility();\n        this.mOriginalOrientation = getRequestedOrientation();\n        this.mCustomViewCallback = paramCustomViewCallback;\n        ((FrameLayout)getWindow().getDecorView()).addView(this.mCustomView, new FrameLayout.LayoutParams(-1, -1));\n        getWindow().getDecorView().setSystemUiVisibility(3846);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","comments"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":4,"creation_date":1398662608,"post_id":23333031,"comment_id":35728971,"body_markdown":"Why would you want to remove comments?","body":"Why would you want to remove comments?"},{"owner":{"account_id":3948755,"reputation":2180,"user_id":3260147,"accept_rate":50,"display_name":"Niraj Patel"},"score":0,"creation_date":1398662745,"post_id":23333031,"comment_id":35729014,"body_markdown":"Possible Duplicate of : http://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments","body":"Possible Duplicate of : <a href=\"http://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments\" title=\"tool to remove javadoc comments\">stackoverflow.com/questions/9078528/&hellip;</a>"},{"owner":{"account_id":186168,"reputation":1411,"user_id":423351,"display_name":"Jonathan Hult"},"score":0,"creation_date":1486504201,"post_id":23333031,"comment_id":71371513,"body_markdown":"Possible duplicate of [Tool to remove JavaDoc comments?](http://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments\">Tool to remove JavaDoc comments?</a>"}],"answers":[{"comments":[{"owner":{"account_id":2006457,"reputation":1587,"user_id":1796218,"accept_rate":71,"display_name":"JB2"},"score":0,"creation_date":1421153019,"post_id":23334050,"comment_id":44241870,"body_markdown":"Should modify if (prev == &#39;/&#39; &amp;&amp; cur == &#39;*&#39;) to if ((prev == &#39;/&#39; &amp;&amp; cur == &#39;*&#39;) || prev == &#39;*&#39; &amp;&amp; cur == &#39;*&#39;) to support comments in the form of /**","body":"Should modify if (prev == &#39;/&#39; &amp;&amp; cur == &#39;<i>&#39;) to if ((prev == &#39;/&#39; &amp;&amp; cur == &#39;</i>&#39;) || prev == &#39;<i>&#39; &amp;&amp; cur == &#39;</i>&#39;) to support comments in the form of /**"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1455132282,"post_id":23334050,"comment_id":58357023,"body_markdown":"You still got a bug in there. If a comment read something like `/*// Hi */` it will not be removed properly","body":"You still got a bug in there. If a comment read something like <code>&#47;*&#47;&#47; Hi *&#47;</code> it will not be removed properly"},{"owner":{"account_id":2527746,"reputation":827,"user_id":2196751,"display_name":"Andrew Vitkus"},"score":0,"creation_date":1457171901,"post_id":23334050,"comment_id":59293451,"body_markdown":"@BullyWiiPlaza Why do you say that? Block comments have precedent over line comments in the code so it will still end the comment at the */.","body":"@BullyWiiPlaza Why do you say that? Block comments have precedent over line comments in the code so it will still end the comment at the */."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1457185013,"post_id":23334050,"comment_id":59297371,"body_markdown":"@AndrewVitkus\nI applied it to a big source code and it didn&#39;t work correctly for those cases apparently, that&#39;s all","body":"@AndrewVitkus I applied it to a big source code and it didn&#39;t work correctly for those cases apparently, that&#39;s all"},{"owner":{"account_id":3418441,"reputation":3194,"user_id":2866716,"accept_rate":0,"display_name":"arun-r"},"score":0,"creation_date":1484035763,"post_id":23334050,"comment_id":70332168,"body_markdown":"It doesn&#39;t work if comments are in this format /** */, I replaced all /** to /* in string before calling this proc","body":"It doesn&#39;t work if comments are in this format /** <i>/, I replaced all /*</i> to /* in string before calling this proc"}],"tags":[],"owner":{"account_id":2527746,"reputation":827,"user_id":2196751,"display_name":"Andrew Vitkus"},"comment_count":5,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1398666796,"creation_date":1398666796,"answer_id":23334050,"question_id":23333031,"body_markdown":"I had to write somehting to do this a few weeks ago. This should handle all comments, nested or otherwise. It is long, but I haven&#39;t seen a regex version that handled nested comments properly. I didn&#39;t have to preserve javadoc, but I presume you do, so I added some code that I belive should handle that. I also added code to support the \\r\\n and \\r line separators. The new code is marked as such.\r\n\r\n    public static String removeComments(String code) {\r\n        StringBuilder newCode = new StringBuilder();\r\n        try (StringReader sr = new StringReader(code)) {\r\n            boolean inBlockComment = false;\r\n            boolean inLineComment = false;\r\n            boolean out = true;\r\n\r\n            int prev = sr.read();\r\n            int cur;\r\n            for(cur = sr.read(); cur != -1; cur = sr.read()) {\r\n                if(inBlockComment) {\r\n                    if (prev == &#39;*&#39; &amp;&amp; cur == &#39;/&#39;) {\r\n                        inBlockComment = false;\r\n                        out = false;\r\n                    }\r\n                } else if (inLineComment) {\r\n                    if (cur == &#39;\\r&#39;) { // start untested block\r\n                        sr.mark(1);\r\n                        int next = sr.read();\r\n                        if (next != &#39;\\n&#39;) {\r\n                            sr.reset();\r\n                        }\r\n                        inLineComment = false;\r\n                        out = false; // end untested block\r\n                    } else if (cur == &#39;\\n&#39;) {\r\n                        inLineComment = false;\r\n                        out = false;\r\n                    }\r\n                } else {\r\n                    if (prev == &#39;/&#39; &amp;&amp; cur == &#39;*&#39;) {\r\n                        sr.mark(1); // start untested block\r\n                        int next = sr.read();\r\n                        if (next != &#39;*&#39;) {\r\n                            inBlockComment = true; // tested line (without rest of block)\r\n                        }\r\n                        sr.reset(); // end untested block\r\n                    } else if (prev == &#39;/&#39; &amp;&amp; cur == &#39;/&#39;) {\r\n                        inLineComment = true;\r\n                    } else if (out){\r\n                        newCode.append((char)prev);\r\n                    } else {\r\n                        out = true;\r\n                    }\r\n                }\r\n                prev = cur;\r\n            }\r\n            if (prev != -1 &amp;&amp; out &amp;&amp; !inLineComment) {\r\n                newCode.append((char)prev);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return newCode.toString();\r\n    }","title":"Removing all types of comments in java file","body":"<p>I had to write somehting to do this a few weeks ago. This should handle all comments, nested or otherwise. It is long, but I haven't seen a regex version that handled nested comments properly. I didn't have to preserve javadoc, but I presume you do, so I added some code that I belive should handle that. I also added code to support the \\r\\n and \\r line separators. The new code is marked as such.</p>\n\n<pre><code>public static String removeComments(String code) {\n    StringBuilder newCode = new StringBuilder();\n    try (StringReader sr = new StringReader(code)) {\n        boolean inBlockComment = false;\n        boolean inLineComment = false;\n        boolean out = true;\n\n        int prev = sr.read();\n        int cur;\n        for(cur = sr.read(); cur != -1; cur = sr.read()) {\n            if(inBlockComment) {\n                if (prev == '*' &amp;&amp; cur == '/') {\n                    inBlockComment = false;\n                    out = false;\n                }\n            } else if (inLineComment) {\n                if (cur == '\\r') { // start untested block\n                    sr.mark(1);\n                    int next = sr.read();\n                    if (next != '\\n') {\n                        sr.reset();\n                    }\n                    inLineComment = false;\n                    out = false; // end untested block\n                } else if (cur == '\\n') {\n                    inLineComment = false;\n                    out = false;\n                }\n            } else {\n                if (prev == '/' &amp;&amp; cur == '*') {\n                    sr.mark(1); // start untested block\n                    int next = sr.read();\n                    if (next != '*') {\n                        inBlockComment = true; // tested line (without rest of block)\n                    }\n                    sr.reset(); // end untested block\n                } else if (prev == '/' &amp;&amp; cur == '/') {\n                    inLineComment = true;\n                } else if (out){\n                    newCode.append((char)prev);\n                } else {\n                    out = true;\n                }\n            }\n            prev = cur;\n        }\n        if (prev != -1 &amp;&amp; out &amp;&amp; !inLineComment) {\n            newCode.append((char)prev);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return newCode.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":1,"creation_date":1398667921,"post_id":23334124,"comment_id":35731119,"body_markdown":"**BEWARE** : the script is far from complete and totally untested. As others said, it is certainly a **very bad** idea to remove all comments including copyright notices ...","body":"<b>BEWARE</b> : the script is far from complete and totally untested. As others said, it is certainly a <b>very bad</b> idea to remove all comments including copyright notices ..."}],"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398667086,"creation_date":1398667086,"answer_id":23334124,"question_id":23333031,"body_markdown":"Dealing with source code is hard unless you know more on the writing of comment.\r\nIn the more general case, you could have // or /* in text constants. So your **really** need to parse the file at a syntaxic level, not only lexical. IMHO the only bulletproof solution would be to start for example with the java parser from [openjdk](http://openjdk.java.net/).\r\n\r\nIf you know that your comments are never deeply mixed with the code (in my exemple comments **MUST** be full lines), a python script could help\r\n\r\n    multiple = False\r\n    for line in text:\r\n        stripped = line.strip()\r\n        if multiple:\r\n            if stripped.endswith(&#39;*/&#39;):\r\n                multiple = False\r\n                continue\r\n        elif stripped.startswith(&#39;/*&#39;):\r\n            multiple = True\r\n        elif stripped.startswith(&#39;//&#39;):\r\n            pass\r\n        else:\r\n            print(line)","title":"Removing all types of comments in java file","body":"<p>Dealing with source code is hard unless you know more on the writing of comment.\nIn the more general case, you could have // or /* in text constants. So your <strong>really</strong> need to parse the file at a syntaxic level, not only lexical. IMHO the only bulletproof solution would be to start for example with the java parser from <a href=\"http://openjdk.java.net/\" rel=\"nofollow\">openjdk</a>.</p>\n\n<p>If you know that your comments are never deeply mixed with the code (in my exemple comments <strong>MUST</strong> be full lines), a python script could help</p>\n\n<pre><code>multiple = False\nfor line in text:\n    stripped = line.strip()\n    if multiple:\n        if stripped.endswith('*/'):\n            multiple = False\n            continue\n    elif stripped.startswith('/*'):\n        multiple = True\n    elif stripped.startswith('//'):\n        pass\n    else:\n        print(line)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7213792,"reputation":1527,"user_id":5506988,"accept_rate":60,"display_name":"Mark"},"score":0,"creation_date":1492461578,"post_id":24911378,"comment_id":73974468,"body_markdown":"Works a charm and is quick!","body":"Works a charm and is quick!"},{"owner":{"account_id":23012,"reputation":2259,"user_id":57357,"accept_rate":74,"display_name":"Dan Tanner"},"score":0,"creation_date":1645541568,"post_id":24911378,"comment_id":125895301,"body_markdown":"This would replace `https://example.com` with `https:`","body":"This would replace <code>https:&#47;&#47;example.com</code> with <code>https:</code>"}],"tags":[],"owner":{"account_id":4474787,"reputation":7719,"user_id":3640161,"accept_rate":61,"display_name":"Tiago Lopo"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1466065899,"creation_date":1406120974,"answer_id":24911378,"question_id":23333031,"body_markdown":"This is an old post but this may help someone who enjoys working on command line like myself:\r\n\r\nThe `perl` one-liner below will remove all comments:\r\n\r\n    perl -0pe &#39;s|//.*?\\n|\\n|g; s#/\\*(.|\\n)*?\\*/##g;&#39; test.java\r\n\r\n\r\nExample:\r\n\r\n    cat test.java\r\n    this is a test\r\n    \r\n    /**\r\n    *This should be removed\r\n    *This should be removed\r\n    */\r\n    \r\n    this should not be removed\r\n    \r\n    //this should be removed\r\n    \r\n    this should not be removed\r\n    \r\n    this should not be removed //this should be removed\r\n\r\nOutput:\r\n\r\n\r\n    perl -0pe &#39;s#/\\*\\*(.|\\n)*?\\*/##g; s|//.*?\\n|\\n|g&#39; test.java\r\n    this is a test\r\n    \r\n    \r\n    \r\n    this should not be removed\r\n    \r\n    \r\n    \r\n    this should not be removed\r\n    \r\n    this should not be removed \r\n\r\nIf you want get rid of multiple blank lines as well:\r\n\r\n    perl -0pe &#39;s|//.*?\\n|\\n|g; s#/\\*(.|\\n)*?\\*/##g; s/\\n\\n+/\\n\\n/g&#39; test.java\r\n    this is a test\r\n    \r\n    this should not be removed\r\n    \r\n    this should not be removed\r\n    \r\n    this should not be removed \r\n\r\n**EDIT:** Corrected regex\r\n","title":"Removing all types of comments in java file","body":"<p>This is an old post but this may help someone who enjoys working on command line like myself:</p>\n\n<p>The <code>perl</code> one-liner below will remove all comments:</p>\n\n<pre><code>perl -0pe 's|//.*?\\n|\\n|g; s#/\\*(.|\\n)*?\\*/##g;' test.java\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>cat test.java\nthis is a test\n\n/**\n*This should be removed\n*This should be removed\n*/\n\nthis should not be removed\n\n//this should be removed\n\nthis should not be removed\n\nthis should not be removed //this should be removed\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>perl -0pe 's#/\\*\\*(.|\\n)*?\\*/##g; s|//.*?\\n|\\n|g' test.java\nthis is a test\n\n\n\nthis should not be removed\n\n\n\nthis should not be removed\n\nthis should not be removed \n</code></pre>\n\n<p>If you want get rid of multiple blank lines as well:</p>\n\n<pre><code>perl -0pe 's|//.*?\\n|\\n|g; s#/\\*(.|\\n)*?\\*/##g; s/\\n\\n+/\\n\\n/g' test.java\nthis is a test\n\nthis should not be removed\n\nthis should not be removed\n\nthis should not be removed \n</code></pre>\n\n<p><strong>EDIT:</strong> Corrected regex</p>\n"},{"tags":[],"owner":{"account_id":2680344,"reputation":151,"user_id":2315838,"display_name":"Auslay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410346630,"creation_date":1410346630,"answer_id":25763616,"question_id":23333031,"body_markdown":"If you are using Eclipse IDE, you could make regex do the work for you.\r\n\r\nOpen the search window (Ctrl+F), and check &#39;Regular Expression&#39;.\r\n\r\nProvide the expression as\r\n`/\\*\\*(?s:(?!\\*/).)*\\*/`\r\n\r\nPrasanth Bhate has explained it in &lt;https://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments&gt;","title":"Removing all types of comments in java file","body":"<p>If you are using Eclipse IDE, you could make regex do the work for you.</p>\n\n<p>Open the search window (Ctrl+F), and check 'Regular Expression'.</p>\n\n<p>Provide the expression as\n<code>/\\*\\*(?s:(?!\\*/).)*\\*/</code></p>\n\n<p>Prasanth Bhate has explained it in <a href=\"https://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments\">Tool to remove JavaDoc comments?</a></p>\n"},{"comments":[{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":1,"creation_date":1514339534,"post_id":28768637,"comment_id":82939858,"body_markdown":"I have tried this project. I noticed that once it removes a Java `//` comment, if the comment was for the whole line (maybe with some white spaces or tabs before it), it does not remove the line, which would have been nice.... I could not find an option for this. Also, it does not know to remove (XML/SQL) comments from XML/SQL files....","body":"I have tried this project. I noticed that once it removes a Java <code>&#47;&#47;</code> comment, if the comment was for the whole line (maybe with some white spaces or tabs before it), it does not remove the line, which would have been nice.... I could not find an option for this. Also, it does not know to remove (XML/SQL) comments from XML/SQL files...."}],"tags":[],"owner":{"account_id":1009150,"reputation":3208,"user_id":1022119,"accept_rate":71,"display_name":"MartinL"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425051000,"creation_date":1425051000,"answer_id":28768637,"question_id":23333031,"body_markdown":"you can try it with the java-comment-preprocessor:\r\n\r\n    java -jar ./jcp-6.0.0.jar --i:/sourceFolder --o:/resultFolder -ef:none --r\r\n\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/java-comment-preprocessor/#OMG!_It_allows_to_remove_all_your_comments!","title":"Removing all types of comments in java file","body":"<p>you can try it with the java-comment-preprocessor:</p>\n\n<pre><code>java -jar ./jcp-6.0.0.jar --i:/sourceFolder --o:/resultFolder -ef:none --r\n</code></pre>\n\n<p><a href=\"https://code.google.com/p/java-comment-preprocessor/#OMG!_It_allows_to_remove_all_your_comments!\" rel=\"nofollow\">source</a></p>\n"},{"tags":[],"owner":{"account_id":2538282,"reputation":5161,"user_id":2204772,"accept_rate":84,"display_name":"Ertuğrul &#199;etin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436517067,"creation_date":1436517067,"answer_id":31336016,"question_id":23333031,"body_markdown":"I made a open source [library][1] and uploaded to github, its called CommentRemover you can remove single line and multiple line Java Comments.\r\n\r\nIt supports remove or NOT remove TODO&#39;s.&lt;br&gt;\r\nAlso it supports JavaScript , HTML , CSS , Properties , JSP and XML Comments too.\r\n\r\n\r\nThere is a little code snippet how to use it (There is 2 type usage):\r\n\r\nFirst way InternalPath\r\n\r\n     public static void main(String[] args) throws CommentRemoverException {\r\n    \r\n     // root dir is: /Users/user/Projects/MyProject\r\n     // example for startInternalPath\r\n    \r\n     CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\r\n            .removeJava(true) // Remove Java file Comments....\r\n            .removeJavaScript(true) // Remove JavaScript file Comments....\r\n            .removeJSP(true) // etc.. goes like that\r\n            .removeTodos(false) //  Do Not Touch Todos (leave them alone)\r\n            .removeSingleLines(true) // Remove single line type comments\r\n            .removeMultiLines(true) // Remove multiple type comments\r\n            .startInternalPath(&quot;src.main.app&quot;) // Starts from {rootDir}/src/main/app , leave it empty string when you want to start from root dir\r\n            .setExcludePackages(new String[]{&quot;src.main.java.app.pattern&quot;}) // Refers to {rootDir}/src/main/java/app/pattern and skips this directory\r\n            .build();\r\n    \r\n     CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\r\n                      commentProcessor.start();        \r\n      }\r\n\r\n\r\nSecond way ExternalPath\r\n\r\n     public static void main(String[] args) throws CommentRemoverException {\r\n    \r\n     // example for externalInternalPath\r\n    \r\n     CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\r\n            .removeJava(true) // Remove Java file Comments....\r\n            .removeJavaScript(true) // Remove JavaScript file Comments....\r\n            .removeJSP(true) // etc..\r\n            .removeTodos(true) // Remove todos\r\n            .removeSingleLines(false) // Do not remove single line type comments\r\n            .removeMultiLines(true) // Remove multiple type comments\r\n            .startExternalPath(&quot;/Users/user/Projects/MyOtherProject&quot;)// Give it full path for external directories\r\n            .setExcludePackages(new String[]{&quot;src.main.java.model&quot;}) // Refers to /Users/user/Projects/MyOtherProject/src/main/java/model and skips this directory.\r\n            .build();\r\n    \r\n     CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\r\n                      commentProcessor.start();        \r\n      }\r\n\r\n  [1]: https://github.com/ertugrulcetin/CommentRemover","title":"Removing all types of comments in java file","body":"<p>I made a open source <a href=\"https://github.com/ertugrulcetin/CommentRemover\" rel=\"nofollow\">library</a> and uploaded to github, its called CommentRemover you can remove single line and multiple line Java Comments.</p>\n\n<p>It supports remove or NOT remove TODO's.<br>\nAlso it supports JavaScript , HTML , CSS , Properties , JSP and XML Comments too.</p>\n\n<p>There is a little code snippet how to use it (There is 2 type usage):</p>\n\n<p>First way InternalPath</p>\n\n<pre><code> public static void main(String[] args) throws CommentRemoverException {\n\n // root dir is: /Users/user/Projects/MyProject\n // example for startInternalPath\n\n CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\n        .removeJava(true) // Remove Java file Comments....\n        .removeJavaScript(true) // Remove JavaScript file Comments....\n        .removeJSP(true) // etc.. goes like that\n        .removeTodos(false) //  Do Not Touch Todos (leave them alone)\n        .removeSingleLines(true) // Remove single line type comments\n        .removeMultiLines(true) // Remove multiple type comments\n        .startInternalPath(\"src.main.app\") // Starts from {rootDir}/src/main/app , leave it empty string when you want to start from root dir\n        .setExcludePackages(new String[]{\"src.main.java.app.pattern\"}) // Refers to {rootDir}/src/main/java/app/pattern and skips this directory\n        .build();\n\n CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\n                  commentProcessor.start();        \n  }\n</code></pre>\n\n<p>Second way ExternalPath</p>\n\n<pre><code> public static void main(String[] args) throws CommentRemoverException {\n\n // example for externalInternalPath\n\n CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\n        .removeJava(true) // Remove Java file Comments....\n        .removeJavaScript(true) // Remove JavaScript file Comments....\n        .removeJSP(true) // etc..\n        .removeTodos(true) // Remove todos\n        .removeSingleLines(false) // Do not remove single line type comments\n        .removeMultiLines(true) // Remove multiple type comments\n        .startExternalPath(\"/Users/user/Projects/MyOtherProject\")// Give it full path for external directories\n        .setExcludePackages(new String[]{\"src.main.java.model\"}) // Refers to /Users/user/Projects/MyOtherProject/src/main/java/model and skips this directory.\n        .build();\n\n CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\n                  commentProcessor.start();        \n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7074805,"reputation":1890,"user_id":5415234,"display_name":"Bernhard Stadler"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1596466965,"creation_date":1444158699,"answer_id":32977808,"question_id":23333031,"body_markdown":"You can remove all single- or multi-line block comments (but not line comments with &lt;code&gt;//&lt;/code&gt;) by searching for the following regular expression in your project(s)/file(s) and replacing by &lt;code&gt;$1&lt;/code&gt;:\r\n\r\n&lt;code&gt;^([^&quot;\\r\\n]\\*?(?:(?&amp;lt;=&#39;)&quot;[^&quot;\\r\\n]\\*?|(?&amp;lt;!&#39;)&quot;[^&quot;\\r\\n]\\*?&quot;[^&quot;\\r\\n]\\*?)\\*?)(?&amp;lt;!/)/\\\\\\*[^\\\\\\*]*(?:\\\\\\*+[^/][^\\\\\\*]\\*)\\*?\\\\\\*+/&lt;/code&gt;\r\n\r\nIt&#39;s possible that you have to execute it more than once.\r\n\r\nThis regular expression avoids the following pitfalls:\r\n\r\n1. Code between two comments &lt;code&gt;/* Comment 1 \\*/ foo(); /* Comment 2 \\*/&lt;/code&gt;\r\n\r\n2. Line comments starting with an asterisk: &lt;code&gt;//\\*\\*\\*NOTE\\*\\*\\*&lt;/code&gt;\r\n\r\n3. Comment delimiters inside string literals: &lt;code&gt;stringbuilder.append(&quot;/\\*&quot;);&lt;/code&gt;; also if there is a double quote inside single quotes before the comment\r\n\r\n\r\n\r\nTo remove all single-line comments, search for the following regular expression in your project(s)/file(s) and replace by &lt;code&gt;$1&lt;/code&gt;:\r\n\r\n&lt;code&gt;^([^&quot;\\r\\n]\\*?(?:(?&amp;lt;=&#39;)&quot;[^&quot;\\r\\n]\\*?|(?&amp;lt;!&#39;)&quot;[^&quot;\\r\\n]\\*?&quot;[^&quot;\\r\\n]\\*?)*?)\\s\\*//[^\\r\\n]\\*&lt;/code&gt;\r\n\r\nThis regular expression also avoids comment delimiters inside double quotes, but does NOT check for multi-line comments, so &lt;code&gt;/\\* // \\*/&lt;/code&gt; will be incorrectly removed.\r\n","title":"Removing all types of comments in java file","body":"<p>You can remove all single- or multi-line block comments (but not line comments with <code>//</code>) by searching for the following regular expression in your project(s)/file(s) and replacing by <code>$1</code>:</p>\n<p><code>^([^&quot;\\r\\n]*?(?:(?&lt;=')&quot;[^&quot;\\r\\n]*?|(?&lt;!')&quot;[^&quot;\\r\\n]*?&quot;[^&quot;\\r\\n]*?)*?)(?&lt;!/)/\\*[^\\*]*(?:\\*+[^/][^\\*]*)*?\\*+/</code></p>\n<p>It's possible that you have to execute it more than once.</p>\n<p>This regular expression avoids the following pitfalls:</p>\n<ol>\n<li><p>Code between two comments <code>/* Comment 1 */ foo(); /* Comment 2 */</code></p>\n</li>\n<li><p>Line comments starting with an asterisk: <code>//***NOTE***</code></p>\n</li>\n<li><p>Comment delimiters inside string literals: <code>stringbuilder.append(&quot;/*&quot;);</code>; also if there is a double quote inside single quotes before the comment</p>\n</li>\n</ol>\n<p>To remove all single-line comments, search for the following regular expression in your project(s)/file(s) and replace by <code>$1</code>:</p>\n<p><code>^([^&quot;\\r\\n]*?(?:(?&lt;=')&quot;[^&quot;\\r\\n]*?|(?&lt;!')&quot;[^&quot;\\r\\n]*?&quot;[^&quot;\\r\\n]*?)*?)\\s*//[^\\r\\n]*</code></p>\n<p>This regular expression also avoids comment delimiters inside double quotes, but does NOT check for multi-line comments, so <code>/* // */</code> will be incorrectly removed.</p>\n"},{"tags":[],"owner":{"account_id":6163593,"reputation":443,"user_id":4804346,"accept_rate":50,"display_name":"Nabuska"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447354472,"creation_date":1447353887,"answer_id":33678949,"question_id":23333031,"body_markdown":"This is what I came up with yesterday. \r\nThis is actually homework I got from school so if anybody reads this and finds a bug before I turn it in, please leave a comment =) \r\n\r\nps. &#39;FilterState&#39; is a enum class\r\n\r\n    public static String deleteComments(String javaCode) {\r\n        FilterState state = FilterState.IN_CODE;\r\n\r\n        StringBuilder strB = new StringBuilder();\r\n\r\n        char prevC=&#39; &#39;;\r\n        for(int i = 0; i&lt;javaCode.length(); i++){\r\n            char c = javaCode.charAt(i);\r\n            switch(state){\r\n                case IN_CODE:\r\n                    if(c==&#39;/&#39;)\r\n                        state = FilterState.CAN_BE_COMMENT_START;\r\n                    else {\r\n                        if (c == &#39;&quot;&#39;)\r\n                            state = FilterState.INSIDE_STRING;\r\n                        strB.append(c);\r\n                    }\r\n                    break;\r\n                case CAN_BE_COMMENT_START:\r\n                    if(c==&#39;*&#39;){\r\n                        state = FilterState.IN_COMMENT_BLOCK;\r\n                    }\r\n                    else if(c==&#39;/&#39;){\r\n                        state = FilterState.ON_COMMENT_LINE;\r\n                    }\r\n                    else {\r\n                        state = FilterState.IN_CODE;\r\n                        strB.append(prevC+c);\r\n                    }\r\n                    break;\r\n                case ON_COMMENT_LINE:\r\n                    if(c==&#39;\\n&#39; || c==&#39;\\r&#39;) {\r\n                        state = FilterState.IN_CODE;\r\n                        strB.append(c);\r\n                    }\r\n                    break;\r\n                case IN_COMMENT_BLOCK:\r\n                    if(c==&#39;*&#39;)\r\n                        state=FilterState.CAN_BE_COMMENT_END;\r\n                    break;\r\n                case CAN_BE_COMMENT_END:\r\n                    if(c==&#39;/&#39;)\r\n                        state = FilterState.IN_CODE;\r\n                    else if(c!=&#39;*&#39;)\r\n                        state = FilterState.IN_COMMENT_BLOCK;\r\n                    break;\r\n                case INSIDE_STRING:\r\n                    if(c == &#39;&quot;&#39; &amp;&amp; prevC!=&#39;\\\\&#39;)\r\n                        state = FilterState.IN_CODE;\r\n                    strB.append(c);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;unknown case&quot;);\r\n                    return null;\r\n            }\r\n            prevC = c;\r\n        }\r\n        return strB.toString();\r\n    }","title":"Removing all types of comments in java file","body":"<p>This is what I came up with yesterday. \nThis is actually homework I got from school so if anybody reads this and finds a bug before I turn it in, please leave a comment =) </p>\n\n<p>ps. 'FilterState' is a enum class</p>\n\n<pre><code>public static String deleteComments(String javaCode) {\n    FilterState state = FilterState.IN_CODE;\n\n    StringBuilder strB = new StringBuilder();\n\n    char prevC=' ';\n    for(int i = 0; i&lt;javaCode.length(); i++){\n        char c = javaCode.charAt(i);\n        switch(state){\n            case IN_CODE:\n                if(c=='/')\n                    state = FilterState.CAN_BE_COMMENT_START;\n                else {\n                    if (c == '\"')\n                        state = FilterState.INSIDE_STRING;\n                    strB.append(c);\n                }\n                break;\n            case CAN_BE_COMMENT_START:\n                if(c=='*'){\n                    state = FilterState.IN_COMMENT_BLOCK;\n                }\n                else if(c=='/'){\n                    state = FilterState.ON_COMMENT_LINE;\n                }\n                else {\n                    state = FilterState.IN_CODE;\n                    strB.append(prevC+c);\n                }\n                break;\n            case ON_COMMENT_LINE:\n                if(c=='\\n' || c=='\\r') {\n                    state = FilterState.IN_CODE;\n                    strB.append(c);\n                }\n                break;\n            case IN_COMMENT_BLOCK:\n                if(c=='*')\n                    state=FilterState.CAN_BE_COMMENT_END;\n                break;\n            case CAN_BE_COMMENT_END:\n                if(c=='/')\n                    state = FilterState.IN_CODE;\n                else if(c!='*')\n                    state = FilterState.IN_COMMENT_BLOCK;\n                break;\n            case INSIDE_STRING:\n                if(c == '\"' &amp;&amp; prevC!='\\\\')\n                    state = FilterState.IN_CODE;\n                strB.append(c);\n                break;\n            default:\n                System.out.println(\"unknown case\");\n                return null;\n        }\n        prevC = c;\n    }\n    return strB.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10277774,"reputation":33,"user_id":7584047,"display_name":"Ankit Arora"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514969271,"creation_date":1514967561,"answer_id":48073605,"question_id":23333031,"body_markdown":"\r\npublic class TestForStrings {\r\n\r\n\t/**\r\n\t * The main method.\r\n\t *\r\n\t * @param args\r\n\t *            the arguments\r\n\t * @throws Exception\r\n\t *             the exception\r\n\t */\r\n\tpublic static void main(String args[]) throws Exception {\r\n\r\n\t\tString[] imports = new String[100];\r\n\t\tString fileName = &quot;Menu.java&quot;;\r\n\t\t// This will reference one API at a time\r\n\t\tString line = null;\r\n\t\ttry {\r\n\t\t\tFileReader fileReader = new FileReader(fileName);\r\n\t\t\t// Always wrap FileReader in BufferedReader.\r\n\t\t\tBufferedReader bufferedReader = new BufferedReader(fileReader);\r\n\t\t\tint startingOffset = 0;\r\n\r\n\t\t\t// This will reference one API at a time\r\n\r\n\t\t\tList&lt;String&gt; lines = Files.readAllLines(Paths.get(fileName),\r\n\t\t\t\t\tCharset.forName(&quot;ISO-8859-1&quot;));\r\n\r\n\t\t\t// remove single line comments\r\n\t\t\tfor (int count = 0; count &lt; lines.size(); count++) {\r\n\t\t\t\tString tempString = lines.get(count);\r\n\r\n\t\t\t\tlines.set(count, removeSingleLineComment(tempString));\r\n\r\n\t\t\t}\r\n\t\t\t// remove multiple lines comment\r\n\t\t\tfor (int count = 0; count &lt; lines.size(); count++) {\r\n\t\t\t\tString tempString = lines.get(count);\r\n\r\n\t\t\t\tremoveMultipleLineComment(tempString, count, lines);\r\n\t\t\t}\r\n\r\n\t\t\tfor (int count = 0; count &lt; lines.size(); count++) {\r\n\t\t\t\tSystem.out.println(lines.get(count));\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException ex) {\r\n\t\t\tSystem.out.println(&quot;Unable to open file &#39;&quot; + fileName + &quot;&#39;&quot;);\r\n\t\t} catch (IOException ex) {\r\n\t\t\tSystem.out.println(&quot;Error reading file &#39;&quot; + fileName + &quot;&#39;&quot;);\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Removes the multiple line comment.\r\n\t *\r\n\t * @param tempString\r\n\t *            the temp string\r\n\t * @param count\r\n\t *            the count\r\n\t * @param lines\r\n\t *            the lines\r\n\t * @return the string\r\n\t */\r\n\tprivate static List&lt;String&gt; removeMultipleLineComment(String tempString,\r\n\t\t\tint count, List&lt;String&gt; lines) {\r\n\t\ttry {\r\n\t\t\tif (tempString.contains(&quot;/**&quot;) || (tempString.contains(&quot;/*&quot;))) {\r\n\t\t\t\tint StartIndex = count;\r\n\t\t\t\twhile (!(lines.get(count).contains(&quot;*/&quot;) || lines.get(count)\r\n\t\t\t\t\t\t.contains(&quot;**/&quot;))) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t\tint endIndex = ++count;\r\n\t\t\t\tif (StartIndex != endIndex) {\r\n\t\t\t\t\twhile (StartIndex != endIndex) {\r\n\t\t\t\t\t\tlines.set(StartIndex, &quot;&quot;);\r\n\t\t\t\t\t\tStartIndex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// Do Nothing\r\n\t\t}\r\n\t\treturn lines;\r\n\t}\r\n\r\n\t/**\r\n\t * Remove single line comments .\r\n\t *\r\n\t * @param line\r\n\t *            the line\r\n\t * @return the string\r\n\t * @throws Exception\r\n\t *             the exception\r\n\t */\r\n\r\n\tprivate static String removeSingleLineComment(String line) throws Exception {\r\n\t\ttry {\r\n\t\t\tif (line.contains((&quot;//&quot;))) {\r\n\t\t\t\tint startIndex = line.indexOf(&quot;//&quot;);\r\n\t\t\t\tint endIndex = line.length();\r\n\t\t\t\tString tempoString = line.substring(startIndex, endIndex);\r\n\t\t\t\tline = line.replace(tempoString, &quot;&quot;);\r\n\t\t\t}\r\n\t\t\tif ((line.contains(&quot;/*&quot;) || line.contains(&quot;/**&quot;))\r\n\t\t\t\t\t&amp;&amp; (line.contains(&quot;**/&quot;) || line.contains(&quot;*/&quot;))) {\r\n\t\t\t\tint startIndex = line.indexOf(&quot;/**&quot;);\r\n\t\t\t\tint endIndex = line.length();\r\n\t\t\t\tString tempoString = line.substring(startIndex, endIndex);\r\n\r\n\t\t\t\tline = line.replace(tempoString, &quot;&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// Do Nothing\r\n\t\t}\r\n\t\treturn line;\r\n\t}\r\n}\r\n","title":"Removing all types of comments in java file","body":"<p>public class TestForStrings {</p>\n\n<pre><code>/**\n * The main method.\n *\n * @param args\n *            the arguments\n * @throws Exception\n *             the exception\n */\npublic static void main(String args[]) throws Exception {\n\n    String[] imports = new String[100];\n    String fileName = \"Menu.java\";\n    // This will reference one API at a time\n    String line = null;\n    try {\n        FileReader fileReader = new FileReader(fileName);\n        // Always wrap FileReader in BufferedReader.\n        BufferedReader bufferedReader = new BufferedReader(fileReader);\n        int startingOffset = 0;\n\n        // This will reference one API at a time\n\n        List&lt;String&gt; lines = Files.readAllLines(Paths.get(fileName),\n                Charset.forName(\"ISO-8859-1\"));\n\n        // remove single line comments\n        for (int count = 0; count &lt; lines.size(); count++) {\n            String tempString = lines.get(count);\n\n            lines.set(count, removeSingleLineComment(tempString));\n\n        }\n        // remove multiple lines comment\n        for (int count = 0; count &lt; lines.size(); count++) {\n            String tempString = lines.get(count);\n\n            removeMultipleLineComment(tempString, count, lines);\n        }\n\n        for (int count = 0; count &lt; lines.size(); count++) {\n            System.out.println(lines.get(count));\n        }\n    } catch (FileNotFoundException ex) {\n        System.out.println(\"Unable to open file '\" + fileName + \"'\");\n    } catch (IOException ex) {\n        System.out.println(\"Error reading file '\" + fileName + \"'\");\n    } catch (Exception e) {\n\n    }\n\n}\n\n/**\n * Removes the multiple line comment.\n *\n * @param tempString\n *            the temp string\n * @param count\n *            the count\n * @param lines\n *            the lines\n * @return the string\n */\nprivate static List&lt;String&gt; removeMultipleLineComment(String tempString,\n        int count, List&lt;String&gt; lines) {\n    try {\n        if (tempString.contains(\"/**\") || (tempString.contains(\"/*\"))) {\n            int StartIndex = count;\n            while (!(lines.get(count).contains(\"*/\") || lines.get(count)\n                    .contains(\"**/\"))) {\n                count++;\n            }\n            int endIndex = ++count;\n            if (StartIndex != endIndex) {\n                while (StartIndex != endIndex) {\n                    lines.set(StartIndex, \"\");\n                    StartIndex++;\n                }\n            }\n        }\n\n    } catch (Exception e) {\n        // Do Nothing\n    }\n    return lines;\n}\n\n/**\n * Remove single line comments .\n *\n * @param line\n *            the line\n * @return the string\n * @throws Exception\n *             the exception\n */\n\nprivate static String removeSingleLineComment(String line) throws Exception {\n    try {\n        if (line.contains((\"//\"))) {\n            int startIndex = line.indexOf(\"//\");\n            int endIndex = line.length();\n            String tempoString = line.substring(startIndex, endIndex);\n            line = line.replace(tempoString, \"\");\n        }\n        if ((line.contains(\"/*\") || line.contains(\"/**\"))\n                &amp;&amp; (line.contains(\"**/\") || line.contains(\"*/\"))) {\n            int startIndex = line.indexOf(\"/**\");\n            int endIndex = line.length();\n            String tempoString = line.substring(startIndex, endIndex);\n\n            line = line.replace(tempoString, \"\");\n\n        }\n\n    } catch (Exception e) {\n        // Do Nothing\n    }\n    return line;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":19186838,"reputation":11,"user_id":14017449,"display_name":"Kalju P&#228;rn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660737173,"creation_date":1660735117,"answer_id":73387548,"question_id":23333031,"body_markdown":"        private static int find(String s, String t, int start) {\r\n        int ret = s.indexOf(t, start);\r\n        return ret &lt; 0 ? Integer.MAX_VALUE : ret;\r\n    }\r\n    private static int findSkipEsc(String s, String t, int start) {\r\n        while(true) {\r\n            int ret = find(s, t, start);\r\n            if( ret == Integer.MAX_VALUE) return -1;\r\n            int esc = find(s, &quot;\\\\&quot;, start);\r\n            if( esc &gt; ret) return ret;\r\n            start += 2;\r\n        }\r\n    }\r\n\r\n    private static String removeLineCommnt(String s) {\r\n        int i, start = 0;\r\n        while (0 &lt;= (i = find(s, &quot;//&quot;, start))) { //Speed it up\r\n            int j = find(s, &quot;&#39;&quot;, start);\r\n            int k = find(s, &quot;\\&quot;&quot;, start);\r\n            int first = min(i, min(j, k));\r\n            if (first == Integer.MAX_VALUE) return s;\r\n            if (i == first) return s.substring(0, i);\r\n            //skipp quoted string\r\n            start = first+1;\r\n            if (k == first) { // &quot; asdas\\&quot;dasd &quot;\r\n                start = findSkipEsc(s,&quot;\\&quot;&quot;,start);\r\n                if (start &lt; 0) return s;\r\n                start++;\r\n                continue;\r\n            }\r\n            //if j == first &#39; asda\\&#39;sasd &#39; --- not in JSON\r\n            start = findSkipEsc(s,&quot;&#39;\\&quot;&#39;&quot;,start);\r\n            if (start &lt; 0) return s;\r\n            start++;\r\n        }\r\n        return s;\r\n    }\r\n\r\n    static String removeLineCommnts(String s) {\r\n        if (!s.contains(&quot;//&quot;)) return s; //Speed it up\r\n        return Arrays.stream(s.split(&quot;[\\\\n\\\\r]+&quot;)).\r\n                map(Common::removeLineCommnt).\r\n                collect(Collectors.joining(&quot;\\n&quot;)); \r\n    }\r\n","title":"Removing all types of comments in java file","body":"<pre><code>    private static int find(String s, String t, int start) {\n    int ret = s.indexOf(t, start);\n    return ret &lt; 0 ? Integer.MAX_VALUE : ret;\n}\nprivate static int findSkipEsc(String s, String t, int start) {\n    while(true) {\n        int ret = find(s, t, start);\n        if( ret == Integer.MAX_VALUE) return -1;\n        int esc = find(s, &quot;\\\\&quot;, start);\n        if( esc &gt; ret) return ret;\n        start += 2;\n    }\n}\n\nprivate static String removeLineCommnt(String s) {\n    int i, start = 0;\n    while (0 &lt;= (i = find(s, &quot;//&quot;, start))) { //Speed it up\n        int j = find(s, &quot;'&quot;, start);\n        int k = find(s, &quot;\\&quot;&quot;, start);\n        int first = min(i, min(j, k));\n        if (first == Integer.MAX_VALUE) return s;\n        if (i == first) return s.substring(0, i);\n        //skipp quoted string\n        start = first+1;\n        if (k == first) { // &quot; asdas\\&quot;dasd &quot;\n            start = findSkipEsc(s,&quot;\\&quot;&quot;,start);\n            if (start &lt; 0) return s;\n            start++;\n            continue;\n        }\n        //if j == first ' asda\\'sasd ' --- not in JSON\n        start = findSkipEsc(s,&quot;'\\&quot;'&quot;,start);\n        if (start &lt; 0) return s;\n        start++;\n    }\n    return s;\n}\n\nstatic String removeLineCommnts(String s) {\n    if (!s.contains(&quot;//&quot;)) return s; //Speed it up\n    return Arrays.stream(s.split(&quot;[\\\\n\\\\r]+&quot;)).\n            map(Common::removeLineCommnt).\n            collect(Collectors.joining(&quot;\\n&quot;)); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2509589,"reputation":21,"user_id":2182399,"display_name":"bobincman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683846420,"creation_date":1683846420,"answer_id":76232141,"question_id":23333031,"body_markdown":"@Andrew-Vitkus &#39;s answer was pretty close, but had some bugs (removing the character before /, for example  dd/mm/yyyy became d/m/yyyy) but here&#39;s the cleaner version which RETAINS THE NUMBER OF LINES in the source file. \r\n\r\n    public static String removeComments(String code) {\r\n\r\n        StringBuilder cc = new StringBuilder();\r\n\r\n        try (StringReader sr = new StringReader(code)) {\r\n\r\n            boolean inBlockComment = false;\r\n            boolean inLineComment = false;\r\n            boolean out = true;\r\n\r\n            int prev = sr.read();\r\n            int cur;\r\n        \r\n            for(cur = sr.read(); cur != -1; cur = sr.read()) {\r\n\r\n                if(inBlockComment) {\r\n                    if (prev == &#39;*&#39; &amp;&amp; cur == &#39;/&#39;) {\r\n                        inBlockComment = false;\r\n                        out = false;\r\n                    } else if (cur == &#39;\\r&#39; || cur == &#39;\\n&#39;) {\r\n                        //keep these to retain line breaks\r\n                        cc.append((char)cur);\r\n                    }\r\n                } else if (inLineComment) {\r\n                    if (cur == &#39;\\n&#39;) {\r\n                        if (prev == &#39;\\r&#39;){\r\n                            cc.append(&#39;\\r&#39;);\r\n                        }\r\n                        inLineComment = false;\r\n                        out = true; //allows \\n to be added\r\n                    }\r\n                } else {\r\n                    if (cur == &#39;/&#39;){\r\n                        sr.mark(1); // start untested block\r\n                        int next = sr.read();\r\n                        if (next == &#39;*&#39;) {\r\n                            inBlockComment = true; \r\n                        } else if (next == &#39;/&#39;){\r\n                            inLineComment = true; \r\n                        }\r\n                        sr.reset(); // end untested block\r\n\r\n                        cc.append((char)prev);//add this char in all cases\r\n\r\n                    } else if (out){\r\n                        cc.append((char)prev);\r\n                    } else {\r\n                        out = true;\r\n                    }\r\n                }\r\n                prev = cur;\r\n            }\r\n        \r\n            if (prev != -1 &amp;&amp; out &amp;&amp; !inLineComment &amp;&amp; !inBlockComment) {\r\n                cc.append((char)prev);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return cc.toString();\r\n    }","title":"Removing all types of comments in java file","body":"<p>@Andrew-Vitkus 's answer was pretty close, but had some bugs (removing the character before /, for example  dd/mm/yyyy became d/m/yyyy) but here's the cleaner version which RETAINS THE NUMBER OF LINES in the source file.</p>\n<pre><code>public static String removeComments(String code) {\n\n    StringBuilder cc = new StringBuilder();\n\n    try (StringReader sr = new StringReader(code)) {\n\n        boolean inBlockComment = false;\n        boolean inLineComment = false;\n        boolean out = true;\n\n        int prev = sr.read();\n        int cur;\n    \n        for(cur = sr.read(); cur != -1; cur = sr.read()) {\n\n            if(inBlockComment) {\n                if (prev == '*' &amp;&amp; cur == '/') {\n                    inBlockComment = false;\n                    out = false;\n                } else if (cur == '\\r' || cur == '\\n') {\n                    //keep these to retain line breaks\n                    cc.append((char)cur);\n                }\n            } else if (inLineComment) {\n                if (cur == '\\n') {\n                    if (prev == '\\r'){\n                        cc.append('\\r');\n                    }\n                    inLineComment = false;\n                    out = true; //allows \\n to be added\n                }\n            } else {\n                if (cur == '/'){\n                    sr.mark(1); // start untested block\n                    int next = sr.read();\n                    if (next == '*') {\n                        inBlockComment = true; \n                    } else if (next == '/'){\n                        inLineComment = true; \n                    }\n                    sr.reset(); // end untested block\n\n                    cc.append((char)prev);//add this char in all cases\n\n                } else if (out){\n                    cc.append((char)prev);\n                } else {\n                    out = true;\n                }\n            }\n            prev = cur;\n        }\n    \n        if (prev != -1 &amp;&amp; out &amp;&amp; !inLineComment &amp;&amp; !inBlockComment) {\n            cc.append((char)prev);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return cc.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":1979751,"reputation":180,"user_id":1776652,"accept_rate":67,"display_name":"haripcce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26083,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"answer_count":11,"score":8,"last_activity_date":1683846420,"creation_date":1398662491,"question_id":23333031,"body_markdown":"I have a java project and i have used comments in many location in various java files in the project. Now i need to remove all type of comments : single line , multiple line comments . \r\nPlease provide automation for removing comments. using tools or in eclipse etc.\r\n\r\nCurrently i am manually trying to remove all commetns","title":"Removing all types of comments in java file","body":"<p>I have a java project and i have used comments in many location in various java files in the project. Now i need to remove all type of comments : single line , multiple line comments . \nPlease provide automation for removing comments. using tools or in eclipse etc.</p>\n\n<p>Currently i am manually trying to remove all commetns</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1683845523,"post_id":76232080,"comment_id":134433161,"body_markdown":"Stop trying to make the window the right size, instead, provide appropriate sizing hints from the content itself and then `pack` the window around the content.  &quot;How&quot; you do this will depend greatly on you overall implementation","body":"Stop trying to make the window the right size, instead, provide appropriate sizing hints from the content itself and then <code>pack</code> the window around the content.  &quot;How&quot; you do this will depend greatly on you overall implementation"},{"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"score":0,"creation_date":1683845654,"post_id":76232080,"comment_id":134433182,"body_markdown":"Umm, im basically trying to create an 8x8 chess board with squares of sizes 80x80. So the sizes should be 640x640 obv... im kinda new to Swing in java, so can u explain more about what u just said or give a reference to a resource i can use?","body":"Umm, im basically trying to create an 8x8 chess board with squares of sizes 80x80. So the sizes should be 640x640 obv... im kinda new to Swing in java, so can u explain more about what u just said or give a reference to a resource i can use?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683845729,"post_id":76232080,"comment_id":134433192,"body_markdown":"Sure, but are you using components to generate that grid or custom painting?","body":"Sure, but are you using components to generate that grid or custom painting?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683846272,"creation_date":1683846272,"answer_id":76232131,"question_id":76232080,"body_markdown":"The answer is, it depends.\r\n\r\n`JFrame#pack` will &quot;pack&quot; the window decorations around the viewable content based on the &quot;preferred&quot; size of the content as determined by the layout manager API.\r\n\r\nSo, if you using some kind of custom component to generate the cells, then you will need to provide appropriate sizing hints, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new Board());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Board extends JPanel {\r\n            public Board() {\r\n                setLayout(new GridLayout(8, 8));\r\n                for (int row = 0; row &lt; 8; row++) {\r\n                    int cellIndex = (row % 2 == 0) ? 0 : 1;\r\n                    for (int col = 0; col &lt; 8; col++) {\r\n                        Cell cell = new Cell();\r\n                        cell.setBackground((cellIndex % 2 == 0) ? Color.WHITE : Color.BLACK);\r\n                        add(cell);\r\n                        cellIndex++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        public class Cell extends JPanel {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(80, 80);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7RAT7.png\r\n\r\nNow, this will allow the window to be resized and for the cells to become unevenly sized.  You could fix this by adding `frame.setLayout(new GridBagLayout());` before `frame.add(new Board());`, but also remember, components have a &quot;minimum&quot; size, so you might be surprised if you size the window smaller","title":"Java JFrame.setSize giving wrong size","body":"<p>The answer is, it depends.</p>\n<p><code>JFrame#pack</code> will &quot;pack&quot; the window decorations around the viewable content based on the &quot;preferred&quot; size of the content as determined by the layout manager API.</p>\n<p>So, if you using some kind of custom component to generate the cells, then you will need to provide appropriate sizing hints, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/7RAT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RAT7.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new Board());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class Board extends JPanel {\n        public Board() {\n            setLayout(new GridLayout(8, 8));\n            for (int row = 0; row &lt; 8; row++) {\n                int cellIndex = (row % 2 == 0) ? 0 : 1;\n                for (int col = 0; col &lt; 8; col++) {\n                    Cell cell = new Cell();\n                    cell.setBackground((cellIndex % 2 == 0) ? Color.WHITE : Color.BLACK);\n                    add(cell);\n                    cellIndex++;\n                }\n            }\n        }\n    }\n\n    public class Cell extends JPanel {\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(80, 80);\n        }\n    }\n}\n</code></pre>\n<p>Now, this will allow the window to be resized and for the cells to become unevenly sized.  You could fix this by adding <code>frame.setLayout(new GridBagLayout());</code> before <code>frame.add(new Board());</code>, but also remember, components have a &quot;minimum&quot; size, so you might be surprised if you size the window smaller</p>\n"}],"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683846272,"creation_date":1683845347,"question_id":76232080,"body_markdown":"I&#39;m trying to create a window using the swing library in java.\r\nEverything works fine, except for one minor (but very annoying) issue:\r\n\r\n```\r\nprivate void init()\r\n    {\r\n        board = new Board();\r\n        currTurn = Piece.WHITE;\r\n        movesPlayed = new ArrayList&lt;Move&gt;();\r\n\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;Chessboard&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n            frame.setSize(640, 640);\r\n            frame.setResizable(false);  \r\n            frame.setLocationRelativeTo(null);\r\n\r\n            Chessboard chessboard = new Chessboard(board);\r\n            frame.add(chessboard);\r\n\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n```\r\n\r\nIn the code above i used setSize to set it to `640, 640`. I added a listener to verify the size. but when i run the app, the size that gets printed (by my listener), is:\r\n\r\n`Window size: 624x601`\r\n\r\nI know this probably has to do with the window decorations. Can I somehow calculate the size I need to add to get the window size I really want?\r\n\r\nThanks in advance!","title":"Java JFrame.setSize giving wrong size","body":"<p>I'm trying to create a window using the swing library in java.\nEverything works fine, except for one minor (but very annoying) issue:</p>\n<pre><code>private void init()\n    {\n        board = new Board();\n        currTurn = Piece.WHITE;\n        movesPlayed = new ArrayList&lt;Move&gt;();\n\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;Chessboard&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            frame.setSize(640, 640);\n            frame.setResizable(false);  \n            frame.setLocationRelativeTo(null);\n\n            Chessboard chessboard = new Chessboard(board);\n            frame.add(chessboard);\n\n            frame.setVisible(true);\n        });\n    }\n</code></pre>\n<p>In the code above i used setSize to set it to <code>640, 640</code>. I added a listener to verify the size. but when i run the app, the size that gets printed (by my listener), is:</p>\n<p><code>Window size: 624x601</code></p>\n<p>I know this probably has to do with the window decorations. Can I somehow calculate the size I need to add to get the window size I really want?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1456014741,"post_id":35530824,"comment_id":58751169,"body_markdown":"pack() relies on the preferred size of the components. If you use a JPanel subclass to draw, you should override paintComponent() and not paint(), and you should override getPreferredSize().","body":"pack() relies on the preferred size of the components. If you use a JPanel subclass to draw, you should override paintComponent() and not paint(), and you should override getPreferredSize()."},{"owner":{"account_id":7878059,"reputation":5,"user_id":5953184,"display_name":"LegoNinja39"},"score":0,"creation_date":1456016122,"post_id":35530824,"comment_id":58751485,"body_markdown":"Oracle says not to override paintComponent and to use paint instead since it calls all the paints (including paintComponent). Also why would I override a getter? Also how would I use it to make pack work properly?","body":"Oracle says not to override paintComponent and to use paint instead since it calls all the paints (including paintComponent). Also why would I override a getter? Also how would I use it to make pack work properly?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1456032637,"post_id":35530824,"comment_id":58754551,"body_markdown":"*&quot;Oracle says not to override paintComponent and to use paint instead..&quot;* Where exactly does Oracle advise that? Link please..","body":"<i>&quot;Oracle says not to override paintComponent and to use paint instead..&quot;</i> Where exactly does Oracle advise that? Link please.."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1456035836,"post_id":35530824,"comment_id":58755084,"body_markdown":"@LegoNinja39 Where does it say that?","body":"@LegoNinja39 Where does it say that?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1456038644,"post_id":35530824,"comment_id":58755653,"body_markdown":"Take a look at this [Stack Overflow answer](http://stackoverflow.com/a/35002727/300257) to see pack in action.  The code creates a simple Swing GUI that you can use as a basis for further Swing development.","body":"Take a look at this <a href=\"http://stackoverflow.com/a/35002727/300257\">Stack Overflow answer</a> to see pack in action.  The code creates a simple Swing GUI that you can use as a basis for further Swing development."},{"owner":{"account_id":7878059,"reputation":5,"user_id":5953184,"display_name":"LegoNinja39"},"score":0,"creation_date":1456180730,"post_id":35530824,"comment_id":58818991,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html  I think I chose my words wrong. It is not a good idea to override it since it may cause problems later on. Also there is no point since .paint calls it anyway.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.htm&zwnj;&#8203;l</a>  I think I chose my words wrong. It is not a good idea to override it since it may cause problems later on. Also there is no point since .paint calls it anyway."}],"answers":[{"comments":[{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1456023733,"post_id":35531419,"comment_id":58752984,"body_markdown":"Don&#39;t set the minimum size on the frame. Instead, override the `getXXXSize` of its contents. Oh, and his name is not Nizeti.","body":"Don&#39;t set the minimum size on the frame. Instead, override the <code>getXXXSize</code> of its contents. Oh, and his name is not Nizeti."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1456025803,"post_id":35531419,"comment_id":58753376,"body_markdown":"Then override `getMinimumSize`.","body":"Then override <code>getMinimumSize</code>."},{"owner":{"account_id":4969490,"reputation":47,"user_id":3997787,"display_name":"Stefano Castagnino"},"score":0,"creation_date":1456026293,"post_id":35531419,"comment_id":58753468,"body_markdown":"Its no override except you want to do it.","body":"Its no override except you want to do it."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1456026395,"post_id":35531419,"comment_id":58753493,"body_markdown":"No idea what you&#39;re saying, use clear English.","body":"No idea what you&#39;re saying, use clear English."}],"tags":[],"owner":{"account_id":4969490,"reputation":47,"user_id":3997787,"display_name":"Stefano Castagnino"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1456027689,"creation_date":1456019872,"answer_id":35531419,"question_id":35530824,"body_markdown":"Using .pack() and .setSize() no make sense, all depend which one is last one in the code but i recommendable use:\r\n\r\n     frame.setMinimumSize(new Dimension(x,y));\r\n\r\nAnd please do not forget to add :\r\n\r\n    frame.setVisible(true);\r\n\r\n","title":"How does pack() work and what does it looks for","body":"<p>Using .pack() and .setSize() no make sense, all depend which one is last one in the code but i recommendable use:</p>\n\n<pre><code> frame.setMinimumSize(new Dimension(x,y));\n</code></pre>\n\n<p>And please do not forget to add :</p>\n\n<pre><code>frame.setVisible(true);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7878059,"reputation":5,"user_id":5953184,"display_name":"LegoNinja39"},"score":0,"creation_date":1456259252,"post_id":35533056,"comment_id":58861340,"body_markdown":"Ok I thought that the pack method was looking for actual elements and then sizing it accordingly. Thanks for the answer!","body":"Ok I thought that the pack method was looking for actual elements and then sizing it accordingly. Thanks for the answer!"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683845675,"creation_date":1456036219,"answer_id":35533056,"question_id":35530824,"body_markdown":"`pack` makes use of the layout manager API and &quot;asks&quot; the frame&#39;s `contentPane` for it&#39;s `preferredSize`, this allows `pack` to &quot;pack&quot; the windows decorations around the content. You have to remember, a windows size includes the windows decorations, so a window of 800x600 will have a viewable area which is noticeably smaller\r\n\r\nIf you add a component to the frame whose size is undefined (in the case of `JComponent` and `JPanel` which return a `preferredSize` of `0x0`, the frame will be packed to its smallest possible size, not really what you want.\r\n\r\nSo, for example, something like...\r\n\r\n\timport java.awt.Dimension;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Graphics2D;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test();\r\n\t\t}\r\n\r\n\t\tpublic Test() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\treturn new Dimension(200, 200);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\t\tsuper.paintComponent(g);\r\n\t\t\t\tGraphics2D g2d = (Graphics2D) g.create();\r\n\t\t\t\tg2d.fillOval(10, 10, 30, 30);\r\n\t\t\t\tg2d.dispose();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\ngenerates a window of `200x222` on my Mac, but the `TestPane` will be `200x200`\r\n\r\nYou might also like to have a look at [Laying Out Components Within a Container](http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html), [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html) and [Performing Custom Painting](http://docs.oracle.com/javase/tutorial/uiswing/painting/) for some more details","title":"How does pack() work and what does it looks for","body":"<p><code>pack</code> makes use of the layout manager API and &quot;asks&quot; the frame's <code>contentPane</code> for it's <code>preferredSize</code>, this allows <code>pack</code> to &quot;pack&quot; the windows decorations around the content. You have to remember, a windows size includes the windows decorations, so a window of 800x600 will have a viewable area which is noticeably smaller</p>\n<p>If you add a component to the frame whose size is undefined (in the case of <code>JComponent</code> and <code>JPanel</code> which return a <code>preferredSize</code> of <code>0x0</code>, the frame will be packed to its smallest possible size, not really what you want.</p>\n<p>So, for example, something like...</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.fillOval(10, 10, 30, 30);\n            g2d.dispose();\n        }\n\n    }\n\n}\n</code></pre>\n<p>generates a window of <code>200x222</code> on my Mac, but the <code>TestPane</code> will be <code>200x200</code></p>\n<p>You might also like to have a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>, <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for some more details</p>\n"}],"owner":{"account_id":7878059,"reputation":5,"user_id":5953184,"display_name":"LegoNinja39"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7410,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1456113036,"accepted_answer_id":35533056,"answer_count":2,"score":-1,"last_activity_date":1683845675,"creation_date":1456014572,"question_id":35530824,"body_markdown":"I was messing with some code and came across the pack method which is suppose to find the &quot;optimum&quot; size for a window. But when I tried to out it simply made a window as small as possible even though I drew a circle before calling pack(). Why is that? What elements does pack() look for? I also frequently have found code that uses both pack() and setSize() which Oracle explicitly says not to do. What is the point since they both set size?\r\n\r\nHere is that part of the code incase it was me who did something wrong:\r\n\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            g.fillOval(x, y, 30, 30);\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            JFrame frame = new JFrame(&quot;Extreme Pong&quot;);\r\n            Game game = new Game();\r\n            frame.add(game);\r\n            frame.pack();\r\n    }\r\nEdit:\r\nApparently I either was not clear to most of you since the linked answer to the &quot;duplicate&quot; did not answer my question. The mad programmer did answer my question, so thank you to you.","title":"How does pack() work and what does it looks for","body":"<p>I was messing with some code and came across the pack method which is suppose to find the \"optimum\" size for a window. But when I tried to out it simply made a window as small as possible even though I drew a circle before calling pack(). Why is that? What elements does pack() look for? I also frequently have found code that uses both pack() and setSize() which Oracle explicitly says not to do. What is the point since they both set size?</p>\n\n<p>Here is that part of the code incase it was me who did something wrong:</p>\n\n<pre><code>    public void paint(Graphics g) {\n        super.paint(g);\n        g.fillOval(x, y, 30, 30);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        JFrame frame = new JFrame(\"Extreme Pong\");\n        Game game = new Game();\n        frame.add(game);\n        frame.pack();\n}\n</code></pre>\n\n<p>Edit:\nApparently I either was not clear to most of you since the linked answer to the \"duplicate\" did not answer my question. The mad programmer did answer my question, so thank you to you.</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1683835971,"post_id":76230434,"comment_id":134431714,"body_markdown":"You need a dollar sign before `ne` as in `$ne`","body":"You need a dollar sign before <code>ne</code> as in <code>$ne</code>"}],"answers":[{"tags":[],"owner":{"account_id":2638471,"reputation":25855,"user_id":2282634,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683844903,"creation_date":1683844903,"answer_id":76232056,"question_id":76230434,"body_markdown":"The `$ne` query operator is not allowed in a partial filter expression, see https://www.mongodb.com/docs/manual/core/index-partial/#create-a-partial-index\r\n\r\nUse `{&#39;$exists&#39;:true}` instead of `{ &#39;ne&#39; : null }` if you only need to test if the field exists.\r\n\r\nIf you also want to exclude documents where the field was explicitly set to null, use:\r\n\r\n`{&#39;studentId&#39;:{&#39;$exists&#39;:true,&#39;$gt&#39;:null}}`","title":"MongoDb partial filter expression not working","body":"<p>The <code>$ne</code> query operator is not allowed in a partial filter expression, see <a href=\"https://www.mongodb.com/docs/manual/core/index-partial/#create-a-partial-index\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/core/index-partial/#create-a-partial-index</a></p>\n<p>Use <code>{'$exists':true}</code> instead of <code>{ 'ne' : null }</code> if you only need to test if the field exists.</p>\n<p>If you also want to exclude documents where the field was explicitly set to null, use:</p>\n<p><code>{'studentId':{'$exists':true,'$gt':null}}</code></p>\n"}],"owner":{"account_id":4366910,"reputation":29,"user_id":3562372,"accept_rate":17,"display_name":"Harshit Wadhera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76232056,"answer_count":1,"score":0,"last_activity_date":1683844903,"creation_date":1683827918,"question_id":76230434,"body_markdown":"I have a `CompoundIndex` which has 2 field for unique and i want to filter the index to accept null as not unique. \r\n\r\nBelow is my code \r\n`@CompoundIndex(def = &quot;{&#39;studentId&#39;:1, &#39;StudentName&#39;:1}&quot;,\r\n    unique = true,\r\n    partialFilter = &quot;{&#39;studentId&#39;: { &#39;ne&#39; : null } }&quot;)`\r\n\r\nnow when i am trying to save the student with same id and name which already exists it is not throwing me error.","title":"MongoDb partial filter expression not working","body":"<p>I have a <code>CompoundIndex</code> which has 2 field for unique and i want to filter the index to accept null as not unique.</p>\n<p>Below is my code\n<code>@CompoundIndex(def = &quot;{'studentId':1, 'StudentName':1}&quot;, unique = true, partialFilter = &quot;{'studentId': { 'ne' : null } }&quot;)</code></p>\n<p>now when i am trying to save the student with same id and name which already exists it is not throwing me error.</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683841965,"post_id":76231825,"comment_id":134432718,"body_markdown":"What version are you using? Is there code in your application for initializing log4j?","body":"What version are you using? Is there code in your application for initializing log4j?"},{"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"score":0,"creation_date":1683843140,"post_id":76231825,"comment_id":134432898,"body_markdown":"updated post to address aled&#39;s comment","body":"updated post to address aled&#39;s comment"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683844687,"creation_date":1683844687,"answer_id":76232040,"question_id":76231825,"body_markdown":"There is no link between Java system properties and your `log4j2.properties` file, so you can not change the value of `logger.dt.level` in your configuration file by changing the homonymous Java system property.\r\n\r\nYou can however introduce a dependency, by using a [lookup](https://logging.apache.org/log4j/2.x/manual/lookups.html) in the property value:\r\n\r\n```lang-properties\r\n# Fallback value for the `logger.dt.level` system property\r\nproperty.logger.dt.level = INFO\r\nlogger.dt.level = ${sys:logger.dt.level}\r\n```\r\n\r\nIf you want to go further you&#39;ll need to write your own [`PropertiesConfigurationFactory`](https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/config/properties/PropertiesConfigurationFactory.java) with a high (numerical) order that overwrites the properties file with the values from Java system properties.","title":"How to override log level of log4j2 logger at deployment","body":"<p>There is no link between Java system properties and your <code>log4j2.properties</code> file, so you can not change the value of <code>logger.dt.level</code> in your configuration file by changing the homonymous Java system property.</p>\n<p>You can however introduce a dependency, by using a <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html\" rel=\"nofollow noreferrer\">lookup</a> in the property value:</p>\n<pre class=\"lang-properties prettyprint-override\"><code># Fallback value for the `logger.dt.level` system property\nproperty.logger.dt.level = INFO\nlogger.dt.level = ${sys:logger.dt.level}\n</code></pre>\n<p>If you want to go further you'll need to write your own <a href=\"https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/config/properties/PropertiesConfigurationFactory.java\" rel=\"nofollow noreferrer\"><code>PropertiesConfigurationFactory</code></a> with a high (numerical) order that overwrites the properties file with the values from Java system properties.</p>\n"}],"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683844687,"creation_date":1683841881,"question_id":76231825,"body_markdown":"I would like to have a single log4j2 properties file delivered in my jar, but override its settings when starting the app.  For example, the default level might be warn, but when debugging I&#39;d like to change the log level to debug, for example. I am aware of the log4j.configurationFile system property, but that is a sledgehammer for this problem.  I&#39;m using log4j 2.17.2 and Java 11 and I&#39;m not doing any special log4j initialization other than `LogManager.getLogger()`.  My properties file is as follows:\r\n\r\n    status = debug \r\n    \r\n    rootLogger.level = warn \r\n    rootLogger.appenderRefs = console \r\n    rootLogger.appenderRef.stdout.ref = STDOUT\r\n    \r\n    loggers= dt\r\n    \r\n    logger.dt = console\r\n    logger.dt.name = com.ibm.data_triage\r\n    logger.dt.appenderRefs = console \r\n    logger.dt.appenderRef.stdout.ref = STDOUT\r\n    #logger.dt.level = trace \r\n    logger.dt.level = info \r\n    \r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = %d{yyyy-dd HH:mm:ss} %p %l - %m%n\r\n\r\nCan I then do something like this?\r\n\r\n    java -Dlogger.dt.level=trace\r\n\r\nor\r\n\r\n    java -Dlog4j.logger.dt.level=trace\r\n\r\nNeither seem to work.  I&#39;ve also tried the solution from AbuNassar in https://stackoverflow.com/questions/7126709/how-do-i-set-log4j-level-on-the-command-line, but to no avail.\r\n\r\nIf I set `status=debug` in the properties file, and run\r\n\r\n    java -Dlog4j.logger.dt.level=trace  -Dlog4j2.logger.dt.level=trace -Dlogger.dt.level=trace \r\n\r\nI get the following logging from log4j (i.e., com.ibm.data_triage is still INFO): \r\n\r\n    2023-05-11 18:18:59,512 main DEBUG Apache Log4j Core 2.17.2 initializing configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310\r\n    2023-05-11 18:18:59,514 main DEBUG PluginManager &#39;Core&#39; found 127 plugins\r\n    2023-05-11 18:18:59,515 main DEBUG PluginManager &#39;Level&#39; found 0 plugins\r\n    2023-05-11 18:18:59,518 main DEBUG PluginManager &#39;Lookup&#39; found 16 plugins\r\n    2023-05-11 18:18:59,519 main DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\r\n    2023-05-11 18:18:59,529 main DEBUG PluginManager &#39;TypeConverter&#39; found 26 plugins\r\n    2023-05-11 18:18:59,539 main DEBUG createAppenderRef(ref=&quot;STDOUT&quot;, level=&quot;null&quot;, Filter=null)\r\n    2023-05-11 18:18:59,539 main DEBUG Building Plugin[name=logger, class=org.apache.logging.log4j.core.config.LoggerConfig].\r\n    2023-05-11 18:18:59,550 main DEBUG LoggerConfig$Builder(additivity=&quot;null&quot;, level=&quot;INFO&quot;, levelAndRefs=&quot;null&quot;, name=&quot;com.ibm.data_triage&quot;, includeLocation=&quot;null&quot;, ={STDOUT}, ={}, Configuration, Filter=null)\r\n    2023-05-11 18:18:59,552 main DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\r\n    2023-05-11 18:18:59,553 main DEBUG createAppenderRef(ref=&quot;STDOUT&quot;, level=&quot;null&quot;, Filter=null)\r\n    2023-05-11 18:18:59,553 main DEBUG Building Plugin[name=root, class=org.apache.logging.log4j.core.config.LoggerConfig$RootLogger].\r\n    2023-05-11 18:18:59,556 main DEBUG LoggerConfig$RootLogger$Builder(additivity=&quot;null&quot;, level=&quot;WARN&quot;, levelAndRefs=&quot;null&quot;, includeLocation=&quot;null&quot;, ={STDOUT}, ={}, Configuration, Filter=null)\r\n    2023-05-11 18:18:59,556 main DEBUG Building Plugin[name=loggers, class=org.apache.logging.log4j.core.config.LoggersPlugin].\r\n    2023-05-11 18:18:59,558 main DEBUG createLoggers(={com.ibm.data_triage, root})\r\n    2023-05-11 18:18:59,559 main DEBUG Building Plugin[name=layout, class=org.apache.logging.log4j.core.layout.PatternLayout].\r\n    2023-05-11 18:18:59,561 main DEBUG PatternLayout$Builder(pattern=&quot;%d{yyyy-dd HH:mm:ss} %p %l - %m%n&quot;, PatternSelector=null, Configuration, Replace=null, charset=&quot;null&quot;, alwaysWriteExceptions=&quot;null&quot;, disableAnsi=&quot;null&quot;, noConsoleNoAnsi=&quot;null&quot;, header=&quot;null&quot;, footer=&quot;null&quot;)\r\n    2023-05-11 18:18:59,561 main DEBUG PluginManager &#39;Converter&#39; found 45 plugins\r\n    2023-05-11 18:18:59,577 main DEBUG Building Plugin[name=appender, class=org.apache.logging.log4j.core.appender.ConsoleAppender].\r\n    2023-05-11 18:18:59,581 main DEBUG ConsoleAppender$Builder(target=&quot;null&quot;, follow=&quot;null&quot;, direct=&quot;null&quot;, bufferedIo=&quot;null&quot;, bufferSize=&quot;null&quot;, immediateFlush=&quot;null&quot;, ignoreExceptions=&quot;null&quot;, PatternLayout(%d{yyyy-dd HH:mm:ss} %p %l - %m%n), name=&quot;STDOUT&quot;, Configuration, Filter=null, ={})\r\n    2023-05-11 18:18:59,586 main DEBUG Starting OutputStreamManager SYSTEM_OUT.false.false\r\n    2023-05-11 18:18:59,587 main DEBUG Building Plugin[name=appenders, class=org.apache.logging.log4j.core.config.AppendersPlugin].\r\n    2023-05-11 18:18:59,588 main DEBUG createAppenders(={STDOUT})\r\n    2023-05-11 18:18:59,589 main DEBUG Configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310 initialized\r\n    2023-05-11 18:18:59,589 main DEBUG Starting configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310\r\n    2023-05-11 18:18:59,590 main DEBUG Started configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310 OK.\r\n    2023-05-11 18:18:59,591 main DEBUG Shutting down OutputStreamManager SYSTEM_OUT.false.false-1\r\n    2023-05-11 18:18:59,591 main DEBUG OutputStream closed\r\n    2023-05-11 18:18:59,592 main DEBUG Shut down OutputStreamManager SYSTEM_OUT.false.false-1, all resources released: true\r\n    2023-05-11 18:18:59,592 main DEBUG Appender DefaultConsole-1 stopped with status true\r\n    2023-05-11 18:18:59,593 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@6fbdbc94 OK\r\n    2023-05-11 18:18:59,630 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be\r\n    2023-05-11 18:18:59,634 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=StatusLogger\r\n    2023-05-11 18:18:59,637 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=ContextSelector\r\n    2023-05-11 18:18:59,638 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Loggers,name=\r\n    2023-05-11 18:18:59,639 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Loggers,name=com.ibm.data_triage\r\n    2023-05-11 18:18:59,641 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Appenders,name=STDOUT\r\n    2023-05-11 18:18:59,645 main DEBUG org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\r\n    2023-05-11 18:18:59,646 main DEBUG Reconfiguration complete for context[name=ed8046be] at URI C:\\Users\\DavidWood\\git\\data-triage-4j\\data-triage-core\\target\\classes\\log4j2.properties (org.apache.logging.log4j.core.LoggerContext@1414d955) with optional ClassLoader: null\r\n    2023-05-11 18:18:59,647 main DEBUG Shutdown hook enabled. Registering a new one.\r\n    2023-05-11 18:18:59,653 main DEBUG LoggerContext[name=ed8046be, org.apache.logging.log4j.core.LoggerContext@1414d955] started OK.\r\n\r\nAm I expecting too much or is there another way?\r\n\r\nThanks.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to override log level of log4j2 logger at deployment","body":"<p>I would like to have a single log4j2 properties file delivered in my jar, but override its settings when starting the app.  For example, the default level might be warn, but when debugging I'd like to change the log level to debug, for example. I am aware of the log4j.configurationFile system property, but that is a sledgehammer for this problem.  I'm using log4j 2.17.2 and Java 11 and I'm not doing any special log4j initialization other than <code>LogManager.getLogger()</code>.  My properties file is as follows:</p>\n<pre><code>status = debug \n\nrootLogger.level = warn \nrootLogger.appenderRefs = console \nrootLogger.appenderRef.stdout.ref = STDOUT\n\nloggers= dt\n\nlogger.dt = console\nlogger.dt.name = com.ibm.data_triage\nlogger.dt.appenderRefs = console \nlogger.dt.appenderRef.stdout.ref = STDOUT\n#logger.dt.level = trace \nlogger.dt.level = info \n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yyyy-dd HH:mm:ss} %p %l - %m%n\n</code></pre>\n<p>Can I then do something like this?</p>\n<pre><code>java -Dlogger.dt.level=trace\n</code></pre>\n<p>or</p>\n<pre><code>java -Dlog4j.logger.dt.level=trace\n</code></pre>\n<p>Neither seem to work.  I've also tried the solution from AbuNassar in <a href=\"https://stackoverflow.com/questions/7126709/how-do-i-set-log4j-level-on-the-command-line\">How do I set log4j level on the command line?</a>, but to no avail.</p>\n<p>If I set <code>status=debug</code> in the properties file, and run</p>\n<pre><code>java -Dlog4j.logger.dt.level=trace  -Dlog4j2.logger.dt.level=trace -Dlogger.dt.level=trace \n</code></pre>\n<p>I get the following logging from log4j (i.e., com.ibm.data_triage is still INFO):</p>\n<pre><code>2023-05-11 18:18:59,512 main DEBUG Apache Log4j Core 2.17.2 initializing configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310\n2023-05-11 18:18:59,514 main DEBUG PluginManager 'Core' found 127 plugins\n2023-05-11 18:18:59,515 main DEBUG PluginManager 'Level' found 0 plugins\n2023-05-11 18:18:59,518 main DEBUG PluginManager 'Lookup' found 16 plugins\n2023-05-11 18:18:59,519 main DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\n2023-05-11 18:18:59,529 main DEBUG PluginManager 'TypeConverter' found 26 plugins\n2023-05-11 18:18:59,539 main DEBUG createAppenderRef(ref=&quot;STDOUT&quot;, level=&quot;null&quot;, Filter=null)\n2023-05-11 18:18:59,539 main DEBUG Building Plugin[name=logger, class=org.apache.logging.log4j.core.config.LoggerConfig].\n2023-05-11 18:18:59,550 main DEBUG LoggerConfig$Builder(additivity=&quot;null&quot;, level=&quot;INFO&quot;, levelAndRefs=&quot;null&quot;, name=&quot;com.ibm.data_triage&quot;, includeLocation=&quot;null&quot;, ={STDOUT}, ={}, Configuration, Filter=null)\n2023-05-11 18:18:59,552 main DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\n2023-05-11 18:18:59,553 main DEBUG createAppenderRef(ref=&quot;STDOUT&quot;, level=&quot;null&quot;, Filter=null)\n2023-05-11 18:18:59,553 main DEBUG Building Plugin[name=root, class=org.apache.logging.log4j.core.config.LoggerConfig$RootLogger].\n2023-05-11 18:18:59,556 main DEBUG LoggerConfig$RootLogger$Builder(additivity=&quot;null&quot;, level=&quot;WARN&quot;, levelAndRefs=&quot;null&quot;, includeLocation=&quot;null&quot;, ={STDOUT}, ={}, Configuration, Filter=null)\n2023-05-11 18:18:59,556 main DEBUG Building Plugin[name=loggers, class=org.apache.logging.log4j.core.config.LoggersPlugin].\n2023-05-11 18:18:59,558 main DEBUG createLoggers(={com.ibm.data_triage, root})\n2023-05-11 18:18:59,559 main DEBUG Building Plugin[name=layout, class=org.apache.logging.log4j.core.layout.PatternLayout].\n2023-05-11 18:18:59,561 main DEBUG PatternLayout$Builder(pattern=&quot;%d{yyyy-dd HH:mm:ss} %p %l - %m%n&quot;, PatternSelector=null, Configuration, Replace=null, charset=&quot;null&quot;, alwaysWriteExceptions=&quot;null&quot;, disableAnsi=&quot;null&quot;, noConsoleNoAnsi=&quot;null&quot;, header=&quot;null&quot;, footer=&quot;null&quot;)\n2023-05-11 18:18:59,561 main DEBUG PluginManager 'Converter' found 45 plugins\n2023-05-11 18:18:59,577 main DEBUG Building Plugin[name=appender, class=org.apache.logging.log4j.core.appender.ConsoleAppender].\n2023-05-11 18:18:59,581 main DEBUG ConsoleAppender$Builder(target=&quot;null&quot;, follow=&quot;null&quot;, direct=&quot;null&quot;, bufferedIo=&quot;null&quot;, bufferSize=&quot;null&quot;, immediateFlush=&quot;null&quot;, ignoreExceptions=&quot;null&quot;, PatternLayout(%d{yyyy-dd HH:mm:ss} %p %l - %m%n), name=&quot;STDOUT&quot;, Configuration, Filter=null, ={})\n2023-05-11 18:18:59,586 main DEBUG Starting OutputStreamManager SYSTEM_OUT.false.false\n2023-05-11 18:18:59,587 main DEBUG Building Plugin[name=appenders, class=org.apache.logging.log4j.core.config.AppendersPlugin].\n2023-05-11 18:18:59,588 main DEBUG createAppenders(={STDOUT})\n2023-05-11 18:18:59,589 main DEBUG Configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310 initialized\n2023-05-11 18:18:59,589 main DEBUG Starting configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310\n2023-05-11 18:18:59,590 main DEBUG Started configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310 OK.\n2023-05-11 18:18:59,591 main DEBUG Shutting down OutputStreamManager SYSTEM_OUT.false.false-1\n2023-05-11 18:18:59,591 main DEBUG OutputStream closed\n2023-05-11 18:18:59,592 main DEBUG Shut down OutputStreamManager SYSTEM_OUT.false.false-1, all resources released: true\n2023-05-11 18:18:59,592 main DEBUG Appender DefaultConsole-1 stopped with status true\n2023-05-11 18:18:59,593 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@6fbdbc94 OK\n2023-05-11 18:18:59,630 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be\n2023-05-11 18:18:59,634 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=StatusLogger\n2023-05-11 18:18:59,637 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=ContextSelector\n2023-05-11 18:18:59,638 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Loggers,name=\n2023-05-11 18:18:59,639 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Loggers,name=com.ibm.data_triage\n2023-05-11 18:18:59,641 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Appenders,name=STDOUT\n2023-05-11 18:18:59,645 main DEBUG org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\n2023-05-11 18:18:59,646 main DEBUG Reconfiguration complete for context[name=ed8046be] at URI C:\\Users\\DavidWood\\git\\data-triage-4j\\data-triage-core\\target\\classes\\log4j2.properties (org.apache.logging.log4j.core.LoggerContext@1414d955) with optional ClassLoader: null\n2023-05-11 18:18:59,647 main DEBUG Shutdown hook enabled. Registering a new one.\n2023-05-11 18:18:59,653 main DEBUG LoggerContext[name=ed8046be, org.apache.logging.log4j.core.LoggerContext@1414d955] started OK.\n</code></pre>\n<p>Am I expecting too much or is there another way?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","android-gradle-plugin","android-room","androidx"],"comments":[{"owner":{"account_id":7460426,"reputation":2785,"user_id":7915814,"display_name":"Suleyman"},"score":0,"creation_date":1552606625,"post_id":55173522,"comment_id":97086041,"body_markdown":"Welcome to StackOverflow! Please provide the error as well.","body":"Welcome to StackOverflow! Please provide the error as well."},{"owner":{"account_id":13981136,"reputation":81,"user_id":10097248,"display_name":"Kodak Gifted"},"score":0,"creation_date":1552606930,"post_id":55173522,"comment_id":97086122,"body_markdown":"Error during compilation &quot;Note: Failed to read get kotlin metadata for [Ljava.lang.Object;@679b84&quot; and &quot;error: cannot find symbol class DataBindingComponent&quot;","body":"Error during compilation &quot;Note: Failed to read get kotlin metadata for [Ljava.lang.Object;@679b84&quot; and &quot;error: cannot find symbol class DataBindingComponent&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5790735,"reputation":870,"user_id":4568312,"display_name":"Nischal"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552625879,"creation_date":1552625879,"answer_id":55175799,"question_id":55173522,"body_markdown":"Add `maven { url &quot;https://kotlin.bintray.com/kotlinx/&quot; }` to your project repositories.\r\n\r\n&gt; Room 2.1.0-alpha05 depends on the kotlinx-metadata-jvm artifact which is not currently available in Maven Central\r\n\r\n[Refer Official doc][1]\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/room","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<p>Add <code>maven { url \"https://kotlin.bintray.com/kotlinx/\" }</code> to your project repositories.</p>\n\n<blockquote>\n  <p>Room 2.1.0-alpha05 depends on the kotlinx-metadata-jvm artifact which is not currently available in Maven Central</p>\n</blockquote>\n\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/room\" rel=\"nofollow noreferrer\">Refer Official doc</a></p>\n"},{"tags":[],"owner":{"account_id":7354605,"reputation":1,"user_id":5599734,"display_name":"Maurilio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552657200,"creation_date":1552657200,"answer_id":55183912,"question_id":55173522,"body_markdown":"I got rid of this error upgrading the gradle build plugin to 3.3.2:\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.3.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.2.0&#39;\r\n        classpath &#39;io.fabric.tools:gradle:1.27.1&#39;\r\n    }\r\n\r\nThat version will produce some warnings caused by io.fabric plugin, if you have been using it (see https://stackoverflow.com/questions/52412023/api-variant-getexternalnativebuildtasks-is-obsolete-and-has-been-replaced-wi).","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<p>I got rid of this error upgrading the gradle build plugin to 3.3.2:</p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:3.3.2'\n    classpath 'com.google.gms:google-services:4.2.0'\n    classpath 'io.fabric.tools:gradle:1.27.1'\n}\n</code></pre>\n\n<p>That version will produce some warnings caused by io.fabric plugin, if you have been using it (see <a href=\"https://stackoverflow.com/questions/52412023/api-variant-getexternalnativebuildtasks-is-obsolete-and-has-been-replaced-wi\">API &#39;variant.getExternalNativeBuildTasks()&#39; is obsolete and has been replaced with &#39;variant.getExternalNativeBuildProviders()</a>).</p>\n"},{"tags":[],"owner":{"account_id":13500579,"reputation":1225,"user_id":9740092,"display_name":"Aleyam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552842684,"creation_date":1552842684,"answer_id":55209715,"question_id":55173522,"body_markdown":"hey i have had a similar problem, this is the displayed error: \r\n```Could not find org.jetbrains.kotlinx:kotlinx-metadata-jvm:0.0.5.\r\nSearched in the following locations:\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/google/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/google/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/android/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/android/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\n  - https://jcenter.bintray.com/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - https://jcenter.bintray.com/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\nRequired by:\r\n    project :app &gt; androidx.room:room-compiler:2.1.0-alpha05\r\n```\r\n\r\nthe provisional solution i found is to downgrade the room_version to\r\n```\r\n def room_version = &quot;2.1.0-alpha04&quot;\r\n```\r\nplease share if there is a better solution\r\n\r\n","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<p>hey i have had a similar problem, this is the displayed error: </p>\n\n<pre><code>Searched in the following locations:\n  - file:/Users/4leyam/Library/Android/sdk/extras/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - file:/Users/4leyam/Library/Android/sdk/extras/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\n  - file:/Users/4leyam/Library/Android/sdk/extras/google/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - file:/Users/4leyam/Library/Android/sdk/extras/google/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\n  - file:/Users/4leyam/Library/Android/sdk/extras/android/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - file:/Users/4leyam/Library/Android/sdk/extras/android/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\n  - https://jcenter.bintray.com/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - https://jcenter.bintray.com/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\nRequired by:\n    project :app &gt; androidx.room:room-compiler:2.1.0-alpha05\n</code></pre>\n\n<p>the provisional solution i found is to downgrade the room_version to</p>\n\n<pre><code> def room_version = \"2.1.0-alpha04\"\n</code></pre>\n\n<p>please share if there is a better solution</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1633597835,"post_id":69476891,"comment_id":122804127,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69476891/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22967140,"reputation":1,"user_id":17096052,"display_name":"Raul Espim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683843640,"creation_date":1633590900,"answer_id":69476891,"question_id":55173522,"body_markdown":"You can try to use the &quot;**2.4.0-alpha05**&quot; version of room, in my case it always worked without any bugs. At least until now (2023) I haven&#39;t needed to change the version.\r\nI don&#39;t have any links to the documentation or anything like that to confirm my answer, I&#39;m just trying to help you based on my own experiences.\r\nWorth trying. I hope this helps.","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<p>You can try to use the &quot;<strong>2.4.0-alpha05</strong>&quot; version of room, in my case it always worked without any bugs. At least until now (2023) I haven't needed to change the version.\nI don't have any links to the documentation or anything like that to confirm my answer, I'm just trying to help you based on my own experiences.\nWorth trying. I hope this helps.</p>\n"}],"owner":{"account_id":13981136,"reputation":81,"user_id":10097248,"display_name":"Kodak Gifted"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1683843640,"creation_date":1552606314,"question_id":55173522,"body_markdown":"# Application gradle file and Project gradle file.\nError: cannot find symbol class DataBindingComponent\n\n        dependencies \n        {\n            implementation &#39;androidx.room:room-runtime:2.1.0-alpha05&#39;\n            annotationProcessor &#39;androidx.room:room-compiler:2.1.0-alpha05&#39;\n      \n        }\n    -----------------------------------------------------------------------------\n        allprojects {\n            repositories {\n                jcenter()\n                maven { url &quot;https://jitpack.io&quot; }\n                google()\n                maven { url &quot;https://kotlin.bintray.com/kotlinx/&quot; }\n            }\n        }\n\n","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<h1>Application gradle file and Project gradle file.</h1>\n<p>Error: cannot find symbol class DataBindingComponent</p>\n<pre><code>    dependencies \n    {\n        implementation 'androidx.room:room-runtime:2.1.0-alpha05'\n        annotationProcessor 'androidx.room:room-compiler:2.1.0-alpha05'\n  \n    }\n-----------------------------------------------------------------------------\n    allprojects {\n        repositories {\n            jcenter()\n            maven { url &quot;https://jitpack.io&quot; }\n            google()\n            maven { url &quot;https://kotlin.bintray.com/kotlinx/&quot; }\n        }\n    }\n</code></pre>\n"},{"tags":["java","jsonschema","json-schema-validator","light-4j"],"answers":[{"comments":[{"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"score":0,"creation_date":1683864407,"post_id":76231913,"comment_id":134434857,"body_markdown":"Thank you for the reply, this is what I am currently using as a workaround.\nBy the way, just curious why the setMessage method is not public in ValidationMessage class.","body":"Thank you for the reply, this is what I am currently using as a workaround. By the way, just curious why the setMessage method is not public in ValidationMessage class."},{"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"score":0,"creation_date":1684295751,"post_id":76231913,"comment_id":134495822,"body_markdown":"What do you think if reflection is used to do that?","body":"What do you think if reflection is used to do that?"}],"tags":[],"owner":{"account_id":92002,"reputation":1383,"user_id":252344,"accept_rate":60,"display_name":"Faron"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683842955,"creation_date":1683842955,"answer_id":76231913,"question_id":76202046,"body_markdown":"*Disclaimer: I contribute to this project.*\r\n\r\nWhile this library does not currently support severities, you can fake it with a few changes. First update your schema to preface each message with your desired severity.\r\n\r\n```\r\n&quot;zip_code&quot;: {\r\n  &quot;type&quot;: &quot;string&quot;,\r\n  &quot;minLength&quot;: 1,\r\n  &quot;message&quot;: {\r\n    &quot;type&quot;: &quot;ERROR: Address.zip_code is not a &#39;String&#39; value&quot;,\r\n    &quot;minLength&quot;: &quot;ERROR: Address.zip_code is empty&quot;\r\n  }\r\n}\r\n```\r\n\r\nSecond, update your code to test for the prefix.\r\n```\r\nInputStream inputStream = ExampleClass.class.getClassLoader().getResourceAsStream(schema);\r\nJsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\r\nJsonSchema jsonSchema = factory.getSchema(inputStream);\r\n\r\nSet&lt;ValidationMessage&gt; errors = jsonSchema.validate(event);\r\nerrors.forEach(validationMessage -&gt; {\r\n    if(validationMessage.getDetails().startsWith(&quot;ERROR: &quot;)) {\r\n       log.error(validationMessage.getDetails().substring(&quot;ERROR: &quot;.length()));\r\n    } else {\r\n       log.warn(validationMessage.getDetails());\r\n    }\r\n});\r\n```","title":"Add aditional information to json-schema and get it when validate through the networknt json validator","body":"<p><em>Disclaimer: I contribute to this project.</em></p>\n<p>While this library does not currently support severities, you can fake it with a few changes. First update your schema to preface each message with your desired severity.</p>\n<pre><code>&quot;zip_code&quot;: {\n  &quot;type&quot;: &quot;string&quot;,\n  &quot;minLength&quot;: 1,\n  &quot;message&quot;: {\n    &quot;type&quot;: &quot;ERROR: Address.zip_code is not a 'String' value&quot;,\n    &quot;minLength&quot;: &quot;ERROR: Address.zip_code is empty&quot;\n  }\n}\n</code></pre>\n<p>Second, update your code to test for the prefix.</p>\n<pre><code>InputStream inputStream = ExampleClass.class.getClassLoader().getResourceAsStream(schema);\nJsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\nJsonSchema jsonSchema = factory.getSchema(inputStream);\n\nSet&lt;ValidationMessage&gt; errors = jsonSchema.validate(event);\nerrors.forEach(validationMessage -&gt; {\n    if(validationMessage.getDetails().startsWith(&quot;ERROR: &quot;)) {\n       log.error(validationMessage.getDetails().substring(&quot;ERROR: &quot;.length()));\n    } else {\n       log.warn(validationMessage.getDetails());\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683842955,"creation_date":1683559707,"question_id":76202046,"body_markdown":"I&#39;m using [json-schema][1] to validate a JSON payload with the help of [networknt json-schema-validator][2]. Now I need to set a severity level like &quot;warning&quot; or &quot;error&quot; to each attribute, and based on its value I&#39;m deciding how to print that validation message, for example, `log.error` or `log.warn`. For that, I need to get that value through Java code when/after it is validated. \r\n\r\nI checked a way to parse some additional details to the `json-schema` along with other fields(type, message, ..) but couldn&#39;t find anything. \r\n\r\nAlso, I&#39;m wondering about the method in `com.networknt.schema.ValidationMessage#getDetails()`, I&#39;m assuming that there is a way to parse extra information through the `json-schema` and that information can be retrieved through that method.\r\n\r\nIf I explain my expectation through a code, it is like this,\r\n\r\n    &quot;zip_code&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;minLength&quot;: 1,\r\n      &quot;severity&quot;: &quot;Error&quot;,\r\n      &quot;message&quot;: {\r\n        &quot;type&quot;: &quot;Address.zip_code is not a &#39;String&#39; value&quot;,\r\n        &quot;minLength&quot;: &quot;Address.zip_code is empty&quot;\r\n      }\r\n    }\r\n\r\n&quot;severity&quot; is the additional attribute that holds the information I need\r\n\r\n\r\n    InputStream inputStream = ExampleClass.class.getClassLoader().getResourceAsStream(schema);\r\n    JsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\r\n    JsonSchema jsonSchema = factory.getSchema(inputStream);\r\n\r\n    Set&lt;ValidationMessage&gt; errors = jsonSchema.validate(event);\r\n    errors.forEach(validationMessage -&gt; {\r\n        if(validationMessage.getDetails().get(&quot;severity&quot;) == &quot;Error&quot;) {\r\n           log.error(validationMessage);\r\n        } else {\r\n           log.warn(validationMessage);\r\n        }\r\n\r\n    });\r\n  \r\n\r\nMaybe, the above way might not be possible, but anyway I&#39;m expective some guidance here on achieving this. TIA.\r\n\r\n\r\n\r\n  [1]: http://json-schema.org/\r\n  [2]: https://github.com/networknt/json-schema-validator","title":"Add aditional information to json-schema and get it when validate through the networknt json validator","body":"<p>I'm using <a href=\"http://json-schema.org/\" rel=\"nofollow noreferrer\">json-schema</a> to validate a JSON payload with the help of <a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">networknt json-schema-validator</a>. Now I need to set a severity level like &quot;warning&quot; or &quot;error&quot; to each attribute, and based on its value I'm deciding how to print that validation message, for example, <code>log.error</code> or <code>log.warn</code>. For that, I need to get that value through Java code when/after it is validated.</p>\n<p>I checked a way to parse some additional details to the <code>json-schema</code> along with other fields(type, message, ..) but couldn't find anything.</p>\n<p>Also, I'm wondering about the method in <code>com.networknt.schema.ValidationMessage#getDetails()</code>, I'm assuming that there is a way to parse extra information through the <code>json-schema</code> and that information can be retrieved through that method.</p>\n<p>If I explain my expectation through a code, it is like this,</p>\n<pre><code>&quot;zip_code&quot;: {\n  &quot;type&quot;: &quot;string&quot;,\n  &quot;minLength&quot;: 1,\n  &quot;severity&quot;: &quot;Error&quot;,\n  &quot;message&quot;: {\n    &quot;type&quot;: &quot;Address.zip_code is not a 'String' value&quot;,\n    &quot;minLength&quot;: &quot;Address.zip_code is empty&quot;\n  }\n}\n</code></pre>\n<p>&quot;severity&quot; is the additional attribute that holds the information I need</p>\n<pre><code>InputStream inputStream = ExampleClass.class.getClassLoader().getResourceAsStream(schema);\nJsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\nJsonSchema jsonSchema = factory.getSchema(inputStream);\n\nSet&lt;ValidationMessage&gt; errors = jsonSchema.validate(event);\nerrors.forEach(validationMessage -&gt; {\n    if(validationMessage.getDetails().get(&quot;severity&quot;) == &quot;Error&quot;) {\n       log.error(validationMessage);\n    } else {\n       log.warn(validationMessage);\n    }\n\n});\n</code></pre>\n<p>Maybe, the above way might not be possible, but anyway I'm expective some guidance here on achieving this. TIA.</p>\n"},{"tags":["java","gwt","ant","code-coverage","jacoco"],"answers":[{"comments":[{"owner":{"account_id":19305970,"reputation":3,"user_id":14112775,"display_name":"Reshu Kumari"},"score":0,"creation_date":1684490364,"post_id":76231882,"comment_id":134528316,"body_markdown":"Thanks, @Godin for the help. I am facing one more issue. &quot;Source file &quot;com/google/appinventor/client/OdeTest.java&quot; was not found during generation of report.&quot; let&#39;s suppose src has client, server and shared sub folders then for server and shared we can see the lines which are covered only for the client folder files I am getting this error. Your help will be appreciated!","body":"Thanks, @Godin for the help. I am facing one more issue. &quot;Source file &quot;com/google/appinventor/client/OdeTest.java&quot; was not found during generation of report.&quot; let&#39;s suppose src has client, server and shared sub folders then for server and shared we can see the lines which are covered only for the client folder files I am getting this error. Your help will be appreciated!"}],"tags":[],"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683842655,"creation_date":1683842655,"answer_id":76231882,"question_id":76230965,"body_markdown":"Your `jacoco:coverage` task specifies\r\n\r\n\r\n```\r\ndestfile=&quot;${local.build.dir}/jacoco.exec&quot;\r\n```\r\n\r\nwhereas your `jacoco:report` task specifies\r\n\r\n```\r\n        &lt;executiondata&gt;\r\n          &lt;file file=&quot;${build.dir}/jacoco.exec&quot;/&gt;\r\n```\r\n\r\nso I guess that change of the last one on\r\n\r\n```\r\n        &lt;executiondata&gt;\r\n          &lt;file file=&quot;${local.build.dir}/jacoco.exec&quot;/&gt;\r\n```\r\n\r\nshould help.\r\n","title":"Unable to read execution data file jacoco.exec","body":"<p>Your <code>jacoco:coverage</code> task specifies</p>\n<pre><code>destfile=&quot;${local.build.dir}/jacoco.exec&quot;\n</code></pre>\n<p>whereas your <code>jacoco:report</code> task specifies</p>\n<pre><code>        &lt;executiondata&gt;\n          &lt;file file=&quot;${build.dir}/jacoco.exec&quot;/&gt;\n</code></pre>\n<p>so I guess that change of the last one on</p>\n<pre><code>        &lt;executiondata&gt;\n          &lt;file file=&quot;${local.build.dir}/jacoco.exec&quot;/&gt;\n</code></pre>\n<p>should help.</p>\n"}],"owner":{"account_id":19305970,"reputation":3,"user_id":14112775,"display_name":"Reshu Kumari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76231882,"answer_count":1,"score":0,"last_activity_date":1683842655,"creation_date":1683832576,"question_id":76230965,"body_markdown":"I want to get the code coverage of a GWT application using jacoco. The build is done using ant and the build file looks like this\r\n\r\n```\r\n&lt;jacoco:coverage destfile=&quot;${local.build.dir}/jacoco.exec&quot;&gt;\r\n      &lt;junit printsummary=&quot;yes&quot;\r\n             fork=&quot;true&quot;\r\n             dir=&quot;${basedir}&quot;\r\n             forkmode=&quot;@{aij-forkmode}&quot;\r\n             haltonfailure=&quot;yes&quot;\r\n             maxmemory=&quot;2000m&quot;\r\n             showoutput=&quot;no&quot;&gt;\r\n        &lt;jvmarg value=&quot;-XX:MaxPermSize=128m&quot;/&gt;\r\n        &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-prod -gen ${local.build.dir}/gen -war ${local.build.dir}/build/war&quot; if:true=&quot;@{aij-prod}&quot;/&gt;\r\n        &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-devMode -logLevel WARN -war ${local.build.dir}/build/war&quot; unless:true=&quot;@{aij-prod}&quot;/&gt;\r\n        &lt;sysproperty key=&quot;java.awt.headless&quot; value=&quot;true&quot;/&gt;\r\n        &lt;classpath refid=&quot;@{aij-testingtarget}.path&quot;/&gt;\r\n        &lt;formatter type=&quot;xml&quot;/&gt;\r\n        &lt;!-- If the ant command line sets the test_name property (see above)\r\n             then we just run that one test. --&gt;\r\n        &lt;test fork=&quot;true&quot; name=&quot;${test_name}&quot; todir=&quot;${reports.dir}/raw/&quot; if=&quot;test_name&quot;/&gt;\r\n        &lt;!-- otherwise, we run all the tests --&gt;\r\n        &lt;batchtest fork=&quot;true&quot; todir=&quot;${reports.dir}/raw/&quot; unless=&quot;test_name&quot;&gt;\r\n          &lt;fileset dir=&quot;${tests.dir}&quot;&gt;\r\n            &lt;include name=&quot;@{aij-dir}/**/*Test.java&quot; /&gt;\r\n            &lt;exclude name=&quot;@{aij-dir}/**/Abstract*Test.java&quot; /&gt;\r\n          &lt;/fileset&gt;\r\n        &lt;/batchtest&gt;\r\n      &lt;/junit&gt;\r\n      &lt;/jacoco:coverage&gt;\r\n      \r\n      &lt;junitreport todir=&quot;${reports.dir}&quot;&gt;\r\n        &lt;fileset dir=&quot;${reports.dir}/raw/&quot;&gt;\r\n          &lt;include name=&quot;TEST-*.xml&quot;/&gt;\r\n        &lt;/fileset&gt;\r\n        &lt;report format=&quot;frames&quot; todir=&quot;${reports.dir}/html&quot;/&gt;\r\n      &lt;/junitreport&gt;\r\n      \r\n      &lt;jacoco:report&gt;\r\n        &lt;executiondata&gt;\r\n          &lt;file file=&quot;${build.dir}/jacoco.exec&quot;/&gt;\r\n        &lt;/executiondata&gt;\r\n        &lt;structure name=&quot;Example Project&quot;&gt;\r\n          &lt;classfiles&gt;\r\n               &lt;fileset dir=&quot;${class.dir}&quot;/&gt;\r\n          &lt;/classfiles&gt;\r\n          &lt;sourcefiles encoding=&quot;UTF-8&quot;&gt;\r\n               &lt;fileset dir=&quot;${src.dir}&quot;/&gt;\r\n          &lt;/sourcefiles&gt;\r\n        &lt;/structure&gt;\r\n\r\n          &lt;html destdir=&quot;${coverage.dir}&quot;/&gt;\r\n      &lt;/jacoco:report&gt;\r\n```\r\n\r\nI am getting the following error when I run tests command `Unable to read execution data file /build/jacoco.exec` for the jacoco report task.\r\nHow can I solve this error.\r\n\r\nI tried different stackoverflow answers but nothing worked.","title":"Unable to read execution data file jacoco.exec","body":"<p>I want to get the code coverage of a GWT application using jacoco. The build is done using ant and the build file looks like this</p>\n<pre><code>&lt;jacoco:coverage destfile=&quot;${local.build.dir}/jacoco.exec&quot;&gt;\n      &lt;junit printsummary=&quot;yes&quot;\n             fork=&quot;true&quot;\n             dir=&quot;${basedir}&quot;\n             forkmode=&quot;@{aij-forkmode}&quot;\n             haltonfailure=&quot;yes&quot;\n             maxmemory=&quot;2000m&quot;\n             showoutput=&quot;no&quot;&gt;\n        &lt;jvmarg value=&quot;-XX:MaxPermSize=128m&quot;/&gt;\n        &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-prod -gen ${local.build.dir}/gen -war ${local.build.dir}/build/war&quot; if:true=&quot;@{aij-prod}&quot;/&gt;\n        &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-devMode -logLevel WARN -war ${local.build.dir}/build/war&quot; unless:true=&quot;@{aij-prod}&quot;/&gt;\n        &lt;sysproperty key=&quot;java.awt.headless&quot; value=&quot;true&quot;/&gt;\n        &lt;classpath refid=&quot;@{aij-testingtarget}.path&quot;/&gt;\n        &lt;formatter type=&quot;xml&quot;/&gt;\n        &lt;!-- If the ant command line sets the test_name property (see above)\n             then we just run that one test. --&gt;\n        &lt;test fork=&quot;true&quot; name=&quot;${test_name}&quot; todir=&quot;${reports.dir}/raw/&quot; if=&quot;test_name&quot;/&gt;\n        &lt;!-- otherwise, we run all the tests --&gt;\n        &lt;batchtest fork=&quot;true&quot; todir=&quot;${reports.dir}/raw/&quot; unless=&quot;test_name&quot;&gt;\n          &lt;fileset dir=&quot;${tests.dir}&quot;&gt;\n            &lt;include name=&quot;@{aij-dir}/**/*Test.java&quot; /&gt;\n            &lt;exclude name=&quot;@{aij-dir}/**/Abstract*Test.java&quot; /&gt;\n          &lt;/fileset&gt;\n        &lt;/batchtest&gt;\n      &lt;/junit&gt;\n      &lt;/jacoco:coverage&gt;\n      \n      &lt;junitreport todir=&quot;${reports.dir}&quot;&gt;\n        &lt;fileset dir=&quot;${reports.dir}/raw/&quot;&gt;\n          &lt;include name=&quot;TEST-*.xml&quot;/&gt;\n        &lt;/fileset&gt;\n        &lt;report format=&quot;frames&quot; todir=&quot;${reports.dir}/html&quot;/&gt;\n      &lt;/junitreport&gt;\n      \n      &lt;jacoco:report&gt;\n        &lt;executiondata&gt;\n          &lt;file file=&quot;${build.dir}/jacoco.exec&quot;/&gt;\n        &lt;/executiondata&gt;\n        &lt;structure name=&quot;Example Project&quot;&gt;\n          &lt;classfiles&gt;\n               &lt;fileset dir=&quot;${class.dir}&quot;/&gt;\n          &lt;/classfiles&gt;\n          &lt;sourcefiles encoding=&quot;UTF-8&quot;&gt;\n               &lt;fileset dir=&quot;${src.dir}&quot;/&gt;\n          &lt;/sourcefiles&gt;\n        &lt;/structure&gt;\n\n          &lt;html destdir=&quot;${coverage.dir}&quot;/&gt;\n      &lt;/jacoco:report&gt;\n</code></pre>\n<p>I am getting the following error when I run tests command <code>Unable to read execution data file /build/jacoco.exec</code> for the jacoco report task.\nHow can I solve this error.</p>\n<p>I tried different stackoverflow answers but nothing worked.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"score":0,"creation_date":1683841038,"post_id":76231729,"comment_id":134432584,"body_markdown":"It seems only Java and JavaScript are using regex engines that timesout when I tested this on regex101.com. All the other quickly concludes that there is no match. Perhaps you could use PCRE2 (if there are java bindings for it)?","body":"It seems only Java and JavaScript are using regex engines that timesout when I tested this on regex101.com. All the other quickly concludes that there is no match. Perhaps you could use PCRE2 (if there are java bindings for it)?"},{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":0,"creation_date":1683841131,"post_id":76231729,"comment_id":134432603,"body_markdown":"@TedLyngmo PCRE2 took ~713k steps before failing (check *Regex Debugger*).","body":"@TedLyngmo PCRE2 took ~713k steps before failing (check <i>Regex Debugger</i>)."},{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":0,"creation_date":1683841279,"post_id":76231729,"comment_id":134432622,"body_markdown":"I don&#39;t know Java, but this seems to be related: [Is Java ReDos vulnerable?](https://stackoverflow.com/q/53048859)","body":"I don&#39;t know Java, but this seems to be related: <a href=\"https://stackoverflow.com/q/53048859\">Is Java ReDos vulnerable?</a>"},{"owner":{"account_id":60200,"reputation":479685,"user_id":179910,"display_name":"Jerry Coffin"},"score":1,"creation_date":1683842339,"post_id":76231729,"comment_id":134432776,"body_markdown":"DFA-based regex engines can match patterns like this in linear time (at the expense of usually using more memory). If you want to support tagged subexpressions, you can use a TDFA (tagged DFA), but they&#39;re more complex still. You can also do some quick hacks by pre-processing the user&#39;s input for obvious problems like this one--since `.*` (once) can match an arbitrary amount of input, you can safely collapse `.*.*` down to a single `.*`. In your example case, that reduces the pattern to `.*b.*x`, which should be fast on essentially any regex engine.","body":"DFA-based regex engines can match patterns like this in linear time (at the expense of usually using more memory). If you want to support tagged subexpressions, you can use a TDFA (tagged DFA), but they&#39;re more complex still. You can also do some quick hacks by pre-processing the user&#39;s input for obvious problems like this one--since <code>.*</code> (once) can match an arbitrary amount of input, you can safely collapse <code>.*.*</code> down to a single <code>.*</code>. In your example case, that reduces the pattern to <code>.*b.*x</code>, which should be fast on essentially any regex engine."},{"owner":{"account_id":60200,"reputation":479685,"user_id":179910,"display_name":"Jerry Coffin"},"score":2,"creation_date":1683842474,"post_id":76231729,"comment_id":134432798,"body_markdown":"A clever user can pretty easily outwit that simple-minded hack though. You can add more sophisticated hacks to make a DoS attack more difficult, but in the end, it probably makes more sense to just spawn the regex search into a separate process, and limit its resource usage, or use a [DFA-based regex engine](https://github.com/marianobarrios/dregex).","body":"A clever user can pretty easily outwit that simple-minded hack though. You can add more sophisticated hacks to make a DoS attack more difficult, but in the end, it probably makes more sense to just spawn the regex search into a separate process, and limit its resource usage, or use a <a href=\"https://github.com/marianobarrios/dregex\" rel=\"nofollow noreferrer\">DFA-based regex engine</a>."},{"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"score":0,"creation_date":1683842474,"post_id":76231729,"comment_id":134432799,"body_markdown":"@InSync Yes, I noticed but it did finish quickly. Unfortunately one can&#39;t check how many steps the other successful engines takes. I suggested PCRE2 because I think it has a lot of language bindings.","body":"@InSync Yes, I noticed but it did finish quickly. Unfortunately one can&#39;t check how many steps the other successful engines takes. I suggested PCRE2 because I think it has a lot of language bindings."}],"answers":[{"tags":[],"owner":{"account_id":2219797,"reputation":10731,"user_id":1960027,"display_name":"Simon"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1683841400,"creation_date":1683841400,"answer_id":76231791,"question_id":76231729,"body_markdown":"According to [Mastering Regular Expressions, 3rd Edition](https://www.oreilly.com/library/view/mastering-regular-expressions/0596528124/ch04.html), Java uses a Traditional NFA regex engine that supports lazy quantifiers but has the disadvantage that some patterns can take a very long time to match.\r\n\r\nDFA engines, being deterministic, don&#39;t suffer from that problem but are less powerful. In particular, lazy quantifiers are not possible with a DFA regex engine such as that found in &quot;awk (most versions), egrep (most versions), flex, lex&quot;.\r\n\r\nSee also [DFA Based Regular Expression Engines for Java with Capture](https://stackoverflow.com/questions/1963975/dfa-based-regular-expression-engines-for-java-with-capture).\r\n\r\n","title":"Regex prone to DOS attack","body":"<p>According to <a href=\"https://www.oreilly.com/library/view/mastering-regular-expressions/0596528124/ch04.html\" rel=\"nofollow noreferrer\">Mastering Regular Expressions, 3rd Edition</a>, Java uses a Traditional NFA regex engine that supports lazy quantifiers but has the disadvantage that some patterns can take a very long time to match.</p>\n<p>DFA engines, being deterministic, don't suffer from that problem but are less powerful. In particular, lazy quantifiers are not possible with a DFA regex engine such as that found in &quot;awk (most versions), egrep (most versions), flex, lex&quot;.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/1963975/dfa-based-regular-expression-engines-for-java-with-capture\">DFA Based Regular Expression Engines for Java with Capture</a>.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1683842648,"creation_date":1683842051,"answer_id":76231839,"question_id":76231729,"body_markdown":"SonarQube keeps alarming on regex like `.*something.*`. Even that must have bad performance, but compared to what?\r\n\r\nComing back to your question: Apparently Sonar has the ability to inspect a regex and determine the risk. While I have not checked where in the code it would decide to alarm, it is open source and can be found at https://github.com/SonarSource/sonarqube\r\n\r\nEdit: There seem to be multiple checks for regex patterns in this directory:\r\nhttps://github.com/SonarSource/sonar-java/tree/master/java-checks/src/main/java/org/sonar/java/checks/regex\r\n\r\nEdit2: The code uses factored out common classes. Here is another promising specimen: https://github.com/SonarSource/sonar-analyzer-commons/blob/master/regex-parsing/src/main/java/org/sonarsource/analyzer/commons/regex/finders/RedosFinder.java","title":"Regex prone to DOS attack","body":"<p>SonarQube keeps alarming on regex like <code>.*something.*</code>. Even that must have bad performance, but compared to what?</p>\n<p>Coming back to your question: Apparently Sonar has the ability to inspect a regex and determine the risk. While I have not checked where in the code it would decide to alarm, it is open source and can be found at <a href=\"https://github.com/SonarSource/sonarqube\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonarqube</a></p>\n<p>Edit: There seem to be multiple checks for regex patterns in this directory:\n<a href=\"https://github.com/SonarSource/sonar-java/tree/master/java-checks/src/main/java/org/sonar/java/checks/regex\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonar-java/tree/master/java-checks/src/main/java/org/sonar/java/checks/regex</a></p>\n<p>Edit2: The code uses factored out common classes. Here is another promising specimen: <a href=\"https://github.com/SonarSource/sonar-analyzer-commons/blob/master/regex-parsing/src/main/java/org/sonarsource/analyzer/commons/regex/finders/RedosFinder.java\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonar-analyzer-commons/blob/master/regex-parsing/src/main/java/org/sonarsource/analyzer/commons/regex/finders/RedosFinder.java</a></p>\n"}],"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"comment_count":6,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1683876846,"answer_count":2,"score":1,"last_activity_date":1683842648,"creation_date":1683840529,"question_id":76231729,"body_markdown":"The following program takes 1.5 seconds to run on my Intel Core i7 machine:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        String regex = &quot;.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*b.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*x&quot;;\r\n        long start = System.nanoTime();\r\n        boolean match = &quot;aaabccc&quot;.matches(regex);\r\n        long end = System.nanoTime();\r\n        System.out.println((end - start) / 1e9);\r\n    }\r\n```\r\n\r\nThe regex consists of 30 times &quot;.\\*&quot; followed by a &quot;b&quot;, followed by another 30 times &quot;.\\*&quot; and finally an &quot;x&quot;. The time taken by `String.matches` to return is exponential on the number of &quot;.*&quot;, i.e. it&#39;s _O(eⁿ)_. If you replace 30 by 50, it will take more than a minute to return.\r\n\r\nThis is concerning because I was thinking of having a public HTTP API where the user would be able to enter a regex. If the regex is coming from outside, it is possible that a malicious user could enter a regex that would cause very high CPU on my server for a long time.\r\n\r\nIs this a known issue in the Java API and does anyone know of a workaround, i.e. a way to inspect a regex to determine whether it is dangerous to use?","title":"Regex prone to DOS attack","body":"<p>The following program takes 1.5 seconds to run on my Intel Core i7 machine:</p>\n<pre><code>    public static void main(String[] args) {\n        String regex = &quot;.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*b.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*x&quot;;\n        long start = System.nanoTime();\n        boolean match = &quot;aaabccc&quot;.matches(regex);\n        long end = System.nanoTime();\n        System.out.println((end - start) / 1e9);\n    }\n</code></pre>\n<p>The regex consists of 30 times &quot;.*&quot; followed by a &quot;b&quot;, followed by another 30 times &quot;.*&quot; and finally an &quot;x&quot;. The time taken by <code>String.matches</code> to return is exponential on the number of &quot;.*&quot;, i.e. it's <em>O(eⁿ)</em>. If you replace 30 by 50, it will take more than a minute to return.</p>\n<p>This is concerning because I was thinking of having a public HTTP API where the user would be able to enter a regex. If the regex is coming from outside, it is possible that a malicious user could enter a regex that would cause very high CPU on my server for a long time.</p>\n<p>Is this a known issue in the Java API and does anyone know of a workaround, i.e. a way to inspect a regex to determine whether it is dangerous to use?</p>\n"},{"tags":["java","spring","openapi-generator","java-17","openapi-generator-maven-plugin"],"owner":{"account_id":25703682,"reputation":21,"user_id":19463357,"display_name":"Roger Huamani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683842574,"creation_date":1683840895,"question_id":76231759,"body_markdown":"##### Description\r\nHi everyone I was migrating plugin for open api from 4.3.1 to latest version 6.5.0.\r\n\r\nI has a custom project that use or Extends SpringCodegen for generate my classes of my spring projects. I am migrating the plugin in pom dependencies but I had some errors, I was trying solver that but I can&#39;t see what is the reason probably I need configure or add some overrides for use this new version of SpringCodegen or Probably update the mustaches of spring language.\r\n\r\n##### openapi-generator version\r\n 6.5.0\r\n\r\n##### OpenAPI declaration file content or url\r\n\r\n```yaml\r\nopenapi: 3.0.0\r\ninfo:\r\n  version: 1.0.0\r\n  title: Simple API\r\n  description: A simple API to illustrate OpenAPI concepts\r\n\r\nservers:\r\n  - url: https://example.io/v1\r\n\r\ncomponents:\r\n  securitySchemes:\r\n    BasicAuth:\r\n      type: http\r\n      scheme: basic\r\nsecurity:\r\n  - BasicAuth: []\r\n\r\npaths:\r\n  /artists:\r\n    get:\r\n      description: Returns a list of artists\r\n      #  ----- Added lines  ----------------------------------------\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: Successfully returned a list of artists\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  type: object\r\n                  required:\r\n                    - username\r\n                  properties:\r\n                    artist_name:\r\n                      type: string\r\n                    artist_genre:\r\n                      type: string\r\n                    albums_recorded:\r\n                      type: integer\r\n                    username:\r\n                      type: string\r\n\r\n        &#39;400&#39;:\r\n          description: Invalid request\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: object\r\n                properties:\r\n                  message:\r\n                    type: string\r\n      #  ---- /Added lines  ----------------------------------------\r\n```\r\n\r\n##### Command line used for generation\r\nI am using maven 3.8.1\r\n\r\n&lt;!-- including the language, libraries and various options --&gt;\r\nJDK 17 Temurin, spring boot 3, open api plugin 6.5.0\r\n\r\n##### Steps to reproduce\r\nI had this error when I compile the project.\r\n\r\nI change from supportingFile.templateFile() to supportingFile.getTemplateFile() because the new version of plugin has this feature in 6.5.0\r\n\r\nThis fragment is of my class that  @Override method &quot;processOpts&quot; of SpringCodegen\r\n\r\n    supportingFiles.removeIf(supportingFile -&gt; &quot;openapi2SpringBoot.mustache&quot;\r\n            .equals(supportingFile.getTemplateFile())\r\n            &amp;&amp; &quot;OpenAPI2SpringBoot.java&quot;.equals(supportingFile.getDestinationFilename()));\r\n    supportingFiles.add(new SupportingFile(&quot;myApplication.mustache&quot;,\r\n            (sourceFolder + File.separator + basePackage)\r\n                    .replace(&quot;.&quot;, File.separator), &quot;MyApplication.java&quot;));\r\n\r\nLog error:\r\n\r\n    unexpected error in Open-API generation\r\n\r\n    java.lang.RuntimeException: Could not generate supporting file &#39;SupportingFile[templateFile=&#39;openapi2SpringBoot.mustache&#39;, folder=&#39;src/main/java/com/myproject/project/services/cross/accessentitlement&#39;, destinationFilename=&#39;OpenApiGeneratorApplication.java&#39;, canOverwrite=true]&#39;\r\n        at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:755)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: org.openapitools.codegen.templating.TemplateNotFoundException: openapi2SpringBoot.mustache\r\n        at org.openapitools.codegen.TemplateManager.getFullTemplateFile (TemplateManager.java:54)\r\n        at org.openapitools.codegen.TemplateManager.getFullTemplateContents (TemplateManager.java:72)\r\n        at org.openapitools.codegen.templating.MustacheEngineAdapter.compileTemplate (MustacheEngineAdapter.java:63)\r\n        at org.openapitools.codegen.TemplateManager.write (TemplateManager.java:163)\r\n        at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1072)\r\n        at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1059)\r\n        at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:747)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    [ERROR] \r\n    java.lang.RuntimeException: Could not generate supporting file &#39;SupportingFile[templateFile=&#39;openapi2SpringBoot.mustache&#39;, folder=&#39;src/main/java/com/myproject/project/services/cross/accessentitlement&#39;, destinationFilename=&#39;OpenApiGeneratorApplication.java&#39;, canOverwrite=true]&#39;\r\n        at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:755)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: org.openapitools.codegen.templating.TemplateNotFoundException: openapi2SpringBoot.mustache\r\n        at org.openapitools.codegen.TemplateManager.getFullTemplateFile (TemplateManager.java:54)\r\n        at org.openapitools.codegen.TemplateManager.getFullTemplateContents (TemplateManager.java:72)\r\n        at org.openapitools.codegen.templating.MustacheEngineAdapter.compileTemplate (MustacheEngineAdapter.java:63)\r\n        at org.openapitools.codegen.TemplateManager.write (TemplateManager.java:163)\r\n        at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1072)\r\n        at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1059)\r\n        at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:747)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n\r\n##### Related issues/PRs\r\nNo\r\n\r\n##### Suggest a fix/enhancement\r\n","title":"Problem migrating custom open api generator from 4.3.1 to 6.5.0 [JAVA - SpringCodegen] #15484","body":"<h5>Description</h5>\n<p>Hi everyone I was migrating plugin for open api from 4.3.1 to latest version 6.5.0.</p>\n<p>I has a custom project that use or Extends SpringCodegen for generate my classes of my spring projects. I am migrating the plugin in pom dependencies but I had some errors, I was trying solver that but I can't see what is the reason probably I need configure or add some overrides for use this new version of SpringCodegen or Probably update the mustaches of spring language.</p>\n<h5>openapi-generator version</h5>\n<p>6.5.0</p>\n<h5>OpenAPI declaration file content or url</h5>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.0\ninfo:\n  version: 1.0.0\n  title: Simple API\n  description: A simple API to illustrate OpenAPI concepts\n\nservers:\n  - url: https://example.io/v1\n\ncomponents:\n  securitySchemes:\n    BasicAuth:\n      type: http\n      scheme: basic\nsecurity:\n  - BasicAuth: []\n\npaths:\n  /artists:\n    get:\n      description: Returns a list of artists\n      #  ----- Added lines  ----------------------------------------\n      responses:\n        '200':\n          description: Successfully returned a list of artists\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n                  required:\n                    - username\n                  properties:\n                    artist_name:\n                      type: string\n                    artist_genre:\n                      type: string\n                    albums_recorded:\n                      type: integer\n                    username:\n                      type: string\n\n        '400':\n          description: Invalid request\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  message:\n                    type: string\n      #  ---- /Added lines  ----------------------------------------\n</code></pre>\n<h5>Command line used for generation</h5>\n<p>I am using maven 3.8.1</p>\n\n<p>JDK 17 Temurin, spring boot 3, open api plugin 6.5.0</p>\n<h5>Steps to reproduce</h5>\n<p>I had this error when I compile the project.</p>\n<p>I change from supportingFile.templateFile() to supportingFile.getTemplateFile() because the new version of plugin has this feature in 6.5.0</p>\n<p>This fragment is of my class that  @Override method &quot;processOpts&quot; of SpringCodegen</p>\n<pre><code>supportingFiles.removeIf(supportingFile -&gt; &quot;openapi2SpringBoot.mustache&quot;\n        .equals(supportingFile.getTemplateFile())\n        &amp;&amp; &quot;OpenAPI2SpringBoot.java&quot;.equals(supportingFile.getDestinationFilename()));\nsupportingFiles.add(new SupportingFile(&quot;myApplication.mustache&quot;,\n        (sourceFolder + File.separator + basePackage)\n                .replace(&quot;.&quot;, File.separator), &quot;MyApplication.java&quot;));\n</code></pre>\n<p>Log error:</p>\n<pre><code>unexpected error in Open-API generation\n\njava.lang.RuntimeException: Could not generate supporting file 'SupportingFile[templateFile='openapi2SpringBoot.mustache', folder='src/main/java/com/myproject/project/services/cross/accessentitlement', destinationFilename='OpenApiGeneratorApplication.java', canOverwrite=true]'\n    at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:755)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.openapitools.codegen.templating.TemplateNotFoundException: openapi2SpringBoot.mustache\n    at org.openapitools.codegen.TemplateManager.getFullTemplateFile (TemplateManager.java:54)\n    at org.openapitools.codegen.TemplateManager.getFullTemplateContents (TemplateManager.java:72)\n    at org.openapitools.codegen.templating.MustacheEngineAdapter.compileTemplate (MustacheEngineAdapter.java:63)\n    at org.openapitools.codegen.TemplateManager.write (TemplateManager.java:163)\n    at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1072)\n    at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1059)\n    at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:747)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n[ERROR] \njava.lang.RuntimeException: Could not generate supporting file 'SupportingFile[templateFile='openapi2SpringBoot.mustache', folder='src/main/java/com/myproject/project/services/cross/accessentitlement', destinationFilename='OpenApiGeneratorApplication.java', canOverwrite=true]'\n    at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:755)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.openapitools.codegen.templating.TemplateNotFoundException: openapi2SpringBoot.mustache\n    at org.openapitools.codegen.TemplateManager.getFullTemplateFile (TemplateManager.java:54)\n    at org.openapitools.codegen.TemplateManager.getFullTemplateContents (TemplateManager.java:72)\n    at org.openapitools.codegen.templating.MustacheEngineAdapter.compileTemplate (MustacheEngineAdapter.java:63)\n    at org.openapitools.codegen.TemplateManager.write (TemplateManager.java:163)\n    at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1072)\n    at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1059)\n    at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:747)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n</code></pre>\n<h5>Related issues/PRs</h5>\n<p>No</p>\n<h5>Suggest a fix/enhancement</h5>\n"},{"tags":["java","c","parsing","jvm","strtoul"],"comments":[{"owner":{"account_id":5175721,"reputation":34195,"user_id":4142924,"display_name":"Weather Vane"},"score":0,"creation_date":1683841930,"post_id":76231747,"comment_id":134432710,"body_markdown":"You should `printf(&quot;%s\\n&quot;, bytecode_hex)` in the `parse_class()` function. `strtoul()` returns `ULONG_MAX` if it is out of range.","body":"You should <code>printf(&quot;%s\\n&quot;, bytecode_hex)</code> in the <code>parse_class()</code> function. <code>strtoul()</code> returns <code>ULONG_MAX</code> if it is out of range."},{"owner":{"account_id":25916036,"reputation":3523,"user_id":19639413,"display_name":"pmacfarlane"},"score":0,"creation_date":1683842063,"post_id":76231747,"comment_id":134432732,"body_markdown":"Your `realloc(buffer, strlen(buffer), ...)` looks dubious. Can the bytecode contain zero bytes? Better to maintain the current length of your buffer in a variable, and double it each time you realloc.","body":"Your <code>realloc(buffer, strlen(buffer), ...)</code> looks dubious. Can the bytecode contain zero bytes? Better to maintain the current length of your buffer in a variable, and double it each time you realloc."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1683842123,"post_id":76231747,"comment_id":134432742,"body_markdown":"Procees the bytes first, not hex codes. Use hex only to print the output.","body":"Procees the bytes first, not hex codes. Use hex only to print the output."},{"owner":{"account_id":5175721,"reputation":34195,"user_id":4142924,"display_name":"Weather Vane"},"score":0,"creation_date":1683842240,"post_id":76231747,"comment_id":134432761,"body_markdown":"The classic way to build an incoming value isn&#39;t with all that malarkey, but to multiply an accumulator by the base and add the incoming byte.","body":"The classic way to build an incoming value isn&#39;t with all that malarkey, but to multiply an accumulator by the base and add the incoming byte."},{"owner":{"account_id":7024615,"reputation":31237,"user_id":5382650,"display_name":"Craig Estey"},"score":0,"creation_date":1683854704,"post_id":76231747,"comment_id":134434095,"body_markdown":"Some docs: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html and https://en.wikipedia.org/wiki/Java_class_file You&#39;ll have to read in the data as _binary_ bytes and store them on field-by-field basis. This could be a C struct as is, _except_ for variable arrays _embedded_ in the struct (which C does _not_ have): `u2 constant_pool_count; cp_info constant_pool[constant_pool_count-1];` In C, we&#39;d need a pointer: `u2 constant_pool_count; cp_info *constant_pool;  // [constant_pool_count-1]` Similar for `interfaces*`, `fields*`, `methods*` and `attributes*`","body":"Some docs: <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html</a> and <a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_class_file</a> You&#39;ll have to read in the data as <i>binary</i> bytes and store them on field-by-field basis. This could be a C struct as is, <i>except</i> for variable arrays <i>embedded</i> in the struct (which C does <i>not</i> have): <code>u2 constant_pool_count; cp_info constant_pool[constant_pool_count-1];</code> In C, we&#39;d need a pointer: <code>u2 constant_pool_count; cp_info *constant_pool;  &#47;&#47; [constant_pool_count-1]</code> Similar for <code>interfaces*</code>, <code>fields*</code>, <code>methods*</code> and <code>attributes*</code>"},{"owner":{"account_id":7024615,"reputation":31237,"user_id":5382650,"display_name":"Craig Estey"},"score":0,"creation_date":1683855329,"post_id":76231747,"comment_id":134434156,"body_markdown":"To start, I&#39;d create two functions: `classfile_load` and `classfile_store`. The first populates the above [C] struct from the class file. The second serializes it to an output file. Both files should now _match_ byte-for-byte. Also, you could have a `classfile_print` that prints out the struct in human readable format (e.g.) `printf(&quot;magic=%4.4X\\n&quot;,ptr-&gt;magic);` This proves that you read it in correctly, accounting for byte-endianess, etc.","body":"To start, I&#39;d create two functions: <code>classfile_load</code> and <code>classfile_store</code>. The first populates the above [C] struct from the class file. The second serializes it to an output file. Both files should now <i>match</i> byte-for-byte. Also, you could have a <code>classfile_print</code> that prints out the struct in human readable format (e.g.) <code>printf(&quot;magic=%4.4X\\n&quot;,ptr-&gt;magic);</code> This proves that you read it in correctly, accounting for byte-endianess, etc."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683872640,"post_id":76231747,"comment_id":134435879,"body_markdown":"Don’t you feel something’s weird about converting data to a hex dump and parsing it back to data?","body":"Don’t you feel something’s weird about converting data to a hex dump and parsing it back to data?"}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683842512,"creation_date":1683842512,"answer_id":76231871,"question_id":76231747,"body_markdown":"Did you look at your `bytecode_hex` string? You are printing a long string of hexadecimal digits. The first `strtoul()` processes it in its entirely, overflowing, and so returning `0xffffffff`. (Or perhaps `0xffffffffffffffff`, since you are only printing the low eight digits.) The next two `strtoul()` calls see no hex digits, and so return 0.\r\n\r\nYou need to put in spaces for where you want the `strtoul()` to stop. Otherwise it has no clue how to parse a string of nothing but hex digits.\r\n\r\nAlso, it makes no sense to convert the byte codes to hex, and then back to binary. Just process the byte codes.","title":"Strtoul Returns Wrong Output in Toy JVM Parser","body":"<p>Did you look at your <code>bytecode_hex</code> string? You are printing a long string of hexadecimal digits. The first <code>strtoul()</code> processes it in its entirely, overflowing, and so returning <code>0xffffffff</code>. (Or perhaps <code>0xffffffffffffffff</code>, since you are only printing the low eight digits.) The next two <code>strtoul()</code> calls see no hex digits, and so return 0.</p>\n<p>You need to put in spaces for where you want the <code>strtoul()</code> to stop. Otherwise it has no clue how to parse a string of nothing but hex digits.</p>\n<p>Also, it makes no sense to convert the byte codes to hex, and then back to binary. Just process the byte codes.</p>\n"}],"owner":{"account_id":16767755,"reputation":33,"user_id":12121012,"display_name":"Levent Kaya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683842512,"creation_date":1683840776,"question_id":76231747,"body_markdown":"I am trying to program a simple bit JVM with C. After reading the .class file with hex, I am trying to parse this file.\r\n\r\n    char *get_bytecode(const char *filename) {\r\n        FILE *fileptr = fopen(filename, &quot;rb&quot;);\r\n        if (!fileptr) {\r\n            fprintf(stderr, &quot;Error: could not open file %s\\n&quot;, filename);\r\n            return NULL;\r\n        }\r\n        char *buffer = malloc(1);\r\n        buffer[0] = &#39;\\0&#39;;\r\n        unsigned char byte;\r\n        while(fread(&amp;byte, sizeof(byte), 1, fileptr) == 1) {\r\n            char *temp = malloc(3);\r\n            sprintf(temp, &quot;%02x&quot;, byte);\r\n            buffer = realloc(buffer, strlen(buffer) + strlen(temp) + 1);\r\n            strcat(buffer, temp);\r\n            free(temp);\r\n        }\r\n        fclose(fileptr);\r\n        return buffer;\r\n    }\r\nThere is no problem with the above function that I occured. After that, I wrote a function to parse the bytecode I received:\r\n\r\n    classfile parse_class(const char *bytecode_hex) {\r\n        classfile classfile;\r\n        memset(&amp;classfile, 0, sizeof(classfile));\r\n        char *endptr;\r\n        classfile.magic = strtoul(bytecode_hex, &amp;endptr, 16);\r\n        printf(&quot;Magic: %08X\\n&quot;, classfile.magic);\r\n        classfile.minor = (uint16_t)strtoul(endptr, &amp;endptr, 16);\r\n        printf(&quot;Minor: %04X\\n&quot;, classfile.minor);\r\n        classfile.major = (uint16_t)strtoul(endptr, NULL, 16);\r\n        printf(&quot;Major: %04X\\n&quot;, classfile.major);\r\n        return classfile;\r\n    }\r\n\r\nI guess the problem is here because I am getting an output like this:\r\n\r\n    Magic: FFFFFFFF\r\n    Minor: 0000\r\n    Major: 0000\r\n\r\nbut the expected output should be like this:\r\n\r\n    Magic: CAFEBABE \r\n    Minor: 0000\r\n    Major: 0056\r\nI couldn&#39;t understand exactly what caused the problem. Thank you in advance for any constructive comments.","title":"Strtoul Returns Wrong Output in Toy JVM Parser","body":"<p>I am trying to program a simple bit JVM with C. After reading the .class file with hex, I am trying to parse this file.</p>\n<pre><code>char *get_bytecode(const char *filename) {\n    FILE *fileptr = fopen(filename, &quot;rb&quot;);\n    if (!fileptr) {\n        fprintf(stderr, &quot;Error: could not open file %s\\n&quot;, filename);\n        return NULL;\n    }\n    char *buffer = malloc(1);\n    buffer[0] = '\\0';\n    unsigned char byte;\n    while(fread(&amp;byte, sizeof(byte), 1, fileptr) == 1) {\n        char *temp = malloc(3);\n        sprintf(temp, &quot;%02x&quot;, byte);\n        buffer = realloc(buffer, strlen(buffer) + strlen(temp) + 1);\n        strcat(buffer, temp);\n        free(temp);\n    }\n    fclose(fileptr);\n    return buffer;\n}\n</code></pre>\n<p>There is no problem with the above function that I occured. After that, I wrote a function to parse the bytecode I received:</p>\n<pre><code>classfile parse_class(const char *bytecode_hex) {\n    classfile classfile;\n    memset(&amp;classfile, 0, sizeof(classfile));\n    char *endptr;\n    classfile.magic = strtoul(bytecode_hex, &amp;endptr, 16);\n    printf(&quot;Magic: %08X\\n&quot;, classfile.magic);\n    classfile.minor = (uint16_t)strtoul(endptr, &amp;endptr, 16);\n    printf(&quot;Minor: %04X\\n&quot;, classfile.minor);\n    classfile.major = (uint16_t)strtoul(endptr, NULL, 16);\n    printf(&quot;Major: %04X\\n&quot;, classfile.major);\n    return classfile;\n}\n</code></pre>\n<p>I guess the problem is here because I am getting an output like this:</p>\n<pre><code>Magic: FFFFFFFF\nMinor: 0000\nMajor: 0000\n</code></pre>\n<p>but the expected output should be like this:</p>\n<pre><code>Magic: CAFEBABE \nMinor: 0000\nMajor: 0056\n</code></pre>\n<p>I couldn't understand exactly what caused the problem. Thank you in advance for any constructive comments.</p>\n"},{"tags":["java","redis","redisson"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1683842688,"post_id":76231833,"comment_id":134432830,"body_markdown":"Why do you check `isLockAcquired` at the beginning vs. `lock != null &amp;&amp; lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()` in the `finally`?","body":"Why do you check <code>isLockAcquired</code> at the beginning vs. <code>lock != null &amp;&amp; lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()</code> in the <code>finally</code>?"}],"owner":{"account_id":28584453,"reputation":1,"user_id":21884989,"display_name":"vot_vam_i_xixi_xaxa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683842317,"creation_date":1683841955,"question_id":76231833,"body_markdown":"I&#39;m using this common code in my distributed locker service:\r\n```\r\nprivate &lt;T&gt; T lockAndProcessTask(String lockKey, boolean waitForLockRelease, Supplier&lt;T&gt; task, Supplier&lt;T&gt; onLockAcquireFail) {\r\n    boolean isLockAcquired = false;\r\n    RLock lock = null;\r\n    T result;\r\n    try {\r\n        val lockAcquireWaitTime = waitForLockRelease ? LOCK_ACQUIRE_WAIT_TIME_MS : 0;\r\n        try {\r\n            lock = redissonClient.getLock(lockKey);\r\n            isLockAcquired = lock.tryLock(lockAcquireWaitTime, LOCK_LEASE_TIME_MS, MILLISECONDS);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Failed to lock, lockKey = {}&quot;, lockKey, e);\r\n        }\r\n        if (isLockAcquired) {\r\n            log.debug(&quot;Lock acquired, lockKey = {}&quot;, lockKey);\r\n            result = task.get();\r\n        } else {\r\n            log.debug(&quot;Failed to acquire lock, lockKey = {}&quot;, lockKey);\r\n            result = onLockAcquireFail.get();\r\n        }\r\n    } finally {\r\n        try {\r\n            if (lock != null &amp;&amp; lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()) {\r\n                lock.unlock();\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Failed to unlock, lockKey = {}&quot;, lockKey, e);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\nAnd getting this error when trying to unlock `RLock`: `lock.unlock()`\r\n\r\nTrace:\r\n```\r\n2023-05-11 21:42:22 [cs-async-358] ERROR c.w.c.s.s.DistributedLockerService - Failed to unlock, lockKey = TEST_LOCK_9000\r\norg.redisson.client.RedisException: Unexpected exception while processing command\r\nCaused by: java.util.concurrent.CompletionException: org.redisson.client.RedisException: ERR The user executing the script can&#39;t publish to the channel mentioned in the command script: 4dfe249c1asdvdff2dbd408626b9aff7, on @user_script:1.. channel: [id: 0xe6b7d174, L:/172.20.0.5:45526 - R:121.187.117.226/156.121.137.203:6379] command: (EVAL), promise: java.util.concurrent.CompletableFuture@22484e24[Not completed], params: [if (redis.call(&#39;hexists&#39;, KEYS[1], ARGV[3]) == 0) then return nil;end; local counter = redis.call(&#39;hincrby&#39;, KEYS[1], ARGV[3], -1); if (counter &gt; 0) then redis.call(&#39;pexpire&#39;, KEYS[1], ARGV[2]); return 0; else redis.call(&#39;del&#39;, KEYS[1]); redis.call(&#39;publish&#39;, KEYS[2], ARGV[1]); return 1; end; return nil;, 2, TEST_LOCK_9000, redisson_lock__channel:{TEST_LOCK_9000}, 0, 3600000, 4ac2378c-7582-4f9a-9cdfa7-8a6823e4709a:57312]\r\n        at org.redisson.RedissonBaseLock.lambda$evalWriteAsync$0(RedissonBaseLock.java:228)\r\n        at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:822)\r\n        at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:797)\r\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\r\n        at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\r\n        at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:284)\r\n        at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\r\n        at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\r\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\r\n```\r\nDo u have any ideas how to fix this?\r\n\r\nI tried to find some info, but didn&#39;t find anything similar. My pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n    &lt;version&gt;3.19.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Java Redisson unlock exception","body":"<p>I'm using this common code in my distributed locker service:</p>\n<pre><code>private &lt;T&gt; T lockAndProcessTask(String lockKey, boolean waitForLockRelease, Supplier&lt;T&gt; task, Supplier&lt;T&gt; onLockAcquireFail) {\n    boolean isLockAcquired = false;\n    RLock lock = null;\n    T result;\n    try {\n        val lockAcquireWaitTime = waitForLockRelease ? LOCK_ACQUIRE_WAIT_TIME_MS : 0;\n        try {\n            lock = redissonClient.getLock(lockKey);\n            isLockAcquired = lock.tryLock(lockAcquireWaitTime, LOCK_LEASE_TIME_MS, MILLISECONDS);\n        } catch (Exception e) {\n            log.error(&quot;Failed to lock, lockKey = {}&quot;, lockKey, e);\n        }\n        if (isLockAcquired) {\n            log.debug(&quot;Lock acquired, lockKey = {}&quot;, lockKey);\n            result = task.get();\n        } else {\n            log.debug(&quot;Failed to acquire lock, lockKey = {}&quot;, lockKey);\n            result = onLockAcquireFail.get();\n        }\n    } finally {\n        try {\n            if (lock != null &amp;&amp; lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()) {\n                lock.unlock();\n            }\n        } catch (Exception e) {\n            log.error(&quot;Failed to unlock, lockKey = {}&quot;, lockKey, e);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>And getting this error when trying to unlock <code>RLock</code>: <code>lock.unlock()</code></p>\n<p>Trace:</p>\n<pre><code>2023-05-11 21:42:22 [cs-async-358] ERROR c.w.c.s.s.DistributedLockerService - Failed to unlock, lockKey = TEST_LOCK_9000\norg.redisson.client.RedisException: Unexpected exception while processing command\nCaused by: java.util.concurrent.CompletionException: org.redisson.client.RedisException: ERR The user executing the script can't publish to the channel mentioned in the command script: 4dfe249c1asdvdff2dbd408626b9aff7, on @user_script:1.. channel: [id: 0xe6b7d174, L:/172.20.0.5:45526 - R:121.187.117.226/156.121.137.203:6379] command: (EVAL), promise: java.util.concurrent.CompletableFuture@22484e24[Not completed], params: [if (redis.call('hexists', KEYS[1], ARGV[3]) == 0) then return nil;end; local counter = redis.call('hincrby', KEYS[1], ARGV[3], -1); if (counter &gt; 0) then redis.call('pexpire', KEYS[1], ARGV[2]); return 0; else redis.call('del', KEYS[1]); redis.call('publish', KEYS[2], ARGV[1]); return 1; end; return nil;, 2, TEST_LOCK_9000, redisson_lock__channel:{TEST_LOCK_9000}, 0, 3600000, 4ac2378c-7582-4f9a-9cdfa7-8a6823e4709a:57312]\n        at org.redisson.RedissonBaseLock.lambda$evalWriteAsync$0(RedissonBaseLock.java:228)\n        at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:822)\n        at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:797)\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\n        at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\n        at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:284)\n        at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\n        at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\n</code></pre>\n<p>Do u have any ideas how to fix this?</p>\n<p>I tried to find some info, but didn't find anything similar. My pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n    &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n    &lt;version&gt;3.19.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":7675502,"reputation":209,"user_id":5816527,"display_name":"Tobias Horst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683842097,"creation_date":1683841761,"answer_id":76231816,"question_id":76231595,"body_markdown":"Your basic idea is completely right. The problem with your code is, that you don&#39;t check only the diagonals of the current queen location. Instead your code checks the diagonals for each field on the diagonal and so on. So your code will always return false if there is any other queen on the chess field.\r\n\r\nMoreover the code directly returns false as your &quot;base case&quot; is always fulfilled as this is the current location of your queen. Take care that you just check the diagonals from the current queen location.\r\n\r\nThe solution might be something like the following. The code below is not tested.\r\n\r\n    // Entry point of recursion. Starts a recursion for each diagonal.\r\n\t// We don&#39;t want to check current queens location as this would always return false.\r\n    public boolean diaCheck(int r, int c){\r\n\t    return diaCheck(r-1, c-1, -1, -1) &amp;&amp; \r\n           diaCheck(r-1, c+1, -1, +1) &amp;&amp; \r\n           diaCheck(r+1, c-1, +1, -1) &amp;&amp; \r\n           diaCheck(r+1, c+1, +1, +1));     \r\n    }\r\n\r\n    // Method to check a single diagonal direction for a queen\r\n    public boolean diaCheck(int r, int c, int incVertical, int incHorizontal){\r\n\t    if(r &gt;= 0 &amp;&amp; r &lt; board.length &amp;&amp; c &gt;= 0 &amp;&amp; c &lt; board.length){  //base case: r or \r\n            if(board[r][c]==1){\r\n                return false;\r\n            }else{ \r\n\t\t\t    return diaCheck(r + incVertical,c + incHorizontal, incVertical, incHorizontal);\r\n\t\t    }\r\n        } \r\n\t    return true;\r\n    }","title":"Boolean Recursive Method To Check Diagonal Spots on a Board","body":"<p>Your basic idea is completely right. The problem with your code is, that you don't check only the diagonals of the current queen location. Instead your code checks the diagonals for each field on the diagonal and so on. So your code will always return false if there is any other queen on the chess field.</p>\n<p>Moreover the code directly returns false as your &quot;base case&quot; is always fulfilled as this is the current location of your queen. Take care that you just check the diagonals from the current queen location.</p>\n<p>The solution might be something like the following. The code below is not tested.</p>\n<pre><code>// Entry point of recursion. Starts a recursion for each diagonal.\n// We don't want to check current queens location as this would always return false.\npublic boolean diaCheck(int r, int c){\n    return diaCheck(r-1, c-1, -1, -1) &amp;&amp; \n       diaCheck(r-1, c+1, -1, +1) &amp;&amp; \n       diaCheck(r+1, c-1, +1, -1) &amp;&amp; \n       diaCheck(r+1, c+1, +1, +1));     \n}\n\n// Method to check a single diagonal direction for a queen\npublic boolean diaCheck(int r, int c, int incVertical, int incHorizontal){\n    if(r &gt;= 0 &amp;&amp; r &lt; board.length &amp;&amp; c &gt;= 0 &amp;&amp; c &lt; board.length){  //base case: r or \n        if(board[r][c]==1){\n            return false;\n        }else{ \n            return diaCheck(r + incVertical,c + incHorizontal, incVertical, incHorizontal);\n        }\n    } \n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":5212244,"reputation":11,"user_id":4168251,"display_name":"John McDonald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76231816,"answer_count":1,"score":0,"last_activity_date":1683842097,"creation_date":1683839071,"question_id":76231595,"body_markdown":"I am doing the Queens Challenge and I already have a method to iteratively check the rows and columns.  I am trying to recursively check all of the diagonal spots, beginning at the current queen location.     \r\n\r\n    //pre: r &amp; c within bounds of board\r\n    //post: returns true if no queens are diagonally challenging\r\n    public boolean diaCheck(int r, int c){\r\n        if(r &gt;= 0 &amp;&amp; r &lt; board.length &amp;&amp; c &gt;= 0 &amp;&amp; c &lt; board.length){  //base case: r or \r\n            if(board[r][c]==1){ //base case: the spot being checked is a queen\r\n                return false;\r\n            }else{ //recursive case \r\n                return diaCheck(r-1, c-1) &amp;&amp; \r\n                    diaCheck(r-1, c+1) &amp;&amp; \r\n                    diaCheck(r+1, c-1) &amp;&amp; \r\n                    diaCheck(r+1, c+1));     \r\n        } \r\n        return true;\r\n\r\n    }\r\nI tried this and I was expecting it to work.","title":"Boolean Recursive Method To Check Diagonal Spots on a Board","body":"<p>I am doing the Queens Challenge and I already have a method to iteratively check the rows and columns.  I am trying to recursively check all of the diagonal spots, beginning at the current queen location.</p>\n<pre><code>//pre: r &amp; c within bounds of board\n//post: returns true if no queens are diagonally challenging\npublic boolean diaCheck(int r, int c){\n    if(r &gt;= 0 &amp;&amp; r &lt; board.length &amp;&amp; c &gt;= 0 &amp;&amp; c &lt; board.length){  //base case: r or \n        if(board[r][c]==1){ //base case: the spot being checked is a queen\n            return false;\n        }else{ //recursive case \n            return diaCheck(r-1, c-1) &amp;&amp; \n                diaCheck(r-1, c+1) &amp;&amp; \n                diaCheck(r+1, c-1) &amp;&amp; \n                diaCheck(r+1, c+1));     \n    } \n    return true;\n\n}\n</code></pre>\n<p>I tried this and I was expecting it to work.</p>\n"},{"tags":["java","android","kotlin","adb"],"owner":{"account_id":6314922,"reputation":174,"user_id":6005041,"display_name":"Efraim Bart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683841442,"creation_date":1683836832,"question_id":76231388,"body_markdown":"Running the below command launches the URI in the default app for that URI, falling back on the app picker if there is none.\r\n\r\n```console\r\nadb shell am start -a android.intent.action.VIEW -d &quot;https://example.com&quot;\r\n```\r\n\r\nWhich is equivalent to:\r\n\r\n```kotlin\r\nval intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://example.com&quot;))\r\nstartActivity(intent)\r\n```\r\n\r\n\r\nMy question is how would I force launch the app picker for the URI instead, via ADB, but equivalent to: \r\n```kotlin\r\nval intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://example.com&quot;))\r\nval chooser = Intent.createChooser(intent, null)\r\nstartActivity(chooser)\r\n```\r\nor\r\n```kotlin\r\nval intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://example.com&quot;))\r\nval chooser = new Intent(Intent.ACTION_CHOOSER)\r\nchooser.putExtra(Intent.EXTRA_INTENT, intent)\r\nstartActivity(chooser)\r\n```","title":"How can I force launch the Android app picker for a URI via ADB?","body":"<p>Running the below command launches the URI in the default app for that URI, falling back on the app picker if there is none.</p>\n<pre><code>adb shell am start -a android.intent.action.VIEW -d &quot;https://example.com&quot;\n</code></pre>\n<p>Which is equivalent to:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://example.com&quot;))\nstartActivity(intent)\n</code></pre>\n<p>My question is how would I force launch the app picker for the URI instead, via ADB, but equivalent to:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://example.com&quot;))\nval chooser = Intent.createChooser(intent, null)\nstartActivity(chooser)\n</code></pre>\n<p>or</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://example.com&quot;))\nval chooser = new Intent(Intent.ACTION_CHOOSER)\nchooser.putExtra(Intent.EXTRA_INTENT, intent)\nstartActivity(chooser)\n</code></pre>\n"},{"tags":["java","biginteger"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1379335584,"post_id":18828377,"comment_id":27773608,"body_markdown":"How slow is it and how fast do you need it to be?","body":"How slow is it and how fast do you need it to be?"},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1379337041,"post_id":18828377,"comment_id":27774515,"body_markdown":"@Kayaman The faster of the 2 takes over 30 seconds for a number of 184948 decimal digits. I need it to be less than 2 seconds.","body":"@Kayaman The faster of the 2 takes over 30 seconds for a number of 184948 decimal digits. I need it to be less than 2 seconds."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1379337190,"post_id":18828377,"comment_id":27774619,"body_markdown":"2 seconds? That sounds a lot like the time limit of a programming competition.","body":"2 seconds? That sounds a lot like the time limit of a programming competition."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1379337750,"post_id":18828377,"comment_id":27774968,"body_markdown":"There&#39;s some nice twiddles to do this - try [here](http://stackoverflow.com/a/18054857/823393) to start with. May not apply to BigInteger.","body":"There&#39;s some nice twiddles to do this - try <a href=\"http://stackoverflow.com/a/18054857/823393\">here</a> to start with. May not apply to BigInteger."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1379343637,"post_id":18828377,"comment_id":27778955,"body_markdown":"@Dukeling No compo, I just don&#39;t want my JUnit tests to become so slow I won&#39;t run them before committing. The code is [here](https://github.com/droolsjbpm/optaplanner/blob/master/optaplanner-examples/src/main/java/org/optaplanner/examples/common/persistence/AbstractSolutionImporter.java#L96) if you&#39;re interested.","body":"@Dukeling No compo, I just don&#39;t want my JUnit tests to become so slow I won&#39;t run them before committing. The code is <a href=\"https://github.com/droolsjbpm/optaplanner/blob/master/optaplanner-examples/src/main/java/org/optaplanner/examples/common/persistence/AbstractSolutionImporter.java#L96\" rel=\"nofollow noreferrer\">here</a> if you&#39;re interested."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1379347342,"post_id":18828377,"comment_id":27781235,"body_markdown":"With [Guava](https://code.google.com/p/guava-libraries/), this is the one-liner `BigIntegerMath.log10(x, RoundingMode.FLOOR) + 1`.  Guava uses several of the tricks discussed here.","body":"With <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Guava</a>, this is the one-liner <code>BigIntegerMath.log10(x, RoundingMode.FLOOR) + 1</code>.  Guava uses several of the tricks discussed here."}],"answers":[{"comments":[{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1379336080,"post_id":18828536,"comment_id":27773894,"body_markdown":"It may be possible to combine this with `testBit` in a loop to get an exact answer, although it would be slow for some cases.","body":"It may be possible to combine this with <code>testBit</code> in a loop to get an exact answer, although it would be slow for some cases."},{"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"score":0,"creation_date":1379336258,"post_id":18828536,"comment_id":27774008,"body_markdown":"@Dukeling I can&#39;t think of how to do it without calculating the original number. You can test few last bits, but you&#39;d deal in probabilities anyway.","body":"@Dukeling I can&#39;t think of how to do it without calculating the original number. You can test few last bits, but you&#39;d deal in probabilities anyway."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1379336632,"post_id":18828536,"comment_id":27774280,"body_markdown":"Well, if you have 16 bits, the range is 65536 (5 digits) - 131071 (6 digits). If you were to check the first 3 bits and you get `111`, this would guarantee 6 digits, similarly `10` guarantees 5 digits. So you can really just keep checking from the left until you get into some range containing a fixed number of digits.","body":"Well, if you have 16 bits, the range is 65536 (5 digits) - 131071 (6 digits). If you were to check the first 3 bits and you get <code>111</code>, this would guarantee 6 digits, similarly <code>10</code> guarantees 5 digits. So you can really just keep checking from the left until you get into some range containing a fixed number of digits."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":1,"creation_date":1379337345,"post_id":18828536,"comment_id":27774705,"body_markdown":"Doing BigInteger.pow() is relatively fast (less than 1 second for 184948 decimal digits IIRC). So maybe `10.pow(result)` can be used to resolve the *off by 1 digit* problem","body":"Doing BigInteger.pow() is relatively fast (less than 1 second for 184948 decimal digits IIRC). So maybe <code>10.pow(result)</code> can be used to resolve the <i>off by 1 digit</i> problem"}],"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1379335833,"creation_date":1379335833,"answer_id":18828536,"question_id":18828377,"body_markdown":"I think that you could use [bitLength()](http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#bitLength%28%29) to get a log2 value, then [change the base to 10](http://en.wikipedia.org/wiki/Logarithm#Change_of_base). \r\n\r\nThe result may be wrong, however, by one digit, so this is just an approximation.\r\n\r\nHowever, if that&#39;s acceptable, you could always add 1 to the result and bound it to be *at most*. Or, subtract 1, and get *at least*.","title":"BigInteger: count the number of decimal digits in a scalable method","body":"<p>I think that you could use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#bitLength%28%29\">bitLength()</a> to get a log2 value, then <a href=\"http://en.wikipedia.org/wiki/Logarithm#Change_of_base\">change the base to 10</a>. </p>\n\n<p>The result may be wrong, however, by one digit, so this is just an approximation.</p>\n\n<p>However, if that's acceptable, you could always add 1 to the result and bound it to be <em>at most</em>. Or, subtract 1, and get <em>at least</em>.</p>\n"},{"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1379511876,"post_id":18860385,"comment_id":27853216,"body_markdown":"Takes about 0.35 seconds on my 64bit i7 for numbers of the order of 10^180000","body":"Takes about 0.35 seconds on my 64bit i7 for numbers of the order of 10^180000"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":1,"creation_date":1379513450,"post_id":18860385,"comment_id":27854296,"body_markdown":"I found a mistake in the code while testing - I was using bitCount instead of bitLength - please refresh your copy if you took one. Now takes about 0.22 seconds for your huge numbers.","body":"I found a mistake in the code while testing - I was using bitCount instead of bitLength - please refresh your copy if you took one. Now takes about 0.22 seconds for your huge numbers."},{"owner":{"account_id":3552601,"reputation":501,"user_id":2967113,"accept_rate":80,"display_name":"Eric Lagergren"},"score":2,"creation_date":1513638069,"post_id":18860385,"comment_id":82721249,"body_markdown":"If you want a faster algorithm, take a look at what BigDecimal uses to calculate the length of its mantissa :-)","body":"If you want a faster algorithm, take a look at what BigDecimal uses to calculate the length of its mantissa :-)"}],"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1391695726,"creation_date":1379454056,"answer_id":18860385,"question_id":18828377,"body_markdown":"This looks like it is working. I haven&#39;t run exhaustive tests yet, n&#39;or have I run any time tests but it seems to have a reasonable run time.\r\n\r\n    public class Test {\r\n      /**\r\n       * Optimised for huge numbers.\r\n       *\r\n       * http://en.wikipedia.org/wiki/Logarithm#Change_of_base\r\n       *\r\n       * States that log[b](x) = log[k](x)/log[k](b)\r\n       *\r\n       * We can get log[2](x) as the bitCount of the number so what we need is\r\n       * essentially bitCount/log[2](10). Sadly that will lead to inaccuracies so\r\n       * here I will attempt an iterative process that should achieve accuracy.\r\n       *\r\n       * log[2](10) = 3.32192809488736234787 so if I divide by 10^(bitCount/4) we\r\n       * should not go too far. In fact repeating that process while adding (bitCount/4)\r\n       * to the running count of the digits will end up with an accurate figure\r\n       * given some twiddling at the end.\r\n       * \r\n       * So here&#39;s the scheme:\r\n       * \r\n       * While there are more than 4 bits in the number\r\n       *   Divide by 10^(bits/4)\r\n       *   Increase digit count by (bits/4)\r\n       * \r\n       * Fiddle around to accommodate the remaining digit - if there is one.\r\n       * \r\n       * Essentially - each time around the loop we remove a number of decimal \r\n       * digits (by dividing by 10^n) keeping a count of how many we&#39;ve removed.\r\n       * \r\n       * The number of digits we remove is estimated from the number of bits in the \r\n       * number (i.e. log[2](x) / 4). The perfect figure for the reduction would be\r\n       * log[2](x) / 3.3219... so dividing by 4 is a good under-estimate. We \r\n       * don&#39;t go too far but it does mean we have to repeat it just a few times.\r\n       */\r\n      private int log10(BigInteger huge) {\r\n        int digits = 0;\r\n        int bits = huge.bitLength();\r\n        // Serious reductions.\r\n        while (bits &gt; 4) {\r\n          // 4 &gt; log[2](10) so we should not reduce it too far.\r\n          int reduce = bits / 4;\r\n          // Divide by 10^reduce\r\n          huge = huge.divide(BigInteger.TEN.pow(reduce));\r\n          // Removed that many decimal digits.\r\n          digits += reduce;\r\n          // Recalculate bitLength\r\n          bits = huge.bitLength();\r\n        }\r\n        // Now 4 bits or less - add 1 if necessary.\r\n        if ( huge.intValue() &gt; 9 ) {\r\n          digits += 1;\r\n        }\r\n        return digits;\r\n      }\r\n\r\n      // Random tests.\r\n      Random rnd = new Random();\r\n      // Limit the bit length.\r\n      int maxBits = BigInteger.TEN.pow(200000).bitLength();\r\n\r\n      public void test() {\r\n        // 100 tests.\r\n        for (int i = 1; i &lt;= 100; i++) {\r\n          BigInteger huge = new BigInteger((int)(Math.random() * maxBits), rnd);\r\n          // Note start time.\r\n          long start = System.currentTimeMillis();\r\n          // Do my method.\r\n          int myLength = log10(huge);\r\n          // Record my result.\r\n          System.out.println(&quot;Digits: &quot; + myLength+ &quot; Took: &quot; + (System.currentTimeMillis() - start));\r\n          // Check the result.\r\n          int trueLength = huge.toString().length() - 1;\r\n          if (trueLength != myLength) {\r\n            System.out.println(&quot;WRONG!! &quot; + (myLength - trueLength));\r\n          }\r\n        }\r\n      }\r\n\r\n      public static void main(String args[]) {\r\n        new Test().test();\r\n      }\r\n\r\n    }\r\nTook about 3 seconds on my Celeron M laptop so it should hit sub 2 seconds on some decent kit.\r\n\r\n","title":"BigInteger: count the number of decimal digits in a scalable method","body":"<p>This looks like it is working. I haven't run exhaustive tests yet, n'or have I run any time tests but it seems to have a reasonable run time.</p>\n\n<pre><code>public class Test {\n  /**\n   * Optimised for huge numbers.\n   *\n   * http://en.wikipedia.org/wiki/Logarithm#Change_of_base\n   *\n   * States that log[b](x) = log[k](x)/log[k](b)\n   *\n   * We can get log[2](x) as the bitCount of the number so what we need is\n   * essentially bitCount/log[2](10). Sadly that will lead to inaccuracies so\n   * here I will attempt an iterative process that should achieve accuracy.\n   *\n   * log[2](10) = 3.32192809488736234787 so if I divide by 10^(bitCount/4) we\n   * should not go too far. In fact repeating that process while adding (bitCount/4)\n   * to the running count of the digits will end up with an accurate figure\n   * given some twiddling at the end.\n   * \n   * So here's the scheme:\n   * \n   * While there are more than 4 bits in the number\n   *   Divide by 10^(bits/4)\n   *   Increase digit count by (bits/4)\n   * \n   * Fiddle around to accommodate the remaining digit - if there is one.\n   * \n   * Essentially - each time around the loop we remove a number of decimal \n   * digits (by dividing by 10^n) keeping a count of how many we've removed.\n   * \n   * The number of digits we remove is estimated from the number of bits in the \n   * number (i.e. log[2](x) / 4). The perfect figure for the reduction would be\n   * log[2](x) / 3.3219... so dividing by 4 is a good under-estimate. We \n   * don't go too far but it does mean we have to repeat it just a few times.\n   */\n  private int log10(BigInteger huge) {\n    int digits = 0;\n    int bits = huge.bitLength();\n    // Serious reductions.\n    while (bits &gt; 4) {\n      // 4 &gt; log[2](10) so we should not reduce it too far.\n      int reduce = bits / 4;\n      // Divide by 10^reduce\n      huge = huge.divide(BigInteger.TEN.pow(reduce));\n      // Removed that many decimal digits.\n      digits += reduce;\n      // Recalculate bitLength\n      bits = huge.bitLength();\n    }\n    // Now 4 bits or less - add 1 if necessary.\n    if ( huge.intValue() &gt; 9 ) {\n      digits += 1;\n    }\n    return digits;\n  }\n\n  // Random tests.\n  Random rnd = new Random();\n  // Limit the bit length.\n  int maxBits = BigInteger.TEN.pow(200000).bitLength();\n\n  public void test() {\n    // 100 tests.\n    for (int i = 1; i &lt;= 100; i++) {\n      BigInteger huge = new BigInteger((int)(Math.random() * maxBits), rnd);\n      // Note start time.\n      long start = System.currentTimeMillis();\n      // Do my method.\n      int myLength = log10(huge);\n      // Record my result.\n      System.out.println(\"Digits: \" + myLength+ \" Took: \" + (System.currentTimeMillis() - start));\n      // Check the result.\n      int trueLength = huge.toString().length() - 1;\n      if (trueLength != myLength) {\n        System.out.println(\"WRONG!! \" + (myLength - trueLength));\n      }\n    }\n  }\n\n  public static void main(String args[]) {\n    new Test().test();\n  }\n\n}\n</code></pre>\n\n<p>Took about 3 seconds on my Celeron M laptop so it should hit sub 2 seconds on some decent kit.</p>\n"},{"comments":[{"owner":{"account_id":371567,"reputation":1694,"user_id":720163,"accept_rate":73,"display_name":"Matej Tymes"},"score":0,"creation_date":1462654376,"post_id":23773083,"comment_id":61730873,"body_markdown":"would just add some small changes as for ZERO you&#39;ll get 0 instead of 1 and for negative values the number of digits are little bit of (so you need to negate the number first). But otherwise good job (you and Dariusz) (gave you both a +1)","body":"would just add some small changes as for ZERO you&#39;ll get 0 instead of 1 and for negative values the number of digits are little bit of (so you need to negate the number first). But otherwise good job (you and Dariusz) (gave you both a +1)"}],"tags":[],"owner":{"account_id":124620,"reputation":11720,"user_id":319821,"accept_rate":80,"display_name":"dln385"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1400639814,"creation_date":1400639814,"answer_id":23773083,"question_id":18828377,"body_markdown":"Here&#39;s a fast method based on [Dariusz&#39;s answer][1]:\r\n\r\n    public static int getDigitCount(BigInteger number) {\r\n      double factor = Math.log(2) / Math.log(10);\r\n      int digitCount = (int) (factor * number.bitLength() + 1);\r\n      if (BigInteger.TEN.pow(digitCount - 1).compareTo(number) &gt; 0) {\r\n        return digitCount - 1;\r\n      }\r\n      return digitCount;\r\n    }\r\n\r\nThe following code tests the numbers 1, 9, 10, 99, 100, 999, 1000, etc. all the way to ten-thousand digits:\r\n\r\n    public static void test() {\r\n      for (int i = 0; i &lt; 10000; i++) {\r\n        BigInteger n = BigInteger.TEN.pow(i);\r\n        if (getDigitCount(n.subtract(BigInteger.ONE)) != i || getDigitCount(n) != i + 1) {\r\n          System.out.println(&quot;Failure: &quot; + i);\r\n        }\r\n      }\r\n      System.out.println(&quot;Done&quot;);\r\n    }\r\n\r\nThis can check a *`BigInteger`* with *`184,948`* decimal digits and more in well under a second.\r\n\r\n  [1]: https://stackoverflow.com/a/18828536/319821","title":"BigInteger: count the number of decimal digits in a scalable method","body":"<p>Here's a fast method based on <a href=\"https://stackoverflow.com/a/18828536/319821\">Dariusz's answer</a>:</p>\n\n<pre><code>public static int getDigitCount(BigInteger number) {\n  double factor = Math.log(2) / Math.log(10);\n  int digitCount = (int) (factor * number.bitLength() + 1);\n  if (BigInteger.TEN.pow(digitCount - 1).compareTo(number) &gt; 0) {\n    return digitCount - 1;\n  }\n  return digitCount;\n}\n</code></pre>\n\n<p>The following code tests the numbers 1, 9, 10, 99, 100, 999, 1000, etc. all the way to ten-thousand digits:</p>\n\n<pre><code>public static void test() {\n  for (int i = 0; i &lt; 10000; i++) {\n    BigInteger n = BigInteger.TEN.pow(i);\n    if (getDigitCount(n.subtract(BigInteger.ONE)) != i || getDigitCount(n) != i + 1) {\n      System.out.println(\"Failure: \" + i);\n    }\n  }\n  System.out.println(\"Done\");\n}\n</code></pre>\n\n<p>This can check a <em><code>BigInteger</code></em> with <em><code>184,948</code></em> decimal digits and more in well under a second.</p>\n"},{"tags":[],"owner":{"account_id":2128119,"reputation":231,"user_id":1889682,"accept_rate":83,"display_name":"Truthseeker Rangwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419665286,"creation_date":1419665286,"answer_id":27665291,"question_id":18828377,"body_markdown":"This is an another way to do it faster than Convert-to-String method. Not the best run time, but still reasonable 0.65 seconds versus 2.46 seconds with Convert-to-String method (at 180000 digits).\r\n\r\nThis method computes the integer part of the base-10 logarithm from the given value. However, instead of using loop-divide, it uses a technique similar to Exponentiation by Squaring.\r\n\r\nHere is a crude implementation that achieves the runtime mentioned earlier:\r\n\r\n    public static BigInteger log(BigInteger base,BigInteger num)\r\n\t{\r\n\t\t/* The technique tries to get the products among the squares of base\r\n\t\t * close to the actual value as much as possible without exceeding it.\r\n\t\t * */\r\n\t\tBigInteger resultSet = BigInteger.ZERO;\r\n\t\tBigInteger actMult = BigInteger.ONE;\r\n\t\tBigInteger lastMult = BigInteger.ONE;\r\n\t\tBigInteger actor = base;\r\n\t\tBigInteger incrementor = BigInteger.ONE;\r\n\t\twhile(actMult.multiply(base).compareTo(num)&lt;1)\r\n\t\t{\r\n\t\t\tint count = 0;\r\n\t\t\twhile(actMult.multiply(actor).compareTo(num)&lt;1)\r\n\t\t\t{\r\n\t\t\t\tlastMult = actor; //Keep the old squares\r\n\t\t\t\tactor = actor.multiply(actor); //Square the base repeatedly until the value exceeds \r\n\t\t\t\tif(count&gt;0) incrementor = incrementor.multiply(BigInteger.valueOf(2));\r\n\t\t\t\t//Update the current exponent of the base\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tif(count == 0) break;\r\n\t\t\t\r\n\t\t\t/* If there is no way to multiply the &quot;actMult&quot;\r\n\t\t\t * with squares of the base (including the base itself)\r\n\t\t\t * without keeping it below the actual value, \r\n\t\t\t * it is the end of the computation \r\n\t\t\t */\r\n\t\t\tactMult = actMult.multiply(lastMult);\r\n\t\t\tresultSet = resultSet.add(incrementor);\r\n\t\t\t/* Update the product and the exponent\r\n\t\t\t * */\r\n\t\t\tactor = base;\r\n\t\t\tincrementor = BigInteger.ONE;\r\n\t\t\t//Reset the values for another iteration\r\n\t\t}\r\n\t\treturn resultSet;\r\n\t}\r\n\tpublic static int digits(BigInteger num)\r\n\t{\r\n\t\tif(num.equals(BigInteger.ZERO)) return 1;\r\n\t\tif(num.compareTo(BigInteger.ZERO)&lt;0) num = num.multiply(BigInteger.valueOf(-1));\r\n\t\treturn log(BigInteger.valueOf(10),num).intValue()+1;\r\n\t}\r\n\r\nHope this will helps.","title":"BigInteger: count the number of decimal digits in a scalable method","body":"<p>This is an another way to do it faster than Convert-to-String method. Not the best run time, but still reasonable 0.65 seconds versus 2.46 seconds with Convert-to-String method (at 180000 digits).</p>\n\n<p>This method computes the integer part of the base-10 logarithm from the given value. However, instead of using loop-divide, it uses a technique similar to Exponentiation by Squaring.</p>\n\n<p>Here is a crude implementation that achieves the runtime mentioned earlier:</p>\n\n<pre><code>public static BigInteger log(BigInteger base,BigInteger num)\n{\n    /* The technique tries to get the products among the squares of base\n     * close to the actual value as much as possible without exceeding it.\n     * */\n    BigInteger resultSet = BigInteger.ZERO;\n    BigInteger actMult = BigInteger.ONE;\n    BigInteger lastMult = BigInteger.ONE;\n    BigInteger actor = base;\n    BigInteger incrementor = BigInteger.ONE;\n    while(actMult.multiply(base).compareTo(num)&lt;1)\n    {\n        int count = 0;\n        while(actMult.multiply(actor).compareTo(num)&lt;1)\n        {\n            lastMult = actor; //Keep the old squares\n            actor = actor.multiply(actor); //Square the base repeatedly until the value exceeds \n            if(count&gt;0) incrementor = incrementor.multiply(BigInteger.valueOf(2));\n            //Update the current exponent of the base\n            count++;\n        }\n        if(count == 0) break;\n\n        /* If there is no way to multiply the \"actMult\"\n         * with squares of the base (including the base itself)\n         * without keeping it below the actual value, \n         * it is the end of the computation \n         */\n        actMult = actMult.multiply(lastMult);\n        resultSet = resultSet.add(incrementor);\n        /* Update the product and the exponent\n         * */\n        actor = base;\n        incrementor = BigInteger.ONE;\n        //Reset the values for another iteration\n    }\n    return resultSet;\n}\npublic static int digits(BigInteger num)\n{\n    if(num.equals(BigInteger.ZERO)) return 1;\n    if(num.compareTo(BigInteger.ZERO)&lt;0) num = num.multiply(BigInteger.valueOf(-1));\n    return log(BigInteger.valueOf(10),num).intValue()+1;\n}\n</code></pre>\n\n<p>Hope this will helps.</p>\n"},{"tags":[],"owner":{"account_id":4755704,"reputation":31,"user_id":3844538,"display_name":"ajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594894234,"creation_date":1594888848,"answer_id":62930827,"question_id":18828377,"body_markdown":"You can first convert the `BigInteger` to a `BigDecimal` and then use this [answer][1] to compute the number of digits. This seems more efficient than using `BigInteger.toString()` as that would allocate memory for `String` representation.  \r\n\r\n        private static int numberOfDigits(BigInteger value) {\r\n            return significantDigits(new BigDecimal(value));\r\n        }\r\n\r\n        private static int significantDigits(BigDecimal value) {\r\n            return value.scale() &lt; 0\r\n                   ? value.precision() - value.scale()\r\n                   : value.precision();\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21443880/2585059\r\n","title":"BigInteger: count the number of decimal digits in a scalable method","body":"<p>You can first convert the <code>BigInteger</code> to a <code>BigDecimal</code> and then use this <a href=\"https://stackoverflow.com/a/21443880/2585059\">answer</a> to compute the number of digits. This seems more efficient than using <code>BigInteger.toString()</code> as that would allocate memory for <code>String</code> representation.</p>\n<pre><code>    private static int numberOfDigits(BigInteger value) {\n        return significantDigits(new BigDecimal(value));\n    }\n\n    private static int significantDigits(BigDecimal value) {\n        return value.scale() &lt; 0\n               ? value.precision() - value.scale()\n               : value.precision();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5736561,"reputation":25350,"user_id":4543207,"display_name":"Redu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683840879,"creation_date":1683840879,"answer_id":76231757,"question_id":18828377,"body_markdown":"Just for the record; I can answer in JS but should be the same in any reasonable language.\r\n\r\nObviously you can convert it into a string and check the length but that&#39;s... what can i say... UGLY.\r\n\r\n - If it is not a `BigInt` (say less than 16 digits) Than\r\n   `Math.floor(Math.log10(number))` should do it.\r\n - If it&#39;s a `BigInt` then you can always divide it `n` times by `1e16` up until it&#39;s remainder is less than `1e16`. Then the number of digits is\r\n\r\n`n * 16 + Math.floor(Math.log10(remainder))`","title":"BigInteger: count the number of decimal digits in a scalable method","body":"<p>Just for the record; I can answer in JS but should be the same in any reasonable language.</p>\n<p>Obviously you can convert it into a string and check the length but that's... what can i say... UGLY.</p>\n<ul>\n<li>If it is not a <code>BigInt</code> (say less than 16 digits) Than\n<code>Math.floor(Math.log10(number))</code> should do it.</li>\n<li>If it's a <code>BigInt</code> then you can always divide it <code>n</code> times by <code>1e16</code> up until it's remainder is less than <code>1e16</code>. Then the number of digits is</li>\n</ul>\n<p><code>n * 16 + Math.floor(Math.log10(remainder))</code></p>\n"}],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19332,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":18860385,"answer_count":6,"score":21,"last_activity_date":1683840879,"creation_date":1379335334,"question_id":18828377,"body_markdown":"I need the count the number of decimal digits of a `BigInteger`. For example:\r\n\r\n- `99` returns `2`\r\n- `1234` returns `4`\r\n- `9999` returns `4`\r\n- `12345678901234567890` returns `20`\r\n\r\nI need to do this *for a `BigInteger` with `184948` decimal digits and more*. **How can I do this fast and scalable?**\r\n\r\n\r\nThe *convert-to-String* approach is slow:\r\n\r\n    public String getWritableNumber(BigInteger number) {\r\n       // Takes over 30 seconds for 184948 decimal digits\r\n       return &quot;10^&quot; + (number.toString().length() - 1);\r\n    }\r\n\r\nThis *loop-devide-by-ten* approach is even slower:\r\n\r\n    public String getWritableNumber(BigInteger number) {\r\n        int digitSize = 0;\r\n        while (!number.equals(BigInteger.ZERO)) {\r\n            number = number.divide(BigInteger.TEN);\r\n            digitSize++;\r\n        }\r\n        return &quot;10^&quot; + (digitSize - 1);\r\n    }\r\n\r\nAre there any faster methods?","title":"BigInteger: count the number of decimal digits in a scalable method","body":"<p>I need the count the number of decimal digits of a <code>BigInteger</code>. For example:</p>\n\n<ul>\n<li><code>99</code> returns <code>2</code></li>\n<li><code>1234</code> returns <code>4</code></li>\n<li><code>9999</code> returns <code>4</code></li>\n<li><code>12345678901234567890</code> returns <code>20</code></li>\n</ul>\n\n<p>I need to do this <em>for a <code>BigInteger</code> with <code>184948</code> decimal digits and more</em>. <strong>How can I do this fast and scalable?</strong></p>\n\n<p>The <em>convert-to-String</em> approach is slow:</p>\n\n<pre><code>public String getWritableNumber(BigInteger number) {\n   // Takes over 30 seconds for 184948 decimal digits\n   return \"10^\" + (number.toString().length() - 1);\n}\n</code></pre>\n\n<p>This <em>loop-devide-by-ten</em> approach is even slower:</p>\n\n<pre><code>public String getWritableNumber(BigInteger number) {\n    int digitSize = 0;\n    while (!number.equals(BigInteger.ZERO)) {\n        number = number.divide(BigInteger.TEN);\n        digitSize++;\n    }\n    return \"10^\" + (digitSize - 1);\n}\n</code></pre>\n\n<p>Are there any faster methods?</p>\n"},{"tags":["java","postgresql","jdbc"],"owner":{"account_id":13443994,"reputation":354,"user_id":9700478,"display_name":"GeekOverdose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683840010,"creation_date":1683831214,"question_id":76230812,"body_markdown":"How do I go about persisting Java arrays with JDBC and Postgres?\r\nI know that you can persist standard arrays just by passing them to `preparedStatement.setObject()`, for example, `String[]` will be persisted as `text[]`. However, what if I want to persist something like `PGInterval[][][]` which would correspond to `interval[][][]` in the database? When I pass it to `.setObject()`, it errors, saying it cannot cast object of type `[[[Lorg.postgresql.util.PGInterval;`. How would I do that? Or for example, how would I persist `OffsetDateTime[][]` which corresponds to `timestamptz[][]`?\r\n\r\nHow should I persist an array of a composite type? For example if the type is \r\n```sql\r\nCREATE TYPE test AS (\r\n  a integer,\r\n  b integer\r\n);\r\n```\r\nAnd I make a POJO to match\r\n```java\r\nclass Test {\r\n  Integer a;\r\n  Integer b;\r\n\r\n  // constructors + getters/setters omitted\r\n}\r\n```\r\n\r\nHow would I go about persisting `Test[][][][]` as `test[][][][]`?","title":"How to persist non-standard arrays with jdbc + postgres?","body":"<p>How do I go about persisting Java arrays with JDBC and Postgres?\nI know that you can persist standard arrays just by passing them to <code>preparedStatement.setObject()</code>, for example, <code>String[]</code> will be persisted as <code>text[]</code>. However, what if I want to persist something like <code>PGInterval[][][]</code> which would correspond to <code>interval[][][]</code> in the database? When I pass it to <code>.setObject()</code>, it errors, saying it cannot cast object of type <code>[[[Lorg.postgresql.util.PGInterval;</code>. How would I do that? Or for example, how would I persist <code>OffsetDateTime[][]</code> which corresponds to <code>timestamptz[][]</code>?</p>\n<p>How should I persist an array of a composite type? For example if the type is</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TYPE test AS (\n  a integer,\n  b integer\n);\n</code></pre>\n<p>And I make a POJO to match</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Test {\n  Integer a;\n  Integer b;\n\n  // constructors + getters/setters omitted\n}\n</code></pre>\n<p>How would I go about persisting <code>Test[][][][]</code> as <code>test[][][][]</code>?</p>\n"},{"tags":["java","dynamic-programming"],"comments":[{"owner":{"account_id":12031702,"reputation":158,"user_id":8801732,"display_name":"DasaniT"},"score":1,"creation_date":1683852004,"post_id":76231672,"comment_id":134433856,"body_markdown":"I ran your code with some changes to make it runnable and it actually worked fine. You can remove the `this` keyword, declare your matrix type `int[][]`. The output I got is your expected output. You can check the code here: https://www.online-java.com/Z4jEMKvJUS","body":"I ran your code with some changes to make it runnable and it actually worked fine. You can remove the <code>this</code> keyword, declare your matrix type <code>int[][]</code>. The output I got is your expected output. You can check the code here: <a href=\"https://www.online-java.com/Z4jEMKvJUS\" rel=\"nofollow noreferrer\">online-java.com/Z4jEMKvJUS</a>"}],"owner":{"account_id":28438549,"reputation":7,"user_id":21758270,"display_name":"MissMidg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683839907,"creation_date":1683839907,"question_id":76231672,"body_markdown":"I&#39;m working on a program for class where the goal is the return the longest common subsequence of two string inputs. For example, the LCS for &quot;ALGORITHMS&quot; and &quot;DATA STRUCTURES&quot; is &quot;ARTS&quot;. The way I&#39;m supposed to accomplish this is by filling a 2D array but I&#39;m struggling with that part a bit. I&#39;m not sure why the arrays do not match, and nested loops hurt my tiny brain.\r\n\r\nFor the code I have now I&#39;m getting the error:\r\n\r\nEx.\r\n\r\n&quot;BAAB&quot; and &quot;ABBA&quot;\r\n\r\nExpected:\r\n\r\n[ 0 1 1 1 ] [ 1 1 1 2 ] [ 1 1 1 2 ] [ 1 2 2 2 ]\r\n\r\nMy output:\r\n\r\n[ 0 0 0 0 ] [ 0 0 1 1 ] [ 0 1 1 1 ] [ 0 1 1 1 ]\r\n\r\nMy code so far:\r\n\r\n    public LCSMatrix(String str1, String str2) {\r\n\t\tthis.rowCount = (int) str1.length();\r\n\t\tthis.columnCount = (int) str2.length();\r\n\r\n\t\t// Your code here\r\n\t\tmatrix = new int[rowCount + 1][columnCount + 1];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt;= rowCount; i++) {\r\n\t\t   for (int j = 0; j &lt;= columnCount; j++) {\r\n\t\t      \r\n\t\t      if (i == 0 || j == 0) {\r\n\t\t         matrix[i][j] = 0;\r\n\t\t      } else if (str1.charAt(i - 1) == str2.charAt(j - 1)) {\r\n\t\t         matrix[i][j] = matrix[i - 1][j - 1] + 1;\r\n\t\t      } else {\r\n\t\t         matrix[i][j] = Math.max(matrix[i - 1][j], matrix[i][j - 1]);\r\n\t\t      }\r\n\t\t   }\r\n\t\t}\r\n\t}\r\n\r\nOnce I correctly fill the array, I can then start on the method that uses the matrix to output a hashset of  the LCS&#39;s. Thanks!\r\n","title":"Java: Longest common subsequences","body":"<p>I'm working on a program for class where the goal is the return the longest common subsequence of two string inputs. For example, the LCS for &quot;ALGORITHMS&quot; and &quot;DATA STRUCTURES&quot; is &quot;ARTS&quot;. The way I'm supposed to accomplish this is by filling a 2D array but I'm struggling with that part a bit. I'm not sure why the arrays do not match, and nested loops hurt my tiny brain.</p>\n<p>For the code I have now I'm getting the error:</p>\n<p>Ex.</p>\n<p>&quot;BAAB&quot; and &quot;ABBA&quot;</p>\n<p>Expected:</p>\n<p>[ 0 1 1 1 ] [ 1 1 1 2 ] [ 1 1 1 2 ] [ 1 2 2 2 ]</p>\n<p>My output:</p>\n<p>[ 0 0 0 0 ] [ 0 0 1 1 ] [ 0 1 1 1 ] [ 0 1 1 1 ]</p>\n<p>My code so far:</p>\n<pre><code>public LCSMatrix(String str1, String str2) {\n    this.rowCount = (int) str1.length();\n    this.columnCount = (int) str2.length();\n\n    // Your code here\n    matrix = new int[rowCount + 1][columnCount + 1];\n    \n    for (int i = 0; i &lt;= rowCount; i++) {\n       for (int j = 0; j &lt;= columnCount; j++) {\n          \n          if (i == 0 || j == 0) {\n             matrix[i][j] = 0;\n          } else if (str1.charAt(i - 1) == str2.charAt(j - 1)) {\n             matrix[i][j] = matrix[i - 1][j - 1] + 1;\n          } else {\n             matrix[i][j] = Math.max(matrix[i - 1][j], matrix[i][j - 1]);\n          }\n       }\n    }\n}\n</code></pre>\n<p>Once I correctly fill the array, I can then start on the method that uses the matrix to output a hashset of  the LCS's. Thanks!</p>\n"},{"tags":["java","android","http","https"],"comments":[{"owner":{"account_id":18288154,"reputation":57,"user_id":13315559,"display_name":"mahmoud elmahgoub"},"score":0,"creation_date":1683841237,"post_id":76231624,"comment_id":134432618,"body_markdown":"thanks it works,\nbut is displaying images from sites stats with http: isn&#39;t secure?","body":"thanks it works, but is displaying images from sites stats with http: isn&#39;t secure?"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1683842648,"post_id":76231624,"comment_id":134432819,"body_markdown":"If its just images probably not an issue, but without HTTPS, man-in-the-middle attack is possible for more valuable things (login tokens, passwords, etc.)","body":"If its just images probably not an issue, but without HTTPS, man-in-the-middle attack is possible for more valuable things (login tokens, passwords, etc.)"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1683843084,"post_id":76231624,"comment_id":134432892,"body_markdown":"Whether `just images` and `not an issue` should go into one sentence depends on what information these images would contain, what they&#39;d be used for etc.","body":"Whether <code>just images</code> and <code>not an issue</code> should go into one sentence depends on what information these images would contain, what they&#39;d be used for etc."}],"owner":{"account_id":18288154,"reputation":57,"user_id":13315559,"display_name":"mahmoud elmahgoub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683841572,"answer_count":0,"score":0,"last_activity_date":1683839424,"creation_date":1683839424,"question_id":76231624,"body_markdown":"I show images from internet in my app. \r\n\r\nwhen I retrieve image link starts with https:// the app show it, but when image link stats with http:// the image doesn&#39;t load.\r\n\r\nI display image by using glide ","title":"image link start with http: doesn&#39;t load","body":"<p>I show images from internet in my app.</p>\n<p>when I retrieve image link starts with https:// the app show it, but when image link stats with http:// the image doesn't load.</p>\n<p>I display image by using glide</p>\n"},{"tags":["java","mysql","hibernate","maven"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1465458443,"post_id":37719818,"comment_id":62912071,"body_markdown":"Does it work with another connector like C oder ODBC?","body":"Does it work with another connector like C oder ODBC?"},{"owner":{"account_id":5172185,"reputation":15508,"user_id":4140346,"accept_rate":63,"display_name":"James111"},"score":0,"creation_date":1465458489,"post_id":37719818,"comment_id":62912094,"body_markdown":"Haven&#39;t tried? How would I test this out? @Michael-O","body":"Haven&#39;t tried? How would I test this out? @Michael-O"},{"owner":{"account_id":5172185,"reputation":15508,"user_id":4140346,"accept_rate":63,"display_name":"James111"},"score":0,"creation_date":1465458537,"post_id":37719818,"comment_id":62912130,"body_markdown":"JDBC seems to be the most popular?","body":"JDBC seems to be the most popular?"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1465458650,"post_id":37719818,"comment_id":62912199,"body_markdown":"e.g., in PHP or Windows ODBC or unixODBC. What does the property `user.timezone` (`TimeZone.getDefault()`) on the client and server say?","body":"e.g., in PHP or Windows ODBC or unixODBC. What does the property <code>user.timezone</code> (<code>TimeZone.getDefault()</code>) on the client and server say?"},{"owner":{"account_id":2024343,"reputation":924,"user_id":1809799,"display_name":"Ren&#233;"},"score":0,"creation_date":1465458831,"post_id":37719818,"comment_id":62912310,"body_markdown":"You need a &quot;real&quot; time zone. The same happens with CEST (&quot;Central European Standard Time&quot;) - here you have to decide on Europe/Berlin or Europe/Paris etc. For AEST this seems to be one of Australia/Sydney, Australia/Tasmania or Australia/Victoria.","body":"You need a &quot;real&quot; time zone. The same happens with CEST (&quot;Central European Standard Time&quot;) - here you have to decide on Europe/Berlin or Europe/Paris etc. For AEST this seems to be one of Australia/Sydney, Australia/Tasmania or Australia/Victoria."},{"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"score":0,"creation_date":1465458963,"post_id":37719818,"comment_id":62912384,"body_markdown":"Possible duplicate of [How to change mysql timezone in java connection](http://stackoverflow.com/questions/7605953/how-to-change-mysql-timezone-in-java-connection)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/7605953/how-to-change-mysql-timezone-in-java-connection\">How to change mysql timezone in java connection</a>"},{"owner":{"account_id":2024343,"reputation":924,"user_id":1809799,"display_name":"Ren&#233;"},"score":0,"creation_date":1465459224,"post_id":37719818,"comment_id":62912550,"body_markdown":"Possible duplicate of http://stackoverflow.com/q/26515700/1809799","body":"Possible duplicate of <a href=\"http://stackoverflow.com/q/26515700/1809799\">stackoverflow.com/q/26515700/1809799</a>"},{"owner":{"account_id":5172185,"reputation":15508,"user_id":4140346,"accept_rate":63,"display_name":"James111"},"score":0,"creation_date":1465459389,"post_id":37719818,"comment_id":62912659,"body_markdown":"@Ren&#233; Seems to me like this could be a bug with the jdbc...As mentioned in one of the comments in that link, it doesn&#39;t 6.0.2","body":"@Ren&#233; Seems to me like this could be a bug with the jdbc...As mentioned in one of the comments in that link, it doesn&#39;t 6.0.2"},{"owner":{"account_id":2024343,"reputation":924,"user_id":1809799,"display_name":"Ren&#233;"},"score":0,"creation_date":1465459803,"post_id":37719818,"comment_id":62912914,"body_markdown":"@James111 Have you tried Version 5.1.39 of the connector? https://dev.mysql.com/doc/connector-j/6.0/en/connector-j-versions.html mentions version 6 to be a developer milestone ...","body":"@James111 Have you tried Version 5.1.39 of the connector? <a href=\"https://dev.mysql.com/doc/connector-j/6.0/en/connector-j-versions.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/6.0/en/connector-j-versions.ht&zwnj;&#8203;ml</a> mentions version 6 to be a developer milestone ..."},{"owner":{"account_id":5172185,"reputation":15508,"user_id":4140346,"accept_rate":63,"display_name":"James111"},"score":0,"creation_date":1465460021,"post_id":37719818,"comment_id":62913052,"body_markdown":"Was just trying that out before you commented...fixed the issue :) Thanks","body":"Was just trying that out before you commented...fixed the issue :) Thanks"}],"answers":[{"comments":[{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":1,"creation_date":1526465543,"post_id":37720335,"comment_id":87752243,"body_markdown":"Upgrading to 8.0.11 also fixes this.","body":"Upgrading to 8.0.11 also fixes this."},{"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"score":0,"creation_date":1552392195,"post_id":37720335,"comment_id":96983515,"body_markdown":"Connector 8.0.15 seems broken and needs the above fix.","body":"Connector 8.0.15 seems broken and needs the above fix."},{"owner":{"account_id":343306,"reputation":1239,"user_id":674927,"accept_rate":38,"display_name":"Brecht Yperman"},"score":1,"creation_date":1620304634,"post_id":37720335,"comment_id":119165000,"body_markdown":"8.0.23 by default uses the local timezone, and so does not have this problem by default either https://dev.mysql.com/doc/relnotes/connector-j/8.0/en/news-8-0-23.html","body":"8.0.23 by default uses the local timezone, and so does not have this problem by default either <a href=\"https://dev.mysql.com/doc/relnotes/connector-j/8.0/en/news-8-0-23.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/relnotes/connector-j/8.0/en/news-8-0-23.ht&zwnj;&#8203;ml</a>"}],"tags":[],"owner":{"account_id":5172185,"reputation":15508,"user_id":4140346,"accept_rate":63,"display_name":"James111"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1465460002,"creation_date":1465460002,"answer_id":37720335,"question_id":37719818,"body_markdown":"Turns out `6.x` wasn&#39;t compatible, moving to `5.1.39` fixed it.","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>Turns out <code>6.x</code> wasn't compatible, moving to <code>5.1.39</code> fixed it.</p>\n"},{"comments":[{"owner":{"account_id":404222,"reputation":111,"user_id":772430,"display_name":"BikerJared"},"score":2,"creation_date":1500317893,"post_id":39549488,"comment_id":77272359,"body_markdown":"This worked for me. I updated my Spring application.properties file. I&#39;d like to set this to my local timezone though (Mountain Time) and would like it to be smart enough to handle daylight savings, (i.e., MDT becomes MST and back again throughout the year).","body":"This worked for me. I updated my Spring application.properties file. I&#39;d like to set this to my local timezone though (Mountain Time) and would like it to be smart enough to handle daylight savings, (i.e., MDT becomes MST and back again throughout the year)."},{"owner":{"account_id":3983188,"reputation":818,"user_id":3284607,"display_name":"gael"},"score":3,"creation_date":1524796584,"post_id":39549488,"comment_id":87125267,"body_markdown":"This parameter can be added to phpStorm database manager too to connect.","body":"This parameter can be added to phpStorm database manager too to connect."},{"owner":{"account_id":201905,"reputation":2040,"user_id":448641,"accept_rate":75,"display_name":"vinnyjames"},"score":0,"creation_date":1548973082,"post_id":39549488,"comment_id":95747964,"body_markdown":"I updated my Linux server&#39;s /etc/localtime from /usr/share/zoneinfo/US/Pacific to /usr/share/zoneinfo/America/Los_Angeles then restarted mysql service and this fixed the issue for me.","body":"I updated my Linux server&#39;s /etc/localtime from /usr/share/zoneinfo/US/Pacific to /usr/share/zoneinfo/America/Los_Angeles then restarted mysql service and this fixed the issue for me."},{"owner":{"account_id":7361469,"reputation":175,"user_id":5604617,"display_name":"Bia"},"score":0,"creation_date":1592244845,"post_id":39549488,"comment_id":110350572,"body_markdown":"I had the same problem and this post solved it. Anyway, if I start application in debug mode, I have this exception: &quot;Exception in thread &quot;main&quot; com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server&quot;. Any idea?","body":"I had the same problem and this post solved it. Anyway, if I start application in debug mode, I have this exception: &quot;Exception in thread &quot;main&quot; com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure  The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server&quot;. Any idea?"}],"tags":[],"owner":{"account_id":5291133,"reputation":4271,"user_id":4223697,"accept_rate":93,"display_name":"FuSsA"},"comment_count":4,"down_vote_count":0,"up_vote_count":96,"is_accepted":false,"score":96,"last_activity_date":1474131767,"creation_date":1474131767,"answer_id":39549488,"question_id":37719818,"body_markdown":"try to add those parameters..\r\n\r\n    jdbc:mysql://localhost:3306/fussa?useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\ni&#39;m using **mysql-connector-java 6.0.4**","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>try to add those parameters..</p>\n\n<pre><code>jdbc:mysql://localhost:3306/fussa?useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n\n<p>i'm using <strong>mysql-connector-java 6.0.4</strong></p>\n"},{"tags":[],"owner":{"account_id":9234487,"reputation":51,"user_id":6859562,"display_name":"gabi.m"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474893320,"creation_date":1474893320,"answer_id":39703002,"question_id":37719818,"body_markdown":"The exception is thrown because the MySql server timezone (inherited from the system timezone) is in a different format than what the mysql connector expects. You need to set MySql timezone to be &#39;Australia/Sydney&#39;. Look at this awesome response for details: https://stackoverflow.com/questions/19023978/should-mysql-have-its-timezone-set-to-utc/19075291#19075291\r\n\r\n- populate the mysql schema with the timezone information:\r\n\r\n`mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root -p mysql`\r\n\r\n- from mysql run:\r\n\r\n`SET GLOBAL time_zone = &#39;Australia/Sydney&#39;;`\r\n\r\n- restart mysql server\r\n","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>The exception is thrown because the MySql server timezone (inherited from the system timezone) is in a different format than what the mysql connector expects. You need to set MySql timezone to be 'Australia/Sydney'. Look at this awesome response for details: <a href=\"https://stackoverflow.com/questions/19023978/should-mysql-have-its-timezone-set-to-utc/19075291#19075291\">Should MySQL have its timezone set to UTC?</a></p>\n\n<ul>\n<li>populate the mysql schema with the timezone information:</li>\n</ul>\n\n<p><code>mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root -p mysql</code></p>\n\n<ul>\n<li>from mysql run:</li>\n</ul>\n\n<p><code>SET GLOBAL time_zone = 'Australia/Sydney';</code></p>\n\n<ul>\n<li>restart mysql server</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"score":0,"creation_date":1643320114,"post_id":42835732,"comment_id":125315612,"body_markdown":"@LawrenceDol actually you are incorrect. It is embedded in XML so still needs to be escaped.","body":"@LawrenceDol actually you are incorrect. It is embedded in XML so still needs to be escaped."}],"tags":[],"owner":{"account_id":2386826,"reputation":69,"user_id":2087635,"display_name":"user2087635"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1489672673,"creation_date":1489671567,"answer_id":42835732,"question_id":37719818,"body_markdown":"    jdbc:mysql://localhost:3306/fussa?useLegacyDatetimeCode=false&amp;amp;serverTimezone=UTC\r\n\r\nUse `&amp;amp;` instead of `&amp;`.\r\n\r\nYou can try change the timezone on mysql too:\r\n\r\n    SET GLOBAL time_zone = &#39;00:00&#39;;\t\r\n\r\nAnd see the current setting:\r\n\r\n    SELECT @@global.time_zone, @@session.time_zone;","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<pre><code>jdbc:mysql://localhost:3306/fussa?useLegacyDatetimeCode=false&amp;amp;serverTimezone=UTC\n</code></pre>\n\n<p>Use <code>&amp;amp;</code> instead of <code>&amp;</code>.</p>\n\n<p>You can try change the timezone on mysql too:</p>\n\n<pre><code>SET GLOBAL time_zone = '00:00'; \n</code></pre>\n\n<p>And see the current setting:</p>\n\n<pre><code>SELECT @@global.time_zone, @@session.time_zone;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1884931,"reputation":160,"user_id":1704344,"accept_rate":50,"display_name":"Jos&#233; Castillo"},"score":0,"creation_date":1553178420,"post_id":51323485,"comment_id":97295161,"body_markdown":"Works for me, on SpringBoot with mysql 8.0","body":"Works for me, on SpringBoot with mysql 8.0"}],"tags":[],"owner":{"account_id":8180577,"reputation":1584,"user_id":6157949,"accept_rate":85,"display_name":"catch22"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531479189,"creation_date":1531479189,"answer_id":51323485,"question_id":37719818,"body_markdown":"build.gradle &gt;\r\n\r\n    compile group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.11&#39;\r\n\r\napplication.properties &gt;\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/bookworm?useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\n-\r\n\r\n     mysql --version\r\n     mysql  Ver 8.0.11 for osx10.13 on x86_64 (Homebrew)\r\n\r\n\r\nThis combination works for me.","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>build.gradle ></p>\n\n<pre><code>compile group: 'mysql', name: 'mysql-connector-java', version: '8.0.11'\n</code></pre>\n\n<p>application.properties ></p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/bookworm?useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n\n<p>-</p>\n\n<pre><code> mysql --version\n mysql  Ver 8.0.11 for osx10.13 on x86_64 (Homebrew)\n</code></pre>\n\n<p>This combination works for me.</p>\n"},{"tags":[],"owner":{"account_id":10381883,"reputation":3276,"user_id":7656367,"display_name":"antelove"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538720967,"creation_date":1538720967,"answer_id":52659538,"question_id":37719818,"body_markdown":"**Using default** \r\n\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/web_student_tracker?user=root&amp;password=&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;);","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p><strong>Using default</strong> </p>\n\n<pre><code>Connection conn = DriverManager.getConnection(\"jdbc:mysql://localhost/web_student_tracker?user=root&amp;password=&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4418975,"reputation":449,"user_id":3599627,"accept_rate":29,"display_name":"Darshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553337941,"creation_date":1553337941,"answer_id":55312890,"question_id":37719818,"body_markdown":"Hi You need to specify in you URL specifier like below\r\n\r\n     @Bean\r\n        public DataSource dataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/jpahibernate?useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;);\r\n            dataSource.setUsername(&quot;root&quot;);\r\n            dataSource.setPassword(&quot;Password&quot;);\r\n            return dataSource;\r\n        }\r\n\r\nIn the above code snippet have a look on `setUrl` property","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>Hi You need to specify in you URL specifier like below</p>\n\n<pre><code> @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(\"com.mysql.jdbc.Driver\");\n        dataSource.setUrl(\"jdbc:mysql://localhost:3306/jpahibernate?useLegacyDatetimeCode=false&amp;serverTimezone=UTC\");\n        dataSource.setUsername(\"root\");\n        dataSource.setPassword(\"Password\");\n        return dataSource;\n    }\n</code></pre>\n\n<p>In the above code snippet have a look on <code>setUrl</code> property</p>\n"},{"tags":[],"owner":{"account_id":13785294,"reputation":498,"user_id":9949370,"display_name":"2rahulsk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553522830,"creation_date":1553522830,"answer_id":55339682,"question_id":37719818,"body_markdown":"This is the problem of the version of the MySQLWorkbench. Upgrade to the latest version which is 8.0 and then add serverTimezone=UTC in your jdbc URL.\r\n\r\nString url = &quot;jdbc:mysql://localhost:3306/your_db?useSSL=false&amp;serverTimezone=UTC&quot;;","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>This is the problem of the version of the MySQLWorkbench. Upgrade to the latest version which is 8.0 and then add serverTimezone=UTC in your jdbc URL.</p>\n\n<p>String url = \"jdbc:mysql://localhost:3306/your_db?useSSL=false&amp;serverTimezone=UTC\";</p>\n"},{"tags":[],"owner":{"account_id":97334,"reputation":1843,"user_id":264069,"accept_rate":86,"display_name":"Gunith D"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1554531058,"creation_date":1554531058,"answer_id":55546383,"question_id":37719818,"body_markdown":"The proper solution, IMHO for AEDT, is to change the URL as follows, \r\n\r\n    jdbc:mysql://localhost:3306/sampledb?serverTimezone=Australia/Sydney","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>The proper solution, IMHO for AEDT, is to change the URL as follows, </p>\n\n<pre><code>jdbc:mysql://localhost:3306/sampledb?serverTimezone=Australia/Sydney\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12323829,"reputation":71,"user_id":8992452,"display_name":"NUKE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581975528,"creation_date":1581975528,"answer_id":60270741,"question_id":37719818,"body_markdown":"I had a similar issue, i was using  mysql-connector-java 8.0.15 (latest), but for some reaon it was still giving me a timezone error, i changed it for  mysql-connector-java 8.0.13 and that just did it. Hope thats be usefull.","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>I had a similar issue, i was using  mysql-connector-java 8.0.15 (latest), but for some reaon it was still giving me a timezone error, i changed it for  mysql-connector-java 8.0.13 and that just did it. Hope thats be usefull.</p>\n"},{"tags":[],"owner":{"display_name":"user11431212"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587725647,"creation_date":1587725647,"answer_id":61406704,"question_id":37719818,"body_markdown":"If you using Spring Boot try to add after your localhost parameter a question mark and this: \r\n\r\n    ?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\r\n\r\nSo for example i have a mysql database with name: springboottutorial. In this example the param would be look like this:\r\n\r\n`spring.datasource.url=jdbc:mysql://localhost:3306/springboottutorial?serverTimezone=UTC&amp;useLegacyDatetimeCode=false`\r\n","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>If you using Spring Boot try to add after your localhost parameter a question mark and this: </p>\n\n<pre><code>?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\n</code></pre>\n\n<p>So for example i have a mysql database with name: springboottutorial. In this example the param would be look like this:</p>\n\n<p><code>spring.datasource.url=jdbc:mysql://localhost:3306/springboottutorial?serverTimezone=UTC&amp;useLegacyDatetimeCode=false</code></p>\n"},{"tags":[],"owner":{"account_id":4933250,"reputation":4859,"user_id":3972291,"accept_rate":100,"display_name":"Enamul Haque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594136622,"creation_date":1594136622,"answer_id":62778984,"question_id":37719818,"body_markdown":"**In MySQL:** you may user bellow like:\r\n\r\n 1. **First solution:** add **serverTimezone=UTC** to connection url\r\n\r\n        spring.datasource.url=jdbc:mysql://localhost:3306/mydb?useSSL=false&amp;serverTimezone=UTC\r\n\r\n 2. **Second solution:** n MySQL **my.ini** file set **default-time-zone** value bellow like\r\n\r\n        # Set default time zone\r\n        default-time-zone = &#39;+08:00&#39;","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p><strong>In MySQL:</strong> you may user bellow like:</p>\n<ol>\n<li><p><strong>First solution:</strong> add <strong>serverTimezone=UTC</strong> to connection url</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydb?useSSL=false&amp;serverTimezone=UTC\n</code></pre>\n</li>\n<li><p><strong>Second solution:</strong> n MySQL <strong>my.ini</strong> file set <strong>default-time-zone</strong> value bellow like</p>\n<pre><code># Set default time zone\ndefault-time-zone = '+08:00'\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16433260,"reputation":185,"user_id":13231588,"display_name":"mht.haque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598481799,"creation_date":1598467767,"answer_id":63603923,"question_id":37719818,"body_markdown":"I have fixed the issue by adding `&quot;?serverTimezone=America/Los_Angeles&quot;` right after the database name. I am from West Coast and my zone name is `&quot;America/Los_Angeles&quot;`. If you are not sure about your timezone name run below command on RHEL/UBUNTU/CENTOS\r\n\r\n    11:42 AM  ✔ user1 sfo-server1 Δ [~] Ω  timedatectl | grep &quot;Time zone&quot;\r\n           Time zone: America/Los_Angeles (PDT, -0700)\r\n\r\nSolution:\r\n\r\n    jdbc_connection_string =&gt; &quot;jdbc:mysql://localhost:3306/movielens**?serverTimezone=America/Los_Angeles**&quot;\r\n\r\n","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>I have fixed the issue by adding <code>&quot;?serverTimezone=America/Los_Angeles&quot;</code> right after the database name. I am from West Coast and my zone name is <code>&quot;America/Los_Angeles&quot;</code>. If you are not sure about your timezone name run below command on RHEL/UBUNTU/CENTOS</p>\n<pre><code>11:42 AM  ✔ user1 sfo-server1 Δ [~] Ω  timedatectl | grep &quot;Time zone&quot;\n       Time zone: America/Los_Angeles (PDT, -0700)\n</code></pre>\n<p>Solution:</p>\n<pre><code>jdbc_connection_string =&gt; &quot;jdbc:mysql://localhost:3306/movielens**?serverTimezone=America/Los_Angeles**&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18234480,"reputation":550,"user_id":13272795,"display_name":"Ankit Mishra"},"score":0,"creation_date":1615898240,"post_id":66477135,"comment_id":117829364,"body_markdown":"I need to contact you sir, need little help in CentOS. Could you plz DM me on Twitter @ankitmishraR or you give me something where I can talk to you.","body":"I need to contact you sir, need little help in CentOS. Could you plz DM me on Twitter @ankitmishraR or you give me something where I can talk to you."}],"tags":[],"owner":{"account_id":991694,"reputation":1129,"user_id":6439393,"display_name":"NIK"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614868403,"creation_date":1614868403,"answer_id":66477135,"question_id":37719818,"body_markdown":"After loading the time zone data, \r\n\r\n    SET GLOBAL time_zone = &#39;Australia/Sydney&#39;;\r\n\r\nworked for me. \r\n\r\nIn my case, I wanted the setting to be persistent and none of these worked for me to persist the time zone and finally I went for the [option in mysql doc][1] to set the start up parameter as below,\r\n\r\n    --default-time-zone=Australia/Sydney\r\n\r\nThe most common option was to set this in my.cnf and this didn&#39;t work for me, either.\r\n\r\nNOTE: Mine is CentOS 8 &amp; MySql 8\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/time-zone-support.html","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>After loading the time zone data,</p>\n<pre><code>SET GLOBAL time_zone = 'Australia/Sydney';\n</code></pre>\n<p>worked for me.</p>\n<p>In my case, I wanted the setting to be persistent and none of these worked for me to persist the time zone and finally I went for the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/time-zone-support.html\" rel=\"nofollow noreferrer\">option in mysql doc</a> to set the start up parameter as below,</p>\n<pre><code>--default-time-zone=Australia/Sydney\n</code></pre>\n<p>The most common option was to set this in my.cnf and this didn't work for me, either.</p>\n<p>NOTE: Mine is CentOS 8 &amp; MySql 8</p>\n"},{"tags":[],"owner":{"account_id":501668,"reputation":15050,"user_id":2586761,"accept_rate":84,"display_name":"ptim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635304599,"creation_date":1635304236,"answer_id":69732293,"question_id":37719818,"body_markdown":"In case you&#39;re using Docker, and need to configure this via an override, consider &quot;hard coding&quot; the TZ to make it unambiguous, eg:\r\n\r\n```yaml\r\nversion: &#39;3&#39;\r\nservices:\r\n  mysql:\r\n    environment:\r\n      - TZ=GMT+11:00\r\n      # - TZ=Australia/Melbourne\r\n```\r\n\r\nEdit: actually, whilst this config doesn&#39;t throw an error any more, tomcat interprets the value correctly, whilst mysql interprets it as `GMT` :( \r\n\r\n","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>In case you're using Docker, and need to configure this via an override, consider &quot;hard coding&quot; the TZ to make it unambiguous, eg:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3'\nservices:\n  mysql:\n    environment:\n      - TZ=GMT+11:00\n      # - TZ=Australia/Melbourne\n</code></pre>\n<p>Edit: actually, whilst this config doesn't throw an error any more, tomcat interprets the value correctly, whilst mysql interprets it as <code>GMT</code> :(</p>\n"},{"tags":[],"owner":{"account_id":762153,"reputation":7003,"user_id":778517,"accept_rate":60,"display_name":"S&#233;rgio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683838828,"creation_date":1683838828,"answer_id":76231574,"question_id":37719818,"body_markdown":"edit /etc/my.cnf.d/server.cnf on server section \r\n\r\n    [server]\r\n    default-time-zone = &quot;Europe/Lisbon&quot;","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>edit /etc/my.cnf.d/server.cnf on server section</p>\n<pre><code>[server]\ndefault-time-zone = &quot;Europe/Lisbon&quot;\n</code></pre>\n"}],"owner":{"account_id":5172185,"reputation":15508,"user_id":4140346,"accept_rate":63,"display_name":"James111"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99024,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":37720335,"answer_count":16,"score":60,"last_activity_date":1683838828,"creation_date":1465458353,"question_id":37719818,"body_markdown":"I&#39;m trying to setup a simple hibernate application, when I run it I get a stack trace full of errors.\r\n\r\nI have the following maven dependencies in my `pom.xml` file:\r\n\r\n    &lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;5.2.0.Final&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- http://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;6.0.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nAnd the mysql version I&#39;m running locally is:\r\n\r\n    5.7.9, for osx10.11 (x86_64)\r\n\r\nI&#39;m running, what seems, a very simple method, and still getting errors:\r\n\r\n    // create session factory\r\n    SessionFactory factory = new Configuration()\r\n    \t\t\t.configure(&quot;hibernate.cfg.xml&quot;)\r\n    \t\t    .addAnnotatedClass(Model.class)\r\n    \t\t    .buildSessionFactory();\r\n    \t\t\r\n    // create session\r\n    Session session = factory.getCurrentSession();\r\n\r\n    Model newModel = new Model(&quot;....&quot;, &quot;...&quot;, &quot;...&quot;);\r\n\t\t\t\r\n\t// start a transaction\r\n\tsession.beginTransaction();\r\n\t\t\t\r\n\t// save the student object\r\n\tSystem.out.println(&quot;Saving the model...&quot;);\r\n\tsession.save(newModel);\r\n\r\nAfter the above is executed, I get a long stack trace...The System.out.println doesn&#39;t print either...So the connection just doesn&#39;t seem to be connecting.\r\n\r\n    INFO: HHH000115: Hibernate connection pool size: 1 (min=1)\r\n    Thu Jun 09 17:36:28 EST 2016 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Exception in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:244)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:208)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:189)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:217)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:189)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:418)\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:87)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:691)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:723)\r\n    \tat com.parkingapi.tests.Test.main(Test.java:17)\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:105)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:123)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:41)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.PooledConnections.addConnections(PooledConnections.java:106)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.PooledConnections.&lt;init&gt;(PooledConnections.java:40)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.PooledConnections.&lt;init&gt;(PooledConnections.java:19)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.PooledConnections$Builder.build(PooledConnections.java:138)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:110)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:74)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:217)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:189)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:145)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:234)\r\n    \t... 14 more\r\n    Caused by: java.sql.SQLException: The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:695)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:663)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:653)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:638)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:606)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:624)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:620)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:68)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1683)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:656)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:349)\r\n    \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:221)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:38)\r\n    \t... 29 more\r\n    Caused by: com.mysql.cj.core.exceptions.InvalidConnectionAttributeException: The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n    \tat com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)\r\n    \tat com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:73)\r\n    \tat com.mysql.cj.jdbc.util.TimeUtil.getCanonicalTimezone(TimeUtil.java:118)\r\n    \tat com.mysql.cj.mysqla.MysqlaSession.configureTimezone(MysqlaSession.java:308)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:2474)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1817)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1673)\r\n    \t... 33 more\r\n\r\n\r\nI&#39;m focused on this error here:\r\n\r\n&gt; The server time zone value &#39;AEST&#39; is unrecognized or represents more\r\n&gt; than one time zone. You must configure either the server or JDBC\r\n&gt; driver (via the serverTimezone configuration property) to use a more\r\n&gt; specifc time zone value if you want to utilize time zone support.\r\n\r\nI&#39;m unsure how I fix it?\r\n\r\n###Edit:\r\n\r\nPrinting out the Timezone (System.out.println(TimeZone.getDefault());) prints the following details:\r\n\r\n&gt; sun.util.calendar.ZoneInfo[id=&quot;Australia/Melbourne&quot;,offset=36000000,dstSavings=3600000,useDaylight=true,transitions=142,lastRule=java.util.SimpleTimeZone[id=Australia/Melbourne,offset=36000000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=9,startDay=1,startDayOfWeek=1,startTime=7200000,startTimeMode=1,endMode=3,endMonth=3,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=1]]\r\n\r\n\r\n###Edit:\r\n\r\nSo I looked at the question which was flagged, and tried to change my connection string, but it&#39;s still throwing the same stack trace. Below is my new connection url. As you can see I changed the serverTimezone to that of the printed `Timezone.getDefault()`\r\n\r\n    jdbc:mysql://localhost:3306/parking_hib?useLegacyDatetimeCode=false;serverTimezone=Australia/Melbourne;useSSL=false;","title":"The server time zone value &#39;AEST&#39; is unrecognized or represents more than one time zone","body":"<p>I'm trying to setup a simple hibernate application, when I run it I get a stack trace full of errors.</p>\n\n<p>I have the following maven dependencies in my <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.2.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- http://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;6.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And the mysql version I'm running locally is:</p>\n\n<pre><code>5.7.9, for osx10.11 (x86_64)\n</code></pre>\n\n<p>I'm running, what seems, a very simple method, and still getting errors:</p>\n\n<pre><code>// create session factory\nSessionFactory factory = new Configuration()\n            .configure(\"hibernate.cfg.xml\")\n            .addAnnotatedClass(Model.class)\n            .buildSessionFactory();\n\n// create session\nSession session = factory.getCurrentSession();\n\nModel newModel = new Model(\"....\", \"...\", \"...\");\n\n// start a transaction\nsession.beginTransaction();\n\n// save the student object\nSystem.out.println(\"Saving the model...\");\nsession.save(newModel);\n</code></pre>\n\n<p>After the above is executed, I get a long stack trace...The System.out.println doesn't print either...So the connection just doesn't seem to be connecting.</p>\n\n<pre><code>INFO: HHH000115: Hibernate connection pool size: 1 (min=1)\nThu Jun 09 17:36:28 EST 2016 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nException in thread \"main\" org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:244)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:208)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:189)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:217)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:189)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:418)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:87)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:691)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:723)\n    at com.parkingapi.tests.Test.main(Test.java:17)\nCaused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:105)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:123)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:41)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.PooledConnections.addConnections(PooledConnections.java:106)\n    at org.hibernate.engine.jdbc.connections.internal.PooledConnections.&lt;init&gt;(PooledConnections.java:40)\n    at org.hibernate.engine.jdbc.connections.internal.PooledConnections.&lt;init&gt;(PooledConnections.java:19)\n    at org.hibernate.engine.jdbc.connections.internal.PooledConnections$Builder.build(PooledConnections.java:138)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:110)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:74)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:217)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:189)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:145)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:234)\n    ... 14 more\nCaused by: java.sql.SQLException: The server time zone value 'AEST' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:695)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:663)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:653)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:638)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:606)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:624)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:620)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:68)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1683)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:656)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:349)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:221)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:38)\n    ... 29 more\nCaused by: com.mysql.cj.core.exceptions.InvalidConnectionAttributeException: The server time zone value 'AEST' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n    at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)\n    at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:73)\n    at com.mysql.cj.jdbc.util.TimeUtil.getCanonicalTimezone(TimeUtil.java:118)\n    at com.mysql.cj.mysqla.MysqlaSession.configureTimezone(MysqlaSession.java:308)\n    at com.mysql.cj.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:2474)\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1817)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1673)\n    ... 33 more\n</code></pre>\n\n<p>I'm focused on this error here:</p>\n\n<blockquote>\n  <p>The server time zone value 'AEST' is unrecognized or represents more\n  than one time zone. You must configure either the server or JDBC\n  driver (via the serverTimezone configuration property) to use a more\n  specifc time zone value if you want to utilize time zone support.</p>\n</blockquote>\n\n<p>I'm unsure how I fix it?</p>\n\n<h3>Edit:</h3>\n\n<p>Printing out the Timezone (System.out.println(TimeZone.getDefault());) prints the following details:</p>\n\n<blockquote>\n  <p>sun.util.calendar.ZoneInfo[id=\"Australia/Melbourne\",offset=36000000,dstSavings=3600000,useDaylight=true,transitions=142,lastRule=java.util.SimpleTimeZone[id=Australia/Melbourne,offset=36000000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=9,startDay=1,startDayOfWeek=1,startTime=7200000,startTimeMode=1,endMode=3,endMonth=3,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=1]]</p>\n</blockquote>\n\n<h3>Edit:</h3>\n\n<p>So I looked at the question which was flagged, and tried to change my connection string, but it's still throwing the same stack trace. Below is my new connection url. As you can see I changed the serverTimezone to that of the printed <code>Timezone.getDefault()</code></p>\n\n<pre><code>jdbc:mysql://localhost:3306/parking_hib?useLegacyDatetimeCode=false;serverTimezone=Australia/Melbourne;useSSL=false;\n</code></pre>\n"},{"tags":["java","android","kotlin","gradle","retrofit"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1683834318,"post_id":76231123,"comment_id":134431368,"body_markdown":"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1683840392,"post_id":76231560,"comment_id":134432482,"body_markdown":"Thank you for the reply  , the baseUrl in retrofitBuilder() , should i leave empty , this one i mean Retrofit.Builder().baseUrl(&quot;&quot;) ..","body":"Thank you for the reply  , the baseUrl in retrofitBuilder() , should i leave empty , this one i mean Retrofit.Builder().baseUrl(&quot;&quot;) .."},{"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"score":0,"creation_date":1683840845,"post_id":76231560,"comment_id":134432551,"body_markdown":"It does not matter, you could keep it same! `@Url` overrides the base url anyways!","body":"It does not matter, you could keep it same! <code>@Url</code> overrides the base url anyways!"}],"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683838721,"creation_date":1683838721,"answer_id":76231560,"question_id":76231123,"body_markdown":"You could just use empty `GET` and pass full `url` with `@Url` retrofit annotation as query parameter\r\n\r\n```\r\ninterface ApiService {\r\n  @GET\r\n  suspend fun getSimpson(@Url url: String): ApiModel\r\n}\r\n```\r\nwhile invoking the method\r\n```\r\ngetApiService().getSimpson(BuildConfig.BASE_URL)\r\n```","title":"fetching data from api using baseUrl from variant in android","body":"<p>You could just use empty <code>GET</code> and pass full <code>url</code> with <code>@Url</code> retrofit annotation as query parameter</p>\n<pre><code>interface ApiService {\n  @GET\n  suspend fun getSimpson(@Url url: String): ApiModel\n}\n</code></pre>\n<p>while invoking the method</p>\n<pre><code>getApiService().getSimpson(BuildConfig.BASE_URL)\n</code></pre>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76231560,"answer_count":1,"score":0,"last_activity_date":1683838721,"creation_date":1683834079,"question_id":76231123,"body_markdown":"I have two variants in my gradle file , each variant has different BaseUrl , for fetching data from api i&quot;m using retrofit , now that i&#39;m using BuildConfig to pass the BaseUrl based on the variant selected , if i pass whole url to baseUrl(&quot;&quot;) function , is it okey to leave @GET(&quot;&quot;) empty ? it is not working for me !! , i appreciate any help , Thank you \r\n\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AWunb.png\r\n  [2]: https://i.stack.imgur.com/rnUvc.png\r\n  [3]: https://i.stack.imgur.com/ztmjg.png","title":"fetching data from api using baseUrl from variant in android","body":"<p>I have two variants in my gradle file , each variant has different BaseUrl , for fetching data from api i&quot;m using retrofit , now that i'm using BuildConfig to pass the BaseUrl based on the variant selected , if i pass whole url to baseUrl(&quot;&quot;) function , is it okey to leave @GET(&quot;&quot;) empty ? it is not working for me !! , i appreciate any help , Thank you</p>\n<p><a href=\"https://i.stack.imgur.com/AWunb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AWunb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rnUvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rnUvc.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ztmjg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ztmjg.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","visual-studio-code","jsp","tomcat","vscode-extensions"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683828548,"post_id":76229347,"comment_id":134430176,"body_markdown":"I have to ask: Why the constraints &quot;_without changing the code_&quot; and &quot;_nor changing the location of the image_&quot;? Basically, the structure described in the question conflicts with [what Maven expects to work with](https://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html).  It also does not fit with how Maven expects to handle [external resources](https://maven.apache.org/plugins/maven-war-plugin/examples/adding-filtering-webresources.html). Sorry, I don&#39;t have a solution that fits into your constraints - and if such a solution exists, it may be quite unpleasant.","body":"I have to ask: Why the constraints &quot;<i>without changing the code</i>&quot; and &quot;<i>nor changing the location of the image</i>&quot;? Basically, the structure described in the question conflicts with <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html\" rel=\"nofollow noreferrer\">what Maven expects to work with</a>.  It also does not fit with how Maven expects to handle <a href=\"https://maven.apache.org/plugins/maven-war-plugin/examples/adding-filtering-webresources.html\" rel=\"nofollow noreferrer\">external resources</a>. Sorry, I don&#39;t have a solution that fits into your constraints - and if such a solution exists, it may be quite unpleasant."},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1683873096,"post_id":76229347,"comment_id":134435932,"body_markdown":"The origin of these two limitations comes from the fact that we are trying to migrate a project where this misuse is made extensively. The goal is to keep everything working with minimal changes.","body":"The origin of these two limitations comes from the fact that we are trying to migrate a project where this misuse is made extensively. The goal is to keep everything working with minimal changes."}],"answers":[{"comments":[{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1683890551,"post_id":76231525,"comment_id":134439485,"body_markdown":"Best solution was to copy folders &#39;images&#39;, &#39;js&#39;, &#39;css&#39; to &#39;ROOT&#39; folder","body":"Best solution was to copy folders &#39;images&#39;, &#39;js&#39;, &#39;css&#39; to &#39;ROOT&#39; folder"}],"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683838383,"creation_date":1683838383,"answer_id":76231525,"question_id":76229347,"body_markdown":"You explicitly address the image starting from the root folder. So the only option that I can see that keeps your (artificial) constraint is to rename your war file to ROOT.war, which will cause tomcat to deploy it to / instead of /sfeaapp.\r\n\r\nThe proper fix would be to include the context path in the image&#39;s URL or address it through a relative URL, but that would drop your constraint","title":"Unable to access an Image from a .jsp file in Tomcat","body":"<p>You explicitly address the image starting from the root folder. So the only option that I can see that keeps your (artificial) constraint is to rename your war file to ROOT.war, which will cause tomcat to deploy it to / instead of /sfeaapp.</p>\n<p>The proper fix would be to include the context path in the image's URL or address it through a relative URL, but that would drop your constraint</p>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76231525,"answer_count":1,"score":0,"last_activity_date":1683838383,"creation_date":1683819324,"question_id":76229347,"body_markdown":"I am working with **VSCODE**.\r\n\r\nI have a **Java Web Application** in the following path:\r\nC:\\CODIGO\\IDEA_PROJECTS\\TESTS\\SFES\\SFEAAPP\\sfeaapp\r\n\r\nUsing **Maven** I package the web &#39;sfeaapp&#39; app to this **.war** file:\r\nC:\\CODIGO\\IDEA_PROJECTS\\TESTS\\SFES\\SFEAAPP\\sfeaapp\\target\\sfeaapp.war\r\n\r\nUsing **Community Server Connector**, I deploy that .war file to this **Tomcat** path:\r\nC:\\Users\\jl.lmnchr\\.rsp\\redhat-community-server-connector\\runtimes\\installations\\tomcat-9.0.41\\apache-tomcat-9.0.41\\webapps\\sfeaapp.war\r\n\r\nI have this source **.jsp**:\r\nC:\\CODIGO\\IDEA_PROJECTS\\TESTS\\SFES\\SFEAAPP\\sfeaapp\\src\\main\\webapp\\index.jsp\r\n\r\nWith the next content:\r\n\r\n    &lt;html&gt;\r\n    \t&lt;body&gt;\r\n    \t\t&lt;img src=&quot;/images/common/logo.jpg&quot;&gt;\r\n    \t&lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThat image file is located in:\r\nC:\\CODIGO\\IDEA_PROJECTS\\TESTS\\SFES\\SFEAAPP\\sfeaapp\\src\\main\\webapp\\images\\common\\logo.jpg\r\nAnd also in:\r\nC:\\Users\\jl.lmnchr\\.rsp\\redhat-community-server-connector\\runtimes\\installations\\tomcat-9.0.41\\apache-tomcat-9.0.41\\webapps\\sfeaapp\\images\\common\\logo.jpg\r\n\r\nBut when I hit **http://localhost:8080/sfeaapp/index.jsp**, that image is not loaded.\r\n\r\nIs there a way to fix it **without changing the code** of the index.jsp, **nor changing the location of the image**?\r\n","title":"Unable to access an Image from a .jsp file in Tomcat","body":"<p>I am working with <strong>VSCODE</strong>.</p>\n<p>I have a <strong>Java Web Application</strong> in the following path:\nC:\\CODIGO\\IDEA_PROJECTS\\TESTS\\SFES\\SFEAAPP\\sfeaapp</p>\n<p>Using <strong>Maven</strong> I package the web 'sfeaapp' app to this <strong>.war</strong> file:\nC:\\CODIGO\\IDEA_PROJECTS\\TESTS\\SFES\\SFEAAPP\\sfeaapp\\target\\sfeaapp.war</p>\n<p>Using <strong>Community Server Connector</strong>, I deploy that .war file to this <strong>Tomcat</strong> path:\nC:\\Users\\jl.lmnchr.rsp\\redhat-community-server-connector\\runtimes\\installations\\tomcat-9.0.41\\apache-tomcat-9.0.41\\webapps\\sfeaapp.war</p>\n<p>I have this source <strong>.jsp</strong>:\nC:\\CODIGO\\IDEA_PROJECTS\\TESTS\\SFES\\SFEAAPP\\sfeaapp\\src\\main\\webapp\\index.jsp</p>\n<p>With the next content:</p>\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;img src=&quot;/images/common/logo.jpg&quot;&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>That image file is located in:\nC:\\CODIGO\\IDEA_PROJECTS\\TESTS\\SFES\\SFEAAPP\\sfeaapp\\src\\main\\webapp\\images\\common\\logo.jpg\nAnd also in:\nC:\\Users\\jl.lmnchr.rsp\\redhat-community-server-connector\\runtimes\\installations\\tomcat-9.0.41\\apache-tomcat-9.0.41\\webapps\\sfeaapp\\images\\common\\logo.jpg</p>\n<p>But when I hit <strong>http://localhost:8080/sfeaapp/index.jsp</strong>, that image is not loaded.</p>\n<p>Is there a way to fix it <strong>without changing the code</strong> of the index.jsp, <strong>nor changing the location of the image</strong>?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":28584206,"reputation":1,"user_id":21884787,"display_name":"CitrusExtract"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683838377,"creation_date":1683838377,"question_id":76231523,"body_markdown":"New to Spring/Spring Boot, having following problem..\r\n\r\nI created a ModelAndView controller below:\r\n\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n// import org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n// import org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\n@Controller\r\npublic class TodoController {\r\n\r\n    private final Logger logger = LoggerFactory.getLogger(TodoController.class);\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public ModelAndView hello() {\r\n        logger.info(&quot;cassie Request to GET index&quot;);\r\n        ModelAndView mav = new ModelAndView(&quot;hello&quot;);\r\n        return mav;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd my `hello.html` is under `/src/main/resources/templates`, but Spring Boot can&#39;t locate the view, and throw a Whitelabel Error...\r\nHowever, after I added `Thymeleaf` dependency, it magically worked. I looked it up that template engine like Thymeleaf is not necessary for Spring Boot, so can someone help me understand why my Spring Boot could not locate my html file? Thanks!\r\n\r\n\r\nTried to isolate to see which part of my code went wrong. Seems like it&#39;s something to do with the `ModelAndView` object which somehow makes Spring Boot unable to render the template (if `hello()` method returns a String, it worked perfectly fine. \r\n\r\nAlso, tried to add below properties, but still didn&#39;t find the html:\r\n```\r\nspring.mvc.view.prefix: classpath:/templates/\r\nspring.mvc.view.suffix=.html\r\n```\r\n","title":"Spring Boot ModelAndView controller can&#39;t find html view under templates except adding Thymeleaf dependency","body":"<p>New to Spring/Spring Boot, having following problem..</p>\n<p>I created a ModelAndView controller below:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n// import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n// import org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class TodoController {\n\n    private final Logger logger = LoggerFactory.getLogger(TodoController.class);\n\n    @GetMapping(&quot;/&quot;)\n    public ModelAndView hello() {\n        logger.info(&quot;cassie Request to GET index&quot;);\n        ModelAndView mav = new ModelAndView(&quot;hello&quot;);\n        return mav;\n    }\n\n}\n</code></pre>\n<p>And my <code>hello.html</code> is under <code>/src/main/resources/templates</code>, but Spring Boot can't locate the view, and throw a Whitelabel Error...\nHowever, after I added <code>Thymeleaf</code> dependency, it magically worked. I looked it up that template engine like Thymeleaf is not necessary for Spring Boot, so can someone help me understand why my Spring Boot could not locate my html file? Thanks!</p>\n<p>Tried to isolate to see which part of my code went wrong. Seems like it's something to do with the <code>ModelAndView</code> object which somehow makes Spring Boot unable to render the template (if <code>hello()</code> method returns a String, it worked perfectly fine.</p>\n<p>Also, tried to add below properties, but still didn't find the html:</p>\n<pre><code>spring.mvc.view.prefix: classpath:/templates/\nspring.mvc.view.suffix=.html\n</code></pre>\n"},{"tags":["java","jpa","h2"],"owner":{"account_id":28584173,"reputation":1,"user_id":21884767,"display_name":"Patrol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683838363,"creation_date":1683838152,"question_id":76231502,"body_markdown":"I am learning Java EE and I cannot figure out why I am not able to see another entities in GET responses. I am using H2 database.\r\n\r\n\r\n\r\nI want to see list of players in GET club response and club info in GET player response but cannot see any.\r\n\r\nHere are some code samples:\r\n\r\n**Player&#39;s class**\r\n```\r\n@Entity\r\n@XmlRootElement\r\npublic class Player implements Serializable {\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate int id;\r\n\tprivate String firstName;\r\n\tprivate String surname;\r\n\tprivate Date dateOfBirth;\r\n\tprivate String nationality;\r\n\tprivate String position;\r\n\tprivate Club club;\r\n\tprivate int club_id;\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\t@XmlAttribute\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n        //getters and setters\r\n\r\n\t@ManyToOne(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;club_id&quot;)\r\n\t@Transient\r\n\tpublic Club getClub()\r\n\t{\r\n\t\treturn club;\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n**Club&#39;s class**\r\n```\r\n@Entity\r\n@XmlRootElement\r\npublic class Club implements Serializable{\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String country;\r\n\tprivate Date foundationDate;\r\n\tprivate String trainer;\r\n\tprivate List&lt;Player&gt; players = new ArrayList&lt;Player&gt;();\r\n\t\r\n\t@Id\r\n\t@GeneratedValue\r\n\t@XmlAttribute\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n        //getters and setters\r\n\r\n\t@OneToMany(mappedBy = &quot;club&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@JoinColumn(name = &quot;id&quot;, nullable = false)\r\n\t@Transient\r\n\tpublic List&lt;Player&gt; getPlayers(){\r\n\t\treturn players;\r\n\t}\r\n}\r\n```\r\n\r\nI am also doing something like this in ClubEJB.java:\r\n```\r\npublic List&lt;Club&gt; get() {\r\n\tQuery q = manager.createQuery(&quot;select c from Club c&quot;);\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tList&lt;Club&gt; list = q.getResultList();\r\n\treturn list;\r\n}\r\n```\r\nand something like this in PlayerEJB.java\r\n```\r\npublic void create(Player player) {\r\n\tSystem.out.println(&quot;Creating player!&quot;);\r\n\tClub club = manager.find(Club.class, player.getClub_id());\r\n\tclub.getPlayers().add(player);\r\n\tmanager.persist(player);\r\n}\r\n```\r\n[cannot see any player despite adding one][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3uwBt.png","title":"Java EE - cannot see another entities in responses while doing GET request","body":"<p>I am learning Java EE and I cannot figure out why I am not able to see another entities in GET responses. I am using H2 database.</p>\n<p>I want to see list of players in GET club response and club info in GET player response but cannot see any.</p>\n<p>Here are some code samples:</p>\n<p><strong>Player's class</strong></p>\n<pre><code>@Entity\n@XmlRootElement\npublic class Player implements Serializable {\n    \n    private static final long serialVersionUID = 1L;\n    private int id;\n    private String firstName;\n    private String surname;\n    private Date dateOfBirth;\n    private String nationality;\n    private String position;\n    private Club club;\n    private int club_id;\n\n    @Id\n    @GeneratedValue\n    @XmlAttribute\n    public int getId() {\n        return id;\n    }\n\n        //getters and setters\n\n    @ManyToOne(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;club_id&quot;)\n    @Transient\n    public Club getClub()\n    {\n        return club;\n    }\n}\n\n\n</code></pre>\n<p><strong>Club's class</strong></p>\n<pre><code>@Entity\n@XmlRootElement\npublic class Club implements Serializable{\n    \n    private static final long serialVersionUID = 1L;\n    private int id;\n    private String name;\n    private String country;\n    private Date foundationDate;\n    private String trainer;\n    private List&lt;Player&gt; players = new ArrayList&lt;Player&gt;();\n    \n    @Id\n    @GeneratedValue\n    @XmlAttribute\n    public int getId() {\n        return id;\n    }\n\n        //getters and setters\n\n    @OneToMany(mappedBy = &quot;club&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;id&quot;, nullable = false)\n    @Transient\n    public List&lt;Player&gt; getPlayers(){\n        return players;\n    }\n}\n</code></pre>\n<p>I am also doing something like this in ClubEJB.java:</p>\n<pre><code>public List&lt;Club&gt; get() {\n    Query q = manager.createQuery(&quot;select c from Club c&quot;);\n    @SuppressWarnings(&quot;unchecked&quot;)\n    List&lt;Club&gt; list = q.getResultList();\n    return list;\n}\n</code></pre>\n<p>and something like this in PlayerEJB.java</p>\n<pre><code>public void create(Player player) {\n    System.out.println(&quot;Creating player!&quot;);\n    Club club = manager.find(Club.class, player.getClub_id());\n    club.getPlayers().add(player);\n    manager.persist(player);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3uwBt.png\" rel=\"nofollow noreferrer\">cannot see any player despite adding one</a></p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1683809069,"post_id":76227674,"comment_id":134425341,"body_markdown":"Check out [the documentation](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html). None of the `assertDoesNotThrows` overloads take an argument specifying the exception type. Do you really need to assert that a _specific_ exception is not thrown, or just that no exception is thrown?","body":"Check out <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\" rel=\"nofollow noreferrer\">the documentation</a>. None of the <code>assertDoesNotThrows</code> overloads take an argument specifying the exception type. Do you really need to assert that a <i>specific</i> exception is not thrown, or just that no exception is thrown?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683809221,"post_id":76227674,"comment_id":134425373,"body_markdown":"I need to assert that a specific exception is not thrown.","body":"I need to assert that a specific exception is not thrown."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1683809785,"post_id":76227674,"comment_id":134425513,"body_markdown":"May I ask why? That implies other exceptions can be thrown, yet they should not fail the test. Personally, I find that strange.","body":"May I ask why? That implies other exceptions can be thrown, yet they should not fail the test. Personally, I find that strange."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683816003,"post_id":76227674,"comment_id":134427212,"body_markdown":"This is the code that I received. I haven&#39;t implemented it.","body":"This is the code that I received. I haven&#39;t implemented it."}],"answers":[{"tags":[],"owner":{"account_id":3929541,"reputation":384,"user_id":3248732,"display_name":"Triphon Penakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683810590,"creation_date":1683810590,"answer_id":76228016,"question_id":76227674,"body_markdown":"You can try this:\r\n\r\n```\r\ntry {\r\n    .....\r\n} catch (ExceptionNotToThrow e) {\r\n    Assertions.fail(e)\r\n} catch (Exception e) {\r\n    // this is expected\r\n}\r\n```","title":"Cannot resolve method &#39;assertNotThrows&#39; in &#39;Assertions&#39;","body":"<p>You can try this:</p>\n<pre><code>try {\n    .....\n} catch (ExceptionNotToThrow e) {\n    Assertions.fail(e)\n} catch (Exception e) {\n    // this is expected\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683838360,"creation_date":1683837958,"answer_id":76231478,"question_id":76227674,"body_markdown":"The built-in [`Assertions`][1] class of JUnit 5 does not have an `assertDoesNotThrow` method overload that accepts the expected exception type. In my opinion, it does not make sense to assert that a _specific_ exception is not thrown. Why should a certain exception fail the test, yet the test should pass if any other exception is thrown? If you expect _something_ to be thrown, then I would think `assertThrows` is the more appropriate assertion to use.\r\n\r\nRegardless, you could do something like the following to mimic the behavior of your JUnit 4 code (though I can&#39;t find such an `assertNotThrows` method in [the documentation][2] of JUnit 4?).\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\n\r\nclass Tests {\r\n\r\n    @Test\r\n    void test() {\r\n        try {\r\n            // call method that can throw exceptions\r\n        } catch (ExceptionNotToThrow ex) {\r\n            fail(&quot;expected exception not to be thrown (see cause)&quot;, ex);\r\n        } catch (Exception ex) {\r\n            // this is expected; do nothing\r\n        }\r\n    }\r\n\r\n    // this is here to allow the code to compile\r\n    static class ExceptionNotToThrow extends RuntimeException {}\r\n}\r\n```\r\n\r\nBut if you need to do this many times, then I suggest creating your own assertion methods for this. For example:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport java.util.function.Supplier;\r\nimport org.junit.jupiter.api.function.Executable;\r\n\r\n// this API became stable in 5.9\r\nimport static org.junit.jupiter.api.AssertionFailureBuilder.assertionFailure;;\r\n\r\npublic class MyAssertions {\r\n\r\n    public static void assertDoesNotThrow(Class&lt;? extends Throwable&gt; type, Executable exec) {\r\n        assertDoesNotThrow(type, exec, (Object) null);\r\n    }\r\n\r\n    public static void assertDoesNotThrow(\r\n            Class&lt;? extends Throwable&gt; type, Executable exec, String message) {\r\n        assertDoesNotThrow(type, exec, (Object) message);\r\n    }\r\n\r\n    public static void assertDoesNotThrow(\r\n            Class&lt;? extends Throwable&gt; type, Executable exec, Supplier&lt;String&gt; messageSupplier) {\r\n        assertDoesNotThrow(type, exec, (Object) messageSupplier);\r\n    }\r\n    \r\n    private static void assertDoesNotThrow(\r\n            Class&lt;? extends Throwable&gt; type, Executable exec, Object messageOrSupplier) {\r\n        try {\r\n            exec.execute();\r\n        } catch (Throwable t) {\r\n            if (type.isInstance(t)) {\r\n                assertionFailure()\r\n                    .message(messageOrSupplier)\r\n                    .reason(&quot;Exception thrown when it should not have been: &quot; + t.getClass().getName())\r\n                    .cause(t)\r\n                    .buildAndThrow();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhich can be used like:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static sample.MyAssertions.assertDoesNotThrow;\r\n\r\nclass Tests {\r\n\r\n    @Test\r\n    void test() {\r\n        assertDoesNotThrow(ExceptionNotToThrow.class, () -&gt; { /* ... */ });\r\n    }\r\n\r\n    // this is here to allow the code to compile\r\n    static class ExceptionNotToThrow extends RuntimeException {}\r\n}\r\n```\r\n\r\nOr you could see if a third-party library exists that already provides something like the above.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\r\n  [2]: https://junit.org/junit4/javadoc/latest/overview-summary.html","title":"Cannot resolve method &#39;assertNotThrows&#39; in &#39;Assertions&#39;","body":"<p>The built-in <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\" rel=\"nofollow noreferrer\"><code>Assertions</code></a> class of JUnit 5 does not have an <code>assertDoesNotThrow</code> method overload that accepts the expected exception type. In my opinion, it does not make sense to assert that a <em>specific</em> exception is not thrown. Why should a certain exception fail the test, yet the test should pass if any other exception is thrown? If you expect <em>something</em> to be thrown, then I would think <code>assertThrows</code> is the more appropriate assertion to use.</p>\n<p>Regardless, you could do something like the following to mimic the behavior of your JUnit 4 code (though I can't find such an <code>assertNotThrows</code> method in <a href=\"https://junit.org/junit4/javadoc/latest/overview-summary.html\" rel=\"nofollow noreferrer\">the documentation</a> of JUnit 4?).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.fail;\n\nclass Tests {\n\n    @Test\n    void test() {\n        try {\n            // call method that can throw exceptions\n        } catch (ExceptionNotToThrow ex) {\n            fail(&quot;expected exception not to be thrown (see cause)&quot;, ex);\n        } catch (Exception ex) {\n            // this is expected; do nothing\n        }\n    }\n\n    // this is here to allow the code to compile\n    static class ExceptionNotToThrow extends RuntimeException {}\n}\n</code></pre>\n<p>But if you need to do this many times, then I suggest creating your own assertion methods for this. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.util.function.Supplier;\nimport org.junit.jupiter.api.function.Executable;\n\n// this API became stable in 5.9\nimport static org.junit.jupiter.api.AssertionFailureBuilder.assertionFailure;;\n\npublic class MyAssertions {\n\n    public static void assertDoesNotThrow(Class&lt;? extends Throwable&gt; type, Executable exec) {\n        assertDoesNotThrow(type, exec, (Object) null);\n    }\n\n    public static void assertDoesNotThrow(\n            Class&lt;? extends Throwable&gt; type, Executable exec, String message) {\n        assertDoesNotThrow(type, exec, (Object) message);\n    }\n\n    public static void assertDoesNotThrow(\n            Class&lt;? extends Throwable&gt; type, Executable exec, Supplier&lt;String&gt; messageSupplier) {\n        assertDoesNotThrow(type, exec, (Object) messageSupplier);\n    }\n    \n    private static void assertDoesNotThrow(\n            Class&lt;? extends Throwable&gt; type, Executable exec, Object messageOrSupplier) {\n        try {\n            exec.execute();\n        } catch (Throwable t) {\n            if (type.isInstance(t)) {\n                assertionFailure()\n                    .message(messageOrSupplier)\n                    .reason(&quot;Exception thrown when it should not have been: &quot; + t.getClass().getName())\n                    .cause(t)\n                    .buildAndThrow();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Which can be used like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport org.junit.jupiter.api.Test;\n\nimport static sample.MyAssertions.assertDoesNotThrow;\n\nclass Tests {\n\n    @Test\n    void test() {\n        assertDoesNotThrow(ExceptionNotToThrow.class, () -&gt; { /* ... */ });\n    }\n\n    // this is here to allow the code to compile\n    static class ExceptionNotToThrow extends RuntimeException {}\n}\n</code></pre>\n<p>Or you could see if a third-party library exists that already provides something like the above.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683838360,"creation_date":1683808242,"question_id":76227674,"body_markdown":"I have this JUnit4 code:\r\n\r\n    Assertions.assertNotThrows(ExceptionNotToThrow.class, () -&gt; {\r\n      .....\r\n    });\r\n\r\nI tried to migrate this code to Junit5 this way:\r\n\r\n    Assertions.assertDoesNotThrow(ExceptionNotToThrow.class, () -&gt; {\r\n      .....\r\n    });\r\n\r\nBut I get:\r\n\r\n    Cannot resolve method &#39;assertDoesNotThrow(Class&lt;ExceptionNotToThrow&gt;, &lt;lambda expression&gt;)&#39;\r\n\r\nDo you know how I can migrate this code properly?\r\n\r\n","title":"Cannot resolve method &#39;assertNotThrows&#39; in &#39;Assertions&#39;","body":"<p>I have this JUnit4 code:</p>\n<pre><code>Assertions.assertNotThrows(ExceptionNotToThrow.class, () -&gt; {\n  .....\n});\n</code></pre>\n<p>I tried to migrate this code to Junit5 this way:</p>\n<pre><code>Assertions.assertDoesNotThrow(ExceptionNotToThrow.class, () -&gt; {\n  .....\n});\n</code></pre>\n<p>But I get:</p>\n<pre><code>Cannot resolve method 'assertDoesNotThrow(Class&lt;ExceptionNotToThrow&gt;, &lt;lambda expression&gt;)'\n</code></pre>\n<p>Do you know how I can migrate this code properly?</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"display_name":"user6761897"},"score":0,"creation_date":1478901706,"post_id":40556825,"comment_id":68351768,"body_markdown":"Well even this throws EOF. How do I read a file with no content.","body":"Well even this throws EOF. How do I read a file with no content."},{"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"score":0,"creation_date":1478902768,"post_id":40556825,"comment_id":68352184,"body_markdown":"what it comes when you try to debug the value for objectInputStream.available() ? is it 0 ?","body":"what it comes when you try to debug the value for objectInputStream.available() ? is it 0 ?"},{"owner":{"display_name":"user6761897"},"score":0,"creation_date":1478904344,"post_id":40556825,"comment_id":68352749,"body_markdown":"I fixed it by moving the `available()` one level up, as in checking `fileInputStream.available()`","body":"I fixed it by moving the <code>available()</code> one level up, as in checking <code>fileInputStream.available()</code>"}],"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1478904906,"creation_date":1478901317,"answer_id":40556825,"question_id":40556739,"body_markdown":"You can avoid `EOFException` by checking `objectInputStream.available()` for the number of bytes that can be read as shown below:\r\n\r\n    @Configuration\r\n    public class MessageBrokerInitializer {\r\n    \r\n        @Bean\r\n        public MessageBroker getMessageBroker(){\r\n    \r\n            FileInputStream fileInputStream;\r\n            ObjectInputStream objectInputStream;\r\n            MessageBroker broker = null;\r\n            try {\r\n                fileInputStream = new FileInputStream(&quot;./data/store.ser&quot;);\r\n                 \r\n                if(fileInputStream.available() != 0) {\r\n                  objectInputStream = new ObjectInputStream(fileInputStream);\r\n                  broker = (MessageBroker) objectInputStream.readObject();\r\n                } else {\r\n                  broker = new MessageBroker()\r\n               }               \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return broker;\r\n        }\r\n    }\r\n\r\nYou can look [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/ObjectInputStream.html","title":"EOFException in Spring REST","body":"<p>You can avoid <code>EOFException</code> by checking <code>objectInputStream.available()</code> for the number of bytes that can be read as shown below:</p>\n\n<pre><code>@Configuration\npublic class MessageBrokerInitializer {\n\n    @Bean\n    public MessageBroker getMessageBroker(){\n\n        FileInputStream fileInputStream;\n        ObjectInputStream objectInputStream;\n        MessageBroker broker = null;\n        try {\n            fileInputStream = new FileInputStream(\"./data/store.ser\");\n\n            if(fileInputStream.available() != 0) {\n              objectInputStream = new ObjectInputStream(fileInputStream);\n              broker = (MessageBroker) objectInputStream.readObject();\n            } else {\n              broker = new MessageBroker()\n           }               \n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        return broker;\n    }\n}\n</code></pre>\n\n<p>You can look <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ObjectInputStream.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"display_name":"user6761897"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40556825,"answer_count":1,"score":0,"last_activity_date":1683837394,"creation_date":1478900814,"question_id":40556739,"body_markdown":"So I have DataStructure that I want to persist in my Spring REST application.\r\nThis is how I&#39;m initializing the `@bean`\r\n\r\n    @Configuration\r\n    public class MessageBrokerInitializer {\r\n    \r\n        @Bean\r\n        public MessageBroker getMessageBroker(){\r\n    \r\n            FileInputStream fileInputStream;\r\n            ObjectInputStream objectInputStream;\r\n            MessageBroker broker = null;\r\n            try {\r\n                fileInputStream = new FileInputStream(&quot;./data/store.ser&quot;);\r\n                objectInputStream = new ObjectInputStream(fileInputStream);\r\n                broker = (MessageBroker) objectInputStream.readObject();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return (broker == null) ? new MessageBroker(): broker;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nBasically I&#39;m trying to read a file initialize my object or if the file is empty I want to new up the data structure. I keep getting,\r\n\r\n`java.io.EOFException`\r\n\r\nHow can I get this working.\r\n","title":"EOFException in Spring REST","body":"<p>So I have DataStructure that I want to persist in my Spring REST application.\nThis is how I'm initializing the <code>@bean</code></p>\n\n<pre><code>@Configuration\npublic class MessageBrokerInitializer {\n\n    @Bean\n    public MessageBroker getMessageBroker(){\n\n        FileInputStream fileInputStream;\n        ObjectInputStream objectInputStream;\n        MessageBroker broker = null;\n        try {\n            fileInputStream = new FileInputStream(\"./data/store.ser\");\n            objectInputStream = new ObjectInputStream(fileInputStream);\n            broker = (MessageBroker) objectInputStream.readObject();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        return (broker == null) ? new MessageBroker(): broker;\n    }\n\n\n\n}\n</code></pre>\n\n<p>Basically I'm trying to read a file initialize my object or if the file is empty I want to new up the data structure. I keep getting,</p>\n\n<p><code>java.io.EOFException</code></p>\n\n<p>How can I get this working.</p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1683798896,"post_id":76226279,"comment_id":134423094,"body_markdown":"Stop using `SimpleDateFormat`, switch to the more advanced `java.time` packages and its formatter.","body":"Stop using <code>SimpleDateFormat</code>, switch to the more advanced <code>java.time</code> packages and its formatter."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1683799048,"post_id":76226279,"comment_id":134423138,"body_markdown":"Also, read https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/ so you know what a java.util.Date actually consists of. (In particular, see the &quot;Common questions&quot; at the bottom of the post.)","body":"Also, read <a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date</a> so you know what a java.util.Date actually consists of. (In particular, see the &quot;Common questions&quot; at the bottom of the post.)"},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1683799250,"post_id":76226279,"comment_id":134423189,"body_markdown":"I need to use Date, or I can use LocalDateTime and then convert to Date.","body":"I need to use Date, or I can use LocalDateTime and then convert to Date."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1683801526,"post_id":76226279,"comment_id":134423636,"body_markdown":"Neither a `Date` nor a `LocalDateTime` can have a time zone (or time zone abbreviation). You are asking the impossible.","body":"Neither a <code>Date</code> nor a <code>LocalDateTime</code> can have a time zone (or time zone abbreviation). You are asking the impossible."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683802091,"post_id":76226279,"comment_id":134423764,"body_markdown":"If I understood correctly, Libya (despite lying in Africa) uses Easter European Time all year (no summer time/DST). So `LocalDateTime.parse(value, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ROOT)) .atZone(ZoneId.of(&quot;Africa/Tripoli&quot;)) .format(DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG))` depending on locale yields `7 March 2022 at 15:04:17 EET`. Not sure if it’s what you need and want, though.","body":"If I understood correctly, Libya (despite lying in Africa) uses Easter European Time all year (no summer time/DST). So <code>LocalDateTime.parse(value, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ROOT)) .atZone(ZoneId.of(&quot;Africa&#47;Tripoli&quot;)) .format(DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LO&zwnj;&#8203;NG))</code> depending on locale yields <code>7 March 2022 at 15:04:17 EET</code>. Not sure if it’s what you need and want, though."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683801501,"creation_date":1683801501,"answer_id":76226718,"question_id":76226279,"body_markdown":"Both `SimpleDateFormat` and `Date` classes are outdated (pun intended). That model of representing dates is badly flawed and even before java came up with a replacement there were other libraries that provided better solutions. However, By now you must use `java.time` package. In your case look up the classes [DateTimeFormatter][1] and [ZonedDateTime][2]. Read about the package java.time as well. &lt;br&gt;&lt;br&gt;Also you might find this relevant:\r\nI once had a project where I had to parse a string that may fit any possible format to Date without knowing the format. So, I came up with idea that I stored all supported formats in a property file and tried to parse the String with all those formats one by one until success or until all formats failed. Interesting to note that in this case the order of listing formats may be important as well since date like 02-03-2022 may be parsed as March 2d or Feb 3d depending on US or European style. In any case I wrote an article about this idea which may be relevant here: [Java 8 java.time package: parsing any string to date][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [3]: https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/?trackingId=YLCEhizBS8qyGmU9TO8wQA%3D%3D","title":"How to set EET for Date in Java?","body":"<p>Both <code>SimpleDateFormat</code> and <code>Date</code> classes are outdated (pun intended). That model of representing dates is badly flawed and even before java came up with a replacement there were other libraries that provided better solutions. However, By now you must use <code>java.time</code> package. In your case look up the classes <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">ZonedDateTime</a>. Read about the package java.time as well. <br><br>Also you might find this relevant:\nI once had a project where I had to parse a string that may fit any possible format to Date without knowing the format. So, I came up with idea that I stored all supported formats in a property file and tried to parse the String with all those formats one by one until success or until all formats failed. Interesting to note that in this case the order of listing formats may be important as well since date like 02-03-2022 may be parsed as March 2d or Feb 3d depending on US or European style. In any case I wrote an article about this idea which may be relevant here: <a href=\"https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/?trackingId=YLCEhizBS8qyGmU9TO8wQA%3D%3D\" rel=\"nofollow noreferrer\">Java 8 java.time package: parsing any string to date</a></p>\n"},{"comments":[{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":1,"creation_date":1683814184,"post_id":76226872,"comment_id":134426730,"body_markdown":"Thank you for explanation. I see that it’s working properly, but for some values it shows EEST. For ex if you try with 20230607121201, the response is Wed Jun 07 12:12:01 EEST 2023. What can I do to work for all values?","body":"Thank you for explanation. I see that it’s working properly, but for some values it shows EEST. For ex if you try with 20230607121201, the response is Wed Jun 07 12:12:01 EEST 2023. What can I do to work for all values?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1683814734,"post_id":76226872,"comment_id":134426877,"body_markdown":"Hi! You will need a zone id that (1.) uses EET and (2.) does not apply DST, so change the code to using `ZoneId zoneId = ZoneId.of(&quot;Europe/Kaliningrad&quot;);`. Romania seems to apply DST, but the Russian exclave does not.","body":"Hi! You will need a zone id that (1.) uses EET and (2.) does not apply DST, so change the code to using <code>ZoneId zoneId = ZoneId.of(&quot;Europe&#47;Kaliningrad&quot;);</code>. Romania seems to apply DST, but the Russian exclave does not."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683816846,"creation_date":1683802667,"answer_id":76226872,"question_id":76226279,"body_markdown":"You can parse your `String` to a `LocalDateTime` (only date and time of day, NO zone and NO offset from UTC / GMT).  \r\nIf you apply a specific zone afterwards, you can build a `ZonedDateTime`, which can be formatted as desired.\r\n\r\nA `ZonedDateTime` can be converted to an `Instant`, and that is an option for legacy compatibility, because there are `Date.from(Instant)` and `Date.toInstant()`.\r\n\r\n#### Here&#39;s an example with different outputs\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// example input\r\n\tString value = &quot;20230607121201&quot;;\r\n\t// create a formatter for parsing the String\r\n\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;);\r\n\t// parse the String to a \r\n\tLocalDateTime localDateTime = LocalDateTime.parse(value, dtf);\r\n\t// create the desired zone id\r\n\tZoneId zoneId = ZoneId.of(&quot;Europe/Kaliningrad&quot;);\r\n\t// compose the LocalDateTime and the ZoneId\r\n\tZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, zoneId);\r\n\t// create a formatter with the same format as Date.toString()\r\n\tDateTimeFormatter dtfOut = DateTimeFormatter.ofPattern(\r\n\t\t\t\t\t\t\t\t&quot;EEE MMM dd HH:mm:ss z uuuu&quot;,\r\n\t\t\t\t\t\t\t\tLocale.ENGLISH);\r\n\t// get the Instant\r\n\tInstant instant = zonedDateTime.toInstant();\r\n\t// create a Date from the Instant\r\n\tDate date = Date.from(instant);\r\n\t// print the different representations\r\n\tSystem.out.println(&quot;ZonedDateTime.format(): &quot; + zonedDateTime.format(dtfOut));\r\n\tSystem.out.println(&quot;Instant.toEpochMilli(): &quot; + instant.toEpochMilli());\r\n\tSystem.out.println(&quot;Date.getTime():         &quot; + date.getTime());\r\n\tSystem.out.println(&quot;Date.toString():        &quot; + date);\r\n}\r\n```\r\n\r\nPlease note that `Date.toString()` takes the system locale and time zone into account, obviously not *knowing* about daylight saving time.\r\n\r\nThis took my `Locale`…\r\n\r\n#### Output\r\n```none\r\nZonedDateTime.format(): Wed Jun 07 12:12:01 EET 2023\r\nInstant.toEpochMilli(): 1686132721000\r\nDate.getTime():         1686132721000\r\nDate.toString():        Wed Jun 07 12:12:01 CEST 2023\r\n```\r\n\r\nPlease note that both, `Instant.toEpochMilli()` and `Date.getTime()`, have the same value of epoch millis!\r\n\r\n---\r\n\r\n#### Why `ZoneId.of(&quot;Europe/Kaliningrad&quot;)`?\r\n\r\nBecause the requirement seems to be to always use EET. That means you have to choose a zone id that\r\n\r\n- is in / uses EET\r\n- does not apply daylight saving time","title":"How to set EET for Date in Java?","body":"<p>You can parse your <code>String</code> to a <code>LocalDateTime</code> (only date and time of day, NO zone and NO offset from UTC / GMT).<br />\nIf you apply a specific zone afterwards, you can build a <code>ZonedDateTime</code>, which can be formatted as desired.</p>\n<p>A <code>ZonedDateTime</code> can be converted to an <code>Instant</code>, and that is an option for legacy compatibility, because there are <code>Date.from(Instant)</code> and <code>Date.toInstant()</code>.</p>\n<h4>Here's an example with different outputs</h4>\n<pre><code>public static void main(String[] args) {\n    // example input\n    String value = &quot;20230607121201&quot;;\n    // create a formatter for parsing the String\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;);\n    // parse the String to a \n    LocalDateTime localDateTime = LocalDateTime.parse(value, dtf);\n    // create the desired zone id\n    ZoneId zoneId = ZoneId.of(&quot;Europe/Kaliningrad&quot;);\n    // compose the LocalDateTime and the ZoneId\n    ZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, zoneId);\n    // create a formatter with the same format as Date.toString()\n    DateTimeFormatter dtfOut = DateTimeFormatter.ofPattern(\n                                &quot;EEE MMM dd HH:mm:ss z uuuu&quot;,\n                                Locale.ENGLISH);\n    // get the Instant\n    Instant instant = zonedDateTime.toInstant();\n    // create a Date from the Instant\n    Date date = Date.from(instant);\n    // print the different representations\n    System.out.println(&quot;ZonedDateTime.format(): &quot; + zonedDateTime.format(dtfOut));\n    System.out.println(&quot;Instant.toEpochMilli(): &quot; + instant.toEpochMilli());\n    System.out.println(&quot;Date.getTime():         &quot; + date.getTime());\n    System.out.println(&quot;Date.toString():        &quot; + date);\n}\n</code></pre>\n<p>Please note that <code>Date.toString()</code> takes the system locale and time zone into account, obviously not <em>knowing</em> about daylight saving time.</p>\n<p>This took my <code>Locale</code>…</p>\n<h4>Output</h4>\n<pre class=\"lang-none prettyprint-override\"><code>ZonedDateTime.format(): Wed Jun 07 12:12:01 EET 2023\nInstant.toEpochMilli(): 1686132721000\nDate.getTime():         1686132721000\nDate.toString():        Wed Jun 07 12:12:01 CEST 2023\n</code></pre>\n<p>Please note that both, <code>Instant.toEpochMilli()</code> and <code>Date.getTime()</code>, have the same value of epoch millis!</p>\n<hr />\n<h4>Why <code>ZoneId.of(&quot;Europe/Kaliningrad&quot;)</code>?</h4>\n<p>Because the requirement seems to be to always use EET. That means you have to choose a zone id that</p>\n<ul>\n<li>is in / uses EET</li>\n<li>does not apply daylight saving time</li>\n</ul>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1683837028,"accepted_answer_id":76226872,"answer_count":2,"score":1,"last_activity_date":1683837134,"creation_date":1683798389,"question_id":76226279,"body_markdown":"I have a code that converts `String` to `Date` in Java like this:\r\n```Java\r\nString value = &quot;20220307150417&quot;;\r\nDateFormat formatter = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);\r\nDate date = formatter.parse(value);\r\nSystem.out.println(date.toString());\r\n```\r\n\r\nBut the output is this: `Mon Mar 07 15:04:17 EEST 2022`\r\n\r\nHow can I change this to EET? So I want the response to be `Mon Mar 07 15:04:17 EET 2022`.\r\n\r\n\r\n","title":"How to set EET for Date in Java?","body":"<p>I have a code that converts <code>String</code> to <code>Date</code> in Java like this:</p>\n<pre><code>String value = &quot;20220307150417&quot;;\nDateFormat formatter = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);\nDate date = formatter.parse(value);\nSystem.out.println(date.toString());\n</code></pre>\n<p>But the output is this: <code>Mon Mar 07 15:04:17 EEST 2022</code></p>\n<p>How can I change this to EET? So I want the response to be <code>Mon Mar 07 15:04:17 EET 2022</code>.</p>\n"},{"tags":["java","android","react-native","kotlin"],"owner":{"account_id":24086282,"reputation":57,"user_id":18060222,"display_name":"Yehuda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683836972,"creation_date":1683836972,"question_id":76231399,"body_markdown":"I have a react-native app and I&#39;m trying to run a ios simulator next to an android simulator (if that&#39;s possible) to see both UIs as I work. But everytime I try running `npm start android` I get this error:\r\n```\r\n&gt; Task :react-native-gradle-plugin:compileKotlin FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-gradle-plugin:compileKotlin&#39;.\r\n&gt; Failed to query the value of task &#39;:react-native-gradle-plugin:compileKotlin&#39; property &#39;compilerRunner$kotlin_gradle_plugin&#39;.\r\n   &gt; Kotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is running on a JDK, not JRE.\r\n```\r\nI&#39;m not sure what this means and can&#39;t figure out how fix this. I&#39;ve never used Kotlin, Java, or React-Native so all of this seems confusing. \r\n\r\nWhat exactly is happening, I didn&#39;t change any files so why is there even an error happening, it worked fine with ios simulator in XCode so I downloaded Android Studio to run a android simulator and now this error keeps happening. ","title":"React-Native &quot;Kotlin could not find the required JDK tools in the Java installation&quot;","body":"<p>I have a react-native app and I'm trying to run a ios simulator next to an android simulator (if that's possible) to see both UIs as I work. But everytime I try running <code>npm start android</code> I get this error:</p>\n<pre><code>&gt; Task :react-native-gradle-plugin:compileKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':react-native-gradle-plugin:compileKotlin'.\n&gt; Failed to query the value of task ':react-native-gradle-plugin:compileKotlin' property 'compilerRunner$kotlin_gradle_plugin'.\n   &gt; Kotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is running on a JDK, not JRE.\n</code></pre>\n<p>I'm not sure what this means and can't figure out how fix this. I've never used Kotlin, Java, or React-Native so all of this seems confusing.</p>\n<p>What exactly is happening, I didn't change any files so why is there even an error happening, it worked fine with ios simulator in XCode so I downloaded Android Studio to run a android simulator and now this error keeps happening.</p>\n"},{"tags":["java","design-patterns","model-view-controller"],"comments":[{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":0,"creation_date":1524906256,"post_id":50074616,"comment_id":87165818,"body_markdown":"This seems more like a code review question. I would suggest you post such questions to codereview.stackexchange.com instead of to Stack Overflow.","body":"This seems more like a code review question. I would suggest you post such questions to codereview.stackexchange.com instead of to Stack Overflow."}],"answers":[{"tags":[],"owner":{"account_id":4197289,"reputation":4830,"user_id":5235392,"display_name":"shahaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524905741,"creation_date":1524905741,"answer_id":50074706,"question_id":50074616,"body_markdown":"you can create an interface of `model` so both classes `MultipleStudentModel` and `SingleStudentModel` will implement\r\n\r\nso you don&#39;t need to define two controller that basically share the same logic, also this will let you change controller behaviour at runtime with `setModel`\r\n\r\nthis will also create a contract to bind your model to specific methods like get and such (insert/update/delete)\r\n\r\n    public class StudentController {\r\n        private Model model;\r\n        private StudentView view;\r\n    \r\n        public StudentController(Model _model, StudentView _view){\r\n            this.model = _model;\r\n            this.view = _view;\r\n        }\r\n\r\n        public setModel(Model model){\r\n             this.model = model;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nyou can do it also with the `View` classes\r\n\r\n&gt; also, basically one student is just a list of students contains only\r\n&gt; one element, you can remove that redundancy\r\n\r\n\r\n","title":"Implementation of MVC pattern for single and multiple objects","body":"<p>you can create an interface of <code>model</code> so both classes <code>MultipleStudentModel</code> and <code>SingleStudentModel</code> will implement</p>\n\n<p>so you don't need to define two controller that basically share the same logic, also this will let you change controller behaviour at runtime with <code>setModel</code></p>\n\n<p>this will also create a contract to bind your model to specific methods like get and such (insert/update/delete)</p>\n\n<pre><code>public class StudentController {\n    private Model model;\n    private StudentView view;\n\n    public StudentController(Model _model, StudentView _view){\n        this.model = _model;\n        this.view = _view;\n    }\n\n    public setModel(Model model){\n         this.model = model;\n    }\n\n\n}\n</code></pre>\n\n<p>you can do it also with the <code>View</code> classes</p>\n\n<blockquote>\n  <p>also, basically one student is just a list of students contains only\n  one element, you can remove that redundancy</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11898165,"reputation":82,"user_id":8706905,"display_name":"SteveHu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533090411,"creation_date":1524923661,"answer_id":50077282,"question_id":50074616,"body_markdown":"There is some advice:  \r\n# 1. use interface instead of class.\r\nYou may have heard of [Interface-based programming][1], which is a better way if you have more than one implementation of same kind object, like `model` and `view` in this example. So a better way is to abstract these two to interfaces instead of classes:\r\n\r\nStudentView.java\r\n\r\n    import java.util.List;\r\n\r\n\tpublic interface StudentView {\r\n\t\tvoid printStudentList(List&lt;Student&gt; students);\r\n\t}\r\n\r\nStudentModel.java\r\n\r\n    import java.util.List;\r\n\r\n    public interface StudentModel {\r\n\t    List&lt;Student&gt; getStudents();\r\n    }\r\n\r\nit&#39;s convenient to implement them whenever you want.\r\n\r\n# 2. if you want to control multiple model-view couples in **one** controller, it&#39;s available to use a Map&lt;K, V&gt; to access.  \r\n\r\nStudentController.java\r\n\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\t\r\n\tpublic class StudentController {\r\n\t\t//    private StudentModel model;\r\n\t\t//    private StudentView view;\r\n\t\r\n\t\tprivate Map&lt;StudentModel, StudentView&gt; modelAndViews;  // store model-view couple\r\n\t\r\n\t\tpublic StudentController() {\r\n\t\t\tthis.modelAndViews = new HashMap&lt;&gt;();\r\n\t\t}\r\n\t\tpublic void updateView(StudentModel model) {\r\n\t\t\tStudentView v = this.modelAndViews.get(model);\r\n\t\t\tif (v == null)\treturn;\t\r\n\t\t\tv.printStudentList(model.getStudents());\r\n\t\t}\r\n\t\tpublic void addModelAndView(StudentModel model, StudentView view) {\r\n\t\t\t// validate for null pointer\r\n\t\t\t// if (...)\r\n\t\t\tthis.modelAndViews.put(model, view); // add new model-view couple\r\n\t\t}\r\n\t\t// other methods\r\n\t}\r\n\r\n# 3. implement POJO&#39;s toString() method is a good way to test your code, rather than doing it in other methods. \r\n\r\nStudent.java\r\n\t\r\n\tpublic class Student {\r\n\t    private String name;\r\n\t    private int rollNo;\r\n\t\tpublic Student(String name, int rollNo) {\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.rollNo = rollNo;\r\n\t\t}\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\tpublic int getRollNo() {\r\n\t\t\treturn rollNo;\r\n\t\t}\r\n\t\tpublic void setRollNo(int rollNo) {\r\n\t\t\tthis.rollNo = rollNo;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Student (name=&quot; + name + &quot;, rollNo=&quot; + rollNo + &quot;)&quot;;  // for testing\r\n\t\t}\r\n\t}\r\n\r\nHere are implementations of `model` and `view` :\r\n\r\nSingleStudentModel.java\r\n\t\r\n\timport java.util.List;\r\n\t\r\n\tpublic class SingleStudentModel implements StudentModel {\r\n\t\r\n\t\tprivate List&lt;Student&gt; students;\t// store one student;\t\r\n\t\t\r\n\t\tpublic SingleStudentModel(List&lt;Student&gt; students) {\r\n\t\t\tthis.students = students;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic List&lt;Student&gt; getStudents() {\r\n\t\t\treturn this.students;\r\n\t\t}\r\n\t}\r\n\r\nMultipleStudentModel.java\r\n\t\r\n\timport java.util.List;\r\n\t\r\n\tpublic class MultipleStudentModel implements StudentModel {\r\n\t\r\n\t\tprivate List&lt;Student&gt; students;\r\n\t\t\r\n\t\tpublic MultipleStudentModel(List&lt;Student&gt; students) {\r\n\t\t\tthis.students = students;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic List&lt;Student&gt; getStudents() {\r\n\t\t\treturn this.students;\r\n\t\t}\r\n\t}\r\n\r\nSingleStudentView.java\r\n\t\r\n\timport java.util.List;\r\n\t\r\n\tpublic class SingleStudentView implements StudentView {\r\n\t\r\n\t\t@Override\r\n\t\tpublic void printStudentList(List&lt;Student&gt; students) {\r\n\t\t\tStudent s = students.get(0);\r\n\t\t\tSystem.out.println(s);\r\n\t\t}\r\n\t}\r\n\r\nMultipleStudentView.java\r\n\r\n\timport java.util.List;\r\n\t\r\n\tpublic class MultipleStudentView implements StudentView {\r\n\t\r\n\t\t@Override\r\n\t\tpublic void printStudentList(List&lt;Student&gt; students) {\r\n\t\t\tfor (Student s : students) {\r\n\t\t\t\tSystem.out.println(s);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n(these two views can be combined into one, while two are easier to understand:) )\r\n\r\nat last, it&#39;s main class:\r\n\r\nMain.java\r\n\t\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\t\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t\tList&lt;Student&gt; student = new ArrayList&lt;&gt;();\r\n\t\t\tList&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n            // add test cases\r\n\t\t\tstudent.add(new Student(&quot;s1&quot;, 1));\r\n\t\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\t\tstudents.add(new Student(&quot;s&quot; + i, i));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tStudentModel singleStudentModel = new SingleStudentModel(student);\r\n\t\t\tStudentModel multipleStudentModel = new MultipleStudentModel(students);\r\n\t\t\t\r\n\t\t\tStudentView singleStudentView = new SingleStudentView();\r\n\t\t\tStudentView multipleStudentView = new MultipleStudentView();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tStudentController controller = new StudentController();\r\n\t\t\t\r\n\t\t\tcontroller.addModelAndView(singleStudentModel, singleStudentView);\r\n\t\t\tcontroller.addModelAndView(multipleStudentModel, multipleStudentView);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;---------- update single student&#39;s view ---------------&quot;);\r\n\t\t\tcontroller.updateView(singleStudentModel);\r\n\t\t\tSystem.out.println(&quot;---------- update multiple students&#39; views ---------------&quot;);\r\n\t\t\tcontroller.updateView(multipleStudentModel);\r\n\t\t}\r\n\t}\r\n\r\nsolution:\r\n\r\n    ---------- update single student&#39;s view ---------------\r\n    Student (name=s1, rollNo=1)\r\n    ---------- update multiple students&#39; views ---------------\r\n    Student (name=s0, rollNo=0)\r\n    Student (name=s1, rollNo=1)\r\n    Student (name=s2, rollNo=2)\r\n    Student (name=s3, rollNo=3)\r\n    Student (name=s4, rollNo=4)\r\n\r\ncode structure:\r\n\r\n    -src\r\n    ├ view\r\n    │  ├ MultipleStudentView.java\r\n    │  ├ SingleStudentView.java\r\n    │  └ StudentView.java\r\n    ├ model\r\n    │  ├ MultipleStudentModel.java\r\n    │  ├ SingleStudentModel.java\r\n    │  ├ Student.java\r\n    │  └ StudentModel.java\r\n    ├ controller\r\n    │  └ StudentController.java\r\n    └ Main.java\r\n     \r\nThese are all the codes here, hope help~\r\n\r\n(By the way, in typical JavaEE development, model is only POJO, and view is more commonly logic view like String. This is only an example of MVC for understanding.)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Interface-based_programming","title":"Implementation of MVC pattern for single and multiple objects","body":"<p>There is some advice:  </p>\n\n<h1>1. use interface instead of class.</h1>\n\n<p>You may have heard of <a href=\"https://en.wikipedia.org/wiki/Interface-based_programming\" rel=\"nofollow noreferrer\">Interface-based programming</a>, which is a better way if you have more than one implementation of same kind object, like <code>model</code> and <code>view</code> in this example. So a better way is to abstract these two to interfaces instead of classes:</p>\n\n<p>StudentView.java</p>\n\n<pre><code>import java.util.List;\n\npublic interface StudentView {\n    void printStudentList(List&lt;Student&gt; students);\n}\n</code></pre>\n\n<p>StudentModel.java</p>\n\n<pre><code>import java.util.List;\n\npublic interface StudentModel {\n    List&lt;Student&gt; getStudents();\n}\n</code></pre>\n\n<p>it's convenient to implement them whenever you want.</p>\n\n<h1>2. if you want to control multiple model-view couples in <strong>one</strong> controller, it's available to use a Map to access.</h1>\n\n<p>StudentController.java</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class StudentController {\n    //    private StudentModel model;\n    //    private StudentView view;\n\n    private Map&lt;StudentModel, StudentView&gt; modelAndViews;  // store model-view couple\n\n    public StudentController() {\n        this.modelAndViews = new HashMap&lt;&gt;();\n    }\n    public void updateView(StudentModel model) {\n        StudentView v = this.modelAndViews.get(model);\n        if (v == null)  return; \n        v.printStudentList(model.getStudents());\n    }\n    public void addModelAndView(StudentModel model, StudentView view) {\n        // validate for null pointer\n        // if (...)\n        this.modelAndViews.put(model, view); // add new model-view couple\n    }\n    // other methods\n}\n</code></pre>\n\n<h1>3. implement POJO's toString() method is a good way to test your code, rather than doing it in other methods.</h1>\n\n<p>Student.java</p>\n\n<pre><code>public class Student {\n    private String name;\n    private int rollNo;\n    public Student(String name, int rollNo) {\n        this.name = name;\n        this.rollNo = rollNo;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getRollNo() {\n        return rollNo;\n    }\n    public void setRollNo(int rollNo) {\n        this.rollNo = rollNo;\n    }\n    @Override\n    public String toString() {\n        return \"Student (name=\" + name + \", rollNo=\" + rollNo + \")\";  // for testing\n    }\n}\n</code></pre>\n\n<p>Here are implementations of <code>model</code> and <code>view</code> :</p>\n\n<p>SingleStudentModel.java</p>\n\n<pre><code>import java.util.List;\n\npublic class SingleStudentModel implements StudentModel {\n\n    private List&lt;Student&gt; students; // store one student;   \n\n    public SingleStudentModel(List&lt;Student&gt; students) {\n        this.students = students;\n    }\n    @Override\n    public List&lt;Student&gt; getStudents() {\n        return this.students;\n    }\n}\n</code></pre>\n\n<p>MultipleStudentModel.java</p>\n\n<pre><code>import java.util.List;\n\npublic class MultipleStudentModel implements StudentModel {\n\n    private List&lt;Student&gt; students;\n\n    public MultipleStudentModel(List&lt;Student&gt; students) {\n        this.students = students;\n    }\n    @Override\n    public List&lt;Student&gt; getStudents() {\n        return this.students;\n    }\n}\n</code></pre>\n\n<p>SingleStudentView.java</p>\n\n<pre><code>import java.util.List;\n\npublic class SingleStudentView implements StudentView {\n\n    @Override\n    public void printStudentList(List&lt;Student&gt; students) {\n        Student s = students.get(0);\n        System.out.println(s);\n    }\n}\n</code></pre>\n\n<p>MultipleStudentView.java</p>\n\n<pre><code>import java.util.List;\n\npublic class MultipleStudentView implements StudentView {\n\n    @Override\n    public void printStudentList(List&lt;Student&gt; students) {\n        for (Student s : students) {\n            System.out.println(s);\n        }\n    }\n}\n</code></pre>\n\n<p>(these two views can be combined into one, while two are easier to understand:) )</p>\n\n<p>at last, it's main class:</p>\n\n<p>Main.java</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        List&lt;Student&gt; student = new ArrayList&lt;&gt;();\n        List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n        // add test cases\n        student.add(new Student(\"s1\", 1));\n        for (int i = 0; i &lt; 5; i++) {\n            students.add(new Student(\"s\" + i, i));\n        }\n\n        StudentModel singleStudentModel = new SingleStudentModel(student);\n        StudentModel multipleStudentModel = new MultipleStudentModel(students);\n\n        StudentView singleStudentView = new SingleStudentView();\n        StudentView multipleStudentView = new MultipleStudentView();\n\n\n        StudentController controller = new StudentController();\n\n        controller.addModelAndView(singleStudentModel, singleStudentView);\n        controller.addModelAndView(multipleStudentModel, multipleStudentView);\n\n        System.out.println(\"---------- update single student's view ---------------\");\n        controller.updateView(singleStudentModel);\n        System.out.println(\"---------- update multiple students' views ---------------\");\n        controller.updateView(multipleStudentModel);\n    }\n}\n</code></pre>\n\n<p>solution:</p>\n\n<pre><code>---------- update single student's view ---------------\nStudent (name=s1, rollNo=1)\n---------- update multiple students' views ---------------\nStudent (name=s0, rollNo=0)\nStudent (name=s1, rollNo=1)\nStudent (name=s2, rollNo=2)\nStudent (name=s3, rollNo=3)\nStudent (name=s4, rollNo=4)\n</code></pre>\n\n<p>code structure:</p>\n\n<pre><code>-src\n├ view\n│  ├ MultipleStudentView.java\n│  ├ SingleStudentView.java\n│  └ StudentView.java\n├ model\n│  ├ MultipleStudentModel.java\n│  ├ SingleStudentModel.java\n│  ├ Student.java\n│  └ StudentModel.java\n├ controller\n│  └ StudentController.java\n└ Main.java\n</code></pre>\n\n<p>These are all the codes here, hope help~</p>\n\n<p>(By the way, in typical JavaEE development, model is only POJO, and view is more commonly logic view like String. This is only an example of MVC for understanding.)</p>\n"},{"tags":[],"owner":{"account_id":1353775,"reputation":111,"user_id":1292595,"display_name":"Shachar Oz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683836966,"creation_date":1683836966,"answer_id":76231398,"question_id":50074616,"body_markdown":"from my knowledge of MVC approach, you should not even have functionality on the Model...\r\nso there are some core mistakes here.\r\n\r\nyou should consider putting all functions in the View or in the Controller, and let them handle the things.\r\nView should throw events, and Controller should handle them. ","title":"Implementation of MVC pattern for single and multiple objects","body":"<p>from my knowledge of MVC approach, you should not even have functionality on the Model...\nso there are some core mistakes here.</p>\n<p>you should consider putting all functions in the View or in the Controller, and let them handle the things.\nView should throw events, and Controller should handle them.</p>\n"}],"owner":{"account_id":4906449,"reputation":13,"user_id":3953061,"display_name":"colastar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1683836966,"creation_date":1524905078,"question_id":50074616,"body_markdown":"I&#39;ve implemented a student administration with MVC pattern (Tutorial: [Link][1]). I&#39;ve decided to divid the students in &quot;SingleStudentModel&quot; and &quot;MultipleStudentModel&quot;, but I&#39;m not sure if that make sense in my case. In general, I&#39;m not satisfied with my solution. Is it possible to handle single student and multiple students with one controller? \r\nIs it ok if a model import into a view class (see StudentsView.java)? \r\n\r\nHow can I improve this project?\r\n\r\nThanks in advance.\r\n\r\n\r\n   \r\nStudent.java (Model, data class (?))\r\n\r\n    public class Student {\r\n            \r\n        private String name;\r\n        private int nr;\r\n            \r\n        public Student(String _name, int _nr){\r\n            this.name = _name;\r\n            this.nr = _nr;\r\n        }\r\n            \r\n        // get set\r\n    }\r\n\r\nSingleStudentModel.java (Model)\r\n        \r\n    public class SingleStudentModel {\r\n        private Student student;\r\n    \r\n        // get set\r\n    }\r\n\r\nStudentController.java (Controller -&gt; SingleStudentModel)\r\n\r\n\r\n    public class StudentController {\r\n        private SingleStudentModel model;\r\n        private StudentView view;\r\n    \r\n        public StudentController(SingleStudentModel _model, StudentView _view){\r\n            this.model = _model;\r\n            this.view = _view;\r\n        }\r\n    \r\n       // set get\r\n    \r\n        public void updateView(){\r\n            view.printStudentDetails(model.getStudent().getName(), model.getStudent().getNr());\r\n        }\r\n    }\r\n\r\nMultipleStudentModel.java (Model)\r\n\r\n\r\n    public class MultipleStudentModel {\r\n        private Collection&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\r\n    \r\n        public Collection&lt;Student&gt; getStudents() {\r\n            return students;\r\n        }\r\n    \r\n        public void setStudents(Student student){\r\n            this.students.add(student);\r\n        }\r\n    }\r\n\r\nStudentsController.java (Controller -&gt; StudentsModel)\r\n\r\n\r\n    public class StudentsController {\r\n        private MultipleStudentModel model;\r\n        private StudentsView view;\r\n    \r\n        public StudentsController(MultipleStudentModel _model, StudentsView _view){\r\n            this.model = _model;\r\n            this.view = _view;\r\n        }\r\n    \r\n        public void updateView(){\r\n            view.printStudentList(model.getStudents());\r\n        }\r\n    }\r\n\r\nStudentView.java\r\n\r\n\r\n    public class StudentView {\r\n        public void printStudentDetails(String _name, int _nr){\r\n            System.out.println(&quot;Student: &quot;);\r\n            System.out.println(&quot;name: &quot; + _name);\r\n            System.out.println(&quot;nr: &quot; + _nr);\r\n        }\r\n    }\r\n\r\nStudentsView.java\r\n\r\n    import com.mvc.model.Student;\r\n    \r\n    import java.util.Collection;\r\n    \r\n    public class StudentsView {\r\n    \r\n        public void printStudentList(Collection&lt;Student&gt; students){\r\n    \r\n            System.out.println(&quot;\\nStudent list&quot;);\r\n    \r\n            for(Student item : students){\r\n                System.out.println(&quot;name: &quot; + item.getName());\r\n                System.out.println(&quot;nr: &quot; + item.getNr());\r\n            }\r\n        }\r\n    }\r\n\r\nMain.java\r\n\r\n     public class Main {\r\n            \r\n           public static void main(String [] args){\r\n            \r\n                //Single student\r\n                SingleStudentModel model = new SingleStudentModel();\r\n                StudentView view = new StudentView();\r\n                StudentController controller = new StudentController(model, view);\r\n            \r\n                model.setStudent(new Student(&quot;John&quot;, 1));\r\n            \r\n                controller.updateView();\r\n            \r\n                //Multiple student\r\n                MultipleStudentModel model2 = new MultipleStudentModel();\r\n                StudentsView view2 = new StudentsView();\r\n                StudentsController controller2 = new StudentsController(model2, view2);\r\n            \r\n                model2.setStudents(new Student(&quot;Zelda&quot;, 2));\r\n                model2.setStudents(new Student(&quot;Link&quot;, 3));\r\n            \r\n                controller2.updateView();\r\n            \r\n                }\r\n          }\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/design_pattern/mvc_pattern.htm","title":"Implementation of MVC pattern for single and multiple objects","body":"<p>I've implemented a student administration with MVC pattern (Tutorial: <a href=\"https://www.tutorialspoint.com/design_pattern/mvc_pattern.htm\" rel=\"nofollow noreferrer\">Link</a>). I've decided to divid the students in \"SingleStudentModel\" and \"MultipleStudentModel\", but I'm not sure if that make sense in my case. In general, I'm not satisfied with my solution. Is it possible to handle single student and multiple students with one controller? \nIs it ok if a model import into a view class (see StudentsView.java)? </p>\n\n<p>How can I improve this project?</p>\n\n<p>Thanks in advance.</p>\n\n<p>Student.java (Model, data class (?))</p>\n\n<pre><code>public class Student {\n\n    private String name;\n    private int nr;\n\n    public Student(String _name, int _nr){\n        this.name = _name;\n        this.nr = _nr;\n    }\n\n    // get set\n}\n</code></pre>\n\n<p>SingleStudentModel.java (Model)</p>\n\n<pre><code>public class SingleStudentModel {\n    private Student student;\n\n    // get set\n}\n</code></pre>\n\n<p>StudentController.java (Controller -> SingleStudentModel)</p>\n\n<pre><code>public class StudentController {\n    private SingleStudentModel model;\n    private StudentView view;\n\n    public StudentController(SingleStudentModel _model, StudentView _view){\n        this.model = _model;\n        this.view = _view;\n    }\n\n   // set get\n\n    public void updateView(){\n        view.printStudentDetails(model.getStudent().getName(), model.getStudent().getNr());\n    }\n}\n</code></pre>\n\n<p>MultipleStudentModel.java (Model)</p>\n\n<pre><code>public class MultipleStudentModel {\n    private Collection&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\n\n    public Collection&lt;Student&gt; getStudents() {\n        return students;\n    }\n\n    public void setStudents(Student student){\n        this.students.add(student);\n    }\n}\n</code></pre>\n\n<p>StudentsController.java (Controller -> StudentsModel)</p>\n\n<pre><code>public class StudentsController {\n    private MultipleStudentModel model;\n    private StudentsView view;\n\n    public StudentsController(MultipleStudentModel _model, StudentsView _view){\n        this.model = _model;\n        this.view = _view;\n    }\n\n    public void updateView(){\n        view.printStudentList(model.getStudents());\n    }\n}\n</code></pre>\n\n<p>StudentView.java</p>\n\n<pre><code>public class StudentView {\n    public void printStudentDetails(String _name, int _nr){\n        System.out.println(\"Student: \");\n        System.out.println(\"name: \" + _name);\n        System.out.println(\"nr: \" + _nr);\n    }\n}\n</code></pre>\n\n<p>StudentsView.java</p>\n\n<pre><code>import com.mvc.model.Student;\n\nimport java.util.Collection;\n\npublic class StudentsView {\n\n    public void printStudentList(Collection&lt;Student&gt; students){\n\n        System.out.println(\"\\nStudent list\");\n\n        for(Student item : students){\n            System.out.println(\"name: \" + item.getName());\n            System.out.println(\"nr: \" + item.getNr());\n        }\n    }\n}\n</code></pre>\n\n<p>Main.java</p>\n\n<pre><code> public class Main {\n\n       public static void main(String [] args){\n\n            //Single student\n            SingleStudentModel model = new SingleStudentModel();\n            StudentView view = new StudentView();\n            StudentController controller = new StudentController(model, view);\n\n            model.setStudent(new Student(\"John\", 1));\n\n            controller.updateView();\n\n            //Multiple student\n            MultipleStudentModel model2 = new MultipleStudentModel();\n            StudentsView view2 = new StudentsView();\n            StudentsController controller2 = new StudentsController(model2, view2);\n\n            model2.setStudents(new Student(\"Zelda\", 2));\n            model2.setStudents(new Student(\"Link\", 3));\n\n            controller2.updateView();\n\n            }\n      }\n</code></pre>\n"},{"tags":["java","android","final"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":6,"creation_date":1536652188,"post_id":52271121,"comment_id":91489404,"body_markdown":"*Any other solution instead of making class A final?* - why?","body":"<i>Any other solution instead of making class A final?</i> - why?"},{"owner":{"account_id":4930150,"reputation":1059,"user_id":3970199,"display_name":"Muhammad Zahab"},"score":0,"creation_date":1536749022,"post_id":52271121,"comment_id":91534313,"body_markdown":"This was an interview question once interviewer asked from me. So i asked this question to clear my concept.","body":"This was an interview question once interviewer asked from me. So i asked this question to clear my concept."},{"owner":{"account_id":4930150,"reputation":1059,"user_id":3970199,"display_name":"Muhammad Zahab"},"score":0,"creation_date":1536823707,"post_id":52271121,"comment_id":91564342,"body_markdown":"@GhostCat i don&#39;t know that why my privileges of asking questions are finished :( can u help?","body":"@GhostCat i don&#39;t know that why my privileges of asking questions are finished :( can u help?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1536824115,"post_id":52271121,"comment_id":91564537,"body_markdown":"What do you mean? Did you receive some sort of notification about a ban?","body":"What do you mean? Did you receive some sort of notification about a ban?"},{"owner":{"account_id":4930150,"reputation":1059,"user_id":3970199,"display_name":"Muhammad Zahab"},"score":0,"creation_date":1536825131,"post_id":52271121,"comment_id":91565065,"body_markdown":"No, i am just unable to post more questions :(","body":"No, i am just unable to post more questions :("},{"owner":{"account_id":4930150,"reputation":1059,"user_id":3970199,"display_name":"Muhammad Zahab"},"score":0,"creation_date":1536825241,"post_id":52271121,"comment_id":91565121,"body_markdown":"Sorry, we are no longer accepting questions from this account.\nThe message shown when i press Ask Question button.","body":"Sorry, we are no longer accepting questions from this account. The message shown when i press Ask Question button."}],"answers":[{"comments":[{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":1,"creation_date":1536652647,"post_id":52271186,"comment_id":91489649,"body_markdown":"So basically the technique provided here isn&#39;t an alternative? https://www.developer.com/java/other/article.php/3109251/Stopping-Your-Class-from-Being-Inherited-in-Java-the-Official-Way-and-the-Unofficial-Way.htm","body":"So basically the technique provided here isn&#39;t an alternative? <a href=\"https://www.developer.com/java/other/article.php/3109251/Stopping-Your-Class-from-Being-Inherited-in-Java-the-Official-Way-and-the-Unofficial-Way.htm\" rel=\"nofollow noreferrer\">developer.com/java/other/article.php/3109251/&hellip;</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1536652871,"post_id":52271186,"comment_id":91489771,"body_markdown":"@dbl Uups. I forgot about that, and I was updating the answer after you commented. Hope it makes more sense now ;-)","body":"@dbl Uups. I forgot about that, and I was updating the answer after you commented. Hope it makes more sense now ;-)"}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1536657830,"creation_date":1536652361,"answer_id":52271186,"question_id":52271121,"body_markdown":"This is not possible in &quot;nice ways&quot;. The java language allows you to either have the `final` keyword on your class definition, or to not have it. \r\n\r\nAs pointed out by others: you can make all constructors private, then subclassing becomes practically impossible, as the subclass constructors have no super class constructor to call.\r\n\r\nIn case you need to instantiate A, you could still have a factory method, like:\r\n\r\n    public class A {\r\n      private A() { ... }\r\n      private A(String foo) { ... }\r\n\r\n      public static A newInstance(String foo) { return new A(foo); }\r\n\r\nfor example.\r\n\r\nBut keep in mind: code is written for your human readers. If your **intent** is to have a final class, then the *correct* answer is to use that keyword `final`. \r\n\r\nPlus: making your class final allows the JIT to do a few more things, as it doesn&#39;t have to worry about polymorphism at any point (so it can directly inline method code, without any additional checks). So using `final` can result in slightly improved performance. On the other hand, it limits your ability to unit test things (for example: standard Mockito can&#39;t mock final classes).","title":"Can we avoid inheritance without using final keyword?","body":"<p>This is not possible in \"nice ways\". The java language allows you to either have the <code>final</code> keyword on your class definition, or to not have it. </p>\n\n<p>As pointed out by others: you can make all constructors private, then subclassing becomes practically impossible, as the subclass constructors have no super class constructor to call.</p>\n\n<p>In case you need to instantiate A, you could still have a factory method, like:</p>\n\n<pre><code>public class A {\n  private A() { ... }\n  private A(String foo) { ... }\n\n  public static A newInstance(String foo) { return new A(foo); }\n</code></pre>\n\n<p>for example.</p>\n\n<p>But keep in mind: code is written for your human readers. If your <strong>intent</strong> is to have a final class, then the <em>correct</em> answer is to use that keyword <code>final</code>. </p>\n\n<p>Plus: making your class final allows the JIT to do a few more things, as it doesn't have to worry about polymorphism at any point (so it can directly inline method code, without any additional checks). So using <code>final</code> can result in slightly improved performance. On the other hand, it limits your ability to unit test things (for example: standard Mockito can't mock final classes).</p>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1536652571,"post_id":52271197,"comment_id":91489604,"body_markdown":"That doesn&#39;t work. The whole point is to do something in A to prevent B from extending it. So *how* does it help to put code in B here?!","body":"That doesn&#39;t work. The whole point is to do something in A to prevent B from extending it. So <i>how</i> does it help to put code in B here?!"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1536653812,"post_id":52271197,"comment_id":91490262,"body_markdown":"Not it **doesn&#39;t**. If you know that B shouldnt extend A, then your B does not extend A. Putting code in your own class to prevent it from extending another class is bogus. This gets nothing done.","body":"Not it <b>doesn&#39;t</b>. If you know that B shouldnt extend A, then your B does not extend A. Putting code in your own class to prevent it from extending another class is bogus. This gets nothing done."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1536653838,"post_id":52271197,"comment_id":91490276,"body_markdown":"Simply remove the `extends A` from class B","body":"Simply remove the <code>extends A</code> from class B"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1536653996,"post_id":52271197,"comment_id":91490358,"body_markdown":"It could work the other way round: in class `A` constructors, check if the actual type is some descendant `B`.","body":"It could work the other way round: in class <code>A</code> constructors, check if the actual type is some descendant <code>B</code>."},{"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"score":0,"creation_date":1536654078,"post_id":52271197,"comment_id":91490405,"body_markdown":"As per OP *I don&#39;t want to allow class B to extends class A.* which means in runtime and B shouldn&#39;t be able to extend A; not A should stop B from extending itself. If it was not runtime then obviously dont extend A and no question arises at all.","body":"As per OP <i>I don&#39;t want to allow class B to extends class A.</i> which means in runtime and B shouldn&#39;t be able to extend A; not A should stop B from extending itself. If it was not runtime then obviously dont extend A and no question arises at all."}],"tags":[],"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536653418,"creation_date":1536652383,"answer_id":52271197,"question_id":52271121,"body_markdown":"I don&#39;t understand the specific use case of your requirement but this could work.\r\n\r\n**If you are open to make changes in `B`**\r\n\r\nIn B&#39;s every constructor check for is it is an instance of A then throw an error.\r\n\r\n    if(A.class.isAssignableFrom(B.class)) {\r\n            System.out.println(true);\r\n            throw new IllegalStateException();\r\n        }\r\n        else\r\n            System.out.println(false);","title":"Can we avoid inheritance without using final keyword?","body":"<p>I don't understand the specific use case of your requirement but this could work.</p>\n\n<p><strong>If you are open to make changes in <code>B</code></strong></p>\n\n<p>In B's every constructor check for is it is an instance of A then throw an error.</p>\n\n<pre><code>if(A.class.isAssignableFrom(B.class)) {\n        System.out.println(true);\n        throw new IllegalStateException();\n    }\n    else\n        System.out.println(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3334422,"reputation":612,"user_id":2802446,"display_name":"G.G."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536652463,"creation_date":1536652463,"answer_id":52271214,"question_id":52271121,"body_markdown":"You can mark the constructor of A  class as private. :)\r\n\r\nPS: If you also want to avoid reflection attacks then throw some Error from constructor \r\n and also mark it private.","title":"Can we avoid inheritance without using final keyword?","body":"<p>You can mark the constructor of A  class as private. :)</p>\n\n<p>PS: If you also want to avoid reflection attacks then throw some Error from constructor \n and also mark it private.</p>\n"},{"tags":[],"owner":{"account_id":6854239,"reputation":1127,"user_id":6742601,"display_name":"Fazal Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536652683,"creation_date":1536652683,"answer_id":52271271,"question_id":52271121,"body_markdown":"You have an option to restrict in constructor like this.\r\n\r\n    if (this.getClass() != MyClass.class) {\r\n        throw new RuntimeException(&quot;Subclasses not allowed&quot;);\r\n    }\r\n\r\nFor further details check the post.\r\n\r\nhttps://stackoverflow.com/a/451229/6742601","title":"Can we avoid inheritance without using final keyword?","body":"<p>You have an option to restrict in constructor like this.</p>\n\n<pre><code>if (this.getClass() != MyClass.class) {\n    throw new RuntimeException(\"Subclasses not allowed\");\n}\n</code></pre>\n\n<p>For further details check the post.</p>\n\n<p><a href=\"https://stackoverflow.com/a/451229/6742601\">https://stackoverflow.com/a/451229/6742601</a></p>\n"},{"comments":[{"owner":{"account_id":4930150,"reputation":1059,"user_id":3970199,"display_name":"Muhammad Zahab"},"score":0,"creation_date":1536665414,"post_id":52271483,"comment_id":91497083,"body_markdown":"Your answer is explanatory. Found the point which i just want to ask. Awesome","body":"Your answer is explanatory. Found the point which i just want to ask. Awesome"}],"tags":[],"owner":{"account_id":6469908,"reputation":43,"user_id":5010396,"display_name":"chdanish"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536653429,"creation_date":1536653429,"answer_id":52271483,"question_id":52271121,"body_markdown":"In fact, the practice that I try to follow, and that Josh Bloch recommends, in his Effective Java book, is exactly the inverse rule of the one you&#39;ve been told: Unless you have thought about inheritance, designed your class to be inherited, and documented how your class must be inherited, you should always disable inheritance.\r\n\r\nI would recommend reading this chapter of Effective Java (you won&#39;t regret buying it), and showing it to the person who told you about this rule.\r\n\r\nThe most obvious reason to disallow inheritance is immutability. An immutable object is simple to use (only one state), can be cached, shared between many objects, and is inherently thread-safe. If the class is inheritable, anyone can extend the class and make it mutable by adding mutable attributes.\r\n[https://stackoverflow.com/a/10464466/5010396][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10464466/5010396","title":"Can we avoid inheritance without using final keyword?","body":"<p>In fact, the practice that I try to follow, and that Josh Bloch recommends, in his Effective Java book, is exactly the inverse rule of the one you've been told: Unless you have thought about inheritance, designed your class to be inherited, and documented how your class must be inherited, you should always disable inheritance.</p>\n\n<p>I would recommend reading this chapter of Effective Java (you won't regret buying it), and showing it to the person who told you about this rule.</p>\n\n<p>The most obvious reason to disallow inheritance is immutability. An immutable object is simple to use (only one state), can be cached, shared between many objects, and is inherently thread-safe. If the class is inheritable, anyone can extend the class and make it mutable by adding mutable attributes.\n<a href=\"https://stackoverflow.com/a/10464466/5010396\">https://stackoverflow.com/a/10464466/5010396</a></p>\n"},{"tags":[],"owner":{"account_id":3782095,"reputation":5211,"user_id":3141231,"accept_rate":70,"display_name":"Qasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536658547,"creation_date":1536658547,"answer_id":52272968,"question_id":52271121,"body_markdown":"You can do one of the following to avoid inheritance without using `final` keyword:\r\n\r\n - Use private constructor(s).\r\n - Mark every method `final` so children can&#39;t override them.\r\n - Throw Runtime exception in the constructor if want to limit inheritance for some unwanted children (although v.rude) e.g  \r\n `if (this.getClass() != FavoriteChild.class) throw new RuntimeException(&quot;Not Allowed&quot;)` ","title":"Can we avoid inheritance without using final keyword?","body":"<p>You can do one of the following to avoid inheritance without using <code>final</code> keyword:</p>\n\n<ul>\n<li>Use private constructor(s).</li>\n<li>Mark every method <code>final</code> so children can't override them.</li>\n<li>Throw Runtime exception in the constructor if want to limit inheritance for some unwanted children (although v.rude) e.g<br>\n<code>if (this.getClass() != FavoriteChild.class) throw new RuntimeException(\"Not Allowed\")</code> </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25880940,"reputation":1,"user_id":19610008,"display_name":"Jatin Lanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683836205,"creation_date":1683836175,"answer_id":76231327,"question_id":52271121,"body_markdown":" 1. Declare all constructors of the class as private\r\n 2. Make the class package protected(default access modifier/no access modifier) still this will allow to inherit in same package but not in different package   \r\n \r\n\r\n","title":"Can we avoid inheritance without using final keyword?","body":"<ol>\n<li>Declare all constructors of the class as private</li>\n<li>Make the class package protected(default access modifier/no access modifier) still this will allow to inherit in same package but not in different package</li>\n</ol>\n"}],"owner":{"account_id":4930150,"reputation":1059,"user_id":3970199,"display_name":"Muhammad Zahab"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":52271186,"answer_count":7,"score":3,"last_activity_date":1683836205,"creation_date":1536652125,"question_id":52271121,"body_markdown":"I just want to know that can i have 2 classes A and B.\r\nI don&#39;t want to allow class B to extends class A.\r\nWhat technique should i apply in class A so class B cannot inherit class A.\r\nDon&#39;t want to make class A final. Any other solution instead of making class A final?","title":"Can we avoid inheritance without using final keyword?","body":"<p>I just want to know that can i have 2 classes A and B.\nI don't want to allow class B to extends class A.\nWhat technique should i apply in class A so class B cannot inherit class A.\nDon't want to make class A final. Any other solution instead of making class A final?</p>\n"},{"tags":["java","android","android-studio","android-camera"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683856213,"post_id":76231308,"comment_id":134434215,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":0,"creation_date":1683856346,"post_id":76231308,"comment_id":134434224,"body_markdown":"http://idownvotedbecau.se/itsnotworking/","body":"<a href=\"http://idownvotedbecau.se/itsnotworking/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/itsnotworking</a>"}],"owner":{"account_id":28584046,"reputation":9,"user_id":21884659,"display_name":"mahdi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683835956,"creation_date":1683835956,"question_id":76231308,"body_markdown":"I have been trying to explore a way to detect if my camera is being recording in the background like (Access dot in IOS) using camera2 API but i don&#39;t seem to get any results\r\n\r\ni tried this\r\n\r\n```\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        boolean t = true;\r\n\r\n            CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                Handler yourHandler = null;\r\n                manager.registerAvailabilityCallback(new CameraManager.AvailabilityCallback() {\r\n                    @Override\r\n                    public void onCameraAvailable(String cameraId) {\r\n                        try {\r\n                            super.onCameraAvailable(manager.getCameraIdList()[0]);\r\n                        } catch (CameraAccessException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                        txt.setText(&quot;available&quot;);\r\n                        //Do your work\r\n                    }\r\n                    @Override\r\n                    public void onCameraUnavailable(String cameraId) {\r\n                      try {\r\n                            super.onCameraUnavailable(manager.getCameraIdList()[0]);\r\n                        } catch (CameraAccessException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        txt.setText(&quot;unavailable&quot;);\r\n                        //Do your work\r\n                    }\r\n                }, yourHandler);\r\n            }\r\n        }\r\n```\r\n\r\n\r\nbut it doesn&#39;t seem to work properly","title":"how to detect if camera is being used in the background in android?","body":"<p>I have been trying to explore a way to detect if my camera is being recording in the background like (Access dot in IOS) using camera2 API but i don't seem to get any results</p>\n<p>i tried this</p>\n<pre><code>    @Override\n    protected void onResume() {\n        super.onResume();\n        boolean t = true;\n\n            CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                Handler yourHandler = null;\n                manager.registerAvailabilityCallback(new CameraManager.AvailabilityCallback() {\n                    @Override\n                    public void onCameraAvailable(String cameraId) {\n                        try {\n                            super.onCameraAvailable(manager.getCameraIdList()[0]);\n                        } catch (CameraAccessException e) {\n                            e.printStackTrace();\n                        }\n\n                        txt.setText(&quot;available&quot;);\n                        //Do your work\n                    }\n                    @Override\n                    public void onCameraUnavailable(String cameraId) {\n                      try {\n                            super.onCameraUnavailable(manager.getCameraIdList()[0]);\n                        } catch (CameraAccessException e) {\n                            e.printStackTrace();\n                        }\n                        txt.setText(&quot;unavailable&quot;);\n                        //Do your work\n                    }\n                }, yourHandler);\n            }\n        }\n</code></pre>\n<p>but it doesn't seem to work properly</p>\n"},{"tags":["java","eclipse","sdk","business-objects"],"answers":[{"comments":[{"owner":{"account_id":4730233,"reputation":38,"user_id":3826091,"display_name":"user3826091"},"score":0,"creation_date":1566564779,"post_id":57604773,"comment_id":101706942,"body_markdown":"Thank you, @Goutam!  I didn&#39;t realize that there was a JRE in the SDK.  Although I got things working in Adopt OpenJDK8.0.222.10, I will also be investigating the JRE you point out.","body":"Thank you, @Goutam!  I didn&#39;t realize that there was a JRE in the SDK.  Although I got things working in Adopt OpenJDK8.0.222.10, I will also be investigating the JRE you point out."}],"tags":[],"owner":{"account_id":3474297,"reputation":113,"user_id":5968738,"display_name":"Goutam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566461250,"creation_date":1566461250,"answer_id":57604773,"question_id":57595975,"body_markdown":"I think you are not using the correct JRE System Library. In case of doubt its always safe to use the one that comes with the BusinessObjects client installation.\r\n\r\nI am using SAP BusinessObjects 4.1 SP6, so for me its located here - &quot;C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\win32_x86\\jre&quot;. Check the corresponding location against your version and set it as default for the project in Eclipse, then try again.","title":"How to set up Eclipse project for SAP Business Objects Java SDK","body":"<p>I think you are not using the correct JRE System Library. In case of doubt its always safe to use the one that comes with the BusinessObjects client installation.</p>\n\n<p>I am using SAP BusinessObjects 4.1 SP6, so for me its located here - \"C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\win32_x86\\jre\". Check the corresponding location against your version and set it as default for the project in Eclipse, then try again.</p>\n"},{"comments":[{"owner":{"account_id":4730233,"reputation":38,"user_id":3826091,"display_name":"user3826091"},"score":0,"creation_date":1566564513,"post_id":57616056,"comment_id":101706804,"body_markdown":"Thank you so much, @Suncatcher.  Late last night I used Java 1.8, and the error went away.  Oddly, I also had to switch to an earlier version of Eclipse as well, but that could be unrelated.  I poured over whatever documentation I could find to see what versions of Java were supported, but couldn&#39;t find any.","body":"Thank you so much, @Suncatcher.  Late last night I used Java 1.8, and the error went away.  Oddly, I also had to switch to an earlier version of Eclipse as well, but that could be unrelated.  I poured over whatever documentation I could find to see what versions of Java were supported, but couldn&#39;t find any."},{"owner":{"account_id":4730233,"reputation":38,"user_id":3826091,"display_name":"user3826091"},"score":1,"creation_date":1566564639,"post_id":57616056,"comment_id":101706874,"body_markdown":"I was able to get it to work with AdoptOpenJDK 8.0.222.10.","body":"I was able to get it to work with AdoptOpenJDK 8.0.222.10."}],"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1566502623,"creation_date":1566502623,"answer_id":57616056,"question_id":57595975,"body_markdown":"SAP definitely does not support Java 12, and in BW Modeling tools it is clearly stated that recommended JREs for Eclipse are 8 or 11, but not 12.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI do not know whether you use these tools but I suppose this dependency applies to others cases as well.\r\n \r\nSAP explicitly is not saying this anywhere, but previously in all the documentation it was stated that only Oracle Java was supported, which was confirmed by multiple user experiences. I never have any problem with Oracle JDK but with OpenJDK had. So I recommend you to switch to Oracle 11 JDK.\r\n\r\nAs a last cast, as recommended [here][2] (chapter 6.1.1), you can try SAP proprietary Java Virtual Machine, which is available on the Support Portal.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UDPrW.png\r\n  [2]: https://help.sap.com/doc/2e9cf4a457d84c7a81f33d8c3fdd9694/LATEST/en-US/inst_guide_abap_development_tools.pdf","title":"How to set up Eclipse project for SAP Business Objects Java SDK","body":"<p>SAP definitely does not support Java 12, and in BW Modeling tools it is clearly stated that recommended JREs for Eclipse are 8 or 11, but not 12.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UDPrW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UDPrW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I do not know whether you use these tools but I suppose this dependency applies to others cases as well.</p>\n\n<p>SAP explicitly is not saying this anywhere, but previously in all the documentation it was stated that only Oracle Java was supported, which was confirmed by multiple user experiences. I never have any problem with Oracle JDK but with OpenJDK had. So I recommend you to switch to Oracle 11 JDK.</p>\n\n<p>As a last cast, as recommended <a href=\"https://help.sap.com/doc/2e9cf4a457d84c7a81f33d8c3fdd9694/LATEST/en-US/inst_guide_abap_development_tools.pdf\" rel=\"nofollow noreferrer\">here</a> (chapter 6.1.1), you can try SAP proprietary Java Virtual Machine, which is available on the Support Portal.</p>\n"}],"owner":{"account_id":4730233,"reputation":38,"user_id":3826091,"display_name":"user3826091"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57616056,"answer_count":2,"score":0,"last_activity_date":1683835663,"creation_date":1566405512,"question_id":57595975,"body_markdown":"We have SAP BO 4.2 installed in house, and I&#39;ve been told that REST is not turned on. I&#39;ve written several successful .NET apps using the SDK to connect to and run against our production SAP box, and now I&#39;m trying to write a Java app to do the same, as the Java SDK exposes more (and required) functionality.\r\n\r\nI can&#39;t seem to get my Eclipse/Java/project environment set up properly to even start coding.\r\n\r\n- Windows 10, 64-bit\r\n- Eclipse version: 2019-03 (4.11.0)\r\n- Java version:\r\n  - openjdk version &quot;12.0.2&quot; 2019-07-16\r\n  - OpenJDK Runtime Environment (build 12.0.2+10)\r\n  - OpenJDK 64-Bit Server VM (build 12.0.2+10, mixed mode, sharing)\r\n\r\nI created a new &quot;Java EE&quot; -&gt; &quot;Application Client Project&quot;.\r\n\r\nI&#39;m not able to get the following code to &quot;Run As Application&quot;:\r\n\r\n```\r\nimport com.crystaldecisions.sdk.framework.CrystalEnterprise;\r\nimport com.crystaldecisions.sdk.exception.SDKException;\r\nimport com.crystaldecisions.sdk.framework.IEnterpriseSession;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tIEnterpriseSession oEnterpriseSession = null;\r\n\r\n\t\tString username = &quot;username&quot;;\r\n\t\tString password = &quot;password&quot;;\r\n\t\tString cmsname = &quot;server&quot;;\r\n\t\tString authenticationType = &quot;secEnterprise&quot;;\r\n\r\n\t\ttry {\r\n\t\t\toEnterpriseSession = CrystalEnterprise.getSessionMgr().logon(username, password, cmsname, authenticationType);\r\n\r\n\t\t\tif (oEnterpriseSession == null) {\r\n\t\t\t\tSystem.out.print(&quot;login failed&quot;);\r\n\t\t\t}\r\n\t\t} catch (SDKException sdkEx) {\r\n\t\t\tSystem.out.print(sdkEx);\r\n\t\t}\r\n\r\n\t\t//do processing here\r\n\t\t\r\n\t}\r\n\r\n\tpublic Main() {\r\n\t\tsuper();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI have the following libraries referenced in the build path:\r\n```\r\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/cecore.jar\r\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/cesession.jar\r\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/celib.jar\r\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/logging.jar\r\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/aspectjrt.jar\r\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/ceaspect.jar\r\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/TraceLog.jar\r\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/corbaidl.jar\r\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/ebus405.jar\r\n```\r\n\r\nEverything I&#39;ve searched online for has fallen into three categories:\r\n1. links to pages on SAP&#39;s site that no longer work (so redirected to general search page), or\r\n1. outdated information/code, such that I&#39;m not able to do the same, or\r\n1. code that should work, once I get local environment set up and working properly\r\n\r\nAdditionally, all samples I&#39;ve been able to find are for Java Server Pages, which is not what I want with this project.\r\n\r\nWhen I try to run the above code, the error message I receive, even before it tries to connect, is:\r\n&gt; ```\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/omg/CORBA/portable/IDLEntity\r\n&gt;     at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n&gt;     at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n&gt;     at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\r\n&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:802)\r\n&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\r\n&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\r\n&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n&gt;     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n&gt;     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n&gt;     at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n&gt;     at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n&gt;     at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\r\n&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:802)\r\n&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\r\n&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\r\n&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n&gt;     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n&gt;     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n&gt;     at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.initializeDefaultPolicies(ORB_impl.java:369)\r\n&gt;     at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.initialize(ORB_impl.java:196)\r\n&gt;     at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.setParameters(ORB_impl.java:812)\r\n&gt;     at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.init(ORB_impl.java:1313)\r\n&gt;     at com.crystaldecisions.enterprise.ocaframework.idl.helper.ORBHelper.init(ORBHelper.java:57)\r\n&gt;     at com.crystaldecisions.enterprise.ocaframework.ServiceMgr.&lt;init&gt;(ServiceMgr.java:402)\r\n&gt;     at com.crystaldecisions.enterprise.ocaframework.ServiceMgrFactory.getServiceMgr(ServiceMgrFactory.java:66)\r\n&gt;     at com.crystaldecisions.sdk.occa.security.internal.LogonService.ensureServiceStub(LogonService.java:701)\r\n&gt;     at com.crystaldecisions.sdk.occa.security.internal.LogonService.doUserLogon(LogonService.java:885)\r\n&gt;     at com.crystaldecisions.sdk.occa.security.internal.LogonService.doUserLogon(LogonService.java:860)\r\n&gt;     at com.crystaldecisions.sdk.occa.security.internal.LogonService.userLogon(LogonService.java:240)\r\n&gt;     at com.crystaldecisions.sdk.occa.security.internal.SecurityMgr.userLogon(SecurityMgr.java:166)\r\n&gt;     at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody0(SessionMgr.java:823)\r\n&gt;     at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody1$advice(SessionMgr.java:523)\r\n&gt;     at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\r\n&gt;     at Main.main(Main.java:17)\r\n&gt; Caused by: java.lang.ClassNotFoundException: org.omg.CORBA.portable.IDLEntity\r\n&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n&gt;     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n&gt;     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n&gt;     ... 34 more\r\n&gt; ```\r\n\r\nI understand that starting with Java 9, java.CORBA has been deprecated (and removed in Java 11).  I&#39;ve tried changing the compiler compliance and facets to 1.8 with no change.  Additionally, the jar file &quot;ebus405.jar&quot; contains the CORBA classes.\r\n\r\nAlthough I would appreciate help on getting past this error message, I would more appreciate it if someone can tell me a more straight-forward approach to getting this started.  I would embrace any of the following:\r\n\r\n1. using a different IDE (I&#39;m not tied to Eclipse)\r\n1. referencing different/additional SDK Jars\r\n1. tackling this from a different angle (e.g., different Java project type)\r\n","title":"How to set up Eclipse project for SAP Business Objects Java SDK","body":"<p>We have SAP BO 4.2 installed in house, and I've been told that REST is not turned on. I've written several successful .NET apps using the SDK to connect to and run against our production SAP box, and now I'm trying to write a Java app to do the same, as the Java SDK exposes more (and required) functionality.</p>\n<p>I can't seem to get my Eclipse/Java/project environment set up properly to even start coding.</p>\n<ul>\n<li>Windows 10, 64-bit</li>\n<li>Eclipse version: 2019-03 (4.11.0)</li>\n<li>Java version:\n<ul>\n<li>openjdk version &quot;12.0.2&quot; 2019-07-16</li>\n<li>OpenJDK Runtime Environment (build 12.0.2+10)</li>\n<li>OpenJDK 64-Bit Server VM (build 12.0.2+10, mixed mode, sharing)</li>\n</ul>\n</li>\n</ul>\n<p>I created a new &quot;Java EE&quot; -&gt; &quot;Application Client Project&quot;.</p>\n<p>I'm not able to get the following code to &quot;Run As Application&quot;:</p>\n<pre><code>import com.crystaldecisions.sdk.framework.CrystalEnterprise;\nimport com.crystaldecisions.sdk.exception.SDKException;\nimport com.crystaldecisions.sdk.framework.IEnterpriseSession;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n\n        IEnterpriseSession oEnterpriseSession = null;\n\n        String username = &quot;username&quot;;\n        String password = &quot;password&quot;;\n        String cmsname = &quot;server&quot;;\n        String authenticationType = &quot;secEnterprise&quot;;\n\n        try {\n            oEnterpriseSession = CrystalEnterprise.getSessionMgr().logon(username, password, cmsname, authenticationType);\n\n            if (oEnterpriseSession == null) {\n                System.out.print(&quot;login failed&quot;);\n            }\n        } catch (SDKException sdkEx) {\n            System.out.print(sdkEx);\n        }\n\n        //do processing here\n        \n    }\n\n    public Main() {\n        super();\n\n    }\n\n}\n</code></pre>\n<p>I have the following libraries referenced in the build path:</p>\n<pre><code>C:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/cecore.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/cesession.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/celib.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/logging.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/aspectjrt.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/ceaspect.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/TraceLog.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/corbaidl.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/ebus405.jar\n</code></pre>\n<p>Everything I've searched online for has fallen into three categories:</p>\n<ol>\n<li>links to pages on SAP's site that no longer work (so redirected to general search page), or</li>\n<li>outdated information/code, such that I'm not able to do the same, or</li>\n<li>code that should work, once I get local environment set up and working properly</li>\n</ol>\n<p>Additionally, all samples I've been able to find are for Java Server Pages, which is not what I want with this project.</p>\n<p>When I try to run the above code, the error message I receive, even before it tries to connect, is:</p>\n<blockquote>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/omg/CORBA/portable/IDLEntity\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:802)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:802)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.initializeDefaultPolicies(ORB_impl.java:369)\n    at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.initialize(ORB_impl.java:196)\n    at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.setParameters(ORB_impl.java:812)\n    at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.init(ORB_impl.java:1313)\n    at com.crystaldecisions.enterprise.ocaframework.idl.helper.ORBHelper.init(ORBHelper.java:57)\n    at com.crystaldecisions.enterprise.ocaframework.ServiceMgr.&lt;init&gt;(ServiceMgr.java:402)\n    at com.crystaldecisions.enterprise.ocaframework.ServiceMgrFactory.getServiceMgr(ServiceMgrFactory.java:66)\n    at com.crystaldecisions.sdk.occa.security.internal.LogonService.ensureServiceStub(LogonService.java:701)\n    at com.crystaldecisions.sdk.occa.security.internal.LogonService.doUserLogon(LogonService.java:885)\n    at com.crystaldecisions.sdk.occa.security.internal.LogonService.doUserLogon(LogonService.java:860)\n    at com.crystaldecisions.sdk.occa.security.internal.LogonService.userLogon(LogonService.java:240)\n    at com.crystaldecisions.sdk.occa.security.internal.SecurityMgr.userLogon(SecurityMgr.java:166)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody0(SessionMgr.java:823)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody1$advice(SessionMgr.java:523)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\n    at Main.main(Main.java:17)\nCaused by: java.lang.ClassNotFoundException: org.omg.CORBA.portable.IDLEntity\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 34 more\n</code></pre>\n</blockquote>\n<p>I understand that starting with Java 9, java.CORBA has been deprecated (and removed in Java 11).  I've tried changing the compiler compliance and facets to 1.8 with no change.  Additionally, the jar file &quot;ebus405.jar&quot; contains the CORBA classes.</p>\n<p>Although I would appreciate help on getting past this error message, I would more appreciate it if someone can tell me a more straight-forward approach to getting this started.  I would embrace any of the following:</p>\n<ol>\n<li>using a different IDE (I'm not tied to Eclipse)</li>\n<li>referencing different/additional SDK Jars</li>\n<li>tackling this from a different angle (e.g., different Java project type)</li>\n</ol>\n"},{"tags":["java"],"owner":{"account_id":28584006,"reputation":1,"user_id":21884626,"display_name":"Billy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683835795,"answer_count":0,"score":0,"last_activity_date":1683835427,"creation_date":1683835427,"question_id":76231253,"body_markdown":"I tried programming something like this:\r\n    \r\n```\r\ndouble d = 4.0;\r\n    if(d * 10 % 10 == 0){\r\n        System.out.println((int)d);\r\n    }else{\r\n        System.out.println(d);\r\n    }\r\n```\r\nbut I would like a more condensed version for competitive programming","title":"Is there a way to print a double in java without the decimal &quot;.0&quot; after the number, only if there isn&#39;t one?","body":"<p>I tried programming something like this:</p>\n<pre><code>double d = 4.0;\n    if(d * 10 % 10 == 0){\n        System.out.println((int)d);\n    }else{\n        System.out.println(d);\n    }\n</code></pre>\n<p>but I would like a more condensed version for competitive programming</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1683835409,"post_id":76231236,"comment_id":134431608,"body_markdown":"See https://github.com/dlemmermann/JPackageScriptFX.","body":"See <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">github.com/dlemmermann/JPackageScriptFX</a>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1683835457,"post_id":76231236,"comment_id":134431621,"body_markdown":"Did you follow these instructions when setting up your project? https://openjfx.io/openjfx-docs/","body":"Did you follow these instructions when setting up your project? <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1683838415,"post_id":76231236,"comment_id":134432156,"body_markdown":"The plugin (and documentation) for packaging an installable, non-modular JavaFX project using gradle (if that is what you are trying to do),is the [badass runtime plugin](https://badass-runtime-plugin.beryx.org/releases/latest/).","body":"The plugin (and documentation) for packaging an installable, non-modular JavaFX project using gradle (if that is what you are trying to do),is the <a href=\"https://badass-runtime-plugin.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">badass runtime plugin</a>."},{"owner":{"account_id":6297098,"reputation":323,"user_id":8214832,"display_name":"Lakshya"},"score":0,"creation_date":1684345240,"post_id":76231236,"comment_id":134506187,"body_markdown":"@jewelsea managed to setup codebase, but the distribution is not working, it opens and closes it. How we can manage to see the logs and see the error","body":"@jewelsea managed to setup codebase, but the distribution is not working, it opens and closes it. How we can manage to see the logs and see the error"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1684361794,"post_id":76231236,"comment_id":134509274,"body_markdown":"That is not really specific about what you are doing and how it is failing, so there is not much I can say.  It sounds like a different question from the original, so perhaps you can ask a new question with more supporting info.  What logs to look at depends on what is failing.  For application logs, you can use a tool like slf4j/logback and write to disk, or the console.  Also if there are messages printed to system out and err they will show in the console.  If you run by double click you may not see messages in the console, but running from the command line can reveal them.","body":"That is not really specific about what you are doing and how it is failing, so there is not much I can say.  It sounds like a different question from the original, so perhaps you can ask a new question with more supporting info.  What logs to look at depends on what is failing.  For application logs, you can use a tool like slf4j/logback and write to disk, or the console.  Also if there are messages printed to system out and err they will show in the console.  If you run by double click you may not see messages in the console, but running from the command line can reveal them."}],"owner":{"account_id":6297098,"reputation":323,"user_id":8214832,"display_name":"Lakshya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683835171,"creation_date":1683835171,"question_id":76231236,"body_markdown":"So right now I&#39;m working on a java project which uses javafx and the aim is to create executable file (first we need jar file atleast), after multiple issues I moved this project to gradle, but now on build it throws this `error: package javafx.collections does not exist\r\nimport javafx.collections.FXCollections;`\r\n\r\n\r\nSDK: corretto 17\r\n\r\nI tried from moving plain java project to gradle.","title":"error: package javafx.collections does not exist import javafx.collections.FXCollections;","body":"<p>So right now I'm working on a java project which uses javafx and the aim is to create executable file (first we need jar file atleast), after multiple issues I moved this project to gradle, but now on build it throws this <code>error: package javafx.collections does not exist import javafx.collections.FXCollections;</code></p>\n<p>SDK: corretto 17</p>\n<p>I tried from moving plain java project to gradle.</p>\n"},{"tags":["java","mysql","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":42963,"reputation":39768,"user_id":125380,"accept_rate":69,"display_name":"User1"},"score":0,"creation_date":1252073903,"post_id":1376566,"comment_id":1218726,"body_markdown":"Good idea.  It didn&#39;t help. :(","body":"Good idea.  It didn&#39;t help. :("}],"tags":[],"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252022098,"creation_date":1252022098,"answer_id":1376566,"question_id":1376543,"body_markdown":"&lt;a href=&quot;http://java.sun.com/javaee/5/docs/api/javax/persistence/Entity.html&quot;&gt;name attribute&lt;/a&gt; on `@Entity` is not what you want to use for this purpose. Use `@Table` annotation instead:\r\n\r\n    @Entity\r\n    @Table(name=&quot;RevisionT&quot;)\r\n    public class Revision {","title":"Table not created by Hibernate","body":"<p><a href=\"http://java.sun.com/javaee/5/docs/api/javax/persistence/Entity.html\" rel=\"nofollow noreferrer\">name attribute</a> on <code>@Entity</code> is not what you want to use for this purpose. Use <code>@Table</code> annotation instead:</p>\n\n<pre><code>@Entity\n@Table(name=\"RevisionT\")\npublic class Revision {\n</code></pre>\n"},{"comments":[{"owner":{"account_id":42963,"reputation":39768,"user_id":125380,"accept_rate":69,"display_name":"User1"},"score":0,"creation_date":1252073984,"post_id":1377208,"comment_id":1218739,"body_markdown":"I am using @javax.persistence.Entity.  However, I do have a org.hibernate.annotations.IndexColumn.  Could mixing annotations cause a problem?","body":"I am using @javax.persistence.Entity.  However, I do have a org.hibernate.annotations.IndexColumn.  Could mixing annotations cause a problem?"}],"tags":[],"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1252038032,"creation_date":1252038032,"answer_id":1377208,"question_id":1376543,"body_markdown":"Perhaps you&#39;re using the wrong annotation. Once I accidentally annotated an entity with `@org.hibernate.annotations.Entity` instead of `@javax.persistence.Entity`, and Hibernate just skipped it.","title":"Table not created by Hibernate","body":"<p>Perhaps you're using the wrong annotation. Once I accidentally annotated an entity with <code>@org.hibernate.annotations.Entity</code> instead of <code>@javax.persistence.Entity</code>, and Hibernate just skipped it.</p>\n"},{"comments":[{"owner":{"account_id":42963,"reputation":39768,"user_id":125380,"accept_rate":69,"display_name":"User1"},"score":0,"creation_date":1252082536,"post_id":1379976,"comment_id":1219561,"body_markdown":"That helped enormously!  I discovered that there was still an column called &quot;Index&quot; being created.  Further investigation showed the @OneToMany side of the schema also had @IndexColumn(name=&quot;Index&quot;).  Hibernate ignored the @IndexColumn on the @ManyToOne.  I&#39;m still wondering why there&#39;s no output from Hibernate.  Oh well.  It works!","body":"That helped enormously!  I discovered that there was still an column called &quot;Index&quot; being created.  Further investigation showed the @OneToMany side of the schema also had @IndexColumn(name=&quot;Index&quot;).  Hibernate ignored the @IndexColumn on the @ManyToOne.  I&#39;m still wondering why there&#39;s no output from Hibernate.  Oh well.  It works!"}],"tags":[],"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1252078416,"creation_date":1252078416,"answer_id":1379976,"question_id":1376543,"body_markdown":"Answer to your side question (What instrumentation can be used to see what Hibernate is producing and which errors?)\r\n\r\nYou can `org.hibernate.tool.hbm2ddl.SchemaExport` to generate your tables.\r\n\r\n    AnnotationConfiguration conf = (new AnnotationConfiguration()).configure();\r\n    new SchemaExport(conf).create(showHql, run);\r\n\r\nThe first argument allows you to see which HQL this command generates (`CREATE TABLE`s etc). The second one is whether it should actually perform any modifications (ie false = dry-run).\r\n\r\nSo running it with `(true, false)` will show you exactly what Hibernate would do to your tables, without changing anything.","title":"Table not created by Hibernate","body":"<p>Answer to your side question (What instrumentation can be used to see what Hibernate is producing and which errors?)</p>\n\n<p>You can <code>org.hibernate.tool.hbm2ddl.SchemaExport</code> to generate your tables.</p>\n\n<pre><code>AnnotationConfiguration conf = (new AnnotationConfiguration()).configure();\nnew SchemaExport(conf).create(showHql, run);\n</code></pre>\n\n<p>The first argument allows you to see which HQL this command generates (<code>CREATE TABLE</code>s etc). The second one is whether it should actually perform any modifications (ie false = dry-run).</p>\n\n<p>So running it with <code>(true, false)</code> will show you exactly what Hibernate would do to your tables, without changing anything.</p>\n"},{"tags":[],"owner":{"account_id":1879197,"reputation":2511,"user_id":1699769,"display_name":"markbaldy"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1352138259,"creation_date":1352138259,"answer_id":13237674,"question_id":1376543,"body_markdown":"In case this helps anybody, this happened to me today and it turned out I was using a reserved word on my entity definition:\r\n\r\n\t@OneToMany(mappedBy=&quot;list&quot;)\r\n\t@OrderColumn(name=&quot;order&quot;)\r\n\tprivate List&lt;Wish&gt; wishes;\r\n\r\n&quot;order&quot; in this case, and Hibernate just skipped over this class. So check your user defined names! :)\r\n\r\nCheers,\r\nMark","title":"Table not created by Hibernate","body":"<p>In case this helps anybody, this happened to me today and it turned out I was using a reserved word on my entity definition:</p>\n\n<pre><code>@OneToMany(mappedBy=\"list\")\n@OrderColumn(name=\"order\")\nprivate List&lt;Wish&gt; wishes;\n</code></pre>\n\n<p>\"order\" in this case, and Hibernate just skipped over this class. So check your user defined names! :)</p>\n\n<p>Cheers,\nMark</p>\n"},{"tags":[],"owner":{"account_id":2511489,"reputation":2025,"user_id":2183868,"accept_rate":45,"display_name":"Aniket Kulkarni"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1683834877,"creation_date":1377191564,"answer_id":18386828,"question_id":1376543,"body_markdown":"It is due to column names matches with your sql reserved words. You can try by changing name of columns. I had faced similar type of problem.\r\n\r\n","title":"Table not created by Hibernate","body":"<p>It is due to column names matches with your sql reserved words. You can try by changing name of columns. I had faced similar type of problem.</p>\n"},{"tags":[],"owner":{"account_id":170313,"reputation":1244,"user_id":396931,"accept_rate":64,"display_name":"bentzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401094166,"creation_date":1401094166,"answer_id":23866227,"question_id":1376543,"body_markdown":"For me it was a syntax mistake in **columnDefinition**. Easily detectable by the debug logs.","title":"Table not created by Hibernate","body":"<p>For me it was a syntax mistake in <strong>columnDefinition</strong>. Easily detectable by the debug logs.</p>\n"},{"tags":[],"owner":{"account_id":6015821,"reputation":635,"user_id":4724733,"display_name":"Eva M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481561126,"creation_date":1481561126,"answer_id":41105555,"question_id":1376543,"body_markdown":"Put hibernate.show_sql config property to true and see if Hibernate generated the create table code. If so, copy the create statement into your database client (ui or command line) and see if your database returns an error.\r\n\r\nFor me the error was not apparent until I did so.\r\n\r\nI used the field name &#39;condition&#39; which was a reserved MySQL word.\r\nSo check your field names...","title":"Table not created by Hibernate","body":"<p>Put hibernate.show_sql config property to true and see if Hibernate generated the create table code. If so, copy the create statement into your database client (ui or command line) and see if your database returns an error.</p>\n\n<p>For me the error was not apparent until I did so.</p>\n\n<p>I used the field name 'condition' which was a reserved MySQL word.\nSo check your field names...</p>\n"}],"owner":{"account_id":42963,"reputation":39768,"user_id":125380,"accept_rate":69,"display_name":"User1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14533,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":1379976,"answer_count":7,"score":5,"last_activity_date":1683834877,"creation_date":1252021465,"question_id":1376543,"body_markdown":"I annotated a bunch of POJO&#39;s so JPA can use them to create tables in Hibernate.  It appears that all of the tables are created except one very central table called &quot;Revision&quot;.  The Revision class has an `@Entity(name=&quot;RevisionT&quot;)` annotation so it will be renamed to RevisionT so there is not a conflict with any reserved words in MySQL (the target database).\r\n\r\nI delete the entire database, recreate it and basically open and close a JPA session.  All the tables seem to get recreated without a problem.\r\n\r\nWhy would a single table be missing from the created schema?  What instrumentation can be used to see what Hibernate is producing and which errors?\r\n\r\nThanks.\r\n\r\nUPDATE:  I tried to create as a Derby DB and it was successful.  However, one of the fields has a a name of &quot;index&quot;.  I use `@org.hibernate.annotations.IndexColumn` to specify the name to something other than a reserved word.  However, the column is always called &quot;index&quot; when it is created.\r\n\r\nHere&#39;s a sample of the suspect annotations.\r\n&lt;pre&gt;&lt;code&gt;\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;MasterTopID&quot;)\r\n\t@IndexColumn(name=&quot;Cx3tHApe&quot;)\r\n\tprotected MasterTop masterTop;\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nInstead of creating `MasterTop.Cx3tHApe` as a field, it creates `MasterTop.Index`.  Why is the name ignored?","title":"Table not created by Hibernate","body":"<p>I annotated a bunch of POJO's so JPA can use them to create tables in Hibernate.  It appears that all of the tables are created except one very central table called \"Revision\".  The Revision class has an <code>@Entity(name=\"RevisionT\")</code> annotation so it will be renamed to RevisionT so there is not a conflict with any reserved words in MySQL (the target database).</p>\n\n<p>I delete the entire database, recreate it and basically open and close a JPA session.  All the tables seem to get recreated without a problem.</p>\n\n<p>Why would a single table be missing from the created schema?  What instrumentation can be used to see what Hibernate is producing and which errors?</p>\n\n<p>Thanks.</p>\n\n<p>UPDATE:  I tried to create as a Derby DB and it was successful.  However, one of the fields has a a name of \"index\".  I use <code>@org.hibernate.annotations.IndexColumn</code> to specify the name to something other than a reserved word.  However, the column is always called \"index\" when it is created.</p>\n\n<p>Here's a sample of the suspect annotations.</p>\n\n<pre><code>\n    @ManyToOne\n    @JoinColumn(name=\"MasterTopID\")\n    @IndexColumn(name=\"Cx3tHApe\")\n    protected MasterTop masterTop;\n</code></pre>\n\n<p>Instead of creating <code>MasterTop.Cx3tHApe</code> as a field, it creates <code>MasterTop.Index</code>.  Why is the name ignored?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"owner":{"account_id":26878067,"reputation":1,"user_id":20458991,"display_name":"crush24h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683834808,"creation_date":1683834808,"question_id":76231205,"body_markdown":"I have a form to create Department , like this:\r\n\r\n```\r\n&lt;form class=&quot;mx-1 mx-md-4&quot; th:action=&quot;@{/Admin/listDepartment/Add}&quot;  method=&quot;post&quot; &gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;d-flex flex-row align-items-center mb-4&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;i class=&quot;fas fa-user fa-lg me-3 fa-fw&quot;&gt;&lt;/i&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;form-outline flex-fill mb-0&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; id=&quot;form3Example1c&quot; class=&quot;form-control&quot; name=&quot;id&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;label class=&quot;form-label&quot; for=&quot;form3Example1c&quot;&gt;ID:&lt;/label&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;d-flex flex-row align-items-center mb-4&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;i class=&quot;fas fa-user fa-lg me-3 fa-fw&quot;&gt;&lt;/i&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;form-outline flex-fill mb-0&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; id=&quot;form3Example1c&quot; class=&quot;form-control&quot; name=&quot;namedepartment&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;label class=&quot;form-label&quot; for=&quot;form3Example1c&quot;&gt;Name:&lt;/label&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;d-flex justify-content-center mx-4 mb-3 mb-lg-4&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;button type=&quot;button&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=&quot;btn btn-primary btn-lg&quot;&gt;Save&lt;/button&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/form&gt;\r\n```\r\nand this is my controller\r\n\r\n```\r\n@PostMapping(value = &quot;/Admin/listDepartment/Add&quot;)\r\n\tpublic String addDepartment(Model model, Departments department) {\r\n\t\tdepartmentService.save(department);\r\n\t\treturn &quot;redirect:/Admin/listDepartment/create&quot;;\r\n\t}\r\n```\r\nbut when i click on save button, it not working, the site doesn&#39;t even reload.I hope someone can help me.\r\nThis is my first time i ask in stackoverflow so i hope u ignore the wrong details.\r\nsory for my english\r\n\r\n\r\nI think I made some stupid mistake","title":"form action not working using thymleaf and spring boot in eclipse","body":"<p>I have a form to create Department , like this:</p>\n<pre><code>&lt;form class=&quot;mx-1 mx-md-4&quot; th:action=&quot;@{/Admin/listDepartment/Add}&quot;  method=&quot;post&quot; &gt;\n                                            \n                                            &lt;div class=&quot;d-flex flex-row align-items-center mb-4&quot;&gt;\n                                                    &lt;i class=&quot;fas fa-user fa-lg me-3 fa-fw&quot;&gt;&lt;/i&gt;\n                                                    &lt;div class=&quot;form-outline flex-fill mb-0&quot;&gt;\n                                                        &lt;input type=&quot;text&quot; id=&quot;form3Example1c&quot; class=&quot;form-control&quot; name=&quot;id&quot; /&gt;\n                                                        &lt;label class=&quot;form-label&quot; for=&quot;form3Example1c&quot;&gt;ID:&lt;/label&gt;\n                                                    &lt;/div&gt;\n                                                &lt;/div&gt;  \n\n                                                &lt;div class=&quot;d-flex flex-row align-items-center mb-4&quot;&gt;\n                                                    &lt;i class=&quot;fas fa-user fa-lg me-3 fa-fw&quot;&gt;&lt;/i&gt;\n                                                    &lt;div class=&quot;form-outline flex-fill mb-0&quot;&gt;\n                                                        &lt;input type=&quot;text&quot; id=&quot;form3Example1c&quot; class=&quot;form-control&quot; name=&quot;namedepartment&quot; /&gt;\n                                                        &lt;label class=&quot;form-label&quot; for=&quot;form3Example1c&quot;&gt;Name:&lt;/label&gt;\n                                                    &lt;/div&gt;\n                                                &lt;/div&gt;              \n\n                                                &lt;div class=&quot;d-flex justify-content-center mx-4 mb-3 mb-lg-4&quot;&gt;\n                                                    &lt;button type=&quot;button&quot;\n                                                        class=&quot;btn btn-primary btn-lg&quot;&gt;Save&lt;/button&gt;\n                                                &lt;/div&gt;\n\n                                            &lt;/form&gt;\n</code></pre>\n<p>and this is my controller</p>\n<pre><code>@PostMapping(value = &quot;/Admin/listDepartment/Add&quot;)\n    public String addDepartment(Model model, Departments department) {\n        departmentService.save(department);\n        return &quot;redirect:/Admin/listDepartment/create&quot;;\n    }\n</code></pre>\n<p>but when i click on save button, it not working, the site doesn't even reload.I hope someone can help me.\nThis is my first time i ask in stackoverflow so i hope u ignore the wrong details.\nsory for my english</p>\n<p>I think I made some stupid mistake</p>\n"},{"tags":["java","graphql","apollo-client","graphql-java"],"owner":{"account_id":24061642,"reputation":1,"user_id":18038800,"display_name":"nativeS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683834277,"creation_date":1683834277,"question_id":76231142,"body_markdown":"I&#39;m trying to get result of GraphQL query through ApolloClient, I&#39;ve tried assigning the result to global variable and I get the value in the onResponse method, however outside that i get the value my variable has been declared as at first. The onResponse method is generated automatically by apollo and the query puts up and error if deleted.\r\nIs there a way to get the response out somehow ?\r\n\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static String result = null;\r\n    public static void main(String[] args) {\r\n        ApolloClient apolloClient = ApolloClient.builder().serverUrl(&quot;https://apollo-fullstack-tutorial.herokuapp.com/graphql&quot;).build();\r\n\r\n        apolloClient.query(new LaunchDetailsQuery(&quot;83&quot;))\r\n                .enqueue(new ApolloCall.Callback&lt;LaunchDetailsQuery.Data&gt;() {\r\n                    @Override\r\n                    public void onResponse(@NotNull Response&lt;LaunchDetailsQuery.Data&gt; response) {\r\n                        result=response.getData().launch.mission.name;\r\n                        System.out.println(result);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(@NotNull ApolloException e) {\r\n                        System.out.println(e);\r\n                    }\r\n                });\r\n\r\n        System.out.println(result);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nTried assigning the value to global variable, appending the value into list through setters from another class. Always returns as the objects first init value.","title":"Getting graphql response value from onResponse method using ApolloClient","body":"<p>I'm trying to get result of GraphQL query through ApolloClient, I've tried assigning the result to global variable and I get the value in the onResponse method, however outside that i get the value my variable has been declared as at first. The onResponse method is generated automatically by apollo and the query puts up and error if deleted.\nIs there a way to get the response out somehow ?</p>\n<pre><code>public class Main {\n\n    public static String result = null;\n    public static void main(String[] args) {\n        ApolloClient apolloClient = ApolloClient.builder().serverUrl(&quot;https://apollo-fullstack-tutorial.herokuapp.com/graphql&quot;).build();\n\n        apolloClient.query(new LaunchDetailsQuery(&quot;83&quot;))\n                .enqueue(new ApolloCall.Callback&lt;LaunchDetailsQuery.Data&gt;() {\n                    @Override\n                    public void onResponse(@NotNull Response&lt;LaunchDetailsQuery.Data&gt; response) {\n                        result=response.getData().launch.mission.name;\n                        System.out.println(result);\n                    }\n\n                    @Override\n                    public void onFailure(@NotNull ApolloException e) {\n                        System.out.println(e);\n                    }\n                });\n\n        System.out.println(result);\n    }\n\n\n}\n</code></pre>\n<p>Tried assigning the value to global variable, appending the value into list through setters from another class. Always returns as the objects first init value.</p>\n"},{"tags":["java","classpath"],"answers":[{"tags":[],"owner":{"account_id":7969,"reputation":14785,"user_id":14057,"display_name":"Joe Skora"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1223478645,"creation_date":1223478645,"answer_id":183304,"question_id":183292,"body_markdown":"Not without writing your own class loader.  You can add jars to the jar&#39;s classpath, but they must be co-located, not contained in the main jar.","title":"Classpath including JAR within a JAR","body":"<p>Not without writing your own class loader.  You can add jars to the jar's classpath, but they must be co-located, not contained in the main jar.</p>\n"},{"tags":[],"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1223478687,"creation_date":1223478687,"answer_id":183308,"question_id":183292,"body_markdown":"You need to build a custom class-loader to do this or a third-party library that supports this. Your best bet is to extract the jar from the runtime and add them to the classpath (or have them already added to the classpath).","title":"Classpath including JAR within a JAR","body":"<p>You need to build a custom class-loader to do this or a third-party library that supports this. Your best bet is to extract the jar from the runtime and add them to the classpath (or have them already added to the classpath).</p>\n"},{"comments":[{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":87,"creation_date":1375771759,"post_id":183313,"comment_id":26449619,"body_markdown":"So here we are, 5 years later. It looks like this is still true. Very sad :(","body":"So here we are, 5 years later. It looks like this is still true. Very sad :("},{"owner":{"account_id":1746528,"reputation":933,"user_id":1596587,"display_name":"enl8enmentnow"},"score":3,"creation_date":1390672205,"post_id":183313,"comment_id":32196516,"body_markdown":"The best way I know of now-a-days is to use IntelliJ jar artifact. It extracts all of the classes from the dependant jars and puts them in your one jar.","body":"The best way I know of now-a-days is to use IntelliJ jar artifact. It extracts all of the classes from the dependant jars and puts them in your one jar."},{"owner":{"account_id":76693,"reputation":633,"user_id":219355,"accept_rate":100,"display_name":"debuti"},"score":3,"creation_date":1407757483,"post_id":183313,"comment_id":39324451,"body_markdown":"Thats not possible in some situations like when your using JCE implementations like BouncyCastle that needs to be signed","body":"Thats not possible in some situations like when your using JCE implementations like BouncyCastle that needs to be signed"},{"owner":{"account_id":171301,"reputation":6297,"user_id":398630,"accept_rate":79,"display_name":"BrainSlugs83"},"score":0,"creation_date":1412844035,"post_id":183313,"comment_id":41221032,"body_markdown":"I know I&#39;ve done this before -- years and years ago in Java 1.5 -- it didn&#39;t seem that hard then, just obscure. -- Now I need to re-figure out how I did that. -- Seems this isn&#39;t the answer I&#39;m looking for.","body":"I know I&#39;ve done this before -- years and years ago in Java 1.5 -- it didn&#39;t seem that hard then, just obscure. -- Now I need to re-figure out how I did that. -- Seems this isn&#39;t the answer I&#39;m looking for."},{"owner":{"account_id":9251,"reputation":5673,"user_id":17008,"accept_rate":75,"display_name":"Steve Moyer"},"score":1,"creation_date":1413302178,"post_id":183313,"comment_id":41387714,"body_markdown":"@BrainSlugs83 ... What are you trying to do?  I think One-Jar&#39;s classloader and packager is still the answer to including a Jar within a Jar (for Java SE) projects.  Using UberJar eliminates the problem by extracting class files into your Jar.","body":"@BrainSlugs83 ... What are you trying to do?  I think One-Jar&#39;s classloader and packager is still the answer to including a Jar within a Jar (for Java SE) projects.  Using UberJar eliminates the problem by extracting class files into your Jar."},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":1,"creation_date":1441014703,"post_id":183313,"comment_id":52492014,"body_markdown":"The UberJar link needs login credentials. Is there any successor webpage?","body":"The UberJar link needs login credentials. Is there any successor webpage?"},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1443467839,"post_id":183313,"comment_id":53496161,"body_markdown":"@enl8enmentnow how can you do this in IntelliJ?","body":"@enl8enmentnow how can you do this in IntelliJ?"},{"owner":{"account_id":1746528,"reputation":933,"user_id":1596587,"display_name":"enl8enmentnow"},"score":1,"creation_date":1443584662,"post_id":183313,"comment_id":53548246,"body_markdown":"@StealthRabbi This is how, it&#39;s pretty amazing for the rare times you need to do this: http://blog.jetbrains.com/idea/2010/08/quickly-create-jar-artifact/","body":"@StealthRabbi This is how, it&#39;s pretty amazing for the rare times you need to do this: <a href=\"http://blog.jetbrains.com/idea/2010/08/quickly-create-jar-artifact/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/idea/2010/08/quickly-create-jar-artifact</a>"},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1467128068,"post_id":183313,"comment_id":63597481,"body_markdown":"Another +1 for One-Jar. Grab the ant-task distro and wire it into your builds. Takes 5 minutes and works as advertised.","body":"Another +1 for One-Jar. Grab the ant-task distro and wire it into your builds. Takes 5 minutes and works as advertised."},{"owner":{"account_id":6473945,"reputation":753,"user_id":5013193,"display_name":"Patrick Michaelsen"},"score":0,"creation_date":1503878554,"post_id":183313,"comment_id":78779414,"body_markdown":"I happened to be working on a project where writing a script to do this was beneficial. It explodes all jars in a lib folder and puts them in with your top-level jar. Here&#39;s a gist of the script:\nhttps://gist.github.com/prmichaelsen/334c4928ba8d75cfbddecc048f070d13","body":"I happened to be working on a project where writing a script to do this was beneficial. It explodes all jars in a lib folder and puts them in with your top-level jar. Here&#39;s a gist of the script: <a href=\"https://gist.github.com/prmichaelsen/334c4928ba8d75cfbddecc048f070d13\" rel=\"nofollow noreferrer\">gist.github.com/prmichaelsen/334c4928ba8d75cfbddecc048f070d1&zwnj;&#8203;3</a>"},{"owner":{"account_id":441579,"reputation":810,"user_id":831750,"accept_rate":50,"display_name":"eugenevd"},"score":0,"creation_date":1530258378,"post_id":183313,"comment_id":89181116,"body_markdown":"@debuti how would one solve this problem when you do have bouncyCastle?","body":"@debuti how would one solve this problem when you do have bouncyCastle?"},{"owner":{"account_id":203587,"reputation":10443,"user_id":451321,"accept_rate":50,"display_name":"Michael Chourdakis"},"score":0,"creation_date":1582614976,"post_id":183313,"comment_id":106828259,"body_markdown":"@T3rm1 so we are in 2020 and it is still true :(","body":"@T3rm1 so we are in 2020 and it is still true :("},{"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"score":0,"creation_date":1645778102,"post_id":183313,"comment_id":125965723,"body_markdown":"SpringBoot fat jar are have jars inside the main jar. The key is to find to be able to reference a fat jar in a classpath...","body":"SpringBoot fat jar are have jars inside the main jar. The key is to find to be able to reference a fat jar in a classpath..."},{"owner":{"account_id":1993705,"reputation":555,"user_id":1790009,"accept_rate":71,"display_name":"unziberla"},"score":0,"creation_date":1651706710,"post_id":183313,"comment_id":127429867,"body_markdown":"@MichaelChourdakis in 2022 I was able to do this in Eclipse -&gt; project -&gt; export -&gt; runnable jar file -&gt; lets you choose whether you want to include the jar (but you&#39;ll have to manually handle the classloader) or explode it (which worked for me)","body":"@MichaelChourdakis in 2022 I was able to do this in Eclipse -&gt; project -&gt; export -&gt; runnable jar file -&gt; lets you choose whether you want to include the jar (but you&#39;ll have to manually handle the classloader) or explode it (which worked for me)"}],"tags":[],"owner":{"account_id":9251,"reputation":5673,"user_id":17008,"accept_rate":75,"display_name":"Steve Moyer"},"comment_count":14,"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1548630778,"creation_date":1223478725,"answer_id":183313,"question_id":183292,"body_markdown":"If you&#39;re trying to create a single jar that contains your application and its required libraries, there are two ways (that I know of) to do that.  The first is [One-Jar][1], which uses a special classloader to allow the nesting of jars.  The second is [UberJar][2], (or [Shade][3]), which explodes the included libraries and puts all the classes in the top-level jar.\r\n\r\nI should also mention that UberJar and Shade are plugins for Maven1 and Maven2 respectively.  As mentioned below, you can also use the assembly plugin (which in reality is much more powerful, but much harder to properly configure).\r\n\r\n\r\n  [1]: http://one-jar.sourceforge.net/\r\n  [2]: http://classworlds.codehaus.org/uberjar.html\r\n  [3]: http://maven.apache.org/plugins/maven-shade-plugin/","title":"Classpath including JAR within a JAR","body":"<p>If you're trying to create a single jar that contains your application and its required libraries, there are two ways (that I know of) to do that.  The first is <a href=\"http://one-jar.sourceforge.net/\" rel=\"noreferrer\">One-Jar</a>, which uses a special classloader to allow the nesting of jars.  The second is <a href=\"http://classworlds.codehaus.org/uberjar.html\" rel=\"noreferrer\">UberJar</a>, (or <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"noreferrer\">Shade</a>), which explodes the included libraries and puts all the classes in the top-level jar.</p>\n\n<p>I should also mention that UberJar and Shade are plugins for Maven1 and Maven2 respectively.  As mentioned below, you can also use the assembly plugin (which in reality is much more powerful, but much harder to properly configure).</p>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223482763,"creation_date":1223482763,"answer_id":183616,"question_id":183292,"body_markdown":"I was about to advise to extract all the files at the same level, then to make a jar out of the result, since the package system should keep them neatly separated.\r\nThat would be the manual way, I suppose the tools indicated by Steve will do that nicely.","title":"Classpath including JAR within a JAR","body":"<p>I was about to advise to extract all the files at the same level, then to make a jar out of the result, since the package system should keep them neatly separated.\nThat would be the manual way, I suppose the tools indicated by Steve will do that nicely.</p>\n"},{"comments":[{"owner":{"account_id":9251,"reputation":5673,"user_id":17008,"accept_rate":75,"display_name":"Steve Moyer"},"score":0,"creation_date":1223492975,"post_id":183982,"comment_id":65508,"body_markdown":"The Maven assembly plugin is pretty painful to use ... UberJar and Shade are Maven1 and Maven2 plugins (a fact I should have mentioned above, and will do so now)","body":"The Maven assembly plugin is pretty painful to use ... UberJar and Shade are Maven1 and Maven2 plugins (a fact I should have mentioned above, and will do so now)"}],"tags":[],"owner":{"account_id":2096,"reputation":12450,"user_id":2890,"accept_rate":80,"display_name":"Vinnie"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1223488423,"creation_date":1223488423,"answer_id":183982,"question_id":183292,"body_markdown":"I use maven for my java builds which has a plugin called the [maven assembly plugin][1].  \r\n\r\nIt does what your asking, but like some of the other suggestions describe - essentially exploding all the dependent jars and recombining them into a single jar\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin/","title":"Classpath including JAR within a JAR","body":"<p>I use maven for my java builds which has a plugin called the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">maven assembly plugin</a>.  </p>\n\n<p>It does what your asking, but like some of the other suggestions describe - essentially exploding all the dependent jars and recombining them into a single jar</p>\n"},{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":4,"creation_date":1319644849,"post_id":2326775,"comment_id":9652846,"body_markdown":"Naming conflicts are actually almost guaranteed to happen with stuff like log4j configuration and license texts.","body":"Naming conflicts are actually almost guaranteed to happen with stuff like log4j configuration and license texts."},{"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"score":1,"creation_date":1400266565,"post_id":2326775,"comment_id":36423334,"body_markdown":"Sadly JarClassLoader is GPLv3/commercial so it&#39;s probably not going to get &quot;copied by sun (now oracle)&quot;, and can&#39;t be used commercially unless you have the internal political clout and time to get something purchased. I agree however that jars that barf on the current directory are a bad thing.","body":"Sadly JarClassLoader is GPLv3/commercial so it&#39;s probably not going to get &quot;copied by sun (now oracle)&quot;, and can&#39;t be used commercially unless you have the internal political clout and time to get something purchased. I agree however that jars that barf on the current directory are a bad thing."},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1467128129,"post_id":2326775,"comment_id":63597529,"body_markdown":"+1 for the idea in this answer (though I won&#39;t be +1&#39;ing the answer itself): you can&#39;t re-package any signed JAR file, so this technique can&#39;t be used in many situations (e.g. Java&#39;s `activation.jar`).","body":"+1 for the idea in this answer (though I won&#39;t be +1&#39;ing the answer itself): you can&#39;t re-package any signed JAR file, so this technique can&#39;t be used in many situations (e.g. Java&#39;s <code>activation.jar</code>)."}],"tags":[],"owner":{"account_id":591842,"reputation":539,"user_id":280408,"display_name":"Bruce Willis"},"comment_count":3,"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1326584000,"creation_date":1267022581,"answer_id":2326775,"question_id":183292,"body_markdown":"You do NOT want to use those &quot;explode JAR contents&quot; solutions.  They definitely make it harder to see stuff (since everything is exploded at the same level).  Furthermore, there could be naming conflicts (should not happen if people use proper packages, but you cannot always control this).\r\n\r\nThe feature that you want is one of the [top 25 Sun RFEs][1]: [RFE 4648386][2], which Sun, in their infinite wisdom, has designated as being of low priority. We can only hope that Sun wakes up...\r\n\r\nIn the meanwhile, the best solution that I have come across (which I wish that Sun would copy in the JDK) is to use the custom class loader [JarClassLoader][3].\r\n\r\n\r\n  [1]: http://bugs.sun.com/bugdatabase/top25_rfes.do\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4648386\r\n  [3]: http://www.jdotsoft.com/JarClassLoader.php","title":"Classpath including JAR within a JAR","body":"<p>You do NOT want to use those &quot;explode JAR contents&quot; solutions.  They definitely make it harder to see stuff (since everything is exploded at the same level).  Furthermore, there could be naming conflicts (should not happen if people use proper packages, but you cannot always control this).</p>\n<p>The feature that you want is one of the <a href=\"http://bugs.sun.com/bugdatabase/top25_rfes.do\" rel=\"nofollow noreferrer\">top 25 Sun RFEs</a>: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4648386\" rel=\"nofollow noreferrer\">RFE 4648386</a>, which Sun, in their infinite wisdom, has designated as being of low priority. We can only hope that Sun wakes up...</p>\n<p>In the meanwhile, the best solution that I have come across (which I wish that Sun would copy in the JDK) is to use the custom class loader <a href=\"http://www.jdotsoft.com/JarClassLoader.php\" rel=\"nofollow noreferrer\">JarClassLoader</a>.</p>\n"},{"tags":[],"owner":{"account_id":430892,"reputation":11366,"user_id":814576,"accept_rate":77,"display_name":"ecbrodie"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1516984054,"creation_date":1315577359,"answer_id":7362930,"question_id":183292,"body_markdown":"Use the **zipgroupfileset** tag (uses same attributes as a **fileset** tag); it will unzip all files in the directory and add to your new archive file.\r\nMore information: [http://ant.apache.org/manual/Tasks/zip.html][1]\r\n\r\nThis is a very useful way to get around the jar-in-a-jar problem -- I know because I have googled this exact StackOverflow question while trying to figure out what to do. If you want to package a jar or a folder of jars into your one built jar with Ant, then forget about all this classpath or third-party plugin stuff, all you gotta do is this (in Ant):\r\n\r\n    &lt;jar destfile=&quot;your.jar&quot; basedir=&quot;java/dir&quot;&gt;\r\n      ...\r\n      &lt;zipgroupfileset dir=&quot;dir/of/jars&quot; /&gt;\r\n    &lt;/jar&gt;\r\n\r\n\r\n  [1]: http://ant.apache.org/manual/Tasks/zip.html","title":"Classpath including JAR within a JAR","body":"<p>Use the <strong>zipgroupfileset</strong> tag (uses same attributes as a <strong>fileset</strong> tag); it will unzip all files in the directory and add to your new archive file.\nMore information: <a href=\"http://ant.apache.org/manual/Tasks/zip.html\" rel=\"nofollow noreferrer\">http://ant.apache.org/manual/Tasks/zip.html</a></p>\n\n<p>This is a very useful way to get around the jar-in-a-jar problem -- I know because I have googled this exact StackOverflow question while trying to figure out what to do. If you want to package a jar or a folder of jars into your one built jar with Ant, then forget about all this classpath or third-party plugin stuff, all you gotta do is this (in Ant):</p>\n\n<pre><code>&lt;jar destfile=\"your.jar\" basedir=\"java/dir\"&gt;\n  ...\n  &lt;zipgroupfileset dir=\"dir/of/jars\" /&gt;\n&lt;/jar&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141292,"reputation":2923,"user_id":348202,"accept_rate":70,"display_name":"Jan Goyvaerts"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319644618,"creation_date":1319644618,"answer_id":7905379,"question_id":183292,"body_markdown":"Winstone is pretty good http://blog.jayway.com/2008/11/28/executable-war-with-winstone-maven-plugin/. But not for complex sites. And that&#39;s a shame because all it takes is to include the plugin.","title":"Classpath including JAR within a JAR","body":"<p>Winstone is pretty good <a href=\"http://blog.jayway.com/2008/11/28/executable-war-with-winstone-maven-plugin/\" rel=\"nofollow\">http://blog.jayway.com/2008/11/28/executable-war-with-winstone-maven-plugin/</a>. But not for complex sites. And that's a shame because all it takes is to include the plugin.</p>\n"},{"tags":[],"owner":{"account_id":239367,"reputation":13188,"user_id":508907,"accept_rate":62,"display_name":"ntg"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1558352522,"creation_date":1335379647,"answer_id":10321910,"question_id":183292,"body_markdown":"If you are building with ant (I am using ant from eclipse), you can just add the extra jar files\r\nby saying to ant to add them...\r\nNot necessarily the best method if you have a project maintained by multiple people but it works for one person project and is easy.\r\n\r\nfor example my target that was building the .jar file was:\r\n\r\n    &lt;jar destfile=&quot;${plugin.jar}&quot; basedir=&quot;${plugin.build.dir}&quot;&gt;\r\n        &lt;manifest&gt;\r\n            &lt;attribute name=&quot;Author&quot; value=&quot;ntg&quot;/&gt;\r\n            ................................\r\n            &lt;attribute name=&quot;Plugin-Version&quot; value=&quot;${version.entry.commit.revision}&quot;/&gt;\r\n        &lt;/manifest&gt;\r\n    &lt;/jar&gt;\r\n\r\nI just added one line to make it:\r\n\r\n    &lt;jar ....&quot;&gt;\r\n    \t&lt;zipgroupfileset dir=&quot;${external-lib-dir}&quot; includes=&quot;*.jar&quot;/&gt;\r\n        &lt;manifest&gt;\r\n            ................................\r\n        &lt;/manifest&gt;\r\n    &lt;/jar&gt;\r\n\r\nwhere\r\n\r\n\t&lt;property name=&quot;external-lib-dir&quot; \r\n              value=&quot;C:\\...\\eclipseWorkspace\\Filter\\external\\...\\lib&quot; /&gt;\r\nwas the dir with the external jars.\r\nAnd that&#39;s it...\r\n\r\n","title":"Classpath including JAR within a JAR","body":"<p>If you are building with ant (I am using ant from eclipse), you can just add the extra jar files\nby saying to ant to add them...\nNot necessarily the best method if you have a project maintained by multiple people but it works for one person project and is easy.</p>\n\n<p>for example my target that was building the .jar file was:</p>\n\n<pre><code>&lt;jar destfile=\"${plugin.jar}\" basedir=\"${plugin.build.dir}\"&gt;\n    &lt;manifest&gt;\n        &lt;attribute name=\"Author\" value=\"ntg\"/&gt;\n        ................................\n        &lt;attribute name=\"Plugin-Version\" value=\"${version.entry.commit.revision}\"/&gt;\n    &lt;/manifest&gt;\n&lt;/jar&gt;\n</code></pre>\n\n<p>I just added one line to make it:</p>\n\n<pre><code>&lt;jar ....\"&gt;\n    &lt;zipgroupfileset dir=\"${external-lib-dir}\" includes=\"*.jar\"/&gt;\n    &lt;manifest&gt;\n        ................................\n    &lt;/manifest&gt;\n&lt;/jar&gt;\n</code></pre>\n\n<p>where</p>\n\n<pre><code>&lt;property name=\"external-lib-dir\" \n          value=\"C:\\...\\eclipseWorkspace\\Filter\\external\\...\\lib\" /&gt;\n</code></pre>\n\n<p>was the dir with the external jars.\nAnd that's it...</p>\n"},{"comments":[{"owner":{"account_id":98882,"reputation":8173,"user_id":267398,"accept_rate":63,"display_name":"sebnukem"},"score":21,"creation_date":1435956119,"post_id":21777294,"comment_id":50429110,"body_markdown":"This answer does *not* work. from the oracle doc (linked by banana above): &quot;The Class-Path header points to classes or JAR files on the local network, not JAR files within the JAR file&quot;","body":"This answer does <i>not</i> work. from the oracle doc (linked by banana above): &quot;The Class-Path header points to classes or JAR files on the local network, not JAR files within the JAR file&quot;"},{"owner":{"display_name":"user502187"},"score":0,"creation_date":1451045862,"post_id":21777294,"comment_id":56667209,"body_markdown":"Anything known whether this can also be used in an Android setting.","body":"Anything known whether this can also be used in an Android setting."},{"owner":{"account_id":4712204,"reputation":382,"user_id":3812388,"display_name":"Cychih"},"score":3,"creation_date":1463296033,"post_id":21777294,"comment_id":62000092,"body_markdown":"It works for executable jar scenario (tested), but it may not work when you want to include a jar in a library jar.","body":"It works for executable jar scenario (tested), but it may not work when you want to include a jar in a library jar."},{"owner":{"account_id":4712204,"reputation":382,"user_id":3812388,"display_name":"Cychih"},"score":5,"creation_date":1463297257,"post_id":21777294,"comment_id":62000404,"body_markdown":"Oh no it doesn&#39;t work, once I moved `custom_lib.jar` away, the jar cannot be executed anymore :(","body":"Oh no it doesn&#39;t work, once I moved <code>custom_lib.jar</code> away, the jar cannot be executed anymore :("},{"owner":{"account_id":6366549,"reputation":332,"user_id":4940369,"display_name":"Abhishek Tiwari"},"score":0,"creation_date":1544100415,"post_id":21777294,"comment_id":94161631,"body_markdown":"How can multiple jars specified in the Class-Path?","body":"How can multiple jars specified in the Class-Path?"},{"owner":{"account_id":6366549,"reputation":332,"user_id":4940369,"display_name":"Abhishek Tiwari"},"score":0,"creation_date":1544103202,"post_id":21777294,"comment_id":94163387,"body_markdown":"Answer to my question is place space between jar names.","body":"Answer to my question is place space between jar names."},{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":0,"creation_date":1605368831,"post_id":21777294,"comment_id":114631276,"body_markdown":"As stated by @sebnukem above, it doesn&#39;t work. It&#39;d be great if it did work, since then, you wouldn&#39;t have to use those OneJar and UberJar/Shade stuff or whatever. However, with the new `jpackage` introduced in JDK 14, you can create an installable package which will also include all libraries that you want. And using a `jar` file seems kind of primitive.","body":"As stated by @sebnukem above, it doesn&#39;t work. It&#39;d be great if it did work, since then, you wouldn&#39;t have to use those OneJar and UberJar/Shade stuff or whatever. However, with the new <code>jpackage</code> introduced in JDK 14, you can create an installable package which will also include all libraries that you want. And using a <code>jar</code> file seems kind of primitive."}],"tags":[],"owner":{"account_id":1091718,"reputation":557,"user_id":1086220,"display_name":"Tezar"},"comment_count":7,"down_vote_count":4,"up_vote_count":39,"is_accepted":false,"score":35,"last_activity_date":1415100887,"creation_date":1392374985,"answer_id":21777294,"question_id":183292,"body_markdown":"After some research I have found method that doesn&#39;t require maven or any 3rd party extension/program. \r\n\r\nYou can use &quot;Class-Path&quot; in your manifest file.\r\n\r\nFor example:\r\n\r\nCreate manifest file MANIFEST.MF\r\n    \r\n    Manifest-Version: 1.0\r\n    Created-By: Bundle\r\n    Class-Path: ./custom_lib.jar\r\n    Main-Class: YourMainClass\r\n\r\n\r\nCompile all your classes and run `jar cfm Testing.jar MANIFEST.MF *.class custom_lib.jar`\r\n\r\n`c` stands for create archive\r\n`f` indicates that you want to specify file \r\n`v` is for verbose input\r\n`m` means that we will pass custom manifest file\r\n\r\nBe sure that you included lib in jar package. You should be able to run jar in the normal way.\r\n\r\nbased on: http://www.ibm.com/developerworks/library/j-5things6/\r\n\r\nall other information you need about the class-path do you find [here][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/deployment/jar/downman.html","title":"Classpath including JAR within a JAR","body":"<p>After some research I have found method that doesn't require maven or any 3rd party extension/program. </p>\n\n<p>You can use \"Class-Path\" in your manifest file.</p>\n\n<p>For example:</p>\n\n<p>Create manifest file MANIFEST.MF</p>\n\n<pre><code>Manifest-Version: 1.0\nCreated-By: Bundle\nClass-Path: ./custom_lib.jar\nMain-Class: YourMainClass\n</code></pre>\n\n<p>Compile all your classes and run <code>jar cfm Testing.jar MANIFEST.MF *.class custom_lib.jar</code></p>\n\n<p><code>c</code> stands for create archive\n<code>f</code> indicates that you want to specify file \n<code>v</code> is for verbose input\n<code>m</code> means that we will pass custom manifest file</p>\n\n<p>Be sure that you included lib in jar package. You should be able to run jar in the normal way.</p>\n\n<p>based on: <a href=\"http://www.ibm.com/developerworks/library/j-5things6/\">http://www.ibm.com/developerworks/library/j-5things6/</a></p>\n\n<p>all other information you need about the class-path do you find <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2167431,"reputation":21,"user_id":1920235,"display_name":"CM_2014"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392927224,"creation_date":1392927224,"answer_id":21918519,"question_id":183292,"body_markdown":"Well, there is a very easy way if you&#39;re using Eclipse. \r\n\r\nExport your project as a &quot;Runnable&quot; Jar file (right-click project folder from within Eclipse, select &quot;Export...&quot;). When you configure the export settings, be sure to select &quot;Extract required libraries into generated Jar.&quot; Keep in mind, select &quot;Extract...&quot; and **not** &quot;Package required libraries...&quot;. \r\n\r\n**Additionally**: You must select a run-configuration in your export settings. So, you could always create an empty main( ) in some class and use it for your run configuration. \r\n\r\nAnyway, it isn&#39;t *guaranteed* to work 100% of the time - as you will notice a pop-up message telling you to make sure you check the licenses of the Jar files you&#39;re including and something about not copying signature files. However, I have been doing this for **years** and have never encountered a problem.","title":"Classpath including JAR within a JAR","body":"<p>Well, there is a very easy way if you're using Eclipse. </p>\n\n<p>Export your project as a \"Runnable\" Jar file (right-click project folder from within Eclipse, select \"Export...\"). When you configure the export settings, be sure to select \"Extract required libraries into generated Jar.\" Keep in mind, select \"Extract...\" and <strong>not</strong> \"Package required libraries...\". </p>\n\n<p><strong>Additionally</strong>: You must select a run-configuration in your export settings. So, you could always create an empty main( ) in some class and use it for your run configuration. </p>\n\n<p>Anyway, it isn't <em>guaranteed</em> to work 100% of the time - as you will notice a pop-up message telling you to make sure you check the licenses of the Jar files you're including and something about not copying signature files. However, I have been doing this for <strong>years</strong> and have never encountered a problem.</p>\n"},{"tags":[],"owner":{"account_id":3521210,"reputation":113,"user_id":2943431,"display_name":"amralieg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438245864,"creation_date":1438245864,"answer_id":31719070,"question_id":183292,"body_markdown":"If you have eclpise IDE, you just need to export your JAR and choose &quot;Package Required libraries into generated JAR&quot;. eclipse will automatically add the required dependant JARs into the generated JAR as well as generated some eclipse custom class loader that load these JARs automatically.","title":"Classpath including JAR within a JAR","body":"<p>If you have eclpise IDE, you just need to export your JAR and choose \"Package Required libraries into generated JAR\". eclipse will automatically add the required dependant JARs into the generated JAR as well as generated some eclipse custom class loader that load these JARs automatically.</p>\n"},{"comments":[{"owner":{"account_id":9276449,"reputation":1,"user_id":6888983,"display_name":"Tim de Vries"},"score":0,"creation_date":1574988984,"post_id":59097580,"comment_id":104428369,"body_markdown":"So jars in c:\\java\\jars. Source, binaries and resources in c:\\java. Exclude backups,properties, keystore_private. Unpack to c:\\java and run with classpath forming tool, so maybe ca.tecreations.system.tools.SystemTool or comparable java class. Execute that.","body":"So jars in c:\\java\\jars. Source, binaries and resources in c:\\java. Exclude backups,properties, keystore_private. Unpack to c:\\java and run with classpath forming tool, so maybe ca.tecreations.system.tools.SystemTool or comparable java class. Execute that."},{"owner":{"account_id":9276449,"reputation":1,"user_id":6888983,"display_name":"Tim de Vries"},"score":0,"creation_date":1641093879,"post_id":59097580,"comment_id":124719076,"body_markdown":"I have working code for anyone seeking a solution to this problem. Please contact tim.devries@yahoo.ca. I guess I could say, you can attempt to download from tecreations.ca/java/downloads/release/ and then attempt to run ca.tecreations.launcher.Launcher, but YMMV.","body":"I have working code for anyone seeking a solution to this problem. Please contact tim.devries@yahoo.ca. I guess I could say, you can attempt to download from tecreations.ca/java/downloads/release/ and then attempt to run ca.tecreations.launcher.Launcher, but YMMV."}],"tags":[],"owner":{"account_id":9276449,"reputation":1,"user_id":6888983,"display_name":"Tim de Vries"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574988590,"creation_date":1574988590,"answer_id":59097580,"question_id":183292,"body_markdown":"Extracting into an Uber-dir works for me as we s should all be using root:\\java and have outlets code in packages with versioning. Ie ca.tecreations-1.0.0. Signing is okay because the jars are intact from their downloaded location. 3rd party signatures intact, extract to c:\\java. There’s my project dir. run from launcher so java -cp c:\\java Launcher","title":"Classpath including JAR within a JAR","body":"<p>Extracting into an Uber-dir works for me as we s should all be using root:\\java and have outlets code in packages with versioning. Ie ca.tecreations-1.0.0. Signing is okay because the jars are intact from their downloaded location. 3rd party signatures intact, extract to c:\\java. There’s my project dir. run from launcher so java -cp c:\\java Launcher</p>\n"},{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620156643,"creation_date":1620156643,"answer_id":67391031,"question_id":183292,"body_markdown":"In case you are using Spring Boot, you may want to have a look at this documentation: [The Executable Jar Format][1]\r\n\r\n\r\n&gt; **Java does not provide any standard way** to load nested jar files (that\r\n&gt; is, jar files that are themselves contained within a jar). This can be\r\n&gt; problematic if you need to distribute a self-contained application\r\n&gt; that can be run from the command line without unpacking.\r\n&gt; \r\n&gt; To solve this problem, many developers use **“shaded” jars**. A shaded jar\r\n&gt; packages all classes, from all jars, into a single “uber jar”. The\r\n&gt; problem with shaded jars is that it becomes hard to see which\r\n&gt; libraries are actually in your application. It can also be problematic\r\n&gt; if the same filename is used (but with different content) in multiple\r\n&gt; jars. **Spring Boot takes a different approach and lets you actually\r\n&gt; nest jars directly**.\r\n\r\nThe Spring documentation also lists some *alternative single Jar solutions*:\r\n\r\n - [Apache Maven Shade Plugin](https://maven.apache.org/plugins/maven-shade-plugin/)\r\n - [JDotSoft JarClassLoader](http://www.jdotsoft.com/JarClassLoader.php)\r\n - [One-JAR](http://one-jar.sourceforge.net/)\r\n - [Shadow Plugin (Gradle)](https://imperceptiblethoughts.com/shadow/)\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-executable-jar-format.html","title":"Classpath including JAR within a JAR","body":"<p>In case you are using Spring Boot, you may want to have a look at this documentation: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-executable-jar-format.html\" rel=\"nofollow noreferrer\">The Executable Jar Format</a></p>\n<blockquote>\n<p><strong>Java does not provide any standard way</strong> to load nested jar files (that\nis, jar files that are themselves contained within a jar). This can be\nproblematic if you need to distribute a self-contained application\nthat can be run from the command line without unpacking.</p>\n<p>To solve this problem, many developers use <strong>“shaded” jars</strong>. A shaded jar\npackages all classes, from all jars, into a single “uber jar”. The\nproblem with shaded jars is that it becomes hard to see which\nlibraries are actually in your application. It can also be problematic\nif the same filename is used (but with different content) in multiple\njars. <strong>Spring Boot takes a different approach and lets you actually\nnest jars directly</strong>.</p>\n</blockquote>\n<p>The Spring documentation also lists some <em>alternative single Jar solutions</em>:</p>\n<ul>\n<li><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Apache Maven Shade Plugin</a></li>\n<li><a href=\"http://www.jdotsoft.com/JarClassLoader.php\" rel=\"nofollow noreferrer\">JDotSoft JarClassLoader</a></li>\n<li><a href=\"http://one-jar.sourceforge.net/\" rel=\"nofollow noreferrer\">One-JAR</a></li>\n<li><a href=\"https://imperceptiblethoughts.com/shadow/\" rel=\"nofollow noreferrer\">Shadow Plugin (Gradle)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5812298,"reputation":1818,"user_id":4582948,"display_name":"armagedescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683834223,"creation_date":1664890290,"answer_id":73948674,"question_id":183292,"body_markdown":"I would advise to use one jar and many libraries in separate jars, not in a single jar. Use separate jar from jar libraries.  \r\nSuppose you have such a folder structure:\r\n```\r\npath/yourApp/yourApp.jar\r\npath/yourApp/lib/lib1.jar\r\npath/yourApp/lib/megalib1.jar\r\npath/yourApp/lib/supermegalib1.jar\r\n```\r\nAll you have to do, add each of used jar to your **MANIFEST.MF**.\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: com.company.MyProgram\r\nClass-Path: ./lib/lib1.jar ./lib/megalib1.jar ./lib/supermegalib1.jar\r\n```\r\nSo, in the manifest, you grant usage to each library.  \r\nSingle file &quot;all in one jar&quot; might be easier to share and distribute, but not significantly. It will not make your program easier to maintain, and will not make your program to run faster. It will not make significant hdd usage difference. Just distribute as zip and unpack where it needs to be deployed.","title":"Classpath including JAR within a JAR","body":"<p>I would advise to use one jar and many libraries in separate jars, not in a single jar. Use separate jar from jar libraries.<br />\nSuppose you have such a folder structure:</p>\n<pre><code>path/yourApp/yourApp.jar\npath/yourApp/lib/lib1.jar\npath/yourApp/lib/megalib1.jar\npath/yourApp/lib/supermegalib1.jar\n</code></pre>\n<p>All you have to do, add each of used jar to your <strong>MANIFEST.MF</strong>.</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: com.company.MyProgram\nClass-Path: ./lib/lib1.jar ./lib/megalib1.jar ./lib/supermegalib1.jar\n</code></pre>\n<p>So, in the manifest, you grant usage to each library.<br />\nSingle file &quot;all in one jar&quot; might be easier to share and distribute, but not significantly. It will not make your program easier to maintain, and will not make your program to run faster. It will not make significant hdd usage difference. Just distribute as zip and unpack where it needs to be deployed.</p>\n"}],"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165985,"favorite_count":0,"down_vote_count":1,"up_vote_count":146,"accepted_answer_id":183313,"answer_count":15,"score":145,"last_activity_date":1683834223,"creation_date":1223478561,"question_id":183292,"body_markdown":"Is it possible to specify a Java `classpath` that includes a JAR file contained within another JAR file?\r\n","title":"Classpath including JAR within a JAR","body":"<p>Is it possible to specify a Java <code>classpath</code> that includes a JAR file contained within another JAR file?</p>\n"},{"tags":["java","jpa","design-patterns","architecture"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1435058084,"creation_date":1435058084,"answer_id":31001277,"question_id":31000800,"body_markdown":"In a non-ORM world, a clean architecture would (or could) involve having DAO interfaces, with DAO implementations knowing how to retrieve the data from a database (or any other source), and convert and return it as a domain object. An upper layer would then use the DAOs (through the interfaces) to retrieve those objects.\r\n\r\nThis would allow you to for example create different DAO implementations for different databases, and you could change databases without bothering the rest of the software.\r\n\r\nIn a JPA/ORM world you can bypass a lot of that if you choose. You can use entity classes as domain objects, create the entity classes in a database agnostic way (i.e. not using any database specific `NativeQueries` for example). Now that your entities are database agnostic, you can just use `NamedQueries` in your service layer instead of creating DAOs.\r\n\r\nIn the end you need to have some layer which knows about the database, but in JPA&#39;s case it doesn&#39;t even hold true. Your entities are Java objects and it&#39;s the JPA implementation layer that is responsible for converting them to and from the database.\r\n\r\nIn conclusion: there are very few universal truths in software development and you can talk to a dozen uncles and hear a dozen versions of essentially the same &quot;story&quot;.","title":"JPA annotations in entity layer according to Uncle Bob","body":"<p>In a non-ORM world, a clean architecture would (or could) involve having DAO interfaces, with DAO implementations knowing how to retrieve the data from a database (or any other source), and convert and return it as a domain object. An upper layer would then use the DAOs (through the interfaces) to retrieve those objects.</p>\n\n<p>This would allow you to for example create different DAO implementations for different databases, and you could change databases without bothering the rest of the software.</p>\n\n<p>In a JPA/ORM world you can bypass a lot of that if you choose. You can use entity classes as domain objects, create the entity classes in a database agnostic way (i.e. not using any database specific <code>NativeQueries</code> for example). Now that your entities are database agnostic, you can just use <code>NamedQueries</code> in your service layer instead of creating DAOs.</p>\n\n<p>In the end you need to have some layer which knows about the database, but in JPA's case it doesn't even hold true. Your entities are Java objects and it's the JPA implementation layer that is responsible for converting them to and from the database.</p>\n\n<p>In conclusion: there are very few universal truths in software development and you can talk to a dozen uncles and hear a dozen versions of essentially the same \"story\".</p>\n"},{"tags":[],"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683834186,"creation_date":1683834186,"answer_id":76231133,"question_id":31000800,"body_markdown":"I think that your domain layer should remain free of JPA annotations. In the future, you could replace your JPA implementation by a NoSQL implementation, that would make JPA annotations irrelevant.\r\n\r\nInstead of JPA annotations, you could use JPA `orm.xml` in your persistence layer to define your mapping. That would leave your domain layer clean.","title":"JPA annotations in entity layer according to Uncle Bob","body":"<p>I think that your domain layer should remain free of JPA annotations. In the future, you could replace your JPA implementation by a NoSQL implementation, that would make JPA annotations irrelevant.</p>\n<p>Instead of JPA annotations, you could use JPA <code>orm.xml</code> in your persistence layer to define your mapping. That would leave your domain layer clean.</p>\n"}],"owner":{"account_id":4481424,"reputation":300,"user_id":3645391,"accept_rate":78,"display_name":"Andrzej Sołtysik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1683834186,"creation_date":1435056701,"question_id":31000800,"body_markdown":"According to [Uncle Bob]( https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html), the entity layer should know nothing about the database. \r\n\r\nWhat about the JPA annotations then? Don&#39;t they violate the architecture proposed by the author? If they do, how to use the entities with JPA?","title":"JPA annotations in entity layer according to Uncle Bob","body":"<p>According to <a href=\"https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html\" rel=\"nofollow\">Uncle Bob</a>, the entity layer should know nothing about the database. </p>\n\n<p>What about the JPA annotations then? Don't they violate the architecture proposed by the author? If they do, how to use the entities with JPA?</p>\n"},{"tags":["java","parsing","javabeans","dozer"],"comments":[{"owner":{"account_id":1009992,"reputation":138,"user_id":1022782,"display_name":"visionary"},"score":0,"creation_date":1344597380,"post_id":11900429,"comment_id":15840359,"body_markdown":"Do you really need a two class for that? Couldn&#39;t be just two instances of the same class? Then you can use just clone() method.","body":"Do you really need a two class for that? Couldn&#39;t be just two instances of the same class? Then you can use just clone() method."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1344597388,"post_id":11900429,"comment_id":15840361,"body_markdown":"You can try a Map or a hashmap... or do something with reflection.\n\nThis sort of thing has to be purpose-built so why not share a common use-case with us?","body":"You can try a Map or a hashmap... or do something with reflection.  This sort of thing has to be purpose-built so why not share a common use-case with us?"},{"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"score":0,"creation_date":1344597923,"post_id":11900429,"comment_id":15840565,"body_markdown":"@visionary Nope. Can&#39;t go for cloning. Got two classes. :(","body":"@visionary Nope. Can&#39;t go for cloning. Got two classes. :("},{"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"score":0,"creation_date":1344599337,"post_id":11900429,"comment_id":15841075,"body_markdown":"@Shark What did you mean by `why not share a common use-case with us`? (I saw you changing your answer into a comment :p)","body":"@Shark What did you mean by <code>why not share a common use-case with us</code>? (I saw you changing your answer into a comment :p)"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1344600010,"post_id":11900429,"comment_id":15841363,"body_markdown":"What I mean is &quot;give us a better idea where and how this might be used since you might have the wrong idea for solving the problem to begin with.&quot;. ClassA, ClassBB is too vague and really doesn&#39;t describe anything; sharing real class names might give insight into what they should be doing.","body":"What I mean is &quot;give us a better idea where and how this might be used since you might have the wrong idea for solving the problem to begin with.&quot;. ClassA, ClassBB is too vague and really doesn&#39;t describe anything; sharing real class names might give insight into what they should be doing."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1344600075,"post_id":11900429,"comment_id":15841403,"body_markdown":"Or you could try serializing/deserializing thru XML, that always work.","body":"Or you could try serializing/deserializing thru XML, that always work."},{"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"score":1,"creation_date":1344600725,"post_id":11900429,"comment_id":15841685,"body_markdown":"@Shark well i&#39;m question seeks a solution like Jean-R&#233;myRevy &amp; SeanPatrickFloyd suggested below. Don&#39;t get confused with class names. It&#39;s the best I can do to explain. It will be complicated if i try to give more details.","body":"@Shark well i&#39;m question seeks a solution like Jean-R&#233;myRevy &amp; SeanPatrickFloyd suggested below. Don&#39;t get confused with class names. It&#39;s the best I can do to explain. It will be complicated if i try to give more details."},{"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"score":0,"creation_date":1344600794,"post_id":11900429,"comment_id":15841709,"body_markdown":"@Shark Simply I need a method that can `identify the passed variables name` and deal with a variable `with the same name` in some other independent object (both variables will be of the same type).","body":"@Shark Simply I need a method that can <code>identify the passed variables name</code> and deal with a variable <code>with the same name</code> in some other independent object (both variables will be of the same type)."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1344601753,"post_id":11900429,"comment_id":15842156,"body_markdown":"Here&#39;s an honest idea - i&#39;d try dozer, then XML serialization, then reflection... With reflection, you could write a method to compare members of both classes and assign runtime value of one to the other.","body":"Here&#39;s an honest idea - i&#39;d try dozer, then XML serialization, then reflection... With reflection, you could write a method to compare members of both classes and assign runtime value of one to the other."},{"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"score":2,"creation_date":1344605681,"post_id":11900429,"comment_id":15844152,"body_markdown":"Thanks @Shark it would be appreciated if you can explain a bit about `reflection`. I haven&#39;t come across that.. (You&#39;d better put it as an answer, as this doesn&#39;t like extended discussions :D)","body":"Thanks @Shark it would be appreciated if you can explain a bit about <code>reflection</code>. I haven&#39;t come across that.. (You&#39;d better put it as an answer, as this doesn&#39;t like extended discussions :D)"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1344606888,"post_id":11900429,"comment_id":15844805,"body_markdown":"The thing is, I never extensively used reflection... that&#39;s why I&#39;d leave it for last :) I&#39;ll come up with a brief answer now.","body":"The thing is, I never extensively used reflection... that&#39;s why I&#39;d leave it for last :) I&#39;ll come up with a brief answer now."}],"answers":[{"comments":[{"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"score":0,"creation_date":1344599216,"post_id":11900469,"comment_id":15841009,"body_markdown":"appreciate your answer. yeah, i haven&#39;t ever heard about `dozer`. Seems great. I&#39;ll try that one and give a feedback. Thanks!","body":"appreciate your answer. yeah, i haven&#39;t ever heard about <code>dozer</code>. Seems great. I&#39;ll try that one and give a feedback. Thanks!"}],"tags":[],"owner":{"account_id":1041394,"reputation":5637,"user_id":1047365,"accept_rate":86,"display_name":"Jean-R&#233;my Revy"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1344598002,"creation_date":1344597092,"answer_id":11900469,"question_id":11900429,"body_markdown":"Did you ever heared about Dozer ? : http://dozer.sourceforge.net/\n\n&gt; Dozer\n&gt;\n&gt; Dozer is a Java Bean to Java Bean mapper that recursively copies data from one object to another. Typically, these Java Beans will be of different complex types.\n&gt;\n&gt; Dozer supports simple property mapping, complex type mapping, bi-directional mapping, implicit-explicit mapping, as well as recursive mapping. This includes mapping collection attributes that also need mapping at the element level.\n\nDozer allow you to map Java Beans :\n\n - using their names (implicit mapping), i.e mapping ClassA.x to ClassB.x\n - providing hability to map diffrent structures (explicit mapping) with different names with (quite simple) xml or annoation configuration .\n\nHere a XML example on the library site : \n\n&lt;!-- language: lang-xml --&gt;\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;mappings xmlns=&quot;http://dozer.sourceforge.net&quot;\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n              xsi:schemaLocation=&quot;http://dozer.sourceforge.net\n              http://dozer.sourceforge.net/schema/beanmapping.xsd&quot;&gt;\n              \n      &lt;mapping&gt; \n        &lt;class-a&gt;org.dozer.vo.TestObject&lt;/class-a&gt;\n        &lt;class-b&gt;org.dozer.vo.TestObjectPrime&lt;/class-b&gt;   \n        &lt;field&gt;\n          &lt;a&gt;one&lt;/a&gt;\n          &lt;b&gt;onePrime&lt;/b&gt;\n        &lt;/field&gt;\n      &lt;/mapping&gt;  \n\n          &lt;!-- SNIP ... --&gt;\n\n    &lt;/mappings&gt;\n\nThis will map object org.dozer.vo.TestObject into TestObjectPrime, mapping all variable that are identicals together (like in your case) and variables TestObjectFoo.oneFoo into TestObjectFooPrime.oneFooPrime.\n\nGreat, isn&#39;t it ?","title":"Copying one class&#39;s fields into another class&#39;s identical fields","body":"<p>Did you ever heared about Dozer ? : <a href=\"http://dozer.sourceforge.net/\" rel=\"nofollow noreferrer\">http://dozer.sourceforge.net/</a></p>\n<blockquote>\n<p>Dozer</p>\n<p>Dozer is a Java Bean to Java Bean mapper that recursively copies data from one object to another. Typically, these Java Beans will be of different complex types.</p>\n<p>Dozer supports simple property mapping, complex type mapping, bi-directional mapping, implicit-explicit mapping, as well as recursive mapping. This includes mapping collection attributes that also need mapping at the element level.</p>\n</blockquote>\n<p>Dozer allow you to map Java Beans :</p>\n<ul>\n<li>using their names (implicit mapping), i.e mapping ClassA.x to ClassB.x</li>\n<li>providing hability to map diffrent structures (explicit mapping) with different names with (quite simple) xml or annoation configuration .</li>\n</ul>\n<p>Here a XML example on the library site :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;mappings xmlns=&quot;http://dozer.sourceforge.net&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://dozer.sourceforge.net\n          http://dozer.sourceforge.net/schema/beanmapping.xsd&quot;&gt;\n          \n  &lt;mapping&gt; \n    &lt;class-a&gt;org.dozer.vo.TestObject&lt;/class-a&gt;\n    &lt;class-b&gt;org.dozer.vo.TestObjectPrime&lt;/class-b&gt;   \n    &lt;field&gt;\n      &lt;a&gt;one&lt;/a&gt;\n      &lt;b&gt;onePrime&lt;/b&gt;\n    &lt;/field&gt;\n  &lt;/mapping&gt;  \n\n      &lt;!-- SNIP ... --&gt;\n\n&lt;/mappings&gt;\n</code></pre>\n<p>This will map object org.dozer.vo.TestObject into TestObjectPrime, mapping all variable that are identicals together (like in your case) and variables TestObjectFoo.oneFoo into TestObjectFooPrime.oneFooPrime.</p>\n<p>Great, isn't it ?</p>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":3,"creation_date":1344597207,"post_id":11900476,"comment_id":15840308,"body_markdown":"This should be a comment, at best","body":"This should be a comment, at best"}],"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1344607091,"creation_date":1344597139,"answer_id":11900476,"question_id":11900429,"body_markdown":"new answer.\r\n\r\nI&#39;d suggest looking into Dover as it seems pretty straightforward.\r\n\r\nThe second option is serializing classes into XML and deserializing into your target class only on members  that match.\r\n\r\nThe third option I mentioned in the comment was using reflection - http://java.sun.com/developer/technicalArticles/ALT/Reflection/\r\n\r\nThis technique allows for a nice design pattern called Introspection - https://stackoverflow.com/questions/2044446/java-introspection-and-reflection which in turn allows you to discover members of a certain class...\r\n\r\nNow, having said that, one would simply &quot;discover&quot; members of ClassA, fill a ArrayList with their names, discover members of ClassB, fill another ArrayList with their names, and copy values of the intersecting set. At least that&#39;s my idea on it.","title":"Copying one class&#39;s fields into another class&#39;s identical fields","body":"<p>new answer.</p>\n\n<p>I'd suggest looking into Dover as it seems pretty straightforward.</p>\n\n<p>The second option is serializing classes into XML and deserializing into your target class only on members  that match.</p>\n\n<p>The third option I mentioned in the comment was using reflection - <a href=\"http://java.sun.com/developer/technicalArticles/ALT/Reflection/\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/ALT/Reflection/</a></p>\n\n<p>This technique allows for a nice design pattern called Introspection - <a href=\"https://stackoverflow.com/questions/2044446/java-introspection-and-reflection\">Java introspection and reflection</a> which in turn allows you to discover members of a certain class...</p>\n\n<p>Now, having said that, one would simply \"discover\" members of ClassA, fill a ArrayList with their names, discover members of ClassB, fill another ArrayList with their names, and copy values of the intersecting set. At least that's my idea on it.</p>\n"},{"comments":[{"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"score":0,"creation_date":1344599507,"post_id":11900588,"comment_id":15841142,"body_markdown":"Thanks @SeanPatrickFloyd . Yeah, if i had `getters` and `setters` this will come in handy. Well, i&#39;ll consider that. But i&#39;d like to experiment with that `dozer` thing now..","body":"Thanks @SeanPatrickFloyd . Yeah, if i had <code>getters</code> and <code>setters</code> this will come in handy. Well, i&#39;ll consider that. But i&#39;d like to experiment with that <code>dozer</code> thing now.."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1344608204,"post_id":11900588,"comment_id":15845494,"body_markdown":"@Anubis I&#39;ve added a solution for fields only","body":"@Anubis I&#39;ve added a solution for fields only"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1344613828,"post_id":11900588,"comment_id":15848389,"body_markdown":"@Shark yeah, but note: it&#39;s 10 minutes worth of coding. Don&#39;t use this in production","body":"@Shark yeah, but note: it&#39;s 10 minutes worth of coding. Don&#39;t use this in production"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1344617910,"post_id":11900588,"comment_id":15850047,"body_markdown":"I meant it more as proof of concept of what i suggested below. But hey, if it works... :)","body":"I meant it more as proof of concept of what i suggested below. But hey, if it works... :)"},{"owner":{"account_id":249936,"reputation":947,"user_id":526318,"accept_rate":63,"display_name":"jett"},"score":2,"creation_date":1430494985,"post_id":11900588,"comment_id":48099496,"body_markdown":"works great! it is missing a &quot;current = current.getSuperclass();&quot; at the end of the &quot;while (current != Object.class)&quot; loop. Without this, it goes into an infinite loop.","body":"works great! it is missing a &quot;current = current.getSuperclass();&quot; at the end of the &quot;while (current != Object.class)&quot; loop. Without this, it goes into an infinite loop."},{"owner":{"account_id":271614,"reputation":1942,"user_id":562242,"accept_rate":48,"display_name":"Moshe Rubin"},"score":0,"creation_date":1467687628,"post_id":11900588,"comment_id":63814281,"body_markdown":"@jett First thing I hit was the endless loop, thanks for your fix!  Kudos to Sean Patrick Floyd for the algorithm.","body":"@jett First thing I hit was the endless loop, thanks for your fix!  Kudos to Sean Patrick Floyd for the algorithm."},{"owner":{"account_id":485250,"reputation":7882,"user_id":901444,"accept_rate":77,"display_name":"slashdottir"},"score":0,"creation_date":1512515267,"post_id":11900588,"comment_id":82287522,"body_markdown":"I like this, but can you make one that returns a whole new object instead of asking you to pass one into the second parameter?","body":"I like this, but can you make one that returns a whole new object instead of asking you to pass one into the second parameter?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1512604867,"post_id":11900588,"comment_id":82330764,"body_markdown":"@slashdottir that&#39;s a lot harder to do in a type safe language. it would require creating the new class on the fly. It can be done with tools like CGLib or ByteBuddy, but it&#39;s far from trivial. And it wouldn&#39;t do you any good, either, as your client code wouldn&#39;t know the class. Better to just return a map in that case.","body":"@slashdottir that&#39;s a lot harder to do in a type safe language. it would require creating the new class on the fly. It can be done with tools like CGLib or ByteBuddy, but it&#39;s far from trivial. And it wouldn&#39;t do you any good, either, as your client code wouldn&#39;t know the class. Better to just return a map in that case."},{"owner":{"account_id":3310983,"reputation":736,"user_id":2784510,"accept_rate":100,"display_name":"AliReza"},"score":0,"creation_date":1683833929,"post_id":11900588,"comment_id":134431277,"body_markdown":"Update (May 2023): BeanUtils.copyProperties(sourceObject, targetObject) should work fine.","body":"Update (May 2023): BeanUtils.copyProperties(sourceObject, targetObject) should work fine."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":9,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1486372481,"creation_date":1344597600,"answer_id":11900588,"question_id":11900429,"body_markdown":"Dozer is fine, see Jean-Remy&#39;s answer.\r\n\r\nAlso, if the variables have getters and setters according to the JavaBeans standard, there are a number of technologies that could help you, e.g. [Apache Commons / BeanUtils][1]\r\n\r\n**Sample code (not tested):**\r\n\r\n    final Map&lt;String, Object&gt; aProps = BeanUtils.describe(a);\r\n    final Map&lt;String, Object&gt; bProps = BeanUtils.describe(b);\r\n    aProps.keySet().retainAll(bProps.keySet());\r\n    for (Entry&lt;String, Object&gt; entry : aProps.entrySet()) {\r\n        BeanUtils.setProperty(b,entry.getKey(), entry.getValue());\r\n    }\r\n\r\n**Update:**\r\n\r\nIf you don&#39;t have getters and setters, here&#39;s a quick hack that copies field values from one class to another as long as the fields have common names and types. I haven&#39;t tested it, but it should be OK as a starting point:\r\n\r\n    public final class Copier {\r\n    \r\n        public static void copy(final Object from, final Object to) {\r\n            Map&lt;String, Field&gt; fromFields = analyze(from);\r\n            Map&lt;String, Field&gt; toFields = analyze(to);\r\n            fromFields.keySet().retainAll(toFields.keySet());\r\n            for (Entry&lt;String, Field&gt; fromFieldEntry : fromFields.entrySet()) {\r\n                final String name = fromFieldEntry.getKey();\r\n                final Field sourceField = fromFieldEntry.getValue();\r\n                final Field targetField = toFields.get(name);\r\n                if (targetField.getType().isAssignableFrom(sourceField.getType())) {\r\n                    sourceField.setAccessible(true);\r\n                    if (Modifier.isFinal(targetField.getModifiers())) continue;\r\n                    targetField.setAccessible(true);\r\n                    try {\r\n                        targetField.set(to, sourceField.get(from));\r\n                    } catch (IllegalAccessException e) {\r\n                        throw new IllegalStateException(&quot;Can&#39;t access field!&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static Map&lt;String, Field&gt; analyze(Object object) {\r\n            if (object == null) throw new NullPointerException();\r\n    \r\n            Map&lt;String, Field&gt; map = new TreeMap&lt;String, Field&gt;();\r\n    \r\n            Class&lt;?&gt; current = object.getClass();\r\n            while (current != Object.class) {\r\n                for (Field field : current.getDeclaredFields()) {\r\n                    if (!Modifier.isStatic(field.getModifiers())) {\r\n                        if (!map.containsKey(field.getName())) {\r\n                            map.put(field.getName(), field);\r\n                        }\r\n                    }\r\n                }\r\n                current = current.getSuperclass();\r\n            }\r\n            return map;\r\n        }\r\n    }\r\n\r\n**Call Syntax:**\r\n\r\n    Copier.copy(sourceObject, targetObject);\r\n\r\n  [1]: http://commons.apache.org/beanutils/\r\n\r\n\r\n\r\n","title":"Copying one class&#39;s fields into another class&#39;s identical fields","body":"<p>Dozer is fine, see Jean-Remy's answer.</p>\n\n<p>Also, if the variables have getters and setters according to the JavaBeans standard, there are a number of technologies that could help you, e.g. <a href=\"http://commons.apache.org/beanutils/\" rel=\"noreferrer\">Apache Commons / BeanUtils</a></p>\n\n<p><strong>Sample code (not tested):</strong></p>\n\n<pre><code>final Map&lt;String, Object&gt; aProps = BeanUtils.describe(a);\nfinal Map&lt;String, Object&gt; bProps = BeanUtils.describe(b);\naProps.keySet().retainAll(bProps.keySet());\nfor (Entry&lt;String, Object&gt; entry : aProps.entrySet()) {\n    BeanUtils.setProperty(b,entry.getKey(), entry.getValue());\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>If you don't have getters and setters, here's a quick hack that copies field values from one class to another as long as the fields have common names and types. I haven't tested it, but it should be OK as a starting point:</p>\n\n<pre><code>public final class Copier {\n\n    public static void copy(final Object from, final Object to) {\n        Map&lt;String, Field&gt; fromFields = analyze(from);\n        Map&lt;String, Field&gt; toFields = analyze(to);\n        fromFields.keySet().retainAll(toFields.keySet());\n        for (Entry&lt;String, Field&gt; fromFieldEntry : fromFields.entrySet()) {\n            final String name = fromFieldEntry.getKey();\n            final Field sourceField = fromFieldEntry.getValue();\n            final Field targetField = toFields.get(name);\n            if (targetField.getType().isAssignableFrom(sourceField.getType())) {\n                sourceField.setAccessible(true);\n                if (Modifier.isFinal(targetField.getModifiers())) continue;\n                targetField.setAccessible(true);\n                try {\n                    targetField.set(to, sourceField.get(from));\n                } catch (IllegalAccessException e) {\n                    throw new IllegalStateException(\"Can't access field!\");\n                }\n            }\n        }\n    }\n\n    private static Map&lt;String, Field&gt; analyze(Object object) {\n        if (object == null) throw new NullPointerException();\n\n        Map&lt;String, Field&gt; map = new TreeMap&lt;String, Field&gt;();\n\n        Class&lt;?&gt; current = object.getClass();\n        while (current != Object.class) {\n            for (Field field : current.getDeclaredFields()) {\n                if (!Modifier.isStatic(field.getModifiers())) {\n                    if (!map.containsKey(field.getName())) {\n                        map.put(field.getName(), field);\n                    }\n                }\n            }\n            current = current.getSuperclass();\n        }\n        return map;\n    }\n}\n</code></pre>\n\n<p><strong>Call Syntax:</strong></p>\n\n<pre><code>Copier.copy(sourceObject, targetObject);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1526399,"reputation":727,"user_id":1424729,"accept_rate":7,"display_name":"Dmitry"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490079051,"creation_date":1490079051,"answer_id":42920206,"question_id":11900429,"body_markdown":"Look [here][1]. Just use `BeanUtils.copyProperties(newObject, oldObject);`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19760590/how-to-copy-properties-from-a-bean-to-another-bean-in-different-class","title":"Copying one class&#39;s fields into another class&#39;s identical fields","body":"<p>Look <a href=\"https://stackoverflow.com/questions/19760590/how-to-copy-properties-from-a-bean-to-another-bean-in-different-class\">here</a>. Just use <code>BeanUtils.copyProperties(newObject, oldObject);</code></p>\n"}],"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31479,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":11900588,"answer_count":4,"score":15,"last_activity_date":1683834025,"creation_date":1344596930,"question_id":11900429,"body_markdown":"I have this question. But it will be difficult for me to explain as I don&#39;t know exact terms to use. Hope someone will understand. I&#39;ll try to discribe to the best i can. I feel like this is much related to `parsing`\r\n\r\nSay there are two classes. And in both classes I have some variables, say strings (just for simplicity, variable type can be any), which have **similar names**.\r\n\r\n    Eg:\r\n        class ClassA{\r\n    \t    String x,y,z;\r\n        }\r\n    \r\n        class ClassB{\r\n    \t    String x,y,z;\r\n        }\r\n\r\nNow, what i need is, i need to copy the value of one class&#39;s variable values to other classes corresponding variable.\r\n\r\n    Eg:\r\n    \tClassA aa=new ClassA();\r\n    \tClassB bb=new ClassB();\r\n    \t//set bb&#39;s variables\r\n    \taa.x=bb.x;\r\n    \taa.y=bb.y;\r\n    \taa.z=bb.z;\r\n\r\nlike that.\r\n\r\nBut please note that what i need is not the above method. I hope there will be a way to write a simple method, so that it will identify the relevent variable by the name passed to it. Then it will do the value assignment accordingly.\r\n\r\nMy imagined method is like this,\r\n\r\n\tvoid assign(String val){\t\t\r\n\t\t// aa.&lt;val&gt;=val\r\n\t}\r\n\r\nFor example if you pass `bb.x` to `assign(...)` method, then it will do `aa.x=bb.x` assignment.\r\n\r\nHope this is clear enough. There must be a better way to explain this. If someone know it please edit the post(+title) to make it more clear (But save my idea)..\r\n\r\nPlease let me know if there&#39;s a way to achieve this.\r\n\r\nThanks!\r\n","title":"Copying one class&#39;s fields into another class&#39;s identical fields","body":"<p>I have this question. But it will be difficult for me to explain as I don't know exact terms to use. Hope someone will understand. I'll try to discribe to the best i can. I feel like this is much related to <code>parsing</code></p>\n\n<p>Say there are two classes. And in both classes I have some variables, say strings (just for simplicity, variable type can be any), which have <strong>similar names</strong>.</p>\n\n<pre><code>Eg:\n    class ClassA{\n        String x,y,z;\n    }\n\n    class ClassB{\n        String x,y,z;\n    }\n</code></pre>\n\n<p>Now, what i need is, i need to copy the value of one class's variable values to other classes corresponding variable.</p>\n\n<pre><code>Eg:\n    ClassA aa=new ClassA();\n    ClassB bb=new ClassB();\n    //set bb's variables\n    aa.x=bb.x;\n    aa.y=bb.y;\n    aa.z=bb.z;\n</code></pre>\n\n<p>like that.</p>\n\n<p>But please note that what i need is not the above method. I hope there will be a way to write a simple method, so that it will identify the relevent variable by the name passed to it. Then it will do the value assignment accordingly.</p>\n\n<p>My imagined method is like this,</p>\n\n<pre><code>void assign(String val){        \n    // aa.&lt;val&gt;=val\n}\n</code></pre>\n\n<p>For example if you pass <code>bb.x</code> to <code>assign(...)</code> method, then it will do <code>aa.x=bb.x</code> assignment.</p>\n\n<p>Hope this is clear enough. There must be a better way to explain this. If someone know it please edit the post(+title) to make it more clear (But save my idea)..</p>\n\n<p>Please let me know if there's a way to achieve this.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","ojdbc"],"comments":[{"owner":{"account_id":9069472,"reputation":2154,"user_id":6753238,"display_name":"Nikolas"},"score":0,"creation_date":1498123464,"post_id":44695130,"comment_id":76373718,"body_markdown":"If you &quot;select from two tables and insert the result&quot;, my guess would be that your selects do return an empty result. Log your statements in production and isolate the selects. Run those in a SQL-Tool of your choice and validate the result.","body":"If you &quot;select from two tables and insert the result&quot;, my guess would be that your selects do return an empty result. Log your statements in production and isolate the selects. Run those in a SQL-Tool of your choice and validate the result."},{"owner":{"account_id":3901245,"reputation":51,"user_id":3229062,"display_name":"ankit3j"},"score":0,"creation_date":1498123739,"post_id":44695130,"comment_id":76373943,"body_markdown":"@Nikolas... thanks for the reply. I have already tested scenarios with empty results in development environment and it runs fine.","body":"@Nikolas... thanks for the reply. I have already tested scenarios with empty results in development environment and it runs fine."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1498123769,"post_id":44695130,"comment_id":76373967,"body_markdown":"MY_NATIVE_QUERY being what exactly?","body":"MY_NATIVE_QUERY being what exactly?"},{"owner":{"account_id":2386342,"reputation":8899,"user_id":2087247,"accept_rate":100,"display_name":"LuFFy"},"score":0,"creation_date":1498123972,"post_id":44695130,"comment_id":76374136,"body_markdown":"@ankit3j, please elaborate your `MY_NATIVE_QUERY` in question.","body":"@ankit3j, please elaborate your <code>MY_NATIVE_QUERY</code> in question."},{"owner":{"account_id":3901245,"reputation":51,"user_id":3229062,"display_name":"ankit3j"},"score":0,"creation_date":1498206251,"post_id":44695130,"comment_id":76415315,"body_markdown":"Its a simple SQL INSERT query and not a JPQL.","body":"Its a simple SQL INSERT query and not a JPQL."},{"owner":{"account_id":3901245,"reputation":51,"user_id":3229062,"display_name":"ankit3j"},"score":0,"creation_date":1499253431,"post_id":44695130,"comment_id":76824760,"body_markdown":"Thanks all for answers","body":"Thanks all for answers"}],"answers":[{"tags":[],"owner":{"account_id":2757912,"reputation":11,"user_id":2375459,"display_name":"rmitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518790756,"creation_date":1518790756,"answer_id":48828740,"question_id":44695130,"body_markdown":"It looks like 12.2.0.1 has a bug leading sometimes to this problem. It also seems to depend on the environment and the query. I came across one query that was fetching a BLOB where the problem occurs reliably in many environments and many other queries do fail in rare setups, but if they do fail, this can be reliably reproduced in those specific setups (network, DB). As of today 12.2.0.1 still seems to be the latest version available.\r\n\r\nIt looks like with 12.1.0.2 this problem cannot be reproduced. However 12.1.0.2 seems to have issues with Oracle Wallet. So if you come across the problem with NegativeArraySizeException and if you do not use Oracle Wallet, then going for 12.1.0.2 instead of 12.2.0.1 should work for you.\r\n\r\nTested with Oracle 12c DB.","title":"java.lang.NegativeArraySizeException while running INSERT query in ojdbc8","body":"<p>It looks like 12.2.0.1 has a bug leading sometimes to this problem. It also seems to depend on the environment and the query. I came across one query that was fetching a BLOB where the problem occurs reliably in many environments and many other queries do fail in rare setups, but if they do fail, this can be reliably reproduced in those specific setups (network, DB). As of today 12.2.0.1 still seems to be the latest version available.</p>\n\n<p>It looks like with 12.1.0.2 this problem cannot be reproduced. However 12.1.0.2 seems to have issues with Oracle Wallet. So if you come across the problem with NegativeArraySizeException and if you do not use Oracle Wallet, then going for 12.1.0.2 instead of 12.2.0.1 should work for you.</p>\n\n<p>Tested with Oracle 12c DB.</p>\n"},{"tags":[],"owner":{"account_id":4464536,"reputation":1099,"user_id":3632516,"display_name":"anilech"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531401349,"creation_date":1531401349,"answer_id":51306709,"question_id":44695130,"body_markdown":"`oracle.net.ano.CryptoNIONSDataChannel` tells that you have some kind of encryption enabled (Oracle Native Encryption probably).\r\n\r\nYou can check if you use SSL/TLS encryption with the following query:\r\n\r\n    select sys_context(&#39;userenv&#39;, &#39;network_protocol&#39;) from dual;\r\n    \r\n    -- SSL/TLS connecion will return &quot;tcps&quot; here\r\n\r\nYou can check if you have oralce native encryption or checksumming with the following query:\r\n\r\n    select network_service_banner from v$session_connect_info\r\n     where sid = sys_context(&#39;userenv&#39;,&#39;sid&#39;)\r\n       and network_service_banner like &#39;%crypt%service adapter%&#39;;\r\n    \r\n    -- you&#39;ll get something like &quot;AES256 encryption service adapter&quot;\r\n    -- and/or &quot;SHA1 crypto-checksumming service adapter&quot;\r\n\r\nSo if you are using encryption, try to disable it first and try again. If you need to use it try to switch from thin to oci8 driver, or try diffent version (12.1.0.2 or 11.2.0.4)","title":"java.lang.NegativeArraySizeException while running INSERT query in ojdbc8","body":"<p><code>oracle.net.ano.CryptoNIONSDataChannel</code> tells that you have some kind of encryption enabled (Oracle Native Encryption probably).</p>\n\n<p>You can check if you use SSL/TLS encryption with the following query:</p>\n\n<pre><code>select sys_context('userenv', 'network_protocol') from dual;\n\n-- SSL/TLS connecion will return \"tcps\" here\n</code></pre>\n\n<p>You can check if you have oralce native encryption or checksumming with the following query:</p>\n\n<pre><code>select network_service_banner from v$session_connect_info\n where sid = sys_context('userenv','sid')\n   and network_service_banner like '%crypt%service adapter%';\n\n-- you'll get something like \"AES256 encryption service adapter\"\n-- and/or \"SHA1 crypto-checksumming service adapter\"\n</code></pre>\n\n<p>So if you are using encryption, try to disable it first and try again. If you need to use it try to switch from thin to oci8 driver, or try diffent version (12.1.0.2 or 11.2.0.4)</p>\n"},{"tags":[],"owner":{"account_id":3361213,"reputation":328,"user_id":2822977,"display_name":"Piotr Kepka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612914053,"creation_date":1612914053,"answer_id":66128912,"question_id":44695130,"body_markdown":"My solution (just stumbled upon this irritating thing):\r\n\r\n1) Do the pre-check executing &quot;select 1 from dual&quot; before the right query\r\n2) If it fails (got this exception), reset the connectionPool as follows:\r\n```\r\nif(connection == null || connection.isClosed())\r\n{\r\n     connection = connectionFactory.getConnection();\r\n}\r\n            \r\nif(!checkConnection(connection))\r\n{\r\n     connectionFactory.reset();\r\n     connection = connectionFactory.getConnection();\r\n}\r\n```\r\n\r\nThe class \r\n\r\n```\r\npublic class ConnectionFactory implements org.apache.commons.dbcp2.ConnectionFactory\r\n{\r\n...\r\n    PoolingDataSource&lt;PoolableConnection&gt; dataSource = null;\r\n...\r\n    public void reset()\r\n    {\r\n        try\r\n        {\r\n            dataSource.close();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n        }\r\n        dataSource = null;\r\n    }\r\n\r\n    public Connection getConnection() throws Exception\r\n    {\r\n        if (dataSource == null)\r\n        {\r\n            this.createConnectionPool();\r\n        }\r\n        \r\n        try\r\n        {\r\n            return dataSource.getConnection();\r\n        }\r\n        catch (SQLException e)\r\n        {\r\n            throw new Exception(e.getMessage());\r\n        }\r\n    }\r\n\r\n    private synchronized void createConnectionPool() throws Exception\r\n    {\r\n\r\n        ConnectionFactory connectionFactory = this;\r\n        PoolableConnectionFactory poolableConnectionFactory = new PoolableConnectionFactory(connectionFactory, null);\r\n         \r\n        connectionPool = new GenericObjectPool&lt;&gt;(poolableConnectionFactory);\r\n        connectionPool.setMaxTotal(5);\r\n        connectionPool.setMinIdle(1);\r\n        \r\n        poolableConnectionFactory.setPool(connectionPool);\r\n        dataSource = new PoolingDataSource&lt;&gt;(connectionPool);\r\n    }\r\n}\r\n\r\n```\r\nNot the perfect one, but works for me.\r\nCheers!","title":"java.lang.NegativeArraySizeException while running INSERT query in ojdbc8","body":"<p>My solution (just stumbled upon this irritating thing):</p>\n<ol>\n<li>Do the pre-check executing &quot;select 1 from dual&quot; before the right query</li>\n<li>If it fails (got this exception), reset the connectionPool as follows:</li>\n</ol>\n<pre><code>if(connection == null || connection.isClosed())\n{\n     connection = connectionFactory.getConnection();\n}\n            \nif(!checkConnection(connection))\n{\n     connectionFactory.reset();\n     connection = connectionFactory.getConnection();\n}\n</code></pre>\n<p>The class</p>\n<pre><code>public class ConnectionFactory implements org.apache.commons.dbcp2.ConnectionFactory\n{\n...\n    PoolingDataSource&lt;PoolableConnection&gt; dataSource = null;\n...\n    public void reset()\n    {\n        try\n        {\n            dataSource.close();\n        }\n        catch (Exception e)\n        {\n        }\n        dataSource = null;\n    }\n\n    public Connection getConnection() throws Exception\n    {\n        if (dataSource == null)\n        {\n            this.createConnectionPool();\n        }\n        \n        try\n        {\n            return dataSource.getConnection();\n        }\n        catch (SQLException e)\n        {\n            throw new Exception(e.getMessage());\n        }\n    }\n\n    private synchronized void createConnectionPool() throws Exception\n    {\n\n        ConnectionFactory connectionFactory = this;\n        PoolableConnectionFactory poolableConnectionFactory = new PoolableConnectionFactory(connectionFactory, null);\n         \n        connectionPool = new GenericObjectPool&lt;&gt;(poolableConnectionFactory);\n        connectionPool.setMaxTotal(5);\n        connectionPool.setMinIdle(1);\n        \n        poolableConnectionFactory.setPool(connectionPool);\n        dataSource = new PoolingDataSource&lt;&gt;(connectionPool);\n    }\n}\n\n</code></pre>\n<p>Not the perfect one, but works for me.\nCheers!</p>\n"},{"tags":[],"owner":{"account_id":6319592,"reputation":579,"user_id":4908212,"display_name":"Dorjee Dhondup"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683833325,"creation_date":1683832829,"answer_id":76230991,"question_id":44695130,"body_markdown":"Using the following version (19.7.0.0) fixed this issue based on my testing.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n       &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n       &lt;version&gt;19.7.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe trouble version was 12.2.0.1 \r\n\r\nRelated oracle support page https://support.oracle.com/knowledge/Middleware/2490793_1.html\r\n","title":"java.lang.NegativeArraySizeException while running INSERT query in ojdbc8","body":"<p>Using the following version (19.7.0.0) fixed this issue based on my testing.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n   &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n   &lt;version&gt;19.7.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The trouble version was 12.2.0.1</p>\n<p>Related oracle support page <a href=\"https://support.oracle.com/knowledge/Middleware/2490793_1.html\" rel=\"nofollow noreferrer\">https://support.oracle.com/knowledge/Middleware/2490793_1.html</a></p>\n"}],"owner":{"account_id":3901245,"reputation":51,"user_id":3229062,"display_name":"ankit3j"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4819,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1683833325,"creation_date":1498122841,"question_id":44695130,"body_markdown":"While trying to run an INSERT query as follows:\r\n    \r\n    javax.persistence.Query query = entityManager.createNativeQuery(MY_NATIVE_QUERY);\r\n    return query.executeUpdate();\r\n\r\n\r\nfrom my Java application I am getting the below error: \r\n\r\n    java.lang.NegativeArraySizeException: null\r\n\tat oracle.net.ano.CryptoNIONSDataChannel.readDataFromSocketChannel(Unknown Source) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CMAREngineNIO.prepareForReading(T4CMAREngineNIO.java:98) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:534) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:910) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1119) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:3865) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3845) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1061) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105) ~[commons-dbcp-1.4.jar:1.4]\r\n\tat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105) ~[commons-dbcp-1.4.jar:1.4]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:208) ~[hibernate-core-4.3.10.Final.jar:4.3.10.Final]\r\n\tat org.hibernate.engine.query.spi.NativeSQLQueryPlan.performExecuteUpdate(NativeSQLQueryPlan.java:211) ~[hibernate-core-4.3.10.Final.jar:4.3.10.Final]\r\n\tat org.hibernate.internal.SessionImpl.executeNativeUpdate(SessionImpl.java:1346) ~[hibernate-core-4.3.10.Final.jar:4.3.10.Final]\r\n\tat org.hibernate.internal.SQLQueryImpl.executeUpdate(SQLQueryImpl.java:389) ~[hibernate-core-4.3.10.Final.jar:4.3.10.Final]\r\n\tat org.hibernate.jpa.internal.QueryImpl.internalExecuteUpdate(QueryImpl.java:371) ~[hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final]\r\n\tat org.hibernate.jpa.spi.AbstractQueryImpl.executeUpdate(AbstractQueryImpl.java:78) ~[hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final]\r\n\r\n\r\nDatabase in use is Oracle 10g and jdbc driver in use is ojdbc8-12.2.0.1. The insert query is a simple insert which selects data from a join of 2 tables and inserts in another one. \r\n\r\nMoreover, I don&#39;t get this exception in development and it only occurs in production. I came across a solution [here][1] which says its an internal Oracle driver bug and advises to upgrade to latest 10g driver. But I already have 12c driver. How to resolve this issue? \r\n\r\n\r\n  [1]: https://community.oracle.com/thread/733697","title":"java.lang.NegativeArraySizeException while running INSERT query in ojdbc8","body":"<p>While trying to run an INSERT query as follows:</p>\n\n<pre><code>javax.persistence.Query query = entityManager.createNativeQuery(MY_NATIVE_QUERY);\nreturn query.executeUpdate();\n</code></pre>\n\n<p>from my Java application I am getting the below error: </p>\n\n<pre><code>java.lang.NegativeArraySizeException: null\nat oracle.net.ano.CryptoNIONSDataChannel.readDataFromSocketChannel(Unknown Source) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.T4CMAREngineNIO.prepareForReading(T4CMAREngineNIO.java:98) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:534) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:910) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1119) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:3865) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3845) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1061) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\nat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105) ~[commons-dbcp-1.4.jar:1.4]\nat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105) ~[commons-dbcp-1.4.jar:1.4]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:208) ~[hibernate-core-4.3.10.Final.jar:4.3.10.Final]\nat org.hibernate.engine.query.spi.NativeSQLQueryPlan.performExecuteUpdate(NativeSQLQueryPlan.java:211) ~[hibernate-core-4.3.10.Final.jar:4.3.10.Final]\nat org.hibernate.internal.SessionImpl.executeNativeUpdate(SessionImpl.java:1346) ~[hibernate-core-4.3.10.Final.jar:4.3.10.Final]\nat org.hibernate.internal.SQLQueryImpl.executeUpdate(SQLQueryImpl.java:389) ~[hibernate-core-4.3.10.Final.jar:4.3.10.Final]\nat org.hibernate.jpa.internal.QueryImpl.internalExecuteUpdate(QueryImpl.java:371) ~[hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final]\nat org.hibernate.jpa.spi.AbstractQueryImpl.executeUpdate(AbstractQueryImpl.java:78) ~[hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final]\n</code></pre>\n\n<p>Database in use is Oracle 10g and jdbc driver in use is ojdbc8-12.2.0.1. The insert query is a simple insert which selects data from a join of 2 tables and inserts in another one. </p>\n\n<p>Moreover, I don't get this exception in development and it only occurs in production. I came across a solution <a href=\"https://community.oracle.com/thread/733697\" rel=\"nofollow noreferrer\">here</a> which says its an internal Oracle driver bug and advises to upgrade to latest 10g driver. But I already have 12c driver. How to resolve this issue? </p>\n"},{"tags":["java","android","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1604485969,"post_id":64678244,"comment_id":114359655,"body_markdown":"What is the value of `url`?","body":"What is the value of <code>url</code>?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1604485994,"post_id":64678244,"comment_id":114359662,"body_markdown":"Please do away with that strictmode stuff.","body":"Please do away with that strictmode stuff."},{"owner":{"account_id":5004582,"reputation":774,"user_id":4022607,"display_name":"Ahmad Ayyaz"},"score":0,"creation_date":1604486093,"post_id":64678244,"comment_id":114359705,"body_markdown":"&quot;file:///storage/emulated/0/Android/data/com.tracer.joblogic/files/401-1604468628817.jpeg&quot; this is the url","body":"&quot;file:///storage/emulated/0/Android/data/com.tracer.joblogic&zwnj;&#8203;/files/401-160446862&zwnj;&#8203;8817.jpeg&quot; this is the url"},{"owner":{"account_id":5004582,"reputation":774,"user_id":4022607,"display_name":"Ahmad Ayyaz"},"score":0,"creation_date":1604486271,"post_id":64678244,"comment_id":114359769,"body_markdown":"I removed that strict mode stuff but now it is giving me this exception \n&#39;android.os.FileUriExposedException: file:///storage/emulated/0/Android/data/com.tracer.joblogic/files/401-1604468628817.jpeg exposed beyond app through Intent.getData()&#39; @blackapps","body":"I removed that strict mode stuff but now it is giving me this exception  &#39;android.os.FileUriExposedException: file:///storage/emulated/0/Android/data/com.tracer.joblogic/&zwnj;&#8203;files/401-1604468628&zwnj;&#8203;817.jpeg exposed beyond app through Intent.getData()&#39; @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1604486332,"post_id":64678244,"comment_id":114359789,"body_markdown":"Such an url cannot be used for ACTION_VIEW since Android 7/N. Or maybe longer because you used strictmode. Its now really time you remove that strict mode stuff and write decent code.","body":"Such an url cannot be used for ACTION_VIEW since Android 7/N. Or maybe longer because you used strictmode. Its now really time you remove that strict mode stuff and write decent code."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1604486385,"post_id":64678244,"comment_id":114359812,"body_markdown":"Indeed. FileUriExposedException. Solve it! A little googling will give you the solution.","body":"Indeed. FileUriExposedException. Solve it! A little googling will give you the solution."},{"owner":{"account_id":5004582,"reputation":774,"user_id":4022607,"display_name":"Ahmad Ayyaz"},"score":0,"creation_date":1604486457,"post_id":64678244,"comment_id":114359843,"body_markdown":"okay sure thanks, can you give me some idea what kind of url we need to use after 7/N? and thanks for the help","body":"okay sure thanks, can you give me some idea what kind of url we need to use after 7/N? and thanks for the help"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1604487075,"post_id":64678244,"comment_id":114360126,"body_markdown":"You can use that kind of url. Who said you could not? You need a different uri.","body":"You can use that kind of url. Who said you could not? You need a different uri."},{"owner":{"account_id":5004582,"reputation":774,"user_id":4022607,"display_name":"Ahmad Ayyaz"},"score":0,"creation_date":1604490934,"post_id":64678244,"comment_id":114361653,"body_markdown":"I added &quot;androidx.core.content.FileProvider&quot; inside the and it opens that photo in google photos but it keeps showing loader but never the photo\n&lt;provider\n                  android:name=&quot;androidx.core.content.FileProvider&quot;\n                  android:authorities=&quot;${applicationId}.provider&quot;\n                  android:exported=&quot;false&quot;\n                  android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/provider_paths&quot;/&gt;\n      &lt;/provider&gt;\n@blackapps","body":"I added &quot;androidx.core.content.FileProvider&quot; inside the and it opens that photo in google photos but it keeps showing loader but never the photo &lt;provider                   android:name=&quot;androidx.core.content.FileProvider&quot;                   android:authorities=&quot;${applicationId}.provider&quot;                   android:exported=&quot;false&quot;                   android:grantUriPermissions=&quot;true&quot;&gt;         &lt;meta-data             android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;             android:resource=&quot;@xml/provider_paths&quot;/&gt;       &lt;/provider&gt; @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1604491051,"post_id":64678244,"comment_id":114361699,"body_markdown":"Please put your code in a new code block in your post. We dont like to read code in comments. Do you? Remove that comment.","body":"Please put your code in a new code block in your post. We dont like to read code in comments. Do you? Remove that comment."}],"answers":[{"tags":[],"owner":{"account_id":10130864,"reputation":122,"user_id":7484338,"display_name":"Rid Hrant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683833233,"creation_date":1683833233,"answer_id":76231040,"question_id":64678244,"body_markdown":"IDK maybe this is late answer but anyway maybe will help someone :)\r\n\r\nThe problem is that you need to add permission flags\r\n\r\n1. FLAG_GRANT_READ_URI_PERMISSION \r\n2. FLAG_GRANT_WRITE_URI_PERMISSION\r\n\r\n```\r\nval photoURI = FileProvider.getUriForFile(\r\n    this,\r\n    &quot;$packageName.android.fileprovider&quot;,\r\n    pngFile\r\n)\r\nIntent().apply {\r\n    action = Intent.ACTION_VIEW\r\n    setDataAndTypeAndNormalize(photoURI, &quot;image/*&quot;)\r\n    flags = FLAG_GRANT_READ_URI_PERMISSION or FLAG_GRANT_WRITE_URI_PERMISSION                \r\n}.also { \r\n    startActivity(it) \r\n}\r\n```","title":"Media not found on android 11 while trying to open file using ACTION_VIEW","body":"<p>IDK maybe this is late answer but anyway maybe will help someone :)</p>\n<p>The problem is that you need to add permission flags</p>\n<ol>\n<li>FLAG_GRANT_READ_URI_PERMISSION</li>\n<li>FLAG_GRANT_WRITE_URI_PERMISSION</li>\n</ol>\n<pre><code>val photoURI = FileProvider.getUriForFile(\n    this,\n    &quot;$packageName.android.fileprovider&quot;,\n    pngFile\n)\nIntent().apply {\n    action = Intent.ACTION_VIEW\n    setDataAndTypeAndNormalize(photoURI, &quot;image/*&quot;)\n    flags = FLAG_GRANT_READ_URI_PERMISSION or FLAG_GRANT_WRITE_URI_PERMISSION                \n}.also { \n    startActivity(it) \n}\n</code></pre>\n"}],"owner":{"account_id":5004582,"reputation":774,"user_id":4022607,"display_name":"Ahmad Ayyaz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683833233,"creation_date":1604485465,"question_id":64678244,"body_markdown":"I have a method that I am using to open file from my application and it is all working fine till android 10 but when I try to open file in android 11 using google photos, it does not open it and shows Media not found toast. I am trying to open in any external app. \r\n\r\nHere is my method that I am using:\r\n\r\n    private void openFile(String url) throws IOException {\r\n        // Create URI\r\n\t\tStrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\r\n        StrictMode.setVmPolicy(builder.build());\r\n        Uri uri = Uri.parse(url);\r\n\r\n        Intent intent = null;\r\n        // Check what kind of file you are trying to open, by comparing the url with extensions.\r\n        // When the if condition is matched, plugin sets the correct intent (mime) type,\r\n        // so Android knew what application to use to open the file\r\n        intent = new Intent(Intent.ACTION_VIEW);\r\n        if (url.contains(&quot;.doc&quot;) || url.contains(&quot;.docx&quot;)) {\r\n            // Word document\r\n            intent.setDataAndType(uri, &quot;application/msword&quot;);\r\n        } else if(url.contains(&quot;.pdf&quot;)) {\r\n            // PDF file\r\n            intent.setDataAndType(uri, &quot;application/pdf&quot;);\r\n        } else if(url.contains(&quot;.ppt&quot;) || url.contains(&quot;.pptx&quot;)) {\r\n            // Powerpoint file\r\n            intent.setDataAndType(uri, &quot;application/vnd.ms-powerpoint&quot;);\r\n        } else if(url.contains(&quot;.xls&quot;) || url.contains(&quot;.xlsx&quot;)) {\r\n            // Excel file\r\n            intent.setDataAndType(uri, &quot;application/vnd.ms-excel&quot;);\r\n        } else if(url.contains(&quot;.rtf&quot;)) {\r\n            // RTF file\r\n            intent.setDataAndType(uri, &quot;application/rtf&quot;);\r\n        } else if(url.contains(&quot;.wav&quot;)) {\r\n            // WAV audio file\r\n            intent.setDataAndType(uri, &quot;audio/x-wav&quot;);\r\n        } else if(url.contains(&quot;.gif&quot;)) {\r\n            // GIF file\r\n            intent.setDataAndType(uri, &quot;image/gif&quot;);\r\n        } else if(url.contains(&quot;.jpg&quot;) || url.contains(&quot;.jpeg&quot;)) {\r\n            // JPG file\r\n            intent.setDataAndType(uri, &quot;image/jpeg&quot;);\r\n        } else if(url.contains(&quot;.png&quot;)) {\r\n            // PNG file\r\n            intent.setDataAndType(uri, &quot;image/png&quot;);\r\n        } else if(url.contains(&quot;.txt&quot;)) {\r\n            // Text file\r\n            intent.setDataAndType(uri, &quot;text/plain&quot;);\r\n        } else if(url.contains(&quot;.mpg&quot;) || url.contains(&quot;.mpeg&quot;) || url.contains(&quot;.mpe&quot;) || url.contains(&quot;.mp4&quot;) || url.contains(&quot;.avi&quot;)) {\r\n            // Video files\r\n            intent.setDataAndType(uri, &quot;video/*&quot;);\r\n        }\r\n\r\n        //if you want you can also define the intent type for any other file\r\n\r\n        //additionally use else clause below, to manage other unknown extensions\r\n        //in this case, Android will show all applications installed on the device\r\n        //so you can choose which application to use\r\n\r\n\r\n        else {\r\n            intent.setDataAndType(uri, &quot;*/*&quot;);\r\n        }\r\n\r\n        this.cordova.getActivity().startActivity(intent);\r\n    }\r\n\r\n","title":"Media not found on android 11 while trying to open file using ACTION_VIEW","body":"<p>I have a method that I am using to open file from my application and it is all working fine till android 10 but when I try to open file in android 11 using google photos, it does not open it and shows Media not found toast. I am trying to open in any external app.</p>\n<p>Here is my method that I am using:</p>\n<pre><code>private void openFile(String url) throws IOException {\n    // Create URI\n    StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\n    StrictMode.setVmPolicy(builder.build());\n    Uri uri = Uri.parse(url);\n\n    Intent intent = null;\n    // Check what kind of file you are trying to open, by comparing the url with extensions.\n    // When the if condition is matched, plugin sets the correct intent (mime) type,\n    // so Android knew what application to use to open the file\n    intent = new Intent(Intent.ACTION_VIEW);\n    if (url.contains(&quot;.doc&quot;) || url.contains(&quot;.docx&quot;)) {\n        // Word document\n        intent.setDataAndType(uri, &quot;application/msword&quot;);\n    } else if(url.contains(&quot;.pdf&quot;)) {\n        // PDF file\n        intent.setDataAndType(uri, &quot;application/pdf&quot;);\n    } else if(url.contains(&quot;.ppt&quot;) || url.contains(&quot;.pptx&quot;)) {\n        // Powerpoint file\n        intent.setDataAndType(uri, &quot;application/vnd.ms-powerpoint&quot;);\n    } else if(url.contains(&quot;.xls&quot;) || url.contains(&quot;.xlsx&quot;)) {\n        // Excel file\n        intent.setDataAndType(uri, &quot;application/vnd.ms-excel&quot;);\n    } else if(url.contains(&quot;.rtf&quot;)) {\n        // RTF file\n        intent.setDataAndType(uri, &quot;application/rtf&quot;);\n    } else if(url.contains(&quot;.wav&quot;)) {\n        // WAV audio file\n        intent.setDataAndType(uri, &quot;audio/x-wav&quot;);\n    } else if(url.contains(&quot;.gif&quot;)) {\n        // GIF file\n        intent.setDataAndType(uri, &quot;image/gif&quot;);\n    } else if(url.contains(&quot;.jpg&quot;) || url.contains(&quot;.jpeg&quot;)) {\n        // JPG file\n        intent.setDataAndType(uri, &quot;image/jpeg&quot;);\n    } else if(url.contains(&quot;.png&quot;)) {\n        // PNG file\n        intent.setDataAndType(uri, &quot;image/png&quot;);\n    } else if(url.contains(&quot;.txt&quot;)) {\n        // Text file\n        intent.setDataAndType(uri, &quot;text/plain&quot;);\n    } else if(url.contains(&quot;.mpg&quot;) || url.contains(&quot;.mpeg&quot;) || url.contains(&quot;.mpe&quot;) || url.contains(&quot;.mp4&quot;) || url.contains(&quot;.avi&quot;)) {\n        // Video files\n        intent.setDataAndType(uri, &quot;video/*&quot;);\n    }\n\n    //if you want you can also define the intent type for any other file\n\n    //additionally use else clause below, to manage other unknown extensions\n    //in this case, Android will show all applications installed on the device\n    //so you can choose which application to use\n\n\n    else {\n        intent.setDataAndType(uri, &quot;*/*&quot;);\n    }\n\n    this.cordova.getActivity().startActivity(intent);\n}\n</code></pre>\n"},{"tags":["java","object","javafx"],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683833222,"creation_date":1683833222,"answer_id":76231037,"question_id":76230476,"body_markdown":"**Note: You are going to have to redo your card layout**.\r\n\r\nIssues:\r\n\r\n - Use `String#equals(&quot;...&quot;`) to compare `Strings`.\r\n - Things like `Card Card` should be `Card card`.\r\n - Create a static builder or build the card view in the class `Card` that will return the view.\r\n\r\nHere is your code refactored. I took your code and created a `Static` builder. You can also build in the constructor and set `imageFront`. From there, you can have a method like `#getImageFront();` I hope this helps you move forward. Good luck!\r\n\r\n\r\n----------\r\n\r\n\r\n**Main**\r\n```\r\nimport java.io.FileNotFoundException;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n    @Override \r\n    public void start(Stage stage) throws FileNotFoundException {    \r\n        //Creating a scene object \r\n        double xScene = 600.00;\r\n        double yScene = 600.00;\r\n\r\n        //if it is a value card like 2 - 10, make the rank a N and if it a rank card like a J, Q, K, make the value card into anything that isnt 2 - 10\r\n        Card card1 = new Card (10, &quot;Diamond&quot;, &#39;N&#39; );\r\n        Group card1View = Card.buildCardFront(card1);\r\n\r\n        Card card2 = new Card (5, &quot;Club&quot;, &#39;N&#39; );\r\n        Group card2View = Card.buildCardFront(card2);\r\n       \r\n        \r\n        HBox root = new HBox(card1View, card2View);\r\n        \r\n        //Way to create lots of cards!\r\n//        for(int i = 0; i &lt; 9; i++)\r\n//        {\r\n//            Card card = new Card(i + 1, &quot;Spade&quot;, &#39;N&#39;);\r\n//            Group cardView = Card.buildCardFront(card);\r\n//            root.getChildren().add(cardView);\r\n//        }\r\n\r\n        Scene scene = new Scene(root, xScene, yScene, Color.GREEN);  \r\n        //Setting title to the Stage \r\n        stage.setTitle(&quot;cardOutline&quot;);\r\n        //Adding scene to the stage \r\n        stage.setScene(scene); \r\n        //Displaying the contents of the stage \r\n        stage.show(); \r\n    } \r\n\r\n    public static void main(String args[]){ \r\n        launch(args); \r\n    } \r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**Card**\r\n```\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Polygon;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\n\r\npublic final class Card {\r\n    private int value;\r\n    private String suit;\r\n    private char rank;\r\n    private Group imageFront;\r\n    private Group imageBack;\r\n\r\n    public Card()\r\n    {}\r\n    public Card(int value, String suit, char rank) {\r\n        this.setSuit(suit);\r\n        this.setValue(value);\r\n        this.setRank(rank);\r\n    \r\n    }\r\n    public void setSuit(String suit) {\r\n        this.suit = suit;   \r\n    }\r\n    public void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public void setRank(char rank) {\r\n        this.rank = rank;\r\n    }\r\n\r\n    public String getSuit() {\r\n        return this.suit;\r\n    }\r\n\r\n    public int getValue() {\r\n        return this.value;\r\n    }\r\n\r\n    public char getRank() {\r\n        return this.rank;\r\n    }\r\n    \r\n    public static Group buildCardFront(Card card)\r\n    {\r\n        Group root = new Group();\r\n        \r\n         //Drawing a cardOutline \r\n        Rectangle cardOutline = new Rectangle(); \r\n\r\n        //Creates horizontal box &quot;image1&quot; that contains the image and add the image\r\n        cardOutline.setX(380); \r\n        cardOutline.setY(480); \r\n\r\n        //Setting the properties of the cardOutline \r\n        cardOutline.setWidth(300.0); \r\n        cardOutline.setHeight(480.0); \r\n\r\n        //Setting the height and width of the arc \r\n        cardOutline.setArcWidth(30.0); \r\n        cardOutline.setArcHeight(30.0);  \r\n        cardOutline.setFill(Color.WHITE);\r\n        cardOutline.setStroke(Color.BLACK);\r\n        root.getChildren().add(cardOutline);\r\n        \r\n        \r\n        switch (card.getSuit()) {\r\n            case &quot;Club&quot;:\r\n                {\r\n                    //top left of the card (suit)\r\n                    HBox suitTopLeft = Club(root);\r\n//                    suitTopLeft.setTranslateX(25);\r\n//                    suitTopLeft.setTranslateY(100);\r\n                    //bottom left of the card( the suit)\r\n                    HBox suitBottomRight = Club(root);\r\n                    suitBottomRight.setRotate(180);\r\n                    suitBottomRight.setTranslateX(260);\r\n                    suitBottomRight.setTranslateY(405);\r\n                    //middle of the card( the suit)\r\n                    HBox suitMiddle = Club(root);\r\n                    suitMiddle.setTranslateX(125);\r\n                    suitMiddle.setTranslateY(210);\r\n                    suitMiddle.setScaleX(0.5);\r\n                    suitMiddle.setScaleY(0.5);\r\n                    root.getChildren().add(suitTopLeft);\r\n                    root.getChildren().add(suitBottomRight);\r\n                    root.getChildren().add(suitMiddle);\r\n                    break;\r\n                }\r\n            case &quot;Spade&quot;:\r\n                {\r\n                    //top left of the card (suit)\r\n                    HBox suitTopLeft = Spade(root);\r\n                    suitTopLeft.setTranslateX(25-26);\r\n                    suitTopLeft.setTranslateY(100+40);\r\n                    suitTopLeft.setRotate(180);\r\n                    //bottom left of the card( the suit)\r\n                    HBox suitBottomRight = Spade(root);\r\n                    suitBottomRight.setTranslateX(260-40);\r\n                    suitBottomRight.setTranslateY(405-40);\r\n                    //middle of the card( the suit)\r\n                    HBox suitMiddle = Spade(root);\r\n                    suitMiddle.setTranslateX(125-19);\r\n                    suitMiddle.setTranslateY(210+100);\r\n                    suitMiddle.setScaleX(0.5);\r\n                    suitMiddle.setScaleY(0.5);\r\n                    suitMiddle.setRotate(180);\r\n                    root.getChildren().add(suitTopLeft);\r\n                    root.getChildren().add(suitBottomRight);\r\n                    root.getChildren().add(suitMiddle);\r\n                    break;\r\n                }\r\n            case &quot;Heart&quot;:\r\n                {\r\n                    //top left of the card (suit)\r\n                    HBox suitTopLeft = Heart(root);\r\n                    suitTopLeft.setTranslateX(25-15);\r\n                    suitTopLeft.setTranslateY(100-15);\r\n                    suitTopLeft.setScaleX(0.25);\r\n                    suitTopLeft.setScaleY(0.25);\r\n                    //bottom left of the card( the suit)\r\n                    HBox suitBottomRight = Heart(root);\r\n                    suitBottomRight.setRotate(180);\r\n                    suitBottomRight.setTranslateX(260-28);\r\n                    suitBottomRight.setTranslateY(405+5);\r\n                    suitBottomRight.setScaleX(0.25);\r\n                    suitBottomRight.setScaleY(0.25);\r\n                    //middle of the card( the suit)\r\n                    HBox suitMiddle = Heart(root);\r\n                    suitMiddle.setTranslateX(125-5);\r\n                    suitMiddle.setTranslateY(210-15);\r\n                    suitMiddle.setScaleX(0.5);\r\n                    suitMiddle.setScaleY(0.5);\r\n                    root.getChildren().add(suitTopLeft);\r\n                    root.getChildren().add(suitBottomRight);\r\n                    root.getChildren().add(suitMiddle);\r\n                    break;\r\n                }\r\n            case &quot;Diamond&quot;:\r\n                {\r\n                    //top left of the card (suit)\r\n                    HBox suitTopLeft = Diamond(root);\r\n                    suitTopLeft.setTranslateX(25+70);\r\n                    suitTopLeft.setTranslateY(100-5);\r\n                    //bottom left of the card( the suit)\r\n                    HBox suitBottomRight = Diamond(root);\r\n                    suitBottomRight.setRotate(180);\r\n                    suitBottomRight.setTranslateX(260-27);\r\n                    suitBottomRight.setTranslateY(405);\r\n                    //middle of the card( the suit)\r\n                    HBox suitMiddle = Diamond(root);\r\n                    suitMiddle.setTranslateX(125+120);\r\n                    suitMiddle.setTranslateY(190);\r\n                    suitMiddle.setScaleX(0.5);\r\n                    suitMiddle.setScaleY(0.5);\r\n                    root.getChildren().add(suitTopLeft);\r\n                    root.getChildren().add(suitBottomRight);\r\n                    root.getChildren().add(suitMiddle);\r\n                    break;\r\n                }\r\n            default:\r\n                System.out.println(&quot;This is not implemented!&quot;);\r\n                break;\r\n        }\r\n        \r\n        //prints out the text of the card if the value is between 2 - 10\r\n        \r\n        if (2&lt;=card.getValue()&amp;&amp;card.getValue()&lt;10) {\r\n            if(card.getSuit().equals(&quot;Spade&quot;)  || card.getSuit().equals(&quot;Club&quot;)) {\r\n                Text text = new Text(178,120, String.valueOf(card.getValue()));\r\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n                Text text1 = new Text(398,520, String.valueOf(card.getValue()));\r\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n                text1.setRotate(180);\r\n\r\n                root.getChildren().add(text);\r\n                root.getChildren().add(text1);\r\n            }\r\n            \r\n            else {\r\n                Text text = new Text(178,120, String.valueOf(card.getValue()));\r\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n                Text text1 = new Text(398,520, String.valueOf(card.getValue()));\r\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n                text1.setRotate(180);\r\n                text.setFill(Color.RED);\r\n                text1.setFill(Color.RED);\r\n\r\n                root.getChildren().add(text);\r\n                root.getChildren().add(text1);\r\n            }\r\n        }\r\n        else if (card.getValue() ==10) {\r\n            Text text = new Text(170,120, String.valueOf(card.getValue()));\r\n            text.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n            Text text1 = new Text(386,520, String.valueOf(card.getValue()));\r\n            text1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n            text1.setRotate(180);\r\n            text.setFill(Color.RED);\r\n            text1.setFill(Color.RED);\r\n\r\n            root.getChildren().add(text);\r\n            root.getChildren().add(text1);\r\n        }\r\n\r\n        else if(card.getRank() != &#39;N&#39;) {\r\n            if(card.getSuit().equals(&quot;Spade&quot;) || card.getSuit().equals(&quot;Club&quot;)) {\r\n\r\n                Text text = new Text(178,120, String.valueOf(card.getRank()));\r\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n                Text text1 = new Text(398,520, String.valueOf(card.getRank()));\r\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n                text1.setRotate(180);\r\n\r\n                root.getChildren().add(text);\r\n                root.getChildren().add(text1);\r\n            }\r\n\r\n\r\n            else {\r\n                Text text = new Text(178,120, String.valueOf(card.getRank()));\r\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n                Text text1 = new Text(398,520, String.valueOf(card.getRank()));\r\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n                text1.setRotate(180);\r\n                text.setFill(Color.RED);\r\n                text1.setFill(Color.RED);\r\n                root.getChildren().add(text);\r\n                root.getChildren().add(text1);\r\n                \r\n            }\r\n        }\r\n        \r\n        return root;\r\n    }\r\n    \r\n    static public HBox Club(Parent parent) {\r\n\r\n        Circle suitClubs1 = new Circle();\r\n        suitClubs1.setTranslateX(100.0f);\r\n        suitClubs1.setTranslateY(100.0f);\r\n        suitClubs1.setRadius(50.0f);\r\n\r\n        Circle suitClubs2 = new Circle();\r\n        suitClubs2.setTranslateX(95.0f);\r\n        suitClubs2.setTranslateY(100.0f);\r\n        suitClubs2.setRadius(50.0f);\r\n\r\n        Circle suitClubs3 = new Circle();\r\n        suitClubs3.setTranslateX(-50.0f);\r\n        suitClubs3.setTranslateY(30.0f);\r\n        suitClubs3.setRadius(50.0f);\r\n\r\n        Rectangle stem = new Rectangle(); \r\n        stem.setTranslateX(-112.0f);\r\n        stem.setTranslateY(120.0f);\r\n        stem.setWidth(20.0); \r\n        stem.setHeight(100.0);\r\n\r\n        HBox root = new HBox(suitClubs1, suitClubs2, suitClubs3, stem);\r\n        root.setAlignment(Pos.CENTER);\r\n        root.setScaleX(0.25);\r\n        root.setScaleY(0.25);\r\n\r\n        HBox clubsRoot = new HBox(suitClubs1, suitClubs2, suitClubs3, stem);\r\n        clubsRoot.setAlignment(Pos.CENTER);\r\n        clubsRoot.setScaleX(0.25);\r\n        clubsRoot.setScaleY(0.25);\r\n        clubsRoot.setTranslateX(-30);\r\n        clubsRoot.setTranslateY(120);           \r\n        return clubsRoot;\r\n\r\n    }\r\n\r\n    static public HBox Spade(Parent parent) {\r\n        Circle suitSpade1 = new Circle();\r\n        suitSpade1.setTranslateX(100.0f);\r\n        suitSpade1.setTranslateY(100.0f);\r\n        suitSpade1.setRadius(50.0f);\r\n        suitSpade1.setFill(Color.BLACK);\r\n\r\n        Circle suitSpade2 = new Circle();\r\n        suitSpade2.setTranslateX(80.0f);\r\n        suitSpade2.setTranslateY(100.0f);\r\n        suitSpade2.setRadius(50.0f);\r\n        suitSpade2.setFill(Color.BLACK);\r\n\r\n        Polygon suitSpade3 = new Polygon();\r\n        suitSpade3.getPoints().addAll(new Double[]{\r\n                62.0, 170.0,\r\n                230.0, 170.0,\r\n                146.0, 260.0,\r\n        });\r\n        suitSpade3.setFill(Color.BLACK);\r\n        suitSpade3.setTranslateX(-94.0f);\r\n        suitSpade3.setTranslateY(170.3f);    \r\n\r\n        Rectangle stem = new Rectangle(); \r\n        stem.setTranslateX(-187.0f);\r\n        stem.setTranslateY(70.0f);\r\n        stem.setWidth(20.0); \r\n        stem.setHeight(100.0);\r\n\r\n        HBox clubsRoot = new HBox(suitSpade1, suitSpade2, suitSpade3, stem);\r\n        clubsRoot.setAlignment(Pos.CENTER);\r\n        clubsRoot.setScaleX(0.25);\r\n        clubsRoot.setScaleY(0.25);\r\n        clubsRoot.setTranslateX(-30);\r\n        clubsRoot.setTranslateY(120);           \r\n        return clubsRoot;\r\n    }\r\n\r\n    static public HBox Heart(Parent parent) {\r\n        //drawing the suit with clubs\r\n        Circle suitHeart1 = new Circle();\r\n        suitHeart1.setTranslateX(100.0f);\r\n        suitHeart1.setTranslateY(100.0f);\r\n        suitHeart1.setRadius(50.0f);\r\n        suitHeart1.setFill(Color.RED);\r\n\r\n        Circle suitHeart2 = new Circle();\r\n        suitHeart2.setTranslateX(80.0f);\r\n        suitHeart2.setTranslateY(100.0f);\r\n        suitHeart2.setRadius(50.0f);\r\n        suitHeart2.setFill(Color.RED);\r\n\r\n        Polygon suitHeart3 = new Polygon();\r\n        suitHeart3.getPoints().addAll(new Double[]{\r\n                62.0, 170.0,\r\n                230.0, 170.0,\r\n                146.0, 260.0,\r\n        });\r\n        suitHeart3.setFill(Color.RED);\r\n        suitHeart3.setTranslateX(-94.0f);\r\n        suitHeart3.setTranslateY(175.3f);       \r\n\r\n        HBox root = new HBox(suitHeart1, suitHeart2, suitHeart3);\r\n        return root;\r\n    }\r\n\r\n    static public HBox Diamond(Parent parent) {\r\n        Polygon suitDiamond1 = new Polygon();\r\n        suitDiamond1.getPoints().addAll(new Double[]{\r\n                90.0, 170.0,\r\n                230.0, 170.0,\r\n                160.0, 280.0,\r\n        });\r\n\r\n\r\n        suitDiamond1.setFill(Color.RED);\r\n        suitDiamond1.setTranslateX(-94.0f);\r\n        suitDiamond1.setTranslateY(179.0f);     \r\n        Polygon suitDiamond2 = new Polygon();\r\n        suitDiamond2.getPoints().addAll(new Double[]{\r\n                90.0, 170.0,\r\n                230.0, 170.0,\r\n                160.0, 60.0,\r\n        });\r\n        suitDiamond2.setFill(Color.RED);\r\n        suitDiamond2.setTranslateX(-234.0f);\r\n        suitDiamond2.setTranslateY(70.0f); \r\n\r\n        HBox root = new HBox(suitDiamond1, suitDiamond2);\r\n        root.setScaleX(0.25);\r\n        root.setScaleY(0.25);\r\n\r\n        return root;\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nAs stated earlier. I did not attempt to correct the alignment.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lqniq.png","title":"How do I print a second card in my Cards class?","body":"<p><strong>Note: You are going to have to redo your card layout</strong>.</p>\n<p>Issues:</p>\n<ul>\n<li>Use <code>String#equals(&quot;...&quot;</code>) to compare <code>Strings</code>.</li>\n<li>Things like <code>Card Card</code> should be <code>Card card</code>.</li>\n<li>Create a static builder or build the card view in the class <code>Card</code> that will return the view.</li>\n</ul>\n<p>Here is your code refactored. I took your code and created a <code>Static</code> builder. You can also build in the constructor and set <code>imageFront</code>. From there, you can have a method like <code>#getImageFront();</code> I hope this helps you move forward. Good luck!</p>\n<hr />\n<p><strong>Main</strong></p>\n<pre><code>import java.io.FileNotFoundException;\nimport javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    @Override \n    public void start(Stage stage) throws FileNotFoundException {    \n        //Creating a scene object \n        double xScene = 600.00;\n        double yScene = 600.00;\n\n        //if it is a value card like 2 - 10, make the rank a N and if it a rank card like a J, Q, K, make the value card into anything that isnt 2 - 10\n        Card card1 = new Card (10, &quot;Diamond&quot;, 'N' );\n        Group card1View = Card.buildCardFront(card1);\n\n        Card card2 = new Card (5, &quot;Club&quot;, 'N' );\n        Group card2View = Card.buildCardFront(card2);\n       \n        \n        HBox root = new HBox(card1View, card2View);\n        \n        //Way to create lots of cards!\n//        for(int i = 0; i &lt; 9; i++)\n//        {\n//            Card card = new Card(i + 1, &quot;Spade&quot;, 'N');\n//            Group cardView = Card.buildCardFront(card);\n//            root.getChildren().add(cardView);\n//        }\n\n        Scene scene = new Scene(root, xScene, yScene, Color.GREEN);  \n        //Setting title to the Stage \n        stage.setTitle(&quot;cardOutline&quot;);\n        //Adding scene to the stage \n        stage.setScene(scene); \n        //Displaying the contents of the stage \n        stage.show(); \n    } \n\n    public static void main(String args[]){ \n        launch(args); \n    } \n}\n</code></pre>\n<hr />\n<p><strong>Card</strong></p>\n<pre><code>import javafx.geometry.Pos;\nimport javafx.scene.Group;\nimport javafx.scene.Parent;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Polygon;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\n\npublic final class Card {\n    private int value;\n    private String suit;\n    private char rank;\n    private Group imageFront;\n    private Group imageBack;\n\n    public Card()\n    {}\n    public Card(int value, String suit, char rank) {\n        this.setSuit(suit);\n        this.setValue(value);\n        this.setRank(rank);\n    \n    }\n    public void setSuit(String suit) {\n        this.suit = suit;   \n    }\n    public void setValue(int value) {\n        this.value = value;\n    }\n\n    public void setRank(char rank) {\n        this.rank = rank;\n    }\n\n    public String getSuit() {\n        return this.suit;\n    }\n\n    public int getValue() {\n        return this.value;\n    }\n\n    public char getRank() {\n        return this.rank;\n    }\n    \n    public static Group buildCardFront(Card card)\n    {\n        Group root = new Group();\n        \n         //Drawing a cardOutline \n        Rectangle cardOutline = new Rectangle(); \n\n        //Creates horizontal box &quot;image1&quot; that contains the image and add the image\n        cardOutline.setX(380); \n        cardOutline.setY(480); \n\n        //Setting the properties of the cardOutline \n        cardOutline.setWidth(300.0); \n        cardOutline.setHeight(480.0); \n\n        //Setting the height and width of the arc \n        cardOutline.setArcWidth(30.0); \n        cardOutline.setArcHeight(30.0);  \n        cardOutline.setFill(Color.WHITE);\n        cardOutline.setStroke(Color.BLACK);\n        root.getChildren().add(cardOutline);\n        \n        \n        switch (card.getSuit()) {\n            case &quot;Club&quot;:\n                {\n                    //top left of the card (suit)\n                    HBox suitTopLeft = Club(root);\n//                    suitTopLeft.setTranslateX(25);\n//                    suitTopLeft.setTranslateY(100);\n                    //bottom left of the card( the suit)\n                    HBox suitBottomRight = Club(root);\n                    suitBottomRight.setRotate(180);\n                    suitBottomRight.setTranslateX(260);\n                    suitBottomRight.setTranslateY(405);\n                    //middle of the card( the suit)\n                    HBox suitMiddle = Club(root);\n                    suitMiddle.setTranslateX(125);\n                    suitMiddle.setTranslateY(210);\n                    suitMiddle.setScaleX(0.5);\n                    suitMiddle.setScaleY(0.5);\n                    root.getChildren().add(suitTopLeft);\n                    root.getChildren().add(suitBottomRight);\n                    root.getChildren().add(suitMiddle);\n                    break;\n                }\n            case &quot;Spade&quot;:\n                {\n                    //top left of the card (suit)\n                    HBox suitTopLeft = Spade(root);\n                    suitTopLeft.setTranslateX(25-26);\n                    suitTopLeft.setTranslateY(100+40);\n                    suitTopLeft.setRotate(180);\n                    //bottom left of the card( the suit)\n                    HBox suitBottomRight = Spade(root);\n                    suitBottomRight.setTranslateX(260-40);\n                    suitBottomRight.setTranslateY(405-40);\n                    //middle of the card( the suit)\n                    HBox suitMiddle = Spade(root);\n                    suitMiddle.setTranslateX(125-19);\n                    suitMiddle.setTranslateY(210+100);\n                    suitMiddle.setScaleX(0.5);\n                    suitMiddle.setScaleY(0.5);\n                    suitMiddle.setRotate(180);\n                    root.getChildren().add(suitTopLeft);\n                    root.getChildren().add(suitBottomRight);\n                    root.getChildren().add(suitMiddle);\n                    break;\n                }\n            case &quot;Heart&quot;:\n                {\n                    //top left of the card (suit)\n                    HBox suitTopLeft = Heart(root);\n                    suitTopLeft.setTranslateX(25-15);\n                    suitTopLeft.setTranslateY(100-15);\n                    suitTopLeft.setScaleX(0.25);\n                    suitTopLeft.setScaleY(0.25);\n                    //bottom left of the card( the suit)\n                    HBox suitBottomRight = Heart(root);\n                    suitBottomRight.setRotate(180);\n                    suitBottomRight.setTranslateX(260-28);\n                    suitBottomRight.setTranslateY(405+5);\n                    suitBottomRight.setScaleX(0.25);\n                    suitBottomRight.setScaleY(0.25);\n                    //middle of the card( the suit)\n                    HBox suitMiddle = Heart(root);\n                    suitMiddle.setTranslateX(125-5);\n                    suitMiddle.setTranslateY(210-15);\n                    suitMiddle.setScaleX(0.5);\n                    suitMiddle.setScaleY(0.5);\n                    root.getChildren().add(suitTopLeft);\n                    root.getChildren().add(suitBottomRight);\n                    root.getChildren().add(suitMiddle);\n                    break;\n                }\n            case &quot;Diamond&quot;:\n                {\n                    //top left of the card (suit)\n                    HBox suitTopLeft = Diamond(root);\n                    suitTopLeft.setTranslateX(25+70);\n                    suitTopLeft.setTranslateY(100-5);\n                    //bottom left of the card( the suit)\n                    HBox suitBottomRight = Diamond(root);\n                    suitBottomRight.setRotate(180);\n                    suitBottomRight.setTranslateX(260-27);\n                    suitBottomRight.setTranslateY(405);\n                    //middle of the card( the suit)\n                    HBox suitMiddle = Diamond(root);\n                    suitMiddle.setTranslateX(125+120);\n                    suitMiddle.setTranslateY(190);\n                    suitMiddle.setScaleX(0.5);\n                    suitMiddle.setScaleY(0.5);\n                    root.getChildren().add(suitTopLeft);\n                    root.getChildren().add(suitBottomRight);\n                    root.getChildren().add(suitMiddle);\n                    break;\n                }\n            default:\n                System.out.println(&quot;This is not implemented!&quot;);\n                break;\n        }\n        \n        //prints out the text of the card if the value is between 2 - 10\n        \n        if (2&lt;=card.getValue()&amp;&amp;card.getValue()&lt;10) {\n            if(card.getSuit().equals(&quot;Spade&quot;)  || card.getSuit().equals(&quot;Club&quot;)) {\n                Text text = new Text(178,120, String.valueOf(card.getValue()));\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                Text text1 = new Text(398,520, String.valueOf(card.getValue()));\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                text1.setRotate(180);\n\n                root.getChildren().add(text);\n                root.getChildren().add(text1);\n            }\n            \n            else {\n                Text text = new Text(178,120, String.valueOf(card.getValue()));\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                Text text1 = new Text(398,520, String.valueOf(card.getValue()));\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n                text1.setRotate(180);\n                text.setFill(Color.RED);\n                text1.setFill(Color.RED);\n\n                root.getChildren().add(text);\n                root.getChildren().add(text1);\n            }\n        }\n        else if (card.getValue() ==10) {\n            Text text = new Text(170,120, String.valueOf(card.getValue()));\n            text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n            Text text1 = new Text(386,520, String.valueOf(card.getValue()));\n            text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n            text1.setRotate(180);\n            text.setFill(Color.RED);\n            text1.setFill(Color.RED);\n\n            root.getChildren().add(text);\n            root.getChildren().add(text1);\n        }\n\n        else if(card.getRank() != 'N') {\n            if(card.getSuit().equals(&quot;Spade&quot;) || card.getSuit().equals(&quot;Club&quot;)) {\n\n                Text text = new Text(178,120, String.valueOf(card.getRank()));\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                Text text1 = new Text(398,520, String.valueOf(card.getRank()));\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n                text1.setRotate(180);\n\n                root.getChildren().add(text);\n                root.getChildren().add(text1);\n            }\n\n\n            else {\n                Text text = new Text(178,120, String.valueOf(card.getRank()));\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                Text text1 = new Text(398,520, String.valueOf(card.getRank()));\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n                text1.setRotate(180);\n                text.setFill(Color.RED);\n                text1.setFill(Color.RED);\n                root.getChildren().add(text);\n                root.getChildren().add(text1);\n                \n            }\n        }\n        \n        return root;\n    }\n    \n    static public HBox Club(Parent parent) {\n\n        Circle suitClubs1 = new Circle();\n        suitClubs1.setTranslateX(100.0f);\n        suitClubs1.setTranslateY(100.0f);\n        suitClubs1.setRadius(50.0f);\n\n        Circle suitClubs2 = new Circle();\n        suitClubs2.setTranslateX(95.0f);\n        suitClubs2.setTranslateY(100.0f);\n        suitClubs2.setRadius(50.0f);\n\n        Circle suitClubs3 = new Circle();\n        suitClubs3.setTranslateX(-50.0f);\n        suitClubs3.setTranslateY(30.0f);\n        suitClubs3.setRadius(50.0f);\n\n        Rectangle stem = new Rectangle(); \n        stem.setTranslateX(-112.0f);\n        stem.setTranslateY(120.0f);\n        stem.setWidth(20.0); \n        stem.setHeight(100.0);\n\n        HBox root = new HBox(suitClubs1, suitClubs2, suitClubs3, stem);\n        root.setAlignment(Pos.CENTER);\n        root.setScaleX(0.25);\n        root.setScaleY(0.25);\n\n        HBox clubsRoot = new HBox(suitClubs1, suitClubs2, suitClubs3, stem);\n        clubsRoot.setAlignment(Pos.CENTER);\n        clubsRoot.setScaleX(0.25);\n        clubsRoot.setScaleY(0.25);\n        clubsRoot.setTranslateX(-30);\n        clubsRoot.setTranslateY(120);           \n        return clubsRoot;\n\n    }\n\n    static public HBox Spade(Parent parent) {\n        Circle suitSpade1 = new Circle();\n        suitSpade1.setTranslateX(100.0f);\n        suitSpade1.setTranslateY(100.0f);\n        suitSpade1.setRadius(50.0f);\n        suitSpade1.setFill(Color.BLACK);\n\n        Circle suitSpade2 = new Circle();\n        suitSpade2.setTranslateX(80.0f);\n        suitSpade2.setTranslateY(100.0f);\n        suitSpade2.setRadius(50.0f);\n        suitSpade2.setFill(Color.BLACK);\n\n        Polygon suitSpade3 = new Polygon();\n        suitSpade3.getPoints().addAll(new Double[]{\n                62.0, 170.0,\n                230.0, 170.0,\n                146.0, 260.0,\n        });\n        suitSpade3.setFill(Color.BLACK);\n        suitSpade3.setTranslateX(-94.0f);\n        suitSpade3.setTranslateY(170.3f);    \n\n        Rectangle stem = new Rectangle(); \n        stem.setTranslateX(-187.0f);\n        stem.setTranslateY(70.0f);\n        stem.setWidth(20.0); \n        stem.setHeight(100.0);\n\n        HBox clubsRoot = new HBox(suitSpade1, suitSpade2, suitSpade3, stem);\n        clubsRoot.setAlignment(Pos.CENTER);\n        clubsRoot.setScaleX(0.25);\n        clubsRoot.setScaleY(0.25);\n        clubsRoot.setTranslateX(-30);\n        clubsRoot.setTranslateY(120);           \n        return clubsRoot;\n    }\n\n    static public HBox Heart(Parent parent) {\n        //drawing the suit with clubs\n        Circle suitHeart1 = new Circle();\n        suitHeart1.setTranslateX(100.0f);\n        suitHeart1.setTranslateY(100.0f);\n        suitHeart1.setRadius(50.0f);\n        suitHeart1.setFill(Color.RED);\n\n        Circle suitHeart2 = new Circle();\n        suitHeart2.setTranslateX(80.0f);\n        suitHeart2.setTranslateY(100.0f);\n        suitHeart2.setRadius(50.0f);\n        suitHeart2.setFill(Color.RED);\n\n        Polygon suitHeart3 = new Polygon();\n        suitHeart3.getPoints().addAll(new Double[]{\n                62.0, 170.0,\n                230.0, 170.0,\n                146.0, 260.0,\n        });\n        suitHeart3.setFill(Color.RED);\n        suitHeart3.setTranslateX(-94.0f);\n        suitHeart3.setTranslateY(175.3f);       \n\n        HBox root = new HBox(suitHeart1, suitHeart2, suitHeart3);\n        return root;\n    }\n\n    static public HBox Diamond(Parent parent) {\n        Polygon suitDiamond1 = new Polygon();\n        suitDiamond1.getPoints().addAll(new Double[]{\n                90.0, 170.0,\n                230.0, 170.0,\n                160.0, 280.0,\n        });\n\n\n        suitDiamond1.setFill(Color.RED);\n        suitDiamond1.setTranslateX(-94.0f);\n        suitDiamond1.setTranslateY(179.0f);     \n        Polygon suitDiamond2 = new Polygon();\n        suitDiamond2.getPoints().addAll(new Double[]{\n                90.0, 170.0,\n                230.0, 170.0,\n                160.0, 60.0,\n        });\n        suitDiamond2.setFill(Color.RED);\n        suitDiamond2.setTranslateX(-234.0f);\n        suitDiamond2.setTranslateY(70.0f); \n\n        HBox root = new HBox(suitDiamond1, suitDiamond2);\n        root.setScaleX(0.25);\n        root.setScaleY(0.25);\n\n        return root;\n    }\n}\n</code></pre>\n<hr />\n<p>As stated earlier. I did not attempt to correct the alignment.</p>\n<p><a href=\"https://i.stack.imgur.com/lqniq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqniq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28583108,"reputation":1,"user_id":21883840,"display_name":"Jibin Im"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683833222,"creation_date":1683828159,"question_id":76230476,"body_markdown":"this is where the cards are being printed:\r\n\r\n```\r\npackage cc4;\r\nimport java.io.FileNotFoundException;\r\n\r\nimport javafx.application.Application; \r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Polygon;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\nimport javafx.scene.text.TextAlignment;\r\nimport javafx.stage.Stage;\r\nimport reusable_classes.Card;\r\n\r\npublic class maybeCHeck extends Application {\r\n\r\n\t@Override \r\n\tpublic void start(Stage stage) throws FileNotFoundException {         \r\n\t\t//Drawing a cardOutline \r\n\t\tRectangle cardOutline = new Rectangle(); \r\n\r\n\t\t//Creates horizontal box &quot;image1&quot; that contains the image and add the image\r\n\t\tcardOutline.setX(380); \r\n\t\tcardOutline.setY(480); \r\n\r\n\t\t//Setting the properties of the cardOutline \r\n\t\tcardOutline.setWidth(300.0); \r\n\t\tcardOutline.setHeight(480.0); \r\n\r\n\t\t//Setting the height and width of the arc \r\n\t\tcardOutline.setArcWidth(30.0); \r\n\t\tcardOutline.setArcHeight(30.0);  \r\n\t\tcardOutline.setFill(Color.WHITE);\r\n\t\tcardOutline.setStroke(Color.BLACK);\r\n\r\n\t\t//Creating a Group object  \r\n\t\tGroup root = new Group(cardOutline); \r\n\r\n\t\t//Creating a scene object \r\n\t\tdouble xScene = 600.00;\r\n\t\tdouble yScene = 600.00;\r\n\r\n\t\t//if it is a value card like 2 - 10, make the rank a N and if it a rank card like a J, Q, K, make the value card into anything that isnt 2 - 10\r\n\t\tCard Card=new Card (10, &quot;Diamond&quot;, &#39;N&#39; );\r\n\r\n\r\n\t\tif (Card.getSuit()==&quot;Club&quot;) {\r\n\r\n\t\t\t//top left of the card (suit)\r\n\t\t\tHBox suitTopLeft = Club(stage);\r\n\t\t\tsuitTopLeft.setTranslateX(25);\r\n\t\t\tsuitTopLeft.setTranslateY(100); \r\n\r\n\t\t\t//bottom left of the card( the suit)\r\n\t\t\tHBox suitBottomRight = Club(stage);\r\n\t\t\tsuitBottomRight.setRotate(180);\r\n\t\t\tsuitBottomRight.setTranslateX(260);\r\n\t\t\tsuitBottomRight.setTranslateY(405);\r\n\r\n\t\t\t//middle of the card( the suit)\r\n\t\t\tHBox suitMiddle = Club(stage);\r\n\t\t\tsuitMiddle.setTranslateX(125);\r\n\t\t\tsuitMiddle.setTranslateY(210);\r\n\t\t\tsuitMiddle.setScaleX(0.5);\r\n\t\t\tsuitMiddle.setScaleY(0.5);\r\n\r\n\r\n\t\t\troot.getChildren().add(suitTopLeft);\r\n\t\t\troot.getChildren().add(suitBottomRight);\r\n\t\t\troot.getChildren().add(suitMiddle);\r\n\t\t}\r\n\t\telse if (Card.getSuit()==&quot;Spade&quot;) {\r\n\r\n\t\t\t//top left of the card (suit)\r\n\t\t\tHBox suitTopLeft = Spade(stage);\r\n\t\t\tsuitTopLeft.setTranslateX(25-26);\r\n\t\t\tsuitTopLeft.setTranslateY(100+40); \r\n\t\t\tsuitTopLeft.setRotate(180);\r\n\r\n\t\t\t//bottom left of the card( the suit)\r\n\t\t\tHBox suitBottomRight = Spade(stage);\r\n\t\t\tsuitBottomRight.setTranslateX(260-40);\r\n\t\t\tsuitBottomRight.setTranslateY(405-40);\r\n\r\n\t\t\t//middle of the card( the suit)\r\n\t\t\tHBox suitMiddle = Spade(stage);\r\n\t\t\tsuitMiddle.setTranslateX(125-19);\r\n\t\t\tsuitMiddle.setTranslateY(210+100);\r\n\t\t\tsuitMiddle.setScaleX(0.5);\r\n\t\t\tsuitMiddle.setScaleY(0.5);\r\n\t\t\tsuitMiddle.setRotate(180);\r\n\r\n\t\t\troot.getChildren().add(suitTopLeft);\r\n\t\t\troot.getChildren().add(suitBottomRight);\r\n\t\t\troot.getChildren().add(suitMiddle);\r\n\t\t}\r\n\t\telse if (Card.getSuit()==&quot;Heart&quot;) {\r\n\r\n\t\t\t//top left of the card (suit)\r\n\t\t\tHBox suitTopLeft = Heart(stage);\r\n\t\t\tsuitTopLeft.setTranslateX(25-15);\r\n\t\t\tsuitTopLeft.setTranslateY(100-15);\r\n\t\t\tsuitTopLeft.setScaleX(0.25);\r\n\t\t\tsuitTopLeft.setScaleY(0.25);\r\n\r\n\t\t\t//bottom left of the card( the suit)\r\n\t\t\tHBox suitBottomRight = Heart(stage);\r\n\t\t\tsuitBottomRight.setRotate(180);\r\n\t\t\tsuitBottomRight.setTranslateX(260-28);\r\n\t\t\tsuitBottomRight.setTranslateY(405+5);\r\n\t\t\tsuitBottomRight.setScaleX(0.25);\r\n\t\t\tsuitBottomRight.setScaleY(0.25);\r\n\r\n\t\t\t//middle of the card( the suit)\r\n\t\t\tHBox suitMiddle = Heart(stage);\r\n\t\t\tsuitMiddle.setTranslateX(125-5);\r\n\t\t\tsuitMiddle.setTranslateY(210-15);\r\n\t\t\tsuitMiddle.setScaleX(0.5);\r\n\t\t\tsuitMiddle.setScaleY(0.5);\r\n\r\n\r\n\t\t\troot.getChildren().add(suitTopLeft);\r\n\t\t\troot.getChildren().add(suitBottomRight);\r\n\t\t\troot.getChildren().add(suitMiddle);\r\n\t\t}\r\n\t\telse if (Card.getSuit()==&quot;Diamond&quot;) {\r\n\r\n\t\t\t//top left of the card (suit)\r\n\t\t\tHBox suitTopLeft = Diamond(stage);\r\n\t\t\tsuitTopLeft.setTranslateX(25+70);\r\n\t\t\tsuitTopLeft.setTranslateY(100-5); \r\n\r\n\t\t\t//bottom left of the card( the suit)\r\n\t\t\tHBox suitBottomRight = Diamond(stage);\r\n\t\t\tsuitBottomRight.setRotate(180);\r\n\t\t\tsuitBottomRight.setTranslateX(260-27);\r\n\t\t\tsuitBottomRight.setTranslateY(405);\r\n\r\n\t\t\t//middle of the card( the suit)\r\n\t\t\tHBox suitMiddle = Diamond(stage);\r\n\t\t\tsuitMiddle.setTranslateX(125+120);\r\n\t\t\tsuitMiddle.setTranslateY(190);\r\n\t\t\tsuitMiddle.setScaleX(0.5);\r\n\t\t\tsuitMiddle.setScaleY(0.5);\r\n\r\n\r\n\t\t\troot.getChildren().add(suitTopLeft);\r\n\t\t\troot.getChildren().add(suitBottomRight);\r\n\t\t\troot.getChildren().add(suitMiddle);\r\n\t\t}\r\n\r\n\t\t//prints out the text of the card if the value is between 2 - 10\r\n\t\t\r\n\t\tif (2&lt;=Card.getValue()&amp;&amp;Card.getValue()&lt;10) {\r\n\t\t\tif(Card.getSuit()==&quot;Spade&quot;||Card.getSuit()==&quot;Club&quot;) {\r\n\t\t\t\tText text = new Text(178,120, String.valueOf(Card.getValue()));\r\n\t\t\t\ttext.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n\t\t\t\tText text1 = new Text(398,520, String.valueOf(Card.getValue()));\r\n\t\t\t\ttext1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n\t\t\t\ttext1.setRotate(180);\r\n\r\n\t\t\t\troot.getChildren().add(text);\r\n\t\t\t\troot.getChildren().add(text1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\tText text = new Text(178,120, String.valueOf(Card.getValue()));\r\n\t\t\t\ttext.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n\t\t\t\tText text1 = new Text(398,520, String.valueOf(Card.getValue()));\r\n\t\t\t\ttext1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\t\t\t\ttext1.setRotate(180);\r\n\t\t\t\ttext.setFill(Color.RED);\r\n\t\t\t\ttext1.setFill(Color.RED);\r\n\r\n\t\t\t\troot.getChildren().add(text);\r\n\t\t\t\troot.getChildren().add(text1);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (Card.getValue() ==10) {\r\n\t\t\tText text = new Text(170,120, String.valueOf(Card.getValue()));\r\n\t\t\ttext.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n\t\t\tText text1 = new Text(386,520, String.valueOf(Card.getValue()));\r\n\t\t\ttext1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n\t\t\ttext1.setRotate(180);\r\n\t\t\ttext.setFill(Color.RED);\r\n\t\t\ttext1.setFill(Color.RED);\r\n\r\n\t\t\troot.getChildren().add(text);\r\n\t\t\troot.getChildren().add(text1);\r\n\t\t}\r\n\r\n\t\telse if(Card.getRank() != &#39;N&#39;) {\r\n\t\t\tif(Card.getSuit()==&quot;Spade&quot;||Card.getSuit()==&quot;Club&quot;) {\r\n\r\n\t\t\t\tText text = new Text(178,120, String.valueOf(Card.getRank()));\r\n\t\t\t\ttext.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n\t\t\t\tText text1 = new Text(398,520, String.valueOf(Card.getRank()));\r\n\t\t\t\ttext1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\t\t\t\ttext1.setRotate(180);\r\n\r\n\t\t\t\troot.getChildren().add(text);\r\n\t\t\t\troot.getChildren().add(text1);\r\n\t\t\t}\r\n\r\n\r\n\t\t\telse {\r\n\t\t\t\tText text = new Text(178,120, String.valueOf(Card.getRank()));\r\n\t\t\t\ttext.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\r\n\t\t\t\tText text1 = new Text(398,520, String.valueOf(Card.getRank()));\r\n\t\t\t\ttext1.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n\t\t\t\ttext1.setRotate(180);\r\n\t\t\t\ttext.setFill(Color.RED);\r\n\t\t\t\ttext1.setFill(Color.RED);\r\n\t\t\t\troot.getChildren().add(text);\r\n\t\t\t\troot.getChildren().add(text1);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\r\n\t\tScene scene = new Scene(root, xScene, yScene, Color.GREEN);  \r\n\r\n\t\tcardOutline.setX(xScene/2-150);\r\n\t\tcardOutline.setY(yScene/2-240);\r\n\r\n\t\t//Setting title to the Stage \r\n\t\tstage.setTitle(&quot;cardOutline&quot;);\r\n\r\n\t\t//Adding scene to the stage \r\n\t\tstage.setScene(scene); \r\n\r\n\t\t//Displaying the contents of the stage \r\n\t\tstage.show(); \r\n\t} \r\n\r\n\tpublic HBox Club(Stage stage) {\r\n\r\n\t\tCircle suitClubs1 = new Circle();\r\n\t\tsuitClubs1.setTranslateX(100.0f);\r\n\t\tsuitClubs1.setTranslateY(100.0f);\r\n\t\tsuitClubs1.setRadius(50.0f);\r\n\r\n\t\tCircle suitClubs2 = new Circle();\r\n\t\tsuitClubs2.setTranslateX(95.0f);\r\n\t\tsuitClubs2.setTranslateY(100.0f);\r\n\t\tsuitClubs2.setRadius(50.0f);\r\n\r\n\t\tCircle suitClubs3 = new Circle();\r\n\t\tsuitClubs3.setTranslateX(-50.0f);\r\n\t\tsuitClubs3.setTranslateY(30.0f);\r\n\t\tsuitClubs3.setRadius(50.0f);\r\n\r\n\t\tRectangle stem = new Rectangle(); \r\n\t\tstem.setTranslateX(-112.0f);\r\n\t\tstem.setTranslateY(120.0f);\r\n\t\tstem.setWidth(20.0); \r\n\t\tstem.setHeight(100.0);\r\n\r\n\t\tHBox root = new HBox(suitClubs1, suitClubs2, suitClubs3, stem);\r\n\t\troot.setAlignment(Pos.CENTER);\r\n\t\troot.setScaleX(0.25);\r\n\t\troot.setScaleY(0.25);\r\n\r\n\t\tHBox clubsRoot = new HBox(suitClubs1, suitClubs2, suitClubs3, stem);\r\n\t\tclubsRoot.setAlignment(Pos.CENTER);\r\n\t\tclubsRoot.setScaleX(0.25);\r\n\t\tclubsRoot.setScaleY(0.25);\r\n\t\tclubsRoot.setTranslateX(-30);\r\n\t\tclubsRoot.setTranslateY(120);   \t\t\r\n\t\treturn clubsRoot;\r\n\r\n\t}\r\n\r\n\tpublic HBox Spade(Stage stage) {\r\n\t\tCircle suitSpade1 = new Circle();\r\n\t\tsuitSpade1.setTranslateX(100.0f);\r\n\t\tsuitSpade1.setTranslateY(100.0f);\r\n\t\tsuitSpade1.setRadius(50.0f);\r\n\t\tsuitSpade1.setFill(Color.BLACK);\r\n\r\n\t\tCircle suitSpade2 = new Circle();\r\n\t\tsuitSpade2.setTranslateX(80.0f);\r\n\t\tsuitSpade2.setTranslateY(100.0f);\r\n\t\tsuitSpade2.setRadius(50.0f);\r\n\t\tsuitSpade2.setFill(Color.BLACK);\r\n\r\n\t\tPolygon suitSpade3 = new Polygon();\r\n\t\tsuitSpade3.getPoints().addAll(new Double[]{\r\n\t\t\t\t62.0, 170.0,\r\n\t\t\t\t230.0, 170.0,\r\n\t\t\t\t146.0, 260.0,\r\n\t\t});\r\n\t\tsuitSpade3.setFill(Color.BLACK);\r\n\t\tsuitSpade3.setTranslateX(-94.0f);\r\n\t\tsuitSpade3.setTranslateY(170.3f);    \r\n\r\n\t\tRectangle stem = new Rectangle(); \r\n\t\tstem.setTranslateX(-187.0f);\r\n\t\tstem.setTranslateY(70.0f);\r\n\t\tstem.setWidth(20.0); \r\n\t\tstem.setHeight(100.0);\r\n\r\n\t\tHBox clubsRoot = new HBox(suitSpade1, suitSpade2, suitSpade3, stem);\r\n\t\tclubsRoot.setAlignment(Pos.CENTER);\r\n\t\tclubsRoot.setScaleX(0.25);\r\n\t\tclubsRoot.setScaleY(0.25);\r\n\t\tclubsRoot.setTranslateX(-30);\r\n\t\tclubsRoot.setTranslateY(120);   \t\t\r\n\t\treturn clubsRoot;\r\n\t}\r\n\r\n\tpublic HBox Heart(Stage stage) {\r\n\t\t//drawing the suit with clubs\r\n\t\tCircle suitHeart1 = new Circle();\r\n\t\tsuitHeart1.setTranslateX(100.0f);\r\n\t\tsuitHeart1.setTranslateY(100.0f);\r\n\t\tsuitHeart1.setRadius(50.0f);\r\n\t\tsuitHeart1.setFill(Color.RED);\r\n\r\n\t\tCircle suitHeart2 = new Circle();\r\n\t\tsuitHeart2.setTranslateX(80.0f);\r\n\t\tsuitHeart2.setTranslateY(100.0f);\r\n\t\tsuitHeart2.setRadius(50.0f);\r\n\t\tsuitHeart2.setFill(Color.RED);\r\n\r\n\t\tPolygon suitHeart3 = new Polygon();\r\n\t\tsuitHeart3.getPoints().addAll(new Double[]{\r\n\t\t\t\t62.0, 170.0,\r\n\t\t\t\t230.0, 170.0,\r\n\t\t\t\t146.0, 260.0,\r\n\t\t});\r\n\t\tsuitHeart3.setFill(Color.RED);\r\n\t\tsuitHeart3.setTranslateX(-94.0f);\r\n\t\tsuitHeart3.setTranslateY(175.3f);    \t\r\n\r\n\t\tHBox root = new HBox(suitHeart1, suitHeart2, suitHeart3);\r\n\t\treturn root;\r\n\t}\r\n\r\n\tpublic HBox Diamond(Stage stage) {\r\n\t\tPolygon suitDiamond1 = new Polygon();\r\n\t\tsuitDiamond1.getPoints().addAll(new Double[]{\r\n\t\t\t\t90.0, 170.0,\r\n\t\t\t\t230.0, 170.0,\r\n\t\t\t\t160.0, 280.0,\r\n\t\t});\r\n\r\n\r\n\t\tsuitDiamond1.setFill(Color.RED);\r\n\t\tsuitDiamond1.setTranslateX(-94.0f);\r\n\t\tsuitDiamond1.setTranslateY(179.0f);    \t\r\n\t\tPolygon suitDiamond2 = new Polygon();\r\n\t\tsuitDiamond2.getPoints().addAll(new Double[]{\r\n\t\t\t\t90.0, 170.0,\r\n\t\t\t\t230.0, 170.0,\r\n\t\t\t\t160.0, 60.0,\r\n\t\t});\r\n\t\tsuitDiamond2.setFill(Color.RED);\r\n\t\tsuitDiamond2.setTranslateX(-234.0f);\r\n\t\tsuitDiamond2.setTranslateY(70.0f); \r\n\r\n\t\tHBox root = new HBox(suitDiamond1, suitDiamond2);\r\n\t\troot.setScaleX(0.25);\r\n\t\troot.setScaleY(0.25);\r\n\r\n\t\treturn root;\r\n\t}\r\n\r\n\tpublic static void main(String args[]){ \r\n\t\tlaunch(args); \r\n\t} \r\n}\r\n```\r\n\r\n\r\n\r\nthis is the Card class:\r\n\r\n```\r\n\r\n\r\npackage reusable_classes;\r\n\r\nimport javafx.scene.Group;\r\nimport java.io.FileNotFoundException;\r\n\r\nimport javafx.application.Application; \r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Polygon;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\nimport javafx.scene.text.TextAlignment;\r\nimport javafx.stage.Stage;\r\nimport reusable_classes.Card;\r\n\r\npublic class Card {\r\n\tprivate int value;\r\n\tprivate String suit;\r\n\tprivate char rank;\r\n\tprivate Group imageFront;\r\n\tprivate Group imageBack;\r\n\r\n\tpublic Card()\r\n\t{}\r\n\tpublic Card(int value, String suit, char rank) {\r\n\t\tthis.setSuit(suit);\r\n\t\tthis.setValue(value);\r\n\t\tthis.setRank(rank);\r\n\t\r\n\t}\r\n\tpublic void setSuit(String suit) {\r\n\t\tthis.suit = suit;\t\r\n\t}\r\n\tpublic void setValue(int value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic void setRank(char rank) {\r\n\t\tthis.rank = rank;\r\n\t}\r\n\r\n\tpublic String getSuit() {\r\n\t\treturn this.suit;\r\n\t}\r\n\r\n\tpublic int getValue() {\r\n\t\treturn this.value;\r\n\t}\r\n\r\n\tpublic char getRank() {\r\n\t\treturn this.rank;\r\n\t}\r\n```\r\n I want to print a second card and add it to the root. How would I do this? \r\nEx: since Card Card=new Card (10, &quot;Diamond&quot;, &#39;N&#39; );\r\nCard Card1 =new Card (2, &quot;Spade&quot;, &#39;N&#39; );\r\n\r\nI tried to create a duplicate one but since Card1 isnt mentioned in any of the objects, it isnt called meaning nothing happens and it ignores card1.","title":"How do I print a second card in my Cards class?","body":"<p>this is where the cards are being printed:</p>\n<pre><code>package cc4;\nimport java.io.FileNotFoundException;\n\nimport javafx.application.Application; \nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Polygon;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.scene.text.TextAlignment;\nimport javafx.stage.Stage;\nimport reusable_classes.Card;\n\npublic class maybeCHeck extends Application {\n\n    @Override \n    public void start(Stage stage) throws FileNotFoundException {         \n        //Drawing a cardOutline \n        Rectangle cardOutline = new Rectangle(); \n\n        //Creates horizontal box &quot;image1&quot; that contains the image and add the image\n        cardOutline.setX(380); \n        cardOutline.setY(480); \n\n        //Setting the properties of the cardOutline \n        cardOutline.setWidth(300.0); \n        cardOutline.setHeight(480.0); \n\n        //Setting the height and width of the arc \n        cardOutline.setArcWidth(30.0); \n        cardOutline.setArcHeight(30.0);  \n        cardOutline.setFill(Color.WHITE);\n        cardOutline.setStroke(Color.BLACK);\n\n        //Creating a Group object  \n        Group root = new Group(cardOutline); \n\n        //Creating a scene object \n        double xScene = 600.00;\n        double yScene = 600.00;\n\n        //if it is a value card like 2 - 10, make the rank a N and if it a rank card like a J, Q, K, make the value card into anything that isnt 2 - 10\n        Card Card=new Card (10, &quot;Diamond&quot;, 'N' );\n\n\n        if (Card.getSuit()==&quot;Club&quot;) {\n\n            //top left of the card (suit)\n            HBox suitTopLeft = Club(stage);\n            suitTopLeft.setTranslateX(25);\n            suitTopLeft.setTranslateY(100); \n\n            //bottom left of the card( the suit)\n            HBox suitBottomRight = Club(stage);\n            suitBottomRight.setRotate(180);\n            suitBottomRight.setTranslateX(260);\n            suitBottomRight.setTranslateY(405);\n\n            //middle of the card( the suit)\n            HBox suitMiddle = Club(stage);\n            suitMiddle.setTranslateX(125);\n            suitMiddle.setTranslateY(210);\n            suitMiddle.setScaleX(0.5);\n            suitMiddle.setScaleY(0.5);\n\n\n            root.getChildren().add(suitTopLeft);\n            root.getChildren().add(suitBottomRight);\n            root.getChildren().add(suitMiddle);\n        }\n        else if (Card.getSuit()==&quot;Spade&quot;) {\n\n            //top left of the card (suit)\n            HBox suitTopLeft = Spade(stage);\n            suitTopLeft.setTranslateX(25-26);\n            suitTopLeft.setTranslateY(100+40); \n            suitTopLeft.setRotate(180);\n\n            //bottom left of the card( the suit)\n            HBox suitBottomRight = Spade(stage);\n            suitBottomRight.setTranslateX(260-40);\n            suitBottomRight.setTranslateY(405-40);\n\n            //middle of the card( the suit)\n            HBox suitMiddle = Spade(stage);\n            suitMiddle.setTranslateX(125-19);\n            suitMiddle.setTranslateY(210+100);\n            suitMiddle.setScaleX(0.5);\n            suitMiddle.setScaleY(0.5);\n            suitMiddle.setRotate(180);\n\n            root.getChildren().add(suitTopLeft);\n            root.getChildren().add(suitBottomRight);\n            root.getChildren().add(suitMiddle);\n        }\n        else if (Card.getSuit()==&quot;Heart&quot;) {\n\n            //top left of the card (suit)\n            HBox suitTopLeft = Heart(stage);\n            suitTopLeft.setTranslateX(25-15);\n            suitTopLeft.setTranslateY(100-15);\n            suitTopLeft.setScaleX(0.25);\n            suitTopLeft.setScaleY(0.25);\n\n            //bottom left of the card( the suit)\n            HBox suitBottomRight = Heart(stage);\n            suitBottomRight.setRotate(180);\n            suitBottomRight.setTranslateX(260-28);\n            suitBottomRight.setTranslateY(405+5);\n            suitBottomRight.setScaleX(0.25);\n            suitBottomRight.setScaleY(0.25);\n\n            //middle of the card( the suit)\n            HBox suitMiddle = Heart(stage);\n            suitMiddle.setTranslateX(125-5);\n            suitMiddle.setTranslateY(210-15);\n            suitMiddle.setScaleX(0.5);\n            suitMiddle.setScaleY(0.5);\n\n\n            root.getChildren().add(suitTopLeft);\n            root.getChildren().add(suitBottomRight);\n            root.getChildren().add(suitMiddle);\n        }\n        else if (Card.getSuit()==&quot;Diamond&quot;) {\n\n            //top left of the card (suit)\n            HBox suitTopLeft = Diamond(stage);\n            suitTopLeft.setTranslateX(25+70);\n            suitTopLeft.setTranslateY(100-5); \n\n            //bottom left of the card( the suit)\n            HBox suitBottomRight = Diamond(stage);\n            suitBottomRight.setRotate(180);\n            suitBottomRight.setTranslateX(260-27);\n            suitBottomRight.setTranslateY(405);\n\n            //middle of the card( the suit)\n            HBox suitMiddle = Diamond(stage);\n            suitMiddle.setTranslateX(125+120);\n            suitMiddle.setTranslateY(190);\n            suitMiddle.setScaleX(0.5);\n            suitMiddle.setScaleY(0.5);\n\n\n            root.getChildren().add(suitTopLeft);\n            root.getChildren().add(suitBottomRight);\n            root.getChildren().add(suitMiddle);\n        }\n\n        //prints out the text of the card if the value is between 2 - 10\n        \n        if (2&lt;=Card.getValue()&amp;&amp;Card.getValue()&lt;10) {\n            if(Card.getSuit()==&quot;Spade&quot;||Card.getSuit()==&quot;Club&quot;) {\n                Text text = new Text(178,120, String.valueOf(Card.getValue()));\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                Text text1 = new Text(398,520, String.valueOf(Card.getValue()));\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                text1.setRotate(180);\n\n                root.getChildren().add(text);\n                root.getChildren().add(text1);\n            }\n            \n            else {\n                Text text = new Text(178,120, String.valueOf(Card.getValue()));\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                Text text1 = new Text(398,520, String.valueOf(Card.getValue()));\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n                text1.setRotate(180);\n                text.setFill(Color.RED);\n                text1.setFill(Color.RED);\n\n                root.getChildren().add(text);\n                root.getChildren().add(text1);\n            }\n        }\n        else if (Card.getValue() ==10) {\n            Text text = new Text(170,120, String.valueOf(Card.getValue()));\n            text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n            Text text1 = new Text(386,520, String.valueOf(Card.getValue()));\n            text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n            text1.setRotate(180);\n            text.setFill(Color.RED);\n            text1.setFill(Color.RED);\n\n            root.getChildren().add(text);\n            root.getChildren().add(text1);\n        }\n\n        else if(Card.getRank() != 'N') {\n            if(Card.getSuit()==&quot;Spade&quot;||Card.getSuit()==&quot;Club&quot;) {\n\n                Text text = new Text(178,120, String.valueOf(Card.getRank()));\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                Text text1 = new Text(398,520, String.valueOf(Card.getRank()));\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n                text1.setRotate(180);\n\n                root.getChildren().add(text);\n                root.getChildren().add(text1);\n            }\n\n\n            else {\n                Text text = new Text(178,120, String.valueOf(Card.getRank()));\n                text.setFont(Font.font(&quot;Georgia&quot;, 50));\n\n                Text text1 = new Text(398,520, String.valueOf(Card.getRank()));\n                text1.setFont(Font.font(&quot;Georgia&quot;, 50));\n                text1.setRotate(180);\n                text.setFill(Color.RED);\n                text1.setFill(Color.RED);\n                root.getChildren().add(text);\n                root.getChildren().add(text1);\n                \n            }\n        }\n        \n\n\n        Scene scene = new Scene(root, xScene, yScene, Color.GREEN);  \n\n        cardOutline.setX(xScene/2-150);\n        cardOutline.setY(yScene/2-240);\n\n        //Setting title to the Stage \n        stage.setTitle(&quot;cardOutline&quot;);\n\n        //Adding scene to the stage \n        stage.setScene(scene); \n\n        //Displaying the contents of the stage \n        stage.show(); \n    } \n\n    public HBox Club(Stage stage) {\n\n        Circle suitClubs1 = new Circle();\n        suitClubs1.setTranslateX(100.0f);\n        suitClubs1.setTranslateY(100.0f);\n        suitClubs1.setRadius(50.0f);\n\n        Circle suitClubs2 = new Circle();\n        suitClubs2.setTranslateX(95.0f);\n        suitClubs2.setTranslateY(100.0f);\n        suitClubs2.setRadius(50.0f);\n\n        Circle suitClubs3 = new Circle();\n        suitClubs3.setTranslateX(-50.0f);\n        suitClubs3.setTranslateY(30.0f);\n        suitClubs3.setRadius(50.0f);\n\n        Rectangle stem = new Rectangle(); \n        stem.setTranslateX(-112.0f);\n        stem.setTranslateY(120.0f);\n        stem.setWidth(20.0); \n        stem.setHeight(100.0);\n\n        HBox root = new HBox(suitClubs1, suitClubs2, suitClubs3, stem);\n        root.setAlignment(Pos.CENTER);\n        root.setScaleX(0.25);\n        root.setScaleY(0.25);\n\n        HBox clubsRoot = new HBox(suitClubs1, suitClubs2, suitClubs3, stem);\n        clubsRoot.setAlignment(Pos.CENTER);\n        clubsRoot.setScaleX(0.25);\n        clubsRoot.setScaleY(0.25);\n        clubsRoot.setTranslateX(-30);\n        clubsRoot.setTranslateY(120);           \n        return clubsRoot;\n\n    }\n\n    public HBox Spade(Stage stage) {\n        Circle suitSpade1 = new Circle();\n        suitSpade1.setTranslateX(100.0f);\n        suitSpade1.setTranslateY(100.0f);\n        suitSpade1.setRadius(50.0f);\n        suitSpade1.setFill(Color.BLACK);\n\n        Circle suitSpade2 = new Circle();\n        suitSpade2.setTranslateX(80.0f);\n        suitSpade2.setTranslateY(100.0f);\n        suitSpade2.setRadius(50.0f);\n        suitSpade2.setFill(Color.BLACK);\n\n        Polygon suitSpade3 = new Polygon();\n        suitSpade3.getPoints().addAll(new Double[]{\n                62.0, 170.0,\n                230.0, 170.0,\n                146.0, 260.0,\n        });\n        suitSpade3.setFill(Color.BLACK);\n        suitSpade3.setTranslateX(-94.0f);\n        suitSpade3.setTranslateY(170.3f);    \n\n        Rectangle stem = new Rectangle(); \n        stem.setTranslateX(-187.0f);\n        stem.setTranslateY(70.0f);\n        stem.setWidth(20.0); \n        stem.setHeight(100.0);\n\n        HBox clubsRoot = new HBox(suitSpade1, suitSpade2, suitSpade3, stem);\n        clubsRoot.setAlignment(Pos.CENTER);\n        clubsRoot.setScaleX(0.25);\n        clubsRoot.setScaleY(0.25);\n        clubsRoot.setTranslateX(-30);\n        clubsRoot.setTranslateY(120);           \n        return clubsRoot;\n    }\n\n    public HBox Heart(Stage stage) {\n        //drawing the suit with clubs\n        Circle suitHeart1 = new Circle();\n        suitHeart1.setTranslateX(100.0f);\n        suitHeart1.setTranslateY(100.0f);\n        suitHeart1.setRadius(50.0f);\n        suitHeart1.setFill(Color.RED);\n\n        Circle suitHeart2 = new Circle();\n        suitHeart2.setTranslateX(80.0f);\n        suitHeart2.setTranslateY(100.0f);\n        suitHeart2.setRadius(50.0f);\n        suitHeart2.setFill(Color.RED);\n\n        Polygon suitHeart3 = new Polygon();\n        suitHeart3.getPoints().addAll(new Double[]{\n                62.0, 170.0,\n                230.0, 170.0,\n                146.0, 260.0,\n        });\n        suitHeart3.setFill(Color.RED);\n        suitHeart3.setTranslateX(-94.0f);\n        suitHeart3.setTranslateY(175.3f);       \n\n        HBox root = new HBox(suitHeart1, suitHeart2, suitHeart3);\n        return root;\n    }\n\n    public HBox Diamond(Stage stage) {\n        Polygon suitDiamond1 = new Polygon();\n        suitDiamond1.getPoints().addAll(new Double[]{\n                90.0, 170.0,\n                230.0, 170.0,\n                160.0, 280.0,\n        });\n\n\n        suitDiamond1.setFill(Color.RED);\n        suitDiamond1.setTranslateX(-94.0f);\n        suitDiamond1.setTranslateY(179.0f);     \n        Polygon suitDiamond2 = new Polygon();\n        suitDiamond2.getPoints().addAll(new Double[]{\n                90.0, 170.0,\n                230.0, 170.0,\n                160.0, 60.0,\n        });\n        suitDiamond2.setFill(Color.RED);\n        suitDiamond2.setTranslateX(-234.0f);\n        suitDiamond2.setTranslateY(70.0f); \n\n        HBox root = new HBox(suitDiamond1, suitDiamond2);\n        root.setScaleX(0.25);\n        root.setScaleY(0.25);\n\n        return root;\n    }\n\n    public static void main(String args[]){ \n        launch(args); \n    } \n}\n</code></pre>\n<p>this is the Card class:</p>\n<pre><code>\n\npackage reusable_classes;\n\nimport javafx.scene.Group;\nimport java.io.FileNotFoundException;\n\nimport javafx.application.Application; \nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Polygon;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.scene.text.TextAlignment;\nimport javafx.stage.Stage;\nimport reusable_classes.Card;\n\npublic class Card {\n    private int value;\n    private String suit;\n    private char rank;\n    private Group imageFront;\n    private Group imageBack;\n\n    public Card()\n    {}\n    public Card(int value, String suit, char rank) {\n        this.setSuit(suit);\n        this.setValue(value);\n        this.setRank(rank);\n    \n    }\n    public void setSuit(String suit) {\n        this.suit = suit;   \n    }\n    public void setValue(int value) {\n        this.value = value;\n    }\n\n    public void setRank(char rank) {\n        this.rank = rank;\n    }\n\n    public String getSuit() {\n        return this.suit;\n    }\n\n    public int getValue() {\n        return this.value;\n    }\n\n    public char getRank() {\n        return this.rank;\n    }\n</code></pre>\n<p>I want to print a second card and add it to the root. How would I do this?\nEx: since Card Card=new Card (10, &quot;Diamond&quot;, 'N' );\nCard Card1 =new Card (2, &quot;Spade&quot;, 'N' );</p>\n<p>I tried to create a duplicate one but since Card1 isnt mentioned in any of the objects, it isnt called meaning nothing happens and it ignores card1.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1568619616,"post_id":57952291,"comment_id":102316875,"body_markdown":"Why not use `Collectors.reducing()` for that?","body":"Why not use <code>Collectors.reducing()</code> for that?"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1568628350,"post_id":57952413,"comment_id":102321127,"body_markdown":"Or just `.reduce(BooleanExpression::or).get()` considering that the original code didn’t support empty lists either.","body":"Or just <code>.reduce(BooleanExpression::or).get()</code> considering that the original code didn’t support empty lists either."}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568619961,"creation_date":1568619961,"answer_id":57952413,"question_id":57952291,"body_markdown":"You can declare a method that returns an ***`identity`** implementation of `BooleanExpression` for the `or` operation* and then simply perform a `reduce` such as:\r\n\r\n    return expresionsForEachStatus.stream()\r\n            .reduce(BooleanExpression.identity(), BooleanExpression::or);","title":"Java Collect Joining Custom Function","body":"<p>You can declare a method that returns an <strong><em><code>identity</code></strong> implementation of <code>BooleanExpression</code> for the <code>or</code> operation</em> and then simply perform a <code>reduce</code> such as:</p>\n\n<pre><code>return expresionsForEachStatus.stream()\n        .reduce(BooleanExpression.identity(), BooleanExpression::or);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1568630892,"post_id":57952539,"comment_id":102322430,"body_markdown":"@Puce I probably don&#39;t get that. `createExpresionByJoiningOf` is not being used with a method reference or a different expression evaluated repeatedly... Can you please elaborate?","body":"@Puce I probably don&#39;t get that. <code>createExpresionByJoiningOf</code> is not being used with a method reference or a different expression evaluated repeatedly... Can you please elaborate?"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1568631263,"post_id":57952539,"comment_id":102322641,"body_markdown":"Hmm, I was in the context of JavaFX where there is a BooleanExpression binding class with an `or` method, but I might be wrong: https://docs.oracle.com/javase/8/javafx/api/javafx/beans/binding/BooleanExpression.html","body":"Hmm, I was in the context of JavaFX where there is a BooleanExpression binding class with an <code>or</code> method, but I might be wrong: <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/beans/binding/BooleanExpression.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/api/javafx/beans/binding/&hellip;</a>"}],"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568620482,"creation_date":1568620482,"answer_id":57952539,"question_id":57952291,"body_markdown":"In addition to the good solution posted by Naman, you can skip the full reduction by using `anyMatch`, as (it seems to me) the logic of `createExpresionByJoiningOf` is to return `true` if any of the expressions is truthy:\r\n\r\n    boolean anyTrue = originalList.stream()\r\n                          .map(statusToBoleanExpresion)\r\n                          .anyMatch(exp -&gt; exp.getValue()); //replace with right getter\r\n\r\nThis avoids the unnecessary iterations that your for-loop (or `reduce`) goes over after a `true` values has been found","title":"Java Collect Joining Custom Function","body":"<p>In addition to the good solution posted by Naman, you can skip the full reduction by using <code>anyMatch</code>, as (it seems to me) the logic of <code>createExpresionByJoiningOf</code> is to return <code>true</code> if any of the expressions is truthy:</p>\n\n<pre><code>boolean anyTrue = originalList.stream()\n                      .map(statusToBoleanExpresion)\n                      .anyMatch(exp -&gt; exp.getValue()); //replace with right getter\n</code></pre>\n\n<p>This avoids the unnecessary iterations that your for-loop (or <code>reduce</code>) goes over after a <code>true</code> values has been found</p>\n"}],"owner":{"account_id":3585117,"reputation":1566,"user_id":2992476,"accept_rate":71,"display_name":"user2992476"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683833019,"creation_date":1568619476,"question_id":57952291,"body_markdown":"I&#39;ve created the following function:\r\n\r\n    private BooleanExpression createExpresionByJoiningOf(List&lt;BooleanExpression&gt; expresionsForEachStatus) {\r\n            BooleanExpression inAnyOfSelectedStatus = expresionsForEachStatus.get(0);\r\n            for (int i = 1; i &lt; expresionsForEachStatus.size(); i++) {\r\n                inAnyOfSelectedStatus = inAnyOfSelectedStatus.or(expresionsForEachStatus.get(i));\r\n            }\r\n            return inAnyOfSelectedStatus;\r\n        }\r\n\r\nThe booleanExpression list that it is being pass to the method have been created by stream function:\r\n\r\n        List&lt;BooleanExpression&gt; expresionsForEachStatus = originalList.stream()\r\n         .map(statusToBoleanExpresion)\r\n         .collect(Collectors.toList());\r\n\r\nMy question is how would you create a custom Collector to join the BooleanExpressions of that list. So, I would have something like this:\r\n\r\n    originalList.stream()\r\n      .map(statusToBoleanExpresion)\r\n      .collect(joinedBooleanExpresion());\r\n","title":"Java Collect Joining Custom Function","body":"<p>I've created the following function:</p>\n<pre><code>private BooleanExpression createExpresionByJoiningOf(List&lt;BooleanExpression&gt; expresionsForEachStatus) {\n        BooleanExpression inAnyOfSelectedStatus = expresionsForEachStatus.get(0);\n        for (int i = 1; i &lt; expresionsForEachStatus.size(); i++) {\n            inAnyOfSelectedStatus = inAnyOfSelectedStatus.or(expresionsForEachStatus.get(i));\n        }\n        return inAnyOfSelectedStatus;\n    }\n</code></pre>\n<p>The booleanExpression list that it is being pass to the method have been created by stream function:</p>\n<pre><code>    List&lt;BooleanExpression&gt; expresionsForEachStatus = originalList.stream()\n     .map(statusToBoleanExpresion)\n     .collect(Collectors.toList());\n</code></pre>\n<p>My question is how would you create a custom Collector to join the BooleanExpressions of that list. So, I would have something like this:</p>\n<pre><code>originalList.stream()\n  .map(statusToBoleanExpresion)\n  .collect(joinedBooleanExpresion());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-profiles"],"answers":[{"comments":[{"owner":{"account_id":12076581,"reputation":469,"user_id":8829807,"display_name":"Tama"},"score":0,"creation_date":1508925428,"post_id":46929203,"comment_id":80805487,"body_markdown":"on the demo seems to work i had tryied something like this and wasn&#39;t working i will give it another try.\n\n`\n@Primary\n@Profile(value = { MigrationProfiles.DEFAULT })\n@Target({ ElementType.TYPE, ElementType.METHOD })\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface PrimaryProfiles {\n    @AliasFor(annotation = Profile.class, attribute = &quot;value&quot;)\n    String[] value();\n}\n`","body":"on the demo seems to work i had tryied something like this and wasn&#39;t working i will give it another try.  ` @Primary @Profile(value = { MigrationProfiles.DEFAULT }) @Target({ ElementType.TYPE, ElementType.METHOD }) @Retention(RetentionPolicy.RUNTIME) @Documented public @interface PrimaryProfiles {     @AliasFor(annotation = Profile.class, attribute = &quot;value&quot;)     String[] value(); } `"},{"owner":{"account_id":12076581,"reputation":469,"user_id":8829807,"display_name":"Tama"},"score":0,"creation_date":1508925999,"post_id":46929203,"comment_id":80805892,"body_markdown":"Fortunately i am stupid, in my scenario with primary i had forgotten to take out @Primary on the default Class. Thanks for bringing me again to this world.","body":"Fortunately i am stupid, in my scenario with primary i had forgotten to take out @Primary on the default Class. Thanks for bringing me again to this world."},{"owner":{"account_id":1908489,"reputation":9264,"user_id":1722882,"accept_rate":100,"display_name":"Plog"},"score":0,"creation_date":1508926044,"post_id":46929203,"comment_id":80805922,"body_markdown":"No problem, glad I could help","body":"No problem, glad I could help"},{"owner":{"account_id":12076581,"reputation":469,"user_id":8829807,"display_name":"Tama"},"score":0,"creation_date":1508926752,"post_id":46929203,"comment_id":80806381,"body_markdown":"OK , it works, my Default was clean, instead my AliasFor annotation was good for nothing, it wont work like this :( i need to put Primary and Profile, cannot aggregate annotations, at least those one...","body":"OK , it works, my Default was clean, instead my AliasFor annotation was good for nothing, it wont work like this :( i need to put Primary and Profile, cannot aggregate annotations, at least those one..."}],"tags":[],"owner":{"account_id":1908489,"reputation":9264,"user_id":1722882,"accept_rate":100,"display_name":"Plog"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1508924961,"creation_date":1508924961,"answer_id":46929203,"question_id":46928962,"body_markdown":"You can mark all your specific Parsers as @Primary this will make sure Spring autowires this one instead of the default one which is not marked as @Primary. When no specific Parsers exist for the chosen profile it will fall back to the non @Primary default component.\r\n\r\nSee: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Primary.html\r\n\r\n    @Component\r\n    public class DefaultParser {\r\n        public void doSomething() {\r\n            System.out.println(&quot;Parse Default&quot;);\r\n        }\r\n    }\r\n&lt;br&gt;\r\n\r\n    @Component\r\n    @Primary\r\n    @Profile(&quot;CH&quot;)\r\n    public class SwissParser extends DefaultParser {\r\n    @Override\r\n    public void doSomething() {\r\n        System.out.println(&quot;&#196;sse &#196;sse&quot;);\r\n    }\r\n\r\n\r\n\r\n","title":"Resolve Bean Injection Programmatically","body":"<p>You can mark all your specific Parsers as @Primary this will make sure Spring autowires this one instead of the default one which is not marked as @Primary. When no specific Parsers exist for the chosen profile it will fall back to the non @Primary default component.</p>\n\n<p>See: <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Primary.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Primary.html</a></p>\n\n<pre><code>@Component\npublic class DefaultParser {\n    public void doSomething() {\n        System.out.println(\"Parse Default\");\n    }\n}\n</code></pre>\n\n<p><br></p>\n\n<pre><code>@Component\n@Primary\n@Profile(\"CH\")\npublic class SwissParser extends DefaultParser {\n@Override\npublic void doSomething() {\n    System.out.println(\"Ässe Ässe\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12076581,"reputation":469,"user_id":8829807,"display_name":"Tama"},"score":0,"creation_date":1509365700,"post_id":46933781,"comment_id":80976236,"body_markdown":"This is an example, and anyway it should fail if you run multiple countries.","body":"This is an example, and anyway it should fail if you run multiple countries."}],"tags":[],"owner":{"account_id":11515754,"reputation":235,"user_id":8439175,"accept_rate":25,"display_name":"Peter Rader"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508938167,"creation_date":1508938167,"answer_id":46933781,"question_id":46928962,"body_markdown":"You can activate multiple profiles, CH and IT and your implementation will fail.\r\n\r\nIt is a internationalization problem.","title":"Resolve Bean Injection Programmatically","body":"<p>You can activate multiple profiles, CH and IT and your implementation will fail.</p>\n\n<p>It is a internationalization problem.</p>\n"}],"owner":{"account_id":12076581,"reputation":469,"user_id":8829807,"display_name":"Tama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46929203,"answer_count":2,"score":1,"last_activity_date":1683832974,"creation_date":1508924249,"question_id":46928962,"body_markdown":"I would like to find a way to elect programmatically a Candidate between different implementation present on the bean factory, at Spring Container Level.\r\n\r\nWith Profiles I can achieve that simply like this\r\n\r\nI Have the following Profiles &quot;CH&quot; and &quot;IT&quot; and I want that if a Bean Profiled with IT is there, then will fallback to default.\r\n\r\nGiven those classes:\r\n\r\nThe Default Implementation\r\n\r\n\r\n    @Component\r\n    public class DefaultMapper {\r\n         public void doSomething() {\r\n            System.out.println(&quot;Map Default&quot;);\r\n        }\r\n    }\r\n \r\nThe Swiss Implementation\r\n\r\n\r\n    @Component\r\n    @Profile(&quot;CH&quot;)\r\n    public class SwissMapper extends DefaultMapper {\r\n\r\n        @Override\r\n\r\n        public void doSomething() {\r\n\r\n            System.out.println(&quot;do something swiss&quot;);\r\n\r\n        }\r\n\r\n    }\r\n\r\nThe Italian Implementation:\r\n\r\n\r\n\r\n    @Component\r\n    @Profile(&quot;IT&quot;)\r\n    public class ItalianMapper extends DefaultMapper {\r\n    @Override\r\n        public void doSomething() {\r\n            System.out.println(&quot;do pasta&quot;);\r\n        }\r\n    }\r\n\r\n\r\nNow if I run it with `    @ActiveProfiles(&quot;IT&quot;)` it throws a NoUniqueBeanDefinitionException, which is fair enough, since the Default is not profiled, and it will be registered without any further attention by the container.\r\n\r\nSome Consideration:\r\n\r\nif I add `    @Profile(&quot;default&quot;)` to `    DefaultMapper`  this will work until I have another default bean has a subclass profiled ONLY with CH. \r\n\r\nDefault Implementation of another Bean:\r\n\r\n\r\n    @Component\r\n    @Profile(&quot;default&quot;)\r\n    public class DefaultParser {\r\n        public void doSomething() {\r\n            System.out.println(&quot;Parse Default&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThen the Swiss implementation (No Italian is available, or better said the default fits for Italian):\r\n\r\n```\r\n@Component\r\n@Profile(&quot;CH&quot;)\r\npublic class SwissParser extends DefaultParser {\r\n    @Override\r\n    public void doSomething() {\r\n        System.out.println(&quot;&#196;sse &#196;sse&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNow if I run it with `    @ActiveProfiles(&quot;IT&quot;)` it throws a No BeanDefinitionException, which is fair enough, but not that fair, since the &quot;default&quot; is not chained as ActiveProfiles and for IT i have no implementation. the CH profile here will work since has a profiled implementation for each default class.\r\n\r\nSaid That\r\nI would like a better way to cover this scenario without:\r\n- Having to define on the Default Classes such `    @Profile({&quot;default&quot;,&quot;IT&quot;, &quot;&lt;all other profiles which have NOT a specialized implementation&quot;}` , or `    @Profile(&quot;!CH&quot;)` where I exclude those profiles which have a specialization.\r\n- `    @Primary` I think is not a solution, because on the `DefaultMapper` I have to Specialization which will be marked as `    @Primary` and the container doesn&#39;t like it at all\r\n\r\nThen\r\nI would like to solve this where I can decide for ALL the injected Classes, when the resolution of the Beans is ambiguous then I would like to programmatically decide (in container) which implementation I would like to pick. I think an Annotation likewise to @Profile, i.E. @Candidate(&quot;CH&quot;) will suit compared to a value set in application.properties in a i.E. nationality.cantidate=CH. Something like:\r\n\r\n\r\n    public class MyExtension extends UnknowSpringType {\r\n        @Override\r\n        Object resolveAmbigousDependency(final Context ctx, final Resolution resolution) {\r\n            final List&lt;Class&gt; clazzes = resolution.getResolvedClasses();\r\n            for (final Class clazz : clazzes) {\r\n                if (clazz.isAnnotationPresent(Candidate.class) &amp;&amp; clazz.getAnnotation(Candidate.class).getVaue().equals(candidateApplicationPropertyValue)) {\r\n                return clazz;\r\n            }\r\n            return getDefaultImplementation(clazzes);\r\n        }\r\n    }\r\n\r\nI&#39;ve done in the past Something similar with CDI SPI extension which is elegant, and also I could cover this in another way with `@Specializes` from CDI, but I cannot find the same easy way on Spring (I don&#39;t have so much experience on it), BeanFactory? [ BeanFactoryPostProcessor][1]? \r\n\r\nHelp?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-extension-factory-postprocessors","title":"Resolve Bean Injection Programmatically","body":"<p>I would like to find a way to elect programmatically a Candidate between different implementation present on the bean factory, at Spring Container Level.</p>\n<p>With Profiles I can achieve that simply like this</p>\n<p>I Have the following Profiles &quot;CH&quot; and &quot;IT&quot; and I want that if a Bean Profiled with IT is there, then will fallback to default.</p>\n<p>Given those classes:</p>\n<p>The Default Implementation</p>\n<pre><code>@Component\npublic class DefaultMapper {\n     public void doSomething() {\n        System.out.println(&quot;Map Default&quot;);\n    }\n}\n</code></pre>\n<p>The Swiss Implementation</p>\n<pre><code>@Component\n@Profile(&quot;CH&quot;)\npublic class SwissMapper extends DefaultMapper {\n\n    @Override\n\n    public void doSomething() {\n\n        System.out.println(&quot;do something swiss&quot;);\n\n    }\n\n}\n</code></pre>\n<p>The Italian Implementation:</p>\n<pre><code>@Component\n@Profile(&quot;IT&quot;)\npublic class ItalianMapper extends DefaultMapper {\n@Override\n    public void doSomething() {\n        System.out.println(&quot;do pasta&quot;);\n    }\n}\n</code></pre>\n<p>Now if I run it with <code>    @ActiveProfiles(&quot;IT&quot;)</code> it throws a NoUniqueBeanDefinitionException, which is fair enough, since the Default is not profiled, and it will be registered without any further attention by the container.</p>\n<p>Some Consideration:</p>\n<p>if I add <code>    @Profile(&quot;default&quot;)</code> to <code>    DefaultMapper</code>  this will work until I have another default bean has a subclass profiled ONLY with CH.</p>\n<p>Default Implementation of another Bean:</p>\n<pre><code>@Component\n@Profile(&quot;default&quot;)\npublic class DefaultParser {\n    public void doSomething() {\n        System.out.println(&quot;Parse Default&quot;);\n    }\n}\n</code></pre>\n<p>Then the Swiss implementation (No Italian is available, or better said the default fits for Italian):</p>\n<pre><code>@Component\n@Profile(&quot;CH&quot;)\npublic class SwissParser extends DefaultParser {\n    @Override\n    public void doSomething() {\n        System.out.println(&quot;Ässe Ässe&quot;);\n    }\n}\n</code></pre>\n<p>Now if I run it with <code>    @ActiveProfiles(&quot;IT&quot;)</code> it throws a No BeanDefinitionException, which is fair enough, but not that fair, since the &quot;default&quot; is not chained as ActiveProfiles and for IT i have no implementation. the CH profile here will work since has a profiled implementation for each default class.</p>\n<p>Said That\nI would like a better way to cover this scenario without:</p>\n<ul>\n<li>Having to define on the Default Classes such <code>    @Profile({&quot;default&quot;,&quot;IT&quot;, &quot;&lt;all other profiles which have NOT a specialized implementation&quot;}</code> , or <code>    @Profile(&quot;!CH&quot;)</code> where I exclude those profiles which have a specialization.</li>\n<li><code>    @Primary</code> I think is not a solution, because on the <code>DefaultMapper</code> I have to Specialization which will be marked as <code>    @Primary</code> and the container doesn't like it at all</li>\n</ul>\n<p>Then\nI would like to solve this where I can decide for ALL the injected Classes, when the resolution of the Beans is ambiguous then I would like to programmatically decide (in container) which implementation I would like to pick. I think an Annotation likewise to @Profile, i.E. @Candidate(&quot;CH&quot;) will suit compared to a value set in application.properties in a i.E. nationality.cantidate=CH. Something like:</p>\n<pre><code>public class MyExtension extends UnknowSpringType {\n    @Override\n    Object resolveAmbigousDependency(final Context ctx, final Resolution resolution) {\n        final List&lt;Class&gt; clazzes = resolution.getResolvedClasses();\n        for (final Class clazz : clazzes) {\n            if (clazz.isAnnotationPresent(Candidate.class) &amp;&amp; clazz.getAnnotation(Candidate.class).getVaue().equals(candidateApplicationPropertyValue)) {\n            return clazz;\n        }\n        return getDefaultImplementation(clazzes);\n    }\n}\n</code></pre>\n<p>I've done in the past Something similar with CDI SPI extension which is elegant, and also I could cover this in another way with <code>@Specializes</code> from CDI, but I cannot find the same easy way on Spring (I don't have so much experience on it), BeanFactory? <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-extension-factory-postprocessors\" rel=\"nofollow noreferrer\"> BeanFactoryPostProcessor</a>?</p>\n<p>Help?</p>\n"},{"tags":["java","client","grpc"],"comments":[{"owner":{"account_id":25649504,"reputation":144,"user_id":19417003,"display_name":"Larry Safran"},"score":0,"creation_date":1685580372,"post_id":76230989,"comment_id":134681504,"body_markdown":"The error message indicates that the ManagedChannelImpl had been garbage collected, so you aren&#39;t using the same instance as you expect.  Have you verified that based upon the allocation site it is the channel you expect that is generating this error?","body":"The error message indicates that the ManagedChannelImpl had been garbage collected, so you aren&#39;t using the same instance as you expect.  Have you verified that based upon the allocation site it is the channel you expect that is generating this error?"}],"owner":{"account_id":18593691,"reputation":79,"user_id":14881293,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683832813,"creation_date":1683832813,"question_id":76230989,"body_markdown":"We get this error while using Google&#39;s `SecretManagerServiceClient`.\r\n\r\n```\r\ni.g.i.ManagedChannelOrphanWrapper *~*~*~ Channel ManagedChannelImpl{logId=1, target=secretmanager.googleapis.com:443} was not shutdown properly!!! ~*~*~*\r\n    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.\r\njava.lang.RuntimeException: ManagedChannel allocation site\r\n```\r\n\r\nThe javadocs say:\r\n\r\n&gt; Note: close() needs to be called on the SecretManagerServiceClient object to clean up resources such as threads. In the example above, try-with-resources is used, which automatically calls close().\r\n\r\nThis makes sense, but this would require each instance of each service to create and destroy a client for each request for a secret. We have lots of secrets so it makes sense to only create one client and use dependency injection to use it whenever it&#39;s needed. Is there a better solution here, or do I need to just do what the docs say and not worry about performance/network costs of creating/destroying countless GRPC clients?\r\n\r\nI have looked at these answers which say to close/shutdown the client when you&#39;re done using it. Mostly the same as the javadocs.\r\n\r\nhttps://stackoverflow.com/questions/57481760/channel-managedchannelimpl-was-not-shut-down-properly","title":"How to prevent ManagedChannelImpl error without using try-with-resources?","body":"<p>We get this error while using Google's <code>SecretManagerServiceClient</code>.</p>\n<pre><code>i.g.i.ManagedChannelOrphanWrapper *~*~*~ Channel ManagedChannelImpl{logId=1, target=secretmanager.googleapis.com:443} was not shutdown properly!!! ~*~*~*\n    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.\njava.lang.RuntimeException: ManagedChannel allocation site\n</code></pre>\n<p>The javadocs say:</p>\n<blockquote>\n<p>Note: close() needs to be called on the SecretManagerServiceClient object to clean up resources such as threads. In the example above, try-with-resources is used, which automatically calls close().</p>\n</blockquote>\n<p>This makes sense, but this would require each instance of each service to create and destroy a client for each request for a secret. We have lots of secrets so it makes sense to only create one client and use dependency injection to use it whenever it's needed. Is there a better solution here, or do I need to just do what the docs say and not worry about performance/network costs of creating/destroying countless GRPC clients?</p>\n<p>I have looked at these answers which say to close/shutdown the client when you're done using it. Mostly the same as the javadocs.</p>\n<p><a href=\"https://stackoverflow.com/questions/57481760/channel-managedchannelimpl-was-not-shut-down-properly\">Channel ManagedChannelImpl was not shut down properly</a></p>\n"},{"tags":["java","rest","integration-testing","code-coverage","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1678437083,"post_id":75693193,"comment_id":133535629,"body_markdown":"Do you have any unit tests running?","body":"Do you have any unit tests running?"},{"owner":{"account_id":6403970,"reputation":5,"user_id":4965813,"display_name":"Sudip Mitra"},"score":0,"creation_date":1678684635,"post_id":75693193,"comment_id":133574668,"body_markdown":"Yes. My unit test coverage is perfectly generated.","body":"Yes. My unit test coverage is perfectly generated."}],"answers":[{"tags":[],"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683832363,"creation_date":1683832363,"answer_id":76230940,"question_id":75693193,"body_markdown":"I don&#39;t know if you&#39;ve solved it or not. Sorry for not posting earlier.\r\n\r\nIt seems like you some misconfigurations in the plugin settings.\r\n\r\nThe steps should be:\r\n1. Prepare agent for unit tests\r\n2. Report the unit tests coverage in the `test` phase\r\n3. Prepare agent for integration tests in the `pre-integration-test` phase\r\n4. Report the integration tests coverage in the `post-integration-test` phase\r\n5. Merge the two reports in the `post-integration-test` phase\r\n6. Report the merged report from step no. 5 in the `post-integration-test` phase\r\n7. Run a coverage check against the reported merged report from step 6 in the `verify` phase\r\n\r\nSo, all in all, it should look something like this:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${jacoco-maven-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;!-- Prepare the agent for the Unit Tests --&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;pre-unit-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\r\n                &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;!-- Generate the report for the Unit Tests --&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;post-unit-test&lt;/id&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\r\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;!-- Prepare the agent for the Integration Tests --&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/destFile&gt;\r\n                &lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;!-- Generate the report for the Integration Test --&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;post-integration-test&lt;/id&gt;\r\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report-integration&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;!-- excluding everything except controller class --&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/common/*.class&lt;/exclude&gt;\r\n                    &lt;exclude&gt;**/config/*.class&lt;/exclude&gt;\r\n                    &lt;exclude&gt;**/domain/*.class&lt;/exclude&gt;\r\n                    &lt;exclude&gt;**/exception/*.class&lt;/exclude&gt;\r\n                    &lt;exclude&gt;**/mapper/*.class&lt;/exclude&gt;\r\n                    &lt;exclude&gt;**/service/*.class&lt;/exclude&gt;\r\n                    &lt;exclude&gt;**/simulator/Main.class&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n                &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/dataFile&gt;\r\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-it&lt;/outputDirectory&gt;\r\n                &lt;sourceEncoding&gt;${project.build.sourceEncoding}&lt;/sourceEncoding&gt;\r\n                &lt;classFilesDIrectory&gt;${project.build.directory}/classes&lt;/classFilesDIrectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n        \r\n        &lt;!-- Merge Unit Tests and Integration Tests reports --&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;merge-unit-and-integration&lt;/id&gt;\r\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;merge&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;fileSets&gt;\r\n                    &lt;fileSet&gt;\r\n                        &lt;directory&gt;${project.build.directory}/coverage-reports&lt;/directory&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;*.exec&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                    &lt;/fileSet&gt;\r\n                &lt;/fileSets&gt;\r\n                &lt;destFile&gt;${project.build.directory}/coverage-reports/merged.exec&lt;/destFile&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;!-- Report the merged report --&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report-merged-report&lt;/id&gt;\r\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;dataFile&gt;${project.build.directory}/coverage-reports/merged.exec&lt;/dataFile&gt;\r\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-merged&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;!-- Check the coverage --&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;check&lt;/id&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;check&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;rules&gt;\r\n                    &lt;rule&gt;\r\n                        &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                        &lt;!-- Make sure you exclude your tests from coverage --&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;*Test&lt;/exclude&gt;\r\n                            &lt;exclude&gt;*IT&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                        &lt;limits&gt;\r\n                            &lt;limit&gt;\r\n                                &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n                                &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                &lt;!-- This will probably fail your build :) --&gt;\r\n                                &lt;minimum&gt;100&lt;/minimum&gt;\r\n                            &lt;/limit&gt;\r\n                        &lt;/limits&gt;\r\n                    &lt;/rule&gt;\r\n                &lt;/rules&gt;\r\n                &lt;dataFile&gt;${project.build.directory}/coverage-reports/merged.exec&lt;/dataFile&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\n\r\n```","title":"How to get code coverage of Rest Assured testcases for my rest endpoints developed in Spring boot?","body":"<p>I don't know if you've solved it or not. Sorry for not posting earlier.</p>\n<p>It seems like you some misconfigurations in the plugin settings.</p>\n<p>The steps should be:</p>\n<ol>\n<li>Prepare agent for unit tests</li>\n<li>Report the unit tests coverage in the <code>test</code> phase</li>\n<li>Prepare agent for integration tests in the <code>pre-integration-test</code> phase</li>\n<li>Report the integration tests coverage in the <code>post-integration-test</code> phase</li>\n<li>Merge the two reports in the <code>post-integration-test</code> phase</li>\n<li>Report the merged report from step no. 5 in the <code>post-integration-test</code> phase</li>\n<li>Run a coverage check against the reported merged report from step 6 in the <code>verify</code> phase</li>\n</ol>\n<p>So, all in all, it should look something like this:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${jacoco-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;!-- Prepare the agent for the Unit Tests --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pre-unit-test&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\n                &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;!-- Generate the report for the Unit Tests --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;post-unit-test&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;!-- Prepare the agent for the Integration Tests --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pre-integration-test&lt;/id&gt;\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/destFile&gt;\n                &lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;!-- Generate the report for the Integration Test --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;post-integration-test&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-integration&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;!-- excluding everything except controller class --&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/common/*.class&lt;/exclude&gt;\n                    &lt;exclude&gt;**/config/*.class&lt;/exclude&gt;\n                    &lt;exclude&gt;**/domain/*.class&lt;/exclude&gt;\n                    &lt;exclude&gt;**/exception/*.class&lt;/exclude&gt;\n                    &lt;exclude&gt;**/mapper/*.class&lt;/exclude&gt;\n                    &lt;exclude&gt;**/service/*.class&lt;/exclude&gt;\n                    &lt;exclude&gt;**/simulator/Main.class&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/dataFile&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-it&lt;/outputDirectory&gt;\n                &lt;sourceEncoding&gt;${project.build.sourceEncoding}&lt;/sourceEncoding&gt;\n                &lt;classFilesDIrectory&gt;${project.build.directory}/classes&lt;/classFilesDIrectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        \n        &lt;!-- Merge Unit Tests and Integration Tests reports --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;merge-unit-and-integration&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;merge&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;fileSets&gt;\n                    &lt;fileSet&gt;\n                        &lt;directory&gt;${project.build.directory}/coverage-reports&lt;/directory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;*.exec&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/fileSet&gt;\n                &lt;/fileSets&gt;\n                &lt;destFile&gt;${project.build.directory}/coverage-reports/merged.exec&lt;/destFile&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;!-- Report the merged report --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-merged-report&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFile&gt;${project.build.directory}/coverage-reports/merged.exec&lt;/dataFile&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-merged&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;!-- Check the coverage --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;check&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;rules&gt;\n                    &lt;rule&gt;\n                        &lt;element&gt;BUNDLE&lt;/element&gt;\n                        &lt;!-- Make sure you exclude your tests from coverage --&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;*Test&lt;/exclude&gt;\n                            &lt;exclude&gt;*IT&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;limits&gt;\n                            &lt;limit&gt;\n                                &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                                &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                &lt;!-- This will probably fail your build :) --&gt;\n                                &lt;minimum&gt;100&lt;/minimum&gt;\n                            &lt;/limit&gt;\n                        &lt;/limits&gt;\n                    &lt;/rule&gt;\n                &lt;/rules&gt;\n                &lt;dataFile&gt;${project.build.directory}/coverage-reports/merged.exec&lt;/dataFile&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n\n</code></pre>\n"}],"owner":{"account_id":6403970,"reputation":5,"user_id":4965813,"display_name":"Sudip Mitra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683832363,"creation_date":1678432479,"question_id":75693193,"body_markdown":"I am trying to generate jacoco code coverage report for my restassured testcases pointing to the rest end points. I am using springboot application. \r\nMy controller class looks like :\r\n\r\n\r\n```\r\n@RestController\r\npublic class ChallengeController {\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(ChallengeController.class);\r\n\t@Autowired\r\n\tprivate ChallengeService challengeService;\r\n\r\n\r\n\tpublic ChallengeController(ChallengeService challengeService) {\r\n\t\tthis.challengeService = challengeService;\r\n\t}\r\n\r\n\t\r\n\r\n\r\n\t@GetMapping(path = &quot;/hello&quot;,\r\n\t\t\tproduces = MediaType.TEXT_PLAIN_VALUE)\r\n\t@ResponseBody\r\n\tpublic String hello() {\r\n\t\treturn &quot;hello&quot;;\r\n\t}\r\n\t@GetMapping(path = &quot;/hello/greeting/{name}&quot;,\r\n\t\t\tproduces = MediaType.TEXT_PLAIN_VALUE)\r\n\t@ResponseBody\r\n\tpublic String greeting(@PathVariable(value = &quot;name&quot;) String name) {\r\n\t\treturn challengeService.greeting(name);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy service class looks like \r\n\r\n\r\n\r\n\r\n```\r\n@Service\r\n@Component\r\npublic class ChallengeService {\r\n\r\n\t\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(ChallengeService.class);\r\n\r\n\r\n\r\n\tpublic ChallengeService() {\r\n\r\n\t}\r\n\r\n\r\n\tpublic String greeting(String name) {\r\n\t\treturn &quot;hello &quot; + name;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nMy POM looks like\r\n\r\n       \r\n```\r\n  &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/ResilienceTests.java&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/CucumberTest.java&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/DummyChallengeTest.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jacoco-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;pre-unit-test&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\r\n                            &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;post-unit-test&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\r\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/destFile&gt;\r\n                            &lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report-integration&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;!-- excluding everything except controller class --&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/common/*.class&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/config/*.class&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/domain/*.class&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/exception/*.class&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/mapper/*.class&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/service/*.class&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/simulator/Main.class&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/dataFile&gt;\r\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-it&lt;/outputDirectory&gt;\r\n                            &lt;sourceEncoding&gt;${project.build.sourceEncoding}&lt;/sourceEncoding&gt;\r\n                            &lt;classFilesDIrectory&gt;${project.build.directory}/classes&lt;/classFilesDIrectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- merging jacoco reports--&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report-aggregate&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;merge-results&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;merge&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;fileSets&gt;\r\n                                &lt;fileSet&gt;\r\n                                    &lt;directory&gt;${project.build.directory}/coverage-reports/&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;*.exec&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                &lt;/fileSet&gt;\r\n                            &lt;/fileSets&gt;\r\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/aggregate.exec&lt;/destFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;post-merge-report&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/aggregate.exec&lt;/dataFile&gt;\r\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\t &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-failsafe-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;integration-tests&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;argLine&gt;${failsafeArgLine}&lt;/argLine&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/*CucumberTest.java&lt;/include&gt;\r\n                                &lt;include&gt;**/*DummyChallengeTest.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n                            &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                            &lt;!-- When running as a Maven plugin, the JaCoCo agent configuration is prepared by invoking the prepare-agent\r\n                            or prepare-agent-integration goals, before the actual tests are run. This sets a property named argLine which\r\n                            points to the JaCoCo agent, later passed as a JVM argument to the test runner --&gt;\r\n\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\nMy test class looks like \r\n\r\n```\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n\r\npublic class DummyChallengeTest extends AbstractSteps {\r\n\r\n\r\n\r\n    @Test\r\n    public void testHelloEndpoint() {        \r\n        RestAssured.baseURI = &quot;http://localhost:8082&quot;;\r\n        RestAssured.basePath =&quot;/hello&quot;;\r\n        Response res = given()\r\n                .when().get()\r\n                .then().log().all()\r\n                .extract().response();\r\n        Assert.assertEquals(&quot;hello&quot;, res.getBody().asString());\r\n    }\r\n\r\n    @Test\r\n    public void testGreetingEndpoint() {\r\n        String uuid = UUID.randomUUID().toString();\r\n\t\t//getServiceUrl() returning me the application base url\r\n        String requestUrl = getServiceUrl() + &quot;/hello/greeting/{name}&quot;;\r\n                given()\r\n                .pathParam(&quot;name&quot;, uuid)\r\n                .when().get(requestUrl)\r\n                .then().log().all()\r\n                .statusCode(200)\r\n                .body(is(&quot;hello &quot; + uuid)).log().all().extract();\r\n    }\r\n}\r\n```\r\n\r\n\r\nInside target/site/jacoco-it/jacoco-sessions.html I can locate my controller and service java files.\r\n\r\nI am getting partial coverage on my controller file only these line \r\n``` private static final Logger LOGGER = LoggerFactory.getLogger(ChallengeController.class);\r\n\r\n   @Autowired\r\n    private ChallengeService challengeService;\r\n\r\n\r\n    public ChallengeController(ChallengeService challengeService) {\r\n        this.challengeService = challengeService;\r\n    }\r\n```\r\n\r\nHowever I am not getting any coverage on the end points, specifically on these lines \r\n```\r\n@GetMapping(path = &quot;/hello&quot;,\r\n\t\t\tproduces = MediaType.TEXT_PLAIN_VALUE)\r\n\t@ResponseBody\r\n\tpublic String hello() {\r\n\t\treturn &quot;hello&quot;;\r\n\t}\r\n\t@GetMapping(path = &quot;/hello/greeting/{name}&quot;,\r\n\t\t\tproduces = MediaType.TEXT_PLAIN_VALUE)\r\n\t@ResponseBody\r\n\tpublic String greeting(@PathVariable(value = &quot;name&quot;) String name) {\r\n\t\treturn challengeService.greeting(name);\r\n    }\r\n```\r\n\r\nNote : 1. My restassured testcases runs fine and all are passing. \r\n       2. When I am using Quarkus application, and Quarkus Test, then this same jacoco implementation giving me full coverage for end points.\r\n       3. I am getting full coverage for my Unit testcases.\r\n\r\nWhen I am using Quarkus application, and Quarkus Test, then this same jacoco implementation giving me full coverage for end points.\r\n\r\nI have seen some people are saying to run your application and test from same jvm. I am not sure how to do this correctly. Also if this solution is possible to implement in jenkins pipeline.\r\n\r\nI have not tried Arquillian yet.","title":"How to get code coverage of Rest Assured testcases for my rest endpoints developed in Spring boot?","body":"<p>I am trying to generate jacoco code coverage report for my restassured testcases pointing to the rest end points. I am using springboot application.\nMy controller class looks like :</p>\n<pre><code>@RestController\npublic class ChallengeController {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(ChallengeController.class);\n    @Autowired\n    private ChallengeService challengeService;\n\n\n    public ChallengeController(ChallengeService challengeService) {\n        this.challengeService = challengeService;\n    }\n\n    \n\n\n    @GetMapping(path = &quot;/hello&quot;,\n            produces = MediaType.TEXT_PLAIN_VALUE)\n    @ResponseBody\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n    @GetMapping(path = &quot;/hello/greeting/{name}&quot;,\n            produces = MediaType.TEXT_PLAIN_VALUE)\n    @ResponseBody\n    public String greeting(@PathVariable(value = &quot;name&quot;) String name) {\n        return challengeService.greeting(name);\n    }\n\n}\n</code></pre>\n<p>My service class looks like</p>\n<pre><code>@Service\n@Component\npublic class ChallengeService {\n\n    \n    private static final Logger LOGGER = LoggerFactory.getLogger(ChallengeService.class);\n\n\n\n    public ChallengeService() {\n\n    }\n\n\n    public String greeting(String name) {\n        return &quot;hello &quot; + name;\n    }\n}\n</code></pre>\n<p>My POM looks like</p>\n<pre><code>  &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/ResilienceTests.java&lt;/exclude&gt;\n                        &lt;exclude&gt;**/CucumberTest.java&lt;/exclude&gt;\n                        &lt;exclude&gt;**/DummyChallengeTest.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jacoco-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-unit-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\n                            &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-unit-test&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/destFile&gt;\n                            &lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report-integration&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                        &lt;!-- excluding everything except controller class --&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/common/*.class&lt;/exclude&gt;\n                                &lt;exclude&gt;**/config/*.class&lt;/exclude&gt;\n                                &lt;exclude&gt;**/domain/*.class&lt;/exclude&gt;\n                                &lt;exclude&gt;**/exception/*.class&lt;/exclude&gt;\n                                &lt;exclude&gt;**/mapper/*.class&lt;/exclude&gt;\n                                &lt;exclude&gt;**/service/*.class&lt;/exclude&gt;\n                                &lt;exclude&gt;**/simulator/Main.class&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/dataFile&gt;\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-it&lt;/outputDirectory&gt;\n                            &lt;sourceEncoding&gt;${project.build.sourceEncoding}&lt;/sourceEncoding&gt;\n                            &lt;classFilesDIrectory&gt;${project.build.directory}/classes&lt;/classFilesDIrectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- merging jacoco reports--&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report-aggregate&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;merge-results&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;merge&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;fileSets&gt;\n                                &lt;fileSet&gt;\n                                    &lt;directory&gt;${project.build.directory}/coverage-reports/&lt;/directory&gt;\n                                    &lt;includes&gt;\n                                        &lt;include&gt;*.exec&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                &lt;/fileSet&gt;\n                            &lt;/fileSets&gt;\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/aggregate.exec&lt;/destFile&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-merge-report&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/aggregate.exec&lt;/dataFile&gt;\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n     &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-failsafe-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;integration-tests&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;argLine&gt;${failsafeArgLine}&lt;/argLine&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*CucumberTest.java&lt;/include&gt;\n                                &lt;include&gt;**/*DummyChallengeTest.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;forkCount&gt;1&lt;/forkCount&gt;\n                            &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                            &lt;!-- When running as a Maven plugin, the JaCoCo agent configuration is prepared by invoking the prepare-agent\n                            or prepare-agent-integration goals, before the actual tests are run. This sets a property named argLine which\n                            points to the JaCoCo agent, later passed as a JVM argument to the test runner --&gt;\n\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>My test class looks like</p>\n<pre><code>\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n\npublic class DummyChallengeTest extends AbstractSteps {\n\n\n\n    @Test\n    public void testHelloEndpoint() {        \n        RestAssured.baseURI = &quot;http://localhost:8082&quot;;\n        RestAssured.basePath =&quot;/hello&quot;;\n        Response res = given()\n                .when().get()\n                .then().log().all()\n                .extract().response();\n        Assert.assertEquals(&quot;hello&quot;, res.getBody().asString());\n    }\n\n    @Test\n    public void testGreetingEndpoint() {\n        String uuid = UUID.randomUUID().toString();\n        //getServiceUrl() returning me the application base url\n        String requestUrl = getServiceUrl() + &quot;/hello/greeting/{name}&quot;;\n                given()\n                .pathParam(&quot;name&quot;, uuid)\n                .when().get(requestUrl)\n                .then().log().all()\n                .statusCode(200)\n                .body(is(&quot;hello &quot; + uuid)).log().all().extract();\n    }\n}\n</code></pre>\n<p>Inside target/site/jacoco-it/jacoco-sessions.html I can locate my controller and service java files.</p>\n<p>I am getting partial coverage on my controller file only these line</p>\n<pre><code>\n   @Autowired\n    private ChallengeService challengeService;\n\n\n    public ChallengeController(ChallengeService challengeService) {\n        this.challengeService = challengeService;\n    }\n</code></pre>\n<p>However I am not getting any coverage on the end points, specifically on these lines</p>\n<pre><code>@GetMapping(path = &quot;/hello&quot;,\n            produces = MediaType.TEXT_PLAIN_VALUE)\n    @ResponseBody\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n    @GetMapping(path = &quot;/hello/greeting/{name}&quot;,\n            produces = MediaType.TEXT_PLAIN_VALUE)\n    @ResponseBody\n    public String greeting(@PathVariable(value = &quot;name&quot;) String name) {\n        return challengeService.greeting(name);\n    }\n</code></pre>\n<p>Note : 1. My restassured testcases runs fine and all are passing.\n2. When I am using Quarkus application, and Quarkus Test, then this same jacoco implementation giving me full coverage for end points.\n3. I am getting full coverage for my Unit testcases.</p>\n<p>When I am using Quarkus application, and Quarkus Test, then this same jacoco implementation giving me full coverage for end points.</p>\n<p>I have seen some people are saying to run your application and test from same jvm. I am not sure how to do this correctly. Also if this solution is possible to implement in jenkins pipeline.</p>\n<p>I have not tried Arquillian yet.</p>\n"},{"tags":["java","spring","spring-boot","tomcat","nic"],"comments":[{"owner":{"account_id":12452913,"reputation":26,"user_id":10263562,"display_name":"Ruslan Macari"},"score":0,"creation_date":1614066110,"post_id":66325765,"comment_id":117263705,"body_markdown":"maybe this answer to a similar question should help you: https://stackoverflow.com/a/18007598/10263562","body":"maybe this answer to a similar question should help you: <a href=\"https://stackoverflow.com/a/18007598/10263562\">stackoverflow.com/a/18007598/10263562</a>"},{"owner":{"account_id":14157780,"reputation":660,"user_id":10227917,"display_name":"Callanbr"},"score":0,"creation_date":1661967306,"post_id":66325765,"comment_id":129899562,"body_markdown":"Thanks for this, but the problem came from a network interface controller getting in the way.","body":"Thanks for this, but the problem came from a network interface controller getting in the way."}],"answers":[{"comments":[{"owner":{"account_id":15586264,"reputation":598,"user_id":11244704,"display_name":"JBD"},"score":0,"creation_date":1653901936,"post_id":67050595,"comment_id":127956164,"body_markdown":"Hello, do you have the name of it or the service related to it?","body":"Hello, do you have the name of it or the service related to it?"},{"owner":{"account_id":14157780,"reputation":660,"user_id":10227917,"display_name":"Callanbr"},"score":0,"creation_date":1661967480,"post_id":67050595,"comment_id":129899615,"body_markdown":"This was a network interface Carr driver for an installed card. It will be different depending on card and driver installed - You can look at your drivers by looking at the Device Manager on windows.","body":"This was a network interface Carr driver for an installed card. It will be different depending on card and driver installed - You can look at your drivers by looking at the Device Manager on windows."},{"owner":{"account_id":19832645,"reputation":233,"user_id":14526839,"display_name":"Sahan"},"score":0,"creation_date":1683143268,"post_id":67050595,"comment_id":134322877,"body_markdown":"@Callanbr My app also tell that the port is already in use but when I run  netstat -ano | findstr :[port] there&#39;s nothing run on that port. So this also must be the issue you&#39;ve mentioned above right?","body":"@Callanbr My app also tell that the port is already in use but when I run  netstat -ano | findstr :[port] there&#39;s nothing run on that port. So this also must be the issue you&#39;ve mentioned above right?"}],"tags":[],"owner":{"account_id":14157780,"reputation":660,"user_id":10227917,"display_name":"Callanbr"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1661967862,"creation_date":1618178617,"answer_id":67050595,"question_id":66325765,"body_markdown":"There was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected. \r\n\r\n\r\nEdit:\r\n\r\nA similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.","title":"Failed to start bean &#39;webServerStartStop&#39;; Unable to start embedded Tomcat server - spring-boot-starter-web","body":"<p>There was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected.</p>\n<p>Edit:</p>\n<p>A similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.</p>\n"},{"tags":[],"owner":{"account_id":9528953,"reputation":91,"user_id":7081333,"display_name":"riaz7se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639727002,"creation_date":1639727002,"answer_id":70389867,"question_id":66325765,"body_markdown":"It got fixed for me after changing server.port to 8080 from 80.","title":"Failed to start bean &#39;webServerStartStop&#39;; Unable to start embedded Tomcat server - spring-boot-starter-web","body":"<p>It got fixed for me after changing server.port to 8080 from 80.</p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644547608,"creation_date":1644352099,"answer_id":71040465,"question_id":66325765,"body_markdown":"Disable the ```Gamingservices``` service or go to the task manager and end the task of gamingservices and run again the application. or restart the computer.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CB3qd.png\r\n  [2]: https://i.stack.imgur.com/w8xAm.png","title":"Failed to start bean &#39;webServerStartStop&#39;; Unable to start embedded Tomcat server - spring-boot-starter-web","body":"<p>Disable the <code>Gamingservices</code> service or go to the task manager and end the task of gamingservices and run again the application. or restart the computer.</p>\n<p><a href=\"https://i.stack.imgur.com/CB3qd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CB3qd.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/w8xAm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w8xAm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16320595,"reputation":129,"user_id":11786490,"display_name":"teranshil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657885917,"creation_date":1657885917,"answer_id":72993555,"question_id":66325765,"body_markdown":"I was trying to run spring boot on my local network and that error occurred.\r\nThe problem was a **wrongly specified IP address property** inside my application-dev.yml file.\r\n\r\n    server:\r\n      address: 192.168.0.107 // it needed to be 192.168.0.104\r\n      port: 8080\r\n\r\n**You can always check your IPv4 Address** by running **`ipconfig`**. ","title":"Failed to start bean &#39;webServerStartStop&#39;; Unable to start embedded Tomcat server - spring-boot-starter-web","body":"<p>I was trying to run spring boot on my local network and that error occurred.\nThe problem was a <strong>wrongly specified IP address property</strong> inside my application-dev.yml file.</p>\n<pre><code>server:\n  address: 192.168.0.107 // it needed to be 192.168.0.104\n  port: 8080\n</code></pre>\n<p><strong>You can always check your IPv4 Address</strong> by running <strong><code>ipconfig</code></strong>.</p>\n"},{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683831980,"creation_date":1683831980,"answer_id":76230894,"question_id":66325765,"body_markdown":"This error occurs when the port on which you are trying to start your TomCat server is already busy.\r\nAmong the above options described by other people, I also want to note that it may be that you have started your server from:\r\n1) Another copy of idea\r\n2) Or launched it from an artifact, it started up quietly and you didn&#39;t understand it)\r\n\r\nAnd this copy of the server running on the same port prevents the current server from starting. I&#39;ve had similar stupid mistakes with both options.","title":"Failed to start bean &#39;webServerStartStop&#39;; Unable to start embedded Tomcat server - spring-boot-starter-web","body":"<p>This error occurs when the port on which you are trying to start your TomCat server is already busy.\nAmong the above options described by other people, I also want to note that it may be that you have started your server from:</p>\n<ol>\n<li>Another copy of idea</li>\n<li>Or launched it from an artifact, it started up quietly and you didn't understand it)</li>\n</ol>\n<p>And this copy of the server running on the same port prevents the current server from starting. I've had similar stupid mistakes with both options.</p>\n"}],"owner":{"account_id":14157780,"reputation":660,"user_id":10227917,"display_name":"Callanbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35627,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":67050595,"answer_count":5,"score":11,"last_activity_date":1683831980,"creation_date":1614043592,"question_id":66325765,"body_markdown":"Spring application using Maven including only Spring Web dependency gives &quot;Unable to start embedded Tomcat serve&quot; error. \r\n\r\nThe same project runs on other computers like expected.\r\n\r\n\r\nSpring Boot Version: 2.4.3 &lt;br/&gt;\r\nPackage Type: JAR &lt;br/&gt;\r\nJava Version: 11\r\n\r\n\r\nNo additional code added from the starter project except to print to the console for testing. \r\n\r\n- Application runs and prints to the console like expected when tomcat is excluded int the pom.xml. \r\n- Tested multiple ports.\r\n- Tested JDK 8 and 11.\r\n\r\n\r\npom.xml dependancies:\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nLog:\r\n\r\n```\r\n2021-02-22 16:17:28.896  INFO 34556 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 11.0.10 on Soul with PID 34556 (C:\\Users\\ryne0\\Desktop\\FullStackWeb\\Spring\\demo\\target\\classes started by ryne0 in C:\\Users\\ryne0\\Desktop\\FullStackWeb\\Spring\\demo)\r\n2021-02-22 16:17:28.900  INFO 34556 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\r\n2021-02-22 16:17:28.902 DEBUG 34556 --- [           main] o.s.boot.SpringApplication               : Loading source class com.example.demo.DemoApplication\r\n2021-02-22 16:17:28.995 DEBUG 34556 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@457c9034\r\n2021-02-22 16:17:30.317 DEBUG 34556 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: C:\\Users\\ryne0\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.4.3\\spring-boot-2.4.3.jar\r\n2021-02-22 16:17:30.318 DEBUG 34556 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: C:\\Users\\ryne0\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.4.3\\spring-boot-2.4.3.jar\r\n2021-02-22 16:17:30.318 DEBUG 34556 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.\r\n2021-02-22 16:17:30.353  INFO 34556 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 81 (http)\r\n2021-02-22 16:17:30.374  INFO 34556 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-02-22 16:17:30.387  INFO 34556 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.43]\r\n2021-02-22 16:17:30.507  INFO 34556 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-02-22 16:17:30.507 DEBUG 34556 --- [           main] w.s.c.ServletWebServerApplicationContext : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]\r\n2021-02-22 16:17:30.508  INFO 34556 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1513 ms\r\n2021-02-22 16:17:30.535 DEBUG 34556 --- [           main] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105\r\n2021-02-22 16:17:30.547 DEBUG 34556 --- [           main] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]\r\n2021-02-22 16:17:30.599 DEBUG 34556 --- [           main] o.s.b.w.s.f.OrderedRequestContextFilter  : Filter &#39;requestContextFilter&#39; configured for use\r\n2021-02-22 16:17:30.600 DEBUG 34556 --- [           main] s.b.w.s.f.OrderedCharacterEncodingFilter : Filter &#39;characterEncodingFilter&#39; configured for use\r\n2021-02-22 16:17:30.600 DEBUG 34556 --- [           main] o.s.b.w.s.f.OrderedFormContentFilter     : Filter &#39;formContentFilter&#39; configured for use\r\n2021-02-22 16:17:30.817  INFO 34556 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n2021-02-22 16:17:30.828 DEBUG 34556 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\r\n2021-02-22 16:17:30.949 DEBUG 34556 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in &#39;requestMappingHandlerMapping&#39;\r\n2021-02-22 16:17:30.991 DEBUG 34556 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in &#39;resourceHandlerMapping&#39;\r\n2021-02-22 16:17:31.003 DEBUG 34556 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\r\n2021-02-22 16:17:31.104  WARN 34556 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n2021-02-22 16:17:31.110  INFO 34556 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n2021-02-22 16:17:31.122  INFO 34556 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2021-02-22 16:17:31.197 DEBUG 34556 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\n\r\n\r\n2021-02-22 16:17:32.117 ERROR 34556 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.4.jar:5.3.4]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.4.jar:5.3.4]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.4.jar:5.3.4]\r\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.4.jar:5.3.4]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.4.jar:5.3.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:934) ~[spring-context-5.3.4.jar:5.3.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:585) ~[spring-context-5.3.4.jar:5.3.4]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.4.jar:5.3.4]\r\n        ... 15 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:244) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.4.3.jar:2.4.3]\r\n        ... 17 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1074) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:240) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        ... 19 common frames omitted\r\nCaused by: java.io.IOException: Unable to establish loopback connection\r\n        at java.base/sun.nio.ch.PipeImpl$Initializer.run(PipeImpl.java:94) ~[na:na]\r\n        at java.base/sun.nio.ch.PipeImpl$Initializer.run(PipeImpl.java:61) ~[na:na]\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[na:na]\r\n        at java.base/sun.nio.ch.PipeImpl.&lt;init&gt;(PipeImpl.java:171) ~[na:na]\r\n        at java.base/sun.nio.ch.SelectorProviderImpl.openPipe(SelectorProviderImpl.java:50) ~[na:na]\r\n        at java.base/java.nio.channels.Pipe.open(Pipe.java:155) ~[na:na]\r\n        at java.base/sun.nio.ch.WindowsSelectorImpl.&lt;init&gt;(WindowsSelectorImpl.java:142) ~[na:na]\r\n        at java.base/sun.nio.ch.WindowsSelectorProvider.openSelector(WindowsSelectorProvider.java:44) ~[na:na]\r\n        at java.base/java.nio.channels.Selector.open(Selector.java:295) ~[na:na]\r\n        at org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector(NioSelectorPool.java:52) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        at org.apache.tomcat.util.net.NioSelectorPool.close(NioSelectorPool.java:119) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:386) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1198) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1279) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:608) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1071) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n        ... 21 common frames omitted\r\nCaused by: java.net.BindException: Cannot assign requested address: connect\r\n        at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\r\n        at java.base/sun.nio.ch.Net.connect(Net.java:476) ~[na:na]\r\n        at java.base/sun.nio.ch.Net.connect(Net.java:468) ~[na:na]\r\n        at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:694) ~[na:na]\r\n        at java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194) ~[na:na]\r\n        at java.base/sun.nio.ch.PipeImpl$Initializer$LoopbackConnector.run(PipeImpl.java:127) ~[na:na]\r\n        at java.base/sun.nio.ch.PipeImpl$Initializer.run(PipeImpl.java:76) ~[na:na]\r\n        ... 36 common frames omitted\r\n```\r\n\r\n","title":"Failed to start bean &#39;webServerStartStop&#39;; Unable to start embedded Tomcat server - spring-boot-starter-web","body":"<p>Spring application using Maven including only Spring Web dependency gives &quot;Unable to start embedded Tomcat serve&quot; error.</p>\n<p>The same project runs on other computers like expected.</p>\n<p>Spring Boot Version: 2.4.3 <br/>\nPackage Type: JAR <br/>\nJava Version: 11</p>\n<p>No additional code added from the starter project except to print to the console for testing.</p>\n<ul>\n<li>Application runs and prints to the console like expected when tomcat is excluded int the pom.xml.</li>\n<li>Tested multiple ports.</li>\n<li>Tested JDK 8 and 11.</li>\n</ul>\n<p>pom.xml dependancies:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Log:</p>\n<pre><code>2021-02-22 16:17:28.896  INFO 34556 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 11.0.10 on Soul with PID 34556 (C:\\Users\\ryne0\\Desktop\\FullStackWeb\\Spring\\demo\\target\\classes started by ryne0 in C:\\Users\\ryne0\\Desktop\\FullStackWeb\\Spring\\demo)\n2021-02-22 16:17:28.900  INFO 34556 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\n2021-02-22 16:17:28.902 DEBUG 34556 --- [           main] o.s.boot.SpringApplication               : Loading source class com.example.demo.DemoApplication\n2021-02-22 16:17:28.995 DEBUG 34556 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@457c9034\n2021-02-22 16:17:30.317 DEBUG 34556 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: C:\\Users\\ryne0\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.4.3\\spring-boot-2.4.3.jar\n2021-02-22 16:17:30.318 DEBUG 34556 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: C:\\Users\\ryne0\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.4.3\\spring-boot-2.4.3.jar\n2021-02-22 16:17:30.318 DEBUG 34556 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.\n2021-02-22 16:17:30.353  INFO 34556 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 81 (http)\n2021-02-22 16:17:30.374  INFO 34556 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-02-22 16:17:30.387  INFO 34556 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.43]\n2021-02-22 16:17:30.507  INFO 34556 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-02-22 16:17:30.507 DEBUG 34556 --- [           main] w.s.c.ServletWebServerApplicationContext : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]\n2021-02-22 16:17:30.508  INFO 34556 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1513 ms\n2021-02-22 16:17:30.535 DEBUG 34556 --- [           main] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105\n2021-02-22 16:17:30.547 DEBUG 34556 --- [           main] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]\n2021-02-22 16:17:30.599 DEBUG 34556 --- [           main] o.s.b.w.s.f.OrderedRequestContextFilter  : Filter 'requestContextFilter' configured for use\n2021-02-22 16:17:30.600 DEBUG 34556 --- [           main] s.b.w.s.f.OrderedCharacterEncodingFilter : Filter 'characterEncodingFilter' configured for use\n2021-02-22 16:17:30.600 DEBUG 34556 --- [           main] o.s.b.w.s.f.OrderedFormContentFilter     : Filter 'formContentFilter' configured for use\n2021-02-22 16:17:30.817  INFO 34556 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2021-02-22 16:17:30.828 DEBUG 34556 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\n2021-02-22 16:17:30.949 DEBUG 34556 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in 'requestMappingHandlerMapping'\n2021-02-22 16:17:30.991 DEBUG 34556 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'\n2021-02-22 16:17:31.003 DEBUG 34556 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\n2021-02-22 16:17:31.104  WARN 34556 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n2021-02-22 16:17:31.110  INFO 34556 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n2021-02-22 16:17:31.122  INFO 34556 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2021-02-22 16:17:31.197 DEBUG 34556 --- [           main] ConditionEvaluationReportLoggingListener : \n\n\n\n2021-02-22 16:17:32.117 ERROR 34556 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.4.jar:5.3.4]\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.4.jar:5.3.4]\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.4.jar:5.3.4]\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.4.jar:5.3.4]\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.4.jar:5.3.4]\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:934) ~[spring-context-5.3.4.jar:5.3.4]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:585) ~[spring-context-5.3.4.jar:5.3.4]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.3.jar:2.4.3]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.3.jar:2.4.3]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.3.jar:2.4.3]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.3.jar:2.4.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.3.jar:2.4.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.3.jar:2.4.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.4.3.jar:2.4.3]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.4.3.jar:2.4.3]\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.4.3.jar:2.4.3]\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.4.jar:5.3.4]\n        ... 15 common frames omitted\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:244) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.4.3.jar:2.4.3]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.4.3.jar:2.4.3]\n        ... 17 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1074) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:240) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        ... 19 common frames omitted\nCaused by: java.io.IOException: Unable to establish loopback connection\n        at java.base/sun.nio.ch.PipeImpl$Initializer.run(PipeImpl.java:94) ~[na:na]\n        at java.base/sun.nio.ch.PipeImpl$Initializer.run(PipeImpl.java:61) ~[na:na]\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[na:na]\n        at java.base/sun.nio.ch.PipeImpl.&lt;init&gt;(PipeImpl.java:171) ~[na:na]\n        at java.base/sun.nio.ch.SelectorProviderImpl.openPipe(SelectorProviderImpl.java:50) ~[na:na]\n        at java.base/java.nio.channels.Pipe.open(Pipe.java:155) ~[na:na]\n        at java.base/sun.nio.ch.WindowsSelectorImpl.&lt;init&gt;(WindowsSelectorImpl.java:142) ~[na:na]\n        at java.base/sun.nio.ch.WindowsSelectorProvider.openSelector(WindowsSelectorProvider.java:44) ~[na:na]\n        at java.base/java.nio.channels.Selector.open(Selector.java:295) ~[na:na]\n        at org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector(NioSelectorPool.java:52) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        at org.apache.tomcat.util.net.NioSelectorPool.close(NioSelectorPool.java:119) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:386) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1198) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1279) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:608) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1071) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n        ... 21 common frames omitted\nCaused by: java.net.BindException: Cannot assign requested address: connect\n        at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\n        at java.base/sun.nio.ch.Net.connect(Net.java:476) ~[na:na]\n        at java.base/sun.nio.ch.Net.connect(Net.java:468) ~[na:na]\n        at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:694) ~[na:na]\n        at java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194) ~[na:na]\n        at java.base/sun.nio.ch.PipeImpl$Initializer$LoopbackConnector.run(PipeImpl.java:127) ~[na:na]\n        at java.base/sun.nio.ch.PipeImpl$Initializer.run(PipeImpl.java:76) ~[na:na]\n        ... 36 common frames omitted\n</code></pre>\n"},{"tags":["java","char","int"],"comments":[{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":16,"creation_date":1375329326,"post_id":17984975,"comment_id":26294314,"body_markdown":"&quot;*Convert an int to a char?*&quot; Maybe `b = (char)(&#39;0&#39; + a)` but only for `0 &lt;= a &lt;= 9`.","body":"&quot;<i>Convert an int to a char?</i>&quot; Maybe <code>b = (char)(&#39;0&#39; + a)</code> but only for <code>0 &lt;= a &lt;= 9</code>."},{"owner":{"account_id":83157,"reputation":149,"user_id":3897771,"display_name":"apraetor"},"score":7,"creation_date":1473701363,"post_id":17984975,"comment_id":66232538,"body_markdown":"Decimal value 01 is a non-printing character; it&#39;s working properly.","body":"Decimal value 01 is a non-printing character; it&#39;s working properly."}],"answers":[{"comments":[{"owner":{"account_id":3291773,"reputation":3668,"user_id":2769917,"accept_rate":65,"display_name":"Asif Mushtaq"},"score":3,"creation_date":1457619631,"post_id":17984993,"comment_id":59496338,"body_markdown":"`System.out.println(&#39;b&#39;+3);` how I can get `b3` instead `101` with using println ? any other way instead printf?","body":"<code>System.out.println(&#39;b&#39;+3);</code> how I can get <code>b3</code> instead <code>101</code> with using println ? any other way instead printf?"},{"owner":{"account_id":5477000,"reputation":3659,"user_id":4354754,"accept_rate":62,"display_name":"Haggra"},"score":3,"creation_date":1461023521,"post_id":17984993,"comment_id":61000187,"body_markdown":"@UnKnown You need to make it a string instead of a char as follows System.out.println(&quot;b&quot; + 3);","body":"@UnKnown You need to make it a string instead of a char as follows System.out.println(&quot;b&quot; + 3);"},{"owner":{"account_id":3000292,"reputation":1014,"user_id":2545917,"display_name":"weaknespase"},"score":0,"creation_date":1540644887,"post_id":17984993,"comment_id":92946466,"body_markdown":"`Character.toChars` operates on Unicode code points, not ASCII values. You get the same (for BMP only) if you just cast int to char.","body":"<code>Character.toChars</code> operates on Unicode code points, not ASCII values. You get the same (for BMP only) if you just cast int to char."}],"tags":[],"owner":{"account_id":1157125,"reputation":27342,"user_id":1137432,"accept_rate":56,"display_name":"jh314"},"comment_count":3,"down_vote_count":3,"up_vote_count":145,"is_accepted":false,"score":142,"last_activity_date":1601638471,"creation_date":1375329158,"answer_id":17984993,"question_id":17984975,"body_markdown":"    int a = 1;\r\n    char b = (char) a;\r\n    System.out.println(b);\r\n\r\nwill print out the char with [Unicode code point](https://en.wikipedia.org/wiki/Code_point) 1 (start-of-heading char, which isn&#39;t printable; see this table: [C0 Controls and Basic Latin](https://en.wikibooks.org/wiki/Unicode/Character_reference/0000-0FFF), same as ASCII)\r\n\r\n    int a = &#39;1&#39;;\r\n    char b = (char) a;\r\n    System.out.println(b);\r\n\r\nwill print out the char with Unicode code point 49 (one corresponding to &#39;1&#39;)\r\n\r\nIf you want to convert a digit (0-9), you can add 48 to it and cast, or something like `Character.forDigit(a, 10);`.\r\n\r\nIf you want to convert an `int` seen as a Unicode code point, you can use [`Character.toChars(48)`](https://docs.oracle.com/javase/10/docs/api/java/lang/Character.html#toChars(int)) for example.","title":"Convert int to char in java","body":"<pre><code>int a = 1;\nchar b = (char) a;\nSystem.out.println(b);\n</code></pre>\n<p>will print out the char with <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"noreferrer\">Unicode code point</a> 1 (start-of-heading char, which isn't printable; see this table: <a href=\"https://en.wikibooks.org/wiki/Unicode/Character_reference/0000-0FFF\" rel=\"noreferrer\">C0 Controls and Basic Latin</a>, same as ASCII)</p>\n<pre><code>int a = '1';\nchar b = (char) a;\nSystem.out.println(b);\n</code></pre>\n<p>will print out the char with Unicode code point 49 (one corresponding to '1')</p>\n<p>If you want to convert a digit (0-9), you can add 48 to it and cast, or something like <code>Character.forDigit(a, 10);</code>.</p>\n<p>If you want to convert an <code>int</code> seen as a Unicode code point, you can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Character.html#toChars(int)\" rel=\"noreferrer\"><code>Character.toChars(48)</code></a> for example.</p>\n"},{"comments":[{"owner":{"account_id":4830288,"reputation":2105,"user_id":5312235,"display_name":"morels"},"score":1,"creation_date":1444374039,"post_id":17985389,"comment_id":53885598,"body_markdown":"Sorry but a char is not an int, because it is made of a different number of bytes (quick ref. [char-int representation - stackoverflow](http://stackoverflow.com/questions/17166393/byte-char-int-in-java-bit-representation)). A char can be represented by a number, you are right, but it is not an integer.","body":"Sorry but a char is not an int, because it is made of a different number of bytes (quick ref. <a href=\"http://stackoverflow.com/questions/17166393/byte-char-int-in-java-bit-representation\">char-int representation - stackoverflow</a>). A char can be represented by a number, you are right, but it is not an integer."},{"owner":{"account_id":3209993,"reputation":824,"user_id":2710176,"accept_rate":75,"display_name":"OhNoNotScott"},"score":0,"creation_date":1459817963,"post_id":17985389,"comment_id":60446204,"body_markdown":"Also, I think you may find the second line should read &quot;String b = Integer.toString(a);&quot;","body":"Also, I think you may find the second line should read &quot;String b = Integer.toString(a);&quot;"},{"owner":{"account_id":1413470,"reputation":2078,"user_id":1339621,"accept_rate":67,"display_name":"Ian"},"score":0,"creation_date":1508956375,"post_id":17985389,"comment_id":80826489,"body_markdown":"The char data type is well defined in [java.lang.Character](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html) as well as its relationship to int and unicode code points and code units.","body":"The char data type is well defined in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html\" rel=\"nofollow noreferrer\">java.lang.Character</a> as well as its relationship to int and unicode code points and code units."}],"tags":[],"owner":{"account_id":1244148,"reputation":976,"user_id":2640540,"display_name":"david25272"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1375332786,"creation_date":1375332159,"answer_id":17985389,"question_id":17984975,"body_markdown":"In java a char *is* an int.  Your first snippet prints out the character corresponding to the value of 1 in the default character encoding scheme (which is probably Unicode).  The Unicode character U+0001 is a non-printing character, which is why you don&#39;t see any output.\r\n\r\nIf you want to print out the character &#39;1&#39;, you can look up the value of &#39;1&#39; in the encoding scheme you are using.  In Unicode this is 49 (the same as ASCII).  But this will only work for digits 0-9.\r\n\r\nYou might be better off using a String rather than a char, and using Java&#39;s built-in `toString()` method:\r\n\r\n    int a = 1;\r\n    String b = toString(a);\r\n    System.out.println(b);\r\n\r\nThis will work whatever your system encoding is, and will work for multi-digit numbers.","title":"Convert int to char in java","body":"<p>In java a char <em>is</em> an int.  Your first snippet prints out the character corresponding to the value of 1 in the default character encoding scheme (which is probably Unicode).  The Unicode character U+0001 is a non-printing character, which is why you don't see any output.</p>\n\n<p>If you want to print out the character '1', you can look up the value of '1' in the encoding scheme you are using.  In Unicode this is 49 (the same as ASCII).  But this will only work for digits 0-9.</p>\n\n<p>You might be better off using a String rather than a char, and using Java's built-in <code>toString()</code> method:</p>\n\n<pre><code>int a = 1;\nString b = toString(a);\nSystem.out.println(b);\n</code></pre>\n\n<p>This will work whatever your system encoding is, and will work for multi-digit numbers.</p>\n"},{"tags":[],"owner":{"account_id":5367573,"reputation":209,"user_id":4277012,"display_name":"3ryck"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1416541563,"creation_date":1416541563,"answer_id":27053762,"question_id":17984975,"body_markdown":"    int a = 1;\r\n    char b = (char) a;\r\n    System.out.println(b);\r\n\r\nhola, well i went through the same problem but what i did was the following code.\r\n\r\n    int a = 1\r\n    char b = Integer.toString(a).charAt(0);\r\n    System.out.println(b);\r\n\r\nWith this you get the decimal value as a char type. I used charAt() with index 0 because the only value into that String is &#39;a&#39; and as you know, the position of &#39;a&#39; into that String start at 0.\r\n\r\nSorry if my english isn&#39;t well explained, hope it helps you.","title":"Convert int to char in java","body":"<pre><code>int a = 1;\nchar b = (char) a;\nSystem.out.println(b);\n</code></pre>\n\n<p>hola, well i went through the same problem but what i did was the following code.</p>\n\n<pre><code>int a = 1\nchar b = Integer.toString(a).charAt(0);\nSystem.out.println(b);\n</code></pre>\n\n<p>With this you get the decimal value as a char type. I used charAt() with index 0 because the only value into that String is 'a' and as you know, the position of 'a' into that String start at 0.</p>\n\n<p>Sorry if my english isn't well explained, hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":5477000,"reputation":3659,"user_id":4354754,"accept_rate":62,"display_name":"Haggra"},"comment_count":0,"down_vote_count":1,"up_vote_count":87,"is_accepted":false,"score":86,"last_activity_date":1532595941,"creation_date":1433451940,"answer_id":30654145,"question_id":17984975,"body_markdown":"My answer is similar to jh314&#39;s answer but I&#39;ll explain a little deeper.\r\n\r\nWhat you should do in this case is:\r\n\r\n    int a = 1;\r\n    char b = (char)(a + &#39;0&#39;);\r\n    System.out.println(b);\r\n\r\nHere, we used &#39;0&#39; because chars are actually represented by ASCII values. &#39;0&#39; is a char and represented by the value of 48. \r\n\r\nWe typed `(a + &#39;0&#39;)` and in order to add these up, Java converted &#39;0&#39; to its ASCII value which is 48 and a is 1 so the sum is 49. Then what we did is:\r\n\r\n    (char)(49)\r\n\r\nWe casted `int` to `char`. ASCII equivalent of 49 is &#39;1&#39;. You can convert any digit to char this way and is smarter and better way than using `.toString()` method and then subtracting the digit by `.charAt()` method.","title":"Convert int to char in java","body":"<p>My answer is similar to jh314's answer but I'll explain a little deeper.</p>\n\n<p>What you should do in this case is:</p>\n\n<pre><code>int a = 1;\nchar b = (char)(a + '0');\nSystem.out.println(b);\n</code></pre>\n\n<p>Here, we used '0' because chars are actually represented by ASCII values. '0' is a char and represented by the value of 48. </p>\n\n<p>We typed <code>(a + '0')</code> and in order to add these up, Java converted '0' to its ASCII value which is 48 and a is 1 so the sum is 49. Then what we did is:</p>\n\n<pre><code>(char)(49)\n</code></pre>\n\n<p>We casted <code>int</code> to <code>char</code>. ASCII equivalent of 49 is '1'. You can convert any digit to char this way and is smarter and better way than using <code>.toString()</code> method and then subtracting the digit by <code>.charAt()</code> method.</p>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1509916002,"post_id":33031728,"comment_id":81203392,"body_markdown":"@ProgrammingNub Define &quot;the int&#39;s value&quot;. .Don&#39;t you want it to print the digit 4? Or would you like to print the Ascii-value of the int, so that `65` prints `A` ? Because my answer here prints the expected behaviour for the requirements of this question. See https://ideone.com/09LAFR","body":"@ProgrammingNub Define &quot;the int&#39;s value&quot;. .Don&#39;t you want it to print the digit 4? Or would you like to print the Ascii-value of the int, so that <code>65</code> prints <code>A</code> ? Because my answer here prints the expected behaviour for the requirements of this question. See <a href=\"https://ideone.com/09LAFR\" rel=\"nofollow noreferrer\">ideone.com/09LAFR</a>"}],"tags":[],"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"comment_count":1,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1444373511,"creation_date":1444373511,"answer_id":33031728,"question_id":17984975,"body_markdown":"It seems like you are looking for the `Character.forDigit` method:\r\n\r\n    final int RADIX = 10;\r\n    int i = 4;\r\n    char ch = Character.forDigit(i, RADIX);\r\n    System.out.println(ch); // Prints &#39;4&#39;\r\n\r\nThere is also a method that can convert from a char back to an int:\r\n\r\n    int i2 = Character.digit(ch, RADIX);\r\n    System.out.println(i2); // Prints &#39;4&#39;\r\n\r\nNote that by changing the `RADIX` you can also support hexadecimal (radix 16) and any radix up to 36 (or `Character.MAX_RADIX` as it is also known as).","title":"Convert int to char in java","body":"<p>It seems like you are looking for the <code>Character.forDigit</code> method:</p>\n\n<pre><code>final int RADIX = 10;\nint i = 4;\nchar ch = Character.forDigit(i, RADIX);\nSystem.out.println(ch); // Prints '4'\n</code></pre>\n\n<p>There is also a method that can convert from a char back to an int:</p>\n\n<pre><code>int i2 = Character.digit(ch, RADIX);\nSystem.out.println(i2); // Prints '4'\n</code></pre>\n\n<p>Note that by changing the <code>RADIX</code> you can also support hexadecimal (radix 16) and any radix up to 36 (or <code>Character.MAX_RADIX</code> as it is also known as).</p>\n"},{"tags":[],"owner":{"account_id":83157,"reputation":149,"user_id":3897771,"display_name":"apraetor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473701331,"creation_date":1473701331,"answer_id":39455664,"question_id":17984975,"body_markdown":"Nobody has answered the real &quot;question&quot; here: you ARE converting int to char correctly; in the ASCII table a decimal value of 01 is &quot;start of heading&quot;, a non-printing character. Try looking up an ASCII table and converting an int value between 33 and 7E; that will give you characters to look at.","title":"Convert int to char in java","body":"<p>Nobody has answered the real \"question\" here: you ARE converting int to char correctly; in the ASCII table a decimal value of 01 is \"start of heading\", a non-printing character. Try looking up an ASCII table and converting an int value between 33 and 7E; that will give you characters to look at.</p>\n"},{"tags":[],"owner":{"account_id":2060656,"reputation":11,"user_id":1837276,"display_name":"Raul Londo&#241;o Murillo"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1477528857,"creation_date":1477522661,"answer_id":40273447,"question_id":17984975,"body_markdown":"If you want to convert a character to its corresponding integer, you can do something like this:\r\n\r\n    int a = (int) &#39;a&#39;;\r\n    char b = (char) a;\r\n    System.out.println(b);\r\n\r\nThis happens because in ASCII there are some items that can not be printed normally.\r\n\r\nFor example, numbers 97 to 122 are integers corresponding to the lowercase letters a to z.","title":"Convert int to char in java","body":"<p>If you want to convert a character to its corresponding integer, you can do something like this:</p>\n\n<pre><code>int a = (int) 'a';\nchar b = (char) a;\nSystem.out.println(b);\n</code></pre>\n\n<p>This happens because in ASCII there are some items that can not be printed normally.</p>\n\n<p>For example, numbers 97 to 122 are integers corresponding to the lowercase letters a to z.</p>\n"},{"comments":[{"owner":{"account_id":2567288,"reputation":20415,"user_id":2226988,"display_name":"Tom Blodget"},"score":2,"creation_date":1483058629,"post_id":41373409,"comment_id":69980642,"body_markdown":"Sort of.... `char` is a UTF-16 code unit. 68 as a UTF-16 code unit is the only code unit needed to represent the Unicode codepoint [U+0044](http://www.fileformat.info/info/unicode/char/0044/index.htm). System.out will change the encoding of text to the default encoding (presumably matching the terminal/console the program is running in). println takes a char and attempts to encode it. Since the char is a complete codepoint, it can try. Since U+0044 is a character in almost all character sets, there should be success in getting it to the terminal ungarbled. Nothing to do with ASCII.","body":"Sort of.... <code>char</code> is a UTF-16 code unit. 68 as a UTF-16 code unit is the only code unit needed to represent the Unicode codepoint <a href=\"http://www.fileformat.info/info/unicode/char/0044/index.htm\" rel=\"nofollow noreferrer\">U+0044</a>. System.out will change the encoding of text to the default encoding (presumably matching the terminal/console the program is running in). println takes a char and attempts to encode it. Since the char is a complete codepoint, it can try. Since U+0044 is a character in almost all character sets, there should be success in getting it to the terminal ungarbled. Nothing to do with ASCII."}],"tags":[],"owner":{"account_id":9908476,"reputation":350,"user_id":7336166,"display_name":"ajay verma"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482988759,"creation_date":1482987778,"answer_id":41373409,"question_id":17984975,"body_markdown":"&gt;Whenever you type cast integer to char it will return the ascii value of that int (once go through the ascii table for better understanding)\r\n\r\n        int a=68;\r\n\t\tchar b=(char)a;\r\n\t\t\r\n\t\tSystem.out.println(b);//it will return ascii value of 68\r\n\r\n        //output- D\r\n","title":"Convert int to char in java","body":"<blockquote>\n  <p>Whenever you type cast integer to char it will return the ascii value of that int (once go through the ascii table for better understanding)</p>\n</blockquote>\n\n<pre><code>    int a=68;\n    char b=(char)a;\n\n    System.out.println(b);//it will return ascii value of 68\n\n    //output- D\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11221145,"reputation":1,"user_id":8232243,"display_name":"MohS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498745709,"creation_date":1498745709,"answer_id":44827650,"question_id":17984975,"body_markdown":"if you want to print ascii characters based on their ascii code and do not want to go beyond that (like unicode characters), you can define your variable as a byte, and then use the (char) convert. i.e.:\r\n\r\n    public static void main(String[] args) {\r\n\t\tbyte b = 65;\r\n\t\tfor (byte i=b; i&lt;=b+25; i++) {\r\n\t\t\tSystem.out.print((char)i + &quot;, &quot;);\r\n\t\t}\r\n   BTW, the ascii code for the letter &#39;A&#39; is 65","title":"Convert int to char in java","body":"<p>if you want to print ascii characters based on their ascii code and do not want to go beyond that (like unicode characters), you can define your variable as a byte, and then use the (char) convert. i.e.:</p>\n\n<pre><code>public static void main(String[] args) {\n    byte b = 65;\n    for (byte i=b; i&lt;=b+25; i++) {\n        System.out.print((char)i + \", \");\n    }\n</code></pre>\n\n<p>BTW, the ascii code for the letter 'A' is 65</p>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1565434904,"post_id":47844511,"comment_id":101359441,"body_markdown":"No need to make it a String in the process, and you have mismatching number of paranthesis.","body":"No need to make it a String in the process, and you have mismatching number of paranthesis."},{"owner":{"account_id":4854011,"reputation":597,"user_id":3915563,"display_name":"matua"},"score":0,"creation_date":1591466791,"post_id":47844511,"comment_id":110069326,"body_markdown":"Simon, &quot;parentheses&quot;. Advise how then?","body":"Simon, &quot;parentheses&quot;. Advise how then?"}],"tags":[],"owner":{"account_id":4854011,"reputation":597,"user_id":3915563,"display_name":"matua"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1591466712,"creation_date":1513418796,"answer_id":47844511,"question_id":17984975,"body_markdown":"If we are talking about class types - not primitives, the following trick has to be done:\r\n\r\n    Integer someInt;\r\n    Character someChar;\r\n\r\n    someChar = (char)Integer.parseInt(String.valueOf(someInt));","title":"Convert int to char in java","body":"<p>If we are talking about class types - not primitives, the following trick has to be done:</p>\n\n<pre><code>Integer someInt;\nCharacter someChar;\n\nsomeChar = (char)Integer.parseInt(String.valueOf(someInt));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11974643,"reputation":7357,"user_id":8762152,"display_name":"Jules Dupont"},"score":2,"creation_date":1517672318,"post_id":48599003,"comment_id":84194580,"body_markdown":"Please provide an explanation instead of just a code dump.","body":"Please provide an explanation instead of just a code dump."},{"owner":{"account_id":2651065,"reputation":20632,"user_id":2292722,"display_name":"Tom Brunberg"},"score":0,"creation_date":1517691287,"post_id":48599003,"comment_id":84200450,"body_markdown":"While this code-only post might answer the question, please add an explanation of why it does so. This will help future users evaluate the answer for their situation.","body":"While this code-only post might answer the question, please add an explanation of why it does so. This will help future users evaluate the answer for their situation."}],"tags":[],"owner":{"account_id":12871190,"reputation":1,"user_id":9309579,"display_name":"Akash Dhotre"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1517676412,"creation_date":1517671935,"answer_id":48599003,"question_id":17984975,"body_markdown":"    public class String_Store_In_Array \r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tSystem.out.println(&quot; Q.37 Can you store string in array of integers. Try it.&quot;);\r\n    \r\n    \t\tString str=&quot;I am Akash&quot;;\r\n    \t\tint arr[]=new int[str.length()];\r\n    \t\tchar chArr[]=str.toCharArray();\r\n    \t      char  ch;\r\n    \t\tfor(int i=0;i&lt;str.length();i++)\r\n    \t\t{\r\n    \t\t\r\n    \t\t\tarr[i]=chArr[i];\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;\\nI have stored it in array by using ASCII value&quot;);\r\n    \t\tfor(int i=0;i&lt;arr.length;i++)\r\n    \t\t{\r\n    \r\n    \t\t    System.out.print(&quot; &quot;+arr[i]);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;\\nI have stored it in array by using ASCII value to original content&quot;);\r\n    \t\tfor(int i=0;i&lt;arr.length;i++)\r\n    \t\t{\r\n    \t\t\t ch=(char)arr[i];\r\n    \r\n    \t\t    System.out.print(&quot; &quot;+ch);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Convert int to char in java","body":"<pre><code>public class String_Store_In_Array \n{\n    public static void main(String[] args) \n    {\n        System.out.println(\" Q.37 Can you store string in array of integers. Try it.\");\n\n        String str=\"I am Akash\";\n        int arr[]=new int[str.length()];\n        char chArr[]=str.toCharArray();\n          char  ch;\n        for(int i=0;i&lt;str.length();i++)\n        {\n\n            arr[i]=chArr[i];\n        }\n        System.out.println(\"\\nI have stored it in array by using ASCII value\");\n        for(int i=0;i&lt;arr.length;i++)\n        {\n\n            System.out.print(\" \"+arr[i]);\n        }\n        System.out.println(\"\\nI have stored it in array by using ASCII value to original content\");\n        for(int i=0;i&lt;arr.length;i++)\n        {\n             ch=(char)arr[i];\n\n            System.out.print(\" \"+ch);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12175085,"reputation":25,"user_id":8888403,"display_name":"Mayur Gudi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519162456,"creation_date":1519153945,"answer_id":48892590,"question_id":17984975,"body_markdown":"Make sure the integer value is ASCII value of an alphabet/character.\r\n\r\nIf not then make it.\r\n\r\n    for e.g. if int i=1\r\n\r\n \r\nthen add 64 to it so that it becomes 65 = ASCII value of &#39;A&#39;\r\nThen use\r\n\r\n    char x = (char)i;\r\n\r\n    print x\r\n    \r\n    // &#39;A&#39; will be printed ","title":"Convert int to char in java","body":"<p>Make sure the integer value is ASCII value of an alphabet/character.</p>\n\n<p>If not then make it.</p>\n\n<pre><code>for e.g. if int i=1\n</code></pre>\n\n<p>then add 64 to it so that it becomes 65 = ASCII value of 'A'\nThen use</p>\n\n<pre><code>char x = (char)i;\n\nprint x\n\n// 'A' will be printed \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4838537,"reputation":41,"user_id":3904315,"display_name":"bigpig"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541177994,"creation_date":1541177994,"answer_id":53122926,"question_id":17984975,"body_markdown":"    int a = 1;\r\n    char b = (char) (a + 48);\r\nIn ASCII, every char have their own number. And char &#39;0&#39; is 48 for decimal, &#39;1&#39; is 49, and so on. So if\r\n\r\n    char b = &#39;2&#39;;\r\n    int a = b = 50;","title":"Convert int to char in java","body":"<pre><code>int a = 1;\nchar b = (char) (a + 48);\n</code></pre>\n\n<p>In ASCII, every char have their own number. And char '0' is 48 for decimal, '1' is 49, and so on. So if</p>\n\n<pre><code>char b = '2';\nint a = b = 50;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15363847,"reputation":31,"user_id":11083944,"display_name":"Shivam Rai"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1562257608,"creation_date":1562254205,"answer_id":56890987,"question_id":17984975,"body_markdown":"&gt; look at the following program for complete conversion concept\r\n\r\n    class typetest{\r\n        public static void main(String args[]){\r\n            byte a=1,b=2;\r\n            char c=1,d=&#39;b&#39;;\r\n            short e=3,f=4;\r\n            int g=5,h=6;\r\n            float i;\r\n            double k=10.34,l=12.45;\r\n            System.out.println(&quot;value of char variable c=&quot;+c);\r\n            // if we assign an integer value in char cariable it&#39;s possible as above\r\n            // but it&#39;s not possible to assign int value from an int variable in char variable \r\n            // (d=g assignment gives error as incompatible type conversion)\r\n            g=b;\r\n            System.out.println(&quot;char to int conversion is possible&quot;);\r\n            k=g;\r\n            System.out.println(&quot;int to double conversion is possible&quot;);\r\n            i=h;\r\n            System.out.println(&quot;int to float is possible and value of i = &quot;+i);\r\n            l=i;\r\n            System.out.println(&quot;float to double is possible&quot;);\r\n        }\r\n    }\r\nhope ,it will help at least something","title":"Convert int to char in java","body":"<blockquote>\n  <p>look at the following program for complete conversion concept</p>\n</blockquote>\n\n<pre><code>class typetest{\n    public static void main(String args[]){\n        byte a=1,b=2;\n        char c=1,d='b';\n        short e=3,f=4;\n        int g=5,h=6;\n        float i;\n        double k=10.34,l=12.45;\n        System.out.println(\"value of char variable c=\"+c);\n        // if we assign an integer value in char cariable it's possible as above\n        // but it's not possible to assign int value from an int variable in char variable \n        // (d=g assignment gives error as incompatible type conversion)\n        g=b;\n        System.out.println(\"char to int conversion is possible\");\n        k=g;\n        System.out.println(\"int to double conversion is possible\");\n        i=h;\n        System.out.println(\"int to float is possible and value of i = \"+i);\n        l=i;\n        System.out.println(\"float to double is possible\");\n    }\n}\n</code></pre>\n\n<p>hope ,it will help at least something</p>\n"},{"tags":[],"owner":{"account_id":19145546,"reputation":11,"user_id":13984611,"display_name":"Ibad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598706232,"creation_date":1598442127,"answer_id":63596901,"question_id":17984975,"body_markdown":"There is one method by which `int` can be converted to `char` and even without using ASCII values. \r\n\r\nExample:\r\n\r\n```\r\nint i = 2;\r\nchar ch = Integer.toString(i).charAt(0);\r\nSystem.out.println(ch);\r\n```\r\n\r\nExplanation : \r\n\r\nFirst the integer is converted to string and then by using String function `charAt()`, character is extracted from the string. As the integer only has one single digit, the index `0` is given to `charAt()` function.\r\n\r\n","title":"Convert int to char in java","body":"<p>There is one method by which <code>int</code> can be converted to <code>char</code> and even without using ASCII values.</p>\n<p>Example:</p>\n<pre><code>int i = 2;\nchar ch = Integer.toString(i).charAt(0);\nSystem.out.println(ch);\n</code></pre>\n<p>Explanation :</p>\n<p>First the integer is converted to string and then by using String function <code>charAt()</code>, character is extracted from the string. As the integer only has one single digit, the index <code>0</code> is given to <code>charAt()</code> function.</p>\n"},{"tags":[],"owner":{"account_id":14953349,"reputation":109,"user_id":10795605,"display_name":"Sirius Bey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607293235,"creation_date":1607293235,"answer_id":65173683,"question_id":17984975,"body_markdown":"First, convert the `int` (or another type) to `String`,\r\n\r\n    int a = 1;\r\n    String value = String.valueOf(a);\r\n\r\nThen, convert that `String` to `char`.\r\n\r\n    char newValue = value.charAt(0);\r\n\r\nYou can avoid empty output in this way...\r\n\r\n    \r\n    System.out.println(newValue);","title":"Convert int to char in java","body":"<p>First, convert the <code>int</code> (or another type) to <code>String</code>,</p>\n<pre><code>int a = 1;\nString value = String.valueOf(a);\n</code></pre>\n<p>Then, convert that <code>String</code> to <code>char</code>.</p>\n<pre><code>char newValue = value.charAt(0);\n</code></pre>\n<p>You can avoid empty output in this way...</p>\n<pre><code>System.out.println(newValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20712455,"reputation":81,"user_id":15208770,"display_name":"Adarsh chaurasia"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613760870,"creation_date":1613760870,"answer_id":66283465,"question_id":17984975,"body_markdown":"you may want it to be printed as &#39;1&#39; or as &#39;a&#39;.\r\n\r\nIn case you want &#39;1&#39; as input then :\r\n\r\n    int a = 1;\r\n    char b = (char)(a + &#39;0&#39;);\r\n    System.out.println(b);\r\n\r\nIn case you want &#39;a&#39; as input then :\r\n\r\n    int a = 1;\r\n    char b = (char)(a-1 + &#39;a&#39;);\r\n    System.out.println(b);\r\n\r\njava turns the ascii value to char :)","title":"Convert int to char in java","body":"<p>you may want it to be printed as '1' or as 'a'.</p>\n<p>In case you want '1' as input then :</p>\n<pre><code>int a = 1;\nchar b = (char)(a + '0');\nSystem.out.println(b);\n</code></pre>\n<p>In case you want 'a' as input then :</p>\n<pre><code>int a = 1;\nchar b = (char)(a-1 + 'a');\nSystem.out.println(b);\n</code></pre>\n<p>java turns the ascii value to char :)</p>\n"},{"tags":[],"owner":{"account_id":14585081,"reputation":161,"user_id":10534198,"display_name":"Rajat Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652199405,"creation_date":1652199405,"answer_id":72189799,"question_id":17984975,"body_markdown":"My solution is for converting lower case alphabets (a-z) to (0-25) and vice versa.\r\n\r\nMy answer is for a specific use-case it is not generic solution my solution will help you if you want to store the frequency of character into an integer array of size 26 instead of using Hashmap&lt;Character,Integer&gt;\r\n\r\n\r\n----&gt; for converting  0 to 25 into a-z\r\n\r\nchar ch=(char)(0+&#39;a&#39;);   // output &#39;a&#39;  // input 0(as integer)\r\n\r\nchar ch=(char)(25+&#39;a&#39;);  // output &#39;z&#39;  // input 25(as integer)\r\n\r\n----&gt;for converting a to z into 0-25\r\n\r\nint freq=&#39;a&#39;-&#39;a&#39; // output 0 // input &#39;a&#39;\r\n\r\nint freq=&#39;b&#39;-&#39;a&#39; // output 1 // input &#39;b&#39;\r\n\r\nint freq=&#39;c&#39;-&#39;a&#39; // output 2 // input &#39;c&#39;\r\n\r\nint freq=&#39;z&#39;-&#39;a&#39; // output 25 // input &#39;z&#39;\r\n\r\nAgain this approach will help you to get the frequency of characters as well as characters\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t    String s=&quot;rajatfddfdf&quot;;\r\n    \t    int freq[]= new int[26];\r\n    \t    for(int i=0;i&lt;s.length();i++){\r\n    \t        char characterAtIndex=s.charAt(i);\r\n    \t        freq[characterAtIndex-&#39;a&#39;]+=1;\r\n    \t    }\r\n    \t    for(int i=0;i&lt;26;i++){\r\n    \t        System.out.println((char)(&#39;a&#39;+i)+&quot; frequency=&quot;+freq[i]);\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\n\r\nby using the above code we can get the frequency as well as character using integer array of size 26 . We can write if-else logic if you don&#39;t want to include the character with frequency 0.","title":"Convert int to char in java","body":"<p>My solution is for converting lower case alphabets (a-z) to (0-25) and vice versa.</p>\n<p>My answer is for a specific use-case it is not generic solution my solution will help you if you want to store the frequency of character into an integer array of size 26 instead of using Hashmap&lt;Character,Integer&gt;</p>\n<p>----&gt; for converting  0 to 25 into a-z</p>\n<p>char ch=(char)(0+'a');   // output 'a'  // input 0(as integer)</p>\n<p>char ch=(char)(25+'a');  // output 'z'  // input 25(as integer)</p>\n<p>----&gt;for converting a to z into 0-25</p>\n<p>int freq='a'-'a' // output 0 // input 'a'</p>\n<p>int freq='b'-'a' // output 1 // input 'b'</p>\n<p>int freq='c'-'a' // output 2 // input 'c'</p>\n<p>int freq='z'-'a' // output 25 // input 'z'</p>\n<p>Again this approach will help you to get the frequency of characters as well as characters</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        String s=&quot;rajatfddfdf&quot;;\n        int freq[]= new int[26];\n        for(int i=0;i&lt;s.length();i++){\n            char characterAtIndex=s.charAt(i);\n            freq[characterAtIndex-'a']+=1;\n        }\n        for(int i=0;i&lt;26;i++){\n            System.out.println((char)('a'+i)+&quot; frequency=&quot;+freq[i]);\n        }\n    }\n}\n</code></pre>\n<p>by using the above code we can get the frequency as well as character using integer array of size 26 . We can write if-else logic if you don't want to include the character with frequency 0.</p>\n"},{"tags":[],"owner":{"account_id":26304814,"reputation":1,"user_id":19969490,"display_name":"Mohammad Adel Alsoheil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683831719,"creation_date":1683831719,"answer_id":76230867,"question_id":17984975,"body_markdown":"You are doing nothing wrong through casting, however you are getting an empty output since there is no char of a code 1 to be printed.\r\nThe values start from 65 for capital letters and start from 97 for small letters.","title":"Convert int to char in java","body":"<p>You are doing nothing wrong through casting, however you are getting an empty output since there is no char of a code 1 to be printed.\nThe values start from 65 for capital letters and start from 97 for small letters.</p>\n"}],"owner":{"account_id":3120670,"reputation":1909,"user_id":2640480,"accept_rate":25,"display_name":"user2640480"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813132,"favorite_count":0,"down_vote_count":2,"up_vote_count":174,"answer_count":19,"score":172,"last_activity_date":1683831719,"creation_date":1375329075,"question_id":17984975,"body_markdown":"Below is a code snippet,\r\n\r\n    int a = 1;\r\n    char b = (char) a;\r\n    System.out.println(b);\r\n\r\nBut what I get is empty output.\r\n\r\n    int a = &#39;1&#39;;\r\n    char b = (char) a;\r\n    System.out.println(b);\r\n\r\nI will get 1 as my output. \r\n\r\nCan somebody explain this? And if I want to convert an int to a char as in the first snippet, what should I do?","title":"Convert int to char in java","body":"<p>Below is a code snippet,</p>\n\n<pre><code>int a = 1;\nchar b = (char) a;\nSystem.out.println(b);\n</code></pre>\n\n<p>But what I get is empty output.</p>\n\n<pre><code>int a = '1';\nchar b = (char) a;\nSystem.out.println(b);\n</code></pre>\n\n<p>I will get 1 as my output. </p>\n\n<p>Can somebody explain this? And if I want to convert an int to a char as in the first snippet, what should I do?</p>\n"},{"tags":["java","variable-assignment","assignment-operator"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683837485,"post_id":76230782,"comment_id":134432002,"body_markdown":"While not recommended your code behaves in a well-defined way. `a == (a = 2*a+1)` first evaluates `a`  to 2, then computes 2 * 2 + 1 = 5 and assigns it to `a`, then compares 2 and 5 and finds they are not equal, so the final result will always be `false`, and `a` will always have the value 5 afterwards. It follows from left-to-right evaluation.","body":"While not recommended your code behaves in a well-defined way. <code>a == (a = 2*a+1)</code> first evaluates <code>a</code>  to 2, then computes 2 * 2 + 1 = 5 and assigns it to <code>a</code>, then compares 2 and 5 and finds they are not equal, so the final result will always be <code>false</code>, and <code>a</code> will always have the value 5 afterwards. It follows from left-to-right evaluation."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683831110,"creation_date":1683831110,"answer_id":76230804,"question_id":76230782,"body_markdown":"This is specified by [JLS 15.7.1](https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.1).\r\n\r\n&gt; The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.\r\n\r\n`==` is a binary operator, so `a` is always fully evaluated before _any part_ of `a = 2 * a + 1` is evaluated.\r\n","title":"In Java, does (a == (a = b)) produce undefined behaviour?","body":"<p>This is specified by <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.1\" rel=\"noreferrer\">JLS 15.7.1</a>.</p>\n<blockquote>\n<p>The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.</p>\n</blockquote>\n<p><code>==</code> is a binary operator, so <code>a</code> is always fully evaluated before <em>any part</em> of <code>a = 2 * a + 1</code> is evaluated.</p>\n"}],"owner":{"account_id":16402844,"reputation":35,"user_id":11848256,"display_name":"Arxel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76230804,"answer_count":1,"score":1,"last_activity_date":1683831550,"creation_date":1683830927,"question_id":76230782,"body_markdown":"I&#39;m learning Java, and I have a question about the properties of the return value of the assignment operation. I know that Java returns the value of the variable after assignment in `x = y`, but when does this assignment occur: before or after an entire expression involving an assignment? Is it defined in Java, whether in the expression `a == (a = b)`, the value of the variable is getting modified *before* the comparison resulting in `true`, or if, the expression gives a value equivalent to `a == b` instead, assigning `a` with  `b` afterwards? \r\n\r\nI know that `a == (a++)` is `true` while `a = (++a)` results in `false`- here it does indeed perform the unary increment later, even though a bracket is present.\r\n\r\n```\r\nint a = 2;\r\nSystem.out.println(a == (a = 2*a+1));\r\nSystem.out.println(a);\r\n```\r\n\r\nThis did produce\r\n```\r\nfalse\r\n5\r\n```\r\nas output, similar to the behavior of the unary increment. Is it just this way for my compiler, or is such behavior actually defined with the `=` operation?","title":"In Java, does (a == (a = b)) produce undefined behaviour?","body":"<p>I'm learning Java, and I have a question about the properties of the return value of the assignment operation. I know that Java returns the value of the variable after assignment in <code>x = y</code>, but when does this assignment occur: before or after an entire expression involving an assignment? Is it defined in Java, whether in the expression <code>a == (a = b)</code>, the value of the variable is getting modified <em>before</em> the comparison resulting in <code>true</code>, or if, the expression gives a value equivalent to <code>a == b</code> instead, assigning <code>a</code> with  <code>b</code> afterwards?</p>\n<p>I know that <code>a == (a++)</code> is <code>true</code> while <code>a = (++a)</code> results in <code>false</code>- here it does indeed perform the unary increment later, even though a bracket is present.</p>\n<pre><code>int a = 2;\nSystem.out.println(a == (a = 2*a+1));\nSystem.out.println(a);\n</code></pre>\n<p>This did produce</p>\n<pre><code>false\n5\n</code></pre>\n<p>as output, similar to the behavior of the unary increment. Is it just this way for my compiler, or is such behavior actually defined with the <code>=</code> operation?</p>\n"},{"tags":["java","mysql","exception","driver"],"answers":[{"tags":[],"owner":{"account_id":3043462,"reputation":1717,"user_id":2579839,"accept_rate":27,"display_name":"Girish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391548637,"creation_date":1391548637,"answer_id":21563630,"question_id":21563567,"body_markdown":"Looking like that Driver is throwing that \r\n\r\n    reason can be that\r\n    \r\n    service not listening\r\n    Connections are not free \r\n\r\n","title":"java.net.ConnectException MESSAGE: Connection timed out: connect","body":"<p>Looking like that Driver is throwing that </p>\n\n<pre><code>reason can be that\n\nservice not listening\nConnections are not free \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391548792,"creation_date":1391548792,"answer_id":21563681,"question_id":21563567,"body_markdown":"I did a quick online port scan for that address and it looks like the server side is not listening on port 3306. Maybe firewall configuration? Or just stopped server/wrong address.","title":"java.net.ConnectException MESSAGE: Connection timed out: connect","body":"<p>I did a quick online port scan for that address and it looks like the server side is not listening on port 3306. Maybe firewall configuration? Or just stopped server/wrong address.</p>\n"}],"owner":{"account_id":3692284,"reputation":99,"user_id":3074612,"accept_rate":86,"display_name":"user3074612"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21563681,"answer_count":2,"score":1,"last_activity_date":1683831392,"creation_date":1391548475,"question_id":21563567,"body_markdown":"My code:\r\n\r\n    package staffrecords;\r\n    \r\n    import com.mysql.jdbc.Connection;\r\n    import com.mysql.jdbc.Statement;\r\n    import java.sql.DriverManager;  \r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    \r\n    public class StaffRecords {\r\n      \r\n        public static void main(String[] args) {\r\n      \r\n            Connection con = null;\r\n            Statement st = null;\r\n            ResultSet rs = null;\r\n    \r\n            String databaseName = &quot;SEGA&quot;;\r\n            //String loginUrl = &quot;jdbc:mysql://localhost:3307/&quot; + databaseName;\r\n            String loginUrl = &quot;jdbc:mysql://dbprojects.eecs.qmul.ac.uk:3306/&quot; + databaseName;\r\n            String user = &quot;SEGA&quot;;        \r\n            String password = &quot;*****&quot;;\r\n    \r\n            try \r\n            {                      \r\n                con = (Connection) DriverManager.getConnection(loginUrl, user, password);\r\n                st = (Statement) con.createStatement();\r\n                String sql;\r\n                sql = &quot;SELECT StaffID FROM Staff&quot;;\r\n                rs = st.executeQuery(sql);\r\n                \r\n                if (rs.next())\r\n                {\r\n                    String staffID = rs.getString(&quot;StaffID&quot;);\r\n                          \r\n                    System.out.print(&quot;StaffID: &quot; + staffID);\r\n                }         \r\n                rs.close();\r\n                st.close();\r\n                con.close();\r\n            } \r\n            catch (SQLException ex) \r\n            {\r\n                System.out.println(ex);\r\n            }      \r\n        }\r\n    }\r\n\r\nAnd the error is:\r\n\r\ncom.mysql.jdbc.CommunicationsException: Communications link failure due to underlying exception: \r\n\r\n** BEGIN NESTED EXCEPTION ** \r\n\r\njava.net.ConnectException\r\nMESSAGE: Connection timed out: connect\r\n\r\nSTACKTRACE:\r\n\r\n    java.net.ConnectException: Connection timed out: connect\r\n    \tat java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:69)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:157)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)\r\n    \tat java.net.Socket.connect(Socket.java:579)\r\n    \tat java.net.Socket.connect(Socket.java:528)\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:425)\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:241)\r\n    \tat com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\r\n    \tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:271)\r\n    \tat com.mysql.jdbc.Connection.createNewIO(Connection.java:2771)\r\n    \tat com.mysql.jdbc.Connection.&lt;init&gt;(Connection.java:1555)\r\n    \tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:579)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:221)\r\n    \tat staffrecords.StaffRecords.main(StaffRecords.java:28)\r\n\r\n** END NESTED EXCEPTION **\r\n\r\nLast packet sent to the server was 2 ms ago.\r\nBUILD SUCCESSFUL (total time: 24 seconds)\r\n\r\nIs there a simple solution to get the code to print out all the StaffID values in the table Staff?\r\n\r\n\r\n\r\n\r\n","title":"java.net.ConnectException MESSAGE: Connection timed out: connect","body":"<p>My code:</p>\n\n<pre><code>package staffrecords;\n\nimport com.mysql.jdbc.Connection;\nimport com.mysql.jdbc.Statement;\nimport java.sql.DriverManager;  \nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class StaffRecords {\n\n    public static void main(String[] args) {\n\n        Connection con = null;\n        Statement st = null;\n        ResultSet rs = null;\n\n        String databaseName = \"SEGA\";\n        //String loginUrl = \"jdbc:mysql://localhost:3307/\" + databaseName;\n        String loginUrl = \"jdbc:mysql://dbprojects.eecs.qmul.ac.uk:3306/\" + databaseName;\n        String user = \"SEGA\";        \n        String password = \"*****\";\n\n        try \n        {                      \n            con = (Connection) DriverManager.getConnection(loginUrl, user, password);\n            st = (Statement) con.createStatement();\n            String sql;\n            sql = \"SELECT StaffID FROM Staff\";\n            rs = st.executeQuery(sql);\n\n            if (rs.next())\n            {\n                String staffID = rs.getString(\"StaffID\");\n\n                System.out.print(\"StaffID: \" + staffID);\n            }         \n            rs.close();\n            st.close();\n            con.close();\n        } \n        catch (SQLException ex) \n        {\n            System.out.println(ex);\n        }      \n    }\n}\n</code></pre>\n\n<p>And the error is:</p>\n\n<p>com.mysql.jdbc.CommunicationsException: Communications link failure due to underlying exception: </p>\n\n<p>** BEGIN NESTED EXCEPTION ** </p>\n\n<p>java.net.ConnectException\nMESSAGE: Connection timed out: connect</p>\n\n<p>STACKTRACE:</p>\n\n<pre><code>java.net.ConnectException: Connection timed out: connect\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:69)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:157)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)\n    at java.net.Socket.connect(Socket.java:579)\n    at java.net.Socket.connect(Socket.java:528)\n    at java.net.Socket.&lt;init&gt;(Socket.java:425)\n    at java.net.Socket.&lt;init&gt;(Socket.java:241)\n    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:271)\n    at com.mysql.jdbc.Connection.createNewIO(Connection.java:2771)\n    at com.mysql.jdbc.Connection.&lt;init&gt;(Connection.java:1555)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\n    at java.sql.DriverManager.getConnection(DriverManager.java:579)\n    at java.sql.DriverManager.getConnection(DriverManager.java:221)\n    at staffrecords.StaffRecords.main(StaffRecords.java:28)\n</code></pre>\n\n<p>** END NESTED EXCEPTION **</p>\n\n<p>Last packet sent to the server was 2 ms ago.\nBUILD SUCCESSFUL (total time: 24 seconds)</p>\n\n<p>Is there a simple solution to get the code to print out all the StaffID values in the table Staff?</p>\n"},{"tags":["java","spring","springdoc-openapi-ui","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683831183,"creation_date":1683831183,"answer_id":76230810,"question_id":76226703,"body_markdown":"After investigating the issue at hand further and checking against the [Swagger serialization documentation](https://swagger.io/docs/specification/serialization/) the generation of the `openapi.yaml` for the given controller method\r\n\r\n```java\r\n  @GetMapping\r\n  public Page&lt;Ticket&gt; getTickets(\r\n    @Parameter(explode = Explode.TRUE,\r\n            in = ParameterIn.QUERY,\r\n            style = ParameterStyle.FORM\r\n    ) final TicketSearchFilterDTO filterDto,\r\n    @ParameterObject @PageableDefault(size = 25) Pageable pageable\r\n  ) {\r\n    log.info(&quot;Getting tickets, filter {}, pageable {}&quot;, filterDto, pageable);\r\n    TicketSearchFilter filter = ticketSearchFilterDTOConverter.convert(filterDto);\r\n    return ticketSearchRepository.getTickets(filter, pageable);\r\n  }\r\n```\r\n\r\nwhich results in an `openapi.yaml` output like\r\n\r\n```yaml\r\nopenapi: 3.0.1\r\ninfo:\r\n  title: OpenAPI definition\r\n  version: &#39;@env.CI_COMMIT_REF_NAME@&#39;\r\nservers:\r\n  ...\r\npaths:\r\n  ...\r\n  /tickets:\r\n    get:\r\n      operationId: getTickets\r\n      parameters:\r\n      - explode: true\r\n        in: query\r\n        name: filterDto\r\n        required: true\r\n        schema:\r\n          $ref: &#39;#/components/schemas/TicketSearchFilterDTO&#39;\r\n        style: form\r\n      - description: Zero-based page index (0..N)\r\n        explode: true\r\n        in: query\r\n        name: page\r\n        required: false\r\n        schema:\r\n          default: 0\r\n          minimum: 0\r\n          type: integer\r\n        style: form\r\n      - description: The size of the page to be returned\r\n        explode: true\r\n        in: query\r\n        name: size\r\n        required: false\r\n        schema:\r\n          default: 25\r\n          minimum: 1\r\n          type: integer\r\n        style: form\r\n      - description: &quot;Sorting criteria in the format: property,(asc|desc). Default\\\r\n          \\ sort order is ascending. Multiple sort criteria are supported.&quot;\r\n        explode: true\r\n        in: query\r\n        name: sort\r\n        required: false\r\n        schema:\r\n          items:\r\n            type: string\r\n          type: array\r\n        style: form\r\n      responses:\r\n        &quot;404&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/NotFoundError&#39;\r\n          description: Not Found\r\n        &quot;400&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                type: object\r\n          description: Bad Request\r\n        &quot;409&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                type: object\r\n          description: Conflict\r\n        &quot;200&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/PageTicket&#39;\r\n          description: OK\r\n      tags:\r\n      - ticket-controller\r\n      x-accepts: &#39;*/*&#39;\r\n    ...\r\ncomponents:\r\n  schemas:\r\n    ...\r\n    TicketSearchFilterDTO:\r\n      properties:\r\n        startsWithInternalIdOrTitle:\r\n          description: ...\r\n          type: string\r\n        ...\r\n      type: object\r\n    ...\r\n```\r\n\r\nseems to be fine. This will result in mentioned client API that results in encapsulating the filter options within the desired DTO object. However, `openapi-generator-maven-plugin` seems to lack coverage of these cases somehow. \r\n\r\nThe generator uses Mustache for the client generation and the respective [api.mustache](https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/Java/libraries/webclient/api.mustache#L98) for the input parameter will generate i.e. the following line as part of the RequestCreation sub method:\r\n\r\n```java\r\nqueryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;filterDto&quot;, filterDto));\r\n```\r\n\r\nThis line is in particular responsible for adding the given DTO to the query parameters that will be called by the HTTP client at the end. And this will unfortunately result in the whole DTO being added as `fliterDto` query parameter in a serialized from rather than its properties being added to the query parameters. That `filterDto` query parameter is though unknown by the Spring backend and thus will return the first 25 tickets if find regardless of the input.\r\n\r\nThe Maven plugin though allows to specify custom Mustache templates i.e. via the following lines added before the `&lt;configOptions&gt;` section:\r\n\r\n```xml\r\n&lt;templateDirectory&gt;\r\n    ./open-api/templates\r\n&lt;/templateDirectory&gt;\r\n```\r\n\r\nNow it is just a matter of customizing `api.mustache` at the referenced line in the above-mentioned link with the following code:\r\n\r\n```js\r\n        if ({{paramName}}.getClass().getSimpleName().endsWith(&quot;DTO&quot;)) {\r\n            // iterate through DTOs properties\r\n            Class&lt;?&gt; clazz = {{paramName}}.getClass();\r\n            for (Field field : clazz.getDeclaredFields()) {\r\n                if (Modifier.isPrivate(field.getModifiers()) &amp;&amp; !Modifier.isStatic(field.getModifiers())) {\r\n                    field.setAccessible(true);\r\n                    String fieldName = field.getName();\r\n                    try {\r\n                        Object value = field.get({{paramName}});\r\n                        queryParams.putAll(apiClient.parameterToMultiValueMap({{#collectionFormat}}ApiClient.CollectionFormat.valueOf(&quot;{{{.}}}&quot;.toUpperCase(Locale.ROOT)){{/collectionFormat}}{{^collectionFormat}}null{{/collectionFormat}}, fieldName, value));\r\n                    } catch (Exception ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            queryParams.putAll(apiClient.parameterToMultiValueMap({{#collectionFormat}}ApiClient.CollectionFormat.valueOf(&quot;{{{.}}}&quot;.toUpperCase(Locale.ROOT)){{/collectionFormat}}{{^collectionFormat}}null{{/collectionFormat}}, &quot;{{baseName}}&quot;, {{paramName}}));\r\n        }\r\n```\r\n\r\nand adding imports for \r\n\r\n```java\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.Modifier;\r\n```\r\n\r\nat the top of the Mustache file to modify the generated code so that any parameters which class name ends with `DTO` to replace the previous adding of the DTO object directly to the query parameters with adding all of its defined properties to the query parameter list.\r\n\r\nWhile I&#39;d prefer a solution that doesn&#39;t need reflection in first place and instead use the property definition from the component scheme directly, this at least gets the job done for now. ","title":"Spring OpenApi DTOs in GET requests","body":"<p>After investigating the issue at hand further and checking against the <a href=\"https://swagger.io/docs/specification/serialization/\" rel=\"nofollow noreferrer\">Swagger serialization documentation</a> the generation of the <code>openapi.yaml</code> for the given controller method</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @GetMapping\n  public Page&lt;Ticket&gt; getTickets(\n    @Parameter(explode = Explode.TRUE,\n            in = ParameterIn.QUERY,\n            style = ParameterStyle.FORM\n    ) final TicketSearchFilterDTO filterDto,\n    @ParameterObject @PageableDefault(size = 25) Pageable pageable\n  ) {\n    log.info(&quot;Getting tickets, filter {}, pageable {}&quot;, filterDto, pageable);\n    TicketSearchFilter filter = ticketSearchFilterDTOConverter.convert(filterDto);\n    return ticketSearchRepository.getTickets(filter, pageable);\n  }\n</code></pre>\n<p>which results in an <code>openapi.yaml</code> output like</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.1\ninfo:\n  title: OpenAPI definition\n  version: '@env.CI_COMMIT_REF_NAME@'\nservers:\n  ...\npaths:\n  ...\n  /tickets:\n    get:\n      operationId: getTickets\n      parameters:\n      - explode: true\n        in: query\n        name: filterDto\n        required: true\n        schema:\n          $ref: '#/components/schemas/TicketSearchFilterDTO'\n        style: form\n      - description: Zero-based page index (0..N)\n        explode: true\n        in: query\n        name: page\n        required: false\n        schema:\n          default: 0\n          minimum: 0\n          type: integer\n        style: form\n      - description: The size of the page to be returned\n        explode: true\n        in: query\n        name: size\n        required: false\n        schema:\n          default: 25\n          minimum: 1\n          type: integer\n        style: form\n      - description: &quot;Sorting criteria in the format: property,(asc|desc). Default\\\n          \\ sort order is ascending. Multiple sort criteria are supported.&quot;\n        explode: true\n        in: query\n        name: sort\n        required: false\n        schema:\n          items:\n            type: string\n          type: array\n        style: form\n      responses:\n        &quot;404&quot;:\n          content:\n            '*/*':\n              schema:\n                $ref: '#/components/schemas/NotFoundError'\n          description: Not Found\n        &quot;400&quot;:\n          content:\n            '*/*':\n              schema:\n                type: object\n          description: Bad Request\n        &quot;409&quot;:\n          content:\n            '*/*':\n              schema:\n                type: object\n          description: Conflict\n        &quot;200&quot;:\n          content:\n            '*/*':\n              schema:\n                $ref: '#/components/schemas/PageTicket'\n          description: OK\n      tags:\n      - ticket-controller\n      x-accepts: '*/*'\n    ...\ncomponents:\n  schemas:\n    ...\n    TicketSearchFilterDTO:\n      properties:\n        startsWithInternalIdOrTitle:\n          description: ...\n          type: string\n        ...\n      type: object\n    ...\n</code></pre>\n<p>seems to be fine. This will result in mentioned client API that results in encapsulating the filter options within the desired DTO object. However, <code>openapi-generator-maven-plugin</code> seems to lack coverage of these cases somehow.</p>\n<p>The generator uses Mustache for the client generation and the respective <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/Java/libraries/webclient/api.mustache#L98\" rel=\"nofollow noreferrer\">api.mustache</a> for the input parameter will generate i.e. the following line as part of the RequestCreation sub method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>queryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;filterDto&quot;, filterDto));\n</code></pre>\n<p>This line is in particular responsible for adding the given DTO to the query parameters that will be called by the HTTP client at the end. And this will unfortunately result in the whole DTO being added as <code>fliterDto</code> query parameter in a serialized from rather than its properties being added to the query parameters. That <code>filterDto</code> query parameter is though unknown by the Spring backend and thus will return the first 25 tickets if find regardless of the input.</p>\n<p>The Maven plugin though allows to specify custom Mustache templates i.e. via the following lines added before the <code>&lt;configOptions&gt;</code> section:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;templateDirectory&gt;\n    ./open-api/templates\n&lt;/templateDirectory&gt;\n</code></pre>\n<p>Now it is just a matter of customizing <code>api.mustache</code> at the referenced line in the above-mentioned link with the following code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>        if ({{paramName}}.getClass().getSimpleName().endsWith(&quot;DTO&quot;)) {\n            // iterate through DTOs properties\n            Class&lt;?&gt; clazz = {{paramName}}.getClass();\n            for (Field field : clazz.getDeclaredFields()) {\n                if (Modifier.isPrivate(field.getModifiers()) &amp;&amp; !Modifier.isStatic(field.getModifiers())) {\n                    field.setAccessible(true);\n                    String fieldName = field.getName();\n                    try {\n                        Object value = field.get({{paramName}});\n                        queryParams.putAll(apiClient.parameterToMultiValueMap({{#collectionFormat}}ApiClient.CollectionFormat.valueOf(&quot;{{{.}}}&quot;.toUpperCase(Locale.ROOT)){{/collectionFormat}}{{^collectionFormat}}null{{/collectionFormat}}, fieldName, value));\n                    } catch (Exception ex) {\n                        ex.printStackTrace();\n                    }\n                }\n            }\n        } else {\n            queryParams.putAll(apiClient.parameterToMultiValueMap({{#collectionFormat}}ApiClient.CollectionFormat.valueOf(&quot;{{{.}}}&quot;.toUpperCase(Locale.ROOT)){{/collectionFormat}}{{^collectionFormat}}null{{/collectionFormat}}, &quot;{{baseName}}&quot;, {{paramName}}));\n        }\n</code></pre>\n<p>and adding imports for</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\n</code></pre>\n<p>at the top of the Mustache file to modify the generated code so that any parameters which class name ends with <code>DTO</code> to replace the previous adding of the DTO object directly to the query parameters with adding all of its defined properties to the query parameter list.</p>\n<p>While I'd prefer a solution that doesn't need reflection in first place and instead use the property definition from the component scheme directly, this at least gets the job done for now.</p>\n"}],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76230810,"answer_count":1,"score":0,"last_activity_date":1683831183,"creation_date":1683801423,"question_id":76226703,"body_markdown":"We use OpenAPI to generate the interface description for the services exposed in one of our server applications. We use that `openapi.yaml` then to generate client-sided libraries that will interact with these services for various languages. As the server backend uses the typical Maven + Java Spring Boot techstack we use `springdoc-openapi-maven-plugin` \r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;integration-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;apiDocsUrl&gt;http://localhost:8822/v3/api-docs&lt;/apiDocsUrl&gt;\r\n        &lt;outputFileName&gt;openapi.json&lt;/outputFileName&gt;\r\n        &lt;outputDir&gt;${openapi.outputDir}&lt;/outputDir&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nto generate the interface description and `openapi-generator-maven-plugin` \r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;6.3.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;spring-webclient&lt;/id&gt;\r\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;inputSpec&gt;.../${openapi.outputDir}/openapi.json&lt;/inputSpec&gt;\r\n                &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n                &lt;library&gt;webclient&lt;/library&gt;\r\n                &lt;output&gt;${openapi.outputDir}/spring-webclient&lt;/output&gt;\r\n                &lt;configOptions&gt;\r\n                    &lt;groupId&gt;com.whatever&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;web-api-client&lt;/artifactId&gt;\r\n                    &lt;artifactVersion&gt;${env.CLIENT_VERSION}&lt;/artifactVersion&gt;\r\n                    &lt;apiPackage&gt;com.whatever.api&lt;/apiPackage&gt;\r\n                    &lt;modelPackage&gt;com.whatever.dto&lt;/modelPackage&gt;\r\n                    &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n                    &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                &lt;/configOptions&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nto generate the client library project for Java based clients. \r\n\r\nThis setup works in general but for one of our services which allows the management of various tickets we have a couple of business methods that operate on a provided search filter. This is implemented through a DTO that has roughly 30+ properties that can be specified.\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Schema\r\npublic class TicketSearchFilterDTO implements Serializable {\r\n\r\n  @Schema(\r\n          description = &quot;...&quot;\r\n  )\r\n  @JsonInclude(JsonInclude.Include.NON_NULL)\r\n  private String startsWithInternalIdOrTitle;\r\n  ...\r\n}\r\n```\r\n\r\nWithin a Spring typical `RestController` named `TicketController` one of the methods is now defining a GET endpoint for querying a list of tickets that match the given search filter. In Java Spring syntax this is implemented as such:\r\n\r\n```java\r\n@GetMapping\r\npublic Page&lt;Ticket&gt; getTickets(\r\n    @ParameterObject TicketSearchFilterDTO filterDto,\r\n    @ParameterObject @PageableDefault(size = 25) Pageable pageable\r\n) {\r\n  log.info(&quot;Getting tickets, filter {}, pageable {}&quot;, filterDto, pageable);\r\n  TicketSearchFilter filter = ticketSearchFilterDTOConverter.convert(filterDto);\r\n  return ticketSearchRepository.getTickets(filter, pageable);\r\n}\r\n```\r\n\r\nwhich results in a OpenAPI interface definition like\r\n\r\n```yaml\r\nopenapi: 3.0.1\r\ninfo:\r\n  title: OpenAPI definition\r\n  version: &#39;@env.CI_COMMIT_REF_NAME@&#39;\r\nservers:\r\n  ...\r\npaths:\r\n  ...\r\n  /tickets:\r\n    get:\r\n      operationId: getTickets\r\n      parameters:\r\n      - explode: true\r\n        in: query\r\n        name: startsWithInternalIdOrTitle\r\n        required: false\r\n        schema:\r\n          description: ...\r\n          type: string\r\n        style: form\r\n      ...\r\n      - description: Zero-based page index (0..N)\r\n        explode: true\r\n        in: query\r\n        name: page\r\n        required: false\r\n        schema:\r\n          default: 0\r\n          minimum: 0\r\n          type: integer\r\n        style: form\r\n      - description: The size of the page to be returned\r\n        explode: true\r\n        in: query\r\n        name: size\r\n        required: false\r\n        schema:\r\n          default: 25\r\n          minimum: 1\r\n          type: integer\r\n        style: form\r\n      - description: &quot;Sorting criteria in the format: property,(asc|desc). Default\\\r\n          \\ sort order is ascending. Multiple sort criteria are supported.&quot;\r\n        explode: true\r\n        in: query\r\n        name: sort\r\n        required: false\r\n        schema:\r\n          items:\r\n            type: string\r\n          type: array\r\n        style: form\r\n      responses:\r\n        &quot;404&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/NotFoundError&#39;\r\n          description: Not Found\r\n        &quot;400&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                type: object\r\n          description: Bad Request\r\n        &quot;409&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                type: object\r\n          description: Conflict\r\n        &quot;200&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/PageTicket&#39;\r\n          description: OK\r\n      tags:\r\n      - ticket-controller\r\n      x-accepts: &#39;*/*&#39;\r\n```\r\n\r\nWhen generating the Java client code for this definition I will have a `TicketControllerApi` class available that provides the mentioned `getTickets` method. But instead of providing a `TicketSearchFilterDTO` as input parameter it exposes all of the 30+ possible search parameters as argument to that method.\r\n\r\n```java\r\nopenApiClient.getTicketControllerApi().getTickets(&quot;abc123&quot;, ..., 0, 25, List.of());\r\n```\r\n\r\nwhere the last 3 arguments represents the `Pageable` parameters for page, size and sort order. As we have so many search parameters nulling out all of the not used search filters is a bit tedious if we i.e. only want to allow a search via the internal ID or the title of a ticket. When invoking this method we see that a request to `/tickets?startsWithInternalIdOrTitle=abc123&amp;page=0&amp;size=25` is made, which is picked up by our Spring ticket controller as intended. The client will only add properties to the URI that were specified and are therefore non-null values.\r\n\r\nIn an attempt to make the client code a bit less painful I stumbled on this [Github issue](https://github.com/springdoc/springdoc-openapi/issues/12) where a user is using\r\n\r\n```java\r\n@Parameter(\r\n    explode = Explode.TRUE, \r\n    in = ParameterIn.QUERY, \r\n    content = @Content(\r\n        schema = @Schema(implementation = TicketSearchFilterDTO.class, \r\n        ref = &quot;#/components/schemas/TicketSearchFilterDTO&quot;)\r\n    )\r\n) final TicketSearchFilterDTO filterDto\r\n```\r\n\r\ninstead of \r\n\r\n```java\r\n@ParameterObject final TicketSearchFilterDTO filterDto\r\n```\r\n\r\nas argument definition for the `getTickets(...)` method. This will change the OpenAPI definition to \r\n\r\n```yaml\r\nopenapi: 3.0.1\r\ninfo:\r\n  title: OpenAPI definition\r\n  version: &#39;@env.CI_COMMIT_REF_NAME@&#39;\r\nservers:\r\n  ...\r\npaths:\r\n  ...\r\n  /tickets:\r\n    get:\r\n      operationId: getTickets\r\n      parameters:\r\n      - content:\r\n          &#39;*/*&#39;:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/TicketSearchFilterDTO&#39;\r\n        in: query\r\n        name: filterDto\r\n        required: true\r\n      - description: Zero-based page index (0..N)\r\n        explode: true\r\n        in: query\r\n        name: page\r\n        required: false\r\n        schema:\r\n          default: 0\r\n          minimum: 0\r\n          type: integer\r\n        style: form\r\n      - description: The size of the page to be returned\r\n        explode: true\r\n        in: query\r\n        name: size\r\n        required: false\r\n        schema:\r\n          default: 25\r\n          minimum: 1\r\n          type: integer\r\n        style: form\r\n      - description: &quot;Sorting criteria in the format: property,(asc|desc). Default\\\r\n          \\ sort order is ascending. Multiple sort criteria are supported.&quot;\r\n        explode: true\r\n        in: query\r\n        name: sort\r\n        required: false\r\n        schema:\r\n          items:\r\n            type: string\r\n          type: array\r\n        style: form\r\n      responses:\r\n        &quot;404&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/NotFoundError&#39;\r\n          description: Not Found\r\n        &quot;400&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                type: object\r\n          description: Bad Request\r\n        &quot;409&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                type: object\r\n          description: Conflict\r\n        &quot;200&quot;:\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/PageTicket&#39;\r\n          description: OK\r\n      tags:\r\n      - ticket-controller\r\n      x-accepts: &#39;*/*&#39;\r\n  ...\r\ncomponents:\r\n  ...\r\n  schemas:\r\n    ...\r\n    TicketSearchFilterDTO:\r\n      properties:\r\n        startsWithInternalIdOrTitle:\r\n          description: ...\r\n          type: string\r\n        ...\r\n      type: object\r\n    ...\r\n```\r\n\r\nWhen generating the Java client stuff the actual usage now changes to\r\n\r\n```java\r\nTicketSearchFilterDTO searchFilter = new TicketSearchFilterDTO();\r\nsearchFilter.setStartsWithInternalIdOrTitle(&quot;abc123&quot;);\r\nopenApiClient.getTicketControllerApi().getTickets(searchFilter, 0, 25, List.of());\r\n```\r\n\r\nwhich actually matches what we aim for, however, when sending a request with this implementation the OpenAPI client will serialize the DTO as is into the URI instead of the DTO&#39;s parameters when not null:\r\n\r\n`/tickets?filterDto=class%20TicketSearchFilterDTO%20%7B%0A%20%20%20%20startsWithInternalIdOrTitle%3A%20abc123%0A%20%20%20%20...&amp;page=0&amp;size=15`\r\n\r\nwhich our Spring backend controller can&#39;t handle and therefore will return a DTO that is actually null and therefore will result in the first 25 entries being returned. The generated client Java code does look like this:\r\n\r\n```java\r\npublic Mono&lt;PageTicket&gt; getTickets(TicketSearchFilterDTO filterDto, Integer page, Integer size, List&lt;String&gt; sort) throws WebClientResponseException {\r\n    ParameterizedTypeReference&lt;PageTicket&gt; localVarReturnType = new ParameterizedTypeReference&lt;PageTicket&gt;() {};\r\n    return getTicketsRequestCreation(filterDto, page, size, sort).bodyToMono(localVarReturnType);\r\n}\r\n\r\nprivate ResponseSpec getTicketsRequestCreation(TicketSearchFilterDTO filterDto, Integer page, Integer size, List&lt;String&gt; sort) throws WebClientResponseException {\r\n    Object postBody = null;\r\n    // verify the required parameter &#39;filterDto&#39; is set\r\n    if (filterDto == null) {\r\n        throw new WebClientResponseException(&quot;Missing the required parameter &#39;filterDto&#39; when calling getTickets&quot;, HttpStatus.BAD_REQUEST.value(), HttpStatus.BAD_REQUEST.getReasonPhrase(), null, null, null);\r\n    }\r\n    // create path and map variables\r\n    final Map&lt;String, Object&gt; pathParams = new HashMap&lt;String, Object&gt;();\r\n\r\n    final MultiValueMap&lt;String, String&gt; queryParams = new LinkedMultiValueMap&lt;String, String&gt;();\r\n    final HttpHeaders headerParams = new HttpHeaders();\r\n    final MultiValueMap&lt;String, String&gt; cookieParams = new LinkedMultiValueMap&lt;String, String&gt;();\r\n    final MultiValueMap&lt;String, Object&gt; formParams = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n\r\n    queryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;filterDto&quot;, filterDto));\r\n    queryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;page&quot;, page));\r\n    queryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;size&quot;, size));\r\n    queryParams.putAll(apiClient.parameterToMultiValueMap(ApiClient.CollectionFormat.valueOf(&quot;multi&quot;.toUpperCase(Locale.ROOT)), &quot;sort&quot;, sort));\r\n\r\n    final String[] localVarAccepts = { \r\n        &quot;*/*&quot;\r\n    };\r\n    final List&lt;MediaType&gt; localVarAccept = apiClient.selectHeaderAccept(localVarAccepts);\r\n    final String[] localVarContentTypes = { };\r\n    final MediaType localVarContentType = apiClient.selectHeaderContentType(localVarContentTypes);\r\n\r\n    String[] localVarAuthNames = new String[] {  };\r\n\r\n    ParameterizedTypeReference&lt;PageTicket&gt; localVarReturnType = new ParameterizedTypeReference&lt;PageTicket&gt;() {};\r\n    return apiClient.invokeAPI(&quot;/tickets&quot;, HttpMethod.GET, pathParams, queryParams, postBody, headerParams, cookieParams, formParams, localVarAccept, localVarContentType, localVarAuthNames, localVarReturnType);\r\n}\r\n```\r\n\r\nand so the core issue should be contained in the way the `filterDto` parameter is added: `queryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;filterDto&quot;, filterDto));`.\r\n\r\nWhile manually customizing that code can surely solve this issue this DTO is just one of many and we have plenty more controllers that operate on the same premise. Also, manually checking which properties a DTO defines involves reflection which might not be needed as the definition of the `TicketSearchFilterDTO` should be there already in the `openapi.yaml` definition.\r\n\r\nNot that for PUT or POST requests where the DTO is added with `@RequestBody @Valid` annotations, OpenAPI is perfectly fine in generating method that expose DTOs to clients directly when Java code is generated therefore. Also the response is picked up by the Spring controller this way without much issues here. So the problem here only exists for GET requests where the properties of the DTO should be encoded into the URI when performing the actual request.\r\n\r\nAs this shouldn&#39;t be a to uncommon case in practice I wonder if there is a way to generate client code that allows DTOs in GET requests being added to the URI called when a parameter is non-null? Or is there a better alternative to allow the usage of DTOs within GET requests via generated OpenAPI client code out of the box?","title":"Spring OpenApi DTOs in GET requests","body":"<p>We use OpenAPI to generate the interface description for the services exposed in one of our server applications. We use that <code>openapi.yaml</code> then to generate client-sided libraries that will interact with these services for various languages. As the server backend uses the typical Maven + Java Spring Boot techstack we use <code>springdoc-openapi-maven-plugin</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;apiDocsUrl&gt;http://localhost:8822/v3/api-docs&lt;/apiDocsUrl&gt;\n        &lt;outputFileName&gt;openapi.json&lt;/outputFileName&gt;\n        &lt;outputDir&gt;${openapi.outputDir}&lt;/outputDir&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>to generate the interface description and <code>openapi-generator-maven-plugin</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.3.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;spring-webclient&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputSpec&gt;.../${openapi.outputDir}/openapi.json&lt;/inputSpec&gt;\n                &lt;generatorName&gt;java&lt;/generatorName&gt;\n                &lt;library&gt;webclient&lt;/library&gt;\n                &lt;output&gt;${openapi.outputDir}/spring-webclient&lt;/output&gt;\n                &lt;configOptions&gt;\n                    &lt;groupId&gt;com.whatever&lt;/groupId&gt;\n                    &lt;artifactId&gt;web-api-client&lt;/artifactId&gt;\n                    &lt;artifactVersion&gt;${env.CLIENT_VERSION}&lt;/artifactVersion&gt;\n                    &lt;apiPackage&gt;com.whatever.api&lt;/apiPackage&gt;\n                    &lt;modelPackage&gt;com.whatever.dto&lt;/modelPackage&gt;\n                    &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                    &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>to generate the client library project for Java based clients.</p>\n<p>This setup works in general but for one of our services which allows the management of various tickets we have a couple of business methods that operate on a provided search filter. This is implemented through a DTO that has roughly 30+ properties that can be specified.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Schema\npublic class TicketSearchFilterDTO implements Serializable {\n\n  @Schema(\n          description = &quot;...&quot;\n  )\n  @JsonInclude(JsonInclude.Include.NON_NULL)\n  private String startsWithInternalIdOrTitle;\n  ...\n}\n</code></pre>\n<p>Within a Spring typical <code>RestController</code> named <code>TicketController</code> one of the methods is now defining a GET endpoint for querying a list of tickets that match the given search filter. In Java Spring syntax this is implemented as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic Page&lt;Ticket&gt; getTickets(\n    @ParameterObject TicketSearchFilterDTO filterDto,\n    @ParameterObject @PageableDefault(size = 25) Pageable pageable\n) {\n  log.info(&quot;Getting tickets, filter {}, pageable {}&quot;, filterDto, pageable);\n  TicketSearchFilter filter = ticketSearchFilterDTOConverter.convert(filterDto);\n  return ticketSearchRepository.getTickets(filter, pageable);\n}\n</code></pre>\n<p>which results in a OpenAPI interface definition like</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.1\ninfo:\n  title: OpenAPI definition\n  version: '@env.CI_COMMIT_REF_NAME@'\nservers:\n  ...\npaths:\n  ...\n  /tickets:\n    get:\n      operationId: getTickets\n      parameters:\n      - explode: true\n        in: query\n        name: startsWithInternalIdOrTitle\n        required: false\n        schema:\n          description: ...\n          type: string\n        style: form\n      ...\n      - description: Zero-based page index (0..N)\n        explode: true\n        in: query\n        name: page\n        required: false\n        schema:\n          default: 0\n          minimum: 0\n          type: integer\n        style: form\n      - description: The size of the page to be returned\n        explode: true\n        in: query\n        name: size\n        required: false\n        schema:\n          default: 25\n          minimum: 1\n          type: integer\n        style: form\n      - description: &quot;Sorting criteria in the format: property,(asc|desc). Default\\\n          \\ sort order is ascending. Multiple sort criteria are supported.&quot;\n        explode: true\n        in: query\n        name: sort\n        required: false\n        schema:\n          items:\n            type: string\n          type: array\n        style: form\n      responses:\n        &quot;404&quot;:\n          content:\n            '*/*':\n              schema:\n                $ref: '#/components/schemas/NotFoundError'\n          description: Not Found\n        &quot;400&quot;:\n          content:\n            '*/*':\n              schema:\n                type: object\n          description: Bad Request\n        &quot;409&quot;:\n          content:\n            '*/*':\n              schema:\n                type: object\n          description: Conflict\n        &quot;200&quot;:\n          content:\n            '*/*':\n              schema:\n                $ref: '#/components/schemas/PageTicket'\n          description: OK\n      tags:\n      - ticket-controller\n      x-accepts: '*/*'\n</code></pre>\n<p>When generating the Java client code for this definition I will have a <code>TicketControllerApi</code> class available that provides the mentioned <code>getTickets</code> method. But instead of providing a <code>TicketSearchFilterDTO</code> as input parameter it exposes all of the 30+ possible search parameters as argument to that method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>openApiClient.getTicketControllerApi().getTickets(&quot;abc123&quot;, ..., 0, 25, List.of());\n</code></pre>\n<p>where the last 3 arguments represents the <code>Pageable</code> parameters for page, size and sort order. As we have so many search parameters nulling out all of the not used search filters is a bit tedious if we i.e. only want to allow a search via the internal ID or the title of a ticket. When invoking this method we see that a request to <code>/tickets?startsWithInternalIdOrTitle=abc123&amp;page=0&amp;size=25</code> is made, which is picked up by our Spring ticket controller as intended. The client will only add properties to the URI that were specified and are therefore non-null values.</p>\n<p>In an attempt to make the client code a bit less painful I stumbled on this <a href=\"https://github.com/springdoc/springdoc-openapi/issues/12\" rel=\"nofollow noreferrer\">Github issue</a> where a user is using</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Parameter(\n    explode = Explode.TRUE, \n    in = ParameterIn.QUERY, \n    content = @Content(\n        schema = @Schema(implementation = TicketSearchFilterDTO.class, \n        ref = &quot;#/components/schemas/TicketSearchFilterDTO&quot;)\n    )\n) final TicketSearchFilterDTO filterDto\n</code></pre>\n<p>instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterObject final TicketSearchFilterDTO filterDto\n</code></pre>\n<p>as argument definition for the <code>getTickets(...)</code> method. This will change the OpenAPI definition to</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.1\ninfo:\n  title: OpenAPI definition\n  version: '@env.CI_COMMIT_REF_NAME@'\nservers:\n  ...\npaths:\n  ...\n  /tickets:\n    get:\n      operationId: getTickets\n      parameters:\n      - content:\n          '*/*':\n            schema:\n              $ref: '#/components/schemas/TicketSearchFilterDTO'\n        in: query\n        name: filterDto\n        required: true\n      - description: Zero-based page index (0..N)\n        explode: true\n        in: query\n        name: page\n        required: false\n        schema:\n          default: 0\n          minimum: 0\n          type: integer\n        style: form\n      - description: The size of the page to be returned\n        explode: true\n        in: query\n        name: size\n        required: false\n        schema:\n          default: 25\n          minimum: 1\n          type: integer\n        style: form\n      - description: &quot;Sorting criteria in the format: property,(asc|desc). Default\\\n          \\ sort order is ascending. Multiple sort criteria are supported.&quot;\n        explode: true\n        in: query\n        name: sort\n        required: false\n        schema:\n          items:\n            type: string\n          type: array\n        style: form\n      responses:\n        &quot;404&quot;:\n          content:\n            '*/*':\n              schema:\n                $ref: '#/components/schemas/NotFoundError'\n          description: Not Found\n        &quot;400&quot;:\n          content:\n            '*/*':\n              schema:\n                type: object\n          description: Bad Request\n        &quot;409&quot;:\n          content:\n            '*/*':\n              schema:\n                type: object\n          description: Conflict\n        &quot;200&quot;:\n          content:\n            '*/*':\n              schema:\n                $ref: '#/components/schemas/PageTicket'\n          description: OK\n      tags:\n      - ticket-controller\n      x-accepts: '*/*'\n  ...\ncomponents:\n  ...\n  schemas:\n    ...\n    TicketSearchFilterDTO:\n      properties:\n        startsWithInternalIdOrTitle:\n          description: ...\n          type: string\n        ...\n      type: object\n    ...\n</code></pre>\n<p>When generating the Java client stuff the actual usage now changes to</p>\n<pre class=\"lang-java prettyprint-override\"><code>TicketSearchFilterDTO searchFilter = new TicketSearchFilterDTO();\nsearchFilter.setStartsWithInternalIdOrTitle(&quot;abc123&quot;);\nopenApiClient.getTicketControllerApi().getTickets(searchFilter, 0, 25, List.of());\n</code></pre>\n<p>which actually matches what we aim for, however, when sending a request with this implementation the OpenAPI client will serialize the DTO as is into the URI instead of the DTO's parameters when not null:</p>\n<p><code>/tickets?filterDto=class%20TicketSearchFilterDTO%20%7B%0A%20%20%20%20startsWithInternalIdOrTitle%3A%20abc123%0A%20%20%20%20...&amp;page=0&amp;size=15</code></p>\n<p>which our Spring backend controller can't handle and therefore will return a DTO that is actually null and therefore will result in the first 25 entries being returned. The generated client Java code does look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;PageTicket&gt; getTickets(TicketSearchFilterDTO filterDto, Integer page, Integer size, List&lt;String&gt; sort) throws WebClientResponseException {\n    ParameterizedTypeReference&lt;PageTicket&gt; localVarReturnType = new ParameterizedTypeReference&lt;PageTicket&gt;() {};\n    return getTicketsRequestCreation(filterDto, page, size, sort).bodyToMono(localVarReturnType);\n}\n\nprivate ResponseSpec getTicketsRequestCreation(TicketSearchFilterDTO filterDto, Integer page, Integer size, List&lt;String&gt; sort) throws WebClientResponseException {\n    Object postBody = null;\n    // verify the required parameter 'filterDto' is set\n    if (filterDto == null) {\n        throw new WebClientResponseException(&quot;Missing the required parameter 'filterDto' when calling getTickets&quot;, HttpStatus.BAD_REQUEST.value(), HttpStatus.BAD_REQUEST.getReasonPhrase(), null, null, null);\n    }\n    // create path and map variables\n    final Map&lt;String, Object&gt; pathParams = new HashMap&lt;String, Object&gt;();\n\n    final MultiValueMap&lt;String, String&gt; queryParams = new LinkedMultiValueMap&lt;String, String&gt;();\n    final HttpHeaders headerParams = new HttpHeaders();\n    final MultiValueMap&lt;String, String&gt; cookieParams = new LinkedMultiValueMap&lt;String, String&gt;();\n    final MultiValueMap&lt;String, Object&gt; formParams = new LinkedMultiValueMap&lt;String, Object&gt;();\n\n    queryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;filterDto&quot;, filterDto));\n    queryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;page&quot;, page));\n    queryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;size&quot;, size));\n    queryParams.putAll(apiClient.parameterToMultiValueMap(ApiClient.CollectionFormat.valueOf(&quot;multi&quot;.toUpperCase(Locale.ROOT)), &quot;sort&quot;, sort));\n\n    final String[] localVarAccepts = { \n        &quot;*/*&quot;\n    };\n    final List&lt;MediaType&gt; localVarAccept = apiClient.selectHeaderAccept(localVarAccepts);\n    final String[] localVarContentTypes = { };\n    final MediaType localVarContentType = apiClient.selectHeaderContentType(localVarContentTypes);\n\n    String[] localVarAuthNames = new String[] {  };\n\n    ParameterizedTypeReference&lt;PageTicket&gt; localVarReturnType = new ParameterizedTypeReference&lt;PageTicket&gt;() {};\n    return apiClient.invokeAPI(&quot;/tickets&quot;, HttpMethod.GET, pathParams, queryParams, postBody, headerParams, cookieParams, formParams, localVarAccept, localVarContentType, localVarAuthNames, localVarReturnType);\n}\n</code></pre>\n<p>and so the core issue should be contained in the way the <code>filterDto</code> parameter is added: <code>queryParams.putAll(apiClient.parameterToMultiValueMap(null, &quot;filterDto&quot;, filterDto));</code>.</p>\n<p>While manually customizing that code can surely solve this issue this DTO is just one of many and we have plenty more controllers that operate on the same premise. Also, manually checking which properties a DTO defines involves reflection which might not be needed as the definition of the <code>TicketSearchFilterDTO</code> should be there already in the <code>openapi.yaml</code> definition.</p>\n<p>Not that for PUT or POST requests where the DTO is added with <code>@RequestBody @Valid</code> annotations, OpenAPI is perfectly fine in generating method that expose DTOs to clients directly when Java code is generated therefore. Also the response is picked up by the Spring controller this way without much issues here. So the problem here only exists for GET requests where the properties of the DTO should be encoded into the URI when performing the actual request.</p>\n<p>As this shouldn't be a to uncommon case in practice I wonder if there is a way to generate client code that allows DTOs in GET requests being added to the URI called when a parameter is non-null? Or is there a better alternative to allow the usage of DTOs within GET requests via generated OpenAPI client code out of the box?</p>\n"},{"tags":["java","hibernate","spring-data-jpa","data-persistence"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683831565,"post_id":76230796,"comment_id":134430785,"body_markdown":"it tries to insert because PK is null/0, the constraint violation occurs (most likely) because there is already a movie with this &quot;imdbUrl&quot; ..","body":"it tries to insert because PK is null/0, the constraint violation occurs (most likely) because there is already a movie with this &quot;imdbUrl&quot; .."},{"owner":{"account_id":28583354,"reputation":11,"user_id":21884061,"display_name":"Souryuusen"},"score":0,"creation_date":1683831889,"post_id":76230796,"comment_id":134430841,"body_markdown":"So in theory assinging PK (movieID field) to the one matching already existing entry would cause it call update instead of insert? i.e first search in db for imdbLink then modify the entity and save it again - am i thinking correctly here?","body":"So in theory assinging PK (movieID field) to the one matching already existing entry would cause it call update instead of insert? i.e first search in db for imdbLink then modify the entity and save it again - am i thinking correctly here?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683833675,"post_id":76230796,"comment_id":134431210,"body_markdown":"Theory: yes that&#39;s how &quot;spring data repository save&quot; works (to distinguish between &quot;create&quot; or &quot;update&quot;) ... especially true with &quot;generated id&#39;s&quot; ...with &quot;manual id&quot; it&#39;d be more complex","body":"Theory: yes that&#39;s how &quot;spring data repository save&quot; works (to distinguish between &quot;create&quot; or &quot;update&quot;) ... especially true with &quot;generated id&#39;s&quot; ...with &quot;manual id&quot; it&#39;d be more complex"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683833757,"post_id":76230796,"comment_id":134431233,"body_markdown":"Your thinking is also &quot;ok&quot;, but you/someone should ensure: `a.id == b.id` &lt;=&gt; `a.imdbUrl == b.imdbUrl`","body":"Your thinking is also &quot;ok&quot;, but you/someone should ensure: <code>a.id == b.id</code> &lt;=&gt; <code>a.imdbUrl == b.imdbUrl</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683834126,"post_id":76230796,"comment_id":134431325,"body_markdown":"Easiest/best the &quot;client&quot; doesn&#39;t know/provide the &quot;id&quot; ...then you can treat &quot;imdbUrl&quot; as &quot;natural id&quot; ..with eventually doing custom &quot;create or update logic&quot; (i.e. a &quot;select&quot; up front)","body":"Easiest/best the &quot;client&quot; doesn&#39;t know/provide the &quot;id&quot; ...then you can treat &quot;imdbUrl&quot; as &quot;natural id&quot; ..with eventually doing custom &quot;create or update logic&quot; (i.e. a &quot;select&quot; up front)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683834680,"post_id":76230796,"comment_id":134431443,"body_markdown":"One small (but important!) thing I miss/didn&#39;t find: `hashCode` and `equals` methods... (You use `movie.equals(other)`!) ..are they in &quot;etc...&quot;!?","body":"One small (but important!) thing I miss/didn&#39;t find: <code>hashCode</code> and <code>equals</code> methods... (You use <code>movie.equals(other)</code>!) ..are they in &quot;etc...&quot;!?"},{"owner":{"account_id":28583354,"reputation":11,"user_id":21884061,"display_name":"Souryuusen"},"score":1,"creation_date":1683835109,"post_id":76230796,"comment_id":134431540,"body_markdown":"Ah the hashCode and equals methods are defined inside &quot;BaseEntity&quot;\n`@EqualsAndHashCode(of = {&quot;uuid&quot;})\npublic abstract class BaseEntity {\n    @Getter @Setter\n    private UUID uuid = UUID.randomUUID();\n}`","body":"Ah the hashCode and equals methods are defined inside &quot;BaseEntity&quot; <code>@EqualsAndHashCode(of = {&quot;uuid&quot;}) public abstract class BaseEntity {     @Getter @Setter     private UUID uuid = UUID.randomUUID(); }</code>"},{"owner":{"account_id":28583354,"reputation":11,"user_id":21884061,"display_name":"Souryuusen"},"score":0,"creation_date":1683835191,"post_id":76230796,"comment_id":134431560,"body_markdown":"It was one the the things I&#39;ve tried based on some article i&#39;ve digged up on web - the question remains if it sensible to be defined that way","body":"It was one the the things I&#39;ve tried based on some article i&#39;ve digged up on web - the question remains if it sensible to be defined that way"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683847373,"post_id":76230796,"comment_id":134433358,"body_markdown":"this hashCode and equals is problematic! (in jpa/orm &quot;equals&quot; should &quot;align with pk&quot;... .i.e. &quot;identity&quot;)","body":"this hashCode and equals is problematic! (in jpa/orm &quot;equals&quot; should &quot;align with pk&quot;... .i.e. &quot;identity&quot;)"},{"owner":{"account_id":28583354,"reputation":11,"user_id":21884061,"display_name":"Souryuusen"},"score":0,"creation_date":1683875848,"post_id":76230796,"comment_id":134436367,"body_markdown":"Ok, so the proper way is to use condition like id == m.id &amp;&amp; imdbURL.equalsIgnoreCase(m.getImdbUrl()) in order to ensure true equality between entities and calculate hash from those two fields. But in that case should there be method to check whenever entities are equal field-value-like?","body":"Ok, so the proper way is to use condition like id == m.id &amp;&amp; imdbURL.equalsIgnoreCase(m.getImdbUrl()) in order to ensure true equality between entities and calculate hash from those two fields. But in that case should there be method to check whenever entities are equal field-value-like?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683891590,"post_id":76230796,"comment_id":134439714,"body_markdown":"Id *and* imdbUrl (match) is too strict, i think... The equals method should consider all &quot;possible&quot; cases: persisted vs new entity, &quot;times&quot;: neither matches (easy), both match (also easy), only one matches (this i would avoid! &quot;times&quot;: id matches, or imdbUrl matches)...","body":"Id <i>and</i> imdbUrl (match) is too strict, i think... The equals method should consider all &quot;possible&quot; cases: persisted vs new entity, &quot;times&quot;: neither matches (easy), both match (also easy), only one matches (this i would avoid! &quot;times&quot;: id matches, or imdbUrl matches)..."},{"owner":{"account_id":28583354,"reputation":11,"user_id":21884061,"display_name":"Souryuusen"},"score":1,"creation_date":1683892232,"post_id":76230796,"comment_id":134439850,"body_markdown":"Ah, ok. Thanks for bearing with me &#128513; so the best way is define url with @NaturalId annotation and base my equals and hash on that value because I know that it has to be unique within all entities set. Your answers really helped me to &quot;sort&quot; all of the used mechanisms in proper places. Thanks again ;)","body":"Ah, ok. Thanks for bearing with me 😁 so the best way is define url with @NaturalId annotation and base my equals and hash on that value because I know that it has to be unique within all entities set. Your answers really helped me to &quot;sort&quot; all of the used mechanisms in proper places. Thanks again ;)"}],"owner":{"account_id":28583354,"reputation":11,"user_id":21884061,"display_name":"Souryuusen"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683831038,"creation_date":1683831038,"question_id":76230796,"body_markdown":"I have a really simple project using Spring Data JPA with Hibernate consisting of:\r\n\r\nMovie Entity:\r\n```\r\n@Entity\r\n@Table(name = &quot;MOVIES&quot;)\r\n@NoArgsConstructor @RequiredArgsConstructor\r\n@ToString(exclude = {&quot;directors&quot;, &quot;writers&quot;, &quot;reviews&quot;})\r\npublic class Movie extends BaseEntity{\r\n\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = &quot;movie_id&quot;) @Getter\r\n    private long movieID;\r\n    @Column(name = &quot;title&quot;, nullable = false) @Getter @Setter @NonNull\r\n    private String title;\r\n    @Column(name = &quot;imdb_url&quot;, unique = true) @Getter @Setter\r\n    private String imdbUrl;\r\n    @Column(name = &quot;cover_url&quot;) @Getter @Setter\r\n    private String coverUrl;\r\n    @Column(name = &quot;runtime&quot;) @Getter @Setter\r\n    private String runtime;\r\n    @Column(name = &quot;language&quot;) @Getter @Setter\r\n    private String language;\r\n    @Column(name = &quot;release_date&quot;) @Getter @Setter\r\n    private String releaseDate;\r\n\r\n    @Getter @Setter\r\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JsonIgnoreProperties({&quot;directors&quot;, &quot;writers&quot;, &quot;reviews&quot;})\r\n    @JoinTable(\r\n            name = &quot;MOVIE_DIRECTORS&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;director_id&quot;)\r\n    )\r\n    private Set&lt;Director&gt; directors;\r\n\r\n    @Getter @Setter\r\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    @JoinTable(\r\n            name = &quot;MOVIE_WRITERS&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;writer_id&quot;)\r\n    )\r\n    private Set&lt;Writer&gt; writers;\r\n\r\n    @Getter @Setter\r\n    @OneToMany(mappedBy = &quot;reviewedMovie&quot;, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    private Set&lt;Review&gt; reviews;\r\n\r\n    // Methods to add elements to directors etc...\r\n\r\n}\r\n```\r\n\r\nDirector Entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Directors&quot;)\r\n@NoArgsConstructor @RequiredArgsConstructor\r\n@ToString(includeFieldNames = false, onlyExplicitlyIncluded = true)\r\npublic class Director extends BaseEntity{\r\n\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = &quot;director_id&quot;) @Getter\r\n    private long directorID;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false, unique = true) @Getter @Setter @NonNull @ToString.Include\r\n    private String name;\r\n\r\n    @Setter @Getter\r\n    @ManyToMany(mappedBy = &quot;directors&quot;)\r\n    private Set&lt;Movie&gt; directedMovies;\r\n}\r\n```\r\n\r\n\r\nWriter Entity:\r\n```\r\n@Entity\r\n@Table(name = &quot;Writers&quot;)\r\n@NoArgsConstructor @RequiredArgsConstructor\r\n@ToString(includeFieldNames = false, onlyExplicitlyIncluded = true)\r\npublic class Writer extends BaseEntity{\r\n\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = &quot;writer_id&quot;) @Getter\r\n    private long writerID;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false, unique = true) @Getter @Setter @NonNull @ToString.Include\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;writers&quot;)\r\n    private Set&lt;Movie&gt; writtenMovies;\r\n}\r\n```\r\n\r\nReview Entity:\r\n```\r\n@Entity\r\n@Table(name = &quot;REVIEWS&quot;)\r\n@NoArgsConstructor @RequiredArgsConstructor\r\n@ToString\r\npublic class Review extends BaseEntity{\r\n\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Setter @Getter\r\n    @Column(name = &quot;review_id&quot;)\r\n    private long reviewID;\r\n\r\n    @Getter @Setter @NonNull\r\n    @Column(name = &quot;rating&quot;, nullable = false)\r\n    private int rating;\r\n\r\n    @Getter @Setter @NonNull\r\n    @Column(name = &quot;review&quot;)\r\n    private String review;\r\n\r\n    @Getter @Setter @NonNull\r\n    @Column(name = &quot;creation_time&quot;)\r\n    private ZonedDateTime creationData;\r\n\r\n    @Getter @Setter @NonNull @ToString.Exclude\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;movieID&quot;, nullable = false)\r\n    private Movie reviewedMovie;\r\n\r\n}\r\n```\r\n\r\nThe problem is occuring after initial persisting of 1 movie entity with set directors/writers/reviews app throws \r\n\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: \r\nUnique index or primary key violation: &quot;PUBLIC.UK_BAQ304EOVCBM0CVQ2QNDI1W2N_INDEX_8 ON PUBLIC.MOVIES(IMDB_URL NULLS FIRST) VALUES ( /* 1 */ &#39;xxx&#39; )&quot;; SQL statement:\r\ninsert into movies (movie_id, cover_url, imdb_url, language, release_date, runtime, title) values (default, ?, ?, ?, ?, ?, ?) [23505-214]\r\n```\r\n\r\n\r\n\r\nI&#39;ve created test code for above:\r\n\r\n\r\n```\r\n@Component\r\npublic class DataInitializer implements CommandLineRunner {\r\n\r\n    private final MovieService movieService;\r\n    private final ReviewService reviewService;\r\n    private final DirectorService directorService;\r\n\r\n    public DataInitializer(MovieService movieService, ReviewService reviewService, DirectorService directorService) {\r\n        this.movieService = movieService;\r\n        this.reviewService = reviewService;\r\n        this.directorService = directorService;\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        addRandomMovies(2);\r\n\r\n        try{\r\n            Thread.sleep(5000);\r\n        } catch (InterruptedException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        fetchMovies();\r\n    }\r\n\r\n    private void addRandomMovies(int amount) {\r\n        for(int i = 1; i &lt;= amount; i++) {\r\n            Movie m = new MovieBuilderImplementation().withTitle(&quot;Test Movie: &quot; + (i)).withReleaseDate(&quot;&quot; + (1970+i))\r\n                            .withRuntime(&quot;1h &quot; + i + &quot;m &quot; + i + &quot;s&quot;).withLanguage(&quot;en&quot;)\r\n                            .withImdbUrl(&quot;www.imdb.com/&quot; + i).withCoverUrl(&quot;www.img.com/&quot; + i).build();\r\n            m.addDirector(new Director(&quot;a&quot; + i + &quot; b&quot;));\r\n            m.addWriter(new Writer(&quot;c&quot; + i + &quot; d&quot;));\r\n            Review review = new Review(55, &quot;xxx&quot; + i + &quot;!!&quot;, ZonedDateTime.now(), m);\r\n            Review review2 = new Review(55, &quot;xxx&quot; + i+1 + &quot;!!&quot;, ZonedDateTime.now(), m);\r\n            Review review3 = new Review(55, &quot;xxx&quot; + i+2 + &quot;!!&quot;, ZonedDateTime.now(), m);\r\n            m.addReview(review);\r\n            m.addReview(review2);\r\n            m.addReview(review3);\r\n            movieService.save(m); // &lt;-- HERE LIES THE PROBLEM\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCode runs only once then throws error. I understand that &quot;unique&quot; keyword is responsible for errors so after trying to remove it database gets filled with duplicate entries which is problematic.\r\n\r\nTried changing repository / service code for the movie:\r\n\r\n\r\n```\r\n@Repository\r\npublic interface MovieRepository extends JpaRepository&lt;Movie, Long&gt; {\r\n\r\n    public Movie getMovieByImdbUrlEqualsIgnoreCase(String imdbUrl);\r\n\r\n    @Query(&quot;SELECT m FROM Movie m &quot; +\r\n            &quot;JOIN FETCH m.directors &quot; +\r\n            &quot;JOIN FETCH m.writers &quot; +\r\n            &quot;JOIN FETCH m.reviews &quot; +\r\n            &quot;WHERE m.movieID = :id&quot;)\r\n    public Movie getMovieByIdWithAll(@Param(&quot;id&quot;) long id);\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.souryuu.catalogit.service;\r\n\r\nimport com.souryuu.catalogit.entity.Movie;\r\nimport com.souryuu.catalogit.entity.Writer;\r\nimport com.souryuu.catalogit.repository.MovieRepository;\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\n@Transactional\r\npublic class MovieService {\r\n\r\n    private final MovieRepository repository;\r\n\r\n    public MovieService(MovieRepository repository, DirectorService directorService, WriterService writerService, ReviewService reviewService) {\r\n        this.repository = repository;\r\n    }\r\n\r\n    // THISE METHOD IS CHANGED - AT FIRST IT WAS ONLY &quot;this.repository.save(...)&quot;\r\n    public Movie save(Movie movie) {\r\n        // Persist Movie\r\n        Movie fetchedMovie = getMovieByImdbUrl(movie.getImdbUrl());\r\n        if(fetchedMovie == null || !fetchedMovie.equals(movie)) {\r\n            return this.repository.save(movie);\r\n        } else {\r\n            return fetchedMovie;\r\n        }\r\n    }\r\n\r\n    public List&lt;Movie&gt; findAll() {\r\n        return this.repository.findAll();\r\n    }\r\n\r\n    public Movie getMovieWithAll(long movieId) {\r\n        return this.repository.getMovieByIdWithAll(movieId);\r\n    }\r\n\r\n    public Movie getMovieByImdbUrl(String imdbUrl) {\r\n        return this.repository.getMovieByImdbUrlEqualsIgnoreCase(imdbUrl);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI really do not know what to do with it next - in theory calling &quot;save&quot; should try to update persisted entity but well it tries to do insert...","title":"Why is unique keyword in column definition causes IntegrityConstraintViolationException when trying to update entity","body":"<p>I have a really simple project using Spring Data JPA with Hibernate consisting of:</p>\n<p>Movie Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;MOVIES&quot;)\n@NoArgsConstructor @RequiredArgsConstructor\n@ToString(exclude = {&quot;directors&quot;, &quot;writers&quot;, &quot;reviews&quot;})\npublic class Movie extends BaseEntity{\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = &quot;movie_id&quot;) @Getter\n    private long movieID;\n    @Column(name = &quot;title&quot;, nullable = false) @Getter @Setter @NonNull\n    private String title;\n    @Column(name = &quot;imdb_url&quot;, unique = true) @Getter @Setter\n    private String imdbUrl;\n    @Column(name = &quot;cover_url&quot;) @Getter @Setter\n    private String coverUrl;\n    @Column(name = &quot;runtime&quot;) @Getter @Setter\n    private String runtime;\n    @Column(name = &quot;language&quot;) @Getter @Setter\n    private String language;\n    @Column(name = &quot;release_date&quot;) @Getter @Setter\n    private String releaseDate;\n\n    @Getter @Setter\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JsonIgnoreProperties({&quot;directors&quot;, &quot;writers&quot;, &quot;reviews&quot;})\n    @JoinTable(\n            name = &quot;MOVIE_DIRECTORS&quot;,\n            joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;director_id&quot;)\n    )\n    private Set&lt;Director&gt; directors;\n\n    @Getter @Setter\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    @JoinTable(\n            name = &quot;MOVIE_WRITERS&quot;,\n            joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;writer_id&quot;)\n    )\n    private Set&lt;Writer&gt; writers;\n\n    @Getter @Setter\n    @OneToMany(mappedBy = &quot;reviewedMovie&quot;, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    private Set&lt;Review&gt; reviews;\n\n    // Methods to add elements to directors etc...\n\n}\n</code></pre>\n<p>Director Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;Directors&quot;)\n@NoArgsConstructor @RequiredArgsConstructor\n@ToString(includeFieldNames = false, onlyExplicitlyIncluded = true)\npublic class Director extends BaseEntity{\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = &quot;director_id&quot;) @Getter\n    private long directorID;\n\n    @Column(name = &quot;name&quot;, nullable = false, unique = true) @Getter @Setter @NonNull @ToString.Include\n    private String name;\n\n    @Setter @Getter\n    @ManyToMany(mappedBy = &quot;directors&quot;)\n    private Set&lt;Movie&gt; directedMovies;\n}\n</code></pre>\n<p>Writer Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;Writers&quot;)\n@NoArgsConstructor @RequiredArgsConstructor\n@ToString(includeFieldNames = false, onlyExplicitlyIncluded = true)\npublic class Writer extends BaseEntity{\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = &quot;writer_id&quot;) @Getter\n    private long writerID;\n\n    @Column(name = &quot;name&quot;, nullable = false, unique = true) @Getter @Setter @NonNull @ToString.Include\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;writers&quot;)\n    private Set&lt;Movie&gt; writtenMovies;\n}\n</code></pre>\n<p>Review Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;REVIEWS&quot;)\n@NoArgsConstructor @RequiredArgsConstructor\n@ToString\npublic class Review extends BaseEntity{\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Setter @Getter\n    @Column(name = &quot;review_id&quot;)\n    private long reviewID;\n\n    @Getter @Setter @NonNull\n    @Column(name = &quot;rating&quot;, nullable = false)\n    private int rating;\n\n    @Getter @Setter @NonNull\n    @Column(name = &quot;review&quot;)\n    private String review;\n\n    @Getter @Setter @NonNull\n    @Column(name = &quot;creation_time&quot;)\n    private ZonedDateTime creationData;\n\n    @Getter @Setter @NonNull @ToString.Exclude\n    @ManyToOne\n    @JoinColumn(name = &quot;movieID&quot;, nullable = false)\n    private Movie reviewedMovie;\n\n}\n</code></pre>\n<p>The problem is occuring after initial persisting of 1 movie entity with set directors/writers/reviews app throws</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: \nUnique index or primary key violation: &quot;PUBLIC.UK_BAQ304EOVCBM0CVQ2QNDI1W2N_INDEX_8 ON PUBLIC.MOVIES(IMDB_URL NULLS FIRST) VALUES ( /* 1 */ 'xxx' )&quot;; SQL statement:\ninsert into movies (movie_id, cover_url, imdb_url, language, release_date, runtime, title) values (default, ?, ?, ?, ?, ?, ?) [23505-214]\n</code></pre>\n<p>I've created test code for above:</p>\n<pre><code>@Component\npublic class DataInitializer implements CommandLineRunner {\n\n    private final MovieService movieService;\n    private final ReviewService reviewService;\n    private final DirectorService directorService;\n\n    public DataInitializer(MovieService movieService, ReviewService reviewService, DirectorService directorService) {\n        this.movieService = movieService;\n        this.reviewService = reviewService;\n        this.directorService = directorService;\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        addRandomMovies(2);\n\n        try{\n            Thread.sleep(5000);\n        } catch (InterruptedException ex) {\n            ex.printStackTrace();\n        }\n\n        fetchMovies();\n    }\n\n    private void addRandomMovies(int amount) {\n        for(int i = 1; i &lt;= amount; i++) {\n            Movie m = new MovieBuilderImplementation().withTitle(&quot;Test Movie: &quot; + (i)).withReleaseDate(&quot;&quot; + (1970+i))\n                            .withRuntime(&quot;1h &quot; + i + &quot;m &quot; + i + &quot;s&quot;).withLanguage(&quot;en&quot;)\n                            .withImdbUrl(&quot;www.imdb.com/&quot; + i).withCoverUrl(&quot;www.img.com/&quot; + i).build();\n            m.addDirector(new Director(&quot;a&quot; + i + &quot; b&quot;));\n            m.addWriter(new Writer(&quot;c&quot; + i + &quot; d&quot;));\n            Review review = new Review(55, &quot;xxx&quot; + i + &quot;!!&quot;, ZonedDateTime.now(), m);\n            Review review2 = new Review(55, &quot;xxx&quot; + i+1 + &quot;!!&quot;, ZonedDateTime.now(), m);\n            Review review3 = new Review(55, &quot;xxx&quot; + i+2 + &quot;!!&quot;, ZonedDateTime.now(), m);\n            m.addReview(review);\n            m.addReview(review2);\n            m.addReview(review3);\n            movieService.save(m); // &lt;-- HERE LIES THE PROBLEM\n        }\n    }\n}\n</code></pre>\n<p>Code runs only once then throws error. I understand that &quot;unique&quot; keyword is responsible for errors so after trying to remove it database gets filled with duplicate entries which is problematic.</p>\n<p>Tried changing repository / service code for the movie:</p>\n<pre><code>@Repository\npublic interface MovieRepository extends JpaRepository&lt;Movie, Long&gt; {\n\n    public Movie getMovieByImdbUrlEqualsIgnoreCase(String imdbUrl);\n\n    @Query(&quot;SELECT m FROM Movie m &quot; +\n            &quot;JOIN FETCH m.directors &quot; +\n            &quot;JOIN FETCH m.writers &quot; +\n            &quot;JOIN FETCH m.reviews &quot; +\n            &quot;WHERE m.movieID = :id&quot;)\n    public Movie getMovieByIdWithAll(@Param(&quot;id&quot;) long id);\n\n}\n</code></pre>\n<pre><code>package com.souryuu.catalogit.service;\n\nimport com.souryuu.catalogit.entity.Movie;\nimport com.souryuu.catalogit.entity.Writer;\nimport com.souryuu.catalogit.repository.MovieRepository;\nimport jakarta.transaction.Transactional;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\n@Transactional\npublic class MovieService {\n\n    private final MovieRepository repository;\n\n    public MovieService(MovieRepository repository, DirectorService directorService, WriterService writerService, ReviewService reviewService) {\n        this.repository = repository;\n    }\n\n    // THISE METHOD IS CHANGED - AT FIRST IT WAS ONLY &quot;this.repository.save(...)&quot;\n    public Movie save(Movie movie) {\n        // Persist Movie\n        Movie fetchedMovie = getMovieByImdbUrl(movie.getImdbUrl());\n        if(fetchedMovie == null || !fetchedMovie.equals(movie)) {\n            return this.repository.save(movie);\n        } else {\n            return fetchedMovie;\n        }\n    }\n\n    public List&lt;Movie&gt; findAll() {\n        return this.repository.findAll();\n    }\n\n    public Movie getMovieWithAll(long movieId) {\n        return this.repository.getMovieByIdWithAll(movieId);\n    }\n\n    public Movie getMovieByImdbUrl(String imdbUrl) {\n        return this.repository.getMovieByImdbUrlEqualsIgnoreCase(imdbUrl);\n    }\n\n}\n\n</code></pre>\n<p>I really do not know what to do with it next - in theory calling &quot;save&quot; should try to update persisted entity but well it tries to do insert...</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":28260307,"reputation":11,"user_id":21605117,"display_name":"whisper"},"score":0,"creation_date":1684673688,"post_id":76230768,"comment_id":134548293,"body_markdown":"sorry for the late answer, I was away, but anyway, your suggestion worked!! Thank you very much for your help!!","body":"sorry for the late answer, I was away, but anyway, your suggestion worked!! Thank you very much for your help!!"}],"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683830763,"creation_date":1683830763,"answer_id":76230768,"question_id":76228936,"body_markdown":"It&#39;s like you say, after you start the permission request the rest of your code is executed. The actual results of the permission request come *later*, through a call to `onRequestPermissionsResult`. The app can&#39;t pause execution to wait for that result, the user making a decision etc - it would just be a frozen app, which is why it happens asynchronously instead.\r\n\r\nThat means you need to write your app to work asynchonously too. **You can&#39;t** just call the stuff in `onCreate` that relies on the permission being granted, because if the user hasn&#39;t been asked yet, you have to wait until that&#39;s taken care of. You have to defer that task until you&#39;re ready to execute it.\r\n\r\nThe simplest way is just to stick it in a function, and then call it when ready:\r\n\r\n````\r\nprotected void initialiseMap() {\r\n    currentLocation = getLastKnownLocation();\r\n    suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\r\n    suppMapFragment.getMapAsync(this);\r\n}\r\n````\r\n\r\n(I don&#39;t actually know which lines need to be deferred, and which can be safely called in `onCreate` - you can work that out!)\r\n\r\nNow you can call that function whenever it&#39;s suitable. One possibility is to do it during the permission check - if you check it and everything&#39;s cool (e.g. already granted) you can immediately call the function and finish up. You&#39;re actually already doing something like that in `fetchLastLocation()` - your `OnSuccessListener` contains the same code as in `onCreate`. I don&#39;t know how your task works, but if it calls that code soon after, it doesn&#39;t need to be in `onCreate` anyway, right? And now you can just call the `initialiseMap` function instead.\r\n\r\n----\r\n\r\nYou also need to handle the situation where permission isn&#39;t granted, and it comes through later. You&#39;re sort of doing that too - `onRequestPermissionsResult` calls `fetchLastLocation` when the request is successful. Since that should immediately fall through to the task that calls `initialiseMap`, it should work fine. (And because you&#39;re calling this function again, so it&#39;s where the initialisation happens in every case, maybe you don&#39;t need the separate `initialiseMap` function at all).\r\n\r\n----\r\n\r\nBut don&#39;t forget you also need to handle the situation where permission **isn&#39;t** granted. You have to decide what that should look like, how things should look while you&#39;re waiting (e.g. in `fetchLastLocation`, if you&#39;re putting in the permission request you might want to call a function that displays some &quot;pending&quot; state). And also how things should look if permission was actively denied (e.g. in `onRequestPermissionsResult`, calling a function that displays a warning, an empty map view etc).\r\n\r\n----\r\n\r\nThat was a lot of words to say *&quot;you&#39;ve pretty much already got it, you&#39;re handling the initialisation conditionally, just don&#39;t call the initialisation stuff in `onCreate` as well where it will **always** run&quot;* - but hopefully it helps make the flow clearer, and the different routes through your code depending on what&#39;s happening. You just need to make sure the initialisation only happens at the right points in that code, when it&#39;s definitely safe to do so!","title":"Organizing the order of method completion in a different method Android Studio","body":"<p>It's like you say, after you start the permission request the rest of your code is executed. The actual results of the permission request come <em>later</em>, through a call to <code>onRequestPermissionsResult</code>. The app can't pause execution to wait for that result, the user making a decision etc - it would just be a frozen app, which is why it happens asynchronously instead.</p>\n<p>That means you need to write your app to work asynchonously too. <strong>You can't</strong> just call the stuff in <code>onCreate</code> that relies on the permission being granted, because if the user hasn't been asked yet, you have to wait until that's taken care of. You have to defer that task until you're ready to execute it.</p>\n<p>The simplest way is just to stick it in a function, and then call it when ready:</p>\n<pre><code>protected void initialiseMap() {\n    currentLocation = getLastKnownLocation();\n    suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\n    suppMapFragment.getMapAsync(this);\n}\n</code></pre>\n<p>(I don't actually know which lines need to be deferred, and which can be safely called in <code>onCreate</code> - you can work that out!)</p>\n<p>Now you can call that function whenever it's suitable. One possibility is to do it during the permission check - if you check it and everything's cool (e.g. already granted) you can immediately call the function and finish up. You're actually already doing something like that in <code>fetchLastLocation()</code> - your <code>OnSuccessListener</code> contains the same code as in <code>onCreate</code>. I don't know how your task works, but if it calls that code soon after, it doesn't need to be in <code>onCreate</code> anyway, right? And now you can just call the <code>initialiseMap</code> function instead.</p>\n<hr />\n<p>You also need to handle the situation where permission isn't granted, and it comes through later. You're sort of doing that too - <code>onRequestPermissionsResult</code> calls <code>fetchLastLocation</code> when the request is successful. Since that should immediately fall through to the task that calls <code>initialiseMap</code>, it should work fine. (And because you're calling this function again, so it's where the initialisation happens in every case, maybe you don't need the separate <code>initialiseMap</code> function at all).</p>\n<hr />\n<p>But don't forget you also need to handle the situation where permission <strong>isn't</strong> granted. You have to decide what that should look like, how things should look while you're waiting (e.g. in <code>fetchLastLocation</code>, if you're putting in the permission request you might want to call a function that displays some &quot;pending&quot; state). And also how things should look if permission was actively denied (e.g. in <code>onRequestPermissionsResult</code>, calling a function that displays a warning, an empty map view etc).</p>\n<hr />\n<p>That was a lot of words to say <em>&quot;you've pretty much already got it, you're handling the initialisation conditionally, just don't call the initialisation stuff in <code>onCreate</code> as well where it will <strong>always</strong> run&quot;</em> - but hopefully it helps make the flow clearer, and the different routes through your code depending on what's happening. You just need to make sure the initialisation only happens at the right points in that code, when it's definitely safe to do so!</p>\n"}],"owner":{"account_id":28260307,"reputation":11,"user_id":21605117,"display_name":"whisper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76230768,"answer_count":1,"score":0,"last_activity_date":1683830763,"creation_date":1683816604,"question_id":76228936,"body_markdown":"I have a problem in my app which crashes is it because it calls the rest of the method before the first method is done. Here is where the error happens: \r\n```\r\n @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        client = LocationServices.getFusedLocationProviderClient(this);\r\n        fetchLastLocation();\r\n\r\n        LManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n\r\n        currentLocation = getLastKnownLocation();\r\n\r\n        suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\r\n        suppMapFragment.getMapAsync(this);\r\n    }\r\n\r\n\r\n@Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        this.mMap = googleMap;\r\n        CheckGps();\r\n        LatLng latLng = null;\r\n\r\n        if(currentLocation == null)\r\n        {\r\n            currentLocation = getLastKnownLocation();\r\n            latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\r\n        }\r\n        else{\r\n            latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\r\n        }\r\n\r\n        MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(&quot;You are here!&quot;);\r\n        googleMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\r\n        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 12));\r\n        googleMap.addMarker(markerOptions);\r\n\r\n        googleMap.getUiSettings().setMyLocationButtonEnabled(true);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        googleMap.setMyLocationEnabled(true);\r\n    }\r\n```\r\n\r\nIn the `OnCreate` method it runs a method called `fetchLastLocaiton()` which asks the phone for the permission to use the location, but the `OnMapReadyCallback()` crashes the app before the `fetchLastLocaiton()` is called and given a response, thus causing the app to crash the first time you start the app, and causes crashes everytime you run the app without Location being turned on your phone(Which the `CheckGps()` method checks).\r\n\r\nCould AsyncTask or a new Thread inside the method help? Or is it an error somewhere else in my code? If so here is the rest of the code:\r\n```\r\npackage com.example.ilovemilfs;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentSender;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationManager;\r\nimport android.net.wifi.hotspot2.pps.HomeSp;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.TextureView;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.common.api.ResolvableApiException;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationRequest;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.location.LocationSettingsRequest;\r\nimport com.google.android.gms.location.LocationSettingsResponse;\r\nimport com.google.android.gms.location.LocationSettingsStatusCodes;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.atomic.AtomicReference;\r\nimport java.util.jar.Attributes;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n    GoogleMap mMap;\r\n    SupportMapFragment suppMapFragment;\r\n    Location currentLocation;\r\n    FusedLocationProviderClient client;\r\n    private static final int REQUEST_CODE = 101;\r\n    LocationRequest locationRequest;\r\n    private LocationManager LManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        client = LocationServices.getFusedLocationProviderClient(this);\r\n        fetchLastLocation();\r\n\r\n        LManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n\r\n\r\n\r\n        currentLocation = getLastKnownLocation();\r\n\r\n        suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\r\n        suppMapFragment.getMapAsync(this);\r\n    }\r\n\r\n    private void fetchLastLocation() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\r\n            CheckGps();\r\n            return;\r\n        }\r\n        Task&lt;Location&gt; task = client.getLastLocation();\r\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                if (location != null) {\r\n                    currentLocation = location;\r\n                    suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\r\n                    suppMapFragment.getMapAsync(MainActivity.this);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        this.mMap = googleMap;\r\n        CheckGps();\r\n        LatLng latLng = null;\r\n\r\n        if(currentLocation == null)\r\n        {\r\n            currentLocation = getLastKnownLocation();\r\n            latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\r\n        }\r\n        else{\r\n            latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\r\n        }\r\n\r\n        MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(&quot;You are here!&quot;);\r\n        googleMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\r\n        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 12));\r\n        googleMap.addMarker(markerOptions);\r\n\r\n        googleMap.getUiSettings().setMyLocationButtonEnabled(true);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        googleMap.setMyLocationEnabled(true);\r\n    }\r\n\r\n    private void CheckGps() {\r\n        locationRequest = LocationRequest.create();\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setInterval(5000);\r\n        locationRequest.setFastestInterval(3000);\r\n\r\n        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder().addLocationRequest(locationRequest).setAlwaysShow(true);\r\n\r\n        Task&lt;LocationSettingsResponse&gt; locationSettingsResponseTask = LocationServices.getSettingsClient(getApplicationContext()).checkLocationSettings(builder.build());\r\n\r\n        locationSettingsResponseTask.addOnCompleteListener(new OnCompleteListener&lt;LocationSettingsResponse&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;LocationSettingsResponse&gt; task) {\r\n                try {\r\n                    LocationSettingsResponse response = task.getResult(ApiException.class);\r\n                    Toast.makeText(MainActivity.this, &quot;Gps is already enabled&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                } catch (ApiException e) {\r\n                    if (e.getStatusCode() == LocationSettingsStatusCodes.RESOLUTION_REQUIRED) {\r\n                        ResolvableApiException resolvableApiException = (ResolvableApiException) e;\r\n                        try {\r\n                            resolvableApiException.startResolutionForResult(MainActivity.this, 101);\r\n                        } catch (IntentSender.SendIntentException ex) {\r\n                            throw new RuntimeException(ex);\r\n                        }\r\n                    }\r\n                    if (e.getStatusCode() == LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE) {\r\n                        Toast.makeText(MainActivity.this, &quot;Setting not available&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    fetchLastLocation();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 101) {\r\n            if (resultCode == RESULT_OK) {\r\n                Toast.makeText(this, &quot;GPS is enabled&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            if (resultCode == RESULT_CANCELED) {\r\n                Toast.makeText(this, &quot;Denied GPS permission&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public void ibLokacija(View view) {\r\n        CheckGps();\r\n    }\r\n\r\n    public void ibRefreshRef(View view) {\r\n        Intent intent = getIntent();\r\n        finish();\r\n        startActivity(intent);\r\n    }\r\n\r\n    public void ibHospital(View view) {\r\n        NearbyHospitals();\r\n    }\r\n\r\n\r\n    public void NearbyHospitals() {\r\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n        Location l = this.currentLocation;\r\n\r\n        executorService.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try{\r\n                    String uri = &quot;https://overpass-api.de/api/interpreter?data=[out:json][timeout:25];(node%5B%22amenity%22%3D%22hospital%22%5D(around%3A10000%2C%20&quot;\r\n                            + String.valueOf(l.getLatitude()) + &quot;%2C%20&quot;\r\n                            + String.valueOf(l.getLongitude()) + &quot;);)%3Bout%20body;&quot;;\r\n\r\n                    URL url = new URL(uri);\r\n\r\n                    HttpURLConnection huc = (HttpURLConnection) url.openConnection();\r\n\r\n                    InputStream inputStream = (InputStream) huc.getContent();\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, &quot;utf-8&quot;));\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n\r\n                    String line = null;\r\n                    while((line = bufferedReader.readLine()) != null){\r\n                        stringBuilder.append(line + &quot;\\n&quot;);\r\n                    }\r\n                    inputStream.close();\r\n                    String string = stringBuilder.toString();\r\n\r\n                    handler.post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            Hospitals(string);\r\n                        }\r\n                    });\r\n                }\r\n                catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void Hospitals(String s) {\r\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n\r\n        GoogleMap googleMap = this.mMap;\r\n\r\n        executorService.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    JSONObject jsonObject = new JSONObject(s);\r\n                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;elements&quot;);\r\n                    Integer integer = jsonArray.length();\r\n                    String s1 = integer.toString();\r\n                    for(int i = 0; i &lt; jsonArray.length(); i++){\r\n                        JSONObject jsonObject1 = jsonArray.getJSONObject(i);\r\n                        JSONObject locationJSON1 = jsonObject1.getJSONObject(&quot;tags&quot;);\r\n                        String name = null;\r\n\r\n                        if(locationJSON1.isNull(&quot;name&quot;)){\r\n                            name = &quot;Hospital&quot;;\r\n                        }\r\n                        else{\r\n                            name = locationJSON1.getString(&quot;name&quot;);\r\n                        }\r\n\r\n                        String lat_street = jsonArray.getJSONObject(i).getString(&quot;lat&quot;);\r\n                        String lon_housenumber = jsonArray.getJSONObject(i).getString(&quot;lon&quot;);\r\n                        LatLng latLng = null;\r\n\r\n                        if(lat_street != null &amp;&amp; lon_housenumber  != null){\r\n                            latLng = new LatLng(Double.parseDouble(lat_street), Double.parseDouble(lon_housenumber));\r\n                        }\r\n                        else if(jsonArray.getJSONObject(i).isNull(&quot;lat&quot;) &amp;&amp; jsonArray.getJSONObject(i).isNull(&quot;lon&quot;) &amp;&amp; locationJSON1.isNull(&quot;addr:street&quot;) &amp;&amp; locationJSON1.isNull(&quot;addr:housenumber&quot;)){\r\n                            latLng = getLocationFromName(MainActivity.this, name);\r\n                        }\r\n                        else{\r\n                            lat_street = locationJSON1.getString(&quot;addr:street&quot;);\r\n                            lon_housenumber = locationJSON1.getString(&quot;addr:housenumber&quot;);\r\n                            latLng = getLocationFromAddress(MainActivity.this, lat_street + lon_housenumber);\r\n                        }\r\n\r\n                        MarkerOptions markerOptions = new MarkerOptions();\r\n                        markerOptions.title(name);\r\n                        markerOptions.position(latLng);\r\n\r\n\r\n                        handler.post(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                googleMap.addMarker(markerOptions);\r\n                            }\r\n                        });\r\n\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public LatLng getLocationFromAddress(Context context, String strAddress){\r\n        Geocoder geocoder = new Geocoder(context);\r\n        List&lt;Address&gt; addresses;\r\n        LatLng latLng = null;\r\n\r\n        try{\r\n            addresses = geocoder.getFromLocationName(strAddress, 10);\r\n            if(addresses == null){\r\n                return null;\r\n            }\r\n            Address location = addresses.get(0);\r\n            location.getLatitude();\r\n            location.getLongitude();\r\n\r\n            latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return latLng;\r\n    }\r\n\r\n    public LatLng getLocationFromName(Context context, String name){\r\n        Geocoder geocoder = new Geocoder(context);\r\n        List&lt;Address&gt; addresses = null;\r\n        LatLng latLng = null;\r\n\r\n        try{\r\n            addresses = geocoder.getFromLocationName(name, 10);\r\n            Address address = addresses.get(0);\r\n            address.getLatitude();\r\n            address.getLongitude();\r\n\r\n            latLng = new LatLng(address.getLatitude(), address.getLongitude());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return latLng;\r\n    }\r\n\r\n    private Location getLastKnownLocation(){\r\n        Location l = null;\r\n        LocationManager locationManager = (LocationManager) getApplicationContext().getSystemService(LOCATION_SERVICE);\r\n        List&lt;String&gt; providers = locationManager.getProviders(true);\r\n        Location betterLocation = null;\r\n        for(String provider : providers){\r\n            if(ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n                l = locationManager.getLastKnownLocation(provider);\r\n            }\r\n            if(l == null){\r\n                continue;\r\n            }\r\n            if(betterLocation == null || l.getAccuracy() &lt; betterLocation.getAccuracy()){\r\n                betterLocation = l;\r\n            }\r\n        }\r\n        return betterLocation;\r\n    }\r\n}\r\n```","title":"Organizing the order of method completion in a different method Android Studio","body":"<p>I have a problem in my app which crashes is it because it calls the rest of the method before the first method is done. Here is where the error happens:</p>\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        client = LocationServices.getFusedLocationProviderClient(this);\n        fetchLastLocation();\n\n        LManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n\n        currentLocation = getLastKnownLocation();\n\n        suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\n        suppMapFragment.getMapAsync(this);\n    }\n\n\n@Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        this.mMap = googleMap;\n        CheckGps();\n        LatLng latLng = null;\n\n        if(currentLocation == null)\n        {\n            currentLocation = getLastKnownLocation();\n            latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\n        }\n        else{\n            latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\n        }\n\n        MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(&quot;You are here!&quot;);\n        googleMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\n        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 12));\n        googleMap.addMarker(markerOptions);\n\n        googleMap.getUiSettings().setMyLocationButtonEnabled(true);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n        googleMap.setMyLocationEnabled(true);\n    }\n</code></pre>\n<p>In the <code>OnCreate</code> method it runs a method called <code>fetchLastLocaiton()</code> which asks the phone for the permission to use the location, but the <code>OnMapReadyCallback()</code> crashes the app before the <code>fetchLastLocaiton()</code> is called and given a response, thus causing the app to crash the first time you start the app, and causes crashes everytime you run the app without Location being turned on your phone(Which the <code>CheckGps()</code> method checks).</p>\n<p>Could AsyncTask or a new Thread inside the method help? Or is it an error somewhere else in my code? If so here is the rest of the code:</p>\n<pre><code>package com.example.ilovemilfs;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentSender;\nimport android.content.pm.PackageManager;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.location.Location;\nimport android.location.LocationManager;\nimport android.net.wifi.hotspot2.pps.HomeSp;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.util.Log;\nimport android.view.TextureView;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.google.android.gms.common.api.ApiException;\nimport com.google.android.gms.common.api.ResolvableApiException;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.LocationSettingsRequest;\nimport com.google.android.gms.location.LocationSettingsResponse;\nimport com.google.android.gms.location.LocationSettingsStatusCodes;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\n\nimport org.json.JSONArray;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.atomic.AtomicReference;\nimport java.util.jar.Attributes;\n\n\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\n\n    GoogleMap mMap;\n    SupportMapFragment suppMapFragment;\n    Location currentLocation;\n    FusedLocationProviderClient client;\n    private static final int REQUEST_CODE = 101;\n    LocationRequest locationRequest;\n    private LocationManager LManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        client = LocationServices.getFusedLocationProviderClient(this);\n        fetchLastLocation();\n\n        LManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n\n\n\n        currentLocation = getLastKnownLocation();\n\n        suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\n        suppMapFragment.getMapAsync(this);\n    }\n\n    private void fetchLastLocation() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\n            CheckGps();\n            return;\n        }\n        Task&lt;Location&gt; task = client.getLastLocation();\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                if (location != null) {\n                    currentLocation = location;\n                    suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\n                    suppMapFragment.getMapAsync(MainActivity.this);\n                }\n            }\n        });\n    }\n\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        this.mMap = googleMap;\n        CheckGps();\n        LatLng latLng = null;\n\n        if(currentLocation == null)\n        {\n            currentLocation = getLastKnownLocation();\n            latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\n        }\n        else{\n            latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\n        }\n\n        MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(&quot;You are here!&quot;);\n        googleMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\n        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 12));\n        googleMap.addMarker(markerOptions);\n\n        googleMap.getUiSettings().setMyLocationButtonEnabled(true);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n        googleMap.setMyLocationEnabled(true);\n    }\n\n    private void CheckGps() {\n        locationRequest = LocationRequest.create();\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        locationRequest.setInterval(5000);\n        locationRequest.setFastestInterval(3000);\n\n        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder().addLocationRequest(locationRequest).setAlwaysShow(true);\n\n        Task&lt;LocationSettingsResponse&gt; locationSettingsResponseTask = LocationServices.getSettingsClient(getApplicationContext()).checkLocationSettings(builder.build());\n\n        locationSettingsResponseTask.addOnCompleteListener(new OnCompleteListener&lt;LocationSettingsResponse&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;LocationSettingsResponse&gt; task) {\n                try {\n                    LocationSettingsResponse response = task.getResult(ApiException.class);\n                    Toast.makeText(MainActivity.this, &quot;Gps is already enabled&quot;, Toast.LENGTH_SHORT).show();\n\n                } catch (ApiException e) {\n                    if (e.getStatusCode() == LocationSettingsStatusCodes.RESOLUTION_REQUIRED) {\n                        ResolvableApiException resolvableApiException = (ResolvableApiException) e;\n                        try {\n                            resolvableApiException.startResolutionForResult(MainActivity.this, 101);\n                        } catch (IntentSender.SendIntentException ex) {\n                            throw new RuntimeException(ex);\n                        }\n                    }\n                    if (e.getStatusCode() == LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE) {\n                        Toast.makeText(MainActivity.this, &quot;Setting not available&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode) {\n            case REQUEST_CODE:\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    fetchLastLocation();\n                }\n                break;\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 101) {\n            if (resultCode == RESULT_OK) {\n                Toast.makeText(this, &quot;GPS is enabled&quot;, Toast.LENGTH_SHORT).show();\n            }\n            if (resultCode == RESULT_CANCELED) {\n                Toast.makeText(this, &quot;Denied GPS permission&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n\n    public void ibLokacija(View view) {\n        CheckGps();\n    }\n\n    public void ibRefreshRef(View view) {\n        Intent intent = getIntent();\n        finish();\n        startActivity(intent);\n    }\n\n    public void ibHospital(View view) {\n        NearbyHospitals();\n    }\n\n\n    public void NearbyHospitals() {\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\n        Handler handler = new Handler(Looper.getMainLooper());\n        Location l = this.currentLocation;\n\n        executorService.execute(new Runnable() {\n            @Override\n            public void run() {\n                try{\n                    String uri = &quot;https://overpass-api.de/api/interpreter?data=[out:json][timeout:25];(node%5B%22amenity%22%3D%22hospital%22%5D(around%3A10000%2C%20&quot;\n                            + String.valueOf(l.getLatitude()) + &quot;%2C%20&quot;\n                            + String.valueOf(l.getLongitude()) + &quot;);)%3Bout%20body;&quot;;\n\n                    URL url = new URL(uri);\n\n                    HttpURLConnection huc = (HttpURLConnection) url.openConnection();\n\n                    InputStream inputStream = (InputStream) huc.getContent();\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, &quot;utf-8&quot;));\n                    StringBuilder stringBuilder = new StringBuilder();\n\n                    String line = null;\n                    while((line = bufferedReader.readLine()) != null){\n                        stringBuilder.append(line + &quot;\\n&quot;);\n                    }\n                    inputStream.close();\n                    String string = stringBuilder.toString();\n\n                    handler.post(new Runnable() {\n                        @Override\n                        public void run() {\n                            Hospitals(string);\n                        }\n                    });\n                }\n                catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n            }\n        });\n    }\n\n    private void Hospitals(String s) {\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\n        Handler handler = new Handler(Looper.getMainLooper());\n\n        GoogleMap googleMap = this.mMap;\n\n        executorService.execute(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JSONObject jsonObject = new JSONObject(s);\n                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;elements&quot;);\n                    Integer integer = jsonArray.length();\n                    String s1 = integer.toString();\n                    for(int i = 0; i &lt; jsonArray.length(); i++){\n                        JSONObject jsonObject1 = jsonArray.getJSONObject(i);\n                        JSONObject locationJSON1 = jsonObject1.getJSONObject(&quot;tags&quot;);\n                        String name = null;\n\n                        if(locationJSON1.isNull(&quot;name&quot;)){\n                            name = &quot;Hospital&quot;;\n                        }\n                        else{\n                            name = locationJSON1.getString(&quot;name&quot;);\n                        }\n\n                        String lat_street = jsonArray.getJSONObject(i).getString(&quot;lat&quot;);\n                        String lon_housenumber = jsonArray.getJSONObject(i).getString(&quot;lon&quot;);\n                        LatLng latLng = null;\n\n                        if(lat_street != null &amp;&amp; lon_housenumber  != null){\n                            latLng = new LatLng(Double.parseDouble(lat_street), Double.parseDouble(lon_housenumber));\n                        }\n                        else if(jsonArray.getJSONObject(i).isNull(&quot;lat&quot;) &amp;&amp; jsonArray.getJSONObject(i).isNull(&quot;lon&quot;) &amp;&amp; locationJSON1.isNull(&quot;addr:street&quot;) &amp;&amp; locationJSON1.isNull(&quot;addr:housenumber&quot;)){\n                            latLng = getLocationFromName(MainActivity.this, name);\n                        }\n                        else{\n                            lat_street = locationJSON1.getString(&quot;addr:street&quot;);\n                            lon_housenumber = locationJSON1.getString(&quot;addr:housenumber&quot;);\n                            latLng = getLocationFromAddress(MainActivity.this, lat_street + lon_housenumber);\n                        }\n\n                        MarkerOptions markerOptions = new MarkerOptions();\n                        markerOptions.title(name);\n                        markerOptions.position(latLng);\n\n\n                        handler.post(new Runnable() {\n                            @Override\n                            public void run() {\n                                googleMap.addMarker(markerOptions);\n                            }\n                        });\n\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public LatLng getLocationFromAddress(Context context, String strAddress){\n        Geocoder geocoder = new Geocoder(context);\n        List&lt;Address&gt; addresses;\n        LatLng latLng = null;\n\n        try{\n            addresses = geocoder.getFromLocationName(strAddress, 10);\n            if(addresses == null){\n                return null;\n            }\n            Address location = addresses.get(0);\n            location.getLatitude();\n            location.getLongitude();\n\n            latLng = new LatLng(location.getLatitude(), location.getLongitude());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return latLng;\n    }\n\n    public LatLng getLocationFromName(Context context, String name){\n        Geocoder geocoder = new Geocoder(context);\n        List&lt;Address&gt; addresses = null;\n        LatLng latLng = null;\n\n        try{\n            addresses = geocoder.getFromLocationName(name, 10);\n            Address address = addresses.get(0);\n            address.getLatitude();\n            address.getLongitude();\n\n            latLng = new LatLng(address.getLatitude(), address.getLongitude());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return latLng;\n    }\n\n    private Location getLastKnownLocation(){\n        Location l = null;\n        LocationManager locationManager = (LocationManager) getApplicationContext().getSystemService(LOCATION_SERVICE);\n        List&lt;String&gt; providers = locationManager.getProviders(true);\n        Location betterLocation = null;\n        for(String provider : providers){\n            if(ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n                l = locationManager.getLastKnownLocation(provider);\n            }\n            if(l == null){\n                continue;\n            }\n            if(betterLocation == null || l.getAccuracy() &lt; betterLocation.getAccuracy()){\n                betterLocation = l;\n            }\n        }\n        return betterLocation;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683831432,"post_id":76230718,"comment_id":134430765,"body_markdown":"Is there a good reason why you are using a 10 year old plugin instead of more up-to-date one? https://central.sonatype.com/search?smo=true&amp;q=org.jvnet.jaxb2.maven2","body":"Is there a good reason why you are using a 10 year old plugin instead of more up-to-date one? <a href=\"https://central.sonatype.com/search?smo=true&amp;q=org.jvnet.jaxb2.maven2\" rel=\"nofollow noreferrer\">central.sonatype.com/&hellip;</a>"},{"owner":{"account_id":16736825,"reputation":1346,"user_id":12097673,"display_name":"Memphis Meng"},"score":0,"creation_date":1683832129,"post_id":76230718,"comment_id":134430878,"body_markdown":"Idk, it&#39;s big project setup that my boss has been using for decades. i need to make sure it works before having new incompatibility","body":"Idk, it&#39;s big project setup that my boss has been using for decades. i need to make sure it works before having new incompatibility"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683832764,"post_id":76230718,"comment_id":134431013,"body_markdown":"Then you should not start with openjdk-18 ... and JDK 8 ... do you get it compiled with older JDK&#39;s like JDK7 etc. ?","body":"Then you should not start with openjdk-18 ... and JDK 8 ... do you get it compiled with older JDK&#39;s like JDK7 etc. ?"},{"owner":{"account_id":16736825,"reputation":1346,"user_id":12097673,"display_name":"Memphis Meng"},"score":0,"creation_date":1683833433,"post_id":76230718,"comment_id":134431155,"body_markdown":"There would be another issue: ` Source option 7 is no longer supported. Use 8 or later.` and `Target option 7 is no longer supported. Use 8 or later.`","body":"There would be another issue: ` Source option 7 is no longer supported. Use 8 or later.` and <code>Target option 7 is no longer supported. Use 8 or later.</code>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683874189,"post_id":76230718,"comment_id":134436103,"body_markdown":"As I mentioned you have to use an old JDK because newer JDKs moved forward. First get your build running with JDK7 (from AZUL or alike) and clean up code /upgrade deps and afterwords migrate to JDK11 first and afterwards to JDK17 and so on....","body":"As I mentioned you have to use an old JDK because newer JDKs moved forward. First get your build running with JDK7 (from AZUL or alike) and clean up code /upgrade deps and afterwords migrate to JDK11 first and afterwards to JDK17 and so on...."},{"owner":{"account_id":16736825,"reputation":1346,"user_id":12097673,"display_name":"Memphis Meng"},"score":0,"creation_date":1684159350,"post_id":76230718,"comment_id":134472030,"body_markdown":"Ok, I will try, is there a way to install JDK7 on intelliJ?","body":"Ok, I will try, is there a way to install JDK7 on intelliJ?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684165057,"post_id":76230718,"comment_id":134473572,"body_markdown":"You should be able to configure IntelliJ to use JDK7...","body":"You should be able to configure IntelliJ to use JDK7..."}],"owner":{"account_id":16736825,"reputation":1346,"user_id":12097673,"display_name":"Memphis Meng"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683830300,"creation_date":1683830300,"question_id":76230718,"body_markdown":"This question has a lot of similar variants in our community but none of the solutions below helped me yet. So I had to ask it as a new one.\r\n\r\nSo I was trying to install and build a project that is maintained by Maven by running ` mvn install -am -pl my-project -f pom.xml -e`. However, it was being blocked by the modules that need `maven-jaxb2-plugin`. The error trace says:\r\n\r\n```\r\nFailed to execute goal org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.8.3:generate (default) on project sub-module: Execution default of goal org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.8.3:generate failed: A required class was missing while executing org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.8.3:generate: javax/activation/DataSource\r\n```\r\n\r\nI&#39;ve set up this plugin like:\r\n```\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;0.8.3&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n            &lt;schemaDirectory&gt;src/main/resources/xjc&lt;/schemaDirectory&gt;\r\n            &lt;generatePackage&gt;${root-package}.xjc&lt;/generatePackage&gt;\r\n            &lt;generateDirectory&gt;${project.build.directory}/generated-sources/xjc&lt;/generateDirectory&gt;\r\n            &lt;strict&gt;false&lt;/strict&gt;\r\n            &lt;extension&gt;true&lt;/extension&gt;\r\n            &lt;args&gt;\r\n              &lt;arg&gt;-XtoString&lt;/arg&gt;\r\n              &lt;arg&gt;-Xequals&lt;/arg&gt;\r\n              &lt;arg&gt;-XhashCode&lt;/arg&gt;\r\n              &lt;arg&gt;-Xcopyable&lt;/arg&gt;\r\n              &lt;arg&gt;-Xmergeable&lt;/arg&gt;\r\n              &lt;arg&gt;-XlistAddHasMethod&lt;/arg&gt;\r\n            &lt;/args&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\r\n                &lt;version&gt;0.12.0&lt;/version&gt;\r\n              &lt;/plugin&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;xjc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;list-xjc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n\r\nAlso, since I&#39;m coding on IntelliJ, here&#39;s the project structure:\r\n- SDK: openjdk-18\r\n- Language Level: 8\r\n- Maven: 3.9.1\r\n\r\nI checked my directory that stores `javax.activation`. It does exist but just doesn&#39;t include `DataSource`.","title":"Class DataSource is missing when executing Maven install to generate maven-jaxb2-plugin: 0.8.3","body":"<p>This question has a lot of similar variants in our community but none of the solutions below helped me yet. So I had to ask it as a new one.</p>\n<p>So I was trying to install and build a project that is maintained by Maven by running <code> mvn install -am -pl my-project -f pom.xml -e</code>. However, it was being blocked by the modules that need <code>maven-jaxb2-plugin</code>. The error trace says:</p>\n<pre><code>Failed to execute goal org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.8.3:generate (default) on project sub-module: Execution default of goal org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.8.3:generate failed: A required class was missing while executing org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.8.3:generate: javax/activation/DataSource\n</code></pre>\n<p>I've set up this plugin like:</p>\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n          &lt;version&gt;0.8.3&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;configuration&gt;\n            &lt;schemaDirectory&gt;src/main/resources/xjc&lt;/schemaDirectory&gt;\n            &lt;generatePackage&gt;${root-package}.xjc&lt;/generatePackage&gt;\n            &lt;generateDirectory&gt;${project.build.directory}/generated-sources/xjc&lt;/generateDirectory&gt;\n            &lt;strict&gt;false&lt;/strict&gt;\n            &lt;extension&gt;true&lt;/extension&gt;\n            &lt;args&gt;\n              &lt;arg&gt;-XtoString&lt;/arg&gt;\n              &lt;arg&gt;-Xequals&lt;/arg&gt;\n              &lt;arg&gt;-XhashCode&lt;/arg&gt;\n              &lt;arg&gt;-Xcopyable&lt;/arg&gt;\n              &lt;arg&gt;-Xmergeable&lt;/arg&gt;\n              &lt;arg&gt;-XlistAddHasMethod&lt;/arg&gt;\n            &lt;/args&gt;\n            &lt;plugins&gt;\n              &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\n                &lt;version&gt;0.12.0&lt;/version&gt;\n              &lt;/plugin&gt;\n              &lt;plugin&gt;\n                &lt;groupId&gt;xjc&lt;/groupId&gt;\n                &lt;artifactId&gt;list-xjc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n              &lt;/plugin&gt;\n            &lt;/plugins&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Also, since I'm coding on IntelliJ, here's the project structure:</p>\n<ul>\n<li>SDK: openjdk-18</li>\n<li>Language Level: 8</li>\n<li>Maven: 3.9.1</li>\n</ul>\n<p>I checked my directory that stores <code>javax.activation</code>. It does exist but just doesn't include <code>DataSource</code>.</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683830129,"creation_date":1683830129,"answer_id":76230697,"question_id":76230285,"body_markdown":"This works for me in some my projects:\r\n\r\n     @Autowired(required = false) RotatingServerAdvice rotatingServerAdvice\r\n\r\nHowever the `IntegrationFlow` is not designed for refreshing: it is a composite logical component to populated Spring Integration beans according to the provided config. \r\n\r\nI would suggest to implement some delegating `MessageSourceMutator` which would use that `RotatingServerAdvice` if that is not null, otherwise default method impls. This way you always can inject it into your flow and can mark it with the `@RefreshScope` to be able to re-initialize with newly created `RotatingServerAdvice` delegate. Same `@Autowired(required = false)` injection still applies.\r\n","title":"How to handle optional beans when their availability criteria comes from a database?","body":"<p>This works for me in some my projects:</p>\n<pre><code> @Autowired(required = false) RotatingServerAdvice rotatingServerAdvice\n</code></pre>\n<p>However the <code>IntegrationFlow</code> is not designed for refreshing: it is a composite logical component to populated Spring Integration beans according to the provided config.</p>\n<p>I would suggest to implement some delegating <code>MessageSourceMutator</code> which would use that <code>RotatingServerAdvice</code> if that is not null, otherwise default method impls. This way you always can inject it into your flow and can mark it with the <code>@RefreshScope</code> to be able to re-initialize with newly created <code>RotatingServerAdvice</code> delegate. Same <code>@Autowired(required = false)</code> injection still applies.</p>\n"}],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76230697,"answer_count":1,"score":0,"last_activity_date":1683830129,"creation_date":1683826661,"question_id":76230285,"body_markdown":"Consider the following code which configures the polling of some SFTP servers. The configuration comes from a database.\r\n\r\n\t@Bean\r\n\t@RefreshScope\r\n\tRotatingServerAdvice advice(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\r\n\r\n\t\tList&lt;RotationPolicy.KeyDirectory&gt; keyDirectories = interfaceRepo.findAll().stream()\r\n\t\t\t\t.filter(Interface::isReceivingData)\r\n\t\t\t\t.map(x -&gt; new RotationPolicy.KeyDirectory(\r\n\t\t\t\t\t\tnew SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\r\n\t\t\t\t\t\tx.getDirectory()()))\r\n\t\t\t\t.toList();\r\n\r\n\t\treturn keyDirectories.isEmpty() ? null : new RotatingServerAdvice(delegatingSessionFactory, keyDirectories);\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tConcurrentMetadataStore store() {\r\n\t\treturn new PropertiesPersistingMetadataStore();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic IntegrationFlow flow(ObjectProvider&lt;RotatingServerAdvice&gt; adviceProvider,\r\n\t\t\tDelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory, ConcurrentMetadataStore store) {\r\n\t\t\r\n\t\tRotatingServerAdvice advice = adviceProvider.getIfAvailable();\r\n\r\n\t\treturn advice == null ? null\r\n\t\t\t\t: IntegrationFlows\r\n\t\t\t\t\t\t.from(Sftp.inboundAdapter(delegatingSessionFactory)\r\n\t\t\t\t\t\t\t\t.filter(new SftpPersistentAcceptOnceFileListFilter(store, &quot;rotate_&quot;))\r\n\t\t\t\t\t\t\t\t.localDirectory(new File(&quot;C:\\\\tmp\\\\sftp&quot;))\r\n\t\t\t\t\t\t\t\t.localFilenameExpression(&quot;#remoteDirectory + T(java.io.File).separator + #root&quot;)\r\n\t\t\t\t\t\t\t\t.remoteDirectory(&quot;.&quot;), e -&gt; e.poller(Pollers.fixedDelay(1).advice(advice)))\r\n\t\t\t\t\t\t.channel(MessageChannels.queue(&quot;files&quot;)).get();\r\n\t}\r\n\r\nI&#39;m trying to handle the case when the database is empty. I can&#39;t create a `RotatingServerAdvice` with an empty `List&lt;RotationPolicy.KeyDirectory&gt;` because there is an `Assert.notNull` in Spring&#39;s code, so I&#39;m returning `null` instead of a `RotatingServerAdvice` instance.\r\n\r\nIn `flow` I tried to handle the `null` case with `ObjectProvider` when I call `getIfAvailable` on it it just returns me a CGLib proxy backed with what I suspect to be a `NullBean` (because `toString()` returns `&quot;null&quot;`).\r\n\r\nI have no solution to test if that bean is a `NullBean` or an actual instance of `RotatingServerAdvice` because of the proxy that hides the internal implementation.\r\n\r\nAlso there is no `@Conditional` annotation that would allow me to query the database.\r\n\r\nHow do I solve this?\r\n\r\n","title":"How to handle optional beans when their availability criteria comes from a database?","body":"<p>Consider the following code which configures the polling of some SFTP servers. The configuration comes from a database.</p>\n<pre><code>@Bean\n@RefreshScope\nRotatingServerAdvice advice(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\n\n    List&lt;RotationPolicy.KeyDirectory&gt; keyDirectories = interfaceRepo.findAll().stream()\n            .filter(Interface::isReceivingData)\n            .map(x -&gt; new RotationPolicy.KeyDirectory(\n                    new SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\n                    x.getDirectory()()))\n            .toList();\n\n    return keyDirectories.isEmpty() ? null : new RotatingServerAdvice(delegatingSessionFactory, keyDirectories);\n\n}\n\n@Bean\nConcurrentMetadataStore store() {\n    return new PropertiesPersistingMetadataStore();\n}\n\n@Bean\npublic IntegrationFlow flow(ObjectProvider&lt;RotatingServerAdvice&gt; adviceProvider,\n        DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory, ConcurrentMetadataStore store) {\n    \n    RotatingServerAdvice advice = adviceProvider.getIfAvailable();\n\n    return advice == null ? null\n            : IntegrationFlows\n                    .from(Sftp.inboundAdapter(delegatingSessionFactory)\n                            .filter(new SftpPersistentAcceptOnceFileListFilter(store, &quot;rotate_&quot;))\n                            .localDirectory(new File(&quot;C:\\\\tmp\\\\sftp&quot;))\n                            .localFilenameExpression(&quot;#remoteDirectory + T(java.io.File).separator + #root&quot;)\n                            .remoteDirectory(&quot;.&quot;), e -&gt; e.poller(Pollers.fixedDelay(1).advice(advice)))\n                    .channel(MessageChannels.queue(&quot;files&quot;)).get();\n}\n</code></pre>\n<p>I'm trying to handle the case when the database is empty. I can't create a <code>RotatingServerAdvice</code> with an empty <code>List&lt;RotationPolicy.KeyDirectory&gt;</code> because there is an <code>Assert.notNull</code> in Spring's code, so I'm returning <code>null</code> instead of a <code>RotatingServerAdvice</code> instance.</p>\n<p>In <code>flow</code> I tried to handle the <code>null</code> case with <code>ObjectProvider</code> when I call <code>getIfAvailable</code> on it it just returns me a CGLib proxy backed with what I suspect to be a <code>NullBean</code> (because <code>toString()</code> returns <code>&quot;null&quot;</code>).</p>\n<p>I have no solution to test if that bean is a <code>NullBean</code> or an actual instance of <code>RotatingServerAdvice</code> because of the proxy that hides the internal implementation.</p>\n<p>Also there is no <code>@Conditional</code> annotation that would allow me to query the database.</p>\n<p>How do I solve this?</p>\n"},{"tags":["java","maven","gradle"],"owner":{"account_id":1217183,"reputation":123,"user_id":1184527,"display_name":"user1184527"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683830063,"creation_date":1683830063,"question_id":76230685,"body_markdown":"I have a jar file (name: test-annotation-processor.jar) which has the annotation-processors declared. The annotation-processors have the following format:\r\n\r\n```\r\n@SupportedAnnotationTypes(&quot;*&quot;) \r\n@SupportedSourceVersion(SourceVersion.RELEASE_11) \r\n@AutoService(Processor.class) \r\n@SuppressWarnings(&quot;unused&quot;) \r\npublic class TestGenerator extends AbstractProcessor {\r\n    \r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        //Searches for classes marked with specific annotations (example: @TestAnnotation)\r\n        //Generates code classes\r\n    } \r\n}\r\n\r\n//Annotation Class \r\n@Retention(RetentionPolicy.RUNTIME) \r\n@Target({ElementType.TYPE}) \r\npublic @interface TestAnnotation {   \r\n    //Supporting methods \r\n}\r\n\r\n```\r\n\r\nFollowing is the build section of pom.xml in this project: \r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;annotationProcessorPaths&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;foo&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;test-annotation-processor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${project.version}&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                &lt;/annotationProcessorPaths&gt;\r\n                &lt;annotationProcessors&gt;\r\n                    &lt;annotationProcessor&gt;TestGenerator&lt;/annotationProcessor&gt;\r\n                &lt;/annotationProcessors&gt;\r\n                &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nThe above jar is used as a dependency in another project’s pom.xml as:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;test.annotation.processor&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test-annotation-processor&lt;/artifactId&gt;\r\n    &lt;version&gt;${version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhenever I create a new build using Maven (using **maven clean install**), the annotation processor kicks in and the code gets generated in the folder at the following path:\r\n\r\n&gt; ${project-root}/target/generated-sources/annotations/\r\n\r\n\r\nI am trying to migrate this pom.xml to a build.gradle file. My build.gradle.kts has the following structure:\r\n```\r\nplugins {\r\n    id(&quot;maven-publish&quot;)\r\n    id(&quot;java-library&quot;)\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;test.annotation.processor:test-annotation-processor:version&quot;)\r\n    annotationProcessor(&quot;test.annotation.processor:test-annotation-processor:version&quot;)\r\n   //Other dependencies\r\n}\r\n```\r\n\r\nWhen I try to create a build using **gradle clean build**, I can see the folder structure which gets generated but unfortunately the folder is empty and no code gets generated. I tried to attach a debug point to the annotation-processor but was never able to reach it. I am guessing that the annotation-processor does gets executed in this case:\r\n\r\n&gt; ${project-root}/build/generated/sources/annotationProcessor/java/main\r\n\r\nI tried to check if the annotation-processing jar is available in the classpath using the command:\r\n\r\n&gt; ./gradlew dependencies --configuration runtimeClasspath\r\n\r\nand I found them to be available.\r\n\r\nIn Intellij, I was also able to check the presence of this jar in the external dependencies section. It had the following structure:\r\n```\r\n| - test-annotation-processor.jar\r\n    | - package\r\n        | - Annotation Processor Classes\r\n    | - META-INF\r\n      - Other packages\r\n      - services\r\n         - javax.annotation.processing.Processor\r\n```\r\nThe file javax.annotation.processing.Processor contains the fully qualified name of the annotation-processor class.\r\n\r\nCan someone please help me with this issue? I am not sure what I am missing here.","title":"AnnotationProcessor from a dependency does not gets executed","body":"<p>I have a jar file (name: test-annotation-processor.jar) which has the annotation-processors declared. The annotation-processors have the following format:</p>\n<pre><code>@SupportedAnnotationTypes(&quot;*&quot;) \n@SupportedSourceVersion(SourceVersion.RELEASE_11) \n@AutoService(Processor.class) \n@SuppressWarnings(&quot;unused&quot;) \npublic class TestGenerator extends AbstractProcessor {\n    \n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        //Searches for classes marked with specific annotations (example: @TestAnnotation)\n        //Generates code classes\n    } \n}\n\n//Annotation Class \n@Retention(RetentionPolicy.RUNTIME) \n@Target({ElementType.TYPE}) \npublic @interface TestAnnotation {   \n    //Supporting methods \n}\n\n</code></pre>\n<p>Following is the build section of pom.xml in this project:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;foo&lt;/groupId&gt;\n                        &lt;artifactId&gt;test-annotation-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${project.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;annotationProcessors&gt;\n                    &lt;annotationProcessor&gt;TestGenerator&lt;/annotationProcessor&gt;\n                &lt;/annotationProcessors&gt;\n                &lt;failOnError&gt;true&lt;/failOnError&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>The above jar is used as a dependency in another project’s pom.xml as:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;test.annotation.processor&lt;/groupId&gt;\n    &lt;artifactId&gt;test-annotation-processor&lt;/artifactId&gt;\n    &lt;version&gt;${version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Whenever I create a new build using Maven (using <strong>maven clean install</strong>), the annotation processor kicks in and the code gets generated in the folder at the following path:</p>\n<blockquote>\n<p>${project-root}/target/generated-sources/annotations/</p>\n</blockquote>\n<p>I am trying to migrate this pom.xml to a build.gradle file. My build.gradle.kts has the following structure:</p>\n<pre><code>plugins {\n    id(&quot;maven-publish&quot;)\n    id(&quot;java-library&quot;)\n}\n\ndependencies {\n    implementation(&quot;test.annotation.processor:test-annotation-processor:version&quot;)\n    annotationProcessor(&quot;test.annotation.processor:test-annotation-processor:version&quot;)\n   //Other dependencies\n}\n</code></pre>\n<p>When I try to create a build using <strong>gradle clean build</strong>, I can see the folder structure which gets generated but unfortunately the folder is empty and no code gets generated. I tried to attach a debug point to the annotation-processor but was never able to reach it. I am guessing that the annotation-processor does gets executed in this case:</p>\n<blockquote>\n<p>${project-root}/build/generated/sources/annotationProcessor/java/main</p>\n</blockquote>\n<p>I tried to check if the annotation-processing jar is available in the classpath using the command:</p>\n<blockquote>\n<p>./gradlew dependencies --configuration runtimeClasspath</p>\n</blockquote>\n<p>and I found them to be available.</p>\n<p>In Intellij, I was also able to check the presence of this jar in the external dependencies section. It had the following structure:</p>\n<pre><code>| - test-annotation-processor.jar\n    | - package\n        | - Annotation Processor Classes\n    | - META-INF\n      - Other packages\n      - services\n         - javax.annotation.processing.Processor\n</code></pre>\n<p>The file javax.annotation.processing.Processor contains the fully qualified name of the annotation-processor class.</p>\n<p>Can someone please help me with this issue? I am not sure what I am missing here.</p>\n"},{"tags":["java","android","android-checkbox"],"comments":[{"owner":{"account_id":13078254,"reputation":202,"user_id":9449585,"display_name":"Sandeep Patel"},"score":0,"creation_date":1539690800,"post_id":52834836,"comment_id":92585678,"body_markdown":"please give me a reason of down vote. if any info is not available then i can provide you. Thank you down voter. :)","body":"please give me a reason of down vote. if any info is not available then i can provide you. Thank you down voter. :)"},{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1539690854,"post_id":52834836,"comment_id":92585704,"body_markdown":"Go with `Recyclerview`","body":"Go with <code>Recyclerview</code>"},{"owner":{"account_id":13078254,"reputation":202,"user_id":9449585,"display_name":"Sandeep Patel"},"score":0,"creation_date":1539690896,"post_id":52834836,"comment_id":92585729,"body_markdown":"No no i don&#39;t want to use recyclerview. becoz it&#39;s not comparably every time all Checkbox is show. it&#39;s a depend on response.","body":"No no i don&#39;t want to use recyclerview. becoz it&#39;s not comparably every time all Checkbox is show. it&#39;s a depend on response."},{"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"score":0,"creation_date":1539690983,"post_id":52834836,"comment_id":92585789,"body_markdown":"Implement listener outside the for loop. In for loop add tags to all the checkboxes and set the listener. In the listener check for the tags to identify the clicked checkbox.","body":"Implement listener outside the for loop. In for loop add tags to all the checkboxes and set the listener. In the listener check for the tags to identify the clicked checkbox."},{"owner":{"account_id":13078254,"reputation":202,"user_id":9449585,"display_name":"Sandeep Patel"},"score":0,"creation_date":1539691216,"post_id":52834836,"comment_id":92585913,"body_markdown":"can you please provide me any example how to i do this @Rohit5k2","body":"can you please provide me any example how to i do this @Rohit5k2"},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":1,"creation_date":1539691387,"post_id":52834836,"comment_id":92586026,"body_markdown":"this behavior is not natural for CheckBox. That should be RadioButtons","body":"this behavior is not natural for CheckBox. That should be RadioButtons"},{"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"score":1,"creation_date":1539691423,"post_id":52834836,"comment_id":92586040,"body_markdown":"Possible duplicate of [how to add action dynamically for multiple checkbox on android?](https://stackoverflow.com/questions/23287982/how-to-add-action-dynamically-for-multiple-checkbox-on-android)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/23287982/how-to-add-action-dynamically-for-multiple-checkbox-on-android\">how to add action dynamically for multiple checkbox on android?</a>"}],"answers":[{"comments":[{"owner":{"account_id":14514497,"reputation":289,"user_id":10484014,"display_name":"kuber singh"},"score":0,"creation_date":1539693091,"post_id":52835048,"comment_id":92587130,"body_markdown":"update code  woking for me, you just need to checkbox.setid(1000+i); ,, add code below checkBox.setLayoutParams(params);","body":"update code  woking for me, you just need to checkbox.setid(1000+i); ,, add code below checkBox.setLayoutParams(params);"},{"owner":{"account_id":13078254,"reputation":202,"user_id":9449585,"display_name":"Sandeep Patel"},"score":0,"creation_date":1539693436,"post_id":52835048,"comment_id":92587344,"body_markdown":"didn&#39;t work it&#39;s give me a error `Attempt to invoke virtual method &#39;void android.widget.chk.setChecked(boolean)&#39; on a null object reference`","body":"didn&#39;t work it&#39;s give me a error <code>Attempt to invoke virtual method &#39;void android.widget.chk.setChecked(boolean)&#39; on a null object reference</code>"},{"owner":{"account_id":14514497,"reputation":289,"user_id":10484014,"display_name":"kuber singh"},"score":0,"creation_date":1539693658,"post_id":52835048,"comment_id":92587467,"body_markdown":"from above code, you can figure it out why my code working fine and you getting issue","body":"from above code, you can figure it out why my code working fine and you getting issue"},{"owner":{"account_id":13078254,"reputation":202,"user_id":9449585,"display_name":"Sandeep Patel"},"score":1,"creation_date":1539694707,"post_id":52835048,"comment_id":92588090,"body_markdown":"awesome it&#39;s work for me but i think you remove some code in my code ???","body":"awesome it&#39;s work for me but i think you remove some code in my code ???"}],"tags":[],"owner":{"account_id":14514497,"reputation":289,"user_id":10484014,"display_name":"kuber singh"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539693541,"creation_date":1539691450,"answer_id":52835048,"question_id":52834836,"body_markdown":"    public class MainActivity extends AppCompatActivity {\r\n\r\n    LinearLayout ll_dynamic;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        ll_dynamic=(LinearLayout)findViewById(R.id.hhh);\r\n        final String name[] = {&quot;Credit Card&quot;, &quot;Debit Card&quot;,&quot;Bank Deposit&quot;,&quot;in-app Purchase&quot;, &quot;PayPal&quot;};\r\n        /*int Array_Count=0;\r\n        String[] Str_Array = new String[0];\r\n\r\n        Array_Count = Str_Array.length;*/\r\n\r\n        for (int i = 0; i &lt; name.length; i++)\r\n        {\r\n\r\n            final View v = new View(this);\r\n            v.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, 5));\r\n\r\n            LinearLayout row = new LinearLayout(this);\r\n            row.setOrientation(LinearLayout.VERTICAL);\r\n            row.setId(i);\r\n            row.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,LinearLayout.LayoutParams.WRAP_CONTENT));\r\n            final CheckBox checkBox = new CheckBox(this);\r\n            checkBox.setId(1000+i);\r\n            checkBox.setText(name[i]);\r\n            checkBox.setPadding(20,60,0,60);\r\n            checkBox.setTextSize(20);\r\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\r\n                    LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                    LinearLayout.LayoutParams.WRAP_CONTENT\r\n            );\r\n            params.setMargins(60, 0, 0, 0);\r\n            checkBox.setLayoutParams(params);\r\n            checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    if(isChecked) {\r\n                        for (int j = 0; j &lt; name.length; j++) {\r\n                            if (buttonView.getId() != 1000+j) {\r\n                                CheckBox chk = (CheckBox)ll_dynamic.findViewById(1000+j);\r\n                                chk.setChecked(false);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            row.addView(checkBox);\r\n\r\n            row.addView(v);\r\n            ll_dynamic.addView(row);\r\n        }\r\n    }\r\n}\r\n","title":"How to use setOnCheckedChangeListener for multiple checkbox [Dynamic View]","body":"<pre><code>public class MainActivity extends AppCompatActivity {\n\nLinearLayout ll_dynamic;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    ll_dynamic=(LinearLayout)findViewById(R.id.hhh);\n    final String name[] = {\"Credit Card\", \"Debit Card\",\"Bank Deposit\",\"in-app Purchase\", \"PayPal\"};\n    /*int Array_Count=0;\n    String[] Str_Array = new String[0];\n\n    Array_Count = Str_Array.length;*/\n\n    for (int i = 0; i &lt; name.length; i++)\n    {\n\n        final View v = new View(this);\n        v.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, 5));\n\n        LinearLayout row = new LinearLayout(this);\n        row.setOrientation(LinearLayout.VERTICAL);\n        row.setId(i);\n        row.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,LinearLayout.LayoutParams.WRAP_CONTENT));\n        final CheckBox checkBox = new CheckBox(this);\n        checkBox.setId(1000+i);\n        checkBox.setText(name[i]);\n        checkBox.setPadding(20,60,0,60);\n        checkBox.setTextSize(20);\n        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n                LinearLayout.LayoutParams.WRAP_CONTENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT\n        );\n        params.setMargins(60, 0, 0, 0);\n        checkBox.setLayoutParams(params);\n        checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                if(isChecked) {\n                    for (int j = 0; j &lt; name.length; j++) {\n                        if (buttonView.getId() != 1000+j) {\n                            CheckBox chk = (CheckBox)ll_dynamic.findViewById(1000+j);\n                            chk.setChecked(false);\n                        }\n                    }\n                }\n            }\n        });\n        row.addView(checkBox);\n\n        row.addView(v);\n        ll_dynamic.addView(row);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":13078254,"reputation":202,"user_id":9449585,"display_name":"Sandeep Patel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":52835048,"answer_count":1,"score":-2,"last_activity_date":1683829363,"creation_date":1539690633,"question_id":52834836,"body_markdown":"i&#39;ll create a one dynamic view. in this view i can design one dynamic view with **5 CheckBox**\r\n\r\ni&#39;ll try below code for dynamic view :\r\n\r\n \r\n\r\n    private void chkdynamic() {\r\n            final String name[] = {&quot;Credit Card&quot;, &quot;Debit Card&quot;,&quot;Bank Deposit&quot;,&quot;in-app Purchase&quot;, &quot;PayPal&quot;};\r\n            /*int Array_Count=0;\r\n            String[] Str_Array = new String[0];\r\n    \r\n            Array_Count = Str_Array.length;*/\r\n    \r\n            for (int i = 0; i &lt; name.length; i++)\r\n            {\r\n    \r\n                final View v = new View(this);\r\n                v.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, 5));\r\n                v.setBackgroundColor(getResources().getColor(R.color.border_gray));\r\n    \r\n                LinearLayout row = new LinearLayout(this);\r\n                row.setOrientation(LinearLayout.VERTICAL);\r\n                row.setId(i);\r\n                row.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,LinearLayout.LayoutParams.WRAP_CONTENT));\r\n                final CheckBox checkBox = new CheckBox(activity);\r\n                checkBox.setId(i);\r\n                checkBox.setText(name[i]);\r\n                checkBox.setTextColor(getResources().getColor(R.color.gray_text));\r\n                checkBox.setButtonDrawable(getResources().getDrawable(R.drawable.chk_btn));\r\n                checkBox.setPadding(20,60,0,60);\r\n                checkBox.setTextSize(20);\r\n                LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\r\n                        LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                        LinearLayout.LayoutParams.WRAP_CONTENT\r\n                );\r\n                params.setMargins(60, 0, 0, 0);\r\n                checkBox.setLayoutParams(params);\r\n                row.addView(checkBox);\r\n                row.addView(v);\r\n                ll_dynamic.addView(row);\r\n            }\r\n        }\r\n\r\n \r\nas per the above code 5 checkbox created as per the name length. \r\n\r\nMy question is Now **How to i `setOnCheckedChangeListener` for checkbox**\r\n\r\nif i check `CheckBox` one then other `CheckBox` Uncheck how to this possible in dynamic view.\r\n\r\nplease suggest me any solution.  ","title":"How to use setOnCheckedChangeListener for multiple checkbox [Dynamic View]","body":"<p>i'll create a one dynamic view. in this view i can design one dynamic view with <strong>5 CheckBox</strong></p>\n\n<p>i'll try below code for dynamic view :</p>\n\n<pre><code>private void chkdynamic() {\n        final String name[] = {\"Credit Card\", \"Debit Card\",\"Bank Deposit\",\"in-app Purchase\", \"PayPal\"};\n        /*int Array_Count=0;\n        String[] Str_Array = new String[0];\n\n        Array_Count = Str_Array.length;*/\n\n        for (int i = 0; i &lt; name.length; i++)\n        {\n\n            final View v = new View(this);\n            v.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, 5));\n            v.setBackgroundColor(getResources().getColor(R.color.border_gray));\n\n            LinearLayout row = new LinearLayout(this);\n            row.setOrientation(LinearLayout.VERTICAL);\n            row.setId(i);\n            row.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,LinearLayout.LayoutParams.WRAP_CONTENT));\n            final CheckBox checkBox = new CheckBox(activity);\n            checkBox.setId(i);\n            checkBox.setText(name[i]);\n            checkBox.setTextColor(getResources().getColor(R.color.gray_text));\n            checkBox.setButtonDrawable(getResources().getDrawable(R.drawable.chk_btn));\n            checkBox.setPadding(20,60,0,60);\n            checkBox.setTextSize(20);\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n                    LinearLayout.LayoutParams.WRAP_CONTENT,\n                    LinearLayout.LayoutParams.WRAP_CONTENT\n            );\n            params.setMargins(60, 0, 0, 0);\n            checkBox.setLayoutParams(params);\n            row.addView(checkBox);\n            row.addView(v);\n            ll_dynamic.addView(row);\n        }\n    }\n</code></pre>\n\n<p>as per the above code 5 checkbox created as per the name length. </p>\n\n<p>My question is Now <strong>How to i <code>setOnCheckedChangeListener</code> for checkbox</strong></p>\n\n<p>if i check <code>CheckBox</code> one then other <code>CheckBox</code> Uncheck how to this possible in dynamic view.</p>\n\n<p>please suggest me any solution.  </p>\n"},{"tags":["java","android","authentication"],"answers":[{"tags":[],"owner":{"account_id":2442142,"reputation":43,"user_id":2130331,"accept_rate":0,"display_name":"someuser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483569067,"creation_date":1483569067,"answer_id":41474326,"question_id":41474239,"body_markdown":"Don&#39;t cmpletely understand what you want, but if you just need to login and see the response, you could use a webview, and parse through the html like https://stackoverflow.com/questions/8200945/how-to-get-html-content-from-a-webview?answertab=votes#tab-top. ","title":"Android / Java: Programmatically login into website with Android-App","body":"<p>Don't cmpletely understand what you want, but if you just need to login and see the response, you could use a webview, and parse through the html like <a href=\"https://stackoverflow.com/questions/8200945/how-to-get-html-content-from-a-webview?answertab=votes#tab-top\">how to get html content from a webview?</a>. </p>\n"},{"tags":[],"owner":{"account_id":9970115,"reputation":27,"user_id":7376480,"accept_rate":33,"display_name":"quidproquo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1486041030,"creation_date":1486041030,"answer_id":42003124,"question_id":41474239,"body_markdown":"this is an answer:\r\n\r\n    web.loadUrl(&quot;javascript: {&quot; +\r\n                                                 &quot;document.getElementsByName(&#39;authid&#39;)[0].value = &#39;&quot; + ID + &quot;&#39;;&quot; +\r\n                                                 &quot;document.getElementsByName(&#39;authpw&#39;)[0].value = &#39;&quot; + PASS + &quot;&#39;;&quot; +\r\n                                                 &quot;var submit = document.getElementsByClassName(&#39;inputbutton&#39;);&quot; +\r\n                                                 &quot;submit[0].click(); };&quot;);","title":"Android / Java: Programmatically login into website with Android-App","body":"<p>this is an answer:</p>\n\n<pre><code>web.loadUrl(\"javascript: {\" +\n                                             \"document.getElementsByName('authid')[0].value = '\" + ID + \"';\" +\n                                             \"document.getElementsByName('authpw')[0].value = '\" + PASS + \"';\" +\n                                             \"var submit = document.getElementsByClassName('inputbutton');\" +\n                                             \"submit[0].click(); };\");\n</code></pre>\n"}],"owner":{"account_id":9970115,"reputation":27,"user_id":7376480,"accept_rate":33,"display_name":"quidproquo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":42003124,"answer_count":2,"score":-1,"last_activity_date":1683829193,"creation_date":1483568679,"question_id":41474239,"body_markdown":"does somebody know a explicit way to **programmatically login to a website**  **in an Android-App**?\r\n\r\nThanks in advance :)\r\n\r\n\r\n  [1]: http://www.hpg-speyer.de/vertretungsplan/index.php","title":"Android / Java: Programmatically login into website with Android-App","body":"<p>does somebody know a explicit way to <strong>programmatically login to a website</strong>  <strong>in an Android-App</strong>?</p>\n\n<p>Thanks in advance :)</p>\n"},{"tags":["java","android","android-edittext"],"answers":[{"comments":[{"owner":{"account_id":16708172,"reputation":1,"user_id":12076125,"display_name":"Matias Navarro"},"score":0,"creation_date":1568742467,"post_id":57978843,"comment_id":102368434,"body_markdown":"thanks for your answer, but if i have more that 1 EditText, how i can identify the id of either one? :/","body":"thanks for your answer, but if i have more that 1 EditText, how i can identify the id of either one? :/"}],"tags":[],"owner":{"account_id":14015638,"reputation":850,"user_id":10123247,"display_name":"Rezaul Karim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1568739335,"creation_date":1568739335,"answer_id":57978843,"question_id":57978539,"body_markdown":"     for (int i=0; i&lt;lista.size();i++){\r\n                String dato = lista.get(i).getData_type();\r\n                String title = lista.get(i).getField_label();\r\n                String id = lista.get(i).getField_name();\r\n\r\n\r\n                if (dato.equals(&quot;Text&quot;)){\r\n                    TextView tv = new TextView(getApplicationContext());\r\n                    tv.setLayoutParams(lp);\r\n                    tv.setId(assignDifferentId)\r\n                    Lview.addView(tv);\r\n                    tv.setText(&quot;Ingrese &quot;+title);\r\n                    EditText et = new EditText(getApplicationContext());\r\n                    et.setLayoutParams(lp);\r\n                   et.setId(assignDifferentId2)\r\n                    et.setInputType(InputType.TYPE_CLASS_TEXT);\r\n                    Lview.addView(et);\r\n                    et.setHint(&quot;Ingrese Datos&quot;);\r\n                }\r\n            }\r\n\r\n            btnIng.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n                    Toast.makeText(plantilla.this, &quot;El elemento es &quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\nAnd you can access this by id as following\r\n\r\n    EditText et = Lview.findViewById(yourassignedId)\r\n    String text = et.getText().toString()","title":"Request data from Programmatically EditText","body":"<pre><code> for (int i=0; i&lt;lista.size();i++){\n            String dato = lista.get(i).getData_type();\n            String title = lista.get(i).getField_label();\n            String id = lista.get(i).getField_name();\n\n\n            if (dato.equals(\"Text\")){\n                TextView tv = new TextView(getApplicationContext());\n                tv.setLayoutParams(lp);\n                tv.setId(assignDifferentId)\n                Lview.addView(tv);\n                tv.setText(\"Ingrese \"+title);\n                EditText et = new EditText(getApplicationContext());\n                et.setLayoutParams(lp);\n               et.setId(assignDifferentId2)\n                et.setInputType(InputType.TYPE_CLASS_TEXT);\n                Lview.addView(et);\n                et.setHint(\"Ingrese Datos\");\n            }\n        }\n\n        btnIng.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Toast.makeText(plantilla.this, \"El elemento es \", Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n\n<p>And you can access this by id as following</p>\n\n<pre><code>EditText et = Lview.findViewById(yourassignedId)\nString text = et.getText().toString()\n</code></pre>\n"}],"owner":{"account_id":16708172,"reputation":1,"user_id":12076125,"display_name":"Matias Navarro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":57978843,"answer_count":1,"score":-1,"last_activity_date":1683829034,"creation_date":1568738153,"question_id":57978539,"body_markdown":"I&#39;m making a class that displays the UI programmatically. I display a lot of EditText and others and i want to request the data of any one to save in the BD. How i can give an id for either one? \r\n\r\nHere&#39;s the code\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n                for (int i=0; i&lt;lista.size();i++){\r\n                    String dato = lista.get(i).getData_type();\r\n                    String title = lista.get(i).getField_label();\r\n                    String id = lista.get(i).getField_name();\r\n\r\n\r\n                    if (dato.equals(&quot;Text&quot;)){\r\n                        TextView tv = new TextView(getApplicationContext());\r\n                        tv.setLayoutParams(lp);\r\n                        Lview.addView(tv);\r\n                        tv.setText(&quot;Ingrese &quot;+title);\r\n                        EditText et = new EditText(getApplicationContext());\r\n                        et.setLayoutParams(lp);\r\n                        et.setInputType(InputType.TYPE_CLASS_TEXT);\r\n                        Lview.addView(et);\r\n                        et.setHint(&quot;Ingrese Datos&quot;);\r\n                    }\r\n                }\r\n\r\n                btnIng.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n\r\n                        Toast.makeText(plantilla.this, &quot;El elemento es &quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n\r\n","title":"Request data from Programmatically EditText","body":"<p>I'm making a class that displays the UI programmatically. I display a lot of EditText and others and i want to request the data of any one to save in the BD. How i can give an id for either one?</p>\n<p>Here's the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>            for (int i=0; i&lt;lista.size();i++){\n                String dato = lista.get(i).getData_type();\n                String title = lista.get(i).getField_label();\n                String id = lista.get(i).getField_name();\n\n\n                if (dato.equals(&quot;Text&quot;)){\n                    TextView tv = new TextView(getApplicationContext());\n                    tv.setLayoutParams(lp);\n                    Lview.addView(tv);\n                    tv.setText(&quot;Ingrese &quot;+title);\n                    EditText et = new EditText(getApplicationContext());\n                    et.setLayoutParams(lp);\n                    et.setInputType(InputType.TYPE_CLASS_TEXT);\n                    Lview.addView(et);\n                    et.setHint(&quot;Ingrese Datos&quot;);\n                }\n            }\n\n            btnIng.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n                    Toast.makeText(plantilla.this, &quot;El elemento es &quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n</code></pre>\n"},{"tags":["java","sql","mysql","database"],"answers":[{"tags":[],"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1436785147,"creation_date":1436784435,"answer_id":31381325,"question_id":31381242,"body_markdown":"it should be\r\n\r\n    Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/&quot;+db,&quot;root&quot;,&quot;xyz&quot; );\r\n\r\nproblem is \r\n\r\n    &quot;+db+&quot;\r\n\r\nyou have extra `&quot;` mark","title":"how to take database as parameter to connect to mysql database server","body":"<p>it should be</p>\n\n<pre><code>Connection con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/\"+db,\"root\",\"xyz\" );\n</code></pre>\n\n<p>problem is </p>\n\n<pre><code>\"+db+\"\n</code></pre>\n\n<p>you have extra <code>\"</code> mark</p>\n"},{"comments":[{"owner":{"account_id":6536967,"reputation":25,"user_id":5056105,"display_name":"Virat Srivastava"},"score":0,"creation_date":1436784635,"post_id":31381345,"comment_id":50740466,"body_markdown":"Actually i wanted to take the input of dbname from user","body":"Actually i wanted to take the input of dbname from user"}],"tags":[],"owner":{"account_id":5995725,"reputation":4137,"user_id":4710425,"accept_rate":59,"display_name":"SatyaTNV"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436784695,"creation_date":1436784492,"answer_id":31381345,"question_id":31381242,"body_markdown":"    \r\n    Connection con=null;\r\n   \r\n\tString DB_URL = &quot;jdbc:mysql://localhost:3306/&quot;;\r\n\tString USER = &quot;abc&quot;;//db user name\r\n\tString PASS = &quot;abc&quot;;//db password     \r\n    \r\n\r\n    public synchronized Connection getConnection(String dbname)\r\n\t{\r\n     try\r\n\t\t{\r\n          Class.forName(&quot;com.mysql.jdbc.Driver&quot;);//loading mysql driver \r\n\t      con = DriverManager.getConnection(DB_URL+dbname,USER,PASS);//connecting to mysql\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn con;\r\n\t}","title":"how to take database as parameter to connect to mysql database server","body":"<pre><code>Connection con=null;\n\nString DB_URL = \"jdbc:mysql://localhost:3306/\";\nString USER = \"abc\";//db user name\nString PASS = \"abc\";//db password     \n\n\npublic synchronized Connection getConnection(String dbname)\n{\n try\n    {\n      Class.forName(\"com.mysql.jdbc.Driver\");//loading mysql driver \n      con = DriverManager.getConnection(DB_URL+dbname,USER,PASS);//connecting to mysql\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n    return con;\n}\n</code></pre>\n"}],"owner":{"account_id":6536967,"reputation":25,"user_id":5056105,"display_name":"Virat Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31381325,"answer_count":2,"score":0,"last_activity_date":1683828371,"creation_date":1436784225,"question_id":31381242,"body_markdown":"    import java.sql.*;\r\n    class ConnectSql\r\n    {\r\n\t    static Connection cont(String db)throws Exception\r\n\t    {\r\n\t\t    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t    Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/&quot;+db+&quot;,&quot;root&quot;,&quot;xyz&quot; );\t\r\n\t\t    return(con);\r\n\t    }\r\n    }\r\nI am facing a problem in compiling this function and this 7th line is i suppose a problem is there an syntax error.If so please tell me.Here i want to take the name of database as parameter received from calling function.When i gave the exact name of database instead of parameter it worked,but not after i passed parameter in connection line.","title":"how to take database as parameter to connect to mysql database server","body":"<pre><code>import java.sql.*;\nclass ConnectSql\n{\n    static Connection cont(String db)throws Exception\n    {\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        Connection con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/\"+db+\",\"root\",\"xyz\" );  \n        return(con);\n    }\n}\n</code></pre>\n\n<p>I am facing a problem in compiling this function and this 7th line is i suppose a problem is there an syntax error.If so please tell me.Here i want to take the name of database as parameter received from calling function.When i gave the exact name of database instead of parameter it worked,but not after i passed parameter in connection line.</p>\n"},{"tags":["java","arrays","junit","mocking","mockito"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683800547,"post_id":76226540,"comment_id":134423447,"body_markdown":"in any case `new IdRowMapperImpl()` seems wrong (unless it has very tolerant/constant `hashCode`/`equals` methods) ..please try: `any(RowMapper.class)` instead","body":"in any case <code>new IdRowMapperImpl()</code> seems wrong (unless it has very tolerant/constant <code>hashCode</code>/<code>equals</code> methods) ..please try: <code>any(RowMapper.class)</code> instead"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1683801438,"post_id":76226540,"comment_id":134423606,"body_markdown":"Thanks, I think the simplest option is to wrap the `JdbcTemplate` and mock the wrapper instead.","body":"Thanks, I think the simplest option is to wrap the <code>JdbcTemplate</code> and mock the wrapper instead."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683801728,"post_id":76226540,"comment_id":134423682,"body_markdown":"if the wrapper is not &quot;object under test&quot;, why not!? :) (but it seems like / too few info;)","body":"if the wrapper is not &quot;object under test&quot;, why not!? :) (but it seems like / too few info;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683801955,"post_id":76226540,"comment_id":134423734,"body_markdown":"to test a (custom) &quot;row mapper&quot;, seems best to mock &quot;ResultSet&quot; (https://stackoverflow.com/q/63035125/592355)","body":"to test a (custom) &quot;row mapper&quot;, seems best to mock &quot;ResultSet&quot; (<a href=\"https://stackoverflow.com/q/63035125/592355\">stackoverflow.com/q/63035125/592355</a>)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683802080,"post_id":76226540,"comment_id":134423760,"body_markdown":"to test a &quot;dao&quot;, mocking &quot;jdbc template#queryXXX&quot; seems cool: https://www.baeldung.com/spring-jdbctemplate-testing","body":"to test a &quot;dao&quot;, mocking &quot;jdbc template#queryXXX&quot; seems cool: <a href=\"https://www.baeldung.com/spring-jdbctemplate-testing\" rel=\"nofollow noreferrer\">baeldung.com/spring-jdbctemplate-testing</a>"}],"answers":[{"comments":[{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1683871741,"post_id":76228300,"comment_id":134435754,"body_markdown":"I tried it with `any(RowMapper.class)` and that didn&#39;t work either.","body":"I tried it with <code>any(RowMapper.class)</code> and that didn&#39;t work either."}],"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683812524,"creation_date":1683812524,"answer_id":76228300,"question_id":76226540,"body_markdown":"If you use argument matches then all parameters should be the same type. In your case like:\r\n\r\n    when(jdbcTemplate.query(\r\n                    anyString(),\r\n                    any(Object[].class),\r\n                    any(int[].class),\r\n                    any(RowMapper.class)\r\n            )).thenReturn(profileIds);","title":"How can I mock a call to JdbcTemplate.query(String, Object[], int[] RowMapper&lt;T&gt;) in my JUnit tests? (specifically the arrays)","body":"<p>If you use argument matches then all parameters should be the same type. In your case like:</p>\n<pre><code>when(jdbcTemplate.query(\n                anyString(),\n                any(Object[].class),\n                any(int[].class),\n                any(RowMapper.class)\n        )).thenReturn(profileIds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683828099,"creation_date":1683828099,"answer_id":76230469,"question_id":76226540,"body_markdown":"The mock that you thought should work won&#39;t work because you are using argument matchers and explicit values at the same time.  If you want to use an explicit value along with matchers, you need to let mockito know that with the `eq` matcher.\r\n```java\r\nwhen(db.query(anyString(), any(Object[].class), any(int[].class), eq(new IdRowMapperImpl()))).thenReturn(profileIds);\r\n```\r\n\r\nHowever, this also will not work because the `new IdRowMapperImpl()` will be a different object than the one passed to passed in the actual query.\r\n\r\nFinally, declaring specific types during a `when` mock can often be counterproductive.  Unless you want to specifically return a different object depending on the values passed, then `when(db.query(any(), any(), any(), any())).thenReturn(profileIds);` can be just as useful.  You can then use verify to assert that the expected method was called, and that the expected values were actually passed to it.\r\n\r\nMaybe something like this:\r\n```java\r\n@Test\r\npublic void testRetrieveData()\r\n{\r\n  String expectedQuery = &quot;THIS IS MY QUERY&quot;;\r\n  ArgumentCaptor&lt;Object&gt; objectCaptor = ArgumentCaptor.forClass(Object.class);\r\n  ArgumentCaptor&lt;RowMapper&gt; mapperCaptor = ArgumentCaptor.forClass(RowMapper.class);\r\n  when(db.query(any(), any(), any(), any())).thenReturn(profileIds);\r\n \r\n  MyDao.getMyData();\r\n\r\n  verify(db, times(1)).query(eq(expectedQuery), (Object[]) objectCaptor .capture(), any(int[].class), mapperCaptor.capture());\r\n  assertEquals(expectedObjectArray, objectCaptor.getValue());\r\n  assertTrue(mapperCaptor.getValue() instanceof IdRowMapperImpl);\r\n}","title":"How can I mock a call to JdbcTemplate.query(String, Object[], int[] RowMapper&lt;T&gt;) in my JUnit tests? (specifically the arrays)","body":"<p>The mock that you thought should work won't work because you are using argument matchers and explicit values at the same time.  If you want to use an explicit value along with matchers, you need to let mockito know that with the <code>eq</code> matcher.</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(db.query(anyString(), any(Object[].class), any(int[].class), eq(new IdRowMapperImpl()))).thenReturn(profileIds);\n</code></pre>\n<p>However, this also will not work because the <code>new IdRowMapperImpl()</code> will be a different object than the one passed to passed in the actual query.</p>\n<p>Finally, declaring specific types during a <code>when</code> mock can often be counterproductive.  Unless you want to specifically return a different object depending on the values passed, then <code>when(db.query(any(), any(), any(), any())).thenReturn(profileIds);</code> can be just as useful.  You can then use verify to assert that the expected method was called, and that the expected values were actually passed to it.</p>\n<p>Maybe something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testRetrieveData()\n{\n  String expectedQuery = &quot;THIS IS MY QUERY&quot;;\n  ArgumentCaptor&lt;Object&gt; objectCaptor = ArgumentCaptor.forClass(Object.class);\n  ArgumentCaptor&lt;RowMapper&gt; mapperCaptor = ArgumentCaptor.forClass(RowMapper.class);\n  when(db.query(any(), any(), any(), any())).thenReturn(profileIds);\n \n  MyDao.getMyData();\n\n  verify(db, times(1)).query(eq(expectedQuery), (Object[]) objectCaptor .capture(), any(int[].class), mapperCaptor.capture());\n  assertEquals(expectedObjectArray, objectCaptor.getValue());\n  assertTrue(mapperCaptor.getValue() instanceof IdRowMapperImpl);\n}\n</code></pre>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76230469,"answer_count":2,"score":0,"last_activity_date":1683828099,"creation_date":1683800244,"question_id":76226540,"body_markdown":"I want to mock this method in `JdbcTemplate`: \r\n\r\n```\r\n\tpublic &lt;T&gt; List&lt;T&gt; query(String sql, Object[] args, int[] argTypes, RowMapper&lt;T&gt; rowMapper) throws DataAccessException {\r\n\t\treturn result(query(sql, args, argTypes, new RowMapperResultSetExtractor&lt;&gt;(rowMapper)));\r\n\t}\r\n```\r\nI&#39;m using JUnit 5 and Hamcrest. \r\n\r\nI&#39;ve tried numerous things, the one I feel should have worked is this:   \r\n```\r\nwhen(db.query(anyString(), any(Object[].class), any(int[].class), new IdRowMapperImpl())).thenReturn(profileIds);\r\n```\r\nbut it doesn&#39;t.  What am I doing wrong here? \r\nHow can I mock the arrays? ","title":"How can I mock a call to JdbcTemplate.query(String, Object[], int[] RowMapper&lt;T&gt;) in my JUnit tests? (specifically the arrays)","body":"<p>I want to mock this method in <code>JdbcTemplate</code>:</p>\n<pre><code>    public &lt;T&gt; List&lt;T&gt; query(String sql, Object[] args, int[] argTypes, RowMapper&lt;T&gt; rowMapper) throws DataAccessException {\n        return result(query(sql, args, argTypes, new RowMapperResultSetExtractor&lt;&gt;(rowMapper)));\n    }\n</code></pre>\n<p>I'm using JUnit 5 and Hamcrest.</p>\n<p>I've tried numerous things, the one I feel should have worked is this:</p>\n<pre><code>when(db.query(anyString(), any(Object[].class), any(int[].class), new IdRowMapperImpl())).thenReturn(profileIds);\n</code></pre>\n<p>but it doesn't.  What am I doing wrong here?\nHow can I mock the arrays?</p>\n"},{"tags":["java","sql","querydsl"],"comments":[{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1683834268,"post_id":76230423,"comment_id":134431354,"body_markdown":"Try to create your subqueries with `querydslJdbcFragment` and a the `query` instance. QueryDSL should create them properly as subqueries.","body":"Try to create your subqueries with <code>querydslJdbcFragment</code> and a the <code>query</code> instance. QueryDSL should create them properly as subqueries."}],"owner":{"account_id":4193394,"reputation":192,"user_id":3435425,"accept_rate":58,"display_name":"user3435425"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683827837,"creation_date":1683827837,"question_id":76230423,"body_markdown":"Is there a way to specify an alias for a subquery when using the unionAll operator?\r\nI&#39;m trying to write a QueryDSL query:\r\n\r\n        var id = Expressions.numberPath(Long.class, &quot;id&quot;);\r\n\r\n        var outgoingDocuments = SQLExpressions.select(\r\n                        QOutgoingDocument.outgoingDocument.id.as(id)\r\n                )\r\n                .from(QOutgoingDocument.outgoingDocument);\r\n\r\n        var incomingDocuments = SQLExpressions.select(\r\n                        QIncomingDocument.incomingDocument.id.as(idP)\r\n                )\r\n                .from(QIncomingDocument.incomingDocument);\r\n\r\n        var unionAll = SQLExpressions.unionAll(outgoingDocuments, incomingDocuments);\r\n\r\n\r\n        var result = querydslJdbcFragment.query(query -&gt; query.select(id).from(unionAll).fetch());\r\n\r\nAnd I&#39;m getting the following error:\r\n\r\n    bad SQL grammar [\r\n    select id\r\n    from (select OutgoingDocument.id as id from outgoing_document OutgoingDocument)\r\n    union all\r\n    (select IncomingDocument.id as id from incoming_document IncomingDocument)\r\n    ]; nested exception is \r\n    org.postgresql.util.PSQLException: ERROR: subquery in FROM must have an alias\r\n\r\nSo I should somehow specify an alias for both sub-queries, but I don&#39;t know how.","title":"QueryDSL alias for subquery in unionAll","body":"<p>Is there a way to specify an alias for a subquery when using the unionAll operator?\nI'm trying to write a QueryDSL query:</p>\n<pre><code>    var id = Expressions.numberPath(Long.class, &quot;id&quot;);\n\n    var outgoingDocuments = SQLExpressions.select(\n                    QOutgoingDocument.outgoingDocument.id.as(id)\n            )\n            .from(QOutgoingDocument.outgoingDocument);\n\n    var incomingDocuments = SQLExpressions.select(\n                    QIncomingDocument.incomingDocument.id.as(idP)\n            )\n            .from(QIncomingDocument.incomingDocument);\n\n    var unionAll = SQLExpressions.unionAll(outgoingDocuments, incomingDocuments);\n\n\n    var result = querydslJdbcFragment.query(query -&gt; query.select(id).from(unionAll).fetch());\n</code></pre>\n<p>And I'm getting the following error:</p>\n<pre><code>bad SQL grammar [\nselect id\nfrom (select OutgoingDocument.id as id from outgoing_document OutgoingDocument)\nunion all\n(select IncomingDocument.id as id from incoming_document IncomingDocument)\n]; nested exception is \norg.postgresql.util.PSQLException: ERROR: subquery in FROM must have an alias\n</code></pre>\n<p>So I should somehow specify an alias for both sub-queries, but I don't know how.</p>\n"},{"tags":["java","forms","import","netbeans","jcalendar"],"comments":[{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":1,"creation_date":1683788740,"post_id":76223599,"comment_id":134420895,"body_markdown":"Have you tried to compile your project before opening the form in the GUI editor?","body":"Have you tried to compile your project before opening the form in the GUI editor?"}],"owner":{"account_id":28574514,"reputation":1,"user_id":21876304,"display_name":"Vane V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683827806,"creation_date":1683769374,"question_id":76223599,"body_markdown":"[![image of the problem ][1]][1]\r\n\r\nI get the following error message when I try to use a form in this project. The project uses the library  JCalendar.1.4. I already downloaded the library and I did this to add it\r\nI clicked on:\r\n\r\n- Tools\r\n- Palette - Swing/AWT Components\r\n- I created a New Category called &quot;JCalendar&quot;\r\n- Add from JAR. Then I selected the folder where I have the library and I chose all the components to add them to my palette.\r\nI did not work. I&#39;m a very beginner so this is the first time I try to do this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yJfAn.png","title":"JAVA - Form Loaded With Errors - How can I import and open a project that uses JCalendar.1.4? (NetBeans)","body":"<p><a href=\"https://i.stack.imgur.com/yJfAn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yJfAn.png\" alt=\"image of the problem \" /></a></p>\n<p>I get the following error message when I try to use a form in this project. The project uses the library  JCalendar.1.4. I already downloaded the library and I did this to add it\nI clicked on:</p>\n<ul>\n<li>Tools</li>\n<li>Palette - Swing/AWT Components</li>\n<li>I created a New Category called &quot;JCalendar&quot;</li>\n<li>Add from JAR. Then I selected the folder where I have the library and I chose all the components to add them to my palette.\nI did not work. I'm a very beginner so this is the first time I try to do this.</li>\n</ul>\n"},{"tags":["java","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683572976,"post_id":76202435,"comment_id":134384360,"body_markdown":"You can&#39;t just rename saveOrUpdate to merge or persist. A minor code change is needed. Load the entity from the database. Use merge if existent. Use persist if not.","body":"You can&#39;t just rename saveOrUpdate to merge or persist. A minor code change is needed. Load the entity from the database. Use merge if existent. Use persist if not."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683573349,"post_id":76202435,"comment_id":134384441,"body_markdown":"Or even better: use JPA repository save method instead of vanilla Hibernate.","body":"Or even better: use JPA repository save method instead of vanilla Hibernate."},{"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"score":0,"creation_date":1683577827,"post_id":76202435,"comment_id":134385320,"body_markdown":"Thanks for your comment, the first one is what I feared, the second one sounds interesting (although currently only have an `org.hibernate.Session`). Could/Would you poste it/both(?) as a (full) answer?","body":"Thanks for your comment, the first one is what I feared, the second one sounds interesting (although currently only have an <code>org.hibernate.Session</code>). Could/Would you poste it/both(?) as a (full) answer?"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683572276,"creation_date":1683572276,"answer_id":76203577,"question_id":76202435,"body_markdown":"&gt; But doing so breaks some of my tests with &quot;A different object with the same identifier value was already associated with the session&quot; (merge)\r\n\r\nThis is at least _somewhat_ unexpected, since this error doesn&#39;t usually occur from `merge()`.\r\n\r\nBut you would need to post (simplified) code and **most importantly a stack trace** to have any hope of us being to able to help you resolve it.\r\n\r\n&gt; or &quot;Unique index or primary key violation&quot; (persist).\r\n\r\nThis sounds normal.\r\n\r\n&gt; How do I properly replace my `saveOrUpdate()` calls?\r\n\r\nOrdinarily, you would replace it with a call to `merge()`. But note that `merge()` does have different semantics, so it&#39;s certainly not a drop-in replacement.","title":"How to replace deprecated saveOrUpdate() method in Hibernate 6?","body":"<blockquote>\n<p>But doing so breaks some of my tests with &quot;A different object with the same identifier value was already associated with the session&quot; (merge)</p>\n</blockquote>\n<p>This is at least <em>somewhat</em> unexpected, since this error doesn't usually occur from <code>merge()</code>.</p>\n<p>But you would need to post (simplified) code and <strong>most importantly a stack trace</strong> to have any hope of us being to able to help you resolve it.</p>\n<blockquote>\n<p>or &quot;Unique index or primary key violation&quot; (persist).</p>\n</blockquote>\n<p>This sounds normal.</p>\n<blockquote>\n<p>How do I properly replace my <code>saveOrUpdate()</code> calls?</p>\n</blockquote>\n<p>Ordinarily, you would replace it with a call to <code>merge()</code>. But note that <code>merge()</code> does have different semantics, so it's certainly not a drop-in replacement.</p>\n"},{"tags":[],"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683827754,"creation_date":1683827754,"answer_id":76230413,"question_id":76202435,"body_markdown":"I&#39;ve figured it out (thanks for the hint, Mar-Z!).\r\n\r\n    if (Objects.isNull(session.find(MyEntity.class, entity.getId()))) {\r\n        session.persist(entity);\r\n    } else {\r\n        session.merge(entity);\r\n    }\r\n\r\nThis starts by loading the entity from the database by its ID and checks if it is returned. If nothing is returned `persist()` inserts it as a new entity into the database, otherways the existing entry gets updated by `merge()`.","title":"How to replace deprecated saveOrUpdate() method in Hibernate 6?","body":"<p>I've figured it out (thanks for the hint, Mar-Z!).</p>\n<pre><code>if (Objects.isNull(session.find(MyEntity.class, entity.getId()))) {\n    session.persist(entity);\n} else {\n    session.merge(entity);\n}\n</code></pre>\n<p>This starts by loading the entity from the database by its ID and checks if it is returned. If nothing is returned <code>persist()</code> inserts it as a new entity into the database, otherways the existing entry gets updated by <code>merge()</code>.</p>\n"}],"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76230413,"answer_count":2,"score":0,"last_activity_date":1683827754,"creation_date":1683562889,"question_id":76202435,"body_markdown":"With Hibernate 6.0 the `saveOrUpdate(entity)` method is now deprecated. The Javadoc suggests to replace it with either `merge()` or `persist()`.\r\n\r\nBut doing so breaks some of my tests with &quot;A different object with the same identifier value was already associated with the session&quot; (merge) or &quot;Unique index or primary key violation&quot; (persist).\r\n\r\nHow do I properly replace my `saveOrUpdate()` calls?","title":"How to replace deprecated saveOrUpdate() method in Hibernate 6?","body":"<p>With Hibernate 6.0 the <code>saveOrUpdate(entity)</code> method is now deprecated. The Javadoc suggests to replace it with either <code>merge()</code> or <code>persist()</code>.</p>\n<p>But doing so breaks some of my tests with &quot;A different object with the same identifier value was already associated with the session&quot; (merge) or &quot;Unique index or primary key violation&quot; (persist).</p>\n<p>How do I properly replace my <code>saveOrUpdate()</code> calls?</p>\n"},{"tags":["java","vaadin","vaadin7","vaadin-grid"],"answers":[{"comments":[{"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"score":0,"creation_date":1509112033,"post_id":46975772,"comment_id":80900601,"body_markdown":"The problem with this approach is that generated columns doesn&#39;t allow filtering, and this is a **must have** as stated in the answer. I will edit it to show more emphasys on it.","body":"The problem with this approach is that generated columns doesn&#39;t allow filtering, and this is a <b>must have</b> as stated in the answer. I will edit it to show more emphasys on it."},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1509112677,"post_id":46975772,"comment_id":80901047,"body_markdown":"@Shirkam Ok, i have to dig some old project. I have a feeling that this was solved somehow. Was it so that if you use `GeneratedPropertyContainer.addContainerFilter` it throws `UnsupportedFilterException` or why it is not allowed?","body":"@Shirkam Ok, i have to dig some old project. I have a feeling that this was solved somehow. Was it so that if you use <code>GeneratedPropertyContainer.addContainerFilter</code> it throws <code>UnsupportedFilterException</code> or why it is not allowed?"},{"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"score":0,"creation_date":1509113228,"post_id":46975772,"comment_id":80901412,"body_markdown":"Yup, it throws `UnsupportedFilterException`","body":"Yup, it throws <code>UnsupportedFilterException</code>"},{"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"score":0,"creation_date":1509113825,"post_id":46975772,"comment_id":80901789,"body_markdown":"Oh, I didn&#39;t know about that, wish I could upvote you twice","body":"Oh, I didn&#39;t know about that, wish I could upvote you twice"}],"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1509113262,"creation_date":1509109553,"answer_id":46975772,"question_id":46975312,"body_markdown":"This seems like a job for a generated property.\r\n\r\nBUT: it still requires changing from `BeanItemContainer` or more detailed it requires wrapping it. Anyway it was not a problem when i did it (years ago).\r\n\r\nFor this you need `GeneratedPropertyContainer`. It is a wrapper for other containers that need generated properties added.\r\n\r\n    GeneratedPropertyContainer container =\r\n        new GeneratedPropertyContainer(yourBeanItemContainer);\r\n\r\nAdd generated properties to that container\r\n\r\n    container.addGeneratedProperty(&quot;property1&quot;\r\n       ,new PropertyValueGenerator&lt;String&gt;() { ... });\r\nAbove mentiond `PropertyValueGenerator` should then return `String` that you possibly choose from some pojo `A`.\r\n\r\n[Vaadin API for PropertyValueGenerator][1]\r\n\r\nUpdate considering filtering: `PropertyValueGenerator` overrides method\r\n\r\n    modifyFilter(Container.Filter filter)\r\n\r\n\r\n&gt; Return an updated filter that should be compatible with the underlying\r\n&gt; container.\r\n\r\nFor example: if you just pick the first pojo `A` from list and its `property1` the you could implement this to make the filter to filter out all `B`a whose first `A`s `property1` does not match.\r\n \r\n  [1]: https://vaadin.com/download/release/7.7/7.7.10/docs/api/com/vaadin/data/util/PropertyValueGenerator.html","title":"How to add nested complex property with filtering to Vaadin 7 Grid?","body":"<p>This seems like a job for a generated property.</p>\n\n<p>BUT: it still requires changing from <code>BeanItemContainer</code> or more detailed it requires wrapping it. Anyway it was not a problem when i did it (years ago).</p>\n\n<p>For this you need <code>GeneratedPropertyContainer</code>. It is a wrapper for other containers that need generated properties added.</p>\n\n<pre><code>GeneratedPropertyContainer container =\n    new GeneratedPropertyContainer(yourBeanItemContainer);\n</code></pre>\n\n<p>Add generated properties to that container</p>\n\n<pre><code>container.addGeneratedProperty(\"property1\"\n   ,new PropertyValueGenerator&lt;String&gt;() { ... });\n</code></pre>\n\n<p>Above mentiond <code>PropertyValueGenerator</code> should then return <code>String</code> that you possibly choose from some pojo <code>A</code>.</p>\n\n<p><a href=\"https://vaadin.com/download/release/7.7/7.7.10/docs/api/com/vaadin/data/util/PropertyValueGenerator.html\" rel=\"nofollow noreferrer\">Vaadin API for PropertyValueGenerator</a></p>\n\n<p>Update considering filtering: <code>PropertyValueGenerator</code> overrides method</p>\n\n<pre><code>modifyFilter(Container.Filter filter)\n</code></pre>\n\n<blockquote>\n  <p>Return an updated filter that should be compatible with the underlying\n  container.</p>\n</blockquote>\n\n<p>For example: if you just pick the first pojo <code>A</code> from list and its <code>property1</code> the you could implement this to make the filter to filter out all <code>B</code>a whose first <code>A</code>s <code>property1</code> does not match.</p>\n"},{"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1509117188,"post_id":46977449,"comment_id":80904066,"body_markdown":"Great solution in simplicity. The only con is that you need to touch entity or create a wrapper class for it.","body":"Great solution in simplicity. The only con is that you need to touch entity or create a wrapper class for it."},{"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"score":0,"creation_date":1509316647,"post_id":46977449,"comment_id":80958514,"body_markdown":"@pirho I know it. But if you don&#39;t want to mess overriding methods you don&#39;t know how they work like `modifyFilter`, it&#39;s a great workarround. I will try both, thought.","body":"@pirho I know it. But if you don&#39;t want to mess overriding methods you don&#39;t know how they work like <code>modifyFilter</code>, it&#39;s a great workarround. I will try both, thought."}],"tags":[],"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509114594,"creation_date":1509114594,"answer_id":46977449,"question_id":46975312,"body_markdown":"Aside from @pirho&#39;s answer, which seemed brilliant to me, there&#39;s another possibility:\r\n\r\nYou can create a *derivated* list in `B` (if you have access to it) of the properties you want to filter like this:\r\n\r\n    public class B {\r\n        //Other already declared properties\r\n        private List&lt;String&gt; derivatedStringList;\r\n\r\n        //Here you declare getters and setters\r\n        public void setList(List&lt;A&gt; l) {\r\n            this.list = l;\r\n            this.derivatedStringList = l.stream()\r\n                    .map(a -&gt; a.getProperty1())\r\n                    .collect(Collectors.toList());\r\n        }\r\n        \r\n        //Only declare getter, because it&#39;s a --&gt;generated&lt;-- property \r\n        public List&lt;String&gt; getDerivatedStringList() {\r\n            return derivatedStringList;\r\n        }\r\n    }\r\n\r\nAnd then use it in your `Grid`, filters... Wherever you want.","title":"How to add nested complex property with filtering to Vaadin 7 Grid?","body":"<p>Aside from @pirho's answer, which seemed brilliant to me, there's another possibility:</p>\n\n<p>You can create a <em>derivated</em> list in <code>B</code> (if you have access to it) of the properties you want to filter like this:</p>\n\n<pre><code>public class B {\n    //Other already declared properties\n    private List&lt;String&gt; derivatedStringList;\n\n    //Here you declare getters and setters\n    public void setList(List&lt;A&gt; l) {\n        this.list = l;\n        this.derivatedStringList = l.stream()\n                .map(a -&gt; a.getProperty1())\n                .collect(Collectors.toList());\n    }\n\n    //Only declare getter, because it's a --&gt;generated&lt;-- property \n    public List&lt;String&gt; getDerivatedStringList() {\n        return derivatedStringList;\n    }\n}\n</code></pre>\n\n<p>And then use it in your <code>Grid</code>, filters... Wherever you want.</p>\n"}],"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46975772,"answer_count":2,"score":2,"last_activity_date":1683827523,"creation_date":1509108106,"question_id":46975312,"body_markdown":"I doing a Vaadin (7.10) app, and in some view, I would need to add an &quot;special&quot; nested property into the container. For the sake of the application, we&#39;re using `BeanItemContainer` and Grid. I have some class that stores a `List` of another POJO(s), and I would need to use one property inside those second POJO to filter the grid. A basic example of the config would be:\r\n\r\n    public class A {\r\n        private String property1;\r\n        private String property2;\r\n        //There are too getters and setters for this two properties\r\n    }\r\n\r\n    public class B { //This class stores a list of As\r\n        private String name;\r\n        private List&lt;A&gt; list;\r\n        //Getters and setters too\r\n    }\r\n\r\nThese are my two basic classes, which I use to store data. The Vaadin code to show data would be:\r\n\r\n    Grid grid = new Grid();\r\n    BeanItemContainer&lt;B&gt; container = new BeanItemContainer&lt;&gt;(B.class);\r\n\r\n    //////////////\r\n    container.addNestedContainerProperty(&quot;list.property1&quot;); \r\n    //This OBVIOUSLY doesn&#39;t work, because property1 is not part of List\r\n    /////////////\r\n\r\n    grid.setColumns(&quot;name&quot;);\r\n    grid.setContainerDataSource(container);\r\n\r\nSo, my question is:  \r\n**Is possible to show in `Grid` this** *`property1`* **without changing from `BeanItemContainer`?**","title":"How to add nested complex property with filtering to Vaadin 7 Grid?","body":"<p>I doing a Vaadin (7.10) app, and in some view, I would need to add an &quot;special&quot; nested property into the container. For the sake of the application, we're using <code>BeanItemContainer</code> and Grid. I have some class that stores a <code>List</code> of another POJO(s), and I would need to use one property inside those second POJO to filter the grid. A basic example of the config would be:</p>\n<pre><code>public class A {\n    private String property1;\n    private String property2;\n    //There are too getters and setters for this two properties\n}\n\npublic class B { //This class stores a list of As\n    private String name;\n    private List&lt;A&gt; list;\n    //Getters and setters too\n}\n</code></pre>\n<p>These are my two basic classes, which I use to store data. The Vaadin code to show data would be:</p>\n<pre><code>Grid grid = new Grid();\nBeanItemContainer&lt;B&gt; container = new BeanItemContainer&lt;&gt;(B.class);\n\n//////////////\ncontainer.addNestedContainerProperty(&quot;list.property1&quot;); \n//This OBVIOUSLY doesn't work, because property1 is not part of List\n/////////////\n\ngrid.setColumns(&quot;name&quot;);\ngrid.setContainerDataSource(container);\n</code></pre>\n<p>So, my question is:<br />\n<strong>Is possible to show in <code>Grid</code> this</strong> <em><code>property1</code></em> <strong>without changing from <code>BeanItemContainer</code>?</strong></p>\n"},{"tags":["java","microsoft-graph-api","botframework","microsoft-teams","microsoft-graph-teams"],"comments":[{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1639977671,"post_id":70417598,"comment_id":124476848,"body_markdown":"Your question is too broad. You have two major tasks: a) Microsoft Graph authorization and b) Teams send chat message. Edit your question and show the code you have written and the problem that you have. If you have not written any code, start by sending a Teams chat message using your identity. The rest will fall into place once you understand the basics. Start here: https://learn.microsoft.com/en-us/graph/api/chatmessage-post?view=graph-rest-1.0&amp;tabs=java","body":"Your question is too broad. You have two major tasks: a) Microsoft Graph authorization and b) Teams send chat message. Edit your question and show the code you have written and the problem that you have. If you have not written any code, start by sending a Teams chat message using your identity. The rest will fall into place once you understand the basics. Start here: <a href=\"https://learn.microsoft.com/en-us/graph/api/chatmessage-post?view=graph-rest-1.0&amp;tabs=java\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/graph/api/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22099804,"reputation":836,"user_id":16356453,"display_name":"Hunaid Hanfee-MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639989697,"creation_date":1639989697,"answer_id":70419259,"question_id":70417598,"body_markdown":"You cannot use Graph API in this scenario if you want it on behalf of External system. The API is only available when you are having delegated permission.\r\n\r\nOther option would be to create a Notification only bot. In this case please keep in mind that the bot needs to be installed in Teams of user you want to send notification. You can use this graph API to install bot in user&#39;s Teams- [Install app for User](https://learn.microsoft.com/en-us/graph/api/userteamwork-post-installedapps?view=graph-rest-1.0&amp;tabs=http).\r\n\r\nOnce it is installed you need to have user&#39;s [`Conversation.Id`](https://learn.microsoft.com/en-us/dotnet/api/microsoft.bot.schema.conversationaccount.id?view=botbuilder-dotnet-stable#Microsoft_Bot_Schema_ConversationAccount_Id) and [`ServiceUrl`](https://learn.microsoft.com/en-us/dotnet/api/microsoft.bot.schema.activity.serviceurl?view=botbuilder-dotnet-stable#Microsoft_Bot_Schema_Activity_ServiceUrl) (*maybe store it in database for all users*). When you are done with everything you can send [Proactive messages](https://learn.microsoft.com/en-us/microsoftteams/platform/resources/bot-v3/bot-conversations/bots-conv-proactive).","title":"How to send a chat message to microsoft teams user from an external system upon event?","body":"<p>You cannot use Graph API in this scenario if you want it on behalf of External system. The API is only available when you are having delegated permission.</p>\n<p>Other option would be to create a Notification only bot. In this case please keep in mind that the bot needs to be installed in Teams of user you want to send notification. You can use this graph API to install bot in user's Teams- <a href=\"https://learn.microsoft.com/en-us/graph/api/userteamwork-post-installedapps?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">Install app for User</a>.</p>\n<p>Once it is installed you need to have user's <a href=\"https://learn.microsoft.com/en-us/dotnet/api/microsoft.bot.schema.conversationaccount.id?view=botbuilder-dotnet-stable#Microsoft_Bot_Schema_ConversationAccount_Id\" rel=\"nofollow noreferrer\"><code>Conversation.Id</code></a> and <a href=\"https://learn.microsoft.com/en-us/dotnet/api/microsoft.bot.schema.activity.serviceurl?view=botbuilder-dotnet-stable#Microsoft_Bot_Schema_Activity_ServiceUrl\" rel=\"nofollow noreferrer\"><code>ServiceUrl</code></a> (<em>maybe store it in database for all users</em>). When you are done with everything you can send <a href=\"https://learn.microsoft.com/en-us/microsoftteams/platform/resources/bot-v3/bot-conversations/bots-conv-proactive\" rel=\"nofollow noreferrer\">Proactive messages</a>.</p>\n"}],"owner":{"account_id":23697097,"reputation":11,"user_id":17720678,"display_name":"SKC Progentys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2674,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683827205,"creation_date":1639977141,"question_id":70417598,"body_markdown":"I need help with Microsoft teams integration. I have an system from which I want to send chat message to a particular user in MS teams upon an event in my system. How do I go about implementing this. The teams graph api documentation is not looking clear to me. Like it has body but no head and tail. I&#39;m confused on where to start for this. I understand I need to use Graph API&#39;s create/send chat api to send messages but it says I need to configure a delegate user for this? How do I send messages on behalf of a external system? Can I can use Teams Java sdk based application? Or I need to create a bot? But I think it&#39;s for one-2-one conversation is it? I only want to send a one way message from external system to user. Someone with experience in this pls help me on a good approach for this.\r\n\r\nAll I want is to send chat message from external system to a user in teams.","title":"How to send a chat message to microsoft teams user from an external system upon event?","body":"<p>I need help with Microsoft teams integration. I have an system from which I want to send chat message to a particular user in MS teams upon an event in my system. How do I go about implementing this. The teams graph api documentation is not looking clear to me. Like it has body but no head and tail. I'm confused on where to start for this. I understand I need to use Graph API's create/send chat api to send messages but it says I need to configure a delegate user for this? How do I send messages on behalf of a external system? Can I can use Teams Java sdk based application? Or I need to create a bot? But I think it's for one-2-one conversation is it? I only want to send a one way message from external system to user. Someone with experience in this pls help me on a good approach for this.</p>\n<p>All I want is to send chat message from external system to a user in teams.</p>\n"},{"tags":["java","android","image","mobile","native"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1683820867,"post_id":76229474,"comment_id":134428558,"body_markdown":"You are getting a bitmap of a thumbnail. You dont get the original picture.","body":"You are getting a bitmap of a thumbnail. You dont get the original picture."}],"answers":[{"comments":[{"owner":{"account_id":26599225,"reputation":13,"user_id":20221096,"display_name":"Maic.Dev"},"score":0,"creation_date":1683998909,"post_id":76230327,"comment_id":134453806,"body_markdown":"Thanks alot, one more error solved thanks.","body":"Thanks alot, one more error solved thanks."}],"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683827050,"creation_date":1683827050,"answer_id":76230327,"question_id":76229474,"body_markdown":"The `data` extra field only contains a thumbnail, [as described in the docs][1]:\r\n\r\n&gt; **Note:** When you use `ACTION_IMAGE_CAPTURE` to capture a photo, the camera might also return a downscaled copy, or thumbnail, of the photo in the result `Intent`, saved as a `Bitmap` in an extra field named `&quot;data&quot;`.\r\n\r\nYou need to add the `EXTRA_OUTPUT` extra with a URI pointing at the file location you want to save to, like it describes. Then when you get a successful result, you can load you image from that URI. Full-size images are too big to be passed around in `Intent`s and `Bundle`s.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/intents-common#ImageCapture","title":"Image quality is reducing after capturing it","body":"<p>The <code>data</code> extra field only contains a thumbnail, <a href=\"https://developer.android.com/guide/components/intents-common#ImageCapture\" rel=\"nofollow noreferrer\">as described in the docs</a>:</p>\n<blockquote>\n<p><strong>Note:</strong> When you use <code>ACTION_IMAGE_CAPTURE</code> to capture a photo, the camera might also return a downscaled copy, or thumbnail, of the photo in the result <code>Intent</code>, saved as a <code>Bitmap</code> in an extra field named <code>&quot;data&quot;</code>.</p>\n</blockquote>\n<p>You need to add the <code>EXTRA_OUTPUT</code> extra with a URI pointing at the file location you want to save to, like it describes. Then when you get a successful result, you can load you image from that URI. Full-size images are too big to be passed around in <code>Intent</code>s and <code>Bundle</code>s.</p>\n"}],"owner":{"account_id":26599225,"reputation":13,"user_id":20221096,"display_name":"Maic.Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76230327,"answer_count":1,"score":0,"last_activity_date":1683827050,"creation_date":1683820255,"question_id":76229474,"body_markdown":"I am capturing photo from camera and save it to gallery but its quality is reducing. \r\ni am not using an library for image loading and capturing and fro cropping i am using Android Image Cropper. Here is code:\r\n\r\n```\r\n    @SuppressLint({&quot;QueryPermissionsNeeded&quot;, &quot;NonConstantResourceId&quot;})\r\n    @Override\r\n    public void onClick(View v) {\r\n    switch (v.getId()) {\r\n        case R.id.scanBtn:\r\n            showDialog();\r\n            break;\r\n        case R.id.layoutcam:\r\n            dialog.dismiss();\r\n            Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n            if (takePictureIntent.resolveActivity(requireActivity().getPackageManager()) != null)   \r\n\r\n    {\r\n                takePictureLauncher.launch(takePictureIntent);\r\n            }\r\n            break;\r\n        case R.id.layoutlib:\r\n            dialog.dismiss();\r\n            Intent intent = new Intent(Intent.ACTION_PICK,   \r\n            android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            pickImageLauncher.launch(intent);\r\n            break;\r\n    }\r\n    }\r\n\r\n    private final ActivityResultLauncher&lt;Intent&gt; takePictureLauncher =    \r\n    registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\r\n        result -&gt; {\r\n            if (result.getResultCode() == Activity.RESULT_OK) {\r\n                Intent data = result.getData();\r\n                Bundle extras = data.getExtras();\r\n                Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n\r\n                String fileName = &quot;my_image.png&quot;;\r\n                ContentValues values = new ContentValues();\r\n                values.put(MediaStore.Images.Media.DISPLAY_NAME, fileName);\r\n                values.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/png&quot;);\r\n                Uri selectedImageUri = \r\n    requireActivity().getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,        \r\n    values);\r\n                OutputStream outputStream;\r\n                try {\r\n                    outputStream = \r\n    requireActivity().getContentResolver().openOutputStream(selectedImageUri);\r\n                    imageBitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream); // Change   \r\n    to PNG and reduce quality to 100\r\n                    outputStream.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                CropImage.activity(selectedImageUri)\r\n                        .setGuidelines(CropImageView.Guidelines.ON)\r\n                        .setRequestedSize(1080, 1080,   \r\n    CropImageView.RequestSizeOptions.RESIZE_INSIDE) // Increase resolution\r\n                        .setOutputCompressQuality(90) // Reduce compression quality\r\n                        .setMaxCropResultSize(1080, 1080)\r\n                        .start(requireContext(), ScanFragment.this);\r\n            }\r\n        });\r\n\r\n    private final ActivityResultLauncher&lt;Intent&gt; pickImageLauncher = registerForActivityResult(new \r\n    ActivityResultContracts.StartActivityForResult(),\r\n        result -&gt; {\r\n            if (result.getResultCode() == Activity.RESULT_OK) {\r\n                Intent data = result.getData();\r\n                // Get the selected image URI\r\n                Uri selectedImageUri = data.getData();\r\n                CropImage.activity(selectedImageUri)\r\n                        .setGuidelines(CropImageView.Guidelines.ON)\r\n                        .setRequestedSize(1080, 1080,  \r\n    CropImageView.RequestSizeOptions.RESIZE_INSIDE) // Increase resolution\r\n                        .setOutputCompressQuality(90) // Reduce compression quality\r\n                        .setMaxCropResultSize(1080, 1080)\r\n                        .start(requireContext(), ScanFragment.this);\r\n            }\r\n        });\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n    if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\r\n        CropImage.ActivityResult result = CropImage.getActivityResult(data);\r\n        if (resultCode == Activity.RESULT_OK) {\r\n            Uri croppedImageUri = result.getUri();\r\n            imageView.setImageURI(croppedImageUri);\r\n            BitmapDrawable bitmapDrawable = (BitmapDrawable) imageView.getDrawable();\r\n            Bitmap bitmap = bitmapDrawable.getBitmap();\r\n            recognizeText(bitmap);\r\n        } else if (resultCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\r\n            Exception error = result.getError();\r\n            // Handle cropping error\r\n        }\r\n    }\r\n    }\r\n\r\n```\r\n\r\nIts in the takePictureLauncher method if anybody can point out and help me fix the bugs its will huge favour.\r\n\r\nI tired different compression format and change the quality but nothing worked.","title":"Image quality is reducing after capturing it","body":"<p>I am capturing photo from camera and save it to gallery but its quality is reducing.\ni am not using an library for image loading and capturing and fro cropping i am using Android Image Cropper. Here is code:</p>\n<pre><code>    @SuppressLint({&quot;QueryPermissionsNeeded&quot;, &quot;NonConstantResourceId&quot;})\n    @Override\n    public void onClick(View v) {\n    switch (v.getId()) {\n        case R.id.scanBtn:\n            showDialog();\n            break;\n        case R.id.layoutcam:\n            dialog.dismiss();\n            Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n            if (takePictureIntent.resolveActivity(requireActivity().getPackageManager()) != null)   \n\n    {\n                takePictureLauncher.launch(takePictureIntent);\n            }\n            break;\n        case R.id.layoutlib:\n            dialog.dismiss();\n            Intent intent = new Intent(Intent.ACTION_PICK,   \n            android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n            pickImageLauncher.launch(intent);\n            break;\n    }\n    }\n\n    private final ActivityResultLauncher&lt;Intent&gt; takePictureLauncher =    \n    registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\n        result -&gt; {\n            if (result.getResultCode() == Activity.RESULT_OK) {\n                Intent data = result.getData();\n                Bundle extras = data.getExtras();\n                Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\n\n                String fileName = &quot;my_image.png&quot;;\n                ContentValues values = new ContentValues();\n                values.put(MediaStore.Images.Media.DISPLAY_NAME, fileName);\n                values.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/png&quot;);\n                Uri selectedImageUri = \n    requireActivity().getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,        \n    values);\n                OutputStream outputStream;\n                try {\n                    outputStream = \n    requireActivity().getContentResolver().openOutputStream(selectedImageUri);\n                    imageBitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream); // Change   \n    to PNG and reduce quality to 100\n                    outputStream.close();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n                CropImage.activity(selectedImageUri)\n                        .setGuidelines(CropImageView.Guidelines.ON)\n                        .setRequestedSize(1080, 1080,   \n    CropImageView.RequestSizeOptions.RESIZE_INSIDE) // Increase resolution\n                        .setOutputCompressQuality(90) // Reduce compression quality\n                        .setMaxCropResultSize(1080, 1080)\n                        .start(requireContext(), ScanFragment.this);\n            }\n        });\n\n    private final ActivityResultLauncher&lt;Intent&gt; pickImageLauncher = registerForActivityResult(new \n    ActivityResultContracts.StartActivityForResult(),\n        result -&gt; {\n            if (result.getResultCode() == Activity.RESULT_OK) {\n                Intent data = result.getData();\n                // Get the selected image URI\n                Uri selectedImageUri = data.getData();\n                CropImage.activity(selectedImageUri)\n                        .setGuidelines(CropImageView.Guidelines.ON)\n                        .setRequestedSize(1080, 1080,  \n    CropImageView.RequestSizeOptions.RESIZE_INSIDE) // Increase resolution\n                        .setOutputCompressQuality(90) // Reduce compression quality\n                        .setMaxCropResultSize(1080, 1080)\n                        .start(requireContext(), ScanFragment.this);\n            }\n        });\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\n        CropImage.ActivityResult result = CropImage.getActivityResult(data);\n        if (resultCode == Activity.RESULT_OK) {\n            Uri croppedImageUri = result.getUri();\n            imageView.setImageURI(croppedImageUri);\n            BitmapDrawable bitmapDrawable = (BitmapDrawable) imageView.getDrawable();\n            Bitmap bitmap = bitmapDrawable.getBitmap();\n            recognizeText(bitmap);\n        } else if (resultCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\n            Exception error = result.getError();\n            // Handle cropping error\n        }\n    }\n    }\n\n</code></pre>\n<p>Its in the takePictureLauncher method if anybody can point out and help me fix the bugs its will huge favour.</p>\n<p>I tired different compression format and change the quality but nothing worked.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"comments":[{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1683822445,"post_id":76229663,"comment_id":134428926,"body_markdown":"So, do I have to say seek after I assign the offset? What if I change auto.offset.reset to earliest?","body":"So, do I have to say seek after I assign the offset? What if I change auto.offset.reset to earliest?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1683823371,"post_id":76229663,"comment_id":134429146,"body_markdown":"`&gt;assign the offset` - you mean &quot;assign  the partition&quot;. Yes, you can only seek partitions that are assigned. If you change it to `earliest` without seeking, you will get all the records. The offset reset is irrelevant if you perform seeks on all the assigned partitions. Kafka maintains 2 pointers, position and committed offset; they are independent except, if there is no committed offset, the initial position is base on the offset reset. If you commit the offset, the next time the consumer starts, it will begin at that offset (unless you again perform seeks).","body":"<code>&gt;assign the offset</code> - you mean &quot;assign  the partition&quot;. Yes, you can only seek partitions that are assigned. If you change it to <code>earliest</code> without seeking, you will get all the records. The offset reset is irrelevant if you perform seeks on all the assigned partitions. Kafka maintains 2 pointers, position and committed offset; they are independent except, if there is no committed offset, the initial position is base on the offset reset. If you commit the offset, the next time the consumer starts, it will begin at that offset (unless you again perform seeks)."},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1683823881,"post_id":76229663,"comment_id":134429247,"body_markdown":"Okay, thank you for your answer, I have modified the question based on your comments, please let me know if my logic would work.","body":"Okay, thank you for your answer, I have modified the question based on your comments, please let me know if my logic would work."},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1683825210,"post_id":76229663,"comment_id":134429539,"body_markdown":"Also, one more question, if I start the consumer with this configuration, my consumer still will consume messages which were produced after it started right?","body":"Also, one more question, if I start the consumer with this configuration, my consumer still will consume messages which were produced after it started right?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1683826374,"post_id":76229663,"comment_id":134429748,"body_markdown":"Yes, as long as you keep polling, until you close it.","body":"Yes, as long as you keep polling, until you close it."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683826726,"creation_date":1683821736,"answer_id":76229663,"question_id":76229477,"body_markdown":"I am not sure why you tagged it with [tag:spring-kafka] (which is for the Spring for Apache Kafka project, which you don&#39;t appear to be using), so I removed it.\r\n\r\nJust getting the offsets from the consumer won&#39;t do anything; you will need to seek to those offsets before polling the consumer. Otherwise, the position will be set to the end (due to the `auto.offset.reset=latest`).","title":"Kafka Consumer with Consumer offSetforTimes()","body":"<p>I am not sure why you tagged it with <a href=\"/questions/tagged/spring-kafka\" class=\"post-tag\" title=\"show questions tagged &#39;spring-kafka&#39;\" aria-label=\"show questions tagged &#39;spring-kafka&#39;\" rel=\"tag\" aria-labelledby=\"tag-spring-kafka-tooltip-container\">spring-kafka</a> (which is for the Spring for Apache Kafka project, which you don't appear to be using), so I removed it.</p>\n<p>Just getting the offsets from the consumer won't do anything; you will need to seek to those offsets before polling the consumer. Otherwise, the position will be set to the end (due to the <code>auto.offset.reset=latest</code>).</p>\n"}],"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76229663,"answer_count":1,"score":0,"last_activity_date":1683826726,"creation_date":1683820271,"question_id":76229477,"body_markdown":"I am new to Kafka and I am using the following consumer configuration\r\n\r\n    super.getPropertiesConfig().put(ConsumerConfig.CLIENT_ID_CONFIG, &quot;Consumer_&quot; + consumerGroupId);\r\n            super.getPropertiesConfig().put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\r\n            super.getPropertiesConfig().put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG, &quot;30000&quot;);\r\n            super.getPropertiesConfig().put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, &quot;500&quot;);\r\n            super.getPropertiesConfig().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, &quot;300000&quot;);\r\n            super.getPropertiesConfig().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, &quot;500&quot;);\r\n            super.getPropertiesConfig().put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n            super.getPropertiesConfig().put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n            super.getPropertiesConfig().put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n            super.getPropertiesConfig().put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class.getName());\r\n\r\nand  when I start the consumer I use offsetfortimes, which I use to consume messages which are produced in a topic, based on a timestamp. But, when the consumer is started, the messages that I intend to consume are not consumed. I read in one of the Stackoverflow posts that a consumer will not be able to consume messages ,which got produced before it started , if the `auto.offset.reset` is `&quot;latest&quot;`, is my configuration right? Can I use offsetsForTimes along with the configuration that I am using here?\r\n\r\n\r\n     kafkaConsumer = consumerHelperFactory.getConsumerInstance(consumerConfiguration);\r\n            long duration = startTime.until(Instant.now(), MINUTES)+1;\r\n            log.info(&quot;Consumer consuming messages {} minutes ago&quot;,duration);\r\n            Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\r\n            query.put(new TopicPartition(topic, 0), Instant.now().minus(duration, MINUTES).toEpochMilli());\r\n            Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = kafkaConsumer.offsetsForTimes(query);\r\n            kafkaConsumer.assign(result.keySet().stream().collect(Collectors.toList()));\r\n            result.entrySet().stream().forEach(entry-&gt;{\r\n                if(entry.getValue() !=null){\r\n                    Long offset = entry.getValue().offset();\r\n                    TopicPartition partition = entry.getKey();\r\n                    kafkaConsumer.seek(partition, offset);\r\n                }\r\n            });","title":"Kafka Consumer with Consumer offSetforTimes()","body":"<p>I am new to Kafka and I am using the following consumer configuration</p>\n<pre><code>super.getPropertiesConfig().put(ConsumerConfig.CLIENT_ID_CONFIG, &quot;Consumer_&quot; + consumerGroupId);\n        super.getPropertiesConfig().put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\n        super.getPropertiesConfig().put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG, &quot;30000&quot;);\n        super.getPropertiesConfig().put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, &quot;500&quot;);\n        super.getPropertiesConfig().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, &quot;300000&quot;);\n        super.getPropertiesConfig().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, &quot;500&quot;);\n        super.getPropertiesConfig().put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        super.getPropertiesConfig().put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        super.getPropertiesConfig().put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        super.getPropertiesConfig().put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class.getName());\n</code></pre>\n<p>and  when I start the consumer I use offsetfortimes, which I use to consume messages which are produced in a topic, based on a timestamp. But, when the consumer is started, the messages that I intend to consume are not consumed. I read in one of the Stackoverflow posts that a consumer will not be able to consume messages ,which got produced before it started , if the <code>auto.offset.reset</code> is <code>&quot;latest&quot;</code>, is my configuration right? Can I use offsetsForTimes along with the configuration that I am using here?</p>\n<pre><code> kafkaConsumer = consumerHelperFactory.getConsumerInstance(consumerConfiguration);\n        long duration = startTime.until(Instant.now(), MINUTES)+1;\n        log.info(&quot;Consumer consuming messages {} minutes ago&quot;,duration);\n        Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\n        query.put(new TopicPartition(topic, 0), Instant.now().minus(duration, MINUTES).toEpochMilli());\n        Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = kafkaConsumer.offsetsForTimes(query);\n        kafkaConsumer.assign(result.keySet().stream().collect(Collectors.toList()));\n        result.entrySet().stream().forEach(entry-&gt;{\n            if(entry.getValue() !=null){\n                Long offset = entry.getValue().offset();\n                TopicPartition partition = entry.getKey();\n                kafkaConsumer.seek(partition, offset);\n            }\n        });\n</code></pre>\n"},{"tags":["java","android","kotlin","android-constraintlayout","autocompletetextview"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683826310,"creation_date":1683826310,"answer_id":76230237,"question_id":76228060,"body_markdown":"Really the problem is that `getCount()` in your `Adapter` class can access `resultList` before it&#39;s actually assigned, and invokes `size()` on it instead of null-checking it and returning *0* by default. That&#39;s why you&#39;re getting the `NullPointerException` here.\r\n\r\nI&#39;m guessing you&#39;re only seeing the problem now because instead of using `match_parent` (which just reads the parent View&#39;s dimensions), you&#39;re using `0dp` which invokes the constraints you&#39;ve set - they weren&#39;t being used before. And now you&#39;re using constraints, that View is taking part in the constraint resolution process. You can see from your stacktrace that the final error (at the top) was caused by a chain of layout measurement requests that came from the `ConstraintLayout` library (lower down = earlier in the call chain).\r\n\r\nI guess it doesn&#39;t matter that the `AutoCompleteTextView` is `match_parent` so its contents have no bearing on anything - the constraint resolver is asking for measurements, and that ends up calling your `getCount` method earlier than you&#39;re expecting, when it&#39;s not safe to do so. So really it&#39;s just revealing that bug in your Adapter code. Handle your potentially-null list correctly and it should fix the issue!","title":"AutoCompleteTextView doesn&#39;t work on TextInputLayout on ConstraintLayout with 0dp width","body":"<p>Really the problem is that <code>getCount()</code> in your <code>Adapter</code> class can access <code>resultList</code> before it's actually assigned, and invokes <code>size()</code> on it instead of null-checking it and returning <em>0</em> by default. That's why you're getting the <code>NullPointerException</code> here.</p>\n<p>I'm guessing you're only seeing the problem now because instead of using <code>match_parent</code> (which just reads the parent View's dimensions), you're using <code>0dp</code> which invokes the constraints you've set - they weren't being used before. And now you're using constraints, that View is taking part in the constraint resolution process. You can see from your stacktrace that the final error (at the top) was caused by a chain of layout measurement requests that came from the <code>ConstraintLayout</code> library (lower down = earlier in the call chain).</p>\n<p>I guess it doesn't matter that the <code>AutoCompleteTextView</code> is <code>match_parent</code> so its contents have no bearing on anything - the constraint resolver is asking for measurements, and that ends up calling your <code>getCount</code> method earlier than you're expecting, when it's not safe to do so. So really it's just revealing that bug in your Adapter code. Handle your potentially-null list correctly and it should fix the issue!</p>\n"}],"owner":{"account_id":14768514,"reputation":1,"user_id":21881017,"display_name":"awanama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683826310,"creation_date":1683810874,"question_id":76228060,"body_markdown":"I have an AutoCompleteTextView on a TextInputLayout on a ConstraintLayout on a FrameLayout. And i need to add a Button beside it, so i changed the width of the TextInputLayout to 0dp (previously match_parent). But, suddenly the AutoCompleteTextView don&#39;t work. It worked before and i checked it, it suddently don&#39;t work when the width is 0dp.\r\n\r\n**The error**\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.util.ArrayList.size()&#39; on a null object reference\r\n                                                                                                  \r\nat com.its.vcss.utils.AutocompleteRetrieval.getCount(AutocompleteRetrieval.java:62)\r\nat com.google.android.material.textfield.MaterialAutoCompleteTextView.measureContentWidth(MaterialAutoCompleteTextView.java:355)\r\nat com.google.android.material.textfield.MaterialAutoCompleteTextView.onMeasure(MaterialAutoCompleteTextView.java:332)\r\nat android.view.View.measure(View.java:27720)\r\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\r\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\nat android.view.View.measure(View.java:27720)\r\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\r\nat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\nat android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\nat android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\nat com.google.android.material.textfield.TextInputLayout.onMeasure(TextInputLayout.java:3061)\r\nat android.view.View.measure(View.java:27720)\r\nat androidx.constraintlayout.widget.ConstraintLayout$Measurer.measure(ConstraintLayout.java:811)\r\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.measure(BasicMeasure.java:466)\r\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.measureChildren(BasicMeasure.java:134)\r\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:278)\r\nat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:120)\r\nat androidx.constraintlayout.widget.ConstraintLayout.resolveSystem(ConstraintLayout.java:1594)\r\nat androidx.constraintlayout.widget.ConstraintLayout.onMeasure(ConstraintLayout.java:1708)\r\nat android.view.View.measure(View.java:27720)\r\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\r\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\nat android.view.View.measure(View.java:27720)\r\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\r\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\nat android.view.View.measure(View.java:27720)\r\nat androidx.constraintlayout.widget.ConstraintLayout$Measurer.measure(ConstraintLayout.java:811)\r\nat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:632)\r\nat androidx.constraintlayout.core.widgets.analyzer.Direct.verticalSolvingPass(Direct.java:452)\r\nat androidx.constraintlayout.core.widgets.analyzer.Direct.solveVerticalMatchConstraint(Direct.java:750)\r\nat androidx.constraintlayout.core.widgets.analyzer.Direct.verticalSolvingPass(Direct.java:503)\r\nat androidx.constraintlayout.core.widgets.analyzer.Direct.solvingPass(Direct.java:224)\r\nat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.layout(ConstraintWidgetContainer.java:693)\r\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solveLinearSystem(BasicMeasure.java:160)\r\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:291)\r\nat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:120)\r\nat androidx.constraintlayout.widget.ConstraintLayout.resolveSystem(ConstraintLayout.java:1594)\r\nat androidx.constraintlayout.widget.ConstraintLayout.onMeasure(ConstraintLayout.java:1708)\r\nat android.view.View.measure(View.java:27720)\r\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\r\nat androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:760)\r\nat androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:833)\r\nat android.view.View.measure(View.java:27720)\r\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\r\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n```\r\n\r\n\r\n**navigation_layout.xml**\r\n```\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/vcss_light_green&quot;&gt;\r\n\r\n        &lt;fragment\r\n            class=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n            android:id=&quot;@+id/map_fragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:layout=&quot;@layout/onboarding_screen&quot;/&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;bottom&quot;&gt;\r\n\r\n            ...\r\n\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/il_search&quot;\r\n                **android:layout_width=&quot;0dp&quot;**\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/btn_back&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@id/btn_search&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginStart=&quot;14dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                app:shapeAppearance=&quot;@style/ShapeAppearance.VCSS.SmallComponent&quot;\r\n                app:shapeAppearanceOverlay=&quot;@style/ShapeAppearance.VCSS.SmallComponent&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_round_search&quot;\r\n                app:endIconDrawable=&quot;@drawable/ic_round_close&quot;\r\n                app:endIconTint=&quot;@color/black_40&quot;\r\n                app:endIconMode=&quot;custom&quot;\r\n                app:endIconContentDescription=&quot;Bersihkan pencarian&quot;\r\n                app:hintEnabled=&quot;false&quot;\r\n                app:boxBackgroundColor=&quot;@color/white&quot;\r\n                app:expandedHintEnabled=&quot;false&quot;&gt;\r\n\r\n                &lt;AutoCompleteTextView\r\n                    android:id=&quot;@+id/edt_search&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:paddingEnd=&quot;16dp&quot;\r\n                    android:hint=&quot;@string/public_facility_search_hint&quot;\r\n                    android:paddingBottom=&quot;0dp&quot;\r\n                    android:paddingTop=&quot;0dp&quot;\r\n                    android:inputType=&quot;textAutoComplete|textCapWords&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:imeOptions=&quot;actionSearch&quot;\r\n                    android:dropDownWidth=&quot;200dp&quot;\r\n                    /&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n            &lt;Button\r\n                style=&quot;@style/Theme.VCSS.Button&quot;\r\n                android:id=&quot;@+id/btn_search&quot;\r\n                android:layout_width=&quot;48dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginEnd=&quot;14dp&quot;\r\n                app:cornerRadius=&quot;24dp&quot;\r\n                android:insetTop=&quot;0dp&quot;\r\n                android:insetBottom=&quot;0dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/il_search&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@id/il_search&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@id/il_search&quot;\r\n                app:icon=&quot;@drawable/ic_round_search&quot;/&gt;\r\n\r\n            ...\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n   &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/il_search&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_marginTop=&quot;160dp&quot;&gt;\r\n\r\n        &lt;include\r\n            android:id=&quot;@+id/bottom_sheet&quot;\r\n            layout=&quot;@layout/navigation_information_bottom_sheet&quot; /&gt;\r\n\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n**NavigationFragment.kt**\r\n```\r\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        ...\r\n\r\n        sharedViewModel.location.observe(viewLifecycleOwner) {\r\n            if (it != null) {\r\n                Log.d(&quot;Location&quot;, it.toString())\r\n                binding.edtSearch.setAdapter(AutocompleteRetrieval(requireContext(),\r\n                   android.R.layout.simple_list_item_1, it))\r\n            } else {\r\n                val location = LatLng(0, 0)\r\n                binding.edtSearch.setAdapter(AutocompleteRetrieval(requireContext(),\r\n                    android.R.layout.simple_list_item_1, location))\r\n            }\r\n        }\r\n\r\n        binding.apply {\r\n            ...\r\n\r\n            edtSearch.apply {\r\n                setAdapter(\r\n                    AutocompleteRetrieval(\r\n                        requireContext(),\r\n                    android.R.layout.simple_list_item_1,\r\n                    )\r\n                )\r\n\r\n                addTextChangedListener(object : TextWatcher {\r\n                    ...\r\n                })\r\n\r\n                setOnEditorActionListener { _, i, _ -&gt;\r\n                    ...\r\n                }\r\n            }\r\n            ...\r\n        }\r\n    }\r\n```\r\n\r\n**AutoCompleteRetrieval.java**\r\n\r\n```\r\npublic class AutocompleteRetrieval extends ArrayAdapter implements Filterable {\r\n    private static Context context;\r\n    private LatLng latLng;\r\n    private ArrayList resultList;\r\n    private static final String PLACES_API_BASE = &quot;https://maps.googleapis.com/maps/api/place/autocomplete/json?radius=10000&amp;type=establishment&amp;language=id&quot;;\r\n\r\n    public AutocompleteRetrieval(@NonNull Context context, int resource, LatLng latLng) {\r\n        super(context, resource);\r\n        this.context = context;\r\n        this.latLng = latLng;\r\n    }\r\n\r\n    public AutocompleteRetrieval(@NonNull Context context, int resource) {\r\n        super(context, resource);\r\n    }\r\n\r\n    public ArrayList getResultList() {\r\n        return resultList;\r\n    }\r\n\r\n    public void setResultList(ArrayList resultList) {\r\n        this.resultList = resultList;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return resultList.size();\r\n    }\r\n\r\n    @Override\r\n    public String getItem(int index) {\r\n        return (String) resultList.get(index);\r\n    }\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n        final Filter filter = new Filter() {\r\n            @Override\r\n            protected FilterResults performFiltering(CharSequence constraint) {\r\n                FilterResults filterResults = new FilterResults();\r\n\r\n                if (constraint != null) {\r\n                    // Retrieve the autocomplete results.\r\n                    resultList = autocomplete(constraint.toString(), latLng);\r\n\r\n                    // Assign the data to the FilterResults\r\n                    filterResults.values = resultList;\r\n                    filterResults.count = resultList.size();\r\n                }\r\n                return filterResults;\r\n            }\r\n\r\n            @Override\r\n            protected void publishResults(CharSequence constraint, FilterResults results) {\r\n                if (results != null &amp;&amp; results.count &gt; 0) {\r\n                    notifyDataSetChanged();\r\n                } else {\r\n                    notifyDataSetInvalidated();\r\n                }\r\n            }\r\n        };\r\n        return filter;\r\n    }\r\n\r\n    public static ArrayList autocomplete(String input, LatLng latLng)\r\n    {\r\n        ArrayList resultList = null;\r\n        HttpURLConnection conn = null;\r\n        String location = &quot;&amp;location=&quot;+latLng.lat+&quot;,&quot;+latLng.lng;\r\n        StringBuilder jsonResults = new StringBuilder();\r\n        try {\r\n            String apiKey = BuildConfig.GOOGLE_MAPS_API_KEY;\r\n            StringBuilder sb = new StringBuilder(PLACES_API_BASE + location +&quot;&amp;key=&quot;+apiKey);\r\n            sb.append(&quot;&amp;input=&quot;).append(URLEncoder.encode(input, &quot;utf8&quot;));\r\n            URL url = new URL(sb.toString());\r\n\r\n            conn = (HttpURLConnection) url.openConnection();\r\n            InputStreamReader in = new InputStreamReader(conn.getInputStream());\r\n\r\n            int read;\r\n            char[] buff = new char[1024];\r\n            while ((read = in.read(buff)) != -1) {\r\n                jsonResults.append(buff, 0, read);\r\n            }\r\n\r\n        } catch (MalformedURLException e) {\r\n            Log.e(&quot;AutoComp&quot;, &quot;Error processing Places API URL&quot;, e);\r\n            return resultList;\r\n\r\n        } catch (IOException e) {\r\n            Log.e(&quot;AutoComp&quot;, &quot;Error connecting to Places API&quot;, e);\r\n            return resultList;\r\n\r\n        } finally {\r\n            if (conn != null) {\r\n                conn.disconnect();\r\n            }\r\n        }\r\n\r\n        try {\r\n            // Create a JSON object hierarchy from the results\r\n            JSONObject jsonObj = new JSONObject(jsonResults.toString());\r\n            JSONArray predsJsonArray = jsonObj.getJSONArray(&quot;predictions&quot;);\r\n\r\n            // Extract the Place descriptions from the results\r\n            resultList = new ArrayList(predsJsonArray.length());\r\n            for (int i = 0; i &lt; predsJsonArray.length(); i++) {\r\n                resultList.add(predsJsonArray.getJSONObject(i).getString(&quot;description&quot;));\r\n            }\r\n\r\n        } catch (JSONException e) {\r\n            Log.e(&quot;LOG_TAG&quot;, &quot;Cannot process JSON results&quot;, e);\r\n        }\r\n\r\n        return resultList;\r\n    }\r\n}\r\n```\r\n\r\nWhat causes that problem? I think it has something to do with the width since it is what makes it suddently don&#39;t work. The error trace also shows some layout methods being called. \r\n\r\nSome important thing, although the Error showed NPE on the array which is the result of the autocomplete, i think it is not the problem. I changed nothing but the width of the TextInputLayout from match_parent to 0dp and it crashes with the error. I also tried using fixed width like 128dp for example, and it works.","title":"AutoCompleteTextView doesn&#39;t work on TextInputLayout on ConstraintLayout with 0dp width","body":"<p>I have an AutoCompleteTextView on a TextInputLayout on a ConstraintLayout on a FrameLayout. And i need to add a Button beside it, so i changed the width of the TextInputLayout to 0dp (previously match_parent). But, suddenly the AutoCompleteTextView don't work. It worked before and i checked it, it suddently don't work when the width is 0dp.</p>\n<p><strong>The error</strong></p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'int java.util.ArrayList.size()' on a null object reference\n                                                                                                  \nat com.its.vcss.utils.AutocompleteRetrieval.getCount(AutocompleteRetrieval.java:62)\nat com.google.android.material.textfield.MaterialAutoCompleteTextView.measureContentWidth(MaterialAutoCompleteTextView.java:355)\nat com.google.android.material.textfield.MaterialAutoCompleteTextView.onMeasure(MaterialAutoCompleteTextView.java:332)\nat android.view.View.measure(View.java:27720)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat android.view.View.measure(View.java:27720)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\nat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\nat android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\nat android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\nat com.google.android.material.textfield.TextInputLayout.onMeasure(TextInputLayout.java:3061)\nat android.view.View.measure(View.java:27720)\nat androidx.constraintlayout.widget.ConstraintLayout$Measurer.measure(ConstraintLayout.java:811)\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.measure(BasicMeasure.java:466)\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.measureChildren(BasicMeasure.java:134)\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:278)\nat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:120)\nat androidx.constraintlayout.widget.ConstraintLayout.resolveSystem(ConstraintLayout.java:1594)\nat androidx.constraintlayout.widget.ConstraintLayout.onMeasure(ConstraintLayout.java:1708)\nat android.view.View.measure(View.java:27720)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat android.view.View.measure(View.java:27720)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat android.view.View.measure(View.java:27720)\nat androidx.constraintlayout.widget.ConstraintLayout$Measurer.measure(ConstraintLayout.java:811)\nat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:632)\nat androidx.constraintlayout.core.widgets.analyzer.Direct.verticalSolvingPass(Direct.java:452)\nat androidx.constraintlayout.core.widgets.analyzer.Direct.solveVerticalMatchConstraint(Direct.java:750)\nat androidx.constraintlayout.core.widgets.analyzer.Direct.verticalSolvingPass(Direct.java:503)\nat androidx.constraintlayout.core.widgets.analyzer.Direct.solvingPass(Direct.java:224)\nat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.layout(ConstraintWidgetContainer.java:693)\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solveLinearSystem(BasicMeasure.java:160)\nat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:291)\nat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:120)\nat androidx.constraintlayout.widget.ConstraintLayout.resolveSystem(ConstraintLayout.java:1594)\nat androidx.constraintlayout.widget.ConstraintLayout.onMeasure(ConstraintLayout.java:1708)\nat android.view.View.measure(View.java:27720)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\nat androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:760)\nat androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:833)\nat android.view.View.measure(View.java:27720)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7352)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n</code></pre>\n<p><strong>navigation_layout.xml</strong></p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/vcss_light_green&quot;&gt;\n\n        &lt;fragment\n            class=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n            android:id=&quot;@+id/map_fragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            tools:layout=&quot;@layout/onboarding_screen&quot;/&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;bottom&quot;&gt;\n\n            ...\n\n            &lt;com.google.android.material.textfield.TextInputLayout\n                android:id=&quot;@+id/il_search&quot;\n                **android:layout_width=&quot;0dp&quot;**\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/btn_back&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@id/btn_search&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginStart=&quot;14dp&quot;\n                android:layout_marginEnd=&quot;10dp&quot;\n                app:shapeAppearance=&quot;@style/ShapeAppearance.VCSS.SmallComponent&quot;\n                app:shapeAppearanceOverlay=&quot;@style/ShapeAppearance.VCSS.SmallComponent&quot;\n                app:startIconDrawable=&quot;@drawable/ic_round_search&quot;\n                app:endIconDrawable=&quot;@drawable/ic_round_close&quot;\n                app:endIconTint=&quot;@color/black_40&quot;\n                app:endIconMode=&quot;custom&quot;\n                app:endIconContentDescription=&quot;Bersihkan pencarian&quot;\n                app:hintEnabled=&quot;false&quot;\n                app:boxBackgroundColor=&quot;@color/white&quot;\n                app:expandedHintEnabled=&quot;false&quot;&gt;\n\n                &lt;AutoCompleteTextView\n                    android:id=&quot;@+id/edt_search&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:paddingEnd=&quot;16dp&quot;\n                    android:hint=&quot;@string/public_facility_search_hint&quot;\n                    android:paddingBottom=&quot;0dp&quot;\n                    android:paddingTop=&quot;0dp&quot;\n                    android:inputType=&quot;textAutoComplete|textCapWords&quot;\n                    android:maxLines=&quot;1&quot;\n                    android:imeOptions=&quot;actionSearch&quot;\n                    android:dropDownWidth=&quot;200dp&quot;\n                    /&gt;\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n            &lt;Button\n                style=&quot;@style/Theme.VCSS.Button&quot;\n                android:id=&quot;@+id/btn_search&quot;\n                android:layout_width=&quot;48dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_marginEnd=&quot;14dp&quot;\n                app:cornerRadius=&quot;24dp&quot;\n                android:insetTop=&quot;0dp&quot;\n                android:insetBottom=&quot;0dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@id/il_search&quot;\n                app:layout_constraintTop_toTopOf=&quot;@id/il_search&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;@id/il_search&quot;\n                app:icon=&quot;@drawable/ic_round_search&quot;/&gt;\n\n            ...\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n   &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/il_search&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;160dp&quot;&gt;\n\n        &lt;include\n            android:id=&quot;@+id/bottom_sheet&quot;\n            layout=&quot;@layout/navigation_information_bottom_sheet&quot; /&gt;\n\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><strong>NavigationFragment.kt</strong></p>\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        ...\n\n        sharedViewModel.location.observe(viewLifecycleOwner) {\n            if (it != null) {\n                Log.d(&quot;Location&quot;, it.toString())\n                binding.edtSearch.setAdapter(AutocompleteRetrieval(requireContext(),\n                   android.R.layout.simple_list_item_1, it))\n            } else {\n                val location = LatLng(0, 0)\n                binding.edtSearch.setAdapter(AutocompleteRetrieval(requireContext(),\n                    android.R.layout.simple_list_item_1, location))\n            }\n        }\n\n        binding.apply {\n            ...\n\n            edtSearch.apply {\n                setAdapter(\n                    AutocompleteRetrieval(\n                        requireContext(),\n                    android.R.layout.simple_list_item_1,\n                    )\n                )\n\n                addTextChangedListener(object : TextWatcher {\n                    ...\n                })\n\n                setOnEditorActionListener { _, i, _ -&gt;\n                    ...\n                }\n            }\n            ...\n        }\n    }\n</code></pre>\n<p><strong>AutoCompleteRetrieval.java</strong></p>\n<pre><code>public class AutocompleteRetrieval extends ArrayAdapter implements Filterable {\n    private static Context context;\n    private LatLng latLng;\n    private ArrayList resultList;\n    private static final String PLACES_API_BASE = &quot;https://maps.googleapis.com/maps/api/place/autocomplete/json?radius=10000&amp;type=establishment&amp;language=id&quot;;\n\n    public AutocompleteRetrieval(@NonNull Context context, int resource, LatLng latLng) {\n        super(context, resource);\n        this.context = context;\n        this.latLng = latLng;\n    }\n\n    public AutocompleteRetrieval(@NonNull Context context, int resource) {\n        super(context, resource);\n    }\n\n    public ArrayList getResultList() {\n        return resultList;\n    }\n\n    public void setResultList(ArrayList resultList) {\n        this.resultList = resultList;\n    }\n\n    @Override\n    public int getCount() {\n        return resultList.size();\n    }\n\n    @Override\n    public String getItem(int index) {\n        return (String) resultList.get(index);\n    }\n\n    @Override\n    public Filter getFilter() {\n        final Filter filter = new Filter() {\n            @Override\n            protected FilterResults performFiltering(CharSequence constraint) {\n                FilterResults filterResults = new FilterResults();\n\n                if (constraint != null) {\n                    // Retrieve the autocomplete results.\n                    resultList = autocomplete(constraint.toString(), latLng);\n\n                    // Assign the data to the FilterResults\n                    filterResults.values = resultList;\n                    filterResults.count = resultList.size();\n                }\n                return filterResults;\n            }\n\n            @Override\n            protected void publishResults(CharSequence constraint, FilterResults results) {\n                if (results != null &amp;&amp; results.count &gt; 0) {\n                    notifyDataSetChanged();\n                } else {\n                    notifyDataSetInvalidated();\n                }\n            }\n        };\n        return filter;\n    }\n\n    public static ArrayList autocomplete(String input, LatLng latLng)\n    {\n        ArrayList resultList = null;\n        HttpURLConnection conn = null;\n        String location = &quot;&amp;location=&quot;+latLng.lat+&quot;,&quot;+latLng.lng;\n        StringBuilder jsonResults = new StringBuilder();\n        try {\n            String apiKey = BuildConfig.GOOGLE_MAPS_API_KEY;\n            StringBuilder sb = new StringBuilder(PLACES_API_BASE + location +&quot;&amp;key=&quot;+apiKey);\n            sb.append(&quot;&amp;input=&quot;).append(URLEncoder.encode(input, &quot;utf8&quot;));\n            URL url = new URL(sb.toString());\n\n            conn = (HttpURLConnection) url.openConnection();\n            InputStreamReader in = new InputStreamReader(conn.getInputStream());\n\n            int read;\n            char[] buff = new char[1024];\n            while ((read = in.read(buff)) != -1) {\n                jsonResults.append(buff, 0, read);\n            }\n\n        } catch (MalformedURLException e) {\n            Log.e(&quot;AutoComp&quot;, &quot;Error processing Places API URL&quot;, e);\n            return resultList;\n\n        } catch (IOException e) {\n            Log.e(&quot;AutoComp&quot;, &quot;Error connecting to Places API&quot;, e);\n            return resultList;\n\n        } finally {\n            if (conn != null) {\n                conn.disconnect();\n            }\n        }\n\n        try {\n            // Create a JSON object hierarchy from the results\n            JSONObject jsonObj = new JSONObject(jsonResults.toString());\n            JSONArray predsJsonArray = jsonObj.getJSONArray(&quot;predictions&quot;);\n\n            // Extract the Place descriptions from the results\n            resultList = new ArrayList(predsJsonArray.length());\n            for (int i = 0; i &lt; predsJsonArray.length(); i++) {\n                resultList.add(predsJsonArray.getJSONObject(i).getString(&quot;description&quot;));\n            }\n\n        } catch (JSONException e) {\n            Log.e(&quot;LOG_TAG&quot;, &quot;Cannot process JSON results&quot;, e);\n        }\n\n        return resultList;\n    }\n}\n</code></pre>\n<p>What causes that problem? I think it has something to do with the width since it is what makes it suddently don't work. The error trace also shows some layout methods being called.</p>\n<p>Some important thing, although the Error showed NPE on the array which is the result of the autocomplete, i think it is not the problem. I changed nothing but the width of the TextInputLayout from match_parent to 0dp and it crashes with the error. I also tried using fixed width like 128dp for example, and it works.</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":1,"creation_date":1683819462,"post_id":76229336,"comment_id":134428180,"body_markdown":"Hi, can you formulate this as a question?\nWhat do you want? a way to implement that? or a library that has that already implemented?","body":"Hi, can you formulate this as a question? What do you want? a way to implement that? or a library that has that already implemented?"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1683820948,"post_id":76229336,"comment_id":134428582,"body_markdown":"why there are 3 different languages in tags?","body":"why there are 3 different languages in tags?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1683821907,"post_id":76229336,"comment_id":134428813,"body_markdown":"Sounds like you&#39;re looking for Guava [Tables.transpose](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Tables.html#transpose(com.google.common.collect.Table)).","body":"Sounds like you&#39;re looking for Guava <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Tables.html#transpose(com.google.common.collect.Table)\" rel=\"nofollow noreferrer\">Tables.transpose</a>."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1683826104,"post_id":76229336,"comment_id":134429692,"body_markdown":"I have removed [groovy] and [clojure] because OPs code looks like Java and the others where just referenced in the text.","body":"I have removed [groovy] and [clojure] because OPs code looks like Java and the others where just referenced in the text."},{"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"score":0,"creation_date":1683827005,"post_id":76229336,"comment_id":134429876,"body_markdown":"I don&#39;t think this transformation has a specific name. Mathematically, you want to transform a [set-valued function](https://en.wikipedia.org/wiki/Set-valued_function) to its inverse function.","body":"I don&#39;t think this transformation has a specific name. Mathematically, you want to transform a <a href=\"https://en.wikipedia.org/wiki/Set-valued_function\" rel=\"nofollow noreferrer\">set-valued function</a> to its inverse function."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683849472,"post_id":76229509,"comment_id":134433568,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76229509/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18034953,"reputation":11,"user_id":13692965,"display_name":"weihe zhai"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683820444,"creation_date":1683820444,"answer_id":76229509,"question_id":76229336,"body_markdown":"        // Transpose a map of maps\r\n    Map&lt;Y, Map&lt;X, Z&gt;&gt; transpose(Map&lt;X, Map&lt;Y, Z&gt;&gt; map) {\r\n      Map&lt;Y, Map&lt;X, Z&gt;&gt; transposed = new HashMap&lt;&gt;();\r\n      for (Map.Entry&lt;X, Map&lt;Y, Z&gt;&gt; entry : map.entrySet()) {\r\n        for (Map.Entry&lt;Y, Z&gt; innerEntry : entry.getValue().entrySet()) {\r\n          transposed.computeIfAbsent(innerEntry.getKey(), k -&gt; new HashMap&lt;&gt;()).put(entry.getKey(), innerEntry.getValue());\r\n        }\r\n      }\r\n      return transposed;\r\n    }\r\n    \r\n    // Flatten a map of sets\r\n    Map&lt;Y, Set&gt; flatten(Map&lt;X, Set&gt; map) {\r\n      Map&lt;Y, Set&gt; flattened = new HashMap&lt;&gt;();\r\n      for (Map.Entry&lt;X, Set&gt; entry : map.entrySet()) {\r\n        flattened.computeIfAbsent(entry.getKey(), k -&gt; new HashSet&lt;&gt;()).addAll(entry.getValue());\r\n      }\r\n      return flattened;\r\n    }\r\nI hope this helps.","title":"Generic transformations of nested data structures","body":"<pre><code>    // Transpose a map of maps\nMap&lt;Y, Map&lt;X, Z&gt;&gt; transpose(Map&lt;X, Map&lt;Y, Z&gt;&gt; map) {\n  Map&lt;Y, Map&lt;X, Z&gt;&gt; transposed = new HashMap&lt;&gt;();\n  for (Map.Entry&lt;X, Map&lt;Y, Z&gt;&gt; entry : map.entrySet()) {\n    for (Map.Entry&lt;Y, Z&gt; innerEntry : entry.getValue().entrySet()) {\n      transposed.computeIfAbsent(innerEntry.getKey(), k -&gt; new HashMap&lt;&gt;()).put(entry.getKey(), innerEntry.getValue());\n    }\n  }\n  return transposed;\n}\n\n// Flatten a map of sets\nMap&lt;Y, Set&gt; flatten(Map&lt;X, Set&gt; map) {\n  Map&lt;Y, Set&gt; flattened = new HashMap&lt;&gt;();\n  for (Map.Entry&lt;X, Set&gt; entry : map.entrySet()) {\n    flattened.computeIfAbsent(entry.getKey(), k -&gt; new HashSet&lt;&gt;()).addAll(entry.getValue());\n  }\n  return flattened;\n}\n</code></pre>\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683825163,"creation_date":1683825163,"answer_id":76230097,"question_id":76229336,"body_markdown":"I don&#39;t think that you will find such transpose OPs in widely available libraries, but it&#39;s fairly easy to model them in plain Groovy:\r\n\r\n```\r\ndef inp1 = [ a:[ X:1, Y:2 ], b:[ Y:3 ] ]\r\ndef res1 = inp1.inject( [:].withDefault{ [:] } ){ res, k, v -&gt;\r\n  v.each{ kk, vv -&gt; res[ kk ][ k ] = vv  }\r\n  res\r\n}\r\n\r\nassert res1.toString() == &#39;[X:[a:1], Y:[a:2, b:3]]&#39;\r\n\r\n// -------------------------\r\n\r\ndef inp2 = [ a:[ &quot;X&quot;, &quot;Y&quot; ] as Set, b:[ &quot;Y&quot;, &quot;Z&quot; ] as Set ]\r\ndef res2 = inp2.inject( [:].withDefault{ new HashSet() } ){ res, k, v -&gt;\r\n  v.each{ vv -&gt; res[ vv ] &lt;&lt; k }\r\n  res\r\n}\r\nassert res2.toString() == &#39;[X:[a], Y:[a, b], Z:[b]]&#39;\r\nassert Set.isAssignableFrom( res2.X.class )\r\n```","title":"Generic transformations of nested data structures","body":"<p>I don't think that you will find such transpose OPs in widely available libraries, but it's fairly easy to model them in plain Groovy:</p>\n<pre><code>def inp1 = [ a:[ X:1, Y:2 ], b:[ Y:3 ] ]\ndef res1 = inp1.inject( [:].withDefault{ [:] } ){ res, k, v -&gt;\n  v.each{ kk, vv -&gt; res[ kk ][ k ] = vv  }\n  res\n}\n\nassert res1.toString() == '[X:[a:1], Y:[a:2, b:3]]'\n\n// -------------------------\n\ndef inp2 = [ a:[ &quot;X&quot;, &quot;Y&quot; ] as Set, b:[ &quot;Y&quot;, &quot;Z&quot; ] as Set ]\ndef res2 = inp2.inject( [:].withDefault{ new HashSet() } ){ res, k, v -&gt;\n  v.each{ vv -&gt; res[ vv ] &lt;&lt; k }\n  res\n}\nassert res2.toString() == '[X:[a], Y:[a, b], Z:[b]]'\nassert Set.isAssignableFrom( res2.X.class )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":510727,"reputation":3230,"user_id":1062189,"display_name":"erdos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683825788,"creation_date":1683825788,"answer_id":76230162,"question_id":76229336,"body_markdown":"In Clojure, the transformations would look something like:\r\n\r\n```clojure\r\n(defn rotate-map [m]\r\n  (reduce-kv (fn [m k1 m2]\r\n               (reduce-kv (fn [m k2 v] (assoc-in m [k2 k1] v)) m m2))\r\n  {} m))\r\n\r\n(defn rotate-set [m]\r\n  (reduce-kv (fn [m k s]\r\n               (reduce (fn [m x]\r\n                         (update m x (fnil conj #{}) k))\r\n                       m s))\r\n             {} m))\r\n```\r\n\r\ntesting:\r\n\r\n```clojure\r\nuser=&gt; (rotate-map &#39;{a {x 1 y 2} b {y 3}})\r\n{x {a 1}, y {a 2, b 3}}\r\n\r\nuser=&gt; (rotate-set &#39;{x #{a} y #{a b} z #{b}})\r\n{a #{x y}, b #{y z}}\r\n```","title":"Generic transformations of nested data structures","body":"<p>In Clojure, the transformations would look something like:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(defn rotate-map [m]\n  (reduce-kv (fn [m k1 m2]\n               (reduce-kv (fn [m k2 v] (assoc-in m [k2 k1] v)) m m2))\n  {} m))\n\n(defn rotate-set [m]\n  (reduce-kv (fn [m k s]\n               (reduce (fn [m x]\n                         (update m x (fnil conj #{}) k))\n                       m s))\n             {} m))\n</code></pre>\n<p>testing:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>user=&gt; (rotate-map '{a {x 1 y 2} b {y 3}})\n{x {a 1}, y {a 2, b 3}}\n\nuser=&gt; (rotate-set '{x #{a} y #{a b} z #{b}})\n{a #{x y}, b #{y z}}\n</code></pre>\n"}],"owner":{"account_id":61676,"reputation":424,"user_id":183698,"accept_rate":50,"display_name":"Ionut Bilica"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683825900,"creation_date":1683819221,"question_id":76229336,"body_markdown":"There are two kind of transformations I want to apply to some nested datastructures:\r\n1. Map&lt;X, Map&lt;Y, Z&gt;&gt; to transform into a Map&lt;Y, Map&lt;X, Z&gt;&gt;\r\n\r\nFor example:\r\n\r\n    Map.of(&quot;a&quot;, Map.of(&quot;X&quot;, 1, &quot;Y&quot;, 2), \r\n           &quot;b&quot;, Map.of(&quot;Y&quot;, 3))\r\nshould be transformed to\r\n\r\n    Map.of(&quot;X&quot;, Map.of(&quot;a&quot;, 1),\r\n           &quot;Y&quot;, Map.of(&quot;a&quot;, 2, &quot;b&quot;, 3))\r\n\r\n\r\n2. Map&lt;X, Set&lt;Y&gt;&gt; to transform into a Map&lt;Y, Set&lt;X&gt;&gt;\r\n\r\nFor example:\r\n\r\n    Map.of(&quot;a&quot;, Set.of(&quot;X&quot;, &quot;Y&quot;), \r\n           &quot;b&quot;, Set.of(&quot;Y&quot;, &quot;Z&quot;))\r\nshould be transformed to\r\n\r\n    Map.of(&quot;X&quot;, Set.of(&quot;a&quot;),\r\n           &quot;Y&quot;, Set.of(&quot;a&quot;, &quot;b&quot;),\r\n           &quot;Z&quot;, Set.of(&quot;b&quot;))\r\n\r\nI don&#39;t know the names of these transformations, and I don&#39;t find implementations for them in any of the JVM languages I use (Java mainly, Groovy and Clojure sometimes), probably because I don&#39;t know what to look for.\r\nThey seem rather general problems and I would expect to be very well known and have solutions already present in libraries or even SDK.\r\nThe first one is a &quot;transpose&quot; I guess, as a map of maps can be viewed as a matrix.","title":"Generic transformations of nested data structures","body":"<p>There are two kind of transformations I want to apply to some nested datastructures:</p>\n<ol>\n<li>Map&lt;X, Map&lt;Y, Z&gt;&gt; to transform into a Map&lt;Y, Map&lt;X, Z&gt;&gt;</li>\n</ol>\n<p>For example:</p>\n<pre><code>Map.of(&quot;a&quot;, Map.of(&quot;X&quot;, 1, &quot;Y&quot;, 2), \n       &quot;b&quot;, Map.of(&quot;Y&quot;, 3))\n</code></pre>\n<p>should be transformed to</p>\n<pre><code>Map.of(&quot;X&quot;, Map.of(&quot;a&quot;, 1),\n       &quot;Y&quot;, Map.of(&quot;a&quot;, 2, &quot;b&quot;, 3))\n</code></pre>\n<ol start=\"2\">\n<li>Map&lt;X, Set&gt; to transform into a Map&lt;Y, Set&gt;</li>\n</ol>\n<p>For example:</p>\n<pre><code>Map.of(&quot;a&quot;, Set.of(&quot;X&quot;, &quot;Y&quot;), \n       &quot;b&quot;, Set.of(&quot;Y&quot;, &quot;Z&quot;))\n</code></pre>\n<p>should be transformed to</p>\n<pre><code>Map.of(&quot;X&quot;, Set.of(&quot;a&quot;),\n       &quot;Y&quot;, Set.of(&quot;a&quot;, &quot;b&quot;),\n       &quot;Z&quot;, Set.of(&quot;b&quot;))\n</code></pre>\n<p>I don't know the names of these transformations, and I don't find implementations for them in any of the JVM languages I use (Java mainly, Groovy and Clojure sometimes), probably because I don't know what to look for.\nThey seem rather general problems and I would expect to be very well known and have solutions already present in libraries or even SDK.\nThe first one is a &quot;transpose&quot; I guess, as a map of maps can be viewed as a matrix.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654153388,"post_id":72471872,"comment_id":128024589,"body_markdown":"`[ERROR] ... cannot find symbol [ERROR]   symbol: class Responsetatus` you have to fix your code...migration from 2.0.4 to 2.7.0 is a huge step.. I strongly recommend to read the release notes for the releases in between... and go step by step... 2.0.X to 2.1.X, 2.1.X to 2.2.X etc. Also use most recent version of Maven... etc. also `However, when I migrated to Spring Boot 2.7.0, it will not work anymore. The output will be as follow:` what does that mean... the package has been generated etc. and there had a been a lot of changes. in between...","body":"<code>[ERROR] ... cannot find symbol [ERROR]   symbol: class Responsetatus</code> you have to fix your code...migration from 2.0.4 to 2.7.0 is a huge step.. I strongly recommend to read the release notes for the releases in between... and go step by step... 2.0.X to 2.1.X, 2.1.X to 2.2.X etc. Also use most recent version of Maven... etc. also <code>However, when I migrated to Spring Boot 2.7.0, it will not work anymore. The output will be as follow:</code> what does that mean... the package has been generated etc. and there had a been a lot of changes. in between..."},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654154576,"post_id":72471872,"comment_id":128024961,"body_markdown":"@khmarbaise class `Responsetatus` is in project &quot;monitoring&quot; and it can compile successfully without problem.","body":"@khmarbaise class <code>Responsetatus</code> is in project &quot;monitoring&quot; and it can compile successfully without problem."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654154625,"post_id":72471872,"comment_id":128024974,"body_markdown":"The error message tells something different ? It would be helpful to post more of the logs instead of tiny excerpts...","body":"The error message tells something different ? It would be helpful to post more of the logs instead of tiny excerpts..."},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654155893,"post_id":72471872,"comment_id":128025361,"body_markdown":"@khmarbaise I updated more detail log.","body":"@khmarbaise I updated more detail log."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654156263,"post_id":72471872,"comment_id":128025477,"body_markdown":"`WebsocketManager.java:[26,64] package [my package].monitoring.service.customer does not exist` this is the problem you have to fix...","body":"<code>WebsocketManager.java:[26,64] package [my package].monitoring.service.customer does not exist</code> this is the problem you have to fix..."},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654156276,"post_id":72471872,"comment_id":128025483,"body_markdown":"It is noted that all symbols that is not found when compiling project &quot;simulator&quot; (`cannot find symbol  XXX`) is come from project &quot;monitoring&quot;, which is built successfully","body":"It is noted that all symbols that is not found when compiling project &quot;simulator&quot; (<code>cannot find symbol  XXX</code>) is come from project &quot;monitoring&quot;, which is built successfully"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654156777,"post_id":72471872,"comment_id":128025641,"body_markdown":"That means you don&#39;t have defined the correct dependency or something else is wrong ?","body":"That means you don&#39;t have defined the correct dependency or something else is wrong ?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654156831,"post_id":72471872,"comment_id":128025655,"body_markdown":"This path: `src/monitoring/pom.xml` looks strange to me?","body":"This path: <code>src&#47;monitoring&#47;pom.xml</code> looks strange to me?"},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654157980,"post_id":72471872,"comment_id":128026004,"body_markdown":"The issue come from the &quot;spring-boot-maven-plugin&quot; definition in the POM file. In Spring documentation (https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-repackage-parameters-details-classifier), I expect that it will built 2 files: &quot;monitoring.jar&quot; (small file size, used for compiling &quot;simulator&quot;), &quot;monitoring_flat.jar&quot; (big file size). However, in Spring Boot 2.7.0, the file &quot;monitoring.jar&quot; become big file size, similar with file &quot;monitoring_flat.jar&quot;, which is not expected","body":"The issue come from the &quot;spring-boot-maven-plugin&quot; definition in the POM file. In Spring documentation (<a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-repackage-parameters-details-classifier\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/refere&zwnj;&#8203;nce/&hellip;</a>), I expect that it will built 2 files: &quot;monitoring.jar&quot; (small file size, used for compiling &quot;simulator&quot;), &quot;monitoring_flat.jar&quot; (big file size). However, in Spring Boot 2.7.0, the file &quot;monitoring.jar&quot; become big file size, similar with file &quot;monitoring_flat.jar&quot;, which is not expected"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654159419,"post_id":72471872,"comment_id":128026519,"body_markdown":"Your build does not work... the spring-boot-maven-plugin is someting different..first fix you build issues...","body":"Your build does not work... the spring-boot-maven-plugin is someting different..first fix you build issues..."},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654161271,"post_id":72471872,"comment_id":128027080,"body_markdown":"My question is that the build work for Spring Boot 2.0.4, but doesn&#39;t work for 2.7.0. So I post it here for help. In Eclipse, it still works fine and I can run the project &quot;simulator&quot;. Why you think that &quot;the spring-boot-maven-plugin&quot; is not related?","body":"My question is that the build work for Spring Boot 2.0.4, but doesn&#39;t work for 2.7.0. So I post it here for help. In Eclipse, it still works fine and I can run the project &quot;simulator&quot;. Why you think that &quot;the spring-boot-maven-plugin&quot; is not related?"},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":1,"creation_date":1654161407,"post_id":72471872,"comment_id":128027124,"body_markdown":"I will create a sample project in Github for reference","body":"I will create a sample project in Github for reference"},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654170631,"post_id":72471872,"comment_id":128030225,"body_markdown":"I found the solution, which is described in the Answer section.","body":"I found the solution, which is described in the Answer section."}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654172156,"post_id":72475801,"comment_id":128030840,"body_markdown":"This can not explain the compile errors...","body":"This can not explain the compile errors..."},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654174389,"post_id":72475801,"comment_id":128031664,"body_markdown":"I don&#39;t know how to explain detail, but you can refer this: https://www.baeldung.com/spring-boot-repackage-vs-mvn-package","body":"I don&#39;t know how to explain detail, but you can refer this: <a href=\"https://www.baeldung.com/spring-boot-repackage-vs-mvn-package\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-repackage-vs-mvn-package</a>"},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654174490,"post_id":72475801,"comment_id":128031704,"body_markdown":"The project &quot;simulator&quot; depends on JAR file &quot;monitoring.jar&quot; for compiling. If the file &quot;monitoring.jar&quot; is NOT a &quot;Repackaged JAR File&quot; (normally file size smaller than 1Mb), it will work. But if &quot;monitoring.jar&quot; is a &quot;Repackaged JAR File&quot; (normally file size greater than 1Mb), it will not work.","body":"The project &quot;simulator&quot; depends on JAR file &quot;monitoring.jar&quot; for compiling. If the file &quot;monitoring.jar&quot; is NOT a &quot;Repackaged JAR File&quot; (normally file size smaller than 1Mb), it will work. But if &quot;monitoring.jar&quot; is a &quot;Repackaged JAR File&quot; (normally file size greater than 1Mb), it will not work."},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654174697,"post_id":72475801,"comment_id":128031789,"body_markdown":"The structure of &quot;Repackaged JAR File&quot; will be something like &quot;BOOT-INF/classes/my/company/package_name/Monitoring.class&quot;, it cannot be used by another project for compiling.","body":"The structure of &quot;Repackaged JAR File&quot; will be something like &quot;BOOT-INF/classes/my/company/package_name/Monitoring.class&quot;, it cannot be used by another project for compiling."},{"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"score":0,"creation_date":1654174893,"post_id":72475801,"comment_id":128031872,"body_markdown":"The correct structure should be something like &quot;my/company/package_name/Monitoring.class&quot;","body":"The correct structure should be something like &quot;my/company/package_name/Monitoring.class&quot;"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654175557,"post_id":72475801,"comment_id":128032159,"body_markdown":"Ah that&#39;s what I expected that your dependency using the spring boot generated jar instead of the usual jar file... but by default the spring-boot-maven-plugin does not replace the main artifact of the build (the consumable jar file) only if something has been configured to replace that (what you can do) which is not shown in the posted pom files...","body":"Ah that&#39;s what I expected that your dependency using the spring boot generated jar instead of the usual jar file... but by default the spring-boot-maven-plugin does not replace the main artifact of the build (the consumable jar file) only if something has been configured to replace that (what you can do) which is not shown in the posted pom files..."}],"tags":[],"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654170568,"creation_date":1654170568,"answer_id":72475801,"question_id":72471872,"body_markdown":"I found the solution based on following reference:\r\n&lt;br/&gt;\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes\r\n&lt;br/&gt;\r\nhttps://docs.spring.io/spring-boot/docs/2.1.4.RELEASE/maven-plugin/examples/repackage-classifier.html\r\n\r\n&gt; Maven Plugin &lt;br/&gt;\r\n&gt; The finalName property is no longer customizable to align\r\n&gt; with the behavior of standard Maven plugins.\r\n&gt; \r\n&gt; If you were customizing the repackage goal, **the main execution has now\r\n&gt; an id of repackage that must be specified**, see the updated sample.\r\n\r\nIt is simple, just add the `&lt;id&gt;repackage&lt;/id&gt;` to the file `src/monitoring/pom.xml`, then it will work\r\n","title":"Maven build problem with Spring Boot 2.7.0 and 2 jars per module","body":"<p>I found the solution based on following reference:\n<br/>\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes</a>\n<br/>\n<a href=\"https://docs.spring.io/spring-boot/docs/2.1.4.RELEASE/maven-plugin/examples/repackage-classifier.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.4.RELEASE/maven-plugin/examples/repackage-classifier.html</a></p>\n<blockquote>\n<p>Maven Plugin <br/>\nThe finalName property is no longer customizable to align\nwith the behavior of standard Maven plugins.</p>\n<p>If you were customizing the repackage goal, <strong>the main execution has now\nan id of repackage that must be specified</strong>, see the updated sample.</p>\n</blockquote>\n<p>It is simple, just add the <code>&lt;id&gt;repackage&lt;/id&gt;</code> to the file <code>src/monitoring/pom.xml</code>, then it will work</p>\n"},{"tags":[],"owner":{"account_id":2496447,"reputation":339,"user_id":2172687,"display_name":"Koushik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666813743,"creation_date":1666813743,"answer_id":74213490,"question_id":72471872,"body_markdown":"Add Following to monitor\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\r\n\t&lt;/properties&gt;","title":"Maven build problem with Spring Boot 2.7.0 and 2 jars per module","body":"<p>Add Following to monitor</p>\n<pre><code>&lt;properties&gt;\n    &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683824831,"creation_date":1682015128,"answer_id":76067193,"question_id":72471872,"body_markdown":"From your log it is seen that repackage is executed twice:\r\n\r\n```\r\n[INFO] --- spring-boot-maven-plugin:2.7.0:repackage (repackage) @ monitoring ---\r\n[INFO] Replacing main artifact with repackaged archive\r\n[INFO]\r\n[INFO] --- spring-boot-maven-plugin:2.7.0:repackage (default) @ monitoring ---\r\n[INFO] Attaching repackaged archive ...\\src\\monitoring\\target\\monitoring-flat.jar with classifier flat\r\n```\r\n\r\nSo for the second time, it will do harm\r\n\r\nSee https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#packaging\r\n&gt; If you are using spring-boot-starter-parent, such execution is already pre-configured\r\n&gt; with a repackage execution ID so that only the plugin definition should be added.\r\n\r\n\r\nThat is if you are using Spring parent,\r\nthat adding plugin like this is enough\r\n(and so is written in the doc start,\r\nand so is produced by https://start.spring.io/ new Spring project)\r\n\r\n```xml\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nOr again at https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.first-application.executable-jar\r\n\r\n&gt; The spring-boot-starter-parent POM includes &lt;executions&gt; configuration to bind the repackage goal. \r\n\r\nP.S.\r\n\r\n![](https://i.stack.imgur.com/GIhYT.png)\r\n\r\nAnd actually you don&#39;t need any extra configuration for spring-boot-maven-plugin,\r\nyou just rename  \r\n\r\n    monitoring.jar -&gt; monitoring-fat.jar\r\n    monitoring.jar.original -&gt; monitoring.jar\r\n\r\nNote that industry name is fat .jar, not flat .jar, \r\nsee https://stackoverflow.com/questions/19150811/what-is-a-fat-jar\r\n\r\nSo may be better rename like\r\n\r\n    monitoring.jar.original -&gt; monitoring-skinny.jar\r\n\r\n","title":"Maven build problem with Spring Boot 2.7.0 and 2 jars per module","body":"<p>From your log it is seen that repackage is executed twice:</p>\n<pre><code>[INFO] --- spring-boot-maven-plugin:2.7.0:repackage (repackage) @ monitoring ---\n[INFO] Replacing main artifact with repackaged archive\n[INFO]\n[INFO] --- spring-boot-maven-plugin:2.7.0:repackage (default) @ monitoring ---\n[INFO] Attaching repackaged archive ...\\src\\monitoring\\target\\monitoring-flat.jar with classifier flat\n</code></pre>\n<p>So for the second time, it will do harm</p>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#packaging\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#packaging</a></p>\n<blockquote>\n<p>If you are using spring-boot-starter-parent, such execution is already pre-configured\nwith a repackage execution ID so that only the plugin definition should be added.</p>\n</blockquote>\n<p>That is if you are using Spring parent,\nthat adding plugin like this is enough\n(and so is written in the doc start,\nand so is produced by <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> new Spring project)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Or again at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.first-application.executable-jar\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.first-application.executable-jar</a></p>\n<blockquote>\n<p>The spring-boot-starter-parent POM includes  configuration to bind the repackage goal.</p>\n</blockquote>\n<p>P.S.</p>\n<p><img src=\"https://i.stack.imgur.com/GIhYT.png\" alt=\"\" /></p>\n<p>And actually you don't need any extra configuration for spring-boot-maven-plugin,\nyou just rename</p>\n<pre><code>monitoring.jar -&gt; monitoring-fat.jar\nmonitoring.jar.original -&gt; monitoring.jar\n</code></pre>\n<p>Note that industry name is fat .jar, not flat .jar,\nsee <a href=\"https://stackoverflow.com/questions/19150811/what-is-a-fat-jar\">What is a fat JAR?</a></p>\n<p>So may be better rename like</p>\n<pre><code>monitoring.jar.original -&gt; monitoring-skinny.jar\n</code></pre>\n"}],"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12688,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1683824906,"creation_date":1654152746,"question_id":72471872,"body_markdown":"I&#39;m migrating from Spring Boot 2.0.4 to 2.7.0 and facing the following problem:\r\n\r\n**Project structure**\r\n&lt;br/&gt;\r\nMulti-module project:\r\n\r\n    /parent-project\r\n      +core\r\n      +monitoring\r\n      +simulator\r\n\r\nProject &quot;monitoring&quot; depends on &quot;core&quot;.&lt;br/&gt;\r\nProject &quot;simulator&quot; depends on both &quot;monitoring&quot; and &quot;core&quot;.\r\n\r\n**Maven POM file**\r\n\r\nsrc/pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;parent_project&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t   &lt;id&gt;central&lt;/id&gt;\r\n    \t\t   &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;core&lt;/module&gt;\r\n    \t\t&lt;module&gt;monitoring&lt;/module&gt;\r\n    \t\t&lt;module&gt;simulator&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nsrc/core/pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;parent_project&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nsrc/monitoring/pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;artifactId&gt;monitoring&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t\t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;parent_project&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;monitoring&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;classifier&gt;flat&lt;/classifier&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nsrc/simulator/pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;artifactId&gt;simulator&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;parent_project&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;monitoring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;simulator&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;classifier&gt;flat&lt;/classifier&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Problem**\r\n\r\nIn Spring Boot 2.0.4, when I compile the project &quot;monitoring&quot;, it will build 2 jar files as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe file &quot;monitoring-flat.jar&quot; is full-packed and used for standalone execution via `java -jar` command.&lt;br/&gt;\r\nThe file &quot;monitoring.jar&quot; is not full-packed, which is used for compiling the dependence project &quot;simulator&quot;.\r\nThis works fine in Spring Boot 2.0.4.\r\n\r\nHowever, when I migrated to Spring Boot 2.7.0, it will not work anymore.\r\nThe output will be as follow:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBoth file &quot;monitoring-flat.jar&quot; and &quot;monitoring.jar&quot; is full-packed. In addition, I see that the file &quot;monitoring.jar.original&quot; is not full-packed.\r\n\r\nWhen compiling the project &quot;simulator&quot;, an error will happen because it cannot access the compiled class from the file &quot;monitoring.jar&quot;.\r\n\r\n    mvn -f pom.xml  -Dmaven.test.skip=true package -B -e -U \r\n    \r\n     --------------&lt; parent_project:monitoring &gt;---------------\r\n    [INFO] Building monitoring 1.0.0                                          \r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ monitoring ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] Copying 0 resource\r\n    [INFO] Copying 1 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ monitoring ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ monitoring ---\r\n    [INFO] Not copying test resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ monitoring ---\r\n    [INFO] Not compiling test sources\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ monitoring ---\r\n    [INFO] Tests are skipped.\r\n    [INFO]\r\n    [INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ monitoring ---\r\n    [INFO] \r\n    [INFO] --- spring-boot-maven-plugin:2.7.0:repackage (repackage) @ monitoring ---\r\n    [INFO] Replacing main artifact with repackaged archive\r\n    [INFO]\r\n    [INFO] --- spring-boot-maven-plugin:2.7.0:repackage (default) @ monitoring ---\r\n    [INFO] Attaching repackaged archive ...\\src\\monitoring\\target\\monitoring-flat.jar with classifier flat\r\n    [INFO]\r\n    \r\n    [INFO] -------------&lt; parent_project:simulator &gt;-------------\r\n    [INFO] Building simulator 1.0.0                                       [6/7]\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ simulator ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] Copying 0 resource\r\n    [INFO] Copying 1 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ simulator ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 16 source files to [project path]\\src\\simulator\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[26,64] package [my package].monitoring.service.customer does not exist\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[27,79] package [my package].monitoring.service.customer.device.message does not exist\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[28,79] package [my package].monitoring.service.customer.device.message does not exist\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[29,79] package [my package].monitoring.service.customer.device.message does not exist\r\n\r\n    [INFO] 82 errors\r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary for device-manager 1.0.0:\r\n    [INFO]\r\n    [INFO] [parent_project] ..................................... SUCCESS [  0.018 s]\r\n    [INFO] core ............................................... SUCCESS [ 19.815 s]\r\n    [INFO] monitoring ......................................... SUCCESS [  9.860 s]\r\n    [INFO] simulator ...................................... FAILURE [  9.909 s]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  01:27 min\r\n    [INFO] Finished at: 2022-06-02T14:31:24+07:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project simulator: Compilation failure: Compilation failure: \r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[26,64] package [my package].monitoring.service.customer does not exist\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[27,79] package [my package].monitoring.service.customer.device.message does not exist\r\n\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[63,17] cannot find symbol\r\n    [ERROR]   symbol:   variable super\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[66,9] method does not overri\r\n    de or implement a method from a supertype\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[70,17] cannot find symbol   \r\n    [ERROR]   symbol:   variable super\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[73,9] method does not overri\r\n    de or implement a method from a supertype\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[79,22] cannot find symbol   \r\n    [ERROR]   symbol:   variable WebsocketMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[87,22] cannot find symbol   \r\n    [ERROR]   symbol:   variable WebsocketMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[93,41] cannot find symbol   \r\n    [ERROR]   symbol:   variable logger\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[98,33] cannot find symbol   \r\n    [ERROR]   symbol:   variable logger\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[103,25] cannot find symbol\r\n\r\n    [ERROR]   symbol:   method getChannel()\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[207,25] cannot find symbol  \r\n    [ERROR]   symbol:   variable logger\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[239,25] cannot find symbol  \r\n    [ERROR]   symbol:   class DeviceMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[239,53] cannot find symbol  \r\n    [ERROR]   symbol:   class DeviceMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[241,40] cannot find symbol\r\n    [ERROR]   symbol:   variable DeviceMessageType\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[244,53] cannot find symbol  \r\n    [ERROR]   symbol:   variable DeviceMessageResult\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[247,60] cannot find symbol  \r\n    [ERROR]   symbol:   variable ResponseDeviceStatus\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[251,60] cannot find symbol  \r\n    [ERROR]   symbol:   variable ResponseDeviceStatus\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[254,60] cannot find symbol\r\n    [ERROR]   symbol:   variable ResponseDeviceStatus\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[257,60] cannot find symbol\r\n    [ERROR]   symbol:   variable ResponseDeviceStatus\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[260,60] cannot find symbol\r\n    [ERROR]   symbol:   variable ResponseDeviceStatus\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[263,60] cannot find symbol\r\n    [ERROR]   symbol:   variable ResponseDeviceStatus\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[266,60] cannot find symbol\r\n    [ERROR]   symbol:   variable ResponseDeviceStatus\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[278,38] cannot find symbol\r\n    [ERROR]   symbol:   class WebsocketMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[278,55] cannot find symbol  \r\n    [ERROR]   symbol:   variable WebsocketMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[279,41] cannot find symbol\r\n    [ERROR]   symbol:   method getChannel()\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[285,25] cannot find symbol  \r\n    [ERROR]   symbol:   variable logger\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[302,25] cannot find symbol  \r\n    [ERROR]   symbol:   class DeviceMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[302,53] cannot find symbol  \r\n    [ERROR]   symbol:   class DeviceMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[304,40] cannot find symbol  \r\n    [ERROR]   symbol:   variable DeviceMessageType\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[308,53] cannot find symbol  \r\n    [ERROR]   symbol:   variable DeviceMessageResult\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[315,38] cannot find symbol  \r\n    [ERROR]   symbol:   class WebsocketMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[315,55] cannot find symbol  \r\n    [ERROR]   symbol:   variable WebsocketMessage\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[316,41] cannot find symbol\r\n    [ERROR]   symbol:   method getChannel()\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[322,25] cannot find symbol\r\n    [ERROR]   symbol:   variable logger\r\n    [ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[144,22] cannot find symbol\r\n    [ERROR]   symbol:   variable THROUGH\r\n    [ERROR]   location: class parent_project.simulator.api.Simulator\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[147,22] cannot find symbol\r\n    [ERROR]   symbol:   variable FAULTED\r\n    [ERROR]   location: class parent_project.simulator.api.Simulator\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[150,22] cannot find symbol\r\n    [ERROR]   symbol:   variable INITIALIZING\r\n    [ERROR]   location: class parent_project.simulator.api.Simulator\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[153,22] cannot find symbol\r\n    [ERROR]   symbol:   variable UPDATING\r\n    [ERROR]   location: class parent_project.simulator.api.Simulator\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[156,22] cannot find symbol\r\n    [ERROR]   symbol:   variable REBOOTING\r\n    [ERROR]   location: class parent_project.simulator.api.Simulator\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[200,40] cannot find symbol\r\n    [ERROR]   symbol:   method run()\r\n    [ERROR]   location: variable manager of type parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[220,32] cannot find symbol\r\n    [ERROR]   symbol:   method stop()\r\n    [ERROR]   location: variable manager of type parent_project.simulator.api.SimulatorWebsocketManager\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/gui/MainGUI.java:[1412,41] cannot find symbol\r\n    [ERROR]   symbol: class ResponseDeviceStatus\r\n    [ERROR] [project path]/src/simulator/src/main/[my package]/simulator/gui/MainGUI.java:[1412,71] cannot find symbol\r\n    [ERROR]   symbol: variable ResponseDeviceStatus\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project simulator: Compilat\r\n    ion failure\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1310)\r\n        at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n    [ERROR]\r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;args&gt; -rf :simulator\r\n\r\n\r\n\r\nCould anyone know how to fix the issue?\r\n\r\n\r\nEnvironment information:\r\n - Issue happen on both Apache Maven 3.6.3/3.8.4\r\n - Java JDK 1.8.0_331\r\n\r\n  [1]: https://i.stack.imgur.com/HTdlh.png\r\n  [2]: https://i.stack.imgur.com/GIhYT.png","title":"Maven build problem with Spring Boot 2.7.0 and 2 jars per module","body":"<p>I'm migrating from Spring Boot 2.0.4 to 2.7.0 and facing the following problem:</p>\n<p><strong>Project structure</strong>\n<br/>\nMulti-module project:</p>\n<pre><code>/parent-project\n  +core\n  +monitoring\n  +simulator\n</code></pre>\n<p>Project &quot;monitoring&quot; depends on &quot;core&quot;.<br/>\nProject &quot;simulator&quot; depends on both &quot;monitoring&quot; and &quot;core&quot;.</p>\n<p><strong>Maven POM file</strong></p>\n<p>src/pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\n    &lt;artifactId&gt;parent_project&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n           &lt;id&gt;central&lt;/id&gt;\n           &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;core&lt;/module&gt;\n        &lt;module&gt;monitoring&lt;/module&gt;\n        &lt;module&gt;simulator&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>src/core/pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\n        &lt;artifactId&gt;parent_project&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n&lt;/project&gt;\n</code></pre>\n<p>src/monitoring/pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;monitoring&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n        &lt;parent&gt;\n        &lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\n        &lt;artifactId&gt;parent_project&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;monitoring&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;flat&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>src/simulator/pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;simulator&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\n        &lt;artifactId&gt;parent_project&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;my.company.parent_project&lt;/groupId&gt;\n            &lt;artifactId&gt;monitoring&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n            \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;simulator&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;flat&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>In Spring Boot 2.0.4, when I compile the project &quot;monitoring&quot;, it will build 2 jar files as below:</p>\n<p><a href=\"https://i.stack.imgur.com/HTdlh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HTdlh.png\" alt=\"enter image description here\" /></a></p>\n<p>The file &quot;monitoring-flat.jar&quot; is full-packed and used for standalone execution via <code>java -jar</code> command.<br/>\nThe file &quot;monitoring.jar&quot; is not full-packed, which is used for compiling the dependence project &quot;simulator&quot;.\nThis works fine in Spring Boot 2.0.4.</p>\n<p>However, when I migrated to Spring Boot 2.7.0, it will not work anymore.\nThe output will be as follow:</p>\n<p><a href=\"https://i.stack.imgur.com/GIhYT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GIhYT.png\" alt=\"enter image description here\" /></a></p>\n<p>Both file &quot;monitoring-flat.jar&quot; and &quot;monitoring.jar&quot; is full-packed. In addition, I see that the file &quot;monitoring.jar.original&quot; is not full-packed.</p>\n<p>When compiling the project &quot;simulator&quot;, an error will happen because it cannot access the compiled class from the file &quot;monitoring.jar&quot;.</p>\n<pre><code>mvn -f pom.xml  -Dmaven.test.skip=true package -B -e -U \n\n --------------&lt; parent_project:monitoring &gt;---------------\n[INFO] Building monitoring 1.0.0                                          \n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ monitoring ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 0 resource\n[INFO] Copying 1 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ monitoring ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ monitoring ---\n[INFO] Not copying test resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ monitoring ---\n[INFO] Not compiling test sources\n[INFO]\n[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ monitoring ---\n[INFO] Tests are skipped.\n[INFO]\n[INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ monitoring ---\n[INFO] \n[INFO] --- spring-boot-maven-plugin:2.7.0:repackage (repackage) @ monitoring ---\n[INFO] Replacing main artifact with repackaged archive\n[INFO]\n[INFO] --- spring-boot-maven-plugin:2.7.0:repackage (default) @ monitoring ---\n[INFO] Attaching repackaged archive ...\\src\\monitoring\\target\\monitoring-flat.jar with classifier flat\n[INFO]\n\n[INFO] -------------&lt; parent_project:simulator &gt;-------------\n[INFO] Building simulator 1.0.0                                       [6/7]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ simulator ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 0 resource\n[INFO] Copying 1 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ simulator ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 16 source files to [project path]\\src\\simulator\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[26,64] package [my package].monitoring.service.customer does not exist\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[27,79] package [my package].monitoring.service.customer.device.message does not exist\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[28,79] package [my package].monitoring.service.customer.device.message does not exist\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[29,79] package [my package].monitoring.service.customer.device.message does not exist\n\n[INFO] 82 errors\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for device-manager 1.0.0:\n[INFO]\n[INFO] [parent_project] ..................................... SUCCESS [  0.018 s]\n[INFO] core ............................................... SUCCESS [ 19.815 s]\n[INFO] monitoring ......................................... SUCCESS [  9.860 s]\n[INFO] simulator ...................................... FAILURE [  9.909 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  01:27 min\n[INFO] Finished at: 2022-06-02T14:31:24+07:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project simulator: Compilation failure: Compilation failure: \n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[26,64] package [my package].monitoring.service.customer does not exist\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[27,79] package [my package].monitoring.service.customer.device.message does not exist\n\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[63,17] cannot find symbol\n[ERROR]   symbol:   variable super\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[66,9] method does not overri\nde or implement a method from a supertype\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[70,17] cannot find symbol   \n[ERROR]   symbol:   variable super\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[73,9] method does not overri\nde or implement a method from a supertype\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[79,22] cannot find symbol   \n[ERROR]   symbol:   variable WebsocketMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[87,22] cannot find symbol   \n[ERROR]   symbol:   variable WebsocketMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[93,41] cannot find symbol   \n[ERROR]   symbol:   variable logger\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[98,33] cannot find symbol   \n[ERROR]   symbol:   variable logger\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[103,25] cannot find symbol\n\n[ERROR]   symbol:   method getChannel()\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[207,25] cannot find symbol  \n[ERROR]   symbol:   variable logger\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[239,25] cannot find symbol  \n[ERROR]   symbol:   class DeviceMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[239,53] cannot find symbol  \n[ERROR]   symbol:   class DeviceMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[241,40] cannot find symbol\n[ERROR]   symbol:   variable DeviceMessageType\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[244,53] cannot find symbol  \n[ERROR]   symbol:   variable DeviceMessageResult\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[247,60] cannot find symbol  \n[ERROR]   symbol:   variable ResponseDeviceStatus\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[251,60] cannot find symbol  \n[ERROR]   symbol:   variable ResponseDeviceStatus\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[254,60] cannot find symbol\n[ERROR]   symbol:   variable ResponseDeviceStatus\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[257,60] cannot find symbol\n[ERROR]   symbol:   variable ResponseDeviceStatus\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[260,60] cannot find symbol\n[ERROR]   symbol:   variable ResponseDeviceStatus\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[263,60] cannot find symbol\n[ERROR]   symbol:   variable ResponseDeviceStatus\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[266,60] cannot find symbol\n[ERROR]   symbol:   variable ResponseDeviceStatus\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[278,38] cannot find symbol\n[ERROR]   symbol:   class WebsocketMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[278,55] cannot find symbol  \n[ERROR]   symbol:   variable WebsocketMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[279,41] cannot find symbol\n[ERROR]   symbol:   method getChannel()\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[285,25] cannot find symbol  \n[ERROR]   symbol:   variable logger\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[302,25] cannot find symbol  \n[ERROR]   symbol:   class DeviceMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[302,53] cannot find symbol  \n[ERROR]   symbol:   class DeviceMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[304,40] cannot find symbol  \n[ERROR]   symbol:   variable DeviceMessageType\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[308,53] cannot find symbol  \n[ERROR]   symbol:   variable DeviceMessageResult\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[315,38] cannot find symbol  \n[ERROR]   symbol:   class WebsocketMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[315,55] cannot find symbol  \n[ERROR]   symbol:   variable WebsocketMessage\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[316,41] cannot find symbol\n[ERROR]   symbol:   method getChannel()\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/SimulatorWebsocketManager.java:[322,25] cannot find symbol\n[ERROR]   symbol:   variable logger\n[ERROR]   location: class parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[144,22] cannot find symbol\n[ERROR]   symbol:   variable THROUGH\n[ERROR]   location: class parent_project.simulator.api.Simulator\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[147,22] cannot find symbol\n[ERROR]   symbol:   variable FAULTED\n[ERROR]   location: class parent_project.simulator.api.Simulator\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[150,22] cannot find symbol\n[ERROR]   symbol:   variable INITIALIZING\n[ERROR]   location: class parent_project.simulator.api.Simulator\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[153,22] cannot find symbol\n[ERROR]   symbol:   variable UPDATING\n[ERROR]   location: class parent_project.simulator.api.Simulator\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[156,22] cannot find symbol\n[ERROR]   symbol:   variable REBOOTING\n[ERROR]   location: class parent_project.simulator.api.Simulator\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[200,40] cannot find symbol\n[ERROR]   symbol:   method run()\n[ERROR]   location: variable manager of type parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/api/Simulator.java:[220,32] cannot find symbol\n[ERROR]   symbol:   method stop()\n[ERROR]   location: variable manager of type parent_project.simulator.api.SimulatorWebsocketManager\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/gui/MainGUI.java:[1412,41] cannot find symbol\n[ERROR]   symbol: class ResponseDeviceStatus\n[ERROR] [project path]/src/simulator/src/main/[my package]/simulator/gui/MainGUI.java:[1412,71] cannot find symbol\n[ERROR]   symbol: variable ResponseDeviceStatus\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project simulator: Compilat\nion failure\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1310)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :simulator\n</code></pre>\n<p>Could anyone know how to fix the issue?</p>\n<p>Environment information:</p>\n<ul>\n<li>Issue happen on both Apache Maven 3.6.3/3.8.4</li>\n<li>Java JDK 1.8.0_331</li>\n</ul>\n"},{"tags":["java","jmx","activemq-artemis"],"comments":[{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1683810141,"post_id":76225155,"comment_id":134425599,"body_markdown":"By JMS, I know how to send, just the delivery itself is sent via the JMX protocol","body":"By JMS, I know how to send, just the delivery itself is sent via the JMX protocol"},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1683811902,"post_id":76225155,"comment_id":134426039,"body_markdown":"I use JMX, since the whole system is built on it and I would like to send messages through JMX too","body":"I use JMX, since the whole system is built on it and I would like to send messages through JMX too"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1683812573,"post_id":76225155,"comment_id":134426238,"body_markdown":"What is this &quot;system&quot; and why is &quot;the whole&quot; thing built on JMX? Why not simply use a messaging protocol to send messages? It would be much simpler.","body":"What is this &quot;system&quot; and why is &quot;the whole&quot; thing built on JMX? Why not simply use a messaging protocol to send messages? It would be much simpler."},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1683812749,"post_id":76225155,"comment_id":134426284,"body_markdown":"It would be convenient, I do not argue. it&#39;s just that the requirements are just such that sending should be via jmx","body":"It would be convenient, I do not argue. it&#39;s just that the requirements are just such that sending should be via jmx"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1683814194,"post_id":76225155,"comment_id":134426733,"body_markdown":"Can you elaborate on why it is required that messages be sent via JMX vs. an actual messaging protocol?","body":"Can you elaborate on why it is required that messages be sent via JMX vs. an actual messaging protocol?"},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1683815231,"post_id":76225155,"comment_id":134427018,"body_markdown":"There the solution was such that both the proofreading and the sending worked according to the JMX protocol","body":"There the solution was such that both the proofreading and the sending worked according to the JMX protocol"},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1683817786,"post_id":76225155,"comment_id":134427689,"body_markdown":"It&#39;s just that the requirements for the project are such that sending a message must be via the JMX protocol.","body":"It&#39;s just that the requirements for the project are such that sending a message must be via the JMX protocol."},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1683819293,"post_id":76225155,"comment_id":134428132,"body_markdown":"most likely it is possible to send unusual values ​​via JMX, such as type=354, not 3 and 4","body":"most likely it is possible to send unusual values ​​via JMX, such as type=354, not 3 and 4"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683824900,"creation_date":1683824583,"answer_id":76230026,"question_id":76225155,"body_markdown":"The expiration or &quot;time-to-live&quot; for a message cannot be set via a header or a property so it&#39;s not possible to do this via the `sendMessage` JMX operation.\r\n\r\nIf you want to send a &quot;bytes&quot; message (i.e. one where the body of the message is a `byte[]`) then you need to set the &quot;type&quot; to `4` and encode the `byte[]` of the body as a Base64 `String`.\r\n\r\nTo be clear, JMX is for *management* not for *messaging*. Therefore, you should really send messages using a messaging protocol, not JMX. Although there is a management method to send a message, it&#39;s very basic and not meant for anything but the most basic use-cases (e.g. basic tests to see if the broker is working).","title":"How to send message with headers to ActiveMQ Artemis queue via JMX protocol?","body":"<p>The expiration or &quot;time-to-live&quot; for a message cannot be set via a header or a property so it's not possible to do this via the <code>sendMessage</code> JMX operation.</p>\n<p>If you want to send a &quot;bytes&quot; message (i.e. one where the body of the message is a <code>byte[]</code>) then you need to set the &quot;type&quot; to <code>4</code> and encode the <code>byte[]</code> of the body as a Base64 <code>String</code>.</p>\n<p>To be clear, JMX is for <em>management</em> not for <em>messaging</em>. Therefore, you should really send messages using a messaging protocol, not JMX. Although there is a management method to send a message, it's very basic and not meant for anything but the most basic use-cases (e.g. basic tests to see if the broker is working).</p>\n"}],"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683824900,"creation_date":1683790590,"question_id":76225155,"body_markdown":"I want to send a message to an ActiveMQ Artemis queue, but I don&#39;t understand how to pass headers there such as: message lifetime, message type and other headers, not properties\r\n\r\nHere is the code for using the method to send a message to the queue via the JMX protocol:\r\n\r\n\r\n```\r\n public static void sendMessage(QueueControl queueControl, JMXMessage jmxMessage, String user, String password) throws Exception {\r\n        boolean flag = false;\r\n        queueControl.sendMessage(jmxMessage.getJmxProperties(), Integer.parseInt(jmxMessage.getJmxHeaders().getJmxType()),jmxMessage.getJmxBody(),flag,user, password);\r\n    }\r\n```\r\n\r\nClass JMXMessage:\r\n\r\n```\r\npublic class JMXMessage implements Serializable {\r\n    private JMXHeaders jmxHeaders;\r\n    private Map&lt;String, String&gt; jmxProperties;\r\n    private String jmxBody;\r\n\r\n    public JMXMessage(JMXHeaders jmxHeaders,String jmxBody) {\r\n        this.jmxHeaders = jmxHeaders;\r\n        this.jmxBody = jmxBody;\r\n    }\r\n\r\n    public JMXHeaders getJmxHeaders() {\r\n        return jmxHeaders;\r\n    }\r\n\r\n    public void setJmxHeaders(JMXHeaders jmxHeaders) {\r\n        this.jmxHeaders = jmxHeaders;\r\n    }\r\n\r\n    public Map&lt;String, String&gt; getJmxProperties() {\r\n        return jmxProperties;\r\n    }\r\n\r\n    public void setJmxProperties(Map&lt;String, String&gt; jmxProperties) {\r\n        this.jmxProperties = jmxProperties;\r\n    }\r\n\r\n    public String getJmxBody() {\r\n        return jmxBody;\r\n    }\r\n\r\n    public void setJmxBody(String jmxBody) {\r\n        this.jmxBody = jmxBody;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Headers&quot; + &quot;\\n&quot; + &quot;{&quot; + &quot;\\n&quot; +\r\n                &quot;   MessageId=&quot; + jmxHeaders.getJmxMessageId() + &quot;;&quot; + &quot;\\n&quot; +\r\n                &quot;   Priority=&quot; + jmxHeaders.getJmxPriority() + &quot;;&quot; + &quot;\\n&quot; +\r\n                &quot;   Timestamp=&quot; + jmxHeaders.getJmxTimestamp() + &quot;;&quot; + &quot;\\n&quot; +\r\n                &quot;   Expires=&quot; + jmxHeaders.getJmxExpires() + &quot;;&quot; + &quot;\\n&quot; +\r\n                &quot;   Type=&quot; + jmxHeaders.getJmxType() + &quot;;&quot; + &quot;\\n&quot; +\r\n                &quot;   DeliveryMode=&quot; + jmxHeaders.getJmxDeliveryMode() + &quot;;&quot; + &quot;\\n&quot; +\r\n                &quot;   CorrelationId=&quot; + jmxHeaders.getJmxCorrelationId() + &quot;;&quot; + &quot;\\n&quot; +\r\n                &quot;   ReplyTo=&quot; + jmxHeaders.getJmxReplyTo() + &quot;;&quot; + &quot;\\n&quot; + &quot;}&quot; + &quot;\\n&quot; + &quot;\\n&quot; +\r\n                &quot;Properties&quot; + &quot;\\n&quot; + &quot;{&quot; + &quot;\\n&quot; +\r\n                &quot;   Properties=&quot; + jmxProperties + &quot;;&quot; + &quot;\\n&quot; + &quot;}&quot; + &quot;\\n&quot; + &quot;\\n&quot; +\r\n                &quot;Body&quot; + &quot;\\n&quot; + &quot;{&quot; + &quot;\\n&quot; +\r\n                    jmxBody + &quot;;&quot; + &quot;\\n&quot; + &quot;}&quot; + &quot;\\n&quot; + &quot;\\n&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nClass JMXHeaders:\r\n\r\n```\r\npublic class JMXHeaders implements Serializable {\r\n    private String jmxType;\r\n    private String jmxExpires;\r\n    private String jmxDeliveryMode;\r\n    private String jmxReplyTo;\r\n    private String jmxMessageId;\r\n    private String jmxTimestamp;\r\n    private String jmxCorrelationId;\r\n    private String jmxPriority;\r\n\r\n    public JMXHeaders(String jmxType, String jmxExpires, String jmxDeliveryMode, String jmxReplyTo, String jmxMessageId, String jmxTimestamp, String jmxCorrelationId, String jmxPriority) {\r\n        this.jmxType = jmxType;\r\n        this.jmxExpires = jmxExpires;\r\n        this.jmxDeliveryMode = jmxDeliveryMode;\r\n        this.jmxReplyTo = jmxReplyTo;\r\n        this.jmxMessageId = jmxMessageId;\r\n        this.jmxTimestamp = jmxTimestamp;\r\n        this.jmxCorrelationId = jmxCorrelationId;\r\n        this.jmxPriority = jmxPriority;\r\n    }\r\n\r\n    public JMXHeaders(String jmxType, String jmxExpires, String jmxDeliveryMode, String jmxReplyTo) {\r\n        this.jmxType = jmxType;\r\n        this.jmxExpires = jmxExpires;\r\n        this.jmxDeliveryMode = jmxDeliveryMode;\r\n        this.jmxReplyTo = jmxReplyTo;\r\n    }\r\n\r\n    public String getJmxExpires() {\r\n        return jmxExpires;\r\n    }\r\n\r\n    public void setJmxExpires(String jmxExpires) {\r\n        this.jmxExpires = jmxExpires;\r\n    }\r\n\r\n    public String getJmxMessageId() {\r\n        return jmxMessageId;\r\n    }\r\n\r\n    public void setJmxMessageId(String jmxMessageId) {\r\n        this.jmxMessageId = jmxMessageId;\r\n    }\r\n\r\n    public String getJmxTimestamp() {\r\n        return jmxTimestamp;\r\n    }\r\n\r\n    public void setJmxTimestamp(String jmxTimestamp) {\r\n        this.jmxTimestamp = jmxTimestamp;\r\n    }\r\n\r\n    public String getJmxCorrelationId() {\r\n        return jmxCorrelationId;\r\n    }\r\n\r\n    public void setJmxCorrelationId(String jmxCorrelationID) {\r\n        this.jmxCorrelationId = jmxCorrelationID;\r\n    }\r\n\r\n    public String getJmxPriority() {\r\n        return jmxPriority;\r\n    }\r\n\r\n    public void setJmxPriority(String jmxPriority) {\r\n        this.jmxPriority = jmxPriority;\r\n    }\r\n\r\n    public String getJmxType() {\r\n        return jmxType;\r\n    }\r\n\r\n    public void setJmxType(String jmxType) {\r\n        this.jmxType = jmxType;\r\n    }\r\n\r\n    public String getJmxDeliveryMode() {\r\n        return jmxDeliveryMode;\r\n    }\r\n\r\n    public void setJmxDeliveryMode(String jmxDeliveryMode) {\r\n        this.jmxDeliveryMode = jmxDeliveryMode;\r\n    }\r\n\r\n    public String getJmxReplyTo() {\r\n        return jmxReplyTo;\r\n    }\r\n\r\n    public void setJmxReplyTo(String jmxReplyTo) {\r\n        this.jmxReplyTo = jmxReplyTo;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;JMXHeaders{&quot; +\r\n                &quot;jmxType=&#39;&quot; + jmxType + &#39;\\&#39;&#39; +\r\n                &quot;, jmxExpires=&#39;&quot; + jmxExpires + &#39;\\&#39;&#39; +\r\n                &quot;, jmxDeliveryMode=&#39;&quot; + jmxDeliveryMode + &#39;\\&#39;&#39; +\r\n                &quot;, jmxReplyTo=&#39;&quot; + jmxReplyTo + &#39;\\&#39;&#39; +\r\n                &quot;, jmxMessageId=&#39;&quot; + jmxMessageId + &#39;\\&#39;&#39; +\r\n                &quot;, jmxTimestamp=&#39;&quot; + jmxTimestamp + &#39;\\&#39;&#39; +\r\n                &quot;, jmxCorrelationId=&#39;&quot; + jmxCorrelationId + &#39;\\&#39;&#39; +\r\n                &quot;, jmxPriority=&#39;&quot; + jmxPriority + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd here is the JMX library method for sending a message:\r\n\r\n\r\n```\r\nString sendMessage(@Parameter(name = &quot;headers&quot;,desc = &quot;The headers to add to the message&quot;) Map&lt;String, String&gt; var1, @Parameter(name = &quot;type&quot;,desc = &quot;A type for the message&quot;) int var2, @Parameter(name = &quot;body&quot;,desc = &quot;The body (byte[]) of the message encoded as a string using Base64&quot;) String var3, @Parameter(name = &quot;durable&quot;,desc = &quot;Whether the message is durable&quot;) boolean var4, @Parameter(name = &quot;user&quot;,desc = &quot;The user to authenticate with&quot;) String var5, @Parameter(name = &quot;password&quot;,desc = &quot;The users password to authenticate with&quot;) String var6) throws Exception;\r\n\r\n```\r\n\r\n\r\n\r\nSo I don’t understand how to send a message with a byte type and a message lifetime of 300 seconds, if there is no field for sending headers","title":"How to send message with headers to ActiveMQ Artemis queue via JMX protocol?","body":"<p>I want to send a message to an ActiveMQ Artemis queue, but I don't understand how to pass headers there such as: message lifetime, message type and other headers, not properties</p>\n<p>Here is the code for using the method to send a message to the queue via the JMX protocol:</p>\n<pre><code> public static void sendMessage(QueueControl queueControl, JMXMessage jmxMessage, String user, String password) throws Exception {\n        boolean flag = false;\n        queueControl.sendMessage(jmxMessage.getJmxProperties(), Integer.parseInt(jmxMessage.getJmxHeaders().getJmxType()),jmxMessage.getJmxBody(),flag,user, password);\n    }\n</code></pre>\n<p>Class JMXMessage:</p>\n<pre><code>public class JMXMessage implements Serializable {\n    private JMXHeaders jmxHeaders;\n    private Map&lt;String, String&gt; jmxProperties;\n    private String jmxBody;\n\n    public JMXMessage(JMXHeaders jmxHeaders,String jmxBody) {\n        this.jmxHeaders = jmxHeaders;\n        this.jmxBody = jmxBody;\n    }\n\n    public JMXHeaders getJmxHeaders() {\n        return jmxHeaders;\n    }\n\n    public void setJmxHeaders(JMXHeaders jmxHeaders) {\n        this.jmxHeaders = jmxHeaders;\n    }\n\n    public Map&lt;String, String&gt; getJmxProperties() {\n        return jmxProperties;\n    }\n\n    public void setJmxProperties(Map&lt;String, String&gt; jmxProperties) {\n        this.jmxProperties = jmxProperties;\n    }\n\n    public String getJmxBody() {\n        return jmxBody;\n    }\n\n    public void setJmxBody(String jmxBody) {\n        this.jmxBody = jmxBody;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Headers&quot; + &quot;\\n&quot; + &quot;{&quot; + &quot;\\n&quot; +\n                &quot;   MessageId=&quot; + jmxHeaders.getJmxMessageId() + &quot;;&quot; + &quot;\\n&quot; +\n                &quot;   Priority=&quot; + jmxHeaders.getJmxPriority() + &quot;;&quot; + &quot;\\n&quot; +\n                &quot;   Timestamp=&quot; + jmxHeaders.getJmxTimestamp() + &quot;;&quot; + &quot;\\n&quot; +\n                &quot;   Expires=&quot; + jmxHeaders.getJmxExpires() + &quot;;&quot; + &quot;\\n&quot; +\n                &quot;   Type=&quot; + jmxHeaders.getJmxType() + &quot;;&quot; + &quot;\\n&quot; +\n                &quot;   DeliveryMode=&quot; + jmxHeaders.getJmxDeliveryMode() + &quot;;&quot; + &quot;\\n&quot; +\n                &quot;   CorrelationId=&quot; + jmxHeaders.getJmxCorrelationId() + &quot;;&quot; + &quot;\\n&quot; +\n                &quot;   ReplyTo=&quot; + jmxHeaders.getJmxReplyTo() + &quot;;&quot; + &quot;\\n&quot; + &quot;}&quot; + &quot;\\n&quot; + &quot;\\n&quot; +\n                &quot;Properties&quot; + &quot;\\n&quot; + &quot;{&quot; + &quot;\\n&quot; +\n                &quot;   Properties=&quot; + jmxProperties + &quot;;&quot; + &quot;\\n&quot; + &quot;}&quot; + &quot;\\n&quot; + &quot;\\n&quot; +\n                &quot;Body&quot; + &quot;\\n&quot; + &quot;{&quot; + &quot;\\n&quot; +\n                    jmxBody + &quot;;&quot; + &quot;\\n&quot; + &quot;}&quot; + &quot;\\n&quot; + &quot;\\n&quot;;\n    }\n}\n\n</code></pre>\n<p>Class JMXHeaders:</p>\n<pre><code>public class JMXHeaders implements Serializable {\n    private String jmxType;\n    private String jmxExpires;\n    private String jmxDeliveryMode;\n    private String jmxReplyTo;\n    private String jmxMessageId;\n    private String jmxTimestamp;\n    private String jmxCorrelationId;\n    private String jmxPriority;\n\n    public JMXHeaders(String jmxType, String jmxExpires, String jmxDeliveryMode, String jmxReplyTo, String jmxMessageId, String jmxTimestamp, String jmxCorrelationId, String jmxPriority) {\n        this.jmxType = jmxType;\n        this.jmxExpires = jmxExpires;\n        this.jmxDeliveryMode = jmxDeliveryMode;\n        this.jmxReplyTo = jmxReplyTo;\n        this.jmxMessageId = jmxMessageId;\n        this.jmxTimestamp = jmxTimestamp;\n        this.jmxCorrelationId = jmxCorrelationId;\n        this.jmxPriority = jmxPriority;\n    }\n\n    public JMXHeaders(String jmxType, String jmxExpires, String jmxDeliveryMode, String jmxReplyTo) {\n        this.jmxType = jmxType;\n        this.jmxExpires = jmxExpires;\n        this.jmxDeliveryMode = jmxDeliveryMode;\n        this.jmxReplyTo = jmxReplyTo;\n    }\n\n    public String getJmxExpires() {\n        return jmxExpires;\n    }\n\n    public void setJmxExpires(String jmxExpires) {\n        this.jmxExpires = jmxExpires;\n    }\n\n    public String getJmxMessageId() {\n        return jmxMessageId;\n    }\n\n    public void setJmxMessageId(String jmxMessageId) {\n        this.jmxMessageId = jmxMessageId;\n    }\n\n    public String getJmxTimestamp() {\n        return jmxTimestamp;\n    }\n\n    public void setJmxTimestamp(String jmxTimestamp) {\n        this.jmxTimestamp = jmxTimestamp;\n    }\n\n    public String getJmxCorrelationId() {\n        return jmxCorrelationId;\n    }\n\n    public void setJmxCorrelationId(String jmxCorrelationID) {\n        this.jmxCorrelationId = jmxCorrelationID;\n    }\n\n    public String getJmxPriority() {\n        return jmxPriority;\n    }\n\n    public void setJmxPriority(String jmxPriority) {\n        this.jmxPriority = jmxPriority;\n    }\n\n    public String getJmxType() {\n        return jmxType;\n    }\n\n    public void setJmxType(String jmxType) {\n        this.jmxType = jmxType;\n    }\n\n    public String getJmxDeliveryMode() {\n        return jmxDeliveryMode;\n    }\n\n    public void setJmxDeliveryMode(String jmxDeliveryMode) {\n        this.jmxDeliveryMode = jmxDeliveryMode;\n    }\n\n    public String getJmxReplyTo() {\n        return jmxReplyTo;\n    }\n\n    public void setJmxReplyTo(String jmxReplyTo) {\n        this.jmxReplyTo = jmxReplyTo;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;JMXHeaders{&quot; +\n                &quot;jmxType='&quot; + jmxType + '\\'' +\n                &quot;, jmxExpires='&quot; + jmxExpires + '\\'' +\n                &quot;, jmxDeliveryMode='&quot; + jmxDeliveryMode + '\\'' +\n                &quot;, jmxReplyTo='&quot; + jmxReplyTo + '\\'' +\n                &quot;, jmxMessageId='&quot; + jmxMessageId + '\\'' +\n                &quot;, jmxTimestamp='&quot; + jmxTimestamp + '\\'' +\n                &quot;, jmxCorrelationId='&quot; + jmxCorrelationId + '\\'' +\n                &quot;, jmxPriority='&quot; + jmxPriority + '\\'' +\n                '}';\n    }\n\n}\n\n</code></pre>\n<p>And here is the JMX library method for sending a message:</p>\n<pre><code>String sendMessage(@Parameter(name = &quot;headers&quot;,desc = &quot;The headers to add to the message&quot;) Map&lt;String, String&gt; var1, @Parameter(name = &quot;type&quot;,desc = &quot;A type for the message&quot;) int var2, @Parameter(name = &quot;body&quot;,desc = &quot;The body (byte[]) of the message encoded as a string using Base64&quot;) String var3, @Parameter(name = &quot;durable&quot;,desc = &quot;Whether the message is durable&quot;) boolean var4, @Parameter(name = &quot;user&quot;,desc = &quot;The user to authenticate with&quot;) String var5, @Parameter(name = &quot;password&quot;,desc = &quot;The users password to authenticate with&quot;) String var6) throws Exception;\n\n</code></pre>\n<p>So I don’t understand how to send a message with a byte type and a message lifetime of 300 seconds, if there is no field for sending headers</p>\n"},{"tags":["java","macos","tomcat"],"comments":[{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":0,"creation_date":1683824078,"post_id":39386212,"comment_id":134429295,"body_markdown":"There is an updated tutorial from the same author which is really easy to follow: [Installing Tomcat on macOS 13 Ventura](https://wolfpaulus.com/tomcat/).","body":"There is an updated tutorial from the same author which is really easy to follow: <a href=\"https://wolfpaulus.com/tomcat/\" rel=\"nofollow noreferrer\">Installing Tomcat on macOS 13 Ventura</a>."}],"answers":[{"comments":[{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1520478642,"post_id":39386213,"comment_id":85334949,"body_markdown":"how about specific tomcat version? `brew install tomcat@8.5` does not work","body":"how about specific tomcat version? <code>brew install tomcat@8.5</code> does not work"},{"owner":{"account_id":2033195,"reputation":4872,"user_id":1816277,"display_name":"Blank"},"score":17,"creation_date":1520861920,"post_id":39386213,"comment_id":85476349,"body_markdown":"Try `brew install tomcat@8` -&gt; Installs version 8.5","body":"Try <code>brew install tomcat@8</code> -&gt; Installs version 8.5"},{"owner":{"account_id":5263,"reputation":9252,"user_id":8373,"accept_rate":62,"display_name":"mdahlman"},"score":0,"creation_date":1547245268,"post_id":39386213,"comment_id":95140573,"body_markdown":"`brew install tomcat@8` works great. But is there any equivalent of `tomcat-native@8`? I can find `tomcat-native` which works well with tomcat9, but I cannot find the same for tomcat8.","body":"<code>brew install tomcat@8</code> works great. But is there any equivalent of <code>tomcat-native@8</code>? I can find <code>tomcat-native</code> which works well with tomcat9, but I cannot find the same for tomcat8."},{"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"score":0,"creation_date":1568662553,"post_id":39386213,"comment_id":102337830,"body_markdown":"how can i find its path in my mac?","body":"how can i find its path in my mac?"},{"owner":{"account_id":2693923,"reputation":2602,"user_id":3958878,"accept_rate":40,"display_name":"Mehdi Golzadeh"},"score":0,"creation_date":1577485029,"post_id":39386213,"comment_id":105185664,"body_markdown":"Could you please tell me how to start the server?","body":"Could you please tell me how to start the server?"},{"owner":{"account_id":33887,"reputation":4322,"user_id":95242,"accept_rate":62,"display_name":"Michael Dausmann"},"score":0,"creation_date":1618971051,"post_id":39386213,"comment_id":118761521,"body_markdown":"@MehdiGolzadeh To have launchd start tomcat now and restart at login:\n  brew services start tomcat\nOr, if you don&#39;t want/need a background service you can just run:\n  catalina run","body":"@MehdiGolzadeh To have launchd start tomcat now and restart at login:   brew services start tomcat Or, if you don&#39;t want/need a background service you can just run:   catalina run"},{"owner":{"account_id":4185192,"reputation":661,"user_id":3429115,"display_name":"Rafs"},"score":0,"creation_date":1677689352,"post_id":39386213,"comment_id":133388758,"body_markdown":"@GvSharma `brew ls tomcat[@X]`","body":"@GvSharma <code>brew ls tomcat[@X]</code>"},{"owner":{"account_id":4185192,"reputation":661,"user_id":3429115,"display_name":"Rafs"},"score":0,"creation_date":1677689432,"post_id":39386213,"comment_id":133388780,"body_markdown":"How to completely uninstall? tried `brew uninstall` but `brew list` still shows `tomcat@9`..","body":"How to completely uninstall? tried <code>brew uninstall</code> but <code>brew list</code> still shows <code>tomcat@9</code>.."}],"tags":[],"owner":{"account_id":1584673,"reputation":17128,"user_id":2512672,"accept_rate":67,"display_name":"mllm"},"comment_count":8,"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1473323667,"creation_date":1473323667,"answer_id":39386213,"question_id":39386212,"body_markdown":"`brew install tomcat`\r\n\r\n(using [Homebrew](http://brew.sh/) of course)\r\n","title":"Install Tomcat on Mac OS X","body":"<p><code>brew install tomcat</code></p>\n\n<p>(using <a href=\"http://brew.sh/\" rel=\"noreferrer\">Homebrew</a> of course)</p>\n"},{"comments":[{"owner":{"account_id":5996,"reputation":1508,"user_id":9910,"accept_rate":43,"display_name":"KC Baltz"},"score":3,"creation_date":1531862463,"post_id":39386396,"comment_id":89752840,"body_markdown":"The configurations will be in the /usr/local/Cellar/&lt;Your-Tomcat-Folder&gt;/libexec folder","body":"The configurations will be in the /usr/local/Cellar/&lt;Your-Tomcat-Folder&gt;/libexec folder"},{"owner":{"account_id":4185192,"reputation":661,"user_id":3429115,"display_name":"Rafs"},"score":1,"creation_date":1677689403,"post_id":39386396,"comment_id":133388770,"body_markdown":"Now `Configuration files: $HOMEBREW_PREFIX/etc/tomcat`[src](https://formulae.brew.sh/formula/tomcat)","body":"Now <code>Configuration files: $HOMEBREW_PREFIX&#47;etc&#47;tomcat</code><a href=\"https://formulae.brew.sh/formula/tomcat\" rel=\"nofollow noreferrer\">src</a>"}],"tags":[],"owner":{"account_id":3685773,"reputation":819,"user_id":3069566,"accept_rate":85,"display_name":"Arty"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1683824745,"creation_date":1473324286,"answer_id":39386396,"question_id":39386212,"body_markdown":"You just use `brew install tomcat` as mentioned in the answer above.\r\n\r\nShould you want to edit configurations or add a web application to the Tomcat you downloaded in Homebrew, the files (a.k.a. &quot;*kegs*&quot; kept in the &quot;*Cellar*&quot;) will normally be in one of the following directories:\r\n\r\n- `/usr/local/Cellar/&lt;Your-Tomcat-Folder&gt;` (Intel based machines)\r\n- `/opt/homebrew/Cellar/&lt;Your-Tomcat-Folder&gt;` (Apple Silicon machines)\r\n\r\n(note: the specific Homebrew prefix is stored in the `$HOMEBREW_PREFIX`variable)\r\n\r\nShould you want to run Tomcat, you just use the `catalina run` or just do `catalina` and it will show you all the parameters you can use with Tomcat.\r\n\r\n---\r\nAlternatively using Homebrew, you could first install services with\r\n\r\n&gt; `brew tap homebrew/services`  \r\n\r\nthen start/stop/restart Tomcat with\r\n\r\n&gt; `brew services start tomcat`\r\n\r\nand so on.","title":"Install Tomcat on Mac OS X","body":"<p>You just use <code>brew install tomcat</code> as mentioned in the answer above.</p>\n<p>Should you want to edit configurations or add a web application to the Tomcat you downloaded in Homebrew, the files (a.k.a. &quot;<em>kegs</em>&quot; kept in the &quot;<em>Cellar</em>&quot;) will normally be in one of the following directories:</p>\n<ul>\n<li><code>/usr/local/Cellar/&lt;Your-Tomcat-Folder&gt;</code> (Intel based machines)</li>\n<li><code>/opt/homebrew/Cellar/&lt;Your-Tomcat-Folder&gt;</code> (Apple Silicon machines)</li>\n</ul>\n<p>(note: the specific Homebrew prefix is stored in the <code>$HOMEBREW_PREFIX</code>variable)</p>\n<p>Should you want to run Tomcat, you just use the <code>catalina run</code> or just do <code>catalina</code> and it will show you all the parameters you can use with Tomcat.</p>\n<hr />\n<p>Alternatively using Homebrew, you could first install services with</p>\n<blockquote>\n<p><code>brew tap homebrew/services</code></p>\n</blockquote>\n<p>then start/stop/restart Tomcat with</p>\n<blockquote>\n<p><code>brew services start tomcat</code></p>\n</blockquote>\n<p>and so on.</p>\n"},{"tags":[],"owner":{"account_id":9297011,"reputation":797,"user_id":6903610,"display_name":"Jay Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539858280,"creation_date":1539858280,"answer_id":52871953,"question_id":39386212,"body_markdown":"If you want simple **step by step installation process** and customized configuration,Click on below tutorial links:\r\n\r\n - For tomcat installation:\r\n\r\n[This Guide][1]\r\n\r\n - To Customize configuration:\r\n\r\n[Configuration][2]\r\n\r\n\r\n  [1]: http://professionalhacker.in/how-to-install-tomcat-on-mac/\r\n  [2]: http://professionalhacker.in/how-to-install-tomcat-8-windows/#configure","title":"Install Tomcat on Mac OS X","body":"<p>If you want simple <strong>step by step installation process</strong> and customized configuration,Click on below tutorial links:</p>\n\n<ul>\n<li>For tomcat installation:</li>\n</ul>\n\n<p><a href=\"http://professionalhacker.in/how-to-install-tomcat-on-mac/\" rel=\"nofollow noreferrer\">This Guide</a></p>\n\n<ul>\n<li>To Customize configuration:</li>\n</ul>\n\n<p><a href=\"http://professionalhacker.in/how-to-install-tomcat-8-windows/#configure\" rel=\"nofollow noreferrer\">Configuration</a></p>\n"}],"owner":{"account_id":1584673,"reputation":17128,"user_id":2512672,"accept_rate":67,"display_name":"mllm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68029,"favorite_count":0,"down_vote_count":6,"up_vote_count":43,"accepted_answer_id":39386213,"answer_count":3,"score":37,"last_activity_date":1683824745,"creation_date":1473323667,"question_id":39386212,"body_markdown":"How do you install [Tomcat](http://tomcat.apache.org/) on Mac OS X?\r\n\r\n[This guide](https://wolfpaulus.com/journal/mac/tomcat8/) looks quite complicated.","title":"Install Tomcat on Mac OS X","body":"<p>How do you install <a href=\"http://tomcat.apache.org/\" rel=\"noreferrer\">Tomcat</a> on Mac OS X?</p>\n\n<p><a href=\"https://wolfpaulus.com/journal/mac/tomcat8/\" rel=\"noreferrer\">This guide</a> looks quite complicated.</p>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1518848196,"post_id":48838503,"comment_id":84681382,"body_markdown":"You are using same instance variable for `TextView` each time this will override the last one .","body":"You are using same instance variable for <code>TextView</code> each time this will override the last one ."},{"owner":{"account_id":10865935,"reputation":1,"user_id":7989307,"display_name":"Smk Son"},"score":0,"creation_date":1518848295,"post_id":48838503,"comment_id":84681408,"body_markdown":"can u give me sample code","body":"can u give me sample code"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1518848329,"post_id":48838503,"comment_id":84681416,"body_markdown":"https://stackoverflow.com/questions/27989079/dynamically-creating-multiple-textviews-in-linearlayout","body":"<a href=\"https://stackoverflow.com/questions/27989079/dynamically-creating-multiple-textviews-in-linearlayout\" title=\"dynamically creating multiple textviews in linearlayout\">stackoverflow.com/questions/27989079/&hellip;</a>"},{"owner":{"account_id":10865935,"reputation":1,"user_id":7989307,"display_name":"Smk Son"},"score":0,"creation_date":1518849778,"post_id":48838503,"comment_id":84681724,"body_markdown":"Khein Htoo if i update text of previus text view is updating last generated textb view please help me","body":"Khein Htoo if i update text of previus text view is updating last generated textb view please help me"}],"answers":[{"comments":[{"owner":{"account_id":10865935,"reputation":1,"user_id":7989307,"display_name":"Smk Son"},"score":0,"creation_date":1518849836,"post_id":48838542,"comment_id":84681737,"body_markdown":"if i update text of previews text view is updating last generated text view please help me –","body":"if i update text of previews text view is updating last generated text view please help me –"},{"owner":{"account_id":10865935,"reputation":1,"user_id":7989307,"display_name":"Smk Son"},"score":0,"creation_date":1518850751,"post_id":48838542,"comment_id":84681911,"body_markdown":"Dear Sir How can Update Text of which Textview I get text","body":"Dear Sir How can Update Text of which Textview I get text"},{"owner":{"account_id":9939881,"reputation":81,"user_id":7356838,"display_name":"Johnathan Awma"},"score":0,"creation_date":1518869550,"post_id":48838542,"comment_id":84686305,"body_markdown":"argument(v) is the text view that you clicked, which means that you can cast it to text view and update it using setText().","body":"argument(v) is the text view that you clicked, which means that you can cast it to text view and update it using setText()."}],"tags":[],"owner":{"account_id":9939881,"reputation":81,"user_id":7356838,"display_name":"Johnathan Awma"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518859524,"creation_date":1518848354,"answer_id":48838542,"question_id":48838503,"body_markdown":"You should get the value from argument(view v) which is passed via onClick override function of onClickLisenter interface. And because you are using `StickerTextView` then:\r\n\r\n    @Override\r\n                    public void onClick(View v) {\r\n\r\n                        if (popupWindow !=null)\r\n                        {\r\n                            popupclose();\r\n                        }\r\n\r\n                        text = &quot;&quot;;\r\n\r\n                        text = ((StickerTextView)v).getText().toString();\r\n\r\n\r\n                            popupwindow(v);\r\n\r\n\r\n\r\n                    }","title":"i am developing meme create application . generating text view Programmatically.. i can&#39;t get text of previous generated text view","body":"<p>You should get the value from argument(view v) which is passed via onClick override function of onClickLisenter interface. And because you are using <code>StickerTextView</code> then:</p>\n\n<pre><code>@Override\n                public void onClick(View v) {\n\n                    if (popupWindow !=null)\n                    {\n                        popupclose();\n                    }\n\n                    text = \"\";\n\n                    text = ((StickerTextView)v).getText().toString();\n\n\n                        popupwindow(v);\n\n\n\n                }\n</code></pre>\n"}],"owner":{"account_id":10865935,"reputation":1,"user_id":7989307,"display_name":"Smk Son"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1683824477,"creation_date":1518848041,"question_id":48838503,"body_markdown":"I am developing meme create application and generating text view Programmatically. If i generate 2 text views programmatically always i can get text of last generated text view. I can&#39;t get text of previous generated text view. How can I get text of which I on click  text view .      \r\n\r\n// Create TextView programmatically.\r\n\r\n\r\n    textView = new StickerTextView(MainActivity.this);\r\n    textView.setText(edt.getText().toString());\r\n    textView.setTextSize(1000);\r\n    \r\n    textView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n    \r\n            if (popupWindow !=null)\r\n            {\r\n                popupclose();\r\n            }\r\n    \r\n            text = &quot;&quot;;\r\n    \r\n            text = textView.getText().toString();\r\n                popupwindow(v);\r\n        }\r\n    });\r\n    \r\n    public void popupwindow(View v) {\r\n    \r\n        FrameLayout fl = (FrameLayout) findViewById(R.id.canvasView);\r\n    \r\n        LayoutInflater layoutInflater = (LayoutInflater)getBaseContext().getSystemService(LAYOUT_INFLATER_SERVICE);\r\n        popupView = layoutInflater.inflate(R.layout.my_action2,null);\r\n    \r\n        popupWindow = new PopupWindow(popupView, RelativeLayout.LayoutParams.WRAP_CONTENT,RelativeLayout.LayoutParams.WRAP_CONTENT);\r\n        ImageButton btnClose = (ImageButton)popupView.findViewById(R.id.imageView_close);\r\n    \r\n        btnClose.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //popupWindow.dismiss();\r\n                popupclose();\r\n            }\r\n        });\r\n    \r\n        Button btntext = (Button)popupView.findViewById(R.id.btnone);\r\n    \r\n        btntext.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n    \r\n                showEditDialog1();\r\n    \r\n    \r\n            }\r\n        });\r\n    \r\n     public void showEditDialog1() {\r\n    \r\n            AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(this, R.style.MyDialogTheme);\r\n            LayoutInflater inflater = this.getLayoutInflater();\r\n            final View dialogView = inflater.inflate(R.layout.custom_dialog, null);\r\n            dialogBuilder.setView(dialogView);\r\n    \r\n            windowManager = (WindowManager) getSystemService(WINDOW_SERVICE);\r\n            edt1 = (EditText) dialogView.findViewById(R.id.edit1);\r\n            edt1.setText(text);\r\n    \r\n            dialogBuilder.setTitle(Html.fromHtml(&quot;&lt;font color=&#39;#FFFFFF&#39;&gt;EDIT TEXT &lt;/font&gt;&quot;));\r\n            //dialogBuilder.setMessage(&quot;Enter text below&quot;);\r\n            dialogBuilder.setPositiveButton(Html.fromHtml(&quot;&lt;font color=&#39;#FFFFFF&#39;&gt;Done&lt;/font&gt;&quot;), new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int whichButton) {\r\n    \r\n    \r\n            // Create TextView programmatically.\r\n            textView.setText(&quot;&quot;);\r\n            textView.setText(edt1.getText().toString());\r\n    \r\n            textView.setTextSize(1000);\r\n    \r\n    \r\n            textView.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View view) {\r\n    \r\n                    return false;\r\n                }\r\n            });\r\n            textView.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View v, MotionEvent me) {\r\n    \r\n                    if (me.getAction() == MotionEvent.ACTION_DOWN) {\r\n                        status = START_DRAGGING;\r\n                        final float x = me.getX();\r\n                        final float y = me.getY();\r\n                        lastXAxis = x;\r\n                        lastYAxis = y;\r\n                        v.setVisibility(View.INVISIBLE);\r\n                    } else if (me.getAction() == MotionEvent.ACTION_UP) {\r\n                        status = STOP_DRAGGING;\r\n                        flag = 0;\r\n                        v.setVisibility(View.VISIBLE);\r\n                    } else if (me.getAction() == MotionEvent.ACTION_MOVE) {\r\n                        if (status == START_DRAGGING) {\r\n                            flag = 1;\r\n                            v.setVisibility(View.VISIBLE);\r\n                            final float x = me.getX();\r\n                            final float y = me.getY();\r\n                            final float dx = x - lastXAxis;\r\n                            final float dy = y - lastYAxis;\r\n                            xAxis += dx;\r\n                            yAxis += dy;\r\n                            v.setX((int) xAxis);\r\n                            v.setY((int) yAxis);\r\n                            v.invalidate();\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n    \r\n            // Add TextView to LinearLayout\r\n            if (canvas != null &amp;&amp; textView == null) {\r\n                canvas.addView(textView);\r\n            }\r\n    \r\n            hidekeypad(MainActivity.this);\r\n        }\r\n    });","title":"i am developing meme create application . generating text view Programmatically.. i can&#39;t get text of previous generated text view","body":"<p>I am developing meme create application and generating text view Programmatically. If i generate 2 text views programmatically always i can get text of last generated text view. I can't get text of previous generated text view. How can I get text of which I on click  text view .      </p>\n\n<p>// Create TextView programmatically.</p>\n\n<pre><code>textView = new StickerTextView(MainActivity.this);\ntextView.setText(edt.getText().toString());\ntextView.setTextSize(1000);\n\ntextView.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n\n        if (popupWindow !=null)\n        {\n            popupclose();\n        }\n\n        text = \"\";\n\n        text = textView.getText().toString();\n            popupwindow(v);\n    }\n});\n\npublic void popupwindow(View v) {\n\n    FrameLayout fl = (FrameLayout) findViewById(R.id.canvasView);\n\n    LayoutInflater layoutInflater = (LayoutInflater)getBaseContext().getSystemService(LAYOUT_INFLATER_SERVICE);\n    popupView = layoutInflater.inflate(R.layout.my_action2,null);\n\n    popupWindow = new PopupWindow(popupView, RelativeLayout.LayoutParams.WRAP_CONTENT,RelativeLayout.LayoutParams.WRAP_CONTENT);\n    ImageButton btnClose = (ImageButton)popupView.findViewById(R.id.imageView_close);\n\n    btnClose.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            //popupWindow.dismiss();\n            popupclose();\n        }\n    });\n\n    Button btntext = (Button)popupView.findViewById(R.id.btnone);\n\n    btntext.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            showEditDialog1();\n\n\n        }\n    });\n\n public void showEditDialog1() {\n\n        AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(this, R.style.MyDialogTheme);\n        LayoutInflater inflater = this.getLayoutInflater();\n        final View dialogView = inflater.inflate(R.layout.custom_dialog, null);\n        dialogBuilder.setView(dialogView);\n\n        windowManager = (WindowManager) getSystemService(WINDOW_SERVICE);\n        edt1 = (EditText) dialogView.findViewById(R.id.edit1);\n        edt1.setText(text);\n\n        dialogBuilder.setTitle(Html.fromHtml(\"&lt;font color='#FFFFFF'&gt;EDIT TEXT &lt;/font&gt;\"));\n        //dialogBuilder.setMessage(\"Enter text below\");\n        dialogBuilder.setPositiveButton(Html.fromHtml(\"&lt;font color='#FFFFFF'&gt;Done&lt;/font&gt;\"), new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int whichButton) {\n\n\n        // Create TextView programmatically.\n        textView.setText(\"\");\n        textView.setText(edt1.getText().toString());\n\n        textView.setTextSize(1000);\n\n\n        textView.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View view) {\n\n                return false;\n            }\n        });\n        textView.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent me) {\n\n                if (me.getAction() == MotionEvent.ACTION_DOWN) {\n                    status = START_DRAGGING;\n                    final float x = me.getX();\n                    final float y = me.getY();\n                    lastXAxis = x;\n                    lastYAxis = y;\n                    v.setVisibility(View.INVISIBLE);\n                } else if (me.getAction() == MotionEvent.ACTION_UP) {\n                    status = STOP_DRAGGING;\n                    flag = 0;\n                    v.setVisibility(View.VISIBLE);\n                } else if (me.getAction() == MotionEvent.ACTION_MOVE) {\n                    if (status == START_DRAGGING) {\n                        flag = 1;\n                        v.setVisibility(View.VISIBLE);\n                        final float x = me.getX();\n                        final float y = me.getY();\n                        final float dx = x - lastXAxis;\n                        final float dy = y - lastYAxis;\n                        xAxis += dx;\n                        yAxis += dy;\n                        v.setX((int) xAxis);\n                        v.setY((int) yAxis);\n                        v.invalidate();\n                    }\n                }\n                return false;\n            }\n        });\n\n        // Add TextView to LinearLayout\n        if (canvas != null &amp;&amp; textView == null) {\n            canvas.addView(textView);\n        }\n\n        hidekeypad(MainActivity.this);\n    }\n});\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9784,"page":441,"page_size":100}
