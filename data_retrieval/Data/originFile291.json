{"items":[{"tags":["java","microservices","decorator","quarkus","redisclient"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1690265932,"post_id":76757199,"comment_id":135325171,"body_markdown":"The best would be to decorate the low level redis client. Did you try this?","body":"The best would be to decorate the low level redis client. Did you try this?"},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1690271562,"post_id":76757199,"comment_id":135326171,"body_markdown":"There must be a delegate, otherwise decorator makes no sense. The delegate here would be the Redis client that Quarkus provides, e.g. a `RedisDataSource`.","body":"There must be a delegate, otherwise decorator makes no sense. The delegate here would be the Redis client that Quarkus provides, e.g. a <code>RedisDataSource</code>."},{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1690310483,"post_id":76757199,"comment_id":135334798,"body_markdown":"Yes i tried to decorate the low level RediClient but the calls to the RedisClient don&#39;t trigger the decorator. Not sure if this is because the actual invocation to RedisClient happens through a proxy","body":"Yes i tried to decorate the low level RediClient but the calls to the RedisClient don&#39;t trigger the decorator. Not sure if this is because the actual invocation to RedisClient happens through a proxy"},{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1697468188,"post_id":76757199,"comment_id":136280436,"body_markdown":"So we are hsing the RedisDataSource and the corresponding HashComments, ValueCommands implementations to retrieve the data. These are slightly different from RedisClient which is injected directly in that you get them from the RedisDataSource so wondering how to inject a wrapper around them.","body":"So we are hsing the RedisDataSource and the corresponding HashComments, ValueCommands implementations to retrieve the data. These are slightly different from RedisClient which is injected directly in that you get them from the RedisDataSource so wondering how to inject a wrapper around them."}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690223798,"creation_date":1690223798,"question_id":76757199,"body_markdown":"Hi we are using RedisClient to access/update data in Redis from our microservices. What i would like to do is add a decorator around RedisClient calls to add additional information around this call. These calls are not in separate methods to add an interceptor so i am looking to add a decorator. Is it possible to add a decorator with no implementation class as delegate? I tried doing this but then the decorator code doesn&#39;t get triggered. Any idea if and how to achieve this?\r\n\r\nThank you in advance","title":"Quarkus Decorator for RedisClient","body":"<p>Hi we are using RedisClient to access/update data in Redis from our microservices. What i would like to do is add a decorator around RedisClient calls to add additional information around this call. These calls are not in separate methods to add an interceptor so i am looking to add a decorator. Is it possible to add a decorator with no implementation class as delegate? I tried doing this but then the decorator code doesn't get triggered. Any idea if and how to achieve this?</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","dropwizard","metrics"],"answers":[{"comments":[{"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"score":1,"creation_date":1512109062,"post_id":47587311,"comment_id":82132622,"body_markdown":"Thanks a lot. I looked at Maven central repo and found that both yammer &amp; codahale Metrics have notations like that: &quot;This artifact was moved to: New Group\tio.dropwizard.metrics&quot;.","body":"Thanks a lot. I looked at Maven central repo and found that both yammer &amp; codahale Metrics have notations like that: &quot;This artifact was moved to: New Group\tio.dropwizard.metrics&quot;."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1512107317,"creation_date":1512106977,"answer_id":47587311,"question_id":47587243,"body_markdown":"It&#39;s all the same, but Dropwizard Metrics is the current library name \r\n\r\n&gt; Coda Hale Yammer Inc. \r\n\r\nhttp://metrics.dropwizard.io\r\n\r\nAnother thing to look at is that the Maven dependencies for codahale metrics are latest in 2014 and Dropwizard are updated recently ","title":"Differences and relationship between yammer &amp; codahale &amp; dropwizard Metrics?","body":"<p>It's all the same, but Dropwizard Metrics is the current library name </p>\n\n<blockquote>\n  <p>Coda Hale Yammer Inc. </p>\n</blockquote>\n\n<p><a href=\"http://metrics.dropwizard.io\" rel=\"nofollow noreferrer\">http://metrics.dropwizard.io</a></p>\n\n<p>Another thing to look at is that the Maven dependencies for codahale metrics are latest in 2014 and Dropwizard are updated recently </p>\n"},{"tags":[],"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690223705,"creation_date":1690223705,"answer_id":76757192,"question_id":47587243,"body_markdown":"From Ryan Kennedy, formerly a Director of Engineering @ Yammer, [posted on the `dropwizard-user` group](https://groups.google.com/g/dropwizard-user/c/1usH7frpnZE/m/RSQUsOBFMsoJ):\r\n&gt; Long story short…metrics and dropwizard both started as Coda&#39;s personal projects. At some point they were important enough to the functioning of Yammer that we moved them to com.yammer. Eventually we reached a point where community participation was high enough that it made more sense to re-brand as io.dropwizard and put together a community of committers and maintainers. That brings us to where the projects are at today. I suspect package changing is now a thing of the past now that both projects are squarely in the hands of the community.\r\n\r\nGoing forward, I expect the Maven group name to stay as [`io.dropwizard.metrics`](https://mvnrepository.com/artifact/io.dropwizard.metrics), the source code to live at [Github: dropwizard/metrics](https://github.com/dropwizard/metrics), and the Java package names to stay under `com.codahale.metrics`.","title":"Differences and relationship between yammer &amp; codahale &amp; dropwizard Metrics?","body":"<p>From Ryan Kennedy, formerly a Director of Engineering @ Yammer, <a href=\"https://groups.google.com/g/dropwizard-user/c/1usH7frpnZE/m/RSQUsOBFMsoJ\" rel=\"nofollow noreferrer\">posted on the <code>dropwizard-user</code> group</a>:</p>\n<blockquote>\n<p>Long story short…metrics and dropwizard both started as Coda's personal projects. At some point they were important enough to the functioning of Yammer that we moved them to com.yammer. Eventually we reached a point where community participation was high enough that it made more sense to re-brand as io.dropwizard and put together a community of committers and maintainers. That brings us to where the projects are at today. I suspect package changing is now a thing of the past now that both projects are squarely in the hands of the community.</p>\n</blockquote>\n<p>Going forward, I expect the Maven group name to stay as <a href=\"https://mvnrepository.com/artifact/io.dropwizard.metrics\" rel=\"nofollow noreferrer\"><code>io.dropwizard.metrics</code></a>, the source code to live at <a href=\"https://github.com/dropwizard/metrics\" rel=\"nofollow noreferrer\">Github: dropwizard/metrics</a>, and the Java package names to stay under <code>com.codahale.metrics</code>.</p>\n"}],"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":47587311,"answer_count":2,"score":3,"last_activity_date":1690223705,"creation_date":1512106598,"question_id":47587243,"body_markdown":"Metrics can measure some useful fields, but what&#39;s the differences and relations? ","title":"Differences and relationship between yammer &amp; codahale &amp; dropwizard Metrics?","body":"<p>Metrics can measure some useful fields, but what's the differences and relations? </p>\n"},{"tags":["java","spring-boot","performance","jmeter","performance-testing"],"answers":[{"comments":[{"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"score":0,"creation_date":1690260483,"post_id":76757187,"comment_id":135324598,"body_markdown":"Can you please explain if the number of threads has any relation with the TPS here because if the TPS is going to remain constant, how does it depend on the number of threads.","body":"Can you please explain if the number of threads has any relation with the TPS here because if the TPS is going to remain constant, how does it depend on the number of threads."},{"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"score":1,"creation_date":1690260755,"post_id":76757187,"comment_id":135324614,"body_markdown":"TPS is a number of &quot;Transactions per second&quot; and it mainly depends on the number of users and your application response time. If you have 1 user and 1 second response time the TPS will be 1. 2 users and 1 second response time - TPS will be 2, 2 users and 2 seconds response time - TPS will be 1, 2 users and 0.5 seconds response time - TPS will be 4, etc. see [How do I Correlate the Number of (Concurrent) Users with Hits Per Second](https://guide.blazemeter.com/hc/en-us/articles/207420695-How-do-I-Correlate-the-Number-of-Concurrent-Users-with-Hits-Per-Second) for more information.","body":"TPS is a number of &quot;Transactions per second&quot; and it mainly depends on the number of users and your application response time. If you have 1 user and 1 second response time the TPS will be 1. 2 users and 1 second response time - TPS will be 2, 2 users and 2 seconds response time - TPS will be 1, 2 users and 0.5 seconds response time - TPS will be 4, etc. see <a href=\"https://guide.blazemeter.com/hc/en-us/articles/207420695-How-do-I-Correlate-the-Number-of-Concurrent-Users-with-Hits-Per-Second\" rel=\"nofollow noreferrer\">How do I Correlate the Number of (Concurrent) Users with Hits Per Second</a> for more information."},{"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"score":0,"creation_date":1690260908,"post_id":76757187,"comment_id":135324626,"body_markdown":"That&#39;s absolutely correct. But here the Constant Throughout Timer seems to disregard the number of threads or any other condition, and keep the thoroughput constant, can you please explain how that&#39;s happening?","body":"That&#39;s absolutely correct. But here the Constant Throughout Timer seems to disregard the number of threads or any other condition, and keep the thoroughput constant, can you please explain how that&#39;s happening?"},{"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"score":1,"creation_date":1690261692,"post_id":76757187,"comment_id":135324695,"body_markdown":"By default any JMeter thread (virtual user) will execute Samplers as fast ast it can. When Constant Throughput Timer is being executed it checks the current throughput and if it&#39;s too high it introduces a delay to slow down JMeter virtual user in order to reach and maintain the target throughput. It doesn&#39;t work into another direction, i.e. it cannot make JMeter requests execution faster. See [How to Use JMeter&#39;s Constant Throughput Timer](https://www.blazemeter.com/blog/jmeter-throughput) article for more details.","body":"By default any JMeter thread (virtual user) will execute Samplers as fast ast it can. When Constant Throughput Timer is being executed it checks the current throughput and if it&#39;s too high it introduces a delay to slow down JMeter virtual user in order to reach and maintain the target throughput. It doesn&#39;t work into another direction, i.e. it cannot make JMeter requests execution faster. See <a href=\"https://www.blazemeter.com/blog/jmeter-throughput\" rel=\"nofollow noreferrer\">How to Use JMeter&#39;s Constant Throughput Timer</a> article for more details."}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690223676,"creation_date":1690223676,"answer_id":76757187,"question_id":76757091,"body_markdown":"The options are in:\r\n\r\n 1. [Constant Throughput Timer][1] however it&#39;s precise enough on &quot;minute&quot; level so during first minute of your test you may get higher TPS \r\n 2. [Precise Throughput Timer][2] which is very &quot;precise&quot; but you need to specify throughput period duration, test duration, think about [pool of free threads][3]\r\n 3. [Throughput Shaping Timer][4] which provides easy visual way of configuring the TPS and it can also be integrated with [Concurrency Thread Group][5] so JMeter would be able to kick off extra threads if current amount is not sufficient for conducting the required load.    \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#Constant_Throughput_Timer\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#Precise_Throughput_Timer\r\n  [3]: https://en.wikipedia.org/wiki/Thread_pool\r\n  [4]: https://www.blazemeter.com/blog/jmeters-shaping-timer-plugin\r\n  [5]: https://jmeter-plugins.org/wiki/ConcurrencyThreadGroup/","title":"How to fix TPS in jemeter irrespective of threads","body":"<p>The options are in:</p>\n<ol>\n<li><a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Constant_Throughput_Timer\" rel=\"nofollow noreferrer\">Constant Throughput Timer</a> however it's precise enough on &quot;minute&quot; level so during first minute of your test you may get higher TPS</li>\n<li><a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Precise_Throughput_Timer\" rel=\"nofollow noreferrer\">Precise Throughput Timer</a> which is very &quot;precise&quot; but you need to specify throughput period duration, test duration, think about <a href=\"https://en.wikipedia.org/wiki/Thread_pool\" rel=\"nofollow noreferrer\">pool of free threads</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeters-shaping-timer-plugin\" rel=\"nofollow noreferrer\">Throughput Shaping Timer</a> which provides easy visual way of configuring the TPS and it can also be integrated with <a href=\"https://jmeter-plugins.org/wiki/ConcurrencyThreadGroup/\" rel=\"nofollow noreferrer\">Concurrency Thread Group</a> so JMeter would be able to kick off extra threads if current amount is not sufficient for conducting the required load.</li>\n</ol>\n"}],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76757187,"answer_count":1,"score":0,"last_activity_date":1690223676,"creation_date":1690222804,"question_id":76757091,"body_markdown":"I am running tests in Jmeter, where a thread group is having 5 APIs. Now, the sum of hits for all the APIs is required to be fixed irrespective of the number of threads. For example, no matter what is the number of threads, I need to keep the TPS as 200. How can that be achieved ?","title":"How to fix TPS in jemeter irrespective of threads","body":"<p>I am running tests in Jmeter, where a thread group is having 5 APIs. Now, the sum of hits for all the APIs is required to be fixed irrespective of the number of threads. For example, no matter what is the number of threads, I need to keep the TPS as 200. How can that be achieved ?</p>\n"},{"tags":["java","android-linearlayout"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690279524,"post_id":76757178,"comment_id":135327933,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690223615,"creation_date":1690223615,"question_id":76757178,"body_markdown":"So i have tried to place the imageview to the left with gravity but this doesn&#39;t work also i have tried to put it to the left with weight but that also did not work. \r\n\r\nI want to place the profile picture all the way to the left and the username right next to the profile picture.\r\n\r\nBut with adding gravity=&quot;START&quot; to the profile picture the problem was not solved \r\n\r\nHere is my code.\r\n\r\n\r\n```\r\nprivate void retrieveImages() {\r\n        final long MAX_SIZE = 5 * 1014 * 1024;\r\n\r\n        // Create the horizontal LinearLayout to hold the profile picture and username\r\n        LinearLayout linearLayout1 = new LinearLayout(getApplicationContext());\r\n        linearLayout1.setOrientation(LinearLayout.HORIZONTAL);\r\n\r\n        // Create the vertical LinearLayout to hold the post image and description\r\n        LinearLayout linearLayout2 = new LinearLayout(getApplicationContext());\r\n        linearLayout2.setOrientation(LinearLayout.VERTICAL);\r\n\r\n        // Define parent container\r\n        GridLayout parentLayout = findViewById(R.id.GlPosts);\r\n\r\n        //Adding everything to layouts\r\n        imagesRef.listAll().addOnSuccessListener(new OnSuccessListener&lt;ListResult&gt;() {\r\n            @Override\r\n            public void onSuccess(ListResult listResult) {\r\n                for (StorageReference item : listResult.getItems()) {\r\n                    String name = item.getName();\r\n\r\n                    //Getting profile picture and adding to\r\n                    myRef.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            String email = snapshot.child(name).child(&quot;Email&quot;).getValue(String.class);\r\n                            String storageEmail = email.replace(&quot;;&quot;, &quot;.&quot;);\r\n                            StorageReference profileRef = storage.getReference().child(&quot;profiles&quot;).child(storageEmail);\r\n                            profileRef.getBytes(MAX_SIZE).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\r\n                                @Override\r\n                                public void onSuccess(byte[] bytes) {\r\n                                    ImageView profilePicture = new ImageView(getApplicationContext());\r\n                                    Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n                                    profilePicture.setImageBitmap(bitmap);\r\n\r\n                                    LinearLayout.LayoutParams profileParams = new LinearLayout.LayoutParams(200, 200);\r\n                                    profileParams.gravity = Gravity.START;\r\n                                    profilePicture.setLayoutParams(profileParams);\r\n\r\n                                    // Adding the profile picture to the same horizontal LinearLayout\r\n                                    linearLayout1.addView(profilePicture);\r\n                                }\r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Failed to load image&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n                            Toast.makeText(getApplicationContext(), &quot;Failed to get username&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n                    //Adding post image to linear layout\r\n                    item.getBytes(MAX_SIZE).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\r\n                        @Override\r\n                        public void onSuccess(byte[] bytes) {\r\n                            ImageView image = new ImageView(getApplicationContext());\r\n\r\n                            Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n                            image.setImageBitmap(bitmap);\r\n                            linearLayout2.addView(image);\r\n\r\n                            //Adding post description to linear layout\r\n                            myRef.addValueEventListener(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                    String description = snapshot.child(name).child(&quot;Description&quot;).getValue(String.class);\r\n\r\n                                    TextView Description = new TextView(getApplicationContext());\r\n                                    Description.setTextColor(Color.WHITE);\r\n                                    Description.setText(description);\r\n                                    Description.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n                                    linearLayout2.addView(Description);\r\n                                }\r\n\r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError error) {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Failed to get description&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(getApplicationContext(), &quot;Failed to load image&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n                    //Adding username to linear layout\r\n                    myRef.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            String email = snapshot.child(name).child(&quot;Email&quot;).getValue(String.class);\r\n                            String username = snapshot.child(&quot;profiles&quot;).child(email).child(&quot;Username&quot;).getValue(String.class);\r\n\r\n                            TextView usernameDisplay = new TextView(getApplicationContext());\r\n                            usernameDisplay.setText(username);\r\n                            usernameDisplay.setTextSize(20);\r\n                            usernameDisplay.setTextColor(Color.WHITE);\r\n                            usernameDisplay.setGravity(Gravity.START);\r\n\r\n                            // Adding the username to the same horizontal LinearLayout\r\n                            linearLayout1.addView(usernameDisplay);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n                            Toast.makeText(getApplicationContext(), &quot;Failed to get username&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n                    // Add the two LinearLayouts to the parent GridLayout\r\n                    GridLayout.LayoutParams layoutParams1 = new GridLayout.LayoutParams();\r\n                    layoutParams1.rowSpec = GridLayout.spec(0);\r\n                    layoutParams1.columnSpec = GridLayout.spec(0);\r\n                    parentLayout.addView(linearLayout1, layoutParams1);\r\n\r\n                    GridLayout.LayoutParams layoutParams2 = new GridLayout.LayoutParams();\r\n                    layoutParams2.rowSpec = GridLayout.spec(1);\r\n                    layoutParams2.columnSpec = GridLayout.spec(0);\r\n                    parentLayout.addView(linearLayout2, layoutParams2);\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Failed to list items&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\nand XML\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:id=&quot;@+id/ScrollView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/TvTitle&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/logo&quot;\r\n                android:text=&quot;@string/app_name&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;55dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.109&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvCalender&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.809&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n                app:srcCompat=&quot;@drawable/calendar&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvNotes&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.91&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n                app:srcCompat=&quot;@drawable/notes&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvAddPost&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.939&quot;\r\n                app:srcCompat=&quot;@drawable/plus&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvHome&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/IvAddPost&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.302&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\r\n                app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n                app:srcCompat=&quot;@drawable/home&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvProfile&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.69&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/IvAddPost&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.939&quot;\r\n                app:srcCompat=&quot;@drawable/user&quot; /&gt;\r\n\r\n            &lt;GridLayout\r\n                android:id=&quot;@+id/GlPosts&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_margin=&quot;20dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/TvTitle&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.173&quot; /&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n","title":"Problem with placing of views inside a linear layout","body":"<p>So i have tried to place the imageview to the left with gravity but this doesn't work also i have tried to put it to the left with weight but that also did not work.</p>\n<p>I want to place the profile picture all the way to the left and the username right next to the profile picture.</p>\n<p>But with adding gravity=&quot;START&quot; to the profile picture the problem was not solved</p>\n<p>Here is my code.</p>\n<pre><code>private void retrieveImages() {\n        final long MAX_SIZE = 5 * 1014 * 1024;\n\n        // Create the horizontal LinearLayout to hold the profile picture and username\n        LinearLayout linearLayout1 = new LinearLayout(getApplicationContext());\n        linearLayout1.setOrientation(LinearLayout.HORIZONTAL);\n\n        // Create the vertical LinearLayout to hold the post image and description\n        LinearLayout linearLayout2 = new LinearLayout(getApplicationContext());\n        linearLayout2.setOrientation(LinearLayout.VERTICAL);\n\n        // Define parent container\n        GridLayout parentLayout = findViewById(R.id.GlPosts);\n\n        //Adding everything to layouts\n        imagesRef.listAll().addOnSuccessListener(new OnSuccessListener&lt;ListResult&gt;() {\n            @Override\n            public void onSuccess(ListResult listResult) {\n                for (StorageReference item : listResult.getItems()) {\n                    String name = item.getName();\n\n                    //Getting profile picture and adding to\n                    myRef.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n                            String email = snapshot.child(name).child(&quot;Email&quot;).getValue(String.class);\n                            String storageEmail = email.replace(&quot;;&quot;, &quot;.&quot;);\n                            StorageReference profileRef = storage.getReference().child(&quot;profiles&quot;).child(storageEmail);\n                            profileRef.getBytes(MAX_SIZE).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\n                                @Override\n                                public void onSuccess(byte[] bytes) {\n                                    ImageView profilePicture = new ImageView(getApplicationContext());\n                                    Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n                                    profilePicture.setImageBitmap(bitmap);\n\n                                    LinearLayout.LayoutParams profileParams = new LinearLayout.LayoutParams(200, 200);\n                                    profileParams.gravity = Gravity.START;\n                                    profilePicture.setLayoutParams(profileParams);\n\n                                    // Adding the profile picture to the same horizontal LinearLayout\n                                    linearLayout1.addView(profilePicture);\n                                }\n                            }).addOnFailureListener(new OnFailureListener() {\n                                @Override\n                                public void onFailure(@NonNull Exception e) {\n                                    Toast.makeText(getApplicationContext(), &quot;Failed to load image&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n                            Toast.makeText(getApplicationContext(), &quot;Failed to get username&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n                    //Adding post image to linear layout\n                    item.getBytes(MAX_SIZE).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\n                        @Override\n                        public void onSuccess(byte[] bytes) {\n                            ImageView image = new ImageView(getApplicationContext());\n\n                            Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n                            image.setImageBitmap(bitmap);\n                            linearLayout2.addView(image);\n\n                            //Adding post description to linear layout\n                            myRef.addValueEventListener(new ValueEventListener() {\n                                @Override\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                                    String description = snapshot.child(name).child(&quot;Description&quot;).getValue(String.class);\n\n                                    TextView Description = new TextView(getApplicationContext());\n                                    Description.setTextColor(Color.WHITE);\n                                    Description.setText(description);\n                                    Description.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n                                    linearLayout2.addView(Description);\n                                }\n\n                                @Override\n                                public void onCancelled(@NonNull DatabaseError error) {\n                                    Toast.makeText(getApplicationContext(), &quot;Failed to get description&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                        }\n                    }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(getApplicationContext(), &quot;Failed to load image&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n                    //Adding username to linear layout\n                    myRef.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n                            String email = snapshot.child(name).child(&quot;Email&quot;).getValue(String.class);\n                            String username = snapshot.child(&quot;profiles&quot;).child(email).child(&quot;Username&quot;).getValue(String.class);\n\n                            TextView usernameDisplay = new TextView(getApplicationContext());\n                            usernameDisplay.setText(username);\n                            usernameDisplay.setTextSize(20);\n                            usernameDisplay.setTextColor(Color.WHITE);\n                            usernameDisplay.setGravity(Gravity.START);\n\n                            // Adding the username to the same horizontal LinearLayout\n                            linearLayout1.addView(usernameDisplay);\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n                            Toast.makeText(getApplicationContext(), &quot;Failed to get username&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n                    // Add the two LinearLayouts to the parent GridLayout\n                    GridLayout.LayoutParams layoutParams1 = new GridLayout.LayoutParams();\n                    layoutParams1.rowSpec = GridLayout.spec(0);\n                    layoutParams1.columnSpec = GridLayout.spec(0);\n                    parentLayout.addView(linearLayout1, layoutParams1);\n\n                    GridLayout.LayoutParams layoutParams2 = new GridLayout.LayoutParams();\n                    layoutParams2.rowSpec = GridLayout.spec(1);\n                    layoutParams2.columnSpec = GridLayout.spec(0);\n                    parentLayout.addView(linearLayout2, layoutParams2);\n                }\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(getApplicationContext(), &quot;Failed to list items&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n<p>and XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/ScrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@color/black&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/TvTitle&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/logo&quot;\n                android:text=&quot;@string/app_name&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;55dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.109&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvCalender&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.809&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot;\n                app:srcCompat=&quot;@drawable/calendar&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvNotes&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.91&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot;\n                app:srcCompat=&quot;@drawable/notes&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvAddPost&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:layout_marginBottom=&quot;16dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\n                app:layout_constraintVertical_bias=&quot;0.939&quot;\n                app:srcCompat=&quot;@drawable/plus&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvHome&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:layout_marginBottom=&quot;16dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/IvAddPost&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.302&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\n                app:layout_constraintVertical_bias=&quot;1.0&quot;\n                app:srcCompat=&quot;@drawable/home&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvProfile&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_marginBottom=&quot;16dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.69&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/IvAddPost&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\n                app:layout_constraintVertical_bias=&quot;0.939&quot;\n                app:srcCompat=&quot;@drawable/user&quot; /&gt;\n\n            &lt;GridLayout\n                android:id=&quot;@+id/GlPosts&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;vertical&quot;\n                android:layout_margin=&quot;20dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/TvTitle&quot;\n                app:layout_constraintVertical_bias=&quot;0.173&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690222828,"creation_date":1690209660,"answer_id":76755557,"question_id":76754916,"body_markdown":"Ok, after commenting the code inside the oauth2Login() it works, changed to this: but this method is deprecated.\r\n\r\n    httpSecurity\r\n                    .oauth2Login(/*oAuthConfig -&gt;\r\n                            oAuthConfig\r\n                                    .clientRegistrationRepository(clientRegistrationRepository())\r\n                                    .authorizedClientService(authorizedClientService())\r\n                                    .authorizationEndpoint(\r\n                                            authEndPoint -&gt;\r\n                                                    authEndPoint\r\n                                                            .baseUri(&quot;/oauth2/authorization/azure&quot;)\r\n                                                            .authorizationRequestRepository(\r\n                                                                    authorizationRequestRepository))\r\n                                    .redirectionEndpoint(\r\n                                            redirectionEndpointConfig -&gt;\r\n                                                    redirectionEndpointConfig.baseUri(\r\n                                                            &quot;/login/oauth2/code/&quot;))\r\n                                    .userInfoEndpoint(\r\n                                            userInfoEndpointConfig -&gt;\r\n                                                    userInfoEndpointConfig.oidcUserService(\r\n                                                            oAuth2UserService))\r\n                                    .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                                    .failureHandler(oAuth2AuthenticationFailureHandler)*/ )\r\n                    .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                    .failureHandler(oAuth2AuthenticationFailureHandler);\r\n\r\n**Update:**\r\n\r\nInstead of that, we can do this, as the authorization uri and redirection endpoint uri is already configured, no need to add again, changing this to below code works fine:\r\n\r\n    httpSecurity.oauth2Login(\r\n                    oAuthConfig -&gt;\r\n                            oAuthConfig\r\n                                    .clientRegistrationRepository(clientRegistrationRepository())\r\n                                    .authorizedClientService(authorizedClientService())\r\n                                    .authorizationEndpoint(\r\n                                            authEndPoint -&gt;\r\n                                                    authEndPoint.authorizationRequestRepository(\r\n                                                            authorizationRequestRepository))\r\n                                    .userInfoEndpoint(\r\n                                            userInfoEndpointConfig -&gt;\r\n                                                    userInfoEndpointConfig.oidcUserService(\r\n                                                            oAuth2UserService))\r\n                                    .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                                    .failureHandler(oAuth2AuthenticationFailureHandler));","title":"Spring Boot OAuth2 Client Authentication/Authorization endpoint returns 404","body":"<p>Ok, after commenting the code inside the oauth2Login() it works, changed to this: but this method is deprecated.</p>\n<pre><code>httpSecurity\n                .oauth2Login(/*oAuthConfig -&gt;\n                        oAuthConfig\n                                .clientRegistrationRepository(clientRegistrationRepository())\n                                .authorizedClientService(authorizedClientService())\n                                .authorizationEndpoint(\n                                        authEndPoint -&gt;\n                                                authEndPoint\n                                                        .baseUri(&quot;/oauth2/authorization/azure&quot;)\n                                                        .authorizationRequestRepository(\n                                                                authorizationRequestRepository))\n                                .redirectionEndpoint(\n                                        redirectionEndpointConfig -&gt;\n                                                redirectionEndpointConfig.baseUri(\n                                                        &quot;/login/oauth2/code/&quot;))\n                                .userInfoEndpoint(\n                                        userInfoEndpointConfig -&gt;\n                                                userInfoEndpointConfig.oidcUserService(\n                                                        oAuth2UserService))\n                                .successHandler(oAuth2AuthenticationSuccessHandler)\n                                .failureHandler(oAuth2AuthenticationFailureHandler)*/ )\n                .successHandler(oAuth2AuthenticationSuccessHandler)\n                .failureHandler(oAuth2AuthenticationFailureHandler);\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>Instead of that, we can do this, as the authorization uri and redirection endpoint uri is already configured, no need to add again, changing this to below code works fine:</p>\n<pre><code>httpSecurity.oauth2Login(\n                oAuthConfig -&gt;\n                        oAuthConfig\n                                .clientRegistrationRepository(clientRegistrationRepository())\n                                .authorizedClientService(authorizedClientService())\n                                .authorizationEndpoint(\n                                        authEndPoint -&gt;\n                                                authEndPoint.authorizationRequestRepository(\n                                                        authorizationRequestRepository))\n                                .userInfoEndpoint(\n                                        userInfoEndpointConfig -&gt;\n                                                userInfoEndpointConfig.oidcUserService(\n                                                        oAuth2UserService))\n                                .successHandler(oAuth2AuthenticationSuccessHandler)\n                                .failureHandler(oAuth2AuthenticationFailureHandler));\n</code></pre>\n"}],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76755557,"answer_count":1,"score":-1,"last_activity_date":1690222828,"creation_date":1690204768,"question_id":76754916,"body_markdown":"I&#39;m trying to use Spring Boot OAuth2 (spring-boot-starter-oauth2-client) and Azure Active Directory (azure-spring-boot-starter-active-directory) for authentication/authorization. But the following security config doesn&#39;t work. My backend is running on port 8080 and my frontend is a React web app running on port 3000. From the UI, I&#39;m providing a href to [http://localhost:8080/oauth2/authorization/azure][1], but it returns 404 with White label error page. I have configured all the details properly via application.properties. Is there anything wrong in my security config? Can you please help me what&#39;s wrong in the config?\r\n\r\n**AADOAuth2WebSecurityConfig.java**\r\n\r\n    import com.app.security.JwtAuthenticationFilter;\r\n    import com.app.security.RestAuthenticationEntryPoint;\r\n    import com.app.security.oauth2.HttpCookieOAuth2AuthorizationRequestRepository;\r\n    import com.app.security.oauth2.OAuth2AuthenticationFailureHandler;\r\n    import com.app.security.oauth2.OAuth2AuthenticationSuccessHandler;\r\n    import com.app.service.auth.OAuth2UserService;\r\n    \r\n    import lombok.NonNull;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Lazy;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.BeanIds;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.oauth2.client.registration.ClientRegistration;\r\n    import org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\r\n    import org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository;\r\n    import org.springframework.security.oauth2.core.AuthorizationGrantType;\r\n    import org.springframework.security.oauth2.core.ClientAuthenticationMethod;\r\n    import org.springframework.security.oauth2.core.oidc.IdTokenClaimNames;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.CorsConfigurationSource;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\r\n    @EnableJpaRepositories(basePackages = &quot;com.app.repository&quot;)\r\n    public class AADOAuth2WebSecurityConfig {\r\n    \r\n        private final OAuth2UserService oAuth2UserService;\r\n        \r\n        private final RestAuthenticationEntryPoint restAuthenticationEntryPoint;\r\n       \r\n        private final OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\r\n        \r\n        private final OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\r\n        \r\n        private final HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository;\r\n    \r\n        @Value(&quot;${azure.activedirectory.tenant-id}&quot;)\r\n        private String tenantId;\r\n    \r\n        @Value(&quot;${azure.activedirectory.client-id}&quot;)\r\n        private String clientId;\r\n    \r\n        @Value(&quot;${azure.activedirectory.client-secret}&quot;)\r\n        private String clientSecret;\r\n    \r\n        @Value(&quot;${azure.activedirectory.redirect-uri-template}&quot;)\r\n        private String redirectUri;\r\n    \r\n        @Value(&quot;${azure.activedirectory.authorization-clients.azure.scopes}&quot;)\r\n        private String scope;\r\n    \r\n        @Value(&quot;${oauth.login.uri}&quot;)\r\n        private String loginUri;\r\n    \r\n        @Value(&quot;${oauth.authorization-uri}&quot;)\r\n        private String authUri;\r\n    \r\n        @Value(&quot;${oauth.token-uri}&quot;)\r\n        private String tokenUri;\r\n    \r\n        @Value(&quot;${oauth.jwk-set-uri}&quot;)\r\n        private String jwkSetUri;\r\n    \r\n        @Lazy\r\n        @Autowired\r\n        public AADOAuth2WebSecurityConfig(\r\n                OAuth2UserService oAuth2UserService,\r\n                RestAuthenticationEntryPoint restAuthenticationEntryPoint,\r\n                OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler,\r\n                OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler,\r\n                HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository) {\r\n            this.oAuth2UserService = oAuth2UserService;\r\n            this.restAuthenticationEntryPoint = restAuthenticationEntryPoint;\r\n            this.oAuth2AuthenticationSuccessHandler = oAuth2AuthenticationSuccessHandler;\r\n            this.oAuth2AuthenticationFailureHandler = oAuth2AuthenticationFailureHandler;\r\n            this.authorizationRequestRepository = authorizationRequestRepository;\r\n        }\r\n        \r\n        @Bean\r\n        public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n            return new JwtAuthenticationFilter();\r\n        }\r\n    \r\n        @Bean\r\n        public HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository() {\r\n            return new HttpCookieOAuth2AuthorizationRequestRepository();\r\n        }\r\n    \r\n        @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n        public AuthenticationManager authenticationManager(\r\n                @NonNull AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public ClientRegistrationRepository clientRegistrationRepository() {\r\n            return new InMemoryClientRegistrationRepository(\r\n                    ClientRegistration.withRegistrationId(&quot;azure&quot;)\r\n                            .clientId(clientId)\r\n                            .clientSecret(clientSecret)\r\n                            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n                            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n                            .redirectUri(redirectUri)\r\n                            .scope(scope)\r\n                            .authorizationUri(loginUri + tenantId + authUri)\r\n                            .tokenUri(loginUri + tenantId + tokenUri)\r\n                            .userNameAttributeName(IdTokenClaimNames.SUB)\r\n                            .jwkSetUri(loginUri + tenantId + jwkSetUri)\r\n                            .clientName(&quot;Azure&quot;)\r\n                            .build());\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(@NonNull HttpSecurity httpSecurity) throws Exception {\r\n            // the HSTS header is only injected into HTTPS responses, works via HTTPS after first\r\n            // request\r\n            httpSecurity.headers(\r\n                    header -&gt;\r\n                            header.httpStrictTransportSecurity(\r\n                                    transportSecurity -&gt;\r\n                                            transportSecurity\r\n                                                    .includeSubDomains(true)\r\n                                                    .maxAgeInSeconds(31536000))); // 1 year\r\n            httpSecurity.cors(corsConfig -&gt; corsConfig.configurationSource(corsConfigurationSource()));\r\n            // disable csrf\r\n            httpSecurity.csrf(AbstractHttpConfigurer::disable);\r\n            // exception handling starting from authentication entry point\r\n            httpSecurity.exceptionHandling(\r\n                    exHandler -&gt; exHandler.authenticationEntryPoint(restAuthenticationEntryPoint));\r\n            // stateless as JWT is being used\r\n            httpSecurity.sessionManagement(\r\n                    sessionConfig -&gt;\r\n                            sessionConfig.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n            // allow access to assets without permission\r\n            httpSecurity.authorizeHttpRequests(\r\n                    authReqConfig -&gt;\r\n                            authReqConfig\r\n                                    // allow public urls\r\n                                    .requestMatchers(\r\n                                            new AntPathRequestMatcher(&quot;/oauth2/**&quot;, &quot;/api/v1/auth/**&quot;))\r\n                                    .permitAll()\r\n                                    // allow public url\r\n                                    .requestMatchers(new AntPathRequestMatcher(&quot;/api/v1/user/logout&quot;))\r\n                                    .permitAll()\r\n                                    .anyRequest()\r\n                                    .authenticated());\r\n            // as oauth2 is used add its authorization endpoint, redirection endpoint and user info\r\n            // endpoint\r\n            httpSecurity.oauth2Login(\r\n                    oAuthConfig -&gt;\r\n                            oAuthConfig\r\n                                    .clientRegistrationRepository(clientRegistrationRepository())\r\n                                    .authorizationEndpoint(\r\n                                            authEndPoint -&gt;\r\n                                                    authEndPoint\r\n                                                            .baseUri(&quot;/oauth2/authorization/azure&quot;)\r\n                                                            .authorizationRequestRepository(\r\n                                                                    authorizationRequestRepository))\r\n                                    .redirectionEndpoint(\r\n                                            redirectionEndpointConfig -&gt;\r\n                                                    redirectionEndpointConfig.baseUri(\r\n                                                            &quot;/login/oauth2/code/&quot;))\r\n                                    .userInfoEndpoint(\r\n                                            userInfoEndpointConfig -&gt;\r\n                                                    userInfoEndpointConfig.oidcUserService(\r\n                                                            oAuth2UserService))\r\n                                    .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                                    .failureHandler(oAuth2AuthenticationFailureHandler));\r\n            // add JWT authentication filter before username and password authentication filter\r\n            httpSecurity.addFilterBefore(\r\n                    jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n            return httpSecurity.build();\r\n        }\r\n    \r\n        /**\r\n         * Set cors configuration\r\n         *\r\n         * @return {@link CorsConfigurationSource}\r\n         */\r\n        @Bean\r\n        public CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n            configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n            // configuration.setAllowCredentials(true);\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/api/**&quot;, configuration);\r\n            return source;\r\n        }\r\n    }\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.app&lt;/groupId&gt;\r\n        &lt;artifactId&gt;license-analytics-server&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;license-analytics-server&lt;/name&gt;\r\n        &lt;description&gt;license-analytics-server&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;spring-cloud-azure.version&gt;5.3.0&lt;/spring-cloud-azure.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n                &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;24.0.1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.26.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;\r\n                &lt;version&gt;3.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-security-keyvault-secrets&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n  [1]: http://localhost:8080/oauth2/authorization/azure","title":"Spring Boot OAuth2 Client Authentication/Authorization endpoint returns 404","body":"<p>I'm trying to use Spring Boot OAuth2 (spring-boot-starter-oauth2-client) and Azure Active Directory (azure-spring-boot-starter-active-directory) for authentication/authorization. But the following security config doesn't work. My backend is running on port 8080 and my frontend is a React web app running on port 3000. From the UI, I'm providing a href to <a href=\"http://localhost:8080/oauth2/authorization/azure\" rel=\"nofollow noreferrer\">http://localhost:8080/oauth2/authorization/azure</a>, but it returns 404 with White label error page. I have configured all the details properly via application.properties. Is there anything wrong in my security config? Can you please help me what's wrong in the config?</p>\n<p><strong>AADOAuth2WebSecurityConfig.java</strong></p>\n<pre><code>import com.app.security.JwtAuthenticationFilter;\nimport com.app.security.RestAuthenticationEntryPoint;\nimport com.app.security.oauth2.HttpCookieOAuth2AuthorizationRequestRepository;\nimport com.app.security.oauth2.OAuth2AuthenticationFailureHandler;\nimport com.app.security.oauth2.OAuth2AuthenticationSuccessHandler;\nimport com.app.service.auth.OAuth2UserService;\n\nimport lombok.NonNull;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository;\nimport org.springframework.security.oauth2.core.AuthorizationGrantType;\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\nimport org.springframework.security.oauth2.core.oidc.IdTokenClaimNames;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport java.util.Collections;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\n@EnableJpaRepositories(basePackages = &quot;com.app.repository&quot;)\npublic class AADOAuth2WebSecurityConfig {\n\n    private final OAuth2UserService oAuth2UserService;\n    \n    private final RestAuthenticationEntryPoint restAuthenticationEntryPoint;\n   \n    private final OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\n    \n    private final OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\n    \n    private final HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository;\n\n    @Value(&quot;${azure.activedirectory.tenant-id}&quot;)\n    private String tenantId;\n\n    @Value(&quot;${azure.activedirectory.client-id}&quot;)\n    private String clientId;\n\n    @Value(&quot;${azure.activedirectory.client-secret}&quot;)\n    private String clientSecret;\n\n    @Value(&quot;${azure.activedirectory.redirect-uri-template}&quot;)\n    private String redirectUri;\n\n    @Value(&quot;${azure.activedirectory.authorization-clients.azure.scopes}&quot;)\n    private String scope;\n\n    @Value(&quot;${oauth.login.uri}&quot;)\n    private String loginUri;\n\n    @Value(&quot;${oauth.authorization-uri}&quot;)\n    private String authUri;\n\n    @Value(&quot;${oauth.token-uri}&quot;)\n    private String tokenUri;\n\n    @Value(&quot;${oauth.jwk-set-uri}&quot;)\n    private String jwkSetUri;\n\n    @Lazy\n    @Autowired\n    public AADOAuth2WebSecurityConfig(\n            OAuth2UserService oAuth2UserService,\n            RestAuthenticationEntryPoint restAuthenticationEntryPoint,\n            OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler,\n            OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler,\n            HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository) {\n        this.oAuth2UserService = oAuth2UserService;\n        this.restAuthenticationEntryPoint = restAuthenticationEntryPoint;\n        this.oAuth2AuthenticationSuccessHandler = oAuth2AuthenticationSuccessHandler;\n        this.oAuth2AuthenticationFailureHandler = oAuth2AuthenticationFailureHandler;\n        this.authorizationRequestRepository = authorizationRequestRepository;\n    }\n    \n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    public HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository() {\n        return new HttpCookieOAuth2AuthorizationRequestRepository();\n    }\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    public AuthenticationManager authenticationManager(\n            @NonNull AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public ClientRegistrationRepository clientRegistrationRepository() {\n        return new InMemoryClientRegistrationRepository(\n                ClientRegistration.withRegistrationId(&quot;azure&quot;)\n                        .clientId(clientId)\n                        .clientSecret(clientSecret)\n                        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                        .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                        .redirectUri(redirectUri)\n                        .scope(scope)\n                        .authorizationUri(loginUri + tenantId + authUri)\n                        .tokenUri(loginUri + tenantId + tokenUri)\n                        .userNameAttributeName(IdTokenClaimNames.SUB)\n                        .jwkSetUri(loginUri + tenantId + jwkSetUri)\n                        .clientName(&quot;Azure&quot;)\n                        .build());\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(@NonNull HttpSecurity httpSecurity) throws Exception {\n        // the HSTS header is only injected into HTTPS responses, works via HTTPS after first\n        // request\n        httpSecurity.headers(\n                header -&gt;\n                        header.httpStrictTransportSecurity(\n                                transportSecurity -&gt;\n                                        transportSecurity\n                                                .includeSubDomains(true)\n                                                .maxAgeInSeconds(31536000))); // 1 year\n        httpSecurity.cors(corsConfig -&gt; corsConfig.configurationSource(corsConfigurationSource()));\n        // disable csrf\n        httpSecurity.csrf(AbstractHttpConfigurer::disable);\n        // exception handling starting from authentication entry point\n        httpSecurity.exceptionHandling(\n                exHandler -&gt; exHandler.authenticationEntryPoint(restAuthenticationEntryPoint));\n        // stateless as JWT is being used\n        httpSecurity.sessionManagement(\n                sessionConfig -&gt;\n                        sessionConfig.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        // allow access to assets without permission\n        httpSecurity.authorizeHttpRequests(\n                authReqConfig -&gt;\n                        authReqConfig\n                                // allow public urls\n                                .requestMatchers(\n                                        new AntPathRequestMatcher(&quot;/oauth2/**&quot;, &quot;/api/v1/auth/**&quot;))\n                                .permitAll()\n                                // allow public url\n                                .requestMatchers(new AntPathRequestMatcher(&quot;/api/v1/user/logout&quot;))\n                                .permitAll()\n                                .anyRequest()\n                                .authenticated());\n        // as oauth2 is used add its authorization endpoint, redirection endpoint and user info\n        // endpoint\n        httpSecurity.oauth2Login(\n                oAuthConfig -&gt;\n                        oAuthConfig\n                                .clientRegistrationRepository(clientRegistrationRepository())\n                                .authorizationEndpoint(\n                                        authEndPoint -&gt;\n                                                authEndPoint\n                                                        .baseUri(&quot;/oauth2/authorization/azure&quot;)\n                                                        .authorizationRequestRepository(\n                                                                authorizationRequestRepository))\n                                .redirectionEndpoint(\n                                        redirectionEndpointConfig -&gt;\n                                                redirectionEndpointConfig.baseUri(\n                                                        &quot;/login/oauth2/code/&quot;))\n                                .userInfoEndpoint(\n                                        userInfoEndpointConfig -&gt;\n                                                userInfoEndpointConfig.oidcUserService(\n                                                        oAuth2UserService))\n                                .successHandler(oAuth2AuthenticationSuccessHandler)\n                                .failureHandler(oAuth2AuthenticationFailureHandler));\n        // add JWT authentication filter before username and password authentication filter\n        httpSecurity.addFilterBefore(\n                jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n\n    /**\n     * Set cors configuration\n     *\n     * @return {@link CorsConfigurationSource}\n     */\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n        configuration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n        // configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/api/**&quot;, configuration);\n        return source;\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\n    &lt;artifactId&gt;license-analytics-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;license-analytics-server&lt;/name&gt;\n    &lt;description&gt;license-analytics-server&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud-azure.version&gt;5.3.0&lt;/spring-cloud-azure.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;24.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n            &lt;version&gt;1.26.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;\n            &lt;version&gt;3.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-security-keyvault-secrets&lt;/artifactId&gt;\n            &lt;version&gt;4.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n            &lt;version&gt;1.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1690222726,"post_id":76757051,"comment_id":135320384,"body_markdown":"Maven downloads them in globally shared `repository` in `~/.m2` (the maven home directory). So if you have build other projects with maven before junit probably will be there without the need to download it. It will not download nor copy things (unless explicitly configured to do so) to the `target` directory.","body":"Maven downloads them in globally shared <code>repository</code> in <code>~&#47;.m2</code> (the maven home directory). So if you have build other projects with maven before junit probably will be there without the need to download it. It will not download nor copy things (unless explicitly configured to do so) to the <code>target</code> directory."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1690299165,"post_id":76757051,"comment_id":135332454,"body_markdown":"If you need to download something manually you are doing something wrong... If you need for example junit you have to define a dependency with scope: test... Maven will download it automatically etc. and no the jar&#39;s will not being put into `target` directory. The target directory only contains your own code which is being compiled from `src/main/java` and `src/test/java` etc.","body":"If you need to download something manually you are doing something wrong... If you need for example junit you have to define a dependency with scope: test... Maven will download it automatically etc. and no the jar&#39;s will not being put into <code>target</code> directory. The target directory only contains your own code which is being compiled from <code>src&#47;main&#47;java</code> and <code>src&#47;test&#47;java</code> etc."}],"answers":[{"comments":[{"owner":{"account_id":18798375,"reputation":704,"user_id":13709317,"display_name":"First User"},"score":0,"creation_date":1690223083,"post_id":76757089,"comment_id":135320445,"body_markdown":"Thanks that definitely makes a lot of sense. So if I need to provide the classpath i&#39;ll just add `&quot;~/.m2/repository/*&quot;` to the `-cp` when compiling with `javac` or running with `java`? Is that whats normally done?","body":"Thanks that definitely makes a lot of sense. So if I need to provide the classpath i&#39;ll just add <code>&quot;~&#47;.m2&#47;repository&#47;*&quot;</code> to the <code>-cp</code> when compiling with <code>javac</code> or running with <code>java</code>? Is that whats normally done?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690223154,"post_id":76757089,"comment_id":135320454,"body_markdown":"When running with `java` no, include only those jars you (or better use maven to run it), to run `javac` no you have maven and you don&#39;t need to call `javac`.","body":"When running with <code>java</code> no, include only those jars you (or better use maven to run it), to run <code>javac</code> no you have maven and you don&#39;t need to call <code>javac</code>."}],"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690222764,"creation_date":1690222764,"answer_id":76757089,"question_id":76757051,"body_markdown":"Maven downloads and keeps the dependencies in the local Maven repository that can be found in `~/.m2/repository`. This is done so that builds can share the dependencies, and so that they don&#39;t get lost if you run `mvn clean`.","title":"Maven building successfully without actually downloading dependencies?","body":"<p>Maven downloads and keeps the dependencies in the local Maven repository that can be found in <code>~/.m2/repository</code>. This is done so that builds can share the dependencies, and so that they don't get lost if you run <code>mvn clean</code>.</p>\n"}],"owner":{"account_id":18798375,"reputation":704,"user_id":13709317,"display_name":"First User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76757089,"answer_count":1,"score":0,"last_activity_date":1690222764,"creation_date":1690222298,"question_id":76757051,"body_markdown":"I am a beginner to Maven and using build tools like it in general. I am running Maven `mvn` in the terminal to understand how it works better. I found [this FFT library](https://github.com/tambapps/fourier-transform-library), git-cloned it, found a pom.xml inside it and ran\r\n\r\n```\r\nmvn package\r\n```\r\n\r\nThe build completed and a `target/` directory was created with the JAR file for the library inside. However, I inspected the POM file and found that there were  dependencies for `junit`, which are needed for running tests written in `src/test/` but there were no JAR files created in target/ for junit (and I needed to download them separately from MVN repository and place them in target/). So my question is how does Maven actually build the JAR file without also pulling the JAR file(s) for junit? My current understanding is that it parses the POM file and goes through each dependency and downloads and installs them if they isn&#39;t present (like Make i guess?). ","title":"Maven building successfully without actually downloading dependencies?","body":"<p>I am a beginner to Maven and using build tools like it in general. I am running Maven <code>mvn</code> in the terminal to understand how it works better. I found <a href=\"https://github.com/tambapps/fourier-transform-library\" rel=\"nofollow noreferrer\">this FFT library</a>, git-cloned it, found a pom.xml inside it and ran</p>\n<pre><code>mvn package\n</code></pre>\n<p>The build completed and a <code>target/</code> directory was created with the JAR file for the library inside. However, I inspected the POM file and found that there were  dependencies for <code>junit</code>, which are needed for running tests written in <code>src/test/</code> but there were no JAR files created in target/ for junit (and I needed to download them separately from MVN repository and place them in target/). So my question is how does Maven actually build the JAR file without also pulling the JAR file(s) for junit? My current understanding is that it parses the POM file and goes through each dependency and downloads and installs them if they isn't present (like Make i guess?).</p>\n"},{"tags":["java","eclipse","swt","spinner"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1690222761,"post_id":76756476,"comment_id":135320388,"body_markdown":"Note using `setBounds` is not recommended, you should always use Layouts such as `GridLayout` - but that probably isn&#39;t going to make a difference here.","body":"Note using <code>setBounds</code> is not recommended, you should always use Layouts such as <code>GridLayout</code> - but that probably isn&#39;t going to make a difference here."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1690302333,"post_id":76756476,"comment_id":135333201,"body_markdown":"Probably due the switch to GTK 4, Spinner is just using the native GTK spinner - https://docs.gtk.org/gtk4/class.SpinButton.html","body":"Probably due the switch to GTK 4, Spinner is just using the native GTK spinner - <a href=\"https://docs.gtk.org/gtk4/class.SpinButton.html\" rel=\"nofollow noreferrer\">docs.gtk.org/gtk4/class.SpinButton.html</a>"},{"owner":{"account_id":24984748,"reputation":1,"user_id":18846674,"display_name":"DanC"},"score":0,"creation_date":1690475413,"post_id":76756476,"comment_id":135362446,"body_markdown":"Yes, thanks Greg, the culprit is almost certainly GTK-4. The Eclipse Nebula project has some alternatives which I&#39;ll have a look at, I suspect I&#39;ll end up writing my own version with configurable button positions etc. I&#39;m using an absolute layout so I can put things exactly where I want them. Inelegant I know but I&#39;m a simple soul....","body":"Yes, thanks Greg, the culprit is almost certainly GTK-4. The Eclipse Nebula project has some alternatives which I&#39;ll have a look at, I suspect I&#39;ll end up writing my own version with configurable button positions etc. I&#39;m using an absolute layout so I can put things exactly where I want them. Inelegant I know but I&#39;m a simple soul...."}],"owner":{"account_id":24984748,"reputation":1,"user_id":18846674,"display_name":"DanC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690222674,"creation_date":1690216585,"question_id":76756476,"body_markdown":"I have a Java application which is based on a scrolled composite form. It is implemented on the Eclipse IDE. Each spinner is declared in the same way, an example being:\r\n   ```java\r\n     Spinner spCh1;\r\n     spCh1 = new Spinner(this, SWT.BORDER);\r\n\t\tspCh1.addSelectionListener(new SelectionAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void widgetSelected(SelectionEvent arg0) {\r\n\t\t\t\t//code handling spinner value in here\r\n\t\t\t}\r\n\t\t});\r\n\t\tspCh1.setToolTipText(&quot;Select character position&quot;);\r\n\t\tspCh1.setMaximum(20);\r\n\t\tspCh1.setSelection(1);\r\n\t\tspCh1.setBounds(610, 237, 70, 22);\r\n\t\tspCh1.setFont(SWTResourceManager.getFont(&quot;Arial&quot;, 8, SWT.NORMAL));\r\n\r\n````\r\nI&#39;m running Eclipse:\r\nVersion: 2020-12 (4.18.0)\r\nBuild id: 20201210-1552 Eclipse 2020-21 on Peppermint 10 Linux.\r\n\r\nThis application worked fine on previous versions of Eclipse (Neon) and Older Linux Peppermint (3), where the spinner(s) had the Up and down arrows,  but now it has +and - buttons arranged horizontally and has a much bigger footprint which the form hasn&#39;t enough real-estate to accommodate the several spinner it requires.\r\n\r\nI&#39;ve tried changing fonts, adjusting the bounds lowering the &#39;Text Limit&#39; but all to no avail. There only seem to be 3 options on Style *Border*, *Wrap* and *Read Only*. I&#39;ve tried changing each of these to no avail. The widget is imported into the java class with:\r\n```java\r\nimport org.eclipse.swt.widgets.Spinner;\r\n```\r\nThe Java build path includes:\r\n```none\r\n&lt;storagefolder&gt;/eclipse-installer/plugins      /org.eclipse.swt.gtk.linux.x86_64_3.115.100.v20201202-1103.jar\r\n```","title":"I have an Eclipse SWT Spinner widget format problem","body":"<p>I have a Java application which is based on a scrolled composite form. It is implemented on the Eclipse IDE. Each spinner is declared in the same way, an example being:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  Spinner spCh1;\n  spCh1 = new Spinner(this, SWT.BORDER);\n     spCh1.addSelectionListener(new SelectionAdapter() {\n         @Override\n         public void widgetSelected(SelectionEvent arg0) {\n             //code handling spinner value in here\n         }\n     });\n     spCh1.setToolTipText(&quot;Select character position&quot;);\n     spCh1.setMaximum(20);\n     spCh1.setSelection(1);\n     spCh1.setBounds(610, 237, 70, 22);\n     spCh1.setFont(SWTResourceManager.getFont(&quot;Arial&quot;, 8, SWT.NORMAL));\n\n</code></pre>\n<p>I'm running Eclipse:\nVersion: 2020-12 (4.18.0)\nBuild id: 20201210-1552 Eclipse 2020-21 on Peppermint 10 Linux.</p>\n<p>This application worked fine on previous versions of Eclipse (Neon) and Older Linux Peppermint (3), where the spinner(s) had the Up and down arrows,  but now it has +and - buttons arranged horizontally and has a much bigger footprint which the form hasn't enough real-estate to accommodate the several spinner it requires.</p>\n<p>I've tried changing fonts, adjusting the bounds lowering the 'Text Limit' but all to no avail. There only seem to be 3 options on Style <em>Border</em>, <em>Wrap</em> and <em>Read Only</em>. I've tried changing each of these to no avail. The widget is imported into the java class with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.swt.widgets.Spinner;\n</code></pre>\n<p>The Java build path includes:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;storagefolder&gt;/eclipse-installer/plugins      /org.eclipse.swt.gtk.linux.x86_64_3.115.100.v20201202-1103.jar\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","completable-future","lazy-initialization"],"answers":[{"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1690201647,"post_id":76754304,"comment_id":135316014,"body_markdown":"Thank you for your response. \nI am not sure about approach #2. How to do that?","body":"Thank you for your response.  I am not sure about approach #2. How to do that?"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690200102,"creation_date":1690200102,"answer_id":76754304,"question_id":76753842,"body_markdown":"The reason for this exception is that, when run asynchronously, the Hibernate session will be closed before the lazy loaded collection can be initialized. Hence `no Session` message.\r\n\r\nThere are several solutions you can try:\r\n\r\n1. Add @Transactional annotation to the code you are calling asynchronously.\r\n1. Preload the collection before starting a new thread.\r\n1. Configure the relationship to EAGER. (Just for the record as you don&#39;t want it)","title":"CompletableFeature: Failed to Lazily Initialize a Collection X:, could not initialize proxy - no Session","body":"<p>The reason for this exception is that, when run asynchronously, the Hibernate session will be closed before the lazy loaded collection can be initialized. Hence <code>no Session</code> message.</p>\n<p>There are several solutions you can try:</p>\n<ol>\n<li>Add @Transactional annotation to the code you are calling asynchronously.</li>\n<li>Preload the collection before starting a new thread.</li>\n<li>Configure the relationship to EAGER. (Just for the record as you don't want it)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690222212,"creation_date":1690213151,"answer_id":76756041,"question_id":76753842,"body_markdown":"All lazy-loaded associations should be initialized before the data manipulation. The exception appears when you try to access uninitialized data outside Hibernate Session because the data can no longer be fetched from a database.\r\n\r\nBy not wanting to load associations eagerly, you probably don&#39;t want to configure the `FetchType.EAGER` fetching strategy for the associated entities. Thus, I suggest you use [`@EntityGraph`][1] which allows customization of the fetch-graph for repository methods. \r\n\r\nFor example, let&#39;s assume there is a `GroupInfo` entity containing a lazy-loaded collection named `members`. To fetch `members` eagerly the following method can be added to the repository:\r\n```java\r\n@EntityGraph(attributePaths = { &quot;members&quot; })\r\nGroupInfo getByGroupName(String name);\r\n```\r\nThe method fetches the `GroupInfo` entity and its `members` at the same time when the method `getByGroupName` is called, otherwise `members` are loaded lazily. This approach avoids [the N+1 query issue][2], resulting in improved performance.\r\n\r\nThere are also other solutions like `Hibernate.initialize()` and `JOIN FETCH`, refer to [the question][3].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\r\n  [2]: https://vladmihalcea.com/n-plus-1-query-problem/\r\n  [3]: https://stackoverflow.com/questions/19928568/hibernate-best-practice-to-pull-all-lazy-collections","title":"CompletableFeature: Failed to Lazily Initialize a Collection X:, could not initialize proxy - no Session","body":"<p>All lazy-loaded associations should be initialized before the data manipulation. The exception appears when you try to access uninitialized data outside Hibernate Session because the data can no longer be fetched from a database.</p>\n<p>By not wanting to load associations eagerly, you probably don't want to configure the <code>FetchType.EAGER</code> fetching strategy for the associated entities. Thus, I suggest you use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"nofollow noreferrer\"><code>@EntityGraph</code></a> which allows customization of the fetch-graph for repository methods.</p>\n<p>For example, let's assume there is a <code>GroupInfo</code> entity containing a lazy-loaded collection named <code>members</code>. To fetch <code>members</code> eagerly the following method can be added to the repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EntityGraph(attributePaths = { &quot;members&quot; })\nGroupInfo getByGroupName(String name);\n</code></pre>\n<p>The method fetches the <code>GroupInfo</code> entity and its <code>members</code> at the same time when the method <code>getByGroupName</code> is called, otherwise <code>members</code> are loaded lazily. This approach avoids <a href=\"https://vladmihalcea.com/n-plus-1-query-problem/\" rel=\"nofollow noreferrer\">the N+1 query issue</a>, resulting in improved performance.</p>\n<p>There are also other solutions like <code>Hibernate.initialize()</code> and <code>JOIN FETCH</code>, refer to <a href=\"https://stackoverflow.com/questions/19928568/hibernate-best-practice-to-pull-all-lazy-collections\">the question</a>.</p>\n"}],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690222212,"creation_date":1690196709,"question_id":76753842,"body_markdown":"My code has several JPA repository method call. I fetch data and aggregate it. But I want to do that in an asynchronous way. So, I am trying to use CompletableFeature. But I am getting the below error:\r\n\r\n&gt; failed to lazily initialize a collection of X:\r\n&gt; package_name.CollectionName, could not initialize proxy - no Session\r\n\r\nMy code:\r\npublic CompletableFuture&lt;Boolean&gt; aggregateDownloadableData(params...) {\r\n\r\n    return CompletableFuture.supplyAsync(() -&gt; {\r\n         //my code to manipulate data sets here\r\n         //\r\n         //\r\n        return Boolean.TRUE; \r\n      }\r\n    });\r\n\r\nThis code works fine if I remove CompletableFeature usage from this method, but not using this.\r\n\r\nI also tried providing my own ExecutorService:\r\n\r\n     public CompletableFuture&lt;Boolean&gt; aggregateDownloadableData(params...) {\r\n        ExecutorService executor = Executors.newFixedThreadPool(2);\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n                 //my code to manipulate data sets here\r\n                 //\r\n                 //\r\n                return Boolean.TRUE; \r\n              }\r\n            }, executor);\r\n        }\r\n\r\nBut this doesn&#39;t work either.\r\n\r\nAny suggestion, please?&lt;br&gt;\r\n**N.B: I don&#39;t want to load eagerly**","title":"CompletableFeature: Failed to Lazily Initialize a Collection X:, could not initialize proxy - no Session","body":"<p>My code has several JPA repository method call. I fetch data and aggregate it. But I want to do that in an asynchronous way. So, I am trying to use CompletableFeature. But I am getting the below error:</p>\n<blockquote>\n<p>failed to lazily initialize a collection of X:\npackage_name.CollectionName, could not initialize proxy - no Session</p>\n</blockquote>\n<p>My code:\npublic CompletableFuture aggregateDownloadableData(params...) {</p>\n<pre><code>return CompletableFuture.supplyAsync(() -&gt; {\n     //my code to manipulate data sets here\n     //\n     //\n    return Boolean.TRUE; \n  }\n});\n</code></pre>\n<p>This code works fine if I remove CompletableFeature usage from this method, but not using this.</p>\n<p>I also tried providing my own ExecutorService:</p>\n<pre><code> public CompletableFuture&lt;Boolean&gt; aggregateDownloadableData(params...) {\n    ExecutorService executor = Executors.newFixedThreadPool(2);\n    return CompletableFuture.supplyAsync(() -&gt; {\n             //my code to manipulate data sets here\n             //\n             //\n            return Boolean.TRUE; \n          }\n        }, executor);\n    }\n</code></pre>\n<p>But this doesn't work either.</p>\n<p>Any suggestion, please?<br>\n<strong>N.B: I don't want to load eagerly</strong></p>\n"},{"tags":["java","json","swagger","swagger-ui","swagger-2.0"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1573628800,"post_id":58831892,"comment_id":103939038,"body_markdown":"you can&#39;t. in order to get that &quot;a&quot; and &quot;s&quot; in there, that have to be values in the object. a json represents a class, true, but the values in the json represent the values of the instance(s).","body":"you can&#39;t. in order to get that &quot;a&quot; and &quot;s&quot; in there, that have to be values in the object. a json represents a class, true, but the values in the json represent the values of the instance(s)."},{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":0,"creation_date":1573628943,"post_id":58831892,"comment_id":103939104,"body_markdown":"Maps, Sets/Lists would do the trick as well. I used them to create a dynamic model in json representation. You can still use the ObjectMapper. Give it a try and take a look, if the result is what you expect.","body":"Maps, Sets/Lists would do the trick as well. I used them to create a dynamic model in json representation. You can still use the ObjectMapper. Give it a try and take a look, if the result is what you expect."},{"owner":{"account_id":8331264,"reputation":509,"user_id":6259603,"accept_rate":65,"display_name":"Joe"},"score":0,"creation_date":1573629611,"post_id":58831892,"comment_id":103939367,"body_markdown":"I updated the json. I require only structure not the values.","body":"I updated the json. I require only structure not the values."},{"owner":{"account_id":8331264,"reputation":509,"user_id":6259603,"accept_rate":65,"display_name":"Joe"},"score":0,"creation_date":1573629826,"post_id":58831892,"comment_id":103939468,"body_markdown":"@ManuelPolacek I already tried with ObjectMapper but it gives like: {&quot;name&quot;:null,&quot;address&quot;:null}...address should be [] not null.","body":"@ManuelPolacek I already tried with ObjectMapper but it gives like: {&quot;name&quot;:null,&quot;address&quot;:null}...address should be [] not null."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":2,"creation_date":1573631904,"post_id":58831892,"comment_id":103940445,"body_markdown":"I think you can achieve this with the help of [jackson-module-jsonSchema](https://github.com/FasterXML/jackson-module-jsonSchema).","body":"I think you can achieve this with the help of <a href=\"https://github.com/FasterXML/jackson-module-jsonSchema\" rel=\"nofollow noreferrer\">jackson-module-jsonSchema</a>."}],"answers":[{"comments":[{"owner":{"account_id":8331264,"reputation":509,"user_id":6259603,"accept_rate":65,"display_name":"Joe"},"score":0,"creation_date":1573641099,"post_id":58832115,"comment_id":103945090,"body_markdown":"Thank you man it works as expected...only default data is horrible,proper DataProviderStrategy  example not getting if you have please share. ACCEPTED!","body":"Thank you man it works as expected...only default data is horrible,proper DataProviderStrategy  example not getting if you have please share. ACCEPTED!"},{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1573645519,"post_id":58832115,"comment_id":103947366,"body_markdown":"I&#39;m going to update my question with a `DataProviderStrategy` implementation to get this ` {&quot;name&quot;:&quot;string&quot;,&quot;address&quot;:[&quot;string&quot;]}` ASAP","body":"I&#39;m going to update my question with a <code>DataProviderStrategy</code> implementation to get this ` {&quot;name&quot;:&quot;string&quot;,&quot;address&quot;:[&quot;string&quot;]}` ASAP"}],"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1573630642,"creation_date":1573629706,"answer_id":58832115,"question_id":58831892,"body_markdown":"You could use [Podam][1]\r\n\r\n&gt; PODAM is a lightweight tool to auto-fill Java POJOs with data. This\r\n&gt; comes handy when developing unit tests. Thanks to PODAM users now have\r\n&gt; a one-liner that does all the work them.\r\n\r\nAdd PODAM dependency in your project\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;uk.co.jemos.podam&lt;/groupId&gt;\r\n      &lt;artifactId&gt;podam&lt;/artifactId&gt;\r\n      &lt;version&gt;[latest.version]&lt;/version&gt;\r\n      &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\r\n    &lt;/dependency&gt;\r\n\r\n- Define your `DataProviderStrategy` if you don&#39;t want the default (Random data)\r\n- Define `PodamFactory` bean, initialized with the *Data Provider Strategy*\r\n- Use the `PodamFactory` bean in your code\r\n\r\n```\r\n PodamFactory factory = new PodamFactoryImpl();\r\n MyPojo myPojo = factory.manufacturePojo(MyPojo .class);\r\n // write it as json\r\n System.out.println(new ObjectMapper().writeValueAsString(myPojo));\r\n```\r\n\r\n  [1]: https://mtedone.github.io/podam/\r\n\r\n","title":"How to convert java class to json format structure without creating object","body":"<p>You could use <a href=\"https://mtedone.github.io/podam/\" rel=\"nofollow noreferrer\">Podam</a></p>\n\n<blockquote>\n  <p>PODAM is a lightweight tool to auto-fill Java POJOs with data. This\n  comes handy when developing unit tests. Thanks to PODAM users now have\n  a one-liner that does all the work them.</p>\n</blockquote>\n\n<p>Add PODAM dependency in your project</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;uk.co.jemos.podam&lt;/groupId&gt;\n  &lt;artifactId&gt;podam&lt;/artifactId&gt;\n  &lt;version&gt;[latest.version]&lt;/version&gt;\n  &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<ul>\n<li>Define your <code>DataProviderStrategy</code> if you don't want the default (Random data)</li>\n<li>Define <code>PodamFactory</code> bean, initialized with the <em>Data Provider Strategy</em></li>\n<li>Use the <code>PodamFactory</code> bean in your code</li>\n</ul>\n\n<pre><code> PodamFactory factory = new PodamFactoryImpl();\n MyPojo myPojo = factory.manufacturePojo(MyPojo .class);\n // write it as json\n System.out.println(new ObjectMapper().writeValueAsString(myPojo));\n</code></pre>\n"}],"owner":{"account_id":8331264,"reputation":509,"user_id":6259603,"accept_rate":65,"display_name":"Joe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2067,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58832115,"answer_count":1,"score":2,"last_activity_date":1690221635,"creation_date":1573628668,"question_id":58831892,"body_markdown":"I need to document multiple microservices api call,so I have a question that how to create json string out of java pojo class directly. I mean say for example ,\r\n\r\nMyPojo.java\r\n\r\n    public class MyPojo {\r\n    String name;\r\n    List&lt;String&gt; address;\r\n    public MyPojo() {\r\n    \t// TODO Auto-generated constructor stub\r\n    }\r\n    //setters and getters\r\n    \r\n    }\r\n\r\nnow I need the string json structure of the pojo without creating object of the class.May be same the way swagger api creates json structure of @RequestBody object in web UI.\r\n\r\nsomething like: \r\n\r\n    String jsonStruct=SomeUtil.convertPojoToJson(MyPojo.class)\r\n\r\nthen it should give like:\r\n\r\n    {&quot;name&quot;:&quot;string&quot;,&quot;address&quot;:[]}\r\n\r\nMy Try:\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import io.swagger.v3.core.converter.ModelConverters;\r\n    import io.swagger.v3.core.util.Json;\r\n    import io.swagger.v3.oas.models.media.Schema;\r\n    \r\n    public class TEst {\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n    \t\r\n    \tObjectMapper obj = new ObjectMapper(); \r\n    \t\r\n    \tMyPojo o=new MyPojo();\r\n    \to.setName(&quot;aa&quot;);\r\n    \tList&lt;String&gt; l=Arrays.asList(&quot;a&quot;,&quot;s&quot;);\r\n    \to.setAddress(l);\r\n    \tSystem.out.println(obj.writeValueAsString(o));\r\n    \t\r\n    }\r\n    }\r\n\r\nactual o/p:\r\n\r\n     {&quot;name&quot;:&quot;aa&quot;,&quot;address&quot;:[&quot;a&quot;,&quot;s&quot;]}\r\n\r\nrequired o/p:\r\n\r\n     {&quot;name&quot;:&quot;string&quot;,&quot;address&quot;:[&quot;string&quot;]}\r\n\r\nCONCERN: But I need to create without creating object as in real the pojo is huge and not possible to set all dummy data.  \r\n\r\n","title":"How to convert java class to json format structure without creating object","body":"<p>I need to document multiple microservices api call,so I have a question that how to create json string out of java pojo class directly. I mean say for example ,</p>\n\n<p>MyPojo.java</p>\n\n<pre><code>public class MyPojo {\nString name;\nList&lt;String&gt; address;\npublic MyPojo() {\n    // TODO Auto-generated constructor stub\n}\n//setters and getters\n\n}\n</code></pre>\n\n<p>now I need the string json structure of the pojo without creating object of the class.May be same the way swagger api creates json structure of @RequestBody object in web UI.</p>\n\n<p>something like: </p>\n\n<pre><code>String jsonStruct=SomeUtil.convertPojoToJson(MyPojo.class)\n</code></pre>\n\n<p>then it should give like:</p>\n\n<pre><code>{\"name\":\"string\",\"address\":[]}\n</code></pre>\n\n<p>My Try:</p>\n\n<pre><code>import java.util.List;\nimport java.util.Map;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport io.swagger.v3.core.converter.ModelConverters;\nimport io.swagger.v3.core.util.Json;\nimport io.swagger.v3.oas.models.media.Schema;\n\npublic class TEst {\npublic static void main(String[] args) throws JsonProcessingException {\n\n    ObjectMapper obj = new ObjectMapper(); \n\n    MyPojo o=new MyPojo();\n    o.setName(\"aa\");\n    List&lt;String&gt; l=Arrays.asList(\"a\",\"s\");\n    o.setAddress(l);\n    System.out.println(obj.writeValueAsString(o));\n\n}\n}\n</code></pre>\n\n<p>actual o/p:</p>\n\n<pre><code> {\"name\":\"aa\",\"address\":[\"a\",\"s\"]}\n</code></pre>\n\n<p>required o/p:</p>\n\n<pre><code> {\"name\":\"string\",\"address\":[\"string\"]}\n</code></pre>\n\n<p>CONCERN: But I need to create without creating object as in real the pojo is huge and not possible to set all dummy data.  </p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":25976980,"reputation":56,"user_id":19691299,"display_name":"silentsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690221424,"creation_date":1690221424,"answer_id":76756962,"question_id":76756767,"body_markdown":"JWT tokens, by design, use UNIX Epoch time in seconds for `iat` (issued at) time.\r\n\r\nI reckon a good hack would be to include additional information in `extraClaims` when generating JWT tokens, for example the current time in miliseconds. This doesn&#39;t change the usage of tokens as they still get hashed.\r\n\r\nIn terms of your implementation, a possible change would be:\r\n```\r\nString jwtToken = jwtService.generateToken(Map.of(&quot;milis&quot;, new Date(System.currentTimeMillis())), user);\r\nString refreshToken = jwtService.generateRefreshToken(Map.of(&quot;milis&quot;, new Date(System.currentTimeMillis())), user);\r\n```","title":"Spring boot Unique index or primary key violation when using jwt to authenticate, when multiple authentication requests in a short time","body":"<p>JWT tokens, by design, use UNIX Epoch time in seconds for <code>iat</code> (issued at) time.</p>\n<p>I reckon a good hack would be to include additional information in <code>extraClaims</code> when generating JWT tokens, for example the current time in miliseconds. This doesn't change the usage of tokens as they still get hashed.</p>\n<p>In terms of your implementation, a possible change would be:</p>\n<pre><code>String jwtToken = jwtService.generateToken(Map.of(&quot;milis&quot;, new Date(System.currentTimeMillis())), user);\nString refreshToken = jwtService.generateRefreshToken(Map.of(&quot;milis&quot;, new Date(System.currentTimeMillis())), user);\n</code></pre>\n"}],"owner":{"account_id":24759010,"reputation":45,"user_id":18643631,"display_name":"Mixss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76756962,"answer_count":1,"score":1,"last_activity_date":1690221424,"creation_date":1690219413,"question_id":76756767,"body_markdown":"I am using jwt to authenticate in my spring boot app. These are methods in AuthenticationService:\r\n```java\r\npublic AuthenticationResponse authenticate(AuthenticationRequest request) {\r\n        authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        request.getEmail(),\r\n                        request.getPassword()\r\n                )\r\n        );\r\n        User user = userRepository.findByEmail(request.getEmail()).orElseThrow(UserNotFoundException::new);\r\n        String jwtToken = jwtService.generateToken(user);\r\n        String refreshToken = jwtService.generateRefreshToken(user);\r\n        revokeAllUserTokens(user);\r\n        saveUserToken(user, jwtToken);\r\n        return AuthenticationResponse.builder()\r\n                .accessToken(jwtToken)\r\n                .refreshToken(refreshToken)\r\n                .build();\r\n    }\r\n\r\nprivate void revokeAllUserTokens(User user) {\r\n        List&lt;Token&gt; validUserTokens = tokenRepository.findAllValidTokenByUser(user.getId());\r\n        if(validUserTokens.isEmpty())\r\n            return;\r\n        validUserTokens.forEach(token -&gt; {\r\n            token.setExpired(true);\r\n            token.setRevoked(true);\r\n        });\r\n        tokenRepository.saveAll(validUserTokens);\r\n    }\r\n\r\nprivate void saveUserToken(User user, String jwtToken) {\r\n        Token token = Token.builder()\r\n                .user(user)\r\n                .token(jwtToken)\r\n                .tokenType(TokenType.BEARER)\r\n                .expired(false)\r\n                .revoked(false)\r\n                .build();\r\n        tokenRepository.save(token);\r\n    }\r\n```\r\nand in JwtService:\r\n\r\n```java\r\npublic String generateToken(UserDetails userDetails) {\r\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\r\n    }\r\n\r\n    public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\r\n        return buildToken(extraClaims, userDetails, jwtConfig.getExpiration());\r\n    }\r\n\r\n    public String generateRefreshToken(UserDetails userDetails) {\r\n        return buildToken(new HashMap&lt;&gt;(), userDetails, jwtConfig.getRefreshTokenExpiration());\r\n    }\r\n```\r\nand Token inside database:\r\n```java\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;jwt_tokens&quot;)\r\npublic class Token {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    @Column(name = &quot;token&quot;, unique = true)\r\n    public String token;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    public TokenType tokenType = TokenType.BEARER;\r\n\r\n    public boolean revoked;\r\n    public boolean expired;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    public User user;\r\n\r\n}\r\n```\r\nrest of the implementation is rather self explanatory.\r\n\r\nIt works fine, but when there are multiple authentication request (when I rapidly send multiple requests), there is 500 status response, and an exception is thrown (method authenticate in AuthenticationService) is called:\r\n\r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.CONSTRAINT_INDEX_4 ON PUBLIC.JWT_TOKENS(TOKEN NULLS FIRST) VALUES ( /* 7 */ &#39;eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWx5enNAZW1haWwuY29tIiwiaWF0IjoxNjkwMjE4NDU3LCJleHAiOjE2OTAzMDQ4NTd9.8aePz6jl3JPvsnDFVpXxtzYfsxLN0ZqIUg0FsK_XDaE&#39; )&quot;; SQL statement:\r\ninsert into jwt_tokens (expired,revoked,token,token_type,user_id,id) values (?,?,?,?,?,?) [23505-214]\r\n```","title":"Spring boot Unique index or primary key violation when using jwt to authenticate, when multiple authentication requests in a short time","body":"<p>I am using jwt to authenticate in my spring boot app. These are methods in AuthenticationService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public AuthenticationResponse authenticate(AuthenticationRequest request) {\n        authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        request.getEmail(),\n                        request.getPassword()\n                )\n        );\n        User user = userRepository.findByEmail(request.getEmail()).orElseThrow(UserNotFoundException::new);\n        String jwtToken = jwtService.generateToken(user);\n        String refreshToken = jwtService.generateRefreshToken(user);\n        revokeAllUserTokens(user);\n        saveUserToken(user, jwtToken);\n        return AuthenticationResponse.builder()\n                .accessToken(jwtToken)\n                .refreshToken(refreshToken)\n                .build();\n    }\n\nprivate void revokeAllUserTokens(User user) {\n        List&lt;Token&gt; validUserTokens = tokenRepository.findAllValidTokenByUser(user.getId());\n        if(validUserTokens.isEmpty())\n            return;\n        validUserTokens.forEach(token -&gt; {\n            token.setExpired(true);\n            token.setRevoked(true);\n        });\n        tokenRepository.saveAll(validUserTokens);\n    }\n\nprivate void saveUserToken(User user, String jwtToken) {\n        Token token = Token.builder()\n                .user(user)\n                .token(jwtToken)\n                .tokenType(TokenType.BEARER)\n                .expired(false)\n                .revoked(false)\n                .build();\n        tokenRepository.save(token);\n    }\n</code></pre>\n<p>and in JwtService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String generateToken(UserDetails userDetails) {\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\n        return buildToken(extraClaims, userDetails, jwtConfig.getExpiration());\n    }\n\n    public String generateRefreshToken(UserDetails userDetails) {\n        return buildToken(new HashMap&lt;&gt;(), userDetails, jwtConfig.getRefreshTokenExpiration());\n    }\n</code></pre>\n<p>and Token inside database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;jwt_tokens&quot;)\npublic class Token {\n\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    @Column(name = &quot;token&quot;, unique = true)\n    public String token;\n\n    @Enumerated(EnumType.STRING)\n    public TokenType tokenType = TokenType.BEARER;\n\n    public boolean revoked;\n    public boolean expired;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    public User user;\n\n}\n</code></pre>\n<p>rest of the implementation is rather self explanatory.</p>\n<p>It works fine, but when there are multiple authentication request (when I rapidly send multiple requests), there is 500 status response, and an exception is thrown (method authenticate in AuthenticationService) is called:</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.CONSTRAINT_INDEX_4 ON PUBLIC.JWT_TOKENS(TOKEN NULLS FIRST) VALUES ( /* 7 */ 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWx5enNAZW1haWwuY29tIiwiaWF0IjoxNjkwMjE4NDU3LCJleHAiOjE2OTAzMDQ4NTd9.8aePz6jl3JPvsnDFVpXxtzYfsxLN0ZqIUg0FsK_XDaE' )&quot;; SQL statement:\ninsert into jwt_tokens (expired,revoked,token,token_type,user_id,id) values (?,?,?,?,?,?) [23505-214]\n</code></pre>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin","intellij-platform-psi"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690222278,"post_id":76756956,"comment_id":135320313,"body_markdown":"The best place for API questions would be the dev forum at https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development.","body":"The best place for API questions would be the dev forum at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/topics/&hellip;</a>."}],"owner":{"account_id":29082464,"reputation":1,"user_id":22278181,"display_name":"Egor Owchinnikow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690221386,"creation_date":1690221386,"question_id":76756956,"body_markdown":"Saving User Data to PsiElement\r\n\r\nHello. I have got a question.\r\n\r\nWe need to solve the following problem. Save User Data to PsiElement. So that they are saved when parsing a file. For example, when calling the function `FileContentUtil.reparseFiles(PsiLanguageInjectionHost, List, Boolean)`. Looking for answers. It is recommended to use `CachedValueManager` and `CachedValue`. How to use them correctly in my case?","title":"Intellij API. Saving User Data to PsiElement","body":"<p>Saving User Data to PsiElement</p>\n<p>Hello. I have got a question.</p>\n<p>We need to solve the following problem. Save User Data to PsiElement. So that they are saved when parsing a file. For example, when calling the function <code>FileContentUtil.reparseFiles(PsiLanguageInjectionHost, List, Boolean)</code>. Looking for answers. It is recommended to use <code>CachedValueManager</code> and <code>CachedValue</code>. How to use them correctly in my case?</p>\n"},{"tags":["java","spring-boot","lombok"],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690220647,"creation_date":1690220647,"question_id":76756888,"body_markdown":"I am using Java 11 and Lombok 1.18.26. When I try to set the access level of my getter method to private using the @Getter annotation with the onMethod_ attribute, like this: `@Getter(value = PRIVATE, onMethod_={@JsonGetter(value = &quot;rating&quot;)})`, the access level is not set to private but instead defaults to public. However, when I use the @Getter annotation without the onMethod_ attribute, like this: `@Getter(value = PRIVATE)`, the access level is correctly set to private. Has anyone else experienced this issue?","title":"Lombok @Getter not setting private access level when using onMethod_ attribute","body":"<p>I am using Java 11 and Lombok 1.18.26. When I try to set the access level of my getter method to private using the @Getter annotation with the onMethod_ attribute, like this: <code>@Getter(value = PRIVATE, onMethod_={@JsonGetter(value = &quot;rating&quot;)})</code>, the access level is not set to private but instead defaults to public. However, when I use the @Getter annotation without the onMethod_ attribute, like this: <code>@Getter(value = PRIVATE)</code>, the access level is correctly set to private. Has anyone else experienced this issue?</p>\n"},{"tags":["java","soap"],"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690220182,"creation_date":1690220182,"question_id":76756839,"body_markdown":"I&#39;m having a problem with a SOAP service after migrating to the new Spring Boot.\r\nThe old SOAP service worked with the jaxws-spring component. The service definition was:\r\n\r\n    @WebMethod\r\n    @WebResult(name = &quot;check&quot;, partName = &quot;response&quot;, targetNamespace = NAMESPACE_URI)\r\n    public SafetyCheck check(@WebParam(name = &quot;checkRequest&quot;, partName = &quot;request&quot;, targetNamespace = NAMESPACE_URI) SafetyCheckRequest safetyCheckRequest) { \r\n\r\n \r\n\r\nNow after the migration I had to get rid of the jaxws-spring due to incompatibility and after the upgrade the service looks like this:\r\n \r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;check&quot;)\r\n    @ResponsePayload\r\n    public JAXBElement&lt;SafetyCheck&gt; check(@RequestPayload JAXBElement&lt;SafetyCheckRequest&gt; safetyCheckRequest) {\r\n\t\r\nThe wsdl file has not changed. The relevant part is as follows:\r\n\r\n        &lt;xs:element name=&quot;check&quot; type=&quot;tns:check&quot; /&gt;\r\n        &lt;xs:element name=&quot;checkResponse&quot; type=&quot;tns:checkResponse&quot; /&gt;\r\n        &lt;xs:complexType name=&quot;check&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element form=&quot;qualified&quot; minOccurs=&quot;0&quot; name=&quot;checkRequest&quot; type=&quot;tns:safetyCheckRequest&quot; /&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;safetyCheckRequest&quot;&gt;\r\n            &lt;xs:complexContent&gt;\r\n                &lt;xs:extension base=&quot;tns:baseRequest&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;checkToPerform&quot; type=&quot;xs:string&quot; /&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;parameters&quot; type=&quot;xs:string&quot; /&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                &lt;/xs:extension&gt;\r\n            &lt;/xs:complexContent&gt;\r\n        &lt;/xs:complexType&gt;\r\n\r\n\r\nThe SOAP UI generates a request from the WSDL, which is exactly the same as the previous one:\r\n\r\n    &lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;S:Body&gt;\r\n            &lt;ns2:check xmlns:ns2=&quot;http://.....&quot;&gt;\r\n                &lt;ns2:checkRequest&gt;\r\n                    &lt;checkToPerform&gt;WARNINGS&lt;/checkToPerform&gt;\r\n                    &lt;parameters&gt;\r\n    \t\t\t\t\t...\r\n                    &lt;/parameters&gt;\r\n                &lt;/ns2:checkRequest&gt;\r\n            &lt;/ns2:check&gt;\r\n        &lt;/S:Body&gt;\r\n    &lt;/S:Envelope&gt;\r\n\r\nBut now the service receives an empty request value. After some testing I found that it will work correctly after removing &lt;ns2:checkRequest&gt;:\r\n\r\n    &lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;S:Body&gt;\r\n            &lt;ns2:check xmlns:ns2=&quot;http://.....&quot;&gt;\r\n                    &lt;checkToPerform&gt;WARNINGS&lt;/checkToPerform&gt;\r\n                    &lt;parameters&gt;\r\n    \t\t\t\t\t...\r\n                    &lt;/parameters&gt;\r\n            &lt;/ns2:check&gt;\r\n        &lt;/S:Body&gt;\r\n    &lt;/S:Envelope&gt;\r\n\r\n  \r\nPerhaps the reason is that the old version had a name definition: @WebParam(name = &quot;checkRequest&quot;... .\r\n   How can I do the same with the new one?","title":"SOAP Service does not read a requested data after migration to the new Spring Boot","body":"<p>I'm having a problem with a SOAP service after migrating to the new Spring Boot.\nThe old SOAP service worked with the jaxws-spring component. The service definition was:</p>\n<pre><code>@WebMethod\n@WebResult(name = &quot;check&quot;, partName = &quot;response&quot;, targetNamespace = NAMESPACE_URI)\npublic SafetyCheck check(@WebParam(name = &quot;checkRequest&quot;, partName = &quot;request&quot;, targetNamespace = NAMESPACE_URI) SafetyCheckRequest safetyCheckRequest) { \n</code></pre>\n<p>Now after the migration I had to get rid of the jaxws-spring due to incompatibility and after the upgrade the service looks like this:</p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;check&quot;)\n@ResponsePayload\npublic JAXBElement&lt;SafetyCheck&gt; check(@RequestPayload JAXBElement&lt;SafetyCheckRequest&gt; safetyCheckRequest) {\n</code></pre>\n<p>The wsdl file has not changed. The relevant part is as follows:</p>\n<pre><code>    &lt;xs:element name=&quot;check&quot; type=&quot;tns:check&quot; /&gt;\n    &lt;xs:element name=&quot;checkResponse&quot; type=&quot;tns:checkResponse&quot; /&gt;\n    &lt;xs:complexType name=&quot;check&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element form=&quot;qualified&quot; minOccurs=&quot;0&quot; name=&quot;checkRequest&quot; type=&quot;tns:safetyCheckRequest&quot; /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=&quot;safetyCheckRequest&quot;&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=&quot;tns:baseRequest&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;checkToPerform&quot; type=&quot;xs:string&quot; /&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;parameters&quot; type=&quot;xs:string&quot; /&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n</code></pre>\n<p>The SOAP UI generates a request from the WSDL, which is exactly the same as the previous one:</p>\n<pre><code>&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;S:Body&gt;\n        &lt;ns2:check xmlns:ns2=&quot;http://.....&quot;&gt;\n            &lt;ns2:checkRequest&gt;\n                &lt;checkToPerform&gt;WARNINGS&lt;/checkToPerform&gt;\n                &lt;parameters&gt;\n                    ...\n                &lt;/parameters&gt;\n            &lt;/ns2:checkRequest&gt;\n        &lt;/ns2:check&gt;\n    &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n<p>But now the service receives an empty request value. After some testing I found that it will work correctly after removing ns2:checkRequest:</p>\n<pre><code>&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;S:Body&gt;\n        &lt;ns2:check xmlns:ns2=&quot;http://.....&quot;&gt;\n                &lt;checkToPerform&gt;WARNINGS&lt;/checkToPerform&gt;\n                &lt;parameters&gt;\n                    ...\n                &lt;/parameters&gt;\n        &lt;/ns2:check&gt;\n    &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n<p>Perhaps the reason is that the old version had a name definition: @WebParam(name = &quot;checkRequest&quot;... .\nHow can I do the same with the new one?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1690213882,"post_id":76755911,"comment_id":135318788,"body_markdown":"*Here is my problem: the app does not display the time set for Dublin, it always displays the time set with the time zone defined in the phone.* - how is it possible? Are you saying that the app changes the code to `.atZone(ZoneId.of( &quot;Europe/Paris&quot; ))` when someone uses it from France? This will be disastrous if apps start working like that - won&#39;t it be? Your code looks correct to me and you should not worry unless there is something else which you have not mentioned in your question.","body":"<i>Here is my problem: the app does not display the time set for Dublin, it always displays the time set with the time zone defined in the phone.</i> - how is it possible? Are you saying that the app changes the code to <code>.atZone(ZoneId.of( &quot;Europe&#47;Paris&quot; ))</code> when someone uses it from France? This will be disastrous if apps start working like that - won&#39;t it be? Your code looks correct to me and you should not worry unless there is something else which you have not mentioned in your question."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690214809,"post_id":76755911,"comment_id":135318993,"body_markdown":"Edit the example values in your prose to match the example data in your code.","body":"Edit the example values in your prose to match the example data in your code."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1690213679,"post_id":76755953,"comment_id":135318744,"body_markdown":"You’ve misunderstood the issue. The code in the Question is not using `Instant`. The method in the second call, `Instant#atZone`, returns a `ZonedDateTime`.","body":"You’ve misunderstood the issue. The code in the Question is not using <code>Instant</code>. The method in the second call, <code>Instant#atZone</code>, returns a <code>ZonedDateTime</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690214399,"post_id":76755953,"comment_id":135318907,"body_markdown":"Also, `OffsetDateTime` is the wrong class to use here. Time zone work should be done with `ZonedDateTime` as seen in Question.","body":"Also, <code>OffsetDateTime</code> is the wrong class to use here. Time zone work should be done with <code>ZonedDateTime</code> as seen in Question."}],"tags":[],"owner":{"account_id":27668746,"reputation":233,"user_id":21120027,"display_name":"Dulan Jayawickrama"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690212485,"creation_date":1690212485,"answer_id":76755953,"question_id":76755911,"body_markdown":"To display the UTC time in the app without adjusting for the phone&#39;s local time zone, you can use the **OffsetDateTime** class to parse the UTC date string instead of **Instant**. By using **OffsetDateTime**, you can explicitly represent the date and time with the UTC offset, which ensures that the time zone of the phone won&#39;t affect the displayed time.\r\n\r\n    import java.time.Instant;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class TimeConversion {\r\n    \r\n        public static void main(String[] args) {\r\n            String dateTime = &quot;2023-07-24T15:19:00.000Z&quot;;\r\n    \r\n            OffsetDateTime offsetDateTime = OffsetDateTime.parse(dateTime);\r\n            String output = offsetDateTime.atZoneSameInstant(ZoneId.of(&quot;Europe/Dublin&quot;))\r\n                    .format(DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n    \r\n            System.out.println(output); // Output: 16:19\r\n        }\r\n    }\r\n\r\n","title":"Android changes the time zone set programmatically for UTC date string","body":"<p>To display the UTC time in the app without adjusting for the phone's local time zone, you can use the <strong>OffsetDateTime</strong> class to parse the UTC date string instead of <strong>Instant</strong>. By using <strong>OffsetDateTime</strong>, you can explicitly represent the date and time with the UTC offset, which ensures that the time zone of the phone won't affect the displayed time.</p>\n<pre><code>import java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\n\npublic class TimeConversion {\n\n    public static void main(String[] args) {\n        String dateTime = &quot;2023-07-24T15:19:00.000Z&quot;;\n\n        OffsetDateTime offsetDateTime = OffsetDateTime.parse(dateTime);\n        String output = offsetDateTime.atZoneSameInstant(ZoneId.of(&quot;Europe/Dublin&quot;))\n                .format(DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\n\n        System.out.println(output); // Output: 16:19\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":945974,"reputation":1683,"user_id":973237,"accept_rate":79,"display_name":"Vincent"},"score":0,"creation_date":1690219706,"post_id":76756176,"comment_id":135319909,"body_markdown":"You are right, there was an error in the json response with wrong values in the data set, hence false positive regarding the issue I encounter. Many thanks for your piece of code.","body":"You are right, there was an error in the json response with wrong values in the data set, hence false positive regarding the issue I encounter. Many thanks for your piece of code."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690215700,"creation_date":1690214146,"answer_id":76756176,"question_id":76755911,"body_markdown":"# No such problem\r\n\r\nYour code is correct and functioning properly. \r\n\r\nThe offset used by that time zone is one hour ahead of UTC. [Dublin time][1] in the summer of 2023 is +01:00.\r\n\r\nSo your code has an input of 3 PM (15 hour) in UTC, and an output of 4 PM (16 hour) in Dublin time. That result is correct. \r\n\r\n\t\tString output =\r\n         Instant.parse( &quot;2023-07-24T15:19:00.000Z&quot; )  // Returns an `Instant` object. \r\n                .atZone( ZoneId.of( &quot;Europe/Dublin&quot; ) )  // Returns a `ZonedDateTime` object. \r\n                .format(\r\n                        DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)  // Returns a `DateTimeFormatter` object. \r\n                );\r\n        System.out.println( output ) ;\r\n\r\nSee this code [run at Ideone.com][2]. \r\n\r\n&gt;16:19\r\n\r\n# Default zone irrelevant \r\n\r\nThe current default time zone of the JVM does *not* affect this result. \r\n\r\nYou can see this fact on the linked Ideone.com page where the default zone is UTC (GMT), an offset of +00:00. Your `ZonedDateTime` carries the correct expected time zone of `Europe/Dublin` regardless of the JVM’s default. \r\n\r\n\r\n  [1]: https://time.is/Dublin\r\n  [2]: https://ideone.com/WKgc6L","title":"Android changes the time zone set programmatically for UTC date string","body":"<h1>No such problem</h1>\n<p>Your code is correct and functioning properly.</p>\n<p>The offset used by that time zone is one hour ahead of UTC. <a href=\"https://time.is/Dublin\" rel=\"nofollow noreferrer\">Dublin time</a> in the summer of 2023 is +01:00.</p>\n<p>So your code has an input of 3 PM (15 hour) in UTC, and an output of 4 PM (16 hour) in Dublin time. That result is correct.</p>\n<pre><code>    String output =\n     Instant.parse( &quot;2023-07-24T15:19:00.000Z&quot; )  // Returns an `Instant` object. \n            .atZone( ZoneId.of( &quot;Europe/Dublin&quot; ) )  // Returns a `ZonedDateTime` object. \n            .format(\n                    DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)  // Returns a `DateTimeFormatter` object. \n            );\n    System.out.println( output ) ;\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/WKgc6L\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<blockquote>\n<p>16:19</p>\n</blockquote>\n<h1>Default zone irrelevant</h1>\n<p>The current default time zone of the JVM does <em>not</em> affect this result.</p>\n<p>You can see this fact on the linked Ideone.com page where the default zone is UTC (GMT), an offset of +00:00. Your <code>ZonedDateTime</code> carries the correct expected time zone of <code>Europe/Dublin</code> regardless of the JVM’s default.</p>\n"}],"owner":{"account_id":945974,"reputation":1683,"user_id":973237,"accept_rate":79,"display_name":"Vincent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76756176,"answer_count":2,"score":-1,"last_activity_date":1690219775,"creation_date":1690212141,"question_id":76755911,"body_markdown":"**Update**: problem solved,there is no issue with the java code snipped I used, the problem was related to errors in the data set.\r\n\r\n\r\n\r\nThe API I work on return flights departure times set with UTC format\r\n\r\n    2023-07-24T15:19:00.000Z\r\n\r\nAnd if the flight departs from Ireland, I set the time zone to Europe/Dublin because I want the departure time to reflects the actual departume time in Ireland\r\n\r\n\tString output =\r\n\t\t\tInstant.parse(dateTime)\r\n\t\t\t\t\t.atZone(ZoneId.of( &quot;Europe/Dublin&quot; ))\r\n\t\t\t\t\t.format(\r\n\t\t\t\t\t\t\tDateTimeFormatter.ofPattern(&quot;HH:mm&quot;)\r\n\t\t\t\t\t);\r\n\r\nHere is my problem: the app does not display the time set for Dublin, it always display the time set with the time zone defined in the phone.\r\n\r\nThat&#39;s an issue because if a flight departs at `08:00` in Ireland and the user uses the app from France, I don&#39;t want `09:00` (+1 hour) to be displayed because it can be misleading. I want `08:00` to be displayed\r\n\r\nHow can I make this happen?\r\nMany thanks\r\n","title":"Android changes the time zone set programmatically for UTC date string","body":"<p><strong>Update</strong>: problem solved,there is no issue with the java code snipped I used, the problem was related to errors in the data set.</p>\n<p>The API I work on return flights departure times set with UTC format</p>\n<pre><code>2023-07-24T15:19:00.000Z\n</code></pre>\n<p>And if the flight departs from Ireland, I set the time zone to Europe/Dublin because I want the departure time to reflects the actual departume time in Ireland</p>\n<pre><code>String output =\n        Instant.parse(dateTime)\n                .atZone(ZoneId.of( &quot;Europe/Dublin&quot; ))\n                .format(\n                        DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)\n                );\n</code></pre>\n<p>Here is my problem: the app does not display the time set for Dublin, it always display the time set with the time zone defined in the phone.</p>\n<p>That's an issue because if a flight departs at <code>08:00</code> in Ireland and the user uses the app from France, I don't want <code>09:00</code> (+1 hour) to be displayed because it can be misleading. I want <code>08:00</code> to be displayed</p>\n<p>How can I make this happen?\nMany thanks</p>\n"},{"tags":["java","spring","hibernate","rest","querydsl"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690229168,"post_id":76756793,"comment_id":135321453,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29081889,"reputation":11,"user_id":22277725,"display_name":"maticzak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690219695,"creation_date":1690219695,"question_id":76756793,"body_markdown":"I have a problem with querydsl. I have a method created that is supposed to filter by various parameters such as.\r\ntype of figure\r\n\r\n- area from, area to\r\n- circumference from, circumference to\r\n- creation date from, to\r\n- who created,\r\n- by figure parameters, from - to\r\n  The method does not work for area, perimeter and parameters. If the given parameter does not match any object it returns an empty json, but once it wants to filter it returns all objects from the database. I don&#39;t know what the problem could be. Someone can help me?\r\n\r\nCODE:\r\n\r\n```\r\n@Entity \r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE) \r\n@DiscriminatorColumn(name=&quot;type&quot;, discriminatorType = DiscriminatorType.STRING) \r\n@Table(name = &quot;shapes&quot;) \r\n@QueryEntity \r\npublic class Shape implements Serializable{ \r\n@Id @GeneratedValue(strategy = GenerationType.IDENTITY) \r\nprivate long id; \r\n@Column(insertable = false, updatable = false) \r\nprivate String type; \r\n@Version private int version; \r\n@ManyToOne @JoinColumn(name = &quot;user_id&quot;) \r\nprivate User createdBy; \r\nprivate LocalDateTime createdAt; \r\nprivate LocalDateTime lastModifiedAt; \r\nprivate String lastModifiedBy; }\r\n```\r\n\r\n```\r\n@Entity\r\n@DiscriminatorValue(&quot;SQUARE&quot;)\r\npublic class Square extends Shape {\r\n\r\n    private double height;\r\n\r\n    private double area;\r\n\r\n    private double perimeter;\r\n\r\n    @PrePersist\r\n    @PreUpdate\r\n    public void calculateAreaAndPerimeter() {\r\n        area = height * height;\r\n        perimeter = 4 * height;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class ShapeManagementService implements IShapeManagementService {\r\n\r\n    private final ShapeRepository shapeRepository;\r\n    private final RoleRepository roleRepository;\r\n    private final List&lt;IShapeService&gt; shapeServices;\r\n    private final JPAQueryFactory queryFactory;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(ShapeManagementService.class);\r\n\r\n    public ShapeManagementService(ShapeRepository shapeRepository, RoleRepository roleRepository, List&lt;IShapeService&gt; shapeServices, JPAQueryFactory queryFactory) {\r\n        this.shapeRepository = shapeRepository;\r\n        this.roleRepository = roleRepository;\r\n        this.shapeServices = shapeServices;\r\n        this.queryFactory = queryFactory;\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public ShapeDto saveShape(ShapeRequestDto shapeRequestDto, String username) {\r\n        IShapeService shapeService = shapeServices.stream()\r\n                .filter(h -&gt; h.getShape().equalsIgnoreCase(shapeRequestDto.getType()))\r\n                .findFirst()\r\n                .orElseThrow();\r\n        return shapeService.save(shapeRequestDto, username);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ShapeDto&gt; getFilteredShapes(String createdBy, String type, Double areaFrom, Double areaTo,\r\n                                            Double perimeterFrom, Double perimeterTo, LocalDateTime createdAtFrom,\r\n                                            LocalDateTime createdAtTo, Double heightFrom, Double heightTo) {\r\n        QShape shape = QShape.shape;\r\n        QSquare square = QSquare.square;\r\n        QCircle circle = QCircle.circle;\r\n\r\n        BooleanBuilder predicate = new BooleanBuilder();\r\n\r\n        if (createdBy != null) {\r\n            predicate.and(shape.createdBy.username.eq(createdBy));\r\n        }\r\n\r\n        if (type != null) {\r\n            predicate.and(shape.type.eq(type));\r\n        }\r\n\r\n        if (areaFrom != null || areaTo != null || perimeterFrom != null || perimeterTo != null) {\r\n            predicate.and(shape.instanceOf(Square.class));\r\n        }\r\n\r\n        if (areaFrom != null) {\r\n            predicate.and(square.area.goe(areaFrom));\r\n        }\r\n\r\n        if (areaTo != null) {\r\n            predicate.and(square.area.loe(areaTo));\r\n        }\r\n\r\n        if (perimeterFrom != null) {\r\n            predicate.and(square.perimeter.goe(perimeterFrom));\r\n        }\r\n\r\n        if (perimeterTo != null) {\r\n            predicate.and(square.perimeter.loe(perimeterTo));\r\n        }\r\n\r\n        if (heightFrom != null || heightTo != null) {\r\n            predicate.andAnyOf(square.height.between(heightFrom, heightTo), circle.radius.between(heightFrom, heightTo));\r\n        }\r\n\r\n        if (createdAtFrom != null) {\r\n            predicate.and(shape.createdAt.goe(createdAtFrom));\r\n        }\r\n\r\n        if (createdAtTo != null) {\r\n            predicate.and(shape.createdAt.loe(createdAtTo));\r\n        }\r\n\r\n        JPAQuery&lt;Shape&gt; query = queryFactory.selectFrom(shape)\r\n                .leftJoin(square).on(shape.instanceOf(Square.class))\r\n                .leftJoin(circle).on(shape.instanceOf(Circle.class))\r\n                .where(predicate)\r\n                .groupBy(shape.id); // Grupowanie wynik&#243;w po id figury\r\n\r\n        List&lt;Shape&gt; shapes = query.fetch();\r\n\r\n        return shapes.stream()\r\n                .map(this::convertToDto)\r\n                .collect(Collectors.toList());\r\n    }\r\n    public ShapeDto convertToDto(Shape shape) {\r\n        ShapeDto shapeDto;\r\n        if (shape instanceof Square) {\r\n            shapeDto = convertSquareToDto((Square) shape);\r\n//        } else if (shape instanceof Circle) {\r\n//            shapeDto = convertCircleToDto((Circle) shape);\r\n        } else {\r\n            shapeDto = new ShapeDto();\r\n        }\r\n\r\n        shapeDto.setId(shape.getId());\r\n        shapeDto.setType(shape.getType());\r\n        shapeDto.setCreatedBy(shape.getCreatedBy().getUsername());\r\n        shapeDto.setCreatedAt(shape.getCreatedAt());\r\n        shapeDto.setLastModifiedAt(shape.getLastModifiedAt());\r\n        shapeDto.setLastModifiedBy(shape.getLastModifiedBy());\r\n\r\n        return shapeDto;\r\n    }\r\n\r\n    private SquareDto convertSquareToDto(Square square) {\r\n        SquareDto squareDto = new SquareDto();\r\n        squareDto.setHeight(square.getHeight());\r\n        squareDto.setPerimeter(square.getPerimeter());\r\n        squareDto.setArea(square.getArea());\r\n        return squareDto;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class SquareService implements IShapeService {\r\n\r\n    private final SquareRepository squareRepository;\r\n    private final UserRepository userRepository;\r\n    private final ModelMapper modelMapper;\r\n    private final SquareFactory squareFactory;\r\n    private final ShapeRepository shapeRepository;\r\n\r\n    public SquareService(SquareRepository squareRepository, UserRepository userRepository, ModelMapper modelMapper, SquareFactory squareFactory, ShapeRepository shapeRepository) {\r\n        this.squareRepository = squareRepository;\r\n        this.userRepository = userRepository;\r\n        this.modelMapper = modelMapper;\r\n        this.squareFactory = squareFactory;\r\n        this.shapeRepository = shapeRepository;\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public ShapeDto save(ShapeRequestDto shapeRequestDto, String username) {\r\n        Square square = squareFactory.createSquare(shapeRequestDto, username);\r\n        Square squareToSave = squareRepository.save(square);\r\n        SquareDto squareDto = modelMapper.map(squareToSave, SquareDto.class);\r\n        squareDto.getCreatedBy();\r\n        squareDto.setCreatedBy(square.getCreatedBy().getUsername());\r\n        squareDto.setArea(square.getArea());\r\n        squareDto.setPerimeter(square.getPerimeter());\r\n        return squareDto;\r\n    }\r\n\r\n    @Override\r\n    public String getShape() {\r\n        return &quot;SQUARE&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/shapes&quot;)\r\npublic class ShapeController {\r\n\r\n    private final IShapeManagementService shapeManagementService;\r\n\r\n    public ShapeController(IShapeManagementService shapeManagementService) {\r\n        this.shapeManagementService = shapeManagementService;\r\n    }\r\n    \r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_CREATOR&#39;)&quot;)\r\n    @PostMapping\r\n    public ResponseEntity&lt;ShapeDto&gt; addShape(@RequestBody ShapeRequestDto shapeRequestDto, Principal p) {\r\n        ShapeDto shapeDto = shapeManagementService.saveShape(shapeRequestDto, p.getName());\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(shapeDto);\r\n\r\n    }\r\n    @GetMapping(value = &quot;/parameters&quot;)\r\n    public ResponseEntity&lt;List&lt;ShapeDto&gt;&gt; getShapes(@RequestParam(required = false) String createdBy,\r\n                                                    @RequestParam(required = false) String type,\r\n                                                    @RequestParam(required = false) Double areaFrom,\r\n                                                    @RequestParam(required = false) Double areaTo,\r\n                                                    @RequestParam(required = false) Double perimeterFrom,\r\n                                                    @RequestParam(required = false) Double perimeterTo,\r\n                                                    @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;) LocalDateTime createdAtFrom,\r\n                                                    @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;) LocalDateTime createdAtTo,\r\n                                                    @RequestParam(required = false) Double heightFrom,\r\n                                                    @RequestParam(required = false) Double heightTo) {\r\n        List&lt;ShapeDto&gt; filteredShapes = shapeManagementService.getFilteredShapes(\r\n                createdBy, type, areaFrom, areaTo, perimeterFrom, perimeterTo, createdAtFrom, createdAtTo, heightFrom, heightTo);\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(filteredShapes);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nI tried searching all over the internet.\r\n```","title":"problem with proper filtering of parameters in querydsl","body":"<p>I have a problem with querydsl. I have a method created that is supposed to filter by various parameters such as.\ntype of figure</p>\n<ul>\n<li>area from, area to</li>\n<li>circumference from, circumference to</li>\n<li>creation date from, to</li>\n<li>who created,</li>\n<li>by figure parameters, from - to\nThe method does not work for area, perimeter and parameters. If the given parameter does not match any object it returns an empty json, but once it wants to filter it returns all objects from the database. I don't know what the problem could be. Someone can help me?</li>\n</ul>\n<p>CODE:</p>\n<pre><code>@Entity \n@Inheritance(strategy = InheritanceType.SINGLE_TABLE) \n@DiscriminatorColumn(name=&quot;type&quot;, discriminatorType = DiscriminatorType.STRING) \n@Table(name = &quot;shapes&quot;) \n@QueryEntity \npublic class Shape implements Serializable{ \n@Id @GeneratedValue(strategy = GenerationType.IDENTITY) \nprivate long id; \n@Column(insertable = false, updatable = false) \nprivate String type; \n@Version private int version; \n@ManyToOne @JoinColumn(name = &quot;user_id&quot;) \nprivate User createdBy; \nprivate LocalDateTime createdAt; \nprivate LocalDateTime lastModifiedAt; \nprivate String lastModifiedBy; }\n</code></pre>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;SQUARE&quot;)\npublic class Square extends Shape {\n\n    private double height;\n\n    private double area;\n\n    private double perimeter;\n\n    @PrePersist\n    @PreUpdate\n    public void calculateAreaAndPerimeter() {\n        area = height * height;\n        perimeter = 4 * height;\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic class ShapeManagementService implements IShapeManagementService {\n\n    private final ShapeRepository shapeRepository;\n    private final RoleRepository roleRepository;\n    private final List&lt;IShapeService&gt; shapeServices;\n    private final JPAQueryFactory queryFactory;\n\n    private static final Logger logger = LoggerFactory.getLogger(ShapeManagementService.class);\n\n    public ShapeManagementService(ShapeRepository shapeRepository, RoleRepository roleRepository, List&lt;IShapeService&gt; shapeServices, JPAQueryFactory queryFactory) {\n        this.shapeRepository = shapeRepository;\n        this.roleRepository = roleRepository;\n        this.shapeServices = shapeServices;\n        this.queryFactory = queryFactory;\n    }\n\n    @Transactional\n    @Override\n    public ShapeDto saveShape(ShapeRequestDto shapeRequestDto, String username) {\n        IShapeService shapeService = shapeServices.stream()\n                .filter(h -&gt; h.getShape().equalsIgnoreCase(shapeRequestDto.getType()))\n                .findFirst()\n                .orElseThrow();\n        return shapeService.save(shapeRequestDto, username);\n    }\n\n    @Override\n    public List&lt;ShapeDto&gt; getFilteredShapes(String createdBy, String type, Double areaFrom, Double areaTo,\n                                            Double perimeterFrom, Double perimeterTo, LocalDateTime createdAtFrom,\n                                            LocalDateTime createdAtTo, Double heightFrom, Double heightTo) {\n        QShape shape = QShape.shape;\n        QSquare square = QSquare.square;\n        QCircle circle = QCircle.circle;\n\n        BooleanBuilder predicate = new BooleanBuilder();\n\n        if (createdBy != null) {\n            predicate.and(shape.createdBy.username.eq(createdBy));\n        }\n\n        if (type != null) {\n            predicate.and(shape.type.eq(type));\n        }\n\n        if (areaFrom != null || areaTo != null || perimeterFrom != null || perimeterTo != null) {\n            predicate.and(shape.instanceOf(Square.class));\n        }\n\n        if (areaFrom != null) {\n            predicate.and(square.area.goe(areaFrom));\n        }\n\n        if (areaTo != null) {\n            predicate.and(square.area.loe(areaTo));\n        }\n\n        if (perimeterFrom != null) {\n            predicate.and(square.perimeter.goe(perimeterFrom));\n        }\n\n        if (perimeterTo != null) {\n            predicate.and(square.perimeter.loe(perimeterTo));\n        }\n\n        if (heightFrom != null || heightTo != null) {\n            predicate.andAnyOf(square.height.between(heightFrom, heightTo), circle.radius.between(heightFrom, heightTo));\n        }\n\n        if (createdAtFrom != null) {\n            predicate.and(shape.createdAt.goe(createdAtFrom));\n        }\n\n        if (createdAtTo != null) {\n            predicate.and(shape.createdAt.loe(createdAtTo));\n        }\n\n        JPAQuery&lt;Shape&gt; query = queryFactory.selectFrom(shape)\n                .leftJoin(square).on(shape.instanceOf(Square.class))\n                .leftJoin(circle).on(shape.instanceOf(Circle.class))\n                .where(predicate)\n                .groupBy(shape.id); // Grupowanie wyników po id figury\n\n        List&lt;Shape&gt; shapes = query.fetch();\n\n        return shapes.stream()\n                .map(this::convertToDto)\n                .collect(Collectors.toList());\n    }\n    public ShapeDto convertToDto(Shape shape) {\n        ShapeDto shapeDto;\n        if (shape instanceof Square) {\n            shapeDto = convertSquareToDto((Square) shape);\n//        } else if (shape instanceof Circle) {\n//            shapeDto = convertCircleToDto((Circle) shape);\n        } else {\n            shapeDto = new ShapeDto();\n        }\n\n        shapeDto.setId(shape.getId());\n        shapeDto.setType(shape.getType());\n        shapeDto.setCreatedBy(shape.getCreatedBy().getUsername());\n        shapeDto.setCreatedAt(shape.getCreatedAt());\n        shapeDto.setLastModifiedAt(shape.getLastModifiedAt());\n        shapeDto.setLastModifiedBy(shape.getLastModifiedBy());\n\n        return shapeDto;\n    }\n\n    private SquareDto convertSquareToDto(Square square) {\n        SquareDto squareDto = new SquareDto();\n        squareDto.setHeight(square.getHeight());\n        squareDto.setPerimeter(square.getPerimeter());\n        squareDto.setArea(square.getArea());\n        return squareDto;\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class SquareService implements IShapeService {\n\n    private final SquareRepository squareRepository;\n    private final UserRepository userRepository;\n    private final ModelMapper modelMapper;\n    private final SquareFactory squareFactory;\n    private final ShapeRepository shapeRepository;\n\n    public SquareService(SquareRepository squareRepository, UserRepository userRepository, ModelMapper modelMapper, SquareFactory squareFactory, ShapeRepository shapeRepository) {\n        this.squareRepository = squareRepository;\n        this.userRepository = userRepository;\n        this.modelMapper = modelMapper;\n        this.squareFactory = squareFactory;\n        this.shapeRepository = shapeRepository;\n    }\n\n    @Transactional\n    @Override\n    public ShapeDto save(ShapeRequestDto shapeRequestDto, String username) {\n        Square square = squareFactory.createSquare(shapeRequestDto, username);\n        Square squareToSave = squareRepository.save(square);\n        SquareDto squareDto = modelMapper.map(squareToSave, SquareDto.class);\n        squareDto.getCreatedBy();\n        squareDto.setCreatedBy(square.getCreatedBy().getUsername());\n        squareDto.setArea(square.getArea());\n        squareDto.setPerimeter(square.getPerimeter());\n        return squareDto;\n    }\n\n    @Override\n    public String getShape() {\n        return &quot;SQUARE&quot;;\n    }\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/shapes&quot;)\npublic class ShapeController {\n\n    private final IShapeManagementService shapeManagementService;\n\n    public ShapeController(IShapeManagementService shapeManagementService) {\n        this.shapeManagementService = shapeManagementService;\n    }\n    \n    @PreAuthorize(&quot;hasRole('ROLE_CREATOR')&quot;)\n    @PostMapping\n    public ResponseEntity&lt;ShapeDto&gt; addShape(@RequestBody ShapeRequestDto shapeRequestDto, Principal p) {\n        ShapeDto shapeDto = shapeManagementService.saveShape(shapeRequestDto, p.getName());\n        return ResponseEntity.status(HttpStatus.CREATED).body(shapeDto);\n\n    }\n    @GetMapping(value = &quot;/parameters&quot;)\n    public ResponseEntity&lt;List&lt;ShapeDto&gt;&gt; getShapes(@RequestParam(required = false) String createdBy,\n                                                    @RequestParam(required = false) String type,\n                                                    @RequestParam(required = false) Double areaFrom,\n                                                    @RequestParam(required = false) Double areaTo,\n                                                    @RequestParam(required = false) Double perimeterFrom,\n                                                    @RequestParam(required = false) Double perimeterTo,\n                                                    @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;) LocalDateTime createdAtFrom,\n                                                    @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;) LocalDateTime createdAtTo,\n                                                    @RequestParam(required = false) Double heightFrom,\n                                                    @RequestParam(required = false) Double heightTo) {\n        List&lt;ShapeDto&gt; filteredShapes = shapeManagementService.getFilteredShapes(\n                createdBy, type, areaFrom, areaTo, perimeterFrom, perimeterTo, createdAtFrom, createdAtTo, heightFrom, heightTo);\n\n        return ResponseEntity.status(HttpStatus.OK).body(filteredShapes);\n    }\n}\n\n\n\n\nI tried searching all over the internet.\n</code></pre>\n"},{"tags":["java","android","kotlin","statusbar","android-statusbar"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":3,"creation_date":1690196997,"post_id":76753866,"comment_id":135315012,"body_markdown":"What is the SDK?","body":"What is the SDK?"},{"owner":{"account_id":29079906,"reputation":1,"user_id":22276197,"display_name":"Anas Khan"},"score":0,"creation_date":1690199611,"post_id":76753866,"comment_id":135315552,"body_markdown":"A sdk is software development kit. In android people can build their own modules which can help people develop their app with less code. I our app we are using a third party sdk for payment interation.","body":"A sdk is software development kit. In android people can build their own modules which can help people develop their app with less code. I our app we are using a third party sdk for payment interation."},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1690199774,"post_id":76753866,"comment_id":135315587,"body_markdown":"Not &quot;what is a SDK&quot; but what 3rd party SDK are you using.","body":"Not &quot;what is a SDK&quot; but what 3rd party SDK are you using."},{"owner":{"account_id":29079906,"reputation":1,"user_id":22276197,"display_name":"Anas Khan"},"score":0,"creation_date":1690200620,"post_id":76753866,"comment_id":135315776,"body_markdown":"There is a payment gateway in india.Can&#39;t disclose the name but what i found that when that sdk initiates it has color red as colorPrimaryDark in resource file. Once its job done it closes by self. But status bar color remains red instead of turn back blue which if defined in my own resource file as colorPrimaryDark","body":"There is a payment gateway in india.Can&#39;t disclose the name but what i found that when that sdk initiates it has color red as colorPrimaryDark in resource file. Once its job done it closes by self. But status bar color remains red instead of turn back blue which if defined in my own resource file as colorPrimaryDark"}],"answers":[{"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690219564,"creation_date":1690219564,"answer_id":76756779,"question_id":76753866,"body_markdown":"I guess the SDK which you use, are changing status bar color programmatically using your activity&#39;s `window` so the changed color remains even after the SDK stops.\r\nyou can use this code (in kotlin) to change the status bar color after the SDK is finished.\r\n\r\n```kotlin\r\nwindow.statusBarColor = ContextCompat.getColor(this, R.color.purple_200)\r\n```\r\n \r\nPlace the above code where you are sure the SDK is finished. (based on SDK&#39;s documents)","title":"We are using a android SDK for payment.That sdk changes colorPrimaryDark to red. After payment status bar remains red instead of turn back to blue","body":"<p>I guess the SDK which you use, are changing status bar color programmatically using your activity's <code>window</code> so the changed color remains even after the SDK stops.\nyou can use this code (in kotlin) to change the status bar color after the SDK is finished.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>window.statusBarColor = ContextCompat.getColor(this, R.color.purple_200)\n</code></pre>\n<p>Place the above code where you are sure the SDK is finished. (based on SDK's documents)</p>\n"}],"owner":{"account_id":29079906,"reputation":1,"user_id":22276197,"display_name":"Anas Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690219564,"creation_date":1690196884,"question_id":76753866,"body_markdown":"Our android app has blue color as colorPrimaryDark in resources which is responsible for status bar color. We are using a third party sdk for payment. Whenever we initiate that sdk it changes the color to red. And after completion of payment the status bar remains red. It might be caused by the changes in value of colorPrimaryDark.\r\n\r\nIs there any way so that i can ovrride that colorPrimaryDark key whenever sdk stop doing it&#39;s work.\r\n\r\nI tried to change in theme file.","title":"We are using a android SDK for payment.That sdk changes colorPrimaryDark to red. After payment status bar remains red instead of turn back to blue","body":"<p>Our android app has blue color as colorPrimaryDark in resources which is responsible for status bar color. We are using a third party sdk for payment. Whenever we initiate that sdk it changes the color to red. And after completion of payment the status bar remains red. It might be caused by the changes in value of colorPrimaryDark.</p>\n<p>Is there any way so that i can ovrride that colorPrimaryDark key whenever sdk stop doing it's work.</p>\n<p>I tried to change in theme file.</p>\n"},{"tags":["java","salesforce","apex","salesforce-lightning","lwc"],"answers":[{"tags":[],"owner":{"account_id":13338008,"reputation":96,"user_id":9627216,"display_name":"Barouch Kandov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690219069,"creation_date":1690219069,"answer_id":76756730,"question_id":76267183,"body_markdown":"did you check the return property: maintenanceCycles have any record inside before returning the first element in the list?","title":"Why is this code not passing the check challenge?","body":"<p>did you check the return property: maintenanceCycles have any record inside before returning the first element in the list?</p>\n"}],"owner":{"account_id":28615663,"reputation":1,"user_id":21909724,"display_name":"Rafael Moraes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690219069,"creation_date":1684272660,"question_id":76267183,"body_markdown":"I&#39;m currently studying for my first superbadge, and it&#39;s been quite an adventure so far! However, I&#39;ve hit a roadblock on the second task **(Automate record creation)** and could really use some assistance...\r\n\r\nIf anyone has any insights or tips regarding the second task, I would greatly appreciate your guidance. Feel free to check out the task details *(https://trailhead.salesforce.com/content/learn/superbadges/superbadge_apex)* for more context. \r\n\r\nThanks in advance for your help!\r\n\r\nMy code (Trigger Helper):\r\n    \r\n    public with sharing class MaintenanceRequestHelper {\r\n    public static void createMaintenanceRequests(List&lt;Case&gt; newData, Map&lt;Id, Case&gt; oldData) {\r\n        \r\n        Set&lt;Id&gt; casesIds = new Set&lt;Id&gt;();\r\n        for(Case c : newData){\r\n            if(oldData.get(c.Id).Status != &#39;Closed&#39; &amp;&amp; c.Status == &#39;Closed&#39;){\r\n                if(c.Type == &#39;Repair&#39; || c.Type == &#39;Routine Maintenance&#39;){\r\n                    casesIds.add(c.Id);\r\n                }\r\n            }\r\n        }\r\n        \r\n        Double minMaintenanceCycle = requestDue(casesIds);\r\n        Integer daysToAdd = Math.round(minMaintenanceCycle);\r\n        Date today = System.today();\r\n        \r\n        List&lt;Case&gt; newCases = new List&lt;Case&gt;();\r\n        \r\n        for(Case cc : [SELECT Id, ParentId, Vehicle__c, Vehicle__r.Name, (SELECT Equipment__c, Maintenance_Request__c, Quantity__c FROM Equipment_Maintenance_Items__r) FROM Case WHERE Id IN :casesIds]){\r\n            Case nc = new Case();\r\n            nc.ParentId = cc.Id;\r\n            nc.Status = &#39;New&#39;;\r\n            nc.Subject = &#39;Maintenance Request for &#39; + cc.Vehicle__r.Name;\r\n            nc.Type = &#39;Routine Maintenance&#39;;\r\n            nc.Vehicle__c = cc.Vehicle__c;\r\n           \r\n            for (Equipment_Maintenance_Item__c eq : cc.Equipment_Maintenance_Items__r) {\r\n                Equipment_Maintenance_Item__c newEq = new Equipment_Maintenance_Item__c();\r\n                newEq.Equipment__c = eq.Equipment__c;\r\n                newEq.Maintenance_Request__c = eq.Maintenance_Request__c;\r\n                newEq.Quantity__c = eq.Quantity__c;\r\n                nc.Equipment_Maintenance_Items__r.add(newEq);\r\n            }\r\n\r\n            nc.Date_Reported__c = today;\r\n            nc.Date_Due__c = today.addDays(daysToAdd);\r\n            newCases.add(nc);\r\n        }\r\n\r\n        try {\r\n            insert newCases;\r\n        } catch (DMLException e) {\r\n            System.debug(e);\r\n        }\r\n\r\n    }\r\n\r\n    public static Double requestDue(Set&lt;Id&gt; validIds){\r\n        List&lt;Case&gt; cases = [SELECT (SELECT Equipment__c, Maintenance_Request__c, Quantity__c FROM Equipment_Maintenance_Items__r) FROM Case WHERE Id IN :validIds];\r\n        \r\n        Set&lt;Id&gt; equipIds = new Set&lt;Id&gt;();\r\n        for (Case c : cases) {\r\n            for (Equipment_Maintenance_Item__c emi : c.Equipment_Maintenance_Items__r) {\r\n                equipIds.add(emi.Equipment__c);\r\n            }\r\n        }\r\n        List&lt;Double&gt; maintenanceCycles = new List&lt;Double&gt;();\r\n        List&lt;Product2&gt; equipmentList = [SELECT Maintenance_Cycle__c FROM Product2 WHERE Id IN :equipIds];\r\n        for (Product2 p : equipmentList) {\r\n            maintenanceCycles.add(p.Maintenance_Cycle__c);\r\n        }\r\n\r\n        maintenanceCycles.sort();\r\n        return maintenanceCycles[0];\r\n    }\r\n    }\r\n\r\nTrigger itself:\r\n\r\n    trigger MaintenanceRequest on Case (before update, after update) {\r\n    if(Trigger.isUpdate &amp;&amp; Trigger.isAfter){\r\n        MaintenanceRequestHelper.createMaintenanceRequests(Trigger.New, Trigger.OldMap);\r\n    }\r\n    }\r\n\r\nI got the error **out of bounds** from the maintenanceCycles (A list of Double values), but it doesn&#39;t make sense for me...\r\n\r\nERROR:\r\n\r\nThere was an unexpected error in your org which is preventing this assessment check from completing: System.DmlException: Update failed. First exception on row 0 with id 5008b00002KYlQbAAL; first error: CANNOT_INSERT_UPDATE_ACTIVATE_ENTITY, MaintenanceRequest: execution of AfterUpdate caused by: System.ListException: List index out of bounds: 1 Class.MaintenanceRequestHelper.requestDue: line 64, column 1 Class.MaintenanceRequestHelper.createMaintenanceRequests: line 13, column 1            Trigger.MaintenanceRequest: line 3, column 1: []*","title":"Why is this code not passing the check challenge?","body":"<p>I'm currently studying for my first superbadge, and it's been quite an adventure so far! However, I've hit a roadblock on the second task <strong>(Automate record creation)</strong> and could really use some assistance...</p>\n<p>If anyone has any insights or tips regarding the second task, I would greatly appreciate your guidance. Feel free to check out the task details <em>(<a href=\"https://trailhead.salesforce.com/content/learn/superbadges/superbadge_apex\" rel=\"nofollow noreferrer\">https://trailhead.salesforce.com/content/learn/superbadges/superbadge_apex</a>)</em> for more context.</p>\n<p>Thanks in advance for your help!</p>\n<p>My code (Trigger Helper):</p>\n<pre><code>public with sharing class MaintenanceRequestHelper {\npublic static void createMaintenanceRequests(List&lt;Case&gt; newData, Map&lt;Id, Case&gt; oldData) {\n    \n    Set&lt;Id&gt; casesIds = new Set&lt;Id&gt;();\n    for(Case c : newData){\n        if(oldData.get(c.Id).Status != 'Closed' &amp;&amp; c.Status == 'Closed'){\n            if(c.Type == 'Repair' || c.Type == 'Routine Maintenance'){\n                casesIds.add(c.Id);\n            }\n        }\n    }\n    \n    Double minMaintenanceCycle = requestDue(casesIds);\n    Integer daysToAdd = Math.round(minMaintenanceCycle);\n    Date today = System.today();\n    \n    List&lt;Case&gt; newCases = new List&lt;Case&gt;();\n    \n    for(Case cc : [SELECT Id, ParentId, Vehicle__c, Vehicle__r.Name, (SELECT Equipment__c, Maintenance_Request__c, Quantity__c FROM Equipment_Maintenance_Items__r) FROM Case WHERE Id IN :casesIds]){\n        Case nc = new Case();\n        nc.ParentId = cc.Id;\n        nc.Status = 'New';\n        nc.Subject = 'Maintenance Request for ' + cc.Vehicle__r.Name;\n        nc.Type = 'Routine Maintenance';\n        nc.Vehicle__c = cc.Vehicle__c;\n       \n        for (Equipment_Maintenance_Item__c eq : cc.Equipment_Maintenance_Items__r) {\n            Equipment_Maintenance_Item__c newEq = new Equipment_Maintenance_Item__c();\n            newEq.Equipment__c = eq.Equipment__c;\n            newEq.Maintenance_Request__c = eq.Maintenance_Request__c;\n            newEq.Quantity__c = eq.Quantity__c;\n            nc.Equipment_Maintenance_Items__r.add(newEq);\n        }\n\n        nc.Date_Reported__c = today;\n        nc.Date_Due__c = today.addDays(daysToAdd);\n        newCases.add(nc);\n    }\n\n    try {\n        insert newCases;\n    } catch (DMLException e) {\n        System.debug(e);\n    }\n\n}\n\npublic static Double requestDue(Set&lt;Id&gt; validIds){\n    List&lt;Case&gt; cases = [SELECT (SELECT Equipment__c, Maintenance_Request__c, Quantity__c FROM Equipment_Maintenance_Items__r) FROM Case WHERE Id IN :validIds];\n    \n    Set&lt;Id&gt; equipIds = new Set&lt;Id&gt;();\n    for (Case c : cases) {\n        for (Equipment_Maintenance_Item__c emi : c.Equipment_Maintenance_Items__r) {\n            equipIds.add(emi.Equipment__c);\n        }\n    }\n    List&lt;Double&gt; maintenanceCycles = new List&lt;Double&gt;();\n    List&lt;Product2&gt; equipmentList = [SELECT Maintenance_Cycle__c FROM Product2 WHERE Id IN :equipIds];\n    for (Product2 p : equipmentList) {\n        maintenanceCycles.add(p.Maintenance_Cycle__c);\n    }\n\n    maintenanceCycles.sort();\n    return maintenanceCycles[0];\n}\n}\n</code></pre>\n<p>Trigger itself:</p>\n<pre><code>trigger MaintenanceRequest on Case (before update, after update) {\nif(Trigger.isUpdate &amp;&amp; Trigger.isAfter){\n    MaintenanceRequestHelper.createMaintenanceRequests(Trigger.New, Trigger.OldMap);\n}\n}\n</code></pre>\n<p>I got the error <strong>out of bounds</strong> from the maintenanceCycles (A list of Double values), but it doesn't make sense for me...</p>\n<p>ERROR:</p>\n<p>There was an unexpected error in your org which is preventing this assessment check from completing: System.DmlException: Update failed. First exception on row 0 with id 5008b00002KYlQbAAL; first error: CANNOT_INSERT_UPDATE_ACTIVATE_ENTITY, MaintenanceRequest: execution of AfterUpdate caused by: System.ListException: List index out of bounds: 1 Class.MaintenanceRequestHelper.requestDue: line 64, column 1 Class.MaintenanceRequestHelper.createMaintenanceRequests: line 13, column 1            Trigger.MaintenanceRequest: line 3, column 1: []*</p>\n"},{"tags":["java","database","h2"],"comments":[{"owner":{"account_id":251211,"reputation":32622,"user_id":528428,"accept_rate":80,"display_name":"Benjamin Muschko"},"score":2,"creation_date":1303560194,"post_id":5763747,"comment_id":6601039,"body_markdown":"After switching to in-memory mode you got to create the table `Person` again. H2 doesn&#39;t know anything about the database you created on disk before.","body":"After switching to in-memory mode you got to create the table <code>Person</code> again. H2 doesn&#39;t know anything about the database you created on disk before."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1303598155,"post_id":5763747,"comment_id":6605864,"body_markdown":"The rest of the program didn&#39;t change - I did create the table again.","body":"The rest of the program didn&#39;t change - I did create the table again."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1544130915,"post_id":5763747,"comment_id":94177805,"body_markdown":"See: [*Keep H2 in-memory database between connections*](https://dba.stackexchange.com/q/224338/19079)","body":"See: <a href=\"https://dba.stackexchange.com/q/224338/19079\"><i>Keep H2 in-memory database between connections</i></a>"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1676825216,"post_id":5763747,"comment_id":133210882,"body_markdown":"How do you connect? I suspect you are connecting to different database, as you don&#39;t specify anything(hint: it cannot be created in server mode just by changing URL). In-memory database needs to be created in server mode to allow more than 1 connection; without server mode, it&#39;s private to the same JVM and cannot be connected from other processes. That&#39;s why I think you are recreating the db and you don&#39;t see the data of application db. So, or you create a file and use server mode, or you create in-memory db but also in server mode. And you need to connect with TCP. See my answer.","body":"How do you connect? I suspect you are connecting to different database, as you don&#39;t specify anything(hint: it cannot be created in server mode just by changing URL). In-memory database needs to be created in server mode to allow more than 1 connection; without server mode, it&#39;s private to the same JVM and cannot be connected from other processes. That&#39;s why I think you are recreating the db and you don&#39;t see the data of application db. So, or you create a file and use server mode, or you create in-memory db but also in server mode. And you need to connect with TCP. See my answer."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1676840197,"post_id":5763747,"comment_id":133213715,"body_markdown":"@WesternGun Thanks for the input but this question has already been answered correctly over 10 years ago.","body":"@WesternGun Thanks for the input but this question has already been answered correctly over 10 years ago."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1676878677,"post_id":5763747,"comment_id":133218950,"body_markdown":"Actually just found that if I use the accepted answer, next launch of app will see &quot;Address already in use&quot; because the previous session occupies the same port, so there&#39;s some side effect and the correct answer may not be the real solution here.","body":"Actually just found that if I use the accepted answer, next launch of app will see &quot;Address already in use&quot; because the previous session occupies the same port, so there&#39;s some side effect and the correct answer may not be the real solution here."}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1303598510,"post_id":5764011,"comment_id":6605911,"body_markdown":"I&#39;ll try this tomorrow, thanks. The H2 version is the one I got off the site today: 1.3.154","body":"I&#39;ll try this tomorrow, thanks. The H2 version is the one I got off the site today: 1.3.154"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1303647055,"post_id":5764011,"comment_id":6610159,"body_markdown":"I think I found the problem. When I close the connection the table was created with, then open a new one, the db is gone. When I open a new connection before I close the previous one, the data remains. When I use a file, the data (obviously) always remains.","body":"I think I found the problem. When I close the connection the table was created with, then open a new one, the db is gone. When I open a new connection before I close the previous one, the data remains. When I use a file, the data (obviously) always remains."}],"tags":[],"owner":{"account_id":259521,"reputation":4921,"user_id":542461,"display_name":"Joseph Ottinger"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1303559269,"creation_date":1303559269,"answer_id":5764011,"question_id":5763747,"body_markdown":"Hard to tell. I created a program to test this: \r\n\r\n\r\n    package com.gigaspaces.compass;\r\n\r\n    import org.testng.annotations.Test;\r\n\r\n    import java.sql.*;\r\n\r\n    public class H2Test {\r\n    @Test\r\n    public void testDatabaseNoMem() throws SQLException {\r\n        testDatabase(&quot;jdbc:h2:test&quot;);\r\n    }\r\n    @Test\r\n    public void testDatabaseMem() throws SQLException {\r\n        testDatabase(&quot;jdbc:h2:mem:test&quot;);\r\n    }\r\n\r\n    private void testDatabase(String url) throws SQLException {\r\n        Connection connection= DriverManager.getConnection(url);\r\n        Statement s=connection.createStatement();\r\n        try {\r\n        s.execute(&quot;DROP TABLE PERSON&quot;);\r\n        } catch(SQLException sqle) {\r\n            System.out.println(&quot;Table not found, not dropping&quot;);\r\n        }\r\n        s.execute(&quot;CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))&quot;);\r\n        PreparedStatement ps=connection.prepareStatement(&quot;select * from PERSON&quot;);\r\n        ResultSet r=ps.executeQuery();\r\n        if(r.next()) {\r\n            System.out.println(&quot;data?&quot;);\r\n        }\r\n        r.close();\r\n        ps.close();\r\n        s.close();\r\n        connection.close();\r\n    }\r\n    }\r\n\r\nThe test ran to completion, with no failures and no unexpected output. Which version of h2 are you running?","title":"H2 in-memory database. Table not found","body":"<p>Hard to tell. I created a program to test this: </p>\n\n<pre><code>package com.gigaspaces.compass;\n\nimport org.testng.annotations.Test;\n\nimport java.sql.*;\n\npublic class H2Test {\n@Test\npublic void testDatabaseNoMem() throws SQLException {\n    testDatabase(\"jdbc:h2:test\");\n}\n@Test\npublic void testDatabaseMem() throws SQLException {\n    testDatabase(\"jdbc:h2:mem:test\");\n}\n\nprivate void testDatabase(String url) throws SQLException {\n    Connection connection= DriverManager.getConnection(url);\n    Statement s=connection.createStatement();\n    try {\n    s.execute(\"DROP TABLE PERSON\");\n    } catch(SQLException sqle) {\n        System.out.println(\"Table not found, not dropping\");\n    }\n    s.execute(\"CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))\");\n    PreparedStatement ps=connection.prepareStatement(\"select * from PERSON\");\n    ResultSet r=ps.executeQuery();\n    if(r.next()) {\n        System.out.println(\"data?\");\n    }\n    r.close();\n    ps.close();\n    s.close();\n    connection.close();\n}\n}\n</code></pre>\n\n<p>The test ran to completion, with no failures and no unexpected output. Which version of h2 are you running?</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1303564017,"post_id":5764068,"comment_id":6601455,"body_markdown":"Please note that the `registerDriver()` call is unnecessary: First of: a simple Class.forName() does the same for most JDBC drivers **and** (more importantly) it&#39;s completely unnecessary for Java 6 und up, which auto-detects (compatible) JDBC drivers on the classpath.","body":"Please note that the <code>registerDriver()</code> call is unnecessary: First of: a simple Class.forName() does the same for most JDBC drivers <b>and</b> (more importantly) it&#39;s completely unnecessary for Java 6 und up, which auto-detects (compatible) JDBC drivers on the classpath."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1303598346,"post_id":5764068,"comment_id":6605893,"body_markdown":"An in memory db exists only as long as the program that owns the memory is running? Wow, I had no idea &gt;_&lt;\nBut really, I know what I&#39;m trying to do. Reading your answer, I&#39;m not sure you do.","body":"An in memory db exists only as long as the program that owns the memory is running? Wow, I had no idea &gt;_&lt; But really, I know what I&#39;m trying to do. Reading your answer, I&#39;m not sure you do."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":2,"creation_date":1303631036,"post_id":5764068,"comment_id":6608714,"body_markdown":"@Jorn: I might not know what you&#39;re trying to do, I&#39;m guessing based on what information you provided.  It may have been more helpful to provide an SSCCE (http://sscce.org/) demonstrating your problem - I wouldn&#39;t call your question &#39;complete&#39; in that respect.   I provided the above answer because there are people on SO (newcomers to programming, mainly) that might think that an &#39;in-memory&#39; database stores the data in the computer&#39;s memory somewhere where it could survive between program invocations.  Your question wasn&#39;t complete enough to convince me you weren&#39;t one of these people.","body":"@Jorn: I might not know what you&#39;re trying to do, I&#39;m guessing based on what information you provided.  It may have been more helpful to provide an SSCCE (<a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce.org</a>) demonstrating your problem - I wouldn&#39;t call your question &#39;complete&#39; in that respect.   I provided the above answer because there are people on SO (newcomers to programming, mainly) that might think that an &#39;in-memory&#39; database stores the data in the computer&#39;s memory somewhere where it could survive between program invocations.  Your question wasn&#39;t complete enough to convince me you weren&#39;t one of these people."}],"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1303560433,"creation_date":1303560433,"answer_id":5764068,"question_id":5763747,"body_markdown":"The H2 in-memory database stores data in memory inside the JVM.  When the JVM exits, this data is lost.  \r\n\r\nI suspect that what you are doing is similar to the two Java classes below.  One of these classes creates a table and the other tries to insert into it:\r\n\r\n    import java.sql.*;\r\n    \r\n    public class CreateTable {\r\n        public static void main(String[] args) throws Exception {\r\n            DriverManager.registerDriver(new org.h2.Driver());\r\n            Connection c = DriverManager.getConnection(&quot;jdbc:h2:mem:test&quot;);\r\n            PreparedStatement stmt = c.prepareStatement(&quot;CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))&quot;);\r\n            stmt.execute();\r\n            stmt.close();\r\n            c.close();\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    import java.sql.*;\r\n    \r\n    public class InsertIntoTable {\r\n        public static void main(String[] args) throws Exception {\r\n            DriverManager.registerDriver(new org.h2.Driver());\r\n            Connection c = DriverManager.getConnection(&quot;jdbc:h2:mem:test&quot;);\r\n            PreparedStatement stmt = c.prepareStatement(&quot;INSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, &#39;John&#39;, &#39;Doe&#39;)&quot;);\r\n            stmt.execute();\r\n            stmt.close();\r\n            c.close();\r\n        }\r\n    }\r\n\r\nWhen I ran these classes one after the other, I got the following output:\r\n\r\n&lt;pre&gt;\r\nC:\\Users\\Luke\\stuff&gt;java CreateTable\r\n\r\nC:\\Users\\Luke\\stuff&gt;java InsertIntoTable\r\nException in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Table &quot;PERSON&quot; not found; SQL statement:\r\nINSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, &#39;John&#39;, &#39;Doe&#39;) [42102-154]\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:327)\r\n        at org.h2.message.DbException.get(DbException.java:167)\r\n        at org.h2.message.DbException.get(DbException.java:144)\r\n        ...\r\n&lt;/pre&gt;\r\nAs soon as the first `java` process exits, the table created by `CreateTable` no longer exists.  So, when the InsertIntoTable class comes along, there&#39;s no table for it to insert into.\r\n\r\nWhen I changed the connection strings to `jdbc:h2:test`, I found that there was no such error.  I also found that a file `test.h2.db` had appeared.  This was where H2 had put the table, and since it had been stored on disk, the table was still there for the InsertIntoTable class to find.\r\n\r\n","title":"H2 in-memory database. Table not found","body":"<p>The H2 in-memory database stores data in memory inside the JVM.  When the JVM exits, this data is lost.  </p>\n\n<p>I suspect that what you are doing is similar to the two Java classes below.  One of these classes creates a table and the other tries to insert into it:</p>\n\n<pre><code>import java.sql.*;\n\npublic class CreateTable {\n    public static void main(String[] args) throws Exception {\n        DriverManager.registerDriver(new org.h2.Driver());\n        Connection c = DriverManager.getConnection(\"jdbc:h2:mem:test\");\n        PreparedStatement stmt = c.prepareStatement(\"CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))\");\n        stmt.execute();\n        stmt.close();\n        c.close();\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import java.sql.*;\n\npublic class InsertIntoTable {\n    public static void main(String[] args) throws Exception {\n        DriverManager.registerDriver(new org.h2.Driver());\n        Connection c = DriverManager.getConnection(\"jdbc:h2:mem:test\");\n        PreparedStatement stmt = c.prepareStatement(\"INSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, 'John', 'Doe')\");\n        stmt.execute();\n        stmt.close();\n        c.close();\n    }\n}\n</code></pre>\n\n<p>When I ran these classes one after the other, I got the following output:</p>\n\n<pre>\nC:\\Users\\Luke\\stuff>java CreateTable\n\nC:\\Users\\Luke\\stuff>java InsertIntoTable\nException in thread \"main\" org.h2.jdbc.JdbcSQLException: Table \"PERSON\" not found; SQL statement:\nINSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, 'John', 'Doe') [42102-154]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:327)\n        at org.h2.message.DbException.get(DbException.java:167)\n        at org.h2.message.DbException.get(DbException.java:144)\n        ...\n</pre>\n\n<p>As soon as the first <code>java</code> process exits, the table created by <code>CreateTable</code> no longer exists.  So, when the InsertIntoTable class comes along, there's no table for it to insert into.</p>\n\n<p>When I changed the connection strings to <code>jdbc:h2:test</code>, I found that there was no such error.  I also found that a file <code>test.h2.db</code> had appeared.  This was where H2 had put the table, and since it had been stored on disk, the table was still there for the InsertIntoTable class to find.</p>\n"},{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1304959599,"post_id":5936988,"comment_id":6845882,"body_markdown":"I found the problem myself in the mean time, but yeah, this is completely correct. Thanks!","body":"I found the problem myself in the mean time, but yeah, this is completely correct. Thanks!"},{"owner":{"account_id":10475,"reputation":8823,"user_id":19820,"accept_rate":41,"display_name":"Peter Becker"},"score":5,"creation_date":1404174238,"post_id":5936988,"comment_id":37929826,"body_markdown":"And it has to be a named in-memory database, i.e. `jdbc:h2:mem:;DB_CLOSE_DELAY=-1` does not work.","body":"And it has to be a named in-memory database, i.e. <code>jdbc:h2:mem:;DB_CLOSE_DELAY=-1</code> does not work."},{"owner":{"account_id":2992448,"reputation":1048,"user_id":2539746,"accept_rate":55,"display_name":"Suleman khan"},"score":0,"creation_date":1452546907,"post_id":5936988,"comment_id":57208567,"body_markdown":"how can we store data in the file instead of memory ?","body":"how can we store data in the file instead of memory ?"},{"owner":{"account_id":5671528,"reputation":633,"user_id":4486017,"display_name":"Oleksandr Petrenko"},"score":19,"creation_date":1494555938,"post_id":5936988,"comment_id":74889701,"body_markdown":"if you use lower case for naming your tables in a code you should know that H2  uppercase everything by default \nuse DATABASE_TO_UPPER=false to avoid it \ne.g.\njdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;","body":"if you use lower case for naming your tables in a code you should know that H2  uppercase everything by default  use DATABASE_TO_UPPER=false to avoid it  e.g. jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;"},{"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"score":0,"creation_date":1516917172,"post_id":5936988,"comment_id":83898150,"body_markdown":"@OleksandrPetrenko - that trailing &#39;;&#39; seems to cause problems. I think you need to leave that out.","body":"@OleksandrPetrenko - that trailing &#39;;&#39; seems to cause problems. I think you need to leave that out."},{"owner":{"account_id":1326683,"reputation":2390,"user_id":1271359,"display_name":"Holger Ludvigsen"},"score":0,"creation_date":1520436244,"post_id":5936988,"comment_id":85315490,"body_markdown":"This behaviour of H2 is documented here: http://www.h2database.com/html/features.html#in_memory_databases","body":"This behaviour of H2 is documented here: <a href=\"http://www.h2database.com/html/features.html#in_memory_databases\" rel=\"nofollow noreferrer\">h2database.com/html/features.html#in_memory_databases</a>"},{"owner":{"account_id":6747645,"reputation":136,"user_id":5200161,"display_name":"kezhenxu94"},"score":0,"creation_date":1559187259,"post_id":5936988,"comment_id":99344810,"body_markdown":"@Oleksandr Petrenko exactly solved my problem, thanks very much :)","body":"@Oleksandr Petrenko exactly solved my problem, thanks very much :)"}],"tags":[],"owner":{"account_id":387025,"reputation":4276,"user_id":745139,"display_name":"reini2901"},"comment_count":7,"down_vote_count":0,"up_vote_count":426,"is_accepted":true,"score":426,"last_activity_date":1592693210,"creation_date":1304944749,"answer_id":5936988,"question_id":5763747,"body_markdown":"# `DB_CLOSE_DELAY=-1`\r\n\r\nhbm2ddl closes the connection after creating the table, so h2 discards it.\r\n\r\nIf you have your connection-url configured like this\r\n\r\n    jdbc:h2:mem:test\r\n\r\nthe content of the database is lost at the moment the last connection is closed.\r\n\r\nIf you want to keep your content you have to configure the url like this\r\n\r\n    jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\n\r\nIf doing so, **h2** will keep its content as long as the **vm** lives. \r\n\r\nNotice the semicolon (`;`) rather than colon (`:`). \r\n\r\n\r\nSee the [*In-Memory Databases*](http://h2database.com/html/features.html#in_memory_databases) section of the *Features* page. To quote:\r\n\r\n&gt;By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add `;DB_CLOSE_DELAY=-1` to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use `jdbc:h2:mem:test;DB_CLOSE_DELAY=-1`.","title":"H2 in-memory database. Table not found","body":"<h1><code>DB_CLOSE_DELAY=-1</code></h1>\n<p>hbm2ddl closes the connection after creating the table, so h2 discards it.</p>\n<p>If you have your connection-url configured like this</p>\n<pre><code>jdbc:h2:mem:test\n</code></pre>\n<p>the content of the database is lost at the moment the last connection is closed.</p>\n<p>If you want to keep your content you have to configure the url like this</p>\n<pre><code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n</code></pre>\n<p>If doing so, <strong>h2</strong> will keep its content as long as the <strong>vm</strong> lives.</p>\n<p>Notice the semicolon (<code>;</code>) rather than colon (<code>:</code>).</p>\n<p>See the <a href=\"http://h2database.com/html/features.html#in_memory_databases\" rel=\"noreferrer\"><em>In-Memory Databases</em></a> section of the <em>Features</em> page. To quote:</p>\n<blockquote>\n<p>By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add <code>;DB_CLOSE_DELAY=-1</code> to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use <code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1</code>.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":939543,"reputation":2698,"user_id":967863,"accept_rate":57,"display_name":"ms-tg"},"score":11,"creation_date":1384378200,"post_id":17925668,"comment_id":29717714,"body_markdown":"Wow - I&#39;m very glad you shared this one! never would have thought of that.","body":"Wow - I&#39;m very glad you shared this one! never would have thought of that."},{"owner":{"account_id":435719,"reputation":513,"user_id":822461,"display_name":"Yaytay"},"score":1,"creation_date":1421928726,"post_id":17925668,"comment_id":44553659,"body_markdown":"Not the solution to the question that was asked, but the solution to the problem I was having when searching with the same question!","body":"Not the solution to the question that was asked, but the solution to the problem I was having when searching with the same question!"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1446633718,"post_id":17925668,"comment_id":54820835,"body_markdown":"Is it possible to set this `DATABASE_TO_UPPER=false` thing as an SQL statement in an init script? (Similarly as a statement like `SET MODE PostgreSQL;`) If so, what is the exact syntax?","body":"Is it possible to set this <code>DATABASE_TO_UPPER=false</code> thing as an SQL statement in an init script? (Similarly as a statement like <code>SET MODE PostgreSQL;</code>) If so, what is the exact syntax?"},{"owner":{"account_id":4168820,"reputation":448,"user_id":4996236,"display_name":"Ribesg"},"score":7,"creation_date":1491682042,"post_id":17925668,"comment_id":73665207,"body_markdown":"How can I upvote this multiple times? Thanks a lot! This should be part of the first answer.","body":"How can I upvote this multiple times? Thanks a lot! This should be part of the first answer."}],"tags":[],"owner":{"account_id":110730,"reputation":3980,"user_id":292921,"accept_rate":72,"display_name":"Cristian Vrabie"},"comment_count":4,"down_vote_count":1,"up_vote_count":158,"is_accepted":false,"score":157,"last_activity_date":1375105339,"creation_date":1375105339,"answer_id":17925668,"question_id":5763747,"body_markdown":"I know this was not your case but I had the same problem because H2 was creating the tables with UPPERCASE names then behaving case-sensitive, even though in all scripts (including in the creation ones) i used lowercase. \r\n\r\nSolved by adding `;DATABASE_TO_UPPER=false` to the connection URL. ","title":"H2 in-memory database. Table not found","body":"<p>I know this was not your case but I had the same problem because H2 was creating the tables with UPPERCASE names then behaving case-sensitive, even though in all scripts (including in the creation ones) i used lowercase. </p>\n\n<p>Solved by adding <code>;DATABASE_TO_UPPER=false</code> to the connection URL. </p>\n"},{"tags":[],"owner":{"account_id":1016479,"reputation":4497,"user_id":1074245,"display_name":"Oscar Fraxedas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419370374,"creation_date":1419370374,"answer_id":27628322,"question_id":5763747,"body_markdown":"I came to this post because I had the same error.\r\n\r\nIn my case the database evolutions weren&#39;t been executed, so the table wasn&#39;t there at all.\r\n\r\nMy problem was that the folder structure for the evolution scripts was wrong.\r\n\r\nfrom: https://www.playframework.com/documentation/2.0/Evolutions\r\n&gt; Play tracks your database evolutions using several evolutions script. These scripts are written in plain old SQL and should be located in the conf/evolutions/{database name} directory of your application. If the evolutions apply to your default database, this path is conf/evolutions/default.\r\n\r\nI had a folder called **conf/evolutions.default** created by eclipse. The issue disappeared after I corrected the folder structure to **conf/evolutions/default**","title":"H2 in-memory database. Table not found","body":"<p>I came to this post because I had the same error.</p>\n\n<p>In my case the database evolutions weren't been executed, so the table wasn't there at all.</p>\n\n<p>My problem was that the folder structure for the evolution scripts was wrong.</p>\n\n<p>from: <a href=\"https://www.playframework.com/documentation/2.0/Evolutions\" rel=\"nofollow\">https://www.playframework.com/documentation/2.0/Evolutions</a></p>\n\n<blockquote>\n  <p>Play tracks your database evolutions using several evolutions script. These scripts are written in plain old SQL and should be located in the conf/evolutions/{database name} directory of your application. If the evolutions apply to your default database, this path is conf/evolutions/default.</p>\n</blockquote>\n\n<p>I had a folder called <strong>conf/evolutions.default</strong> created by eclipse. The issue disappeared after I corrected the folder structure to <strong>conf/evolutions/default</strong></p>\n"},{"comments":[{"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"score":0,"creation_date":1496392285,"post_id":41320865,"comment_id":75653233,"body_markdown":"thanks, &quot;testdb&quot; was a fix for me too (in addition to &quot;DB_CLOSE_DELAY=-1&quot;) !","body":"thanks, &quot;testdb&quot; was a fix for me too (in addition to &quot;DB_CLOSE_DELAY=-1&quot;) !"}],"tags":[],"owner":{"account_id":6890236,"reputation":1523,"user_id":5294016,"display_name":"DevDio"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1502370406,"creation_date":1482666465,"answer_id":41320865,"question_id":5763747,"body_markdown":"I have tried to add\r\n \r\n    jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\n\r\nHowever, that didn&#39;t helped. On the [H2 site][1], I have found following, which indeed could help in some cases.\r\n\r\n&gt; By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add ;DB_CLOSE_DELAY=-1 to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use jdbc:h2:mem:test;DB_CLOSE_DELAY=-1.\r\n\r\n\r\n**However**, my issue was that just the schema supposed to be different than default one. So insted of using \r\n\r\n    JDBC URL: jdbc:h2:mem:test\r\n\r\nI had to use:\r\n\r\n    JDBC URL: jdbc:h2:mem:testdb\r\n\r\nThen the tables were visible\r\n\r\n  [1]: http://www.h2database.com/html/features.html","title":"H2 in-memory database. Table not found","body":"<p>I have tried to add</p>\n\n<pre><code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n</code></pre>\n\n<p>However, that didn't helped. On the <a href=\"http://www.h2database.com/html/features.html\" rel=\"noreferrer\">H2 site</a>, I have found following, which indeed could help in some cases.</p>\n\n<blockquote>\n  <p>By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add ;DB_CLOSE_DELAY=-1 to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use jdbc:h2:mem:test;DB_CLOSE_DELAY=-1.</p>\n</blockquote>\n\n<p><strong>However</strong>, my issue was that just the schema supposed to be different than default one. So insted of using </p>\n\n<pre><code>JDBC URL: jdbc:h2:mem:test\n</code></pre>\n\n<p>I had to use:</p>\n\n<pre><code>JDBC URL: jdbc:h2:mem:testdb\n</code></pre>\n\n<p>Then the tables were visible</p>\n"},{"tags":[],"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483209309,"creation_date":1483209309,"answer_id":41410838,"question_id":5763747,"body_markdown":"\t&lt;bean id=&quot;benchmarkDataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;sa&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n","title":"H2 in-memory database. Table not found","body":"<pre><code>&lt;bean id=\"benchmarkDataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"org.h2.Driver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\" /&gt;\n    &lt;property name=\"username\" value=\"sa\" /&gt;\n    &lt;property name=\"password\" value=\"\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15049960,"reputation":65,"user_id":10861928,"display_name":"N.MATHIEU"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546508890,"creation_date":1546508890,"answer_id":54019782,"question_id":5763747,"body_markdown":"Solved by creating a new src/test/resources folder + insert application.properties file, explicitly specifying to create a test dbase :\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create","title":"H2 in-memory database. Table not found","body":"<p>Solved by creating a new src/test/resources folder + insert application.properties file, explicitly specifying to create a test dbase :</p>\n\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11793534,"reputation":982,"user_id":8628851,"display_name":"Georgi Peev"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1554374153,"creation_date":1554374153,"answer_id":55513792,"question_id":5763747,"body_markdown":"I had the same problem and changed my configuration in application-test.properties to this:\r\n\r\n    #Test Properties\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nAnd my dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.198&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nAnd the annotations used on test class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class CommentServicesIntegrationTests {\r\n    ...\r\n    }","title":"H2 in-memory database. Table not found","body":"<p>I had the same problem and changed my configuration in application-test.properties to this:</p>\n\n<pre><code>#Test Properties\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n\n<p>And my dependencies:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.198&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And the annotations used on test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@ActiveProfiles(\"test\")\npublic class CommentServicesIntegrationTests {\n...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1445276,"reputation":8644,"user_id":1364007,"display_name":"Wai Ha Lee"},"score":2,"creation_date":1556330565,"post_id":55873378,"comment_id":98412953,"body_markdown":"This doesn&#39;t add anything not covered by [this](https://stackoverflow.com/a/17925668/1364007) answer. [From Review](https://stackoverflow.com/review/low-quality-posts/22862428).","body":"This doesn&#39;t add anything not covered by <a href=\"https://stackoverflow.com/a/17925668/1364007\">this</a> answer. <a href=\"https://stackoverflow.com/review/low-quality-posts/22862428\">From Review</a>."}],"tags":[],"owner":{"account_id":9269730,"reputation":61,"user_id":6884121,"display_name":"Miguel Angel Vega Pabon"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556304350,"creation_date":1556304350,"answer_id":55873378,"question_id":5763747,"body_markdown":"I was trying to fetch table meta data, but had the following error:\r\n\r\nUsing:\r\n\r\n    String JDBC_URL = &quot;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&quot;;\r\n\r\n    DatabaseMetaData metaData = connection.getMetaData();\r\n    ...\r\n    metaData.getColumns(...);\r\n\r\nreturned an empty ResultSet.\r\n\r\nBut using the following URL instead it worked properly:\r\n\r\n    String JDBC_URL = &quot;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false&quot;;\r\n\r\nThere was a need to specify: **DATABASE_TO_UPPER=false**\r\n","title":"H2 in-memory database. Table not found","body":"<p>I was trying to fetch table meta data, but had the following error:</p>\n\n<p>Using:</p>\n\n<pre><code>String JDBC_URL = \"jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\";\n\nDatabaseMetaData metaData = connection.getMetaData();\n...\nmetaData.getColumns(...);\n</code></pre>\n\n<p>returned an empty ResultSet.</p>\n\n<p>But using the following URL instead it worked properly:</p>\n\n<pre><code>String JDBC_URL = \"jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false\";\n</code></pre>\n\n<p>There was a need to specify: <strong>DATABASE_TO_UPPER=false</strong></p>\n"},{"comments":[{"owner":{"account_id":2188149,"reputation":1083,"user_id":1936023,"accept_rate":52,"display_name":"satish marathe"},"score":2,"creation_date":1617094687,"post_id":57720965,"comment_id":118200318,"body_markdown":"thanks on an interview assignment due in next few hours and lost a couple of valuable hours till I saw this comment , which was the issue !","body":"thanks on an interview assignment due in next few hours and lost a couple of valuable hours till I saw this comment , which was the issue !"}],"tags":[],"owner":{"account_id":2243324,"reputation":6382,"user_id":1977315,"accept_rate":74,"display_name":"nagy.zsolt.hun"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1567143104,"creation_date":1567143104,"answer_id":57720965,"question_id":5763747,"body_markdown":"When opening the h2-console, the JDBC URL must match the one specified in the properties:\r\n\r\n\tspring.datasource.driverClassName=org.h2.Driver\r\n\tspring.datasource.url=jdbc:h2:mem:testdb\r\n\t\r\n\tspring.jpa.hibernate.ddl-auto=create\r\n\tspring.jpa.show-sql=true\r\n\t\r\n\tspring.h2.console.enabled=true\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhich seems obvious, but I spent hours figuring this out..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wEEze.png","title":"H2 in-memory database. Table not found","body":"<p>When opening the h2-console, the JDBC URL must match the one specified in the properties:</p>\n\n<pre><code>spring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb\n\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\n\nspring.h2.console.enabled=true\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wEEze.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wEEze.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which seems obvious, but I spent hours figuring this out..</p>\n"},{"tags":[],"owner":{"account_id":2800134,"reputation":145,"user_id":2408521,"accept_rate":67,"display_name":"Tudor Gafiuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585650168,"creation_date":1585650168,"answer_id":60948345,"question_id":5763747,"body_markdown":"Had the exact same issue, tried all the above, but without success.\r\nThe rather funny cause of the error was that **the JVM started too fast, before the DB table was created** (using a data.sql file in src.main.resources). So I&#39;ve put a Thread.sleep(1000) timer to wait for just a second before calling &quot;select * from person&quot;.\r\nWorking flawlessly now.\r\n\r\napplication.properties:\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n\r\n\r\ndata.sql:\r\n\r\n    create table person\r\n    (\r\n    id integer not null,\r\n    name varchar(255) not null,\r\n    location varchar(255),\r\n    birth_date timestamp,\r\n    primary key(id)\r\n    );\r\n    \r\n    insert into person values (\r\n    10001, &#39;Tofu&#39;, &#39;home&#39;, sysdate()\r\n    );\r\n\r\nPersonJdbcDAO.java:\r\n\r\n        public List&lt;Person&gt; findAllPersons(){\r\n        return jdbcTemplate.query(&quot;select * from person&quot;, \r\n            new BeanPropertyRowMapper&lt;Person&gt;(Person.class));\r\n    }\r\n\r\nmain class:\r\n\r\n\tThread.sleep(1000);\r\n\tlogger.info(&quot;All users -&gt; {}&quot;, dao.findAllPersons());\r\n\r\n","title":"H2 in-memory database. Table not found","body":"<p>Had the exact same issue, tried all the above, but without success.\nThe rather funny cause of the error was that <strong>the JVM started too fast, before the DB table was created</strong> (using a data.sql file in src.main.resources). So I've put a Thread.sleep(1000) timer to wait for just a second before calling \"select * from person\".\nWorking flawlessly now.</p>\n\n<p>application.properties:</p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n</code></pre>\n\n<p>data.sql:</p>\n\n<pre><code>create table person\n(\nid integer not null,\nname varchar(255) not null,\nlocation varchar(255),\nbirth_date timestamp,\nprimary key(id)\n);\n\ninsert into person values (\n10001, 'Tofu', 'home', sysdate()\n);\n</code></pre>\n\n<p>PersonJdbcDAO.java:</p>\n\n<pre><code>    public List&lt;Person&gt; findAllPersons(){\n    return jdbcTemplate.query(\"select * from person\", \n        new BeanPropertyRowMapper&lt;Person&gt;(Person.class));\n}\n</code></pre>\n\n<p>main class:</p>\n\n<pre><code>Thread.sleep(1000);\nlogger.info(\"All users -&gt; {}\", dao.findAllPersons());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"score":0,"creation_date":1609526397,"post_id":61570850,"comment_id":115860370,"body_markdown":"Question has nothing to do with spring, and solving simple problems bu throwing in frameworks is crude","body":"Question has nothing to do with spring, and solving simple problems bu throwing in frameworks is crude"}],"tags":[],"owner":{"account_id":2337627,"reputation":803,"user_id":2049580,"display_name":"Bagesh Sharma"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1611592257,"creation_date":1588489903,"answer_id":61570850,"question_id":5763747,"body_markdown":"I found it working after adding the dependency of ***Spring Data JPA*** -\r\n\r\n    \r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nAdd H2 DB configuration in application.yml -\r\n\r\n    spring:\r\n      datasource:\r\n        driverClassName: org.h2.Driver\r\n        initialization-mode: always\r\n        username: sa\r\n        password: &#39;&#39;\r\n        url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\n      h2:\r\n        console:\r\n          enabled: true\r\n          path: /h2\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.H2Dialect\r\n        hibernate:\r\n          ddl-auto: none\r\n\r\n\r\n","title":"H2 in-memory database. Table not found","body":"<p>I found it working after adding the dependency of <em><strong>Spring Data JPA</strong></em> -</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Add H2 DB configuration in application.yml -</p>\n<pre><code>spring:\n  datasource:\n    driverClassName: org.h2.Driver\n    initialization-mode: always\n    username: sa\n    password: ''\n    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\n  h2:\n    console:\n      enabled: true\n      path: /h2\n  jpa:\n    database-platform: org.hibernate.dialect.H2Dialect\n    hibernate:\n      ddl-auto: none\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7586353,"reputation":475,"user_id":5755317,"display_name":"mathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595410380,"creation_date":1595410380,"answer_id":63031143,"question_id":5763747,"body_markdown":"I have tried the above solution,but in my case as suggested in the console added the property **DB_CLOSE_ON_EXIT=FALSE**, it fixed the issue.\r\n\r\n\r\n\r\n \r\n\r\n     spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_ON_EXIT=FALSE","title":"H2 in-memory database. Table not found","body":"<p>I have tried the above solution,but in my case as suggested in the console added the property <strong>DB_CLOSE_ON_EXIT=FALSE</strong>, it fixed the issue.</p>\n<pre><code> spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_ON_EXIT=FALSE\n</code></pre>\n"},{"comments":[{"owner":{"account_id":154491,"reputation":331,"user_id":3621222,"display_name":"Armando Hoyos"},"score":1,"creation_date":1621047450,"post_id":65339874,"comment_id":119384091,"body_markdown":"I upgraded Spring Boot from 1.3.3.RELEASE to 2.4.4 and adding `;CASE_INSENSITIVE_IDENTIFIERS=TRUE` also did the trick for me.","body":"I upgraded Spring Boot from 1.3.3.RELEASE to 2.4.4 and adding <code>;CASE_INSENSITIVE_IDENTIFIERS=TRUE</code> also did the trick for me."}],"tags":[],"owner":{"account_id":5581952,"reputation":125,"user_id":4423575,"display_name":"stergipe"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620743388,"creation_date":1608204663,"answer_id":65339874,"question_id":5763747,"body_markdown":"I have tried adding `;DATABASE_TO_UPPER=false` parameter, which it did work in a single test, but what did the trick for me was `;CASE_INSENSITIVE_IDENTIFIERS=TRUE`. \r\n\r\nAt the end I had: `jdbc:h2:mem:testdb;CASE_INSENSITIVE_IDENTIFIERS=TRUE`\r\n\r\nMoreover, the problem for me was when I upgraded to `Spring Boot 2.4.1`.","title":"H2 in-memory database. Table not found","body":"<p>I have tried adding <code>;DATABASE_TO_UPPER=false</code> parameter, which it did work in a single test, but what did the trick for me was <code>;CASE_INSENSITIVE_IDENTIFIERS=TRUE</code>.</p>\n<p>At the end I had: <code>jdbc:h2:mem:testdb;CASE_INSENSITIVE_IDENTIFIERS=TRUE</code></p>\n<p>Moreover, the problem for me was when I upgraded to <code>Spring Boot 2.4.1</code>.</p>\n"},{"tags":[],"owner":{"account_id":16482688,"reputation":51,"user_id":11909008,"display_name":"Guram Kankava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620929509,"creation_date":1620929509,"answer_id":67524137,"question_id":5763747,"body_markdown":"In my case missing table error was happening during jpa test, table was created by schem.sql file, problem was fixed after puting @org.springframework.transaction.annotation.Transactional on test","title":"H2 in-memory database. Table not found","body":"<p>In my case missing table error was happening during jpa test, table was created by schem.sql file, problem was fixed after puting @org.springframework.transaction.annotation.Transactional on test</p>\n"},{"comments":[{"owner":{"account_id":148005,"reputation":3416,"user_id":359487,"display_name":"Rui Carvalho"},"score":8,"creation_date":1627180767,"post_id":68086707,"comment_id":121086508,"body_markdown":"Spot on :) Solved my issue. Thanks!","body":"Spot on :) Solved my issue. Thanks!"},{"owner":{"account_id":11489659,"reputation":629,"user_id":8421080,"display_name":"Suhail Akhtar"},"score":7,"creation_date":1635503381,"post_id":68086707,"comment_id":123321766,"body_markdown":"This one is indeed beautiful solution. Can you please explain what does this statement do?","body":"This one is indeed beautiful solution. Can you please explain what does this statement do?"},{"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"score":0,"creation_date":1638386659,"post_id":68086707,"comment_id":124077249,"body_markdown":"Thanks brother..","body":"Thanks brother.."},{"owner":{"account_id":16016879,"reputation":70,"user_id":11611812,"display_name":"Bigyan Devkota"},"score":0,"creation_date":1645987510,"post_id":68086707,"comment_id":126007885,"body_markdown":"This is the best solution by far, works like a charm","body":"This is the best solution by far, works like a charm"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1648678088,"post_id":68086707,"comment_id":126688822,"body_markdown":"This is what fixed it for me. Can you explain what that command does?","body":"This is what fixed it for me. Can you explain what that command does?"},{"owner":{"account_id":11757634,"reputation":415,"user_id":12793703,"display_name":"Ismayil Karimli"},"score":1,"creation_date":1648913567,"post_id":68086707,"comment_id":126745849,"body_markdown":"@AlGrant it defers data source initialization until after any EntityManagerFactory beans have been created and initialized. (https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html)","body":"@AlGrant it defers data source initialization until after any EntityManagerFactory beans have been created and initialized. (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>)"},{"owner":{"account_id":2783084,"reputation":341,"user_id":2395187,"display_name":"TechSingh"},"score":0,"creation_date":1675885349,"post_id":68086707,"comment_id":133026478,"body_markdown":"I was still getting h2 data.sql Table &quot;TABLE_NAME&quot; not found (this database is empty) but after adding &quot;spring.jpa.defer-datasource-initialization=true&quot; my issue got resolved. Pls note that I had already added &quot;;DB_CLOSE_DELAY=-1&quot; and still was getting Table not found.","body":"I was still getting h2 data.sql Table &quot;TABLE_NAME&quot; not found (this database is empty) but after adding &quot;spring.jpa.defer-datasource-initialization=true&quot; my issue got resolved. Pls note that I had already added &quot;;DB_CLOSE_DELAY=-1&quot; and still was getting Table not found."}],"tags":[],"owner":{"account_id":11275302,"reputation":1030,"user_id":8269512,"display_name":"Shounak Bose"},"comment_count":7,"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1624376536,"creation_date":1624376536,"answer_id":68086707,"question_id":5763747,"body_markdown":"For Spring Boot 2.4+ \r\nuse\r\n **spring.jpa.defer-datasource-initialization=true**\r\nin application.properties","title":"H2 in-memory database. Table not found","body":"<p>For Spring Boot 2.4+\nuse\n<strong>spring.jpa.defer-datasource-initialization=true</strong>\nin application.properties</p>\n"},{"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1659008790,"post_id":68571114,"comment_id":129196380,"body_markdown":"The rename to import.sql is what worked for me.  I feel like the &quot;defer=true&quot; is a workaround...while the rename is the &quot;actually fix it for Spring 2.5+&quot;.  Thank you.","body":"The rename to import.sql is what worked for me.  I feel like the &quot;defer=true&quot; is a workaround...while the rename is the &quot;actually fix it for Spring 2.5+&quot;.  Thank you."}],"tags":[],"owner":{"account_id":6531570,"reputation":421,"user_id":8219358,"display_name":"HARSHIT BAJPAI"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690219068,"creation_date":1627540266,"answer_id":68571114,"question_id":5763747,"body_markdown":"I might be a little late to the party, but I faced exactly the same error and I tried pretty much every solution mentioned here and on other websites such as `*DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1; DB_CLOSE_ON_EXIT=FALSE; IGNORECASE=TRUE*`. But nothing worked for me. \r\n\r\nWhat worked for me was **renaming data.sql to import.sql** \r\n\r\nI found it here - https://stackoverflow.com/a/53179547/8219358\r\n\r\n**Or** \r\n\r\n\r\nFor Spring Boot 2.4+ use **spring.jpa.defer-datasource-initialization=true** in application.properties (mentioned here - https://stackoverflow.com/a/68086707/8219358)\r\n\r\nI realize other solutions are more logical but none of them worked for me and this did. ","title":"H2 in-memory database. Table not found","body":"<p>I might be a little late to the party, but I faced exactly the same error and I tried pretty much every solution mentioned here and on other websites such as <code>*DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1; DB_CLOSE_ON_EXIT=FALSE; IGNORECASE=TRUE*</code>. But nothing worked for me.</p>\n<p>What worked for me was <strong>renaming data.sql to import.sql</strong></p>\n<p>I found it here - <a href=\"https://stackoverflow.com/a/53179547/8219358\">https://stackoverflow.com/a/53179547/8219358</a></p>\n<p><strong>Or</strong></p>\n<p>For Spring Boot 2.4+ use <strong>spring.jpa.defer-datasource-initialization=true</strong> in application.properties (mentioned here - <a href=\"https://stackoverflow.com/a/68086707/8219358\">https://stackoverflow.com/a/68086707/8219358</a>)</p>\n<p>I realize other solutions are more logical but none of them worked for me and this did.</p>\n"},{"tags":[],"owner":{"account_id":1979652,"reputation":7771,"user_id":2161118,"display_name":"S34N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632294292,"creation_date":1632294292,"answer_id":69279622,"question_id":5763747,"body_markdown":"In my case, I had used the special keywords for my column-names in the table, H2 Database. If you&#39;re using different databases avoid those special keywords across different databases. Spring &amp; Hibernate isn&#39;t smart enough to tell you exactly which column names are prohibited or where the exact error is in the table-creation.\r\nKeywords such as; \r\n\r\n&gt; desc, interval, metric\r\n\r\n\r\n\r\nTo resolve the issues I was experiencing, I renamed those fields to: \r\n\r\n&gt; descr, time_interval, time_metric\r\n\r\nhttp://www.h2database.com/html/advanced.html","title":"H2 in-memory database. Table not found","body":"<p>In my case, I had used the special keywords for my column-names in the table, H2 Database. If you're using different databases avoid those special keywords across different databases. Spring &amp; Hibernate isn't smart enough to tell you exactly which column names are prohibited or where the exact error is in the table-creation.\nKeywords such as;</p>\n<blockquote>\n<p>desc, interval, metric</p>\n</blockquote>\n<p>To resolve the issues I was experiencing, I renamed those fields to:</p>\n<blockquote>\n<p>descr, time_interval, time_metric</p>\n</blockquote>\n<p><a href=\"http://www.h2database.com/html/advanced.html\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/advanced.html</a></p>\n"},{"tags":[],"owner":{"account_id":14659943,"reputation":124,"user_id":10587465,"display_name":"Waheed Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633901611,"creation_date":1633901611,"answer_id":69519153,"question_id":5763747,"body_markdown":"       Use the same in applications.properties file\r\n       \r\n       spring.jpa.show-sql=true\r\n       spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false\r\n       DB_CLOSE_ON_EXIT=FALSE\r\n       spring.data.jpa.repositories.bootstrap-mode=default\r\n       spring.h2.console.enabled=true spring.jpa.generate-ddl=true\r\n       spring.jpa.hibernate.ddl-auto=create\r\n       spring.datasource.driverClassName=org.h2.Driver\r\n       spring.jpa.defer-datasource-initialization=true","title":"H2 in-memory database. Table not found","body":"<pre><code>   Use the same in applications.properties file\n   \n   spring.jpa.show-sql=true\n   spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false\n   DB_CLOSE_ON_EXIT=FALSE\n   spring.data.jpa.repositories.bootstrap-mode=default\n   spring.h2.console.enabled=true spring.jpa.generate-ddl=true\n   spring.jpa.hibernate.ddl-auto=create\n   spring.datasource.driverClassName=org.h2.Driver\n   spring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1640818970,"creation_date":1640818970,"answer_id":70525879,"question_id":5763747,"body_markdown":"One reason can be that jpa tries to insert data before creating table structure, in order to solve this problem , insert this line in application.properties :\r\n\r\n    spring.jpa.defer-datasource-initialization=true","title":"H2 in-memory database. Table not found","body":"<p>One reason can be that jpa tries to insert data before creating table structure, in order to solve this problem , insert this line in application.properties :</p>\n<pre><code>spring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653650831,"creation_date":1653650831,"answer_id":72404714,"question_id":5763747,"body_markdown":"The issue can also happen if there was error while generating the table.\r\n\r\nIf the entities use any features which are not supported by H2 (for example, specifying a non-standard columnDefinition), the schema generation will fail and test will continue without the database generated. \r\n\r\nIn this case, somewhere in the logs you will find this:\r\n```\r\nWARN ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command :\r\n Error executing DDL &quot;create table ...&quot; via JDBC Statement\r\n```","title":"H2 in-memory database. Table not found","body":"<p>The issue can also happen if there was error while generating the table.</p>\n<p>If the entities use any features which are not supported by H2 (for example, specifying a non-standard columnDefinition), the schema generation will fail and test will continue without the database generated.</p>\n<p>In this case, somewhere in the logs you will find this:</p>\n<pre><code>WARN ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command :\n Error executing DDL &quot;create table ...&quot; via JDBC Statement\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2039400,"reputation":3723,"user_id":1820967,"accept_rate":25,"display_name":"swedge218"},"score":0,"creation_date":1673014103,"post_id":73523577,"comment_id":132408117,"body_markdown":"This works and makes perfect sense if you are creating the table with JDBC.","body":"This works and makes perfect sense if you are creating the table with JDBC."}],"tags":[],"owner":{"account_id":15031704,"reputation":66,"user_id":10931410,"display_name":"magdi amer"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661739251,"creation_date":1661739251,"answer_id":73523577,"question_id":5763747,"body_markdown":"Had similar problem\r\nSolution was to add the following to application.properties\r\n\r\n**spring.jpa.defer-datasource-initialization=true**","title":"H2 in-memory database. Table not found","body":"<p>Had similar problem\nSolution was to add the following to application.properties</p>\n<p><strong>spring.jpa.defer-datasource-initialization=true</strong></p>\n"},{"tags":[],"owner":{"account_id":20024941,"reputation":111,"user_id":14678978,"display_name":"Shane Park"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664895105,"creation_date":1664895105,"answer_id":73949784,"question_id":5763747,"body_markdown":"```java\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;user&quot; not found; SQL statement:\r\n```\r\n\r\nin my case, my table name was `user` but from H2 2.1.212 user is reserved so couldn&#39;t make the table \r\n\r\nchanged table name users by @Table(name=&quot;users&quot;) and \r\n\r\n```yaml\r\ndatasource:\r\n  url: jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1;\r\n```\r\nand it works now","title":"H2 in-memory database. Table not found","body":"<pre class=\"lang-java prettyprint-override\"><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;user&quot; not found; SQL statement:\n</code></pre>\n<p>in my case, my table name was <code>user</code> but from H2 2.1.212 user is reserved so couldn't make the table</p>\n<p>changed table name users by @Table(name=&quot;users&quot;) and</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>datasource:\n  url: jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1;\n</code></pre>\n<p>and it works now</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676825909,"creation_date":1676825909,"answer_id":75501825,"question_id":5763747,"body_markdown":"I suspect the database you opened is **a brand new db**, not your application db. This is because:\r\n\r\n - H2 in-memory database by default is **private to the JVM and the classloader**. It cannot be connected from another process/with TCP from same machine/from another machine; that&#39;s why all the guides suggest using H2 console, because that&#39;s within the same JVM of your application so it can access the database(however, my H2 console shipped with Spring 2.6 is not working, I need to find another way)\r\n - H2 database can be launched in server mode, but &quot;;AUTO_SERVER=true&quot; does not work with in-memory db; it only can be added to the URL when you use a file based db; and to visit it you need to use **absolute path** to the db file, which is not portable and is ugly; additionally, auto-generation of tables are not done when you use a file so you need to create an init.sql to create tables. **AND**, when you connect H2 still tells you that you need server mode, because there is already one connection to the db(your app) and to allow 1+ connection, you need server mode\r\n\r\nSo in both cases you need server mode. How? \r\n\r\nIn Spring you need to create the DB as a bean(thanks to https://stackoverflow.com/questions/55830010/how-to-enable-h2-database-server-mode-in-spring-boot/55847035#55847035); put this into a `@Configuration` and you are done:\r\n\r\n    @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n    public Server h2Server() throws SQLException {\r\n        return Server.createTcpServer(&quot;-tcp&quot;, &quot;-tcpAllowOthers&quot;, &quot;-tcpPort&quot;, &quot;1234&quot;); // or any other port\r\n    }\r\n\r\nYour db url:\r\n\r\n```yaml\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:test\r\n    driver-class-name: org.h2.Driver\r\n    port: 1234\r\n    username: sa\r\n    password: sa\r\n```\r\n\r\nThat&#39;s all. You can connect with H2 console, or DB Navigator, or other tools along with your app right now. The connection string is:\r\n\r\n\r\n    jdbc:h2:tcp://localhost:1234/mem:test\r\n","title":"H2 in-memory database. Table not found","body":"<p>I suspect the database you opened is <strong>a brand new db</strong>, not your application db. This is because:</p>\n<ul>\n<li>H2 in-memory database by default is <strong>private to the JVM and the classloader</strong>. It cannot be connected from another process/with TCP from same machine/from another machine; that's why all the guides suggest using H2 console, because that's within the same JVM of your application so it can access the database(however, my H2 console shipped with Spring 2.6 is not working, I need to find another way)</li>\n<li>H2 database can be launched in server mode, but &quot;;AUTO_SERVER=true&quot; does not work with in-memory db; it only can be added to the URL when you use a file based db; and to visit it you need to use <strong>absolute path</strong> to the db file, which is not portable and is ugly; additionally, auto-generation of tables are not done when you use a file so you need to create an init.sql to create tables. <strong>AND</strong>, when you connect H2 still tells you that you need server mode, because there is already one connection to the db(your app) and to allow 1+ connection, you need server mode</li>\n</ul>\n<p>So in both cases you need server mode. How?</p>\n<p>In Spring you need to create the DB as a bean(thanks to <a href=\"https://stackoverflow.com/questions/55830010/how-to-enable-h2-database-server-mode-in-spring-boot/55847035#55847035\">How to enable H2 Database Server Mode in Spring Boot</a>); put this into a <code>@Configuration</code> and you are done:</p>\n<pre><code>@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\npublic Server h2Server() throws SQLException {\n    return Server.createTcpServer(&quot;-tcp&quot;, &quot;-tcpAllowOthers&quot;, &quot;-tcpPort&quot;, &quot;1234&quot;); // or any other port\n}\n</code></pre>\n<p>Your db url:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    url: jdbc:h2:mem:test\n    driver-class-name: org.h2.Driver\n    port: 1234\n    username: sa\n    password: sa\n</code></pre>\n<p>That's all. You can connect with H2 console, or DB Navigator, or other tools along with your app right now. The connection string is:</p>\n<pre><code>jdbc:h2:tcp://localhost:1234/mem:test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962728,"reputation":2317,"user_id":4687402,"accept_rate":50,"display_name":"Benjamin Basmaci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684834982,"creation_date":1684834982,"answer_id":76313347,"question_id":5763747,"body_markdown":"This might be a beginners mistake but the error in my case was that, when I wanted to switch my DB to H2, I omitted a property that needed changing.\r\n\r\nNamely: `spring.jpa.properties.hibernate.dialect: org.hibernate.dialect.H2Dialect`\r\n\r\nOther usual suspects could be: \r\n* `spring.datasource.driver-class-name: org.h2.Driver`\r\n* `spring.datasource.url: jdbc:h2:file:./your/path`\r\n* `spring.jpa.hibernate.ddl-auto: ` where you might have set a wrong value\r\n\r\nI&#39;m not sure whether those would result in different error messages. However, they are still worth a quick check.","title":"H2 in-memory database. Table not found","body":"<p>This might be a beginners mistake but the error in my case was that, when I wanted to switch my DB to H2, I omitted a property that needed changing.</p>\n<p>Namely: <code>spring.jpa.properties.hibernate.dialect: org.hibernate.dialect.H2Dialect</code></p>\n<p>Other usual suspects could be:</p>\n<ul>\n<li><code>spring.datasource.driver-class-name: org.h2.Driver</code></li>\n<li><code>spring.datasource.url: jdbc:h2:file:./your/path</code></li>\n<li><code>spring.jpa.hibernate.ddl-auto: </code> where you might have set a wrong value</li>\n</ul>\n<p>I'm not sure whether those would result in different error messages. However, they are still worth a quick check.</p>\n"},{"tags":[],"owner":{"account_id":1525566,"reputation":1183,"user_id":1424108,"display_name":"ibai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687474002,"creation_date":1687474002,"answer_id":76536109,"question_id":5763747,"body_markdown":"If you are using `@DataJpaTest` you need to bear in mind that by default it **ignores the datasource defined in your properties** and creates a new one of its own.\r\n\r\nDue to this, most of the solutions will not work, specially if you are trying to use an in-memory database in combination with Flyway/Liquibase. For instance, `DB_CLOSE_DELAY=-1` connection property is ignored and setting `spring.jpa.defer-datasource-initialization=true` causes a circular dependency with Flyway.\r\n\r\nAllowing Hibernate to create the schema with `ddl-auto=create` is not ideal either if you want to ensure your migration scripts actually work, so the best solution is to use the `AutoConfigureTestDatabase` annotation to tell `@DataJpaTest` not to create its own database and to use the one defined in your properties files.\r\n\r\n```\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\nclass YourDatabaseIntegrationTest {\r\n    ...\r\n}\r\n```","title":"H2 in-memory database. Table not found","body":"<p>If you are using <code>@DataJpaTest</code> you need to bear in mind that by default it <strong>ignores the datasource defined in your properties</strong> and creates a new one of its own.</p>\n<p>Due to this, most of the solutions will not work, specially if you are trying to use an in-memory database in combination with Flyway/Liquibase. For instance, <code>DB_CLOSE_DELAY=-1</code> connection property is ignored and setting <code>spring.jpa.defer-datasource-initialization=true</code> causes a circular dependency with Flyway.</p>\n<p>Allowing Hibernate to create the schema with <code>ddl-auto=create</code> is not ideal either if you want to ensure your migration scripts actually work, so the best solution is to use the <code>AutoConfigureTestDatabase</code> annotation to tell <code>@DataJpaTest</code> not to create its own database and to use the one defined in your properties files.</p>\n<pre><code>@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\nclass YourDatabaseIntegrationTest {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287119,"favorite_count":0,"down_vote_count":0,"up_vote_count":249,"accepted_answer_id":5936988,"answer_count":27,"score":249,"last_activity_date":1690219068,"creation_date":1303555890,"question_id":5763747,"body_markdown":"I&#39;ve got a H2 database with URL `&quot;jdbc:h2:test&quot;`. I create a table using `CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64));`. I then select everything from this (empty) table using `SELECT * FROM PERSON`. So far, so good.\r\n\r\nHowever, if I change the URL to `&quot;jdbc:h2:mem:test&quot;`, the only difference being the database is now in memory only, this gives me an `org.h2.jdbc.JdbcSQLException: Table &quot;PERSON&quot; not found; SQL statement: SELECT * FROM PERSON [42102-154]`. I&#39;m probably missing something simple here, but any help would be appreciated.","title":"H2 in-memory database. Table not found","body":"<p>I've got a H2 database with URL <code>\"jdbc:h2:test\"</code>. I create a table using <code>CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64));</code>. I then select everything from this (empty) table using <code>SELECT * FROM PERSON</code>. So far, so good.</p>\n\n<p>However, if I change the URL to <code>\"jdbc:h2:mem:test\"</code>, the only difference being the database is now in memory only, this gives me an <code>org.h2.jdbc.JdbcSQLException: Table \"PERSON\" not found; SQL statement: SELECT * FROM PERSON [42102-154]</code>. I'm probably missing something simple here, but any help would be appreciated.</p>\n"},{"tags":["java","html","web"],"comments":[{"owner":{"account_id":5850921,"reputation":1533,"user_id":4609621,"display_name":"Jasper Huzen"},"score":2,"creation_date":1579480417,"post_id":59815677,"comment_id":105769654,"body_markdown":"It&#39;s much simpler to use API client libraries (sdk&#39;s) for interfacing with social platforms.","body":"It&#39;s much simpler to use API client libraries (sdk&#39;s) for interfacing with social platforms."},{"owner":{"account_id":156983,"reputation":4517,"user_id":374601,"accept_rate":91,"display_name":"Erty Seidohl"},"score":0,"creation_date":1579492269,"post_id":59815677,"comment_id":105771556,"body_markdown":"Welcome to Stack Overflow! The question doesn&#39;t appear to include any attempt to solve the problem. Please edit the question to show what you&#39;ve tried, and show a specific roadblock you&#39;re running into with [mcve]. For more information, please see [ask].","body":"Welcome to Stack Overflow! The question doesn&#39;t appear to include any attempt to solve the problem. Please edit the question to show what you&#39;ve tried, and show a specific roadblock you&#39;re running into with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For more information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"comments":[{"owner":{"account_id":380613,"reputation":1356,"user_id":734744,"accept_rate":72,"display_name":"Sameer Naik"},"score":0,"creation_date":1579483982,"post_id":59815782,"comment_id":105770179,"body_markdown":"oauth also requires end user to login and authorize this app unless you have a super-user level oauth token that lets you access account of any twitter user, which is not possible.","body":"oauth also requires end user to login and authorize this app unless you have a super-user level oauth token that lets you access account of any twitter user, which is not possible."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1579492499,"post_id":59815782,"comment_id":105771597,"body_markdown":"Yes, but the app wouldn&#39;t have the user&#39;s credentials and that&#39;s the key point.","body":"Yes, but the app wouldn&#39;t have the user&#39;s credentials and that&#39;s the key point."}],"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579492577,"creation_date":1579481402,"answer_id":59815782,"question_id":59815677,"body_markdown":"If a website allows logon using basic authentication, you can add the &#39;Authorization&#39; header to your URL request.\r\n\r\nThe following answer already outlines how to add such a header to your request in Java: https://stackoverflow.com/a/5137446\r\n\r\nHow ever, social media sites don&#39;t support this kind of authentication, and logging in with a person&#39;s credentials using a program might even be against terms of service. \r\n\r\nIf you&#39;d like to receive information about a user in your program, you must request an API from the social media site. This might be a java library used for retrieving information from their site, or a schema that documents how to retrieve information, usually by using a REST API they provide on their web server.\r\n\r\nThis sort of code won&#39;t require the user&#39;s login credentials, and will most likely work using a standard called OAUTH2 where your program is authenticated to retrieve information by receiving a login key from the user, by means of them &quot;connecting&quot; their account to your service.\r\n\r\nTake a look at the Twitter developer&#39;s page: https://developer.twitter.com/en/docs/basics/getting-started ","title":"Java - How To &quot;Log In&quot; On URL Object","body":"<p>If a website allows logon using basic authentication, you can add the 'Authorization' header to your URL request.</p>\n\n<p>The following answer already outlines how to add such a header to your request in Java: <a href=\"https://stackoverflow.com/a/5137446\">https://stackoverflow.com/a/5137446</a></p>\n\n<p>How ever, social media sites don't support this kind of authentication, and logging in with a person's credentials using a program might even be against terms of service. </p>\n\n<p>If you'd like to receive information about a user in your program, you must request an API from the social media site. This might be a java library used for retrieving information from their site, or a schema that documents how to retrieve information, usually by using a REST API they provide on their web server.</p>\n\n<p>This sort of code won't require the user's login credentials, and will most likely work using a standard called OAUTH2 where your program is authenticated to retrieve information by receiving a login key from the user, by means of them \"connecting\" their account to your service.</p>\n\n<p>Take a look at the Twitter developer's page: <a href=\"https://developer.twitter.com/en/docs/basics/getting-started\" rel=\"nofollow noreferrer\">https://developer.twitter.com/en/docs/basics/getting-started</a> </p>\n"},{"tags":[],"owner":{"account_id":380613,"reputation":1356,"user_id":734744,"accept_rate":72,"display_name":"Sameer Naik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579484151,"creation_date":1579484151,"answer_id":59816003,"question_id":59815677,"body_markdown":"What you are trying is called screen-scraping technique which is inherently error prone since structure of web pages change often.\r\n\r\nIt is possible to navigate to URLs that require login and you would need to mimic exactly what browser does in that case i.e. following all redirects, storing hidden variables, setting and re-sending cookies, sending user name, password at right times.\r\n\r\nYou can take a look at Network Panel in your browser.\r\n\r\nI am assuming you are using your own twitter user name and password to login.","title":"Java - How To &quot;Log In&quot; On URL Object","body":"<p>What you are trying is called screen-scraping technique which is inherently error prone since structure of web pages change often.</p>\n\n<p>It is possible to navigate to URLs that require login and you would need to mimic exactly what browser does in that case i.e. following all redirects, storing hidden variables, setting and re-sending cookies, sending user name, password at right times.</p>\n\n<p>You can take a look at Network Panel in your browser.</p>\n\n<p>I am assuming you are using your own twitter user name and password to login.</p>\n"}],"owner":{"account_id":17568113,"reputation":1,"user_id":12744384,"display_name":"pwetzel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1579511279,"answer_count":2,"score":0,"last_activity_date":1690219058,"creation_date":1579480078,"question_id":59815677,"body_markdown":"I am trying to create a program that is able to track/manage social media followers, with the simple idea of using a URL object and a BufferedReader in Java, extracting the strings and filtering it out to only display/keep certain things out of the HTML document. For example; loading the Following page on a user&#39;s account and returning each user on the list, and then checking if each account on that list follows the user checking.\r\n\r\nThe problem is certain links from social media sites, like twitter.com/username/following, are only accessible when logged into Twitter and just return the login page when trying to read from it with a URL object.\r\n\r\nI&#39;m not very experienced with &quot;Web Programming&quot; but I was wondering if there is a way that I can &quot;log in&quot; with a URL object in Java, or other methods of doing so, so that it displays the correct page I am trying to load and extract Strings/data from.\r\n\r\nThank you for any help or resources you can provide.","title":"Java - How To &quot;Log In&quot; On URL Object","body":"<p>I am trying to create a program that is able to track/manage social media followers, with the simple idea of using a URL object and a BufferedReader in Java, extracting the strings and filtering it out to only display/keep certain things out of the HTML document. For example; loading the Following page on a user's account and returning each user on the list, and then checking if each account on that list follows the user checking.</p>\n<p>The problem is certain links from social media sites, like twitter.com/username/following, are only accessible when logged into Twitter and just return the login page when trying to read from it with a URL object.</p>\n<p>I'm not very experienced with &quot;Web Programming&quot; but I was wondering if there is a way that I can &quot;log in&quot; with a URL object in Java, or other methods of doing so, so that it displays the correct page I am trying to load and extract Strings/data from.</p>\n<p>Thank you for any help or resources you can provide.</p>\n"},{"tags":["java","exception","project-reactor","spring-data-r2dbc","r2dbc"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1690362068,"post_id":76755286,"comment_id":135341400,"body_markdown":"@mp911de any idea? :)","body":"@mp911de any idea? :)"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690218322,"creation_date":1690207636,"question_id":76755286,"body_markdown":"## Background:\r\n\r\nI have an application-wide universal exception handler to translate exceptions coming from `R2dbcRepository`, such as (an excerpt just to show the intended purpose):\r\n\r\n``` code-java\r\n@Component\r\npublic class ErrorHandler {\r\n    public Throwable mapError(Throwable ex) {\r\n        if (ex instanceof DataIntegrityViolationException || ex instanceof R2dbcDataIntegrityViolationException) {\r\n            return new MyException(myParameters);\r\n        }\r\n        return new MyException(SERVER_ERROR, &quot;Error accessing database&quot;, ex);\r\n    }\r\n}\r\n```\r\n\r\nThen I have an `R2dbcRepository` with a lot of user-defined queries, such as\r\n\r\n``` code-java\r\nimport org.springframework.data.r2dbc.repository.Query;\r\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\r\n\r\npublic interface MyEntityRepository extends R2dbcRepository&lt;MyEntity, UUID&gt; {\r\n    @Query(&quot;SELECT * FROM my_entity WHERE &lt;complex conditions&gt;&quot;)\r\n    Flux&lt;MyEntity&gt; findBySomeCriteria(MyConditions myConditions);\r\n    ...\r\n    // Lot of other methods\r\n}\r\n```\r\n\r\nI want to call the `mapError()` method after each call to any of the repository&#39;s methods, like this:\r\n\r\n``` code-java\r\n@Service\r\npublic class MyService {\r\n    @Autowired MyEntityRepository repository;\r\n    @Autowired ErrorHandler errorHandler;\r\n\r\n    public Mono&lt;MyData&gt; getMyData(MyCriteria criteria) {\r\n        return Mono.just(criteria)\r\n            ... // handling the input data\r\n            .flatMap(repository::findBySomeCriteria)\r\n            .onErrorMap(errorHandler::mapError) // THIS IS AN UBIQUITOUS BOILERPLATE CODE\r\n            ... // some extra business logic\r\n            ;\r\n    }\r\n}\r\n```\r\n\r\n### Problem Statement:\r\n\r\nI would like to get rid of the ubiquitous boilerplate code \r\n``` code-java\r\n.onErrorMap(errorHandler::mapError)\r\n```\r\n\r\nand have it somehow built-in into the repository.\r\n\r\n### Question:\r\n\r\nIs there an elegant solution in `R2dbcRepository` to register my error handle universally, so each call to any of the repository&#39;s method is automatically decorated by it?","title":"Support for exception handling in R2dbcRepository, or how to decorate each method call in R2dbcRepository with my own error handler","body":"<h2>Background:</h2>\n<p>I have an application-wide universal exception handler to translate exceptions coming from <code>R2dbcRepository</code>, such as (an excerpt just to show the intended purpose):</p>\n<pre><code>@Component\npublic class ErrorHandler {\n    public Throwable mapError(Throwable ex) {\n        if (ex instanceof DataIntegrityViolationException || ex instanceof R2dbcDataIntegrityViolationException) {\n            return new MyException(myParameters);\n        }\n        return new MyException(SERVER_ERROR, &quot;Error accessing database&quot;, ex);\n    }\n}\n</code></pre>\n<p>Then I have an <code>R2dbcRepository</code> with a lot of user-defined queries, such as</p>\n<pre><code>import org.springframework.data.r2dbc.repository.Query;\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\n\npublic interface MyEntityRepository extends R2dbcRepository&lt;MyEntity, UUID&gt; {\n    @Query(&quot;SELECT * FROM my_entity WHERE &lt;complex conditions&gt;&quot;)\n    Flux&lt;MyEntity&gt; findBySomeCriteria(MyConditions myConditions);\n    ...\n    // Lot of other methods\n}\n</code></pre>\n<p>I want to call the <code>mapError()</code> method after each call to any of the repository's methods, like this:</p>\n<pre><code>@Service\npublic class MyService {\n    @Autowired MyEntityRepository repository;\n    @Autowired ErrorHandler errorHandler;\n\n    public Mono&lt;MyData&gt; getMyData(MyCriteria criteria) {\n        return Mono.just(criteria)\n            ... // handling the input data\n            .flatMap(repository::findBySomeCriteria)\n            .onErrorMap(errorHandler::mapError) // THIS IS AN UBIQUITOUS BOILERPLATE CODE\n            ... // some extra business logic\n            ;\n    }\n}\n</code></pre>\n<h3>Problem Statement:</h3>\n<p>I would like to get rid of the ubiquitous boilerplate code</p>\n<pre><code>.onErrorMap(errorHandler::mapError)\n</code></pre>\n<p>and have it somehow built-in into the repository.</p>\n<h3>Question:</h3>\n<p>Is there an elegant solution in <code>R2dbcRepository</code> to register my error handle universally, so each call to any of the repository's method is automatically decorated by it?</p>\n"},{"tags":["java","resttemplate"],"answers":[{"comments":[{"owner":{"account_id":2517144,"reputation":371,"user_id":2188318,"accept_rate":59,"display_name":"Karthik"},"score":0,"creation_date":1690217359,"post_id":76754004,"comment_id":135319517,"body_markdown":"Hi @Michael , thanks a lot for your inputs really appreciate that  ,am sorry I may not able to use the above methad as the method that I have given is a common one which is used in few other use cases.I have updated the code once again and getting similar error.Could you please review and advise what am doing wrong please.","body":"Hi @Michael , thanks a lot for your inputs really appreciate that  ,am sorry I may not able to use the above methad as the method that I have given is a common one which is used in few other use cases.I have updated the code once again and getting similar error.Could you please review and advise what am doing wrong please."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690198004,"creation_date":1690198004,"answer_id":76754004,"question_id":76753379,"body_markdown":"Based on your error and expected return type `[application/octet-stream]` you expect to receive binary information. But your method returns `ResponseEntity&lt;V&gt;` By the way you don&#39;t show how you call your method and what is your type V actually is. The converter that receives your response expects a valid JSON and in the error, it complains that the returned content is NOT a valid JSON. So, what does the API that you call actually returns? is it a binary info as the header value `[application/octet-stream]` suggests or is it textual JSON info? If it is JSON then you have a wrong response type. If it is a binary info then your type V should be a byte array or `ByteBuffer`.\r\n&lt;br&gt;&lt;br&gt; \r\nI also may suggest you to use a much simpler HTTP client than a RestTemplate. Especially if your return type is really a binary information. In this case the Http client that I suggest actually has methods that return `ByteBuffer`you can deal with it on your own and not worry about telling your Http client to what it should be converted and how. This Http client comes with MgntUtils Open Source java library that is written and maintained by me. Also this Http client allows for multiple requests without resetting URL and headers for each request if you are sending requests to the same URL.\r\nHere is how your code may look like:\r\n\r\n    public class MyHttpClient {\r\n      private HttpClient client = new HttpClient();\r\n    \r\n      public MyHttpClient() {\r\n         client.setConnectionUrl(myUrlStr);\r\n         client.setRequestHeader(headerName1Str, headerValue1Str)\r\n         .setRequestHeader(headerName2Str, headerValue2Str)\r\n         .setRequestHeader(headerName3Str, headerValue3Str);     \r\n      }\r\n    \r\n      public ByteArray getBillingDocPDFFromGCP(...) {\r\n        ByteBuffer result = null;\r\n        try {\r\n          //Here you can change connection URL if it is different than the pre-set one \r\n          // and add or modify headers\r\n          HttpClient.HttpMethod httpMethod = HttpClient.HttpMethod.valueOf(httpMethodStr);\r\n          ResponseHolder&lt;ByteBuffer&gt; response = sendHttpRequestForBinaryResponse(httpMethod);\r\n          result = response.getResponseContent();\r\n       } catch(HttpClientCommunicationException e) {\r\n          ResponseHolder errorResponse  = e.getResponseHolder();\r\n          logger.error(errorResponse.getResponseCode() + &quot; &quot; + errorResponse.getResponseMessage());\r\n      }\r\n      return result;\r\n    }\r\n\r\nHere is [JavaDoc for the HttpClient class][1]. \r\nThe MgntUtils library can be obtained as [maven artifact][2] or from [Github][3] (including source code and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Error while extracting response for type [class java.lang.Object] and content type [application/octet-stream];","body":"<p>Based on your error and expected return type <code>[application/octet-stream]</code> you expect to receive binary information. But your method returns <code>ResponseEntity&lt;V&gt;</code> By the way you don't show how you call your method and what is your type V actually is. The converter that receives your response expects a valid JSON and in the error, it complains that the returned content is NOT a valid JSON. So, what does the API that you call actually returns? is it a binary info as the header value <code>[application/octet-stream]</code> suggests or is it textual JSON info? If it is JSON then you have a wrong response type. If it is a binary info then your type V should be a byte array or <code>ByteBuffer</code>.\n<br><br>\nI also may suggest you to use a much simpler HTTP client than a RestTemplate. Especially if your return type is really a binary information. In this case the Http client that I suggest actually has methods that return <code>ByteBuffer</code>you can deal with it on your own and not worry about telling your Http client to what it should be converted and how. This Http client comes with MgntUtils Open Source java library that is written and maintained by me. Also this Http client allows for multiple requests without resetting URL and headers for each request if you are sending requests to the same URL.\nHere is how your code may look like:</p>\n<pre><code>public class MyHttpClient {\n  private HttpClient client = new HttpClient();\n\n  public MyHttpClient() {\n     client.setConnectionUrl(myUrlStr);\n     client.setRequestHeader(headerName1Str, headerValue1Str)\n     .setRequestHeader(headerName2Str, headerValue2Str)\n     .setRequestHeader(headerName3Str, headerValue3Str);     \n  }\n\n  public ByteArray getBillingDocPDFFromGCP(...) {\n    ByteBuffer result = null;\n    try {\n      //Here you can change connection URL if it is different than the pre-set one \n      // and add or modify headers\n      HttpClient.HttpMethod httpMethod = HttpClient.HttpMethod.valueOf(httpMethodStr);\n      ResponseHolder&lt;ByteBuffer&gt; response = sendHttpRequestForBinaryResponse(httpMethod);\n      result = response.getResponseContent();\n   } catch(HttpClientCommunicationException e) {\n      ResponseHolder errorResponse  = e.getResponseHolder();\n      logger.error(errorResponse.getResponseCode() + &quot; &quot; + errorResponse.getResponseMessage());\n  }\n  return result;\n}\n</code></pre>\n<p>Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">JavaDoc for the HttpClient class</a>.\nThe MgntUtils library can be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"}],"owner":{"account_id":2517144,"reputation":371,"user_id":2188318,"accept_rate":59,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690217609,"creation_date":1690193009,"question_id":76753379,"body_markdown":"Here is the method that I have , &lt;br/&gt;\r\n\r\n**what does the API that I call actually returns?** &lt;br/&gt;\r\n This will return binary response and the response content is &quot;application/octet-stream&quot;.&lt;br/&gt; The method which calls this method is from controller which will return ResponseEntity&lt;byte[]&gt; to the front end.\r\n\r\n     @Override\r\n    public &lt;V&gt; ResponseEntity&lt;V&gt; getBillingDocPDFFromGCP(String url, HttpMethod method, HttpServletRequest request, String accessToken, Class&lt;V&gt; responseType, Map&lt;String, String&gt; params, BaseStoreModel baseStore, String appDomain) {\r\n        if (StringUtils.isEmpty(url)) {\r\n            throw new ConfigurationException(HttpStatus.NOT_ACCEPTABLE + &quot; : Missing API Uri property in configuration&quot;);\r\n        }\r\n        LOG.info(&quot;getGCPBillingDocPDF API URL...{}&quot;, url);\r\n        MultiValueMap&lt;String, String&gt; headers = getServiceHeadersForGCPPDF(baseStore, accessToken);\r\n        final HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n        final RestTemplate restTemplate = new RestTemplate();\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n        converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n        messageConverters.add(converter);\r\n        restTemplate.setMessageConverters(messageConverters);\r\n\r\n        try {\r\n            return (ResponseEntity&lt;V&gt;) restTemplate.exchange(url, method, requestEntity, responseType);\r\n\r\n\r\n        } catch (final HttpClientErrorException httpClientException) {\r\n            LOG.error(UNAUTHORIZED_ERROR + &quot; : &quot; + httpClientException.getMessage(), httpClientException);\r\n            throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED, httpClientException.getMessage());\r\n        } catch (final RestClientException restClientException) {\r\n            LOG.error(REST_CLIENT_ERROR, restClientException);\r\n            throw new RestClientException(REST_CLIENT_REPORTED_ERROR + &quot; : &quot; + restClientException.getMessage(), restClientException);\r\n        }\r\n    }\r\n\r\n      public MultiValueMap&lt;String, String&gt; getServiceHeadersForGCPPDF(final BaseStoreModel baseStore, final String aceToken) {\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        final String siteId = getCurrentSiteId(baseStore);\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n        headers.setContentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;));\r\n        headers.add(&quot;X-API-Key&quot;, value);\r\n        return headers;\r\n    }\r\n\r\n\r\nand below is the error am getting ,please advise how to resolve this issue\r\n\r\n     Rest Client Error org.springframework.web.client.RestClientException: Error while xtracting response for type [class java.lang.Object] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (&#39;%&#39; (code 37)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;); nested exception is \r\n\r\nPlease advise\r\n\r\n**Updated Method with return type configured as ResponseEntity&lt;byte[]&gt;:** \r\n\r\nAs per Michael suggestions I changed the return type as ResponseEntity&lt;byte[]&gt; but am stilling getting same error  \r\n\r\n     @Override\r\n    public &lt;V&gt; ResponseEntity&lt;byte[]&gt; getBillingDocPDFFromGCP(String url, HttpMethod method, HttpServletRequest request, String accessToken, Class&lt;V&gt; responseType, Map&lt;String, String&gt; params, BaseStoreModel baseStore, String appDomain) {\r\n        if (StringUtils.isEmpty(url)) {\r\n            throw new ConfigurationException(HttpStatus.NOT_ACCEPTABLE + &quot; : Missing API Uri property in configuration&quot;);\r\n        }\r\n        LOG.info(&quot;getGCPBillingDocPDF API URL...{}&quot;, url);\r\n        MultiValueMap&lt;String, String&gt; headers = getServiceHeadersForGCPPDF(baseStore, accessToken);\r\n        final HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n        final RestTemplate restTemplate = new RestTemplate();\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n        converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n        messageConverters.add(converter);\r\n        restTemplate.setMessageConverters(messageConverters);\r\n\r\n        try {\r\n            return  restTemplate.exchange(url, method, requestEntity, byte[].class);\r\n\r\n        } catch (final HttpClientErrorException httpClientException) {\r\n            LOG.error(UNAUTHORIZED_ERROR + &quot; : &quot; + httpClientException.getMessage(), httpClientException);\r\n            throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED, httpClientException.getMessage());\r\n        } catch (final RestClientException restClientException) {\r\n            LOG.error(REST_CLIENT_ERROR, restClientException);\r\n            throw new RestClientException(REST_CLIENT_REPORTED_ERROR + &quot; : &quot; + restClientException.getMessage(), restClientException);\r\n        }\r\n    }\r\n\r\n\r\nError that I am still getting is \r\n\r\n    Caused by: org.springframework.web.client.RestClientException: Error while extracting response for type [class [B] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (&#39;%&#39; (code 37)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;); nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;%&#39; (code 37)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n\r\n","title":"Error while extracting response for type [class java.lang.Object] and content type [application/octet-stream];","body":"<p>Here is the method that I have , <br/></p>\n<p><strong>what does the API that I call actually returns?</strong> <br/>\nThis will return binary response and the response content is &quot;application/octet-stream&quot;.<br/> The method which calls this method is from controller which will return ResponseEntity&lt;byte[]&gt; to the front end.</p>\n<pre><code> @Override\npublic &lt;V&gt; ResponseEntity&lt;V&gt; getBillingDocPDFFromGCP(String url, HttpMethod method, HttpServletRequest request, String accessToken, Class&lt;V&gt; responseType, Map&lt;String, String&gt; params, BaseStoreModel baseStore, String appDomain) {\n    if (StringUtils.isEmpty(url)) {\n        throw new ConfigurationException(HttpStatus.NOT_ACCEPTABLE + &quot; : Missing API Uri property in configuration&quot;);\n    }\n    LOG.info(&quot;getGCPBillingDocPDF API URL...{}&quot;, url);\n    MultiValueMap&lt;String, String&gt; headers = getServiceHeadersForGCPPDF(baseStore, accessToken);\n    final HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n    final RestTemplate restTemplate = new RestTemplate();\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n    MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n    converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n    messageConverters.add(converter);\n    restTemplate.setMessageConverters(messageConverters);\n\n    try {\n        return (ResponseEntity&lt;V&gt;) restTemplate.exchange(url, method, requestEntity, responseType);\n\n\n    } catch (final HttpClientErrorException httpClientException) {\n        LOG.error(UNAUTHORIZED_ERROR + &quot; : &quot; + httpClientException.getMessage(), httpClientException);\n        throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED, httpClientException.getMessage());\n    } catch (final RestClientException restClientException) {\n        LOG.error(REST_CLIENT_ERROR, restClientException);\n        throw new RestClientException(REST_CLIENT_REPORTED_ERROR + &quot; : &quot; + restClientException.getMessage(), restClientException);\n    }\n}\n\n  public MultiValueMap&lt;String, String&gt; getServiceHeadersForGCPPDF(final BaseStoreModel baseStore, final String aceToken) {\n    final HttpHeaders headers = new HttpHeaders();\n    final String siteId = getCurrentSiteId(baseStore);\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    headers.setContentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;));\n    headers.add(&quot;X-API-Key&quot;, value);\n    return headers;\n}\n</code></pre>\n<p>and below is the error am getting ,please advise how to resolve this issue</p>\n<pre><code> Rest Client Error org.springframework.web.client.RestClientException: Error while xtracting response for type [class java.lang.Object] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('%' (code 37)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false'); nested exception is \n</code></pre>\n<p>Please advise</p>\n<p><strong>Updated Method with return type configured as ResponseEntity&lt;byte[]&gt;:</strong></p>\n<p>As per Michael suggestions I changed the return type as ResponseEntity&lt;byte[]&gt; but am stilling getting same error</p>\n<pre><code> @Override\npublic &lt;V&gt; ResponseEntity&lt;byte[]&gt; getBillingDocPDFFromGCP(String url, HttpMethod method, HttpServletRequest request, String accessToken, Class&lt;V&gt; responseType, Map&lt;String, String&gt; params, BaseStoreModel baseStore, String appDomain) {\n    if (StringUtils.isEmpty(url)) {\n        throw new ConfigurationException(HttpStatus.NOT_ACCEPTABLE + &quot; : Missing API Uri property in configuration&quot;);\n    }\n    LOG.info(&quot;getGCPBillingDocPDF API URL...{}&quot;, url);\n    MultiValueMap&lt;String, String&gt; headers = getServiceHeadersForGCPPDF(baseStore, accessToken);\n    final HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n    final RestTemplate restTemplate = new RestTemplate();\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n    MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n    converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n    messageConverters.add(converter);\n    restTemplate.setMessageConverters(messageConverters);\n\n    try {\n        return  restTemplate.exchange(url, method, requestEntity, byte[].class);\n\n    } catch (final HttpClientErrorException httpClientException) {\n        LOG.error(UNAUTHORIZED_ERROR + &quot; : &quot; + httpClientException.getMessage(), httpClientException);\n        throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED, httpClientException.getMessage());\n    } catch (final RestClientException restClientException) {\n        LOG.error(REST_CLIENT_ERROR, restClientException);\n        throw new RestClientException(REST_CLIENT_REPORTED_ERROR + &quot; : &quot; + restClientException.getMessage(), restClientException);\n    }\n}\n</code></pre>\n<p>Error that I am still getting is</p>\n<pre><code>Caused by: org.springframework.web.client.RestClientException: Error while extracting response for type [class [B] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('%' (code 37)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false'); nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('%' (code 37)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n</code></pre>\n"},{"tags":["java","error-handling","runtime-error"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1690213082,"post_id":76756022,"comment_id":135318627,"body_markdown":"Well, either `return 1 / positivePow(x, -n);` is wrong or the fact that `positivePow` can return `0` is wrong. Because both of those combined lead to a typical division through zero error.","body":"Well, either <code>return 1 &#47; positivePow(x, -n);</code> is wrong or the fact that <code>positivePow</code> can return <code>0</code> is wrong. Because both of those combined lead to a typical division through zero error."},{"owner":{"account_id":26156455,"reputation":11,"user_id":19843650,"display_name":"Anmol Agrawal"},"score":0,"creation_date":1690215905,"post_id":76756022,"comment_id":135319232,"body_markdown":"Thanks for being this fast I also have improved the change you&#39;ve suggested but now for the test case\nx = 2.0000\nn = -2147483648\n\nthe stack is being overflowed.","body":"Thanks for being this fast I also have improved the change you&#39;ve suggested but now for the test case x = 2.0000 n = -2147483648  the stack is being overflowed."}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690216270,"creation_date":1690216270,"answer_id":76756439,"question_id":76756022,"body_markdown":"you should change this line `return 1 / positivePow(x, -n)` to `return positivePow(1/x, -n)`\r\n\r\nto avoid division by 0, when positivePow returns 0.\r\n  \r\nalso check this solution \r\n```\r\npublic double myPow(double x, long n) {\r\n    if(n == 0) return 1;\r\n    if(n &lt; 0) return myPow(1/x, -n);\r\n    if(n % 2 == 1) return x * myPow(x * x, (n-1)/2);\r\n    else return myPow(x * x, n/2);\r\n}\r\n```","title":"Terminating condition is given still throwing Stack OverFlow Error","body":"<p>you should change this line <code>return 1 / positivePow(x, -n)</code> to <code>return positivePow(1/x, -n)</code></p>\n<p>to avoid division by 0, when positivePow returns 0.</p>\n<p>also check this solution</p>\n<pre><code>public double myPow(double x, long n) {\n    if(n == 0) return 1;\n    if(n &lt; 0) return myPow(1/x, -n);\n    if(n % 2 == 1) return x * myPow(x * x, (n-1)/2);\n    else return myPow(x * x, n/2);\n}\n</code></pre>\n"}],"owner":{"account_id":26156455,"reputation":11,"user_id":19843650,"display_name":"Anmol Agrawal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690217327,"creation_date":1690212936,"question_id":76756022,"body_markdown":"trying to solve a question on the leetcode coding platform in which I&#39;ve started getting with this.\r\n\r\n    class Solution {\r\n    public double myPow(double x, int n) {\r\n\r\n        // return Math.pow(x, n);\r\n\r\n        if(x == 1){\r\n            return 1;\r\n        }\r\n\r\n        if(n == 0){\r\n            return 1;\r\n        }\r\n\r\n        if(n &gt; 0){\r\n            return positivePow(x, n);\r\n        }\r\n        else{\r\n            return positivePow(1/x, -n);\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    public double positivePow(double x, int n){\r\n        \r\n        if(n == 1){\r\n            return x;\r\n        }\r\n\r\n        if(x &lt; -10000 || x &gt; 10000){\r\n            return 0;\r\n        }\r\n\r\n        if(n % 2 == 0){\r\n            return positivePow(x * x, n / 2);\r\n        }\r\n        else{\r\n            return x * positivePow(x, n - 1);\r\n        }\r\n    }\r\n    }\r\n\r\nit should be terminated because of this condition but still throwing stack overflow error for the testcase\r\n\r\nx = 2.00000\r\nn = -2147483648\r\n\r\n    if(x &lt; -10000 || x &gt; 10000){\r\n        return 0;\r\n    }\r\n\r\nin the `positivePow` function.\r\n\r\nWe can only use double as datatype for `x` and the constraints are\r\n    \r\n- -100.0 &lt; x &lt; 100.0\r\n- -231 &lt;= n &lt;= 231-1\r\n- n is an integer.\r\n- Either x is not zero or n &gt; 0.\r\n- -104 &lt;= xn &lt;= 104\r\n","title":"Terminating condition is given still throwing Stack OverFlow Error","body":"<p>trying to solve a question on the leetcode coding platform in which I've started getting with this.</p>\n<pre><code>class Solution {\npublic double myPow(double x, int n) {\n\n    // return Math.pow(x, n);\n\n    if(x == 1){\n        return 1;\n    }\n\n    if(n == 0){\n        return 1;\n    }\n\n    if(n &gt; 0){\n        return positivePow(x, n);\n    }\n    else{\n        return positivePow(1/x, -n);\n    }\n\n    \n}\n\npublic double positivePow(double x, int n){\n    \n    if(n == 1){\n        return x;\n    }\n\n    if(x &lt; -10000 || x &gt; 10000){\n        return 0;\n    }\n\n    if(n % 2 == 0){\n        return positivePow(x * x, n / 2);\n    }\n    else{\n        return x * positivePow(x, n - 1);\n    }\n}\n}\n</code></pre>\n<p>it should be terminated because of this condition but still throwing stack overflow error for the testcase</p>\n<p>x = 2.00000\nn = -2147483648</p>\n<pre><code>if(x &lt; -10000 || x &gt; 10000){\n    return 0;\n}\n</code></pre>\n<p>in the <code>positivePow</code> function.</p>\n<p>We can only use double as datatype for <code>x</code> and the constraints are</p>\n<ul>\n<li>-100.0 &lt; x &lt; 100.0</li>\n<li>-231 &lt;= n &lt;= 231-1</li>\n<li>n is an integer.</li>\n<li>Either x is not zero or n &gt; 0.</li>\n<li>-104 &lt;= xn &lt;= 104</li>\n</ul>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1432918280,"post_id":30510773,"comment_id":49143565,"body_markdown":"If you happen to use MOXy as your JAXB provider, you might have some luck with the information [here](http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-using-xsitype.html). Although it&#39;s kind of the other way around; xsi:type is used here to reflect Java inheritance, but perhaps you can exploit that mechanism.","body":"If you happen to use MOXy as your JAXB provider, you might have some luck with the information <a href=\"http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-using-xsitype.html\" rel=\"nofollow noreferrer\">here</a>. Although it&#39;s kind of the other way around; xsi:type is used here to reflect Java inheritance, but perhaps you can exploit that mechanism."},{"owner":{"account_id":1748498,"reputation":1914,"user_id":1598149,"accept_rate":50,"display_name":"GregD"},"score":0,"creation_date":1433162017,"post_id":30510773,"comment_id":49217172,"body_markdown":"@HeinBl&#246;d I&#39;m not using MOXy","body":"@HeinBl&#246;d I&#39;m not using MOXy"}],"answers":[{"comments":[{"owner":{"account_id":5650328,"reputation":1113,"user_id":4471199,"display_name":"RoBeaToZ"},"score":0,"creation_date":1574260738,"post_id":30591476,"comment_id":104169282,"body_markdown":"Works with JAXB `marshaller.marshal(...)` as well!","body":"Works with JAXB <code>marshaller.marshal(...)</code> as well!"}],"tags":[],"owner":{"account_id":1748498,"reputation":1914,"user_id":1598149,"accept_rate":50,"display_name":"GregD"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1433235169,"creation_date":1433235169,"answer_id":30591476,"question_id":30510773,"body_markdown":"I&#39;ve fixed it with changing the following statements:\r\n\r\n     JAXBElement element = new JAXBElement(\r\n            new QName(&quot;http://www.centralbrokersystem.org&quot;, &quot;Proces_Bericht_Result&quot;), TypeProcesBerichtResultV2.class, typeProcesBerichtResultV2);\r\n\r\nchanged to:\r\n\r\n    JAXBElement element = new JAXBElement(\r\n            new QName(&quot;http://www.centralbrokersystem.org&quot;, &quot;Proces_Bericht_Result&quot;), TypeProcesBerichtResultBase.class, typeProcesBerichtResultV2);\r\n\r\nand\r\n\r\n    XmlUtils.object2Xml(element, TypeProcesBerichtResultV2.class)\r\n\r\nchanged to\r\n\r\n    XmlUtils.object2Xml(element, TypeProcesBerichtResultBase.class)\r\n\r\nNotice how I&#39;m now marshalling with the baseClass as type instead of the actual class. This ads the xsi:type tag.\r\n\r\n\r\n","title":"JAXB - marshal with xsi:type","body":"<p>I've fixed it with changing the following statements:</p>\n\n<pre><code> JAXBElement element = new JAXBElement(\n        new QName(\"http://www.centralbrokersystem.org\", \"Proces_Bericht_Result\"), TypeProcesBerichtResultV2.class, typeProcesBerichtResultV2);\n</code></pre>\n\n<p>changed to:</p>\n\n<pre><code>JAXBElement element = new JAXBElement(\n        new QName(\"http://www.centralbrokersystem.org\", \"Proces_Bericht_Result\"), TypeProcesBerichtResultBase.class, typeProcesBerichtResultV2);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>XmlUtils.object2Xml(element, TypeProcesBerichtResultV2.class)\n</code></pre>\n\n<p>changed to</p>\n\n<pre><code>XmlUtils.object2Xml(element, TypeProcesBerichtResultBase.class)\n</code></pre>\n\n<p>Notice how I'm now marshalling with the baseClass as type instead of the actual class. This ads the xsi:type tag.</p>\n"},{"tags":[],"owner":{"account_id":3586184,"reputation":417,"user_id":2993327,"display_name":"alexSunder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690216700,"creation_date":1690216700,"answer_id":76756492,"question_id":30510773,"body_markdown":"To achive the same goal with Marshaller when creating instance of JAXBElement pass Object class in declaredType consructor parameter instead of class of marshalled object. \r\nFor example: \r\n\r\n    new JAXBElement&lt;&gt;(new QName(namespace, obj.getClass().getSimpleName()), Object.class, null, obj);","title":"JAXB - marshal with xsi:type","body":"<p>To achive the same goal with Marshaller when creating instance of JAXBElement pass Object class in declaredType consructor parameter instead of class of marshalled object.\nFor example:</p>\n<pre><code>new JAXBElement&lt;&gt;(new QName(namespace, obj.getClass().getSimpleName()), Object.class, null, obj);\n</code></pre>\n"}],"owner":{"account_id":1748498,"reputation":1914,"user_id":1598149,"accept_rate":50,"display_name":"GregD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5415,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30591476,"answer_count":2,"score":4,"last_activity_date":1690216700,"creation_date":1432826569,"question_id":30510773,"body_markdown":"I&#39;m kind of new to marshalling with jaxb and I&#39;m trying to make this xml from my objects:\r\n\r\n    &lt;Process_Bericht_Result xsi:type=&quot;Type_Proces_Bericht_Result_v2&quot;\r\n    xmlns=&quot;http://www.centralbrokersystem.org&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;/&gt;\r\n       &lt;Result_Data&gt;\r\n          ....\r\n       &lt;/Result_Data&gt;\r\n    &lt;/Process_Bericht_Result&gt;\r\n\r\nWhat I get is the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;Proces_Bericht_result xmlns=&quot;http://www.centralbrokersystem.org&quot;&gt;\r\n        &lt;Result_Data&gt;\r\n           ...\r\n        &lt;/Result_Data&gt;\r\n    &lt;/Proces_Bericht_result&gt;\r\n\r\n I would like to define the xsi:type...\r\n\r\nI&#39;m creating these objects with the following code:\r\n\r\n    \r\n    JAXBElement element = new JAXBElement(\r\n                new QName(&quot;http://www.centralbrokersystem.org&quot;, &quot;Proces_Bericht_Result&quot;), TypeProcesBerichtResultV2.class, typeProcesBerichtResultV2);\r\n\r\nI have to create a JAXBElement because the TypeProcesBerichtResultV2 class isn&#39;t annotated with @RootElement and it&#39;s generated with the jaxB maven plugin so I can&#39;t change it.\r\n\r\nThen I&#39;m calling a method:\r\n\r\n    XmlUtils.object2Xml(element, TypeProcesBerichtResultV2.class)\r\n\r\nand the implementation of that method is:\r\n\r\n        public static String object2Xml(Object obj,\r\n                                    Class clazz)  {\r\n        String marshalledObject = &quot;&quot;;\r\n        if (obj != null) {\r\n            try {\r\n                JAXBContext jc = JAXBContext.newInstance(clazz);\r\n                Marshaller marshaller = jc.createMarshaller();\r\n                marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\r\n                        new Boolean(true));\r\n                StringWriter sw = new StringWriter();\r\n\r\n                marshaller.marshal(obj, sw);\r\n                marshalledObject = new String(sw.getBuffer());\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(&quot;Unable to marshall the object&quot;, ex);\r\n            }\r\n        }\r\n        return marshalledObject;\r\n    }\r\n\r\nWhat should I change to marshal to the correct xml?\r\n\r\nThe element that I&#39;m trying to marshal is the following generated Object:\r\n   \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Type_Proces_Bericht_Result_v2&quot;, propOrder = {\r\n    &quot;resultData&quot;,\r\n    &quot;statusPartner&quot;\r\n    })\r\n    public class TypeProcesBerichtResultV2\r\n        extends TypeProcesBerichtResultBase\r\n    {\r\n\r\n        @XmlElement(name = &quot;Result_Data&quot;, required = true)\r\n        protected TypeResultData resultData;\r\n\r\n        ...","title":"JAXB - marshal with xsi:type","body":"<p>I'm kind of new to marshalling with jaxb and I'm trying to make this xml from my objects:</p>\n\n<pre><code>&lt;Process_Bericht_Result xsi:type=\"Type_Proces_Bericht_Result_v2\"\nxmlns=\"http://www.centralbrokersystem.org\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n   &lt;Result_Data&gt;\n      ....\n   &lt;/Result_Data&gt;\n&lt;/Process_Bericht_Result&gt;\n</code></pre>\n\n<p>What I get is the following:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;Proces_Bericht_result xmlns=\"http://www.centralbrokersystem.org\"&gt;\n    &lt;Result_Data&gt;\n       ...\n    &lt;/Result_Data&gt;\n&lt;/Proces_Bericht_result&gt;\n</code></pre>\n\n<p>I would like to define the xsi:type...</p>\n\n<p>I'm creating these objects with the following code:</p>\n\n<pre><code>JAXBElement element = new JAXBElement(\n            new QName(\"http://www.centralbrokersystem.org\", \"Proces_Bericht_Result\"), TypeProcesBerichtResultV2.class, typeProcesBerichtResultV2);\n</code></pre>\n\n<p>I have to create a JAXBElement because the TypeProcesBerichtResultV2 class isn't annotated with @RootElement and it's generated with the jaxB maven plugin so I can't change it.</p>\n\n<p>Then I'm calling a method:</p>\n\n<pre><code>XmlUtils.object2Xml(element, TypeProcesBerichtResultV2.class)\n</code></pre>\n\n<p>and the implementation of that method is:</p>\n\n<pre><code>    public static String object2Xml(Object obj,\n                                Class clazz)  {\n    String marshalledObject = \"\";\n    if (obj != null) {\n        try {\n            JAXBContext jc = JAXBContext.newInstance(clazz);\n            Marshaller marshaller = jc.createMarshaller();\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\n                    new Boolean(true));\n            StringWriter sw = new StringWriter();\n\n            marshaller.marshal(obj, sw);\n            marshalledObject = new String(sw.getBuffer());\n        } catch (Exception ex) {\n            throw new RuntimeException(\"Unable to marshall the object\", ex);\n        }\n    }\n    return marshalledObject;\n}\n</code></pre>\n\n<p>What should I change to marshal to the correct xml?</p>\n\n<p>The element that I'm trying to marshal is the following generated Object:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"Type_Proces_Bericht_Result_v2\", propOrder = {\n\"resultData\",\n\"statusPartner\"\n})\npublic class TypeProcesBerichtResultV2\n    extends TypeProcesBerichtResultBase\n{\n\n    @XmlElement(name = \"Result_Data\", required = true)\n    protected TypeResultData resultData;\n\n    ...\n</code></pre>\n"},{"tags":["java","scala","maven","sbt","coursier"],"answers":[{"tags":[],"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1690204477,"creation_date":1690127543,"answer_id":76749136,"question_id":76749090,"body_markdown":"You are confusing a build tool like **sbt** and **Maven** and **Gradle** and **Ant**, with an artifact manager like **coursier** and **ivy**.\r\n\r\nAFAIK _(please correct me if wrong)_, before **coursier** was invented, **sbt** used **ivy** to download the JAR files from repositories like **MavenCentral**.&lt;br&gt;\r\nAfter that, **coursier** was invented to be both faster and better handle **Scala** dependencies _(the versions suffixes and all that)_. I am not really sure what are the technical differences, but I really don&#39;t care since it is an implementation detail.&lt;br&gt;\r\nThen, newer versions of **sbt** simply switched from using **ivy** to use **coursier**, and the biggest difference was that it was now faster at downloading things, and that the cache folder changed.\r\n\r\nWith time, over the **coursier** bare artifact manager, other things have been built like the `cs` tool, `scala-cli`, the **GithubActions** shared actions like `coursier/setup-scala` &amp; `coursier/cache`.\r\nThus, as of today, everything works together seamlessly.\r\n\r\nAbout the duplicated JAR&#39;s folders.\r\nUnless you are using both **sbt** and **maven** with shared dependencies between both, you should be able to just delete the old `.m2` folder.","title":"Why is Coursier needed? What is the different between coursier and maven, sbt, gradle?","body":"<p>You are confusing a build tool like <strong>sbt</strong> and <strong>Maven</strong> and <strong>Gradle</strong> and <strong>Ant</strong>, with an artifact manager like <strong>coursier</strong> and <strong>ivy</strong>.</p>\n<p>AFAIK <em>(please correct me if wrong)</em>, before <strong>coursier</strong> was invented, <strong>sbt</strong> used <strong>ivy</strong> to download the JAR files from repositories like <strong>MavenCentral</strong>.<br>\nAfter that, <strong>coursier</strong> was invented to be both faster and better handle <strong>Scala</strong> dependencies <em>(the versions suffixes and all that)</em>. I am not really sure what are the technical differences, but I really don't care since it is an implementation detail.<br>\nThen, newer versions of <strong>sbt</strong> simply switched from using <strong>ivy</strong> to use <strong>coursier</strong>, and the biggest difference was that it was now faster at downloading things, and that the cache folder changed.</p>\n<p>With time, over the <strong>coursier</strong> bare artifact manager, other things have been built like the <code>cs</code> tool, <code>scala-cli</code>, the <strong>GithubActions</strong> shared actions like <code>coursier/setup-scala</code> &amp; <code>coursier/cache</code>.\nThus, as of today, everything works together seamlessly.</p>\n<p>About the duplicated JAR's folders.\nUnless you are using both <strong>sbt</strong> and <strong>maven</strong> with shared dependencies between both, you should be able to just delete the old <code>.m2</code> folder.</p>\n"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690216667,"creation_date":1690126815,"question_id":76749090,"body_markdown":"The documentation says that coursier is a new artifact manager for scala. But what is the difference between Coursier and build tools like maven, sbt and gradle? Why do I need `+1` folder with jar files? I have already `.m2` for maven repository, `.gradle` for gradle, and `.sbt` for sbt. So I built some project and now I have `AppData/Local/Coursier` with &quot;same&quot; jar files. Could somebody explain what is the goal for `Coursier` project?","title":"Why is Coursier needed? What is the different between coursier and maven, sbt, gradle?","body":"<p>The documentation says that coursier is a new artifact manager for scala. But what is the difference between Coursier and build tools like maven, sbt and gradle? Why do I need <code>+1</code> folder with jar files? I have already <code>.m2</code> for maven repository, <code>.gradle</code> for gradle, and <code>.sbt</code> for sbt. So I built some project and now I have <code>AppData/Local/Coursier</code> with &quot;same&quot; jar files. Could somebody explain what is the goal for <code>Coursier</code> project?</p>\n"},{"tags":["java","selenium","selenium-webdriver","try-with-resources","autocloseable"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1526004182,"post_id":50283908,"comment_id":87584239,"body_markdown":"read the javadocs *The close() method of an AutoCloseable object is called automatically when exiting a try-with-resources block*","body":"read the javadocs <i>The close() method of an AutoCloseable object is called automatically when exiting a try-with-resources block</i>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1526012668,"post_id":50283908,"comment_id":87585947,"body_markdown":"What&#39;s wrong with avoiding `AutoCloseable` and just using `driver.quit();`?","body":"What&#39;s wrong with avoiding <code>AutoCloseable</code> and just using <code>driver.quit();</code>?"},{"owner":{"account_id":11876874,"reputation":876,"user_id":8814573,"display_name":"S.O.S"},"score":0,"creation_date":1526053220,"post_id":50283908,"comment_id":87608365,"body_markdown":"ScaryWombat: which one of the 3 questions did you answer? I&#39;ve read the docs. @JeffC I&#39;m calling this method from dozens of other methods and each method passes driver to many different functions.. by the time the programmer is done with WebDriver he may forget to close it.. so I want to enforce it.. and I want it to be enforced in one central location..","body":"ScaryWombat: which one of the 3 questions did you answer? I&#39;ve read the docs. @JeffC I&#39;m calling this method from dozens of other methods and each method passes driver to many different functions.. by the time the programmer is done with WebDriver he may forget to close it.. so I want to enforce it.. and I want it to be enforced in one central location.."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1526053498,"post_id":50283908,"comment_id":87608538,"body_markdown":"If you are using JUnit or TestNG you can create a method that closes the driver instance and label it with an attribute AfterClass, AfterMethod, etc. That should do what you want without the `AutoClosable`. If you don&#39;t want to do that or can&#39;t, it&#39;s a training issue. Make sure everyone knows to close the driver and provide a single method they can call. Do code reviews and add that to the checklist of things to validate before they can check in.","body":"If you are using JUnit or TestNG you can create a method that closes the driver instance and label it with an attribute AfterClass, AfterMethod, etc. That should do what you want without the <code>AutoClosable</code>. If you don&#39;t want to do that or can&#39;t, it&#39;s a training issue. Make sure everyone knows to close the driver and provide a single method they can call. Do code reviews and add that to the checklist of things to validate before they can check in."},{"owner":{"account_id":11876874,"reputation":876,"user_id":8814573,"display_name":"S.O.S"},"score":0,"creation_date":1526053813,"post_id":50283908,"comment_id":87608718,"body_markdown":"@JeffC Thanks! I will look into JUnit and TestNG. I&#39;m already issuing a warning to close browser when someone hovers over the function. However, I thought I might be able **enforce** this somehow using `AutoClosable` but apparently this is not possible..","body":"@JeffC Thanks! I will look into JUnit and TestNG. I&#39;m already issuing a warning to close browser when someone hovers over the function. However, I thought I might be able <b>enforce</b> this somehow using <code>AutoClosable</code> but apparently this is not possible.."}],"answers":[{"comments":[{"owner":{"account_id":11876874,"reputation":876,"user_id":8814573,"display_name":"S.O.S"},"score":1,"creation_date":1526053861,"post_id":50283932,"comment_id":87608737,"body_markdown":"Sorry but this does not answer the question. I know about try with resource.. Please re-read the 3 specific question in OP. Thanks!","body":"Sorry but this does not answer the question. I know about try with resource.. Please re-read the 3 specific question in OP. Thanks!"}],"tags":[],"owner":{"account_id":13531564,"reputation":129,"user_id":9761865,"display_name":"Hello World"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1526004117,"creation_date":1526004117,"answer_id":50283932,"question_id":50283908,"body_markdown":"Using [Try-with-resources statement][1]：\r\n\r\n     try (WebDriverLauncher webDriverLauncher = new WebDriverLauncher(){\r\n         //Your Code Here\r\n     }//webDriverLauncher.close() will be called after here weather throw any exception in try...catch block or not.\r\n\r\nIn other worlds, `AutoClosable` interface is a constraint to determine which type can be used in `Try-with-resources statement`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to Force AutoClosable Warning to Propagate to Caller of Class in Java?","body":"<p>Using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">Try-with-resources statement</a>：</p>\n\n<pre><code> try (WebDriverLauncher webDriverLauncher = new WebDriverLauncher(){\n     //Your Code Here\n }//webDriverLauncher.close() will be called after here weather throw any exception in try...catch block or not.\n</code></pre>\n\n<p>In other worlds, <code>AutoClosable</code> interface is a constraint to determine which type can be used in <code>Try-with-resources statement</code></p>\n"},{"tags":[],"owner":{"account_id":14333443,"reputation":63,"user_id":10353624,"display_name":"mkRuby009"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690216207,"creation_date":1594907246,"answer_id":62936216,"question_id":50283908,"body_markdown":"I am late for this question. But here is my take: If we want to force client to use resource carefully, we can restrict the resource creation (private constructor plus disable reflection access by enabling property `-Djava.security.manager` for `jar`) and allow clients to only provide method to be called on that resource to the Resource factory.\r\n\r\n```java\r\npublic class MyResource implements AutoCloseable {\r\n    public static class ResourceFactory {\r\n        public static void useResourceSafely(Consumer&lt;MyResource&gt; work) {\r\n            try(MyResource res = new MyResource()) {\r\n                work.accept(res);\r\n            }\r\n            catch(Exception e) {\r\n                e.printStackTrace();\r\n                //you may even check for Suppressed exceptions\r\n            }\r\n        }\r\n    }\r\n\r\n    private MyResource() {\r\n        System.out.println(&quot;Resource created&quot;);\r\n    }\r\n    public void doWork() {\r\n        System.out.println(&quot;resource in use&quot;);\r\n    }\r\n    @Override\r\n    public void close() throws Exception {\r\n        System.out.println(&quot;Closing myResource&quot;);\r\n        \r\n    }\r\n}\r\n```\r\n\r\nClient code may look like this:   \r\n\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n    ResourceFactory.useResourceSafely(s -&gt; {\r\n        s.doWork();\r\n        System.out.println(&quot;Check 1&quot;);\r\n        s.doWork();\r\n        System.out.println(&quot;Check 2&quot;);\r\n    });\r\n}\r\n```\r\nThis might not be recommended way, but just an attempt to do so.\r\n","title":"How to Force AutoClosable Warning to Propagate to Caller of Class in Java?","body":"<p>I am late for this question. But here is my take: If we want to force client to use resource carefully, we can restrict the resource creation (private constructor plus disable reflection access by enabling property <code>-Djava.security.manager</code> for <code>jar</code>) and allow clients to only provide method to be called on that resource to the Resource factory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyResource implements AutoCloseable {\n    public static class ResourceFactory {\n        public static void useResourceSafely(Consumer&lt;MyResource&gt; work) {\n            try(MyResource res = new MyResource()) {\n                work.accept(res);\n            }\n            catch(Exception e) {\n                e.printStackTrace();\n                //you may even check for Suppressed exceptions\n            }\n        }\n    }\n\n    private MyResource() {\n        System.out.println(&quot;Resource created&quot;);\n    }\n    public void doWork() {\n        System.out.println(&quot;resource in use&quot;);\n    }\n    @Override\n    public void close() throws Exception {\n        System.out.println(&quot;Closing myResource&quot;);\n        \n    }\n}\n</code></pre>\n<p>Client code may look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    ResourceFactory.useResourceSafely(s -&gt; {\n        s.doWork();\n        System.out.println(&quot;Check 1&quot;);\n        s.doWork();\n        System.out.println(&quot;Check 2&quot;);\n    });\n}\n</code></pre>\n<p>This might not be recommended way, but just an attempt to do so.</p>\n"}],"owner":{"account_id":11876874,"reputation":876,"user_id":8814573,"display_name":"S.O.S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690216207,"creation_date":1526003916,"question_id":50283908,"body_markdown":"I&#39;m new to Java&#39;s AutoClosable interface (but not new to Java). I&#39;m trying to force client code which requests an instance of `WebDriver` to close the `driver` after it finishes using it (by calling `driver.quit()`)\r\n\r\nI want a way to force any method that instantiates instance of `WebDriver` to close it.\r\n\r\nSo I created a new class that implements `AutoClosable`:\r\n\r\n    public class WebDriverLauncher implements AutoCloseable {\r\n\t\r\n\tWebDriver driver;\r\n\r\n\tpublic WebDriverLauncher()\r\n\t{\r\n\t\tdriver = new FirefoxDriver();\r\n\t}\r\n\t\r\n\tpublic WebDriver getDriver()\r\n\t{\r\n\t\treturn driver;\r\n\t}\r\n\t\r\n\t\r\n\r\n\t@Override\r\n\tpublic void close() throws Exception {\r\n\t\tdriver.quit();\r\n\t\t\r\n\t    }\r\n\r\n    }\r\n\r\n\r\n\r\nNow instead of instantiating WebDriver directly (`WebDriver driver = new FirefoxDriver()`) I&#39;m instantiating instance of this class and have it return an instance of `WebDriver` such as in the following example:\r\n\r\n\tpublic WebDriver launchDriver()\r\n\t{\r\n\t\tWebDriverLauncher webDriverLauncher = new WebDriverLauncher();\r\n\t\t\r\n\t\tWebDriver driver = webDriverLauncher.getDriver();\r\n\t\t\r\n\t\treturn driver;\r\n\t}\r\n\r\n\r\nWhen I do this I receive a warning/error: `Resource leak: &#39;webDriverLauncher&#39; is never closed`\r\n\r\nSince I cannot close the resource within this method because the resource (i.e, `WebDriver`) is being used in the caller method I want to force the caller of `launchDriver()` to close the `driver`.\r\n\r\n\r\nSo instead I decided to have the method return an instance of `WebDriverLauncher` -  such as in the following example:\r\n\r\n\tpublic WebDriverLauncher launchDriver()\r\n\t{\r\n\t\t WebDriverLauncher webDriverLauncher = new WebDriverLauncher();\r\n\t\t return webDriverLauncher;\r\n\t}\r\n\r\n\r\nThis way the caller will have access to `driver` (by calling `webDriverLauncher .getDriver()` ) and be warned to close the resource (so I thought).\r\n\r\nHowever, when I tried this, the warning message disappeared entirely. In other words,  I no longer see the warning to close resource - neither in the `launchDriver()` class/method nor in the caller/client class (As I mentioned, I want the warning to appear so whoever calls this method is warned to close resource)\r\n\r\nWhat I&#39;m trying to understand is the following:\r\n\r\n**1)** Why isn&#39;t the warning propagated up to the caller class (if the resource has never been closed)?\r\n\r\n**2)** Why does the warning disappear when I return `webDriverLauncher` but not when I return `driver`?\r\n\r\n**3)** Is there a way to modify the code to force the warning to propagated up the caller? (so as to warn the caller of this method to close the resource)\r\n\r\n**4)** If this cannot be done, what *can* be done to force the client to close `WebDriver`?\r\n\r\nThanks!\r\n\r\n","title":"How to Force AutoClosable Warning to Propagate to Caller of Class in Java?","body":"<p>I'm new to Java's AutoClosable interface (but not new to Java). I'm trying to force client code which requests an instance of <code>WebDriver</code> to close the <code>driver</code> after it finishes using it (by calling <code>driver.quit()</code>)</p>\n\n<p>I want a way to force any method that instantiates instance of <code>WebDriver</code> to close it.</p>\n\n<p>So I created a new class that implements <code>AutoClosable</code>:</p>\n\n<pre><code>public class WebDriverLauncher implements AutoCloseable {\n\nWebDriver driver;\n\npublic WebDriverLauncher()\n{\n    driver = new FirefoxDriver();\n}\n\npublic WebDriver getDriver()\n{\n    return driver;\n}\n\n\n\n@Override\npublic void close() throws Exception {\n    driver.quit();\n\n    }\n\n}\n</code></pre>\n\n<p>Now instead of instantiating WebDriver directly (<code>WebDriver driver = new FirefoxDriver()</code>) I'm instantiating instance of this class and have it return an instance of <code>WebDriver</code> such as in the following example:</p>\n\n<pre><code>public WebDriver launchDriver()\n{\n    WebDriverLauncher webDriverLauncher = new WebDriverLauncher();\n\n    WebDriver driver = webDriverLauncher.getDriver();\n\n    return driver;\n}\n</code></pre>\n\n<p>When I do this I receive a warning/error: <code>Resource leak: 'webDriverLauncher' is never closed</code></p>\n\n<p>Since I cannot close the resource within this method because the resource (i.e, <code>WebDriver</code>) is being used in the caller method I want to force the caller of <code>launchDriver()</code> to close the <code>driver</code>.</p>\n\n<p>So instead I decided to have the method return an instance of <code>WebDriverLauncher</code> -  such as in the following example:</p>\n\n<pre><code>public WebDriverLauncher launchDriver()\n{\n     WebDriverLauncher webDriverLauncher = new WebDriverLauncher();\n     return webDriverLauncher;\n}\n</code></pre>\n\n<p>This way the caller will have access to <code>driver</code> (by calling <code>webDriverLauncher .getDriver()</code> ) and be warned to close the resource (so I thought).</p>\n\n<p>However, when I tried this, the warning message disappeared entirely. In other words,  I no longer see the warning to close resource - neither in the <code>launchDriver()</code> class/method nor in the caller/client class (As I mentioned, I want the warning to appear so whoever calls this method is warned to close resource)</p>\n\n<p>What I'm trying to understand is the following:</p>\n\n<p><strong>1)</strong> Why isn't the warning propagated up to the caller class (if the resource has never been closed)?</p>\n\n<p><strong>2)</strong> Why does the warning disappear when I return <code>webDriverLauncher</code> but not when I return <code>driver</code>?</p>\n\n<p><strong>3)</strong> Is there a way to modify the code to force the warning to propagated up the caller? (so as to warn the caller of this method to close the resource)</p>\n\n<p><strong>4)</strong> If this cannot be done, what <em>can</em> be done to force the client to close <code>WebDriver</code>?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","data-structures","priority-queue","heap","max-heap"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689913502,"post_id":76735070,"comment_id":135283217,"body_markdown":"the lambda you provide, or rather the argument is supposed to be a comparator that compares one element in the priorityQueue to another to decide the ordering.","body":"the lambda you provide, or rather the argument is supposed to be a comparator that compares one element in the priorityQueue to another to decide the ordering."},{"owner":{"account_id":28751089,"reputation":1,"user_id":22019179,"display_name":"Namash Sharma"},"score":0,"creation_date":1689913700,"post_id":76735070,"comment_id":135283237,"body_markdown":"what is the one element and another element here. , is every element in the priority queue to be considered","body":"what is the one element and another element here. , is every element in the priority queue to be considered"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689913761,"post_id":76735070,"comment_id":135283238,"body_markdown":"extra reading: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","body":"extra reading: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689914789,"post_id":76735070,"comment_id":135283332,"body_markdown":"&quot;_what is the one element and another element here_&quot; – Any two elements in the queue. That lambda is an implementation of `Comparator`. As part of the implementation of `PriorityQueue`, that comparator&#39;s `compare` method will be invoked with two arguments when and as appropriate.","body":"&quot;<i>what is the one element and another element here</i>&quot; – Any two elements in the queue. That lambda is an implementation of <code>Comparator</code>. As part of the implementation of <code>PriorityQueue</code>, that comparator&#39;s <code>compare</code> method will be invoked with two arguments when and as appropriate."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689915108,"post_id":76735070,"comment_id":135283362,"body_markdown":"&quot;_how will this heap be a max heap_&quot; – [`PriorityQueue`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html) is a min heap. Of course, you can &quot;reverse&quot; the comparison, making it appear to be a max heap with respect to the element&#39;s natural ordering. But it&#39;s still technically a min heap, as the head is the &quot;least&quot; element as defined by the `Comparator`.","body":"&quot;<i>how will this heap be a max heap</i>&quot; – <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><code>PriorityQueue</code></a> is a min heap. Of course, you can &quot;reverse&quot; the comparison, making it appear to be a max heap with respect to the element&#39;s natural ordering. But it&#39;s still technically a min heap, as the head is the &quot;least&quot; element as defined by the <code>Comparator</code>."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1689919924,"post_id":76735070,"comment_id":135283934,"body_markdown":"Does this answer your question? [How do I use a PriorityQueue?](https://stackoverflow.com/questions/683041/how-do-i-use-a-priorityqueue)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/683041/how-do-i-use-a-priorityqueue\">How do I use a PriorityQueue?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19530846,"reputation":11,"user_id":14290670,"display_name":"vs01"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690216192,"creation_date":1690216192,"answer_id":76756424,"question_id":76735070,"body_markdown":"In the provided code, `a` and `b` represent the elements present in the heap (PriorityQueue). The lambda expression `(a, b) -&gt; map.get(b) - map.get(a)` is used as the comparator for the `PriorityQueue`, which determines how elements are compared and ordered in the heap.\r\n\r\nIn a `PriorityQueue`, the elements are sorted based on the result of the comparator. The comparator is applied to the elements present in the queue to determine their relative order. In this case, the lambda expression compares the values of the keys in the `map` associated with elements `a` and `b`.\r\n\r\nThe lambda expression `(a, b) -&gt; map.get(b) - map.get(a)` subtracts the value associated with element `a` from the value associated with element `b`. This means that the element with a higher value in the `map` will be considered greater, and therefore, will have a higher priority in the `PriorityQueue`. Consequently, the `PriorityQueue` will act as a max heap, where the element with the highest value in the `map` will be at the root (top) of the heap.\r\n\r\nIn other words, the lambda expression is used to define the priority or ordering of elements in the `PriorityQueue`, and by subtracting the values in reverse order (`b - a`), we create a max heap where the element with the highest value in the `map` has the highest priority.","title":"what are the inputs given to the lambda expression(a,b) while creating a max priority queue in java","body":"<p>In the provided code, <code>a</code> and <code>b</code> represent the elements present in the heap (PriorityQueue). The lambda expression <code>(a, b) -&gt; map.get(b) - map.get(a)</code> is used as the comparator for the <code>PriorityQueue</code>, which determines how elements are compared and ordered in the heap.</p>\n<p>In a <code>PriorityQueue</code>, the elements are sorted based on the result of the comparator. The comparator is applied to the elements present in the queue to determine their relative order. In this case, the lambda expression compares the values of the keys in the <code>map</code> associated with elements <code>a</code> and <code>b</code>.</p>\n<p>The lambda expression <code>(a, b) -&gt; map.get(b) - map.get(a)</code> subtracts the value associated with element <code>a</code> from the value associated with element <code>b</code>. This means that the element with a higher value in the <code>map</code> will be considered greater, and therefore, will have a higher priority in the <code>PriorityQueue</code>. Consequently, the <code>PriorityQueue</code> will act as a max heap, where the element with the highest value in the <code>map</code> will be at the root (top) of the heap.</p>\n<p>In other words, the lambda expression is used to define the priority or ordering of elements in the <code>PriorityQueue</code>, and by subtracting the values in reverse order (<code>b - a</code>), we create a max heap where the element with the highest value in the <code>map</code> has the highest priority.</p>\n"}],"owner":{"account_id":28751089,"reputation":1,"user_id":22019179,"display_name":"Namash Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690216192,"creation_date":1689912729,"question_id":76735070,"body_markdown":"Started learning dsa and came across priority queues but I am stuck at lambda expressions in priority queue in java.\r\n\r\n \r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    PriorityQueue&lt;Integer&gt; q = new PriorityQueue&lt;&gt;((a,b)-&gt;map.get(b)-map.get(a));\r\n\r\n\r\nIn the above expressions, how will this heap be a max heap, how a,b values are to be considered whats their source? I have understood that the lambda expressions return -ve or +ve values and on that basis, it&#39;s decided whether its going to be a max or min heap but what are a,b how are they evaluated, from where they are received.\r\n\r\nAre a,b the values from heap? If they are, which values are they, the top ones or the bottom ones considering a max heap?","title":"what are the inputs given to the lambda expression(a,b) while creating a max priority queue in java","body":"<p>Started learning dsa and came across priority queues but I am stuck at lambda expressions in priority queue in java.</p>\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\nPriorityQueue&lt;Integer&gt; q = new PriorityQueue&lt;&gt;((a,b)-&gt;map.get(b)-map.get(a));\n</code></pre>\n<p>In the above expressions, how will this heap be a max heap, how a,b values are to be considered whats their source? I have understood that the lambda expressions return -ve or +ve values and on that basis, it's decided whether its going to be a max or min heap but what are a,b how are they evaluated, from where they are received.</p>\n<p>Are a,b the values from heap? If they are, which values are they, the top ones or the bottom ones considering a max heap?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1690180148,"post_id":76751835,"comment_id":135311726,"body_markdown":"What XML are you talking about? Generally for public buckets it is enough to just hit the url with the object and be done with it, no need for the SDK. For anything else, particularly involving authentication, you should use the SDK.","body":"What XML are you talking about? Generally for public buckets it is enough to just hit the url with the object and be done with it, no need for the SDK. For anything else, particularly involving authentication, you should use the SDK."},{"owner":{"account_id":14602706,"reputation":13,"user_id":10546577,"display_name":"Matěj Schr&#246;dl"},"score":0,"creation_date":1690182441,"post_id":76751835,"comment_id":135312096,"body_markdown":"I am creating a program to download all objects from the bucket so I thought need to parse XML with the contents of the bucket provided to get valid URLs to downloaded the objects.","body":"I am creating a program to download all objects from the bucket so I thought need to parse XML with the contents of the bucket provided to get valid URLs to downloaded the objects."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1690183126,"post_id":76751835,"comment_id":135312203,"body_markdown":"Okay, you are talking about *listing* first and then retrieving all the files, I get it. Now back to your question: *&quot;Are there other benefits to using the SDK, or is the XML method just as efficient?&quot;* - the bare XML approach is probably more *efficient* than using the SDK in terms of actual computation but it is way more complex for you to implement and maintain and requires knowledge over the fact that there is XML going on, what structure that XML has, how to parse it, etc. The purpose of the SDK is abstraction so that you do not have to deal with all of that in the first place.","body":"Okay, you are talking about <i>listing</i> first and then retrieving all the files, I get it. Now back to your question: <i>&quot;Are there other benefits to using the SDK, or is the XML method just as efficient?&quot;</i> - the bare XML approach is probably more <i>efficient</i> than using the SDK in terms of actual computation but it is way more complex for you to implement and maintain and requires knowledge over the fact that there is XML going on, what structure that XML has, how to parse it, etc. The purpose of the SDK is abstraction so that you do not have to deal with all of that in the first place."},{"owner":{"account_id":14602706,"reputation":13,"user_id":10546577,"display_name":"Matěj Schr&#246;dl"},"score":0,"creation_date":1690185453,"post_id":76751835,"comment_id":135312619,"body_markdown":"Ok, that makes sense, thank you for your answer.","body":"Ok, that makes sense, thank you for your answer."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690216068,"creation_date":1690216068,"answer_id":76756405,"question_id":76751835,"body_markdown":"If you are going to use the AWS SDK for Java, make sure you use V2 over V1. V1 is no [longer recommended][1]. \r\n\r\nTo learn the advanages of using the *AWS SDK for Java V2*, I recommend you look at the Java V2 Developer Guide. \r\n\r\n[Developer Guide - AWS SDK for Java 2.x][3]\r\n\r\nA few benefits are: \r\n\r\n***The AWS SDK for Java 2.x is a major rewrite of the version 1.x code base. It’s built on top of Java 8+ and adds several frequently requested features. These include support for non-blocking I/O and the ability to plug in a different HTTP implementation at runtime.***\r\n\r\nIf for example, you need to interact with AWS Services using Asynchronous programming, this is fully supported with V2: \r\n\r\n[Asynchronous programming][2]\r\n\r\nThere are many other benfits too as opposed to writing your own logic and using XML. \r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples#aws-sdk-code-examples\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html\r\n  [3]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html","title":"When retrieving data from a public S3 bucket, is it preferable to use the SDK or download the XML file?","body":"<p>If you are going to use the AWS SDK for Java, make sure you use V2 over V1. V1 is no <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples#aws-sdk-code-examples\" rel=\"nofollow noreferrer\">longer recommended</a>.</p>\n<p>To learn the advanages of using the <em>AWS SDK for Java V2</em>, I recommend you look at the Java V2 Developer Guide.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">Developer Guide - AWS SDK for Java 2.x</a></p>\n<p>A few benefits are:</p>\n<p><em><strong>The AWS SDK for Java 2.x is a major rewrite of the version 1.x code base. It’s built on top of Java 8+ and adds several frequently requested features. These include support for non-blocking I/O and the ability to plug in a different HTTP implementation at runtime.</strong></em></p>\n<p>If for example, you need to interact with AWS Services using Asynchronous programming, this is fully supported with V2:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html\" rel=\"nofollow noreferrer\">Asynchronous programming</a></p>\n<p>There are many other benfits too as opposed to writing your own logic and using XML.</p>\n"}],"owner":{"account_id":14602706,"reputation":13,"user_id":10546577,"display_name":"Matěj Schr&#246;dl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76756405,"answer_count":1,"score":1,"last_activity_date":1690216068,"creation_date":1690179396,"question_id":76751835,"body_markdown":"I am working with a public AWS S3 bucket from which I only need to retrieve data. The bucket permissions only allow data retrieval, and no other operations are permitted.\r\n\r\nI have experimented with two approaches to access the data:\r\n\r\n1. **Downloading the XML**: I programmatically downloaded the XML representation of the bucket&#39;s contents. Afterward, I parsed this XML to identify and download the specific files I needed from the bucket.\r\n\r\n2. **Using the SDK**: I created a client using the AWS SDK. This allowed me to directly fetch objects from the bucket without having to deal with the intermediary step of parsing XML files.\r\n\r\n\r\n\r\nWhile I observed that the SDK approach eliminated the need for XML parsing, I didn’t notice any other distinct advantages. Are there other benefits to using the SDK, or is the XML method just as efficient? I&#39;d appreciate any insights or best practices on this matter. My main expectation was to identify a method that is both efficient and commonly accepted as a standard practice in the AWS community.","title":"When retrieving data from a public S3 bucket, is it preferable to use the SDK or download the XML file?","body":"<p>I am working with a public AWS S3 bucket from which I only need to retrieve data. The bucket permissions only allow data retrieval, and no other operations are permitted.</p>\n<p>I have experimented with two approaches to access the data:</p>\n<ol>\n<li><p><strong>Downloading the XML</strong>: I programmatically downloaded the XML representation of the bucket's contents. Afterward, I parsed this XML to identify and download the specific files I needed from the bucket.</p>\n</li>\n<li><p><strong>Using the SDK</strong>: I created a client using the AWS SDK. This allowed me to directly fetch objects from the bucket without having to deal with the intermediary step of parsing XML files.</p>\n</li>\n</ol>\n<p>While I observed that the SDK approach eliminated the need for XML parsing, I didn’t notice any other distinct advantages. Are there other benefits to using the SDK, or is the XML method just as efficient? I'd appreciate any insights or best practices on this matter. My main expectation was to identify a method that is both efficient and commonly accepted as a standard practice in the AWS community.</p>\n"},{"tags":["java","amazon-web-services","amazon-cloudfront"],"answers":[{"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1430910241,"post_id":28529438,"comment_id":48263105,"body_markdown":"See my answer to invalidation limits.","body":"See my answer to invalidation limits."}],"tags":[],"owner":{"account_id":333431,"reputation":23797,"user_id":659298,"accept_rate":61,"display_name":"tedder42"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1453223656,"creation_date":1424024355,"answer_id":28529438,"question_id":28527188,"body_markdown":"    import com.amazonaws.services.cloudfront;\r\n    import com.amazonaws.services.cloudfront.model.CreateInvalidationRequest;\r\n    import com.amazonaws.services.cloudfront.model.Paths;\r\n    import com.amazonaws.services.cloudfront.model.InvalidationBatch;\r\n    import com.amazonaws.auth.DefaultAWSCredentialsProviderChain;\r\n\r\n    AWSCredentials awsCredentials = new DefaultAWSCredentialsProviderChain().getCredentials();\r\n    AmazonCloudFrontClient client = new AmazonCloudFrontClient(awsCredentials);\r\n    \r\n    Paths invalidation_paths = new Paths().withItems(&quot;/path/to/invalidate/foo.jpg&quot;, &quot;/path/file2.txt&quot;).withQuantity(2);\r\n    InvalidationBatch invalidation_batch = new InvalidationBatch(invalidation_paths, &quot;unique_id_like_a_date&quot;);\r\n    CreateInvalidationRequest invalidation = new CreateInvalidationRequest(&quot;distributionID&quot;, invalidation_batch);\r\n    CreateInvalidationResult ret = client.createInvalidation(invalidation);\r\n\r\n\r\nNote you can only have **three** concurrent invalidations; an invalidation seems to take 10-30 minutes.","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<pre><code>import com.amazonaws.services.cloudfront;\nimport com.amazonaws.services.cloudfront.model.CreateInvalidationRequest;\nimport com.amazonaws.services.cloudfront.model.Paths;\nimport com.amazonaws.services.cloudfront.model.InvalidationBatch;\nimport com.amazonaws.auth.DefaultAWSCredentialsProviderChain;\n\nAWSCredentials awsCredentials = new DefaultAWSCredentialsProviderChain().getCredentials();\nAmazonCloudFrontClient client = new AmazonCloudFrontClient(awsCredentials);\n\nPaths invalidation_paths = new Paths().withItems(\"/path/to/invalidate/foo.jpg\", \"/path/file2.txt\").withQuantity(2);\nInvalidationBatch invalidation_batch = new InvalidationBatch(invalidation_paths, \"unique_id_like_a_date\");\nCreateInvalidationRequest invalidation = new CreateInvalidationRequest(\"distributionID\", invalidation_batch);\nCreateInvalidationResult ret = client.createInvalidation(invalidation);\n</code></pre>\n\n<p>Note you can only have <strong>three</strong> concurrent invalidations; an invalidation seems to take 10-30 minutes.</p>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430910235,"creation_date":1430910235,"answer_id":30074889,"question_id":28527188,"body_markdown":"From AWS Documentation:\r\n\r\nYou can have invalidation requests for up to 3,000 object URLs per distribution in progress at one time, and each invalidation request can include up to 3,000 object URLs. You can make as many invalidation requests as you want as long as you don&#39;t exceed this limit. For example, you can create 30 invalidations that invalidate 100 objects each, but as long as all 30 invalidations are still in progress, you can&#39;t create any more invalidations. If you exceed the limit, CloudFront returns an error message.\r\n\r\nIt usually takes 10 to 15 minutes for CloudFront to complete your invalidation request, depending on the number of object URLs that you included in the request.\r\n\r\nhttp://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>From AWS Documentation:</p>\n\n<p>You can have invalidation requests for up to 3,000 object URLs per distribution in progress at one time, and each invalidation request can include up to 3,000 object URLs. You can make as many invalidation requests as you want as long as you don't exceed this limit. For example, you can create 30 invalidations that invalidate 100 objects each, but as long as all 30 invalidations are still in progress, you can't create any more invalidations. If you exceed the limit, CloudFront returns an error message.</p>\n\n<p>It usually takes 10 to 15 minutes for CloudFront to complete your invalidation request, depending on the number of object URLs that you included in the request.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html</a></p>\n"},{"tags":[],"owner":{"account_id":7018496,"reputation":103,"user_id":5378902,"accept_rate":75,"display_name":"Harry Lausen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501739828,"creation_date":1501739828,"answer_id":45475953,"question_id":28527188,"body_markdown":"By Using Object Invalidation, we achieve this.\r\n\r\nObject Invalidation - Invalidate objects in a distribution to force CloudFront to fetch the latest object data from the S3 origin.\r\n\r\nPlease refer this link,\r\nhttp://jets3t.s3.amazonaws.com/toolkit/code-samples.html#cloudfront-invalidation","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>By Using Object Invalidation, we achieve this.</p>\n\n<p>Object Invalidation - Invalidate objects in a distribution to force CloudFront to fetch the latest object data from the S3 origin.</p>\n\n<p>Please refer this link,\n<a href=\"http://jets3t.s3.amazonaws.com/toolkit/code-samples.html#cloudfront-invalidation\" rel=\"nofollow noreferrer\">http://jets3t.s3.amazonaws.com/toolkit/code-samples.html#cloudfront-invalidation</a></p>\n"},{"tags":[],"owner":{"account_id":7905061,"reputation":4112,"user_id":6013537,"accept_rate":100,"display_name":"Arcones"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562688218,"creation_date":1562688218,"answer_id":56956583,"question_id":28527188,"body_markdown":"With **the new AWS Java SDK 2.x**, I have successfully invalidated some paths with this:\r\n\r\n```\r\n        Paths invalidationPaths = Paths.builder()\r\n                .items(&quot;/thing.txt&quot;, &quot;/foo/bar/*&quot;)\r\n                .quantity(2)\r\n                .build();\r\n\r\n        InvalidationBatch invalidationBatch = InvalidationBatch.builder()\r\n                .paths(invalidationPaths)\r\n                .callerReference(&quot;arcones&quot;)\r\n                .build();\r\n\r\n        CreateInvalidationRequest createInvalidationRequest = CreateInvalidationRequest.builder()\r\n                .distributionId(distributionID)\r\n                .invalidationBatch(invalidationBatch)\r\n                .build();\r\n\r\n        cloudFront.createInvalidation(createInvalidationRequest);\r\n```\r\n\r\nTake in mind that the invalidation is asynchronous, so it will be issued to your CloudFront distribution when you run this and will take a while to be processed (you can notice that the invalidation has finished when the status becomes `Completed`).\r\n","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>With <strong>the new AWS Java SDK 2.x</strong>, I have successfully invalidated some paths with this:</p>\n\n<pre><code>        Paths invalidationPaths = Paths.builder()\n                .items(\"/thing.txt\", \"/foo/bar/*\")\n                .quantity(2)\n                .build();\n\n        InvalidationBatch invalidationBatch = InvalidationBatch.builder()\n                .paths(invalidationPaths)\n                .callerReference(\"arcones\")\n                .build();\n\n        CreateInvalidationRequest createInvalidationRequest = CreateInvalidationRequest.builder()\n                .distributionId(distributionID)\n                .invalidationBatch(invalidationBatch)\n                .build();\n\n        cloudFront.createInvalidation(createInvalidationRequest);\n</code></pre>\n\n<p>Take in mind that the invalidation is asynchronous, so it will be issued to your CloudFront distribution when you run this and will take a while to be processed (you can notice that the invalidation has finished when the status becomes <code>Completed</code>).</p>\n"},{"tags":[],"owner":{"account_id":1652056,"reputation":1525,"user_id":1522438,"display_name":"searching9x"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690215994,"creation_date":1602706415,"answer_id":64360854,"question_id":28527188,"body_markdown":"New update:\r\n\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    import com.amazonaws.auth.AWSCredentialsProvider;\r\n    import com.amazonaws.auth.AWSStaticCredentialsProvider;\r\n    import com.amazonaws.auth.BasicAWSCredentials;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.cloudfront.AmazonCloudFrontClient;\r\n    import com.amazonaws.services.cloudfront.AmazonCloudFrontClientBuilder;\r\n    import com.amazonaws.services.cloudfront.model.CreateInvalidationRequest;\r\n    import com.amazonaws.services.cloudfront.model.CreateInvalidationResult;\r\n    import com.amazonaws.services.cloudfront.model.InvalidationBatch;\r\n    import com.amazonaws.services.cloudfront.model.Paths;\r\n    \r\n    \r\n    // Utils method return AmazonCloudFrontClient\r\n    public static AmazonCloudFrontClient getAmazonCloudFront() {\r\n    \t\tRegions region = Regions.EU_CENTRAL_1; // Some Region.\r\n    \r\n    \t\tBasicAWSCredentials awsCredentials = new BasicAWSCredentials(&quot;AMAZON_AWS_ID&quot;, &quot;AMAZON_AWS_SECRET&quot;);\r\n    \t\tAWSCredentialsProvider amazonCredentialProvider = new AWSStaticCredentialsProvider(awsCredentials);\r\n    \r\n    \t\tAmazonCloudFrontClient client = (AmazonCloudFrontClient) AmazonCloudFrontClientBuilder //\r\n    \t\t\t\t.standard() //\r\n    \t\t\t\t.withCredentials(amazonCredentialProvider) //\r\n    \t\t\t\t.withRegion(region) //\r\n    \t\t\t\t.build();\r\n    \t\treturn client;\r\n    }\r\n    \r\n    // Send Invalidation\r\n    public static void sendInvalidation(String distributionId, String[] invalidationPaths) {\r\n       \r\n      System.out.println(&quot;DistributionID: &quot; + distributionId);\r\n      System.out.println(&quot;Send Invalidations: &quot; + invalidationPaths);\r\n    \r\n      //\r\n      AmazonCloudFrontClient client = getAmazonCloudFront();\r\n    \r\n      Paths invalidation_paths = new Paths().withItems(invalidationPaths).withQuantity(invalidationPaths.length);\r\n      LocalDateTime now = LocalDateTime.now();\r\n      // Unique ID like a date: &quot;20201001090000&quot;\r\n      String uniqueId = now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;));\r\n      System.out.println(&quot;Invalidation ID: &quot; + uniqueId);\r\n    \r\n      InvalidationBatch invalidation_batch = new InvalidationBatch(invalidation_paths, uniqueId);\r\n      CreateInvalidationRequest invalidation = new CreateInvalidationRequest(distributionId, invalidation_batch);\r\n      CreateInvalidationResult ret = client.createInvalidation(invalidation);\r\n      System.out.println(&quot;Invalidation Result: &quot; + ret);\r\n      System.out.println(&quot;Invalidation Done!&quot;);\r\n    }","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>New update:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nimport com.amazonaws.auth.AWSCredentialsProvider;\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.cloudfront.AmazonCloudFrontClient;\nimport com.amazonaws.services.cloudfront.AmazonCloudFrontClientBuilder;\nimport com.amazonaws.services.cloudfront.model.CreateInvalidationRequest;\nimport com.amazonaws.services.cloudfront.model.CreateInvalidationResult;\nimport com.amazonaws.services.cloudfront.model.InvalidationBatch;\nimport com.amazonaws.services.cloudfront.model.Paths;\n\n\n// Utils method return AmazonCloudFrontClient\npublic static AmazonCloudFrontClient getAmazonCloudFront() {\n        Regions region = Regions.EU_CENTRAL_1; // Some Region.\n\n        BasicAWSCredentials awsCredentials = new BasicAWSCredentials(&quot;AMAZON_AWS_ID&quot;, &quot;AMAZON_AWS_SECRET&quot;);\n        AWSCredentialsProvider amazonCredentialProvider = new AWSStaticCredentialsProvider(awsCredentials);\n\n        AmazonCloudFrontClient client = (AmazonCloudFrontClient) AmazonCloudFrontClientBuilder //\n                .standard() //\n                .withCredentials(amazonCredentialProvider) //\n                .withRegion(region) //\n                .build();\n        return client;\n}\n\n// Send Invalidation\npublic static void sendInvalidation(String distributionId, String[] invalidationPaths) {\n   \n  System.out.println(&quot;DistributionID: &quot; + distributionId);\n  System.out.println(&quot;Send Invalidations: &quot; + invalidationPaths);\n\n  //\n  AmazonCloudFrontClient client = getAmazonCloudFront();\n\n  Paths invalidation_paths = new Paths().withItems(invalidationPaths).withQuantity(invalidationPaths.length);\n  LocalDateTime now = LocalDateTime.now();\n  // Unique ID like a date: &quot;20201001090000&quot;\n  String uniqueId = now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;));\n  System.out.println(&quot;Invalidation ID: &quot; + uniqueId);\n\n  InvalidationBatch invalidation_batch = new InvalidationBatch(invalidation_paths, uniqueId);\n  CreateInvalidationRequest invalidation = new CreateInvalidationRequest(distributionId, invalidation_batch);\n  CreateInvalidationResult ret = client.createInvalidation(invalidation);\n  System.out.println(&quot;Invalidation Result: &quot; + ret);\n  System.out.println(&quot;Invalidation Done!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":252236,"reputation":26021,"user_id":530153,"accept_rate":66,"display_name":"Rajat Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7016,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":28529438,"answer_count":5,"score":6,"last_activity_date":1690215994,"creation_date":1424011221,"question_id":28527188,"body_markdown":"\r\nI am using Java SDK to uploaded images to S3, How do I invalidate a file in CloudFront so that it is refetched from s3 origin. How to do it via Java SDK ?","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>I am using Java SDK to uploaded images to S3, How do I invalidate a file in CloudFront so that it is refetched from s3 origin. How to do it via Java SDK ?</p>\n"},{"tags":["java","reflection","delegates"],"comments":[{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1432113884,"post_id":30344715,"comment_id":48783818,"body_markdown":"Certainly there is a (simple) solution with reflection, but do you want to accept the performance problems? The version with manual delegates is even simpler to read.","body":"Certainly there is a (simple) solution with reflection, but do you want to accept the performance problems? The version with manual delegates is even simpler to read."},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432114128,"post_id":30344715,"comment_id":48784006,"body_markdown":"I changed all back to MyClass. In my situation both class really inherit from MyBaseClass, but I wanted to make the example simpler so I changed it inherit from MyClass (I removed the edit with MyBaseClass, so you can for now forget about it:).","body":"I changed all back to MyClass. In my situation both class really inherit from MyBaseClass, but I wanted to make the example simpler so I changed it inherit from MyClass (I removed the edit with MyBaseClass, so you can for now forget about it:)."},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432114251,"post_id":30344715,"comment_id":48784093,"body_markdown":"If you mean that I will have worse performance with reflection than this is acceptable. I would prefer not to use reflection (if possible) but it is still an acceptable option. If you have idea how to do this with reflection please post an answer. BTW: see my comment for an answer posted by @Nitin Dandriyal","body":"If you mean that I will have worse performance with reflection than this is acceptable. I would prefer not to use reflection (if possible) but it is still an acceptable option. If you have idea how to do this with reflection please post an answer. BTW: see my comment for an answer posted by @Nitin Dandriyal"},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":1,"creation_date":1432114840,"post_id":30344715,"comment_id":48784540,"body_markdown":"I could provide a solution with common interface, i.e. `MyClass` and `WrapperClass` implement the same interface and WrapperClass delegates to this interface. Ok for you?","body":"I could provide a solution with common interface, i.e. <code>MyClass</code> and <code>WrapperClass</code> implement the same interface and WrapperClass delegates to this interface. Ok for you?"},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432114906,"post_id":30344715,"comment_id":48784590,"body_markdown":"Yes.. This seems exactly what I&#39;m looking for.","body":"Yes.. This seems exactly what I&#39;m looking for."}],"answers":[{"comments":[{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":4,"creation_date":1432113347,"post_id":30344808,"comment_id":48783452,"body_markdown":"Maybe you are not getting it, but delegate object comes from &quot;somewhere else&quot; and has some internal state. I don&#39;t only want to inherit the &quot;definition&quot; because this indeed can be done with inheritance. I want to delegate so that I can reuse (and maybe modify) its internal state.","body":"Maybe you are not getting it, but delegate object comes from &quot;somewhere else&quot; and has some internal state. I don&#39;t only want to inherit the &quot;definition&quot; because this indeed can be done with inheritance. I want to delegate so that I can reuse (and maybe modify) its internal state."},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":2,"creation_date":1432113447,"post_id":30344808,"comment_id":48783535,"body_markdown":"The matching design pattern is the [decorator pattern](http://en.wikipedia.org/wiki/Decorator_pattern). I would use a common super interface instead of a common super class but there are cases that this is not possible.","body":"The matching design pattern is the <a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">decorator pattern</a>. I would use a common super interface instead of a common super class but there are cases that this is not possible."},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432113468,"post_id":30344808,"comment_id":48783545,"body_markdown":"@Marcus: I removed the edit which you mentioned because it does not change anything (you can remove your edit)","body":"@Marcus: I removed the edit which you mentioned because it does not change anything (you can remove your edit)"},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432113665,"post_id":30344808,"comment_id":48783662,"body_markdown":"@CoronA: Indeed I have a common super interface in my situation, but I remove it just to make the example simpler... but still I get the &quot;delegate&quot; object from &quot;outside&quot; so I can not &quot;inherit&quot; directly from it. I want to keep its state","body":"@CoronA: Indeed I have a common super interface in my situation, but I remove it just to make the example simpler... but still I get the &quot;delegate&quot; object from &quot;outside&quot; so I can not &quot;inherit&quot; directly from it. I want to keep its state"},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432114816,"post_id":30344808,"comment_id":48784521,"body_markdown":"@Marcus &quot;I can&#39;t think of anyone willing to do that other than you&quot;: as you probably saw normally I would have _MyClass extends MyBaseClass_ and _MyWrapperClass extends MyBaseClass_ (I did not want to compilcate the example so I removed this edit). In such case &quot;final&quot; would be a problem.","body":"@Marcus &quot;I can&#39;t think of anyone willing to do that other than you&quot;: as you probably saw normally I would have <i>MyClass extends MyBaseClass</i> and <i>MyWrapperClass extends MyBaseClass</i> (I did not want to compilcate the example so I removed this edit). In such case &quot;final&quot; would be a problem."}],"tags":[],"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432112878,"creation_date":1432112089,"answer_id":30344808,"question_id":30344715,"body_markdown":"You don&#39;t have to do this -- your Wrapper class is a subclass of the original class, so it inherits *all* of its publicly accessible methods -- and if you don&#39;t implement them, the original method will be called.\r\n\r\nYou shouldn&#39;t have `extends Myclass` together with a private `MyClass` object -- that&#39;s really really redundant, and I can&#39;t think of a design pattern where doing that is right. Your `WrapperClass` **is** a `MyClass`, and hence you can just use its own fields and methods instead of calling `delegate`.\r\n\r\nEDIT: In the case of `MyClass` being `final`, you&#39;d be circumventing the willfull declaration to not allow subclassing by &quot;faking&quot; inheritance; I can&#39;t think of anyone willing to do that other than you, who is in control of `WrapperClass`; but, since you&#39;re in control of `WrapperClass`, not wrapping everything you don&#39;t need is really more than an option -- it&#39;s the right thing to do, because your object **is not** a `MyClass`, and should only behave like one in the cases you mentally considered.\r\n\r\n**EDIT** you&#39;ve just changed your question to mean something completely different by removing the `MyClass` superclass to your `WrapperClass`; that&#39;s a bit bad, because it invalidates all answers given so far. You should have opened another question.","title":"Automatically delegating all methods of a java class","body":"<p>You don't have to do this -- your Wrapper class is a subclass of the original class, so it inherits <em>all</em> of its publicly accessible methods -- and if you don't implement them, the original method will be called.</p>\n\n<p>You shouldn't have <code>extends Myclass</code> together with a private <code>MyClass</code> object -- that's really really redundant, and I can't think of a design pattern where doing that is right. Your <code>WrapperClass</code> <strong>is</strong> a <code>MyClass</code>, and hence you can just use its own fields and methods instead of calling <code>delegate</code>.</p>\n\n<p>EDIT: In the case of <code>MyClass</code> being <code>final</code>, you'd be circumventing the willfull declaration to not allow subclassing by \"faking\" inheritance; I can't think of anyone willing to do that other than you, who is in control of <code>WrapperClass</code>; but, since you're in control of <code>WrapperClass</code>, not wrapping everything you don't need is really more than an option -- it's the right thing to do, because your object <strong>is not</strong> a <code>MyClass</code>, and should only behave like one in the cases you mentally considered.</p>\n\n<p><strong>EDIT</strong> you've just changed your question to mean something completely different by removing the <code>MyClass</code> superclass to your <code>WrapperClass</code>; that's a bit bad, because it invalidates all answers given so far. You should have opened another question.</p>\n"},{"comments":[{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432113965,"post_id":30345086,"comment_id":48783878,"body_markdown":"Ok.. that&#39;s and idea.  but I don&#39;t want the caller to bother with reflection. Caller needs to talk to instance of MyClass and not to use reflection method like java.lang.reflect.Method#invoke if this is what you meant?","body":"Ok.. that&#39;s and idea.  but I don&#39;t want the caller to bother with reflection. Caller needs to talk to instance of MyClass and not to use reflection method like java.lang.reflect.Method#invoke if this is what you meant?"},{"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"score":0,"creation_date":1432114148,"post_id":30345086,"comment_id":48784022,"body_markdown":"Yes, I meant Method#invoke in second solution","body":"Yes, I meant Method#invoke in second solution"},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432114641,"post_id":30345086,"comment_id":48784399,"body_markdown":"Ok.. so this is not an option, because caller needs to talk to instance of MyClass, but thanks for idea.","body":"Ok.. so this is not an option, because caller needs to talk to instance of MyClass, but thanks for idea."}],"tags":[],"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432113919,"creation_date":1432112749,"answer_id":30345086,"question_id":30344715,"body_markdown":"Define a method in `WrapperClass` i.e. `delegate()` that returns the instance of `MyClass`\r\n\r\nOR\r\n\r\nYou can use reflection to do that but the caller has to pass the method name as an argument to an exposed method. And there will be complications regarding the method arguments/overloaded methods etc.\r\n\r\n\r\n&gt; BTW: I can not use inheritance because the delegate is not under my control.I just get its instance from elsewhere (another case would be if MyClass was final)\r\n\r\nThe code that you have posted has `public class WrapperClass extends MyClass` \r\n\r\n\r\nActually your current implementation of `WrapperClass` is actually a  decorator on top of MyClass \r\n","title":"Automatically delegating all methods of a java class","body":"<p>Define a method in <code>WrapperClass</code> i.e. <code>delegate()</code> that returns the instance of <code>MyClass</code></p>\n\n<p>OR</p>\n\n<p>You can use reflection to do that but the caller has to pass the method name as an argument to an exposed method. And there will be complications regarding the method arguments/overloaded methods etc.</p>\n\n<blockquote>\n  <p>BTW: I can not use inheritance because the delegate is not under my control.I just get its instance from elsewhere (another case would be if MyClass was final)</p>\n</blockquote>\n\n<p>The code that you have posted has <code>public class WrapperClass extends MyClass</code> </p>\n\n<p>Actually your current implementation of <code>WrapperClass</code> is actually a  decorator on top of MyClass </p>\n"},{"comments":[{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432117681,"post_id":30346188,"comment_id":48786692,"body_markdown":"This is brilliant. To be honest in some situations I might want to talk to MyClass and not to its interface (because there might be situations where I want to override method from MyClass which is not part of the interface) but this is anyway exactly what I was wondering about in terms of Java capabilities. I think that proxying directly to object is probably not possible in standard java, but with this approach I would use some dynamic proxies generated by code generation libraries like cglib.","body":"This is brilliant. To be honest in some situations I might want to talk to MyClass and not to its interface (because there might be situations where I want to override method from MyClass which is not part of the interface) but this is anyway exactly what I was wondering about in terms of Java capabilities. I think that proxying directly to object is probably not possible in standard java, but with this approach I would use some dynamic proxies generated by code generation libraries like cglib."},{"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"score":0,"creation_date":1446307111,"post_id":30346188,"comment_id":54693730,"body_markdown":"This looks amazing, but I&#39;m confused about `MyInterface`. First you say, &quot;It only works if you consequently use interfaces. In this case, I will call the interface `MyInterface`...&quot; but then you say, &quot;optionally implement `MyInterface` (to satisfy the decorator pattern).&quot; Can you post the code for `MyInterface`? Does it need to have every method of MyClass? If so, that would kind of defeat the purpose of @walkeros not having to manually list every method.","body":"This looks amazing, but I&#39;m confused about <code>MyInterface</code>. First you say, &quot;It only works if you consequently use interfaces. In this case, I will call the interface <code>MyInterface</code>...&quot; but then you say, &quot;optionally implement <code>MyInterface</code> (to satisfy the decorator pattern).&quot; Can you post the code for <code>MyInterface</code>? Does it need to have every method of MyClass? If so, that would kind of defeat the purpose of @walkeros not having to manually list every method."},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":1,"creation_date":1446310373,"post_id":30346188,"comment_id":54694832,"body_markdown":"Optionally because it inherits from `MyClass` which already implements `MyInterface`. The code of `MyInterface` can be derived from `MyClass` (`@Override` methods must be part of the interface, else it would not compile). Please note that this answer was accepted half a year ago.","body":"Optionally because it inherits from <code>MyClass</code> which already implements <code>MyInterface</code>. The code of <code>MyInterface</code> can be derived from <code>MyClass</code> (<code>@Override</code> methods must be part of the interface, else it would not compile). Please note that this answer was accepted half a year ago."},{"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"score":0,"creation_date":1446315533,"post_id":30346188,"comment_id":54696562,"body_markdown":"I see when it was accepted and am not disputing the answer. Just trying to figure it out. So `MyInterface` is optional for `WrapperClass` but mandatory for `MyClass`, right? What, however, is in `MyInterface`? Does it contain every method of `MyClass`? It&#39;d be great if you could show that in your example. Also, `wrapped` and `wrapper` are not the same class, no? I&#39;m trying to make this work with a decorator pattern (I&#39;ve got an object I&#39;d like to wrap that has _tons_ of methods, just like @walkeros), but I&#39;m obviously missing something fundamental here. Thank you.","body":"I see when it was accepted and am not disputing the answer. Just trying to figure it out. So <code>MyInterface</code> is optional for <code>WrapperClass</code> but mandatory for <code>MyClass</code>, right? What, however, is in <code>MyInterface</code>? Does it contain every method of <code>MyClass</code>? It&#39;d be great if you could show that in your example. Also, <code>wrapped</code> and <code>wrapper</code> are not the same class, no? I&#39;m trying to make this work with a decorator pattern (I&#39;ve got an object I&#39;d like to wrap that has <i>tons</i> of methods, just like @walkeros), but I&#39;m obviously missing something fundamental here. Thank you."},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1446316428,"post_id":30346188,"comment_id":54696843,"body_markdown":"I already mentioned that the interface must contain all methods that are annotated with `@Override`. And honestly, Walkeros wanted it this way, but I would discourage to use this solution (using proxys and reflection just to delegate is fairly weird). I certainly would have developed a better solution if I had insight in the true problem.","body":"I already mentioned that the interface must contain all methods that are annotated with <code>@Override</code>. And honestly, Walkeros wanted it this way, but I would discourage to use this solution (using proxys and reflection just to delegate is fairly weird). I certainly would have developed a better solution if I had insight in the true problem."},{"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"score":0,"creation_date":1446341376,"post_id":30346188,"comment_id":54703258,"body_markdown":"Thanks! But I don&#39;t get it. If `MyInterface` must contain every method in `MyClass`, how is that any better than the original problem where every method is in `WrapperClass`? It&#39;s the same amount of work/maintenance with more overhead. The true problem AFAICT is that when you use the decorator pattern you have to &#39;delegate&#39; every public method in the wrapped object (i.e. `public void methodN() { delegate.methodN(); }`), which can be a _huge_ hassle. It&#39;d be nice if the wrapper would just run any overridden methods and just delegate everything else. Perhaps I should post a new question...","body":"Thanks! But I don&#39;t get it. If <code>MyInterface</code> must contain every method in <code>MyClass</code>, how is that any better than the original problem where every method is in <code>WrapperClass</code>? It&#39;s the same amount of work/maintenance with more overhead. The true problem AFAICT is that when you use the decorator pattern you have to &#39;delegate&#39; every public method in the wrapped object (i.e. <code>public void methodN() { delegate.methodN(); }</code>), which can be a <i>huge</i> hassle. It&#39;d be nice if the wrapper would just run any overridden methods and just delegate everything else. Perhaps I should post a new question..."},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1446360933,"post_id":30346188,"comment_id":54705961,"body_markdown":"With Interface you only have to write the signature of the methods, not its implementation. And that only once not for any sub class. In my opinion there is nothing wrong with having one Wrapper base class with delegating methods that every other could inherit.","body":"With Interface you only have to write the signature of the methods, not its implementation. And that only once not for any sub class. In my opinion there is nothing wrong with having one Wrapper base class with delegating methods that every other could inherit."},{"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"score":0,"creation_date":1446530620,"post_id":30346188,"comment_id":54769068,"body_markdown":"In case anyone who gets here is curious, http://markbramnik.blogspot.com/2010/04/cglib-introduction.html is what I&#39;m looking for. I haven&#39;t tried it yet, but apparently with CGLIB you can wrap an object and send along all the methods _without_ having to maintain an interface.","body":"In case anyone who gets here is curious, <a href=\"http://markbramnik.blogspot.com/2010/04/cglib-introduction.html\" rel=\"nofollow noreferrer\">markbramnik.blogspot.com/2010/04/cglib-introduction.html</a> is what I&#39;m looking for. I haven&#39;t tried it yet, but apparently with CGLIB you can wrap an object and send along all the methods <i>without</i> having to maintain an interface."}],"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"comment_count":8,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1432116017,"creation_date":1432115512,"answer_id":30346188,"question_id":30344715,"body_markdown":"Perhaps the dynamic `Proxy` of java can help you. It only works if you consequently use interfaces. In this case, I will call the interface `MyInterface` and set up a default implementation:\r\n\r\n\tpublic class MyClass implements MyInterface {\r\n\t\r\n\t\t@Override\r\n\t\tpublic void method1() {\r\n\t\t\tSystem.out.println(&quot;foo1&quot;);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void method2() {\r\n\t\t\tSystem.out.println(&quot;foo2&quot;);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void methodN() {\r\n\t\t\tSystem.out.println(&quot;fooN&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMyClass wrapped = new MyClass();\r\n\t\t\twrapped.method1();\r\n\t\t\twrapped.method2();\r\n            MyInterface wrapper = WrapperClass.wrap(wrapped);\r\n            wrapper.method1();\r\n\t\t\twrapper.method2();\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nThe wrapper class implementation would look like:\r\n\r\n\tpublic class WrapperClass extends MyClass implements MyInterface, InvocationHandler {\r\n\t\r\n\t\tprivate final MyClass delegate;\r\n\t\r\n\t\tpublic WrapperClass(MyClass delegate) {\r\n\t\t\tthis.delegate = delegate;\r\n\t\t}\r\n\t\r\n\t\tpublic static MyInterface wrap(MyClass wrapped) {\r\n\t\t\treturn (MyInterface) Proxy.newProxyInstance(MyClass.class.getClassLoader(), new Class[] { MyInterface.class }, new WrapperClass(wrapped));\r\n\t\t}\r\n\t\t\r\n        //you may skip this definition, it is only for demonstration\r\n\t\tpublic void method1() {\r\n\t\t\tSystem.out.println(&quot;bar&quot;);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n\t\t\tMethod m = findMethod(this.getClass(), method);\r\n\t\t\tif (m != null) {\r\n\t\t\t\treturn m.invoke(this, args);\r\n\t\t\t}\r\n\t\t\tm = findMethod(delegate.getClass(), method);\r\n\t\t\tif (m != null) {\r\n\t\t\t\treturn m.invoke(delegate, args);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\r\n\t\tprivate Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\r\n\t\t\ttry {\r\n\t\t\t\treturn clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\r\n\t\t\t} catch (NoSuchMethodException e) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nNote that this class:\r\n\r\n- extends `MyClass`, to inherit a default implementation (any other would do)\r\n- implements `Invocationhandler`, to allow the proxy to do reflection\r\n- optionally implement `MyInterface` (to satisfy the decorator pattern)\r\n\r\nThis solution allows you to override special methods, but to delegate all others. This will even work with sub classes of Wrapper class.\r\n\r\nNote that the method `findMethod` does not yet capture the special cases. ","title":"Automatically delegating all methods of a java class","body":"<p>Perhaps the dynamic <code>Proxy</code> of java can help you. It only works if you consequently use interfaces. In this case, I will call the interface <code>MyInterface</code> and set up a default implementation:</p>\n\n<pre><code>public class MyClass implements MyInterface {\n\n    @Override\n    public void method1() {\n        System.out.println(\"foo1\");\n    }\n\n    @Override\n    public void method2() {\n        System.out.println(\"foo2\");\n    }\n\n    @Override\n    public void methodN() {\n        System.out.println(\"fooN\");\n    }\n\n    public static void main(String[] args) {\n        MyClass wrapped = new MyClass();\n        wrapped.method1();\n        wrapped.method2();\n        MyInterface wrapper = WrapperClass.wrap(wrapped);\n        wrapper.method1();\n        wrapper.method2();\n    }\n\n}\n</code></pre>\n\n<p>The wrapper class implementation would look like:</p>\n\n<pre><code>public class WrapperClass extends MyClass implements MyInterface, InvocationHandler {\n\n    private final MyClass delegate;\n\n    public WrapperClass(MyClass delegate) {\n        this.delegate = delegate;\n    }\n\n    public static MyInterface wrap(MyClass wrapped) {\n        return (MyInterface) Proxy.newProxyInstance(MyClass.class.getClassLoader(), new Class[] { MyInterface.class }, new WrapperClass(wrapped));\n    }\n\n    //you may skip this definition, it is only for demonstration\n    public void method1() {\n        System.out.println(\"bar\");\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        Method m = findMethod(this.getClass(), method);\n        if (m != null) {\n            return m.invoke(this, args);\n        }\n        m = findMethod(delegate.getClass(), method);\n        if (m != null) {\n            return m.invoke(delegate, args);\n        }\n        return null;\n    }\n\n    private Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\n        try {\n            return clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\n        } catch (NoSuchMethodException e) {\n            return null;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Note that this class:</p>\n\n<ul>\n<li>extends <code>MyClass</code>, to inherit a default implementation (any other would do)</li>\n<li>implements <code>Invocationhandler</code>, to allow the proxy to do reflection</li>\n<li>optionally implement <code>MyInterface</code> (to satisfy the decorator pattern)</li>\n</ul>\n\n<p>This solution allows you to override special methods, but to delegate all others. This will even work with sub classes of Wrapper class.</p>\n\n<p>Note that the method <code>findMethod</code> does not yet capture the special cases. </p>\n"},{"comments":[{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1446633345,"post_id":33512097,"comment_id":54820616,"body_markdown":"I&#39;ll +1 this answer. I knew that this can be done with bytecode generation libraries like cglib. However when asking that question I really was wondering if java itself allows this. Using code generators is of course an option and have many advantages (like the class does not have to be final). However you still need to deliver cglib libraries together with your application. Also code generation adds extra overhead (not that big, but still). Cheers.","body":"I&#39;ll +1 this answer. I knew that this can be done with bytecode generation libraries like cglib. However when asking that question I really was wondering if java itself allows this. Using code generators is of course an option and have many advantages (like the class does not have to be final). However you still need to deliver cglib libraries together with your application. Also code generation adds extra overhead (not that big, but still). Cheers."},{"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"score":0,"creation_date":1446652788,"post_id":33512097,"comment_id":54834010,"body_markdown":"I&#39;ve done a lot of research into this and haven&#39;t found another solution in Java. (Ruby, for example, has a `SimpleDelegator` class.) I&#39;m not an expert in Java, but I feel relatively confident that this is the only way. Delivering the CGLIB libraries shouldn&#39;t be too much of a problem, no? And if performance is important, the Decorator Pattern is probably not the way to go. For run, I removed the `System.out.println` from `methodN()` (so it does nothing) and ran it 1 million times. Perhaps not a fair test, but unwrapped it took 0 ms and wrapped it took 2417 ms.","body":"I&#39;ve done a lot of research into this and haven&#39;t found another solution in Java. (Ruby, for example, has a <code>SimpleDelegator</code> class.) I&#39;m not an expert in Java, but I feel relatively confident that this is the only way. Delivering the CGLIB libraries shouldn&#39;t be too much of a problem, no? And if performance is important, the Decorator Pattern is probably not the way to go. For run, I removed the <code>System.out.println</code> from <code>methodN()</code> (so it does nothing) and ran it 1 million times. Perhaps not a fair test, but unwrapped it took 0 ms and wrapped it took 2417 ms."},{"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"score":2,"creation_date":1446657239,"post_id":33512097,"comment_id":54837244,"body_markdown":"I decided to run `methodN()` 1 million times on `unwrapped`, `wrapped` and `proxified`. Still not sure if this is a fair test, but the results, respectively were 0 milliseconds, 4 ms and 1485 ms. It would appear that the bytecode generation library might have some significant overhead. But it works!","body":"I decided to run <code>methodN()</code> 1 million times on <code>unwrapped</code>, <code>wrapped</code> and <code>proxified</code>. Still not sure if this is a fair test, but the results, respectively were 0 milliseconds, 4 ms and 1485 ms. It would appear that the bytecode generation library might have some significant overhead. But it works!"},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1446794180,"post_id":33512097,"comment_id":54901175,"body_markdown":"Yeah I guess so. Byte generation is done on runtime, so it must by slower than normal methods calls. Anyway your test is usefull and shows the disadvantage of cglib. Anyway as you said I did not find better solution to such case either.","body":"Yeah I guess so. Byte generation is done on runtime, so it must by slower than normal methods calls. Anyway your test is usefull and shows the disadvantage of cglib. Anyway as you said I did not find better solution to such case either."}],"tags":[],"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1446599821,"creation_date":1446599821,"answer_id":33512097,"question_id":30344715,"body_markdown":"This question is 6 months old already and @CoronA&#39;s wonderful answer has satisfied and been accepted by @walkeros, but I thought I would add something here as I think this can be pushed an extra step.\r\n\r\nAs discussed with @CoronA in the comments to his answer, instead of having to create and maintain a long list of `MyClass` methods in `WrapperClass` (i.e. `public void methodN() { delegate.methodN(); }`), the dynamic proxy solution moves this to the interface. The issue is that you still have to create and maintain a long list of signatures for the `MyClass` methods in the interface, which is perhaps a bit simpler but doesn&#39;t completely solve the problem. This is especially the case if you don&#39;t have access to `MyClass` in order to know all the methods.\r\n\r\nAccording to [Three approaches for decorating your code][1], \r\n\r\n&gt; For longer classes, a programmer must choose the lesser of two evils:\r\n&gt; implement many wrapper methods and keep the type of decorated object\r\n&gt; or maintain a simple decorator implementation and sacrifice retaining\r\n&gt; the decorated object type.\r\n\r\nSo perhaps this is an expected limitation of the Decorator Pattern.\r\n\r\n@Mark-Bramnik, however, gives an [fascinating solution using CGLIB][2] at [Interposing on Java Class Methods (without interfaces)][3]. I was able to combine this with @CoronaA&#39;s solution in order to create a wrapper that can override individual methods but then pass everything else to the wrapped object *without* requiring an interface.\r\n\r\nHere is `MyClass`.\r\n\r\n    public class MyClass {\r\n    \t\r\n    \tpublic void method1() { System.out.println(&quot;This is method 1 - &quot; + this); }\t\r\n    \tpublic void method2() { System.out.println(&quot;This is method 2 - &quot; + this); }\t\r\n    \tpublic void method3() { System.out.println(&quot;This is method 3 - &quot; + this); }\t\r\n    \tpublic void methodN() { System.out.println(&quot;This is method N - &quot; + this); }\r\n    \t\r\n    }\r\n\r\nHere is `WrapperClass` which only overrides `method2()`. As you&#39;ll see below, the non-overridden methods are, in fact, not passed to the delegate, which can be a problem.\r\n\r\n    public class WrapperClass extends MyClass {\r\n    \r\n    \tprivate MyClass delagate;\r\n    \t\r\n        public WrapperClass(MyClass delegate) { this.delagate = delegate; }\r\n        \r\n        @Override\r\n    \tpublic void method2() {\r\n        \tSystem.out.println(&quot;This is overridden method 2 - &quot; + delagate);\r\n        }\r\n    \r\n    }\r\n\r\nHere is `MyInterceptor` which extends `MyClass`. It employs the proxy solution using CGLIB as described by @Mark-Bramnik. It also employs @CononA&#39;s method of determining whether or not to send the method to the wrapper (if it is overridden) or the wrapped object (if it is not).\r\n\r\n    import java.lang.reflect.Method;\r\n    \r\n    import net.sf.cglib.proxy.MethodInterceptor;\r\n    import net.sf.cglib.proxy.MethodProxy;\r\n    \r\n    public class MyInterceptor extends MyClass implements MethodInterceptor {\r\n    \t\r\n    \tprivate Object realObj;\r\n    \t\r\n    \tpublic MyInterceptor(Object obj) { this.realObj = obj; }\r\n    \t\r\n        @Override\r\n    \tpublic void method2() {\r\n        \tSystem.out.println(&quot;This is overridden method 2 - &quot; + realObj);\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic Object intercept(Object arg0, Method method, Object[] objects,\r\n    \t\t\tMethodProxy methodProxy) throws Throwable {\r\n    \t\tMethod m = findMethod(this.getClass(), method);\r\n    \t\tif (m != null) { return m.invoke(this, objects); }\r\n    \t\tObject res = method.invoke(realObj, objects);\r\n    \t\treturn res;\r\n    \t}\r\n    \t\r\n        private Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\r\n            try {\r\n                return clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\r\n            } catch (NoSuchMethodException e) {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nHere is `Main` and the results you get if you run it.\r\n\r\n    import net.sf.cglib.proxy.Enhancer;\r\n    \r\n    public class Main {\r\n    \r\n    \tprivate static MyClass unwrapped;\r\n    \tprivate static WrapperClass wrapped;\r\n    \tprivate static MyClass proxified;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tunwrapped = new MyClass();\r\n    \t\tSystem.out.println(&quot;&gt;&gt;&gt; Methods from the unwrapped object:&quot;);\r\n    \t\tunwrapped.method1();\r\n    \t\tunwrapped.method2();\r\n    \t\tunwrapped.method3();\r\n    \t\twrapped = new WrapperClass(unwrapped);\r\n    \t\tSystem.out.println(&quot;&gt;&gt;&gt; Methods from the wrapped object:&quot;);\r\n    \t\twrapped.method1();\r\n    \t\twrapped.method2();\r\n    \t\twrapped.method3();\r\n    \t\tproxified = createProxy(unwrapped);\r\n    \t\tSystem.out.println(&quot;&gt;&gt;&gt; Methods from the proxy object:&quot;);\r\n    \t\tproxified.method1();\r\n    \t\tproxified.method2();\r\n    \t\tproxified.method3();\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static &lt;T&gt; T createProxy(T obj) {\r\n    \t\tEnhancer e = new Enhancer();\r\n    \t\te.setSuperclass(obj.getClass());\r\n    \t\te.setCallback(new MyInterceptor(obj));\r\n    \t\tT proxifiedObj = (T) e.create();\r\n    \t\treturn proxifiedObj;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    &gt;&gt;&gt; Methods from the unwrapped object:\r\n    This is method 1 - MyClass@e26db62\r\n    This is method 2 - MyClass@e26db62\r\n    This is method 3 - MyClass@e26db62\r\n\r\n    &gt;&gt;&gt; Methods from the wrapped object:\r\n    This is method 1 - WrapperClass@7b7035c6\r\n    This is overridden method 2 - MyClass@e26db62\r\n    This is method 3 - WrapperClass@7b7035c6\r\n\r\n    &gt;&gt;&gt; Methods from the proxy object:\r\n    This is method 1 - MyClass@e26db62\r\n    This is overridden method 2 - MyClass@e26db62\r\n    This is method 3 - MyClass@e26db62\r\n\r\nAs you can see, when you run the methods on `wrapped` you get the wrapper for the methods that are not overridden (i.e. `method1()` and `method3()`). When you run the methods on `proxified`, however, all of the methods are run on the wrapped object without the pain of having to delegate them all in `WrapperClass` or put all of the method signatures in an interface. Thanks to @CoronA and @Mark-Bramnik for what seems like a pretty cool solution to this problem.\r\n\r\n\r\n  [1]: http://www.javaworld.com/article/2072703/design-patterns/three-approaches-for-decorating-your-code.html\r\n  [2]: https://stackoverflow.com/a/9061547/852795\r\n  [3]: https://stackoverflow.com/q/9061478/852795","title":"Automatically delegating all methods of a java class","body":"<p>This question is 6 months old already and @CoronA's wonderful answer has satisfied and been accepted by @walkeros, but I thought I would add something here as I think this can be pushed an extra step.</p>\n\n<p>As discussed with @CoronA in the comments to his answer, instead of having to create and maintain a long list of <code>MyClass</code> methods in <code>WrapperClass</code> (i.e. <code>public void methodN() { delegate.methodN(); }</code>), the dynamic proxy solution moves this to the interface. The issue is that you still have to create and maintain a long list of signatures for the <code>MyClass</code> methods in the interface, which is perhaps a bit simpler but doesn't completely solve the problem. This is especially the case if you don't have access to <code>MyClass</code> in order to know all the methods.</p>\n\n<p>According to <a href=\"http://www.javaworld.com/article/2072703/design-patterns/three-approaches-for-decorating-your-code.html\" rel=\"noreferrer\">Three approaches for decorating your code</a>, </p>\n\n<blockquote>\n  <p>For longer classes, a programmer must choose the lesser of two evils:\n  implement many wrapper methods and keep the type of decorated object\n  or maintain a simple decorator implementation and sacrifice retaining\n  the decorated object type.</p>\n</blockquote>\n\n<p>So perhaps this is an expected limitation of the Decorator Pattern.</p>\n\n<p>@Mark-Bramnik, however, gives an <a href=\"https://stackoverflow.com/a/9061547/852795\">fascinating solution using CGLIB</a> at <a href=\"https://stackoverflow.com/q/9061478/852795\">Interposing on Java Class Methods (without interfaces)</a>. I was able to combine this with @CoronaA's solution in order to create a wrapper that can override individual methods but then pass everything else to the wrapped object <em>without</em> requiring an interface.</p>\n\n<p>Here is <code>MyClass</code>.</p>\n\n<pre><code>public class MyClass {\n\n    public void method1() { System.out.println(\"This is method 1 - \" + this); } \n    public void method2() { System.out.println(\"This is method 2 - \" + this); } \n    public void method3() { System.out.println(\"This is method 3 - \" + this); } \n    public void methodN() { System.out.println(\"This is method N - \" + this); }\n\n}\n</code></pre>\n\n<p>Here is <code>WrapperClass</code> which only overrides <code>method2()</code>. As you'll see below, the non-overridden methods are, in fact, not passed to the delegate, which can be a problem.</p>\n\n<pre><code>public class WrapperClass extends MyClass {\n\n    private MyClass delagate;\n\n    public WrapperClass(MyClass delegate) { this.delagate = delegate; }\n\n    @Override\n    public void method2() {\n        System.out.println(\"This is overridden method 2 - \" + delagate);\n    }\n\n}\n</code></pre>\n\n<p>Here is <code>MyInterceptor</code> which extends <code>MyClass</code>. It employs the proxy solution using CGLIB as described by @Mark-Bramnik. It also employs @CononA's method of determining whether or not to send the method to the wrapper (if it is overridden) or the wrapped object (if it is not).</p>\n\n<pre><code>import java.lang.reflect.Method;\n\nimport net.sf.cglib.proxy.MethodInterceptor;\nimport net.sf.cglib.proxy.MethodProxy;\n\npublic class MyInterceptor extends MyClass implements MethodInterceptor {\n\n    private Object realObj;\n\n    public MyInterceptor(Object obj) { this.realObj = obj; }\n\n    @Override\n    public void method2() {\n        System.out.println(\"This is overridden method 2 - \" + realObj);\n    }\n\n    @Override\n    public Object intercept(Object arg0, Method method, Object[] objects,\n            MethodProxy methodProxy) throws Throwable {\n        Method m = findMethod(this.getClass(), method);\n        if (m != null) { return m.invoke(this, objects); }\n        Object res = method.invoke(realObj, objects);\n        return res;\n    }\n\n    private Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\n        try {\n            return clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\n        } catch (NoSuchMethodException e) {\n            return null;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Here is <code>Main</code> and the results you get if you run it.</p>\n\n<pre><code>import net.sf.cglib.proxy.Enhancer;\n\npublic class Main {\n\n    private static MyClass unwrapped;\n    private static WrapperClass wrapped;\n    private static MyClass proxified;\n\n    public static void main(String[] args) {\n        unwrapped = new MyClass();\n        System.out.println(\"&gt;&gt;&gt; Methods from the unwrapped object:\");\n        unwrapped.method1();\n        unwrapped.method2();\n        unwrapped.method3();\n        wrapped = new WrapperClass(unwrapped);\n        System.out.println(\"&gt;&gt;&gt; Methods from the wrapped object:\");\n        wrapped.method1();\n        wrapped.method2();\n        wrapped.method3();\n        proxified = createProxy(unwrapped);\n        System.out.println(\"&gt;&gt;&gt; Methods from the proxy object:\");\n        proxified.method1();\n        proxified.method2();\n        proxified.method3();\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; T createProxy(T obj) {\n        Enhancer e = new Enhancer();\n        e.setSuperclass(obj.getClass());\n        e.setCallback(new MyInterceptor(obj));\n        T proxifiedObj = (T) e.create();\n        return proxifiedObj;\n    }\n\n}\n\n&gt;&gt;&gt; Methods from the unwrapped object:\nThis is method 1 - MyClass@e26db62\nThis is method 2 - MyClass@e26db62\nThis is method 3 - MyClass@e26db62\n\n&gt;&gt;&gt; Methods from the wrapped object:\nThis is method 1 - WrapperClass@7b7035c6\nThis is overridden method 2 - MyClass@e26db62\nThis is method 3 - WrapperClass@7b7035c6\n\n&gt;&gt;&gt; Methods from the proxy object:\nThis is method 1 - MyClass@e26db62\nThis is overridden method 2 - MyClass@e26db62\nThis is method 3 - MyClass@e26db62\n</code></pre>\n\n<p>As you can see, when you run the methods on <code>wrapped</code> you get the wrapper for the methods that are not overridden (i.e. <code>method1()</code> and <code>method3()</code>). When you run the methods on <code>proxified</code>, however, all of the methods are run on the wrapped object without the pain of having to delegate them all in <code>WrapperClass</code> or put all of the method signatures in an interface. Thanks to @CoronA and @Mark-Bramnik for what seems like a pretty cool solution to this problem.</p>\n"},{"comments":[{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":3,"creation_date":1447258474,"post_id":33642032,"comment_id":55082924,"body_markdown":"I think I already stated that I know that it can be done in scripting langauges and the question was about java","body":"I think I already stated that I know that it can be done in scripting langauges and the question was about java"},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":3,"creation_date":1447269575,"post_id":33642032,"comment_id":55089830,"body_markdown":"Meh. I&#39;ll take the -1.  If it&#39;s compile at build time into a .class file, is it really a scripting language at that point?  Throw a `@CompileStatic` on there if it makes you feel better.  Do you consider Scala a scripting language?  May point being that Java makes this lame. You&#39;re running a JVM, take advantage of it.","body":"Meh. I&#39;ll take the -1.  If it&#39;s compile at build time into a .class file, is it really a scripting language at that point?  Throw a <code>@CompileStatic</code> on there if it makes you feel better.  Do you consider Scala a scripting language?  May point being that Java makes this lame. You&#39;re running a JVM, take advantage of it."},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":2,"creation_date":1447326665,"post_id":33642032,"comment_id":55113090,"body_markdown":"You got -1 not for I&#39;m considering Grovy a scripting language, but because the question was about java.","body":"You got -1 not for I&#39;m considering Grovy a scripting language, but because the question was about java."},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1574109093,"post_id":33642032,"comment_id":104106287,"body_markdown":"If having Groovy in your source really bugs you, create a separate project, import the class you need to delegate (as seen above), then package your tiny project up as a jar and import your WrapperClass it into your project as needed.","body":"If having Groovy in your source really bugs you, create a separate project, import the class you need to delegate (as seen above), then package your tiny project up as a jar and import your WrapperClass it into your project as needed."}],"tags":[],"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"comment_count":4,"down_vote_count":6,"up_vote_count":12,"is_accepted":false,"score":6,"last_activity_date":1447269005,"creation_date":1447200450,"answer_id":33642032,"question_id":30344715,"body_markdown":"Switch to Groovy :-) \r\n\r\n    @CompileStatic\r\n    public class WrapperClass extends MyClass  {\r\n        @Delegate private final MyClass delegate;\r\n    \r\n        public WrapperClass(MyClass delegate) {\r\n            this.delagate = delegate;\r\n        }\r\n    \r\n        //Done. That&#39;s it.\r\n    \r\n    }\r\n\r\n\r\nhttp://mrhaki.blogspot.com/2009/08/groovy-goodness-delegate-to-simplify.html","title":"Automatically delegating all methods of a java class","body":"<p>Switch to Groovy :-) </p>\n\n<pre><code>@CompileStatic\npublic class WrapperClass extends MyClass  {\n    @Delegate private final MyClass delegate;\n\n    public WrapperClass(MyClass delegate) {\n        this.delagate = delegate;\n    }\n\n    //Done. That's it.\n\n}\n</code></pre>\n\n<p><a href=\"http://mrhaki.blogspot.com/2009/08/groovy-goodness-delegate-to-simplify.html\" rel=\"noreferrer\">http://mrhaki.blogspot.com/2009/08/groovy-goodness-delegate-to-simplify.html</a></p>\n"},{"tags":[],"owner":{"account_id":361630,"reputation":3255,"user_id":704335,"accept_rate":50,"display_name":"Timmos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455539492,"creation_date":1455377392,"answer_id":35381685,"question_id":30344715,"body_markdown":"Credits go to CoronA for Pointing out the Proxy and InvocationHandler classes. I worked out a more reusable utility class based on his solution, using generics:\r\n\r\n\tpublic class DelegationUtils {\r\n\r\n\t\tpublic static &lt;I&gt; I wrap(Class&lt;I&gt; iface, I wrapped) {\r\n            return wrapInternally(iface, wrapped, new SimpleDecorator(wrapped));\r\n        }\r\n\t\t\r\n\t\tprivate static &lt;I&gt; I wrapInternally (Class&lt;I&gt; iface, I wrapped, InvocationHandler handler) {\r\n\t\t\treturn (I) Proxy.newProxyInstance(wrapped.getClass().getClassLoader(), new Class[] { iface }, handler);\r\n\t\t}\r\n\r\n\t\tprivate static class SimpleDecorator&lt;T&gt; implements InvocationHandler {\r\n\t\t\t\r\n\t\t\tprivate final T delegate;\r\n\t\t\t\r\n\t\t\tprivate SimpleDecorator(T delegate) {\r\n\t\t\t\tthis.delegate = delegate;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n\t\t\t\tMethod m = findMethod(delegate.getClass(), method);\r\n\t\t\t\tif (m == null) {\r\n\t\t\t\t\tthrow new NullPointerException(&quot;Found no method &quot; + method + &quot; in delegate: &quot; + delegate);\r\n\t\t\t\t}\r\n\t\t\t\treturn m.invoke(delegate, args);\r\n\t\t\t}\r\n\t\t}    \r\n\t\t\r\n\t\tprivate static Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\r\n\t\t\ttry {\r\n\t\t\t\treturn clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\r\n\t\t\t} catch (NoSuchMethodException e) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\nTest it:\r\n\r\n\tpublic class Test {\r\n\t\r\n\t\tpublic  interface Test {\r\n\t\t\tpublic void sayHello ();\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class TestImpl implements Test {\r\n\t\t\t@Override\r\n\t\t\tpublic void sayHello() {\r\n\t\t\t\tSystem.out.println(&quot;HELLO!&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tTest proxy = DelegationUtils.wrap(Test.class, new TestImpl());\r\n\t\t\tproxy.sayHello();\r\n\t\t}\r\n\t}\r\n\t\r\nI wanted to create an automatic delegation class that executes the delegatee&#39;s methods on the EDT. With this class, you just create a new utility method that will use an EDTDecorator, in which the implementation will wrap `m.invoke` in a `SwingUtilities.invokeLater`.\r\n\r\nHowever, if I reflect on this, I may want to reconsider making a non-Reflection based proxy per interface that I have - it might be cleaner and faster, and more understandable. But, it&#39;s possible.","title":"Automatically delegating all methods of a java class","body":"<p>Credits go to CoronA for Pointing out the Proxy and InvocationHandler classes. I worked out a more reusable utility class based on his solution, using generics:</p>\n\n<pre><code>public class DelegationUtils {\n\n    public static &lt;I&gt; I wrap(Class&lt;I&gt; iface, I wrapped) {\n        return wrapInternally(iface, wrapped, new SimpleDecorator(wrapped));\n    }\n\n    private static &lt;I&gt; I wrapInternally (Class&lt;I&gt; iface, I wrapped, InvocationHandler handler) {\n        return (I) Proxy.newProxyInstance(wrapped.getClass().getClassLoader(), new Class[] { iface }, handler);\n    }\n\n    private static class SimpleDecorator&lt;T&gt; implements InvocationHandler {\n\n        private final T delegate;\n\n        private SimpleDecorator(T delegate) {\n            this.delegate = delegate;\n        }\n\n        @Override\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n            Method m = findMethod(delegate.getClass(), method);\n            if (m == null) {\n                throw new NullPointerException(\"Found no method \" + method + \" in delegate: \" + delegate);\n            }\n            return m.invoke(delegate, args);\n        }\n    }    \n\n    private static Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\n        try {\n            return clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\n        } catch (NoSuchMethodException e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Test it:</p>\n\n<pre><code>public class Test {\n\n    public  interface Test {\n        public void sayHello ();\n    }\n\n    public static class TestImpl implements Test {\n        @Override\n        public void sayHello() {\n            System.out.println(\"HELLO!\");\n        }\n    }\n\n    public static void main(String[] args) {\n        Test proxy = DelegationUtils.wrap(Test.class, new TestImpl());\n        proxy.sayHello();\n    }\n}\n</code></pre>\n\n<p>I wanted to create an automatic delegation class that executes the delegatee's methods on the EDT. With this class, you just create a new utility method that will use an EDTDecorator, in which the implementation will wrap <code>m.invoke</code> in a <code>SwingUtilities.invokeLater</code>.</p>\n\n<p>However, if I reflect on this, I may want to reconsider making a non-Reflection based proxy per interface that I have - it might be cleaner and faster, and more understandable. But, it's possible.</p>\n"},{"comments":[{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":4,"creation_date":1500999060,"post_id":42840538,"comment_id":77579078,"body_markdown":"This would be my answer if you cannot use Groovy, however, you have to be careful because `@Delegate` was demoted to an Experimental feature in `v1.14.`\n\nhttps://projectlombok.org/features/experimental/all\n\nhttps://stackoverflow.com/a/12807937/378151","body":"This would be my answer if you cannot use Groovy, however, you have to be careful because <code>@Delegate</code> was demoted to an Experimental feature in <code>v1.14.</code>  <a href=\"https://projectlombok.org/features/experimental/all\" rel=\"nofollow noreferrer\">projectlombok.org/features/experimental/all</a>  <a href=\"https://stackoverflow.com/a/12807937/378151\">stackoverflow.com/a/12807937/378151</a>"}],"tags":[],"owner":{"account_id":1630273,"reputation":419,"user_id":1504977,"display_name":"Vanessa Schissato"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1690215764,"creation_date":1489684092,"answer_id":42840538,"question_id":30344715,"body_markdown":"Check the @Delegate annotation from Lombok framework:\r\nhttps://projectlombok.org/features/experimental/Delegate","title":"Automatically delegating all methods of a java class","body":"<p>Check the @Delegate annotation from Lombok framework:\n<a href=\"https://projectlombok.org/features/experimental/Delegate\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/experimental/Delegate</a></p>\n"},{"tags":[],"owner":{"account_id":13807566,"reputation":61,"user_id":9966043,"display_name":"Ahmet Erdem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542111027,"creation_date":1542111027,"answer_id":53280747,"question_id":30344715,"body_markdown":"Let me redefine the problem for a specific case. \r\nI want to override the close method of ResultSet interface in jdbc. My aim is to close the preparedstatement in close method of result set.  I could not access to the Class (DelegatingResultSet) that implements in ResultSet interface. There are a lot of methods in ResultSet interface and overriding them one by one and calling the corresponding method from the ResultSet object is one solution. For a dynamic solution I used Dynamic ProxyClasses (https://docs.oracle.com/javase/1.5.0/docs/guide/reflection/proxy.html).\r\n\r\n        // New ResultSet implementation\r\n        public class MyResultSet implements InvocationHandler {\r\n        \tResultSet rs;\r\n        \tPreparedStatement ps;\r\n        \tprivate Method closeMethod;\r\n        \r\n        \tpublic MyResultSet(ResultSet rs, PreparedStatement ps) {\r\n        \t\tsuper();\r\n        \t\tthis.rs = rs;\r\n        \t\tthis.ps = ps;\r\n        \t\ttry {\r\n        \t\t\tcloseMethod = ResultSet.class.getMethod(&quot;close&quot;,null);\r\n        \t\t} catch (NoSuchMethodException | SecurityException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tpublic void close() {\r\n        \t\ttry {\r\n        \t\t\trs.close();\r\n        \t\t\tps.close();\r\n        \t\t} catch (SQLException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \r\n        \t}\r\n        \r\n        \tpublic static Object newInstance(ResultSet rs, PreparedStatement ps) {\r\n        \t\treturn java.lang.reflect.Proxy.newProxyInstance(rs.getClass().getClassLoader(), rs.getClass().getInterfaces(),\r\n        \t\t\t\tnew MyResultSet(rs,ps));\r\n        \t}\r\n        \r\n        \tpublic Object invoke(Object proxy, Method m, Object[] args) \r\n    throws Throwable {\r\n        \t\tObject result = null;\r\n        \t\ttry {\r\n        \t\t\tClass declaringClass = m.getDeclaringClass();\r\n        \r\n        \t\t\tif (m.getName().compareTo(&quot;close&quot;)==0) {\r\n        \t\t\t\t\tclose();\r\n        \t\t\t} else {\r\n        \t\t\t\tresult = m.invoke(rs, args);\r\n        \t\t\t}\r\n        \t\t} catch (InvocationTargetException e) {\r\n        \t\t\tthrow e.getTargetException();\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tthrow new RuntimeException(e.getMessage());\r\n        \r\n        \t\t} finally {\r\n        \t\t}\r\n        \t\treturn result;\r\n        \t}\r\n        }\r\n    \r\n    \r\n\r\n// How to call it:\r\n\r\n    ResultSet prs = (ResultSet) MyResultSet.newInstance(rs,ps);\r\n\r\n","title":"Automatically delegating all methods of a java class","body":"<p>Let me redefine the problem for a specific case. \nI want to override the close method of ResultSet interface in jdbc. My aim is to close the preparedstatement in close method of result set.  I could not access to the Class (DelegatingResultSet) that implements in ResultSet interface. There are a lot of methods in ResultSet interface and overriding them one by one and calling the corresponding method from the ResultSet object is one solution. For a dynamic solution I used Dynamic ProxyClasses (<a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/reflection/proxy.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/1.5.0/docs/guide/reflection/proxy.html</a>).</p>\n\n<pre><code>    // New ResultSet implementation\n    public class MyResultSet implements InvocationHandler {\n        ResultSet rs;\n        PreparedStatement ps;\n        private Method closeMethod;\n\n        public MyResultSet(ResultSet rs, PreparedStatement ps) {\n            super();\n            this.rs = rs;\n            this.ps = ps;\n            try {\n                closeMethod = ResultSet.class.getMethod(\"close\",null);\n            } catch (NoSuchMethodException | SecurityException e) {\n                e.printStackTrace();\n            }\n        }\n\n        public void close() {\n            try {\n                rs.close();\n                ps.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n\n        }\n\n        public static Object newInstance(ResultSet rs, PreparedStatement ps) {\n            return java.lang.reflect.Proxy.newProxyInstance(rs.getClass().getClassLoader(), rs.getClass().getInterfaces(),\n                    new MyResultSet(rs,ps));\n        }\n\n        public Object invoke(Object proxy, Method m, Object[] args) \nthrows Throwable {\n            Object result = null;\n            try {\n                Class declaringClass = m.getDeclaringClass();\n\n                if (m.getName().compareTo(\"close\")==0) {\n                        close();\n                } else {\n                    result = m.invoke(rs, args);\n                }\n            } catch (InvocationTargetException e) {\n                throw e.getTargetException();\n            } catch (Exception e) {\n                throw new RuntimeException(e.getMessage());\n\n            } finally {\n            }\n            return result;\n        }\n    }\n</code></pre>\n\n<p>// How to call it:</p>\n\n<pre><code>ResultSet prs = (ResultSet) MyResultSet.newInstance(rs,ps);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4047822,"reputation":683,"user_id":3328545,"accept_rate":25,"display_name":"gscaparrotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651147193,"creation_date":1651144895,"answer_id":72042779,"question_id":30344715,"body_markdown":"I really appreciated @CoronA&#39;s answer. I also looked at @Mark Cramer&#39;s answer, but, if I&#39;m not missing something, I think that there are always at least two instances of the &quot;proxified&quot; class with a strange relationship beteen the two objects. \r\n\r\nThis, along with the fact that cglib is now deprecated, pushed me to find a new implementation based on ByteBuddy. \r\n\r\nThis is what I came up with:\r\n\r\n```\r\npublic class MyClass {\r\n\r\n    public String testMethod() {\r\n         return &quot;11111&quot;;\r\n    }\r\n\r\n    public String testMethod2() {\r\n        return &quot;aaaaa&quot;;\r\n    }\r\n\r\n}\r\n\r\npublic class MyClassWithDelegate extends MyClass {\r\n\r\n    private static final Constructor&lt;? extends MyClassWithDelegate&gt; CONSTRUCTOR_WITH_DELEGATE;\r\n\r\n    static {\r\n        Constructor&lt;? extends MyClassWithDelegate&gt; temp = null;\r\n        try {\r\n            final var instrumentedMyClassWithDelegateType =\r\n                new ByteBuddy()\r\n                    .subclass(MyClassWithDelegate.class)\r\n                    .method(ElementMatchers.any())\r\n                    .intercept(MethodDelegation.to(MethodInterceptor.class))\r\n                    .make()\r\n                    .load(MyClassWithDelegate.class.getClassLoader())\r\n                    .getLoaded();\r\n            temp = instrumentedMyClassWithDelegateType.getConstructor(MyClass.class);\r\n        } catch (final Exception e) {\r\n            LOGGER.error(&quot;Cannot instrument class {}&quot;, MyClassWithDelegate.class, e);\r\n        }\r\n        CONSTRUCTOR_WITH_DELEGATE = temp;\r\n    }\r\n\r\n    public static MyClassWithDelegate getInstanceWithDelegate(final MyClass myClass) {\r\n       try {\r\n            return CONSTRUCTOR_WITH_DELEGATE.newInstance(myClass);\r\n        } catch (final Exception e) {\r\n            LOGGER.error(&quot;Cannot get instance of {}&quot;, MyClassWithDelegate.class, e);\r\n            throw new IllegalStateException();\r\n        }\r\n    }\r\n\r\n    private final boolean initialized;\r\n    private final MyClass delegate;\r\n\r\n    public MyClassWithDelegate(final MyClass delegate) {\r\n        super();\r\n        this.delegate = delegate;\r\n        this.initialized = true;\r\n    }\r\n\r\n    public String testMethod() {\r\n         return &quot;22222&quot;;\r\n    }\r\n\r\n    public static class MethodInterceptor {\r\n        @RuntimeType\r\n        public static Object intercept(@This final MyClassWithDelegate self,\r\n                                       @Origin final Method method,\r\n                                       @AllArguments final Object[] args,\r\n                                       @SuperMethod final Method superMethod) throws Throwable {\r\n            if (!self.initialized || method.getDeclaringClass().equals(MyClassWithDelegate.class)) {\r\n                return superMethod.invoke(self, args);\r\n            } else {\r\n                return method.invoke(self.delegate, args);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe `initialized` field is used to prevent method calls the `super` constructor from being redirected to the delegate before its assignment (in this case it wouldn&#39;t be a problem, but I wanted to create a generic solution). \r\n\r\nEvery method called on an instance of `MyClassWithDelegate` will be redirected to the delegate, except from methods declared inside `MyClassWithDelegate` itself. \r\n\r\nIn this example, calling `testMethod()` on an instance of `MyClassWithDelegate` will return &quot;22222&quot;, while `testMethod2()` will return &quot;aaaaa&quot;.  \r\n\r\nObviously, the delegation will actually work only if every instance of `MyClassWithDelegate` is obtained calling the `getInstanceWithDelegate` factory method.\r\n\r\n","title":"Automatically delegating all methods of a java class","body":"<p>I really appreciated @CoronA's answer. I also looked at @Mark Cramer's answer, but, if I'm not missing something, I think that there are always at least two instances of the &quot;proxified&quot; class with a strange relationship beteen the two objects.</p>\n<p>This, along with the fact that cglib is now deprecated, pushed me to find a new implementation based on ByteBuddy.</p>\n<p>This is what I came up with:</p>\n<pre><code>public class MyClass {\n\n    public String testMethod() {\n         return &quot;11111&quot;;\n    }\n\n    public String testMethod2() {\n        return &quot;aaaaa&quot;;\n    }\n\n}\n\npublic class MyClassWithDelegate extends MyClass {\n\n    private static final Constructor&lt;? extends MyClassWithDelegate&gt; CONSTRUCTOR_WITH_DELEGATE;\n\n    static {\n        Constructor&lt;? extends MyClassWithDelegate&gt; temp = null;\n        try {\n            final var instrumentedMyClassWithDelegateType =\n                new ByteBuddy()\n                    .subclass(MyClassWithDelegate.class)\n                    .method(ElementMatchers.any())\n                    .intercept(MethodDelegation.to(MethodInterceptor.class))\n                    .make()\n                    .load(MyClassWithDelegate.class.getClassLoader())\n                    .getLoaded();\n            temp = instrumentedMyClassWithDelegateType.getConstructor(MyClass.class);\n        } catch (final Exception e) {\n            LOGGER.error(&quot;Cannot instrument class {}&quot;, MyClassWithDelegate.class, e);\n        }\n        CONSTRUCTOR_WITH_DELEGATE = temp;\n    }\n\n    public static MyClassWithDelegate getInstanceWithDelegate(final MyClass myClass) {\n       try {\n            return CONSTRUCTOR_WITH_DELEGATE.newInstance(myClass);\n        } catch (final Exception e) {\n            LOGGER.error(&quot;Cannot get instance of {}&quot;, MyClassWithDelegate.class, e);\n            throw new IllegalStateException();\n        }\n    }\n\n    private final boolean initialized;\n    private final MyClass delegate;\n\n    public MyClassWithDelegate(final MyClass delegate) {\n        super();\n        this.delegate = delegate;\n        this.initialized = true;\n    }\n\n    public String testMethod() {\n         return &quot;22222&quot;;\n    }\n\n    public static class MethodInterceptor {\n        @RuntimeType\n        public static Object intercept(@This final MyClassWithDelegate self,\n                                       @Origin final Method method,\n                                       @AllArguments final Object[] args,\n                                       @SuperMethod final Method superMethod) throws Throwable {\n            if (!self.initialized || method.getDeclaringClass().equals(MyClassWithDelegate.class)) {\n                return superMethod.invoke(self, args);\n            } else {\n                return method.invoke(self.delegate, args);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>The <code>initialized</code> field is used to prevent method calls the <code>super</code> constructor from being redirected to the delegate before its assignment (in this case it wouldn't be a problem, but I wanted to create a generic solution).</p>\n<p>Every method called on an instance of <code>MyClassWithDelegate</code> will be redirected to the delegate, except from methods declared inside <code>MyClassWithDelegate</code> itself.</p>\n<p>In this example, calling <code>testMethod()</code> on an instance of <code>MyClassWithDelegate</code> will return &quot;22222&quot;, while <code>testMethod2()</code> will return &quot;aaaaa&quot;.</p>\n<p>Obviously, the delegation will actually work only if every instance of <code>MyClassWithDelegate</code> is obtained calling the <code>getInstanceWithDelegate</code> factory method.</p>\n"}],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19962,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":30346188,"answer_count":9,"score":38,"last_activity_date":1690215764,"creation_date":1432111846,"question_id":30344715,"body_markdown":"Say I have a class with many of public methods:\r\n\r\n    public class MyClass {\r\n    \r\n        public void method1() {}\r\n        public void method2() {}\r\n        (...)\r\n        public void methodN() {}\r\n    \r\n    }\r\n\r\nNow I would like to create a *wrapper* class which would delegate all the methods to wrapped instance (*delegate*):\r\n\r\n    public class WrapperClass extends MyClass  {\r\n        private final MyClass delegate;\r\n        \r\n        public WrapperClass(MyClass delegate) {\r\n            this.delagate = delegate;\r\n        }\r\n\r\n        public void method1() { delegate.method1(); }\r\n        public void method2() { delegate.method2(); }\r\n        (...)\r\n        public void methodN() { delegate.methodN(); }\r\n    \r\n    }\r\n\r\nNow if MyClass has a lot of methods I would need to override each of them which is more or less the same code which just &quot;delegates&quot;. I was wondering if it is possible to do some magic to automatically call a method in Java (so the Wrapper class would need to say &quot;Hey if you call a method on me just go to *delegate* object and call this method on it).\r\n\r\nBTW: I can not use inheritance because the delegate is not under my control.I just get its instance from elsewhere (another case would be if MyClass was final). \r\n\r\nNOTE: I do not want IDE generation. I know I can do it with help of IntelliJ/Eclipse, but I&#39;m curious if this can be done in code.\r\n\r\nAny suggestions how to achieve something like this? (NOTE: I would probably be able to do it in some scripting languages like php where I could use php magic functions to intercept the call).","title":"Automatically delegating all methods of a java class","body":"<p>Say I have a class with many of public methods:</p>\n\n<pre><code>public class MyClass {\n\n    public void method1() {}\n    public void method2() {}\n    (...)\n    public void methodN() {}\n\n}\n</code></pre>\n\n<p>Now I would like to create a <em>wrapper</em> class which would delegate all the methods to wrapped instance (<em>delegate</em>):</p>\n\n<pre><code>public class WrapperClass extends MyClass  {\n    private final MyClass delegate;\n\n    public WrapperClass(MyClass delegate) {\n        this.delagate = delegate;\n    }\n\n    public void method1() { delegate.method1(); }\n    public void method2() { delegate.method2(); }\n    (...)\n    public void methodN() { delegate.methodN(); }\n\n}\n</code></pre>\n\n<p>Now if MyClass has a lot of methods I would need to override each of them which is more or less the same code which just \"delegates\". I was wondering if it is possible to do some magic to automatically call a method in Java (so the Wrapper class would need to say \"Hey if you call a method on me just go to <em>delegate</em> object and call this method on it).</p>\n\n<p>BTW: I can not use inheritance because the delegate is not under my control.I just get its instance from elsewhere (another case would be if MyClass was final). </p>\n\n<p>NOTE: I do not want IDE generation. I know I can do it with help of IntelliJ/Eclipse, but I'm curious if this can be done in code.</p>\n\n<p>Any suggestions how to achieve something like this? (NOTE: I would probably be able to do it in some scripting languages like php where I could use php magic functions to intercept the call).</p>\n"},{"tags":["java","android","stockfish"],"owner":{"account_id":29075161,"reputation":1,"user_id":22272527,"display_name":"Jochengehtab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690215760,"creation_date":1690215760,"question_id":76756361,"body_markdown":"I have compiled Stockfish 16 with CMake to and SharedLibary (.so). But when i run this libary in my code, Logcat give me the following Error:\r\n\r\n\r\n```\r\n2023-07-24 18:14:11.770     0-0     lib_stockfish_s[4976]   kernel                               I  segfault at 0 ip 000071fa37c9f047 sp 00007fffb509c0e0 error 6 in lib_stockfish_sixten.so[71fa37c9f000+281c000]\r\n2023-07-24 18:14:11.773     0-0     Code                    kernel                               I  00 00 00 40 00 00 00 00 00 00 00 88 6c 82 02 00 00 00 00 00 00 00 00 40 00 38 00 0a 00 40 00 1a 00 19 00 06 00 00 00 04 00 00 &lt;00&gt; 40 00 00 00 00 00 00 00 40 00 00 00 00 00 00 00 40 00 00 00 00\r\n```\r\n\r\nThis is the code that i am using to load the shared libary:\r\n\r\n```\r\nFile stockfish = new File(getApplication().getApplicationInfo().nativeLibraryDir + &quot;/lib_stockfish_sixten.so&quot;);\r\n        try {\r\n            engineProcess = Runtime.getRuntime().exec(stockfish.getPath());\r\n            processReader = new BufferedReader(new InputStreamReader(engineProcess.getInputStream()));\r\n            processWriter = new OutputStreamWriter(engineProcess.getOutputStream());\r\n        } catch (IOException e) {\r\n            Log.println(Log.INFO, &quot;Stockfish&quot;, &quot;Error while loading Stockfish&quot;);\r\n            e.printStackTrace();\r\n        } \r\n```\r\n\r\nI was expecting that after i started stockfish i can send him the command `isready` but nothing happen and i get this error. (And i also geting this error when i dont send this command)","title":"Error when when running stockfish (shared-libary) in android studio","body":"<p>I have compiled Stockfish 16 with CMake to and SharedLibary (.so). But when i run this libary in my code, Logcat give me the following Error:</p>\n<pre><code>2023-07-24 18:14:11.770     0-0     lib_stockfish_s[4976]   kernel                               I  segfault at 0 ip 000071fa37c9f047 sp 00007fffb509c0e0 error 6 in lib_stockfish_sixten.so[71fa37c9f000+281c000]\n2023-07-24 18:14:11.773     0-0     Code                    kernel                               I  00 00 00 40 00 00 00 00 00 00 00 88 6c 82 02 00 00 00 00 00 00 00 00 40 00 38 00 0a 00 40 00 1a 00 19 00 06 00 00 00 04 00 00 &lt;00&gt; 40 00 00 00 00 00 00 00 40 00 00 00 00 00 00 00 40 00 00 00 00\n</code></pre>\n<p>This is the code that i am using to load the shared libary:</p>\n<pre><code>File stockfish = new File(getApplication().getApplicationInfo().nativeLibraryDir + &quot;/lib_stockfish_sixten.so&quot;);\n        try {\n            engineProcess = Runtime.getRuntime().exec(stockfish.getPath());\n            processReader = new BufferedReader(new InputStreamReader(engineProcess.getInputStream()));\n            processWriter = new OutputStreamWriter(engineProcess.getOutputStream());\n        } catch (IOException e) {\n            Log.println(Log.INFO, &quot;Stockfish&quot;, &quot;Error while loading Stockfish&quot;);\n            e.printStackTrace();\n        } \n</code></pre>\n<p>I was expecting that after i started stockfish i can send him the command <code>isready</code> but nothing happen and i get this error. (And i also geting this error when i dont send this command)</p>\n"},{"tags":["java","configuration","payara"],"owner":{"account_id":24155765,"reputation":1,"user_id":18120028,"display_name":"arielkoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690215599,"creation_date":1690215599,"question_id":76756340,"body_markdown":"I am not able to see the main page once docker compose has completed the deployment, I am following the steps shown in this guide. https://github.com/docdoku/docdoku-plm-docker\r\n\r\n\r\nInstead of the front page at http://localhost:8080, I receive the message &quot;Server isn&#39;t available, please try again&quot;\r\n\r\nthis is the output for the ./start.sh\r\n\r\n```bash\r\narield@vm-nebula:~/Projects/docdokuplm/docdoku-plm-docker$ ./start.sh \r\nData directory found\r\n/home/arield/Projects/docdokuplm/docdoku-plm-docker/data\r\nKeystore found\r\n/home/arield/Projects/docdokuplm/docdoku-plm-docker/keystore\r\nPulling front      ... done\r\nPulling es         ... done\r\nPulling kibana     ... done\r\nPulling db         ... done\r\nPulling smtp       ... done\r\nPulling back       ... done\r\nPulling adminer    ... done\r\nPulling zookeeper  ... done\r\nPulling kafka      ... done\r\nPulling conversion ... done\r\nPulling ssl-proxy  ... done\r\nRecreating docdoku-plm-docker_front_1     ... done\r\nRecreating docdoku-plm-docker_zookeeper_1 ... done\r\nRecreating docdoku-plm-docker_smtp_1      ... done\r\nRecreating docdoku-plm-docker_db_1        ... done\r\nRecreating docdoku-plm-docker_es_1        ... done\r\nRecreating docdoku-plm-docker_kafka_1     ... done\r\nRecreating docdoku-plm-docker_adminer_1   ... done\r\nRecreating docdoku-plm-docker_kibana_1    ... done\r\nRecreating docdoku-plm-docker_back_1      ... done\r\nRecreating docdoku-plm-docker_conversion_1 ... done\r\nRecreating docdoku-plm-docker_ssl-proxy_1  ... done\r\n```\r\n\r\nEverything seems ok...\r\n\r\nDo I need a server in addition to the docker deployment?","title":"Docdokuplm not running after docker deployment","body":"<p>I am not able to see the main page once docker compose has completed the deployment, I am following the steps shown in this guide. <a href=\"https://github.com/docdoku/docdoku-plm-docker\" rel=\"nofollow noreferrer\">https://github.com/docdoku/docdoku-plm-docker</a></p>\n<p>Instead of the front page at http://localhost:8080, I receive the message &quot;Server isn't available, please try again&quot;</p>\n<p>this is the output for the ./start.sh</p>\n<pre class=\"lang-bash prettyprint-override\"><code>arield@vm-nebula:~/Projects/docdokuplm/docdoku-plm-docker$ ./start.sh \nData directory found\n/home/arield/Projects/docdokuplm/docdoku-plm-docker/data\nKeystore found\n/home/arield/Projects/docdokuplm/docdoku-plm-docker/keystore\nPulling front      ... done\nPulling es         ... done\nPulling kibana     ... done\nPulling db         ... done\nPulling smtp       ... done\nPulling back       ... done\nPulling adminer    ... done\nPulling zookeeper  ... done\nPulling kafka      ... done\nPulling conversion ... done\nPulling ssl-proxy  ... done\nRecreating docdoku-plm-docker_front_1     ... done\nRecreating docdoku-plm-docker_zookeeper_1 ... done\nRecreating docdoku-plm-docker_smtp_1      ... done\nRecreating docdoku-plm-docker_db_1        ... done\nRecreating docdoku-plm-docker_es_1        ... done\nRecreating docdoku-plm-docker_kafka_1     ... done\nRecreating docdoku-plm-docker_adminer_1   ... done\nRecreating docdoku-plm-docker_kibana_1    ... done\nRecreating docdoku-plm-docker_back_1      ... done\nRecreating docdoku-plm-docker_conversion_1 ... done\nRecreating docdoku-plm-docker_ssl-proxy_1  ... done\n</code></pre>\n<p>Everything seems ok...</p>\n<p>Do I need a server in addition to the docker deployment?</p>\n"},{"tags":["java","spring-boot","elasticsearch","nosql","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690215561,"creation_date":1690215561,"answer_id":76756336,"question_id":76753034,"body_markdown":"`@Query` annotations on methods are only for defining the query part, you cannot pass in aggregations in that parameter.\r\n\r\nTo use aggregations you will need to build a `NativeQuery` that contains a query for the term query part and the aggregations definition. You can then pass this `NativeQuery` to your `ElasticsearchOperations` implementation (let that inject by Spring). If you want that in a repository function you&#39;ll need towrite a custom repository fragment.","title":"I am trying to pass this query as native query from my spring boot application but its throwing response after trying alot of combiation also","body":"<p><code>@Query</code> annotations on methods are only for defining the query part, you cannot pass in aggregations in that parameter.</p>\n<p>To use aggregations you will need to build a <code>NativeQuery</code> that contains a query for the term query part and the aggregations definition. You can then pass this <code>NativeQuery</code> to your <code>ElasticsearchOperations</code> implementation (let that inject by Spring). If you want that in a repository function you'll need towrite a custom repository fragment.</p>\n"}],"owner":{"account_id":28945786,"reputation":1,"user_id":22171400,"display_name":"Ritik kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690215561,"creation_date":1690190435,"question_id":76753034,"body_markdown":"```\r\n{&quot;size&quot;: 0,&quot;query&quot;: {&quot;term&quot;: {&quot;loan_application_id&quot;: {&quot;value&quot;: 87015}}},&quot;aggs&quot;: {&quot;group_by_fields&quot;: {&quot;composite&quot;: {&quot;size&quot;: 10,&quot;sources&quot;: [{&quot;loan_application_id&quot;: {&quot;terms&quot;: {&quot;field&quot;:&quot;loan_application_id&quot;}}},{&quot;name&quot;: {&quot;terms&quot;: {&quot;field&quot;: &quot;name.keyword&quot;}}},{&quot;upload_source&quot;: {&quot;terms&quot;: {&quot;field&quot;: &quot;upload_source.keyword&quot;}}}]},&quot;aggregations&quot;:{&quot;max_created_at&quot;: {&quot;max&quot;: {&quot;field&quot;: &quot;created_at&quot;}}}}}}\r\n```\r\n\r\nThis query is working in postman but when i try to send it like\r\n\r\n```\r\n@Query(&quot;{\\&quot;query\\&quot;: {\\&quot;term\\&quot;: {\\&quot;loan_application_id\\&quot;: {\\&quot;value\\&quot;: 87015}}},\\&quot;aggs\\&quot;: {\\&quot;group_by_fields\\&quot;: {\\&quot;composite\\&quot;: {\\&quot;size\\&quot;: 10,\\&quot;sources\\&quot;: [{\\&quot;loan_application_id\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;:\\&quot;loan_application_id\\&quot;}}},{\\&quot;name\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;name.keyword\\&quot;}}},{\\&quot;upload_source\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;upload_source.keyword\\&quot;}}}]},\\&quot;aggregations\\&quot;:{\\&quot;max_created_at\\&quot;: {\\&quot;max\\&quot;: {\\&quot;field\\&quot;: \\&quot;created_at\\&quot;}}}}}}&quot;)\r\n    SearchHits&lt;LoanAttachmentEs&gt; getDocUploadSourceOfQulaifiedLeads(@Param(&quot;loanApplicationIds&quot;) List&lt;Long&gt; loanApplicationIds); its not workinng after adding and removing size also i am not getting response. \r\n```\r\n\r\nCan anyone help me with this.\r\n\r\n```\r\nimport org.elasticsearch.action.search.SearchRequest;\r\nimport org.elasticsearch.action.search.SearchResponse;\r\nimport org.elasticsearch.client.RequestOptions;\r\nimport org.elasticsearch.client.RestHighLevelClient;\r\nimport org.elasticsearch.index.query.QueryBuilders;\r\nimport org.elasticsearch.search.aggregations.AggregationBuilders;\r\nimport org.elasticsearch.search.aggregations.bucket.composite.CompositeAggregationBuilder;\r\nimport org.elasticsearch.search.aggregations.bucket.composite.TermsValuesSourceBuilder;\r\nimport org.elasticsearch.search.aggregations.metrics.max.MaxAggregationBuilder;\r\nimport org.elasticsearch.search.builder.SearchSourceBuilder;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class YourService {\r\n\r\n    private final RestHighLevelClient restHighLevelClient;\r\n\r\n    @Autowired\r\n    public YourService(RestHighLevelClient restHighLevelClient) {\r\n        this.restHighLevelClient = restHighLevelClient;\r\n    }\r\n\r\n    public SearchResponse aggregateByLoanApplicationIds(List&lt;String&gt; loanApplicationIdList) throws IOException {\r\n        CompositeAggregationBuilder compositeAggregation = AggregationBuilders.composite(&quot;group_by_fields&quot;)\r\n                .sources(\r\n                        new TermsValuesSourceBuilder(&quot;loan_application_id&quot;).field(&quot;loan_application_id.keyword&quot;),\r\n                        new TermsValuesSourceBuilder(&quot;name&quot;).field(&quot;name.keyword&quot;),\r\n                        new TermsValuesSourceBuilder(&quot;upload_source&quot;).field(&quot;upload_source.keyword&quot;)\r\n                );\r\n\r\n        MaxAggregationBuilder maxCreatedAtAggregation = AggregationBuilders.max(&quot;max_created_at&quot;).field(&quot;created_at&quot;);\r\n\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\r\n                .query(QueryBuilders.termsQuery(&quot;loan_application_id.keyword&quot;, loanApplicationIdList))\r\n                .aggregation(compositeAggregation.subAggregation(maxCreatedAtAggregation))\r\n                .size(0); // Set size to 0 to get only the aggregations without hits\r\n\r\n        SearchRequest searchRequest = new SearchRequest(&quot;loan_attachments&quot;);\r\n        searchRequest.source(searchSourceBuilder);\r\n\r\n        return restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\r\n    }\r\n}\r\n```\r\n\r\nI asked Chat GPT and got this then I tried to write my query like this but didnt work its wrong given by CHAT GPT.\r\n\r\n```\r\n@Query(&quot;{\\&quot;query\\&quot;: {\\&quot;term\\&quot;: {\\&quot;loan_application_id\\&quot;: {\\&quot;value\\&quot;: 87015}}},\\&quot;aggs\\&quot;: {\\&quot;group_by_fields\\&quot;: {\\&quot;composite\\&quot;: {\\&quot;size\\&quot;: 10,\\&quot;sources\\&quot;: [{\\&quot;loan_application_id\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;:\\&quot;loan_application_id\\&quot;}}},{\\&quot;name\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;name.keyword\\&quot;}}},{\\&quot;upload_source\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;upload_source.keyword\\&quot;}}}]},\\&quot;aggregations\\&quot;:{\\&quot;max_created_at\\&quot;: {\\&quot;max\\&quot;: {\\&quot;field\\&quot;: \\&quot;created_at\\&quot;}}}}}}&quot;)\r\n    SearchHits&lt;LoanAttachmentEs&gt; getDocUploadSourceOfQulaifiedLeads(@Param(&quot;loanApplicationIds&quot;) List&lt;Long&gt; loanApplicationIds);\r\n```\r\n\r\nthis but didnt worked anything . Getting diffrent diffrent errors.","title":"I am trying to pass this query as native query from my spring boot application but its throwing response after trying alot of combiation also","body":"<pre><code>{&quot;size&quot;: 0,&quot;query&quot;: {&quot;term&quot;: {&quot;loan_application_id&quot;: {&quot;value&quot;: 87015}}},&quot;aggs&quot;: {&quot;group_by_fields&quot;: {&quot;composite&quot;: {&quot;size&quot;: 10,&quot;sources&quot;: [{&quot;loan_application_id&quot;: {&quot;terms&quot;: {&quot;field&quot;:&quot;loan_application_id&quot;}}},{&quot;name&quot;: {&quot;terms&quot;: {&quot;field&quot;: &quot;name.keyword&quot;}}},{&quot;upload_source&quot;: {&quot;terms&quot;: {&quot;field&quot;: &quot;upload_source.keyword&quot;}}}]},&quot;aggregations&quot;:{&quot;max_created_at&quot;: {&quot;max&quot;: {&quot;field&quot;: &quot;created_at&quot;}}}}}}\n</code></pre>\n<p>This query is working in postman but when i try to send it like</p>\n<pre><code>@Query(&quot;{\\&quot;query\\&quot;: {\\&quot;term\\&quot;: {\\&quot;loan_application_id\\&quot;: {\\&quot;value\\&quot;: 87015}}},\\&quot;aggs\\&quot;: {\\&quot;group_by_fields\\&quot;: {\\&quot;composite\\&quot;: {\\&quot;size\\&quot;: 10,\\&quot;sources\\&quot;: [{\\&quot;loan_application_id\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;:\\&quot;loan_application_id\\&quot;}}},{\\&quot;name\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;name.keyword\\&quot;}}},{\\&quot;upload_source\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;upload_source.keyword\\&quot;}}}]},\\&quot;aggregations\\&quot;:{\\&quot;max_created_at\\&quot;: {\\&quot;max\\&quot;: {\\&quot;field\\&quot;: \\&quot;created_at\\&quot;}}}}}}&quot;)\n    SearchHits&lt;LoanAttachmentEs&gt; getDocUploadSourceOfQulaifiedLeads(@Param(&quot;loanApplicationIds&quot;) List&lt;Long&gt; loanApplicationIds); its not workinng after adding and removing size also i am not getting response. \n</code></pre>\n<p>Can anyone help me with this.</p>\n<pre><code>import org.elasticsearch.action.search.SearchRequest;\nimport org.elasticsearch.action.search.SearchResponse;\nimport org.elasticsearch.client.RequestOptions;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.elasticsearch.index.query.QueryBuilders;\nimport org.elasticsearch.search.aggregations.AggregationBuilders;\nimport org.elasticsearch.search.aggregations.bucket.composite.CompositeAggregationBuilder;\nimport org.elasticsearch.search.aggregations.bucket.composite.TermsValuesSourceBuilder;\nimport org.elasticsearch.search.aggregations.metrics.max.MaxAggregationBuilder;\nimport org.elasticsearch.search.builder.SearchSourceBuilder;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@Service\npublic class YourService {\n\n    private final RestHighLevelClient restHighLevelClient;\n\n    @Autowired\n    public YourService(RestHighLevelClient restHighLevelClient) {\n        this.restHighLevelClient = restHighLevelClient;\n    }\n\n    public SearchResponse aggregateByLoanApplicationIds(List&lt;String&gt; loanApplicationIdList) throws IOException {\n        CompositeAggregationBuilder compositeAggregation = AggregationBuilders.composite(&quot;group_by_fields&quot;)\n                .sources(\n                        new TermsValuesSourceBuilder(&quot;loan_application_id&quot;).field(&quot;loan_application_id.keyword&quot;),\n                        new TermsValuesSourceBuilder(&quot;name&quot;).field(&quot;name.keyword&quot;),\n                        new TermsValuesSourceBuilder(&quot;upload_source&quot;).field(&quot;upload_source.keyword&quot;)\n                );\n\n        MaxAggregationBuilder maxCreatedAtAggregation = AggregationBuilders.max(&quot;max_created_at&quot;).field(&quot;created_at&quot;);\n\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\n                .query(QueryBuilders.termsQuery(&quot;loan_application_id.keyword&quot;, loanApplicationIdList))\n                .aggregation(compositeAggregation.subAggregation(maxCreatedAtAggregation))\n                .size(0); // Set size to 0 to get only the aggregations without hits\n\n        SearchRequest searchRequest = new SearchRequest(&quot;loan_attachments&quot;);\n        searchRequest.source(searchSourceBuilder);\n\n        return restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    }\n}\n</code></pre>\n<p>I asked Chat GPT and got this then I tried to write my query like this but didnt work its wrong given by CHAT GPT.</p>\n<pre><code>@Query(&quot;{\\&quot;query\\&quot;: {\\&quot;term\\&quot;: {\\&quot;loan_application_id\\&quot;: {\\&quot;value\\&quot;: 87015}}},\\&quot;aggs\\&quot;: {\\&quot;group_by_fields\\&quot;: {\\&quot;composite\\&quot;: {\\&quot;size\\&quot;: 10,\\&quot;sources\\&quot;: [{\\&quot;loan_application_id\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;:\\&quot;loan_application_id\\&quot;}}},{\\&quot;name\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;name.keyword\\&quot;}}},{\\&quot;upload_source\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;upload_source.keyword\\&quot;}}}]},\\&quot;aggregations\\&quot;:{\\&quot;max_created_at\\&quot;: {\\&quot;max\\&quot;: {\\&quot;field\\&quot;: \\&quot;created_at\\&quot;}}}}}}&quot;)\n    SearchHits&lt;LoanAttachmentEs&gt; getDocUploadSourceOfQulaifiedLeads(@Param(&quot;loanApplicationIds&quot;) List&lt;Long&gt; loanApplicationIds);\n</code></pre>\n<p>this but didnt worked anything . Getting diffrent diffrent errors.</p>\n"},{"tags":["java","aerospike"],"answers":[{"tags":[],"owner":{"account_id":2163589,"reputation":5165,"user_id":1917187,"display_name":"pgupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690215049,"creation_date":1690215049,"answer_id":76756275,"question_id":76742597,"body_markdown":"    Key myKey = new Key(&quot;test&quot;, &quot;testset&quot;, &quot;mykey&quot;);\r\n    String binName = &quot;myList&quot;;\r\n    ListPolicy lPolicy = new ListPolicy(ListOrder.UNORDERED, ListWriteFlags.DEFAULT);\r\n    client.delete(null,myKey);  //Start clean for test\r\n\r\n    client.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(10))); \r\n    client.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(5))); \r\n    client.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(15))); \r\n    client.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(20))); \r\n\r\n    System.out.println(&quot;My List: &quot;+ client.get(null, myKey)); \r\n\r\n    client.operate(null, myKey, ListOperation.pop(binName, 1) );  //Pop at index 1, (value = 5)\r\n\r\n    System.out.println(&quot;My List after pop: &quot;+ client.get(null, myKey)); \r\n\r\nOutput:\r\n\r\n    My List: (gen:4),(exp:428342885),(bins:(myList:[10, 5, 15, 20]))\r\n    My List after pop: (gen:5),(exp:428342885),(bins:(myList:[10, 15, 20]))","title":"listoperation.pop in aerospike removing complete list instead of removing item from particular index","body":"<pre><code>Key myKey = new Key(&quot;test&quot;, &quot;testset&quot;, &quot;mykey&quot;);\nString binName = &quot;myList&quot;;\nListPolicy lPolicy = new ListPolicy(ListOrder.UNORDERED, ListWriteFlags.DEFAULT);\nclient.delete(null,myKey);  //Start clean for test\n\nclient.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(10))); \nclient.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(5))); \nclient.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(15))); \nclient.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(20))); \n\nSystem.out.println(&quot;My List: &quot;+ client.get(null, myKey)); \n\nclient.operate(null, myKey, ListOperation.pop(binName, 1) );  //Pop at index 1, (value = 5)\n\nSystem.out.println(&quot;My List after pop: &quot;+ client.get(null, myKey)); \n</code></pre>\n<p>Output:</p>\n<pre><code>My List: (gen:4),(exp:428342885),(bins:(myList:[10, 5, 15, 20]))\nMy List after pop: (gen:5),(exp:428342885),(bins:(myList:[10, 15, 20]))\n</code></pre>\n"}],"owner":{"account_id":28434365,"reputation":1,"user_id":21754660,"display_name":"pradhuman nanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690215049,"creation_date":1690007673,"question_id":76742597,"body_markdown":"ListOperation.pop(binName, metaInfo.getIndex())\r\n\r\ncan anyone help with this i&#39;m using default write policy\r\n\r\nas per doc Create list pop operation.\r\nServer returns item at specified index and removes item from list bin.\r\n\r\npublic static Operation pop(String binName, int index, CTX... ctx) {\r\n\r\n    return CDT.createOperation(POP, Operation.Type.CDT_MODIFY, binName, ctx, index);\r\n\r\n}","title":"listoperation.pop in aerospike removing complete list instead of removing item from particular index","body":"<p>ListOperation.pop(binName, metaInfo.getIndex())</p>\n<p>can anyone help with this i'm using default write policy</p>\n<p>as per doc Create list pop operation.\nServer returns item at specified index and removes item from list bin.</p>\n<p>public static Operation pop(String binName, int index, CTX... ctx) {</p>\n<pre><code>return CDT.createOperation(POP, Operation.Type.CDT_MODIFY, binName, ctx, index);\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3441337,"reputation":16524,"user_id":2883245,"accept_rate":88,"display_name":"erip"},"score":1,"creation_date":1690210482,"post_id":76755649,"comment_id":135318007,"body_markdown":"This is not a good way to write this code. Soon it will need to return _three types_, _four types_, etc. Just write one method per return type so you know what it does.","body":"This is not a good way to write this code. Soon it will need to return <i>three types</i>, <i>four types</i>, etc. Just write one method per return type so you know what it does."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1690210606,"post_id":76755649,"comment_id":135318045,"body_markdown":"The real problem arises in replacing `DigitalInsertionOrderTableRow` with `?`.","body":"The real problem arises in replacing <code>DigitalInsertionOrderTableRow</code> with <code>?</code>."},{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1690210682,"post_id":76755649,"comment_id":135318069,"body_markdown":"It is not very clear why you want to do what you want to do Julian, but as long as the method returns what it is returning currently, it should not be an issue. It would be helpful if you elaborate the requirement.","body":"It is not very clear why you want to do what you want to do Julian, but as long as the method returns what it is returning currently, it should not be an issue. It would be helpful if you elaborate the requirement."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690210693,"post_id":76755649,"comment_id":135318074,"body_markdown":"You could have a common base for all the returned things, and then use that in the return type.","body":"You could have a common base for all the returned things, and then use that in the return type."},{"owner":{"account_id":11241181,"reputation":143,"user_id":9670502,"display_name":"Ihor Horovyi"},"score":2,"creation_date":1690210748,"post_id":76755649,"comment_id":135318094,"body_markdown":"I agree that creating such a method is not the best idea. But if you want to solve your problem, use Object at your own risk or better you can create same Interface for your return objects.","body":"I agree that creating such a method is not the best idea. But if you want to solve your problem, use Object at your own risk or better you can create same Interface for your return objects."},{"owner":{"account_id":16012377,"reputation":101,"user_id":11556092,"display_name":"JulianC"},"score":0,"creation_date":1690210914,"post_id":76755649,"comment_id":135318133,"body_markdown":"If i use List&lt;AssignmentInvoker&lt;Object, String&gt;&gt; i get a compile error in the return lines saying: &quot;The method of(PrintInsertionOrderTableRow::setNumberOfMonths) is undefined for the type List&quot;","body":"If i use List&lt;AssignmentInvoker&lt;Object, String&gt;&gt; i get a compile error in the return lines saying: &quot;The method of(PrintInsertionOrderTableRow::setNumberOfMonths) is undefined for the type List&quot;"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1690211402,"post_id":76755649,"comment_id":135318247,"body_markdown":"Why do you need this code?","body":"Why do you need this code?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1690214647,"post_id":76755649,"comment_id":135318959,"body_markdown":"What is the argument type and return type of `PrintInsertionOrderTableRow::setNumberOfMonths` and of `DigitalInsertionOrderTableRow::setNumberOfMonths`?","body":"What is the argument type and return type of <code>PrintInsertionOrderTableRow::setNumberOfMonths</code> and of <code>DigitalInsertionOrderTableRow::setNumberOfMonths</code>?"}],"owner":{"account_id":16012377,"reputation":101,"user_id":11556092,"display_name":"JulianC"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690214966,"creation_date":1690210354,"question_id":76755649,"body_markdown":"I have this function:\r\n\r\n    private List&lt;AssignmentInvoker&lt;DigitalInsertionOrderTableRow, String&gt;&gt; getColumns(String campaignDTOenum) {\r\n        if (campaignDTOenum.equals(&quot;PRINT&quot;)){                \r\n                return List.of(DigitalInsertionOrderTableRow::setNumberOfMonths);\r\n        }\r\n        else return List.of(DigitalInsertionOrderTableRow::setPlannedUnits);\r\n    }\r\n\r\nI need to move **DigitalInsertionOrderTableRow::setNumberOfMonths** to **PrintInsertionOrderTableRow::setNumberOfMonths** (different class)\r\n\r\nIs it possible that a method has the change to return a different type?\r\n\r\nI would need the method to be something like this:\r\n\r\n    private List&lt;AssignmentInvoker&lt;?, String&gt;&gt; getColumns(String campaignDTOenum) {\r\n    if (campaignDTOenum.equals(&quot;PRINT&quot;)){                \r\n            return List.of(PrintInsertionOrderTableRow::setNumberOfMonths);\r\n    }\r\n    else return List.of(DigitalInsertionOrderTableRow::setPlannedUnits);\r\n}\r\n\r\n","title":"How to return different types in a method","body":"<p>I have this function:</p>\n<pre><code>private List&lt;AssignmentInvoker&lt;DigitalInsertionOrderTableRow, String&gt;&gt; getColumns(String campaignDTOenum) {\n    if (campaignDTOenum.equals(&quot;PRINT&quot;)){                \n            return List.of(DigitalInsertionOrderTableRow::setNumberOfMonths);\n    }\n    else return List.of(DigitalInsertionOrderTableRow::setPlannedUnits);\n}\n</code></pre>\n<p>I need to move <strong>DigitalInsertionOrderTableRow::setNumberOfMonths</strong> to <strong>PrintInsertionOrderTableRow::setNumberOfMonths</strong> (different class)</p>\n<p>Is it possible that a method has the change to return a different type?</p>\n<p>I would need the method to be something like this:</p>\n<pre><code>private List&lt;AssignmentInvoker&lt;?, String&gt;&gt; getColumns(String campaignDTOenum) {\nif (campaignDTOenum.equals(&quot;PRINT&quot;)){                \n        return List.of(PrintInsertionOrderTableRow::setNumberOfMonths);\n}\nelse return List.of(DigitalInsertionOrderTableRow::setPlannedUnits);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","tdd","mockito","junit4","powermock"],"comments":[{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1477690519,"post_id":40280918,"comment_id":67884154,"body_markdown":"Does Mockito&#39;s @InjectMocks annotation not help?","body":"Does Mockito&#39;s @InjectMocks annotation not help?"},{"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"score":0,"creation_date":1477906331,"post_id":40280918,"comment_id":67933389,"body_markdown":"I don&#39;t know how they work in 2.2. In 1.x my experience is that if they for some reason fail to inject mockito is silent and I get a NullPointerException in the class where the injection failed. When using whitebox I get a exception clearly telling me that it failed. I started by using @InjectMocks, but thought that WhiteBox was better, so did my co-workers, so now we have a lot of code that is using WhiteBox, making upgrade timeconsuming, if we need to do something else.","body":"I don&#39;t know how they work in 2.2. In 1.x my experience is that if they for some reason fail to inject mockito is silent and I get a NullPointerException in the class where the injection failed. When using whitebox I get a exception clearly telling me that it failed. I started by using @InjectMocks, but thought that WhiteBox was better, so did my co-workers, so now we have a lot of code that is using WhiteBox, making upgrade timeconsuming, if we need to do something else."},{"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"score":1,"creation_date":1477907154,"post_id":40280918,"comment_id":67933801,"body_markdown":"Here is a link to a blog post talking about the issues that exists with @InjectMocks, it has the same recommendations as the accepted answer has: https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/","body":"Here is a link to a blog post talking about the issues that exists with @InjectMocks, it has the same recommendations as the accepted answer has: <a href=\"https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/\" rel=\"nofollow noreferrer\">tedvinke.wordpress.com/2014/02/13/&hellip;</a>"},{"owner":{"account_id":6896835,"reputation":1072,"user_id":5298491,"accept_rate":100,"display_name":"Koitt"},"score":1,"creation_date":1493227588,"post_id":40280918,"comment_id":74329911,"body_markdown":"I ended up copying the Whitebox code too, it&#39;s a very simple class that streamlines what I needed to do. Here&#39;s the code, in case anyone else needs it https://raw.githubusercontent.com/mockito/mockito/fea4074f8d4a7b1f7b8e89d4819bef25b1b6228f/src/main/java/org/mockito/internal/util/reflection/Whitebox.java","body":"I ended up copying the Whitebox code too, it&#39;s a very simple class that streamlines what I needed to do. Here&#39;s the code, in case anyone else needs it <a href=\"https://raw.githubusercontent.com/mockito/mockito/fea4074f8d4a7b1f7b8e89d4819bef25b1b6228f/src/main/java/org/mockito/internal/util/reflection/Whitebox.java\" rel=\"nofollow noreferrer\">raw.githubusercontent.com/mockito/mockito/&hellip;</a>"},{"owner":{"account_id":2395793,"reputation":444,"user_id":2094616,"accept_rate":75,"display_name":"Priyal"},"score":0,"creation_date":1560845333,"post_id":40280918,"comment_id":99859199,"body_markdown":"Here with [fest-reflect](https://github.com/alexruiz/fest-reflect) api you can find an easy to use fluent API for reflection support. This is what I use as an alternative to Mockito&#39;s Whiltebox.","body":"Here with <a href=\"https://github.com/alexruiz/fest-reflect\" rel=\"nofollow noreferrer\">fest-reflect</a> api you can find an easy to use fluent API for reflection support. This is what I use as an alternative to Mockito&#39;s Whiltebox."}],"answers":[{"comments":[{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":0,"creation_date":1477601485,"post_id":40291254,"comment_id":67846421,"body_markdown":"In cases like this, however, one should be able to use the `@InjectMocks` and `@Mock` annotations, right? So, not the case of fighting the tool, but of not properly using what it provides.","body":"In cases like this, however, one should be able to use the <code>@InjectMocks</code> and <code>@Mock</code> annotations, right? So, not the case of fighting the tool, but of not properly using what it provides."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1477603317,"post_id":40291254,"comment_id":67847186,"body_markdown":"@Rog&#233;rio Depends on how comfortable you are with `@InjectMocks`&#39;s caveats. I&#39;ve seen enough problems with its use that I&#39;m no longer recommending it myself. You&#39;re welcome to, though.","body":"@Rog&#233;rio Depends on how comfortable you are with <code>@InjectMocks</code>&#39;s caveats. I&#39;ve seen enough problems with its use that I&#39;m no longer recommending it myself. You&#39;re welcome to, though."},{"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"score":1,"creation_date":1477639509,"post_id":40291254,"comment_id":67857805,"body_markdown":"@Rog&#233;rio - I used to think it was great (@InjectMocks), but after a while I started to see problems with this technique and started to use Whitebox, it gave better error messages if something was wrong.","body":"@Rog&#233;rio - I used to think it was great (@InjectMocks), but after a while I started to see problems with this technique and started to use Whitebox, it gave better error messages if something was wrong."},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":0,"creation_date":1477673407,"post_id":40291254,"comment_id":67876507,"body_markdown":"You&#39;re probably right about `@InjectMocks`; indeed it&#39;s a feature that hasn&#39;t received much attention from Mockito developers. Of course, as JMockit&#39;s developer, I use the `@Tested` annotation which is much more advanced at this point 8^)","body":"You&#39;re probably right about <code>@InjectMocks</code>; indeed it&#39;s a feature that hasn&#39;t received much attention from Mockito developers. Of course, as JMockit&#39;s developer, I use the <code>@Tested</code> annotation which is much more advanced at this point 8^)"},{"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"score":0,"creation_date":1477907696,"post_id":40291254,"comment_id":67934046,"body_markdown":"@JeffBowman I ended up copying the code for WhiteBox, as it could be done that way, and searched and replaced the importstatement. It is not a nice solution, since we have many modules, and I need to make it awailable in all modules. \n\nYou have a good point in that tests is one of a class most important consumer; why not make it simpler for them?\nChangeing the way to think is harder than changing technology - we will see how me and my colleges will do this in the future. I am not totaly convinced yet, I need to work with my self a bit first. Your philosophy It has its pro&#39;s.","body":"@JeffBowman I ended up copying the code for WhiteBox, as it could be done that way, and searched and replaced the importstatement. It is not a nice solution, since we have many modules, and I need to make it awailable in all modules.   You have a good point in that tests is one of a class most important consumer; why not make it simpler for them? Changeing the way to think is harder than changing technology - we will see how me and my colleges will do this in the future. I am not totaly convinced yet, I need to work with my self a bit first. Your philosophy It has its pro&#39;s."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1571742167,"post_id":40291254,"comment_id":103334089,"body_markdown":"Yes. At last I have to change `private` methods to &quot;package&quot; visibility and that just enables its usage in the tests. That seems the way with least impact. Thanks.","body":"Yes. At last I have to change <code>private</code> methods to &quot;package&quot; visibility and that just enables its usage in the tests. That seems the way with least impact. Thanks."}],"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":6,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1477590919,"creation_date":1477590919,"answer_id":40291254,"question_id":40280918,"body_markdown":"Note that `Whitebox` was always in the `org.mockito.internal` package. Beyond the incrementing of the major version number, the `internal` designation is a giveaway that the package may be subject to breaking changes.\r\n\r\nIf you do want to make it a point to set otherwise-inaccessible fields in your test, you can do so in the same way that `setInternalState` does, which is just to identify the field in the hierarchy, call `setAccessible` on it, and then set it. [The full code is here on grepcode.](http://grepcode.com/file/repo1.maven.org/maven2/org.mockito/mockito-all/1.10.19/org/mockito/internal/util/reflection/Whitebox.java?av=f#27) You can also examine a number of [other ways to set inaccessible state in tests](https://stackoverflow.com/a/27552765/1426891).\r\n\r\n    public static void setInternalState(Object target, String field, Object value) {\r\n        Class&lt;?&gt; c = target.getClass();\r\n        try {\r\n            Field f = getFieldFromHierarchy(c, field);  // Checks superclasses.\r\n            f.setAccessible(true);\r\n            f.set(target, value);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(\r\n                &quot;Unable to set internal state on a private field. [...]&quot;, e);\r\n        }\r\n    }\r\n\r\n**However,** in situations like this, my general advice is to _stop fighting the tools_: Java&#39;s four levels of encapsulation (public, protected, package, private) are not necessarily granular enough to express the degree of protection you&#39;re trying to express, and it&#39;s often much easier to add a well-documented initialization method or constructor override to override the dependencies as you&#39;re trying to do reflectively. If you put your tests in the same Java package as the class it tests, you can often even make the fields or method/constructor package-private, which is also a good reason to set up parallel source folders `src` and `tests` (etc) that represent two halves of the same Java package.\r\n\r\nThough some treat this additional method or constructor as &quot;API pollution&quot;, I see it instead as coding to the  requirements of one of your class&#39;s most important consumers—_its own test_. If you need a pristine external interface, you can easily define one separately such that you can hide any details you&#39;d like. However, you may find you _like_ the ability to inject any real or mock implementation directly into your now-more-flexible component, at which point you may want to look into dependency injection patterns or frameworks.","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>Note that <code>Whitebox</code> was always in the <code>org.mockito.internal</code> package. Beyond the incrementing of the major version number, the <code>internal</code> designation is a giveaway that the package may be subject to breaking changes.</p>\n\n<p>If you do want to make it a point to set otherwise-inaccessible fields in your test, you can do so in the same way that <code>setInternalState</code> does, which is just to identify the field in the hierarchy, call <code>setAccessible</code> on it, and then set it. <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.mockito/mockito-all/1.10.19/org/mockito/internal/util/reflection/Whitebox.java?av=f#27\" rel=\"noreferrer\">The full code is here on grepcode.</a> You can also examine a number of <a href=\"https://stackoverflow.com/a/27552765/1426891\">other ways to set inaccessible state in tests</a>.</p>\n\n<pre><code>public static void setInternalState(Object target, String field, Object value) {\n    Class&lt;?&gt; c = target.getClass();\n    try {\n        Field f = getFieldFromHierarchy(c, field);  // Checks superclasses.\n        f.setAccessible(true);\n        f.set(target, value);\n    } catch (Exception e) {\n        throw new RuntimeException(\n            \"Unable to set internal state on a private field. [...]\", e);\n    }\n}\n</code></pre>\n\n<p><strong>However,</strong> in situations like this, my general advice is to <em>stop fighting the tools</em>: Java's four levels of encapsulation (public, protected, package, private) are not necessarily granular enough to express the degree of protection you're trying to express, and it's often much easier to add a well-documented initialization method or constructor override to override the dependencies as you're trying to do reflectively. If you put your tests in the same Java package as the class it tests, you can often even make the fields or method/constructor package-private, which is also a good reason to set up parallel source folders <code>src</code> and <code>tests</code> (etc) that represent two halves of the same Java package.</p>\n\n<p>Though some treat this additional method or constructor as \"API pollution\", I see it instead as coding to the  requirements of one of your class's most important consumers—<em>its own test</em>. If you need a pristine external interface, you can easily define one separately such that you can hide any details you'd like. However, you may find you <em>like</em> the ability to inject any real or mock implementation directly into your now-more-flexible component, at which point you may want to look into dependency injection patterns or frameworks.</p>\n"},{"comments":[{"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"score":2,"creation_date":1498036120,"post_id":44630786,"comment_id":76327529,"body_markdown":"That would have been a better solution than copying the Whitebox code. I wish I knew about this class earlier :)","body":"That would have been a better solution than copying the Whitebox code. I wish I knew about this class earlier :)"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1571121747,"post_id":44630786,"comment_id":103124088,"body_markdown":"an example would be more helpful","body":"an example would be more helpful"}],"tags":[],"owner":{"account_id":235434,"reputation":2479,"user_id":502240,"display_name":"bcody"},"comment_count":2,"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1497875897,"creation_date":1497875897,"answer_id":44630786,"question_id":40280918,"body_markdown":"If you are using Spring (the spring-test library specifically), you can simply use `ReflectionTestUtils.setField` instead of `Whitebox.setInternalState`","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>If you are using Spring (the spring-test library specifically), you can simply use <code>ReflectionTestUtils.setField</code> instead of <code>Whitebox.setInternalState</code></p>\n"},{"tags":[],"owner":{"account_id":3977983,"reputation":574,"user_id":3613216,"display_name":"foo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1559647570,"creation_date":1528200456,"answer_id":50699725,"question_id":40280918,"body_markdown":"The cleanest, neatest and **most portable** way without reinventing the wheel is to use Apache Commons&#39; `FieldUtils`.\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html\r\n\r\nThe answer to your question would then be\r\n\r\n    public static void setStaticFieldValue(\r\n            @NonNull final Class&lt;?&gt; clz,\r\n            @NonNull final String fieldName,\r\n            @NonNull final Object value) throws Exception {\r\n        final Field f = FieldUtils.getField(clz, fieldName, true);\r\n        FieldUtils.removeFinalModifier(f);\r\n        f.set(null, value);\r\n    }","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>The cleanest, neatest and <strong>most portable</strong> way without reinventing the wheel is to use Apache Commons' <code>FieldUtils</code>.\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html</a></p>\n\n<p>The answer to your question would then be</p>\n\n<pre><code>public static void setStaticFieldValue(\n        @NonNull final Class&lt;?&gt; clz,\n        @NonNull final String fieldName,\n        @NonNull final Object value) throws Exception {\n    final Field f = FieldUtils.getField(clz, fieldName, true);\n    FieldUtils.removeFinalModifier(f);\n    f.set(null, value);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"score":6,"creation_date":1555329502,"post_id":55639531,"comment_id":98060347,"body_markdown":"Just as Whitebox, this class can suddenly change (since it is in the internal package). But this looks like the replacement for Whitebox in mockito.","body":"Just as Whitebox, this class can suddenly change (since it is in the internal package). But this looks like the replacement for Whitebox in mockito."}],"tags":[],"owner":{"account_id":2631099,"reputation":146,"user_id":2277035,"display_name":"Murik"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1555009411,"creation_date":1555009411,"answer_id":55639531,"question_id":40280918,"body_markdown":"You can use FieldSetter in Mockito2.x\r\n\r\n        import org.mockito.internal.util.reflection.FieldSetter;\r\n     FieldSetter.setField(eventHandler,eventHandler.getClass().getDeclaredField(&quot;securityService&quot;), securityService);","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>You can use FieldSetter in Mockito2.x</p>\n\n<pre><code>    import org.mockito.internal.util.reflection.FieldSetter;\n FieldSetter.setField(eventHandler,eventHandler.getClass().getDeclaredField(\"securityService\"), securityService);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2395793,"reputation":444,"user_id":2094616,"accept_rate":75,"display_name":"Priyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560845314,"creation_date":1560845314,"answer_id":56644522,"question_id":40280918,"body_markdown":"Here with [fest-reflect][1] api you can find an easy to use fluent API for reflection support. This is what I use as an alternative to Mockito&#39;s Whiltebox.\r\n\r\n\r\n  [1]: https://github.com/alexruiz/fest-reflect","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>Here with <a href=\"https://github.com/alexruiz/fest-reflect\" rel=\"nofollow noreferrer\">fest-reflect</a> api you can find an easy to use fluent API for reflection support. This is what I use as an alternative to Mockito's Whiltebox.</p>\n"},{"tags":[],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1667294440,"creation_date":1667294440,"answer_id":74273765,"question_id":40280918,"body_markdown":"PowerMock has [Whitebox as part of its public API][1]. This is part of `powermock-reflect`.\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock/wiki/Bypass-Encapsulation","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>PowerMock has <a href=\"https://github.com/powermock/powermock/wiki/Bypass-Encapsulation\" rel=\"nofollow noreferrer\">Whitebox as part of its public API</a>. This is part of <code>powermock-reflect</code>.</p>\n"},{"tags":[],"owner":{"account_id":27387330,"reputation":1,"user_id":20890895,"display_name":"warrenc5"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690214898,"creation_date":1689808141,"answer_id":76725726,"question_id":40280918,"body_markdown":"The important distinction between plain old Java and plain new Java is `getDeclaredField/s` returns private fields.\r\n\r\n\tpublic static Object getField(Object o, String name) {\r\n\t\ttry {\r\n\t\t\tField f = o.getClass().getDeclaredField(name);\r\n\t\t\tf.setAccessible(true);\r\n\t\t\treturn f.get(o);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.info(o.getClass() + &quot; &quot; + name + &quot; &quot; + ex.getMessage(), ex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tpublic static void setField(Object o, String name, Object value) {\r\n\t\ttry {\r\n\t\t\tField f = o.getClass().getDeclaredField(name);\r\n\t\t\tf.setAccessible(true);\r\n\t\t\tf.set(o, value);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.info(o.getClass() + &quot; &quot; + name + &quot; &quot; + ex.getMessage(), ex);\r\n\t\t}\r\n\t}\r\n","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>The important distinction between plain old Java and plain new Java is <code>getDeclaredField/s</code> returns private fields.</p>\n<pre><code>public static Object getField(Object o, String name) {\n    try {\n        Field f = o.getClass().getDeclaredField(name);\n        f.setAccessible(true);\n        return f.get(o);\n    } catch (Exception ex) {\n        log.info(o.getClass() + &quot; &quot; + name + &quot; &quot; + ex.getMessage(), ex);\n    }\n    return null;\n}\n\npublic static void setField(Object o, String name, Object value) {\n    try {\n        Field f = o.getClass().getDeclaredField(name);\n        f.setAccessible(true);\n        f.set(o, value);\n    } catch (Exception ex) {\n        log.info(o.getClass() + &quot; &quot; + name + &quot; &quot; + ex.getMessage(), ex);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65709,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":40291254,"answer_count":7,"score":45,"last_activity_date":1690214898,"creation_date":1477560392,"question_id":40280918,"body_markdown":"When using Mockito 1.9.x I have been using `Whitebox`to set values of fields to &quot;inject&quot; mocks. Se example below:\r\n\r\n    @Before\r\n    public void setUp() {\r\n \r\n        eventHandler = new ProcessEventHandler();\r\n        securityService = new SecurityServiceMock();\r\n        registrationService = mock(RegistrationService.class);\r\n\r\n        Whitebox.setInternalState(eventHandler, &quot;registrationService&quot;, registrationService);\r\n        Whitebox.setInternalState(eventHandler, &quot;securityService&quot;, securityService);\r\n    }\r\nI really like this approach, but now that I tried to upgrade to `Mockito`  `2.2.7` I noticed (or rather, my IDE noticed and told me quite a few times) that Whitebox was no longer to be found in Mockito.\r\n\r\n&lt;del&gt;I have found one alternative, that can work as a replacement, and that is `org.powermock.reflect.Whitebox`, the problem with that is that I get another dependency (Powermock), just to use Whitebox.&lt;/del&gt; \r\n\r\n`Powermock` also have a class named `Whitebox`, but unfortunately  it looks as if it can not be used with `Mockito 2.2.x`\r\n\r\nIs there any good alternatives in Mockito that I can use to manually &quot;inject&quot; fields, now that `Whitebox` is no longer available?   \r\n   \r\n   \r\n---\r\n\r\nSolution\r\n----\r\nI wrote in a comment in response to the post made of @JeffBowman. In short I chose to copy the code of WhiteBox, and use that, since it is used in most of the test cases and the class does not have dependencies to other classes. It was the fastest path to solve this issue.\r\n\r\n**Note** The solution that @bcody suggest is a better alternative, if you are using spring, it ads no extra code for you to maintain. I got that information to late :( ","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>When using Mockito 1.9.x I have been using <code>Whitebox</code>to set values of fields to \"inject\" mocks. Se example below:</p>\n\n<pre><code>@Before\npublic void setUp() {\n\n    eventHandler = new ProcessEventHandler();\n    securityService = new SecurityServiceMock();\n    registrationService = mock(RegistrationService.class);\n\n    Whitebox.setInternalState(eventHandler, \"registrationService\", registrationService);\n    Whitebox.setInternalState(eventHandler, \"securityService\", securityService);\n}\n</code></pre>\n\n<p>I really like this approach, but now that I tried to upgrade to <code>Mockito</code>  <code>2.2.7</code> I noticed (or rather, my IDE noticed and told me quite a few times) that Whitebox was no longer to be found in Mockito.</p>\n\n<p><del>I have found one alternative, that can work as a replacement, and that is <code>org.powermock.reflect.Whitebox</code>, the problem with that is that I get another dependency (Powermock), just to use Whitebox.</del> </p>\n\n<p><code>Powermock</code> also have a class named <code>Whitebox</code>, but unfortunately  it looks as if it can not be used with <code>Mockito 2.2.x</code></p>\n\n<p>Is there any good alternatives in Mockito that I can use to manually \"inject\" fields, now that <code>Whitebox</code> is no longer available?   </p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>I wrote in a comment in response to the post made of @JeffBowman. In short I chose to copy the code of WhiteBox, and use that, since it is used in most of the test cases and the class does not have dependencies to other classes. It was the fastest path to solve this issue.</p>\n\n<p><strong>Note</strong> The solution that @bcody suggest is a better alternative, if you are using spring, it ads no extra code for you to maintain. I got that information to late :( </p>\n"},{"tags":["java","eclipse","postgresql","eclipse-dtp"],"comments":[{"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"score":0,"creation_date":1595611368,"post_id":38279667,"comment_id":111545130,"body_markdown":"Hope you might have found the answer. If yes, please share.","body":"Hope you might have found the answer. If yes, please share."}],"answers":[{"tags":[],"owner":{"account_id":1213274,"reputation":1323,"user_id":1181404,"accept_rate":70,"display_name":"Happy Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468264411,"creation_date":1468264411,"answer_id":38314463,"question_id":38279667,"body_markdown":"i always use Postgresql with dtp,works like a champ..\r\nyou can&#39;t create a driver from  Window-&gt;Preference-&gt;Data Management-&gt; Driver Definition.\r\n\r\ngo to &quot;data source explorer view&quot; -&gt; right click &quot;new&quot; -&gt; pick &quot;Postgresql&quot;-&gt; click on &quot;new driver definition&quot; ... then follow the wizard\r\n\r\n===============\r\n\r\n\r\nhope its helps","title":"Eclipse DTP new driver definition","body":"<p>i always use Postgresql with dtp,works like a champ..\nyou can't create a driver from  Window->Preference->Data Management-> Driver Definition.</p>\n\n<p>go to \"data source explorer view\" -> right click \"new\" -> pick \"Postgresql\"-> click on \"new driver definition\" ... then follow the wizard</p>\n\n<p>===============</p>\n\n<p>hope its helps</p>\n"},{"tags":[],"owner":{"account_id":26025125,"reputation":1,"user_id":19740053,"display_name":"Kurnia Ramadhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690214862,"creation_date":1689847956,"answer_id":76728834,"question_id":38279667,"body_markdown":"On **Name/Type** tab, just expand the window like this :\r\n[![enter image description here][1]][1]\r\nthen you can add jar/zip file on the **JAR List** tab\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sivsZ.png","title":"Eclipse DTP new driver definition","body":"<p>On <strong>Name/Type</strong> tab, just expand the window like this :\n<a href=\"https://i.stack.imgur.com/sivsZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sivsZ.png\" alt=\"enter image description here\" /></a>\nthen you can add jar/zip file on the <strong>JAR List</strong> tab</p>\n"}],"owner":{"account_id":8786257,"reputation":21,"user_id":6568058,"display_name":"Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1570,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690214862,"creation_date":1468051023,"question_id":38279667,"body_markdown":"I am trying to connect to Postgresql from Eclipse through Eclipse DTP.\r\n\r\nI navigated to Window-&gt;Preference-&gt;Data Management-&gt; Driver Definition\r\n\r\nAfter that I chose PostgreSQL and tried to add the driver through the New Driver Definition Template. But everything seems to be greyed out and I am neither able to edit the driver name of add the jar file using the add button.\r\nAll buttons are disabled and greyed out.\r\n\r\nPlease Help.\r\n\r\n![Jar][1]\r\n\r\n![DriverName][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Y6HbV.png\r\n  [2]: http://i.stack.imgur.com/R47il.png","title":"Eclipse DTP new driver definition","body":"<p>I am trying to connect to Postgresql from Eclipse through Eclipse DTP.</p>\n\n<p>I navigated to Window->Preference->Data Management-> Driver Definition</p>\n\n<p>After that I chose PostgreSQL and tried to add the driver through the New Driver Definition Template. But everything seems to be greyed out and I am neither able to edit the driver name of add the jar file using the add button.\nAll buttons are disabled and greyed out.</p>\n\n<p>Please Help.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Y6HbV.png\" alt=\"Jar\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/R47il.png\" alt=\"DriverName\"></p>\n"},{"tags":["javascript","java","node.js","child-process"],"comments":[{"owner":{"account_id":27316738,"reputation":11,"user_id":20831106,"display_name":"Omkar"},"score":0,"creation_date":1690179346,"post_id":76751827,"comment_id":135311614,"body_markdown":"app2.js was created after getting error with the second input idea.","body":"app2.js was created after getting error with the second input idea."}],"owner":{"account_id":27316738,"reputation":11,"user_id":20831106,"display_name":"Omkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690214745,"creation_date":1690179278,"question_id":76751827,"body_markdown":"I have a `Java` and `nodeJS` project where the input is sent to the backend using the below code:\r\n\r\n```\r\napp.post(&#39;/my-button&#39;, function (req, res) {\r\n  console.log(&#39;POST request received&#39;);\r\n  const input = decodeURIComponent(req.body.inputText);\r\n  console.log(input); // For debugging purposes\r\n  \r\n  const scriptPath = path.join(__dirname, &#39;/Backend/Main.java&#39;);\r\n  const script = spawn(&#39;java&#39;, [scriptPath, input]);\r\n\r\n  let output = &#39;&#39;;      \r\n```\r\n\r\nAnd it is collected at the backend as `args` for the main method.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String sql_input=args[0];\r\n    List&lt;String&gt; processed_statements = converter(sql_input);\r\n```\r\n\r\nOnce I start the server and give and input the server crashes and give the following error.\r\n\r\n[![error msg](https://i.stack.imgur.com/pPaUv.png)](https://i.stack.imgur.com/pPaUv.png)\r\n\r\nHow do I solve this issue as I have Java installed on my system.\r\n\r\n[![files structure if that helps](https://i.stack.imgur.com/OFEyP.png)](https://i.stack.imgur.com/OFEyP.png)\r\n\r\nI tried a different way of running java.\r\n\r\n```\r\nconst javaPath = &#39;java&#39;; // Assuming &#39;java&#39; is in the system&#39;s PATH\r\nconst classPath = path.join(__dirname, &#39;/Backend/&#39;); // Path to the Backend folder\r\nconsole.log(classPath);\r\nconst className = &#39;Main&#39;; // The Java class containing the main method\r\nconsole.log(className);\r\nconst javaProcess = spawn(javaPath, [&#39;-cp&#39;, classPath, className], {\r\n    stdio: &#39;pipe&#39;, // Pipe to stdin and stdout\r\n});\r\n```\r\n\r\nBut here also I get an error as below.\r\n\r\n    stderr: Error: Could not find or load main class Main.java\r\n    Caused by: java.lang.ClassNotFoundException: Main.java","title":"Getting a &quot;stderr: Error: A JNI error has occurred, please check your installation and try again Exception in thread &quot;main&quot; while running java","body":"<p>I have a <code>Java</code> and <code>nodeJS</code> project where the input is sent to the backend using the below code:</p>\n<pre><code>app.post('/my-button', function (req, res) {\n  console.log('POST request received');\n  const input = decodeURIComponent(req.body.inputText);\n  console.log(input); // For debugging purposes\n  \n  const scriptPath = path.join(__dirname, '/Backend/Main.java');\n  const script = spawn('java', [scriptPath, input]);\n\n  let output = '';      \n</code></pre>\n<p>And it is collected at the backend as <code>args</code> for the main method.</p>\n<pre><code>public static void main(String[] args) {\n    String sql_input=args[0];\n    List&lt;String&gt; processed_statements = converter(sql_input);\n</code></pre>\n<p>Once I start the server and give and input the server crashes and give the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/pPaUv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pPaUv.png\" alt=\"error msg\" /></a></p>\n<p>How do I solve this issue as I have Java installed on my system.</p>\n<p><a href=\"https://i.stack.imgur.com/OFEyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OFEyP.png\" alt=\"files structure if that helps\" /></a></p>\n<p>I tried a different way of running java.</p>\n<pre><code>const javaPath = 'java'; // Assuming 'java' is in the system's PATH\nconst classPath = path.join(__dirname, '/Backend/'); // Path to the Backend folder\nconsole.log(classPath);\nconst className = 'Main'; // The Java class containing the main method\nconsole.log(className);\nconst javaProcess = spawn(javaPath, ['-cp', classPath, className], {\n    stdio: 'pipe', // Pipe to stdin and stdout\n});\n</code></pre>\n<p>But here also I get an error as below.</p>\n<pre><code>stderr: Error: Could not find or load main class Main.java\nCaused by: java.lang.ClassNotFoundException: Main.java\n</code></pre>\n"},{"tags":["java","android","textview"],"answers":[{"tags":[],"owner":{"account_id":24303543,"reputation":876,"user_id":21163959,"display_name":"ObscureCookie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689875789,"creation_date":1689875789,"answer_id":76732552,"question_id":76732512,"body_markdown":"All resources are distinguished by their id and IDs are int values. So when you provide an int value to `setText` function, it will try to find the resource whose id is provided by you.\r\n\r\nTo correctly set int value as a text, you need to call `toString` function or Integer.\r\n\r\n    musicDurationTextView.setText(Integer.toString(mediaPlayer.getDuration()));","title":"Android Java throws unusual error when passing int value to the setText() method of TextView","body":"<p>All resources are distinguished by their id and IDs are int values. So when you provide an int value to <code>setText</code> function, it will try to find the resource whose id is provided by you.</p>\n<p>To correctly set int value as a text, you need to call <code>toString</code> function or Integer.</p>\n<pre><code>musicDurationTextView.setText(Integer.toString(mediaPlayer.getDuration()));\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user21603351"},"score":0,"creation_date":1689889571,"post_id":76732562,"comment_id":135281226,"body_markdown":"There is no `toString()` method.","body":"There is no <code>toString()</code> method."},{"owner":{"account_id":16258152,"reputation":745,"user_id":11740298,"display_name":"heX"},"score":0,"creation_date":1689962474,"post_id":76732562,"comment_id":135291975,"body_markdown":"Sorry that was in Kotlin, in Java you can use `String.valueOf(mediaPlayer.getDuration());`","body":"Sorry that was in Kotlin, in Java you can use <code>String.valueOf(mediaPlayer.getDuration());</code>"}],"tags":[],"owner":{"account_id":16258152,"reputation":745,"user_id":11740298,"display_name":"heX"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690214405,"creation_date":1689875834,"answer_id":76732562,"question_id":76732512,"body_markdown":"`setText` requires you to pass a String or an Android resource ID.\r\n\r\n`mediaPlayer.getDuration()` returns an integer representing the duration, so you will have to convert it into a string so it can be passed to `setText`. You can do so by calling \r\n\r\nJava:\r\n```java\r\nmusicDurationTextView.setText(String.valueOf(mediaPlayer.getDuration()))\r\n```\r\nKotlin:\r\n```kotlin\r\nmusicDurationTextView.text = mediaPlayer.getDuration().toString()\r\n```\r\n","title":"Android Java throws unusual error when passing int value to the setText() method of TextView","body":"<p><code>setText</code> requires you to pass a String or an Android resource ID.</p>\n<p><code>mediaPlayer.getDuration()</code> returns an integer representing the duration, so you will have to convert it into a string so it can be passed to <code>setText</code>. You can do so by calling</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>musicDurationTextView.setText(String.valueOf(mediaPlayer.getDuration()))\n</code></pre>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>musicDurationTextView.text = mediaPlayer.getDuration().toString()\n</code></pre>\n"}],"owner":{"display_name":"user21603351"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76732562,"answer_count":2,"score":0,"last_activity_date":1690214405,"creation_date":1689875502,"question_id":76732512,"body_markdown":"I&#39;m trying to create a Android project. I have this XML layout code:\r\n```lang-xml\r\n        &lt;TextView\r\n            android:id=&quot;@+id/music_duration_text_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;00:00:00&quot;\r\n            android:textSize=&quot;@dimen/size_of_progress_and_duration_text&quot;\r\n            app:layout_constraintLeft_toRightOf=&quot;@id/music_place_slider&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@id/music_place_slider&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@id/music_place_slider&quot;/&gt;\r\n```\r\nI access it in my fragment like this:\r\n```lang-java\r\nTextView musicDurationTextView;\r\nmusicDurationTextView = view.findViewById(R.id.music_duration_text_view);\r\n```\r\nHowever, when I try to change its text like this,\r\n```lang-java\r\nmusicDurationTextView.setText(mediaPlayer.getDuration());\r\n```\r\nit throws an error:\r\n```lang-none\r\n2023-07-20 10:37:06.120  9023-9023  AndroidRuntime          net...ftware.great_site.keeptrackv1  E  FATAL EXCEPTION: main\r\n                                                                                                    Process: net.formalsoftware.great_site.keeptrackv1, PID: 9023\r\n                                                                                                    android.content.res.Resources$NotFoundException: String resource ID #0x3ed40\r\n                                                                                                    \tat android.content.res.Resources.getText(Resources.java:455)\r\n                                                                                                    \tat android.widget.TextView.setText(TextView.java:7295)\r\n                                                                                                    \tat net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment.playPauseAudio(NowPlayingFragment.java:118)\r\n                                                                                                    \tat net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment.lambda$onViewCreated$0$net-formalsoftware-great_site-keeptrackv1-NowPlayingFragment(NowPlayingFragment.java:52)\r\n                                                                                                    \tat net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\r\n                                                                                                    \tat android.view.View.performClick(View.java:7659)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:7636)\r\n                                                                                                    \tat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:30156)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:958)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8176)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n```\r\nIf I change it to this,\r\n```lang-java\r\nmusicDurationTextView.setText(&quot;mediaPlayer.getDuration()&quot;);\r\n```\r\nit works fine.\r\n\r\nWhy does this throw this unusual, unrelated error when `int`s are passed to the function?","title":"Android Java throws unusual error when passing int value to the setText() method of TextView","body":"<p>I'm trying to create a Android project. I have this XML layout code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;TextView\n            android:id=&quot;@+id/music_duration_text_view&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;00:00:00&quot;\n            android:textSize=&quot;@dimen/size_of_progress_and_duration_text&quot;\n            app:layout_constraintLeft_toRightOf=&quot;@id/music_place_slider&quot;\n            app:layout_constraintTop_toTopOf=&quot;@id/music_place_slider&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@id/music_place_slider&quot;/&gt;\n</code></pre>\n<p>I access it in my fragment like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextView musicDurationTextView;\nmusicDurationTextView = view.findViewById(R.id.music_duration_text_view);\n</code></pre>\n<p>However, when I try to change its text like this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>musicDurationTextView.setText(mediaPlayer.getDuration());\n</code></pre>\n<p>it throws an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-07-20 10:37:06.120  9023-9023  AndroidRuntime          net...ftware.great_site.keeptrackv1  E  FATAL EXCEPTION: main\n                                                                                                    Process: net.formalsoftware.great_site.keeptrackv1, PID: 9023\n                                                                                                    android.content.res.Resources$NotFoundException: String resource ID #0x3ed40\n                                                                                                        at android.content.res.Resources.getText(Resources.java:455)\n                                                                                                        at android.widget.TextView.setText(TextView.java:7295)\n                                                                                                        at net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment.playPauseAudio(NowPlayingFragment.java:118)\n                                                                                                        at net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment.lambda$onViewCreated$0$net-formalsoftware-great_site-keeptrackv1-NowPlayingFragment(NowPlayingFragment.java:52)\n                                                                                                        at net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\n                                                                                                        at android.view.View.performClick(View.java:7659)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\n                                                                                                        at android.view.View.performClickInternal(View.java:7636)\n                                                                                                        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n                                                                                                        at android.view.View$PerformClick.run(View.java:30156)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:958)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:205)\n                                                                                                        at android.os.Looper.loop(Looper.java:294)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8176)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n</code></pre>\n<p>If I change it to this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>musicDurationTextView.setText(&quot;mediaPlayer.getDuration()&quot;);\n</code></pre>\n<p>it works fine.</p>\n<p>Why does this throw this unusual, unrelated error when <code>int</code>s are passed to the function?</p>\n"},{"tags":["java","spring-boot","kotlin","modelmapper"],"comments":[{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":1,"creation_date":1598421003,"post_id":63582881,"comment_id":112449421,"body_markdown":"Check out this post:\n\nhttps://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects","body":"Check out this post:  <a href=\"https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects\" title=\"better way to map kotlin data objects to data objects\">stackoverflow.com/questions/39199426/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15513131,"reputation":2609,"user_id":11191424,"display_name":"Petrus Nguyễn Th&#225;i Học"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598376236,"creation_date":1598376236,"answer_id":63584088,"question_id":63582881,"body_markdown":"Change `val` to `var`\r\n\r\n```kotlin\r\ndata class Account(\r\n        val id: String,\r\n        var balance: Amount\r\n)\r\n\r\n```","title":"Kotlin modelMapper, Int to Float","body":"<p>Change <code>val</code> to <code>var</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Account(\n        val id: String,\n        var balance: Amount\n)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19890614,"reputation":1,"user_id":14572765,"display_name":"Ahmed Hosny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690214239,"creation_date":1689830183,"answer_id":76726860,"question_id":63582881,"body_markdown":"First, You must make your DTO variables nullable.\r\n\r\nUse `apply{}` extension function to do all conversions you need, check the code below\r\n\r\n```\r\ndata class AccountDTO(\r\n    var id: String? = null,\r\n    var balance: Float? = null,\r\n){\r\n    companion object{\r\n        fun fromEntity(account: Account): AccountDTO = ModelMapper().map(account, AccountDTO::class.java)\r\n            .apply {\r\n            balance = account.balance.value.toFloat()\r\n        }\r\n    }\r\n}\r\n```","title":"Kotlin modelMapper, Int to Float","body":"<p>First, You must make your DTO variables nullable.</p>\n<p>Use <code>apply{}</code> extension function to do all conversions you need, check the code below</p>\n<pre><code>data class AccountDTO(\n    var id: String? = null,\n    var balance: Float? = null,\n){\n    companion object{\n        fun fromEntity(account: Account): AccountDTO = ModelMapper().map(account, AccountDTO::class.java)\n            .apply {\n            balance = account.balance.value.toFloat()\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14672546,"reputation":1,"user_id":10596644,"display_name":"Julien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690214239,"creation_date":1598371585,"question_id":63582881,"body_markdown":"I use kotlin/springboot and I want to use `ModelMapper` to map to Data Classes. I want to map `Account:balance:Amount:Int` to `AccountDto:balance:Float`\r\n\r\nFrom :\r\n\r\n    data class Account(\r\n            val id: String,\r\n            var balance: Amount\r\n    )\r\n\r\n    data class Amount(var value: Int)\r\n\r\nTo :\r\n\r\n    data class AccountDto(\r\n            var id: String,\r\n            var balance: Float?)\r\n\r\nI tried this :\r\n\r\n\r\n    val modelMapper = ModelMapper()\r\n    \r\n    modelMapper.addMappings(object : PropertyMap&lt;Account, AccountDto&gt;() {\r\n    \toverride fun configure() {\r\n    \t\tmap(source.balance.value / 100f, destination.balance)\r\n    \t}\r\n    })\r\n\r\nbut I have error like that :\r\n\r\n\r\n    Caused by: org.modelmapper.ConfigurationException: ModelMapper configuration errors:\r\n    \r\n    1) Cannot map final type ....accounts.Account.\r\n    \r\n    2) Cannot map final method ....accounts.Account.getBalance().\r\n    \r\n    3) Cannot map final type ....accounts.Amount.\r\n    \r\n    4) Cannot map final method ....accounts.Amount.getValue().\r\n    \r\n    5) Cannot map final type ....account.dto.AccountDto.\r\n    \r\n    6) Cannot map final method ....account.dto.AccountDto.getBalance().\r\n\r\nI have no more idea right now.","title":"Kotlin modelMapper, Int to Float","body":"<p>I use kotlin/springboot and I want to use <code>ModelMapper</code> to map to Data Classes. I want to map <code>Account:balance:Amount:Int</code> to <code>AccountDto:balance:Float</code></p>\n<p>From :</p>\n<pre><code>data class Account(\n        val id: String,\n        var balance: Amount\n)\n\ndata class Amount(var value: Int)\n</code></pre>\n<p>To :</p>\n<pre><code>data class AccountDto(\n        var id: String,\n        var balance: Float?)\n</code></pre>\n<p>I tried this :</p>\n<pre><code>val modelMapper = ModelMapper()\n\nmodelMapper.addMappings(object : PropertyMap&lt;Account, AccountDto&gt;() {\n    override fun configure() {\n        map(source.balance.value / 100f, destination.balance)\n    }\n})\n</code></pre>\n<p>but I have error like that :</p>\n<pre><code>Caused by: org.modelmapper.ConfigurationException: ModelMapper configuration errors:\n\n1) Cannot map final type ....accounts.Account.\n\n2) Cannot map final method ....accounts.Account.getBalance().\n\n3) Cannot map final type ....accounts.Amount.\n\n4) Cannot map final method ....accounts.Amount.getValue().\n\n5) Cannot map final type ....account.dto.AccountDto.\n\n6) Cannot map final method ....account.dto.AccountDto.getBalance().\n</code></pre>\n<p>I have no more idea right now.</p>\n"},{"tags":["java","junit4","order-of-execution","test-class"],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690213872,"creation_date":1690213872,"question_id":76756144,"body_markdown":"Pretty much the title says it all. Note that the question is order of &quot;classes&quot; not the test methods inside them. Per answers [here][1], the default execution order of test methods within a class can be configured using `@FixMethodOrder` and the default is computed using the hash of function names.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53848489/8847871","title":"Default Execution Order of Test Classes in JUnit 4","body":"<p>Pretty much the title says it all. Note that the question is order of &quot;classes&quot; not the test methods inside them. Per answers <a href=\"https://stackoverflow.com/a/53848489/8847871\">here</a>, the default execution order of test methods within a class can be configured using <code>@FixMethodOrder</code> and the default is computed using the hash of function names.</p>\n"},{"tags":["java","reflection","casting","java-17","functional-interface"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1690209756,"post_id":76755174,"comment_id":135317854,"body_markdown":"&quot;since wrapper expects an argument of type TestFunctionExecutor and I am passing one of type TestClass&quot; you are NOT passing instance of TestClass, but instance of lambda (of type TestClass$$sampleFunction... which is *subtype* of `TestFunctionExecutor`) which is *using* `TestClass test`. Anyway the `foo:::bar` syntax is called *method reference* but to properly grasp it you should start with lambdas. Consider reading http://www.lambdafaq.org/ https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","body":"&quot;since wrapper expects an argument of type TestFunctionExecutor and I am passing one of type TestClass&quot; you are NOT passing instance of TestClass, but instance of lambda (of type TestClass$$sampleFunction... which is <i>subtype</i> of <code>TestFunctionExecutor</code>) which is <i>using</i> <code>TestClass test</code>. Anyway the <code>foo:::bar</code> syntax is called <i>method reference</i> but to properly grasp it you should start with lambdas. Consider reading <a href=\"http://www.lambdafaq.org/\" rel=\"nofollow noreferrer\">lambdafaq.org</a> <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a> <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"},{"owner":{"account_id":8487455,"reputation":315,"user_id":6365071,"display_name":"DashwoodIce9"},"score":0,"creation_date":1690210484,"post_id":76755174,"comment_id":135318010,"body_markdown":"Thanks for the resources @Pshemo, I&#39;ll go through them. One quick question - You said &quot;`TestClass$$sampleFunction...` is a subtype of `TestFunctionExecutor`&quot;. How?","body":"Thanks for the resources @Pshemo, I&#39;ll go through them. One quick question - You said &quot;<code>TestClass$$sampleFunction...</code> is a subtype of <code>TestFunctionExecutor</code>&quot;. How?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1690226306,"post_id":76755174,"comment_id":135320926,"body_markdown":"Because of *type inference* compiler knows that argument for method `public void wrapper(TestFunctionExecutor method)` must be of type `TestFunctionExecutor` (including its subtypes). So when compiler creates class like `TestClass$$Lambda$1...` to be implementation of lambda or method reference it must ensure that such class is subtype of TestFunctionExecutor which means it `... implements TestFunctionExecutor` (since that is what `wrapper` method expects as argument).","body":"Because of <i>type inference</i> compiler knows that argument for method <code>public void wrapper(TestFunctionExecutor method)</code> must be of type <code>TestFunctionExecutor</code> (including its subtypes). So when compiler creates class like <code>TestClass$$Lambda$1...</code> to be implementation of lambda or method reference it must ensure that such class is subtype of TestFunctionExecutor which means it <code>... implements TestFunctionExecutor</code> (since that is what <code>wrapper</code> method expects as argument)."}],"answers":[{"tags":[],"owner":{"account_id":11113839,"reputation":1926,"user_id":8158692,"display_name":"Baptiste Beauvais"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690213749,"creation_date":1690213749,"answer_id":76756137,"question_id":76755174,"body_markdown":"In Java, lambda expressions are just a sugar syntax for something called [Anonymous class](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html), which are basically classes created on the spot with a name created by the JVM.\r\n\r\nYour code can be equally written in 4 ways (from more concise to less concise) :\r\n\r\n```java\r\ntest.wrapper(test::sampleFunction);\r\n\r\ntest.wrapper(() -&gt; test.sampleFunction());\r\n\r\ntest.wrapper(() -&gt;  {\r\n   test.sampleFunction();\r\n});\r\n\r\ntest.wrapper(new TestFunctionExecutor() {\r\n    public void execute() {\r\n       test.sampleFunction();\r\n    }\r\n});\r\n```\r\n\r\nWhen you use a lambda expression, you actually create a new instance of an anonymous class that implements the functional interface. And the method of this implementation contains the run you want to run. \r\n\r\nAs for the last question, it might be correct code, but this is a very broad topic that depends.\r\n","title":"Is there an implicit type casting when using Functional Interfaces in Java?","body":"<p>In Java, lambda expressions are just a sugar syntax for something called <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">Anonymous class</a>, which are basically classes created on the spot with a name created by the JVM.</p>\n<p>Your code can be equally written in 4 ways (from more concise to less concise) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>test.wrapper(test::sampleFunction);\n\ntest.wrapper(() -&gt; test.sampleFunction());\n\ntest.wrapper(() -&gt;  {\n   test.sampleFunction();\n});\n\ntest.wrapper(new TestFunctionExecutor() {\n    public void execute() {\n       test.sampleFunction();\n    }\n});\n</code></pre>\n<p>When you use a lambda expression, you actually create a new instance of an anonymous class that implements the functional interface. And the method of this implementation contains the run you want to run.</p>\n<p>As for the last question, it might be correct code, but this is a very broad topic that depends.</p>\n"}],"owner":{"account_id":8487455,"reputation":315,"user_id":6365071,"display_name":"DashwoodIce9"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76756137,"answer_count":1,"score":0,"last_activity_date":1690213749,"creation_date":1690206810,"question_id":76755174,"body_markdown":"I wrote the following Java code and expected it to not compile but it did and also executed counterintuitively. I am using Java 17.\r\n\r\n`TestFunctionExecutor.java`\r\n```java\r\n@FunctionalInterface\r\npublic interface TestFunctionExecutor{\r\n    void execute();\r\n}\r\n```\r\n\r\n`TestClass.java`\r\n```java\r\npublic class TestClass{\r\n    public static void main(String... args) {\r\n        TestClass test = new TestClass();\r\n        test.wrapper(test::sampleFunction);\r\n    }\r\n    \r\n    public void sampleFunction() {\r\n        System.out.println(&quot;Inside sampleFunction&quot;);\r\n    }\r\n\r\n    public void wrapper(TestFunctionExecutor method) {\r\n        System.out.println(&quot;Before method execution&quot;);\r\n        method.execute();\r\n        System.out.println(&quot;After method execution&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOutput -\r\n```\r\nBefore method execution\r\nInside sampleFunction\r\nAfter method execution\r\n```\r\n\r\n---\r\n\r\nI thought since `wrapper` expects an argument of type `TestFunctionExecutor` and I am passing one of type `TestClass` the compilation should fail. I used a debugger and looks like `method` is a `TestClass$$Lambda$1...` at runtime. This confuses me and I have a few questions -\r\n1. What is the type of `test::SampleFunction`? Is it not `TestClass` or something like `TestClass$$sampleFunction...`? I am unable to deduce this with a debugger.\r\n2. Why were there no errors here? Looks like the types somehow became compatible, how?\r\n3. How does `execute` know what code to execute?\r\n4. Is this good code? My aim is to wrap a function so that some code runs before and after it.\r\n\r\nThanks!","title":"Is there an implicit type casting when using Functional Interfaces in Java?","body":"<p>I wrote the following Java code and expected it to not compile but it did and also executed counterintuitively. I am using Java 17.</p>\n<p><code>TestFunctionExecutor.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface TestFunctionExecutor{\n    void execute();\n}\n</code></pre>\n<p><code>TestClass.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass{\n    public static void main(String... args) {\n        TestClass test = new TestClass();\n        test.wrapper(test::sampleFunction);\n    }\n    \n    public void sampleFunction() {\n        System.out.println(&quot;Inside sampleFunction&quot;);\n    }\n\n    public void wrapper(TestFunctionExecutor method) {\n        System.out.println(&quot;Before method execution&quot;);\n        method.execute();\n        System.out.println(&quot;After method execution&quot;);\n    }\n}\n</code></pre>\n<p>Output -</p>\n<pre><code>Before method execution\nInside sampleFunction\nAfter method execution\n</code></pre>\n<hr />\n<p>I thought since <code>wrapper</code> expects an argument of type <code>TestFunctionExecutor</code> and I am passing one of type <code>TestClass</code> the compilation should fail. I used a debugger and looks like <code>method</code> is a <code>TestClass$$Lambda$1...</code> at runtime. This confuses me and I have a few questions -</p>\n<ol>\n<li>What is the type of <code>test::SampleFunction</code>? Is it not <code>TestClass</code> or something like <code>TestClass$$sampleFunction...</code>? I am unable to deduce this with a debugger.</li>\n<li>Why were there no errors here? Looks like the types somehow became compatible, how?</li>\n<li>How does <code>execute</code> know what code to execute?</li>\n<li>Is this good code? My aim is to wrap a function so that some code runs before and after it.</li>\n</ol>\n<p>Thanks!</p>\n"},{"tags":["java","javascript","bytecode","intercept","nashorn"],"comments":[{"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"score":0,"creation_date":1431398046,"post_id":30172038,"comment_id":48467425,"body_markdown":"Have you tried looking at the documentation and source code for Nashorn?","body":"Have you tried looking at the documentation and source code for Nashorn?"}],"answers":[{"comments":[{"owner":{"account_id":1419917,"reputation":4702,"user_id":1344760,"accept_rate":100,"display_name":"RichardTowers"},"score":0,"creation_date":1432672968,"post_id":30252092,"comment_id":49017558,"body_markdown":"I think the shorthand `-pc` option has been removed (it&#39;s not available in `1.8.0_25-b17` at least). `--print-code` still works. `jjs -xhelp` gets a full list of the undocumented options.","body":"I think the shorthand <code>-pc</code> option has been removed (it&#39;s not available in <code>1.8.0_25-b17</code> at least). <code>--print-code</code> still works. <code>jjs -xhelp</code> gets a full list of the undocumented options."},{"owner":{"account_id":3848680,"reputation":4287,"user_id":3189360,"display_name":"A. Sundararajan"},"score":0,"creation_date":1432784475,"post_id":30252092,"comment_id":49070706,"body_markdown":"hmm.. Well, -pc still exists afaik. Just checked with jdk1.8.0u60 early access build.","body":"hmm.. Well, -pc still exists afaik. Just checked with jdk1.8.0u60 early access build."}],"tags":[],"owner":{"account_id":3848680,"reputation":4287,"user_id":3189360,"display_name":"A. Sundararajan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1431667620,"creation_date":1431667620,"answer_id":30252092,"question_id":30172038,"body_markdown":"You can use Nashorn command line option &quot;-pc&quot; or &quot;--print-code&quot;. Nashorn will print generated bytecode in javap-like format. For example:\r\n\r\n    jjs -pc hello.js\r\n\r\nIf you want to have .class files (which you&#39;d want to look/analyze by other tools), you can use &quot;-d&quot; or &quot;--dump-debug-dir&quot; to specify a directory where generated classes are saved. For example,\r\n\r\n    jjs -d=tmp hello.js\r\n\r\nwill generate .class files under &quot;tmp&quot; directory. Please look for &quot;jdk/nashorn/internal/script&quot; directory under the directory you specified.\r\n\r\nNote that you&#39;ll not be able to offline manipulate and re-load these classes in a later nashorn session. This is just a debugging facility.","title":"Accessing Nashorn generated bytecode","body":"<p>You can use Nashorn command line option \"-pc\" or \"--print-code\". Nashorn will print generated bytecode in javap-like format. For example:</p>\n\n<pre><code>jjs -pc hello.js\n</code></pre>\n\n<p>If you want to have .class files (which you'd want to look/analyze by other tools), you can use \"-d\" or \"--dump-debug-dir\" to specify a directory where generated classes are saved. For example,</p>\n\n<pre><code>jjs -d=tmp hello.js\n</code></pre>\n\n<p>will generate .class files under \"tmp\" directory. Please look for \"jdk/nashorn/internal/script\" directory under the directory you specified.</p>\n\n<p>Note that you'll not be able to offline manipulate and re-load these classes in a later nashorn session. This is just a debugging facility.</p>\n"}],"owner":{"account_id":6285886,"reputation":47,"user_id":4885155,"display_name":"Stradm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30252092,"answer_count":1,"score":1,"last_activity_date":1690213503,"creation_date":1431359090,"question_id":30172038,"body_markdown":"Nashorn translates javascript source code directly into memory. Is\r\nthere any way to access the bytecode just for reading purpose?\r\n(manipulation isn&#39;t required). If there is, kindly explain in detail as I have limited experience...\r\nI am aware of javap but it is showing only Java specific bytecode. I want to look at Nashorn translated javascript bytecode.","title":"Accessing Nashorn generated bytecode","body":"<p>Nashorn translates javascript source code directly into memory. Is\nthere any way to access the bytecode just for reading purpose?\n(manipulation isn't required). If there is, kindly explain in detail as I have limited experience...\nI am aware of javap but it is showing only Java specific bytecode. I want to look at Nashorn translated javascript bytecode.</p>\n"},{"tags":["java","spring-boot","tomcat","intellij-idea","logback"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1542125576,"post_id":53285083,"comment_id":93452184,"body_markdown":"**(Access is denied)** Program Files is a protected directory and cannot be accessed without administrator permissions.","body":"<b>(Access is denied)</b> Program Files is a protected directory and cannot be accessed without administrator permissions."}],"answers":[{"tags":[],"owner":{"account_id":8888831,"reputation":2120,"user_id":6636213,"display_name":"MohammadReza  Alagheband"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550033207,"creation_date":1542125856,"answer_id":53285201,"question_id":53285083,"body_markdown":"Two reasons you might facing in this condition: \r\n\r\n1. See if you have permission to read *spring.log* file or not this is\r\nthe most obvious reason of `java.io.FileNotFoundException`: (Access is\r\ndenied) exception and I didn&#39;t had sufficient permission so I\r\nimmediately provided **read, write and execute** permission to the log\r\nfile and tried again.\r\n \r\n2. See if some other process is using that file This could be another\r\npossible reason of `java.io.FileNotFoundException`: (Access is\r\ndenied).\r\n\r\n","title":"FileNotFoundException (Logback) while starting app","body":"<p>Two reasons you might facing in this condition: </p>\n\n<ol>\n<li><p>See if you have permission to read <em>spring.log</em> file or not this is\nthe most obvious reason of <code>java.io.FileNotFoundException</code>: (Access is\ndenied) exception and I didn't had sufficient permission so I\nimmediately provided <strong>read, write and execute</strong> permission to the log\nfile and tried again.</p></li>\n<li><p>See if some other process is using that file This could be another\npossible reason of <code>java.io.FileNotFoundException</code>: (Access is\ndenied).</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12553303,"reputation":141,"user_id":9134028,"display_name":"poomcyber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690212804,"creation_date":1690212804,"answer_id":76756002,"question_id":53285083,"body_markdown":"In my case, I have the save error message like you,\r\n`....call failed. java.io.FileNotFoundException`\r\n\r\nThe point is the user who runs the application does not have permission to write log file, look at your `.service` file to find who runs the application. \r\n   However, if you want to pass this problem **easily** just change permission of &quot;logs&quot; folder to 777 \r\n\r\n     &lt;file&gt;${catalina.base}/logs/${springAppName}.log&lt;/file&gt;\r\nby using this linux command.\r\n\r\n&gt; chmod 777 logs\r\n\r\nDoing this solve my problem.","title":"FileNotFoundException (Logback) while starting app","body":"<p>In my case, I have the save error message like you,\n<code>....call failed. java.io.FileNotFoundException</code></p>\n<p>The point is the user who runs the application does not have permission to write log file, look at your <code>.service</code> file to find who runs the application.\nHowever, if you want to pass this problem <strong>easily</strong> just change permission of &quot;logs&quot; folder to 777</p>\n<pre><code> &lt;file&gt;${catalina.base}/logs/${springAppName}.log&lt;/file&gt;\n</code></pre>\n<p>by using this linux command.</p>\n<blockquote>\n<p>chmod 777 logs</p>\n</blockquote>\n<p>Doing this solve my problem.</p>\n"}],"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690212804,"creation_date":1542125470,"question_id":53285083,"body_markdown":"When running `SpringBoot 2.0.3` app on tomcat `8.5.0` i get following error:\r\n\r\n&gt; ERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - \r\n&gt; openFile(C:\\Program Files\\Apache Software Foundation\\Tomcat\r\n&gt; 9.0\\temp/spring.log,true) call failed.  java.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\temp\\spring.log\r\n&gt; (Access is denied)\r\n\r\n`logback-spring.xml` from this module is as follow:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot; source=&quot;spring.application.name&quot;/&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\r\n        &lt;include resource=&quot;logback-json.xml&quot;/&gt;\r\n        &lt;property name=&quot;LOG_PATTERN&quot;\r\n                  value=&quot;%date{yyyy-MM-dd HH:mm:ss.SSS}|${springAppName}|[%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]|%thread|%.-1level|%logger{10}|%msg%n&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${catalina.base}/logs/${springAppName}.log&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\r\n            &lt;/rollingPolicy&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;pl.X&quot; level=&quot;debug&quot;/&gt;\r\n    \r\n        &lt;logger name=&quot;jdbc.sqltiming&quot; level=&quot;info&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;ASYNC_REQUEST_RESPONSE_JSON_LOG&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;appender-ref ref=&quot;REQUEST_RESPONSE_JSON_LOG&quot;/&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;ASYNC_ROLLING&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ROLLING&quot;/&gt;\r\n        &lt;/appender&gt;\r\n        &lt;appender name=&quot;ASYNC_SERVER_JSON_LOG&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;appender-ref ref=&quot;SERVER_JSON_LOG&quot;/&gt;\r\n        &lt;/appender&gt;\r\n        &lt;logger name=&quot;somePakaes.trace.XLoggingFilter&quot; additivity=&quot;false&quot; level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ASYNC_REQUEST_RESPONSE_JSON_LOG&quot;/&gt;\r\n        &lt;/logger&gt;\r\n        &lt;root level=&quot;WARN&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ASYNC_ROLLING&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;ASYNC_SERVER_JSON_LOG&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\n\r\nAnd here is `logback-json.xml` that above files refers to:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;included&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot; source=&quot;spring.application.name&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;SERVER_JSON_LOG&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${catalina.base}/logs/${springAppName}.json&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}-%d{yyyy-MM-dd}.%i.json.zip&lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\r\n                &lt;maxHistory&gt;2&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n                &lt;providers&gt;\r\n                    &lt;pattern&gt;\r\n                        &lt;pattern&gt;\r\n                            {\r\n                            &quot;date&quot;:&quot;%date&quot;,\r\n                            &quot;severity&quot;: &quot;%level&quot;,\r\n                            &quot;service&quot;: &quot;${springAppName}&quot;,\r\n                            &quot;trace&quot;: &quot;%X{X-B3-TraceId:-}&quot;,\r\n                            &quot;span&quot;: &quot;%X{X-B3-SpanId:-}&quot;,\r\n                            &quot;parent&quot;: &quot;%X{X-B3-ParentSpanId:-}&quot;,\r\n                            &quot;exportable&quot;: &quot;%X{X-Span-Export:-}&quot;,\r\n                            &quot;pid&quot;: &quot;${PID:-}&quot;,\r\n                            &quot;thread&quot;: &quot;%thread&quot;,\r\n                            &quot;class&quot;: &quot;%logger{26}&quot;,\r\n                            &quot;message&quot;: &quot;%message&quot;,\r\n                            &quot;ex&quot;: &quot;%ex&quot;\r\n                            }\r\n                        &lt;/pattern&gt;\r\n                    &lt;/pattern&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.cloud.sleuth.instrument.web.TraceFilter&quot; level=&quot;error&quot;/&gt;\r\n        &lt;logger name=&quot;org.springframework.cloud.sleuth.instrument.web.TraceHandlerInterceptor&quot; level=&quot;error&quot;/&gt;\r\n    \r\n    \r\n        &lt;appender name=&quot;REQUEST_RESPONSE_JSON_LOG&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${catalina.base}/logs/${springAppName}_request_response.json&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}_request_response-%d{yyyy-MM-dd}.%i.json.zip&lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\r\n                &lt;maxHistory&gt;2&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n    \r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n                &lt;providers&gt;\r\n                    &lt;pattern&gt;\r\n                        &lt;pattern&gt;\r\n                            {\r\n                            &quot;date&quot;:&quot;%date&quot;,\r\n                            &quot;service&quot;: &quot;${springAppName}&quot;,\r\n                            &quot;severity&quot;: &quot;%level&quot;,\r\n                            &quot;trace&quot;: &quot;%X{X-B3-TraceId:-}&quot;,\r\n                            &quot;span&quot;: &quot;%X{X-B3-SpanId:-}&quot;,\r\n                            &quot;parent&quot;: &quot;%X{X-B3-ParentSpanId:-}&quot;,\r\n                            &quot;pid&quot;: &quot;${PID:-}&quot;,\r\n                            &quot;thread&quot;: &quot;%thread&quot;,\r\n                            &quot;message&quot;: &quot;%message&quot;\r\n                            }\r\n                        &lt;/pattern&gt;\r\n                    &lt;/pattern&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    &lt;/included&gt;\r\n\r\nBut the problem disappears when running InteliJ as an `admin`.","title":"FileNotFoundException (Logback) while starting app","body":"<p>When running <code>SpringBoot 2.0.3</code> app on tomcat <code>8.5.0</code> i get following error:</p>\n\n<blockquote>\n  <p>ERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - \n  openFile(C:\\Program Files\\Apache Software Foundation\\Tomcat\n  9.0\\temp/spring.log,true) call failed.  java.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\temp\\spring.log\n  (Access is denied)</p>\n</blockquote>\n\n<p><code>logback-spring.xml</code> from this module is as follow:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n\n    &lt;springProperty scope=\"context\" name=\"springAppName\" source=\"spring.application.name\"/&gt;\n    &lt;include resource=\"org/springframework/boot/logging/logback/base.xml\"/&gt;\n    &lt;include resource=\"logback-json.xml\"/&gt;\n    &lt;property name=\"LOG_PATTERN\"\n              value=\"%date{yyyy-MM-dd HH:mm:ss.SSS}|${springAppName}|[%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]|%thread|%.-1level|%logger{10}|%msg%n\"/&gt;\n\n    &lt;appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"ROLLING\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;${catalina.base}/logs/${springAppName}.log&lt;/file&gt;\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"&gt;\n            &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=\"pl.X\" level=\"debug\"/&gt;\n\n    &lt;logger name=\"jdbc.sqltiming\" level=\"info\"/&gt;\n\n    &lt;appender name=\"ASYNC_REQUEST_RESPONSE_JSON_LOG\" class=\"ch.qos.logback.classic.AsyncAppender\"&gt;\n        &lt;appender-ref ref=\"REQUEST_RESPONSE_JSON_LOG\"/&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"ASYNC_ROLLING\" class=\"ch.qos.logback.classic.AsyncAppender\"&gt;\n        &lt;appender-ref ref=\"ROLLING\"/&gt;\n    &lt;/appender&gt;\n    &lt;appender name=\"ASYNC_SERVER_JSON_LOG\" class=\"ch.qos.logback.classic.AsyncAppender\"&gt;\n        &lt;appender-ref ref=\"SERVER_JSON_LOG\"/&gt;\n    &lt;/appender&gt;\n    &lt;logger name=\"somePakaes.trace.XLoggingFilter\" additivity=\"false\" level=\"DEBUG\"&gt;\n        &lt;appender-ref ref=\"ASYNC_REQUEST_RESPONSE_JSON_LOG\"/&gt;\n    &lt;/logger&gt;\n    &lt;root level=\"WARN\"&gt;\n        &lt;appender-ref ref=\"ASYNC_ROLLING\"/&gt;\n        &lt;appender-ref ref=\"ASYNC_SERVER_JSON_LOG\"/&gt;\n        &lt;appender-ref ref=\"CONSOLE\"/&gt;\n    &lt;/root&gt;\n</code></pre>\n\n<p></p>\n\n<p>And here is <code>logback-json.xml</code> that above files refers to:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;included&gt;\n    &lt;springProperty scope=\"context\" name=\"springAppName\" source=\"spring.application.name\"/&gt;\n\n    &lt;appender name=\"SERVER_JSON_LOG\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;${catalina.base}/logs/${springAppName}.json&lt;/file&gt;\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"&gt;\n            &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}-%d{yyyy-MM-dd}.%i.json.zip&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;2&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder class=\"net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder\"&gt;\n            &lt;providers&gt;\n                &lt;pattern&gt;\n                    &lt;pattern&gt;\n                        {\n                        \"date\":\"%date\",\n                        \"severity\": \"%level\",\n                        \"service\": \"${springAppName}\",\n                        \"trace\": \"%X{X-B3-TraceId:-}\",\n                        \"span\": \"%X{X-B3-SpanId:-}\",\n                        \"parent\": \"%X{X-B3-ParentSpanId:-}\",\n                        \"exportable\": \"%X{X-Span-Export:-}\",\n                        \"pid\": \"${PID:-}\",\n                        \"thread\": \"%thread\",\n                        \"class\": \"%logger{26}\",\n                        \"message\": \"%message\",\n                        \"ex\": \"%ex\"\n                        }\n                    &lt;/pattern&gt;\n                &lt;/pattern&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=\"org.springframework.cloud.sleuth.instrument.web.TraceFilter\" level=\"error\"/&gt;\n    &lt;logger name=\"org.springframework.cloud.sleuth.instrument.web.TraceHandlerInterceptor\" level=\"error\"/&gt;\n\n\n    &lt;appender name=\"REQUEST_RESPONSE_JSON_LOG\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;${catalina.base}/logs/${springAppName}_request_response.json&lt;/file&gt;\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"&gt;\n            &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}_request_response-%d{yyyy-MM-dd}.%i.json.zip&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;2&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n\n        &lt;encoder class=\"net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder\"&gt;\n            &lt;providers&gt;\n                &lt;pattern&gt;\n                    &lt;pattern&gt;\n                        {\n                        \"date\":\"%date\",\n                        \"service\": \"${springAppName}\",\n                        \"severity\": \"%level\",\n                        \"trace\": \"%X{X-B3-TraceId:-}\",\n                        \"span\": \"%X{X-B3-SpanId:-}\",\n                        \"parent\": \"%X{X-B3-ParentSpanId:-}\",\n                        \"pid\": \"${PID:-}\",\n                        \"thread\": \"%thread\",\n                        \"message\": \"%message\"\n                        }\n                    &lt;/pattern&gt;\n                &lt;/pattern&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n&lt;/included&gt;\n</code></pre>\n\n<p>But the problem disappears when running InteliJ as an <code>admin</code>.</p>\n"},{"tags":["java","avro","apache-beam-io","gcs"],"owner":{"account_id":21539897,"reputation":3,"user_id":15877818,"display_name":"jeks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690212764,"creation_date":1690210827,"question_id":76755709,"body_markdown":"I am trying to write generic records to a GCS bucket as avro, On writing I can observe two things\r\n\r\n- The File type in GCS is application/octet-stream instead of avro\r\n- Some of the data are missing i.e are null, especially the nested fields\r\n\r\nHere is the code sample, (this is in a  DoFn)\r\n\r\n\r\n    String DatetimeSuffix = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;).format(new Date());\r\n    \r\n    String fileSuffix = String.join(&quot;_&quot;,&quot;realtime_data&quot;, DatetimeSuffix);\r\n    \r\n    \r\n    dirGCSBucket = String.join(&quot;/&quot;,bucketURI,&quot;year=&quot;+year, &quot;month=&quot;+month, &quot;day=&quot;+day, &quot;hour=&quot;+hour);\r\n    \r\n    \r\n    Storage storage = StorageOptions.newBuilder().setProjectId(projectID).build().getService();\r\n    BlobId blobId = BlobId.of(gcsBucket, dirGCSBucket + &quot;/&quot; +  fileSuffix + &quot;.avro&quot;);\r\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\r\n    \r\n    Blob blob = storage.create(blobInfo);\r\n    \r\n    DataFileWriter&lt;GenericRecord&gt; dataFileWriter = new DataFileWriter&lt;&gt;(new GenericDatumWriter&lt;&gt;(genericRecord.getSchema()));\r\n    \r\n    try {\r\n        dataFileWriter.create(genericRecord.getSchema(), Channels.newOutputStream(blob.writer()));\r\n        dataFileWriter.append(genericRecord);\r\n        dataFileWriter.close();\r\n    } catch (IOException e) {\r\n        LOG.warn(String.format(&quot;Failed writing for: %s in file: %s&quot;, key.toString(), fileName));\r\n        LOG.error(&quot;input Error&quot;, e)\r\n    }`\r\n\r\n\r\n**Does someone know why I am having these issues and/or is there a better way to do this?**\r\n\r\nThe major expectation for me is to make sure I don&#39;t have data loss, when I write to a GCS bucket","title":"Writing Generic Record as Avro Files to GCS Bucket in Java","body":"<p>I am trying to write generic records to a GCS bucket as avro, On writing I can observe two things</p>\n<ul>\n<li>The File type in GCS is application/octet-stream instead of avro</li>\n<li>Some of the data are missing i.e are null, especially the nested fields</li>\n</ul>\n<p>Here is the code sample, (this is in a  DoFn)</p>\n<pre><code>String DatetimeSuffix = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;).format(new Date());\n\nString fileSuffix = String.join(&quot;_&quot;,&quot;realtime_data&quot;, DatetimeSuffix);\n\n\ndirGCSBucket = String.join(&quot;/&quot;,bucketURI,&quot;year=&quot;+year, &quot;month=&quot;+month, &quot;day=&quot;+day, &quot;hour=&quot;+hour);\n\n\nStorage storage = StorageOptions.newBuilder().setProjectId(projectID).build().getService();\nBlobId blobId = BlobId.of(gcsBucket, dirGCSBucket + &quot;/&quot; +  fileSuffix + &quot;.avro&quot;);\nBlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\n\nBlob blob = storage.create(blobInfo);\n\nDataFileWriter&lt;GenericRecord&gt; dataFileWriter = new DataFileWriter&lt;&gt;(new GenericDatumWriter&lt;&gt;(genericRecord.getSchema()));\n\ntry {\n    dataFileWriter.create(genericRecord.getSchema(), Channels.newOutputStream(blob.writer()));\n    dataFileWriter.append(genericRecord);\n    dataFileWriter.close();\n} catch (IOException e) {\n    LOG.warn(String.format(&quot;Failed writing for: %s in file: %s&quot;, key.toString(), fileName));\n    LOG.error(&quot;input Error&quot;, e)\n}`\n</code></pre>\n<p><strong>Does someone know why I am having these issues and/or is there a better way to do this?</strong></p>\n<p>The major expectation for me is to make sure I don't have data loss, when I write to a GCS bucket</p>\n"},{"tags":["java","jdbc","snowflake-cloud-data-platform","flyway","redgate"],"comments":[{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":1,"creation_date":1690212698,"post_id":76755390,"comment_id":135318549,"body_markdown":"Are you using a Java version above 16? Then have a look at [this article](https://community.snowflake.com/s/article/JDBC-Driver-Compatibility-Issue-With-JDK-16-and-Later).","body":"Are you using a Java version above 16? Then have a look at <a href=\"https://community.snowflake.com/s/article/JDBC-Driver-Compatibility-Issue-With-JDK-16-and-Later\" rel=\"nofollow noreferrer\">this article</a>."}],"owner":{"account_id":11949917,"reputation":1,"user_id":8743861,"display_name":"Vasanth Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690212582,"creation_date":1690208420,"question_id":76755390,"body_markdown":"`ERROR: Unable to determine the original schema for the connection`\r\n----------------------------------------------------------\r\n\r\n    SQL State  : XX000\r\n    Error Code : 200001\r\n    Message    : JDBC driver internal error: exception creating result java.lang.ExceptionInInitializerError at net.snowflake.client.jdbc.internal.apache.arrow.memory.UnsafeAllocationManager.&lt;clinit&gt;(UnsafeAllocationManager.java:27).\r\n    \r\n    Caused by: net.snowflake.client.jdbc.SnowflakeSQLException: JDBC driver internal error: exception creating result java.lang.ExceptionInInitializerError at net.snowflake.client.jdbc.internal.apache.arrow.memory.UnsafeAllocationManager.&lt;clinit&gt;(UnsafeAllocationManager.java:27).\r\n\r\n\r\n\r\nI am getting the above error, it is successfully connecting to database and then I&#39;m getting this error. I have set the schema in URL, checked for drivers and jars, and set the default schema as well in config file. I have replaced the jar with latest snowflake-jdbc jar , even then i am facing the same issue. \r\n\r\nI want to connect to snowflake and migrate some tables.\r\n\r\nCan anyone please help me on this.\r\n","title":"Trying to connect snowflake using flyway-migration","body":"<h2><code>ERROR: Unable to determine the original schema for the connection</code></h2>\n<pre><code>SQL State  : XX000\nError Code : 200001\nMessage    : JDBC driver internal error: exception creating result java.lang.ExceptionInInitializerError at net.snowflake.client.jdbc.internal.apache.arrow.memory.UnsafeAllocationManager.&lt;clinit&gt;(UnsafeAllocationManager.java:27).\n\nCaused by: net.snowflake.client.jdbc.SnowflakeSQLException: JDBC driver internal error: exception creating result java.lang.ExceptionInInitializerError at net.snowflake.client.jdbc.internal.apache.arrow.memory.UnsafeAllocationManager.&lt;clinit&gt;(UnsafeAllocationManager.java:27).\n</code></pre>\n<p>I am getting the above error, it is successfully connecting to database and then I'm getting this error. I have set the schema in URL, checked for drivers and jars, and set the default schema as well in config file. I have replaced the jar with latest snowflake-jdbc jar , even then i am facing the same issue.</p>\n<p>I want to connect to snowflake and migrate some tables.</p>\n<p>Can anyone please help me on this.</p>\n"},{"tags":["java","json","csv"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690200346,"post_id":76754157,"comment_id":135315710,"body_markdown":"Just create a _class_ to contain the _csv_ data, and then generate the _json_ output.","body":"Just create a <i>class</i> to contain the <i>csv</i> data, and then generate the <i>json</i> output."}],"answers":[{"tags":[],"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690201248,"creation_date":1690201248,"answer_id":76754473,"question_id":76754157,"body_markdown":"All you need is a way to parse the CSV to a Java object. You can do this manually, or by using an existing library.\r\n\r\nFor example, you can use Jackson with the CSV data format like this:\r\n\r\n    class MyRecord {\r\n    \r\n        @JsonProperty(&quot;user_id&quot;)\r\n        private int userId;\r\n        \r\n        private String nickname;\r\n        \r\n        private LocalDate joinDate;\r\n    \r\n        @JsonProperty(&quot;product_id&quot;)\r\n        private String productId;\r\n\r\n        // getters and setters\r\n\r\n        // a meaningful toString method\r\n\r\n    }\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String csv = &quot;user_id,nickname,joinDate,product_id,price\\n&quot; +\r\n                    &quot;1,kmh,2023-07-24,P131,3000\\n&quot; +\r\n                    &quot;1,kmh,2023-07-24,P132,4000\\n&quot; +\r\n                    &quot;1,kmh,2023-07-24,P133,7000\\n&quot; +\r\n                    &quot;1,kmh,2023-07-24,P134,9000\\n&quot; +\r\n                    &quot;2,john,2023-07-24,P135,2500\\n&quot; +\r\n                    &quot;2,john,2023-07-24,P136,6000\\n&quot; +\r\n                    &quot;3,alice,2023-07-25,P137,4500\\n&quot; +\r\n                    &quot;3,alice,2023-07-25,P138,8000&quot;;\r\n    \r\n            CsvSchema schema = CsvSchema.emptySchema().withHeader(); // uses CSV header to read the schema\r\n            ObjectMapper mapper = new CsvMapper().registerModule(new JavaTimeModule()); // to deserialise Java 8 LocalDate\r\n            MappingIterator&lt;MyRecord&gt; resultIterator = mapper.readerFor(MyRecord.class).with(schema).readValues(csv);\r\n            while (resultIterator.hasNext()) {\r\n                System.out.println(resultIterator.next());\r\n            }\r\n            resultIterator.close();\r\n        }\r\n    } \r\n\r\nWhich prints:\r\n\r\n    MyRecord[userId=1, nickname=&#39;kmh&#39;, joinDate=2023-07-24, productId=&#39;P131&#39;, price=3000]\r\n    MyRecord[userId=1, nickname=&#39;kmh&#39;, joinDate=2023-07-24, productId=&#39;P132&#39;, price=4000]\r\n    MyRecord[userId=1, nickname=&#39;kmh&#39;, joinDate=2023-07-24, productId=&#39;P133&#39;, price=7000]\r\n    MyRecord[userId=1, nickname=&#39;kmh&#39;, joinDate=2023-07-24, productId=&#39;P134&#39;, price=9000]\r\n    MyRecord[userId=2, nickname=&#39;john&#39;, joinDate=2023-07-24, productId=&#39;P135&#39;, price=2500]\r\n    MyRecord[userId=2, nickname=&#39;john&#39;, joinDate=2023-07-24, productId=&#39;P136&#39;, price=6000]\r\n    MyRecord[userId=3, nickname=&#39;alice&#39;, joinDate=2023-07-25, productId=&#39;P137&#39;, price=4500]\r\n    MyRecord[userId=3, nickname=&#39;alice&#39;, joinDate=2023-07-25, productId=&#39;P138&#39;, price=8000]\r\n","title":"How to change an unnormalized csv file to a complex json or java object","body":"<p>All you need is a way to parse the CSV to a Java object. You can do this manually, or by using an existing library.</p>\n<p>For example, you can use Jackson with the CSV data format like this:</p>\n<pre><code>class MyRecord {\n\n    @JsonProperty(&quot;user_id&quot;)\n    private int userId;\n    \n    private String nickname;\n    \n    private LocalDate joinDate;\n\n    @JsonProperty(&quot;product_id&quot;)\n    private String productId;\n\n    // getters and setters\n\n    // a meaningful toString method\n\n}\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        String csv = &quot;user_id,nickname,joinDate,product_id,price\\n&quot; +\n                &quot;1,kmh,2023-07-24,P131,3000\\n&quot; +\n                &quot;1,kmh,2023-07-24,P132,4000\\n&quot; +\n                &quot;1,kmh,2023-07-24,P133,7000\\n&quot; +\n                &quot;1,kmh,2023-07-24,P134,9000\\n&quot; +\n                &quot;2,john,2023-07-24,P135,2500\\n&quot; +\n                &quot;2,john,2023-07-24,P136,6000\\n&quot; +\n                &quot;3,alice,2023-07-25,P137,4500\\n&quot; +\n                &quot;3,alice,2023-07-25,P138,8000&quot;;\n\n        CsvSchema schema = CsvSchema.emptySchema().withHeader(); // uses CSV header to read the schema\n        ObjectMapper mapper = new CsvMapper().registerModule(new JavaTimeModule()); // to deserialise Java 8 LocalDate\n        MappingIterator&lt;MyRecord&gt; resultIterator = mapper.readerFor(MyRecord.class).with(schema).readValues(csv);\n        while (resultIterator.hasNext()) {\n            System.out.println(resultIterator.next());\n        }\n        resultIterator.close();\n    }\n} \n</code></pre>\n<p>Which prints:</p>\n<pre><code>MyRecord[userId=1, nickname='kmh', joinDate=2023-07-24, productId='P131', price=3000]\nMyRecord[userId=1, nickname='kmh', joinDate=2023-07-24, productId='P132', price=4000]\nMyRecord[userId=1, nickname='kmh', joinDate=2023-07-24, productId='P133', price=7000]\nMyRecord[userId=1, nickname='kmh', joinDate=2023-07-24, productId='P134', price=9000]\nMyRecord[userId=2, nickname='john', joinDate=2023-07-24, productId='P135', price=2500]\nMyRecord[userId=2, nickname='john', joinDate=2023-07-24, productId='P136', price=6000]\nMyRecord[userId=3, nickname='alice', joinDate=2023-07-25, productId='P137', price=4500]\nMyRecord[userId=3, nickname='alice', joinDate=2023-07-25, productId='P138', price=8000]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690211602,"creation_date":1690211602,"answer_id":76755840,"question_id":76754157,"body_markdown":"For your case, you can deserialize the csv into JsonNode directly without creating POJO class.  And then use JSON library _Josson_ to transform the JSON by function `group()`.\r\n\r\n    String csv = &quot;user_id,nickname,joinDate,product_id,price\\n&quot; +\r\n            &quot;1,kmh,2023-07-24,P131,3000\\n&quot; +\r\n            &quot;1,kmh,2023-07-24,P132,4000\\n&quot; +\r\n            &quot;1,kmh,2023-07-24,P133,7000\\n&quot; +\r\n            &quot;1,kmh,2023-07-24,P134,9000\\n&quot; +\r\n            &quot;2,john,2023-07-24,P135,2500\\n&quot; +\r\n            &quot;2,john,2023-07-24,P136,6000\\n&quot; +\r\n            &quot;3,alice,2023-07-25,P137,4500\\n&quot; +\r\n            &quot;3,alice,2023-07-25,P138,8000&quot;;\r\n    ArrayNode arrayNode = Josson.createArrayNode();\r\n    CsvSchema schema = CsvSchema.emptySchema().withHeader();\r\n    try (MappingIterator&lt;JsonNode&gt; it = new CsvMapper().readerFor(JsonNode.class).with(schema).readValues(csv)) {\r\n        arrayNode.addAll(it.readAll());\r\n    }\r\n    Josson josson = Josson.create(arrayNode);\r\n    JsonNode grouped = josson.getNode(\r\n            &quot;group(map(user_id, nickname, joinDate), map(product_id, price))&quot; +\r\n            &quot;.map(**:key, orders:elements)&quot;);\r\n    System.out.println(grouped.toPrettyString());\r\n\r\n__Function `group()`__  \r\n1. Group by &quot;key&quot; of {user_id, nickname, joinDate}\r\n2. With &quot;elements&quot; of {product_id, price}\r\n\r\n__Functoin `map()`__  \r\n1. Extract values inside object &quot;key&quot;\r\n2. Add field &quot;orders&quot; copy from &quot;elements&quot;\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;user_id&quot; : &quot;1&quot;,\r\n      &quot;nickname&quot; : &quot;kmh&quot;,\r\n      &quot;joinDate&quot; : &quot;2023-07-24&quot;,\r\n      &quot;orders&quot; : [ {\r\n        &quot;product_id&quot; : &quot;P131&quot;,\r\n        &quot;price&quot; : &quot;3000&quot;\r\n      }, {\r\n        &quot;product_id&quot; : &quot;P132&quot;,\r\n        &quot;price&quot; : &quot;4000&quot;\r\n      }, {\r\n        &quot;product_id&quot; : &quot;P133&quot;,\r\n        &quot;price&quot; : &quot;7000&quot;\r\n      }, {\r\n        &quot;product_id&quot; : &quot;P134&quot;,\r\n        &quot;price&quot; : &quot;9000&quot;\r\n      } ]\r\n    }, {\r\n      &quot;user_id&quot; : &quot;2&quot;,\r\n      &quot;nickname&quot; : &quot;john&quot;,\r\n      &quot;joinDate&quot; : &quot;2023-07-24&quot;,\r\n      &quot;orders&quot; : [ {\r\n        &quot;product_id&quot; : &quot;P135&quot;,\r\n        &quot;price&quot; : &quot;2500&quot;\r\n      }, {\r\n        &quot;product_id&quot; : &quot;P136&quot;,\r\n        &quot;price&quot; : &quot;6000&quot;\r\n      } ]\r\n    }, {\r\n      &quot;user_id&quot; : &quot;3&quot;,\r\n      &quot;nickname&quot; : &quot;alice&quot;,\r\n      &quot;joinDate&quot; : &quot;2023-07-25&quot;,\r\n      &quot;orders&quot; : [ {\r\n        &quot;product_id&quot; : &quot;P137&quot;,\r\n        &quot;price&quot; : &quot;4500&quot;\r\n      }, {\r\n        &quot;product_id&quot; : &quot;P138&quot;,\r\n        &quot;price&quot; : &quot;8000&quot;\r\n      } ]\r\n    } ]\r\n","title":"How to change an unnormalized csv file to a complex json or java object","body":"<p>For your case, you can deserialize the csv into JsonNode directly without creating POJO class.  And then use JSON library <em>Josson</em> to transform the JSON by function <code>group()</code>.</p>\n<pre><code>String csv = &quot;user_id,nickname,joinDate,product_id,price\\n&quot; +\n        &quot;1,kmh,2023-07-24,P131,3000\\n&quot; +\n        &quot;1,kmh,2023-07-24,P132,4000\\n&quot; +\n        &quot;1,kmh,2023-07-24,P133,7000\\n&quot; +\n        &quot;1,kmh,2023-07-24,P134,9000\\n&quot; +\n        &quot;2,john,2023-07-24,P135,2500\\n&quot; +\n        &quot;2,john,2023-07-24,P136,6000\\n&quot; +\n        &quot;3,alice,2023-07-25,P137,4500\\n&quot; +\n        &quot;3,alice,2023-07-25,P138,8000&quot;;\nArrayNode arrayNode = Josson.createArrayNode();\nCsvSchema schema = CsvSchema.emptySchema().withHeader();\ntry (MappingIterator&lt;JsonNode&gt; it = new CsvMapper().readerFor(JsonNode.class).with(schema).readValues(csv)) {\n    arrayNode.addAll(it.readAll());\n}\nJosson josson = Josson.create(arrayNode);\nJsonNode grouped = josson.getNode(\n        &quot;group(map(user_id, nickname, joinDate), map(product_id, price))&quot; +\n        &quot;.map(**:key, orders:elements)&quot;);\nSystem.out.println(grouped.toPrettyString());\n</code></pre>\n<p><strong>Function <code>group()</code></strong></p>\n<ol>\n<li>Group by &quot;key&quot; of {user_id, nickname, joinDate}</li>\n<li>With &quot;elements&quot; of {product_id, price}</li>\n</ol>\n<p><strong>Functoin <code>map()</code></strong></p>\n<ol>\n<li>Extract values inside object &quot;key&quot;</li>\n<li>Add field &quot;orders&quot; copy from &quot;elements&quot;</li>\n</ol>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;user_id&quot; : &quot;1&quot;,\n  &quot;nickname&quot; : &quot;kmh&quot;,\n  &quot;joinDate&quot; : &quot;2023-07-24&quot;,\n  &quot;orders&quot; : [ {\n    &quot;product_id&quot; : &quot;P131&quot;,\n    &quot;price&quot; : &quot;3000&quot;\n  }, {\n    &quot;product_id&quot; : &quot;P132&quot;,\n    &quot;price&quot; : &quot;4000&quot;\n  }, {\n    &quot;product_id&quot; : &quot;P133&quot;,\n    &quot;price&quot; : &quot;7000&quot;\n  }, {\n    &quot;product_id&quot; : &quot;P134&quot;,\n    &quot;price&quot; : &quot;9000&quot;\n  } ]\n}, {\n  &quot;user_id&quot; : &quot;2&quot;,\n  &quot;nickname&quot; : &quot;john&quot;,\n  &quot;joinDate&quot; : &quot;2023-07-24&quot;,\n  &quot;orders&quot; : [ {\n    &quot;product_id&quot; : &quot;P135&quot;,\n    &quot;price&quot; : &quot;2500&quot;\n  }, {\n    &quot;product_id&quot; : &quot;P136&quot;,\n    &quot;price&quot; : &quot;6000&quot;\n  } ]\n}, {\n  &quot;user_id&quot; : &quot;3&quot;,\n  &quot;nickname&quot; : &quot;alice&quot;,\n  &quot;joinDate&quot; : &quot;2023-07-25&quot;,\n  &quot;orders&quot; : [ {\n    &quot;product_id&quot; : &quot;P137&quot;,\n    &quot;price&quot; : &quot;4500&quot;\n  }, {\n    &quot;product_id&quot; : &quot;P138&quot;,\n    &quot;price&quot; : &quot;8000&quot;\n  } ]\n} ]\n</code></pre>\n"}],"owner":{"account_id":25682807,"reputation":3,"user_id":19445348,"display_name":"KBB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76755840,"answer_count":2,"score":0,"last_activity_date":1690211602,"creation_date":1690199115,"question_id":76754157,"body_markdown":"I have the following unnormalized csv file\r\n\r\n```csv\r\nuser_id,nickname,joinDate,product_id,price\r\n1,kmh,2023-07-24,P131,3000\r\n1,kmh,2023-07-24,P132,4000\r\n1,kmh,2023-07-24,P133,7000\r\n1,kmh,2023-07-24,P134,9000\r\n2,john,2023-07-24,P135,2500\r\n2,john,2023-07-24,P136,6000\r\n3,alice,2023-07-25,P137,4500\r\n3,alice,2023-07-25,P138,8000\r\n\r\n```\r\n\r\nI&#39;m going to change this to the following json format (or java object).\r\n\r\n```javascript\r\n[\r\n    {\r\n        &quot;user_id&quot;: 1,\r\n        &quot;nickname&quot;: &quot;kmh&quot;,\r\n        &quot;joinDate&quot;: &quot;2023-07-24&quot;,\r\n        &quot;orders&quot;: [\r\n            {\r\n                &quot;product_id&quot;: &quot;P131&quot;,\r\n                &quot;price&quot;: 3000\r\n            },\r\n            {\r\n                &quot;product_id&quot;: &quot;P132&quot;,\r\n                &quot;price&quot;: 4000\r\n            },\r\n            {\r\n                &quot;product_id&quot;: &quot;P133&quot;,\r\n                &quot;price&quot;: 7000\r\n            },\r\n            {\r\n                &quot;product_id&quot;: &quot;P134&quot;,\r\n                &quot;price&quot;: 9000\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;user_id&quot;: 2,\r\n        &quot;nickname&quot;: &quot;john&quot;,\r\n        &quot;joinDate&quot;: &quot;2023-07-24&quot;,\r\n        &quot;orders&quot;: [\r\n            {\r\n                &quot;product_id&quot;: &quot;P135&quot;,\r\n                &quot;price&quot;: 2500\r\n            },\r\n            {\r\n                &quot;product_id&quot;: &quot;P136&quot;,\r\n                &quot;price&quot;: 6000\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;user_id&quot;: 3,\r\n        &quot;nickname&quot;: &quot;alice&quot;,\r\n        &quot;joinDate&quot;: &quot;2023-07-25&quot;,\r\n        &quot;orders&quot;: [\r\n            {\r\n                &quot;product_id&quot;: &quot;P137&quot;,\r\n                &quot;price&quot;: 4500\r\n            },\r\n            {\r\n                &quot;product_id&quot;: &quot;P138&quot;,\r\n                &quot;price&quot;: 8000\r\n            }\r\n        ]\r\n    }\r\n]\r\n\r\n```\r\n\r\n\r\nI&#39;ve been searching for quite a long time and haven&#39;t found a library or tool that enables this .\r\n\r\nI have so many different types of csv that I need tools or libraries to change all of these. Are there any libraries or tools that make this possible?","title":"How to change an unnormalized csv file to a complex json or java object","body":"<p>I have the following unnormalized csv file</p>\n<pre><code>user_id,nickname,joinDate,product_id,price\n1,kmh,2023-07-24,P131,3000\n1,kmh,2023-07-24,P132,4000\n1,kmh,2023-07-24,P133,7000\n1,kmh,2023-07-24,P134,9000\n2,john,2023-07-24,P135,2500\n2,john,2023-07-24,P136,6000\n3,alice,2023-07-25,P137,4500\n3,alice,2023-07-25,P138,8000\n\n</code></pre>\n<p>I'm going to change this to the following json format (or java object).</p>\n<pre class=\"lang-js prettyprint-override\"><code>[\n    {\n        &quot;user_id&quot;: 1,\n        &quot;nickname&quot;: &quot;kmh&quot;,\n        &quot;joinDate&quot;: &quot;2023-07-24&quot;,\n        &quot;orders&quot;: [\n            {\n                &quot;product_id&quot;: &quot;P131&quot;,\n                &quot;price&quot;: 3000\n            },\n            {\n                &quot;product_id&quot;: &quot;P132&quot;,\n                &quot;price&quot;: 4000\n            },\n            {\n                &quot;product_id&quot;: &quot;P133&quot;,\n                &quot;price&quot;: 7000\n            },\n            {\n                &quot;product_id&quot;: &quot;P134&quot;,\n                &quot;price&quot;: 9000\n            }\n        ]\n    },\n    {\n        &quot;user_id&quot;: 2,\n        &quot;nickname&quot;: &quot;john&quot;,\n        &quot;joinDate&quot;: &quot;2023-07-24&quot;,\n        &quot;orders&quot;: [\n            {\n                &quot;product_id&quot;: &quot;P135&quot;,\n                &quot;price&quot;: 2500\n            },\n            {\n                &quot;product_id&quot;: &quot;P136&quot;,\n                &quot;price&quot;: 6000\n            }\n        ]\n    },\n    {\n        &quot;user_id&quot;: 3,\n        &quot;nickname&quot;: &quot;alice&quot;,\n        &quot;joinDate&quot;: &quot;2023-07-25&quot;,\n        &quot;orders&quot;: [\n            {\n                &quot;product_id&quot;: &quot;P137&quot;,\n                &quot;price&quot;: 4500\n            },\n            {\n                &quot;product_id&quot;: &quot;P138&quot;,\n                &quot;price&quot;: 8000\n            }\n        ]\n    }\n]\n\n</code></pre>\n<p>I've been searching for quite a long time and haven't found a library or tool that enables this .</p>\n<p>I have so many different types of csv that I need tools or libraries to change all of these. Are there any libraries or tools that make this possible?</p>\n"},{"tags":["java","algorithm","math","logarithm"],"comments":[{"owner":{"account_id":3014764,"reputation":7449,"user_id":2557263,"display_name":"Alejandro"},"score":0,"creation_date":1527695674,"post_id":50608681,"comment_id":88227602,"body_markdown":"Possible duplicate of [Calculate logarithm by hand](https://stackoverflow.com/questions/50335506/calculate-logarithm-by-hand)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/50335506/calculate-logarithm-by-hand\">Calculate logarithm by hand</a>"},{"owner":{"account_id":433754,"reputation":38783,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":0,"creation_date":1527698629,"post_id":50608681,"comment_id":88229207,"body_markdown":"Possible duplicate of [Where to find algorithms for standard math functions?](https://stackoverflow.com/questions/2169641/where-to-find-algorithms-for-standard-math-functions)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2169641/where-to-find-algorithms-for-standard-math-functions\">Where to find algorithms for standard math functions?</a>"}],"answers":[{"comments":[{"owner":{"account_id":5739991,"reputation":3929,"user_id":4532996,"accept_rate":99,"display_name":"cat"},"score":0,"creation_date":1529009577,"post_id":50608972,"comment_id":88733951,"body_markdown":"what are these `Lg1`...`Lg7` constants? they are not `log(1)`...`log(7)`, that is for sure","body":"what are these <code>Lg1</code>...<code>Lg7</code> constants? they are not <code>log(1)</code>...<code>log(7)</code>, that is for sure"},{"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":0,"creation_date":1529012764,"post_id":50608972,"comment_id":88735122,"body_markdown":"Results corresponding to successive invocations of the Reme algorithm for computing logs","body":"Results corresponding to successive invocations of the Reme algorithm for computing logs"}],"tags":[],"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1527695694,"creation_date":1527695694,"answer_id":50608972,"question_id":50608681,"body_markdown":"The definition of Math.log from [openjdk](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Math.java) is:\r\n\r\n    public static double log(double a) {\r\n        return StrictMath.log(a); // default impl. delegates to StrictMath\r\n    }\r\n\r\nThis lead me to look at the source for [StrictMath](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/StrictMath.java), where log is declared as:\r\n\r\n    public static native double log(double a);\r\n\r\nThe native keyword [indicates JNI](https://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for). In other words, it&#39;s off to a libc source to find what we&#39;re looking for. Since I use NetBSD, I&#39;ll post its definition of log:\r\n\r\n    /* __ieee754_log(x)\r\n     * Return the logrithm of x\r\n     *\r\n     * Method :\r\n     *   1. Argument Reduction: find k and f such that\r\n     *\t\t\tx = 2^k * (1+f),\r\n     *\t   where  sqrt(2)/2 &lt; 1+f &lt; sqrt(2) .\r\n     *\r\n     *   2. Approximation of log(1+f).\r\n     *\tLet s = f/(2+f) ; based on log(1+f) = log(1+s) - log(1-s)\r\n     *\t\t = 2s + 2/3 s**3 + 2/5 s**5 + .....,\r\n     *\t     \t = 2s + s*R\r\n     *      We use a special Reme algorithm on [0,0.1716] to generate\r\n     * \ta polynomial of degree 14 to approximate R The maximum error\r\n     *\tof this polynomial approximation is bounded by 2**-58.45. In\r\n     *\tother words,\r\n     *\t\t        2      4      6      8      10      12      14\r\n     *\t    R(z) ~ Lg1*s +Lg2*s +Lg3*s +Lg4*s +Lg5*s  +Lg6*s  +Lg7*s\r\n     *  \t(the values of Lg1 to Lg7 are listed in the program)\r\n     *\tand\r\n     *\t    |      2          14          |     -58.45\r\n     *\t    | Lg1*s +...+Lg7*s    -  R(z) | &lt;= 2\r\n     *\t    |                             |\r\n     *\tNote that 2s = f - s*f = f - hfsq + s*hfsq, where hfsq = f*f/2.\r\n     *\tIn order to guarantee error in log below 1ulp, we compute log\r\n     *\tby\r\n     *\t\tlog(1+f) = f - s*(f - R)\t(if f is not too large)\r\n     *\t\tlog(1+f) = f - (hfsq - s*(hfsq+R)).\t(better accuracy)\r\n     *\r\n     *\t3. Finally,  log(x) = k*ln2 + log(1+f).\r\n     *\t\t\t    = k*ln2_hi+(f-(hfsq-(s*(hfsq+R)+k*ln2_lo)))\r\n     *\t   Here ln2 is split into two floating point number:\r\n     *\t\t\tln2_hi + ln2_lo,\r\n     *\t   where n*ln2_hi is always exact for |n| &lt; 2000.\r\n     *\r\n     * Special cases:\r\n     *\tlog(x) is NaN with signal if x &lt; 0 (including -INF) ;\r\n     *\tlog(+INF) is +INF; log(0) is -INF with signal;\r\n     *\tlog(NaN) is that NaN with no signal.\r\n     *\r\n     * Accuracy:\r\n     *\taccording to an error analysis, the error is always less than\r\n     *\t1 ulp (unit in the last place).\r\n     *\r\n     * Constants:\r\n     * The hexadecimal values are the intended ones for the following\r\n     * constants. The decimal values may be used, provided that the\r\n     * compiler will convert from decimal to binary accurately enough\r\n     * to produce the hexadecimal values shown.\r\n     */\r\n    \r\n    #include &quot;math.h&quot;\r\n    #include &quot;math_private.h&quot;\r\n    \r\n    static const double\r\n    ln2_hi  =  6.93147180369123816490e-01,\t/* 3fe62e42 fee00000 */\r\n    ln2_lo  =  1.90821492927058770002e-10,\t/* 3dea39ef 35793c76 */\r\n    two54   =  1.80143985094819840000e+16,  /* 43500000 00000000 */\r\n    Lg1 = 6.666666666666735130e-01,  /* 3FE55555 55555593 */\r\n    Lg2 = 3.999999999940941908e-01,  /* 3FD99999 9997FA04 */\r\n    Lg3 = 2.857142874366239149e-01,  /* 3FD24924 94229359 */\r\n    Lg4 = 2.222219843214978396e-01,  /* 3FCC71C5 1D8E78AF */\r\n    Lg5 = 1.818357216161805012e-01,  /* 3FC74664 96CB03DE */\r\n    Lg6 = 1.531383769920937332e-01,  /* 3FC39A09 D078C69F */\r\n    Lg7 = 1.479819860511658591e-01;  /* 3FC2F112 DF3E5244 */\r\n    \r\n    static const double zero   =  0.0;\r\n    \r\n    double\r\n    __ieee754_log(double x)\r\n    {\r\n    \tdouble hfsq,f,s,z,R,w,t1,t2,dk;\r\n    \tint32_t k,hx,i,j;\r\n    \tu_int32_t lx;\r\n    \r\n    \tEXTRACT_WORDS(hx,lx,x);\r\n    \r\n    \tk=0;\r\n    \tif (hx &lt; 0x00100000) {\t\t\t/* x &lt; 2**-1022  */\r\n    \t    if (((hx&amp;0x7fffffff)|lx)==0)\r\n    \t\treturn -two54/zero;\t\t/* log(+-0)=-inf */\r\n    \t    if (hx&lt;0) return (x-x)/zero;\t/* log(-#) = NaN */\r\n    \t    k -= 54; x *= two54; /* subnormal number, scale up x */\r\n    \t    GET_HIGH_WORD(hx,x);\r\n    \t}\r\n    \tif (hx &gt;= 0x7ff00000) return x+x;\r\n    \tk += (hx&gt;&gt;20)-1023;\r\n    \thx &amp;= 0x000fffff;\r\n    \ti = (hx+0x95f64)&amp;0x100000;\r\n    \tSET_HIGH_WORD(x,hx|(i^0x3ff00000));\t/* normalize x or x/2 */\r\n    \tk += (i&gt;&gt;20);\r\n    \tf = x-1.0;\r\n    \tif((0x000fffff&amp;(2+hx))&lt;3) {\t/* |f| &lt; 2**-20 */\r\n    \t    if(f==zero) { if(k==0) return zero;  else {dk=(double)k;\r\n    \t\t\t\t   return dk*ln2_hi+dk*ln2_lo;}\r\n    \t    }\r\n    \t    R = f*f*(0.5-0.33333333333333333*f);\r\n    \t    if(k==0) return f-R; else {dk=(double)k;\r\n    \t    \t     return dk*ln2_hi-((R-dk*ln2_lo)-f);}\r\n    \t}\r\n     \ts = f/(2.0+f);\r\n    \tdk = (double)k;\r\n    \tz = s*s;\r\n    \ti = hx-0x6147a;\r\n    \tw = z*z;\r\n    \tj = 0x6b851-hx;\r\n    \tt1= w*(Lg2+w*(Lg4+w*Lg6));\r\n    \tt2= z*(Lg1+w*(Lg3+w*(Lg5+w*Lg7)));\r\n    \ti |= j;\r\n    \tR = t2+t1;\r\n    \tif(i&gt;0) {\r\n    \t    hfsq=0.5*f*f;\r\n    \t    if(k==0) return f-(hfsq-s*(hfsq+R)); else\r\n    \t\t     return dk*ln2_hi-((hfsq-(s*(hfsq+R)+dk*ln2_lo))-f);\r\n    \t} else {\r\n    \t    if(k==0) return f-s*(f-R); else\r\n    \t\t     return dk*ln2_hi-((s*(f-R)-dk*ln2_lo)-f);\r\n    \t}\r\n    }\r\n\r\nIf you need more help, leave a comment and I&#39;ll elaborate.","title":"Algorithm behind Math.log - Java","body":"<p>The definition of Math.log from <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Math.java\" rel=\"noreferrer\">openjdk</a> is:</p>\n\n<pre><code>public static double log(double a) {\n    return StrictMath.log(a); // default impl. delegates to StrictMath\n}\n</code></pre>\n\n<p>This lead me to look at the source for <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/StrictMath.java\" rel=\"noreferrer\">StrictMath</a>, where log is declared as:</p>\n\n<pre><code>public static native double log(double a);\n</code></pre>\n\n<p>The native keyword <a href=\"https://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for\">indicates JNI</a>. In other words, it's off to a libc source to find what we're looking for. Since I use NetBSD, I'll post its definition of log:</p>\n\n<pre><code>/* __ieee754_log(x)\n * Return the logrithm of x\n *\n * Method :\n *   1. Argument Reduction: find k and f such that\n *          x = 2^k * (1+f),\n *     where  sqrt(2)/2 &lt; 1+f &lt; sqrt(2) .\n *\n *   2. Approximation of log(1+f).\n *  Let s = f/(2+f) ; based on log(1+f) = log(1+s) - log(1-s)\n *       = 2s + 2/3 s**3 + 2/5 s**5 + .....,\n *           = 2s + s*R\n *      We use a special Reme algorithm on [0,0.1716] to generate\n *  a polynomial of degree 14 to approximate R The maximum error\n *  of this polynomial approximation is bounded by 2**-58.45. In\n *  other words,\n *              2      4      6      8      10      12      14\n *      R(z) ~ Lg1*s +Lg2*s +Lg3*s +Lg4*s +Lg5*s  +Lg6*s  +Lg7*s\n *      (the values of Lg1 to Lg7 are listed in the program)\n *  and\n *      |      2          14          |     -58.45\n *      | Lg1*s +...+Lg7*s    -  R(z) | &lt;= 2\n *      |                             |\n *  Note that 2s = f - s*f = f - hfsq + s*hfsq, where hfsq = f*f/2.\n *  In order to guarantee error in log below 1ulp, we compute log\n *  by\n *      log(1+f) = f - s*(f - R)    (if f is not too large)\n *      log(1+f) = f - (hfsq - s*(hfsq+R)). (better accuracy)\n *\n *  3. Finally,  log(x) = k*ln2 + log(1+f).\n *              = k*ln2_hi+(f-(hfsq-(s*(hfsq+R)+k*ln2_lo)))\n *     Here ln2 is split into two floating point number:\n *          ln2_hi + ln2_lo,\n *     where n*ln2_hi is always exact for |n| &lt; 2000.\n *\n * Special cases:\n *  log(x) is NaN with signal if x &lt; 0 (including -INF) ;\n *  log(+INF) is +INF; log(0) is -INF with signal;\n *  log(NaN) is that NaN with no signal.\n *\n * Accuracy:\n *  according to an error analysis, the error is always less than\n *  1 ulp (unit in the last place).\n *\n * Constants:\n * The hexadecimal values are the intended ones for the following\n * constants. The decimal values may be used, provided that the\n * compiler will convert from decimal to binary accurately enough\n * to produce the hexadecimal values shown.\n */\n\n#include \"math.h\"\n#include \"math_private.h\"\n\nstatic const double\nln2_hi  =  6.93147180369123816490e-01,  /* 3fe62e42 fee00000 */\nln2_lo  =  1.90821492927058770002e-10,  /* 3dea39ef 35793c76 */\ntwo54   =  1.80143985094819840000e+16,  /* 43500000 00000000 */\nLg1 = 6.666666666666735130e-01,  /* 3FE55555 55555593 */\nLg2 = 3.999999999940941908e-01,  /* 3FD99999 9997FA04 */\nLg3 = 2.857142874366239149e-01,  /* 3FD24924 94229359 */\nLg4 = 2.222219843214978396e-01,  /* 3FCC71C5 1D8E78AF */\nLg5 = 1.818357216161805012e-01,  /* 3FC74664 96CB03DE */\nLg6 = 1.531383769920937332e-01,  /* 3FC39A09 D078C69F */\nLg7 = 1.479819860511658591e-01;  /* 3FC2F112 DF3E5244 */\n\nstatic const double zero   =  0.0;\n\ndouble\n__ieee754_log(double x)\n{\n    double hfsq,f,s,z,R,w,t1,t2,dk;\n    int32_t k,hx,i,j;\n    u_int32_t lx;\n\n    EXTRACT_WORDS(hx,lx,x);\n\n    k=0;\n    if (hx &lt; 0x00100000) {          /* x &lt; 2**-1022  */\n        if (((hx&amp;0x7fffffff)|lx)==0)\n        return -two54/zero;     /* log(+-0)=-inf */\n        if (hx&lt;0) return (x-x)/zero;    /* log(-#) = NaN */\n        k -= 54; x *= two54; /* subnormal number, scale up x */\n        GET_HIGH_WORD(hx,x);\n    }\n    if (hx &gt;= 0x7ff00000) return x+x;\n    k += (hx&gt;&gt;20)-1023;\n    hx &amp;= 0x000fffff;\n    i = (hx+0x95f64)&amp;0x100000;\n    SET_HIGH_WORD(x,hx|(i^0x3ff00000)); /* normalize x or x/2 */\n    k += (i&gt;&gt;20);\n    f = x-1.0;\n    if((0x000fffff&amp;(2+hx))&lt;3) { /* |f| &lt; 2**-20 */\n        if(f==zero) { if(k==0) return zero;  else {dk=(double)k;\n                   return dk*ln2_hi+dk*ln2_lo;}\n        }\n        R = f*f*(0.5-0.33333333333333333*f);\n        if(k==0) return f-R; else {dk=(double)k;\n                 return dk*ln2_hi-((R-dk*ln2_lo)-f);}\n    }\n    s = f/(2.0+f);\n    dk = (double)k;\n    z = s*s;\n    i = hx-0x6147a;\n    w = z*z;\n    j = 0x6b851-hx;\n    t1= w*(Lg2+w*(Lg4+w*Lg6));\n    t2= z*(Lg1+w*(Lg3+w*(Lg5+w*Lg7)));\n    i |= j;\n    R = t2+t1;\n    if(i&gt;0) {\n        hfsq=0.5*f*f;\n        if(k==0) return f-(hfsq-s*(hfsq+R)); else\n             return dk*ln2_hi-((hfsq-(s*(hfsq+R)+dk*ln2_lo))-f);\n    } else {\n        if(k==0) return f-s*(f-R); else\n             return dk*ln2_hi-((s*(f-R)-dk*ln2_lo)-f);\n    }\n}\n</code></pre>\n\n<p>If you need more help, leave a comment and I'll elaborate.</p>\n"},{"comments":[{"owner":{"account_id":9226566,"reputation":117,"user_id":6854192,"display_name":"tzuxi"},"score":0,"creation_date":1527696719,"post_id":50609205,"comment_id":88228193,"body_markdown":"So its all on the native referring to the c# code. Thanks for helping.","body":"So its all on the native referring to the c# code. Thanks for helping."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690211494,"creation_date":1527696532,"answer_id":50609205,"question_id":50608681,"body_markdown":"When in doubt, look at the [source code][1] (working with Java 8).\r\n\r\n    public static double log(double a) {\r\n        return StrictMath.log(a); // default impl. delegates to StrictMath\r\n    }\r\n\r\nYou see it calls a static method from [StrictMath.java][2].\r\n\r\n    static native double log(double a);\r\n\r\nWhat `native` keyword means you can read [here][3]. Basically, it says the method is implemented in another language aside from Java. I have found the folder [`jdk/src/share/native/java/lang/fdlibm/src/`][4] on GitHub with the math functions. The algorithm is implemented in [`e_log.c`][5]. What kind of sorcery happens inside, I don&#39;t know.\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Math.java\r\n  [2]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/StrictMath.java\r\n  [3]: https://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for%C2%A8\r\n  [4]: https://github.com/openjdk-mirror/jdk/tree/jdk8u/jdk8u/master/src/share/native/java/lang/fdlibm/src\r\n  [5]: https://github.com/openjdk-mirror/jdk/blob/jdk8u/jdk8u/master/src/share/native/java/lang/fdlibm/src/e_log.c","title":"Algorithm behind Math.log - Java","body":"<p>When in doubt, look at the <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Math.java\" rel=\"nofollow noreferrer\">source code</a> (working with Java 8).</p>\n<pre><code>public static double log(double a) {\n    return StrictMath.log(a); // default impl. delegates to StrictMath\n}\n</code></pre>\n<p>You see it calls a static method from <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/StrictMath.java\" rel=\"nofollow noreferrer\">StrictMath.java</a>.</p>\n<pre><code>static native double log(double a);\n</code></pre>\n<p>What <code>native</code> keyword means you can read <a href=\"https://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for%C2%A8\">here</a>. Basically, it says the method is implemented in another language aside from Java. I have found the folder <a href=\"https://github.com/openjdk-mirror/jdk/tree/jdk8u/jdk8u/master/src/share/native/java/lang/fdlibm/src\" rel=\"nofollow noreferrer\"><code>jdk/src/share/native/java/lang/fdlibm/src/</code></a> on GitHub with the math functions. The algorithm is implemented in <a href=\"https://github.com/openjdk-mirror/jdk/blob/jdk8u/jdk8u/master/src/share/native/java/lang/fdlibm/src/e_log.c\" rel=\"nofollow noreferrer\"><code>e_log.c</code></a>. What kind of sorcery happens inside, I don't know.</p>\n"},{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576664319,"creation_date":1576664319,"answer_id":59389820,"question_id":50608681,"body_markdown":"The log function (and many other functions such as sin(x)) can be approximated with a **series**:\r\nhttps://en.wikipedia.org/wiki/Natural_logarithm#Series\r\n\r\nIf you need a good enough approximation (but not full precision), you can stop after the first few iterations of the series. That&#39;s how trigonometric functions were approached in early game/demoscene programming.\r\n\r\n**Look-up tables** are a good approach as well, the key here is to find the appropriate **distribution** of the lookup values (linear may not be ideal in this case).","title":"Algorithm behind Math.log - Java","body":"<p>The log function (and many other functions such as sin(x)) can be approximated with a <strong>series</strong>:\n<a href=\"https://en.wikipedia.org/wiki/Natural_logarithm#Series\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Natural_logarithm#Series</a></p>\n\n<p>If you need a good enough approximation (but not full precision), you can stop after the first few iterations of the series. That's how trigonometric functions were approached in early game/demoscene programming.</p>\n\n<p><strong>Look-up tables</strong> are a good approach as well, the key here is to find the appropriate <strong>distribution</strong> of the lookup values (linear may not be ideal in this case).</p>\n"}],"owner":{"account_id":9226566,"reputation":117,"user_id":6854192,"display_name":"tzuxi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2657,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":50609205,"answer_count":3,"score":5,"last_activity_date":1690211494,"creation_date":1527694733,"question_id":50608681,"body_markdown":"Lately I used the `Math.log()` to code some program and now I ask myself how does the method `log()` work. How does the computer calculate the logarithm?\r\nThanks for solution.\r\n\r\n\r\n\r\n","title":"Algorithm behind Math.log - Java","body":"<p>Lately I used the <code>Math.log()</code> to code some program and now I ask myself how does the method <code>log()</code> work. How does the computer calculate the logarithm?\nThanks for solution.</p>\n"},{"tags":["java","datasource","micronaut-data"],"comments":[{"owner":{"account_id":5870080,"reputation":425,"user_id":4622647,"accept_rate":75,"display_name":"AmitB10"},"score":0,"creation_date":1614956299,"post_id":66472191,"comment_id":117551381,"body_markdown":"Not sure about this exception, but there is already a way provided by Micronaut to create a scheduled task. Please have a look at the example below: https://guides.micronaut.io/micronaut-scheduled/guide/index.html","body":"Not sure about this exception, but there is already a way provided by Micronaut to create a scheduled task. Please have a look at the example below: <a href=\"https://guides.micronaut.io/micronaut-scheduled/guide/index.html\" rel=\"nofollow noreferrer\">guides.micronaut.io/micronaut-scheduled/guide/index.html</a>"},{"owner":{"account_id":6776918,"reputation":31,"user_id":5218433,"display_name":"Christian Spiewok"},"score":0,"creation_date":1615049672,"post_id":66472191,"comment_id":117574032,"body_markdown":"@AmitB10 Thanks, for your answer. Yes, I knew about the scheduling options of micronaut and I did read the example already, to which you pointed to. But my needs are far more than the micronaut scheduler can offer: Persistant jobs, rescheduling, starting, stopping, and so on. Probably I go with quartz anyway.","body":"@AmitB10 Thanks, for your answer. Yes, I knew about the scheduling options of micronaut and I did read the example already, to which you pointed to. But my needs are far more than the micronaut scheduler can offer: Persistant jobs, rescheduling, starting, stopping, and so on. Probably I go with quartz anyway."},{"owner":{"account_id":23403,"reputation":623,"user_id":58628,"accept_rate":67,"display_name":"brunch"},"score":0,"creation_date":1628545555,"post_id":66472191,"comment_id":121445308,"body_markdown":"@ChristianSpiewok, did you ever find a solution to this issue?  I am having the same type of issue using another library that runs a background job reading from a database using the EntityManager.","body":"@ChristianSpiewok, did you ever find a solution to this issue?  I am having the same type of issue using another library that runs a background job reading from a database using the EntityManager."},{"owner":{"account_id":376356,"reputation":13776,"user_id":727768,"accept_rate":91,"display_name":"X.Y."},"score":0,"creation_date":1650416270,"post_id":66472191,"comment_id":127108736,"body_markdown":"I run into a same issue with using JobRunnr library, and the exception is also at `connection.getMetaData()`","body":"I run into a same issue with using JobRunnr library, and the exception is also at <code>connection.getMetaData()</code>"}],"answers":[{"tags":[],"owner":{"account_id":376356,"reputation":13776,"user_id":727768,"accept_rate":91,"display_name":"X.Y."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650420444,"creation_date":1650420444,"answer_id":71933329,"question_id":66472191,"body_markdown":"So the problem is that Micronaut Data wraps the `DataSource` into a `TransactionAwareDataSource`, as you mentioned. Your library `db-scheduler` or mine `JobRunr` picks it up, and operates without the required annotations. The solution is to unwrap it before giving it to the `db-scheduler` or `JobRunr`:\r\n\r\nKotlin:\r\n\r\n```kotlin\r\nval unwrappedDataSource = (dataSource as DelegatingDataSource).targetDataSource\r\n```\r\n\r\nJava:\r\n\r\n```java\r\nDataSource unwrappedDataSource = ((DelegatingDataSource) dataSource).targetDataSource\r\n```\r\n\r\n","title":"Micronaut, db-scheduler: No current transaction present. Consider declaring @Transactional on the surrounding method","body":"<p>So the problem is that Micronaut Data wraps the <code>DataSource</code> into a <code>TransactionAwareDataSource</code>, as you mentioned. Your library <code>db-scheduler</code> or mine <code>JobRunr</code> picks it up, and operates without the required annotations. The solution is to unwrap it before giving it to the <code>db-scheduler</code> or <code>JobRunr</code>:</p>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val unwrappedDataSource = (dataSource as DelegatingDataSource).targetDataSource\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DataSource unwrappedDataSource = ((DelegatingDataSource) dataSource).targetDataSource\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2039052,"reputation":16000,"user_id":1820695,"display_name":"andr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690211445,"creation_date":1689014071,"answer_id":76656422,"question_id":66472191,"body_markdown":"This worked better for me than the existing answer. See below for explanation. The example is in Kotlin but it naturally translates to Java.\r\n\r\n**Note:** The example is for Micronaut v3.\r\n\r\n```kotlin\r\n@Factory\r\ninternal class DbSchedulerFactory(\r\n    private val dataSource: DataSource,\r\n) {\r\n\r\n    private val log = LoggerFactory.getLogger(this::class.java)\r\n\r\n    @Singleton\r\n    fun scheduler(): Scheduler {\r\n        return Scheduler.create(configureDataSource(dataSource), tasks)\r\n            .threads(10)\r\n            // ...\r\n            .build()\r\n    }\r\n\r\n    private fun configureDataSource(dataSource: DataSource): DataSource {\r\n        // Is transaction-aware DataSource proxy active? (Note: class is private so we match by name)\r\n        return if (dataSource::class.qualifiedName == &quot;io.micronaut.transaction.jdbc.TransactionAwareDataSource.DataSourceProxy&quot;) {\r\n            log.info(&quot;Adding support for out-of-transaction connection fetching since the data source is a TransactionAwareDataSource&quot;)\r\n            object : DelegatingDataSource(dataSource) {\r\n                override fun getConnection() =\r\n                    if (TransactionSynchronizationManager.isSynchronizationActive()) dataSource.connection\r\n                    else DelegatingDataSource.unwrapDataSource(dataSource).connection\r\n            }\r\n        } else {\r\n            dataSource\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Explanation\r\n\r\nAfter (too) many hours of debugging and searching, I found [this issue](https://github.com/micronaut-projects/micronaut-data/issues/1293) basically stating that: if a) you use Micronaut&#39;s default transaction handling and b) you have a code that will fetch and interact with a `Connection` from a transaction-aware `DataSource`, then you will get the `NoTransactionException` exception unless the interaction with the connection happens within transaction scope (either with `@Transactional` or [programmatic transactions](https://micronaut-projects.github.io/micronaut-data/snapshot/guide/#programmaticTransactions)).\r\n\r\nX.Y.&#39;s solution gets rid of the exception by getting connections straight from the _underlying_ data source (bypassing transaction-aware `DataSource` proxy), which typically will be a connection pool like Hikari. However, in doing so, it doesn&#39;t support db-scheduler participating in Micronaut&#39;s transaction scope.\r\n\r\nThis was a deal breaker for me, since I wanted `scheduler.schedule`, `scheduler.reschedule`, `scheduler.cancel` (and all the other advanced features like custom tasks with `CompletionHandler`s) participate in `@Transaction` scope. At the same time I didn&#39;t want plain db-scheduler code to be concerned with transaction scopes.\r\n\r\nSlapping `@Transactional` or programmatic transactions everywhere isn&#39;t a viable solution as you don&#39;t always control the code interacting with `Connection`s (and this is what db-scheduler does when: building the `Scheduler`, starting it, and during it&#39;s operation).\r\n\r\nPossibly, I could switch to Spring-based transaction handling (described in the Tip at the end of [this section](https://micronaut-projects.github.io/micronaut-data/snapshot/guide/#transactions)) but this would pull a lot of other stuff I didn&#39;t want.\r\n\r\nInstead, I wrote the above: a wrapper around the transaction-aware `DataSource` proxy (yes, wrapper for a wrapper) that:\r\n\r\n1. Returns the connection bound to current transaction scope, if there is one.\r\n2. Returns a connection from the underlying data source, if there isn&#39;t a transaction scope.","title":"Micronaut, db-scheduler: No current transaction present. Consider declaring @Transactional on the surrounding method","body":"<p>This worked better for me than the existing answer. See below for explanation. The example is in Kotlin but it naturally translates to Java.</p>\n<p><strong>Note:</strong> The example is for Micronaut v3.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Factory\ninternal class DbSchedulerFactory(\n    private val dataSource: DataSource,\n) {\n\n    private val log = LoggerFactory.getLogger(this::class.java)\n\n    @Singleton\n    fun scheduler(): Scheduler {\n        return Scheduler.create(configureDataSource(dataSource), tasks)\n            .threads(10)\n            // ...\n            .build()\n    }\n\n    private fun configureDataSource(dataSource: DataSource): DataSource {\n        // Is transaction-aware DataSource proxy active? (Note: class is private so we match by name)\n        return if (dataSource::class.qualifiedName == &quot;io.micronaut.transaction.jdbc.TransactionAwareDataSource.DataSourceProxy&quot;) {\n            log.info(&quot;Adding support for out-of-transaction connection fetching since the data source is a TransactionAwareDataSource&quot;)\n            object : DelegatingDataSource(dataSource) {\n                override fun getConnection() =\n                    if (TransactionSynchronizationManager.isSynchronizationActive()) dataSource.connection\n                    else DelegatingDataSource.unwrapDataSource(dataSource).connection\n            }\n        } else {\n            dataSource\n        }\n    }\n}\n</code></pre>\n<h2>Explanation</h2>\n<p>After (too) many hours of debugging and searching, I found <a href=\"https://github.com/micronaut-projects/micronaut-data/issues/1293\" rel=\"nofollow noreferrer\">this issue</a> basically stating that: if a) you use Micronaut's default transaction handling and b) you have a code that will fetch and interact with a <code>Connection</code> from a transaction-aware <code>DataSource</code>, then you will get the <code>NoTransactionException</code> exception unless the interaction with the connection happens within transaction scope (either with <code>@Transactional</code> or <a href=\"https://micronaut-projects.github.io/micronaut-data/snapshot/guide/#programmaticTransactions\" rel=\"nofollow noreferrer\">programmatic transactions</a>).</p>\n<p>X.Y.'s solution gets rid of the exception by getting connections straight from the <em>underlying</em> data source (bypassing transaction-aware <code>DataSource</code> proxy), which typically will be a connection pool like Hikari. However, in doing so, it doesn't support db-scheduler participating in Micronaut's transaction scope.</p>\n<p>This was a deal breaker for me, since I wanted <code>scheduler.schedule</code>, <code>scheduler.reschedule</code>, <code>scheduler.cancel</code> (and all the other advanced features like custom tasks with <code>CompletionHandler</code>s) participate in <code>@Transaction</code> scope. At the same time I didn't want plain db-scheduler code to be concerned with transaction scopes.</p>\n<p>Slapping <code>@Transactional</code> or programmatic transactions everywhere isn't a viable solution as you don't always control the code interacting with <code>Connection</code>s (and this is what db-scheduler does when: building the <code>Scheduler</code>, starting it, and during it's operation).</p>\n<p>Possibly, I could switch to Spring-based transaction handling (described in the Tip at the end of <a href=\"https://micronaut-projects.github.io/micronaut-data/snapshot/guide/#transactions\" rel=\"nofollow noreferrer\">this section</a>) but this would pull a lot of other stuff I didn't want.</p>\n<p>Instead, I wrote the above: a wrapper around the transaction-aware <code>DataSource</code> proxy (yes, wrapper for a wrapper) that:</p>\n<ol>\n<li>Returns the connection bound to current transaction scope, if there is one.</li>\n<li>Returns a connection from the underlying data source, if there isn't a transaction scope.</li>\n</ol>\n"}],"owner":{"account_id":6776918,"reputation":31,"user_id":5218433,"display_name":"Christian Spiewok"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1690211445,"creation_date":1614850226,"question_id":66472191,"body_markdown":"I&#39;m trying to use db-scheduler with Micronaut. Therefore, I created a @Singleton service where I inject the actual DataSource which is of type TransactionAwareDataSource. I then call a certain method to setup the scheduler which is something like:\r\n\r\n```\r\n  @Transactional\r\n  public void createJob() {\r\n\r\n    RecurringTask&lt;Void&gt; hourlyTask = Tasks.recurring(&quot;my-hourly-task&quot;, FixedDelay.ofHours(1))\r\n        .execute((inst, ctx) -&gt; {\r\n          System.out.println(&quot;Executed!&quot;);\r\n        });\r\n\r\n    final Scheduler scheduler = Scheduler\r\n        .create(dataSource)\r\n        .startTasks(hourlyTask)\r\n        .threads(5)\r\n        .build();\r\n\r\n    scheduler.start();\r\n  }\r\n\r\n```\r\n\r\nwhich, at &quot;create&quot; throws this exception:\r\n\r\n```\r\nio.micronaut.transaction.exceptions.NoTransactionException: No current transaction present. Consider declaring @Transactional on the surrounding method\r\n\tat io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:65)\r\n\tat io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:96)\r\n\tat io.micronaut.transaction.jdbc.TransactionalConnection$Intercepted.getMetaData(Unknown Source)\r\n\tat com.github.kagkarlsson.scheduler.jdbc.AutodetectJdbcCustomization.&lt;init&gt;(AutodetectJdbcCustomization.java:40)\r\n\tat com.github.kagkarlsson.scheduler.SchedulerBuilder.lambda$build$0(SchedulerBuilder.java:190)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n```\r\n\r\nEverywhere else in my app everything is working like it should, means, I can read and write to the DB via the repositories and @Transactional is working as well.\r\n\r\nI&#39;m not 100% sure where the problem is, but I guess it does have to do with placing the annotation. Which - in this case - is nothing I can really change. On the other hand, if I create the datasource manually, effectively bypassing micronaut, it&#39;s working.\r\n\r\nBTW: the exception comes up within db-scheduler where the first call to the DB is made (c.getMetaData().getDatabaseProductName()).\r\n\r\nMicronaut-Version: 2.3.4, Micronaut-Data: 2.2.4, everything setup properly.\r\n\r\nDo you guys have any ideas how to solve this problem? Or is it even a bug?\r\n\r\nThanks!","title":"Micronaut, db-scheduler: No current transaction present. Consider declaring @Transactional on the surrounding method","body":"<p>I'm trying to use db-scheduler with Micronaut. Therefore, I created a @Singleton service where I inject the actual DataSource which is of type TransactionAwareDataSource. I then call a certain method to setup the scheduler which is something like:</p>\n<pre><code>  @Transactional\n  public void createJob() {\n\n    RecurringTask&lt;Void&gt; hourlyTask = Tasks.recurring(&quot;my-hourly-task&quot;, FixedDelay.ofHours(1))\n        .execute((inst, ctx) -&gt; {\n          System.out.println(&quot;Executed!&quot;);\n        });\n\n    final Scheduler scheduler = Scheduler\n        .create(dataSource)\n        .startTasks(hourlyTask)\n        .threads(5)\n        .build();\n\n    scheduler.start();\n  }\n\n</code></pre>\n<p>which, at &quot;create&quot; throws this exception:</p>\n<pre><code>io.micronaut.transaction.exceptions.NoTransactionException: No current transaction present. Consider declaring @Transactional on the surrounding method\n    at io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:65)\n    at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:96)\n    at io.micronaut.transaction.jdbc.TransactionalConnection$Intercepted.getMetaData(Unknown Source)\n    at com.github.kagkarlsson.scheduler.jdbc.AutodetectJdbcCustomization.&lt;init&gt;(AutodetectJdbcCustomization.java:40)\n    at com.github.kagkarlsson.scheduler.SchedulerBuilder.lambda$build$0(SchedulerBuilder.java:190)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n</code></pre>\n<p>Everywhere else in my app everything is working like it should, means, I can read and write to the DB via the repositories and @Transactional is working as well.</p>\n<p>I'm not 100% sure where the problem is, but I guess it does have to do with placing the annotation. Which - in this case - is nothing I can really change. On the other hand, if I create the datasource manually, effectively bypassing micronaut, it's working.</p>\n<p>BTW: the exception comes up within db-scheduler where the first call to the DB is made (c.getMetaData().getDatabaseProductName()).</p>\n<p>Micronaut-Version: 2.3.4, Micronaut-Data: 2.2.4, everything setup properly.</p>\n<p>Do you guys have any ideas how to solve this problem? Or is it even a bug?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1654171448,"post_id":72465369,"comment_id":128030550,"body_markdown":"Incompatible swagger version.","body":"Incompatible swagger version."},{"owner":{"account_id":21083132,"reputation":3240,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1654359524,"post_id":72465369,"comment_id":128074496,"body_markdown":"Does this answer your question? [Springboot 2.6.0 / Spring fox 3 - Failed to start bean &#39;documentationPluginsBootstrapper&#39;](https://stackoverflow.com/questions/70036953/springboot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70036953/springboot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboot\">Springboot 2.6.0 / Spring fox 3 - Failed to start bean &#39;documentationPluginsBootstrapper&#39;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3830354,"reputation":442,"user_id":3176050,"display_name":"fsalazar_sch"},"score":1,"creation_date":1666724780,"post_id":73028263,"comment_id":131003201,"body_markdown":"still have the same problem, this doesn&#39;t work","body":"still have the same problem, this doesn&#39;t work"},{"owner":{"account_id":2729276,"reputation":225,"user_id":2353414,"accept_rate":100,"display_name":"Rajendra Maharjan"},"score":1,"creation_date":1669609021,"post_id":73028263,"comment_id":131672715,"body_markdown":"did anyone find a solution for this? \nI&#39;ve been also facing this, and have been trying altering different versions, yet couldn&#39;t fix the issue.","body":"did anyone find a solution for this?  I&#39;ve been also facing this, and have been trying altering different versions, yet couldn&#39;t fix the issue."},{"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"score":0,"creation_date":1682689624,"post_id":73028263,"comment_id":134259595,"body_markdown":"This solution didn&#39;t work. I&#39;m using spring 2.7.10. springfox 3.0.0","body":"This solution didn&#39;t work. I&#39;m using spring 2.7.10. springfox 3.0.0"},{"owner":{"account_id":2001490,"reputation":1051,"user_id":1792434,"accept_rate":73,"display_name":"komizo"},"score":0,"creation_date":1691582369,"post_id":73028263,"comment_id":135510569,"body_markdown":"This solution worked for me. I have spring 2.7.13","body":"This solution worked for me. I have spring 2.7.13"}],"tags":[],"owner":{"account_id":11084227,"reputation":29,"user_id":8138521,"display_name":"Arya C Achari"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1658176281,"creation_date":1658176205,"answer_id":73028263,"question_id":72465369,"body_markdown":"If you are using the spring-boot version 2.7.x, springfox, and the actuator use this dependency (I don&#39;t know will it work for your case, at the time I&#39;m doing this, version of spring-boot 2.7.1)\r\n\r\n1. In pom.xml    \r\n\r\n        &lt;!-- API documentation. Refer the link http://springfox.github.io/springfox/docs/2.7.0/#introduction --&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n2. Then in the SwaggerConfig configuration class    \r\n\r\n        /* .pathMapping(&quot;/&quot;) can resolve the conflict between actuator and springfox */\r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build()\r\n                .pathMapping(&quot;/&quot;);\r\n        }\r\n\r\n3. Then \r\n\r\nif you&#39;re using the application.properties\r\n\r\n    spring.mvc.pathmatch.matching-strategy= ANT_PATH_MATCHER\r\n\r\nif you&#39;re using the application.yml\r\n\r\n        spring:\r\n          #Use this to befriend spring-boot-starter-actuator &amp; springfox-boot-starter\r\n           mvc:\r\n             pathmatch:\r\n               matching-strategy: ANT_PATH_MATCHER\r\n\r\n\r\n  [1]: http://springfox.github.io/springfox/docs/2.7.0/#introduction","title":"Upgraded Spring Boot to 2.7.0- Failed to start bean &#39;documentationPluginsBootstrapper","body":"<p>If you are using the spring-boot version 2.7.x, springfox, and the actuator use this dependency (I don't know will it work for your case, at the time I'm doing this, version of spring-boot 2.7.1)</p>\n<ol>\n<li><p>In pom.xml</p>\n<pre><code> &lt;!-- API documentation. Refer the link http://springfox.github.io/springfox/docs/2.7.0/#introduction --&gt;\n &lt;dependency&gt;\n     &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n     &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n     &lt;version&gt;2.7.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Then in the SwaggerConfig configuration class</p>\n<pre><code> /* .pathMapping(&quot;/&quot;) can resolve the conflict between actuator and springfox */\n @Bean\n public Docket api() {\n     return new Docket(DocumentationType.SWAGGER_2)\n         .select()\n         .apis(RequestHandlerSelectors.any())\n         .paths(PathSelectors.any())\n         .build()\n         .pathMapping(&quot;/&quot;);\n }\n</code></pre>\n</li>\n<li><p>Then</p>\n</li>\n</ol>\n<p>if you're using the application.properties</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy= ANT_PATH_MATCHER\n</code></pre>\n<p>if you're using the application.yml</p>\n<pre><code>    spring:\n      #Use this to befriend spring-boot-starter-actuator &amp; springfox-boot-starter\n       mvc:\n         pathmatch:\n           matching-strategy: ANT_PATH_MATCHER\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"score":0,"creation_date":1669654560,"post_id":73276718,"comment_id":131686292,"body_markdown":"What is the RCA behind ?","body":"What is the RCA behind ?"},{"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"score":0,"creation_date":1682689578,"post_id":73276718,"comment_id":134259585,"body_markdown":"This solution didn&#39;t work. I&#39;m using spring 2.7.10. springfox 3.0.0","body":"This solution didn&#39;t work. I&#39;m using spring 2.7.10. springfox 3.0.0"},{"owner":{"account_id":553219,"reputation":4323,"user_id":918608,"accept_rate":63,"display_name":"Josh C."},"score":0,"creation_date":1683751977,"post_id":73276718,"comment_id":134416749,"body_markdown":"@MA1 did you figure this out? I&#39;m facing the same issue.","body":"@MA1 did you figure this out? I&#39;m facing the same issue."},{"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"score":0,"creation_date":1683754671,"post_id":73276718,"comment_id":134417146,"body_markdown":"@JoshC. Unfortunately, I have to switch from springFox to springDoc. Based on my research, Springfox is not compatible with spring boot 2.7.10","body":"@JoshC. Unfortunately, I have to switch from springFox to springDoc. Based on my research, Springfox is not compatible with spring boot 2.7.10"},{"owner":{"account_id":9235262,"reputation":780,"user_id":6860091,"accept_rate":100,"display_name":"krund"},"score":0,"creation_date":1698550979,"post_id":73276718,"comment_id":136419104,"body_markdown":"Worked for me. Spring Boot 2.7.17, springfox-boot-starter:3.0.0 without any extra configuration. Also, I had to remove spring-boot-starter-actuator","body":"Worked for me. Spring Boot 2.7.17, springfox-boot-starter:3.0.0 without any extra configuration. Also, I had to remove spring-boot-starter-actuator"}],"tags":[],"owner":{"account_id":24781193,"reputation":71,"user_id":18664620,"display_name":"meher"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659955901,"creation_date":1659955901,"answer_id":73276718,"question_id":72465369,"body_markdown":"In the application.properties\r\n\r\n    spring.mvc.pathmatch.matching-strategy= ANT_PATH_MATCHER","title":"Upgraded Spring Boot to 2.7.0- Failed to start bean &#39;documentationPluginsBootstrapper","body":"<p>In the application.properties</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy= ANT_PATH_MATCHER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669814301,"creation_date":1669803296,"answer_id":74626044,"question_id":72465369,"body_markdown":"Add this bean to your swagger configuration \r\n```\r\n@Bean\r\n    public WebMvcRequestHandlerProvider webMvcRequestHandlerProvider(Optional&lt;ServletContext&gt; servletContext, HandlerMethodResolver methodResolver, List&lt;RequestMappingInfoHandlerMapping&gt; handlerMappings) {\r\n        handlerMappings = handlerMappings.stream().filter(rh -&gt; rh.getClass().getName().contains(&quot;RequestMapping&quot;)).toList();\r\n        return new WebMvcRequestHandlerProvider(servletContext, methodResolver, handlerMappings);\r\n    }\r\n```\r\nand make sure you used **DocumentationType.OAS_30** in your config\r\n\r\nalso, add this in your proerties file: \r\n```\r\nspring.mvc.pathmatch.matching-strategy= ANT_PATH_MATCHER\r\n```\r\nthis worked for me, BUT now I can access only the endpoints directly, and not the swagger page\r\n","title":"Upgraded Spring Boot to 2.7.0- Failed to start bean &#39;documentationPluginsBootstrapper","body":"<p>Add this bean to your swagger configuration</p>\n<pre><code>@Bean\n    public WebMvcRequestHandlerProvider webMvcRequestHandlerProvider(Optional&lt;ServletContext&gt; servletContext, HandlerMethodResolver methodResolver, List&lt;RequestMappingInfoHandlerMapping&gt; handlerMappings) {\n        handlerMappings = handlerMappings.stream().filter(rh -&gt; rh.getClass().getName().contains(&quot;RequestMapping&quot;)).toList();\n        return new WebMvcRequestHandlerProvider(servletContext, methodResolver, handlerMappings);\n    }\n</code></pre>\n<p>and make sure you used <strong>DocumentationType.OAS_30</strong> in your config</p>\n<p>also, add this in your proerties file:</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy= ANT_PATH_MATCHER\n</code></pre>\n<p>this worked for me, BUT now I can access only the endpoints directly, and not the swagger page</p>\n"},{"tags":[],"owner":{"account_id":29081463,"reputation":1,"user_id":22277386,"display_name":"Fullstack Hamster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690211396,"creation_date":1690211396,"answer_id":76755803,"question_id":72465369,"body_markdown":"After several hours of search:\r\n \r\n`java -version` \r\n\r\nis also important. I have **JDK 11**.smth, so I had to downgrade **Spring** to **2.5.3** - even 2.6.0 gave the same issue. Now it works with both Swagger 2 and OAS3. \r\n\r\n17-th java is ok with suggestions above.","title":"Upgraded Spring Boot to 2.7.0- Failed to start bean &#39;documentationPluginsBootstrapper","body":"<p>After several hours of search:</p>\n<p><code>java -version</code></p>\n<p>is also important. I have <strong>JDK 11</strong>.smth, so I had to downgrade <strong>Spring</strong> to <strong>2.5.3</strong> - even 2.6.0 gave the same issue. Now it works with both Swagger 2 and OAS3.</p>\n<p>17-th java is ok with suggestions above.</p>\n"}],"owner":{"account_id":25448373,"reputation":81,"user_id":19250219,"display_name":"Dibya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21111,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1690211396,"creation_date":1654101607,"question_id":72465369,"body_markdown":"Upgrading Springboot version- 2.7.0 ext { springBootVersion = &#39;2.7.0&#39; wsdl2javaVersion=&#39;0.10&#39; cxfVersion=&#39;3.4.3&#39; }\r\n\r\nCloud Version: ext { set(&#39;springCloudVersion&#39;, &#39;2021.0.3&#39;) }\r\n\r\nSpringfox: //swagger compile &quot;io.springfox:springfox-swagger2:2.9.2&quot; compile &quot;io.springfox:springfox-swagger-ui:2.9.2&quot;\r\n\r\nGetting Error: org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerExceptionclass\r\n\r\nAny lead is really appreciate to fix this issue.","title":"Upgraded Spring Boot to 2.7.0- Failed to start bean &#39;documentationPluginsBootstrapper","body":"<p>Upgrading Springboot version- 2.7.0 ext { springBootVersion = '2.7.0' wsdl2javaVersion='0.10' cxfVersion='3.4.3' }</p>\n<p>Cloud Version: ext { set('springCloudVersion', '2021.0.3') }</p>\n<p>Springfox: //swagger compile &quot;io.springfox:springfox-swagger2:2.9.2&quot; compile &quot;io.springfox:springfox-swagger-ui:2.9.2&quot;</p>\n<p>Getting Error: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerExceptionclass</p>\n<p>Any lead is really appreciate to fix this issue.</p>\n"},{"tags":["java","email","jboss","smtp","email-client"],"answers":[{"tags":[],"owner":{"account_id":1078493,"reputation":8375,"user_id":1076171,"display_name":"The Nail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327535258,"creation_date":1327535258,"answer_id":9012143,"question_id":9012114,"body_markdown":"Use the JavaMail API to create an e-mail client:\r\n\r\nhttp://www.oracle.com/technetwork/java/javamail/index.html\r\n\r\nIf you don&#39;t have an SMTP server, you could install Postfix:\r\n\r\nhttp://www.postfix.org/\r\n\r\n","title":"Email to be sent from the application","body":"<p>Use the JavaMail API to create an e-mail client:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javamail/index.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javamail/index.html</a></p>\n\n<p>If you don't have an SMTP server, you could install Postfix:</p>\n\n<p><a href=\"http://www.postfix.org/\" rel=\"nofollow\">http://www.postfix.org/</a></p>\n"},{"tags":[],"owner":{"account_id":1167224,"reputation":2444,"user_id":1145216,"accept_rate":78,"display_name":"user1145216"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690182819,"creation_date":1327539631,"answer_id":9012708,"question_id":9012114,"body_markdown":"1.) As already stated, the Javamail API is the way to go: \r\nhttp://www.oracle.com/technetwork/java/javamail/index.html\r\n\r\n2.) I further would recommend a wrapper around the Java Mail API that really simplifies constructing your emails (The Mail API is very hard to work with constructing HTML/Text Emails). I would highly recommend this:\r\nhttp://commons.apache.org/email/\r\n\r\n3.) As Mail Transfer Agent I would not recommend a Java one but rather use a dedicated SMTP Server, like the mentioned postfix. With Javamail the SMTP Server can be any arbitrary server, hosted on your own.\r\n\r\nOr use services like google mail and you simply connect to them via the java mail API. There are no good Java SMTP Servers available and postifx has plenty of options (also in regard to security) but in my opinion, it is best to use existing infrastructure.\r\n\r\nWith Java Mail you can use your current email provider (or the company email server you might most likely have already). Your admins only have to create a new email address and account and then you can send mails over this account with java mail api. \r\n\r\n\r\n\r\n","title":"Email to be sent from the application","body":"<p>1.) As already stated, the Javamail API is the way to go:\n<a href=\"http://www.oracle.com/technetwork/java/javamail/index.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javamail/index.html</a></p>\n<p>2.) I further would recommend a wrapper around the Java Mail API that really simplifies constructing your emails (The Mail API is very hard to work with constructing HTML/Text Emails). I would highly recommend this:\n<a href=\"http://commons.apache.org/email/\" rel=\"nofollow noreferrer\">http://commons.apache.org/email/</a></p>\n<p>3.) As Mail Transfer Agent I would not recommend a Java one but rather use a dedicated SMTP Server, like the mentioned postfix. With Javamail the SMTP Server can be any arbitrary server, hosted on your own.</p>\n<p>Or use services like google mail and you simply connect to them via the java mail API. There are no good Java SMTP Servers available and postifx has plenty of options (also in regard to security) but in my opinion, it is best to use existing infrastructure.</p>\n<p>With Java Mail you can use your current email provider (or the company email server you might most likely have already). Your admins only have to create a new email address and account and then you can send mails over this account with java mail api.</p>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9012708,"answer_count":2,"score":0,"last_activity_date":1690211337,"creation_date":1327535037,"question_id":9012114,"body_markdown":"I have a scenario wherein When there is any match(can be considered to a trigger), an email notification has to be sent from the application to the customer. Basically &#39;from&#39; id would be the same and &#39;to&#39; changes. \r\n\r\nWhat are the various email sending options available? I&#39;m working in Java/JBOSS server. Should I host an SMTP server? Or a cron job which runs and in turn sends emails... either way I need to find out a method to send email. I&#39;m new to this tech. Any inputs appreciated. Thanks.","title":"Email to be sent from the application","body":"<p>I have a scenario wherein When there is any match(can be considered to a trigger), an email notification has to be sent from the application to the customer. Basically 'from' id would be the same and 'to' changes.</p>\n<p>What are the various email sending options available? I'm working in Java/JBOSS server. Should I host an SMTP server? Or a cron job which runs and in turn sends emails... either way I need to find out a method to send email. I'm new to this tech. Any inputs appreciated. Thanks.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":11241181,"reputation":143,"user_id":9670502,"display_name":"Ihor Horovyi"},"score":0,"creation_date":1690210475,"post_id":76755611,"comment_id":135318003,"body_markdown":"The javax.validation constraints are mainly used to validate data at runtime when you perform operations in your Spring Boot application. For example, when you use a validator or during the data binding process in Spring, these constraints will be checked to ensure data integrity.\n\nTo enable DDL generation and display database constraints in the schema, you can set the following property in the application.properties file: `spring.jpa.properties.hibernate.hbm2ddl.auto=validate`","body":"The javax.validation constraints are mainly used to validate data at runtime when you perform operations in your Spring Boot application. For example, when you use a validator or during the data binding process in Spring, these constraints will be checked to ensure data integrity.  To enable DDL generation and display database constraints in the schema, you can set the following property in the application.properties file: <code>spring.jpa.properties.hibernate.hbm2ddl.auto=validate</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690210775,"post_id":76755611,"comment_id":135318104,"body_markdown":"Because by default they don&#39;t have an impact (afaik). You need to set the `hibernate.validator.apply_to_ddl` to `true`. In this case `spring.jpa.properties.hibernate.validator.apply_to_ddl=true` to your `application.properties` should enable it. That being said it might only work for some common available annotations and not all. Next to that remove the `javax.validation-api` and `hibernate-validator` dependency and use `spring-boot-starter-validation` instead, to get compatible versions.","body":"Because by default they don&#39;t have an impact (afaik). You need to set the <code>hibernate.validator.apply_to_ddl</code> to <code>true</code>. In this case <code>spring.jpa.properties.hibernate.validator.apply_to_ddl=true</code> to your <code>application.properties</code> should enable it. That being said it might only work for some common available annotations and not all. Next to that remove the <code>javax.validation-api</code> and <code>hibernate-validator</code> dependency and use <code>spring-boot-starter-validation</code> instead, to get compatible versions."}],"answers":[{"comments":[{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1690211980,"post_id":76755787,"comment_id":135318376,"body_markdown":"I&#39;d like to prevent having to duplicate any constraints that could be shared between Hibernate and JPA","body":"I&#39;d like to prevent having to duplicate any constraints that could be shared between Hibernate and JPA"}],"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690211247,"creation_date":1690211247,"answer_id":76755787,"question_id":76755611,"body_markdown":"To add the constraints you could always define them in the @Column annotation\r\n\r\n    @Column(length = 10, nullable = false)\r\n    public String text;","title":"Why are javax.validation.constraints specified on Java Entity field not being mapped to database schema by Hibernate?","body":"<p>To add the constraints you could always define them in the @Column annotation</p>\n<pre><code>@Column(length = 10, nullable = false)\npublic String text;\n</code></pre>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690211247,"creation_date":1690210080,"question_id":76755611,"body_markdown":"When the SpringBoot application starts, I&#39;d like Hibernate to automatically create the database schema, which works fine. \r\n\r\nBut I&#39;m not seeing `javax.validation.constraints` have any effect on generated schema.\r\n\r\nI have the following Gradle build file:\r\n\r\n```\r\nplugins {\r\n    id(&quot;java&quot;)\r\n    id(&quot;war&quot;)\r\n    id(&quot;org.springframework.boot&quot;) version &quot;2.7.11&quot;\r\n}\r\n\r\ngroup = &quot;org.example&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation (&quot;org.springframework.boot:spring-boot-starter-data-jpa:2.7.11&quot;)\r\n\r\n    implementation(&quot;org.postgresql:postgresql:42.6.0&quot;)\r\n\r\n    implementation(&quot;javax.xml.bind:jaxb-api:2.3.0&quot;)\r\n\r\n    implementation(&quot;javax.validation:validation-api:2.0.1.Final&quot;)\r\n\r\n    implementation(&quot;org.hibernate.validator:hibernate-validator:6.0.1.Final&quot;)\r\n}\r\n```\r\n\r\nand the following Java Entity class:\r\n\r\n```java\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Size;\r\n\r\n@Entity\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Size(max = 10)\r\n    @NotNull\r\n    public String text;\r\n}\r\n```\r\n\r\nWhy is it that when I connect to my database I don&#39;t see any constraints specified for the `text` field inside `Person`?\r\n\r\nShouldn&#39;t there be another &#39;not null&#39; constraint and also a `length` constraint on the `text` column?\r\n\r\n[![List of database constraints][1]][1]\r\n\r\n`application.properties`:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\r\n\r\nspring.jpa.hibernate.ddl-auto=create\r\n\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y1I29.png","title":"Why are javax.validation.constraints specified on Java Entity field not being mapped to database schema by Hibernate?","body":"<p>When the SpringBoot application starts, I'd like Hibernate to automatically create the database schema, which works fine.</p>\n<p>But I'm not seeing <code>javax.validation.constraints</code> have any effect on generated schema.</p>\n<p>I have the following Gradle build file:</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n    id(&quot;war&quot;)\n    id(&quot;org.springframework.boot&quot;) version &quot;2.7.11&quot;\n}\n\ngroup = &quot;org.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation (&quot;org.springframework.boot:spring-boot-starter-data-jpa:2.7.11&quot;)\n\n    implementation(&quot;org.postgresql:postgresql:42.6.0&quot;)\n\n    implementation(&quot;javax.xml.bind:jaxb-api:2.3.0&quot;)\n\n    implementation(&quot;javax.validation:validation-api:2.0.1.Final&quot;)\n\n    implementation(&quot;org.hibernate.validator:hibernate-validator:6.0.1.Final&quot;)\n}\n</code></pre>\n<p>and the following Java Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.*;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\n\n@Entity\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Size(max = 10)\n    @NotNull\n    public String text;\n}\n</code></pre>\n<p>Why is it that when I connect to my database I don't see any constraints specified for the <code>text</code> field inside <code>Person</code>?</p>\n<p>Shouldn't there be another 'not null' constraint and also a <code>length</code> constraint on the <code>text</code> column?</p>\n<p><a href=\"https://i.stack.imgur.com/y1I29.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y1I29.png\" alt=\"List of database constraints\" /></a></p>\n<p><code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\n\nspring.jpa.hibernate.ddl-auto=create\n\nspring.datasource.username=postgres\nspring.datasource.password=password\n</code></pre>\n"},{"tags":["java","spring","spring-boot","microservices","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":14759161,"reputation":31,"user_id":10659018,"display_name":"user10659018"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690210856,"creation_date":1690209138,"answer_id":76755483,"question_id":76749340,"body_markdown":"I found that I made a stupid mistake. In my eureka client application properties file I added a space after application name value, especially that parameter spring.application.name. So instead of that &quot;spring.application.name=accounts&quot; I wrote &quot;spring.application.name=accounts &quot;. \r\nWhen I looked my eureka client log and saw a message like:\r\n\r\n    DiscoveryClient_ACCOUNTS/DESKTOP-PB1AV09.mshome.net:accounts :8071: registering service...\r\n\r\n \r\nI paid attention and I noticed that there is a space between application name and port. So in my eureka client application properties file, when I removed the space from my application name value, now I got in my eureka log:\r\n\r\n    DiscoveryClient_ACCOUNTS/DESKTOP-PB1AV09.mshome.net:accounts:8071: registering service...\r\n\r\nIt&#39;s work fine after that. Blame on me, and sorry for that. ","title":"eureka client not registering with eureka server in spring boot 3","body":"<p>I found that I made a stupid mistake. In my eureka client application properties file I added a space after application name value, especially that parameter spring.application.name. So instead of that &quot;spring.application.name=accounts&quot; I wrote &quot;spring.application.name=accounts &quot;.\nWhen I looked my eureka client log and saw a message like:</p>\n<pre><code>DiscoveryClient_ACCOUNTS/DESKTOP-PB1AV09.mshome.net:accounts :8071: registering service...\n</code></pre>\n<p>I paid attention and I noticed that there is a space between application name and port. So in my eureka client application properties file, when I removed the space from my application name value, now I got in my eureka log:</p>\n<pre><code>DiscoveryClient_ACCOUNTS/DESKTOP-PB1AV09.mshome.net:accounts:8071: registering service...\n</code></pre>\n<p>It's work fine after that. Blame on me, and sorry for that.</p>\n"}],"owner":{"account_id":14759161,"reputation":31,"user_id":10659018,"display_name":"user10659018"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690210856,"creation_date":1690130704,"question_id":76749340,"body_markdown":"I used spring boot 3.0.1 with spring cloud 2022.0.0 to implement eureka server and eureka client. Both running successfully but my eureka cient not registered with eureka server. I got error like :\r\n\r\n    com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server Caused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Root name (&#39;timestamp&#39;) does not match expected (&#39;instance&#39;) for type `com.netflix.appinfo.InstanceInfo`\r\n\r\nHere below my eureka server pom.xml dependencies\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt; \r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.eazybytes&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;eurekaserver&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt; \r\n\t&lt;name&gt;eurekaserver&lt;/name&gt;\r\n\t&lt;description&gt;Service discovery for Bank microservices&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt; \r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;name&gt;eazybytes/${project.artifactId}&lt;/name&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nHere below my eureka application.properties code\r\n\r\n    server.port=8761\r\n    spring.application.name=eurekaserver\r\n    eureka.instance.hostname=localhost\r\n    eureka.client.registerWithEureka=false\r\n    eureka.client.fetchRegistry=false\r\n    eureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:${server.port}/eureka/\r\n\r\nHere below my eureka main class\r\n\r\n    package com.eazybytes.eurekaserver;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class EurekaserverApplication {\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(EurekaserverApplication.class, args);\r\n\t    }\r\n    }\r\n\r\nHere below my client pom.xml dependencies\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.eaztbytes&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;accounts&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\r\n\t&lt;name&gt;accounts&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt; \r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t        &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n  \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;configuration&gt;\r\n\t\t\t    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n\t\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t &lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\nHere below my eureka client application.properties code\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb;\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=sa\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    server.port=8071\r\n\r\n    spring.application.name=accounts \r\n    spring.profiles.active=prod\r\n    spring.config.import=optional:configserver:http://localhost:8072\r\n\r\n    management.endpoints.web.exposure.include=*\r\n\r\n    eureka.instance.hostname=localhost\r\n    eureka.instance.preferIpAddress=true\r\n    eureka.client.registerWithEureka=true\r\n    eureka.client.fetchRegistry=true\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\n    info.app.name=Accounts-Microservice\r\n    info.app.description=Eazy-Bank-Accounts-Application\r\n    info.app.version=1.0.0\r\n    management.info.env.enabled = true\r\n    endpoints.shutdown.enabled=true\r\n    management.endpoint.shutdown.enabled=true\r\nLastly my eureka main class\r\n\r\n    package com.eaztbytes.accounts;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.cloud.client.discovery.EnableDiscoveryClient;\r\n    import org.springframework.cloud.context.config.annotation.RefreshScope;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.ComponentScans;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n    @ComponentScan(basePackages = &quot;com.eaztbytes.accounts&quot;)\r\n    @SpringBootApplication\r\n    @EnableDiscoveryClient\r\n    @RefreshScope\r\n    @EntityScan(&quot;com.eaztbytes.accounts.*&quot;)\r\n    @EnableJpaRepositories(&quot;com.eaztbytes.accounts.repository&quot;)\r\n    public class AccountsApplication {\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(AccountsApplication.class, args);\r\n\t    }\r\n    }\r\nI spent maybe 3 days without success. I really need help. Thank&#39;s in advance.\r\n","title":"eureka client not registering with eureka server in spring boot 3","body":"<p>I used spring boot 3.0.1 with spring cloud 2022.0.0 to implement eureka server and eureka client. Both running successfully but my eureka cient not registered with eureka server. I got error like :</p>\n<pre><code>com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server Caused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Root name ('timestamp') does not match expected ('instance') for type `com.netflix.appinfo.InstanceInfo`\n</code></pre>\n<p>Here below my eureka server pom.xml dependencies</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt; \n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;groupId&gt;com.eazybytes&lt;/groupId&gt;\n&lt;artifactId&gt;eurekaserver&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt; \n&lt;name&gt;eurekaserver&lt;/name&gt;\n&lt;description&gt;Service discovery for Bank microservices&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt; \n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;image&gt;\n                    &lt;name&gt;eazybytes/${project.artifactId}&lt;/name&gt;\n                &lt;/image&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here below my eureka application.properties code</p>\n<pre><code>server.port=8761\nspring.application.name=eurekaserver\neureka.instance.hostname=localhost\neureka.client.registerWithEureka=false\neureka.client.fetchRegistry=false\neureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:${server.port}/eureka/\n</code></pre>\n<p>Here below my eureka main class</p>\n<pre><code>package com.eazybytes.eurekaserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\n\n@SpringBootApplication\n@EnableEurekaServer\npublic class EurekaserverApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaserverApplication.class, args);\n    }\n}\n</code></pre>\n<p>Here below my client pom.xml dependencies</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;groupId&gt;com.eaztbytes&lt;/groupId&gt;\n&lt;artifactId&gt;accounts&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n&lt;name&gt;accounts&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt; \n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt; \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n          &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    \n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                 &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        \n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here below my eureka client application.properties code</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=sa\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nserver.port=8071\n\nspring.application.name=accounts \nspring.profiles.active=prod\nspring.config.import=optional:configserver:http://localhost:8072\n\nmanagement.endpoints.web.exposure.include=*\n\neureka.instance.hostname=localhost\neureka.instance.preferIpAddress=true\neureka.client.registerWithEureka=true\neureka.client.fetchRegistry=true\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\ninfo.app.name=Accounts-Microservice\ninfo.app.description=Eazy-Bank-Accounts-Application\ninfo.app.version=1.0.0\nmanagement.info.env.enabled = true\nendpoints.shutdown.enabled=true\nmanagement.endpoint.shutdown.enabled=true\n</code></pre>\n<p>Lastly my eureka main class</p>\n<pre><code>package com.eaztbytes.accounts;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.ComponentScans;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@ComponentScan(basePackages = &quot;com.eaztbytes.accounts&quot;)\n@SpringBootApplication\n@EnableDiscoveryClient\n@RefreshScope\n@EntityScan(&quot;com.eaztbytes.accounts.*&quot;)\n@EnableJpaRepositories(&quot;com.eaztbytes.accounts.repository&quot;)\npublic class AccountsApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(AccountsApplication.class, args);\n    }\n}\n</code></pre>\n<p>I spent maybe 3 days without success. I really need help. Thank's in advance.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"score":0,"creation_date":1689619102,"post_id":76707161,"comment_id":135236336,"body_markdown":"I had to add a import java.util.Scanner then I get these errors: C:\\Users\\nhicks\\Desktop\\Mini-Project #2_NHicks_EN.605.201.81&gt;javac Blackjack.java\nPicked up JAVA_TOOL_OPTIONS: -Djava.vendor=&quot;Sun Microsystems Inc.&quot;\nBlackjack.java:932: error: illegal start of type\nimport java.util.Scanner;\n^\nBlackjack.java:932: error: &lt;identifier&gt; expected\nimport java.util.Scanner;\n                        ^\n2 errors","body":"I had to add a import java.util.Scanner then I get these errors: C:\\Users\\nhicks\\Desktop\\Mini-Project #2_NHicks_EN.605.201.81&gt;javac Blackjack.java Picked up JAVA_TOOL_OPTIONS: -Djava.vendor=&quot;Sun Microsystems Inc.&quot; Blackjack.java:932: error: illegal start of type import java.util.Scanner; ^ Blackjack.java:932: error: &lt;identifier&gt; expected import java.util.Scanner;                         ^ 2 errors"},{"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"score":0,"creation_date":1689619533,"post_id":76707161,"comment_id":135236406,"body_markdown":":938: error: cannot find symbol\n        userInput = inputScanner.nextLine();\n 939: error: cannot find symbol\n        System.out.println(userInput);\n:940: error: cannot find symbol\n        if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) {\n940: error: cannot find symbol\n        if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) {\n  942: error: cannot find symbol\n        } else if (userInput.equalsIgnoreCase(&quot;n&quot;) || userInput.equalsIgnoreCase(&quot;no&quot;)) {","body":":938: error: cannot find symbol         userInput = inputScanner.nextLine();  939: error: cannot find symbol         System.out.println(userInput); :940: error: cannot find symbol         if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) { 940: error: cannot find symbol         if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) {   942: error: cannot find symbol         } else if (userInput.equalsIgnoreCase(&quot;n&quot;) || userInput.equalsIgnoreCase(&quot;no&quot;)) {"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689632293,"post_id":76707161,"comment_id":135238471,"body_markdown":"@Nicole, make sure the _import_ statements are at the top of the file, and not in the middle.","body":"@Nicole, make sure the <i>import</i> statements are at the top of the file, and not in the middle."},{"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"score":0,"creation_date":1689707298,"post_id":76707161,"comment_id":135251001,"body_markdown":"935 error: cannot find symbol\n        userInput = inputScanner.nextLine();\n935 error: cannot find symbol\n        userInput = inputScanner.nextLine();\n936 error: cannot find symbol\n        System.out.println(userInput);\n937 error: cannot find symbol\n        if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) {\n937 error: cannot find symbol\n        if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) {\n939 error: cannot find symbol\n        } else if (userInput.equalsIgnoreCase(&quot;n&quot;) || userInput.equalsIgnoreCase(&quot;no&quot;)) {","body":"935 error: cannot find symbol         userInput = inputScanner.nextLine(); 935 error: cannot find symbol         userInput = inputScanner.nextLine(); 936 error: cannot find symbol         System.out.println(userInput); 937 error: cannot find symbol         if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) { 937 error: cannot find symbol         if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) { 939 error: cannot find symbol         } else if (userInput.equalsIgnoreCase(&quot;n&quot;) || userInput.equalsIgnoreCase(&quot;no&quot;)) {"},{"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"score":0,"creation_date":1689707317,"post_id":76707161,"comment_id":135251005,"body_markdown":"What do I need to do to fix these errors?","body":"What do I need to do to fix these errors?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689708656,"post_id":76707161,"comment_id":135251236,"body_markdown":"It looks like it can&#39;t locate the _userInput_ variable.  Is it still within the code?  I only provided the _main_ method.","body":"It looks like it can&#39;t locate the <i>userInput</i> variable.  Is it still within the code?  I only provided the <i>main</i> method."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689618225,"creation_date":1689618225,"answer_id":76707161,"question_id":76705454,"body_markdown":"&gt; _&quot;... I want it to be more specific and make them choose either a Y or a N and any other value will tell them that they need to answer with a Y or a N.&quot;_\r\n\r\nUse a _[Boolean](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Boolean.html)_ value to determine whether the loop should be exited or not.  \r\nAnd, set it&#39;s value from within the loop.\r\n\r\nUse the _Boolean_ object, also, as opposed to a _boolean_ primitive.  \r\nThis way, you can use a _null_ value for invalid entries.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Boolean exit = null;\r\n    do {\r\n        System.out.print(&quot;Do you want to play again ([Y] / n)?&quot;);\r\n        userInput = inputScanner.nextLine();\r\n        System.out.println(userInput);\r\n        if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            exit = false;\r\n        } else if (userInput.equalsIgnoreCase(&quot;n&quot;) || userInput.equalsIgnoreCase(&quot;no&quot;)) {\r\n            exit = true;\r\n        } else {\r\n            exit = null;\r\n            System.out.println(&quot;Invalid entry, try again.&quot;);\r\n        }\r\n    } while (exit == null || !exit);\r\n    //     System.out.println(&quot;Thanks for playing!&quot;);\r\n}\r\n```\r\n\r\nHere is an example input and output.\r\n\r\n```none\r\nDo you want to play again ([Y] / n)?abc\r\nabc\r\nInvalid entry, try again.\r\nDo you want to play again ([Y] / n)?y\r\ny\r\nDo you want to play again ([Y] / n)?n\r\nn\r\n```","title":"If player answers Y, game gets played again but if no or anything else it ends or provides an error message","body":"<blockquote>\n<p><em>&quot;... I want it to be more specific and make them choose either a Y or a N and any other value will tell them that they need to answer with a Y or a N.&quot;</em></p>\n</blockquote>\n<p>Use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Boolean.html\" rel=\"nofollow noreferrer\">Boolean</a></em> value to determine whether the loop should be exited or not.<br />\nAnd, set it's value from within the loop.</p>\n<p>Use the <em>Boolean</em> object, also, as opposed to a <em>boolean</em> primitive.<br />\nThis way, you can use a <em>null</em> value for invalid entries.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Boolean exit = null;\n    do {\n        System.out.print(&quot;Do you want to play again ([Y] / n)?&quot;);\n        userInput = inputScanner.nextLine();\n        System.out.println(userInput);\n        if (userInput.equalsIgnoreCase(&quot;y&quot;) || userInput.equalsIgnoreCase(&quot;yes&quot;)) {\n            exit = false;\n        } else if (userInput.equalsIgnoreCase(&quot;n&quot;) || userInput.equalsIgnoreCase(&quot;no&quot;)) {\n            exit = true;\n        } else {\n            exit = null;\n            System.out.println(&quot;Invalid entry, try again.&quot;);\n        }\n    } while (exit == null || !exit);\n    //     System.out.println(&quot;Thanks for playing!&quot;);\n}\n</code></pre>\n<p>Here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Do you want to play again ([Y] / n)?abc\nabc\nInvalid entry, try again.\nDo you want to play again ([Y] / n)?y\ny\nDo you want to play again ([Y] / n)?n\nn\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"score":0,"creation_date":1689619884,"post_id":76707291,"comment_id":135236479,"body_markdown":"933: error: illegal start of type\n  import java.util.Scanner;\n  ^\n933: error: &lt;identifier&gt; expected\n  import java.util.Scanner;\n                          ^\nBlackjack.java:936: error: illegal start of expression\npublic class Play {\n^\n962: error: : expected\n        case &quot;y&quot;, &quot;yes&quot;: /*   code/method to restart the game   */ break;\n                ^\nBlackjack.java:963: error: : expected\n        case &quot;n&quot;, &quot;no&quot;: System.out.println(&quot;Thank you for playing!&quot;); System.exit(1); break; //System.exit(1) exits the program with exit code 1\n                ^","body":"933: error: illegal start of type   import java.util.Scanner;   ^ 933: error: &lt;identifier&gt; expected   import java.util.Scanner;                           ^ Blackjack.java:936: error: illegal start of expression public class Play { ^ 962: error: : expected         case &quot;y&quot;, &quot;yes&quot;: /*   code/method to restart the game   */ break;                 ^ Blackjack.java:963: error: : expected         case &quot;n&quot;, &quot;no&quot;: System.out.println(&quot;Thank you for playing!&quot;); System.exit(1); break; //System.exit(1) exits the program with exit code 1                 ^"},{"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"score":0,"creation_date":1689619899,"post_id":76707291,"comment_id":135236482,"body_markdown":"I got these errors, am I doing something wrong?","body":"I got these errors, am I doing something wrong?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1689620371,"post_id":76707291,"comment_id":135236584,"body_markdown":"Check [this answer](https://stackoverflow.com/a/37279307/21252090t), and [this](https://rollbar.com/blog/how-to-fix-illegal-start-of-expression-in-java/#:~:text=As%20its%20name%20implies%2C%20the,%2C%20i.e.%2C%20free%20of%20errors.). Incase you are using Eclipse, remove all your imports and press the hotkey -&gt; ctrl+shift+o, it will automatically import what&#39;s needed","body":"Check <a href=\"https://stackoverflow.com/a/37279307/21252090t\">this answer</a>, and <a href=\"https://rollbar.com/blog/how-to-fix-illegal-start-of-expression-in-java/#:~:text=As%20its%20name%20implies%2C%20the,%2C%20i.e.%2C%20free%20of%20errors.\" rel=\"nofollow noreferrer\">this</a>. Incase you are using Eclipse, remove all your imports and press the hotkey -&gt; ctrl+shift+o, it will automatically import what&#39;s needed"},{"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"score":0,"creation_date":1689681862,"post_id":76707291,"comment_id":135245427,"body_markdown":"I got these errors from the code above: Blackjack.java:934: error: illegal start of type\nimport java.util.Scanner;\n^\nBlackjack.java:934: error: &lt;identifier&gt; expected\nimport java.util.Scanner;\n                        ^\n962: error: : expected\n        case &quot;y&quot;, &quot;yes&quot;: /*   code/method to restart the game   */ break;\n                ^\n963: error: : expected\n        case &quot;n&quot;, &quot;no&quot;: System.out.println(&quot;Thank you for playing!&quot;); System.exit(0); break; //System.exit(0) exits the program with exit code 0\n                ^\nBlackjack.java:966: error: reached end of file while parsing","body":"I got these errors from the code above: Blackjack.java:934: error: illegal start of type import java.util.Scanner; ^ Blackjack.java:934: error: &lt;identifier&gt; expected import java.util.Scanner;                         ^ 962: error: : expected         case &quot;y&quot;, &quot;yes&quot;: /*   code/method to restart the game   */ break;                 ^ 963: error: : expected         case &quot;n&quot;, &quot;no&quot;: System.out.println(&quot;Thank you for playing!&quot;); System.exit(0); break; //System.exit(0) exits the program with exit code 0                 ^ Blackjack.java:966: error: reached end of file while parsing"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1689685899,"post_id":76707291,"comment_id":135246396,"body_markdown":"I have no idea why you get this error, the code works perfectly fine for me and probably for most other users. Instead of copying all the code given in the answer, try copying the `requestPlayAgain` method into your class, then execute the method where needed.","body":"I have no idea why you get this error, the code works perfectly fine for me and probably for most other users. Instead of copying all the code given in the answer, try copying the <code>requestPlayAgain</code> method into your class, then execute the method where needed."},{"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"score":0,"creation_date":1689690409,"post_id":76707291,"comment_id":135247545,"body_markdown":"That looks better, it has only 2 errors: Blackjack.java:951: error: : expected\n        case &quot;y&quot;, &quot;yes&quot;: /*   code/method to restart the game   */ break;\n                ^\nBlackjack.java:952: error: : expected\n        case &quot;n&quot;, &quot;no&quot;: System.out.println(&quot;Thank you for playing!&quot;); System.exit(0); break; //System.exit(0) exits the program with exit code 0\n                ^\n2 errors\n\nC:\\Users\\nhick","body":"That looks better, it has only 2 errors: Blackjack.java:951: error: : expected         case &quot;y&quot;, &quot;yes&quot;: /*   code/method to restart the game   */ break;                 ^ Blackjack.java:952: error: : expected         case &quot;n&quot;, &quot;no&quot;: System.out.println(&quot;Thank you for playing!&quot;); System.exit(0); break; //System.exit(0) exits the program with exit code 0                 ^ 2 errors  C:\\Users\\nhick"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1689695190,"post_id":76707291,"comment_id":135248830,"body_markdown":"Maybe check [this answer](https://stackoverflow.com/a/45199126/21252090) or remove the `switch(lowerCaseUserInput)...` statement completely and paste the if statement that I have provided with the answer.","body":"Maybe check <a href=\"https://stackoverflow.com/a/45199126/21252090\">this answer</a> or remove the <code>switch(lowerCaseUserInput)...</code> statement completely and paste the if statement that I have provided with the answer."}],"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689701965,"creation_date":1689619413,"answer_id":76707291,"question_id":76705454,"body_markdown":"I put the code in a method, you can use this code in the main method -&gt;\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Play {  \r\n\tstatic Scanner inputScanner = new Scanner(System.in);\r\n\tstatic String userInput = &quot;&quot;;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\trequestPlayAgain();\r\n\t}\r\n\tpublic static void requestPlayAgain() {\r\n\t\tboolean incorrectInput; // boolean containing if the input isn&#39;t &quot;yes&quot; or &quot;no&quot; / &quot;y&quot; or &quot;n&quot;\r\n\t\tString lowerCaseUserInput;\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;Do you want to play again ([Y] / [N])?&quot;);\r\n\t\t\tuserInput = inputScanner.nextLine();\r\n\t\t\tlowerCaseUserInput = userInput.toLowerCase(); // converts userInput into lower case\r\n\t\t\tincorrectInput = !(\r\n\t\t\t\t\tlowerCaseUserInput.equals(&quot;y&quot;)\r\n\t\t\t\t\t|| lowerCaseUserInput.equals(&quot;n&quot;) \r\n\t\t\t\t\t|| lowerCaseUserInput.equals(&quot;yes&quot;)\r\n\t\t\t\t\t|| lowerCaseUserInput.equals(&quot;no&quot;)\r\n\t\t\t\t\t); //checks whether the value is equal to &quot;yes&quot; or &quot;no&quot; / &quot;y&quot; or &quot;n&quot;\r\n\t\t\t\r\n\t\t\tif(incorrectInput) {\r\n\t\t\t\tSystem.err.println(&quot;Incorrect reply &#39;&quot;+userInput+&quot;&#39;, use [Y] / [N] or [Yes] / [No]&quot;); //Sends an error message requesting the user to use &quot;yes&quot; or &quot;no&quot;/&quot;y&quot; or &quot;n&quot;\r\n\t\t\t}\r\n\t\t} while (incorrectInput);\r\n\t\tswitch(lowerCaseUserInput) { //checks what the value is\r\n\t\tcase &quot;y&quot;, &quot;yes&quot;: /*   code/method to restart the game   */ break;\r\n\t\tcase &quot;n&quot;, &quot;no&quot;: System.out.println(&quot;Thank you for playing!&quot;); System.exit(0); break; //System.exit(0) exits the program with exit code 0\r\n\t\t}\r\n\t}\r\n}\r\n``` \r\nThe switch statement can also be swapped by a if statement like so -&gt;\r\n```\r\n    if(lowerCaseUserInput.equals(&quot;y&quot;) || lowerCaseUserInput.equals(&quot;yes&quot;)) {\r\n\t\t\t/*   code/method to restart the game   */\r\n\t}\r\n\telse if(lowerCaseUserInput.equals(&quot;n&quot;) || lowerCaseUserInput.equals(&quot;no&quot;)) {\r\n\t\tSystem.out.println(&quot;Thank you for playing!&quot;); System.exit(0);\r\n    }\r\n```\r\nA quick summary of what this code does :-\r\n\r\n 1. converts `userInput` into smaller case for flexibility which allows input like &quot;yEs&quot;. You could use `userInput.equalsIgnoreCase()` too.\r\n 2. checks whether userInput is equal to &quot;yes&quot; or &quot;no&quot; / &quot;y&quot; or &quot;n&quot;\r\n 3. if `userInput` is not &quot;yes&quot;..., sends an error message requesting the user to use &quot;yes&quot;...\r\n 4. if `userInput` is &quot;yes&quot;..., checks if it is &quot;yes&quot; or &quot;no&quot;\r\n 5. if it is yes it continues the game, else it says &quot;Thank you for playing&quot; and exits the game\r\n\r\nif done correctly you can end up with your output looking like this -&gt;\r\n```\r\nDo you want to play again ([Y] / [N])?a\r\nIncorrect reply &#39;a&#39;, use [Y] / [N] or [Yes] / [No]\r\nDo you want to play again ([Y] / [N])?b\r\nIncorrect reply &#39;b&#39;, use [Y] / [N] or [Yes] / [No]\r\nDo you want to play again ([Y] / [N])?n\r\nThank you for playing!\r\n```\r\nA small mistake I noticed while checking the code was naming the class, which I believe was a typo, but preferably class names have each word&#39;s first letter capitalized according to [Code Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","title":"If player answers Y, game gets played again but if no or anything else it ends or provides an error message","body":"<p>I put the code in a method, you can use this code in the main method -&gt;</p>\n<pre><code>import java.util.Scanner;\n\npublic class Play {  \n    static Scanner inputScanner = new Scanner(System.in);\n    static String userInput = &quot;&quot;;\n    \n    public static void main(String[] args) {\n        requestPlayAgain();\n    }\n    public static void requestPlayAgain() {\n        boolean incorrectInput; // boolean containing if the input isn't &quot;yes&quot; or &quot;no&quot; / &quot;y&quot; or &quot;n&quot;\n        String lowerCaseUserInput;\n        do {\n            System.out.print(&quot;Do you want to play again ([Y] / [N])?&quot;);\n            userInput = inputScanner.nextLine();\n            lowerCaseUserInput = userInput.toLowerCase(); // converts userInput into lower case\n            incorrectInput = !(\n                    lowerCaseUserInput.equals(&quot;y&quot;)\n                    || lowerCaseUserInput.equals(&quot;n&quot;) \n                    || lowerCaseUserInput.equals(&quot;yes&quot;)\n                    || lowerCaseUserInput.equals(&quot;no&quot;)\n                    ); //checks whether the value is equal to &quot;yes&quot; or &quot;no&quot; / &quot;y&quot; or &quot;n&quot;\n            \n            if(incorrectInput) {\n                System.err.println(&quot;Incorrect reply '&quot;+userInput+&quot;', use [Y] / [N] or [Yes] / [No]&quot;); //Sends an error message requesting the user to use &quot;yes&quot; or &quot;no&quot;/&quot;y&quot; or &quot;n&quot;\n            }\n        } while (incorrectInput);\n        switch(lowerCaseUserInput) { //checks what the value is\n        case &quot;y&quot;, &quot;yes&quot;: /*   code/method to restart the game   */ break;\n        case &quot;n&quot;, &quot;no&quot;: System.out.println(&quot;Thank you for playing!&quot;); System.exit(0); break; //System.exit(0) exits the program with exit code 0\n        }\n    }\n}\n</code></pre>\n<p>The switch statement can also be swapped by a if statement like so -&gt;</p>\n<pre><code>    if(lowerCaseUserInput.equals(&quot;y&quot;) || lowerCaseUserInput.equals(&quot;yes&quot;)) {\n            /*   code/method to restart the game   */\n    }\n    else if(lowerCaseUserInput.equals(&quot;n&quot;) || lowerCaseUserInput.equals(&quot;no&quot;)) {\n        System.out.println(&quot;Thank you for playing!&quot;); System.exit(0);\n    }\n</code></pre>\n<p>A quick summary of what this code does :-</p>\n<ol>\n<li>converts <code>userInput</code> into smaller case for flexibility which allows input like &quot;yEs&quot;. You could use <code>userInput.equalsIgnoreCase()</code> too.</li>\n<li>checks whether userInput is equal to &quot;yes&quot; or &quot;no&quot; / &quot;y&quot; or &quot;n&quot;</li>\n<li>if <code>userInput</code> is not &quot;yes&quot;..., sends an error message requesting the user to use &quot;yes&quot;...</li>\n<li>if <code>userInput</code> is &quot;yes&quot;..., checks if it is &quot;yes&quot; or &quot;no&quot;</li>\n<li>if it is yes it continues the game, else it says &quot;Thank you for playing&quot; and exits the game</li>\n</ol>\n<p>if done correctly you can end up with your output looking like this -&gt;</p>\n<pre><code>Do you want to play again ([Y] / [N])?a\nIncorrect reply 'a', use [Y] / [N] or [Yes] / [No]\nDo you want to play again ([Y] / [N])?b\nIncorrect reply 'b', use [Y] / [N] or [Yes] / [No]\nDo you want to play again ([Y] / [N])?n\nThank you for playing!\n</code></pre>\n<p>A small mistake I noticed while checking the code was naming the class, which I believe was a typo, but preferably class names have each word's first letter capitalized according to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Code Conventions</a></p>\n"}],"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":2,"score":-7,"last_activity_date":1690210289,"creation_date":1689603898,"question_id":76705454,"body_markdown":"I created a blackjack game that works perfectly except for the part where the user is asked if they want to play again. At this point, if anything except No is typed in that section, gameplay continues. So even if someone put a number in there, the game will start again. If they put in No or N, the game exits and tells them thank you for playing. I want it to be more specific and make them choose either a Y or a N and any other value will tell them that they need to answer with a Y or a N.\r\n\r\n```\r\npublic class play {\r\n\tScanner inputScanner = new Scanner(System.in);\r\n\tString userInput = &quot;&quot;;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\r\n    do {\r\n\t\t\tSystem.out.print(&quot;Do you want to play again ([Y] / [N])?&quot;);\r\n\t\t\tuserInput = inputScanner.nextLine();\r\n\t\t\tSystem.out.println(userInput);\r\n\t} while (userInput.equals(&quot;Y&quot;) || userInput.equals(&quot;&quot;));\r\n       //     System.out.println(&quot;Thanks for playing!&quot;);\r\n    }\r\n}\r\n}\r\n```","title":"If player answers Y, game gets played again but if no or anything else it ends or provides an error message","body":"<p>I created a blackjack game that works perfectly except for the part where the user is asked if they want to play again. At this point, if anything except No is typed in that section, gameplay continues. So even if someone put a number in there, the game will start again. If they put in No or N, the game exits and tells them thank you for playing. I want it to be more specific and make them choose either a Y or a N and any other value will tell them that they need to answer with a Y or a N.</p>\n<pre><code>public class play {\n    Scanner inputScanner = new Scanner(System.in);\n    String userInput = &quot;&quot;;\n    \n    public static void main(String[] args) {\n\n    \n    do {\n            System.out.print(&quot;Do you want to play again ([Y] / [N])?&quot;);\n            userInput = inputScanner.nextLine();\n            System.out.println(userInput);\n    } while (userInput.equals(&quot;Y&quot;) || userInput.equals(&quot;&quot;));\n       //     System.out.println(&quot;Thanks for playing!&quot;);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1690201993,"post_id":76754323,"comment_id":135316085,"body_markdown":"Do you have a log4j.xml or log4j.properties in your project ?","body":"Do you have a log4j.xml or log4j.properties in your project ?"},{"owner":{"account_id":2201020,"reputation":81,"user_id":1945415,"accept_rate":0,"display_name":"Jayanta Pramanik"},"score":0,"creation_date":1690296822,"post_id":76754323,"comment_id":135331933,"body_markdown":"No. Log4j not configured.","body":"No. Log4j not configured."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1690304969,"post_id":76754323,"comment_id":135333733,"body_markdown":"Then configure Log4j and set debug level for AutowiredAnnotationBeanPostProcessor to NONE.","body":"Then configure Log4j and set debug level for AutowiredAnnotationBeanPostProcessor to NONE."},{"owner":{"account_id":2201020,"reputation":81,"user_id":1945415,"accept_rate":0,"display_name":"Jayanta Pramanik"},"score":0,"creation_date":1690474950,"post_id":76754323,"comment_id":135362349,"body_markdown":"I can configure Log4j but could not set debug level to NONE. Please help me. How to do that.","body":"I can configure Log4j but could not set debug level to NONE. Please help me. How to do that."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1690529789,"post_id":76754323,"comment_id":135369421,"body_markdown":"Show what you have done.","body":"Show what you have done."}],"owner":{"account_id":2201020,"reputation":81,"user_id":1945415,"accept_rate":0,"display_name":"Jayanta Pramanik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690209712,"creation_date":1690200256,"question_id":76754323,"body_markdown":"I have one Spring application (Spring version 3.1, Java version jdk1.7) is running which is configured with Apache Camel 2.14.2 version as well. The main function of this application to read/write files from various folder paths and Routes are defined in Camel route XML. And this application has many RESTful webservice deployed and receives such RESTful webservice calls from other client applications and from outside also. \r\n\r\nThe problem is last few weeks it is showing following lines repeatedly and thereby generated a huge log at end of the day. \r\n\r\nHow can I stop this repeated printing?\r\n\r\n    \r\n    08:15:36,401 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (http--10.9.101.131-9443-120) JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    08:15:36,401 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (http--10.9.101.131-9443-146) JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    08:15:36,416 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (http--10.9.101.131-9443-89) JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    08:15:36,416 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (http--10.9.101.131-9443-9) JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring","title":"How to stop repeated printing &quot;JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring&quot;?","body":"<p>I have one Spring application (Spring version 3.1, Java version jdk1.7) is running which is configured with Apache Camel 2.14.2 version as well. The main function of this application to read/write files from various folder paths and Routes are defined in Camel route XML. And this application has many RESTful webservice deployed and receives such RESTful webservice calls from other client applications and from outside also.</p>\n<p>The problem is last few weeks it is showing following lines repeatedly and thereby generated a huge log at end of the day.</p>\n<p>How can I stop this repeated printing?</p>\n<pre><code>08:15:36,401 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (http--10.9.101.131-9443-120) JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n08:15:36,401 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (http--10.9.101.131-9443-146) JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n08:15:36,416 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (http--10.9.101.131-9443-89) JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n08:15:36,416 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (http--10.9.101.131-9443-9) JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1690209808,"post_id":76755545,"comment_id":135317862,"body_markdown":"https://stackoverflow.com/q/69522191/6576302","body":"<a href=\"https://stackoverflow.com/q/69522191/6576302\">stackoverflow.com/q/69522191/6576302</a>"},{"owner":{"account_id":6391459,"reputation":23,"user_id":4957450,"display_name":"Paridel Makouala"},"score":0,"creation_date":1690218484,"post_id":76755545,"comment_id":135319704,"body_markdown":"That doesn&#39;t answer my question.\nI&#39;ve correctly implemented everything notified on the link. However, on a phone with two sims, the action of calling in the application blocks both sims.","body":"That doesn&#39;t answer my question. I&#39;ve correctly implemented everything notified on the link. However, on a phone with two sims, the action of calling in the application blocks both sims."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1690222091,"post_id":76755545,"comment_id":135320287,"body_markdown":"That is likely an issue with the specific device model. How many dual-SIM devices have you tested?","body":"That is likely an issue with the specific device model. How many dual-SIM devices have you tested?"},{"owner":{"account_id":6391459,"reputation":23,"user_id":4957450,"display_name":"Paridel Makouala"},"score":0,"creation_date":1691857185,"post_id":76755545,"comment_id":135549478,"body_markdown":"I tested it on 4 smartphones, two running Android 12 and the others Android 13.\nOn versions 12 and earlier, I didn&#39;t notice this problem. On the other hand, on Android 13 (Redmi Note 12 Pro and Redmi Note 11) I do have the problem.","body":"I tested it on 4 smartphones, two running Android 12 and the others Android 13. On versions 12 and earlier, I didn&#39;t notice this problem. On the other hand, on Android 13 (Redmi Note 12 Pro and Redmi Note 11) I do have the problem."}],"owner":{"account_id":6391459,"reputation":23,"user_id":4957450,"display_name":"Paridel Makouala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690209551,"creation_date":1690209551,"question_id":76755545,"body_markdown":"When I make a call using Intent.ACTION_CALL on Android 13, the phone blocks both sims.\r\n\r\nObserved only on Android and not the rest of the versions.\r\n\r\nDo you have any idea how to deal with this situation?","title":"Intent.ACTION_CALL on Android 13, the phone blocks both sims","body":"<p>When I make a call using Intent.ACTION_CALL on Android 13, the phone blocks both sims.</p>\n<p>Observed only on Android and not the rest of the versions.</p>\n<p>Do you have any idea how to deal with this situation?</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":1,"creation_date":1690208991,"post_id":76755261,"comment_id":135317689,"body_markdown":"I had a similar issue, and `TRUE::boolean` ended up being the working solution in this case. I think the issue is one of it being a keyword and the parser having changed?","body":"I had a similar issue, and <code>TRUE::boolean</code> ended up being the working solution in this case. I think the issue is one of it being a keyword and the parser having changed?"},{"owner":{"account_id":29081017,"reputation":3,"user_id":22277042,"display_name":"Fremya"},"score":0,"creation_date":1690211421,"post_id":76755261,"comment_id":135318250,"body_markdown":"@AnyaShenanigans TRUE::boolean helps. Thank you","body":"@AnyaShenanigans TRUE::boolean helps. Thank you"}],"answers":[{"comments":[{"owner":{"account_id":29081017,"reputation":3,"user_id":22277042,"display_name":"Fremya"},"score":0,"creation_date":1690211393,"post_id":76755470,"comment_id":135318243,"body_markdown":"It helps, \nThanks a lot!\nI can&#39;t remove it because we build our columns string dynamically and I need this as a mock","body":"It helps,  Thanks a lot! I can&#39;t remove it because we build our columns string dynamically and I need this as a mock"}],"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690209502,"creation_date":1690209085,"answer_id":76755470,"question_id":76755261,"body_markdown":"Yes, based on this [fiddle][1] it seems to be connected with the PostgreSQL 15 upgrade.\r\n\r\nIn 14 [works][2].\r\n\r\nAnyway  e.g. `group by true::boolean` help, or better **remove it** at all as it plays no role!\r\n\r\n\r\n  [1]: https://dbfiddle.uk/Uu1XdII5\r\n  [2]: https://dbfiddle.uk/qZcRuBd0","title":"postgresql provide PSQLException: ERROR: non-integer constant in GROUP BY when I GROUP BY TRUE","body":"<p>Yes, based on this <a href=\"https://dbfiddle.uk/Uu1XdII5\" rel=\"nofollow noreferrer\">fiddle</a> it seems to be connected with the PostgreSQL 15 upgrade.</p>\n<p>In 14 <a href=\"https://dbfiddle.uk/qZcRuBd0\" rel=\"nofollow noreferrer\">works</a>.</p>\n<p>Anyway  e.g. <code>group by true::boolean</code> help, or better <strong>remove it</strong> at all as it plays no role!</p>\n"}],"owner":{"account_id":29081017,"reputation":3,"user_id":22277042,"display_name":"Fremya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76755470,"answer_count":1,"score":0,"last_activity_date":1690209502,"creation_date":1690207395,"question_id":76755261,"body_markdown":"After we bumped our Postgresql version to 15 it starts throwing an error that `PSQLException: ERROR: non-integer constant in GROUP BY` when my SQL query looks like this:\r\n\r\n    SELECT ... FROM ...\r\n    GROUP BY TRUE, column\r\n    ORDER BY TRUE, column\r\n\r\nIs it not allowed anymore to use TRUE in group by/order by? Where can I find info about this?\r\n\r\nI expect it to works as on previou verions.","title":"postgresql provide PSQLException: ERROR: non-integer constant in GROUP BY when I GROUP BY TRUE","body":"<p>After we bumped our Postgresql version to 15 it starts throwing an error that <code>PSQLException: ERROR: non-integer constant in GROUP BY</code> when my SQL query looks like this:</p>\n<pre><code>SELECT ... FROM ...\nGROUP BY TRUE, column\nORDER BY TRUE, column\n</code></pre>\n<p>Is it not allowed anymore to use TRUE in group by/order by? Where can I find info about this?</p>\n<p>I expect it to works as on previou verions.</p>\n"},{"tags":["java","wicket"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1500555242,"post_id":45175149,"comment_id":77396691,"body_markdown":"`(new Label(&quot;classnamelab&quot;, getClassNames(classesList).setEscapeModelStrings(false);` Also will work","body":"<code>(new Label(&quot;classnamelab&quot;, getClassNames(classesList).setEscapeModelStrings(false);</code> Also will work"}],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500405841,"creation_date":1500405841,"answer_id":45175413,"question_id":45175149,"body_markdown":"You should use `org.apache.wicket.markup.html.basic.MultiLineLabel` for this.","title":"Having trouble writing multi-line text into table cell","body":"<p>You should use <code>org.apache.wicket.markup.html.basic.MultiLineLabel</code> for this.</p>\n"},{"tags":[],"owner":{"account_id":1468052,"reputation":53,"user_id":1380364,"accept_rate":15,"display_name":"JoeAB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501253777,"creation_date":1501253777,"answer_id":45376614,"question_id":45175149,"body_markdown":"The `MultiLineLabel` worked. I had to change the style as the data was inside a `&lt;p&gt;...&lt;/p&gt;`.","title":"Having trouble writing multi-line text into table cell","body":"<p>The <code>MultiLineLabel</code> worked. I had to change the style as the data was inside a <code>&lt;p&gt;...&lt;/p&gt;</code>.</p>\n"}],"owner":{"account_id":1468052,"reputation":53,"user_id":1380364,"accept_rate":15,"display_name":"JoeAB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690209438,"creation_date":1500404795,"question_id":45175149,"body_markdown":"I am using Java Wicket to create a table. I want to write a cell made of multiple lines; each line within the cell represents a data item.\r\n\r\n    List&lt;EntityClassModel&gt; classesList = classService.getClassesByNotificationId(nitem.getModelObject().getId());\r\n    nitem.add(new Label(&quot;classnamelab&quot;, getClassNames(classesList)));\r\n\r\n However, when I concatenate the lines, inside `getClassNames`, using `classNames.append(&quot;&lt;br&gt;&quot;);` the page displays `Latin 101&lt;br&gt;Latin 103`. From Chrome I Save As the page and opened it in Notepad++. It showed `&lt;td class=&quot;laclasses&quot;&gt;Latin 101&amp;lt;br&amp;gt;Latin 103&lt;/td&gt;`.\r\n\r\nI also tried the code `classNames.append(&quot;&amp;lt;br&amp;gt;&quot;);`. It was displayed in the cell as `Latin 101&amp;lt;br&amp;gt;Latin 103`, which is worse.\r\n\r\nUsing the saved files, I copied a row and changed the text to `&lt;td class=&quot;laclasses&quot;&gt;Angle 101&lt;br&gt;Bracket 103&lt;/td&gt;`. That showed the data `Angle 101` and `Bracket 103` on two lines within the cell, which is what I want. Developer Tools showed the coding on five lines.\r\n\r\n    &lt;td class=&quot;laclasses&quot;&gt;\r\n       &quot;Angle 101&quot;\r\n       &lt;br&gt;\r\n       &quot;Bracket 103&quot;\r\n    &lt;/td&gt;\r\n\r\nThe style sheet includes the block\r\n\r\n    td.laclasses\r\n    {\r\n    \twidth: 140px;\r\n    \tpadding-right: 1em;\r\n    \ttext-align: left;\r\n    \twhite-space: pre;\r\n    }\r\n\r\nIs there a simple way for Wicket to encode the multiple string so that they show as multiple lines within a cell?","title":"Having trouble writing multi-line text into table cell","body":"<p>I am using Java Wicket to create a table. I want to write a cell made of multiple lines; each line within the cell represents a data item.</p>\n<pre><code>List&lt;EntityClassModel&gt; classesList = classService.getClassesByNotificationId(nitem.getModelObject().getId());\nnitem.add(new Label(&quot;classnamelab&quot;, getClassNames(classesList)));\n</code></pre>\n<p>However, when I concatenate the lines, inside <code>getClassNames</code>, using <code>classNames.append(&quot;&lt;br&gt;&quot;);</code> the page displays <code>Latin 101&lt;br&gt;Latin 103</code>. From Chrome I Save As the page and opened it in Notepad++. It showed <code>&lt;td class=&quot;laclasses&quot;&gt;Latin 101&amp;lt;br&amp;gt;Latin 103&lt;/td&gt;</code>.</p>\n<p>I also tried the code <code>classNames.append(&quot;&amp;lt;br&amp;gt;&quot;);</code>. It was displayed in the cell as <code>Latin 101&amp;lt;br&amp;gt;Latin 103</code>, which is worse.</p>\n<p>Using the saved files, I copied a row and changed the text to <code>&lt;td class=&quot;laclasses&quot;&gt;Angle 101&lt;br&gt;Bracket 103&lt;/td&gt;</code>. That showed the data <code>Angle 101</code> and <code>Bracket 103</code> on two lines within the cell, which is what I want. Developer Tools showed the coding on five lines.</p>\n<pre><code>&lt;td class=&quot;laclasses&quot;&gt;\n   &quot;Angle 101&quot;\n   &lt;br&gt;\n   &quot;Bracket 103&quot;\n&lt;/td&gt;\n</code></pre>\n<p>The style sheet includes the block</p>\n<pre><code>td.laclasses\n{\n    width: 140px;\n    padding-right: 1em;\n    text-align: left;\n    white-space: pre;\n}\n</code></pre>\n<p>Is there a simple way for Wicket to encode the multiple string so that they show as multiple lines within a cell?</p>\n"},{"tags":["java","apache-camel","netty","spring-camel"],"comments":[{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1690888532,"post_id":76755511,"comment_id":135412998,"body_markdown":"I cannot reproduce with `camel-netty-http-starter` and `camel-http-starter` in my classpath. Please note that the right syntax is `netty-http:protocol://host:port/path` so it should rather be `netty-http:http://0.0.0.0:8080/proxy`","body":"I cannot reproduce with <code>camel-netty-http-starter</code> and <code>camel-http-starter</code> in my classpath. Please note that the right syntax is <code>netty-http:protocol:&#47;&#47;host:port&#47;path</code> so it should rather be <code>netty-http:http:&#47;&#47;0.0.0.0:8080&#47;proxy</code>"}],"owner":{"account_id":29081114,"reputation":1,"user_id":22277120,"display_name":"Martin Švajdlenka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690209372,"creation_date":1690209372,"question_id":76755511,"body_markdown":"I try to create simple Apache Camel route for netty-http:proxy consumer using camel-spring-boot-starter.\r\n\r\nHere is Route definition:\r\n\r\n```\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MyCamelRouter extends RouteBuilder {\r\n\r\n    @Autowired\r\n    MyBean myBean;\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;timer:hello?period={{myPeriod}}&quot;).routeId(&quot;hello&quot;)\r\n                .bean(myBean, &quot;saySomething&quot;)\r\n                .to(&quot;stream:out&quot;);\r\n        from(&quot;netty-http:proxy://0.0.0.0:8080/proxy&quot;).routeId(&quot;ksed&quot;)\r\n                .to(&quot;https://www.sme.sk&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe 1st timer route is working well. The 2nd if not commented out causes application not starting:\r\n\r\n```\r\n2023-07-24T16:22:38.078+02:00 ERROR 32604 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.apache.camel.FailedToCreateRouteException: Failed to create route route1: Route(route1)[From[netty-http:proxy://0.0.0.0:8080/proxy] -&gt;... because of No endpoint could be found for: netty-http://proxy://0.0.0.0:8080/proxy, please check your classpath contains the needed Camel component jar.\r\n\tat org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:82) ~[camel-core-reifier-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:816) ~[camel-core-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:685) ~[camel-core-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:2396) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2062) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2081) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:313) ~[camel-core-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-4.0.0-20230724.063354-177.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-4.0.0-20230724.063354-177.jar:4.0.0-SNAPSHOT]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:437) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:370) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:961) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat sample.camel.MyCamelApplication.main(MyCamelApplication.java:33) ~[classes/:na]\r\nCaused by: org.apache.camel.NoSuchEndpointException: No endpoint could be found for: netty-http://proxy://0.0.0.0:8080/proxy, please check your classpath contains the needed Camel component jar.\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:862) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:758) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.support.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:60) ~[camel-support-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.reifier.AbstractReifier.resolveEndpoint(AbstractReifier.java:195) ~[camel-core-reifier-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:96) ~[camel-core-reifier-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\tat org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:76) ~[camel-core-reifier-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\r\n\t... 25 common frames omitted\r\n```\r\n\r\nUri in exception is modified to netty-http://proxy://0.0.0.0:8080/proxy.\r\n\r\nHere is my pom (extract):\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;spring-boot-version&gt;3.1.2&lt;/spring-boot-version&gt;\r\n        &lt;camel.version&gt;3.21.0&lt;/camel.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- Spring Boot BOM --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot-version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Camel BOM --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${camel.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- Spring Boot --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Camel --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-stream-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-netty-http&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-netty&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-netty-http-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-http&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n            &lt;!-- use the same version as your Camel core version --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- include camel developer console --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-console-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- include JMX that allows additional information in camel developer console --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-management-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Camel CLI --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-cli-connector-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-test-spring-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nNote: if I use camel-maven-plugin (same version 3.21.0) - given uri &quot;netty-http:proxy://0.0.0.0:8080/proxy&quot; works fine. Unfortunately I cannot use that plugin due to customer requirements.\r\n\r\nAny idea what can be wrong?\r\n\r\nTried on Camel version 3.21.0 &amp; 4.0.0-RC1. Also netty-http:http://0.0.0.0:8080 produces the same error.","title":"Apache Camel netty-http route creation fails","body":"<p>I try to create simple Apache Camel route for netty-http:proxy consumer using camel-spring-boot-starter.</p>\n<p>Here is Route definition:</p>\n<pre><code>import org.apache.camel.builder.RouteBuilder;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyCamelRouter extends RouteBuilder {\n\n    @Autowired\n    MyBean myBean;\n\n    @Override\n    public void configure() throws Exception {\n        from(&quot;timer:hello?period={{myPeriod}}&quot;).routeId(&quot;hello&quot;)\n                .bean(myBean, &quot;saySomething&quot;)\n                .to(&quot;stream:out&quot;);\n        from(&quot;netty-http:proxy://0.0.0.0:8080/proxy&quot;).routeId(&quot;ksed&quot;)\n                .to(&quot;https://www.sme.sk&quot;);\n    }\n\n}\n</code></pre>\n<p>The 1st timer route is working well. The 2nd if not commented out causes application not starting:</p>\n<pre><code>2023-07-24T16:22:38.078+02:00 ERROR 32604 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.apache.camel.FailedToCreateRouteException: Failed to create route route1: Route(route1)[From[netty-http:proxy://0.0.0.0:8080/proxy] -&gt;... because of No endpoint could be found for: netty-http://proxy://0.0.0.0:8080/proxy, please check your classpath contains the needed Camel component jar.\n    at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:82) ~[camel-core-reifier-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:816) ~[camel-core-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:685) ~[camel-core-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:2396) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2062) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2081) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:313) ~[camel-core-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-4.0.0-20230724.063354-177.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-4.0.0-20230724.063354-177.jar:4.0.0-SNAPSHOT]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:437) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:370) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:961) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at sample.camel.MyCamelApplication.main(MyCamelApplication.java:33) ~[classes/:na]\nCaused by: org.apache.camel.NoSuchEndpointException: No endpoint could be found for: netty-http://proxy://0.0.0.0:8080/proxy, please check your classpath contains the needed Camel component jar.\n    at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:862) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:758) ~[camel-base-engine-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.support.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:60) ~[camel-support-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.reifier.AbstractReifier.resolveEndpoint(AbstractReifier.java:195) ~[camel-core-reifier-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:96) ~[camel-core-reifier-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:76) ~[camel-core-reifier-4.0.0-20230724.063354-184.jar:4.0.0-SNAPSHOT]\n    ... 25 common frames omitted\n</code></pre>\n<p>Uri in exception is modified to netty-http://proxy://0.0.0.0:8080/proxy.</p>\n<p>Here is my pom (extract):</p>\n<pre><code>    &lt;properties&gt;\n        &lt;spring-boot-version&gt;3.1.2&lt;/spring-boot-version&gt;\n        &lt;camel.version&gt;3.21.0&lt;/camel.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- Spring Boot BOM --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot-version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Camel BOM --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n                &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\n                &lt;version&gt;${camel.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Spring Boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Camel --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-stream-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-netty-http&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-netty&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-netty-http-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-http&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n            &lt;!-- use the same version as your Camel core version --&gt;\n        &lt;/dependency&gt;\n        &lt;!-- include camel developer console --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-console-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- include JMX that allows additional information in camel developer console --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-management-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Camel CLI --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-cli-connector-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-test-spring-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Note: if I use camel-maven-plugin (same version 3.21.0) - given uri &quot;netty-http:proxy://0.0.0.0:8080/proxy&quot; works fine. Unfortunately I cannot use that plugin due to customer requirements.</p>\n<p>Any idea what can be wrong?</p>\n<p>Tried on Camel version 3.21.0 &amp; 4.0.0-RC1. Also netty-http:<a href=\"http://0.0.0.0:8080\" rel=\"nofollow noreferrer\">http://0.0.0.0:8080</a> produces the same error.</p>\n"},{"tags":["java","random","secure-random"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1689942397,"post_id":76737956,"comment_id":135288055,"body_markdown":"Base64 encoding largely uses letters","body":"Base64 encoding largely uses letters"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1689942913,"post_id":76737956,"comment_id":135288167,"body_markdown":"You will get digits for each element of that array with `(0xFF &amp; random[i]) % 10)`","body":"You will get digits for each element of that array with <code>(0xFF &amp; random[i]) % 10)</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689944562,"post_id":76737956,"comment_id":135288524,"body_markdown":"There&#39;s no point synchronizing on `secureRandom` as no other thread can possibly have a reference to it.","body":"There&#39;s no point synchronizing on <code>secureRandom</code> as no other thread can possibly have a reference to it."},{"owner":{"account_id":13176117,"reputation":33,"user_id":9517022,"display_name":"newPHPDev"},"score":0,"creation_date":1689944703,"post_id":76737956,"comment_id":135288551,"body_markdown":"@tgdavies ok thanks. but how would i come up with a solution for a randm 12 digit number.","body":"@tgdavies ok thanks. but how would i come up with a solution for a randm 12 digit number."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689944798,"post_id":76737956,"comment_id":135288569,"body_markdown":"@g00se has already explained that.","body":"@g00se has already explained that."},{"owner":{"account_id":13176117,"reputation":33,"user_id":9517022,"display_name":"newPHPDev"},"score":0,"creation_date":1689945214,"post_id":76737956,"comment_id":135288650,"body_markdown":"ok, trying to figure out a solution based on that. a bit confused. @g00se on how to accomplish.","body":"ok, trying to figure out a solution based on that. a bit confused. @g00se on how to accomplish."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689946493,"post_id":76737956,"comment_id":135288919,"body_markdown":"What are you confused about?","body":"What are you confused about?"},{"owner":{"account_id":15638210,"reputation":4538,"user_id":11282404,"display_name":"jpmarinier"},"score":0,"creation_date":1689947368,"post_id":76737956,"comment_id":135289101,"body_markdown":"You could ask `nextBytes` for just 5 random bytes. This is 5*8=40 bits. So the result can then be converted into a single integer number between 0 and 2^40. And 2^40 is just 10% above 10^12. You can probably afford to use plain rejection for those numbers that have the misfortune to lie above 10^12.","body":"You could ask <code>nextBytes</code> for just 5 random bytes. This is 5*8=40 bits. So the result can then be converted into a single integer number between 0 and 2^40. And 2^40 is just 10% above 10^12. You can probably afford to use plain rejection for those numbers that have the misfortune to lie above 10^12."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1689948056,"post_id":76737956,"comment_id":135289256,"body_markdown":"The easy solution is simply `num = secureRandom.nextLong() % 1000000000000L;`","body":"The easy solution is simply <code>num = secureRandom.nextLong() % 1000000000000L;</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1689954006,"post_id":76737956,"comment_id":135290481,"body_markdown":"Wouldn&#39;t using `%10` introduce a modulo bias in the resulting values?  As I understand it, this is highly undesirable, especially if used for encryption.","body":"Wouldn&#39;t using <code>%10</code> introduce a modulo bias in the resulting values?  As I understand it, this is highly undesirable, especially if used for encryption."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689955166,"post_id":76737956,"comment_id":135290707,"body_markdown":"It *could* do. I&#39;m not sure of the mathematics of it","body":"It <i>could</i> do. I&#39;m not sure of the mathematics of it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689956844,"post_id":76737956,"comment_id":135291004,"body_markdown":"I certainly wouldn&#39;t advance my comment as a solution. It was really just a reaction to *the existing array&#39;s presence*","body":"I certainly wouldn&#39;t advance my comment as a solution. It was really just a reaction to <i>the existing array&#39;s presence</i>"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1690157026,"post_id":76737956,"comment_id":135309871,"body_markdown":"Does this answer your question? [How do I generate random integers within a specific range in Java?](https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java\">How do I generate random integers within a specific range in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690209356,"creation_date":1689950118,"answer_id":76738926,"question_id":76737956,"body_markdown":"&gt;I am trying to create a **random number** using SecureRandom. It must be digits only (0123456789) and be 12 characters long.\r\n\r\nYou could doit like this.  Just specify the origin and bound to match your digit count requirements.\r\n```\r\nSecureRandom secureRandom = new SecureRandom();\r\nlong random =  secureRandom.nextLong(100_000_000_000L,1_000_000_000_000L);\r\nSystem.out.println(random);\r\n```\r\nprints something like\r\n```\r\n426491911225\r\n```\r\nIf it must be in a byte array of individual digits, you can do the following:\r\n```\r\nbyte[] bytes = new byte[12];\r\nint loc = bytes.length - 1; // insert in reverse in array\r\n\r\nwhile(random &gt; 0) {\r\n    bytes[loc--] = (byte)(random%10);\r\n    random/=10;\r\n}\r\nSystem.out.println(Arrays.toString(bytes));\r\n```\r\nprints\r\n```\r\n[4, 2, 6, 4, 9, 1, 9, 1, 1, 2, 2, 5]\r\n","title":"How to properly use SecureRandom 12 digit number?","body":"<blockquote>\n<p>I am trying to create a <strong>random number</strong> using SecureRandom. It must be digits only (0123456789) and be 12 characters long.</p>\n</blockquote>\n<p>You could doit like this.  Just specify the origin and bound to match your digit count requirements.</p>\n<pre><code>SecureRandom secureRandom = new SecureRandom();\nlong random =  secureRandom.nextLong(100_000_000_000L,1_000_000_000_000L);\nSystem.out.println(random);\n</code></pre>\n<p>prints something like</p>\n<pre><code>426491911225\n</code></pre>\n<p>If it must be in a byte array of individual digits, you can do the following:</p>\n<pre><code>byte[] bytes = new byte[12];\nint loc = bytes.length - 1; // insert in reverse in array\n\nwhile(random &gt; 0) {\n    bytes[loc--] = (byte)(random%10);\n    random/=10;\n}\nSystem.out.println(Arrays.toString(bytes));\n</code></pre>\n<p>prints</p>\n<pre><code>[4, 2, 6, 4, 9, 1, 9, 1, 1, 2, 2, 5]\n</code></pre>\n"}],"owner":{"account_id":13176117,"reputation":33,"user_id":9517022,"display_name":"newPHPDev"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690209356,"creation_date":1689942042,"question_id":76737956,"body_markdown":"I am trying to create a random number use SecureRandom. It must be digits only (0123456789) and be 12 characters long. Any help would be greatly appreciated.\r\n\r\n\t\tSecureRandom secureRandom = new SecureRandom();\r\n\t\tsynchronized (secureRandom) {\r\n\t\t\tfinal byte[] random = new byte[12];\r\n\t\t\tsecureRandom.nextBytes(random);\r\n\t\t\treturn Base64.encodeBase64URLSafeString(random);\r\n\t\t}\r\n\r\n\r\nI am getting the following:\r\n\r\n    IHmv_qsWMZ0teI_-","title":"How to properly use SecureRandom 12 digit number?","body":"<p>I am trying to create a random number use SecureRandom. It must be digits only (0123456789) and be 12 characters long. Any help would be greatly appreciated.</p>\n<pre><code>    SecureRandom secureRandom = new SecureRandom();\n    synchronized (secureRandom) {\n        final byte[] random = new byte[12];\n        secureRandom.nextBytes(random);\n        return Base64.encodeBase64URLSafeString(random);\n    }\n</code></pre>\n<p>I am getting the following:</p>\n<pre><code>IHmv_qsWMZ0teI_-\n</code></pre>\n"},{"tags":["java","xml","jackson","jaxb"],"owner":{"account_id":20824173,"reputation":35,"user_id":15295041,"display_name":"Federico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690209136,"creation_date":1690209136,"question_id":76755481,"body_markdown":"I have generated a set of java classes from a xsd schema through xjc.\r\n\r\nA tag of the schema is\r\n\r\n    &lt;xs:complexType name=&quot;SupplementaryDataEnvelope1&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:any namespace=&quot;##any&quot; processContents=&quot;skip&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\nand xjc accordingly generates this property\r\n\r\n    @XmlAnyElement\r\n    protected Element any;\r\n\r\ninside the SupplementaryDataEnvelope1 class\r\n\r\nThis part of the xml allows the inclusion of supplementary data that can be used by communities of users to add information to a message.\r\nJust for test purpose I have included a small xml fragment that I have manually mapped to a pojo outside the xsd schema.\r\n\r\nWhen I marshal the message using jaxb everything works fine.\r\n\r\n    Marshaller marshaller = context.createMarshaller();\r\n    marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n    StringWriter writer = new StringWriter();\r\n    marshaller.marshal(document, writer);\r\n    System.out.println(writer.toString());\r\n\r\nThis is the output\r\n\r\n       &lt;SplmtryData&gt;\r\n            &lt;Envlp&gt;\r\n                &lt;Context&gt;\r\n                    &lt;SessionId&gt;12345&lt;/SessionId&gt;\r\n                    &lt;Language&gt;IT&lt;/Language&gt;\r\n                &lt;/Context&gt;\r\n            &lt;/Envlp&gt;\r\n        &lt;/SplmtryData&gt;\r\n\r\n\r\n\r\nThen I try to do the same using Jackson\r\n\r\n    XmlMapper mapper = XmlMapper.xmlBuilder().defaultUseWrapper(false).build();\r\n    StringWriter writer = new StringWriter();\r\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    mapper.setSerializationInclusion(Include.NON_NULL);\r\n    mapper.registerModule(new JakartaXmlBindAnnotationModule());\r\n    mapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true );\r\n    mapper.writeValue(writer, document);\r\n    System.out.println(writer.toString());\r\n\r\nEverything is correctly serialized, but the org.w3c.dom.Element property.\r\n\r\n        &lt;SplmtryData&gt;\r\n            &lt;Envlp&gt;\r\n    &lt;any&gt;&amp;lt;Context&gt;&amp;lt;SessionId&gt;12345&amp;lt;/SessionId&gt;&amp;lt;Language&gt;IT&amp;lt;/Language&gt;&amp;#xd;\r\n                    &amp;lt;/Context&gt;&lt;/any&gt;\r\n            &lt;/Envlp&gt;\r\n        &lt;/SplmtryData&gt;\r\n\r\nThe first error is the erronoeous serialization of the &quot;any&quot; tag; secondly all &quot;&lt;&quot; characters are printed as &quot;&amp;lt;&quot; (less than).\r\n\r\nI have tried to annotate the property with com.fasterxml.jackson.annotation.JsonRawValue.\r\n\r\nIn this case Jackson correctly doesn&#39;t print the &lt;any&gt; tag, but instead of serializing the xml content, prints out the fully-qualified name of the correnspondent jaxb class:\r\n\r\n   &lt;SplmtryData&gt;\r\n       &lt;Envlp&gt;com.fsajeva.rtp.iso.v10.pain013.SupplementaryDataEnvelope@427b5fb1&lt;/Envlp&gt;\r\n   &lt;/SplmtryData&gt;\r\n\r\nAm I missing any configuration?\r\n\r\nP.S. I&#39;m trying both Jaxb and Jackson serialization just for performance test purpose since the application should manage high volumes\r\n","title":"Jackson xml org.w3c.dom.Element property serialization","body":"<p>I have generated a set of java classes from a xsd schema through xjc.</p>\n<p>A tag of the schema is</p>\n<pre><code>&lt;xs:complexType name=&quot;SupplementaryDataEnvelope1&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:any namespace=&quot;##any&quot; processContents=&quot;skip&quot;/&gt;\n    &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>and xjc accordingly generates this property</p>\n<pre><code>@XmlAnyElement\nprotected Element any;\n</code></pre>\n<p>inside the SupplementaryDataEnvelope1 class</p>\n<p>This part of the xml allows the inclusion of supplementary data that can be used by communities of users to add information to a message.\nJust for test purpose I have included a small xml fragment that I have manually mapped to a pojo outside the xsd schema.</p>\n<p>When I marshal the message using jaxb everything works fine.</p>\n<pre><code>Marshaller marshaller = context.createMarshaller();\nmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\nStringWriter writer = new StringWriter();\nmarshaller.marshal(document, writer);\nSystem.out.println(writer.toString());\n</code></pre>\n<p>This is the output</p>\n<pre><code>   &lt;SplmtryData&gt;\n        &lt;Envlp&gt;\n            &lt;Context&gt;\n                &lt;SessionId&gt;12345&lt;/SessionId&gt;\n                &lt;Language&gt;IT&lt;/Language&gt;\n            &lt;/Context&gt;\n        &lt;/Envlp&gt;\n    &lt;/SplmtryData&gt;\n</code></pre>\n<p>Then I try to do the same using Jackson</p>\n<pre><code>XmlMapper mapper = XmlMapper.xmlBuilder().defaultUseWrapper(false).build();\nStringWriter writer = new StringWriter();\nmapper.enable(SerializationFeature.INDENT_OUTPUT);\nmapper.setSerializationInclusion(Include.NON_NULL);\nmapper.registerModule(new JakartaXmlBindAnnotationModule());\nmapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true );\nmapper.writeValue(writer, document);\nSystem.out.println(writer.toString());\n</code></pre>\n<p>Everything is correctly serialized, but the org.w3c.dom.Element property.</p>\n<pre><code>    &lt;SplmtryData&gt;\n        &lt;Envlp&gt;\n&lt;any&gt;&amp;lt;Context&gt;&amp;lt;SessionId&gt;12345&amp;lt;/SessionId&gt;&amp;lt;Language&gt;IT&amp;lt;/Language&gt;&amp;#xd;\n                &amp;lt;/Context&gt;&lt;/any&gt;\n        &lt;/Envlp&gt;\n    &lt;/SplmtryData&gt;\n</code></pre>\n<p>The first error is the erronoeous serialization of the &quot;any&quot; tag; secondly all &quot;&lt;&quot; characters are printed as &quot;&lt;&quot; (less than).</p>\n<p>I have tried to annotate the property with com.fasterxml.jackson.annotation.JsonRawValue.</p>\n<p>In this case Jackson correctly doesn't print the  tag, but instead of serializing the xml content, prints out the fully-qualified name of the correnspondent jaxb class:</p>\n   \n       com.fsajeva.rtp.iso.v10.pain013.SupplementaryDataEnvelope@427b5fb1\n   \n<p>Am I missing any configuration?</p>\n<p>P.S. I'm trying both Jaxb and Jackson serialization just for performance test purpose since the application should manage high volumes</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675947560,"post_id":75393572,"comment_id":133039648,"body_markdown":"Why would you ned to wrap it in a `ResponseEntity`? It should work by just returning that (unless you are extending the default implementation you cannot change the return type of the method).","body":"Why would you ned to wrap it in a <code>ResponseEntity</code>? It should work by just returning that (unless you are extending the default implementation you cannot change the return type of the method)."}],"answers":[{"comments":[{"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"score":0,"creation_date":1675987982,"post_id":75399110,"comment_id":133051676,"body_markdown":"seem like duplicate to use ResponseEntity with ProblemDetail","body":"seem like duplicate to use ResponseEntity with ProblemDetail"}],"tags":[],"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683321725,"creation_date":1675948405,"answer_id":75399110,"question_id":75393572,"body_markdown":"There&#39;re many ways!\r\n\r\n----------\r\n\r\nUsing `@ResponseBody`:\r\n\r\n    @ResponseBody\r\n    @ExceptionHandler(EntityNotFoundException.class)\r\n    protected ProblemDetail handleEntityNotFoundException(EntityNotFoundException ex, \r\n                                                          HttpServletRequest request) {\r\n        ProblemDetail problemDetail = forStatusAndDetail(NOT_FOUND, ex.getMessage());\r\n        problemDetail.setTitle(&quot;entity.not.found&quot;);\r\n        return problemDetail;\r\n    }\r\n\r\n----------\r\n\r\nWith Spring `ResponseEntity` `static` mode:\r\n\r\n    @ExceptionHandler(EntityNotFoundException.class)\r\n    protected ResponseEntity&lt;ProblemDetail&gt; handleEntityNotFoundException(\r\n            EntityNotFoundException ex, \r\n            HttpServletRequest request) {\r\n        ProblemDetail problemDetail = forStatusAndDetail(NOT_FOUND, ex.getMessage());\r\n        problemDetail.setTitle(&quot;entity.not.found&quot;);\r\n        return ResponseEntity.ok(problemDetail);\r\n    }\r\n\r\nOthers status supported:\r\n\r\n    accepted()\r\n    badRequest()\r\n    noContent()\r\n    notFound()\r\n    unprocessableEntity()\r\n\r\n\r\n----------\r\n\r\nExample with custom `body` and `header`:\r\n\r\n    @GetMapping(&quot;/customHeader&quot;)\r\n    ResponseEntity&lt;String&gt; customHeader() {\r\n        return ResponseEntity.ok()\r\n            .header(&quot;Custom-Header&quot;, &quot;app-custom-header&quot;)\r\n            .body(&quot;Application custom body content&quot;);\r\n    }\r\n\r\n----------\r\n\r\nOr with traditional constructor and custom status:\r\n\r\n    return new ResponseEntity&lt;&gt;(body, HttpStatus.OK);\r\n\r\n----------\r\n\r\n### Reference:\r\n\r\n - https://www.baeldung.com/spring-response-entity\r\n - https://www.baeldung.com/spring-request-response-body\r\n - https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\r\n","title":"Spring Framework ProblemDetail and ResponseEntity","body":"<p>There're many ways!</p>\n<hr />\n<p>Using <code>@ResponseBody</code>:</p>\n<pre><code>@ResponseBody\n@ExceptionHandler(EntityNotFoundException.class)\nprotected ProblemDetail handleEntityNotFoundException(EntityNotFoundException ex, \n                                                      HttpServletRequest request) {\n    ProblemDetail problemDetail = forStatusAndDetail(NOT_FOUND, ex.getMessage());\n    problemDetail.setTitle(&quot;entity.not.found&quot;);\n    return problemDetail;\n}\n</code></pre>\n<hr />\n<p>With Spring <code>ResponseEntity</code> <code>static</code> mode:</p>\n<pre><code>@ExceptionHandler(EntityNotFoundException.class)\nprotected ResponseEntity&lt;ProblemDetail&gt; handleEntityNotFoundException(\n        EntityNotFoundException ex, \n        HttpServletRequest request) {\n    ProblemDetail problemDetail = forStatusAndDetail(NOT_FOUND, ex.getMessage());\n    problemDetail.setTitle(&quot;entity.not.found&quot;);\n    return ResponseEntity.ok(problemDetail);\n}\n</code></pre>\n<p>Others status supported:</p>\n<pre><code>accepted()\nbadRequest()\nnoContent()\nnotFound()\nunprocessableEntity()\n</code></pre>\n<hr />\n<p>Example with custom <code>body</code> and <code>header</code>:</p>\n<pre><code>@GetMapping(&quot;/customHeader&quot;)\nResponseEntity&lt;String&gt; customHeader() {\n    return ResponseEntity.ok()\n        .header(&quot;Custom-Header&quot;, &quot;app-custom-header&quot;)\n        .body(&quot;Application custom body content&quot;);\n}\n</code></pre>\n<hr />\n<p>Or with traditional constructor and custom status:</p>\n<pre><code>return new ResponseEntity&lt;&gt;(body, HttpStatus.OK);\n</code></pre>\n<hr />\n<h3>Reference:</h3>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-response-entity\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-response-entity</a></li>\n<li><a href=\"https://www.baeldung.com/spring-request-response-body\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-response-body</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html</a></li>\n</ul>\n"}],"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75399110,"answer_count":1,"score":1,"last_activity_date":1690208764,"creation_date":1675909135,"question_id":75393572,"body_markdown":"In spring 6, ProblemDetail is available \r\n\r\n    @ExceptionHandler(EntityNotFoundException.class)\r\n    protected ProblemDetail handleEntityNotFoundException(EntityNotFoundException ex, HttpServletRequest request) {\r\n    \r\n        ProblemDetail problemDetail = ProblemDetail.forStatusAndDetail(HttpStatus.NOT_FOUND, ex.getMessage());\r\n        problemDetail.setTitle(&quot;entity.not.found&quot;);\r\n        return problemDetail;\r\n    }\r\n\r\n\r\n\r\nInstead of returning directly a problemDetail, is there any utility to retun a \r\n\r\n    ResponseEntity&lt;ProblemDetail&gt;\r\n","title":"Spring Framework ProblemDetail and ResponseEntity","body":"<p>In spring 6, ProblemDetail is available</p>\n<pre><code>@ExceptionHandler(EntityNotFoundException.class)\nprotected ProblemDetail handleEntityNotFoundException(EntityNotFoundException ex, HttpServletRequest request) {\n\n    ProblemDetail problemDetail = ProblemDetail.forStatusAndDetail(HttpStatus.NOT_FOUND, ex.getMessage());\n    problemDetail.setTitle(&quot;entity.not.found&quot;);\n    return problemDetail;\n}\n</code></pre>\n<p>Instead of returning directly a problemDetail, is there any utility to retun a</p>\n<pre><code>ResponseEntity&lt;ProblemDetail&gt;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1546607100,"post_id":54039484,"comment_id":94914046,"body_markdown":"I suspect these values can only be injected after the object was instanciated (which means after the constructor was executed).","body":"I suspect these values can only be injected after the object was instanciated (which means after the constructor was executed)."},{"owner":{"account_id":15057805,"reputation":157,"user_id":10867569,"display_name":"user10867569"},"score":0,"creation_date":1546607141,"post_id":54039484,"comment_id":94914069,"body_markdown":"So I need to load using Properties inside constructor as normal java?","body":"So I need to load using Properties inside constructor as normal java?"},{"owner":{"account_id":9196352,"reputation":1644,"user_id":6834956,"accept_rate":70,"display_name":"Withtaker"},"score":0,"creation_date":1546607181,"post_id":54039484,"comment_id":94914086,"body_markdown":"please provide your applications file as well.","body":"please provide your applications file as well."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1546607199,"post_id":54039484,"comment_id":94914095,"body_markdown":"I would recommend to not call ``login`` inside the constructor.","body":"I would recommend to not call <code>login</code> inside the constructor."},{"owner":{"account_id":15057805,"reputation":157,"user_id":10867569,"display_name":"user10867569"},"score":0,"creation_date":1546607219,"post_id":54039484,"comment_id":94914109,"body_markdown":"It&#39;s just `soapGWEndpoint=something`. It&#39;s basic and it&#39;s correct","body":"It&#39;s just <code>soapGWEndpoint=something</code>. It&#39;s basic and it&#39;s correct"},{"owner":{"account_id":12992146,"reputation":979,"user_id":9391041,"display_name":"cvdr"},"score":6,"creation_date":1546607248,"post_id":54039484,"comment_id":94914120,"body_markdown":"The constructor is called before properties injection; \nMaybe change the constructor to a method and use @PostConstruct resolve your problem","body":"The constructor is called before properties injection;  Maybe change the constructor to a method and use @PostConstruct resolve your problem"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":2,"creation_date":1546607375,"post_id":54039484,"comment_id":94914188,"body_markdown":"Possible duplicate of [Spring Boot @Value Properties](https://stackoverflow.com/questions/39047333/spring-boot-value-properties)?","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/39047333/spring-boot-value-properties\">Spring Boot @Value Properties</a>?"}],"answers":[{"tags":[],"owner":{"account_id":15014682,"reputation":901,"user_id":10838033,"display_name":"gbandres"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1546608310,"creation_date":1546608310,"answer_id":54039809,"question_id":54039484,"body_markdown":"Spring won&#39;t inject the preoperties&#39; values until the object is fully instantiated (The first thing that Spring will do is call your constructor, since its the default way to create a new object). You should call login() in a @PostConstruct method so Spring calls it automatically after initializing the object:\r\n\r\n    @Service\r\n    public class Customer {\r\n    \r\n        /** The soap GW endpoint. */\r\n        @Value(&quot;${soapGWEndpoint}&quot;)\r\n        private String soapGWEndpoint;\r\n    \r\n        /** The soap GW app name. */\r\n        @Value(&quot;${soapGWApplName}&quot;)\r\n        private String soapGWAppName;\r\n    \r\n        /** The soap GW user. */\r\n        @Value(&quot;${generic.user}&quot;)\r\n        private String soapGWUser;\r\n    \r\n        /** The soap GW password. */\r\n        @Value(&quot;${generic.user.password}&quot;)\r\n        private String soapGWPassword;\r\n    \r\n        public Customer () {\r\n        }\r\n\r\n        @PostConstruct\r\n        public void init() {\r\n          login(soapGWEndpoint, soapGWAppName, soapGWUser, soapGWPassword);\r\n        }\r\n    }","title":"Value is null when loading constructor","body":"<p>Spring won't inject the preoperties' values until the object is fully instantiated (The first thing that Spring will do is call your constructor, since its the default way to create a new object). You should call login() in a @PostConstruct method so Spring calls it automatically after initializing the object:</p>\n\n<pre><code>@Service\npublic class Customer {\n\n    /** The soap GW endpoint. */\n    @Value(\"${soapGWEndpoint}\")\n    private String soapGWEndpoint;\n\n    /** The soap GW app name. */\n    @Value(\"${soapGWApplName}\")\n    private String soapGWAppName;\n\n    /** The soap GW user. */\n    @Value(\"${generic.user}\")\n    private String soapGWUser;\n\n    /** The soap GW password. */\n    @Value(\"${generic.user.password}\")\n    private String soapGWPassword;\n\n    public Customer () {\n    }\n\n    @PostConstruct\n    public void init() {\n      login(soapGWEndpoint, soapGWAppName, soapGWUser, soapGWPassword);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1546611172,"creation_date":1546611172,"answer_id":54040623,"question_id":54039484,"body_markdown":"Another option is to use constructor injection like this\r\n\r\n    @Service\r\n    public class Customer {\r\n\r\n      private String soapGWEndpoint;\r\n      private String soapGWAppName;\r\n      private String soapGWUser;\r\n      private String soapGWPassword;\r\n\r\n      @Autowired\r\n      public Customer(@Value(&quot;${soapGWEndpoint}&quot;) String soapGWEndpoint,\r\n                    @Value(&quot;${soapGWApplName}&quot;) String soapGWAppName,\r\n                    @Value(&quot;${generic.user}&quot;) String soapGWUser,\r\n                    @Value(&quot;${generic.user.password}&quot;) String soapGWPassword) {\r\n        this.soapGWEndpoint = soapGWEndpoint;\r\n        this.soapGWAppName = soapGWAppName;\r\n        this.soapGWUser = soapGWUser;\r\n        this.soapGWPassword = soapGWPassword;\r\n        login(soapGWEndpoint, soapGWAppName, soapGWUser, soapGWPassword);\r\n      }\r\n    }","title":"Value is null when loading constructor","body":"<p>Another option is to use constructor injection like this</p>\n\n<pre><code>@Service\npublic class Customer {\n\n  private String soapGWEndpoint;\n  private String soapGWAppName;\n  private String soapGWUser;\n  private String soapGWPassword;\n\n  @Autowired\n  public Customer(@Value(\"${soapGWEndpoint}\") String soapGWEndpoint,\n                @Value(\"${soapGWApplName}\") String soapGWAppName,\n                @Value(\"${generic.user}\") String soapGWUser,\n                @Value(\"${generic.user.password}\") String soapGWPassword) {\n    this.soapGWEndpoint = soapGWEndpoint;\n    this.soapGWAppName = soapGWAppName;\n    this.soapGWUser = soapGWUser;\n    this.soapGWPassword = soapGWPassword;\n    login(soapGWEndpoint, soapGWAppName, soapGWUser, soapGWPassword);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592244546,"creation_date":1592244546,"answer_id":62394350,"question_id":54039484,"body_markdown":"You can use ```@PostConstruct``` after the object is initialised. Please, have a look into the sample code that I write earlier:\r\n\r\n\r\n    @Configuration\r\n    public class BrinkWebserviceConfig {\r\n        \r\n        private static final Logger LOG = LoggerFactory.getLogger(BrinkWebserviceConfig.class);\r\n        \r\n        private String accessToken;\r\n        private String locationToken;\r\n        private String domain;\r\n        \r\n        @Value(&quot;${brink.soap.settingsAPI}&quot;)\r\n        String BRINK_SETTINGS_API;\r\n        \r\n        @Value(&quot;${brink.soap.sales2API}&quot;)\r\n        String BRINK_SALES2_API;\r\n        \r\n        @Value(&quot;${brink.soap.orderingAPI}&quot;)\r\n        String BRINK_ORDERING_API;\r\n        \r\n        @Value(&quot;${brink.soap.settings2API}&quot;)\r\n        String BRINK_SETTINGS2_API;\r\n        \r\n        @PostConstruct\r\n        public void init() {\r\n            LOG.info(&quot;Loading the access and location tocken for using in the configuration and setting the clients URLs&quot;);\r\n            \r\n            loadCredentialsAndDomainURL();\r\n            loadClientsAPI();\r\n        }\r\n        \r\n        public ClientInterceptor brinkHeaderInterceptor(Logger LOG) {\r\n            \r\n            return new ClientInterceptorAdapter() {\r\n                @Override\r\n                public boolean handleRequest(MessageContext messageContext) throws WebServiceClientException {\r\n                    TransportContext context = TransportContextHolder.getTransportContext();\r\n                    HttpUrlConnection connection = (HttpUrlConnection) context.getConnection();\r\n                    try {\r\n                        connection.addRequestHeader(&quot;AccessToken&quot;, accessToken);\r\n                        connection.addRequestHeader(&quot;LocationToken&quot;, locationToken);\r\n                    } catch (IOException e) {\r\n                        LOG.error(&quot;header interceptor error&quot;, e);\r\n                        return false;\r\n                    }\r\n                    \r\n                    return true;\r\n                }\r\n            };\r\n        }\r\n        \r\n        private void loadCredentialsAndDomainURL() {\r\n            \r\n            String s = &quot;src/test/resources/brink.properties&quot;;\r\n            Resource r = new FileSystemResource(s);\r\n            \r\n            Properties props = new Properties();\r\n            \r\n            try {\r\n                props.load(r.getInputStream());\r\n    \r\n    //            accessToken = props.getProperty(&quot;token&quot;);\r\n    //            locationToken = props.getProperty(&quot;appId&quot;);\r\n                \r\n                accessToken = props.getProperty(&quot;password&quot;);\r\n                locationToken = props.getProperty(&quot;username&quot;);\r\n                domain = props.getProperty(&quot;domain1&quot;);\r\n                \r\n            } catch (IOException e) {\r\n                LOG.error(&quot;We have an error for reading the access and location tokens for Brink web-service config&quot;);\r\n            }\r\n        }\r\n        \r\n        private void loadClientsAPI() {\r\n            \r\n            BRINK_SETTINGS_API = domain + BRINK_SETTINGS_API;\r\n            BRINK_SALES2_API = domain + BRINK_SALES2_API;\r\n            BRINK_ORDERING_API = domain + BRINK_ORDERING_API;\r\n            BRINK_SETTINGS2_API = domain + BRINK_SETTINGS2_API;\r\n        }\r\n    }\r\n\r\nAt the time of calling ```loadCredentialsAndDomainURL()`` and ```loadClientsAPI()``` methods, the object is ready and can read the property values from the ```application.properties``` file. ","title":"Value is null when loading constructor","body":"<p>You can use <code>@PostConstruct</code> after the object is initialised. Please, have a look into the sample code that I write earlier:</p>\n\n<pre><code>@Configuration\npublic class BrinkWebserviceConfig {\n\n    private static final Logger LOG = LoggerFactory.getLogger(BrinkWebserviceConfig.class);\n\n    private String accessToken;\n    private String locationToken;\n    private String domain;\n\n    @Value(\"${brink.soap.settingsAPI}\")\n    String BRINK_SETTINGS_API;\n\n    @Value(\"${brink.soap.sales2API}\")\n    String BRINK_SALES2_API;\n\n    @Value(\"${brink.soap.orderingAPI}\")\n    String BRINK_ORDERING_API;\n\n    @Value(\"${brink.soap.settings2API}\")\n    String BRINK_SETTINGS2_API;\n\n    @PostConstruct\n    public void init() {\n        LOG.info(\"Loading the access and location tocken for using in the configuration and setting the clients URLs\");\n\n        loadCredentialsAndDomainURL();\n        loadClientsAPI();\n    }\n\n    public ClientInterceptor brinkHeaderInterceptor(Logger LOG) {\n\n        return new ClientInterceptorAdapter() {\n            @Override\n            public boolean handleRequest(MessageContext messageContext) throws WebServiceClientException {\n                TransportContext context = TransportContextHolder.getTransportContext();\n                HttpUrlConnection connection = (HttpUrlConnection) context.getConnection();\n                try {\n                    connection.addRequestHeader(\"AccessToken\", accessToken);\n                    connection.addRequestHeader(\"LocationToken\", locationToken);\n                } catch (IOException e) {\n                    LOG.error(\"header interceptor error\", e);\n                    return false;\n                }\n\n                return true;\n            }\n        };\n    }\n\n    private void loadCredentialsAndDomainURL() {\n\n        String s = \"src/test/resources/brink.properties\";\n        Resource r = new FileSystemResource(s);\n\n        Properties props = new Properties();\n\n        try {\n            props.load(r.getInputStream());\n\n//            accessToken = props.getProperty(\"token\");\n//            locationToken = props.getProperty(\"appId\");\n\n            accessToken = props.getProperty(\"password\");\n            locationToken = props.getProperty(\"username\");\n            domain = props.getProperty(\"domain1\");\n\n        } catch (IOException e) {\n            LOG.error(\"We have an error for reading the access and location tokens for Brink web-service config\");\n        }\n    }\n\n    private void loadClientsAPI() {\n\n        BRINK_SETTINGS_API = domain + BRINK_SETTINGS_API;\n        BRINK_SALES2_API = domain + BRINK_SALES2_API;\n        BRINK_ORDERING_API = domain + BRINK_ORDERING_API;\n        BRINK_SETTINGS2_API = domain + BRINK_SETTINGS2_API;\n    }\n}\n</code></pre>\n\n<p>At the time of calling <code>loadCredentialsAndDomainURL()`` and</code>loadClientsAPI()<code>methods, the object is ready and can read the property values from the</code>application.properties``` file. </p>\n"},{"comments":[{"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"score":0,"creation_date":1690455771,"post_id":76755425,"comment_id":135357780,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76755425/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29081223,"reputation":1,"user_id":22277203,"display_name":"dj11"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690208764,"creation_date":1690208764,"answer_id":76755425,"question_id":54039484,"body_markdown":"the issue is as soon as the object is initialized it is throwing null pointer exception","title":"Value is null when loading constructor","body":"<p>the issue is as soon as the object is initialized it is throwing null pointer exception</p>\n"}],"owner":{"account_id":15057805,"reputation":157,"user_id":10867569,"display_name":"user10867569"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5801,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1690208764,"creation_date":1546606905,"question_id":54039484,"body_markdown":"Instead of using `Properties` inside the constructor I saw `@Value` annotation should do the trick.\r\n\r\nIt works in another implementation that I have but here it doesn&#39;t\r\n\r\nController:\r\n\r\n    @Autowired\r\n    private Customer customer;\r\n\r\nMy Class\r\n\r\n    @Service\r\n    public class Customer {\r\n  \r\n        /** The soap GW endpoint. */\r\n\t    @Value(&quot;${soapGWEndpoint}&quot;)\r\n\t    private String soapGWEndpoint;\r\n\t\r\n\t    /** The soap GW app name. */\r\n\t    @Value(&quot;${soapGWApplName}&quot;)\r\n\t    private String soapGWAppName;\r\n\t\r\n\t    /** The soap GW user. */\r\n\t    @Value(&quot;${generic.user}&quot;)\r\n\t    private String soapGWUser;\r\n\t\r\n\t    /** The soap GW password. */\r\n\t    @Value(&quot;${generic.user.password}&quot;)\r\n\t    private String soapGWPassword;\r\n           \r\n        public Customer () {\r\n            // All parameters are null:\r\n\t\t    login(soapGWEndpoint, soapGWAppName, soapGWUser, soapGWPassword);\r\n\t    }\r\n    }\r\n\r\nBut they are on the application.properties file.\r\n\r\nWhy in this occasion I cannot use @Value?\r\n\r\n         \r\n\r\n","title":"Value is null when loading constructor","body":"<p>Instead of using <code>Properties</code> inside the constructor I saw <code>@Value</code> annotation should do the trick.</p>\n\n<p>It works in another implementation that I have but here it doesn't</p>\n\n<p>Controller:</p>\n\n<pre><code>@Autowired\nprivate Customer customer;\n</code></pre>\n\n<p>My Class</p>\n\n<pre><code>@Service\npublic class Customer {\n\n    /** The soap GW endpoint. */\n    @Value(\"${soapGWEndpoint}\")\n    private String soapGWEndpoint;\n\n    /** The soap GW app name. */\n    @Value(\"${soapGWApplName}\")\n    private String soapGWAppName;\n\n    /** The soap GW user. */\n    @Value(\"${generic.user}\")\n    private String soapGWUser;\n\n    /** The soap GW password. */\n    @Value(\"${generic.user.password}\")\n    private String soapGWPassword;\n\n    public Customer () {\n        // All parameters are null:\n        login(soapGWEndpoint, soapGWAppName, soapGWUser, soapGWPassword);\n    }\n}\n</code></pre>\n\n<p>But they are on the application.properties file.</p>\n\n<p>Why in this occasion I cannot use @Value?</p>\n"},{"tags":["java","android","firebase","android-camerax"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690264323,"post_id":76755423,"comment_id":135324985,"body_markdown":"So it&#39;s a problem related to the camera rather than Firebase, right?","body":"So it&#39;s a problem related to the camera rather than Firebase, right?"},{"owner":{"account_id":29079571,"reputation":1,"user_id":22275928,"display_name":"Werther Leiden"},"score":0,"creation_date":1690273307,"post_id":76755423,"comment_id":135326544,"body_markdown":"I think it could be both, because when using only the camera function, it works but with the face detection it does not anymore, the video gets corrupted or I get the error:8","body":"I think it could be both, because when using only the camera function, it works but with the face detection it does not anymore, the video gets corrupted or I get the error:8"},{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1690307182,"post_id":76755423,"comment_id":135334175,"body_markdown":"I would recommend checking out the `LifecycelCameraController` API, it handles some of the recording logic for you so there is less chance for you to make a mistake. Also not sure how you plan to do the face detection but if you are using MLKit, there is `MLKitAnalyzer`.  I noticed there is a `recordingImageAnalysis` too but unused. Just FYI CameraX only supports one ImageAnalysis instance.","body":"I would recommend checking out the <code>LifecycelCameraController</code> API, it handles some of the recording logic for you so there is less chance for you to make a mistake. Also not sure how you plan to do the face detection but if you are using MLKit, there is <code>MLKitAnalyzer</code>.  I noticed there is a <code>recordingImageAnalysis</code> too but unused. Just FYI CameraX only supports one ImageAnalysis instance."}],"owner":{"account_id":29079571,"reputation":1,"user_id":22275928,"display_name":"Werther Leiden"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690208748,"creation_date":1690208748,"question_id":76755423,"body_markdown":"I have this class which opens the Camera with CameraX together with a face detection. When I start the camera, the face detetction is working and I can click on my button &quot;id:capture&quot;, which starts the recording. After clicking on it again, the recording stops and I get the error  ERROR_SERVER_DIED (Error:8), the video will not be saved on my device.\r\n\r\nThis is the part of my Code,  the problem is in\r\n\r\n```\r\npublic void captureVideo()\r\n```\r\n\r\nI added some logs, the video recording does start, but it does not safe the video. Is there a problem with using the preview for the face detection and the recording? Thank you for your help in advance!\r\n\r\n    public class FaceDetection extends AppCompatActivity {\r\n        private ImageAnalysis imageAnalysis1;\r\n        VideoCapture&lt;Recorder&gt; videoCapture = null;\r\n        private boolean isCameraInitialized = false; // Declare isCameraInitialized here\r\n        int cameraFacing = CameraSelector.LENS_FACING_FRONT;\r\n        ImageButton capture;\r\n        ProcessCameraProvider cameraProvider; // Declare cameraProvider here\r\n        PreviewView previewView;\r\n        private Preview preview;\r\n        private static final int REQUEST_VIDEO_CAPTURE = 1;\r\n        private ImageCapture imageCapture;\r\n        private ImageAnalysis imageAnalysis;\r\n        private DrawLayerAroundFace drawLayerAroundFace;\r\n        Recording recording = null;\r\n        private ImageAnalysis previewImageAnalysis;\r\n        private ImageAnalysis recordingImageAnalysis;\r\n    \r\n        private TextToSpeech textToSpeech;\r\n    private RelativeLayout rootview; \r\n    private TextView textView; \r\n    private boolean isRecording = false;\r\n    private BaseImage baseImageInstance;\r\n    \r\n    private MediaRecorder mediaRecorder;\r\n    private static final int REQUEST_PERMISSIONS_CODE = 1;\r\n    private Handler handler;\r\n    CameraSelector cameraSelector; \r\n    \r\n    private final ActivityResultLauncher&lt;String&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\r\n        if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n             startCamera(cameraFacing);\r\n        }\r\n    });\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_detection);\r\n    \r\n    \r\n    \r\n        // Initialize the DrawLayerAroundFace with the current activity and an empty bounding box\r\n        drawLayerAroundFace = new DrawLayerAroundFace(this);\r\n    \r\n        previewView = findViewById(R.id.pv);\r\n    \r\n        // Initialize the TextToSpeech instance\r\n        textToSpeech = new TextToSpeech(this, status -&gt; {\r\n            if (status == TextToSpeech.SUCCESS) {\r\n                // TextToSpeech initialisierung erfolgreich\r\n            } else {\r\n                // TextToSpeech could not be initillized\r\n            }\r\n        });\r\n        // Initialize the rootview using the correct ID\r\n        rootview = findViewById(R.id.conlay);\r\n    \r\n        // Initialize the textView using the correct ID\r\n        textView = findViewById(R.id.textView3);\r\n    \r\n    // Pass the Context reference to the BaseImage constructor // Initialize the imageAnalysis1 variable imageAnalysis1 = new ImageAnalysis.Builder() .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST) .setTargetResolution(new Size(900, 1200)) .build();    // Pass the Context reference to the BaseImage constructor\r\n        BaseImage baseImage = new BaseImage(this, textToSpeech, rootview, textView);\r\n    \r\n        // Set the BaseImage instance as the analyzer for the ImageAnalysis\r\n        imageAnalysis1.setAnalyzer(ContextCompat.getMainExecutor(this), baseImage);\r\n    \r\n    \r\n        renderImage();\r\n    \r\n    \r\n    \r\n        baseImageInstance = new BaseImage(this, textToSpeech, rootview, textView);\r\n    \r\n        ImageButton startCameraButton = findViewById(R.id.capture);\r\n        startCameraButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Check camera permission and start the camera\r\n                if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n                    activityResultLauncher.launch(Manifest.permission.CAMERA);\r\n                } else {\r\n                    startCamera(cameraFacing);\r\n                }\r\n            }\r\n        });\r\n    \r\n        capture = findViewById(R.id.capture);\r\n        capture.setOnClickListener(view -&gt; {\r\n            // Check camera permission\r\n            if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n                activityResultLauncher.launch(Manifest.permission.CAMERA);\r\n            }\r\n            // Check audio recording permission\r\n            else if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n                activityResultLauncher.launch(Manifest.permission.RECORD_AUDIO);\r\n            }\r\n            // Check write storage permission for Android versions &lt;= P\r\n            else if (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P &amp;&amp; ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                activityResultLauncher.launch(Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n            }\r\n            // Start video capture\r\n            else {\r\n                captureVideo();\r\n            }\r\n        });\r\n    \r\n        // Check camera permission and start the camera\r\n    \r\n    \r\n        if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            activityResultLauncher.launch(Manifest.permission.CAMERA);\r\n        } else {\r\n            startCamera(cameraFacing);\r\n        }\r\n    \r\n    \r\n        handler = new Handler(Looper.getMainLooper());\r\n    }\r\n    \r\n    // Call this method when you want to start video recording\r\n    public void captureVideo() {\r\n        capture.setImageResource(R.drawable.round_stop_circle_24);\r\n        Recording recording1 = recording;\r\n        if (recording1 != null) {\r\n            // Stop ongoing recording\r\n            recording1.stop();\r\n            recording = null;\r\n            return;\r\n        }\r\n    \r\n        // Generate file name for the captured video\r\n        String name = new SimpleDateFormat(&quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;, Locale.getDefault()).format(System.currentTimeMillis());\r\n    \r\n        // Prepare media store output options for video capture\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name);\r\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\r\n        contentValues.put(MediaStore.Video.Media.RELATIVE_PATH, &quot;Movies/CameraX-Video&quot;);\r\n        MediaStoreOutputOptions options = new MediaStoreOutputOptions.Builder(getContentResolver(), MediaStore.Video.Media.EXTERNAL_CONTENT_URI)\r\n                .setContentValues(contentValues).build();\r\n    \r\n        // Check audio recording permission\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n    \r\n        // Start video recording\r\n        recording = videoCapture.getOutput().prepareRecording(FaceDetection.this, options).withAudioEnabled().start(ContextCompat.getMainExecutor(FaceDetection.this), videoRecordEvent -&gt; {\r\n            if (videoRecordEvent instanceof VideoRecordEvent.Start) {\r\n                capture.setEnabled(true);\r\n                // Video recording started\r\n                Log.d(&quot;VideoRecording&quot;, &quot;Video recording started&quot;);\r\n                Toast.makeText(this, &quot;Video recording started&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (videoRecordEvent instanceof VideoRecordEvent.Finalize) {\r\n                if (!((VideoRecordEvent.Finalize) videoRecordEvent).hasError()) {\r\n                    String msg = &quot;Video erfolgreich aufgezeichnet: &quot; + ((VideoRecordEvent.Finalize) videoRecordEvent).getOutputResults().getOutputUri();\r\n                    Toast.makeText(this, msg, Toast.LENGTH_SHORT).show();\r\n                    // Video recording completed successfully\r\n                    Log.d(&quot;VideoRecording&quot;, &quot;Video recording completed successfully&quot;);\r\n                } else {\r\n                    int errorCode = ((VideoRecordEvent.Finalize) videoRecordEvent).getError();\r\n                    if (errorCode == 8) {\r\n                        // Fehlercode 8 entspricht dem &quot;ERROR_SERVER_DIED&quot;-Fehler\r\n                        // MediaRecorder zur&#252;cksetzen und neu initialisieren\r\n                        if (recording != null) {\r\n                            recording.close();\r\n                            recording = null;\r\n                        }\r\n                        // Beispiel: mediaRecorder.reset(); mediaRecorder.release(); initializeMediaRecorder();\r\n                        Log.e(&quot;VideoRecording&quot;, &quot;MediaRecorder ERROR_SERVER_DIED&quot;);\r\n                        Toast.makeText(this, &quot;Error: MediaRecorder ERROR_SERVER_DIED&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        if (recording != null) { // Check if &#39;recording&#39; is null before calling close()\r\n                            recording.close();\r\n                            recording = null;\r\n                        }\r\n                        String msg = &quot;Error: &quot; + errorCode;\r\n                        Toast.makeText(this, msg, Toast.LENGTH_SHORT).show();\r\n                        // Other errors occurred during video recording\r\n                        Log.e(&quot;VideoRecording&quot;, &quot;Error during video recording: &quot; + errorCode);\r\n                    }\r\n                }\r\n                capture.setImageResource(R.drawable.round_fiber_manual_record_24);\r\n                // After stopping the recording, start the NotesActivity\r\n                Intent intent = new Intent(FaceDetection.this, NotesActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    private void startCamera(int cameraFacing) {\r\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n    \r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            try {\r\n                cameraProvider = cameraProviderFuture.get();\r\n    \r\n                // Set up preview\r\n                Preview preview = new Preview.Builder().build();\r\n                preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n    \r\n                // Set up video capture\r\n                Recorder recorder = new Recorder.Builder()\r\n                        .setQualitySelector(QualitySelector.from(Quality.HIGHEST))\r\n                        .build();\r\n                videoCapture = VideoCapture.withOutput(recorder);\r\n    \r\n                // Initialize the previewImageAnalysis\r\n                previewImageAnalysis = new ImageAnalysis.Builder()\r\n                        .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                        .setTargetResolution(new Size(900, 1200))\r\n                        .build();\r\n    \r\n                // Create an instance of BaseImage to perform face detection for preview\r\n                BaseImage baseImage = new BaseImage(this, textToSpeech, rootview, textView);\r\n    \r\n                // Set the BaseImage instance as the analyzer for the previewImageAnalysis\r\n                previewImageAnalysis.setAnalyzer(ContextCompat.getMainExecutor(this), baseImage);\r\n    \r\n                // Bind preview use cases to the camera lifecycle\r\n                cameraProvider.unbindAll();\r\n                cameraSelector = new CameraSelector.Builder().requireLensFacing(cameraFacing).build();\r\n                Camera camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview, previewImageAnalysis);\r\n    \r\n                // Camera for preview is now initialized\r\n                isCameraInitialized = true;\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, ContextCompat.getMainExecutor(this));\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    private void renderImage() {\r\n        ListenableFuture&lt;ProcessCameraProvider&gt; val = ProcessCameraProvider.getInstance(this);\r\n    \r\n        val.addListener(() -&gt; {\r\n            try {\r\n                ProcessCameraProvider processCameraProvider = val.get();\r\n                preview = new Preview.Builder().setTargetResolution(new Size(900, 1200)).build();\r\n    \r\n                CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_FRONT).build();\r\n    \r\n                preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n    \r\n                ImageCapture imageCapture = new ImageCapture.Builder().setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY).build();\r\n                ImageAnalysis imageAnalysis1 = new ImageAnalysis.Builder().setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                        .setTargetResolution(new Size(900, 1200)).build();\r\n    \r\n                // Create an instance of BaseImage to perform face detection\r\n                BaseImage baseImage = new BaseImage(this, textToSpeech, rootview, textView);\r\n    \r\n                // Set the BaseImage instance as the analyzer for the ImageAnalysis\r\n                imageAnalysis1.setAnalyzer(ContextCompat.getMainExecutor(this), baseImage);\r\n    \r\n                // Bind all use cases to the camera lifecycle\r\n                processCameraProvider.unbindAll();\r\n                Camera camera = processCameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture, imageAnalysis1);\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, ContextCompat.getMainExecutor(this));\r\n    }\r\n    \r\n    \r\n    \r\n    }","title":"Java, Android, camerax programming. Error: MediaRecorder ERROR_SERVER_DIED (Error:8)","body":"<p>I have this class which opens the Camera with CameraX together with a face detection. When I start the camera, the face detetction is working and I can click on my button &quot;id:capture&quot;, which starts the recording. After clicking on it again, the recording stops and I get the error  ERROR_SERVER_DIED (Error:8), the video will not be saved on my device.</p>\n<p>This is the part of my Code,  the problem is in</p>\n<pre><code>public void captureVideo()\n</code></pre>\n<p>I added some logs, the video recording does start, but it does not safe the video. Is there a problem with using the preview for the face detection and the recording? Thank you for your help in advance!</p>\n<pre><code>public class FaceDetection extends AppCompatActivity {\n    private ImageAnalysis imageAnalysis1;\n    VideoCapture&lt;Recorder&gt; videoCapture = null;\n    private boolean isCameraInitialized = false; // Declare isCameraInitialized here\n    int cameraFacing = CameraSelector.LENS_FACING_FRONT;\n    ImageButton capture;\n    ProcessCameraProvider cameraProvider; // Declare cameraProvider here\n    PreviewView previewView;\n    private Preview preview;\n    private static final int REQUEST_VIDEO_CAPTURE = 1;\n    private ImageCapture imageCapture;\n    private ImageAnalysis imageAnalysis;\n    private DrawLayerAroundFace drawLayerAroundFace;\n    Recording recording = null;\n    private ImageAnalysis previewImageAnalysis;\n    private ImageAnalysis recordingImageAnalysis;\n\n    private TextToSpeech textToSpeech;\nprivate RelativeLayout rootview; \nprivate TextView textView; \nprivate boolean isRecording = false;\nprivate BaseImage baseImageInstance;\n\nprivate MediaRecorder mediaRecorder;\nprivate static final int REQUEST_PERMISSIONS_CODE = 1;\nprivate Handler handler;\nCameraSelector cameraSelector; \n\nprivate final ActivityResultLauncher&lt;String&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\n    if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n         startCamera(cameraFacing);\n    }\n});\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_detection);\n\n\n\n    // Initialize the DrawLayerAroundFace with the current activity and an empty bounding box\n    drawLayerAroundFace = new DrawLayerAroundFace(this);\n\n    previewView = findViewById(R.id.pv);\n\n    // Initialize the TextToSpeech instance\n    textToSpeech = new TextToSpeech(this, status -&gt; {\n        if (status == TextToSpeech.SUCCESS) {\n            // TextToSpeech initialisierung erfolgreich\n        } else {\n            // TextToSpeech could not be initillized\n        }\n    });\n    // Initialize the rootview using the correct ID\n    rootview = findViewById(R.id.conlay);\n\n    // Initialize the textView using the correct ID\n    textView = findViewById(R.id.textView3);\n\n// Pass the Context reference to the BaseImage constructor // Initialize the imageAnalysis1 variable imageAnalysis1 = new ImageAnalysis.Builder() .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST) .setTargetResolution(new Size(900, 1200)) .build();    // Pass the Context reference to the BaseImage constructor\n    BaseImage baseImage = new BaseImage(this, textToSpeech, rootview, textView);\n\n    // Set the BaseImage instance as the analyzer for the ImageAnalysis\n    imageAnalysis1.setAnalyzer(ContextCompat.getMainExecutor(this), baseImage);\n\n\n    renderImage();\n\n\n\n    baseImageInstance = new BaseImage(this, textToSpeech, rootview, textView);\n\n    ImageButton startCameraButton = findViewById(R.id.capture);\n    startCameraButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // Check camera permission and start the camera\n            if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n                activityResultLauncher.launch(Manifest.permission.CAMERA);\n            } else {\n                startCamera(cameraFacing);\n            }\n        }\n    });\n\n    capture = findViewById(R.id.capture);\n    capture.setOnClickListener(view -&gt; {\n        // Check camera permission\n        if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            activityResultLauncher.launch(Manifest.permission.CAMERA);\n        }\n        // Check audio recording permission\n        else if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n            activityResultLauncher.launch(Manifest.permission.RECORD_AUDIO);\n        }\n        // Check write storage permission for Android versions &lt;= P\n        else if (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P &amp;&amp; ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            activityResultLauncher.launch(Manifest.permission.WRITE_EXTERNAL_STORAGE);\n        }\n        // Start video capture\n        else {\n            captureVideo();\n        }\n    });\n\n    // Check camera permission and start the camera\n\n\n    if (ActivityCompat.checkSelfPermission(FaceDetection.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n        activityResultLauncher.launch(Manifest.permission.CAMERA);\n    } else {\n        startCamera(cameraFacing);\n    }\n\n\n    handler = new Handler(Looper.getMainLooper());\n}\n\n// Call this method when you want to start video recording\npublic void captureVideo() {\n    capture.setImageResource(R.drawable.round_stop_circle_24);\n    Recording recording1 = recording;\n    if (recording1 != null) {\n        // Stop ongoing recording\n        recording1.stop();\n        recording = null;\n        return;\n    }\n\n    // Generate file name for the captured video\n    String name = new SimpleDateFormat(&quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;, Locale.getDefault()).format(System.currentTimeMillis());\n\n    // Prepare media store output options for video capture\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name);\n    contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\n    contentValues.put(MediaStore.Video.Media.RELATIVE_PATH, &quot;Movies/CameraX-Video&quot;);\n    MediaStoreOutputOptions options = new MediaStoreOutputOptions.Builder(getContentResolver(), MediaStore.Video.Media.EXTERNAL_CONTENT_URI)\n            .setContentValues(contentValues).build();\n\n    // Check audio recording permission\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n        return;\n    }\n\n    // Start video recording\n    recording = videoCapture.getOutput().prepareRecording(FaceDetection.this, options).withAudioEnabled().start(ContextCompat.getMainExecutor(FaceDetection.this), videoRecordEvent -&gt; {\n        if (videoRecordEvent instanceof VideoRecordEvent.Start) {\n            capture.setEnabled(true);\n            // Video recording started\n            Log.d(&quot;VideoRecording&quot;, &quot;Video recording started&quot;);\n            Toast.makeText(this, &quot;Video recording started&quot;, Toast.LENGTH_SHORT).show();\n        } else if (videoRecordEvent instanceof VideoRecordEvent.Finalize) {\n            if (!((VideoRecordEvent.Finalize) videoRecordEvent).hasError()) {\n                String msg = &quot;Video erfolgreich aufgezeichnet: &quot; + ((VideoRecordEvent.Finalize) videoRecordEvent).getOutputResults().getOutputUri();\n                Toast.makeText(this, msg, Toast.LENGTH_SHORT).show();\n                // Video recording completed successfully\n                Log.d(&quot;VideoRecording&quot;, &quot;Video recording completed successfully&quot;);\n            } else {\n                int errorCode = ((VideoRecordEvent.Finalize) videoRecordEvent).getError();\n                if (errorCode == 8) {\n                    // Fehlercode 8 entspricht dem &quot;ERROR_SERVER_DIED&quot;-Fehler\n                    // MediaRecorder zurücksetzen und neu initialisieren\n                    if (recording != null) {\n                        recording.close();\n                        recording = null;\n                    }\n                    // Beispiel: mediaRecorder.reset(); mediaRecorder.release(); initializeMediaRecorder();\n                    Log.e(&quot;VideoRecording&quot;, &quot;MediaRecorder ERROR_SERVER_DIED&quot;);\n                    Toast.makeText(this, &quot;Error: MediaRecorder ERROR_SERVER_DIED&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    if (recording != null) { // Check if 'recording' is null before calling close()\n                        recording.close();\n                        recording = null;\n                    }\n                    String msg = &quot;Error: &quot; + errorCode;\n                    Toast.makeText(this, msg, Toast.LENGTH_SHORT).show();\n                    // Other errors occurred during video recording\n                    Log.e(&quot;VideoRecording&quot;, &quot;Error during video recording: &quot; + errorCode);\n                }\n            }\n            capture.setImageResource(R.drawable.round_fiber_manual_record_24);\n            // After stopping the recording, start the NotesActivity\n            Intent intent = new Intent(FaceDetection.this, NotesActivity.class);\n            startActivity(intent);\n        }\n    });\n}\n\n\n\n\n\nprivate void startCamera(int cameraFacing) {\n    ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n\n    cameraProviderFuture.addListener(() -&gt; {\n        try {\n            cameraProvider = cameraProviderFuture.get();\n\n            // Set up preview\n            Preview preview = new Preview.Builder().build();\n            preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n            // Set up video capture\n            Recorder recorder = new Recorder.Builder()\n                    .setQualitySelector(QualitySelector.from(Quality.HIGHEST))\n                    .build();\n            videoCapture = VideoCapture.withOutput(recorder);\n\n            // Initialize the previewImageAnalysis\n            previewImageAnalysis = new ImageAnalysis.Builder()\n                    .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                    .setTargetResolution(new Size(900, 1200))\n                    .build();\n\n            // Create an instance of BaseImage to perform face detection for preview\n            BaseImage baseImage = new BaseImage(this, textToSpeech, rootview, textView);\n\n            // Set the BaseImage instance as the analyzer for the previewImageAnalysis\n            previewImageAnalysis.setAnalyzer(ContextCompat.getMainExecutor(this), baseImage);\n\n            // Bind preview use cases to the camera lifecycle\n            cameraProvider.unbindAll();\n            cameraSelector = new CameraSelector.Builder().requireLensFacing(cameraFacing).build();\n            Camera camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview, previewImageAnalysis);\n\n            // Camera for preview is now initialized\n            isCameraInitialized = true;\n        } catch (ExecutionException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }, ContextCompat.getMainExecutor(this));\n}\n\n\n\n\n\n\nprivate void renderImage() {\n    ListenableFuture&lt;ProcessCameraProvider&gt; val = ProcessCameraProvider.getInstance(this);\n\n    val.addListener(() -&gt; {\n        try {\n            ProcessCameraProvider processCameraProvider = val.get();\n            preview = new Preview.Builder().setTargetResolution(new Size(900, 1200)).build();\n\n            CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_FRONT).build();\n\n            preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n            ImageCapture imageCapture = new ImageCapture.Builder().setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY).build();\n            ImageAnalysis imageAnalysis1 = new ImageAnalysis.Builder().setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                    .setTargetResolution(new Size(900, 1200)).build();\n\n            // Create an instance of BaseImage to perform face detection\n            BaseImage baseImage = new BaseImage(this, textToSpeech, rootview, textView);\n\n            // Set the BaseImage instance as the analyzer for the ImageAnalysis\n            imageAnalysis1.setAnalyzer(ContextCompat.getMainExecutor(this), baseImage);\n\n            // Bind all use cases to the camera lifecycle\n            processCameraProvider.unbindAll();\n            Camera camera = processCameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture, imageAnalysis1);\n        } catch (ExecutionException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }, ContextCompat.getMainExecutor(this));\n}\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":17042539,"reputation":113,"user_id":12330039,"display_name":"Jeebendu kumar Behera"},"score":0,"creation_date":1673251720,"post_id":75054057,"comment_id":132447762,"body_markdown":"`\n@Transactional(&quot;tenantTransactionManager&quot;)\nI have added top of the save method \n\nGetting error Type mismatch: cannot convert from String to Transactional.TxType\nit was multi tenant based architecture\n\nif i  ll add only @Transactional\nthen\nNo qualifying bean of type &#39;org.springframework.transaction.TransactionManager&#39; available: expected single matching bean but found 2: masterTransactionManager,tenantTransactionManager\n`","body":"` @Transactional(&quot;tenantTransactionManager&quot;) I have added top of the save method   Getting error Type mismatch: cannot convert from String to Transactional.TxType it was multi tenant based architecture  if i  ll add only @Transactional then No qualifying bean of type &#39;org.springframework.transaction.TransactionManager&#39; available: expected single matching bean but found 2: masterTransactionManager,tenantTransactionManager `"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1673258671,"post_id":75054057,"comment_id":132449821,"body_markdown":"Then you need to configure your application correctly so that the `@Transactional` annotation can be used.","body":"Then you need to configure your application correctly so that the <code>@Transactional</code> annotation can be used."},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1673268076,"post_id":75054057,"comment_id":132452978,"body_markdown":"@JeebendukumarBehera great! Can you please mark the answer as accepted (any maybe upvote as well)? :)","body":"@JeebendukumarBehera great! Can you please mark the answer as accepted (any maybe upvote as well)? :)"}],"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673247975,"creation_date":1673247975,"answer_id":75054057,"question_id":75048705,"body_markdown":"Try annotating your method with `@Transactional`. Then then `Customer` won&#39;t get detached within the method.","title":"detached entity passed to persist - springboot","body":"<p>Try annotating your method with <code>@Transactional</code>. Then then <code>Customer</code> won't get detached within the method.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1690475784,"post_id":76755387,"comment_id":135362519,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76755387/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29072593,"reputation":1,"user_id":22270528,"display_name":"Sandeep"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690208398,"creation_date":1690208398,"answer_id":76755387,"question_id":75048705,"body_markdown":"This type of error arise when more then one entry found with same id (@id column value) . ","title":"detached entity passed to persist - springboot","body":"<p>This type of error arise when more then one entry found with same id (@id column value) .</p>\n"}],"owner":{"account_id":17042539,"reputation":113,"user_id":12330039,"display_name":"Jeebendu kumar Behera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75054057,"answer_count":2,"score":2,"last_activity_date":1690208398,"creation_date":1673189387,"question_id":75048705,"body_markdown":"Sales Order save not working for existing Customer but working for new Customer\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;sales_order&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class SalesOrder extends Auditable&lt;String&gt;  implements Serializable {\r\n\t\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\t@OneToOne(fetch = FetchType.EAGER,cascade=CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;customer_id&quot;, nullable = false)\r\n\tprivate Customer customer;\r\n\t\r\n\r\n@Entity\r\n@Table(name = &quot;customer&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class Customer extends Auditable&lt;String&gt;  implements Serializable {\r\n\t\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\t@OneToOne(mappedBy=&quot;customer&quot;,cascade={CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST,CascadeType.REFRESH})\r\n    private SalesOrder salesOrder;\r\n\t\r\n```\r\n\r\n\r\n```java\r\nSalesOrder salesOrder = new SalesOrder();\r\n\t\t\tBranch branch = BranchContextHolder.getCurrentBranch();\r\n\t\t\tString nextSequense = null;\r\n\t\t\tif(salesOrderDto.getId()==null) {\r\n\t\t\t\tsalesOrder = new SalesOrder(salesOrderDto);\r\n\t\t\t\tsalesOrder.setBranch(branch);\r\n\t\t\t\tif(customerRepository.existsByPhone(salesOrderDto.getCustomer().getPhone())) {\r\n\t\t\t\t\tCustomer customer = customerRepository.findCustomerByPhone(salesOrderDto.getCustomer().getPhone());\r\n\t\t\t\t\tcustomer.setSalesOrder(salesOrder);\r\n\t\t\t\t\tsalesOrder.setCustomer(customer);\r\n\t\t\t\t}\r\n\t\t\t\tnextSequense = sequenceService.getNextSequense(branch.getId(),module.getId());\r\n\t\t\t\tsalesOrder.setUid(nextSequense);\r\n\t\t\t}\r\n\r\n//save sales order\r\nsalesOrder = salesOrderRepository.save(salesOrder);\r\n```\r\n\r\nOn save getting error:\r\n\r\n```\r\ndetached entity passed to persist: com.jee.cms.app.customer.model.Customer; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.jee.cms.app.customer.model.Customer\r\n```\r\n\r\nAnything I am missing?","title":"detached entity passed to persist - springboot","body":"<p>Sales Order save not working for existing Customer but working for new Customer</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;sales_order&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class SalesOrder extends Auditable&lt;String&gt;  implements Serializable {\n    \n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Long id;\n    \n    @OneToOne(fetch = FetchType.EAGER,cascade=CascadeType.ALL)\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = false)\n    private Customer customer;\n    \n\n@Entity\n@Table(name = &quot;customer&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class Customer extends Auditable&lt;String&gt;  implements Serializable {\n    \n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Long id;\n    \n    @OneToOne(mappedBy=&quot;customer&quot;,cascade={CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST,CascadeType.REFRESH})\n    private SalesOrder salesOrder;\n    \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>SalesOrder salesOrder = new SalesOrder();\n            Branch branch = BranchContextHolder.getCurrentBranch();\n            String nextSequense = null;\n            if(salesOrderDto.getId()==null) {\n                salesOrder = new SalesOrder(salesOrderDto);\n                salesOrder.setBranch(branch);\n                if(customerRepository.existsByPhone(salesOrderDto.getCustomer().getPhone())) {\n                    Customer customer = customerRepository.findCustomerByPhone(salesOrderDto.getCustomer().getPhone());\n                    customer.setSalesOrder(salesOrder);\n                    salesOrder.setCustomer(customer);\n                }\n                nextSequense = sequenceService.getNextSequense(branch.getId(),module.getId());\n                salesOrder.setUid(nextSequense);\n            }\n\n//save sales order\nsalesOrder = salesOrderRepository.save(salesOrder);\n</code></pre>\n<p>On save getting error:</p>\n<pre><code>detached entity passed to persist: com.jee.cms.app.customer.model.Customer; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.jee.cms.app.customer.model.Customer\n</code></pre>\n<p>Anything I am missing?</p>\n"},{"tags":["java","clock"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1690207169,"post_id":76755184,"comment_id":135317310,"body_markdown":"I don&#39;t see a thread, I don&#39;t see a loop ... why exactly do you expect (parts of) your code to be executed more than once?","body":"I don&#39;t see a thread, I don&#39;t see a loop ... why exactly do you expect (parts of) your code to be executed more than once?"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1690207174,"post_id":76755184,"comment_id":135317312,"body_markdown":"I would recommend looking up a tutorial about loops. If you want some code to repeat more than once understanding the concept of loops is important and stackoverflow is not the right place to learn such basic knowledge.","body":"I would recommend looking up a tutorial about loops. If you want some code to repeat more than once understanding the concept of loops is important and stackoverflow is not the right place to learn such basic knowledge."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1690207815,"post_id":76755184,"comment_id":135317446,"body_markdown":"The instructions don&#39;t say anything about making it loop.","body":"The instructions don&#39;t say anything about making it loop."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1690208924,"post_id":76755184,"comment_id":135317676,"body_markdown":"@001 no, they don&#39;t. They do command to: &quot;figure out the problem.&quot;","body":"@001 no, they don&#39;t. They do command to: &quot;figure out the problem.&quot;"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1690215040,"post_id":76755184,"comment_id":135319039,"body_markdown":"You will find answers to your problem on StackOverflow. Please only post a question if there was nobody asking something similar before.","body":"You will find answers to your problem on StackOverflow. Please only post a question if there was nobody asking something similar before."},{"owner":{"account_id":28995898,"reputation":1,"user_id":22210588,"display_name":"Chen Liang"},"score":0,"creation_date":1690251204,"post_id":76755184,"comment_id":135323869,"body_markdown":"Sorry,I assume that I do not describe the question clearly.  Maybe the Main function is given and I CANNOT add any other statement to the component. So I wonder where to put the loop? If I put an infinite loop in the function tick(), the main function can never implenment the statement &quot;System.out.println(clock)&quot;","body":"Sorry,I assume that I do not describe the question clearly.  Maybe the Main function is given and I CANNOT add any other statement to the component. So I wonder where to put the loop? If I put an infinite loop in the function tick(), the main function can never implenment the statement &quot;System.out.println(clock)&quot;"}],"answers":[{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1690208742,"post_id":76755276,"comment_id":135317629,"body_markdown":"never just put a link as an answer. It becomes pointless once the link is removed","body":"never just put a link as an answer. It becomes pointless once the link is removed"},{"owner":{"account_id":28995898,"reputation":1,"user_id":22210588,"display_name":"Chen Liang"},"score":0,"creation_date":1690209075,"post_id":76755276,"comment_id":135317711,"body_markdown":"So maybe the expected programme can run constantly until I break the loop. So actually I need a infinite loop and I can see the numbers appearing fast on my screen. However,if I bulid an inifite loop in the function tick(), the statement &quot;System.out.println()…&quot; can never be implemented","body":"So maybe the expected programme can run constantly until I break the loop. So actually I need a infinite loop and I can see the numbers appearing fast on my screen. However,if I bulid an inifite loop in the function tick(), the statement &quot;System.out.println()…&quot; can never be implemented"},{"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"score":0,"creation_date":1690455853,"post_id":76755276,"comment_id":135357792,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76755276/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25568801,"reputation":33,"user_id":19349516,"display_name":"Humke"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690207522,"creation_date":1690207522,"answer_id":76755276,"question_id":76755184,"body_markdown":"It looks like you are missing some kind of loop in your main function. Maybe have a look at this source: https://www.geeksforgeeks.org/loops-in-java/\r\n\r\nBut make sure you don&#39;t build an infinite loop. You should add some kind of termination. Hope this helps!","title":"The programme I write is called Clock. I CANNOT run the clock constantly with the certain main function given(JAVA)","body":"<p>It looks like you are missing some kind of loop in your main function. Maybe have a look at this source: <a href=\"https://www.geeksforgeeks.org/loops-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/loops-in-java/</a></p>\n<p>But make sure you don't build an infinite loop. You should add some kind of termination. Hope this helps!</p>\n"}],"owner":{"account_id":28995898,"reputation":1,"user_id":22210588,"display_name":"Chen Liang"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690207890,"creation_date":1690206863,"question_id":76755184,"body_markdown":"The original question is below:\r\n\r\n&gt; You are required to complete the code of the Clock.\r\nPlease finish writing the code of the two classes, Display and Clock and then figure out the problem.\r\n&gt;\r\n&gt; Please include the following public functions in class of Clock:\r\n&gt; 1. public Clock(int hour,int minute,int second);  Initialize the time\r\n&gt; 2. public void tick(); Run the clock\r\n&gt; 3. public String toString(); Return a String in the form of &quot;hh:mm:ss&quot;\r\n&gt;\r\n&gt; Then write a class of Main which should be the same as the following Main function:\r\n&gt;\r\n&gt;```java\r\n&gt;public static void main(String[] args) {\r\n&gt;    java.util.Scanner in = new java.util.Scanner(System.in);\r\n&gt;\r\n&gt;    Clock clock = new Clock(in.nextInt(), in.nextInt(), in.nextInt());\r\n&gt;    clock.tick();\r\n&gt;\r\n&gt;    System.out.println(clock);\r\n&gt;\r\n&gt;    in.close();\r\n&gt;}\r\n&gt;```\r\n\r\nHere is my code:\r\n\r\n```java\r\npublic class Main \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        java.util.Scanner in = new java.util.Scanner(System.in);\r\n\r\n        Clock clock = new Clock(in.nextInt(), in.nextInt(), in.nextInt());\r\n        clock.tick();\r\n\r\n        System.out.println(clock);\r\n\r\n        in.close();\r\n    }\r\n}\r\n```\r\n\r\n```java    \r\nclass Display \r\n{\r\n    int value = 0; // value represent the time\r\n    int limit = 0; // limit represent the largest number in time\r\n    \r\n    public Display(int limit) \r\n    {\r\n        this.limit = limit;        \r\n    }\r\n    \r\n    public void increase() \r\n    {\r\n        value++;                   \r\n        if (value == limit) \r\n        {\r\n            value = 0;               \r\n        }\r\n    }\r\n    \r\n    public int getValue() \r\n    {\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\n```java    \r\nclass Clock  \r\n{\r\n    Display hour = new Display(24); // Assign the limit\r\n    Display minute = new Display(60);\r\n    Display second = new Display(60);\r\n    \r\n    public Clock(int x, int y, int z) { // Type in the original time\r\n       hour.value = x;\r\n       minute.value = y;\r\n       second.value = z;\r\n    }\r\n    \r\n    public void tick() { // Run the clock\r\n        second.increase();\r\n        if (second.value == 0) {\r\n            minute.increase();\r\n            if (minute.value == 0) {\r\n                hour.increase();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public String toString() {\r\n        return String.format(\r\n            &quot;%02d:%02d:%02d\\n&quot;, \r\n            hour.getValue(), \r\n            minute.getValue(),      \r\n            second.getValue()\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nWith the main function fixed, I find it impossible to run the clock constantly. The clock can just tick once and then stop. How to achieve the program.\r\n\r\nI expect that the clock can run constantly after initializing the time.","title":"The programme I write is called Clock. I CANNOT run the clock constantly with the certain main function given(JAVA)","body":"<p>The original question is below:</p>\n<blockquote>\n<p>You are required to complete the code of the Clock.\nPlease finish writing the code of the two classes, Display and Clock and then figure out the problem.</p>\n<p>Please include the following public functions in class of Clock:</p>\n<ol>\n<li>public Clock(int hour,int minute,int second);  Initialize the time</li>\n<li>public void tick(); Run the clock</li>\n<li>public String toString(); Return a String in the form of &quot;hh:mm:ss&quot;</li>\n</ol>\n<p>Then write a class of Main which should be the same as the following Main function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n   java.util.Scanner in = new java.util.Scanner(System.in);\n\n   Clock clock = new Clock(in.nextInt(), in.nextInt(), in.nextInt());\n   clock.tick();\n\n   System.out.println(clock);\n\n   in.close();\n}\n</code></pre>\n</blockquote>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main \n{\n    public static void main(String[] args) \n    {\n        java.util.Scanner in = new java.util.Scanner(System.in);\n\n        Clock clock = new Clock(in.nextInt(), in.nextInt(), in.nextInt());\n        clock.tick();\n\n        System.out.println(clock);\n\n        in.close();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Display \n{\n    int value = 0; // value represent the time\n    int limit = 0; // limit represent the largest number in time\n    \n    public Display(int limit) \n    {\n        this.limit = limit;        \n    }\n    \n    public void increase() \n    {\n        value++;                   \n        if (value == limit) \n        {\n            value = 0;               \n        }\n    }\n    \n    public int getValue() \n    {\n        return value;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Clock  \n{\n    Display hour = new Display(24); // Assign the limit\n    Display minute = new Display(60);\n    Display second = new Display(60);\n    \n    public Clock(int x, int y, int z) { // Type in the original time\n       hour.value = x;\n       minute.value = y;\n       second.value = z;\n    }\n    \n    public void tick() { // Run the clock\n        second.increase();\n        if (second.value == 0) {\n            minute.increase();\n            if (minute.value == 0) {\n                hour.increase();\n            }\n        }\n    }\n    \n    public String toString() {\n        return String.format(\n            &quot;%02d:%02d:%02d\\n&quot;, \n            hour.getValue(), \n            minute.getValue(),      \n            second.getValue()\n        );\n    }\n}\n</code></pre>\n<p>With the main function fixed, I find it impossible to run the clock constantly. The clock can just tick once and then stop. How to achieve the program.</p>\n<p>I expect that the clock can run constantly after initializing the time.</p>\n"},{"tags":["java","spring-boot","rest","ssl","https"],"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1690218904,"post_id":76755297,"comment_id":135319790,"body_markdown":"Please add way more information. Please edit your question and tell us something about your specific situation and problem. If you have code also post code snippets. [How To: Ask good questions](https://stackoverflow.com/help/how-to-ask)","body":"Please add way more information. Please edit your question and tell us something about your specific situation and problem. If you have code also post code snippets. <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask good questions</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690218910,"post_id":76755297,"comment_id":135319792,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1690219859,"post_id":76755297,"comment_id":135319931,"body_markdown":"What kind of scan you did exactly?","body":"What kind of scan you did exactly?"},{"owner":{"account_id":28303302,"reputation":23,"user_id":21641687,"display_name":"Jake Turner"},"score":0,"creation_date":1690260760,"post_id":76755297,"comment_id":135324615,"body_markdown":"DAST and SAST scan @VitalyChura","body":"DAST and SAST scan @VitalyChura"}],"owner":{"account_id":28303302,"reputation":23,"user_id":21641687,"display_name":"Jake Turner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690207795,"creation_date":1690207704,"question_id":76755297,"body_markdown":"We have a JAVA Spring Boot application. On doing the scan we got this vulnerability\r\n\r\n&quot;Cookie Security: Cookie not Sent Over SSL ( 4720 )&quot;\r\n\r\nHow to fix this from the code level? How to enable the cookie encryption while returning the response in Java code? \r\n\r\nIs the decryption automatically is taken care?","title":"How to fix &quot;Cookie Security: Cookie not Sent Over SSL ( 4720 )&quot; in Java Spring Boot application?","body":"<p>We have a JAVA Spring Boot application. On doing the scan we got this vulnerability</p>\n<p>&quot;Cookie Security: Cookie not Sent Over SSL ( 4720 )&quot;</p>\n<p>How to fix this from the code level? How to enable the cookie encryption while returning the response in Java code?</p>\n<p>Is the decryption automatically is taken care?</p>\n"},{"tags":["java","lombok"],"answers":[{"comments":[{"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"score":4,"creation_date":1487723937,"post_id":42380017,"comment_id":71910425,"body_markdown":"Thanks, **chrylis** -- but how does `Person::setPassword` (from Lombok&#39;s `@Data`) and `Person.PersonBuilder::password` share a DRY implementation?","body":"Thanks, <b>chrylis</b> -- but how does <code>Person::setPassword</code> (from Lombok&#39;s <code>@Data</code>) and <code>Person.PersonBuilder::password</code> share a DRY implementation?"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1487724943,"post_id":42380017,"comment_id":71910712,"body_markdown":"@JanNielsen You really can&#39;t--the point of `Builder` is to prepopulate all of the data. Frequently, in fact, it&#39;s used with an immutable class. You might consider the &quot;constructor&quot; approach, calling `this.setPassword()` from the `User` class and disregarding coding issues entirely in the builder.","body":"@JanNielsen You really can&#39;t--the point of <code>Builder</code> is to prepopulate all of the data. Frequently, in fact, it&#39;s used with an immutable class. You might consider the &quot;constructor&quot; approach, calling <code>this.setPassword()</code> from the <code>User</code> class and disregarding coding issues entirely in the builder."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1487732578,"post_id":42380017,"comment_id":71912770,"body_markdown":"@JanNielsen The more I think about it, the more it seems to make sense to make the caller responsible for encoding the password. There&#39;s just too much going on in encoding it in a property setter. Among other things, you can&#39;t set the hashed password without using direct field access.","body":"@JanNielsen The more I think about it, the more it seems to make sense to make the caller responsible for encoding the password. There&#39;s just too much going on in encoding it in a property setter. Among other things, you can&#39;t set the hashed password without using direct field access."},{"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"score":0,"creation_date":1487733578,"post_id":42380017,"comment_id":71913033,"body_markdown":"**chrylis**, perhaps in this case. In general, `@Data` with `@Builder` and a custom setter seems useful but Lombok makes it difficult to make it DRY -- the only solution I can think of is a helper class to collect logic but if there&#39;s state then this state must be made visible to the helper -- not very satisfy...","body":"<b>chrylis</b>, perhaps in this case. In general, <code>@Data</code> with <code>@Builder</code> and a custom setter seems useful but Lombok makes it difficult to make it DRY -- the only solution I can think of is a helper class to collect logic but if there&#39;s state then this state must be made visible to the helper -- not very satisfy..."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1487734561,"post_id":42380017,"comment_id":71913312,"body_markdown":"@JanNielsen Or, if you *must* conjoin them (Spring Security, for example, prefers to handle encoding itself), have a distinct `changePassword` method.","body":"@JanNielsen Or, if you <i>must</i> conjoin them (Spring Security, for example, prefers to handle encoding itself), have a distinct <code>changePassword</code> method."},{"owner":{"account_id":1229018,"reputation":601,"user_id":1193986,"display_name":"YvesQuemener"},"score":3,"creation_date":1525242681,"post_id":42380017,"comment_id":87274556,"body_markdown":"And for people who like me are on low-caffeine and did not understand why this code does not work: do not define a &quot;UserBuilder&quot; class but a &lt;NameOfTheParentClass&gt;Builder. I read the example a bit fast and I thought this name was a standard one in Lombok to create a &quot;user-provided builder&quot;.","body":"And for people who like me are on low-caffeine and did not understand why this code does not work: do not define a &quot;UserBuilder&quot; class but a &lt;NameOfTheParentClass&gt;Builder. I read the example a bit fast and I thought this name was a standard one in Lombok to create a &quot;user-provided builder&quot;."},{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":2,"creation_date":1600765309,"post_id":42380017,"comment_id":113183469,"body_markdown":"When using `@SuperBuilder` instead of `@Builder` I was getting a _Cannot resolve symbol password_ error on `this.password`: I solved it by using the approach explained in [this answer](https://stackoverflow.com/a/63861259/334569).","body":"When using <code>@SuperBuilder</code> instead of <code>@Builder</code> I was getting a <i>Cannot resolve symbol password</i> error on <code>this.password</code>: I solved it by using the approach explained in <a href=\"https://stackoverflow.com/a/63861259/334569\">this answer</a>."}],"tags":[],"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":7,"down_vote_count":0,"up_vote_count":119,"is_accepted":true,"score":119,"last_activity_date":1487723110,"creation_date":1487720115,"answer_id":42380017,"question_id":42379899,"body_markdown":"Per [the documentation for `@Builder`](https://projectlombok.org/features/Builder.html): Just define enough skeleton yourself. In particular, Lombok will generate a class `UserBuilder`, fields mirroring the `User` fields, and builder methods, and you can provide any or all of this yourself.\r\n\r\n    @Builder\r\n    public class User {\r\n        private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\r\n\r\n        private String username;\r\n\r\n        private String password;\r\n\r\n        public static class UserBuilder {\r\n            public UserBuilder password(String password) {\r\n                this.password = ENCODER.encode(password);\r\n                return this;\r\n            }\r\n        }\r\n    }","title":"Use custom setter in Lombok&#39;s builder","body":"<p>Per <a href=\"https://projectlombok.org/features/Builder.html\" rel=\"noreferrer\">the documentation for <code>@Builder</code></a>: Just define enough skeleton yourself. In particular, Lombok will generate a class <code>UserBuilder</code>, fields mirroring the <code>User</code> fields, and builder methods, and you can provide any or all of this yourself.</p>\n\n<pre><code>@Builder\npublic class User {\n    private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\n\n    private String username;\n\n    private String password;\n\n    public static class UserBuilder {\n        public UserBuilder password(String password) {\n            this.password = ENCODER.encode(password);\n            return this;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6692704,"reputation":2426,"user_id":5161718,"display_name":"Bojan Petkovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1487724571,"creation_date":1487720861,"answer_id":42380149,"question_id":42379899,"body_markdown":"You are using setPassword rather than the builder&#39;s set method.\r\n\r\nHere is what worked for me:\r\n\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    \r\n    @Builder\r\n    @Data\r\n    public class User {\r\n        private String username;\r\n        private String password;\r\n    \r\n        public static class UserBuilder {\r\n            private String password;\r\n            public UserBuilder password(String password ) {\r\n                this.password =&quot;ENCRIYP &quot; +  password;\r\n                return this;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(User.builder().username(&quot;This is my username&quot;).password(&quot;Password&quot;).build().toString());\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThe result was: \r\n    `User(username=This is my username, password=ENCRIYP Password)`\r\n","title":"Use custom setter in Lombok&#39;s builder","body":"<p>You are using setPassword rather than the builder's set method.</p>\n\n<p>Here is what worked for me:</p>\n\n<pre><code>import lombok.Builder;\nimport lombok.Data;\n\n@Builder\n@Data\npublic class User {\n    private String username;\n    private String password;\n\n    public static class UserBuilder {\n        private String password;\n        public UserBuilder password(String password ) {\n            this.password =\"ENCRIYP \" +  password;\n            return this;\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(User.builder().username(\"This is my username\").password(\"Password\").build().toString());\n\n    }\n}\n</code></pre>\n\n<p>The result was: \n    <code>User(username=This is my username, password=ENCRIYP Password)</code></p>\n"},{"comments":[{"owner":{"account_id":2775988,"reputation":2874,"user_id":2389570,"accept_rate":62,"display_name":"Niccol&#242;"},"score":2,"creation_date":1538056257,"post_id":42393596,"comment_id":92016594,"body_markdown":"Very informative. Unfortunately the constructor of the _Custom setter and constructor_ example needs to take as many arguments as the class&#39;s field which can become rather messy..","body":"Very informative. Unfortunately the constructor of the <i>Custom setter and constructor</i> example needs to take as many arguments as the class&#39;s field which can become rather messy.."}],"tags":[],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1690207502,"creation_date":1487772017,"answer_id":42393596,"question_id":42379899,"body_markdown":"I&#39;ve accepted **chrylis**&#39;s answer but for completeness, here&#39;s are some ways to minimize customization and duplication.\r\n\r\n**Custom setter and builder with static helper**\r\n\r\nA static helper can be used to share most of the *set password* functionality across the custom `User.UserBuilder::password` method and the custom `User::setPassword` method:\r\n\r\n\r\n    @Data\r\n    @Builder\r\n    public class User {\r\n        private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\r\n    \r\n        private String password = null;\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = _encodePassword(password);\r\n        }\r\n        \r\n        public static class UserBuilder {\r\n            public UserBuilder password(String password) {\r\n                this.password = _encodePassword(password)\r\n                return this;\r\n            }\r\n        }\r\n\r\n        private static String _encodePassword(String password) {\r\n            Assert.notNull(password);\r\n            return ENCODER.encode(password);\r\n        }\r\n    }\r\n\r\n**Custom setter and constructor**\r\n\r\nA custom constructor can use `User::setPassword` which is invoked by the Lombok generated `User.UserBuilder::build()`:\r\n\r\n    @Data\r\n    @Builder\r\n    public class User {\r\n        private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\r\n    \r\n        private String password = null;\r\n    \r\n        User(String password) {\r\n            setPassword(password);\r\n        }\r\n\r\n        public void setPassword(String password) {\r\n            Assert.notNull(password);\r\n            this.password = ENCODER.encode(password);\r\n        }\r\n    }\r\n\r\n**Custom setter and constructor with static helper**\r\n\r\nOr, a little more elegantly, with a custom constructor and a static helper method:\r\n\r\n    @Data\r\n    @Builder\r\n    public class User {\r\n        private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\r\n    \r\n        private String password = null;\r\n    \r\n        User(String password) {\r\n            _encodePassword(password, this);\r\n        }\r\n\r\n        public void setPassword(String password) {\r\n            _encodePassword(password, this);\r\n        }\r\n\r\n        private static _encodePassword(String password, User user) {\r\n            Assert.notNull(password);\r\n            user.password = ENCODER.encode(password);\r\n        }\r\n    }\r\n","title":"Use custom setter in Lombok&#39;s builder","body":"<p>I've accepted <strong>chrylis</strong>'s answer but for completeness, here's are some ways to minimize customization and duplication.</p>\n<p><strong>Custom setter and builder with static helper</strong></p>\n<p>A static helper can be used to share most of the <em>set password</em> functionality across the custom <code>User.UserBuilder::password</code> method and the custom <code>User::setPassword</code> method:</p>\n<pre><code>@Data\n@Builder\npublic class User {\n    private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\n\n    private String password = null;\n\n    public void setPassword(String password) {\n        this.password = _encodePassword(password);\n    }\n    \n    public static class UserBuilder {\n        public UserBuilder password(String password) {\n            this.password = _encodePassword(password)\n            return this;\n        }\n    }\n\n    private static String _encodePassword(String password) {\n        Assert.notNull(password);\n        return ENCODER.encode(password);\n    }\n}\n</code></pre>\n<p><strong>Custom setter and constructor</strong></p>\n<p>A custom constructor can use <code>User::setPassword</code> which is invoked by the Lombok generated <code>User.UserBuilder::build()</code>:</p>\n<pre><code>@Data\n@Builder\npublic class User {\n    private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\n\n    private String password = null;\n\n    User(String password) {\n        setPassword(password);\n    }\n\n    public void setPassword(String password) {\n        Assert.notNull(password);\n        this.password = ENCODER.encode(password);\n    }\n}\n</code></pre>\n<p><strong>Custom setter and constructor with static helper</strong></p>\n<p>Or, a little more elegantly, with a custom constructor and a static helper method:</p>\n<pre><code>@Data\n@Builder\npublic class User {\n    private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\n\n    private String password = null;\n\n    User(String password) {\n        _encodePassword(password, this);\n    }\n\n    public void setPassword(String password) {\n        _encodePassword(password, this);\n    }\n\n    private static _encodePassword(String password, User user) {\n        Assert.notNull(password);\n        user.password = ENCODER.encode(password);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":77990,"reputation":743,"user_id":222272,"accept_rate":100,"display_name":"Andreas Eisele"},"score":1,"creation_date":1607589229,"post_id":62554952,"comment_id":115321547,"body_markdown":"This saved me some headaches. Thank you very much!","body":"This saved me some headaches. Thank you very much!"}],"tags":[],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593001424,"creation_date":1593001424,"answer_id":62554952,"question_id":42379899,"body_markdown":"Not really an answer to the question, but an edge case that made me to spend quite some time to find the issue.  \r\nIf you have `Builder` with custom setter on a field with `Builder.Default` value, the name of the field in the generated builder class is not the same as the original field. In fact you would have two fields instead of one: `password$value` and `password$set`.  \r\nNevertheless you can use them in the custom setter in this way:\r\n```\r\npublic UserBuilder password(String password) {\r\n  this.password$value = ENCODER.encode(password);\r\n  this.password$set = true;\r\n  return this;\r\n}\r\n```\r\nThe tricky part is that if you use the origianl field name, Intellij IDEA doesn&#39;t warn you about that (as if everything is fine, but of course it won&#39;t compile). Already submitted a bug report to the plugin.","title":"Use custom setter in Lombok&#39;s builder","body":"<p>Not really an answer to the question, but an edge case that made me to spend quite some time to find the issue.<br />\nIf you have <code>Builder</code> with custom setter on a field with <code>Builder.Default</code> value, the name of the field in the generated builder class is not the same as the original field. In fact you would have two fields instead of one: <code>password$value</code> and <code>password$set</code>.<br />\nNevertheless you can use them in the custom setter in this way:</p>\n<pre><code>public UserBuilder password(String password) {\n  this.password$value = ENCODER.encode(password);\n  this.password$set = true;\n  return this;\n}\n</code></pre>\n<p>The tricky part is that if you use the origianl field name, Intellij IDEA doesn't warn you about that (as if everything is fine, but of course it won't compile). Already submitted a bug report to the plugin.</p>\n"},{"tags":[],"owner":{"account_id":13368696,"reputation":75,"user_id":9647940,"display_name":"Marcus Chiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621454001,"creation_date":1621454001,"answer_id":67610002,"question_id":42379899,"body_markdown":"I have come across this situation at work. Below is what I&#39;ve come up with. The idea is to override Lombok&#39;s `protected User(User.UserBuilder b)` method\r\n\r\n```java\r\n@Data\r\n@Builder\r\npublic class User {\r\n    private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\r\n\r\n    private String password;\r\n    private Integer otherField;\r\n\r\n    protected User(final User.UserBuilder&lt;?, ?&gt; b) {\r\n        setPassword(b.password);\r\n        otherField = b.otherField;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        Assert.notNull(password);\r\n        this.password = ENCODER.encode(password);\r\n    }\r\n}\r\n```","title":"Use custom setter in Lombok&#39;s builder","body":"<p>I have come across this situation at work. Below is what I've come up with. The idea is to override Lombok's <code>protected User(User.UserBuilder b)</code> method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\npublic class User {\n    private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\n\n    private String password;\n    private Integer otherField;\n\n    protected User(final User.UserBuilder&lt;?, ?&gt; b) {\n        setPassword(b.password);\n        otherField = b.otherField;\n    }\n\n    public void setPassword(String password) {\n        Assert.notNull(password);\n        this.password = ENCODER.encode(password);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12021205,"reputation":89,"user_id":8794579,"display_name":"Loup Ollivier"},"score":0,"creation_date":1693556546,"post_id":75457157,"comment_id":135779556,"body_markdown":"Best answer of this topic for me. It respect the fact that I needed a builder not based on all my class parameters (legacy code with like 20 fields...).","body":"Best answer of this topic for me. It respect the fact that I needed a builder not based on all my class parameters (legacy code with like 20 fields...)."}],"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676449916,"creation_date":1676449916,"answer_id":75457157,"question_id":42379899,"body_markdown":"Just want to mention the alternative to **define the Builder on a custom constructor** instead of defining it on the class level. \r\n\r\n    @Data\r\n    public class User {\r\n        private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\r\n\r\n        private String password = null;\r\n        private Instant timestamp = Instant.now();\r\n\r\n        // The builder now calls this constructor when build() is called\r\n        @Builder\r\n        public User(String password) {\r\n            setPassword(password);\r\n        }\r\n\r\n        public void setPassword(String password) {\r\n            Assert.notNull(password);\r\n            this.password = ENCODER.encode(password);\r\n        }\r\n    }\r\n\r\nIt is quite similar to &quot;Custom setter and constructor&quot; of Jan Nielsen, but offers a bit more control. \r\n\r\n - Constructor and Builder are &quot;in sync&quot;, the Builder uses the same path to construct objects\r\n - You don&#39;t necessarily need to add all fields to the constructor\r\n - Omitted fields are not accessible in the Builder (field `timestamp` in the example)\r\n","title":"Use custom setter in Lombok&#39;s builder","body":"<p>Just want to mention the alternative to <strong>define the Builder on a custom constructor</strong> instead of defining it on the class level.</p>\n<pre><code>@Data\npublic class User {\n    private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\n\n    private String password = null;\n    private Instant timestamp = Instant.now();\n\n    // The builder now calls this constructor when build() is called\n    @Builder\n    public User(String password) {\n        setPassword(password);\n    }\n\n    public void setPassword(String password) {\n        Assert.notNull(password);\n        this.password = ENCODER.encode(password);\n    }\n}\n</code></pre>\n<p>It is quite similar to &quot;Custom setter and constructor&quot; of Jan Nielsen, but offers a bit more control.</p>\n<ul>\n<li>Constructor and Builder are &quot;in sync&quot;, the Builder uses the same path to construct objects</li>\n<li>You don't necessarily need to add all fields to the constructor</li>\n<li>Omitted fields are not accessible in the Builder (field <code>timestamp</code> in the example)</li>\n</ul>\n"}],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68681,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":42380017,"answer_count":6,"score":74,"last_activity_date":1690207502,"creation_date":1487719391,"question_id":42379899,"body_markdown":"I have a custom setter in my Lombok-based POJO:\r\n\r\n    @Data\r\n    @Builder\r\n    public class User {\r\n        private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\r\n\r\n        private String password = null;\r\n\r\n        public void setPassword(String password) {\r\n            Assert.notNull(password);\r\n            this.password = ENCODER.encode(password);\r\n        }\r\n\r\nbut when I use the Lombok generated builder:\r\n\r\n    User user = User.builder()\r\n        .password(password)\r\n        .build();\r\n\r\nmy custom setter is not invoked, and so the password is not encoded. This makes me sad. \r\n\r\nMy custom setter is, of course, invoked when I use it directly:\r\n\r\n    public void changePassword(String password, User user) {\r\n        user.setPassword(password);\r\n    }\r\n\r\nWhat can I do to have Lombok&#39;s builder use my custom setter?","title":"Use custom setter in Lombok&#39;s builder","body":"<p>I have a custom setter in my Lombok-based POJO:</p>\n\n<pre><code>@Data\n@Builder\npublic class User {\n    private static final PasswordEncoder ENCODER = new BCryptPasswordEncoder();\n\n    private String password = null;\n\n    public void setPassword(String password) {\n        Assert.notNull(password);\n        this.password = ENCODER.encode(password);\n    }\n</code></pre>\n\n<p>but when I use the Lombok generated builder:</p>\n\n<pre><code>User user = User.builder()\n    .password(password)\n    .build();\n</code></pre>\n\n<p>my custom setter is not invoked, and so the password is not encoded. This makes me sad. </p>\n\n<p>My custom setter is, of course, invoked when I use it directly:</p>\n\n<pre><code>public void changePassword(String password, User user) {\n    user.setPassword(password);\n}\n</code></pre>\n\n<p>What can I do to have Lombok's builder use my custom setter?</p>\n"},{"tags":["java","html","validation","testing"],"comments":[{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1362569370,"post_id":15244884,"comment_id":21498570,"body_markdown":"Did you have a look at [JTidy](http://jtidy.sourceforge.net/)?","body":"Did you have a look at <a href=\"http://jtidy.sourceforge.net/\" rel=\"nofollow noreferrer\">JTidy</a>?"},{"owner":{"account_id":228062,"reputation":137,"user_id":490134,"display_name":"olemartin"},"score":0,"creation_date":1362581243,"post_id":15244884,"comment_id":21505973,"body_markdown":"Yes, but it doesn&#39;t support html5","body":"Yes, but it doesn&#39;t support html5"}],"owner":{"account_id":228062,"reputation":137,"user_id":490134,"display_name":"olemartin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690207269,"creation_date":1362566016,"question_id":15244884,"body_markdown":"I want to create a html5-validator that catches the obsolete tags and doesn&#39;t allow tags/attributes that are not currently mentioned in the working draft of html5.\r\n\r\nI have looked into validator.nu, but I am not able to get it to fail on unknown tags/attributes. I have also tried using xerces and schema-validation with a html5-schema, but this doesn&#39;t work as well as I want to.\r\n\r\nSo, my question is, have anyone created a piece of java-code that does html5-validation? Can I please have a look at it :-)","title":"html5 validation as an automatic test in Java","body":"<p>I want to create a html5-validator that catches the obsolete tags and doesn't allow tags/attributes that are not currently mentioned in the working draft of html5.</p>\n\n<p>I have looked into validator.nu, but I am not able to get it to fail on unknown tags/attributes. I have also tried using xerces and schema-validation with a html5-schema, but this doesn't work as well as I want to.</p>\n\n<p>So, my question is, have anyone created a piece of java-code that does html5-validation? Can I please have a look at it :-)</p>\n"},{"tags":["java","spring","scheduled-tasks"],"answers":[{"comments":[{"owner":{"account_id":3751239,"reputation":2505,"user_id":3118692,"accept_rate":53,"display_name":"Syed"},"score":0,"creation_date":1532851924,"post_id":51571549,"comment_id":90122197,"body_markdown":"We are not using Quartz scheduler. Only option it is task scheduler for now","body":"We are not using Quartz scheduler. Only option it is task scheduler for now"}],"tags":[],"owner":{"account_id":2158882,"reputation":559,"user_id":1913504,"display_name":"Faiz Akram"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532782049,"creation_date":1532782049,"answer_id":51571549,"question_id":51571519,"body_markdown":"You have to implement a cluster environment quartz scheduler. for example in GitHub with the database.\r\n\r\nClick here https://github.com/faizakram/Application\r\n","title":"Rows getting locked while updating the table using Task scheduler in Java","body":"<p>You have to implement a cluster environment quartz scheduler. for example in GitHub with the database.</p>\n\n<p>Click here <a href=\"https://github.com/faizakram/Application\" rel=\"nofollow noreferrer\">https://github.com/faizakram/Application</a></p>\n"}],"owner":{"account_id":3751239,"reputation":2505,"user_id":3118692,"accept_rate":53,"display_name":"Syed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690206820,"creation_date":1532781767,"question_id":51571519,"body_markdown":"I&#39;ve written a Task scheduler in Java where it calls the method for every one min. Now this application is deployed into SIT server which has 2 instances running on it. Now let me tell you the scenario which I have built.\r\n\r\n    &lt;task:scheduled-tasks scheduler=&quot;myScheduler&quot;&gt;\r\n        &lt;task:scheduled ref=&quot;myBean&quot; method=&quot;takeLunch&quot; fixed-delay=&quot;60000&quot; /&gt;\r\n    &lt;/task:scheduled-tasks&gt;\r\n \r\n    &lt;task:scheduler id=&quot;myScheduler&quot;/&gt;\r\n\r\nThe flow is \r\n\r\n1. Get the employees who are ready to take the lunch. This is the eligiblity condition.\r\n\r\n       SELECT EMP_ID FROM EMPLOYEES WHERE WORK_STATUS=&#39;COMPLETED&#39; \r\n\r\n   (Can there be a deadlock here because both instances try to fire the query at the same time?)\r\n\r\n\r\n2. I&#39;ve another table called &quot;LUNCH_STATUS&quot; where I will keep track of their lunch.\r\n\r\n       INSERT INTO LUNCH_STATUS(EMP_ID,STATUS) .....\r\n\r\n   Here all employee ids will be inserted with the status as empty.\r\n\r\n3. I will get the first employee from the LUNCH_STATUS whose status is empty and I will update in the same table as the status &quot;LUNCH IN PROGRESS&quot;\r\n\r\n4. While taking lunch, I&#39;ve some business logic, once the lunch is done, I will update the status as &quot;COMPLETED&quot;\r\n\r\n       UPDATE LUNCH_STATUS SET STATUS=&#39;COMPLETED&#39; WHERE EMP_ID  = ?\r\n\r\n5. Once this update is done, I should update the main table EMPLOYEES\r\n\r\n       UPDATE EMPLOYEES SET WORK_STATUS=&#39;WORK RESUMED&#39; WHERE EMP_ID=?\r\n\r\n   This is working fine when I run in my local machine, but not sometimes in  the SIT server. \r\n\r\nNow, the problem here is sometimes when multiple employees are eligible for taking their lunch, the application is not updating status as Lunch completed even though the process is done. Somewhere the record is getting locked. Any ideas what steps should I have considered?\r\n\r\nI&#39;m using the @Transactional annotation and the isolation property as SERIALIZABLE for all these DAO methods (INSERT, SELECT &amp; UPDATE).","title":"Rows getting locked while updating the table using Task scheduler in Java","body":"<p>I've written a Task scheduler in Java where it calls the method for every one min. Now this application is deployed into SIT server which has 2 instances running on it. Now let me tell you the scenario which I have built.</p>\n<pre><code>&lt;task:scheduled-tasks scheduler=&quot;myScheduler&quot;&gt;\n    &lt;task:scheduled ref=&quot;myBean&quot; method=&quot;takeLunch&quot; fixed-delay=&quot;60000&quot; /&gt;\n&lt;/task:scheduled-tasks&gt;\n\n&lt;task:scheduler id=&quot;myScheduler&quot;/&gt;\n</code></pre>\n<p>The flow is</p>\n<ol>\n<li><p>Get the employees who are ready to take the lunch. This is the eligiblity condition.</p>\n<pre><code>SELECT EMP_ID FROM EMPLOYEES WHERE WORK_STATUS='COMPLETED' \n</code></pre>\n<p>(Can there be a deadlock here because both instances try to fire the query at the same time?)</p>\n</li>\n<li><p>I've another table called &quot;LUNCH_STATUS&quot; where I will keep track of their lunch.</p>\n<pre><code>INSERT INTO LUNCH_STATUS(EMP_ID,STATUS) .....\n</code></pre>\n<p>Here all employee ids will be inserted with the status as empty.</p>\n</li>\n<li><p>I will get the first employee from the LUNCH_STATUS whose status is empty and I will update in the same table as the status &quot;LUNCH IN PROGRESS&quot;</p>\n</li>\n<li><p>While taking lunch, I've some business logic, once the lunch is done, I will update the status as &quot;COMPLETED&quot;</p>\n<pre><code>UPDATE LUNCH_STATUS SET STATUS='COMPLETED' WHERE EMP_ID  = ?\n</code></pre>\n</li>\n<li><p>Once this update is done, I should update the main table EMPLOYEES</p>\n<pre><code>UPDATE EMPLOYEES SET WORK_STATUS='WORK RESUMED' WHERE EMP_ID=?\n</code></pre>\n<p>This is working fine when I run in my local machine, but not sometimes in  the SIT server.</p>\n</li>\n</ol>\n<p>Now, the problem here is sometimes when multiple employees are eligible for taking their lunch, the application is not updating status as Lunch completed even though the process is done. Somewhere the record is getting locked. Any ideas what steps should I have considered?</p>\n<p>I'm using the @Transactional annotation and the isolation property as SERIALIZABLE for all these DAO methods (INSERT, SELECT &amp; UPDATE).</p>\n"},{"tags":["java","jackrabbit","jackrabbit-oak"],"answers":[{"comments":[{"owner":{"account_id":6622954,"reputation":417,"user_id":5114012,"accept_rate":35,"display_name":"Gopi Lal"},"score":0,"creation_date":1547016349,"post_id":54091618,"comment_id":95041279,"body_markdown":"thanks for the response can I use SegmentStore for distributed server/clustered application ?","body":"thanks for the response can I use SegmentStore for distributed server/clustered application ?"},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1547039329,"post_id":54091618,"comment_id":95053911,"body_markdown":"If you need clustering, you&#39;ll need the DocumentNodeStore indeed.","body":"If you need clustering, you&#39;ll need the DocumentNodeStore indeed."},{"owner":{"account_id":6622954,"reputation":417,"user_id":5114012,"accept_rate":35,"display_name":"Gopi Lal"},"score":0,"creation_date":1547041140,"post_id":54091618,"comment_id":95054988,"body_markdown":"DocumentNodeStore  is MongoDocumentStore/RDBDocumentStore right ??","body":"DocumentNodeStore  is MongoDocumentStore/RDBDocumentStore right ??"}],"tags":[],"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1546949702,"creation_date":1546949702,"answer_id":54091618,"question_id":54089755,"body_markdown":"No, MemoryDocumentStore is only for testing; it doesn&#39;t persist the data at all.\r\n\r\nIf you want to use a DocumentStore, RDB and Mongo persistence are currently your only options.\r\n\r\nAre you sure that the SegmentStore is not what you need?","title":"How to implement document flavour in Oak storage?","body":"<p>No, MemoryDocumentStore is only for testing; it doesn't persist the data at all.</p>\n\n<p>If you want to use a DocumentStore, RDB and Mongo persistence are currently your only options.</p>\n\n<p>Are you sure that the SegmentStore is not what you need?</p>\n"}],"owner":{"account_id":6622954,"reputation":417,"user_id":5114012,"accept_rate":35,"display_name":"Gopi Lal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54091618,"answer_count":1,"score":0,"last_activity_date":1690206700,"creation_date":1546943026,"question_id":54089755,"body_markdown":"I am new to jackrabbit Oak, I have been looking into documentations but not finding the right approach, I read Oak comes with two node storage flavors: **segment and document**. I understood that the segment flavor is for standalone application so I wanted to implement the document flavor implementation not MongoDB or RDS, **I wanna save my files in File System using MemoryDocumentStore**, I am assuming Using MemoryDocumentStore I will be able to save files in file system and retrieve, I am not sure if I am right ? \r\n\r\n&gt; What is the difference between segment and document implementation and how do I see the tree in Oak??\r\n\r\n","title":"How to implement document flavour in Oak storage?","body":"<p>I am new to jackrabbit Oak, I have been looking into documentations but not finding the right approach, I read Oak comes with two node storage flavors: <strong>segment and document</strong>. I understood that the segment flavor is for standalone application so I wanted to implement the document flavor implementation not MongoDB or RDS, <strong>I wanna save my files in File System using MemoryDocumentStore</strong>, I am assuming Using MemoryDocumentStore I will be able to save files in file system and retrieve, I am not sure if I am right ? </p>\n\n<blockquote>\n  <p>What is the difference between segment and document implementation and how do I see the tree in Oak??</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1690206561,"post_id":76755076,"comment_id":135317154,"body_markdown":"where do the entities come from? Are they already managed by the EntityManager? And (why) do you use two separate entity managers?","body":"where do the entities come from? Are they already managed by the EntityManager? And (why) do you use two separate entity managers?"},{"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"score":0,"creation_date":1690206817,"post_id":76755076,"comment_id":135317217,"body_markdown":"@cyberbrain They come from two findBy methods, entity manager in that case is just a service that redirect called method to repository","body":"@cyberbrain They come from two findBy methods, entity manager in that case is just a service that redirect called method to repository"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690221727,"post_id":76755076,"comment_id":135320235,"body_markdown":"Please post some actual code instead of psuedo code. Make sure that this code is in a single method that is annotated with `@Transactional`.","body":"Please post some actual code instead of psuedo code. Make sure that this code is in a single method that is annotated with <code>@Transactional</code>."}],"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690205908,"creation_date":1690205908,"question_id":76755076,"body_markdown":"I have an method that operates on two separate entities that are not directly related, they are both related in @ManyToOne relation to same third entity.\r\n\r\nI save them both in same method, but only the second save is persisted to database. I found information that save() method usually is flushed to database at the exit of method which might be the issue, and using JPA saveAndFlush should fix it, but the result is same. The first save is ignored.\r\n```\r\nfirstEntity.setSomething(&quot;10&quot;);\r\nfirstEntity = firstEntityManager.save(firstEntity);\r\n//It&#39;s fine here, it prints 10\r\nSystem.out.println(firstEntity.getSomething());\r\nsecondEntity.setFlag(true);\r\nsecondEntity = secondEntityManager.save(secondEntity);\r\n//method end, first entity is not being updated in database\r\n```\r\n\r\nHow can I fix this issue?","title":"Spring boot saving separate entities in same method","body":"<p>I have an method that operates on two separate entities that are not directly related, they are both related in @ManyToOne relation to same third entity.</p>\n<p>I save them both in same method, but only the second save is persisted to database. I found information that save() method usually is flushed to database at the exit of method which might be the issue, and using JPA saveAndFlush should fix it, but the result is same. The first save is ignored.</p>\n<pre><code>firstEntity.setSomething(&quot;10&quot;);\nfirstEntity = firstEntityManager.save(firstEntity);\n//It's fine here, it prints 10\nSystem.out.println(firstEntity.getSomething());\nsecondEntity.setFlag(true);\nsecondEntity = secondEntityManager.save(secondEntity);\n//method end, first entity is not being updated in database\n</code></pre>\n<p>How can I fix this issue?</p>\n"},{"tags":["java","spring-webflux","reactive"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690206431,"post_id":76755004,"comment_id":135317119,"body_markdown":"You need to print within the subscribe, otherwise the print happens before the set is called","body":"You need to print within the subscribe, otherwise the print happens before the set is called"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1690206485,"post_id":76755004,"comment_id":135317133,"body_markdown":"Can you show me code implementation please?","body":"Can you show me code implementation please?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690206570,"post_id":76755004,"comment_id":135317157,"body_markdown":"Move the System.out.println up 4 lines, within the subscribe body","body":"Move the System.out.println up 4 lines, within the subscribe body"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1690207885,"post_id":76755004,"comment_id":135317456,"body_markdown":"The solution works. But I need to have access to `BasicTokenResponseDto`  object instance later. How I can access this object into Java method body like the original code?","body":"The solution works. But I need to have access to <code>BasicTokenResponseDto</code>  object instance later. How I can access this object into Java method body like the original code?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690208045,"post_id":76755004,"comment_id":135317491,"body_markdown":"You didn&#39;t share your original code so I&#39;m not sure what you&#39;re referring to. Asynchronous code cannot be written the same as synchronous. Unwrapping a Mono/Flux get function creates synchronous code, and cannot be used &quot;chronologically before&quot; a setter","body":"You didn&#39;t share your original code so I&#39;m not sure what you&#39;re referring to. Asynchronous code cannot be written the same as synchronous. Unwrapping a Mono/Flux get function creates synchronous code, and cannot be used &quot;chronologically before&quot; a setter"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1690208227,"post_id":76755004,"comment_id":135317532,"body_markdown":"Here it is: https://github.com/rcbandit111/gateway_reactive_feign_poc/blob/master/gateway/src/main/java/com/gateway/filters/global/AuthenticationFilter.java#L44","body":"Here it is: <a href=\"https://github.com/rcbandit111/gateway_reactive_feign_poc/blob/master/gateway/src/main/java/com/gateway/filters/global/AuthenticationFilter.java#L44\" rel=\"nofollow noreferrer\">github.com/rcbandit111/gateway_reactive_feign_poc/blob/maste&zwnj;&#8203;r/&hellip;</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1690208291,"post_id":76755004,"comment_id":135317548,"body_markdown":"I need to find a way `BasicTokenResponseDto token` to be used later on into the code to get a value.","body":"I need to find a way <code>BasicTokenResponseDto token</code> to be used later on into the code to get a value."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690208299,"post_id":76755004,"comment_id":135317551,"body_markdown":"That link is the same code in the question, which doesn&#39;t work the way you want","body":"That link is the same code in the question, which doesn&#39;t work the way you want"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1690208413,"post_id":76755004,"comment_id":135317565,"body_markdown":"Yes, is it possible to find some solution?","body":"Yes, is it possible to find some solution?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690208992,"post_id":76755004,"comment_id":135317690,"body_markdown":"See chaining request example https://www.baeldung.com/spring-cloud-custom-gateway-filters#3-chaining-requests-to-other-services","body":"See chaining request example <a href=\"https://www.baeldung.com/spring-cloud-custom-gateway-filters#3-chaining-requests-to-other-services\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1690209097,"post_id":76755004,"comment_id":135317718,"body_markdown":"hm.. Can you show me how to implement this into my code, please?","body":"hm.. Can you show me how to implement this into my code, please?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690209168,"post_id":76755004,"comment_id":135317740,"body_markdown":"I don&#39;t know how to use the your clientService variable, so cannot help with that","body":"I don&#39;t know how to use the your clientService variable, so cannot help with that"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1690220060,"post_id":76755004,"comment_id":135319961,"body_markdown":"Please include the all related source code, it&#39;s impossible to answer looking just on part of it","body":"Please include the all related source code, it&#39;s impossible to answer looking just on part of it"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1690233311,"post_id":76755004,"comment_id":135322112,"body_markdown":"https://github.com/rcbandit111/gateway_reactive_feign_poc/tree/master/gateway/src/main/java/com/gateway","body":"<a href=\"https://github.com/rcbandit111/gateway_reactive_feign_poc/tree/master/gateway/src/main/java/com/gateway\" rel=\"nofollow noreferrer\">github.com/rcbandit111/gateway_reactive_feign_poc/tree/maste&zwnj;&#8203;r/&hellip;</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1690233331,"post_id":76755004,"comment_id":135322117,"body_markdown":"This is the repository with code example","body":"This is the repository with code example"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1690246730,"post_id":76755004,"comment_id":135323504,"body_markdown":"@PeterPenzov that not how it works with SO actually, you need the code in the question. Otherwise how people will understand the question specifics years from now when you&#39;ll delete your external repo somehow? Also no one has a time to read the whole github repo, that&#39;s why people ask to include only a relevant part / a summary.","body":"@PeterPenzov that not how it works with SO actually, you need the code in the question. Otherwise how people will understand the question specifics years from now when you&#39;ll delete your external repo somehow? Also no one has a time to read the whole github repo, that&#39;s why people ask to include only a relevant part / a summary."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1690273777,"post_id":76755004,"comment_id":135326662,"body_markdown":"What are you going to do with obtained BasicTokenResponseDto? How should it be used for authentication?","body":"What are you going to do with obtained BasicTokenResponseDto? How should it be used for authentication?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1690275936,"post_id":76755004,"comment_id":135327149,"body_markdown":"later on I will do a custom verification. So I need the Object payload.","body":"later on I will do a custom verification. So I need the Object payload."}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690205446,"creation_date":1690205446,"question_id":76755004,"body_markdown":"I have the following code which I want to use to convert `Mono&lt;Object&gt;` to plain `Object`.\r\n\r\n    \r\n    Mono&lt;BasicTokenResponseDto&gt; response = responseMono.map(obj -&gt; {\r\n                BasicTokenResponseDto tokenResponse = new BasicTokenResponseDto();\r\n                tokenResponse.setApi_key(obj.getApi_key());\r\n                return tokenResponse;\r\n            });\r\n    \r\n    .....\r\n    \r\n    AtomicReference&lt;BasicTokenResponseDto&gt; plainJavaObject = new AtomicReference&lt;&gt;();\r\n        Mono&lt;BasicTokenResponseDto&gt; tokenMono = clientService.getJwt();\r\n        tokenMono.subscribe(transformedToken -&gt; {\r\n          plainJavaObject.set(transformedToken);\r\n        });\r\n        BasicTokenResponseDto token = plainJavaObject.get();\r\n    \r\n        System.out.println(&quot;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! &quot; + token.getApi_key());\r\n\r\nFull code: https://github.com/rcbandit111/gateway_reactive_feign_poc/blob/master/gateway/src/main/java/com/gateway/filters/global/AuthenticationFilter.java#L39\r\n\r\nBut the value is null. Do you know how to properly return the object value?\r\n\r\n","title":"Result from Mono&lt;Object&gt; is null","body":"<p>I have the following code which I want to use to convert <code>Mono&lt;Object&gt;</code> to plain <code>Object</code>.</p>\n<pre><code>Mono&lt;BasicTokenResponseDto&gt; response = responseMono.map(obj -&gt; {\n            BasicTokenResponseDto tokenResponse = new BasicTokenResponseDto();\n            tokenResponse.setApi_key(obj.getApi_key());\n            return tokenResponse;\n        });\n\n.....\n\nAtomicReference&lt;BasicTokenResponseDto&gt; plainJavaObject = new AtomicReference&lt;&gt;();\n    Mono&lt;BasicTokenResponseDto&gt; tokenMono = clientService.getJwt();\n    tokenMono.subscribe(transformedToken -&gt; {\n      plainJavaObject.set(transformedToken);\n    });\n    BasicTokenResponseDto token = plainJavaObject.get();\n\n    System.out.println(&quot;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! &quot; + token.getApi_key());\n</code></pre>\n<p>Full code: <a href=\"https://github.com/rcbandit111/gateway_reactive_feign_poc/blob/master/gateway/src/main/java/com/gateway/filters/global/AuthenticationFilter.java#L39\" rel=\"nofollow noreferrer\">https://github.com/rcbandit111/gateway_reactive_feign_poc/blob/master/gateway/src/main/java/com/gateway/filters/global/AuthenticationFilter.java#L39</a></p>\n<p>But the value is null. Do you know how to properly return the object value?</p>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1690205458,"post_id":76754989,"comment_id":135316897,"body_markdown":"This has little to do with Scanner and all to do with, `if( Weekday ==&quot;Monday&quot;){`, how you&#39;re comparing Strings. You&#39;re using `==` which compares if the two String *references* are one and the same, which is not what you want. You want to use the `.equals(...)` or `.equalsIgnoreCase(...)` methods to check if the two Strings have the same char content in the same order. This is a fairly common new-to-Java error.","body":"This has little to do with Scanner and all to do with, <code>if( Weekday ==&quot;Monday&quot;){</code>, how you&#39;re comparing Strings. You&#39;re using <code>==</code> which compares if the two String <i>references</i> are one and the same, which is not what you want. You want to use the <code>.equals(...)</code> or <code>.equalsIgnoreCase(...)</code> methods to check if the two Strings have the same char content in the same order. This is a fairly common new-to-Java error."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1690206419,"post_id":76754989,"comment_id":135317116,"body_markdown":"for simple comparisons (one to one) like this, a switch block might be easier. But, either way, == and === are JavaScript approaches. In Java, == compares the references of the Strings, not their values.","body":"for simple comparisons (one to one) like this, a switch block might be easier. But, either way, == and === are JavaScript approaches. In Java, == compares the references of the Strings, not their values."}],"owner":{"account_id":5462839,"reputation":1,"user_id":4344379,"display_name":"Goutham N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690205379,"answer_count":0,"score":0,"last_activity_date":1690205353,"creation_date":1690205353,"question_id":76754989,"body_markdown":"import java.util.Scanner;\r\n\r\n     public class decisionMaking {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please enter a weekday&quot;);\r\n\t\tString Weekday = scanner.nextLine();\r\n\t\t\r\n\t\tif( Weekday ==&quot;Monday&quot;){\r\n\t\tSystem.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\telse if( Weekday == &quot;Tuesday&quot;) {\r\n\t\t\tSystem.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (Weekday == &quot;Wednesday&quot;) {\r\n\t\t\tSystem.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\telse if( Weekday == &quot;Thursday&quot;) {\r\n\t\t\tSystem.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\telse if( Weekday == &quot;Friday&quot;) {\r\n\t\t\tSystem.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\telse if( Weekday == &quot;Satuarday&quot;) {\r\n\t\t\tSystem.out.println(&quot;Yay&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;Holiday&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Yay&quot; + &quot; &quot; + &quot;Sunday&quot; + &quot; &quot; + &quot;Holiday&quot;);\r\n\t\t}\r\n\r\n\t\tscanner.close();\r\n\t}\r\n\r\n\r\n}\r\n\r\neven though i gave different weekday names it is printing only &quot;Yay Sunday holiday&quot;\r\n\r\nI tried instead of scanner, declared variable value like  String Weekday = &quot; Monday&quot;\r\n\r\nThen it is working fine  and Showing like &quot; Uff its working day&quot;\r\n\r\nMay i know the reason sir\r\n\r\nMay i know way it is not working","title":"Scanner class with if else","body":"<p>import java.util.Scanner;</p>\n<pre><code> public class decisionMaking {\n\npublic static void main(String[] args) {\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Please enter a weekday&quot;);\n    String Weekday = scanner.nextLine();\n    \n    if( Weekday ==&quot;Monday&quot;){\n    System.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\n        \n    }\n    else if( Weekday == &quot;Tuesday&quot;) {\n        System.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\n        \n    }\n    else if (Weekday == &quot;Wednesday&quot;) {\n        System.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\n        \n    }\n    else if( Weekday == &quot;Thursday&quot;) {\n        System.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\n        \n    }\n    else if( Weekday == &quot;Friday&quot;) {\n        System.out.println(&quot;Uff&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;working day&quot;);\n        \n    }\n    else if( Weekday == &quot;Satuarday&quot;) {\n        System.out.println(&quot;Yay&quot; + &quot; &quot; + Weekday + &quot; &quot; + &quot;Holiday&quot;);\n        \n    }\n    else {\n        System.out.println(&quot;Yay&quot; + &quot; &quot; + &quot;Sunday&quot; + &quot; &quot; + &quot;Holiday&quot;);\n    }\n\n    scanner.close();\n}\n</code></pre>\n<p>}</p>\n<p>even though i gave different weekday names it is printing only &quot;Yay Sunday holiday&quot;</p>\n<p>I tried instead of scanner, declared variable value like  String Weekday = &quot; Monday&quot;</p>\n<p>Then it is working fine  and Showing like &quot; Uff its working day&quot;</p>\n<p>May i know the reason sir</p>\n<p>May i know way it is not working</p>\n"},{"tags":["java","spring","spring-boot","proxy","resttemplate"],"comments":[{"owner":{"account_id":10362317,"reputation":106,"user_id":7642429,"display_name":"Amin Nemati"},"score":0,"creation_date":1690363607,"post_id":76754846,"comment_id":135341771,"body_markdown":"What is the URL and what is the response message of 400 ?","body":"What is the URL and what is the response message of 400 ?"}],"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690205013,"creation_date":1690204223,"question_id":76754846,"body_markdown":"I am trying to access external https API via my spring boot application using RestTemplate. When I send first request then I get the correct response and after that whenever send request then I get 400 bad response error. \r\n\r\n**But when I restart my application then again only for the first request I get correct response after that 400 bad response error.**\r\n\r\n\r\n    public void getResponse(RequestBody, requestBody){\r\n    \r\n    Response response = null;\r\n    \r\n    Proxy proxy = new Proxy(Type.HTTP, new InetSocketAddress(PROXY_SERVER_HOST, PROXY_SERVER_PORT));\r\n    SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\r\n    requestFactory.setProxy(proxy);\r\n    \r\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n    restTemplate.getInterceptors().add(new BasicAuthorizationInterceptor(&quot;user&quot;, &quot;password&quot;));\r\n    response = restTemplate.postForObject(&quot;URL&quot;, requestBody, Response.class);\r\n    System.out.println(response.toString());\r\n    }\r\n\r\n\r\nHow can i resolve this issue ?\r\n","title":"How to resolve 400 error with Resttemplate in spring boot application?","body":"<p>I am trying to access external https API via my spring boot application using RestTemplate. When I send first request then I get the correct response and after that whenever send request then I get 400 bad response error.</p>\n<p><strong>But when I restart my application then again only for the first request I get correct response after that 400 bad response error.</strong></p>\n<pre><code>public void getResponse(RequestBody, requestBody){\n\nResponse response = null;\n\nProxy proxy = new Proxy(Type.HTTP, new InetSocketAddress(PROXY_SERVER_HOST, PROXY_SERVER_PORT));\nSimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\nrequestFactory.setProxy(proxy);\n\nRestTemplate restTemplate = new RestTemplate(requestFactory);\nrestTemplate.getInterceptors().add(new BasicAuthorizationInterceptor(&quot;user&quot;, &quot;password&quot;));\nresponse = restTemplate.postForObject(&quot;URL&quot;, requestBody, Response.class);\nSystem.out.println(response.toString());\n}\n</code></pre>\n<p>How can i resolve this issue ?</p>\n"},{"tags":["java","algorithm","optimization","time-complexity"],"comments":[{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1629249626,"post_id":68825529,"comment_id":121635109,"body_markdown":"What&#39;s the specification for the code? [Find the largest difference between 2 elements](https://www.geeksforgeeks.org/maximum-difference-between-two-elements-in-an-array/)? Please edit the post to state it.","body":"What&#39;s the specification for the code? <a href=\"https://www.geeksforgeeks.org/maximum-difference-between-two-elements-in-an-array/\" rel=\"nofollow noreferrer\">Find the largest difference between 2 elements</a>? Please edit the post to state it."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1629301062,"post_id":68825529,"comment_id":121652031,"body_markdown":"Here&#39;s a O(n) approach I&#39;ve confirmed has the same result as your code.  Create a second array (`minThruArr`) the same size as the first, iterate over your array, and put the minimum value seen thus far into your new array.  This array is the min value up to that element.  Then, iterate through your initial array backwards, keeping track of the maximum value seen thus far (`maxThru`).  For each such index, subtract the min through that index from the max through that index (`maxThru - minThru[i]`).  Keep track of the maximum such value, and that is your result.","body":"Here&#39;s a O(n) approach I&#39;ve confirmed has the same result as your code.  Create a second array (<code>minThruArr</code>) the same size as the first, iterate over your array, and put the minimum value seen thus far into your new array.  This array is the min value up to that element.  Then, iterate through your initial array backwards, keeping track of the maximum value seen thus far (<code>maxThru</code>).  For each such index, subtract the min through that index from the max through that index (<code>maxThru - minThru[i]</code>).  Keep track of the maximum such value, and that is your result."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1629301122,"post_id":68825529,"comment_id":121652058,"body_markdown":"`public static int getResult(int[] array) { int[] minThruArr = new int[array.length]; int min = Integer.MAX_VALUE; for (int i = 0; i &lt; array.length; i++) { min = Math.min(min, array[i]); minThruArr[i] = min; } int result = Integer.MIN_VALUE; int maxThru = Integer.MIN_VALUE; for (int i = array.length - 1; i &gt;= 0; i--) { maxThru = Math.max(maxThru, array[i]); result = Math.max(result, maxThru - minThruArr[i]); } return result; }`","body":"<code>public static int getResult(int[] array) { int[] minThruArr = new int[array.length]; int min = Integer.MAX_VALUE; for (int i = 0; i &lt; array.length; i++) { min = Math.min(min, array[i]); minThruArr[i] = min; } int result = Integer.MIN_VALUE; int maxThru = Integer.MIN_VALUE; for (int i = array.length - 1; i &gt;= 0; i--) { maxThru = Math.max(maxThru, array[i]); result = Math.max(result, maxThru - minThruArr[i]); } return result; }</code>"}],"answers":[{"comments":[{"owner":{"account_id":8176800,"reputation":3,"user_id":6279152,"display_name":"Enes K&#246;rhan"},"score":0,"creation_date":1629250899,"post_id":68825577,"comment_id":121635281,"body_markdown":"Hi Alex, I couldn&#39;t express it clearly enough. I am sorry about this. I have been edited the question.","body":"Hi Alex, I couldn&#39;t express it clearly enough. I am sorry about this. I have been edited the question."},{"owner":{"account_id":22451909,"reputation":710,"user_id":16655095,"display_name":"Alex"},"score":0,"creation_date":1629251621,"post_id":68825577,"comment_id":121635393,"body_markdown":"Seems like my pseudo code is still right.  You want to find the biggest possible price difference, right?","body":"Seems like my pseudo code is still right.  You want to find the biggest possible price difference, right?"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1629271552,"post_id":68825577,"comment_id":121639392,"body_markdown":"Doesn&#39;t your pseudocode only work when the smallest number is before the largest number, since you can&#39;t buy it after you&#39;ve sold it?","body":"Doesn&#39;t your pseudocode only work when the smallest number is before the largest number, since you can&#39;t buy it after you&#39;ve sold it?"},{"owner":{"account_id":22451909,"reputation":710,"user_id":16655095,"display_name":"Alex"},"score":0,"creation_date":1629272732,"post_id":68825577,"comment_id":121639871,"body_markdown":"It finds the biggest difference regardless of order, so it doesn&#39;t work for what you want, but it does what your original code does.","body":"It finds the biggest difference regardless of order, so it doesn&#39;t work for what you want, but it does what your original code does."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1629272848,"post_id":68825577,"comment_id":121639905,"body_markdown":"The inner loop of the original code starts with `j = i`, so it does take order into account —&#160;the second element is always one which comes after the first.","body":"The inner loop of the original code starts with <code>j = i</code>, so it does take order into account — the second element is always one which comes after the first."},{"owner":{"account_id":22451909,"reputation":710,"user_id":16655095,"display_name":"Alex"},"score":0,"creation_date":1629328110,"post_id":68825577,"comment_id":121660994,"body_markdown":"you might be able to do it with dp","body":"you might be able to do it with dp"}],"tags":[],"owner":{"account_id":22451909,"reputation":710,"user_id":16655095,"display_name":"Alex"},"comment_count":6,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1629330162,"creation_date":1629250048,"answer_id":68825577,"question_id":68825529,"body_markdown":"&lt;del&gt;This can be done in O(n) time. Iterate through the array looking for the largest and smallest number.  At the end return the difference between them.\r\n&lt;/del&gt;\r\n\r\n----------\r\nAs you iterate, if the number is lower than the last low number, you remember the number and it&#39;s highest difference in some kind of stack or node data structure. At the end you return the highest number.","title":"How to do O(n) time for this function?","body":"<p><del>This can be done in O(n) time. Iterate through the array looking for the largest and smallest number.  At the end return the difference between them.\n</del></p>\n<hr />\n<p>As you iterate, if the number is lower than the last low number, you remember the number and it's highest difference in some kind of stack or node data structure. At the end you return the highest number.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690204375,"creation_date":1690204375,"answer_id":76754869,"question_id":68825529,"body_markdown":"Here&#39;s a O(n) approach which has the same result as your code.  Create a second array (`minThruArr`) the same size as the first, iterate over your array, and put the minimum value seen thus far into your new array. This array is the min value up to that element. Then, iterate through your initial array backwards, keeping track of the maximum value seen thus far (`maxThru`). For each such index, subtract the min through that index from the max through that index (`maxThru - minThru[i]`). Keep track of the maximum such value, and that is your result.\r\n\r\n```lang-java\r\npublic static int getResult(int[] array) {\r\n    int[] minThruArr = new int[array.length];\r\n    int min = Integer.MAX_VALUE;\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        min = Math.min(min, array[i]);\r\n        minThruArr[i] = min;\r\n    }\r\n    int result = Integer.MIN_VALUE;\r\n    int maxThru = Integer.MIN_VALUE;\r\n    for (int i = array.length - 1; i &gt;= 0; i--) {\r\n        maxThru = Math.max(maxThru, array[i]);\r\n        result = Math.max(result, maxThru - minThruArr[i]);\r\n    }\r\n    return result;\r\n}\r\n```","title":"How to do O(n) time for this function?","body":"<p>Here's a O(n) approach which has the same result as your code.  Create a second array (<code>minThruArr</code>) the same size as the first, iterate over your array, and put the minimum value seen thus far into your new array. This array is the min value up to that element. Then, iterate through your initial array backwards, keeping track of the maximum value seen thus far (<code>maxThru</code>). For each such index, subtract the min through that index from the max through that index (<code>maxThru - minThru[i]</code>). Keep track of the maximum such value, and that is your result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int getResult(int[] array) {\n    int[] minThruArr = new int[array.length];\n    int min = Integer.MAX_VALUE;\n    for (int i = 0; i &lt; array.length; i++) {\n        min = Math.min(min, array[i]);\n        minThruArr[i] = min;\n    }\n    int result = Integer.MIN_VALUE;\n    int maxThru = Integer.MIN_VALUE;\n    for (int i = array.length - 1; i &gt;= 0; i--) {\n        maxThru = Math.max(maxThru, array[i]);\n        result = Math.max(result, maxThru - minThruArr[i]);\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":8176800,"reputation":3,"user_id":6279152,"display_name":"Enes K&#246;rhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":68825577,"answer_count":2,"score":-3,"last_activity_date":1690204375,"creation_date":1629249553,"question_id":68825529,"body_markdown":"I have a array. This array contains values of a stock. \r\n\r\nFor example;\r\n\r\n0. Index -&gt; First Day\r\n1. Index -&gt; 1. Day\r\n2. Index -&gt; 2. Day\r\n.\r\n.\r\n.\r\nn. Index -&gt; n. Day\r\n\r\nAnd This function should be calculate highest profit. Don&#39;t forget, It can be bought first and then sold. The day of purchase must be before the day of sale.\r\n\r\n\r\nI am trying find to best solution for this function. Can it be O(n) time. Now, this function&#39;s time complexity is O(n^2).\r\n\r\n        public static int getResult(int[] array) {\r\n        int result = Integer.MIN_VALUE;\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            for (int j = i; j &lt; array.length; j++) {\r\n                int diff = array[j] - array[i];\r\n                if (diff &gt; result) {\r\n                    result = diff;\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }","title":"How to do O(n) time for this function?","body":"<p>I have a array. This array contains values of a stock.</p>\n<p>For example;</p>\n<ol start=\"0\">\n<li>Index -&gt; First Day</li>\n<li>Index -&gt; 1. Day</li>\n<li>Index -&gt; 2. Day\n.\n.\n.\nn. Index -&gt; n. Day</li>\n</ol>\n<p>And This function should be calculate highest profit. Don't forget, It can be bought first and then sold. The day of purchase must be before the day of sale.</p>\n<p>I am trying find to best solution for this function. Can it be O(n) time. Now, this function's time complexity is O(n^2).</p>\n<pre><code>    public static int getResult(int[] array) {\n    int result = Integer.MIN_VALUE;\n    for (int i = 0; i &lt; array.length; i++) {\n        for (int j = i; j &lt; array.length; j++) {\n            int diff = array[j] - array[i];\n            if (diff &gt; result) {\n                result = diff;\n            }\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat8"],"comments":[{"owner":{"account_id":11328771,"reputation":61,"user_id":8306878,"display_name":"Med Mahdi Maarouf"},"score":0,"creation_date":1690204739,"post_id":76754790,"comment_id":135316727,"body_markdown":"You need to add default main entry class constructor. ( MainApplication.java )","body":"You need to add default main entry class constructor. ( MainApplication.java )"},{"owner":{"account_id":3564480,"reputation":1938,"user_id":2976424,"display_name":"Kumaresan Perumal"},"score":0,"creation_date":1690205177,"post_id":76754790,"comment_id":135316824,"body_markdown":"&lt;start-class&gt;com.baeldung.DemoApplication&lt;/start-class&gt; I added it but it did not work.","body":"&lt;start-class&gt;com.baeldung.DemoApplication&lt;/start-class&gt; I added it but it did not work."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690209324,"post_id":76754790,"comment_id":135317771,"body_markdown":"Spring Boot 2.7 doesn&#39;t support JakartaEE and you included JakartaEE api version of the servlet api.","body":"Spring Boot 2.7 doesn&#39;t support JakartaEE and you included JakartaEE api version of the servlet api."},{"owner":{"account_id":3564480,"reputation":1938,"user_id":2976424,"display_name":"Kumaresan Perumal"},"score":0,"creation_date":1690259285,"post_id":76754790,"comment_id":135324497,"body_markdown":"I added it. &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt; but it did not work.","body":"I added it. &lt;dependency&gt;             &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;             &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;             &lt;version&gt;6.0.0&lt;/version&gt;             &lt;scope&gt;provided&lt;/scope&gt;         &lt;/dependency&gt; but it did not work."}],"owner":{"account_id":3564480,"reputation":1938,"user_id":2976424,"display_name":"Kumaresan Perumal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690203793,"creation_date":1690203793,"question_id":76754790,"body_markdown":"I am using java 1.8 and spring boot 2.7.14 and tomcat 8.5. i package as war. i deploy it in tomcat webapps. but I am getting below error. please help me with it.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;test2&lt;/name&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;  \r\n\r\n   \r\n\r\n Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springApplication&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921) ~[spring-context-5.3.29.jar:5.3.29]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.29.jar:5.3.29]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]\r\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175) ~[spring-boot-2.7.14.jar:2.7.14]\r\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155) ~[spring-boot-2.7.14.jar:2.7.14]\r\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97) ~[spring-boot-2.7.14.jar:2.7.14]\r\n            at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174) ~[spring-web-5.3.29.jar:5.3.29]\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4925) ~[catalina.jar:8.5.91]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:8.5.91]\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:710) ~[catalina.jar:8.5.91]\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:687) ~[catalina.jar:8.5.91]\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:661) ~[catalina.jar:8.5.91]\r\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1016) ~[catalina.jar:8.5.91]\r\n            at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903) ~[catalina.jar:8.5.91]\r\n            at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n            at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            ... 30 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\r\n            at java.base/java.lang.Class.getConstructor0(Class.java:3349) ~[na:na]\r\n            at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553) ~[na:na]\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78) ~[spring-beans-5.3.29.jar:5.3.29]\r\n            ... 31 common frames omitted\r\n    \r\n    24-Jul-2023 18:29:10.425 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start:\r\n            org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/test2-0.0.1-SNAPSHOT]]\r\n                    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n                    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:710)\r\n                    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:687)\r\n                    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:661)\r\n                    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1016)\r\n                    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\r\n                    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n                    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n                    at java.base/java.lang.Thread.run(Thread.java:834)\r\n            Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springApplication&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n                    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n                    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n                    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n                    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n                    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n                    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)\r\n                    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n                    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n                    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n                    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n                    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n                    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n                    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n                    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n                    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n                    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4925)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    ... 10 more\r\n            Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\r\n                    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83)\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)\r\n                    ... 30 more\r\n            Caused by: java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\r\n                    at java.base/java.lang.Class.getConstructor0(Class.java:3349)\r\n                    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\r\n                    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78)\r\n                    ... 31 more\r\n    24-Jul-2023 18:29:10.427 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [C:\\Users\\kumarper\\Documents\\apache-tomcat-8.5.91-windows-x64\\apache-tomcat-8.5.91\\webapps\\test2-0.0.1-SNAPSHOT.war]\r\n            java.lang.IllegalStateException: Error starting child\r\n                    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:714)\r\n                    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:687)\r\n                    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:661)\r\n                    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1016)\r\n                    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\r\n                    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n                    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n                    at java.base/java.lang.Thread.run(Thread.java:834)\r\n            Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/test2-0.0.1-SNAPSHOT]]\r\n                    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n                    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:710)\r\n                    ... 9 more\r\n            Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springApplication&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n                    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n                    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n                    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n                    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n                    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n                    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)\r\n                    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n                    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n                    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n                    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n                    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n                    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n                    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n                    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n                    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n                    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4925)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    ... 10 more\r\n            Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\r\n                    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83)\r\n                    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)\r\n                    ... 30 more\r\n            Caused by: java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\r\n                    at java.base/java.lang.Class.getConstructor0(Class.java:3349)\r\n                    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\r\n                    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78)\r\n                    ... 31 more","title":"Caused by: java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()","body":"<p>I am using java 1.8 and spring boot 2.7.14 and tomcat 8.5. i package as war. i deploy it in tomcat webapps. but I am getting below error. please help me with it.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test2&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;  \n</code></pre>\n<p>Application run failed</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springApplication': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921) ~[spring-context-5.3.29.jar:5.3.29]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.29.jar:5.3.29]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175) ~[spring-boot-2.7.14.jar:2.7.14]\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155) ~[spring-boot-2.7.14.jar:2.7.14]\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97) ~[spring-boot-2.7.14.jar:2.7.14]\n        at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174) ~[spring-web-5.3.29.jar:5.3.29]\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4925) ~[catalina.jar:8.5.91]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:8.5.91]\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:710) ~[catalina.jar:8.5.91]\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:687) ~[catalina.jar:8.5.91]\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:661) ~[catalina.jar:8.5.91]\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1016) ~[catalina.jar:8.5.91]\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903) ~[catalina.jar:8.5.91]\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83) ~[spring-beans-5.3.29.jar:5.3.29]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.29.jar:5.3.29]\n        ... 30 common frames omitted\nCaused by: java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\n        at java.base/java.lang.Class.getConstructor0(Class.java:3349) ~[na:na]\n        at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78) ~[spring-beans-5.3.29.jar:5.3.29]\n        ... 31 common frames omitted\n\n24-Jul-2023 18:29:10.425 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start:\n        org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/test2-0.0.1-SNAPSHOT]]\n                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:710)\n                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:687)\n                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:661)\n                at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1016)\n                at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\n                at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n                at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n                at java.base/java.lang.Thread.run(Thread.java:834)\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springApplication': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n                at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n                at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n                at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)\n                at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n                at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n                at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n                at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n                at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n                at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4925)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                ... 10 more\n        Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\n                at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)\n                ... 30 more\n        Caused by: java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\n                at java.base/java.lang.Class.getConstructor0(Class.java:3349)\n                at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\n                at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78)\n                ... 31 more\n24-Jul-2023 18:29:10.427 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [C:\\Users\\kumarper\\Documents\\apache-tomcat-8.5.91-windows-x64\\apache-tomcat-8.5.91\\webapps\\test2-0.0.1-SNAPSHOT.war]\n        java.lang.IllegalStateException: Error starting child\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:714)\n                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:687)\n                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:661)\n                at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1016)\n                at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\n                at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n                at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n                at java.base/java.lang.Thread.run(Thread.java:834)\n        Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/test2-0.0.1-SNAPSHOT]]\n                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:710)\n                ... 9 more\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springApplication': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n                at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n                at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n                at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)\n                at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n                at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n                at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n                at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n                at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n                at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4925)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                ... 10 more\n        Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.SpringApplication]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\n                at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)\n                ... 30 more\n        Caused by: java.lang.NoSuchMethodException: org.springframework.boot.SpringApplication.&lt;init&gt;()\n                at java.base/java.lang.Class.getConstructor0(Class.java:3349)\n                at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\n                at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78)\n                ... 31 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":28145216,"reputation":1,"user_id":21507631,"display_name":"Lehlohonolo Sehako"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690203768,"creation_date":1690199222,"answer_id":76754172,"question_id":74403104,"body_markdown":"I had this issue and I managed to resolve it after close to 4 hours of fighting.\r\nIt seems like the issue was with the @Test annotation, I was not using the one provided by jupiter, but rather the one below.\r\n\r\n    import org.junit.Test;\r\n\r\nIt worked when I changed it to.\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\nI hope this helps.","title":"Cannot invoke &quot;com.company.restapi.dal.AssignmentRepository.findAll()&quot; because &quot;this.assignmentRepository&quot; is null","body":"<p>I had this issue and I managed to resolve it after close to 4 hours of fighting.\nIt seems like the issue was with the @Test annotation, I was not using the one provided by jupiter, but rather the one below.</p>\n<pre><code>import org.junit.Test;\n</code></pre>\n<p>It worked when I changed it to.</p>\n<pre><code>import org.junit.jupiter.api.Test;\n</code></pre>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":14049866,"reputation":123,"user_id":10148986,"display_name":"Vercors"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690203768,"creation_date":1668172597,"question_id":74403104,"body_markdown":"I&#39;m trying to create an integration test for my ```AssignmentRepository```. However the AutoWiring is not working.\r\n\r\nCode (```AssignmentRepositoryTest```):\r\n```\r\n\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = RestapiApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n\r\npublic class AssignmentRepositoryTest extends ContainerEnvironment {\r\n    @Autowired\r\n    private AssignmentRepository assignmentRepository;\r\n\r\n    @Test\r\n    public void When_GetAssignments_Expect_EmptyList() {\r\n        List&lt;Assignment&gt; list = (List&lt;Assignment&gt;) assignmentRepository.findAll();\r\n        assertEquals(0, list.size());\r\n    }\r\n\r\n}\r\n```\r\n\r\nCode of ```AssignmentRepository```:\r\n```\r\n@Repository\r\npublic interface AssignmentRepository extends CrudRepository&lt;Assignment, Integer&gt; {\r\n    List&lt;Assignment&gt; findAllByUserId(@NotNull(message = &quot;No userId given&quot;) String userId);\r\n\r\n}\r\n```\r\n\r\nI get the following error: java.lang.NullPointerException: Cannot invoke &quot;com.company.restapi.dal.AssignmentRepository.findAll()&quot; because &quot;this.assignmentRepository&quot; is null\r\n\r\nI&#39;m using Java with Spring Boot, Spring Boot test &amp; Testcontainers.","title":"Cannot invoke &quot;com.company.restapi.dal.AssignmentRepository.findAll()&quot; because &quot;this.assignmentRepository&quot; is null","body":"<p>I'm trying to create an integration test for my <code>AssignmentRepository</code>. However the AutoWiring is not working.</p>\n<p>Code (<code>AssignmentRepositoryTest</code>):</p>\n<pre><code>\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = RestapiApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n\npublic class AssignmentRepositoryTest extends ContainerEnvironment {\n    @Autowired\n    private AssignmentRepository assignmentRepository;\n\n    @Test\n    public void When_GetAssignments_Expect_EmptyList() {\n        List&lt;Assignment&gt; list = (List&lt;Assignment&gt;) assignmentRepository.findAll();\n        assertEquals(0, list.size());\n    }\n\n}\n</code></pre>\n<p>Code of <code>AssignmentRepository</code>:</p>\n<pre><code>@Repository\npublic interface AssignmentRepository extends CrudRepository&lt;Assignment, Integer&gt; {\n    List&lt;Assignment&gt; findAllByUserId(@NotNull(message = &quot;No userId given&quot;) String userId);\n\n}\n</code></pre>\n<p>I get the following error: java.lang.NullPointerException: Cannot invoke &quot;com.company.restapi.dal.AssignmentRepository.findAll()&quot; because &quot;this.assignmentRepository&quot; is null</p>\n<p>I'm using Java with Spring Boot, Spring Boot test &amp; Testcontainers.</p>\n"},{"tags":["python","java","xml","parsing","talend"],"owner":{"account_id":10539791,"reputation":3,"user_id":7766314,"display_name":"aboude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690203725,"creation_date":1690203725,"question_id":76754777,"body_markdown":"I am trying to get the data lineage of all the tables in our database automatically through a script. I found the .item files in talend which I guess are the xml files that describe the flow of a talend job.\r\n\r\nHow would I parse the file effectively so I get each data source (from a tOracleInput or tFileExcelInput) that went into inserting into an output table (tOracleOutput)?\r\n\r\nI&#39;ve tried reading the file and trying to wrap my head around a way to do it but I am blanking.","title":"How can I find the data lineage from a &quot;.item&quot; file in Talend Studio?","body":"<p>I am trying to get the data lineage of all the tables in our database automatically through a script. I found the .item files in talend which I guess are the xml files that describe the flow of a talend job.</p>\n<p>How would I parse the file effectively so I get each data source (from a tOracleInput or tFileExcelInput) that went into inserting into an output table (tOracleOutput)?</p>\n<p>I've tried reading the file and trying to wrap my head around a way to do it but I am blanking.</p>\n"},{"tags":["java","jackson","lombok","jackson-databind"],"comments":[{"owner":{"account_id":13402055,"reputation":2947,"user_id":9671280,"display_name":"Traycho Ivanov"},"score":0,"creation_date":1596835783,"post_id":63309223,"comment_id":111949039,"body_markdown":"Did you try adding @NoArgsConstructor ?\n\nIf it does not work check this one https://stackoverflow.com/questions/51464720/lombok-1-18-0-and-jackson-2-9-6-not-working-together","body":"Did you try adding @NoArgsConstructor ?  If it does not work check this one <a href=\"https://stackoverflow.com/questions/51464720/lombok-1-18-0-and-jackson-2-9-6-not-working-together\" title=\"lombok 1 18 0 and jackson 2 9 6 not working together\">stackoverflow.com/questions/51464720/&hellip;</a>"},{"owner":{"account_id":2323120,"reputation":10362,"user_id":2038257,"accept_rate":66,"display_name":"Marco Dinatsoli"},"score":0,"creation_date":1596836959,"post_id":63309223,"comment_id":111949356,"body_markdown":"@TraychoIvanov I don&#39;t want the no args constructor. My class is final and all its fields are final and must be declared in the initiation phase (constructor)","body":"@TraychoIvanov I don&#39;t want the no args constructor. My class is final and all its fields are final and must be declared in the initiation phase (constructor)"},{"owner":{"account_id":13402055,"reputation":2947,"user_id":9671280,"display_name":"Traycho Ivanov"},"score":0,"creation_date":1596837344,"post_id":63309223,"comment_id":111949457,"body_markdown":"In this case you need this approach  with `@JsonDeserialize` , here there is a good example https://stackoverflow.com/a/48801237/9671280","body":"In this case you need this approach  with <code>@JsonDeserialize</code> , here there is a good example <a href=\"https://stackoverflow.com/a/48801237/9671280\">stackoverflow.com/a/48801237/9671280</a>"},{"owner":{"account_id":2323120,"reputation":10362,"user_id":2038257,"accept_rate":66,"display_name":"Marco Dinatsoli"},"score":0,"creation_date":1596838047,"post_id":63309223,"comment_id":111949635,"body_markdown":"@TraychoIvanov the whole idea of mixin is to avoid adding Jackson annotation in your POJO so I&#39;d prefer to know why my mix is not working.","body":"@TraychoIvanov the whole idea of mixin is to avoid adding Jackson annotation in your POJO so I&#39;d prefer to know why my mix is not working."},{"owner":{"account_id":13402055,"reputation":2947,"user_id":9671280,"display_name":"Traycho Ivanov"},"score":0,"creation_date":1596838760,"post_id":63309223,"comment_id":111949838,"body_markdown":"@Marcoo this is pure lombok issue, believe me or not the once chance to solve it by testing the latest jackson versions otherwise you need to accept the compromise.","body":"@Marcoo this is pure lombok issue, believe me or not the once chance to solve it by testing the latest jackson versions otherwise you need to accept the compromise."},{"owner":{"account_id":2323120,"reputation":10362,"user_id":2038257,"accept_rate":66,"display_name":"Marco Dinatsoli"},"score":0,"creation_date":1596839247,"post_id":63309223,"comment_id":111949938,"body_markdown":"@TraychoIvanov I found the solution :) (no compromise on POJO being clean)","body":"@TraychoIvanov I found the solution :) (no compromise on POJO being clean)"},{"owner":{"account_id":13402055,"reputation":2947,"user_id":9671280,"display_name":"Traycho Ivanov"},"score":1,"creation_date":1596839454,"post_id":63309223,"comment_id":111949989,"body_markdown":"Does this answer your question? [Lombok 1.18.0 and Jackson 2.9.6 not working together](https://stackoverflow.com/questions/51464720/lombok-1-18-0-and-jackson-2-9-6-not-working-together)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51464720/lombok-1-18-0-and-jackson-2-9-6-not-working-together\">Lombok 1.18.0 and Jackson 2.9.6 not working together</a>"}],"answers":[{"tags":[],"owner":{"account_id":2323120,"reputation":10362,"user_id":2038257,"accept_rate":66,"display_name":"Marco Dinatsoli"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596839215,"creation_date":1596839215,"answer_id":63309883,"question_id":63309223,"body_markdown":"I found the answer.\r\n\r\nAdd lombok.config file with content:\r\n\r\n    lombok.anyConstructor.addConstructorProperties=true","title":"Jackson deserialization of a Lombok @Builder class using a mixin is not working","body":"<p>I found the answer.</p>\n<p>Add lombok.config file with content:</p>\n<pre><code>lombok.anyConstructor.addConstructorProperties=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690203685,"creation_date":1628885623,"answer_id":68777929,"question_id":63309223,"body_markdown":"The issue here is that Jackson expects a no-argument constructor or some other configured way of creating the object.  However, because of the `@Builder` annotation on `A`, the no-argument constructor is not present, only the Lombok-generated all-argument constructor `A(int id, String name, String lastName)`.\r\n\r\nAs of Lombok v1.18.14, the [`@Jacksonized`](https://projectlombok.org/features/experimental/Jacksonized) annotation can be added to the class with the `@Builder` annotation, which automatically configures the builder to be used for Jackson deserialization.\r\n\r\n```lang-java\r\n@Jacksonized\r\n@Builder\r\n@Value\r\npublic class A {\r\n    int id;\r\n    String name;\r\n    @NonNull String lastName;\r\n}\r\n```\r\n\r\nThe Lombok [documentation](https://projectlombok.org/features/experimental/Jacksonized) for `@Jacksonized` describes this annotation in more detail:\r\n\r\n&gt; The `@Jacksonized` annotation is an add-on annotation for `@Builder` and `@SuperBuilder`. It automatically configures the generated builder class to be used by [Jackson](https://github.com/FasterXML/jackson)&#39;s deserialization. It only has an effect if present at a context where there is also a `@Builder` or a `@SuperBuilder`; a warning is emitted otherwise.\r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; In particular, the annotation does the following:\r\n&gt;\r\n&gt; * Configure Jackson to use the builder for deserialization using `@JsonDeserialize(builder=_Foobar_._Foobar_Builder[Impl].class))` on the class (where _Foobar_ is the name of the annotated class, and `Impl` is added for `@SuperBuilder`). (An error is emitted if such an annotation already exists.)\r\n&gt; * Copy Jackson-related configuration annotations (like `@JsonIgnoreProperties`) from the class to the builder class. This is necessary so that Jackson recognizes them when using the builder.\r\n&gt; * Insert `@JsonPOJOBuilder(withPrefix=&quot;&quot;)` on the generated builder class to override Jackson&#39;s default prefix &quot;with&quot;. If you configured a different prefix in lombok using `setterPrefix`, this value is used. If you changed the name of the `build()` method using using `buildMethodName`, this is also made known to Jackson.\r\n&gt; * For `@SuperBuilder`, make the builder implementation class package-private.\r\n\r\n---\r\n\r\nNote: This issue has nothing to do with the usage of a mixin, which can be verified by moving Jackson configuration from the mixin to the class itself and observing that the issue is still present.","title":"Jackson deserialization of a Lombok @Builder class using a mixin is not working","body":"<p>The issue here is that Jackson expects a no-argument constructor or some other configured way of creating the object.  However, because of the <code>@Builder</code> annotation on <code>A</code>, the no-argument constructor is not present, only the Lombok-generated all-argument constructor <code>A(int id, String name, String lastName)</code>.</p>\n<p>As of Lombok v1.18.14, the <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\"><code>@Jacksonized</code></a> annotation can be added to the class with the <code>@Builder</code> annotation, which automatically configures the builder to be used for Jackson deserialization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Jacksonized\n@Builder\n@Value\npublic class A {\n    int id;\n    String name;\n    @NonNull String lastName;\n}\n</code></pre>\n<p>The Lombok <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\">documentation</a> for <code>@Jacksonized</code> describes this annotation in more detail:</p>\n<blockquote>\n<p>The <code>@Jacksonized</code> annotation is an add-on annotation for <code>@Builder</code> and <code>@SuperBuilder</code>. It automatically configures the generated builder class to be used by <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>'s deserialization. It only has an effect if present at a context where there is also a <code>@Builder</code> or a <code>@SuperBuilder</code>; a warning is emitted otherwise.</p>\n<p>[...]</p>\n<p>In particular, the annotation does the following:</p>\n<ul>\n<li>Configure Jackson to use the builder for deserialization using <code>@JsonDeserialize(builder=_Foobar_._Foobar_Builder[Impl].class))</code> on the class (where <em>Foobar</em> is the name of the annotated class, and <code>Impl</code> is added for <code>@SuperBuilder</code>). (An error is emitted if such an annotation already exists.)</li>\n<li>Copy Jackson-related configuration annotations (like <code>@JsonIgnoreProperties</code>) from the class to the builder class. This is necessary so that Jackson recognizes them when using the builder.</li>\n<li>Insert <code>@JsonPOJOBuilder(withPrefix=&quot;&quot;)</code> on the generated builder class to override Jackson's default prefix &quot;with&quot;. If you configured a different prefix in lombok using <code>setterPrefix</code>, this value is used. If you changed the name of the <code>build()</code> method using using <code>buildMethodName</code>, this is also made known to Jackson.</li>\n<li>For <code>@SuperBuilder</code>, make the builder implementation class package-private.</li>\n</ul>\n</blockquote>\n<hr />\n<p>Note: This issue has nothing to do with the usage of a mixin, which can be verified by moving Jackson configuration from the mixin to the class itself and observing that the issue is still present.</p>\n"}],"owner":{"account_id":2323120,"reputation":10362,"user_id":2038257,"accept_rate":66,"display_name":"Marco Dinatsoli"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2438,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1690203685,"creation_date":1596834878,"question_id":63309223,"body_markdown":"This is my class:\r\n\r\n    @Builder\r\n    @Value\r\n    public class A {\r\n        int id;\r\n        String name;\r\n        @NonNull String lastName;\r\n    }\r\n\r\nThe Lombok `@Builder` will add the all args constructor.\r\n\r\nI need to deserialise a string into a POJO object.\r\n\r\nI created the following Jackson mixin containing all three properties:\r\n\r\n    public abstract class AMixin {\r\n        public AMixin(@JsonProperty(&quot;name&quot;) String name,\r\n                      @JsonProperty(&quot;id&quot;) int id,\r\n                      @JsonProperty(&quot;lastName&quot;) String lastName) {\r\n        }\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        abstract String getName();\r\n    \r\n        @JsonProperty(&quot;id&quot;)\r\n        abstract int getId();\r\n    \r\n        @JsonProperty(&quot;lastName&quot;)\r\n        abstract String getLastName();\r\n    \r\n    }\r\n\r\nI deserialise like this:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.addMixIn(A.class, AMixin.class);\r\n    \r\n            String ss = &quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;some name\\&quot;,\\&quot;lastName\\&quot;:\\&quot;some name\\&quot;}\\n&quot;;\r\n            A c = mapper.readValue(ss, A.class);\r\n        }\r\n\r\nbut I get this error:\r\n\r\n```lang-none\r\nException in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.bla.test.A` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: (String)&quot;{&quot;id&quot;:1,&quot;name&quot;:&quot;some name&quot;,&quot;lastName&quot;:&quot;some name&quot;}\r\n&quot;; line: 1, column: 2]\r\n```\r\n","title":"Jackson deserialization of a Lombok @Builder class using a mixin is not working","body":"<p>This is my class:</p>\n<pre><code>@Builder\n@Value\npublic class A {\n    int id;\n    String name;\n    @NonNull String lastName;\n}\n</code></pre>\n<p>The Lombok <code>@Builder</code> will add the all args constructor.</p>\n<p>I need to deserialise a string into a POJO object.</p>\n<p>I created the following Jackson mixin containing all three properties:</p>\n<pre><code>public abstract class AMixin {\n    public AMixin(@JsonProperty(&quot;name&quot;) String name,\n                  @JsonProperty(&quot;id&quot;) int id,\n                  @JsonProperty(&quot;lastName&quot;) String lastName) {\n    }\n\n    @JsonProperty(&quot;name&quot;)\n    abstract String getName();\n\n    @JsonProperty(&quot;id&quot;)\n    abstract int getId();\n\n    @JsonProperty(&quot;lastName&quot;)\n    abstract String getLastName();\n\n}\n</code></pre>\n<p>I deserialise like this:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.addMixIn(A.class, AMixin.class);\n\n        String ss = &quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;some name\\&quot;,\\&quot;lastName\\&quot;:\\&quot;some name\\&quot;}\\n&quot;;\n        A c = mapper.readValue(ss, A.class);\n    }\n</code></pre>\n<p>but I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.bla.test.A` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (String)&quot;{&quot;id&quot;:1,&quot;name&quot;:&quot;some name&quot;,&quot;lastName&quot;:&quot;some name&quot;}\n&quot;; line: 1, column: 2]\n</code></pre>\n"},{"tags":["java","database","clickhouse","clickhouse-client"],"comments":[{"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"score":0,"creation_date":1691494840,"post_id":76754682,"comment_id":135496523,"body_markdown":"Can you add the result of the command &quot;SHOW CREATE TABLE *your_table*&quot; ?","body":"Can you add the result of the command &quot;SHOW CREATE TABLE <i>your_table</i>&quot; ?"}],"owner":{"account_id":19117595,"reputation":61,"user_id":13962184,"display_name":"Deus Asakura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690202997,"creation_date":1690202997,"question_id":76754682,"body_markdown":"Here are method to send batches to ClickHouse. Batch size = 50, all data to send = 1000 objects.\r\n\r\nMy method\r\n```\r\n void executeBatch(final List&lt;V&gt; batch) throws ClickHouseException {\r\n        if (!batch.isEmpty()) {\r\n            try (ClickHouseClient client = ClickHouseClient.newInstance(ClickHouseProtocol.HTTP)) {\r\n                ClickHouseRequest.Mutation insertRequest = client.read(cluster).write().table(tableName)\r\n                    .format(ClickHouseFormat.RowBinary);\r\n                ClickHouseConfig config = insertRequest.getConfig();\r\n\r\n                try (final ClickHousePipedOutputStream stream = ClickHouseDataStreamFactory.getInstance()\r\n                    .createPipedOutputStream(config, (Runnable) null)) {\r\n                    insertRequest.data(stream.getInputStream())\r\n                        .execute()\r\n                        .thenAccept(response -&gt;\r\n                            LOGGER.info(&quot;Batch: {}, Written rows: {}&quot;, batch.size(),\r\n                                response.getSummary().getWrittenRows()));\r\n\r\n                    for (final V event : batch) {\r\n                        BinaryStreamUtils.writeString(stream, event.get(&quot;id&quot;).getAsString());\r\n                        BinaryStreamUtils.writeNonNull(stream);\r\n                        BinaryStreamUtils.writeString(stream, event.get(&quot;name&quot;).getAsString());\r\n                    }\r\n                }\r\n            } catch (final IOException e) {\r\n                throw ClickHouseException.of(e, cluster.getTemplate());\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI see in logs\r\n&gt; Batch: 50, Written rows: 50\r\n\r\nWhile sending to ClickHouse it doesn&#39;t throw any exceptions.\r\n\r\nBut there are not all 20 log rows, every try its different and in the table are not all rows, just according to logs.\r\n\r\nIn the table `system.errors` are several rows:\r\n\r\n - Cannot parse input: expected &#39;\\r\\n&#39; at end of stream.   \r\n - Unexpected end of file while reading chunk header of HTTP chunked data   \r\n - Too many parts (300). Merges are processing significantly slower than inserts\r\n - Directory /var/lib/clickhouse/store/1ae/1ae1dd8f-736f-4a7d9f15608a194c56af/tmp_merge_202307_178_275_1/ already exists\r\n\r\nNo matter the time I wait the destination table doesn&#39;t have all 1000 rows.\r\n\r\nWhat I do wrong?","title":"ClickHouse java client doesn&#39;t send all batches","body":"<p>Here are method to send batches to ClickHouse. Batch size = 50, all data to send = 1000 objects.</p>\n<p>My method</p>\n<pre><code> void executeBatch(final List&lt;V&gt; batch) throws ClickHouseException {\n        if (!batch.isEmpty()) {\n            try (ClickHouseClient client = ClickHouseClient.newInstance(ClickHouseProtocol.HTTP)) {\n                ClickHouseRequest.Mutation insertRequest = client.read(cluster).write().table(tableName)\n                    .format(ClickHouseFormat.RowBinary);\n                ClickHouseConfig config = insertRequest.getConfig();\n\n                try (final ClickHousePipedOutputStream stream = ClickHouseDataStreamFactory.getInstance()\n                    .createPipedOutputStream(config, (Runnable) null)) {\n                    insertRequest.data(stream.getInputStream())\n                        .execute()\n                        .thenAccept(response -&gt;\n                            LOGGER.info(&quot;Batch: {}, Written rows: {}&quot;, batch.size(),\n                                response.getSummary().getWrittenRows()));\n\n                    for (final V event : batch) {\n                        BinaryStreamUtils.writeString(stream, event.get(&quot;id&quot;).getAsString());\n                        BinaryStreamUtils.writeNonNull(stream);\n                        BinaryStreamUtils.writeString(stream, event.get(&quot;name&quot;).getAsString());\n                    }\n                }\n            } catch (final IOException e) {\n                throw ClickHouseException.of(e, cluster.getTemplate());\n            }\n        }\n    }\n</code></pre>\n<p>I see in logs</p>\n<blockquote>\n<p>Batch: 50, Written rows: 50</p>\n</blockquote>\n<p>While sending to ClickHouse it doesn't throw any exceptions.</p>\n<p>But there are not all 20 log rows, every try its different and in the table are not all rows, just according to logs.</p>\n<p>In the table <code>system.errors</code> are several rows:</p>\n<ul>\n<li>Cannot parse input: expected '\\r\\n' at end of stream.</li>\n<li>Unexpected end of file while reading chunk header of HTTP chunked data</li>\n<li>Too many parts (300). Merges are processing significantly slower than inserts</li>\n<li>Directory /var/lib/clickhouse/store/1ae/1ae1dd8f-736f-4a7d9f15608a194c56af/tmp_merge_202307_178_275_1/ already exists</li>\n</ul>\n<p>No matter the time I wait the destination table doesn't have all 1000 rows.</p>\n<p>What I do wrong?</p>\n"},{"tags":["java","xml","soap","jaxb"],"owner":{"account_id":9256941,"reputation":1073,"user_id":6875688,"accept_rate":75,"display_name":"Hugo L.M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690202833,"creation_date":1690202833,"question_id":76754660,"body_markdown":"I am required to make a SOAP WS call. I autogenerated the classes using jaxws-maven-plugin, but the class it generated is very generic:\r\n\r\n```\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;docIn&quot;\r\n})\r\n@XmlRootElement(name = &quot;GrabaServicios&quot;)\r\npublic class GrabaServicios {\r\n\r\n    protected GrabaServicios.DocIn docIn;\r\n\r\n    public GrabaServicios.DocIn getDocIn() {\r\n        return docIn;\r\n    }\r\n\r\n    public void setDocIn(GrabaServicios.DocIn value) {\r\n        this.docIn = value;\r\n    }\r\n\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;content&quot;\r\n    })\r\n    public static class DocIn {\r\n\r\n        @XmlMixed\r\n        @XmlAnyElement(lax = true)\r\n        protected List&lt;Object&gt; content;\r\n\r\n        public List&lt;Object&gt; getContent() {\r\n            if (content == null) {\r\n                content = new ArrayList&lt;&gt;();\r\n            }\r\n            return this.content;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn order to generate this docIn, I have implemented my own class:\r\n\r\n```\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlRootElement(name = &quot;Servicios&quot;)\r\n@Data\r\npublic class Servicios {\r\n\r\n    @XmlElement(name = &quot;Envio&quot;)\r\n    private List&lt;Envio&gt; envioList;\r\n\r\n    @XmlAttribute(name = &quot;uidcliente&quot;)\r\n    private String uidCliente;\r\n\r\n}\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@Data\r\npublic class Envio {\r\n\r\n    @XmlElement(name = &quot;Fecha&quot;)\r\n    private String fecha;\r\n\r\n    @XmlElement(name = &quot;Servicio&quot;)\r\n    private int servicio;\r\n\r\n    @XmlElement(name = &quot;Horario&quot;)\r\n    private int horario;\r\n\r\n    @XmlElement(name = &quot;Bultos&quot;)\r\n    private int bultos;\r\n\r\n    @XmlElement(name = &quot;Peso&quot;)\r\n    private int peso;\r\n\r\n    @XmlElement(name = &quot;Portes&quot;)\r\n    private String portes;\r\n\r\n    @XmlElement(name = &quot;Importes&quot;)\r\n    private Importes importes;\r\n\r\n    @XmlElement(name = &quot;Remite&quot;)\r\n    private Remite remite;\r\n\r\n    @XmlElement(name = &quot;Destinatario&quot;)\r\n    private Destinatario destinatario;\r\n\r\n    @XmlElement(name = &quot;DevuelveAdicionales&quot;)\r\n    private DevuelveAdicionales devuelveAdicionales;\r\n\r\n}\r\n```\r\n\r\nWhat would be the correct way to handle this in Java? I managed to make the call by creating the XML in a more manual way, which I do not like:\r\n\r\n```\r\nElement body = doc.createElement(&quot;soapenv:Body&quot;);\r\nenvelope.appendChild(body);\r\n\r\nElement grabaServicios = doc.createElement(&quot;asm:GrabaServicios&quot;);\r\nbody.appendChild(grabaServicios);\r\n\r\nElement docIn = doc.createElement(&quot;asm:docIn&quot;);\r\ngrabaServicios.appendChild(docIn);\r\n```\r\n\r\n\r\nHow can I use the auto-generated classes and my custom class to create the necessary XML and make the SOAP call? Any guidance or suggestions would be greatly appreciated. Thanks in advance.\r\n\r\n\r\n","title":"How to correctly handle SOAP WS call with autogenerated and custom classes in Java?","body":"<p>I am required to make a SOAP WS call. I autogenerated the classes using jaxws-maven-plugin, but the class it generated is very generic:</p>\n<pre><code>    @XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;docIn&quot;\n})\n@XmlRootElement(name = &quot;GrabaServicios&quot;)\npublic class GrabaServicios {\n\n    protected GrabaServicios.DocIn docIn;\n\n    public GrabaServicios.DocIn getDocIn() {\n        return docIn;\n    }\n\n    public void setDocIn(GrabaServicios.DocIn value) {\n        this.docIn = value;\n    }\n\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(name = &quot;&quot;, propOrder = {\n        &quot;content&quot;\n    })\n    public static class DocIn {\n\n        @XmlMixed\n        @XmlAnyElement(lax = true)\n        protected List&lt;Object&gt; content;\n\n        public List&lt;Object&gt; getContent() {\n            if (content == null) {\n                content = new ArrayList&lt;&gt;();\n            }\n            return this.content;\n        }\n\n    }\n\n}\n</code></pre>\n<p>In order to generate this docIn, I have implemented my own class:</p>\n<pre><code>    @XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;Servicios&quot;)\n@Data\npublic class Servicios {\n\n    @XmlElement(name = &quot;Envio&quot;)\n    private List&lt;Envio&gt; envioList;\n\n    @XmlAttribute(name = &quot;uidcliente&quot;)\n    private String uidCliente;\n\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@Data\npublic class Envio {\n\n    @XmlElement(name = &quot;Fecha&quot;)\n    private String fecha;\n\n    @XmlElement(name = &quot;Servicio&quot;)\n    private int servicio;\n\n    @XmlElement(name = &quot;Horario&quot;)\n    private int horario;\n\n    @XmlElement(name = &quot;Bultos&quot;)\n    private int bultos;\n\n    @XmlElement(name = &quot;Peso&quot;)\n    private int peso;\n\n    @XmlElement(name = &quot;Portes&quot;)\n    private String portes;\n\n    @XmlElement(name = &quot;Importes&quot;)\n    private Importes importes;\n\n    @XmlElement(name = &quot;Remite&quot;)\n    private Remite remite;\n\n    @XmlElement(name = &quot;Destinatario&quot;)\n    private Destinatario destinatario;\n\n    @XmlElement(name = &quot;DevuelveAdicionales&quot;)\n    private DevuelveAdicionales devuelveAdicionales;\n\n}\n</code></pre>\n<p>What would be the correct way to handle this in Java? I managed to make the call by creating the XML in a more manual way, which I do not like:</p>\n<pre><code>Element body = doc.createElement(&quot;soapenv:Body&quot;);\nenvelope.appendChild(body);\n\nElement grabaServicios = doc.createElement(&quot;asm:GrabaServicios&quot;);\nbody.appendChild(grabaServicios);\n\nElement docIn = doc.createElement(&quot;asm:docIn&quot;);\ngrabaServicios.appendChild(docIn);\n</code></pre>\n<p>How can I use the auto-generated classes and my custom class to create the necessary XML and make the SOAP call? Any guidance or suggestions would be greatly appreciated. Thanks in advance.</p>\n"},{"tags":["java","sockets","ssl","sslserversocket"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690202612,"creation_date":1690202612,"answer_id":76754624,"question_id":76753900,"body_markdown":"&gt; ;Here, since I am passing an object that is of type SSLSocket to a function that accepts Socket, I suspect that SSL connection is not getting cleaned up during shutdown. Only the underlying TCP layer is shutting down.\r\n\r\nThis doesn&#39;t make much sense - __both__ concepts (`SSLSocket` and non-SSLed sockets) are resources that require `close()`ing.\r\n\r\nThere are 2 options:\r\n\r\n* The code you are calling into __does not do it right__. Which generally means: Does not use try-with-resources. In which case that code is broken. SSL has nothing to do with it - failure to `close()` non-SSL sockets safely is just as much of an issue.\r\n* The code you are calling into does it right. In which case, the fact that it&#39;s an SSLSocket instance is irrelevant: It&#39;ll be cleaned up appropriately.\r\n\r\n&gt; Also, is there a way for me to verify via Java code or any other means if a SSL shutdown has happened for a given socket?\r\n\r\nCheck the code. Is it safe-closing? There aren&#39;t any runtime hooks I&#39;m aware of that you can add.\r\n\r\n## You have a style issue!\r\n\r\n&gt; ```java\r\n&gt; processData(Socket sock)\r\n&gt; {\r\n&gt;    read from socket\r\n&gt;    close socket\r\n&gt; }\r\n&gt; ```\r\n\r\nThis isn&#39;t normal. As in, it&#39;s not a bug directly nor is it invalid java code but this runs counter to how the community expects resource-using code to operate.\r\n\r\n_Normally_, whatever _makes_ the resource is also responsible for _closing_ the resource. It is abnormal for a thing that makes a resource _not_ to also close it, and it is similarly abnormal for a thing that is handed_ a resource (vs. creating it itself) to close it.\r\n\r\nThese rules are the obvious result of applying a bunch of axioms and obvious maxims:\r\n\r\n* Resources must be managed, as in, once created they _must_ be closed or that JVM starts &#39;leaking resources&#39; (not so much a memory leak, but more e.g. that you run out of file handles and therefore the JVM can&#39;t do much until it is shut down entirely). The garbage collector cannot be used as a fallback for resource management, because there is no guarantee the garbage collector is going to run in a timely fashion. It could (and this really happens) take _days_ for the GC to kick in.\r\n\r\n* Given that they must be managed, making multiple unrelated snippets of code jointly responsible for managing it does not work - shared responsibility, is no responsibility. Or, everybody tries to program safely and closes everything in sight which means one snippet makes the work of another impossible to closing a resource it needs &#39;out from under its feet&#39;. The solution is simple and obvious: Make sure only one snippet of code is universally agreed upon as being responsible for the resource. That code should ensure it is closed. Other code should ensure it __does not__ close it.\r\n\r\nThis then simplifies to: So.. which code is responsible?\r\n\r\nAnd that leads to: ... the one that made the resource, unless explicitly documented otherwise. This documentation is stated in terms of the passing of the responsibility. You can have a thing that makes a resource and fails to close it, as long as it documents that responsibility &#39;passes&#39; to the caller of it. You can have a thing that takes a resource from outside of itself and closes it, as long as it documents that it takes away the responsibility from the caller (and, hence, that the caller must not also close it and must cease interacting with the resource after passing it).\r\n\r\nRust applies this principle as a compiler checked concept with all objects (due to not having a garbage collector, pretty much all objects in rust are &#39;resources that must be closed&#39;) - so if you&#39;re familiar with that language, you do the same thing in java, only you limit it to objects-representing-system-resources and you don&#39;t get the rust compiler&#39;s enforcement of responsibility and all that entails (such as refusing to compile code that interacts with an object after handing it over to another along with the responsibility for that object).\r\n\r\nAn example of a method that &#39;passes responsibility&#39; is `new FileInputStream()` (which makes a resource but obviously doesn&#39;t also close it, as that would make the class useless), and `Files.newInputStream`. By convention, you should either use a constructor, or include `new` in the method&#39;s name. Older API is bad and breaks this rule (back then &#39;resource management is kinda hard&#39; was less well known), such as `Socket`&#39;s `.getInputStream()` which should have been called `.newInputStream()`. Because it makes a resource _and_ passes responsibility for it to the caller.\r\n\r\nYour method here is a case of the reverse: It _does not_ make a resource but nevertheless _does_ &#39;take it over&#39; and takes on the responsibility of closing it. As far as I&#39;m aware there is no convention for this, so you need to go out of your way to document it. Or, preferably, rewrite this method. It should do one of three things:\r\n\r\n* Not close the resource and leave the responsibility with the caller (or rather, the maker of that resource).\r\n* If it is a long-lived thing where you end up storing this resource in a field or passing it to a thread/runnable, the thing that takes a resource should itself become a resource, and implement `AutoClosable` to signal this. By convention, passing resources to AutoClosables inherently passes responsibility. See: `Scanner`, `BufferedInputStream`, and every other filter stream/reader/writer in the core java libraries. Then the caller gets to &#39;transfer&#39; the responsibility from &#39;close this socket&#39; to &#39;close this SocketProcessor&#39;, which is a common occurrence in java.\r\n* Should document _extremely carefully because you&#39;re off the common path here_ that this method adopts responsibility.\r\n\r\nGiven that it&#39;s so &#39;weird&#39; and given that it sounds in your question like you don&#39;t directly control this code, you should assume that it does the common thing and therefore __does not close the resource, intentionally_.\r\n\r\n## Safely closing resources\r\n\r\nThis is how you safely close resources:\r\n\r\n```\r\ntry (Resource r = makeAndTakeResponsibilityForTheResource()) {\r\n  // use r here\r\n}\r\n```\r\n\r\nThat&#39;s it. It&#39;s as simple as that: The compiler and runtime work together to ensure that no matter what happens, if code &#39;flows&#39; out of this block the resource is closed. Whether naturally (runs to the closing brace), by control flow (`return;`, `break;`, etcetera), or by exception. Here is an example with sockets:\r\n\r\n```\r\ntry (Socket s = serverSocket.accept()) {\r\n  // do stuff with s\r\n}\r\n// s as a variable doesn&#39;t even exist anymore here, which is nice\r\n```\r\n\r\nIn java code over 20 years old, this would have to look like the unwieldy:\r\n\r\n```\r\nSocket s = ...;\r\ntry {\r\n  // use s here\r\n} finally {\r\n  s.close();\r\n}\r\n```\r\n\r\nThe try-with construct desugars to the above - bad decompilers will likely turn the first snippet into the second one, in case you&#39;re desperate enough to decompile classes to figure out how they work and if they work as you expected them to.\r\n\r\nIf you use your resources as follows:\r\n\r\n* &quot;A resource&quot; is any object that is `instanceof AutoClosable`.\r\n* Resource makers are either constructors, or methods that include the name `new`, or create them using `try ( ... ) {}`. And you are aware invoking a method whose name includes `new` or constructor that returns a resource means _you_ are the &#39;resource maker&#39; - you inherit the responsibility.\r\n* Objects that require a resource statefully (cannot be fully done with it within the confines of a single method call) are turned into resources themselves (give em a `close()` method and stick `implements AutoClosable` on it). Presume passing a resource to a thing that makes a resource transfers responsibility (e.g. `new BufferedInputStream(someStream)` transfers).\r\n* Do _NOT_ close resources outside of these rules. Don&#39;t close resources you didn&#39;t make &#39;just in case&#39;, don&#39;t add `finalizer()` methods that close resources.\r\n\r\nIt can&#39;t go wrong. Hence, do it that way - it&#39;s convention, and that convention is good.\r\n\r\n## Checking it\r\n\r\nlinter tools (tools that check your source code as you develop - sometimes more fancifully called &#39;static code analysers&#39;) exist that check proper application of the above rules. Apply them to your codebase if you want to know.\r\n\r\nThere is, as far as I know, no real runtime equivalent. You _could_ of course write AOP or agents or other JVM plugins that keep track of the creation of resources and simply start some timers to eventually start saying: Hmmm, that resource has been open for a very very long time. Bug? - or if you want to get real fancy, figure out a way to runtime-confirm the above behaviour.\r\n\r\nThat is _very_ complicated (person-month+) and as far as I know, nobody is doing this. I guess folks trust the linters.","title":"How to verify if SSL shutdown happening for my socket in Java","body":"<blockquote>\n<p>;Here, since I am passing an object that is of type SSLSocket to a function that accepts Socket, I suspect that SSL connection is not getting cleaned up during shutdown. Only the underlying TCP layer is shutting down.</p>\n</blockquote>\n<p>This doesn't make much sense - <strong>both</strong> concepts (<code>SSLSocket</code> and non-SSLed sockets) are resources that require <code>close()</code>ing.</p>\n<p>There are 2 options:</p>\n<ul>\n<li>The code you are calling into <strong>does not do it right</strong>. Which generally means: Does not use try-with-resources. In which case that code is broken. SSL has nothing to do with it - failure to <code>close()</code> non-SSL sockets safely is just as much of an issue.</li>\n<li>The code you are calling into does it right. In which case, the fact that it's an SSLSocket instance is irrelevant: It'll be cleaned up appropriately.</li>\n</ul>\n<blockquote>\n<p>Also, is there a way for me to verify via Java code or any other means if a SSL shutdown has happened for a given socket?</p>\n</blockquote>\n<p>Check the code. Is it safe-closing? There aren't any runtime hooks I'm aware of that you can add.</p>\n<h2>You have a style issue!</h2>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>processData(Socket sock)\n{\n   read from socket\n   close socket\n}\n</code></pre>\n</blockquote>\n<p>This isn't normal. As in, it's not a bug directly nor is it invalid java code but this runs counter to how the community expects resource-using code to operate.</p>\n<p><em>Normally</em>, whatever <em>makes</em> the resource is also responsible for <em>closing</em> the resource. It is abnormal for a thing that makes a resource <em>not</em> to also close it, and it is similarly abnormal for a thing that is handed_ a resource (vs. creating it itself) to close it.</p>\n<p>These rules are the obvious result of applying a bunch of axioms and obvious maxims:</p>\n<ul>\n<li><p>Resources must be managed, as in, once created they <em>must</em> be closed or that JVM starts 'leaking resources' (not so much a memory leak, but more e.g. that you run out of file handles and therefore the JVM can't do much until it is shut down entirely). The garbage collector cannot be used as a fallback for resource management, because there is no guarantee the garbage collector is going to run in a timely fashion. It could (and this really happens) take <em>days</em> for the GC to kick in.</p>\n</li>\n<li><p>Given that they must be managed, making multiple unrelated snippets of code jointly responsible for managing it does not work - shared responsibility, is no responsibility. Or, everybody tries to program safely and closes everything in sight which means one snippet makes the work of another impossible to closing a resource it needs 'out from under its feet'. The solution is simple and obvious: Make sure only one snippet of code is universally agreed upon as being responsible for the resource. That code should ensure it is closed. Other code should ensure it <strong>does not</strong> close it.</p>\n</li>\n</ul>\n<p>This then simplifies to: So.. which code is responsible?</p>\n<p>And that leads to: ... the one that made the resource, unless explicitly documented otherwise. This documentation is stated in terms of the passing of the responsibility. You can have a thing that makes a resource and fails to close it, as long as it documents that responsibility 'passes' to the caller of it. You can have a thing that takes a resource from outside of itself and closes it, as long as it documents that it takes away the responsibility from the caller (and, hence, that the caller must not also close it and must cease interacting with the resource after passing it).</p>\n<p>Rust applies this principle as a compiler checked concept with all objects (due to not having a garbage collector, pretty much all objects in rust are 'resources that must be closed') - so if you're familiar with that language, you do the same thing in java, only you limit it to objects-representing-system-resources and you don't get the rust compiler's enforcement of responsibility and all that entails (such as refusing to compile code that interacts with an object after handing it over to another along with the responsibility for that object).</p>\n<p>An example of a method that 'passes responsibility' is <code>new FileInputStream()</code> (which makes a resource but obviously doesn't also close it, as that would make the class useless), and <code>Files.newInputStream</code>. By convention, you should either use a constructor, or include <code>new</code> in the method's name. Older API is bad and breaks this rule (back then 'resource management is kinda hard' was less well known), such as <code>Socket</code>'s <code>.getInputStream()</code> which should have been called <code>.newInputStream()</code>. Because it makes a resource <em>and</em> passes responsibility for it to the caller.</p>\n<p>Your method here is a case of the reverse: It <em>does not</em> make a resource but nevertheless <em>does</em> 'take it over' and takes on the responsibility of closing it. As far as I'm aware there is no convention for this, so you need to go out of your way to document it. Or, preferably, rewrite this method. It should do one of three things:</p>\n<ul>\n<li>Not close the resource and leave the responsibility with the caller (or rather, the maker of that resource).</li>\n<li>If it is a long-lived thing where you end up storing this resource in a field or passing it to a thread/runnable, the thing that takes a resource should itself become a resource, and implement <code>AutoClosable</code> to signal this. By convention, passing resources to AutoClosables inherently passes responsibility. See: <code>Scanner</code>, <code>BufferedInputStream</code>, and every other filter stream/reader/writer in the core java libraries. Then the caller gets to 'transfer' the responsibility from 'close this socket' to 'close this SocketProcessor', which is a common occurrence in java.</li>\n<li>Should document <em>extremely carefully because you're off the common path here</em> that this method adopts responsibility.</li>\n</ul>\n<p>Given that it's so 'weird' and given that it sounds in your question like you don't directly control this code, you should assume that it does the common thing and therefore _<em>does not close the resource, intentionally</em>.</p>\n<h2>Safely closing resources</h2>\n<p>This is how you safely close resources:</p>\n<pre><code>try (Resource r = makeAndTakeResponsibilityForTheResource()) {\n  // use r here\n}\n</code></pre>\n<p>That's it. It's as simple as that: The compiler and runtime work together to ensure that no matter what happens, if code 'flows' out of this block the resource is closed. Whether naturally (runs to the closing brace), by control flow (<code>return;</code>, <code>break;</code>, etcetera), or by exception. Here is an example with sockets:</p>\n<pre><code>try (Socket s = serverSocket.accept()) {\n  // do stuff with s\n}\n// s as a variable doesn't even exist anymore here, which is nice\n</code></pre>\n<p>In java code over 20 years old, this would have to look like the unwieldy:</p>\n<pre><code>Socket s = ...;\ntry {\n  // use s here\n} finally {\n  s.close();\n}\n</code></pre>\n<p>The try-with construct desugars to the above - bad decompilers will likely turn the first snippet into the second one, in case you're desperate enough to decompile classes to figure out how they work and if they work as you expected them to.</p>\n<p>If you use your resources as follows:</p>\n<ul>\n<li>&quot;A resource&quot; is any object that is <code>instanceof AutoClosable</code>.</li>\n<li>Resource makers are either constructors, or methods that include the name <code>new</code>, or create them using <code>try ( ... ) {}</code>. And you are aware invoking a method whose name includes <code>new</code> or constructor that returns a resource means <em>you</em> are the 'resource maker' - you inherit the responsibility.</li>\n<li>Objects that require a resource statefully (cannot be fully done with it within the confines of a single method call) are turned into resources themselves (give em a <code>close()</code> method and stick <code>implements AutoClosable</code> on it). Presume passing a resource to a thing that makes a resource transfers responsibility (e.g. <code>new BufferedInputStream(someStream)</code> transfers).</li>\n<li>Do <em>NOT</em> close resources outside of these rules. Don't close resources you didn't make 'just in case', don't add <code>finalizer()</code> methods that close resources.</li>\n</ul>\n<p>It can't go wrong. Hence, do it that way - it's convention, and that convention is good.</p>\n<h2>Checking it</h2>\n<p>linter tools (tools that check your source code as you develop - sometimes more fancifully called 'static code analysers') exist that check proper application of the above rules. Apply them to your codebase if you want to know.</p>\n<p>There is, as far as I know, no real runtime equivalent. You <em>could</em> of course write AOP or agents or other JVM plugins that keep track of the creation of resources and simply start some timers to eventually start saying: Hmmm, that resource has been open for a very very long time. Bug? - or if you want to get real fancy, figure out a way to runtime-confirm the above behaviour.</p>\n<p>That is <em>very</em> complicated (person-month+) and as far as I know, nobody is doing this. I guess folks trust the linters.</p>\n"}],"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690202612,"creation_date":1690197194,"question_id":76753900,"body_markdown":"I have a Java code where I created a SSLSocket. My design looks like this:\r\n\r\n    Super class: Server.java. Member variable: socket of type Socket.\r\n    My derived class: TLSServer.java. Member variables - SSLSocket sslSock;\r\n                                                         SSLServerSocket sslSrvrSock;\r\n    \r\n    \r\n    sslSock = sslSrvrSock.accept();\r\n\r\nNow, we have a code like this:\r\n\r\n    processData(Socket sock)\r\n    {\r\n       read from socket\r\n       close socket\r\n    }\r\n    \r\n    Server server;\r\n    This is how we call processData - processData(server.sock);\r\n\r\n \r\n\r\nNow the object server of type Server itself could be either Server or TLSServer. If TLSServer, we still pass it as an object of type Socket and not SSLSocket.\r\n\r\nNow, when we finally close the socket, how do I ensure that SSL functionality is actually shut down for this socket? In C++ openssl lib, I can do: SSL_shutdown()\r\n\r\nHere, since I am passing an object that is of type SSLSocket to a function that accepts Socket, I suspect that SSL connection is not getting cleaned up during shutdown. Only the underlying TCP layer is shutting down.\r\n\r\nPls suggest. Also, is there a way for me to verify via Java code or any other means if a SSL shutdown has happened for a given socket?\r\n\r\nI have an app that is talking to this server which is not getting the close notify when the socket closes. Which makes me suspect that SSL shutdown is not happening.\r\n\r\nThanks, Om.","title":"How to verify if SSL shutdown happening for my socket in Java","body":"<p>I have a Java code where I created a SSLSocket. My design looks like this:</p>\n<pre><code>Super class: Server.java. Member variable: socket of type Socket.\nMy derived class: TLSServer.java. Member variables - SSLSocket sslSock;\n                                                     SSLServerSocket sslSrvrSock;\n\n\nsslSock = sslSrvrSock.accept();\n</code></pre>\n<p>Now, we have a code like this:</p>\n<pre><code>processData(Socket sock)\n{\n   read from socket\n   close socket\n}\n\nServer server;\nThis is how we call processData - processData(server.sock);\n</code></pre>\n<p>Now the object server of type Server itself could be either Server or TLSServer. If TLSServer, we still pass it as an object of type Socket and not SSLSocket.</p>\n<p>Now, when we finally close the socket, how do I ensure that SSL functionality is actually shut down for this socket? In C++ openssl lib, I can do: SSL_shutdown()</p>\n<p>Here, since I am passing an object that is of type SSLSocket to a function that accepts Socket, I suspect that SSL connection is not getting cleaned up during shutdown. Only the underlying TCP layer is shutting down.</p>\n<p>Pls suggest. Also, is there a way for me to verify via Java code or any other means if a SSL shutdown has happened for a given socket?</p>\n<p>I have an app that is talking to this server which is not getting the close notify when the socket closes. Which makes me suspect that SSL shutdown is not happening.</p>\n<p>Thanks, Om.</p>\n"},{"tags":["java","limesurvey"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684572726,"post_id":76294291,"comment_id":134539118,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":2583171,"reputation":846,"user_id":2239406,"display_name":"Denis Chenu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690202554,"creation_date":1690202554,"answer_id":76754612,"question_id":76294291,"body_markdown":"If your question code are RANK : {RANK_1.shown} sho the text of the 1st option.\r\n\r\nSee https://manual.limesurvey.org/Expression_Manager#Qcode_Variable_Naming","title":"LimeSurvey - Inserting first ranked answer in the text of the next question","body":"<p>If your question code are RANK : {RANK_1.shown} sho the text of the 1st option.</p>\n<p>See <a href=\"https://manual.limesurvey.org/Expression_Manager#Qcode_Variable_Naming\" rel=\"nofollow noreferrer\">https://manual.limesurvey.org/Expression_Manager#Qcode_Variable_Naming</a></p>\n"}],"owner":{"account_id":23602300,"reputation":1,"user_id":17638597,"display_name":"Juanita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690202554,"creation_date":1684572453,"question_id":76294291,"body_markdown":"I have question being a ranked question of top 3,\r\n\r\nQ1. PLEASE LIST top 3 supermarkets.\r\n\r\nQ2. Why did you choose &lt;insert first rank&gt;?\r\n\r\n\r\nI know some coding in regards to the single question but have no idea for the ranked question, this is just a personal project.","title":"LimeSurvey - Inserting first ranked answer in the text of the next question","body":"<p>I have question being a ranked question of top 3,</p>\n<p>Q1. PLEASE LIST top 3 supermarkets.</p>\n<p>Q2. Why did you choose ?</p>\n<p>I know some coding in regards to the single question but have no idea for the ranked question, this is just a personal project.</p>\n"},{"tags":["java","docker","spring-kafka"],"owner":{"account_id":12135514,"reputation":423,"user_id":8861099,"display_name":"cUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690202393,"creation_date":1690202393,"question_id":76754592,"body_markdown":"Hellow I want to use for local development \r\n\r\naxual/platform-test-standalone image\r\n\r\nThe issue is that I want to have one that is compatible with java 17 and not just with 11. I was trying with multiple versions but I could not find any version to work.\r\n\r\nDocker image is like this\r\n\r\n      app:\r\n        image: axual/platform-test-standalone:5.7.0\r\n        hostname: standalone\r\n        ports:\r\n          - &quot;9000:9000&quot;\r\n        volumes:\r\n          - ./artifacts:/schemaJars\r\n        environment:\r\n          - SPRING_PROFILES_ACTIVE=app\r\n\r\nOf course because of mismatch from java app and the image I get this error \r\n\r\n&gt;Caused by: java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\r\nAre you aware if there is any axual verison for 17 ? ","title":"Is there axual/platform-test-standalone version supporting jdk 17","body":"<p>Hellow I want to use for local development</p>\n<p>axual/platform-test-standalone image</p>\n<p>The issue is that I want to have one that is compatible with java 17 and not just with 11. I was trying with multiple versions but I could not find any version to work.</p>\n<p>Docker image is like this</p>\n<pre><code>  app:\n    image: axual/platform-test-standalone:5.7.0\n    hostname: standalone\n    ports:\n      - &quot;9000:9000&quot;\n    volumes:\n      - ./artifacts:/schemaJars\n    environment:\n      - SPRING_PROFILES_ACTIVE=app\n</code></pre>\n<p>Of course because of mismatch from java app and the image I get this error</p>\n<blockquote>\n<p>Caused by: java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0</p>\n</blockquote>\n<p>Are you aware if there is any axual verison for 17 ?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":29079601,"reputation":3,"user_id":22275955,"display_name":"Александр Потапов"},"score":0,"creation_date":1690198557,"post_id":76753743,"comment_id":135315314,"body_markdown":"Thank you very much for the answer! But please tell me, if now the categories folder is in src/main/resources/templates( [photo](https://imgur.com/a/0ZG8JuN) ), how can I access it, for example, in this line: &lt;iframe th:src=&quot;&quot; class=&quot;iframeTrueContainer&quot; id=&quot;iframeTrueContainerId&quot;&gt;&lt;/iframe&gt; ? What should I write in the th:src tag?","body":"Thank you very much for the answer! But please tell me, if now the categories folder is in src/main/resources/templates( <a href=\"https://imgur.com/a/0ZG8JuN\" rel=\"nofollow noreferrer\">photo</a> ), how can I access it, for example, in this line: &lt;iframe th:src=&quot;&quot; class=&quot;iframeTrueContainer&quot; id=&quot;iframeTrueContainerId&quot;&gt;&lt;/iframe&gt; ? What should I write in the th:src tag?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690199220,"post_id":76753743,"comment_id":135315457,"body_markdown":"You should put there the endpoint from your web controller class. This is the Java class annotated with @Controller.","body":"You should put there the endpoint from your web controller class. This is the Java class annotated with @Controller."},{"owner":{"account_id":29079601,"reputation":3,"user_id":22275955,"display_name":"Александр Потапов"},"score":0,"creation_date":1690199623,"post_id":76753743,"comment_id":135315554,"body_markdown":"So in the end the line will look something like this? \n&lt;iframe th:src=&quot;categories/minecraft&quot; class=&quot;iframeTrueContainer&quot; id=&quot;iframeTrueContainerId&quot;&gt;&lt;/iframe&gt;","body":"So in the end the line will look something like this?  &lt;iframe th:src=&quot;categories/minecraft&quot; class=&quot;iframeTrueContainer&quot; id=&quot;iframeTrueContainerId&quot;&gt;&lt;/iframe&gt;"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690200349,"post_id":76753743,"comment_id":135315712,"body_markdown":"Yes if `/categories/minecraft` is the endpoint defined like this `@GetMapping(&quot;/categories/minecraft&quot;)`. Please note: this endpoint should return `&quot;categories/minecraft&quot;` to show the template `categories/minecraft.html`","body":"Yes if <code>&#47;categories&#47;minecraft</code> is the endpoint defined like this <code>@GetMapping(&quot;&#47;categories&#47;minecraft&quot;)</code>. Please note: this endpoint should return <code>&quot;categories&#47;minecraft&quot;</code> to show the template <code>categories&#47;minecraft.html</code>"},{"owner":{"account_id":29079601,"reputation":3,"user_id":22275955,"display_name":"Александр Потапов"},"score":0,"creation_date":1690201108,"post_id":76753743,"comment_id":135315883,"body_markdown":"Sorry, but why I did everything as you said, but in the end I get an exception - org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: &quot;/categories/minecraft&quot; (template: &quot;/main/index&quot; - line 49, col 29)\n\nI have provided in the updated question text all the necessary information, could you please see what I did wrong?","body":"Sorry, but why I did everything as you said, but in the end I get an exception - org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: &quot;/categories/minecraft&quot; (template: &quot;/main/index&quot; - line 49, col 29)  I have provided in the updated question text all the necessary information, could you please see what I did wrong?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690202071,"post_id":76753743,"comment_id":135316105,"body_markdown":"I didn&#39;t check your comment. The correct syntax will be: `th:src=&quot;@{/categories/minecraft}&quot;`","body":"I didn&#39;t check your comment. The correct syntax will be: <code>th:src=&quot;@{&#47;categories&#47;minecraft}&quot;</code>"},{"owner":{"account_id":29079601,"reputation":3,"user_id":22275955,"display_name":"Александр Потапов"},"score":0,"creation_date":1690202239,"post_id":76753743,"comment_id":135316151,"body_markdown":"Thanks for the help, now I have everything working!","body":"Thanks for the help, now I have everything working!"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690202347,"post_id":76753743,"comment_id":135316186,"body_markdown":"Cool. Thanks for feedback.","body":"Cool. Thanks for feedback."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690202324,"creation_date":1690195771,"answer_id":76753743,"question_id":76753540,"body_markdown":"Your `Thymeleaf` templates should reside in the `src/main/resources/templates` folder to be found with the default settings. You can even put them in a subfolder like `src/main/resources/templates/categories`.\r\n\r\nIf it is not OK for your project you can change the default settings in the `application.properties` like this:\r\n```\r\nspring.thymeleaf.prefix=classpath:/whatever/\r\n```\r\nThe correct syntax for `th:src` in `iframe` will be:\r\n```\r\n&lt;iframe th:src=&quot;@{/categories/minecraft}&quot;/&gt;\r\n```\r\nwhere `/categories/minecraft` is the name of the endpoint in the controller class. This is the Java class annotated with `@Controller`. ","title":"How do I get thymeleaf to work in the .html files I use in my &lt;iframe&gt;?","body":"<p>Your <code>Thymeleaf</code> templates should reside in the <code>src/main/resources/templates</code> folder to be found with the default settings. You can even put them in a subfolder like <code>src/main/resources/templates/categories</code>.</p>\n<p>If it is not OK for your project you can change the default settings in the <code>application.properties</code> like this:</p>\n<pre><code>spring.thymeleaf.prefix=classpath:/whatever/\n</code></pre>\n<p>The correct syntax for <code>th:src</code> in <code>iframe</code> will be:</p>\n<pre><code>&lt;iframe th:src=&quot;@{/categories/minecraft}&quot;/&gt;\n</code></pre>\n<p>where <code>/categories/minecraft</code> is the name of the endpoint in the controller class. This is the Java class annotated with <code>@Controller</code>.</p>\n"}],"owner":{"account_id":29079601,"reputation":3,"user_id":22275955,"display_name":"Александр Потапов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76753743,"answer_count":1,"score":0,"last_activity_date":1690202324,"creation_date":1690194220,"question_id":76753540,"body_markdown":"I use the thymeleaf templating engine in my html code. My problem is that th works in the index.html iframe, but it doesn&#39;t work in other files that are used in the iframe.\r\n\r\n**index.html:**\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;&lt;/title&gt;\r\n    &lt;link th:href=&quot;@{style_main.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;script th:src=&quot;@{jsc/welcomeRandom.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{jsc/searchSys.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{jsc/btnsLogic.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{jsc/iframeUpdater.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{js/code.jquery.com_jquery-3.7.0.min.js}&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body class=&quot;mainBody&quot;&gt;\r\n\r\n        &lt;div class=&quot;ssss&quot;&gt;\r\n            &lt;p&gt;ты че еблан?&lt;/p&gt;\r\n            &lt;img th:src=&quot;@{icons/sss.jpg}&quot; alt=&quot;eblan&quot;&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;welcome&quot; id=&quot;welcomeRandom&quot;&gt;\r\n        &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;app&quot;&gt;\r\n\r\n        &lt;div class=&quot;sidebarFull&quot; id=&quot;sidebar&quot;&gt;\r\n            &lt;div class=&quot;logo&quot; onclick=&quot;changeIframe(&#39;categories/home.html&#39;)&quot;&gt;\r\n                &lt;img th:src=&quot;@{svg/logo.svg}&quot; alt=&quot;logo&quot;&gt;\r\n                &lt;p th:text=&quot;${test}&quot;&gt;&lt;/p&gt;\r\n            &lt;/div&gt;\r\n\r\n            &lt;div class=&quot;categories&quot;&gt;\r\n                &lt;a tabindex=&quot;0&quot; class=&quot;categoriesBtn&quot; onclick=&quot;changeIframe(&#39;categories/minecraft.html&#39;)&quot;&gt;&lt;img th:src=&quot;@{icons/minecraft.png}&quot; alt=&quot;icon&quot;&gt;Minecraft&lt;/a&gt;\r\n                &lt;a tabindex=&quot;0&quot; class=&quot;categoriesBtn&quot; onclick=&quot;changeIframe(&#39;categories/terraria.html&#39;)&quot;&gt;&lt;img th:src=&quot;@{icons/terraria.png}&quot; alt=&quot;icon&quot;&gt;Terraria&lt;/a&gt;\r\n                &lt;a tabindex=&quot;0&quot; class=&quot;categoriesBtn&quot; onclick=&quot;changeIframe(&#39;categories/other.html&#39;)&quot;&gt;&lt;img th:src=&quot;@{icons/other.png}&quot; alt=&quot;icon&quot;&gt;Прочее&lt;/a&gt;\r\n            &lt;/div&gt;\r\n\r\n            &lt;div class=&quot;addBtnDiv&quot;&gt;\r\n                &lt;a tabindex=&quot;0&quot; class=&quot;addBtn&quot; onclick=&quot;changeIframe(&#39;categories/submission_page.html&#39;)&quot;&gt;Добавить&lt;/a&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;articleFull&quot;&gt;\r\n            &lt;div class=&quot;articleTrue&quot;&gt;\r\n                &lt;div class=&quot;searchBarDiv&quot;&gt;\r\n                    &lt;label for=&quot;searchInput&quot;&gt;&lt;/label&gt;\r\n                    &lt;input class=&quot;searchBar&quot; id=&quot;searchInput&quot; placeholder=&quot;Поиск по названию&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;iframeContainer&quot;&gt;\r\n                    &lt;iframe th:src=&quot;@{categories/minecraft.html}&quot; class=&quot;iframeTrueContainer&quot; id=&quot;iframeTrueContainerId&quot;&gt;&lt;/iframe&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n**minecraft.html:**\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;minecraft&lt;/title&gt;\r\n    &lt;link href=&quot;../style_main.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;script src=&quot;../jsc/gridItemChecker.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div class=&quot;homeDiv&quot;&gt;\r\n\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;gridContent&quot;&gt;\r\n        &lt;div class=&quot;gridItem&quot; th:each=&quot;file : ${files}&quot;&gt;\r\n            &lt;div&gt;&lt;img src=&quot;@{file.iconpath}&quot; alt=&quot;icon&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;packNameDiv&quot;&gt;&lt;p class=&quot;packName&quot; th:text=&quot;${file.name}&quot;&gt;&lt;/p&gt;&lt;/div&gt;\r\n            &lt;div&gt;&lt;p class=&quot;sizeName&quot;&gt;Размер&lt;/p&gt;&lt;p class=&quot;sizeFact&quot; th:text=&quot;${file.filesize}&quot;&gt;&lt;/p&gt;&lt;/div&gt;\r\n            &lt;div&gt;&lt;p class=&quot;option1&quot;&gt;FML&lt;/p&gt;&lt;p class=&quot;option2&quot; th:text=&quot;${file.option1}&quot;&gt;&lt;/p&gt;&lt;/div&gt;\r\n            &lt;div&gt;&lt;p class=&quot;option1&quot;&gt;Версия&lt;/p&gt;&lt;p class=&quot;option2&quot; th:text=&quot;${file.option2}&quot;&gt;&lt;/p&gt;&lt;/div&gt;\r\n            &lt;a class=&quot;gridItemBtn&quot; href=&quot;#&quot; tabindex=&quot;0&quot;&gt;Скачать&lt;/a&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**file system:**\r\n\r\n[project file system][1]\r\n\r\nI want the thymeleaf tags to work in the other .html files that are used in my iframes, but instead they don&#39;t work and just stay in the html code of the page instead of replacing themselves with the required html code.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0BA6e.png\r\n\r\n**1 EDIT:**\r\n\r\n```\r\n&lt;div class=&quot;iframeContainer&quot;&gt;\r\n                    &lt;iframe th:src=&quot;/categories/minecraft&quot; class=&quot;iframeTrueContainer&quot; id=&quot;iframeTrueContainerId&quot;&gt;&lt;/iframe&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n**MainController.java:**\r\n\r\n```\r\n@Controller\r\npublic class MainController {\r\n    UsersFilesController controller;\r\n\r\n    @Autowired\r\n    public MainController(UsersFilesController controller) {\r\n        this.controller = controller;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model model){\r\n        List&lt;UsersFile&gt; files = controller.getAll();\r\n        model.addAttribute(&quot;files&quot;, files);\r\n        System.out.println(model.getAttribute(&quot;files&quot;));\r\n        return &quot;/main/index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/categories/minecraft&quot;)\r\n    public String minecraft(Model model){\r\n        return &quot;categories/minecraft&quot;;\r\n    }\r\n\r\n}\r\n```","title":"How do I get thymeleaf to work in the .html files I use in my &lt;iframe&gt;?","body":"<p>I use the thymeleaf templating engine in my html code. My problem is that th works in the index.html iframe, but it doesn't work in other files that are used in the iframe.</p>\n<p><strong>index.html:</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;link th:href=&quot;@{style_main.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\n    &lt;script th:src=&quot;@{jsc/welcomeRandom.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{jsc/searchSys.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{jsc/btnsLogic.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{jsc/iframeUpdater.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{js/code.jquery.com_jquery-3.7.0.min.js}&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body class=&quot;mainBody&quot;&gt;\n\n        &lt;div class=&quot;ssss&quot;&gt;\n            &lt;p&gt;ты че еблан?&lt;/p&gt;\n            &lt;img th:src=&quot;@{icons/sss.jpg}&quot; alt=&quot;eblan&quot;&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;welcome&quot; id=&quot;welcomeRandom&quot;&gt;\n        &lt;/div&gt;\n\n    &lt;div class=&quot;app&quot;&gt;\n\n        &lt;div class=&quot;sidebarFull&quot; id=&quot;sidebar&quot;&gt;\n            &lt;div class=&quot;logo&quot; onclick=&quot;changeIframe('categories/home.html')&quot;&gt;\n                &lt;img th:src=&quot;@{svg/logo.svg}&quot; alt=&quot;logo&quot;&gt;\n                &lt;p th:text=&quot;${test}&quot;&gt;&lt;/p&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;categories&quot;&gt;\n                &lt;a tabindex=&quot;0&quot; class=&quot;categoriesBtn&quot; onclick=&quot;changeIframe('categories/minecraft.html')&quot;&gt;&lt;img th:src=&quot;@{icons/minecraft.png}&quot; alt=&quot;icon&quot;&gt;Minecraft&lt;/a&gt;\n                &lt;a tabindex=&quot;0&quot; class=&quot;categoriesBtn&quot; onclick=&quot;changeIframe('categories/terraria.html')&quot;&gt;&lt;img th:src=&quot;@{icons/terraria.png}&quot; alt=&quot;icon&quot;&gt;Terraria&lt;/a&gt;\n                &lt;a tabindex=&quot;0&quot; class=&quot;categoriesBtn&quot; onclick=&quot;changeIframe('categories/other.html')&quot;&gt;&lt;img th:src=&quot;@{icons/other.png}&quot; alt=&quot;icon&quot;&gt;Прочее&lt;/a&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;addBtnDiv&quot;&gt;\n                &lt;a tabindex=&quot;0&quot; class=&quot;addBtn&quot; onclick=&quot;changeIframe('categories/submission_page.html')&quot;&gt;Добавить&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;articleFull&quot;&gt;\n            &lt;div class=&quot;articleTrue&quot;&gt;\n                &lt;div class=&quot;searchBarDiv&quot;&gt;\n                    &lt;label for=&quot;searchInput&quot;&gt;&lt;/label&gt;\n                    &lt;input class=&quot;searchBar&quot; id=&quot;searchInput&quot; placeholder=&quot;Поиск по названию&quot;&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;iframeContainer&quot;&gt;\n                    &lt;iframe th:src=&quot;@{categories/minecraft.html}&quot; class=&quot;iframeTrueContainer&quot; id=&quot;iframeTrueContainerId&quot;&gt;&lt;/iframe&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>minecraft.html:</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;minecraft&lt;/title&gt;\n    &lt;link href=&quot;../style_main.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\n    &lt;script src=&quot;../jsc/gridItemChecker.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;homeDiv&quot;&gt;\n\n    &lt;/div&gt;\n    &lt;div class=&quot;gridContent&quot;&gt;\n        &lt;div class=&quot;gridItem&quot; th:each=&quot;file : ${files}&quot;&gt;\n            &lt;div&gt;&lt;img src=&quot;@{file.iconpath}&quot; alt=&quot;icon&quot;&gt;&lt;/div&gt;\n            &lt;div class=&quot;packNameDiv&quot;&gt;&lt;p class=&quot;packName&quot; th:text=&quot;${file.name}&quot;&gt;&lt;/p&gt;&lt;/div&gt;\n            &lt;div&gt;&lt;p class=&quot;sizeName&quot;&gt;Размер&lt;/p&gt;&lt;p class=&quot;sizeFact&quot; th:text=&quot;${file.filesize}&quot;&gt;&lt;/p&gt;&lt;/div&gt;\n            &lt;div&gt;&lt;p class=&quot;option1&quot;&gt;FML&lt;/p&gt;&lt;p class=&quot;option2&quot; th:text=&quot;${file.option1}&quot;&gt;&lt;/p&gt;&lt;/div&gt;\n            &lt;div&gt;&lt;p class=&quot;option1&quot;&gt;Версия&lt;/p&gt;&lt;p class=&quot;option2&quot; th:text=&quot;${file.option2}&quot;&gt;&lt;/p&gt;&lt;/div&gt;\n            &lt;a class=&quot;gridItemBtn&quot; href=&quot;#&quot; tabindex=&quot;0&quot;&gt;Скачать&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>file system:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/0BA6e.png\" rel=\"nofollow noreferrer\">project file system</a></p>\n<p>I want the thymeleaf tags to work in the other .html files that are used in my iframes, but instead they don't work and just stay in the html code of the page instead of replacing themselves with the required html code.</p>\n<p><strong>1 EDIT:</strong></p>\n<pre><code>&lt;div class=&quot;iframeContainer&quot;&gt;\n                    &lt;iframe th:src=&quot;/categories/minecraft&quot; class=&quot;iframeTrueContainer&quot; id=&quot;iframeTrueContainerId&quot;&gt;&lt;/iframe&gt;\n&lt;/div&gt;\n</code></pre>\n<p><strong>MainController.java:</strong></p>\n<pre><code>@Controller\npublic class MainController {\n    UsersFilesController controller;\n\n    @Autowired\n    public MainController(UsersFilesController controller) {\n        this.controller = controller;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String index(Model model){\n        List&lt;UsersFile&gt; files = controller.getAll();\n        model.addAttribute(&quot;files&quot;, files);\n        System.out.println(model.getAttribute(&quot;files&quot;));\n        return &quot;/main/index&quot;;\n    }\n\n    @GetMapping(&quot;/categories/minecraft&quot;)\n    public String minecraft(Model model){\n        return &quot;categories/minecraft&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","youtube-data-api"],"owner":{"account_id":14996951,"reputation":390,"user_id":10825994,"display_name":"Viraj S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690201766,"creation_date":1690198152,"question_id":76754021,"body_markdown":"We have a requirement to show live streaming in android app for specific users only.\r\nCurrently normal videos are playing fine but stream / live URL is not working.\r\nTried each video format in MIME Type but gives source error. \r\nandroidx.media3.exoplayer.source.UnrecognizedInputFormatException: None of the available extractors could read streams.\r\n\r\n```\r\nexoPlayer = new ExoPlayer.Builder(getApplicationContext())\r\n              .setMediaSourceFactory(new DefaultMediaSourceFactory(new DefaultHttpDataSource.Factory()).setLiveTargetOffsetMs(5000))\r\n              .setHandleAudioBecomingNoisy(true)\r\n              .setWakeMode(WAKE_MODE_LOCAL)\r\n              .setTrackSelector(new DefaultTrackSelector(this))\r\n              .setBandwidthMeter(new DefaultBandwidthMeter.Builder(this).build())\r\n              .setLivePlaybackSpeedControl(new DefaultLivePlaybackSpeedControl.Builder().setFallbackMaxPlaybackSpeed(1.04f).build())\r\n              .build();\r\n```\r\n\r\n\r\n\r\n```\r\nMediaItem mediaItem = new MediaItem.Builder()\r\n              .setUri(mediaUri)\r\n              .setMimeType(MimeTypes.VIDEO_MP4)\r\n              .setLiveConfiguration(new MediaItem.LiveConfiguration.Builder().setMaxPlaybackSpeed(1.02f).build())\r\n              .build();\r\n```\r\n \r\nIs there something missing?\r\n\r\nExpecting to smoothly run live streaming youtube url&#39;s.","title":"Youtube live url not working in media3 Exo Player - Android Java","body":"<p>We have a requirement to show live streaming in android app for specific users only.\nCurrently normal videos are playing fine but stream / live URL is not working.\nTried each video format in MIME Type but gives source error.\nandroidx.media3.exoplayer.source.UnrecognizedInputFormatException: None of the available extractors could read streams.</p>\n<pre><code>exoPlayer = new ExoPlayer.Builder(getApplicationContext())\n              .setMediaSourceFactory(new DefaultMediaSourceFactory(new DefaultHttpDataSource.Factory()).setLiveTargetOffsetMs(5000))\n              .setHandleAudioBecomingNoisy(true)\n              .setWakeMode(WAKE_MODE_LOCAL)\n              .setTrackSelector(new DefaultTrackSelector(this))\n              .setBandwidthMeter(new DefaultBandwidthMeter.Builder(this).build())\n              .setLivePlaybackSpeedControl(new DefaultLivePlaybackSpeedControl.Builder().setFallbackMaxPlaybackSpeed(1.04f).build())\n              .build();\n</code></pre>\n<pre><code>MediaItem mediaItem = new MediaItem.Builder()\n              .setUri(mediaUri)\n              .setMimeType(MimeTypes.VIDEO_MP4)\n              .setLiveConfiguration(new MediaItem.LiveConfiguration.Builder().setMaxPlaybackSpeed(1.02f).build())\n              .build();\n</code></pre>\n<p>Is there something missing?</p>\n<p>Expecting to smoothly run live streaming youtube url's.</p>\n"},{"tags":["java","maven","intellij-idea","dependencies","minecraft"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1423658377,"post_id":28454474,"comment_id":45236024,"body_markdown":"Simply cause the given version does not exist in the defined repository.","body":"Simply cause the given version does not exist in the defined repository."},{"owner":{"account_id":5214743,"reputation":4743,"user_id":4170073,"display_name":"aw-think"},"score":0,"creation_date":1423658482,"post_id":28454474,"comment_id":45236085,"body_markdown":"1.8-R0.1-SNAPSHOT only exists in the given repository","body":"1.8-R0.1-SNAPSHOT only exists in the given repository"},{"owner":{"account_id":477471,"reputation":4682,"user_id":888990,"accept_rate":68,"display_name":"crmepham"},"score":0,"creation_date":1423658633,"post_id":28454474,"comment_id":45236171,"body_markdown":"I changed the version to `1.8-R0.1-SNAPSHOT` and all three are still red","body":"I changed the version to <code>1.8-R0.1-SNAPSHOT</code> and all three are still red"},{"owner":{"account_id":52109,"reputation":16183,"user_id":155695,"accept_rate":86,"display_name":"Jimmy"},"score":0,"creation_date":1423790367,"post_id":28454474,"comment_id":45303024,"body_markdown":"The reason its still red is possibly because intelliJ hasn&#39;t re-imported the pom.xml, see my answer below","body":"The reason its still red is possibly because intelliJ hasn&#39;t re-imported the pom.xml, see my answer below"}],"answers":[{"tags":[],"owner":{"account_id":4094217,"reputation":3104,"user_id":3361467,"display_name":"Ray"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1423658451,"creation_date":1423658451,"answer_id":28454623,"question_id":28454474,"body_markdown":"The dependency doesn&#39;t exist in the repo. If you follow the [repository link][1], you see that the only version inside is **1.8-R0.1-SNAPSHOT**. So you must change that version inside your pom.\r\n\r\n\r\n  [1]: https://hub.spigotmc.org/nexus/content/groups/public/org/bukkit/bukkit/","title":"Maven dependency not found for org.bukkit:bukkit","body":"<p>The dependency doesn't exist in the repo. If you follow the <a href=\"https://hub.spigotmc.org/nexus/content/groups/public/org/bukkit/bukkit/\" rel=\"nofollow\">repository link</a>, you see that the only version inside is <strong>1.8-R0.1-SNAPSHOT</strong>. So you must change that version inside your pom.</p>\n"},{"comments":[{"owner":{"account_id":477471,"reputation":4682,"user_id":888990,"accept_rate":68,"display_name":"crmepham"},"score":0,"creation_date":1423659206,"post_id":28454771,"comment_id":45236499,"body_markdown":"I changed the pom file as you suggested but it hasn&#39;t helped, I attached a screenshot, perhaps it will help identify the issue?","body":"I changed the pom file as you suggested but it hasn&#39;t helped, I attached a screenshot, perhaps it will help identify the issue?"}],"tags":[],"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423658835,"creation_date":1423658835,"answer_id":28454771,"question_id":28454474,"body_markdown":"[Bukkit as a Maven dependency](http://wiki.bukkit.org/Bukkit_as_a_Maven_Dependency) suggests a different repository:\r\n\r\n    &lt;repository&gt;\r\n      &lt;id&gt;bukkit-repo&lt;/id&gt;\r\n      &lt;url&gt;http://repo.bukkit.org/content/groups/public/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n\r\nOn inspection, it [includes 1.7.2-R0.3](https://repo.bukkit.org/content/groups/public/org/bukkit/bukkit/1.7.2-R0.3/).\r\n\r\n(It also works over SSL, as `https://repo.bukkit.org/content/groups/public/`, which you should prefer.)","title":"Maven dependency not found for org.bukkit:bukkit","body":"<p><a href=\"http://wiki.bukkit.org/Bukkit_as_a_Maven_Dependency\" rel=\"nofollow\">Bukkit as a Maven dependency</a> suggests a different repository:</p>\n\n<pre><code>&lt;repository&gt;\n  &lt;id&gt;bukkit-repo&lt;/id&gt;\n  &lt;url&gt;http://repo.bukkit.org/content/groups/public/&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n\n<p>On inspection, it <a href=\"https://repo.bukkit.org/content/groups/public/org/bukkit/bukkit/1.7.2-R0.3/\" rel=\"nofollow\">includes 1.7.2-R0.3</a>.</p>\n\n<p>(It also works over SSL, as <code>https://repo.bukkit.org/content/groups/public/</code>, which you should prefer.)</p>\n"},{"tags":[],"owner":{"account_id":52109,"reputation":16183,"user_id":155695,"accept_rate":86,"display_name":"Jimmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1423790334,"creation_date":1423790334,"answer_id":28491012,"question_id":28454474,"body_markdown":"The reason the text is red is because that dependency you&#39;ve specified can&#39;t be found in either maven central, or the additional repository you&#39;ve added.\r\n\r\nPaste the repo link into a browser, and you&#39;ll find that the dependency is actually `1.8-R0.1-SNAPSHOT` not `1.7.2-RO3` as the tutorial mentioned (maybe the tutorial is out of date, or that dependency has since been removed for some reason)\r\n\r\nChange the dep to \r\n\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8-R0.1-SNAPSHOT&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nIf you haven&#39;t already set auto-import on intelliJ, you&#39;ll get a popup in the top right hand corner asking if you want to re-import. IntelliJ then reads your pom.xml file, works out what dependencies you need and then downloads them.\r\n\r\nYou should see org.bukkit.bukkit under external dependencies in the left hand &quot;projects&quot; window, along with some other libraries it depends on, such as guava and commons lang.","title":"Maven dependency not found for org.bukkit:bukkit","body":"<p>The reason the text is red is because that dependency you've specified can't be found in either maven central, or the additional repository you've added.</p>\n\n<p>Paste the repo link into a browser, and you'll find that the dependency is actually <code>1.8-R0.1-SNAPSHOT</code> not <code>1.7.2-RO3</code> as the tutorial mentioned (maybe the tutorial is out of date, or that dependency has since been removed for some reason)</p>\n\n<p>Change the dep to </p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\n            &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\n            &lt;version&gt;1.8-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>If you haven't already set auto-import on intelliJ, you'll get a popup in the top right hand corner asking if you want to re-import. IntelliJ then reads your pom.xml file, works out what dependencies you need and then downloads them.</p>\n\n<p>You should see org.bukkit.bukkit under external dependencies in the left hand \"projects\" window, along with some other libraries it depends on, such as guava and commons lang.</p>\n"},{"tags":[],"owner":{"account_id":15914325,"reputation":71,"user_id":11534590,"display_name":"Micah Ludwick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690201097,"creation_date":1690201097,"answer_id":76754450,"question_id":28454474,"body_markdown":"Posting as an answer for anyone who stumbles upon this as I could not find an answer that worked for me with 1.20.\r\n\r\nWhile trying to get the correct Maven dependency for `org.bukkit.plugin.java.JavaPlugin` I found [this page][1] on Spigot&#39;s site that pointed me to the correct dependency information that solved my issues.\r\n\r\n**pom.xml**\r\n\r\n    &lt;repositories&gt;\r\n\t    &lt;repository&gt;\r\n\t        &lt;id&gt;spigot-repo&lt;/id&gt;\r\n\t        &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n\t    &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n\t           &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n\t           &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n\t           &lt;version&gt;1.20.1-R0.1-SNAPSHOT&lt;/version&gt;\r\n\t           &lt;scope&gt;provided&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://www.spigotmc.org/wiki/spigot-maven/","title":"Maven dependency not found for org.bukkit:bukkit","body":"<p>Posting as an answer for anyone who stumbles upon this as I could not find an answer that worked for me with 1.20.</p>\n<p>While trying to get the correct Maven dependency for <code>org.bukkit.plugin.java.JavaPlugin</code> I found <a href=\"https://www.spigotmc.org/wiki/spigot-maven/\" rel=\"nofollow noreferrer\">this page</a> on Spigot's site that pointed me to the correct dependency information that solved my issues.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spigot-repo&lt;/id&gt;\n        &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n           &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n           &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n           &lt;version&gt;1.20.1-R0.1-SNAPSHOT&lt;/version&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":477471,"reputation":4682,"user_id":888990,"accept_rate":68,"display_name":"crmepham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6305,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":28491012,"answer_count":4,"score":0,"last_activity_date":1690201097,"creation_date":1423658022,"question_id":28454474,"body_markdown":"The `groudID`, `artifactId` and `version` dependencies are not being found in Maven?\r\n\r\nI followed [this][1] tutorial to set up a Minecraft plugin which uses Maven.\r\n\r\nBut I get the error \r\n\r\n&gt; org.bukkit:bukkit:1.7.2-RO3 not found\r\n\r\nand the text font is red where everything else in the `pom` file is white.\r\n\r\nHere is the code in the pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.chrismepham&lt;/groupId&gt;\r\n        &lt;artifactId&gt;TestPlugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.7&lt;/source&gt;\r\n                        &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;bukkit-repo&lt;/id&gt;\r\n                &lt;url&gt;https://hub.spigotmc.org/nexus/content/groups/public/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.2-R0.3&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWhy is the dependency not being found?\r\nEDIT:\r\n\r\nI changed the repository and dependency version as suggested but still have the error as shown in the picture:\r\n![red text][2]\r\n\r\n\r\n  [1]: http://wiki.bukkit.org/Plugin_Tutorial\r\n  [2]: http://i.stack.imgur.com/DPgG9.png","title":"Maven dependency not found for org.bukkit:bukkit","body":"<p>The <code>groudID</code>, <code>artifactId</code> and <code>version</code> dependencies are not being found in Maven?</p>\n\n<p>I followed <a href=\"http://wiki.bukkit.org/Plugin_Tutorial\" rel=\"nofollow noreferrer\">this</a> tutorial to set up a Minecraft plugin which uses Maven.</p>\n\n<p>But I get the error </p>\n\n<blockquote>\n  <p>org.bukkit:bukkit:1.7.2-RO3 not found</p>\n</blockquote>\n\n<p>and the text font is red where everything else in the <code>pom</code> file is white.</p>\n\n<p>Here is the code in the pom file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.chrismepham&lt;/groupId&gt;\n    &lt;artifactId&gt;TestPlugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;bukkit-repo&lt;/id&gt;\n            &lt;url&gt;https://hub.spigotmc.org/nexus/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\n            &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\n            &lt;version&gt;1.7.2-R0.3&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Why is the dependency not being found?\nEDIT:</p>\n\n<p>I changed the repository and dependency version as suggested but still have the error as shown in the picture:\n<img src=\"https://i.stack.imgur.com/DPgG9.png\" alt=\"red text\"></p>\n"},{"tags":["java","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690200988,"creation_date":1685625769,"answer_id":76382361,"question_id":76357706,"body_markdown":"As far as I could find, there isn&#39;t any &quot;automatic&quot; way to do this. But I have found a rather straightforward method:\r\n\r\n#### Step 1: Retrieve the OpenAPI files and parse them into OpenAPI objects.\r\n\r\nYou can achieve this using Swagger `OpenAPIV3Parser`:\r\n\r\nLoop the below code for each `fileLocation` (OpenAPI YAML file) that you have.\r\n\r\n```\r\nOpenAPI parseOpenAPI(FileLocation fileLocation) throws MojoFailureException {\r\n    SwaggerParseResult swaggerParseResult = parser.readLocation(fileLocation.getUri().toString(), null, null);\r\n\r\n    if (null == swaggerParseResult || null == swaggerParseResult.getOpenAPI()) {\r\n        throw new MojoFailureException(&quot;Failed to parse the openAPI: &quot; + fileLocation);\r\n    }\r\n\r\n    return swaggerParseResult.getOpenAPI();\r\n}\r\n```\r\n\r\n#### Step 2: Merge the objects\r\n\r\nThis step is pretty much as you&#39;d expect, just adding anything I need from the other OpenAPI objects into my main OpenAPI object.\r\n\r\n```\r\nprivate OpenAPI aggregateOpenAPI(FileLocation mainopenAPI, List&lt;FileLocation&gt; openAPILocations) throws IOException, MojoFailureException {\r\n\r\n    OpenAPI projectOpenAPI = getOpenAPIFile(mainopenAPI);\r\n\r\n    if (projectOpenAPI.getComponents() == null) {\r\n        projectOpenAPI.setComponents(new Components());\r\n    }\r\n\r\n    for (FileLocation fileLocation: openAPILocations) {\r\n\r\n        OpenAPI openAPI = getOpenAPIFile(fileLocation);\r\n        openAPI.getPaths().forEach(projectOpenAPI.getPaths()::addPathItem);\r\n        Components components = openAPI.getComponents();\r\n        if (components != null) {\r\n            if (components.getParameters() != null) {\r\n                components.getParameters().forEach(projectOpenAPI.getComponents()::addParameters);\r\n            }\r\n            if (components.getSchemas() != null) {\r\n                components.getSchemas().forEach(projectOpenAPI.getComponents()::addSchemas);\r\n            }\r\n        }\r\n    }\r\n    return projectOpenAPI;\r\n}\r\n```\r\n\r\n#### Step 3: Parse and write to a file\r\n\r\nWhen I wrote this question, I was missing that Swagger actually provides the ability to parse an OpenAPI object directly into a YAML or JSON file.\r\n\r\n```\r\nString yamlOpenAPI = Yaml.pretty(projectOpenAPI);\r\n// or\r\nString jsonOpenAPI = Json.pretty(projectOpenAPI);\r\n\r\n// Write it into a file (make sure directory and file exist)\r\nFiles.write(Paths.get(&quot;path/to/file.yaml&quot;), yamlOpenAPI.getBytes());\r\n```\r\n\r\nEdit: \r\n\r\nNote that you may need to use `writeString` instead of `write` to support `UTF-8` characters like so:\r\n```\r\nFiles.writeString(Paths.get(&quot;path/to/file.yaml&quot;), yamlOpenAPI);\r\n```","title":"How can I aggregate paths from multiple completely unrelated OpenAPI files?","body":"<p>As far as I could find, there isn't any &quot;automatic&quot; way to do this. But I have found a rather straightforward method:</p>\n<h4>Step 1: Retrieve the OpenAPI files and parse them into OpenAPI objects.</h4>\n<p>You can achieve this using Swagger <code>OpenAPIV3Parser</code>:</p>\n<p>Loop the below code for each <code>fileLocation</code> (OpenAPI YAML file) that you have.</p>\n<pre><code>OpenAPI parseOpenAPI(FileLocation fileLocation) throws MojoFailureException {\n    SwaggerParseResult swaggerParseResult = parser.readLocation(fileLocation.getUri().toString(), null, null);\n\n    if (null == swaggerParseResult || null == swaggerParseResult.getOpenAPI()) {\n        throw new MojoFailureException(&quot;Failed to parse the openAPI: &quot; + fileLocation);\n    }\n\n    return swaggerParseResult.getOpenAPI();\n}\n</code></pre>\n<h4>Step 2: Merge the objects</h4>\n<p>This step is pretty much as you'd expect, just adding anything I need from the other OpenAPI objects into my main OpenAPI object.</p>\n<pre><code>private OpenAPI aggregateOpenAPI(FileLocation mainopenAPI, List&lt;FileLocation&gt; openAPILocations) throws IOException, MojoFailureException {\n\n    OpenAPI projectOpenAPI = getOpenAPIFile(mainopenAPI);\n\n    if (projectOpenAPI.getComponents() == null) {\n        projectOpenAPI.setComponents(new Components());\n    }\n\n    for (FileLocation fileLocation: openAPILocations) {\n\n        OpenAPI openAPI = getOpenAPIFile(fileLocation);\n        openAPI.getPaths().forEach(projectOpenAPI.getPaths()::addPathItem);\n        Components components = openAPI.getComponents();\n        if (components != null) {\n            if (components.getParameters() != null) {\n                components.getParameters().forEach(projectOpenAPI.getComponents()::addParameters);\n            }\n            if (components.getSchemas() != null) {\n                components.getSchemas().forEach(projectOpenAPI.getComponents()::addSchemas);\n            }\n        }\n    }\n    return projectOpenAPI;\n}\n</code></pre>\n<h4>Step 3: Parse and write to a file</h4>\n<p>When I wrote this question, I was missing that Swagger actually provides the ability to parse an OpenAPI object directly into a YAML or JSON file.</p>\n<pre><code>String yamlOpenAPI = Yaml.pretty(projectOpenAPI);\n// or\nString jsonOpenAPI = Json.pretty(projectOpenAPI);\n\n// Write it into a file (make sure directory and file exist)\nFiles.write(Paths.get(&quot;path/to/file.yaml&quot;), yamlOpenAPI.getBytes());\n</code></pre>\n<p>Edit:</p>\n<p>Note that you may need to use <code>writeString</code> instead of <code>write</code> to support <code>UTF-8</code> characters like so:</p>\n<pre><code>Files.writeString(Paths.get(&quot;path/to/file.yaml&quot;), yamlOpenAPI);\n</code></pre>\n"}],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76382361,"answer_count":1,"score":1,"last_activity_date":1690200988,"creation_date":1685366063,"question_id":76357706,"body_markdown":"I am working on a [Maven](https://en.wikipedia.org/wiki/Apache_Maven) plugin to package some files that I need along with the JAR file. One of those files is an OpenAPI file named `component-descriptor.yaml`.\r\n\r\nAmong other things, the plugin needs to check the `component-descriptor.yaml` of the project&#39;s direct dependencies and &quot;aggregate&quot; the paths specified in those files into the current project&#39;s file. (I don&#39;t care about any of the other details like info, tags, etc.) These files are completely independent of each other and do not use `$ref` to refer to each other as described [in this question](https://stackoverflow.com/questions/54586137) - I cannot use `$ref` or similar mechanisms because the modules do not depend on each other.\r\n\r\nHow can I accomplish this goal?\r\n\r\nI was able to retrieve the `component-descriptor.yaml` of all direct dependencies and parse them (individually) using `io.swagger`. I know I could parse the files into Java objects and concatenate the list of paths into a single object, but how can I then turn that back into an OpenAPI file? I couldn&#39;t find any support in Swagger for doing so.","title":"How can I aggregate paths from multiple completely unrelated OpenAPI files?","body":"<p>I am working on a <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> plugin to package some files that I need along with the JAR file. One of those files is an OpenAPI file named <code>component-descriptor.yaml</code>.</p>\n<p>Among other things, the plugin needs to check the <code>component-descriptor.yaml</code> of the project's direct dependencies and &quot;aggregate&quot; the paths specified in those files into the current project's file. (I don't care about any of the other details like info, tags, etc.) These files are completely independent of each other and do not use <code>$ref</code> to refer to each other as described <a href=\"https://stackoverflow.com/questions/54586137\">in this question</a> - I cannot use <code>$ref</code> or similar mechanisms because the modules do not depend on each other.</p>\n<p>How can I accomplish this goal?</p>\n<p>I was able to retrieve the <code>component-descriptor.yaml</code> of all direct dependencies and parse them (individually) using <code>io.swagger</code>. I know I could parse the files into Java objects and concatenate the list of paths into a single object, but how can I then turn that back into an OpenAPI file? I couldn't find any support in Swagger for doing so.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690200978,"post_id":49101373,"comment_id":135315853,"body_markdown":"Aside from my answer, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10) will also help future visitors.","body":"Aside from my answer, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">resource</a> will also help future visitors."}],"answers":[{"comments":[{"owner":{"account_id":1258981,"reputation":14388,"user_id":1217820,"accept_rate":85,"display_name":"Snake"},"score":0,"creation_date":1520238189,"post_id":49105190,"comment_id":85217089,"body_markdown":"You can&#39;t query array members meaning you can&#39;t do filteration based on member but offcourse you can get all the array members data. Otherwise why are they stored. I was able after I posted the question to get an array of hashmap and then iterates over it to create my array of model. I was hoping there is a shorter way though","body":"You can&#39;t query array members meaning you can&#39;t do filteration based on member but offcourse you can get all the array members data. Otherwise why are they stored. I was able after I posted the question to get an array of hashmap and then iterates over it to create my array of model. I was hoping there is a shorter way though"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1520240491,"post_id":49105190,"comment_id":85218312,"body_markdown":"Sorry if I made you confused. Yes, every document in Cloud Firestore is a `Map` so you need to iterate in order to get the array. If you have used a model class, you could call a getArray() method on the model class object. So please see my updated answer.","body":"Sorry if I made you confused. Yes, every document in Cloud Firestore is a <code>Map</code> so you need to iterate in order to get the array. If you have used a model class, you could call a getArray() method on the model class object. So please see my updated answer."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1690200949,"creation_date":1520234048,"answer_id":49105190,"question_id":49101373,"body_markdown":"**Edit 13 Aug 2018:**\r\n\r\nAccording to the updated documentation regarding [array membership](https://firebase.google.com/docs/firestore/query-data/queries#array_membership), now it is possible to filter data based on array values using `whereArrayContains()` method. A simple example would be:\r\n\r\n    CollectionReference citiesRef = db.collection(&quot;cities&quot;);\r\n    citiesRef.whereArrayContains(&quot;regions&quot;, &quot;west_coast&quot;);\r\n\r\n&gt; This query returns every city document where the regions field is an array that contains west_coast. If the array has multiple instances of the value you query on, the document is included in the results only once.\r\n\r\n---\r\nAs per [official documentation regarding arrays](https://firebase.google.com/docs/firestore/solutions/arrays):\r\n\r\n&gt; Although Cloud Firestore can store arrays, **`it does not support`** querying array members or updating single array elements.\r\n\r\nIf you only want to get the entire `papers` array you need to iterate over a `Map` like this:\r\n\r\n    Map&lt;String, Object&gt; map = document.getData();\r\n    for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n        if (entry.getKey().equals(&quot;papers&quot;)) {\r\n            Log.d(&quot;TAG&quot;, entry.getValue().toString());\r\n        }\r\n    }\r\n\r\nBut note, even if `papers` object is stored in the database as an array, `entry.getValue()` returns an `ArrayList`, not an `array`.","title":"How to get an Array of Objects from Firestore","body":"<p><strong>Edit 13 Aug 2018:</strong></p>\n<p>According to the updated documentation regarding <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#array_membership\" rel=\"nofollow noreferrer\">array membership</a>, now it is possible to filter data based on array values using <code>whereArrayContains()</code> method. A simple example would be:</p>\n<pre><code>CollectionReference citiesRef = db.collection(&quot;cities&quot;);\ncitiesRef.whereArrayContains(&quot;regions&quot;, &quot;west_coast&quot;);\n</code></pre>\n<blockquote>\n<p>This query returns every city document where the regions field is an array that contains west_coast. If the array has multiple instances of the value you query on, the document is included in the results only once.</p>\n</blockquote>\n<hr />\n<p>As per <a href=\"https://firebase.google.com/docs/firestore/solutions/arrays\" rel=\"nofollow noreferrer\">official documentation regarding arrays</a>:</p>\n<blockquote>\n<p>Although Cloud Firestore can store arrays, <strong><code>it does not support</code></strong> querying array members or updating single array elements.</p>\n</blockquote>\n<p>If you only want to get the entire <code>papers</code> array you need to iterate over a <code>Map</code> like this:</p>\n<pre><code>Map&lt;String, Object&gt; map = document.getData();\nfor (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n    if (entry.getKey().equals(&quot;papers&quot;)) {\n        Log.d(&quot;TAG&quot;, entry.getValue().toString());\n    }\n}\n</code></pre>\n<p>But note, even if <code>papers</code> object is stored in the database as an array, <code>entry.getValue()</code> returns an <code>ArrayList</code>, not an <code>array</code>.</p>\n"},{"tags":[],"owner":{"account_id":13135489,"reputation":109,"user_id":9861487,"display_name":"Basil Rawa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595740079,"creation_date":1595740079,"answer_id":63096313,"question_id":49101373,"body_markdown":"ArrayList&lt;Map&lt;String, Object&gt;&gt; arrayInTheDocument = (ArrayList&lt;Map&lt;String, Object&gt;&gt; ) documentSnapshot.getData().get(&quot;documentName.ArrayName&quot;);\r\n","title":"How to get an Array of Objects from Firestore","body":"<p>ArrayList&lt;Map&lt;String, Object&gt;&gt; arrayInTheDocument = (ArrayList&lt;Map&lt;String, Object&gt;&gt; ) documentSnapshot.getData().get(&quot;documentName.ArrayName&quot;);</p>\n"}],"owner":{"account_id":1258981,"reputation":14388,"user_id":1217820,"accept_rate":85,"display_name":"Snake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13595,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":49105190,"answer_count":2,"score":9,"last_activity_date":1690200949,"creation_date":1520203991,"question_id":49101373,"body_markdown":"What would be the right way to query a field that is an array of maps.\r\n\r\nCurrently the structure is \r\n\r\n    Collection1\r\n         Document1\r\n             -papers:                &lt;---- This is an array  \r\n                  (0): \r\n                     -Name:abc\r\n                     -Id:123 \r\n                  (1): \r\n                     -Name:xyz\r\n                     -Id:456\r\n\r\n\r\nAnd this is my code\r\n\r\n    DocumentReference docRef = db.collection(&quot;Collection1&quot;).document(&quot;Document1&quot;);\r\n            docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        DocumentSnapshot document = task.getResult();\r\n                        if (document != null &amp;&amp; document.exists()) {\r\n                           //?? how can I retrieve papers\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\nBasically do I retrieve it and cast it as an ArrayList&lt;Map&lt;String,String&gt;&gt; and then loop through it to create my final ArrayList&lt;PaperModel&gt; ?\r\n\r\n\r\nOr how does it work ?\r\n \r\n","title":"How to get an Array of Objects from Firestore","body":"<p>What would be the right way to query a field that is an array of maps.</p>\n\n<p>Currently the structure is </p>\n\n<pre><code>Collection1\n     Document1\n         -papers:                &lt;---- This is an array  \n              (0): \n                 -Name:abc\n                 -Id:123 \n              (1): \n                 -Name:xyz\n                 -Id:456\n</code></pre>\n\n<p>And this is my code</p>\n\n<pre><code>DocumentReference docRef = db.collection(\"Collection1\").document(\"Document1\");\n        docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    DocumentSnapshot document = task.getResult();\n                    if (document != null &amp;&amp; document.exists()) {\n                       //?? how can I retrieve papers\n                }\n            }\n        });\n</code></pre>\n\n<p>Basically do I retrieve it and cast it as an ArrayList> and then loop through it to create my final ArrayList ?</p>\n\n<p>Or how does it work ?</p>\n"},{"tags":["java","sql","spring-boot","spring-data-jpa","snowflake-schema"],"comments":[{"owner":{"account_id":7113913,"reputation":2404,"user_id":5440883,"display_name":"Chris Maurer"},"score":0,"creation_date":1690205315,"post_id":76754412,"comment_id":135316863,"body_markdown":"Since you do not actually need to specify the column labels after the first query you might try dropping the as clauses in UNION s &#39;2&#39; through &#39;6&quot;.","body":"Since you do not actually need to specify the column labels after the first query you might try dropping the as clauses in UNION s &#39;2&#39; through &#39;6&quot;."}],"owner":{"account_id":10981964,"reputation":43,"user_id":8068792,"accept_rate":0,"display_name":"Prabhash Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690200903,"creation_date":1690200903,"question_id":76754412,"body_markdown":"I am executing snowflake query in springboot. I am getting Sql compilation error.\r\n\r\nJava String Query:\r\n\r\n    &quot;\tselect &#39;1&#39; as AgeGroup, &#39;0-17&#39; as ag_label from sysibm.sysdummy1 union &quot; +\r\n                &quot;\tselect &#39;2&#39; as AgeGroup, &#39;18-34&#39; as ag_label from sysibm.sysdummy1 union &quot; +\r\n                &quot;\tselect &#39;3&#39; as AgeGroup, &#39;35-44&#39; as ag_label from sysibm.sysdummy1 union &quot; +\r\n                &quot;\tselect &#39;4&#39; as AgeGroup, &#39;45-54&#39; as ag_label from sysibm.sysdummy1 union &quot; +\r\n                &quot;\tselect &#39;5&#39; as AgeGroup, &#39;55-64&#39; as ag_label from sysibm.sysdummy1 union &quot; +\r\n                &quot;\tselect &#39;6&#39; as AgeGroup, &#39;65+&#39; as ag_label from sysibm.sysdummy1 &quot;\r\nHere only &#39;65+&#39; as ag_label giving error &quot;**unexpected &#39;as&#39;. syntax error**&quot; \r\n\r\nQuery on Snowflake side executing as:\r\n\r\n    select 1 as AgeGroup, 0 - 17 as ag_label from sysibm.sysdummy1 union select 2 as AgeGroup, 18 - 34 as ag_label from sysibm.sysdummy1 union select 3 as AgeGroup, 35 - 44 as ag_label from sysibm.sysdummy1 union select 4 as AgeGroup, 45 - 54 as ag_label from sysibm.sysdummy1 union select 5 as AgeGroup, 55 - 64 as ag_label from sysibm.sysdummy1 union select 6 as AgeGroup, 65 + as ag_label from sysibm.sysdummy1\r\n\r\nI am new to snowflake. Can anyone please help me out how I can correct the syntax.\r\n\r\nRegards,\r\nPrabhash\r\n\r\n","title":"Snowflake Query Compilation issue","body":"<p>I am executing snowflake query in springboot. I am getting Sql compilation error.</p>\n<p>Java String Query:</p>\n<pre><code>&quot;   select '1' as AgeGroup, '0-17' as ag_label from sysibm.sysdummy1 union &quot; +\n            &quot;   select '2' as AgeGroup, '18-34' as ag_label from sysibm.sysdummy1 union &quot; +\n            &quot;   select '3' as AgeGroup, '35-44' as ag_label from sysibm.sysdummy1 union &quot; +\n            &quot;   select '4' as AgeGroup, '45-54' as ag_label from sysibm.sysdummy1 union &quot; +\n            &quot;   select '5' as AgeGroup, '55-64' as ag_label from sysibm.sysdummy1 union &quot; +\n            &quot;   select '6' as AgeGroup, '65+' as ag_label from sysibm.sysdummy1 &quot;\n</code></pre>\n<p>Here only '65+' as ag_label giving error &quot;<strong>unexpected 'as'. syntax error</strong>&quot;</p>\n<p>Query on Snowflake side executing as:</p>\n<pre><code>select 1 as AgeGroup, 0 - 17 as ag_label from sysibm.sysdummy1 union select 2 as AgeGroup, 18 - 34 as ag_label from sysibm.sysdummy1 union select 3 as AgeGroup, 35 - 44 as ag_label from sysibm.sysdummy1 union select 4 as AgeGroup, 45 - 54 as ag_label from sysibm.sysdummy1 union select 5 as AgeGroup, 55 - 64 as ag_label from sysibm.sysdummy1 union select 6 as AgeGroup, 65 + as ag_label from sysibm.sysdummy1\n</code></pre>\n<p>I am new to snowflake. Can anyone please help me out how I can correct the syntax.</p>\n<p>Regards,\nPrabhash</p>\n"},{"tags":["java","spring","junit","spring-test","entitymanager"],"owner":{"account_id":3039250,"reputation":528,"user_id":2576667,"accept_rate":50,"display_name":"bolski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690200285,"creation_date":1689706610,"question_id":76715809,"body_markdown":"We have a Java EE application that runs within Apache Tomcat. It uses EJB 3.0 along with Spring framework. \r\n\r\nThe Entity Manager is injected within a DBL object as such:\r\n\r\n```\r\npublic abstract class DBL extends LogBL {\r\n\r\n    // &lt;editor-fold defaultstate=&quot;collasped&quot; desc=&quot;Properties&quot;&gt;\r\n    @Autowired(required = true)\r\n    @Qualifier(&quot;dataSource&quot;)\r\n    protected DataSource dataSource;\r\n\r\n    @PersistenceContext()\r\n    protected EntityManager em;\r\n\r\n    @Autowired(required = true)\r\n    @Qualifier(&quot;transactionTemplate&quot;)\r\n    protected TransactionTemplate transactionTemplate;\r\n\r\n```\r\n\r\nFrom there, our business layer objects will extend DBL so that they inherit the entity manager.\r\n\r\nThis all works within our Apache Tomcat system. However, we have an issue that I need to debug which I cannot tell if it&#39;s a data issue in the database, or a logic flaw in the code, so I want to run the business logic locally within Netbeans via jUnit so I can debug and trace the code interactively.\r\n\r\nWe have a section of code that does the following:\r\n\r\n```\r\n        Query q = em.createNativeQuery(&quot;SELECT DISTINCT r.src_system_name, &quot; + &quot;                r.src_pt_name, &quot;\r\n                + &quot;                r.src_flow_name, &quot; + &quot;                r.ivl_length_ddl_val, &quot;\r\n                + &quot;                r.ivl_precision_ddl_val, &quot; + &quot;                r.ivl_type_ddl_val &quot;\r\n                + &quot;    FROM raw_interval r &quot; + &quot;   WHERE r.processed_flag=&#39;N&#39; &quot;\r\n                + &quot;     AND r.mod_date &lt; systimestamp - &quot; + DAYS + &quot; &quot; + &quot;ORDER BY r.src_system_name &quot;);\r\n        List&lt;Object[]&gt; lo = q.getResultList();\r\n        StringBuffer sb = new StringBuffer();\r\n        String currentSrcId = &quot;&quot;;\r\n```\r\n\r\nThis all works fine.\r\n\r\nWe check to see if the **lo** object has any data returned, and if so, it will then go an execute an update statement to update the records. The code to do so is as follows:\r\n\r\n```\r\n            Query qU = em.createNativeQuery(&quot;UPDATE raw_interval r &quot; + &quot;   SET r.processed_flag = &#39;F&#39; &quot;\r\n                    + &quot; WHERE r.processed_flag=&#39;N&#39; &quot; + &quot;   AND r.mod_date &lt; systimestamp - &quot; + DAYS + &quot; &quot;);\r\n            qU.executeUpdate();\r\n```\r\n\r\nThis all works, as I stated, when running in Apache Tomcat.\r\n\r\nThe problem is, when I do it in a jUnit test case, the first select statement works, but as soon as it tries to do the update right after, it throws an error stating:\r\n\r\n&gt; e = (corebuslogic.common.exceptions.LoggedException) corebuslogic.common.exceptions.LoggedException: Cannot call methods requiring a transaction if the entity manager has not been joined to the current transaction.\r\n\r\nHere is the jUnit test case. Also, the spring-text.xml sets up JTA as the transaction manager which is fine for when it runs in our Tomcat instance. But here, the original developers apparently set up the transaction for the jUnit tests to still use JTA which I think is possibly the issue when trying to run this locally in Netbeans via a jUnit test case. I&#39;m still learning about Spring, etc but this is an application that was dropped in my lap after it went live. I was never a part of the development of the application.\r\n\r\n```\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(inheritLocations = true, locations = &quot;classpath:spring/spring-test.xml&quot;)\r\n@TransactionConfiguration(defaultRollback = true)\r\n@Transactional\r\npublic class ProcessRawBLTest {\r\n\r\n  @Autowired\r\n  @Qualifier(ProcessRawBL.BEAN_NAME)\r\n  private ProcessRawBL processRawBL;\r\n  @Autowired\r\n  @Qualifier(LookupBL.BEAN_NAME)\r\n  private LookupBL lookupBL;\r\n\r\n  @Test\r\n  @Transactional\r\n  public void testProcessRawMV90Actual() {\r\n    int sizeThreadPool = 1;\r\n    Config processRawThreadsConfig = lookupBL.findConfigByNamespace(CONFIG.ProcessRaw_Threads.value);\r\n    if (processRawThreadsConfig != null) {\r\n      sizeThreadPool = Integer.parseInt(processRawThreadsConfig.getConfigVal());\r\n    }\r\n\r\n    String[] srcArray = new String[] { &quot;MV90 Actual&quot; };\r\n    List&lt;String&gt; sources = new ArrayList&lt;&gt;();\r\n    for (String source : srcArray) {\r\n      sources.add(source);\r\n    }\r\n    StringBuffer result = new StringBuffer();\r\n    try {\r\n      processRawBL.processRaw(sources, sizeThreadPool, result);\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n```\r\n\r\nThe call into the processRawBL.processRaw() function will eventually access the injected EntityManager and as I stated, it works fine as long as we&#39;re just selecting data. \r\n\r\nBut once we need a transaction for updates, then it won&#39;t work and throws the exception.\r\n\r\nIt can read the database, but we just can&#39;t write to it when trying to run the code locally and not within the Apache Tomcat container.\r\n\r\nHopefully that gives enough information. I&#39;ve had some people at work say that mixing jUnit with the non Springboot Spring framework can get a little quirky, but I wasn&#39;t sure if that was true or not.\r\n","title":"EntityManager cannot perform updates within data layer object called from within a jUnit test","body":"<p>We have a Java EE application that runs within Apache Tomcat. It uses EJB 3.0 along with Spring framework.</p>\n<p>The Entity Manager is injected within a DBL object as such:</p>\n<pre><code>public abstract class DBL extends LogBL {\n\n    // &lt;editor-fold defaultstate=&quot;collasped&quot; desc=&quot;Properties&quot;&gt;\n    @Autowired(required = true)\n    @Qualifier(&quot;dataSource&quot;)\n    protected DataSource dataSource;\n\n    @PersistenceContext()\n    protected EntityManager em;\n\n    @Autowired(required = true)\n    @Qualifier(&quot;transactionTemplate&quot;)\n    protected TransactionTemplate transactionTemplate;\n\n</code></pre>\n<p>From there, our business layer objects will extend DBL so that they inherit the entity manager.</p>\n<p>This all works within our Apache Tomcat system. However, we have an issue that I need to debug which I cannot tell if it's a data issue in the database, or a logic flaw in the code, so I want to run the business logic locally within Netbeans via jUnit so I can debug and trace the code interactively.</p>\n<p>We have a section of code that does the following:</p>\n<pre><code>        Query q = em.createNativeQuery(&quot;SELECT DISTINCT r.src_system_name, &quot; + &quot;                r.src_pt_name, &quot;\n                + &quot;                r.src_flow_name, &quot; + &quot;                r.ivl_length_ddl_val, &quot;\n                + &quot;                r.ivl_precision_ddl_val, &quot; + &quot;                r.ivl_type_ddl_val &quot;\n                + &quot;    FROM raw_interval r &quot; + &quot;   WHERE r.processed_flag='N' &quot;\n                + &quot;     AND r.mod_date &lt; systimestamp - &quot; + DAYS + &quot; &quot; + &quot;ORDER BY r.src_system_name &quot;);\n        List&lt;Object[]&gt; lo = q.getResultList();\n        StringBuffer sb = new StringBuffer();\n        String currentSrcId = &quot;&quot;;\n</code></pre>\n<p>This all works fine.</p>\n<p>We check to see if the <strong>lo</strong> object has any data returned, and if so, it will then go an execute an update statement to update the records. The code to do so is as follows:</p>\n<pre><code>            Query qU = em.createNativeQuery(&quot;UPDATE raw_interval r &quot; + &quot;   SET r.processed_flag = 'F' &quot;\n                    + &quot; WHERE r.processed_flag='N' &quot; + &quot;   AND r.mod_date &lt; systimestamp - &quot; + DAYS + &quot; &quot;);\n            qU.executeUpdate();\n</code></pre>\n<p>This all works, as I stated, when running in Apache Tomcat.</p>\n<p>The problem is, when I do it in a jUnit test case, the first select statement works, but as soon as it tries to do the update right after, it throws an error stating:</p>\n<blockquote>\n<p>e = (corebuslogic.common.exceptions.LoggedException) corebuslogic.common.exceptions.LoggedException: Cannot call methods requiring a transaction if the entity manager has not been joined to the current transaction.</p>\n</blockquote>\n<p>Here is the jUnit test case. Also, the spring-text.xml sets up JTA as the transaction manager which is fine for when it runs in our Tomcat instance. But here, the original developers apparently set up the transaction for the jUnit tests to still use JTA which I think is possibly the issue when trying to run this locally in Netbeans via a jUnit test case. I'm still learning about Spring, etc but this is an application that was dropped in my lap after it went live. I was never a part of the development of the application.</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(inheritLocations = true, locations = &quot;classpath:spring/spring-test.xml&quot;)\n@TransactionConfiguration(defaultRollback = true)\n@Transactional\npublic class ProcessRawBLTest {\n\n  @Autowired\n  @Qualifier(ProcessRawBL.BEAN_NAME)\n  private ProcessRawBL processRawBL;\n  @Autowired\n  @Qualifier(LookupBL.BEAN_NAME)\n  private LookupBL lookupBL;\n\n  @Test\n  @Transactional\n  public void testProcessRawMV90Actual() {\n    int sizeThreadPool = 1;\n    Config processRawThreadsConfig = lookupBL.findConfigByNamespace(CONFIG.ProcessRaw_Threads.value);\n    if (processRawThreadsConfig != null) {\n      sizeThreadPool = Integer.parseInt(processRawThreadsConfig.getConfigVal());\n    }\n\n    String[] srcArray = new String[] { &quot;MV90 Actual&quot; };\n    List&lt;String&gt; sources = new ArrayList&lt;&gt;();\n    for (String source : srcArray) {\n      sources.add(source);\n    }\n    StringBuffer result = new StringBuffer();\n    try {\n      processRawBL.processRaw(sources, sizeThreadPool, result);\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n</code></pre>\n<p>The call into the processRawBL.processRaw() function will eventually access the injected EntityManager and as I stated, it works fine as long as we're just selecting data.</p>\n<p>But once we need a transaction for updates, then it won't work and throws the exception.</p>\n<p>It can read the database, but we just can't write to it when trying to run the code locally and not within the Apache Tomcat container.</p>\n<p>Hopefully that gives enough information. I've had some people at work say that mixing jUnit with the non Springboot Spring framework can get a little quirky, but I wasn't sure if that was true or not.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1472493122,"post_id":39212145,"comment_id":65763246,"body_markdown":"The problem is that there is no such file. Your resource is now bundled in the jar file, so it isn&#39;t even represented as a file at all.","body":"The problem is that there is no such file. Your resource is now bundled in the jar file, so it isn&#39;t even represented as a file at all."}],"answers":[{"comments":[{"owner":{"account_id":8697351,"reputation":25,"user_id":6508341,"accept_rate":50,"display_name":"Hiltunea"},"score":0,"creation_date":1472497102,"post_id":39212262,"comment_id":65765229,"body_markdown":"This worked. I used InputStream offerDocument = PdfPrinter.class.getClassLoader().getResourceAsStream(&quot;PdfTemplates/myyntiPohja.pdf&quot;). Thank you all!","body":"This worked. I used InputStream offerDocument = PdfPrinter.class.getClassLoader().getResourceAsStream(&quot;PdfTe&zwnj;&#8203;mplates/myyntiPohja.&zwnj;&#8203;pdf&quot;). Thank you all!"}],"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1472493226,"creation_date":1472493226,"answer_id":39212262,"question_id":39212145,"body_markdown":"`new File(&quot;resources/PdfTemplates/ostoPohja.pdf&quot;)` search `resources` folder in current folder then search `PdfTemplates` in it and `ostoPohja.pdf` in result of previouse search.\r\n\r\nYou shold have those folder structure next to your `jar` if you run double clicking on it.\r\n\r\nOther option is you can embed those files into your `jar` file (which you most probably already did) then you should load them like this `Thread.currentThread().getClassloader().loadResourceAsStream((&quot;resources/PdfTemplates/myyntiPohja.pdf&quot;)` and then utileze this stream instead of file.","title":"Reference to PDF-file after JavaFX program is built","body":"<p><code>new File(\"resources/PdfTemplates/ostoPohja.pdf\")</code> search <code>resources</code> folder in current folder then search <code>PdfTemplates</code> in it and <code>ostoPohja.pdf</code> in result of previouse search.</p>\n\n<p>You shold have those folder structure next to your <code>jar</code> if you run double clicking on it.</p>\n\n<p>Other option is you can embed those files into your <code>jar</code> file (which you most probably already did) then you should load them like this <code>Thread.currentThread().getClassloader().loadResourceAsStream((\"resources/PdfTemplates/myyntiPohja.pdf\")</code> and then utileze this stream instead of file.</p>\n"},{"comments":[{"owner":{"account_id":8697351,"reputation":25,"user_id":6508341,"accept_rate":50,"display_name":"Hiltunea"},"score":0,"creation_date":1472497326,"post_id":39212288,"comment_id":65765333,"body_markdown":"The reason is that if I don&#39;t include PDFs to my Jar file, I need to place these files on a public drive which will cause performance issues in the tool.","body":"The reason is that if I don&#39;t include PDFs to my Jar file, I need to place these files on a public drive which will cause performance issues in the tool."}],"tags":[],"owner":{"account_id":6602571,"reputation":46,"user_id":5100388,"display_name":"Donaven Snowden"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472493292,"creation_date":1472493292,"answer_id":39212288,"question_id":39212145,"body_markdown":"Is there any reason that you can&#39;t use the full directory of the pdfs? Example:\r\n\r\n&gt; C:/Users/*Your Username*/Path/to/template.pdf","title":"Reference to PDF-file after JavaFX program is built","body":"<p>Is there any reason that you can't use the full directory of the pdfs? Example:</p>\n\n<blockquote>\n  <p>C:/Users/<em>Your Username</em>/Path/to/template.pdf</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7649983,"reputation":1584,"user_id":5799145,"accept_rate":57,"display_name":"CraigR8806"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472493307,"creation_date":1472493307,"answer_id":39212291,"question_id":39212145,"body_markdown":"You  have to use |NAME_OF_YOUR_CLASS|.class.getClass().getResourceAsStream(&quot;PATH_TO_FILE_RELATIVE_TO_ROOT_OF_PROJECT&quot;.\r\n\r\nThe above returns an InputStream Object.  This can be used like so:\r\n\r\nBufferedReader br = new BufferedReader(new FileInputStream(*));\r\n\r\n","title":"Reference to PDF-file after JavaFX program is built","body":"<p>You  have to use |NAME_OF_YOUR_CLASS|.class.getClass().getResourceAsStream(\"PATH_TO_FILE_RELATIVE_TO_ROOT_OF_PROJECT\".</p>\n\n<p>The above returns an InputStream Object.  This can be used like so:</p>\n\n<p>BufferedReader br = new BufferedReader(new FileInputStream(*));</p>\n"},{"tags":[],"owner":{"account_id":13649968,"reputation":170,"user_id":9848124,"display_name":"Matthias Kuhn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690200277,"creation_date":1690200277,"answer_id":76754325,"question_id":39212145,"body_markdown":"I had a similar Problem with a PDF file that could not be shown after building a jpackage .exe.\r\n\r\nMy solution now is to copy the PDF into the jpackage-build folder using gradle:\r\n\r\n    tasks.jpackageImage.doLast {\r\n        copy {\r\n            from &quot;src/main/resources&quot;\r\n            include &quot;my-file.pdf&quot;\r\n            into &quot;build/jpackage/$project.name/src/main/resources&quot;\r\n        }\r\n    }\r\nAnd in the JAVA code I can open the PDF using:\r\n\r\n    File file = new File(&quot;src/main/resources/my-file.pdf&quot;);\r\n    hostServices.showDocument(file.getAbsolutePath());","title":"Reference to PDF-file after JavaFX program is built","body":"<p>I had a similar Problem with a PDF file that could not be shown after building a jpackage .exe.</p>\n<p>My solution now is to copy the PDF into the jpackage-build folder using gradle:</p>\n<pre><code>tasks.jpackageImage.doLast {\n    copy {\n        from &quot;src/main/resources&quot;\n        include &quot;my-file.pdf&quot;\n        into &quot;build/jpackage/$project.name/src/main/resources&quot;\n    }\n}\n</code></pre>\n<p>And in the JAVA code I can open the PDF using:</p>\n<pre><code>File file = new File(&quot;src/main/resources/my-file.pdf&quot;);\nhostServices.showDocument(file.getAbsolutePath());\n</code></pre>\n"}],"owner":{"account_id":8697351,"reputation":25,"user_id":6508341,"accept_rate":50,"display_name":"Hiltunea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39212262,"answer_count":4,"score":0,"last_activity_date":1690200277,"creation_date":1472492743,"question_id":39212145,"body_markdown":"I have a program that is working perfectly when I run it from the IDE.\r\nHowever, when I make an executable jar it cannot find two of the PDF files I have in a sub folder in source folder.\r\n\r\nHow should I reference to these files?\r\n\r\nMy project structure is: &lt;br&gt;\r\nresources (source folder) &lt;br&gt;\r\n- PdfTemplates (normal folder) &lt;br&gt;\r\n- - myyntiPohja.pdf &lt;br&gt;\r\n- - ostoPohja.pdf\r\n\r\nWhen I run the program from the IDE I get java.io.File with the following reference: &lt;br&gt;\r\nFile offerDocument = new File(&quot;resources/PdfTemplates/ostoPohja.pdf&quot;); &lt;br&gt;\r\nand &lt;br&gt;\r\nFile offerDocument = new File(&quot;resources/PdfTemplates/myyntiPohja.pdf&quot;); &lt;br&gt;\r\n&lt;br&gt;\r\nThis works fine until I compile the project either with Export -&gt; Runnable Jar file or with build.fxbuild -&gt; ant build.xml and run. &lt;br&gt;\r\n\r\nCould someone please tell me what is the problem?","title":"Reference to PDF-file after JavaFX program is built","body":"<p>I have a program that is working perfectly when I run it from the IDE.\nHowever, when I make an executable jar it cannot find two of the PDF files I have in a sub folder in source folder.</p>\n\n<p>How should I reference to these files?</p>\n\n<p>My project structure is: <br>\nresources (source folder) <br>\n- PdfTemplates (normal folder) <br>\n- - myyntiPohja.pdf <br>\n- - ostoPohja.pdf</p>\n\n<p>When I run the program from the IDE I get java.io.File with the following reference: <br>\nFile offerDocument = new File(\"resources/PdfTemplates/ostoPohja.pdf\"); <br>\nand <br>\nFile offerDocument = new File(\"resources/PdfTemplates/myyntiPohja.pdf\"); <br>\n<br>\nThis works fine until I compile the project either with Export -> Runnable Jar file or with build.fxbuild -> ant build.xml and run. <br></p>\n\n<p>Could someone please tell me what is the problem?</p>\n"},{"tags":["java","mongodb","mongodb-query","aggregation-framework","spring-data-mongodb"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1690127027,"post_id":76748983,"comment_id":135306796,"body_markdown":"&quot;_I have already created the appropriate indices_&quot; - what are they? I believe the best you can do here is a covered query, but we can&#39;t say whether or not that&#39;s what you&#39;ve achieved without more info. Ideally in addition to the index definitions themselves you would also be able to provide the `.explain(&quot;allPlansExecution&quot;)` output for this operation as well","body":"&quot;<i>I have already created the appropriate indices</i>&quot; - what are they? I believe the best you can do here is a covered query, but we can&#39;t say whether or not that&#39;s what you&#39;ve achieved without more info. Ideally in addition to the index definitions themselves you would also be able to provide the <code>.explain(&quot;allPlansExecution&quot;)</code> output for this operation as well"},{"owner":{"account_id":22509701,"reputation":1,"user_id":16704811,"display_name":"Tom Sisserman"},"score":0,"creation_date":1690199986,"post_id":76748983,"comment_id":135315631,"body_markdown":"Hi @user20042973 , thanks for the reply!\nI have added the indices to the question, but I can&#39;t add the explain since it&#39;s to big... is there anything particular there I should add to the question?","body":"Hi @user20042973 , thanks for the reply! I have added the indices to the question, but I can&#39;t add the explain since it&#39;s to big... is there anything particular there I should add to the question?"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1690205708,"post_id":76748983,"comment_id":135316954,"body_markdown":"There is no any magic solution. You may try [materialized-views](https://www.mongodb.com/docs/manual/core/materialized-views/). Store pre-calculated data for a predetermined time period range, eg: ( from 10:00 - 10:30 count:1589, ip:[XXX, YYY, ZZZ]; from 10:30 - 11:00, count:12590, ip:[YY1, YY2, ...]). And then adapt your query to this materialized view.","body":"There is no any magic solution. You may try <a href=\"https://www.mongodb.com/docs/manual/core/materialized-views/\" rel=\"nofollow noreferrer\">materialized-views</a>. Store pre-calculated data for a predetermined time period range, eg: ( from 10:00 - 10:30 count:1589, ip:[XXX, YYY, ZZZ]; from 10:30 - 11:00, count:12590, ip:[YY1, YY2, ...]). And then adapt your query to this materialized view."},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1690205864,"post_id":76748983,"comment_id":135316992,"body_markdown":"You could upload the explain as a gist or to something like pastebin. But regardless none of those indexes look correct to me. If I understand your field names and aggregation correctly, then try an index defined as `{ config_id: 1, timestamp: 1, &quot;user_data.country&quot;: 1, status: 1, &quot;user_data.ip&quot;: 1 }`","body":"You could upload the explain as a gist or to something like pastebin. But regardless none of those indexes look correct to me. If I understand your field names and aggregation correctly, then try an index defined as <code>{ config_id: 1, timestamp: 1, &quot;user_data.country&quot;: 1, status: 1, &quot;user_data.ip&quot;: 1 }</code>"},{"owner":{"account_id":22509701,"reputation":1,"user_id":16704811,"display_name":"Tom Sisserman"},"score":0,"creation_date":1690785370,"post_id":76748983,"comment_id":135395883,"body_markdown":"Hi, thanks for the reply, and sorry for the delay, I was sick. \n@Valijon I thought about this but this will make us store a lot of extra data and won&#39;t save much since there isn&#39;t a lot of duplications of the IP&#39;s (around 1m distinct IP&#39;s for 2m events).\n\nuser20042973 I have added this index as well and it is now 13sec xD, so it did helped a bit! thanks! any other ideas? \n\nI&#39;m currently thinking on how we could split this API so we could perform multiple commands in parallel and maybe save time that way. (currently trying to split based on countries)","body":"Hi, thanks for the reply, and sorry for the delay, I was sick.  @Valijon I thought about this but this will make us store a lot of extra data and won&#39;t save much since there isn&#39;t a lot of duplications of the IP&#39;s (around 1m distinct IP&#39;s for 2m events).  user20042973 I have added this index as well and it is now 13sec xD, so it did helped a bit! thanks! any other ideas?   I&#39;m currently thinking on how we could split this API so we could perform multiple commands in parallel and maybe save time that way. (currently trying to split based on countries)"}],"owner":{"account_id":22509701,"reputation":1,"user_id":16704811,"display_name":"Tom Sisserman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690199962,"creation_date":1690125378,"question_id":76748983,"body_markdown":"Let&#39;s say I have &#39;events&#39; collection in MongoDB with millions of documents, and each document in that collection looks something like that:\r\n\r\n```\r\n{\r\n    id: &quot;fg3df23&quot;,\r\n    config_id: &quot;49gjd3s&quot;,\r\n    timestamp: 1649158819315,\r\n    .\r\n    .\r\n    .\r\n    status: &quot;active&quot;, \r\n    .\r\n    .\r\n    .\r\n    user_data: {\r\n        ip: &quot;&lt;some IP&gt;&quot;,\r\n        country: &quot;US&quot;\r\n        }\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\nI&#39;m trying to retrieve the breakdown of the events that in certain config id&#39;s list and their timestamp is between a certain range.\r\nThe breakdown I need is the status breakdown by country and the country distinct &#39;user_data.ip&#39; count. \r\nBasically, for each country I&#39;ll have the following response:\r\n\r\n```\r\npublic class CountriesResponse  {\r\n    private int countryTotalDistinctIps;\r\n    private Set&lt;CountryResponse&gt; data;\r\n\r\n    public static class CountryResponse {\r\n        private String country;\r\n        private int distinctIPCount;\r\n        private Map&lt;String, Integer&gt; statusBreakdown;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m using Spring data Mongo DB, and for solving the problem I&#39;m using aggregation that looks like that (&#39;configIdsList&#39;, &#39;start&#39;, and &#39;end&#39; are given parameters):\r\n\r\n```\r\n        MatchOperation matchOperation = match(Criteria.where(&quot;config_id&quot;).in(configIdsList)\r\n                .and(&quot;timestamp&quot;).gte(start).lte(end));\r\n        GroupOperation groupOperation = group(&quot;user_data.country&quot;, &quot;status&quot;)\r\n                .count().as(&quot;eventsCount&quot;).addToSet(&quot;user_data.ip&quot;).as(&quot;ipsSet&quot;);\r\n        ProjectionOperation countriesFields = project(&quot;eventsCount&quot;, &quot;ipsSet&quot;).\r\n        and(&quot;user_data.country&quot;).previousOperation().andInclude(&quot;country&quot;).\r\n                and(&quot;status&quot;).previousOperation().andInclude(&quot;status&quot;);\r\n```\r\n This returns a list of breakdown objects which looks like that: \r\n\r\n```\r\n    private Integer countEvents;\r\n    private String country;\r\n    private HashSet&lt;String&gt; ipsSet;\r\n    private String status;\r\n```\r\nI then go through the breakdown objects lists and create the above response from them.\r\n\r\nNote - Existing Indices: &#39;config_id_1_timestamp_-1&#39;, &#39;config_id_1_status_1_timestamp_-1&#39;, &#39;config_id_1_user_data.country_1_status_1_timestamp_-1&#39;, &#39;config_id_1_user_data.ip_1_timestamp_-1&#39; \r\n\r\nThe current solution works, but its very slow when there are a lot of events. (takes ~15sec for ~1.3m matching events).\r\n\r\n \r\n\r\n\r\n\r\n\r\nis there more efficient way of doing it? \r\n\r\n\r\n\r\nI have also tried different solution by trying to group by &quot;user_data.country&quot;, &quot;user_data.ip&quot;, and &quot;status&quot; but this makes out of memory issue in the &#39;$group&#39; stage (there could be millions of distinct IPs) unless I pass through &#39;allowDiskUsage:true&#39; which makes it a lot slower than the original aggregation query mentioned above.  ","title":"MongoDB Aggregations Java - Efficient distinct count","body":"<p>Let's say I have 'events' collection in MongoDB with millions of documents, and each document in that collection looks something like that:</p>\n<pre><code>{\n    id: &quot;fg3df23&quot;,\n    config_id: &quot;49gjd3s&quot;,\n    timestamp: 1649158819315,\n    .\n    .\n    .\n    status: &quot;active&quot;, \n    .\n    .\n    .\n    user_data: {\n        ip: &quot;&lt;some IP&gt;&quot;,\n        country: &quot;US&quot;\n        }\n    .\n    .\n    .\n}\n</code></pre>\n<p>I'm trying to retrieve the breakdown of the events that in certain config id's list and their timestamp is between a certain range.\nThe breakdown I need is the status breakdown by country and the country distinct 'user_data.ip' count.\nBasically, for each country I'll have the following response:</p>\n<pre><code>public class CountriesResponse  {\n    private int countryTotalDistinctIps;\n    private Set&lt;CountryResponse&gt; data;\n\n    public static class CountryResponse {\n        private String country;\n        private int distinctIPCount;\n        private Map&lt;String, Integer&gt; statusBreakdown;\n    }\n}\n</code></pre>\n<p>I'm using Spring data Mongo DB, and for solving the problem I'm using aggregation that looks like that ('configIdsList', 'start', and 'end' are given parameters):</p>\n<pre><code>        MatchOperation matchOperation = match(Criteria.where(&quot;config_id&quot;).in(configIdsList)\n                .and(&quot;timestamp&quot;).gte(start).lte(end));\n        GroupOperation groupOperation = group(&quot;user_data.country&quot;, &quot;status&quot;)\n                .count().as(&quot;eventsCount&quot;).addToSet(&quot;user_data.ip&quot;).as(&quot;ipsSet&quot;);\n        ProjectionOperation countriesFields = project(&quot;eventsCount&quot;, &quot;ipsSet&quot;).\n        and(&quot;user_data.country&quot;).previousOperation().andInclude(&quot;country&quot;).\n                and(&quot;status&quot;).previousOperation().andInclude(&quot;status&quot;);\n</code></pre>\n<p>This returns a list of breakdown objects which looks like that:</p>\n<pre><code>    private Integer countEvents;\n    private String country;\n    private HashSet&lt;String&gt; ipsSet;\n    private String status;\n</code></pre>\n<p>I then go through the breakdown objects lists and create the above response from them.</p>\n<p>Note - Existing Indices: 'config_id_1_timestamp_-1', 'config_id_1_status_1_timestamp_-1', 'config_id_1_user_data.country_1_status_1_timestamp_-1', 'config_id_1_user_data.ip_1_timestamp_-1'</p>\n<p>The current solution works, but its very slow when there are a lot of events. (takes ~15sec for ~1.3m matching events).</p>\n<p>is there more efficient way of doing it?</p>\n<p>I have also tried different solution by trying to group by &quot;user_data.country&quot;, &quot;user_data.ip&quot;, and &quot;status&quot; but this makes out of memory issue in the '$group' stage (there could be millions of distinct IPs) unless I pass through 'allowDiskUsage:true' which makes it a lot slower than the original aggregation query mentioned above.</p>\n"},{"tags":["java","gradle-plugin","openapi-generator"],"owner":{"account_id":16160199,"reputation":41,"user_id":14729270,"display_name":"randomlyalex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690199919,"creation_date":1690199919,"question_id":76754271,"body_markdown":"I have followed what I can find [here][1] and [here][2]. See below code.\r\n\r\nWhen I build, the output from this in ~/clients/java is source tree of files, *not a lib client* I was hoping to publish.  I can&#39;t see any other options within the plugin to specify otherwise.  \r\n\r\nWhat in my limited understanding of what i&#39;m doing am i missing?\r\n\r\nDo i need to generate from that ~/clients/java output? feels unnecessary. \r\n\r\n\r\n```\r\ntask generateJavaClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\r\n    generatorName = &quot;java&quot;\r\n    inputSpec = &quot;$rootDir/infrastructure/modules/api-gateway/rest-api-definition.yaml&quot;\r\n    outputDir = &quot;$buildDir/clients/java&quot;\r\n    packageName = &quot;client_api&quot;\r\n    id = &quot;client&quot;\r\n    logToStderr = true\r\n    verbose = true\r\n    generateAliasAsModel = false\r\n    enablePostProcessFile = false\r\n    version = getClientVersion(buildkiteBranch, buildkiteBuildNumber, buildkitePipelineDefaultBranch, buildkiteTag)\r\n    configOptions = [\r\n            artifactVersion: getClientVersion(buildkiteBranch, buildkiteBuildNumber, buildkitePipelineDefaultBranch, buildkiteTag)\r\n    ]\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin\r\n  [2]: https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/java.md","title":"Gradle plugin openapitools.generator generateJavaClient is outputting source not a library client","body":"<p>I have followed what I can find <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/java.md\" rel=\"nofollow noreferrer\">here</a>. See below code.</p>\n<p>When I build, the output from this in ~/clients/java is source tree of files, <em>not a lib client</em> I was hoping to publish.  I can't see any other options within the plugin to specify otherwise.</p>\n<p>What in my limited understanding of what i'm doing am i missing?</p>\n<p>Do i need to generate from that ~/clients/java output? feels unnecessary.</p>\n<pre><code>task generateJavaClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\n    generatorName = &quot;java&quot;\n    inputSpec = &quot;$rootDir/infrastructure/modules/api-gateway/rest-api-definition.yaml&quot;\n    outputDir = &quot;$buildDir/clients/java&quot;\n    packageName = &quot;client_api&quot;\n    id = &quot;client&quot;\n    logToStderr = true\n    verbose = true\n    generateAliasAsModel = false\n    enablePostProcessFile = false\n    version = getClientVersion(buildkiteBranch, buildkiteBuildNumber, buildkitePipelineDefaultBranch, buildkiteTag)\n    configOptions = [\n            artifactVersion: getClientVersion(buildkiteBranch, buildkiteBuildNumber, buildkitePipelineDefaultBranch, buildkiteTag)\n    ]\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testing","testng.xml"],"comments":[{"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"score":0,"creation_date":1690259607,"post_id":76754243,"comment_id":135324525,"body_markdown":"Wrote long back - you can try this : https://niharikawhatsnext.wordpress.com/2015/03/11/running-maven-testng-tests-as-a-jar/","body":"Wrote long back - you can try this : <a href=\"https://niharikawhatsnext.wordpress.com/2015/03/11/running-maven-testng-tests-as-a-jar/\" rel=\"nofollow noreferrer\">niharikawhatsnext.wordpress.com/2015/03/11/&hellip;</a>"}],"owner":{"account_id":23632604,"reputation":1,"user_id":17664117,"display_name":"Yorye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690199738,"creation_date":1690199738,"question_id":76754243,"body_markdown":"I&#39;m currently developing a portable software that runs Selenium and TestNG tests on a web page. I am using the maven-surefire-plugin and maven-assembly-plugin plugins in my Maven project. I would like to know how to configure my TestNG XML file containing the entire test suite to be located in src/test/resources, and how can I ensure that by simply executing the JAR file using &#39;java -jar&#39;, it automatically runs the entire test suite. I have already generated a JAR with all the necessary dependencies included.\r\n\r\nmy App.class:\r\n```public static void main(String[] args) {\r\nList&lt;String&gt; suiteFiles = new ArrayList&lt;String&gt;();\r\n\r\n\tString testXml = &quot;testng.xml&quot;;\r\n\r\n\tif (args.length == 0) {\r\n\t\t//suiteFiles.add(testXml.toString());\r\n\t\tsuiteFiles.add(testXml);\r\n\t} else {\r\n\t\tfor (int i = 0; i &lt; args.length; i++) {\r\n\t\t\tsuiteFiles.add(args[0]);\r\n\t\t}\r\n\t}\r\n\r\n// for (int i = 0; i &lt; args.length; i++) {\r\n//paramList.add(args[i]);\r\n//}\r\nTestNG test = new TestNG();\r\n\r\n// Para obtener los recursos del jar usamos la funci&#243;n getResourceAsStream();\r\n//this.getClass().getResourceAsStream(&quot;&quot;);\r\n// Es obligatorio que el primer argumento sea el fichero de configuraci&#243;n de TestNG .xml a ejecutar.\r\n//suiteFiles.add(args[0]);\r\ntest.setTestSuites(suiteFiles);\r\ntest.run();\r\n}\r\n```\r\n\r\nI expected the TestNG framework to run the test suites specified in the &#39;suiteFiles&#39; list. If no command-line arguments are provided, it should run the default &#39;testng.xml&#39; file. If command-line arguments are provided, it should run the specified testng.xml files. I have already included the necessary TestNG dependencies in the project, and the &#39;testng.xml&#39; files are located in the &#39;src/test/resources&#39; directory.\r\n","title":"Executing TestNG Test Suite with Selenium Tests from Portable Software (JAR) - How to Run Tests Using &#39;java -jar&#39; Command?","body":"<p>I'm currently developing a portable software that runs Selenium and TestNG tests on a web page. I am using the maven-surefire-plugin and maven-assembly-plugin plugins in my Maven project. I would like to know how to configure my TestNG XML file containing the entire test suite to be located in src/test/resources, and how can I ensure that by simply executing the JAR file using 'java -jar', it automatically runs the entire test suite. I have already generated a JAR with all the necessary dependencies included.</p>\n<p>my App.class:</p>\n<pre><code>List&lt;String&gt; suiteFiles = new ArrayList&lt;String&gt;();\n\n    String testXml = &quot;testng.xml&quot;;\n\n    if (args.length == 0) {\n        //suiteFiles.add(testXml.toString());\n        suiteFiles.add(testXml);\n    } else {\n        for (int i = 0; i &lt; args.length; i++) {\n            suiteFiles.add(args[0]);\n        }\n    }\n\n// for (int i = 0; i &lt; args.length; i++) {\n//paramList.add(args[i]);\n//}\nTestNG test = new TestNG();\n\n// Para obtener los recursos del jar usamos la función getResourceAsStream();\n//this.getClass().getResourceAsStream(&quot;&quot;);\n// Es obligatorio que el primer argumento sea el fichero de configuración de TestNG .xml a ejecutar.\n//suiteFiles.add(args[0]);\ntest.setTestSuites(suiteFiles);\ntest.run();\n}\n</code></pre>\n<p>I expected the TestNG framework to run the test suites specified in the 'suiteFiles' list. If no command-line arguments are provided, it should run the default 'testng.xml' file. If command-line arguments are provided, it should run the specified testng.xml files. I have already included the necessary TestNG dependencies in the project, and the 'testng.xml' files are located in the 'src/test/resources' directory.</p>\n"},{"tags":["java","spring","jwt","functional-interface","method-reference"],"comments":[{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":0,"creation_date":1689594074,"post_id":76704019,"comment_id":135230763,"body_markdown":"I think this is `delegation`. The instance of `Claims` comes from `getAllClaimsFromToken()`. Therefore, the implementation of `Claims` also comes from `getAllClaimsFromToken()` which was called as `Jwts.parser().setSigningKey(&quot;javainuse&quot;).parseClaimsJws(token).getBody()`","body":"I think this is <code>delegation</code>. The instance of <code>Claims</code> comes from <code>getAllClaimsFromToken()</code>. Therefore, the implementation of <code>Claims</code> also comes from <code>getAllClaimsFromToken()</code> which was called as <code>Jwts.parser().setSigningKey(&quot;javainuse&quot;).parseClaimsJws(toke&zwnj;&#8203;n).getBody()</code>"},{"owner":{"account_id":2125067,"reputation":547,"user_id":1887464,"accept_rate":80,"display_name":"user1887464"},"score":0,"creation_date":1689594273,"post_id":76704019,"comment_id":135230820,"body_markdown":"need more explanation on this. Is there any example online ? What is it called in java terms ?","body":"need more explanation on this. Is there any example online ? What is it called in java terms ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1690199491,"post_id":76704019,"comment_id":135315517,"body_markdown":"Does this answer your question? [Difference between method reference Bound Receiver and Unbound Receiver](https://stackoverflow.com/questions/35914775/difference-between-method-reference-bound-receiver-and-unbound-receiver)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35914775/difference-between-method-reference-bound-receiver-and-unbound-receiver\">Difference between method reference Bound Receiver and Unbound Receiver</a>"}],"answers":[{"comments":[{"owner":{"account_id":2125067,"reputation":547,"user_id":1887464,"accept_rate":80,"display_name":"user1887464"},"score":0,"creation_date":1689596092,"post_id":76704206,"comment_id":135231208,"body_markdown":"is there any other example link or concept explanation link you can provide ?","body":"is there any other example link or concept explanation link you can provide ?"},{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":0,"creation_date":1689596334,"post_id":76704206,"comment_id":135231279,"body_markdown":"There is [an example](https://www.baeldung.com/java-8-functional-interfaces).","body":"There is <a href=\"https://www.baeldung.com/java-8-functional-interfaces\" rel=\"nofollow noreferrer\">an example</a>."}],"tags":[],"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689594917,"creation_date":1689594917,"answer_id":76704206,"question_id":76704019,"body_markdown":"You&#39;re right that the `Claims::getSubject` syntax here is passing a method reference to the `Function` interface, rather than implementing the full lambda expression. \r\n\r\nThe key to how this works is that `Claims` is an interface that extends the `Claims` interface from the `io.jsonwebtoken` library. \r\n\r\nThat `io.jsonwebtoken.Claims` interface defines various getter methods like `getSubject()`, `getIssuer()` etc. without providing implementations.\r\n\r\nSo when we call:\r\n\r\n```java\r\nClaims::getSubject\r\n```\r\n\r\nWe are providing a reference to the `getSubject()` method on the `io.jsonwebtoken.Claims` interface. \r\n\r\nEven though the interface doesn&#39;t provide an implementation, at runtime the `claims` object will actually be an instance of some class that implements the `io.jsonwebtoken.Claims` interface and provides a concrete implementation of `getSubject()`.\r\n\r\nWhen `claimsResolver.apply(claims)` is called, it will invoke that underlying `getSubject()` method on the `claims` instance, which returns the subject value.\r\n\r\nSo in summary:\r\n\r\n- `Claims::getSubject` provides a reference to the interface method\r\n- The `claims` object provides an implementation of that interface \r\n- So `claimsResolver.apply(claims)` is able to call the implemented `getSubject()` method to return the value","title":"Interface method reference to a functional interface","body":"<p>You're right that the <code>Claims::getSubject</code> syntax here is passing a method reference to the <code>Function</code> interface, rather than implementing the full lambda expression.</p>\n<p>The key to how this works is that <code>Claims</code> is an interface that extends the <code>Claims</code> interface from the <code>io.jsonwebtoken</code> library.</p>\n<p>That <code>io.jsonwebtoken.Claims</code> interface defines various getter methods like <code>getSubject()</code>, <code>getIssuer()</code> etc. without providing implementations.</p>\n<p>So when we call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Claims::getSubject\n</code></pre>\n<p>We are providing a reference to the <code>getSubject()</code> method on the <code>io.jsonwebtoken.Claims</code> interface.</p>\n<p>Even though the interface doesn't provide an implementation, at runtime the <code>claims</code> object will actually be an instance of some class that implements the <code>io.jsonwebtoken.Claims</code> interface and provides a concrete implementation of <code>getSubject()</code>.</p>\n<p>When <code>claimsResolver.apply(claims)</code> is called, it will invoke that underlying <code>getSubject()</code> method on the <code>claims</code> instance, which returns the subject value.</p>\n<p>So in summary:</p>\n<ul>\n<li><code>Claims::getSubject</code> provides a reference to the interface method</li>\n<li>The <code>claims</code> object provides an implementation of that interface</li>\n<li>So <code>claimsResolver.apply(claims)</code> is able to call the implemented <code>getSubject()</code> method to return the value</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2125067,"reputation":547,"user_id":1887464,"accept_rate":80,"display_name":"user1887464"},"score":0,"creation_date":1689693545,"post_id":76711119,"comment_id":135248379,"body_markdown":"I understand that we have to accept that this is how lambda work in this situation. I saw it for the first time and I was looking for a page which describes this situation. Just like for Integer like classes there is concept called autoboxing we need to accept this thing as it is. Do you know any page which describes this method reference type ?","body":"I understand that we have to accept that this is how lambda work in this situation. I saw it for the first time and I was looking for a page which describes this situation. Just like for Integer like classes there is concept called autoboxing we need to accept this thing as it is. Do you know any page which describes this method reference type ?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689706889,"post_id":76711119,"comment_id":135250925,"body_markdown":"There are method references. There aren&#39;t &#39;method reference types&#39;. Whenever you write a method reference, from the immediately surrounding context, `javac` __must__ be able to determine which functionalinterface it is an implementation for. If javac cannot, that is a compiler error - because there are no types for functions like this, javac needs to figure out (from context) what type you want and compile accordingly.","body":"There are method references. There aren&#39;t &#39;method reference types&#39;. Whenever you write a method reference, from the immediately surrounding context, <code>javac</code> <b>must</b> be able to determine which functionalinterface it is an implementation for. If javac cannot, that is a compiler error - because there are no types for functions like this, javac needs to figure out (from context) what type you want and compile accordingly."},{"owner":{"account_id":2125067,"reputation":547,"user_id":1887464,"accept_rate":80,"display_name":"user1887464"},"score":0,"creation_date":1689738576,"post_id":76711119,"comment_id":135254303,"body_markdown":"So in this case Java compiler sees that claims object has a same method signature as Claims::subject and not the apply method because it accepts Claims instance ?","body":"So in this case Java compiler sees that claims object has a same method signature as Claims::subject and not the apply method because it accepts Claims instance ?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689758685,"post_id":76711119,"comment_id":135257365,"body_markdown":"No, `::` is the syntax for &#39;make a method reference&#39;. It would never &#39;apply the method&#39;. It sees `Claims::getSubject` and translates that to, more or less, `class $InlineImplementation implements Function&lt;Claims, String&gt; { @Override public String apply(Claims c) { return c.getSubject(); }}` followed by `new $InlineImplementation();` which is the value of that expression.","body":"No, <code>::</code> is the syntax for &#39;make a method reference&#39;. It would never &#39;apply the method&#39;. It sees <code>Claims::getSubject</code> and translates that to, more or less, <code>class $InlineImplementation implements Function&lt;Claims, String&gt; { @Override public String apply(Claims c) { return c.getSubject(); }}</code> followed by <code>new $InlineImplementation();</code> which is the value of that expression."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689670924,"creation_date":1689670924,"answer_id":76711119,"question_id":76704019,"body_markdown":"`someInstance.getSubject()` bakes a cake and returns it to you.\r\n\r\n`Claims::getSubject` is a recipe for baking cakes.\r\n\r\nOne _does the thing_. The other doesn&#39;t do anything, it merely is a description of _how_ to do the thing - whatever you hand it to can do the thing, or not, or do it 10 times - or pass the recipe on to somebody else who is then faced with the same choice. They can do whatever they like:\r\n\r\n* Toss the recipe in the garbage (and no cakes ever exist).\r\n* Bake a cake.\r\n* Bake 10,000 cakes.\r\n* Start 100 threads and bake 100 cakes simultaneously.\r\n* Save the recipe for later and bake some cakes tomorrow.\r\n\r\nWhen I write down a recipe for making cake, one of the ingredients I&#39;m going to mention is that you will need fresh water.\r\n\r\nThat means, to bake a cake, I need fresh water. Or perhaps a tap (something that can make fresh water for me). However, to make a cake __recipe__ I do not need fresh water at all. I just need to tell _you_ (the one who will be following my recipe to bake that cake): &quot;You will need to obtain some fresh water. Not my problem how you do that!&quot;.\r\n\r\nIn other words, a cake recipe is a recipe that turns fresh water (and some other things) into a cake. It does not explain how to obtain fresh water, nor does a recipe for making cake come wrapped around a bottle of fresh water.\r\n\r\nIn the same vein, `Claims::getSubject` is a recipe that explains how to turn any instance of a class that implements `Claims` (i.e. a Claims instance) into a String. It does not come with an instance of Claims nor does it explain how to make an instance of Claims. It merely says: IF you have an instance of Claims, this recipe lets you turn that Claims into a String!\r\n\r\n`Claims::getSubject` specifically says: Take your claims, call it `c`. Run `c.getSubject()`. Voila, there&#39;s your string.\r\n\r\nHere, you pass that notion (a recipe for turning claims into strings) to the `getClaimFromToken` method, which apparently knows how to produce an instance of Claims.\r\n\r\nThat&#39;s analogous to me handing you a cake recipe today and you showing up with a cake tomorrow. That implies you managed to obtain some fresh water. I do not know how and I don&#39;t really need to care - I get to enjoy some cake!\r\n\r\nNB: Obviously `getClaimsFromToken` knows how to make an instance that implements `Claims` from a token, and will then apply your recipe (i.e., call `.getSubject()` on it). But that&#39;s just &#39;guessing&#39; - the point of APIs is that they promise they do X. You don&#39;t need to bother with knowing _how_ it does it, you just need to bother with knowing _what_ it does, and perhaps ascertaining that the library is fit for purpose and it does what its docs say it does.\r\n","title":"Interface method reference to a functional interface","body":"<p><code>someInstance.getSubject()</code> bakes a cake and returns it to you.</p>\n<p><code>Claims::getSubject</code> is a recipe for baking cakes.</p>\n<p>One <em>does the thing</em>. The other doesn't do anything, it merely is a description of <em>how</em> to do the thing - whatever you hand it to can do the thing, or not, or do it 10 times - or pass the recipe on to somebody else who is then faced with the same choice. They can do whatever they like:</p>\n<ul>\n<li>Toss the recipe in the garbage (and no cakes ever exist).</li>\n<li>Bake a cake.</li>\n<li>Bake 10,000 cakes.</li>\n<li>Start 100 threads and bake 100 cakes simultaneously.</li>\n<li>Save the recipe for later and bake some cakes tomorrow.</li>\n</ul>\n<p>When I write down a recipe for making cake, one of the ingredients I'm going to mention is that you will need fresh water.</p>\n<p>That means, to bake a cake, I need fresh water. Or perhaps a tap (something that can make fresh water for me). However, to make a cake <strong>recipe</strong> I do not need fresh water at all. I just need to tell <em>you</em> (the one who will be following my recipe to bake that cake): &quot;You will need to obtain some fresh water. Not my problem how you do that!&quot;.</p>\n<p>In other words, a cake recipe is a recipe that turns fresh water (and some other things) into a cake. It does not explain how to obtain fresh water, nor does a recipe for making cake come wrapped around a bottle of fresh water.</p>\n<p>In the same vein, <code>Claims::getSubject</code> is a recipe that explains how to turn any instance of a class that implements <code>Claims</code> (i.e. a Claims instance) into a String. It does not come with an instance of Claims nor does it explain how to make an instance of Claims. It merely says: IF you have an instance of Claims, this recipe lets you turn that Claims into a String!</p>\n<p><code>Claims::getSubject</code> specifically says: Take your claims, call it <code>c</code>. Run <code>c.getSubject()</code>. Voila, there's your string.</p>\n<p>Here, you pass that notion (a recipe for turning claims into strings) to the <code>getClaimFromToken</code> method, which apparently knows how to produce an instance of Claims.</p>\n<p>That's analogous to me handing you a cake recipe today and you showing up with a cake tomorrow. That implies you managed to obtain some fresh water. I do not know how and I don't really need to care - I get to enjoy some cake!</p>\n<p>NB: Obviously <code>getClaimsFromToken</code> knows how to make an instance that implements <code>Claims</code> from a token, and will then apply your recipe (i.e., call <code>.getSubject()</code> on it). But that's just 'guessing' - the point of APIs is that they promise they do X. You don't need to bother with knowing <em>how</em> it does it, you just need to bother with knowing <em>what</em> it does, and perhaps ascertaining that the library is fit for purpose and it does what its docs say it does.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1690199812,"post_id":76718279,"comment_id":135315594,"body_markdown":"Congratulations for finding out. Four of the five [newest questions tagged with `method-reference`](https://stackoverflow.com/questions/tagged/method-reference?tab=Newest) are asking the same question. Not to speak of the hundred other questions already answered in the past decade.","body":"Congratulations for finding out. Four of the five <a href=\"https://stackoverflow.com/questions/tagged/method-reference?tab=Newest\">newest questions tagged with <code>method-reference</code></a> are asking the same question. Not to speak of the hundred other questions already answered in the past decade."}],"tags":[],"owner":{"account_id":2125067,"reputation":547,"user_id":1887464,"accept_rate":80,"display_name":"user1887464"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689745305,"creation_date":1689745305,"answer_id":76718279,"question_id":76704019,"body_markdown":"I found what it is called in java. It is called unbound non-static method references. Here is a link which explains every type method references and the scenario which I was asking to explain. [Unbound Non static method references][1]\r\n\r\n\r\n  [1]: https://www.infoworld.com/article/3453296/get-started-with-method-references-in-java.html#:~:text=An%20unbound%20non%2Dstatic%20method,example%20is%20String%3A%3AtoLowerCase%20.","title":"Interface method reference to a functional interface","body":"<p>I found what it is called in java. It is called unbound non-static method references. Here is a link which explains every type method references and the scenario which I was asking to explain. <a href=\"https://www.infoworld.com/article/3453296/get-started-with-method-references-in-java.html#:%7E:text=An%20unbound%20non%2Dstatic%20method,example%20is%20String%3A%3AtoLowerCase%20.\" rel=\"nofollow noreferrer\">Unbound Non static method references</a></p>\n"}],"owner":{"account_id":2125067,"reputation":547,"user_id":1887464,"accept_rate":80,"display_name":"user1887464"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690199510,"creation_date":1689593405,"question_id":76704019,"body_markdown":"I am working with Java Spring framework and JWT - Java Web Tokens. I have below class \r\n\r\n```import java.util.ArrayList;\r\nimport java.util.function.Function;\r\n\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport app.com.javainuse.config.JwtTokenUtil;\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\n\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tUser u=new User(&quot;javainuse&quot;, &quot;$2a$10$slYQmyNdGzTn7ZLBXBChFOC9f6kFjAqPhccnP6DxlWXx2lPk1C3G6&quot;,new ArrayList&lt;&gt;());\r\n\t\tUserDetails ud=u;\r\n\t\t\r\n\t\tJwtTokenUtil jwtTokenUtil=new JwtTokenUtil();\r\n\t\t\r\n\t\tString token = jwtTokenUtil.generateToken(ud);\r\n\t\tTest t=new Test();\r\n\t\tSystem.out.println(t.getClaimFromToken(token, Claims::getSubject));\r\n\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic &lt;T&gt; T getClaimFromToken(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n\t\tfinal Claims claims = getAllClaimsFromToken(token);\r\n\t\tSystem.out.println(claims.toString());\t\t\r\n\t\treturn claimsResolver.apply(claims);\r\n\t}\r\n\r\n\tprivate Claims getAllClaimsFromToken(String token) {\r\n\t\treturn Jwts.parser().setSigningKey(&quot;javainuse&quot;).parseClaimsJws(token).getBody();\r\n\t}\r\n}\r\n```\r\n\r\nI am not able to understand statement containing this Claims::getSubject in main method. It gets passed to a functional interface Named Function&lt;Claims,T&gt; claimresolver. How does a method reference getSubject without implementation able to return subject from claims object in getClaimFromToken method ? When we pass method reference to a Functional Interface we the method must have body wight ? but Claims is an interface and getSubject does not have a body then how does &quot;claimsResolver.apply(claims);&quot; is able to get subject value ?","title":"Interface method reference to a functional interface","body":"<p>I am working with Java Spring framework and JWT - Java Web Tokens. I have below class</p>\n<pre><code>import java.util.function.Function;\n\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport app.com.javainuse.config.JwtTokenUtil;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\n\n\npublic class Test {\n    public static void main(String[] args) {\n        User u=new User(&quot;javainuse&quot;, &quot;$2a$10$slYQmyNdGzTn7ZLBXBChFOC9f6kFjAqPhccnP6DxlWXx2lPk1C3G6&quot;,new ArrayList&lt;&gt;());\n        UserDetails ud=u;\n        \n        JwtTokenUtil jwtTokenUtil=new JwtTokenUtil();\n        \n        String token = jwtTokenUtil.generateToken(ud);\n        Test t=new Test();\n        System.out.println(t.getClaimFromToken(token, Claims::getSubject));\n\n        \n    }\n    \n    public &lt;T&gt; T getClaimFromToken(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = getAllClaimsFromToken(token);\n        System.out.println(claims.toString());      \n        return claimsResolver.apply(claims);\n    }\n\n    private Claims getAllClaimsFromToken(String token) {\n        return Jwts.parser().setSigningKey(&quot;javainuse&quot;).parseClaimsJws(token).getBody();\n    }\n}\n</code></pre>\n<p>I am not able to understand statement containing this Claims::getSubject in main method. It gets passed to a functional interface Named Function&lt;Claims,T&gt; claimresolver. How does a method reference getSubject without implementation able to return subject from claims object in getClaimFromToken method ? When we pass method reference to a Functional Interface we the method must have body wight ? but Claims is an interface and getSubject does not have a body then how does &quot;claimsResolver.apply(claims);&quot; is able to get subject value ?</p>\n"},{"tags":["java","method-reference"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689203925,"post_id":76674862,"comment_id":135181861,"body_markdown":"It&#39;s not getting called. The method declaration is being referenced on the `EatSomething` class. It only runs when explicitly invoked on an instance of `EatSomething` inside the `process` method. Also this is _horrible_ code, never write something like this =D","body":"It&#39;s not getting called. The method declaration is being referenced on the <code>EatSomething</code> class. It only runs when explicitly invoked on an instance of <code>EatSomething</code> inside the <code>process</code> method. Also this is <i>horrible</i> code, never write something like this =D"},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1689205228,"post_id":76674862,"comment_id":135181983,"body_markdown":"`MyCustomFunction func = String::toUpperCase;` here `MyCustomFunction` has a method lets say `String test(String abc); ` but `toUpperCase` is a non static method. Then why are we calling `toUpperCase` with its class name i.e. String.","body":"<code>MyCustomFunction func = String::toUpperCase;</code> here <code>MyCustomFunction</code> has a method lets say <code>String test(String abc); </code> but <code>toUpperCase</code> is a non static method. Then why are we calling <code>toUpperCase</code> with its class name i.e. String."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1689209000,"post_id":76674862,"comment_id":135182287,"body_markdown":"Remember that terminology matters: we&#39;re not _calling_ anything. Calling a method/function means executing (&quot;running&quot;) that method/function. We&#39;re _referencing_ a method here, using the method reference operator, `::`. The docs for which have already been linked to in the answer you accepted.","body":"Remember that terminology matters: we&#39;re not <i>calling</i> anything. Calling a method/function means executing (&quot;running&quot;) that method/function. We&#39;re <i>referencing</i> a method here, using the method reference operator, <code>::</code>. The docs for which have already been linked to in the answer you accepted."},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1689225685,"post_id":76674862,"comment_id":135183742,"body_markdown":"Yes. Actually this whole confusion arise due to this code : `public String extractUsername(String token) {\n\t\t// TODO Auto-generated method stub\n\t\tFunction&lt;Claims,String&gt; func = (Claims c)-&gt;c.getSubject(); // or Claims::getSubject\n\t\treturn extractClaim(token,func);\n\t}` here a implemented method of Claims interface getSubject is called as if it is a static method.","body":"Yes. Actually this whole confusion arise due to this code : <code>public String extractUsername(String token) { \t\t&#47;&#47; TODO Auto-generated method stub \t\tFunction&lt;Claims,String&gt; func = (Claims c)-&gt;c.getSubject(); &#47;&#47; or Claims::getSubject \t\treturn extractClaim(token,func); \t}</code> here a implemented method of Claims interface getSubject is called as if it is a static method."},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1689225937,"post_id":76674862,"comment_id":135183773,"body_markdown":"So I treid to mimick that in my exercise session here. Understood now. If something is like `(Object o)-&gt;o.someMethod()` can be further shortened to `Object::someMethod` will remember that.","body":"So I treid to mimick that in my exercise session here. Understood now. If something is like <code>(Object o)-&gt;o.someMethod()</code> can be further shortened to <code>Object::someMethod</code> will remember that."}],"answers":[{"comments":[{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1689205356,"post_id":76674979,"comment_id":135181995,"body_markdown":"One more scenario, `MyCustomFunction func = String::toUpperCase;` here `MyCustomFunction` functional interface has a method lets say `String test(String abc); ` but `toUpperCase` is a non static method. Then why are we calling `toUpperCase` with its class name i.e. String.","body":"One more scenario, <code>MyCustomFunction func = String::toUpperCase;</code> here <code>MyCustomFunction</code> functional interface has a method lets say <code>String test(String abc); </code> but <code>toUpperCase</code> is a non static method. Then why are we calling <code>toUpperCase</code> with its class name i.e. String."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1689205772,"post_id":76674979,"comment_id":135182025,"body_markdown":"Again, we can call it both ways and it would denote different things: `String::toUpperCase;` would return `Function&lt;String, String&gt;` or `MyCustomFunction` and `&quot;a&quot;::toUpperCase` would return `Supplier&lt;String&gt;` or another no-arg functional interface like `String test()`  since target (string &quot;a&quot;) is previously defined","body":"Again, we can call it both ways and it would denote different things: <code>String::toUpperCase;</code> would return <code>Function&lt;String, String&gt;</code> or <code>MyCustomFunction</code> and <code>&quot;a&quot;::toUpperCase</code> would return <code>Supplier&lt;String&gt;</code> or another no-arg functional interface like <code>String test()</code>  since target (string &quot;a&quot;) is previously defined"}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689205302,"creation_date":1689203674,"answer_id":76674979,"question_id":76674862,"body_markdown":"You can call `similarToEat` using object, you will just get not a `Function &lt;EatSomething,String&gt;` but functional interface with zero-arg method like `Callable`/`Runnable`/`Supplier` since an instance of `EatSomething` is already defined by that object.\r\n\r\n[Here][1] is Oracle documentation with types of method references:\r\n\r\n| Kind                                                                        | Syntax                               |\r\n|-----------------------------------------------------------------------------|--------------------------------------|\r\n| Reference to a static method                                                | ContainingClass::staticMethodName.   |\r\n| Reference to an instance method of a particular object                      | containingObject::instanceMethodName |\r\n| Reference to an instance method of an arbitrary object of a particular type | ContainingType::methodName           |\r\n\r\nLook at examples:\r\n\r\n        // denotes a method of any EatSomething instance that is not defined yet\r\n        Function&lt;EatSomething, String&gt; ff1 = EatSomething::similarToEat; // thus we get a function from EatSomething to String\r\n        // denotes a method of already specified EatSomething object\r\n        Supplier&lt;String&gt; ff2 = es::similarToEat; // here we get a function without any argument\r\n        Callable&lt;String&gt; ff3 = es::similarToEat; // it could be another FunctionalInterface with no-arg method\r\n        \r\n        ff1.apply(new EatSomething()); // we could provide any EatSomething object\r\n        ff2.get(); // will execute similarToEat exactly against the es object\r\n        ff3.call(); // will execute similarToEat exactly against the es object\r\n\r\nWhat if `EatSomething` have a static method?\r\n\r\n    class EatSomething {\r\n        public static String eatSomethingStaticMethod() {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nThen taking method reference with a class name would return no-arg functional interface:\r\n\r\n        Supplier&lt;String&gt; ff4 = EatSomething::eatSomethingStaticMethod;\r\n        Callable&lt;String&gt; ff5 = EatSomething::eatSomethingStaticMethod;\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"java 8 method reference calling non static method in a static way","body":"<p>You can call <code>similarToEat</code> using object, you will just get not a <code>Function &lt;EatSomething,String&gt;</code> but functional interface with zero-arg method like <code>Callable</code>/<code>Runnable</code>/<code>Supplier</code> since an instance of <code>EatSomething</code> is already defined by that object.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">Here</a> is Oracle documentation with types of method references:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Kind</th>\n<th>Syntax</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Reference to a static method</td>\n<td>ContainingClass::staticMethodName.</td>\n</tr>\n<tr>\n<td>Reference to an instance method of a particular object</td>\n<td>containingObject::instanceMethodName</td>\n</tr>\n<tr>\n<td>Reference to an instance method of an arbitrary object of a particular type</td>\n<td>ContainingType::methodName</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Look at examples:</p>\n<pre><code>    // denotes a method of any EatSomething instance that is not defined yet\n    Function&lt;EatSomething, String&gt; ff1 = EatSomething::similarToEat; // thus we get a function from EatSomething to String\n    // denotes a method of already specified EatSomething object\n    Supplier&lt;String&gt; ff2 = es::similarToEat; // here we get a function without any argument\n    Callable&lt;String&gt; ff3 = es::similarToEat; // it could be another FunctionalInterface with no-arg method\n    \n    ff1.apply(new EatSomething()); // we could provide any EatSomething object\n    ff2.get(); // will execute similarToEat exactly against the es object\n    ff3.call(); // will execute similarToEat exactly against the es object\n</code></pre>\n<p>What if <code>EatSomething</code> have a static method?</p>\n<pre><code>class EatSomething {\n    public static String eatSomethingStaticMethod() {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Then taking method reference with a class name would return no-arg functional interface:</p>\n<pre><code>    Supplier&lt;String&gt; ff4 = EatSomething::eatSomethingStaticMethod;\n    Callable&lt;String&gt; ff5 = EatSomething::eatSomethingStaticMethod;\n</code></pre>\n"}],"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1690199380,"accepted_answer_id":76674979,"answer_count":1,"score":1,"last_activity_date":1690199434,"creation_date":1689201487,"question_id":76674862,"body_markdown":"I am learning `method references` in `Java 8`. I learnt that we can define functional interface method with either lambda or `method reference`. \r\n`Method reference` is a way of telling &quot;*there exist a similar method with same signature of functional interface method, you can call it*&quot;. \r\nFurther if that similar looking method exists as a `static` method, we call it using its class name. Or if it exists as `non static` way, then we will call it with object.\r\n\r\nI am confused with below code.. `EatSomething` class has `non-static` `similarToEat` method, then why it is being called like a `static` method?\r\n\r\n    import java.util.function.*;\r\n    \r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tTest test = new Test();\r\n    \t\tEatSomething es = new EatSomething();\r\n    \t\t\r\n    \t\tFunction &lt;EatSomething,String&gt; ff1 = EatSomething::similarToEat; //here.. similarToEat is a non-static method, then why do I need to call it using class name?\r\n    \t\tFunction &lt;EatSomething,String&gt; ff2 = (EatSomething eat)-&gt;eat.similarToEat();\r\n    \t\tFunction &lt;EatSomething,String&gt; ff3 = es::eatOverloaded;\r\n    \t\t\r\n     \t \t\r\n    \t\tSystem.out.println(test.process(ff1));\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate String process(Function&lt;EatSomething,String&gt; func) {\r\n    \t\tEatSomething es = new EatSomething();\r\n    \t\treturn func.apply(es);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class EatSomething{\r\n    \tpublic String similarToEat() {\r\n    \t\treturn &quot;eat lightning, and crap thunder &quot;;\r\n    \t}\r\n    \t\r\n    \tpublic String eatOverloaded(EatSomething es) {\r\n    \t\treturn es.similarToEat();\r\n    \t}\r\n    \r\n    }\r\n\r\nI am totally confused with this. Why should&#39;t I call `similarToEat` using object. Why do I have to use class name here? I can easily relate `ff2` and `ff3` objects in above code. Really confused with `ff1`.\r\n\r\nOne more piece of code..\r\n\r\n    interface MyCustomFunction{  \r\n        String test(String abc);  \r\n    }  \r\n    public class MethodReference {  \r\n         \r\n        public static void main(String[] args) {  \r\n            MethodReference mr = new MethodReference();\r\n            MyCustomFunction func = String::toUpperCase; //here again. Why are we calling toUpperCase with its class name when its a non-static method\r\n            System.out.println(mr.processs(func));\r\n        }  \r\n        public String processs(MyCustomFunction obj) {\r\n        \t\r\n        \treturn obj.test(&quot;abc&quot;);\r\n        }\r\n    }  ","title":"java 8 method reference calling non static method in a static way","body":"<p>I am learning <code>method references</code> in <code>Java 8</code>. I learnt that we can define functional interface method with either lambda or <code>method reference</code>.\n<code>Method reference</code> is a way of telling &quot;<em>there exist a similar method with same signature of functional interface method, you can call it</em>&quot;.\nFurther if that similar looking method exists as a <code>static</code> method, we call it using its class name. Or if it exists as <code>non static</code> way, then we will call it with object.</p>\n<p>I am confused with below code.. <code>EatSomething</code> class has <code>non-static</code> <code>similarToEat</code> method, then why it is being called like a <code>static</code> method?</p>\n<pre><code>import java.util.function.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        Test test = new Test();\n        EatSomething es = new EatSomething();\n        \n        Function &lt;EatSomething,String&gt; ff1 = EatSomething::similarToEat; //here.. similarToEat is a non-static method, then why do I need to call it using class name?\n        Function &lt;EatSomething,String&gt; ff2 = (EatSomething eat)-&gt;eat.similarToEat();\n        Function &lt;EatSomething,String&gt; ff3 = es::eatOverloaded;\n        \n        \n        System.out.println(test.process(ff1));\n        \n    }\n\n    private String process(Function&lt;EatSomething,String&gt; func) {\n        EatSomething es = new EatSomething();\n        return func.apply(es);\n    }\n}\n\n\nclass EatSomething{\n    public String similarToEat() {\n        return &quot;eat lightning, and crap thunder &quot;;\n    }\n    \n    public String eatOverloaded(EatSomething es) {\n        return es.similarToEat();\n    }\n\n}\n</code></pre>\n<p>I am totally confused with this. Why should't I call <code>similarToEat</code> using object. Why do I have to use class name here? I can easily relate <code>ff2</code> and <code>ff3</code> objects in above code. Really confused with <code>ff1</code>.</p>\n<p>One more piece of code..</p>\n<pre><code>interface MyCustomFunction{  \n    String test(String abc);  \n}  \npublic class MethodReference {  \n     \n    public static void main(String[] args) {  \n        MethodReference mr = new MethodReference();\n        MyCustomFunction func = String::toUpperCase; //here again. Why are we calling toUpperCase with its class name when its a non-static method\n        System.out.println(mr.processs(func));\n    }  \n    public String processs(MyCustomFunction obj) {\n        \n        return obj.test(&quot;abc&quot;);\n    }\n}  \n</code></pre>\n"},{"tags":["java","method-reference"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688614707,"post_id":76625317,"comment_id":135098030,"body_markdown":"It&#39;s equivalent to `(Sayable s) -&gt; s.say()`","body":"It&#39;s equivalent to <code>(Sayable s) -&gt; s.say()</code>"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1688614924,"post_id":76625317,"comment_id":135098039,"body_markdown":"yes! yes! Now I understood. Thank you so much!","body":"yes! yes! Now I understood. Thank you so much!"}],"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688614486,"answer_count":0,"score":0,"last_activity_date":1690199307,"creation_date":1688614199,"question_id":76625317,"body_markdown":"I was learning `method reference` topic in `java8`. I learnt that **method reference** provide reference to already existing method (with similar argument types). But I want to know, how is the below code RUNNING successfully even when method arguments are different.\r\n\r\n    import java.util.function.*;\r\n    \r\n    \r\n    interface Sayable{\r\n    \tString say();\r\n    }\r\n    \r\n    \r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tTest test = new Test();\r\n    \r\n    \t\tSystem.out.println(test.doThis(Sayable::say));\r\n    \r\n    \t}\r\n    \r\n    \tprivate &lt;T&gt; T doThis(Function&lt;Sayable,T&gt; func) {\r\n    \t\tSaySomething ra = new SaySomething();\r\n    \t\treturn func.apply(ra);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    class SaySomething implements Sayable{\r\n    \r\n    \t@Override\r\n    \tpublic String say() {\r\n    \t\treturn &quot;hi&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nIf I am not wrong here `Sayable::say` will get to `Function&lt;Sayable,T&gt; func` argument of `doThis` method. But `say()` method has no argument yet how it gets referenced to `R apply(T)` method of `Function` interface. If `String say()` method is different than `R apply(T)` then how is `Sayable::say` not showing any error?","title":"how is method reference working even when signature of apply method does not match","body":"<p>I was learning <code>method reference</code> topic in <code>java8</code>. I learnt that <strong>method reference</strong> provide reference to already existing method (with similar argument types). But I want to know, how is the below code RUNNING successfully even when method arguments are different.</p>\n<pre><code>import java.util.function.*;\n\n\ninterface Sayable{\n    String say();\n}\n\n\npublic class Test {\n    public static void main(String[] args) {\n        Test test = new Test();\n\n        System.out.println(test.doThis(Sayable::say));\n\n    }\n\n    private &lt;T&gt; T doThis(Function&lt;Sayable,T&gt; func) {\n        SaySomething ra = new SaySomething();\n        return func.apply(ra);\n    }\n\n}\n\n\nclass SaySomething implements Sayable{\n\n    @Override\n    public String say() {\n        return &quot;hi&quot;;\n    }\n\n}\n</code></pre>\n<p>If I am not wrong here <code>Sayable::say</code> will get to <code>Function&lt;Sayable,T&gt; func</code> argument of <code>doThis</code> method. But <code>say()</code> method has no argument yet how it gets referenced to <code>R apply(T)</code> method of <code>Function</code> interface. If <code>String say()</code> method is different than <code>R apply(T)</code> then how is <code>Sayable::say</code> not showing any error?</p>\n"},{"tags":["java","android","uri","alarmmanager"],"answers":[{"comments":[{"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"score":1,"creation_date":1308517716,"post_id":6404624,"comment_id":7510426,"body_markdown":"Thanks for your response. Uri.decode returns a String not a Uri. I used uri.parse(s) and it returned a Uri but it is not the same as the original one ( lots of missing info and fields). so MediaPlayer does not play it properly and breaks in the prepare.","body":"Thanks for your response. Uri.decode returns a String not a Uri. I used uri.parse(s) and it returned a Uri but it is not the same as the original one ( lots of missing info and fields). so MediaPlayer does not play it properly and breaks in the prepare."},{"owner":{"account_id":3582480,"reputation":2866,"user_id":2990350,"accept_rate":20,"display_name":"DYS"},"score":1,"creation_date":1529990280,"post_id":6404624,"comment_id":89062456,"body_markdown":"In my case, every Uri points to an image in the album. I try to save/restore in this way but it doesn&#39;t work.","body":"In my case, every Uri points to an image in the album. I try to save/restore in this way but it doesn&#39;t work."},{"owner":{"account_id":3739249,"reputation":2113,"user_id":3109401,"accept_rate":29,"display_name":"Kimi Chiu"},"score":1,"creation_date":1595607939,"post_id":6404624,"comment_id":111543686,"body_markdown":"It&#39;s not working anymore. The `Uri.parse(mUri.toString())` does not the same as mUri. There are no path, query, scheme and many other values of the parsed result. I can&#39;t use it to load an image.","body":"It&#39;s not working anymore. The <code>Uri.parse(mUri.toString())</code> does not the same as mUri. There are no path, query, scheme and many other values of the parsed result. I can&#39;t use it to load an image."},{"owner":{"account_id":15269764,"reputation":98,"user_id":11017313,"display_name":"Kalpana Aneyrao"},"score":0,"creation_date":1679469041,"post_id":6404624,"comment_id":133725607,"body_markdown":"Facing same issue Uri.parse() doesn&#39;t return the original Uri. And I am not able to upload the video to the server.","body":"Facing same issue Uri.parse() doesn&#39;t return the original Uri. And I am not able to upload the video to the server."}],"tags":[],"owner":{"account_id":422812,"reputation":4228,"user_id":801803,"accept_rate":100,"display_name":"Srichand Yella"},"comment_count":4,"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1308550917,"creation_date":1308511614,"answer_id":6404624,"question_id":6404275,"body_markdown":"Store the URI as a string in the database and then load it later.\r\n\r\n    // This will get the uri in a string format\r\n    String s = mUri.toString();\r\n\r\nWhen you retrieve the string from the database, rebuild the URI like this:\r\n\r\n    // This will decode the string into a URI\r\n    Uri mUri = Uri.parse(s);\r\n\r\nHope that helps. Good luck!","title":"Android: Save android.net.Uri object to Database","body":"<p>Store the URI as a string in the database and then load it later.</p>\n\n<pre><code>// This will get the uri in a string format\nString s = mUri.toString();\n</code></pre>\n\n<p>When you retrieve the string from the database, rebuild the URI like this:</p>\n\n<pre><code>// This will decode the string into a URI\nUri mUri = Uri.parse(s);\n</code></pre>\n\n<p>Hope that helps. Good luck!</p>\n"}],"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13580,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":6404624,"answer_count":1,"score":19,"last_activity_date":1690198929,"creation_date":1308507654,"question_id":6404275,"body_markdown":"What i m trying to do is get the selected ringtone from the user, set an AlarmManager alarm to play that ringtone when the alarm goes Off. but I need to save the ringtone in the database so I can reset all the alarms after phone reboot.\r\n\r\n my question is what is the best way to save the ringtone Uri to the database to retrieve later?\r\n\r\nI tried the followings:\r\n\r\n1) save the ringtone title in the DB and then retrieve it and append it to a default ringtone path. but the issue, is that the ringtone might be loaded from a different location\r\n2) Storing the uri scheme, scheme spefici part and fragment and then call Uri.fromParts to create the Uri.\r\n3) create an inputStream, byte[] array from the Uri and saving it as a blob and then reading it back and cast the result to Uri\r\n\r\nnone of these works.\r\n\r\nYour help is much appreciated.\r\n","title":"Android: Save android.net.Uri object to Database","body":"<p>What i m trying to do is get the selected ringtone from the user, set an AlarmManager alarm to play that ringtone when the alarm goes Off. but I need to save the ringtone in the database so I can reset all the alarms after phone reboot.</p>\n\n<p>my question is what is the best way to save the ringtone Uri to the database to retrieve later?</p>\n\n<p>I tried the followings:</p>\n\n<p>1) save the ringtone title in the DB and then retrieve it and append it to a default ringtone path. but the issue, is that the ringtone might be loaded from a different location\n2) Storing the uri scheme, scheme spefici part and fragment and then call Uri.fromParts to create the Uri.\n3) create an inputStream, byte[] array from the Uri and saving it as a blob and then reading it back and cast the result to Uri</p>\n\n<p>none of these works.</p>\n\n<p>Your help is much appreciated.</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":4723232,"reputation":870,"user_id":4214037,"accept_rate":91,"display_name":"32cupo"},"score":3,"creation_date":1485429768,"post_id":37098428,"comment_id":70926383,"body_markdown":"Possible duplicate of [Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning](http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning\">Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning</a>"}],"answers":[{"tags":[],"owner":{"account_id":466002,"reputation":20226,"user_id":870483,"accept_rate":81,"display_name":"Nishu Tayal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1462723245,"creation_date":1462723245,"answer_id":37101853,"question_id":37098428,"body_markdown":"Move your compiled native library files to $HADOOP_HOME/lib folder.\r\n\r\nThen set your environment variables by editing .bashrc file\r\n\r\n    export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib  \r\n    export HADOOP_OPTS=&quot;$HADOOP_OPTS -Djava.library.path=$HADOOP_HOME/lib&quot;\r\n\r\nMake sure your compiled native library files are in $HADOOP_HOME/lib folder.\r\n\r\nIt should fix the issue.\r\n","title":"Hadoop: Unable to load native-hadoop library for your platform","body":"<p>Move your compiled native library files to $HADOOP_HOME/lib folder.</p>\n\n<p>Then set your environment variables by editing .bashrc file</p>\n\n<pre><code>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib  \nexport HADOOP_OPTS=\"$HADOOP_OPTS -Djava.library.path=$HADOOP_HOME/lib\"\n</code></pre>\n\n<p>Make sure your compiled native library files are in $HADOOP_HOME/lib folder.</p>\n\n<p>It should fix the issue.</p>\n"},{"tags":[],"owner":{"account_id":2930914,"reputation":1941,"user_id":4029265,"accept_rate":37,"display_name":"Ishan Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1462772023,"creation_date":1462772023,"answer_id":37108338,"question_id":37098428,"body_markdown":"Try to load the hadoop jars-&quot;hadoop-common.jar and hadoop-core.jar&quot; to your class path. You can simply do it in eclipse ans while creating a jar file those jars will be referenced automatically.","title":"Hadoop: Unable to load native-hadoop library for your platform","body":"<p>Try to load the hadoop jars-\"hadoop-common.jar and hadoop-core.jar\" to your class path. You can simply do it in eclipse ans while creating a jar file those jars will be referenced automatically.</p>\n"},{"tags":[],"owner":{"account_id":7408255,"reputation":7,"user_id":5636509,"display_name":"strom"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1483741303,"creation_date":1483736292,"answer_id":41514233,"question_id":37098428,"body_markdown":"edit the file `hadoop-env.sh` in `/usr/local/etc/hadoop`\r\n\r\nAdding Hadoop library into `LD_LIBRARY_PATH` :\r\n\r\n    export LD_LIBRARY_PATH=/usr/local/hadoop/lib/native/:$LD_LIBRARY_PATH\r\n\r\ntry it, works for me\r\n","title":"Hadoop: Unable to load native-hadoop library for your platform","body":"<p>edit the file <code>hadoop-env.sh</code> in <code>/usr/local/etc/hadoop</code></p>\n\n<p>Adding Hadoop library into <code>LD_LIBRARY_PATH</code> :</p>\n\n<pre><code>export LD_LIBRARY_PATH=/usr/local/hadoop/lib/native/:$LD_LIBRARY_PATH\n</code></pre>\n\n<p>try it, works for me</p>\n"},{"comments":[{"owner":{"display_name":"user3025039"},"score":1,"creation_date":1552770612,"post_id":45205881,"comment_id":97140167,"body_markdown":"I configured hadoop on raspberry where none of the library files are native and while it all works it&#39;s nice to suppress the warnings. Many Thanks","body":"I configured hadoop on raspberry where none of the library files are native and while it all works it&#39;s nice to suppress the warnings. Many Thanks"}],"tags":[],"owner":{"account_id":11370022,"reputation":11,"user_id":8335821,"display_name":"Mike Onuorah"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500530874,"creation_date":1500528521,"answer_id":45205881,"question_id":37098428,"body_markdown":"Add the commands lines below to `hadoop-env.sh`, it should suppress the errors encountered\r\n\r\n    export HADOOP_HOME_WARN_SUPPRESS=1\r\n    export HADOOP_ROOT_LOGGER=&quot;WARN,DRFA&quot;\r\n","title":"Hadoop: Unable to load native-hadoop library for your platform","body":"<p>Add the commands lines below to <code>hadoop-env.sh</code>, it should suppress the errors encountered</p>\n\n<pre><code>export HADOOP_HOME_WARN_SUPPRESS=1\nexport HADOOP_ROOT_LOGGER=\"WARN,DRFA\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"score":0,"creation_date":1690455432,"post_id":76754122,"comment_id":135357700,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76754122/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29080188,"reputation":1,"user_id":22276415,"display_name":"user22276415"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690198860,"creation_date":1690198860,"answer_id":76754122,"question_id":37098428,"body_markdown":"I had this error. \r\n\r\nI solved it by updating the winutils.exe and hadoop.dll files to the later version.\r\n:) \r\n\r\nhttps://github.com/kontext-tech/winutils/tree/master/hadoop-3.3.1\r\n(where I was able to find different versions)","title":"Hadoop: Unable to load native-hadoop library for your platform","body":"<p>I had this error.</p>\n<p>I solved it by updating the winutils.exe and hadoop.dll files to the later version.\n:)</p>\n<p><a href=\"https://github.com/kontext-tech/winutils/tree/master/hadoop-3.3.1\" rel=\"nofollow noreferrer\">https://github.com/kontext-tech/winutils/tree/master/hadoop-3.3.1</a>\n(where I was able to find different versions)</p>\n"}],"owner":{"account_id":8401123,"reputation":71,"user_id":6306296,"display_name":"El Mehdi Belgasmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29539,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1690198860,"creation_date":1462700709,"question_id":37098428,"body_markdown":"I&#39;ve installed Hadoop 2.7.2 single node on Ubuntu and I want to run the java wordcount program. The compilation and the creation of the jar file are done succesfully, but when I run the jar file on Hadoop I receive this message:\r\n\r\n    WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n\r\nI set environment variables by editing .bashrc file:\r\n\r\n    export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib\r\n\r\nWhen I type hadoop checknative -a I get this:\r\n\r\n    hadoop: true /usr/local/hadoop/lib/native/libhadoop.so.1.0.0\r\n    zlib: true /lib/x86_64-linux-gnu/libz.so.1\r\n    snappy: false \r\n    lz4: true revision:99\r\n    bzip2: false\r\n    openssl: true /usr/lib/x86_64-linux-gnu/libcrypto.so\r\n\r\n    16/05/09 00:48:53 INFO util.ExitUtil: Exiting with status 1\r\n\r\n\r\nHadoop version: 2.7.2\r\n\r\nUbuntu version: 14.04\r\n\r\nCould anyone give some clues about the issue?","title":"Hadoop: Unable to load native-hadoop library for your platform","body":"<p>I've installed Hadoop 2.7.2 single node on Ubuntu and I want to run the java wordcount program. The compilation and the creation of the jar file are done succesfully, but when I run the jar file on Hadoop I receive this message:</p>\n\n<pre><code>WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n</code></pre>\n\n<p>I set environment variables by editing .bashrc file:</p>\n\n<pre><code>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib\n</code></pre>\n\n<p>When I type hadoop checknative -a I get this:</p>\n\n<pre><code>hadoop: true /usr/local/hadoop/lib/native/libhadoop.so.1.0.0\nzlib: true /lib/x86_64-linux-gnu/libz.so.1\nsnappy: false \nlz4: true revision:99\nbzip2: false\nopenssl: true /usr/lib/x86_64-linux-gnu/libcrypto.so\n\n16/05/09 00:48:53 INFO util.ExitUtil: Exiting with status 1\n</code></pre>\n\n<p>Hadoop version: 2.7.2</p>\n\n<p>Ubuntu version: 14.04</p>\n\n<p>Could anyone give some clues about the issue?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7877,"page":291,"page_size":100}
