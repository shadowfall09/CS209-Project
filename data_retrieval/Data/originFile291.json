{"items":[{"tags":["java","spring","spring-boot","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693414787,"post_id":76752704,"comment_id":135758996,"body_markdown":"You shouldn&#39;t have needed to put in the agent - spring should do that for you. See https://www.baeldung.com/spring-eclipselink and https://stackoverflow.com/a/6425337/496099 , the later of which states you need to be sure you do not access the classes within the persistence unit before accessing the Spring context or they will be loaded without weaving.","body":"You shouldn&#39;t have needed to put in the agent - spring should do that for you. See <a href=\"https://www.baeldung.com/spring-eclipselink\" rel=\"nofollow noreferrer\">baeldung.com/spring-eclipselink</a> and <a href=\"https://stackoverflow.com/a/6425337/496099\">stackoverflow.com/a/6425337/496099</a> , the later of which states you need to be sure you do not access the classes within the persistence unit before accessing the Spring context or they will be loaded without weaving."}],"owner":{"account_id":12992842,"reputation":39,"user_id":9391532,"display_name":"Suyash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690187709,"creation_date":1690187709,"question_id":76752704,"body_markdown":"I have a springboot app(java11, spring5.3.23, eclipselink2.6.7) which on runtime reverts lazy setting on all ManyToOne associations.\r\n\r\n&gt; Reverting the lazy setting on the OneToOne or ManyToOne attribute\r\n\r\n\r\nMy **persistence.xml** has following properties:\r\n\r\n```\r\n&lt;property name=&quot;eclipselink.weaving&quot; value=&quot;true&quot;/&gt;\r\n&lt;property name=&quot;eclipselink.weaving.internal&quot; value=&quot;false&quot;/&gt;\r\n&lt;property name=&quot;eclipselink.weaving.fetchgroups&quot; value=&quot;false&quot;/&gt;\r\n```\r\n\r\nAlso, I have this configuration(simplified version below), which on runtime sets weaving to true\r\n\r\n\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties(&quot;oracle&quot;)\r\n@EnableAutoConfiguration\r\n@EnableTransactionManagement\r\n@EnableLoadTimeWeaving(aspectjWeaving = EnableLoadTimeWeaving.AspectJWeaving.ENABLED)\r\npublic class PersistenceConfig\r\n{\r\n\t@Bean\r\n\tpublic PersistenceUnitManager persistenceUnitManager(\r\n\t\t@Qualifier(&quot;temp&quot;) DataSource dataSource, \r\n\t\tLoadTimeWeaver loadTimeWeaver)\r\n\t{\r\n\t\tDefaultPersistenceUnitManager manager = new DefaultPersistenceUnitManager();\r\n\t\tmanager.setPersistenceXmlLocation(&quot;classpath:META-INF/persistence.xml&quot;);\r\n\t\tmanager.setDefaultPersistenceUnitName(&quot;com.model.data&quot;);\r\n\t\tmanager.setDefaultDataSource(dataSource);\r\n\t\tmanager.setLoadTimeWeaver(loadTimeWeaver);\r\n\t\treturn manager;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic EntityManagerFactoryBuilder entityManagerFactoryBuilder(JpaVendorAdapter jpaVendorAdapter, \r\n\t\tPersistenceUnitManager persistenceUnitManager) {\r\n\t\treturn new EntityManagerFactoryBuilder(jpaVendorAdapter, getVendorProperties(), persistenceUnitManager);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n\t\t\tEclipseLinkJpaVendorAdapter jpaVendorAdapter,\r\n\t\t\t@Qualifier(&quot;temp&quot;) DataSource dataSource,\r\n\t\t\tPersistenceUnitManager persistenceUnitManager) {\r\n\t\tLocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n\t\tfactory.setPackagesToScan(new String[] { &quot;com.model.data&quot; });\r\n\t\tfactory.setPersistenceUnitManager(persistenceUnitManager);\r\n\t\tfactory.setJpaVendorAdapter(jpaVendorAdapter);\r\n\t\tfactory.setJpaProperties(getProperties());\r\n\t\tfactory.setDataSource(dataSource);\r\n\t\treturn factory;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic EclipseLinkJpaVendorAdapter jpaVendorAdapter() {\r\n\t\tEclipseLinkJpaVendorAdapter adapter = new EclipseLinkJpaVendorAdapter();\r\n\t\tadapter.setDatabase(Database.ORACLE);\r\n\t\tadapter.setDatabasePlatform(&quot;oracle&quot;);\r\n\t\tadapter.setGenerateDdl(false);\r\n\t\tadapter.setShowSql(true);\r\n\t\treturn adapter;\r\n\t}\r\n\r\n\tprotected Properties getProperties()\r\n\t{\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.putAll(getVendorProperties());\r\n\t\treturn properties;\r\n\t}\r\n\r\n\tprotected  Map&lt;String, Object&gt; getVendorProperties()\r\n\t{\r\n\t\tfinal Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n\r\n\t\tmap.put(PersistenceUnitProperties.WEAVING, &quot;true&quot;);\r\n\t\tmap.put(PersistenceUnitProperties.WEAVING_INTERNAL, &quot;false&quot;);\r\n\r\n\t\treturn map;\r\n\t}\t\r\n```\r\n\r\n\r\n\r\nI have tried following this article to implement dynamic weaving since I only have few classes that are required to be weaved.\r\n\r\nhttps://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving/Dynamic_Weaving\r\n\r\n\r\nUsing following command to run my application(with eclipseLink jar as javaagent):\r\n\r\n&gt; java -javaagent:C:\\Users\\suyash.yadav\\.m2\\repository\\org\\springframework\\spring-instrument\\5.3.23\\spring-instrument-5.3.23.jar -javaagent:C:\\Users\\suyash.yadav\\.m2\\repository\\org\\eclipse\\persistence\\eclipselink\\2.6.7\\eclipselink-2.6.7.jar -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=4004 -jar target\\my-app-name-web-1.2.3-exec.war\r\n\r\n\r\nBut I&#39;m getting following error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n&gt; \r\n&gt; Caused by: java.lang.ClassNotFoundException: javax.persistence.spi.PersistenceUnitInfo\r\n&gt; \r\n&gt; FATAL ERROR in native method: processing of -javaagent failed\r\n&gt; \r\n\r\nAny suggestions on what else I can try here?","title":"Lazy setting are being reverted by EclipseLink on runtime","body":"<p>I have a springboot app(java11, spring5.3.23, eclipselink2.6.7) which on runtime reverts lazy setting on all ManyToOne associations.</p>\n<blockquote>\n<p>Reverting the lazy setting on the OneToOne or ManyToOne attribute</p>\n</blockquote>\n<p>My <strong>persistence.xml</strong> has following properties:</p>\n<pre><code>&lt;property name=&quot;eclipselink.weaving&quot; value=&quot;true&quot;/&gt;\n&lt;property name=&quot;eclipselink.weaving.internal&quot; value=&quot;false&quot;/&gt;\n&lt;property name=&quot;eclipselink.weaving.fetchgroups&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n<p>Also, I have this configuration(simplified version below), which on runtime sets weaving to true</p>\n<pre><code>@Configuration\n@ConfigurationProperties(&quot;oracle&quot;)\n@EnableAutoConfiguration\n@EnableTransactionManagement\n@EnableLoadTimeWeaving(aspectjWeaving = EnableLoadTimeWeaving.AspectJWeaving.ENABLED)\npublic class PersistenceConfig\n{\n    @Bean\n    public PersistenceUnitManager persistenceUnitManager(\n        @Qualifier(&quot;temp&quot;) DataSource dataSource, \n        LoadTimeWeaver loadTimeWeaver)\n    {\n        DefaultPersistenceUnitManager manager = new DefaultPersistenceUnitManager();\n        manager.setPersistenceXmlLocation(&quot;classpath:META-INF/persistence.xml&quot;);\n        manager.setDefaultPersistenceUnitName(&quot;com.model.data&quot;);\n        manager.setDefaultDataSource(dataSource);\n        manager.setLoadTimeWeaver(loadTimeWeaver);\n        return manager;\n    }\n\n    @Bean\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder(JpaVendorAdapter jpaVendorAdapter, \n        PersistenceUnitManager persistenceUnitManager) {\n        return new EntityManagerFactoryBuilder(jpaVendorAdapter, getVendorProperties(), persistenceUnitManager);\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EclipseLinkJpaVendorAdapter jpaVendorAdapter,\n            @Qualifier(&quot;temp&quot;) DataSource dataSource,\n            PersistenceUnitManager persistenceUnitManager) {\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n        factory.setPackagesToScan(new String[] { &quot;com.model.data&quot; });\n        factory.setPersistenceUnitManager(persistenceUnitManager);\n        factory.setJpaVendorAdapter(jpaVendorAdapter);\n        factory.setJpaProperties(getProperties());\n        factory.setDataSource(dataSource);\n        return factory;\n    }\n\n    @Bean\n    public EclipseLinkJpaVendorAdapter jpaVendorAdapter() {\n        EclipseLinkJpaVendorAdapter adapter = new EclipseLinkJpaVendorAdapter();\n        adapter.setDatabase(Database.ORACLE);\n        adapter.setDatabasePlatform(&quot;oracle&quot;);\n        adapter.setGenerateDdl(false);\n        adapter.setShowSql(true);\n        return adapter;\n    }\n\n    protected Properties getProperties()\n    {\n        Properties properties = new Properties();\n        properties.putAll(getVendorProperties());\n        return properties;\n    }\n\n    protected  Map&lt;String, Object&gt; getVendorProperties()\n    {\n        final Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n\n        map.put(PersistenceUnitProperties.WEAVING, &quot;true&quot;);\n        map.put(PersistenceUnitProperties.WEAVING_INTERNAL, &quot;false&quot;);\n\n        return map;\n    }   \n</code></pre>\n<p>I have tried following this article to implement dynamic weaving since I only have few classes that are required to be weaved.</p>\n<p><a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving/Dynamic_Weaving\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving/Dynamic_Weaving</a></p>\n<p>Using following command to run my application(with eclipseLink jar as javaagent):</p>\n<blockquote>\n<p>java -javaagent:C:\\Users\\suyash.yadav.m2\\repository\\org\\springframework\\spring-instrument\\5.3.23\\spring-instrument-5.3.23.jar -javaagent:C:\\Users\\suyash.yadav.m2\\repository\\org\\eclipse\\persistence\\eclipselink\\2.6.7\\eclipselink-2.6.7.jar -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=4004 -jar target\\my-app-name-web-1.2.3-exec.war</p>\n</blockquote>\n<p>But I'm getting following error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException</p>\n<p>Caused by: java.lang.ClassNotFoundException: javax.persistence.spi.PersistenceUnitInfo</p>\n<p>FATAL ERROR in native method: processing of -javaagent failed</p>\n</blockquote>\n<p>Any suggestions on what else I can try here?</p>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1492585680,"creation_date":1337252844,"answer_id":10634542,"question_id":10631806,"body_markdown":"**I found the answer myself :**\n\nI did some extra research about the properties of  `textField` and `rectangle` components. And found that I need to set the following properties.\n\n**For rectangle :**\n\n            &lt;rectangle&gt;\n                &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; ... /&gt;\n            &lt;/rectangle&gt;\n\n**For textField :**\n\n            &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                ...\n            &lt;/textField&gt;\n\nOutput as expected :\n\n![enter image description here][1]\n\n\nThe `&lt;detail&gt; ...&lt;/detail&gt;` section after correction :\n\n    &lt;detail&gt;\n            &lt;band height=&quot;21&quot; splitType=&quot;Stretch&quot;&gt;\n                &lt;rectangle&gt;\n                    &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;21&quot;/&gt;\n                &lt;/rectangle&gt;\n                &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                    &lt;reportElement x=&quot;2&quot; y=&quot;0&quot; width=&quot;84&quot; height=&quot;21&quot;/&gt;\n                    &lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{personName}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;rectangle&gt;\n                    &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;21&quot;/&gt;\n                &lt;/rectangle&gt;\n                &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                    &lt;reportElement x=&quot;90&quot; y=&quot;0&quot; width=&quot;118&quot; height=&quot;21&quot;/&gt;\n                    &lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{address}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n            &lt;/band&gt;\n        &lt;/detail&gt;\n\n\n**UPDATE**\n\nYou can also set property `net.sf.jasperreports.print.keep.full.text` to `true` to achieve that across your all reports.\n\n  [1]: http://i.stack.imgur.com/ZN5sA.png","title":"JasperReport - wrap text to show long text in textfield","body":"<p><strong>I found the answer myself :</strong></p>\n<p>I did some extra research about the properties of  <code>textField</code> and <code>rectangle</code> components. And found that I need to set the following properties.</p>\n<p><strong>For rectangle :</strong></p>\n<pre><code>        &lt;rectangle&gt;\n            &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; ... /&gt;\n        &lt;/rectangle&gt;\n</code></pre>\n<p><strong>For textField :</strong></p>\n<pre><code>        &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n            ...\n        &lt;/textField&gt;\n</code></pre>\n<p>Output as expected :</p>\n<p><img src=\"https://i.stack.imgur.com/ZN5sA.png\" alt=\"enter image description here\" /></p>\n<p>The <code>&lt;detail&gt; ...&lt;/detail&gt;</code> section after correction :</p>\n<pre><code>&lt;detail&gt;\n        &lt;band height=&quot;21&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;21&quot;/&gt;\n            &lt;/rectangle&gt;\n            &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                &lt;reportElement x=&quot;2&quot; y=&quot;0&quot; width=&quot;84&quot; height=&quot;21&quot;/&gt;\n                &lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{personName}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement stretchType=&quot;RelativeToBandHeight&quot; x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;21&quot;/&gt;\n            &lt;/rectangle&gt;\n            &lt;textField isStretchWithOverflow=&quot;true&quot;&gt;\n                &lt;reportElement x=&quot;90&quot; y=&quot;0&quot; width=&quot;118&quot; height=&quot;21&quot;/&gt;\n                &lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{address}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>You can also set property <code>net.sf.jasperreports.print.keep.full.text</code> to <code>true</code> to achieve that across your all reports.</p>\n"},{"tags":[],"owner":{"account_id":937405,"reputation":1453,"user_id":966078,"accept_rate":75,"display_name":"Cid"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1530829887,"creation_date":1347945034,"answer_id":12470718,"question_id":10631806,"body_markdown":"Also you can make the truncation elegant by using the following properties set to the textfield. Check this [sample][1]\r\n\r\n    net.sf.jasperreports.text.truncate.at.char \r\n    net.sf.jasperreports.text.truncate.suffix \r\n    net.sf.jasperreports.print.keep.full.text \r\n\r\n  [1]: https://community.jaspersoft.com/wiki/need-way-text-field-show-much-content-possible-without-word-break-based-truncation\r\n","title":"JasperReport - wrap text to show long text in textfield","body":"<p>Also you can make the truncation elegant by using the following properties set to the textfield. Check this <a href=\"https://community.jaspersoft.com/wiki/need-way-text-field-show-much-content-possible-without-word-break-based-truncation\" rel=\"nofollow noreferrer\">sample</a></p>\n\n<pre><code>net.sf.jasperreports.text.truncate.at.char \nnet.sf.jasperreports.text.truncate.suffix \nnet.sf.jasperreports.print.keep.full.text \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6105736,"reputation":1223,"user_id":4763511,"accept_rate":80,"display_name":"Bu Saeed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629414017,"creation_date":1629414017,"answer_id":68855289,"question_id":10631806,"body_markdown":"Go to the Text Field Properties then set `Text Adjust` to `StretchHeight`.","title":"JasperReport - wrap text to show long text in textfield","body":"<p>Go to the Text Field Properties then set <code>Text Adjust</code> to <code>StretchHeight</code>.</p>\n"},{"tags":[],"owner":{"account_id":16694340,"reputation":19,"user_id":12065996,"display_name":"Jyotiprakash Jena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690187368,"creation_date":1690187368,"answer_id":76752657,"question_id":10631806,"body_markdown":"StretchHeight is truncating my data in the subreport when it falls on the page break\r\n","title":"JasperReport - wrap text to show long text in textfield","body":"<p>StretchHeight is truncating my data in the subreport when it falls on the page break</p>\n"}],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93814,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":10634542,"answer_count":4,"score":39,"last_activity_date":1690187368,"creation_date":1337241085,"question_id":10631806,"body_markdown":"I am using jasper report as reporting tool in my application. And I am wondering how can i wrap the long text by expanding the `reportElement` dynamically into vertical direction ( expanding the row size, not column width). Or Is there any way to achieve this? My approach below is truncating the long text &quot;**Some very long name**&quot;. Can you please give me some suggestions?\r\n\r\n**Output :** \r\n\r\n![enter image description here][1]\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import net.sf.jasperreports.engine.JasperCompileManager;\r\n    import net.sf.jasperreports.engine.JasperFillManager;\r\n    import net.sf.jasperreports.engine.JasperPrint;\r\n    import net.sf.jasperreports.engine.JasperReport;\r\n    import net.sf.jasperreports.engine.data.JRBeanCollectionDataSource;\r\n    import net.sf.jasperreports.engine.design.JasperDesign;\r\n    import net.sf.jasperreports.engine.xml.JRXmlLoader;\r\n    import net.sf.jasperreports.view.JasperViewer;\r\n    \r\n    public class JrUtils {\r\n    \tpublic static void showJrReport(List objectList, String fileName, String title, Map parameters) {\r\n    \t\ttry {\r\n    \r\n    \t\t\tFile f = new File(fileName);\r\n    \t\t\tJasperDesign jasperDesign = JRXmlLoader.load(f.getAbsolutePath());\r\n    \t\t\tJRBeanCollectionDataSource ds = new JRBeanCollectionDataSource(objectList);\r\n    \t\t\tJasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\r\n    \t\t\tJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, ds);\r\n    \t\t\tJasperViewer jv = new JasperViewer(jasperPrint, false);\r\n    \t\t\tjv.setTitle(title);\r\n    \t\t\tjv.setVisible(true);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Person&gt; pList = new ArrayList&lt;Person&gt;();\r\n    \r\n    \t\tPerson p1 = new Person();\r\n    \t\tp1.setPersonName(&quot;Some Name &quot;);\r\n    \t\tp1.setAddress(&quot;Nepal - Address Fits Here&quot;);\r\n    \r\n    \t\tPerson p2 = new Person();\r\n    \t\tp2.setPersonName(&quot;Some very long name&quot;);\r\n    \t\tp2.setAddress(&quot;Nepal - Address Fits Here&quot;);\r\n    \r\n    \t\tpList.add(p1);\r\n    \t\tpList.add(p2);\r\n    \r\n    \t\tshowJrReport(pList, &quot;testReport.jrxml&quot;, &quot;Test Report&quot;, new HashMap&lt;Object, Object&gt;());\r\n    \t}\r\n    \r\n    }\r\n\r\nJasper Report JrXML file - testReport.jrxml :\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;report name&quot; pageWidth=&quot;250&quot; pageHeight=&quot;400&quot; columnWidth=&quot;210&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot;&gt;\r\n    \t&lt;property name=&quot;ireport.zoom&quot; value=&quot;2.0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.y&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;field name=&quot;personName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;address&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;columnHeader&gt;\r\n    \t\t&lt;band height=&quot;23&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;rectangle&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;23&quot;/&gt;\r\n    \t\t\t&lt;/rectangle&gt;\r\n    \t\t\t&lt;rectangle&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;23&quot;/&gt;\r\n    \t\t\t&lt;/rectangle&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;23&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Name]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;23&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Address]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/columnHeader&gt;\r\n    \t&lt;detail&gt;\r\n    \t\t&lt;band height=&quot;21&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;rectangle&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;21&quot;/&gt;\r\n    \t\t\t&lt;/rectangle&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;88&quot; height=&quot;21&quot;/&gt;\r\n    \t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{personName}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;rectangle&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;21&quot;/&gt;\r\n    \t\t\t&lt;/rectangle&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;88&quot; y=&quot;0&quot; width=&quot;122&quot; height=&quot;21&quot;/&gt;\r\n    \t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{address}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/detail&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VjvqJ.png","title":"JasperReport - wrap text to show long text in textfield","body":"<p>I am using jasper report as reporting tool in my application. And I am wondering how can i wrap the long text by expanding the <code>reportElement</code> dynamically into vertical direction ( expanding the row size, not column width). Or Is there any way to achieve this? My approach below is truncating the long text \"<strong>Some very long name</strong>\". Can you please give me some suggestions?</p>\n\n<p><strong>Output :</strong> </p>\n\n<p><img src=\"https://i.stack.imgur.com/VjvqJ.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport net.sf.jasperreports.engine.JasperCompileManager;\nimport net.sf.jasperreports.engine.JasperFillManager;\nimport net.sf.jasperreports.engine.JasperPrint;\nimport net.sf.jasperreports.engine.JasperReport;\nimport net.sf.jasperreports.engine.data.JRBeanCollectionDataSource;\nimport net.sf.jasperreports.engine.design.JasperDesign;\nimport net.sf.jasperreports.engine.xml.JRXmlLoader;\nimport net.sf.jasperreports.view.JasperViewer;\n\npublic class JrUtils {\n    public static void showJrReport(List objectList, String fileName, String title, Map parameters) {\n        try {\n\n            File f = new File(fileName);\n            JasperDesign jasperDesign = JRXmlLoader.load(f.getAbsolutePath());\n            JRBeanCollectionDataSource ds = new JRBeanCollectionDataSource(objectList);\n            JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\n            JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, ds);\n            JasperViewer jv = new JasperViewer(jasperPrint, false);\n            jv.setTitle(title);\n            jv.setVisible(true);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; pList = new ArrayList&lt;Person&gt;();\n\n        Person p1 = new Person();\n        p1.setPersonName(\"Some Name \");\n        p1.setAddress(\"Nepal - Address Fits Here\");\n\n        Person p2 = new Person();\n        p2.setPersonName(\"Some very long name\");\n        p2.setAddress(\"Nepal - Address Fits Here\");\n\n        pList.add(p1);\n        pList.add(p2);\n\n        showJrReport(pList, \"testReport.jrxml\", \"Test Report\", new HashMap&lt;Object, Object&gt;());\n    }\n\n}\n</code></pre>\n\n<p>Jasper Report JrXML file - testReport.jrxml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"report name\" pageWidth=\"250\" pageHeight=\"400\" columnWidth=\"210\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\"&gt;\n    &lt;property name=\"ireport.zoom\" value=\"2.0\"/&gt;\n    &lt;property name=\"ireport.x\" value=\"0\"/&gt;\n    &lt;property name=\"ireport.y\" value=\"0\"/&gt;\n    &lt;field name=\"personName\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"address\" class=\"java.lang.String\"/&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=\"23\" splitType=\"Stretch\"&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"88\" height=\"23\"/&gt;\n            &lt;/rectangle&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement x=\"88\" y=\"0\" width=\"122\" height=\"23\"/&gt;\n            &lt;/rectangle&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"88\" height=\"23\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;text&gt;&lt;![CDATA[Name]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"88\" y=\"0\" width=\"122\" height=\"23\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;text&gt;&lt;![CDATA[Address]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=\"21\" splitType=\"Stretch\"&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"88\" height=\"21\"/&gt;\n            &lt;/rectangle&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"88\" height=\"21\"/&gt;\n                &lt;textElement verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{personName}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;rectangle&gt;\n                &lt;reportElement x=\"88\" y=\"0\" width=\"122\" height=\"21\"/&gt;\n            &lt;/rectangle&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"88\" y=\"0\" width=\"122\" height=\"21\"/&gt;\n                &lt;textElement verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{address}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n"},{"tags":["java","smartcard","javacard"],"answers":[{"tags":[],"owner":{"account_id":19051,"reputation":4117,"user_id":44289,"display_name":"Martin Paljak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534873360,"creation_date":1534873360,"answer_id":51954068,"question_id":51952899,"body_markdown":"There is a very nice document, freely downloadable from oracle.com, titled &quot;Java Card 3 Platform Runtime Environment Specification&quot;\r\n\r\n","title":"Which objects are persistent in Java Card, and when?","body":"<p>There is a very nice document, freely downloadable from oracle.com, titled \"Java Card 3 Platform Runtime Environment Specification\"</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1690187080,"creation_date":1537219083,"answer_id":52375813,"question_id":51952899,"body_markdown":"&gt; **Q**: *Which objects are persisted? Which objects are transient?*\r\n\r\nAll object instance fields are persistent when they are created using `new`. Objects created by the JRE may not be: you&#39;d have to check the Java Card or OS documentation to find out. Note that fields to other objects are *references*. Those references themselves may point to arrays in transient memory or to other objects that contain volatile state.\r\n\r\nArrays are transient if they have been created or defined as being transient (usually by calling `makeTransientXxxArray()`). They are persistent when they are created using `new`.\r\n\r\n&gt; **Q**: *When is an object persisted?*\r\n\r\nUpon creation or during any update. Generally the persistent values are simply put in persistent memory: flash or EEPROM. Any write to flash or EEPROM is persisted directly. Note that the Java Card transaction mechanism can still *roll back* changes to persistent memory.\r\n\r\nThis is very different from Java SE where objects instances are stored in RAM, and therefore need to be persisted *after creation and each update* (if they are persisted at all).\r\n\r\n&gt; **Q:** *For the first part, the question applies to: ...*\r\n\r\nNo, now you&#39;re making it unnecessarily complex. The fields of an object are always persisted. How they are *referred to* doesn&#39;t matter.\r\n\r\nThe *reference itself* may not be persistent, even if the object is. It may be in a transient object array or local variable for instance. If all references are lost then the object cannot be accessed anymore and it becomes eligible for garbage collection. But before it is collected it will still remain in persistent memory.\r\n\r\n&gt; *I assume objects that are directly stored in a transient object array are not persisted. In this case and assuming objects on the stack are persisted, when does the object stored there become not-persisted? Is it persisted at the new Object and un-persisted when being put into the transient object array?*\r\n\r\nConsider the previous answer. There is really no such thing as a &quot;transient object array&quot;. What exists is an array that consists of *references* to other objects. These references may be transient or persistent. The objects referenced may be transient (arrays) or contain references to transient values.\r\n\r\nObjects themselves generally *do not convert from persistent to transient or vice versa*. They don&#39;t care how they are referenced. They only care if their reference count doesn&#39;t become zero, because then they are lost and eligible for garbage collection. This is of course more likely if they are just referenced by a volatile reference in a transient object array or in a local variable.\r\n\r\nThe stack itself is always in transient memory. It includes all local variables (including parameters and return values). But again: it doesn&#39;t contain any objects: it may just contain *transient references* to objects *on the heap*. If those references are lost then the object may be garbage collected.\r\n\r\n---\r\n\r\nNotes:\r\n\r\n - I&#39;m just talking about *classic* Java Card here;\r\n - Java Cards generally don&#39;t run the Garbage Collector automatically - normally you have to call [`JCSystem.requestObjectDeletion`][1] to run it, and then it usually runs during startup where it can take a lot of time;\r\n - Java Card also contains special objects such as the APDU buffer which has it&#39;s own life cycle;\r\n - Generally you will always use *persistent references* to point to objects, as you don&#39;t want to garbage collection to run on Java Card unless at exceptional circumstances.   - Transient arrays are zero&#39;d when they are referenced after a reset. The OS (should) make sure that they are always available.\r\n - The `CLEAR_ON_RESET` arrays keep their contents even if other applets are available. But *this means that the other applets cannot reuse that transient memory, and applets are notoriously RAM starved*. Therefore you should default to `CLEAR_ON_DESELECT` transient arrays unless `CLEAR_ON_RESET` functionality is required for *context switches*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javacard/3.0.5/api/javacard/framework/JCSystem.html#requestObjectDeletion()","title":"Which objects are persistent in Java Card, and when?","body":"<blockquote>\n<p><strong>Q</strong>: <em>Which objects are persisted? Which objects are transient?</em></p>\n</blockquote>\n<p>All object instance fields are persistent when they are created using <code>new</code>. Objects created by the JRE may not be: you'd have to check the Java Card or OS documentation to find out. Note that fields to other objects are <em>references</em>. Those references themselves may point to arrays in transient memory or to other objects that contain volatile state.</p>\n<p>Arrays are transient if they have been created or defined as being transient (usually by calling <code>makeTransientXxxArray()</code>). They are persistent when they are created using <code>new</code>.</p>\n<blockquote>\n<p><strong>Q</strong>: <em>When is an object persisted?</em></p>\n</blockquote>\n<p>Upon creation or during any update. Generally the persistent values are simply put in persistent memory: flash or EEPROM. Any write to flash or EEPROM is persisted directly. Note that the Java Card transaction mechanism can still <em>roll back</em> changes to persistent memory.</p>\n<p>This is very different from Java SE where objects instances are stored in RAM, and therefore need to be persisted <em>after creation and each update</em> (if they are persisted at all).</p>\n<blockquote>\n<p><strong>Q:</strong> <em>For the first part, the question applies to: ...</em></p>\n</blockquote>\n<p>No, now you're making it unnecessarily complex. The fields of an object are always persisted. How they are <em>referred to</em> doesn't matter.</p>\n<p>The <em>reference itself</em> may not be persistent, even if the object is. It may be in a transient object array or local variable for instance. If all references are lost then the object cannot be accessed anymore and it becomes eligible for garbage collection. But before it is collected it will still remain in persistent memory.</p>\n<blockquote>\n<p><em>I assume objects that are directly stored in a transient object array are not persisted. In this case and assuming objects on the stack are persisted, when does the object stored there become not-persisted? Is it persisted at the new Object and un-persisted when being put into the transient object array?</em></p>\n</blockquote>\n<p>Consider the previous answer. There is really no such thing as a &quot;transient object array&quot;. What exists is an array that consists of <em>references</em> to other objects. These references may be transient or persistent. The objects referenced may be transient (arrays) or contain references to transient values.</p>\n<p>Objects themselves generally <em>do not convert from persistent to transient or vice versa</em>. They don't care how they are referenced. They only care if their reference count doesn't become zero, because then they are lost and eligible for garbage collection. This is of course more likely if they are just referenced by a volatile reference in a transient object array or in a local variable.</p>\n<p>The stack itself is always in transient memory. It includes all local variables (including parameters and return values). But again: it doesn't contain any objects: it may just contain <em>transient references</em> to objects <em>on the heap</em>. If those references are lost then the object may be garbage collected.</p>\n<hr />\n<p>Notes:</p>\n<ul>\n<li>I'm just talking about <em>classic</em> Java Card here;</li>\n<li>Java Cards generally don't run the Garbage Collector automatically - normally you have to call <a href=\"https://docs.oracle.com/javacard/3.0.5/api/javacard/framework/JCSystem.html#requestObjectDeletion()\" rel=\"nofollow noreferrer\"><code>JCSystem.requestObjectDeletion</code></a> to run it, and then it usually runs during startup where it can take a lot of time;</li>\n<li>Java Card also contains special objects such as the APDU buffer which has it's own life cycle;</li>\n<li>Generally you will always use <em>persistent references</em> to point to objects, as you don't want to garbage collection to run on Java Card unless at exceptional circumstances.   - Transient arrays are zero'd when they are referenced after a reset. The OS (should) make sure that they are always available.</li>\n<li>The <code>CLEAR_ON_RESET</code> arrays keep their contents even if other applets are available. But <em>this means that the other applets cannot reuse that transient memory, and applets are notoriously RAM starved</em>. Therefore you should default to <code>CLEAR_ON_DESELECT</code> transient arrays unless <code>CLEAR_ON_RESET</code> functionality is required for <em>context switches</em>.</li>\n</ul>\n"}],"owner":{"account_id":6125322,"reputation":1054,"user_id":4777513,"display_name":"Ekleog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":52375813,"answer_count":2,"score":7,"last_activity_date":1690187080,"creation_date":1534868337,"question_id":51952899,"body_markdown":"This question is twofold, but hopefully shouldn&#39;t be unreasonably long to answer, despite its own length. Feel free to answer only part of it, though, and sorry for making it so exhaustive!\r\n\r\n * Which objects are persisted? Which objects are transient?\r\n * When is an object persisted?\r\n\r\nFor the first part, the question applies to:\r\n\r\n * Objects that are stored in an `Applet`\r\n * Objects that are transitively stored in an `Applet`\r\n * Objects that are only stored in stack variables (not referenced, even transitively, from any `Applet`)\r\n * Objects that are stored in an array built with `makeTransientObjectArray`\r\n * Objects that are transitively stored in an array build with `makeTransientObjectArray` (eg. stored in a member variable of an object stored in a `makeTransientObjectArray`)\r\n\r\nFor the second part, it applies depending on the answer of the first question. For instance:\r\n\r\n * I assume objects that are directly stored in a transient object array are not persisted. In this case and assuming objects on the stack are persisted, when does the object stored there become not-persisted? Is it persisted at the `new Object` and un-persisted when being put into the transient object array?\r\n * If an object has references from both a transient object array and an applet, and the applet reference is erased, is the object un-persisted?\r\n\r\nThank you in advance!\r\n\r\n---\r\n\r\nI have looked into the JCRE specification v2.2.2 (the version I&#39;m using), but there are points that are unclear in it (hence the exhaustiveness of this question, as I feel this is more appropriate for a Q/A-style forum):\r\n\r\n * Page 2-2 mentions that the JCRE makes an object persistent when it&#39;s transitively stored in an `Applet`. However, Glossary-7 states that objects are persistent by default. The difference may seem non-observable, but affects the need to garbage-collect or not when a card power cycle is needed anyway.\r\n * Page 5-1 states that the fields of a transient object must never be stored in persistent memory. But it doesn&#39;t state whether this is also true for objects transitively in a transient object array, eg. objects stored in fields of objects in a transient object array.\r\n * Page 5-1, same statements, may conflict with page 2-2, when an object has a reference to it stored both in a transient object array and in an `Applet`.\r\n\r\nThese three questions are respectively equivalent to:\r\n\r\n * part 1 bullet points 3 and 5 (and, depending on the answer, part 2 bullet point 1)\r\n * part 1 bullet point 5\r\n * part 2 bullet point 2","title":"Which objects are persistent in Java Card, and when?","body":"<p>This question is twofold, but hopefully shouldn't be unreasonably long to answer, despite its own length. Feel free to answer only part of it, though, and sorry for making it so exhaustive!</p>\n\n<ul>\n<li>Which objects are persisted? Which objects are transient?</li>\n<li>When is an object persisted?</li>\n</ul>\n\n<p>For the first part, the question applies to:</p>\n\n<ul>\n<li>Objects that are stored in an <code>Applet</code></li>\n<li>Objects that are transitively stored in an <code>Applet</code></li>\n<li>Objects that are only stored in stack variables (not referenced, even transitively, from any <code>Applet</code>)</li>\n<li>Objects that are stored in an array built with <code>makeTransientObjectArray</code></li>\n<li>Objects that are transitively stored in an array build with <code>makeTransientObjectArray</code> (eg. stored in a member variable of an object stored in a <code>makeTransientObjectArray</code>)</li>\n</ul>\n\n<p>For the second part, it applies depending on the answer of the first question. For instance:</p>\n\n<ul>\n<li>I assume objects that are directly stored in a transient object array are not persisted. In this case and assuming objects on the stack are persisted, when does the object stored there become not-persisted? Is it persisted at the <code>new Object</code> and un-persisted when being put into the transient object array?</li>\n<li>If an object has references from both a transient object array and an applet, and the applet reference is erased, is the object un-persisted?</li>\n</ul>\n\n<p>Thank you in advance!</p>\n\n<hr>\n\n<p>I have looked into the JCRE specification v2.2.2 (the version I'm using), but there are points that are unclear in it (hence the exhaustiveness of this question, as I feel this is more appropriate for a Q/A-style forum):</p>\n\n<ul>\n<li>Page 2-2 mentions that the JCRE makes an object persistent when it's transitively stored in an <code>Applet</code>. However, Glossary-7 states that objects are persistent by default. The difference may seem non-observable, but affects the need to garbage-collect or not when a card power cycle is needed anyway.</li>\n<li>Page 5-1 states that the fields of a transient object must never be stored in persistent memory. But it doesn't state whether this is also true for objects transitively in a transient object array, eg. objects stored in fields of objects in a transient object array.</li>\n<li>Page 5-1, same statements, may conflict with page 2-2, when an object has a reference to it stored both in a transient object array and in an <code>Applet</code>.</li>\n</ul>\n\n<p>These three questions are respectively equivalent to:</p>\n\n<ul>\n<li>part 1 bullet points 3 and 5 (and, depending on the answer, part 2 bullet point 1)</li>\n<li>part 1 bullet point 5</li>\n<li>part 2 bullet point 2</li>\n</ul>\n"},{"tags":["java","android","google-maps"],"answers":[{"tags":[],"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690186849,"creation_date":1689920351,"answer_id":76735548,"question_id":76734162,"body_markdown":"Your constructor is malformed.\r\nThis line\r\n\r\n    this.crimeStatus = crimeStatus;\r\n\r\nDoesn&#39;t do anything as long as the list of parameters is missing that property.\r\n\r\nChange\r\n\r\n    public CrimeData(String location, String crimeType, String crimeDetails) {\r\n\r\nTo\r\n\r\n    public CrimeData(String location, String crimeType, String crimeDetails, String crimeStatus) {\r\n\r\nThe same goes for the usage of the constructor:\r\n\r\n    CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails);\r\n\r\nShould be\r\n\r\n    CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails, crimeStatus);","title":"Google Maps API custom markers are not being assigned","body":"<p>Your constructor is malformed.\nThis line</p>\n<pre><code>this.crimeStatus = crimeStatus;\n</code></pre>\n<p>Doesn't do anything as long as the list of parameters is missing that property.</p>\n<p>Change</p>\n<pre><code>public CrimeData(String location, String crimeType, String crimeDetails) {\n</code></pre>\n<p>To</p>\n<pre><code>public CrimeData(String location, String crimeType, String crimeDetails, String crimeStatus) {\n</code></pre>\n<p>The same goes for the usage of the constructor:</p>\n<pre><code>CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails);\n</code></pre>\n<p>Should be</p>\n<pre><code>CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails, crimeStatus);\n</code></pre>\n"}],"owner":{"account_id":28807061,"reputation":9,"user_id":22062684,"display_name":"Aaliyah McAfee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690186849,"creation_date":1689893673,"question_id":76734162,"body_markdown":"I am currently developing a crime map with Java, and want to have custom markers depending on whether a crime is closed or an open case. I&#39;ve added if statements to change the marker picture depending on the crime status. However, they are not currently being assigned to the markers the way I want them to be. \r\n\r\nI should also add that for some reason, i&#39;m recieving the alert that says Variable &#39;crimeStatus&#39; is never used, even though I am using it in this code. \r\n    \r\n        public class CrimeData {\r\n            private String location;\r\n            private String crimeType;\r\n            private String crimeDetails;\r\n    \r\n            private String crimeStatus;\r\n            private double latitude;\r\n            private double longitude;\r\n    \r\n            // Add getters and setters for the above fields\r\n    \r\n            public CrimeData(String location, String crimeType, String crimeDetails) {\r\n                this.location = location;\r\n                this.crimeType = crimeType;\r\n                this.crimeDetails = crimeDetails;\r\n                this.crimeStatus = crimeStatus;\r\n            }\r\n    \r\n            public String getLocation() {\r\n                return location;\r\n            }\r\n    \r\n            public String getCrimeType() {\r\n                return crimeType;\r\n            }\r\n    \r\n            public String getCrimeDetails() {\r\n                return crimeDetails;\r\n            }\r\n    \r\n            public String getCrimeStatus(){\r\n                return crimeStatus;\r\n            }\r\n    \r\n            public double getLatitude() {\r\n                return latitude;\r\n            }\r\n    \r\n            public void setLatitude(double latitude) {\r\n                this.latitude = latitude;\r\n            }\r\n    \r\n            public double getLongitude() {\r\n                return longitude;\r\n            }\r\n    \r\n            public void setLongitude(double longitude) {\r\n                this.longitude = longitude;\r\n            }\r\n        }\r\n---\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mapView = findViewById(R.id.mapView);\r\n            mapView.onCreate(savedInstanceState);\r\n            mapView.getMapAsync(this);\r\n    \r\n            crimeDataList = new ArrayList&lt;&gt;();\r\n    \r\n            // Populate crimeDataList with data from the table\r\n            // TODO: Fetch data from the table and populate the crimeDataList\r\n    \r\n            // Set up GeoApiContext with your Google Maps Geocoding API key\r\n            geoApiContext = new GeoApiContext.Builder()\r\n                    .apiKey(&quot;XXXXXXXXXXX&quot;)\r\n                    .build();\r\n    \r\n            // Fetch data from the table and populate the crimeDataList\r\n    // Example data\r\n            String[][] tableData = {\r\n                    {&quot;XXXXXXX&quot;, &quot;Criminal Trespass&quot;, &quot;Occurred From 6/14/23, 1:43AM to 6/14/23, 1:43AM&quot;, &quot;Closed&quot;},\r\n                    {&quot;XXXXXXXXX&quot;, &quot;Theft&quot;, &quot;Occurred From 6/13/23, 10:00AM to 6/13/23, 11:00AM&quot;, &quot;Open&quot;},\r\n                    {&quot;XXXXXXX&quot;, &quot;Assault&quot;, &quot;Occurred From 6/12/23, 8:00PM to 6/12/23, 9:00PM&quot;, &quot;Closed&quot;},\r\n    \r\n            };\r\n    \r\n            for (String[] rowData : tableData) {\r\n                String location = rowData[0];\r\n                String crimeType = rowData[1];\r\n                String crimeDetails = rowData[2];\r\n                String crimeStatus = rowData[3];\r\n                // Create a new CrimeData object and add it to the list\r\n                CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails);\r\n                crimeDataList.add(crimeData);\r\n            }\r\n        }\r\n        private BitmapDescriptor BitmapFromVector(Context applicationContext, int baseline_warning_24) {\r\n            // below line is use to generate a drawable.\r\n            Drawable vectorDrawable = ContextCompat.getDrawable(applicationContext, baseline_warning_24);\r\n    \r\n            // below line is use to set bounds to our vector\r\n            // drawable.\r\n            vectorDrawable.setBounds(\r\n                    0, 0, vectorDrawable.getIntrinsicWidth(),\r\n                    vectorDrawable.getIntrinsicHeight());\r\n    \r\n            // below line is use to create a bitmap for our\r\n            // drawable which we have added.\r\n            Bitmap bitmap = Bitmap.createBitmap(\r\n                    vectorDrawable.getIntrinsicWidth(),\r\n                    vectorDrawable.getIntrinsicHeight(),\r\n                    Bitmap.Config.ARGB_8888);\r\n    \r\n            // below line is use to add bitmap in our canvas.\r\n            Canvas canvas = new Canvas(bitmap);\r\n    \r\n            // below line is use to draw our\r\n            // vector drawable in canvas.\r\n            vectorDrawable.draw(canvas);\r\n    \r\n            // after generating our bitmap we are returning our\r\n            // bitmap.\r\n            return BitmapDescriptorFactory.fromBitmap(bitmap);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onMapReady(GoogleMap map) {\r\n            googleMap = map;\r\n    \r\n            map.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n            map.setBuildingsEnabled(true);\r\n            map.setIndoorEnabled(true);\r\n            map.setTrafficEnabled(true);\r\n            map.getUiSettings().setZoomControlsEnabled(true);\r\n            map.getUiSettings().setCompassEnabled(true);\r\n            map.getUiSettings().setMyLocationButtonEnabled(true);\r\n    \r\n            try {\r\n                boolean success = map.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.mapstyle));\r\n                if (!success) {\r\n                    // Handle map style loading failure\r\n                }\r\n            } catch (Resources.NotFoundException e) {\r\n                // Handle exception if the JSON file is not found\r\n            }\r\n    \r\n    \r\n            // Set the custom InfoWindowAdapter\r\n            googleMap.setInfoWindowAdapter(this);\r\n    \r\n            // Create a custom BitmapDescriptor from your PNG image\r\n            BitmapDescriptor customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.exclamation);\r\n    \r\n            googleMap.addMarker(new MarkerOptions()\r\n                    .position(new LatLng(XXXXX, XXXXXX))\r\n                    .title(&quot;Marker Title&quot;)\r\n                    .snippet(&quot;Marker Snippet&quot;)\r\n                    .icon(BitmapFromVector(getApplicationContext(), R.drawable.baseline_warning_24)));\r\n            // Iterate over the crime data and geocode each location\r\n            for (CrimeData crimeData : crimeDataList) {\r\n                String locationName = crimeData.getLocation();\r\n                if (crimeData.getCrimeStatus() == &quot;Closed&quot;) {\r\n                    customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.baseline_check_circle_24);\r\n                }\r\n                if (crimeData.getCrimeStatus() == &quot;Open Case&quot;) {\r\n                    customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.baseline_warning_24);\r\n                }\r\n                try {\r\n                    // Perform geocoding request\r\n                    GeocodingResult[] results = GeocodingApi.geocode(geoApiContext, locationName).await();\r\n    \r\n                    if (results != null &amp;&amp; results.length &gt; 0) {\r\n                        // Extract the coordinates from the first result\r\n                        double latitude = results[0].geometry.location.lat;\r\n                        double longitude = results[0].geometry.location.lng;\r\n    \r\n                        // Create a LatLng object for the marker&#39;s position\r\n                        LatLng markerPosition = new LatLng(latitude, longitude);\r\n    \r\n    \r\n                        MarkerOptions markerOptions = new MarkerOptions()\r\n                                .position(markerPosition)\r\n                                .title(crimeData.getCrimeType())\r\n                                .snippet(crimeData.getCrimeDetails())\r\n                                .icon(customMarkerIcon);\r\n    \r\n                        // Add the marker to the map\r\n                        map.addMarker(markerOptions);\r\n    \r\n    \r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            // Move the camera to the first marker position (if available)\r\n            if (crimeDataList.size() &gt; 0) {\r\n                CrimeData firstCrimeData = crimeDataList.get(0);\r\n                LatLng firstMarkerPosition = new LatLng(firstCrimeData.getLatitude(), firstCrimeData.getLongitude());\r\n    \r\n                map.moveCamera(CameraUpdateFactory.newLatLngZoom(firstMarkerPosition, 12f));\r\n            }\r\n            LatLng location = new LatLng(XXXX, XXXX);\r\n            CameraPosition cameraPosition = new CameraPosition.Builder()\r\n                    .target(location)\r\n                    .zoom(16) // Set your desired zoom level\r\n                    .build();\r\n            map.moveCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\r\n    \r\n        }\r\nWhat should I change to fix this?","title":"Google Maps API custom markers are not being assigned","body":"<p>I am currently developing a crime map with Java, and want to have custom markers depending on whether a crime is closed or an open case. I've added if statements to change the marker picture depending on the crime status. However, they are not currently being assigned to the markers the way I want them to be.</p>\n<p>I should also add that for some reason, i'm recieving the alert that says Variable 'crimeStatus' is never used, even though I am using it in this code.</p>\n<pre><code>    public class CrimeData {\n        private String location;\n        private String crimeType;\n        private String crimeDetails;\n\n        private String crimeStatus;\n        private double latitude;\n        private double longitude;\n\n        // Add getters and setters for the above fields\n\n        public CrimeData(String location, String crimeType, String crimeDetails) {\n            this.location = location;\n            this.crimeType = crimeType;\n            this.crimeDetails = crimeDetails;\n            this.crimeStatus = crimeStatus;\n        }\n\n        public String getLocation() {\n            return location;\n        }\n\n        public String getCrimeType() {\n            return crimeType;\n        }\n\n        public String getCrimeDetails() {\n            return crimeDetails;\n        }\n\n        public String getCrimeStatus(){\n            return crimeStatus;\n        }\n\n        public double getLatitude() {\n            return latitude;\n        }\n\n        public void setLatitude(double latitude) {\n            this.latitude = latitude;\n        }\n\n        public double getLongitude() {\n            return longitude;\n        }\n\n        public void setLongitude(double longitude) {\n            this.longitude = longitude;\n        }\n    }\n</code></pre>\n<hr />\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mapView = findViewById(R.id.mapView);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync(this);\n\n        crimeDataList = new ArrayList&lt;&gt;();\n\n        // Populate crimeDataList with data from the table\n        // TODO: Fetch data from the table and populate the crimeDataList\n\n        // Set up GeoApiContext with your Google Maps Geocoding API key\n        geoApiContext = new GeoApiContext.Builder()\n                .apiKey(&quot;XXXXXXXXXXX&quot;)\n                .build();\n\n        // Fetch data from the table and populate the crimeDataList\n// Example data\n        String[][] tableData = {\n                {&quot;XXXXXXX&quot;, &quot;Criminal Trespass&quot;, &quot;Occurred From 6/14/23, 1:43AM to 6/14/23, 1:43AM&quot;, &quot;Closed&quot;},\n                {&quot;XXXXXXXXX&quot;, &quot;Theft&quot;, &quot;Occurred From 6/13/23, 10:00AM to 6/13/23, 11:00AM&quot;, &quot;Open&quot;},\n                {&quot;XXXXXXX&quot;, &quot;Assault&quot;, &quot;Occurred From 6/12/23, 8:00PM to 6/12/23, 9:00PM&quot;, &quot;Closed&quot;},\n\n        };\n\n        for (String[] rowData : tableData) {\n            String location = rowData[0];\n            String crimeType = rowData[1];\n            String crimeDetails = rowData[2];\n            String crimeStatus = rowData[3];\n            // Create a new CrimeData object and add it to the list\n            CrimeData crimeData = new CrimeData(location, crimeType, crimeDetails);\n            crimeDataList.add(crimeData);\n        }\n    }\n    private BitmapDescriptor BitmapFromVector(Context applicationContext, int baseline_warning_24) {\n        // below line is use to generate a drawable.\n        Drawable vectorDrawable = ContextCompat.getDrawable(applicationContext, baseline_warning_24);\n\n        // below line is use to set bounds to our vector\n        // drawable.\n        vectorDrawable.setBounds(\n                0, 0, vectorDrawable.getIntrinsicWidth(),\n                vectorDrawable.getIntrinsicHeight());\n\n        // below line is use to create a bitmap for our\n        // drawable which we have added.\n        Bitmap bitmap = Bitmap.createBitmap(\n                vectorDrawable.getIntrinsicWidth(),\n                vectorDrawable.getIntrinsicHeight(),\n                Bitmap.Config.ARGB_8888);\n\n        // below line is use to add bitmap in our canvas.\n        Canvas canvas = new Canvas(bitmap);\n\n        // below line is use to draw our\n        // vector drawable in canvas.\n        vectorDrawable.draw(canvas);\n\n        // after generating our bitmap we are returning our\n        // bitmap.\n        return BitmapDescriptorFactory.fromBitmap(bitmap);\n    }\n\n\n    @Override\n    public void onMapReady(GoogleMap map) {\n        googleMap = map;\n\n        map.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n        map.setBuildingsEnabled(true);\n        map.setIndoorEnabled(true);\n        map.setTrafficEnabled(true);\n        map.getUiSettings().setZoomControlsEnabled(true);\n        map.getUiSettings().setCompassEnabled(true);\n        map.getUiSettings().setMyLocationButtonEnabled(true);\n\n        try {\n            boolean success = map.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.mapstyle));\n            if (!success) {\n                // Handle map style loading failure\n            }\n        } catch (Resources.NotFoundException e) {\n            // Handle exception if the JSON file is not found\n        }\n\n\n        // Set the custom InfoWindowAdapter\n        googleMap.setInfoWindowAdapter(this);\n\n        // Create a custom BitmapDescriptor from your PNG image\n        BitmapDescriptor customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.exclamation);\n\n        googleMap.addMarker(new MarkerOptions()\n                .position(new LatLng(XXXXX, XXXXXX))\n                .title(&quot;Marker Title&quot;)\n                .snippet(&quot;Marker Snippet&quot;)\n                .icon(BitmapFromVector(getApplicationContext(), R.drawable.baseline_warning_24)));\n        // Iterate over the crime data and geocode each location\n        for (CrimeData crimeData : crimeDataList) {\n            String locationName = crimeData.getLocation();\n            if (crimeData.getCrimeStatus() == &quot;Closed&quot;) {\n                customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.baseline_check_circle_24);\n            }\n            if (crimeData.getCrimeStatus() == &quot;Open Case&quot;) {\n                customMarkerIcon = BitmapDescriptorFactory.fromResource(R.drawable.baseline_warning_24);\n            }\n            try {\n                // Perform geocoding request\n                GeocodingResult[] results = GeocodingApi.geocode(geoApiContext, locationName).await();\n\n                if (results != null &amp;&amp; results.length &gt; 0) {\n                    // Extract the coordinates from the first result\n                    double latitude = results[0].geometry.location.lat;\n                    double longitude = results[0].geometry.location.lng;\n\n                    // Create a LatLng object for the marker's position\n                    LatLng markerPosition = new LatLng(latitude, longitude);\n\n\n                    MarkerOptions markerOptions = new MarkerOptions()\n                            .position(markerPosition)\n                            .title(crimeData.getCrimeType())\n                            .snippet(crimeData.getCrimeDetails())\n                            .icon(customMarkerIcon);\n\n                    // Add the marker to the map\n                    map.addMarker(markerOptions);\n\n\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        // Move the camera to the first marker position (if available)\n        if (crimeDataList.size() &gt; 0) {\n            CrimeData firstCrimeData = crimeDataList.get(0);\n            LatLng firstMarkerPosition = new LatLng(firstCrimeData.getLatitude(), firstCrimeData.getLongitude());\n\n            map.moveCamera(CameraUpdateFactory.newLatLngZoom(firstMarkerPosition, 12f));\n        }\n        LatLng location = new LatLng(XXXX, XXXX);\n        CameraPosition cameraPosition = new CameraPosition.Builder()\n                .target(location)\n                .zoom(16) // Set your desired zoom level\n                .build();\n        map.moveCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\n\n    }\n</code></pre>\n<p>What should I change to fix this?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689588046,"post_id":76701932,"comment_id":135229556,"body_markdown":"Running integration tests will be done with maven-failsafe-plugin and not via maven-surefire-plugin ...that means also as already mentioned to run in the integration test phase assuming that you have configured the maven-failsafe-plugin correctly.","body":"Running integration tests will be done with maven-failsafe-plugin and not via maven-surefire-plugin ...that means also as already mentioned to run in the integration test phase assuming that you have configured the maven-failsafe-plugin correctly."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689575314,"creation_date":1689575314,"answer_id":76701969,"question_id":76701932,"body_markdown":"Integration tests will be executed in the `verify`phase, not in the `test phase (see the [maven lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html)):\r\n\r\n&gt;verify - run any checks on results of integration tests to ensure quality criteria are met\r\n\r\nSo you have to call \r\n\r\n    mvn verify -Dtest=AAITCase","title":"What can I do when I want to run run ITCase with mvn?","body":"<p>Integration tests will be executed in the <code>verify</code>phase, not in the `test phase (see the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">maven lifecycle</a>):</p>\n<blockquote>\n<p>verify - run any checks on results of integration tests to ensure quality criteria are met</p>\n</blockquote>\n<p>So you have to call</p>\n<pre><code>mvn verify -Dtest=AAITCase\n</code></pre>\n"}],"owner":{"account_id":23501513,"reputation":13,"user_id":17551352,"display_name":"EchoLi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76701969,"answer_count":1,"score":1,"last_activity_date":1690186830,"creation_date":1689574909,"question_id":76701932,"body_markdown":"When we run utcase, we can use `mvn test -Dtest=AA`, but if we want to run ITCase, what can we do?\r\n\r\nI use `mvn test -Dtest=AAITCase`, but this case will not run.\r\n\r\nSo when I want to run ITCase, what can we do?\r\n\r\n * mvn version: 3.2.5\r\n * Java version: JDK 8\r\n\r\n\r\n","title":"What can I do when I want to run run ITCase with mvn?","body":"<p>When we run utcase, we can use <code>mvn test -Dtest=AA</code>, but if we want to run ITCase, what can we do?</p>\n<p>I use <code>mvn test -Dtest=AAITCase</code>, but this case will not run.</p>\n<p>So when I want to run ITCase, what can we do?</p>\n<ul>\n<li>mvn version: 3.2.5</li>\n<li>Java version: JDK 8</li>\n</ul>\n"},{"tags":["java","spring-boot","system-design","modular-design"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690186549,"post_id":76751535,"comment_id":135312830,"body_markdown":"I&#39;m afraid your questions 1 and 3 are off topic on StackOverflow (opinion-based and seeking recommendations for books etc. respectively), so I didn&#39;t go into them. I tried my best to help you with question 2, though.","body":"I&#39;m afraid your questions 1 and 3 are off topic on StackOverflow (opinion-based and seeking recommendations for books etc. respectively), so I didn&#39;t go into them. I tried my best to help you with question 2, though."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690186426,"creation_date":1690186426,"answer_id":76752542,"question_id":76751535,"body_markdown":"I&#39;d say there are 2 main ways to structure such an application.\r\n\r\nOne is microservices. You build each module as its own, self-contained application, and deploy only the applications you need. Alternatively, you build each microservice as a multi-tenant service, and give clients access to certain services based on the features they need.\r\n\r\nAnother is basically still a monolithic application, but with custom builds. You separate your modules out into different code-modules within your project, then you use a mechanism such as service loading to only load the modules for the specific client. With Spring, that&#39;s fairly easy to do since it already does classpath scanning.","title":"Modular design pattern - Java spring boot","body":"<p>I'd say there are 2 main ways to structure such an application.</p>\n<p>One is microservices. You build each module as its own, self-contained application, and deploy only the applications you need. Alternatively, you build each microservice as a multi-tenant service, and give clients access to certain services based on the features they need.</p>\n<p>Another is basically still a monolithic application, but with custom builds. You separate your modules out into different code-modules within your project, then you use a mechanism such as service loading to only load the modules for the specific client. With Spring, that's fairly easy to do since it already does classpath scanning.</p>\n"}],"owner":{"account_id":2652556,"reputation":97,"user_id":2293883,"accept_rate":38,"display_name":"Lucy_learning"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690186426,"creation_date":1690175076,"question_id":76751535,"body_markdown":"I am trying to implement the modular design using Java Spring boot. My application has multiple modules, let&#39;s say it has modules A, B, C, and D.\r\nI would like to manage modules dynamically according to my client&#39;s order. For example, If a client orders only modules A and B, then I would be able to deploy only those modules.\r\n\r\nIt is completely new for me, I used to write monolithic applications.\r\nSo I wonder\r\n\r\n1. How are real-world applications like ERP which has so many features developed?\r\n2. What is the best approach, design solution for designing such an application?\r\n3. Where can I find learning materials? I have been googling around but I could find that I am looking for.\r\n\r\n\r\n","title":"Modular design pattern - Java spring boot","body":"<p>I am trying to implement the modular design using Java Spring boot. My application has multiple modules, let's say it has modules A, B, C, and D.\nI would like to manage modules dynamically according to my client's order. For example, If a client orders only modules A and B, then I would be able to deploy only those modules.</p>\n<p>It is completely new for me, I used to write monolithic applications.\nSo I wonder</p>\n<ol>\n<li>How are real-world applications like ERP which has so many features developed?</li>\n<li>What is the best approach, design solution for designing such an application?</li>\n<li>Where can I find learning materials? I have been googling around but I could find that I am looking for.</li>\n</ol>\n"},{"tags":["java","spring","performance","spring-boot"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1508152357,"post_id":46766826,"comment_id":80483044,"body_markdown":"So it also takes 10 minutes before the application actually starts to do anything, or is it only the loading of the classes which is spread out over time?","body":"So it also takes 10 minutes before the application actually starts to do anything, or is it only the loading of the classes which is spread out over time?"},{"owner":{"account_id":1282025,"reputation":8750,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"score":0,"creation_date":1508152530,"post_id":46766826,"comment_id":80483147,"body_markdown":"Hi @Gimby, Yes - the application becomes available only after these 10 minutes. Basically for first 7 minutes or so, it doesn&#39;t print anything on the console. Even if I run in -Ddebug mode, the actual autoconfiguration starts much later","body":"Hi @Gimby, Yes - the application becomes available only after these 10 minutes. Basically for first 7 minutes or so, it doesn&#39;t print anything on the console. Even if I run in -Ddebug mode, the actual autoconfiguration starts much later"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1508156158,"post_id":46766826,"comment_id":80485456,"body_markdown":"I don&#39;t have an explanation for it to be honest, this is highly unusual and not something I can reproduce locally. If it weren&#39;t so unlikely I&#39;d be starting to doubt the integrity of the hard drive.","body":"I don&#39;t have an explanation for it to be honest, this is highly unusual and not something I can reproduce locally. If it weren&#39;t so unlikely I&#39;d be starting to doubt the integrity of the hard drive."},{"owner":{"account_id":1282025,"reputation":8750,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"score":0,"creation_date":1508157284,"post_id":46766826,"comment_id":80486210,"body_markdown":"@Gimby, my hard drive is encrypted and also running Semantec Endpoint Protection. Could it be because of that? The only thing I am not sure of is why `mv spring-boot:run` is so fast - it also scans the jar files - the only difference being a wrapper jar with BOOT-INF","body":"@Gimby, my hard drive is encrypted and also running Semantec Endpoint Protection. Could it be because of that? The only thing I am not sure of is why <code>mv spring-boot:run</code> is so fast - it also scans the jar files - the only difference being a wrapper jar with BOOT-INF"},{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":1,"creation_date":1508159853,"post_id":46766826,"comment_id":80487994,"body_markdown":"Get hold of a Java profiler such as YourKit and profile the app to find out what&#39;s taking the time. This is honestly the only way you are going to find out exactly what the issue is.","body":"Get hold of a Java profiler such as YourKit and profile the app to find out what&#39;s taking the time. This is honestly the only way you are going to find out exactly what the issue is."},{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":2,"creation_date":1508160104,"post_id":46766826,"comment_id":80488173,"body_markdown":"PS virus checkers are the spawn of the devil when they come across jar files, as these are basically zip files with thousands of entries within them.\n\nYou could also try disabling jar scanning if you are using Tomcat:\n\nhttps://stackoverflow.com/questions/43264890/after-upgrade-from-spring-boot-1-2-to-1-5-2-filenotfoundexception-during-tomcat#43280452","body":"PS virus checkers are the spawn of the devil when they come across jar files, as these are basically zip files with thousands of entries within them.  You could also try disabling jar scanning if you are using Tomcat:  <a href=\"https://stackoverflow.com/questions/43264890/after-upgrade-from-spring-boot-1-2-to-1-5-2-filenotfoundexception-during-tomcat#43280452\" title=\"after upgrade from spring boot 1 2 to 1 5 2 filenotfoundexception during tomcat%2343280452\">stackoverflow.com/questions/43264890/&hellip;</a>"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1508199441,"post_id":46766826,"comment_id":80507560,"body_markdown":"@Saptarshi Encryption is usually pretty fast and especially when using AES with an AES-NI capable CPU. Reading a RAID with full speed increases the CPU usage by maybe 1% (it used to be 4% without AES-NI). I&#39;d bet on the anti-virus.","body":"@Saptarshi Encryption is usually pretty fast and especially when using AES with an AES-NI capable CPU. Reading a RAID with full speed increases the CPU usage by maybe 1% (it used to be 4% without AES-NI). I&#39;d bet on the anti-virus."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1509721584,"post_id":46766826,"comment_id":81147406,"body_markdown":"Today [this](https://stackoverflow.com/questions/47095448/spring-component-scan-autowire-in-signed-jar-files-is-slow) question was asked. Might it be the same problem?","body":"Today <a href=\"https://stackoverflow.com/questions/47095448/spring-component-scan-autowire-in-signed-jar-files-is-slow\">this</a> question was asked. Might it be the same problem?"},{"owner":{"account_id":3279752,"reputation":531,"user_id":2760626,"display_name":"Sahil Nagpal"},"score":0,"creation_date":1515447639,"post_id":46766826,"comment_id":83296364,"body_markdown":"@Saptarshi I am facing a similar issue. The fat jar takes approximately 7-8 times as compared to mvn spring-boot:run. Did you find the root cause for this? I also checked the number of times the resolving of resources takes and surprisingly it is equal in both cases. Please do let me know if you could somehow improve the performance. Thanks :)","body":"@Saptarshi I am facing a similar issue. The fat jar takes approximately 7-8 times as compared to mvn spring-boot:run. Did you find the root cause for this? I also checked the number of times the resolving of resources takes and surprisingly it is equal in both cases. Please do let me know if you could somehow improve the performance. Thanks :)"},{"owner":{"account_id":1282025,"reputation":8750,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"score":0,"creation_date":1515494791,"post_id":46766826,"comment_id":83311915,"body_markdown":"@SahilNagpal - For me the same jar was taking only 10-15 seconds in Linux systems. I suspect the problem I faced in Windows system due to the installed Semantec antivirus only. Although it is true that the same Windows system can run other jar files (non-springboot) without such delay in loading. So, I couldn&#39;t really find the root cause.","body":"@SahilNagpal - For me the same jar was taking only 10-15 seconds in Linux systems. I suspect the problem I faced in Windows system due to the installed Semantec antivirus only. Although it is true that the same Windows system can run other jar files (non-springboot) without such delay in loading. So, I couldn&#39;t really find the root cause."}],"answers":[{"tags":[],"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690185635,"creation_date":1690185635,"answer_id":76752445,"question_id":46766826,"body_markdown":"We are pretty sure loading `8,000` classes can never need `10 minutes`. \r\n\r\nIn one production system, we loaded `70,000` classes in about `65 seconds`.\r\n- Depending on the CPU and System (`Windows` vs `MacOS`), the class loader speed for mass classes could be different\r\n- It is possible in a slower machine it takes `2-3` times slower\r\n- So loaded `70,000` classes may need as worse as `200 seconds` in current hardware (`July 2023`)\r\n\r\nBased on the statistics above, load `8,000` classes should need `7` - `22` seconds\r\n\r\n\r\nSo why the Application startup need 10 minutes?\r\n- It must be caused by some other reason\r\n- If you are using Java `8` or later, try to start the application with `JFR`\r\n  - [Monitoring Java Applications with Flight Recorder][1]\r\n- Then open the JFR file using [VisualVM][2]\r\n- Then we can find out exactly the real slowness reason \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-flight-recorder-monitoring\r\n  [2]: https://visualvm.github.io/","title":"Springboot class loading performance from fat jar","body":"<p>We are pretty sure loading <code>8,000</code> classes can never need <code>10 minutes</code>.</p>\n<p>In one production system, we loaded <code>70,000</code> classes in about <code>65 seconds</code>.</p>\n<ul>\n<li>Depending on the CPU and System (<code>Windows</code> vs <code>MacOS</code>), the class loader speed for mass classes could be different</li>\n<li>It is possible in a slower machine it takes <code>2-3</code> times slower</li>\n<li>So loaded <code>70,000</code> classes may need as worse as <code>200 seconds</code> in current hardware (<code>July 2023</code>)</li>\n</ul>\n<p>Based on the statistics above, load <code>8,000</code> classes should need <code>7</code> - <code>22</code> seconds</p>\n<p>So why the Application startup need 10 minutes?</p>\n<ul>\n<li>It must be caused by some other reason</li>\n<li>If you are using Java <code>8</code> or later, try to start the application with <code>JFR</code>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-flight-recorder-monitoring\" rel=\"nofollow noreferrer\">Monitoring Java Applications with Flight Recorder</a></li>\n</ul>\n</li>\n<li>Then open the JFR file using <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">VisualVM</a></li>\n<li>Then we can find out exactly the real slowness reason</li>\n</ul>\n"}],"owner":{"account_id":1282025,"reputation":8750,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690185635,"creation_date":1508145494,"question_id":46766826,"body_markdown":"I have a Springboot application that has an embedded Tomcat to host some Jersey REST service. When I run the fat jar, around 8000 classes load in around 10 minutes. The class loading is extremely slow. However, other java apps seem faster. What should I do to improve the class loading performance from the fat jar? When I run the app with `mvn spring-boot:run`, it&#39;s quite fast.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HU7Tg.jpg","title":"Springboot class loading performance from fat jar","body":"<p>I have a Springboot application that has an embedded Tomcat to host some Jersey REST service. When I run the fat jar, around 8000 classes load in around 10 minutes. The class loading is extremely slow. However, other java apps seem faster. What should I do to improve the class loading performance from the fat jar? When I run the app with <code>mvn spring-boot:run</code>, it's quite fast.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HU7Tg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HU7Tg.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690174411,"post_id":76751465,"comment_id":135311094,"body_markdown":"You havent provided log4j. I suggest you use maven to manage your dependencies.","body":"You havent provided log4j. I suggest you use maven to manage your dependencies."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1690176261,"post_id":76751465,"comment_id":135311263,"body_markdown":"Move your import statements to the top of your file (under your package statement, if you have one). Java files have structure -- you can&#39;t just randomly jumble statements together and expect good results.","body":"Move your import statements to the top of your file (under your package statement, if you have one). Java files have structure -- you can&#39;t just randomly jumble statements together and expect good results."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690185518,"post_id":76751465,"comment_id":135312630,"body_markdown":"@MarsAtomic I&#39;d expect those are two different files (because two public classes), the OP just put them together in one code block.","body":"@MarsAtomic I&#39;d expect those are two different files (because two public classes), the OP just put them together in one code block."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690185630,"creation_date":1690185630,"answer_id":76752444,"question_id":76751465,"body_markdown":"`Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager` means that Apache POI requires another dependency, Log4j. You need to provide that jar.\r\n\r\nTo make managing dependencies easy, you should use Gradle or (if you must) Maven.\r\n","title":"Open Excel Woorkbook with Java","body":"<p><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager</code> means that Apache POI requires another dependency, Log4j. You need to provide that jar.</p>\n<p>To make managing dependencies easy, you should use Gradle or (if you must) Maven.</p>\n"}],"owner":{"account_id":29032995,"reputation":21,"user_id":22239480,"display_name":"u.rnad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690185630,"creation_date":1690174029,"question_id":76751465,"body_markdown":"I made a simple version of the main Problem i had with initializing a Workbook with a curtain File Path String. It just has to lead to an Excel File. But when i Debug it Pops many Exceptions although all library s like Apache POI and Commons IO are given in the Project because they are required in the first place to even start it.\r\n\r\nI used a Main where i&#180;d call the WorkbookTest class.\r\n\r\nCode:\r\n\r\n```\r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args){\r\n        new WorkbookTest();\r\n    }\r\n}\r\n\r\nimport org.apache.poi.ss.usermodel.Sheet;\r\nimport org.apache.poi.ss.usermodel.Workbook;\r\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\npublic class WorkbookTest {\r\n    String sourceFilePath = &quot;C:\\\\Users\\\\KRD1PAS\\\\Desktop\\\\Ausgabe best&#252;ckt.xls&quot;;\r\n    String targetFilePath = &quot;C:\\\\Users\\\\KRD1PAS\\\\Desktop\\\\Import.xls&quot;;\r\n\r\n    Workbook targetWorkbook;\r\n    Workbook sourceWorkbook;\r\n\r\n\r\n\r\n    {\r\n        try {\r\n            sourceWorkbook = WorkbookFactory.create(new FileInputStream(sourceFilePath));\r\n            targetWorkbook = WorkbookFactory.create(new FileInputStream(targetFilePath));\r\n\r\n            Sheet sourceWorksheet = sourceWorkbook.getSheet(&quot;Ausgabeliste&quot;);\r\n            Sheet targetWorksheet = targetWorkbook.getSheet(&quot;Ersatzteilliste Gesamt&quot;);\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nI tried to initialize the Workbook, but like i said many Exceptions would Pop up for some reason, the exceptions are listed underneath.\r\n\r\nExceptions:\r\n```\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\r\n\tat org.apache.poi.util.IOUtils.&lt;clinit&gt;(IOUtils.java:43)\r\n\tat org.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\r\n\tat WorkbookTest.&lt;init&gt;(WorkbookTest.java:19)\r\n\tat Main.main(Main.java:3)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 6 more\r\n\r\n```\r\n","title":"Open Excel Woorkbook with Java","body":"<p>I made a simple version of the main Problem i had with initializing a Workbook with a curtain File Path String. It just has to lead to an Excel File. But when i Debug it Pops many Exceptions although all library s like Apache POI and Commons IO are given in the Project because they are required in the first place to even start it.</p>\n<p>I used a Main where id call the WorkbookTest class.</p>\n<p>Code:</p>\n<pre><code>\n\npublic class Main {\n    public static void main(String[] args){\n        new WorkbookTest();\n    }\n}\n\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class WorkbookTest {\n    String sourceFilePath = &quot;C:\\\\Users\\\\KRD1PAS\\\\Desktop\\\\Ausgabe bestckt.xls&quot;;\n    String targetFilePath = &quot;C:\\\\Users\\\\KRD1PAS\\\\Desktop\\\\Import.xls&quot;;\n\n    Workbook targetWorkbook;\n    Workbook sourceWorkbook;\n\n\n\n    {\n        try {\n            sourceWorkbook = WorkbookFactory.create(new FileInputStream(sourceFilePath));\n            targetWorkbook = WorkbookFactory.create(new FileInputStream(targetFilePath));\n\n            Sheet sourceWorksheet = sourceWorkbook.getSheet(&quot;Ausgabeliste&quot;);\n            Sheet targetWorksheet = targetWorkbook.getSheet(&quot;Ersatzteilliste Gesamt&quot;);\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n\n</code></pre>\n<p>I tried to initialize the Workbook, but like i said many Exceptions would Pop up for some reason, the exceptions are listed underneath.</p>\n<p>Exceptions:</p>\n<pre><code>\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\n    at org.apache.poi.util.IOUtils.&lt;clinit&gt;(IOUtils.java:43)\n    at org.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\n    at WorkbookTest.&lt;init&gt;(WorkbookTest.java:19)\n    at Main.main(Main.java:3)\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 6 more\n\n</code></pre>\n"},{"tags":["java","gradle","jar","shadowjar"],"owner":{"account_id":210918,"reputation":632,"user_id":462794,"accept_rate":82,"display_name":"Bussiere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690184898,"creation_date":1690184898,"question_id":76752367,"body_markdown":"Here is my problem, my build gradle with shadowjar works well execept that the src/main/ressources is not added to the jar.\r\n\r\nWhen i try to add include(&#39;src/main/ressources&#39;) it gives me a main class not found when launching the shadowjar task.\r\n\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n        }\r\n        dependencies {\r\n            classpath &quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;application&#39;\r\n    apply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\n    \r\n    // gradle 5.0+ compatibility\r\n    configurations.implementation.setCanBeResolved(true)\r\n    // gradle 9.0+ compatibility\r\n    // for replacing configurations.implementation.setCanBeResolved(true)\r\n    // resolve all dependencies at configuration time\r\n    \r\n    \r\n    \r\n    // tag::repositories[]\r\n    repositories { \r\n        mavenCentral() \r\n    }\r\n    \r\n    \r\n    \r\n    application {\r\n        // Define the main class for the application.\r\n        mainClass = &#39;d20.App&#39;\r\n    }\r\n    \r\n    // end::repositories[]\r\n    \r\n    // tag::dependencies[]\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    dependencies {\r\n        implementation &quot;joda-time:joda-time:+&quot;\r\n        testImplementation &quot;junit:junit:+&quot;\r\n        implementation &#39;com.google.code.gson:gson:+&#39;\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    // tag::jar[]\r\n    jar {\r\n        archiveBaseName = &#39;d20&#39;\r\n        archiveVersion =  &#39;0.1.0&#39;\r\n        manifest {\r\n        attributes(\r\n          &#39;Class-Path&#39;: configurations.implementation.collect { it.getName() }.join(&#39; &#39;),\r\n          &#39;Main-Class&#39;: &#39;d20.HelloWorld&#39;\r\n        )\r\n      }\r\n    }\r\n    \r\n    \r\n    shadowJar {\r\n    \r\n       archiveBaseName.set(&#39;oldschooljava&#39;)\r\n    \r\n    \r\n    \r\n       archiveClassifier.set(&#39;&#39;)\r\n       archiveVersion.set(&#39;&#39;)\r\n          \r\n    }\r\n    \r\n    // end::jar[]\r\n    \r\n    // tag::dependencies[]\r\n    //sourceCompatibility = 1.8\r\n    //targetCompatibility = 1.8\r\n    \r\n    //dependencies {\r\n        //implementation &quot;joda-time:joda-time:2.2&quot;\r\n        //testImplementation &quot;junit:junit:4.12&quot;\r\n    //}\r\n\r\n\r\nHow can i include the ressources folder in my jar with shadowjar ?\r\n\r\n\r\nregards\r\n","title":"How to add ressource folder with json with the shadowjar plugin in gradle","body":"<p>Here is my problem, my build gradle with shadowjar works well execept that the src/main/ressources is not added to the jar.</p>\n<p>When i try to add include('src/main/ressources') it gives me a main class not found when launching the shadowjar task.</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath &quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;\n    }\n}\n\n\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'application'\napply plugin: 'com.github.johnrengelman.shadow'\n\n// gradle 5.0+ compatibility\nconfigurations.implementation.setCanBeResolved(true)\n// gradle 9.0+ compatibility\n// for replacing configurations.implementation.setCanBeResolved(true)\n// resolve all dependencies at configuration time\n\n\n\n// tag::repositories[]\nrepositories { \n    mavenCentral() \n}\n\n\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'd20.App'\n}\n\n// end::repositories[]\n\n// tag::dependencies[]\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\n    implementation &quot;joda-time:joda-time:+&quot;\n    testImplementation &quot;junit:junit:+&quot;\n    implementation 'com.google.code.gson:gson:+'\n\n}\n\n\n\n// tag::jar[]\njar {\n    archiveBaseName = 'd20'\n    archiveVersion =  '0.1.0'\n    manifest {\n    attributes(\n      'Class-Path': configurations.implementation.collect { it.getName() }.join(' '),\n      'Main-Class': 'd20.HelloWorld'\n    )\n  }\n}\n\n\nshadowJar {\n\n   archiveBaseName.set('oldschooljava')\n\n\n\n   archiveClassifier.set('')\n   archiveVersion.set('')\n      \n}\n\n// end::jar[]\n\n// tag::dependencies[]\n//sourceCompatibility = 1.8\n//targetCompatibility = 1.8\n\n//dependencies {\n    //implementation &quot;joda-time:joda-time:2.2&quot;\n    //testImplementation &quot;junit:junit:4.12&quot;\n//}\n</code></pre>\n<p>How can i include the ressources folder in my jar with shadowjar ?</p>\n<p>regards</p>\n"},{"tags":["java","sql","jparepository"],"comments":[{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1690173901,"post_id":76751404,"comment_id":135311057,"body_markdown":"Can you try `findByQuestionContainingOrAnswerContaining(String question) `","body":"Can you try <code>findByQuestionContainingOrAnswerContaining(String question) </code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690174119,"post_id":76751404,"comment_id":135311073,"body_markdown":"You need to stem your search term. But are you happy for rat to match crates?","body":"You need to stem your search term. But are you happy for rat to match crates?"},{"owner":{"account_id":29077600,"reputation":11,"user_id":22274340,"display_name":"Stasis2"},"score":0,"creation_date":1690195498,"post_id":76751404,"comment_id":135314743,"body_markdown":"The application, unfortunately, does not start with the request that you suggest. \nI need to be able to find not only words that exactly match those that are present in the Question object, but also words with the same root.\nFor example, you don&#39;t remember the exact word, but you do remember something similar. \nThis is exactly the kind of search I am trying to implement, as far as possible using JpaRepository methods","body":"The application, unfortunately, does not start with the request that you suggest.  I need to be able to find not only words that exactly match those that are present in the Question object, but also words with the same root. For example, you don&#39;t remember the exact word, but you do remember something similar.  This is exactly the kind of search I am trying to implement, as far as possible using JpaRepository methods"}],"owner":{"account_id":29077600,"reputation":11,"user_id":22274340,"display_name":"Stasis2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690184476,"creation_date":1690172756,"question_id":76751404,"body_markdown":"I have a sql questions table. The table accordingly contains Questions objects. Each object contains the question and answer strings. \r\n\r\n\r\n\r\n\r\n```\r\npackage com.example.kr2db.model;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport java.util.Objects;\r\n@Entity\r\npublic class Question {\r\n    @Id\r\n    @GeneratedValue\r\n    private int id;\r\n    private String question;\r\n    private String answer;\r\n\r\n    public Question() {\r\n    }\r\n\r\n    public Question(String question, String answer) {\r\n        this.question = question;\r\n        this.answer = answer;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nIn the repository interface, I need a method that will search the table for a Question object containing a word or phrase from the question or answer string. How do I do this? \r\n\r\n\r\nI use List&lt;Question&gt; findQuestionByQuestionContainsIgnoreCase(String question); \r\nbut it&#39;s not exactly what I need. Because let&#39;s say the word &quot;rat&quot; is present in the table and in the question line, but if I write &quot;rats&quot;, then such a query does not work.\r\n\r\n```\r\npackage com.example.kr2db.repository;\r\n\r\nimport com.example.kr2db.model.Question;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.List;\r\n\r\npublic interface QuestionRepository extends JpaRepository&lt;Question, Integer&gt; {\r\n    List&lt;Question&gt; findQuestionByQuestionContainsIgnoreCase(String question);\r\n}\r\n```","title":"JpaRepository. methods findBy","body":"<p>I have a sql questions table. The table accordingly contains Questions objects. Each object contains the question and answer strings.</p>\n<pre><code>package com.example.kr2db.model;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport java.util.Objects;\n@Entity\npublic class Question {\n    @Id\n    @GeneratedValue\n    private int id;\n    private String question;\n    private String answer;\n\n    public Question() {\n    }\n\n    public Question(String question, String answer) {\n        this.question = question;\n        this.answer = answer;\n    }\n</code></pre>\n<p>In the repository interface, I need a method that will search the table for a Question object containing a word or phrase from the question or answer string. How do I do this?</p>\n<p>I use List findQuestionByQuestionContainsIgnoreCase(String question);\nbut it's not exactly what I need. Because let's say the word &quot;rat&quot; is present in the table and in the question line, but if I write &quot;rats&quot;, then such a query does not work.</p>\n<pre><code>package com.example.kr2db.repository;\n\nimport com.example.kr2db.model.Question;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.List;\n\npublic interface QuestionRepository extends JpaRepository&lt;Question, Integer&gt; {\n    List&lt;Question&gt; findQuestionByQuestionContainsIgnoreCase(String question);\n}\n</code></pre>\n"},{"tags":["java","angular","spring","rendering","angular-material-table"],"owner":{"account_id":18912023,"reputation":31,"user_id":13797899,"display_name":"Ashish Vashisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690184344,"creation_date":1690183837,"question_id":76752257,"body_markdown":"Angular table data not updating. Only updates when I switch component and come back to the table component.\r\n\r\nTried using this.table.renderRows() but getting table object is undefined.\r\n\r\nBelow is the code - there are 3 Ts classes which are extending base main and filter class.\r\n\r\n```\r\nimport { Directive, Injector, Input, OnInit, ViewChild} from &quot;@angular/core&quot;;\r\nimport {BaseComponent} from &quot;./base.component&quot;;\r\nimport {take, takeUntil} from &quot;rxjs/operators&quot;;\r\nimport {ActivatedRoute, Params, Router} from &quot;@angular/router&quot;;\r\nimport {Observable} from &quot;rxjs&quot;;\r\nimport {PaginatedCollection} from &quot;./shared/models/dto/paginated-collection&quot;;\r\nimport { MatTable, MatTableDataSource } from &quot;@angular/material/table&quot;;\r\nimport {MatSort} from &#39;@angular/material/sort&#39;;\r\nimport { ChangeDetectorRef } from &#39;@angular/core&#39;\r\n\r\n@Directive()\r\nexport abstract class BaseCollectionComponent&lt;T&gt; extends BaseComponent implements OnInit{\r\n\r\n  @Input() public dataSource: MatTableDataSource&lt;T&gt;;\r\n  public collection: PaginatedCollection&lt;T&gt;;\r\n  public currentPage: number;\r\n  public pageSize: number;\r\n\r\n  protected searchString: string;\r\n\r\n  public counter: number = 0;\r\n\r\n  @ViewChild(MatSort) sort: MatSort;\r\n\r\n  readonly route: ActivatedRoute;\r\n  readonly router: Router;\r\n\r\n  protected constructor(injector: Injector, public ref: ChangeDetectorRef) {\r\n    super();\r\n    this.route = injector.get(ActivatedRoute);\r\n    this.router = injector.get(Router);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.fillTable();\r\n  }\r\n\r\n  fillTable(){\r\n    this.route.queryParams\r\n      .pipe(take(1))\r\n      .subscribe((params: Params) =&gt; {\r\n        const page = params[&#39;page&#39;] ? +params[&#39;page&#39;] : 1;\r\n        this.pageSize = params[&#39;size&#39;] ? +params[&#39;size&#39;] : 15;\r\n        this.searchString = params[&#39;s&#39;] ? params[&#39;s&#39;] : null;\r\n        this.dataSource = new MatTableDataSource();\r\n        this.setPage(page);\r\n        //setInterval(() =&gt; this.setPage(page), 3000);\r\n      });\r\n  }\r\n\r\n  protected abstract fetch(): Observable&lt;PaginatedCollection&lt;T&gt;&gt;\r\n\r\n  public search(searchString: string) {\r\n    if (this.searchString !== searchString) {\r\n      this.searchString = searchString;\r\n      this.setPage(1);\r\n    }\r\n  }\r\n\r\n  public searchReset(): void {\r\n    this.searchString = null;\r\n    this.setPage(1);\r\n  }\r\n\r\n  public setPageSize(size: number): void {\r\n    this.pageSize = size;\r\n    this.setPage(1);\r\n  }\r\n\r\n  public setPage(page: number): void {\r\n    this.currentPage = page;\r\n    this.fetch()\r\n      .pipe(takeUntil(this.ngUnsubscribe))\r\n      .subscribe(\r\n        (res: PaginatedCollection&lt;T&gt;) =&gt; {\r\n          this.handleSuccess(res);\r\n          this.ref.detectChanges();},\r\n        (error: string) =&gt; this.handleError(error)\r\n      );\r\n  }\r\n\r\n  protected deleteSuccess(id: string, msg: string): void {\r\n    this.setSuccessMessage(msg);\r\n    this.collection.items = this.collection.items\r\n      .filter((item: any) =&gt; item.id !== id);\r\n  }\r\n\r\n   handleSuccess(collection: PaginatedCollection&lt;T&gt;): void {\r\n    this.collection = collection;\r\n    this.dataSource.data = this.collection.items;\r\n    this.dataSource.sort = this.sort;\r\n    this.setQueryParamsInUrl();\r\n    console.log(this.dataSource.data);\r\n  }\r\n\r\n  private setQueryParamsInUrl(): void {\r\n    const queryParams = {\r\n      page: this.currentPage,\r\n      size: this.pageSize\r\n    };\r\n\r\n    this.router.navigate([], {\r\n      relativeTo: this.route,\r\n      queryParams: queryParams,\r\n      queryParamsHandling: &#39;merge&#39;\r\n    });\r\n  }\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\nimport {ChangeDetectorRef, Component, Injector, OnInit} from &#39;@angular/core&#39;;\r\nimport {TransactionService} from &quot;../../shared/services/transaction.service&quot;;\r\nimport {BaseCollectionComponent} from &quot;../../base.collection.component&quot;;\r\nimport {Transaction} from &quot;../../shared/models/entity/transaction&quot;;\r\nimport {PaginatedCollection} from &quot;../../shared/models/dto/paginated-collection&quot;;\r\nimport { Observable } from &#39;rxjs&#39;;\r\nimport {ViewChild} from &#39;@angular/core&#39;;\r\nimport {MatSort} from &#39;@angular/material/sort&#39;;\r\nimport { MatTable, MatTableDataSource } from &#39;@angular/material/table&#39;;\r\n\r\n@Component({\r\n  selector: &#39;app-transactions&#39;,\r\n  templateUrl: &#39;./transactions.component.html&#39;,\r\n  styleUrls: [&#39;./transactions.component.scss&#39;]\r\n})\r\nexport class TransactionsComponent extends BaseCollectionComponent&lt;Transaction&gt; {\r\n  displayedColumns: string[] = [&#39;webshopOrderNumber&#39;, &#39;lastModified&#39;, &#39;state&#39;, &#39;paymentMethod&#39;, &#39;monetaryData.discount&#39;, &#39;monetaryData.grandTotalGross&#39;, &#39;monetaryData.applicationFeeIncl&#39;, &#39;details&#39;, &#39;actions&#39; ];  \r\n  enabled: boolean = true;\r\n\r\n  @ViewChild(&#39;table&#39;) table: MatTable&lt;any&gt;;\r\n\r\n\r\n  constructor(\r\n    private transactionService: TransactionService,\r\n    injector: Injector,\r\n    ref: ChangeDetectorRef,\r\n  ) {\r\n    super(injector, ref);\r\n  }\r\n  \r\n  updateTable(){\r\n   // this.dataSource.data = [];\r\n   this.fillTable();\r\n   this.dataSource = new MatTableDataSource(this.collection.items);\r\n   this.table.renderRows();\r\n  }\r\n\r\n  protected fetch(): Observable&lt;PaginatedCollection&lt;Transaction&gt;&gt; {\r\n    return this.transactionService.getTransactionsWithFilters(this.currentPage, this.pageSize, this.transactionService.filters);\r\n  }\r\n}\r\n```\r\n\r\n```\r\nimport {ChangeDetectorRef, Component, Injector, Input, NgZone} from &#39;@angular/core&#39;;\r\nimport {FormGroup, FormControl} from &#39;@angular/forms&#39;;\r\nimport { TransactionService } from &#39;../../services/transaction.service&#39;;\r\nimport { TransactionsComponent } from &#39;src/app/content/transactions/transactions.component&#39;;\r\nimport { DatePipe } from &#39;@angular/common&#39;;\r\nimport { TransactionState } from &#39;../../models/entity/enum/transaction-state&#39;;\r\nimport { PaymentMethod } from &#39;../../models/entity/enum/payment-method&#39;;\r\n\r\n@Component({\r\n  selector: &#39;app-filter&#39;,\r\n  templateUrl: &#39;./filter.component.html&#39;,\r\n  styleUrls: [&#39;./filter.component.scss&#39;]\r\n})\r\nexport class FilterComponent extends TransactionsComponent{\r\n\r\n  @Input() visible: boolean;\r\n\r\n  range = new FormGroup({\r\n    start: new FormControl(null),\r\n    end: new FormControl(null),\r\n    state: new FormControl(null),\r\n    method: new FormControl(null),\r\n    order: new FormControl(null)\r\n  });\r\n\r\n  states = Object.keys(TransactionState);\r\n  paymentMethods = Object.keys(PaymentMethod);\r\n  order:String;\r\n\r\n  constructor(private injector: Injector, private service: TransactionService, public datepipe: DatePipe, ref: ChangeDetectorRef) {\r\n    super(service, injector, ref);\r\n  }\r\n\r\n  filter(){\r\n    if(this.range.value.end != null){\r\n    this.service.filters.toDate = this.datepipe.transform(this.range.value.end, &#39;yyyy-MM-dd&#39;);\r\n    }\r\n    if(this.range.value.start != null){\r\n    this.service.filters.fromDate = this.datepipe.transform(this.range.value.start, &#39;yyyy-MM-dd&#39;);\r\n    }\r\n    if(this.range.value.state != null){\r\n    this.service.filters.transactionState = this.range.value.state;\r\n    }\r\n    if(this.range.value.method != null){\r\n      this.service.filters.usedPaymentMethod = this.range.value.method;\r\n    }\r\n    if(this.range.value.order != null){\r\n      this.service.filters.webshopOrderNumber = this.range.value.order;\r\n    }\r\n    this.updateTable();\r\n  }\r\n\r\n  clearFilters(){\r\n    this.service.filters.fromDate = null;\r\n    this.service.filters.toDate = null;\r\n    this.service.filters.transactionState = null;\r\n    this.service.filters.usedPaymentMethod = null;\r\n    this.service.filters.webshopOrderNumber = null;\r\n    this.range.reset();\r\n    this.updateTable();\r\n  }\r\n```\r\n\r\nThis is the html with table belonging to the Transaction component\r\n\r\n```\r\n&lt;section class=&quot;content-header&quot;&gt;\r\n  &lt;div class=&quot;container-fluid&quot;&gt;\r\n    &lt;div class=&quot;row mb-2&quot;&gt;\r\n      &lt;div class=&quot;col-12&quot;&gt;\r\n        &lt;h1&gt;{{&#39;COMPONENTS.TRANSACTIONS.title&#39; | translate}}&lt;/h1&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/section&gt;\r\n\r\n&lt;app-message-display [error]=&quot;error&quot;&gt;&lt;/app-message-display&gt;\r\n\r\n\r\n&lt;section class=&quot;mat-elevation-z8&quot; class=&quot;content mb-5&quot; *ngIf=&quot;collection&quot;&gt;\r\n  &lt;div class=&quot;row&quot;&gt;\r\n    &lt;div class=&quot;col-12&quot;&gt;\r\n      &lt;div class=&quot;card&quot;&gt;\r\n        &lt;div class=&quot;card-header&quot;&gt;\r\n          &lt;div class=&quot;card-tools&quot;&gt;\r\n            &lt;app-page-size [id]=&quot;&#39;page-size-changer&#39;&quot; (sizeChanged)=&quot;setPageSize($event)&quot;&gt;&lt;/app-page-size&gt;\r\n          &lt;/div&gt;\r\n          &lt;div&gt;\r\n            &lt;table #table table mat-table [dataSource]=&quot;dataSource&quot; matSort&gt;\r\n              &lt;ng-container matColumnDef=&quot;webshopOrderNumber&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.order-number&#39; | translate}}&lt;/a&gt;\r\n                &lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;&lt;a class=&quot;link-primary&quot;\r\n                    [routerLink]=&quot;[&#39;/transactions&#39;, row.id]&quot;&gt;{{row.webshopOrderNumber | translate}}&lt;/a&gt;&lt;/td&gt;\r\n                &lt;ng-template #noWebshopId&gt;\r\n                  &lt;td&gt;-&lt;/td&gt;\r\n                &lt;/ng-template&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;lastModified&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.transaction-date&#39; |\r\n                    translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{row.lastModified |\r\n                  date:&#39;dd/MM/yyyy&#39; }}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;state&quot;&gt;\r\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.state&#39; | translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{&#39;ENUM.TRANSACTION-STATE.&#39; +\r\n                  row.state | translate}}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;paymentMethod&quot;&gt;\r\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;\r\n                  &lt;a class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.payment-method&#39; | translate}}&lt;/a&gt;\r\n                &lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{&#39;ENUM.PAYMENT-METHOD.&#39; +\r\n                  (row.paymentMethod | uppercase) | translate}}&lt;/td&gt;\r\n                &lt;ng-template #noPaymentMethod&gt;\r\n                  &lt;td&gt;-&lt;/td&gt;\r\n                &lt;/ng-template&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;monetaryData.discount&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.discount&#39; | translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{row.monetaryData.discount |\r\n                  currency:&#39;EUR&#39;}}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;monetaryData.grandTotalGross&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.total&#39; | translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;\r\n                  {{row.monetaryData.grandTotalGross |\r\n                  currency:&#39;EUR&#39;}}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;monetaryData.applicationFeeIncl&quot;&gt;\r\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\r\n                    class=&quot;hover header-text&quot;&gt;{{&#39;COMPONENTS.TRANSACTIONS.app-fee&#39; | translate}}&lt;/a&gt;&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;\r\n                  {{row.monetaryData.applicationFeeIncl | currency:&#39;EUR&#39;}}&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;details&quot;&gt;\r\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;\r\n                  {{&#39;COMMON.details&#39; | translate}}&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt; &lt;a class=&quot;link-primary&quot;\r\n                    [routerLink]=&quot;[&#39;/transactions&#39;, row.id]&quot;&gt;{{&#39;COMMON.view-details&#39; | translate}}&lt;/a&gt;&lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n              &lt;ng-container matColumnDef=&quot;actions&quot;&gt;\r\n                &lt;th style=&quot;width: 20%&quot; mat-header-cell *matHeaderCellDef mat-sort-header class=&quot;text-right pr-5&quot;&gt;\r\n                  {{&#39;COMMON.actions&#39; | translate}}&lt;/th&gt;\r\n                &lt;td mat-cell *matCellDef=&quot;let row&quot; class=&quot;text-right pr-2&quot;&gt;\r\n                  &lt;div class=&quot;btn-group&quot; dropdown [autoClose]=&quot;true&quot; [isAnimated]=&quot;true&quot; [insideClick]=&quot;false&quot;&gt;\r\n                    &lt;button dropdownToggle type=&quot;button&quot; class=&quot;btn btn-primary dropdown-toggle&quot;&gt;\r\n                      {{&#39;COMMON.actions&#39; | translate}} &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;\r\n                    &lt;/button&gt;\r\n                    &lt;ul *dropdownMenu class=&quot;dropdown-menu dropdown-menu-right&quot; role=&quot;menu&quot;\r\n                      aria-labelledby=&quot;button-basic&quot;&gt;\r\n                      &lt;!-- &lt;li role=&quot;menuitem&quot;&gt;&lt;a class=&quot;dropdown-item&quot; [routerLink]=&quot;[&#39;/transactions&#39;, transaction.id]&quot;&gt;{{&#39;COMMON.view-details&#39; | translate}}&lt;/a&gt;\r\n            &lt;/li&gt; --&gt;\r\n                    &lt;/ul&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/td&gt;\r\n              &lt;/ng-container&gt;\r\n\r\n\r\n              &lt;tr mat-header-row *matHeaderRowDef=&quot;displayedColumns&quot;&gt;&lt;/tr&gt;\r\n              &lt;tr mat-row *matRowDef=&quot;let row; columns: displayedColumns;&quot;&gt;&lt;/tr&gt;\r\n\r\n              &lt;!-- Row shown when there is no matching data. --&gt;\r\n              &lt;tr class=&quot;mat-row&quot; *matNoDataRow&gt;\r\n                &lt;td class=&quot;mat-cell&quot; colspan=&quot;8&quot;&gt;No data matching the filter&lt;/td&gt;\r\n              &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n\r\n            &lt;div class=&quot;card-footer&quot;&gt;\r\n              &lt;app-pagination (pageChange)=&quot;setPage($event)&quot; [collection]=&quot;collection&quot;\r\n                class=&quot;justify-content-center&quot;&gt;&lt;/app-pagination&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n```\r\n\r\nHere is the console output\r\n\r\n```\r\n[Info] Successfully preconnected to https://fonts.gstatic.com/\r\n[Warning] Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming (vendor.js, line 68622)\r\n[Log] Angular is running in development mode. Call enableProdMode() to enable production mode. (vendor.js, line 55406)\r\n[Info] [WDS] Live Reloading enabled. (vendor.js, line 112493)\r\n[Log] Array (15) (main.js, line 327)\r\n[Log] Array (15) (main.js, line 327)\r\n[Error] ERROR  TypeError: undefined is not an object (evaluating &#39;this.table.renderRows&#39;)\r\nTypeError: undefined is not an object (evaluating &#39;this.table.renderRows&#39;)\r\n\tdefaultErrorLogger (vendor.js:33845)\r\n\thandleError (vendor.js:33893)\r\n\thandleError (vendor.js:38304)\r\n\texecuteListenerWithErrorHandling (vendor.js:42677)\r\n\twrapListenerIn_markDirtyAndPreventDefault (vendor.js:42712)\r\n\t(anonymous function) (vendor.js:81271)\r\n\tonInvokeTask (vendor.js:56026)\r\n\trunTask (polyfills.js:187)\r\n\tinvokeTask (polyfills.js:496)\r\n\tinvokeTask (polyfills.js:1609)\r\n\tglobalZoneAwareCallback (polyfills.js:1635)\r\n[Log] Array (15) (main.js, line 327)\r\n[Log] Array (15) (main.js, line 327)\r\n[Error] ERROR  TypeError: undefined is not an object (evaluating &#39;this.table.renderRows&#39;)\r\nTypeError: undefined is not an object (evaluating &#39;this.table.renderRows&#39;)\r\n\tdefaultErrorLogger (vendor.js:33845)\r\n\thandleError (vendor.js:33893)\r\n\thandleError (vendor.js:38304)\r\n\texecuteListenerWithErrorHandling (vendor.js:42677)\r\n\twrapListenerIn_markDirtyAndPreventDefault (vendor.js:42712)\r\n\t(anonymous function) (vendor.js:81271)\r\n\tonInvokeTask (vendor.js:56026)\r\n\trunTask (polyfills.js:187)\r\n\tinvokeTask (polyfills.js:496)\r\n\tinvokeTask (polyfills.js:1609)\r\n\tglobalZoneAwareCallback (polyfills.js:1635)\r\n[Log] Array (15) (main.js, line 327)\r\n[Log] Array (15) (main.js, line 327)\r\n&gt; Selected Element\r\n&lt; &lt;td _ngcontent-djc-c128 role=&quot;cell&quot; mat-cell class=&quot;mat-cell cdk-cell cdk-column-webshopOrderNumber mat-column-webshopOrderNumber ng-star-inserted&quot;&gt;&lt;/td&gt;\r\n```","title":"Angular material table not updating with change in datasource - filtering done from spring backend","body":"<p>Angular table data not updating. Only updates when I switch component and come back to the table component.</p>\n<p>Tried using this.table.renderRows() but getting table object is undefined.</p>\n<p>Below is the code - there are 3 Ts classes which are extending base main and filter class.</p>\n<pre><code>import { Directive, Injector, Input, OnInit, ViewChild} from &quot;@angular/core&quot;;\nimport {BaseComponent} from &quot;./base.component&quot;;\nimport {take, takeUntil} from &quot;rxjs/operators&quot;;\nimport {ActivatedRoute, Params, Router} from &quot;@angular/router&quot;;\nimport {Observable} from &quot;rxjs&quot;;\nimport {PaginatedCollection} from &quot;./shared/models/dto/paginated-collection&quot;;\nimport { MatTable, MatTableDataSource } from &quot;@angular/material/table&quot;;\nimport {MatSort} from '@angular/material/sort';\nimport { ChangeDetectorRef } from '@angular/core'\n\n@Directive()\nexport abstract class BaseCollectionComponent&lt;T&gt; extends BaseComponent implements OnInit{\n\n  @Input() public dataSource: MatTableDataSource&lt;T&gt;;\n  public collection: PaginatedCollection&lt;T&gt;;\n  public currentPage: number;\n  public pageSize: number;\n\n  protected searchString: string;\n\n  public counter: number = 0;\n\n  @ViewChild(MatSort) sort: MatSort;\n\n  readonly route: ActivatedRoute;\n  readonly router: Router;\n\n  protected constructor(injector: Injector, public ref: ChangeDetectorRef) {\n    super();\n    this.route = injector.get(ActivatedRoute);\n    this.router = injector.get(Router);\n  }\n\n  ngOnInit(): void {\n    this.fillTable();\n  }\n\n  fillTable(){\n    this.route.queryParams\n      .pipe(take(1))\n      .subscribe((params: Params) =&gt; {\n        const page = params['page'] ? +params['page'] : 1;\n        this.pageSize = params['size'] ? +params['size'] : 15;\n        this.searchString = params['s'] ? params['s'] : null;\n        this.dataSource = new MatTableDataSource();\n        this.setPage(page);\n        //setInterval(() =&gt; this.setPage(page), 3000);\n      });\n  }\n\n  protected abstract fetch(): Observable&lt;PaginatedCollection&lt;T&gt;&gt;\n\n  public search(searchString: string) {\n    if (this.searchString !== searchString) {\n      this.searchString = searchString;\n      this.setPage(1);\n    }\n  }\n\n  public searchReset(): void {\n    this.searchString = null;\n    this.setPage(1);\n  }\n\n  public setPageSize(size: number): void {\n    this.pageSize = size;\n    this.setPage(1);\n  }\n\n  public setPage(page: number): void {\n    this.currentPage = page;\n    this.fetch()\n      .pipe(takeUntil(this.ngUnsubscribe))\n      .subscribe(\n        (res: PaginatedCollection&lt;T&gt;) =&gt; {\n          this.handleSuccess(res);\n          this.ref.detectChanges();},\n        (error: string) =&gt; this.handleError(error)\n      );\n  }\n\n  protected deleteSuccess(id: string, msg: string): void {\n    this.setSuccessMessage(msg);\n    this.collection.items = this.collection.items\n      .filter((item: any) =&gt; item.id !== id);\n  }\n\n   handleSuccess(collection: PaginatedCollection&lt;T&gt;): void {\n    this.collection = collection;\n    this.dataSource.data = this.collection.items;\n    this.dataSource.sort = this.sort;\n    this.setQueryParamsInUrl();\n    console.log(this.dataSource.data);\n  }\n\n  private setQueryParamsInUrl(): void {\n    const queryParams = {\n      page: this.currentPage,\n      size: this.pageSize\n    };\n\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: queryParams,\n      queryParamsHandling: 'merge'\n    });\n  }\n\n\n}\n</code></pre>\n<pre><code>import {ChangeDetectorRef, Component, Injector, OnInit} from '@angular/core';\nimport {TransactionService} from &quot;../../shared/services/transaction.service&quot;;\nimport {BaseCollectionComponent} from &quot;../../base.collection.component&quot;;\nimport {Transaction} from &quot;../../shared/models/entity/transaction&quot;;\nimport {PaginatedCollection} from &quot;../../shared/models/dto/paginated-collection&quot;;\nimport { Observable } from 'rxjs';\nimport {ViewChild} from '@angular/core';\nimport {MatSort} from '@angular/material/sort';\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\n\n@Component({\n  selector: 'app-transactions',\n  templateUrl: './transactions.component.html',\n  styleUrls: ['./transactions.component.scss']\n})\nexport class TransactionsComponent extends BaseCollectionComponent&lt;Transaction&gt; {\n  displayedColumns: string[] = ['webshopOrderNumber', 'lastModified', 'state', 'paymentMethod', 'monetaryData.discount', 'monetaryData.grandTotalGross', 'monetaryData.applicationFeeIncl', 'details', 'actions' ];  \n  enabled: boolean = true;\n\n  @ViewChild('table') table: MatTable&lt;any&gt;;\n\n\n  constructor(\n    private transactionService: TransactionService,\n    injector: Injector,\n    ref: ChangeDetectorRef,\n  ) {\n    super(injector, ref);\n  }\n  \n  updateTable(){\n   // this.dataSource.data = [];\n   this.fillTable();\n   this.dataSource = new MatTableDataSource(this.collection.items);\n   this.table.renderRows();\n  }\n\n  protected fetch(): Observable&lt;PaginatedCollection&lt;Transaction&gt;&gt; {\n    return this.transactionService.getTransactionsWithFilters(this.currentPage, this.pageSize, this.transactionService.filters);\n  }\n}\n</code></pre>\n<pre><code>import {ChangeDetectorRef, Component, Injector, Input, NgZone} from '@angular/core';\nimport {FormGroup, FormControl} from '@angular/forms';\nimport { TransactionService } from '../../services/transaction.service';\nimport { TransactionsComponent } from 'src/app/content/transactions/transactions.component';\nimport { DatePipe } from '@angular/common';\nimport { TransactionState } from '../../models/entity/enum/transaction-state';\nimport { PaymentMethod } from '../../models/entity/enum/payment-method';\n\n@Component({\n  selector: 'app-filter',\n  templateUrl: './filter.component.html',\n  styleUrls: ['./filter.component.scss']\n})\nexport class FilterComponent extends TransactionsComponent{\n\n  @Input() visible: boolean;\n\n  range = new FormGroup({\n    start: new FormControl(null),\n    end: new FormControl(null),\n    state: new FormControl(null),\n    method: new FormControl(null),\n    order: new FormControl(null)\n  });\n\n  states = Object.keys(TransactionState);\n  paymentMethods = Object.keys(PaymentMethod);\n  order:String;\n\n  constructor(private injector: Injector, private service: TransactionService, public datepipe: DatePipe, ref: ChangeDetectorRef) {\n    super(service, injector, ref);\n  }\n\n  filter(){\n    if(this.range.value.end != null){\n    this.service.filters.toDate = this.datepipe.transform(this.range.value.end, 'yyyy-MM-dd');\n    }\n    if(this.range.value.start != null){\n    this.service.filters.fromDate = this.datepipe.transform(this.range.value.start, 'yyyy-MM-dd');\n    }\n    if(this.range.value.state != null){\n    this.service.filters.transactionState = this.range.value.state;\n    }\n    if(this.range.value.method != null){\n      this.service.filters.usedPaymentMethod = this.range.value.method;\n    }\n    if(this.range.value.order != null){\n      this.service.filters.webshopOrderNumber = this.range.value.order;\n    }\n    this.updateTable();\n  }\n\n  clearFilters(){\n    this.service.filters.fromDate = null;\n    this.service.filters.toDate = null;\n    this.service.filters.transactionState = null;\n    this.service.filters.usedPaymentMethod = null;\n    this.service.filters.webshopOrderNumber = null;\n    this.range.reset();\n    this.updateTable();\n  }\n</code></pre>\n<p>This is the html with table belonging to the Transaction component</p>\n<pre><code>&lt;section class=&quot;content-header&quot;&gt;\n  &lt;div class=&quot;container-fluid&quot;&gt;\n    &lt;div class=&quot;row mb-2&quot;&gt;\n      &lt;div class=&quot;col-12&quot;&gt;\n        &lt;h1&gt;{{'COMPONENTS.TRANSACTIONS.title' | translate}}&lt;/h1&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/section&gt;\n\n&lt;app-message-display [error]=&quot;error&quot;&gt;&lt;/app-message-display&gt;\n\n\n&lt;section class=&quot;mat-elevation-z8&quot; class=&quot;content mb-5&quot; *ngIf=&quot;collection&quot;&gt;\n  &lt;div class=&quot;row&quot;&gt;\n    &lt;div class=&quot;col-12&quot;&gt;\n      &lt;div class=&quot;card&quot;&gt;\n        &lt;div class=&quot;card-header&quot;&gt;\n          &lt;div class=&quot;card-tools&quot;&gt;\n            &lt;app-page-size [id]=&quot;'page-size-changer'&quot; (sizeChanged)=&quot;setPageSize($event)&quot;&gt;&lt;/app-page-size&gt;\n          &lt;/div&gt;\n          &lt;div&gt;\n            &lt;table #table table mat-table [dataSource]=&quot;dataSource&quot; matSort&gt;\n              &lt;ng-container matColumnDef=&quot;webshopOrderNumber&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.order-number' | translate}}&lt;/a&gt;\n                &lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;&lt;a class=&quot;link-primary&quot;\n                    [routerLink]=&quot;['/transactions', row.id]&quot;&gt;{{row.webshopOrderNumber | translate}}&lt;/a&gt;&lt;/td&gt;\n                &lt;ng-template #noWebshopId&gt;\n                  &lt;td&gt;-&lt;/td&gt;\n                &lt;/ng-template&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;lastModified&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.transaction-date' |\n                    translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{row.lastModified |\n                  date:'dd/MM/yyyy' }}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;state&quot;&gt;\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.state' | translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{'ENUM.TRANSACTION-STATE.' +\n                  row.state | translate}}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;paymentMethod&quot;&gt;\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;\n                  &lt;a class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.payment-method' | translate}}&lt;/a&gt;\n                &lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{'ENUM.PAYMENT-METHOD.' +\n                  (row.paymentMethod | uppercase) | translate}}&lt;/td&gt;\n                &lt;ng-template #noPaymentMethod&gt;\n                  &lt;td&gt;-&lt;/td&gt;\n                &lt;/ng-template&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;monetaryData.discount&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.discount' | translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;{{row.monetaryData.discount |\n                  currency:'EUR'}}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;monetaryData.grandTotalGross&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.total' | translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;\n                  {{row.monetaryData.grandTotalGross |\n                  currency:'EUR'}}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;monetaryData.applicationFeeIncl&quot;&gt;\n                &lt;th style=&quot;width: 15%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;&lt;a\n                    class=&quot;hover header-text&quot;&gt;{{'COMPONENTS.TRANSACTIONS.app-fee' | translate}}&lt;/a&gt;&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;\n                  {{row.monetaryData.applicationFeeIncl | currency:'EUR'}}&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;details&quot;&gt;\n                &lt;th style=&quot;width: 10%&quot; mat-header-cell *matHeaderCellDef mat-sort-header&gt;\n                  {{'COMMON.details' | translate}}&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt; &lt;a class=&quot;link-primary&quot;\n                    [routerLink]=&quot;['/transactions', row.id]&quot;&gt;{{'COMMON.view-details' | translate}}&lt;/a&gt;&lt;/td&gt;\n              &lt;/ng-container&gt;\n\n              &lt;ng-container matColumnDef=&quot;actions&quot;&gt;\n                &lt;th style=&quot;width: 20%&quot; mat-header-cell *matHeaderCellDef mat-sort-header class=&quot;text-right pr-5&quot;&gt;\n                  {{'COMMON.actions' | translate}}&lt;/th&gt;\n                &lt;td mat-cell *matCellDef=&quot;let row&quot; class=&quot;text-right pr-2&quot;&gt;\n                  &lt;div class=&quot;btn-group&quot; dropdown [autoClose]=&quot;true&quot; [isAnimated]=&quot;true&quot; [insideClick]=&quot;false&quot;&gt;\n                    &lt;button dropdownToggle type=&quot;button&quot; class=&quot;btn btn-primary dropdown-toggle&quot;&gt;\n                      {{'COMMON.actions' | translate}} &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;\n                    &lt;/button&gt;\n                    &lt;ul *dropdownMenu class=&quot;dropdown-menu dropdown-menu-right&quot; role=&quot;menu&quot;\n                      aria-labelledby=&quot;button-basic&quot;&gt;\n                      &lt;!-- &lt;li role=&quot;menuitem&quot;&gt;&lt;a class=&quot;dropdown-item&quot; [routerLink]=&quot;['/transactions', transaction.id]&quot;&gt;{{'COMMON.view-details' | translate}}&lt;/a&gt;\n            &lt;/li&gt; --&gt;\n                    &lt;/ul&gt;\n                  &lt;/div&gt;\n                &lt;/td&gt;\n              &lt;/ng-container&gt;\n\n\n              &lt;tr mat-header-row *matHeaderRowDef=&quot;displayedColumns&quot;&gt;&lt;/tr&gt;\n              &lt;tr mat-row *matRowDef=&quot;let row; columns: displayedColumns;&quot;&gt;&lt;/tr&gt;\n\n              &lt;!-- Row shown when there is no matching data. --&gt;\n              &lt;tr class=&quot;mat-row&quot; *matNoDataRow&gt;\n                &lt;td class=&quot;mat-cell&quot; colspan=&quot;8&quot;&gt;No data matching the filter&lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;/table&gt;\n\n            &lt;div class=&quot;card-footer&quot;&gt;\n              &lt;app-pagination (pageChange)=&quot;setPage($event)&quot; [collection]=&quot;collection&quot;\n                class=&quot;justify-content-center&quot;&gt;&lt;/app-pagination&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>Here is the console output</p>\n<pre><code>[Info] Successfully preconnected to https://fonts.gstatic.com/\n[Warning] Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming (vendor.js, line 68622)\n[Log] Angular is running in development mode. Call enableProdMode() to enable production mode. (vendor.js, line 55406)\n[Info] [WDS] Live Reloading enabled. (vendor.js, line 112493)\n[Log] Array (15) (main.js, line 327)\n[Log] Array (15) (main.js, line 327)\n[Error] ERROR  TypeError: undefined is not an object (evaluating 'this.table.renderRows')\nTypeError: undefined is not an object (evaluating 'this.table.renderRows')\n    defaultErrorLogger (vendor.js:33845)\n    handleError (vendor.js:33893)\n    handleError (vendor.js:38304)\n    executeListenerWithErrorHandling (vendor.js:42677)\n    wrapListenerIn_markDirtyAndPreventDefault (vendor.js:42712)\n    (anonymous function) (vendor.js:81271)\n    onInvokeTask (vendor.js:56026)\n    runTask (polyfills.js:187)\n    invokeTask (polyfills.js:496)\n    invokeTask (polyfills.js:1609)\n    globalZoneAwareCallback (polyfills.js:1635)\n[Log] Array (15) (main.js, line 327)\n[Log] Array (15) (main.js, line 327)\n[Error] ERROR  TypeError: undefined is not an object (evaluating 'this.table.renderRows')\nTypeError: undefined is not an object (evaluating 'this.table.renderRows')\n    defaultErrorLogger (vendor.js:33845)\n    handleError (vendor.js:33893)\n    handleError (vendor.js:38304)\n    executeListenerWithErrorHandling (vendor.js:42677)\n    wrapListenerIn_markDirtyAndPreventDefault (vendor.js:42712)\n    (anonymous function) (vendor.js:81271)\n    onInvokeTask (vendor.js:56026)\n    runTask (polyfills.js:187)\n    invokeTask (polyfills.js:496)\n    invokeTask (polyfills.js:1609)\n    globalZoneAwareCallback (polyfills.js:1635)\n[Log] Array (15) (main.js, line 327)\n[Log] Array (15) (main.js, line 327)\n&gt; Selected Element\n&lt; &lt;td _ngcontent-djc-c128 role=&quot;cell&quot; mat-cell class=&quot;mat-cell cdk-cell cdk-column-webshopOrderNumber mat-column-webshopOrderNumber ng-star-inserted&quot;&gt;&lt;/td&gt;\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","file-upload"],"answers":[{"tags":[],"owner":{"account_id":9796860,"reputation":451,"user_id":7259551,"display_name":"J. Whitehead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690184302,"creation_date":1689940504,"answer_id":76737765,"question_id":76454766,"body_markdown":"Change the content type to: `application/json`. As your content type is currently incorrect it cannot deserialize the json you are sending.","title":"convert image to byte in react js","body":"<p>Change the content type to: <code>application/json</code>. As your content type is currently incorrect it cannot deserialize the json you are sending.</p>\n"}],"owner":{"account_id":1306536,"reputation":2406,"user_id":1255433,"accept_rate":63,"display_name":"pappu_kutty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690184302,"creation_date":1686558152,"question_id":76454766,"body_markdown":"I have to upload an image to my backend Spring Boot. I have model object as \r\n```java\r\nclass company {\r\n    String name;\r\n    byte[]  logo;\r\n}\r\n```\r\nI need to upload an image from ReactJS, then convert the image to byte and store it in database as bytea in PostgreSQL database.\r\n\r\nI have Spring controller as:\r\n```java\r\n@PostMapping(&quot;/saveCompany&quot;)\r\npublic Company createRetailOutletDetails(@RequestBody Company company) throws Exception {\r\n    try {\r\n        return companyServiceImpl.saveCompanyDetails(company);\r\n    } catch (Exception exp) {\r\n        throw new Exception(Constants.APP_ERROR, exp);\r\n    }\r\n}\r\n```\r\nMy ReactJS code is:\r\n1. convert image to byte array\r\n```js\r\nfunction readFileDataAsBase64(e) {\r\n    const file = e.target.files[0];\r\n    return new Promise((resolve, reject) =&gt; {\r\n            const reader = new FileReader();\r\n            reader.onload = (event) =&gt; {\r\n                resolve(event.target.result);\r\n            };\r\n            reader.onerror = (err) =&gt; {\r\n                reject(err);\r\n            };\r\n            reader.readAsArrayBuffer(file);\r\n        });\r\n    }\r\n```\r\nand save part:\r\n```\r\nconst saveCompanyDetails = (e) =&gt; {\r\n      var data = {\r\n        name: company.name,\r\n        logo: file\r\n      };\r\n      companyDataService.create(data)\r\n}\r\n```\r\nand service code as \r\n```\r\nconst create = (data) =&gt; {\r\n    return http.post(&quot;/saveCompany&quot;, data, {\r\n        headers:{\r\n            &quot;Content-Type&quot;: &quot;multipart/form-data&quot;,\r\n        }\r\n    });\r\n};\r\n```\r\nBut I am getting error while binding byte to Spring Boot model object, and getting below error.\r\n\r\n    JSON parse error: Cannot deserialize instance of `[B` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `[B` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 159] (through reference chain: com.maargali.fuelman.admin.model.Company[&quot;logo&quot;])","title":"convert image to byte in react js","body":"<p>I have to upload an image to my backend Spring Boot. I have model object as</p>\n<pre class=\"lang-java prettyprint-override\"><code>class company {\n    String name;\n    byte[]  logo;\n}\n</code></pre>\n<p>I need to upload an image from ReactJS, then convert the image to byte and store it in database as bytea in PostgreSQL database.</p>\n<p>I have Spring controller as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/saveCompany&quot;)\npublic Company createRetailOutletDetails(@RequestBody Company company) throws Exception {\n    try {\n        return companyServiceImpl.saveCompanyDetails(company);\n    } catch (Exception exp) {\n        throw new Exception(Constants.APP_ERROR, exp);\n    }\n}\n</code></pre>\n<p>My ReactJS code is:</p>\n<ol>\n<li>convert image to byte array</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>function readFileDataAsBase64(e) {\n    const file = e.target.files[0];\n    return new Promise((resolve, reject) =&gt; {\n            const reader = new FileReader();\n            reader.onload = (event) =&gt; {\n                resolve(event.target.result);\n            };\n            reader.onerror = (err) =&gt; {\n                reject(err);\n            };\n            reader.readAsArrayBuffer(file);\n        });\n    }\n</code></pre>\n<p>and save part:</p>\n<pre><code>const saveCompanyDetails = (e) =&gt; {\n      var data = {\n        name: company.name,\n        logo: file\n      };\n      companyDataService.create(data)\n}\n</code></pre>\n<p>and service code as</p>\n<pre><code>const create = (data) =&gt; {\n    return http.post(&quot;/saveCompany&quot;, data, {\n        headers:{\n            &quot;Content-Type&quot;: &quot;multipart/form-data&quot;,\n        }\n    });\n};\n</code></pre>\n<p>But I am getting error while binding byte to Spring Boot model object, and getting below error.</p>\n<pre><code>JSON parse error: Cannot deserialize instance of `[B` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `[B` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 159] (through reference chain: com.maargali.fuelman.admin.model.Company[&quot;logo&quot;])\n</code></pre>\n"},{"tags":["java","exception","grpc"],"owner":{"account_id":26815323,"reputation":1,"user_id":20405354,"display_name":"Dan Rotman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690183936,"creation_date":1690183936,"question_id":76752270,"body_markdown":"I have a Java GRPC server and I am getting unwanted HTTP/1.x requests. It is crowding the log files because it keep throwing exceptions. I want the service to peacefully ignore those message. How would I make the server ignore those messages?\r\n\r\nI work at a big company so I can&#39;t stop the logging nor the messages.\r\n\r\nI was wondering whether an interceptor might work.","title":"Unexpected HTTP/1.x Request Errors with Login Pages","body":"<p>I have a Java GRPC server and I am getting unwanted HTTP/1.x requests. It is crowding the log files because it keep throwing exceptions. I want the service to peacefully ignore those message. How would I make the server ignore those messages?</p>\n<p>I work at a big company so I can't stop the logging nor the messages.</p>\n<p>I was wondering whether an interceptor might work.</p>\n"},{"tags":["java","compiler-errors","linked-list"],"comments":[{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":3,"creation_date":1689568562,"post_id":76701478,"comment_id":135226387,"body_markdown":"Why did you tag this as `dsa`?  What does your question have to do with Digital Signature Algorithm?  -- *DSA (Digital Signature Algorithm) is a public-key signature algorithm defined by NIST. Do NOT use this tag for general &quot;Data Structures and Algorithms&quot; questions.*","body":"Why did you tag this as <code>dsa</code>?  What does your question have to do with Digital Signature Algorithm?  -- <i>DSA (Digital Signature Algorithm) is a public-key signature algorithm defined by NIST. Do NOT use this tag for general &quot;Data Structures and Algorithms&quot; questions.</i>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689575894,"post_id":76701478,"comment_id":135227226,"body_markdown":"I must get new glasses, I cannot see anything like `private static final Scanner` (from the error message) in posted code... No, not my glasses, even copy&amp;pasting it to an editor, I am unable to find the code from the error message! Maybe you should post the relevant code or even better a [mre] (by the error message, apparently there is some code declared **outside** of a class, interface or enum... but we cannot see that)","body":"I must get new glasses, I cannot see anything like <code>private static final Scanner</code> (from the error message) in posted code... No, not my glasses, even copy&amp;pasting it to an editor, I am unable to find the code from the error message! Maybe you should post the relevant code or even better a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (by the error message, apparently there is some code declared <b>outside</b> of a class, interface or enum... but we cannot see that)"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1689581893,"post_id":76701478,"comment_id":135228264,"body_markdown":"You have more closing braces than opening braces. Voting to close as typo.","body":"You have more closing braces than opening braces. Voting to close as typo."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689676911,"post_id":76701478,"comment_id":135244356,"body_markdown":"also note that you included only 80 lines of code, but the error starts at line 85 (`Solution.java:85: error:...`)","body":"also note that you included only 80 lines of code, but the error starts at line 85 (<code>Solution.java:85: error:...</code>)"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690183527,"creation_date":1690183527,"answer_id":76752223,"question_id":76701478,"body_markdown":"The error does not complain about a line in *your* `compareLists` code, but in the host&#39;s code, i.e. in the boilerplate code that is presented to you when you start introducing your function&#39;s code. \r\n\r\nYour code is thus embedded in the framework&#39;s code, that already provided the code for `SinglyLinkedListNode`, `SinglyLinkedList`, ...etc. Also *after* your function `compareLists` there is more boilerplate code that follows: this is code that will actually run the tests. \r\n\r\nAll this code -- the boilerplate code and your `compareLists` function -- are part of the `Solution` class.\r\n\r\nAnd here comes the problem: you have closed the `Solution` class with a closing brace. This means that the boilerplate code that *follows* it, suddenly finds itself outside of the `Solution` class, which is a syntax error.\r\n\r\nThe fix is obvious: remove that closing brace, so that the boilerplate code is part of the `Solution` class.","title":"I have written the write code right still giving error in hackerrank","body":"<p>The error does not complain about a line in <em>your</em> <code>compareLists</code> code, but in the host's code, i.e. in the boilerplate code that is presented to you when you start introducing your function's code.</p>\n<p>Your code is thus embedded in the framework's code, that already provided the code for <code>SinglyLinkedListNode</code>, <code>SinglyLinkedList</code>, ...etc. Also <em>after</em> your function <code>compareLists</code> there is more boilerplate code that follows: this is code that will actually run the tests.</p>\n<p>All this code -- the boilerplate code and your <code>compareLists</code> function -- are part of the <code>Solution</code> class.</p>\n<p>And here comes the problem: you have closed the <code>Solution</code> class with a closing brace. This means that the boilerplate code that <em>follows</em> it, suddenly finds itself outside of the <code>Solution</code> class, which is a syntax error.</p>\n<p>The fix is obvious: remove that closing brace, so that the boilerplate code is part of the <code>Solution</code> class.</p>\n"}],"owner":{"account_id":24203792,"reputation":1,"user_id":18161282,"display_name":"Satendra Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1690183527,"creation_date":1689567770,"question_id":76701478,"body_markdown":"Solution : Compare Two LinkedList\r\n\r\n    import java.io.*;\r\n    import java.math.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n\r\n    public class Solution {\r\n\r\n    static class SinglyLinkedListNode {\r\n        public int data;\r\n        public SinglyLinkedListNode next;\r\n        public SinglyLinkedListNode(int nodeData) {\r\n            this.data = nodeData;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\n    static class SinglyLinkedList {\r\n        public SinglyLinkedListNode head;\r\n        public SinglyLinkedListNode tail;\r\n\r\n        public SinglyLinkedList() {\r\n            this.head = null;\r\n            this.tail = null;\r\n        }\r\n\r\n        public void insertNode(int nodeData) {\r\n            SinglyLinkedListNode node = new SinglyLinkedListNode(nodeData);\r\n\r\n            if (this.head == null) {\r\n                this.head = node;\r\n            } else {\r\n                this.tail.next = node;\r\n            }\r\n\r\n            this.tail = node;\r\n        }\r\n    }\r\n\r\n    public static void printSinglyLinkedList(SinglyLinkedListNode node, String sep, BufferedWriter bufferedWriter) throws IOException {\r\n        while (node != null) {\r\n            bufferedWriter.write(String.valueOf(node.data));\r\n\r\n            node = node.next;\r\n\r\n            if (node != null) {\r\n                bufferedWriter.write(sep);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Complete the compareLists function below.\r\n\r\n    /*\r\n     * For your reference:\r\n     *\r\n     * SinglyLinkedListNode {\r\n     *     int data;\r\n     *     SinglyLinkedListNode next;\r\n     * }\r\n     *\r\n     */\r\n\r\n    static boolean compareLists(SinglyLinkedListNode head1, SinglyLinkedListNode head2) { \r\n        // while((head1 != null &amp;&amp; head2 != null) &amp;&amp; (head1.data == head2.data)){\r\n        //     head1 = head1.next;\r\n        //     head2 = head2.next;\r\n        // }\r\n        // return (head1 == null &amp;&amp; head2 == null);\r\n        \r\n        // }\r\n        \r\n        while((head1!=null &amp;&amp; head2!=null) &amp;&amp; head1.data == head2.data){\r\n            head1 = head1.next;\r\n            head2 = head2.next;\r\n        }\r\n        return (head1 == null &amp;&amp; head2 == null);\r\n    \r\n    }\r\n}\r\n\r\n\r\nError:-  Below error is coming every time \r\n\r\n```none\r\nSolution.java:85: error: class, interface, or enum expected\r\n    private static final Scanner scanner = new Scanner(System.in);\r\n                         ^\r\n\r\nSolution.java:87: error: class, interface, or enum expected\r\n    public static void main(String[] args) throws IOException {\r\n                  ^\r\n\r\nSolution.java:90: error: class, interface, or enum expected\r\n        int tests = scanner.nextInt();\r\n        ^\r\n\r\nSolution.java:91: error: class, interface, or enum expected\r\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n        ^\r\n\r\nSolution.java:93: error: class, interface, or enum expected\r\n        for (int testsItr = 0; testsItr &lt; tests; testsItr++) {\r\n        ^\r\n```\r\n\r\nPlease help to solve this error.","title":"I have written the write code right still giving error in hackerrank","body":"<p>Solution : Compare Two LinkedList</p>\n<pre><code>import java.io.*;\nimport java.math.*;\nimport java.text.*;\nimport java.util.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\nstatic class SinglyLinkedListNode {\n    public int data;\n    public SinglyLinkedListNode next;\n    public SinglyLinkedListNode(int nodeData) {\n        this.data = nodeData;\n        this.next = null;\n    }\n}\n\nstatic class SinglyLinkedList {\n    public SinglyLinkedListNode head;\n    public SinglyLinkedListNode tail;\n\n    public SinglyLinkedList() {\n        this.head = null;\n        this.tail = null;\n    }\n\n    public void insertNode(int nodeData) {\n        SinglyLinkedListNode node = new SinglyLinkedListNode(nodeData);\n\n        if (this.head == null) {\n            this.head = node;\n        } else {\n            this.tail.next = node;\n        }\n\n        this.tail = node;\n    }\n}\n\npublic static void printSinglyLinkedList(SinglyLinkedListNode node, String sep, BufferedWriter bufferedWriter) throws IOException {\n    while (node != null) {\n        bufferedWriter.write(String.valueOf(node.data));\n\n        node = node.next;\n\n        if (node != null) {\n            bufferedWriter.write(sep);\n        }\n    }\n}\n\n// Complete the compareLists function below.\n\n/*\n * For your reference:\n *\n * SinglyLinkedListNode {\n *     int data;\n *     SinglyLinkedListNode next;\n * }\n *\n */\n\nstatic boolean compareLists(SinglyLinkedListNode head1, SinglyLinkedListNode head2) { \n    // while((head1 != null &amp;&amp; head2 != null) &amp;&amp; (head1.data == head2.data)){\n    //     head1 = head1.next;\n    //     head2 = head2.next;\n    // }\n    // return (head1 == null &amp;&amp; head2 == null);\n    \n    // }\n    \n    while((head1!=null &amp;&amp; head2!=null) &amp;&amp; head1.data == head2.data){\n        head1 = head1.next;\n        head2 = head2.next;\n    }\n    return (head1 == null &amp;&amp; head2 == null);\n\n}\n</code></pre>\n<p>}</p>\n<p>Error:-  Below error is coming every time</p>\n<pre class=\"lang-none prettyprint-override\"><code>Solution.java:85: error: class, interface, or enum expected\n    private static final Scanner scanner = new Scanner(System.in);\n                         ^\n\nSolution.java:87: error: class, interface, or enum expected\n    public static void main(String[] args) throws IOException {\n                  ^\n\nSolution.java:90: error: class, interface, or enum expected\n        int tests = scanner.nextInt();\n        ^\n\nSolution.java:91: error: class, interface, or enum expected\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n        ^\n\nSolution.java:93: error: class, interface, or enum expected\n        for (int testsItr = 0; testsItr &lt; tests; testsItr++) {\n        ^\n</code></pre>\n<p>Please help to solve this error.</p>\n"},{"tags":["java","nio","unc","watchservice"],"answers":[{"tags":[],"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690183308,"creation_date":1690183308,"answer_id":76752204,"question_id":56667501,"body_markdown":"You should try using `ExtendedWatchEventModifier.FILE_TREE` with the registration instead of registering every subdirectory separately (Windows-only).\r\n\r\nI don&#39;t know if that fixes the issue with the invalid keys but it will definitely make your code way simpler.","title":"Java Watch Service cannot watch more than 50-60 folders defined as UNC Path in Hierarchy","body":"<p>You should try using <code>ExtendedWatchEventModifier.FILE_TREE</code> with the registration instead of registering every subdirectory separately (Windows-only).</p>\n<p>I don't know if that fixes the issue with the invalid keys but it will definitely make your code way simpler.</p>\n"}],"owner":{"account_id":3532604,"reputation":31,"user_id":2951689,"display_name":"UABajwah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690183308,"creation_date":1560946836,"question_id":56667501,"body_markdown":"I have been trying to watch folders through UNC. There are a lot of folders in the main folder. When I run the watch service it is registering all the folders with watch service. After all these folders are registered the watch service receives the events with Invalid key i-e key.isValid() returns false. And at this moment the particular folder is excluded from watch. I have reset the key but it is also giving me false. In short I am unable to watch for those folders which are excluded from key. I even tried to re register the folders but that again generates the invalid key and cannot be watched. I have tried this with normal folders in the same machine. They are working fine. Please help me if I am missing something. If I limit the folders to around 50-60 watch service doesn&#39;t receive any invalid key event and everything is working fine.\r\n\r\nThis is the code that will create number of folders.\r\n\r\n    import java.io.File;\r\n    \r\n    public class CreateDir {\r\n    \tpublic static void main(String args[]){\r\n    \t\tfor(int j=0; j&lt;1000; j++){\r\n    \t\t\tString folderName = &quot;Folder&quot;+j;\r\n    \t\t\tnew File(&quot;\\\\\\\\Server2\\\\Shared Folder\\\\test\\\\&quot; + folderName + &quot;\\\\&quot; + folderName + &quot;_Folder1&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder2&quot; + &quot;\\\\&quot;\r\n    \t\t\t\t\t+ folderName + &quot;_Folder3&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder4&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder5&quot;+&quot;\\\\&quot;\r\n    \t\t\t\t\t+ folderName + &quot;_Folder6&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder7&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder8&quot; + &quot;\\\\&quot;\r\n    \t\t\t\t\t+ folderName + &quot;_Folder9&quot; + &quot;\\\\&quot; + folderName + &quot;_Folder10&quot;).mkdirs();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThis is the class that is actually watching these UNC Paths and giving information regarding events.\r\n\r\n    import java.nio.file.*;\r\n    import static java.nio.file.StandardWatchEventKinds.*;\r\n    import static java.nio.file.LinkOption.*;\r\n    import java.nio.file.attribute.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class WatchDir {\r\n    \r\n        private final WatchService watcher;\r\n        private final Map&lt;WatchKey,Path&gt; keys;\r\n        private final boolean recursive;\r\n        private boolean trace = false;\r\n        private int total = 0;\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        static &lt;T&gt; WatchEvent&lt;T&gt; cast(WatchEvent&lt;?&gt; event) {\r\n            return (WatchEvent&lt;T&gt;)event;\r\n        }\r\n    \r\n        /**\r\n         * Register the given directory with the WatchService\r\n         */\r\n        private void register(Path dir, PrintWriter writer) throws IOException {\r\n            WatchKey key = dir.register(watcher, ENTRY_CREATE, ENTRY_DELETE, ENTRY_MODIFY);\r\n            if (trace) {\r\n                Path prev = keys.get(key);\r\n                if (prev == null) {\r\n                    writer.println(&quot;register:&quot;+dir);\r\n                } else {\r\n                    if (!dir.equals(prev)) {\r\n                        writer.println(&quot;update.........&quot;);\r\n                    }\r\n                }\r\n            }\r\n            keys.put(key, dir);\r\n        }\r\n    \r\n        /**\r\n         * Register the given directory, and all its sub-directories, with the\r\n         * WatchService.\r\n         */\r\n        private void registerAll(final Path start, PrintWriter writer){\r\n            // register directory and sub-directories\r\n        \ttry{\r\n            Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\r\n                @Override\r\n                public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs)\r\n                {\r\n                \twriter.println(++total+&quot;Registering Path....&quot;+dir.toUri());\r\n                \t\r\n                \ttry{\r\n                \t\tregister(dir,writer);\r\n                \t}catch(IOException ex){\r\n                \t\twriter.println(&quot;Error occurred for Path...&quot;+dir.getFileName());\r\n                \t}catch(Exception ex){\r\n                \t\tSystem.out.println(&quot;error&quot;);\r\n                \t}\r\n                    return FileVisitResult.CONTINUE;\r\n                }\r\n            });\r\n        \t}catch(Exception ex){\r\n        \t\twriter.println(&quot;Not Registered .....&quot;+ex.getMessage());\r\n        \t}\r\n        }\r\n    \r\n        /**\r\n         * Creates a WatchService and registers the given directory\r\n         */\r\n        WatchDir(Path dir, boolean recursive, PrintWriter writer) throws IOException {\r\n            this.watcher = FileSystems.getDefault().newWatchService();\r\n            this.keys = new HashMap&lt;WatchKey,Path&gt;();\r\n            this.recursive = recursive;\r\n    \r\n            if (recursive) {\r\n            \tSystem.out.println(&quot;Starting Registering Path&quot;);\r\n                writer.println(&quot;Scanning %s ...\\n&quot;+ dir);\r\n                registerAll(dir, writer);\r\n                writer.println(&quot;Done.&quot;);\r\n                System.out.println(&quot;Done&quot;);\r\n                writer.println(&quot;Total Folders in Watch &quot;+ total);\r\n                System.out.println(&quot;Total Folders in Watch &quot;+ total);\r\n            } else {\r\n                register(dir,writer);\r\n            }\r\n    \r\n            // enable trace after initial registration\r\n            this.trace = true;\r\n        }\r\n    \r\n        /**\r\n         * Process all events for keys queued to the watcher\r\n         * @throws UnsupportedEncodingException \r\n         * @throws FileNotFoundException \r\n         */\r\n        void processEvents() throws FileNotFoundException, UnsupportedEncodingException {\r\n        \tPrintWriter writer1 = new PrintWriter(&quot;C:\\\\test\\\\key.txt&quot;);\r\n            for (;;) {\r\n    \r\n                // wait for key to be signalled\r\n                WatchKey key;\r\n                try {\r\n                    key = watcher.take();\r\n                    writer1.println(&quot;Folder is &quot;+key.watchable()+&quot; And Key is &quot;+ key.isValid());\r\n                    System.out.println(&quot;Folder is &quot;+key.watchable()+&quot; And Key is &quot;+ key.isValid());\r\n                } catch (InterruptedException x) {\r\n                \twriter1.println(&quot;Interupped Exception.........&quot;);\r\n                    return;\r\n                }\r\n    \r\n                Path dir = keys.get(key);\r\n                if (dir == null) {\r\n                    writer1.println(&quot;WatchKey not recognized!!&quot;);\r\n                    continue;\r\n                }\r\n    \r\n                for (WatchEvent&lt;?&gt; event: key.pollEvents()) {\r\n                    WatchEvent.Kind kind = event.kind();\r\n    \r\n                    // TBD - provide example of how OVERFLOW event is handled\r\n                    if (kind == OVERFLOW) {\r\n                    \twriter1.println(&quot;Overflow event is caught.&quot;);\r\n                        continue;\r\n                    }\r\n    \r\n                    // Context for directory entry event is the file name of entry\r\n                    WatchEvent&lt;Path&gt; ev = cast(event);\r\n                    Path name = ev.context();\r\n                    Path child = dir.resolve(name);\r\n    \r\n                    // print out event\r\n                    System.out.format(&quot;%s: %s\\n&quot;, event.kind().name(), child);\r\n                    writer1.println(&quot;Event Kind is &quot;+event.kind().name() +&quot; And Name is &quot;+child);\r\n    \r\n                    // if directory is created, and watching recursively, then\r\n                    // register it and its sub-directories\r\n                    if (recursive &amp;&amp; (kind == ENTRY_CREATE)) {\r\n                        try {\r\n                            if (Files.isDirectory(child, NOFOLLOW_LINKS)) {\r\n                                registerAll(child, writer1);\r\n                            }\r\n                        } catch (Exception x) {\r\n                            // ignore to keep sample readbale\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                // reset key and remove from set if directory no longer accessible\r\n                boolean valid = key.reset();\r\n                if (!valid) {\r\n                    keys.remove(key);\r\n    \r\n                    // all directories are inaccessible\r\n                    if (keys.isEmpty()) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        static void usage() {\r\n            System.err.println(&quot;usage: java WatchDir [-r] dir&quot;);\r\n            System.exit(-1);\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            // register directory and process its events\r\n        \tPrintWriter writer = new PrintWriter(&quot;C:\\\\test\\\\watch.txt&quot;);\r\n        \tPath dir = Paths.get(&quot;\\\\\\\\Server1\\\\Shared Folder\\\\test&quot;);\r\n            new WatchDir(dir, true,writer).processEvents();\r\n        }\r\n    }\r\n\r\nI have tried this with JDK8 and JDK 11 both are giving the same issue.\r\n","title":"Java Watch Service cannot watch more than 50-60 folders defined as UNC Path in Hierarchy","body":"<p>I have been trying to watch folders through UNC. There are a lot of folders in the main folder. When I run the watch service it is registering all the folders with watch service. After all these folders are registered the watch service receives the events with Invalid key i-e key.isValid() returns false. And at this moment the particular folder is excluded from watch. I have reset the key but it is also giving me false. In short I am unable to watch for those folders which are excluded from key. I even tried to re register the folders but that again generates the invalid key and cannot be watched. I have tried this with normal folders in the same machine. They are working fine. Please help me if I am missing something. If I limit the folders to around 50-60 watch service doesn't receive any invalid key event and everything is working fine.</p>\n\n<p>This is the code that will create number of folders.</p>\n\n<pre><code>import java.io.File;\n\npublic class CreateDir {\n    public static void main(String args[]){\n        for(int j=0; j&lt;1000; j++){\n            String folderName = \"Folder\"+j;\n            new File(\"\\\\\\\\Server2\\\\Shared Folder\\\\test\\\\\" + folderName + \"\\\\\" + folderName + \"_Folder1\" + \"\\\\\" + folderName + \"_Folder2\" + \"\\\\\"\n                    + folderName + \"_Folder3\" + \"\\\\\" + folderName + \"_Folder4\" + \"\\\\\" + folderName + \"_Folder5\"+\"\\\\\"\n                    + folderName + \"_Folder6\" + \"\\\\\" + folderName + \"_Folder7\" + \"\\\\\" + folderName + \"_Folder8\" + \"\\\\\"\n                    + folderName + \"_Folder9\" + \"\\\\\" + folderName + \"_Folder10\").mkdirs();\n        }\n\n    }\n}\n</code></pre>\n\n<p>This is the class that is actually watching these UNC Paths and giving information regarding events.</p>\n\n<pre><code>import java.nio.file.*;\nimport static java.nio.file.StandardWatchEventKinds.*;\nimport static java.nio.file.LinkOption.*;\nimport java.nio.file.attribute.*;\nimport java.io.*;\nimport java.util.*;\n\npublic class WatchDir {\n\n    private final WatchService watcher;\n    private final Map&lt;WatchKey,Path&gt; keys;\n    private final boolean recursive;\n    private boolean trace = false;\n    private int total = 0;\n\n    @SuppressWarnings(\"unchecked\")\n    static &lt;T&gt; WatchEvent&lt;T&gt; cast(WatchEvent&lt;?&gt; event) {\n        return (WatchEvent&lt;T&gt;)event;\n    }\n\n    /**\n     * Register the given directory with the WatchService\n     */\n    private void register(Path dir, PrintWriter writer) throws IOException {\n        WatchKey key = dir.register(watcher, ENTRY_CREATE, ENTRY_DELETE, ENTRY_MODIFY);\n        if (trace) {\n            Path prev = keys.get(key);\n            if (prev == null) {\n                writer.println(\"register:\"+dir);\n            } else {\n                if (!dir.equals(prev)) {\n                    writer.println(\"update.........\");\n                }\n            }\n        }\n        keys.put(key, dir);\n    }\n\n    /**\n     * Register the given directory, and all its sub-directories, with the\n     * WatchService.\n     */\n    private void registerAll(final Path start, PrintWriter writer){\n        // register directory and sub-directories\n        try{\n        Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\n            @Override\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs)\n            {\n                writer.println(++total+\"Registering Path....\"+dir.toUri());\n\n                try{\n                    register(dir,writer);\n                }catch(IOException ex){\n                    writer.println(\"Error occurred for Path...\"+dir.getFileName());\n                }catch(Exception ex){\n                    System.out.println(\"error\");\n                }\n                return FileVisitResult.CONTINUE;\n            }\n        });\n        }catch(Exception ex){\n            writer.println(\"Not Registered .....\"+ex.getMessage());\n        }\n    }\n\n    /**\n     * Creates a WatchService and registers the given directory\n     */\n    WatchDir(Path dir, boolean recursive, PrintWriter writer) throws IOException {\n        this.watcher = FileSystems.getDefault().newWatchService();\n        this.keys = new HashMap&lt;WatchKey,Path&gt;();\n        this.recursive = recursive;\n\n        if (recursive) {\n            System.out.println(\"Starting Registering Path\");\n            writer.println(\"Scanning %s ...\\n\"+ dir);\n            registerAll(dir, writer);\n            writer.println(\"Done.\");\n            System.out.println(\"Done\");\n            writer.println(\"Total Folders in Watch \"+ total);\n            System.out.println(\"Total Folders in Watch \"+ total);\n        } else {\n            register(dir,writer);\n        }\n\n        // enable trace after initial registration\n        this.trace = true;\n    }\n\n    /**\n     * Process all events for keys queued to the watcher\n     * @throws UnsupportedEncodingException \n     * @throws FileNotFoundException \n     */\n    void processEvents() throws FileNotFoundException, UnsupportedEncodingException {\n        PrintWriter writer1 = new PrintWriter(\"C:\\\\test\\\\key.txt\");\n        for (;;) {\n\n            // wait for key to be signalled\n            WatchKey key;\n            try {\n                key = watcher.take();\n                writer1.println(\"Folder is \"+key.watchable()+\" And Key is \"+ key.isValid());\n                System.out.println(\"Folder is \"+key.watchable()+\" And Key is \"+ key.isValid());\n            } catch (InterruptedException x) {\n                writer1.println(\"Interupped Exception.........\");\n                return;\n            }\n\n            Path dir = keys.get(key);\n            if (dir == null) {\n                writer1.println(\"WatchKey not recognized!!\");\n                continue;\n            }\n\n            for (WatchEvent&lt;?&gt; event: key.pollEvents()) {\n                WatchEvent.Kind kind = event.kind();\n\n                // TBD - provide example of how OVERFLOW event is handled\n                if (kind == OVERFLOW) {\n                    writer1.println(\"Overflow event is caught.\");\n                    continue;\n                }\n\n                // Context for directory entry event is the file name of entry\n                WatchEvent&lt;Path&gt; ev = cast(event);\n                Path name = ev.context();\n                Path child = dir.resolve(name);\n\n                // print out event\n                System.out.format(\"%s: %s\\n\", event.kind().name(), child);\n                writer1.println(\"Event Kind is \"+event.kind().name() +\" And Name is \"+child);\n\n                // if directory is created, and watching recursively, then\n                // register it and its sub-directories\n                if (recursive &amp;&amp; (kind == ENTRY_CREATE)) {\n                    try {\n                        if (Files.isDirectory(child, NOFOLLOW_LINKS)) {\n                            registerAll(child, writer1);\n                        }\n                    } catch (Exception x) {\n                        // ignore to keep sample readbale\n                    }\n                }\n            }\n\n            // reset key and remove from set if directory no longer accessible\n            boolean valid = key.reset();\n            if (!valid) {\n                keys.remove(key);\n\n                // all directories are inaccessible\n                if (keys.isEmpty()) {\n                    break;\n                }\n            }\n        }\n    }\n\n    static void usage() {\n        System.err.println(\"usage: java WatchDir [-r] dir\");\n        System.exit(-1);\n    }\n\n    public static void main(String[] args) throws IOException {\n        // register directory and process its events\n        PrintWriter writer = new PrintWriter(\"C:\\\\test\\\\watch.txt\");\n        Path dir = Paths.get(\"\\\\\\\\Server1\\\\Shared Folder\\\\test\");\n        new WatchDir(dir, true,writer).processEvents();\n    }\n}\n</code></pre>\n\n<p>I have tried this with JDK8 and JDK 11 both are giving the same issue.</p>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1511766061,"post_id":47505374,"comment_id":81966648,"body_markdown":"The program has stopped running, so there are no variables anymore. If the breakpoint never breaks, then the code stops running *before* getting to that point. Perhaps it threw an exception and you should look at the program output.","body":"The program has stopped running, so there are no variables anymore. If the breakpoint never breaks, then the code stops running <i>before</i> getting to that point. Perhaps it threw an exception and you should look at the program output."},{"owner":{"display_name":"user8097737"},"score":0,"creation_date":1511766098,"post_id":47505374,"comment_id":81966664,"body_markdown":"Whats the difference to your old question? [Eclipse debug execute Java program without stopping at breakpoint](https://stackoverflow.com/q/47483566/8097737)","body":"Whats the difference to your old question? <a href=\"https://stackoverflow.com/q/47483566/8097737\">Eclipse debug execute Java program without stopping at breakpoint</a>"},{"owner":{"account_id":2629417,"reputation":812,"user_id":2275765,"display_name":"Greg H"},"score":0,"creation_date":1511766104,"post_id":47505374,"comment_id":81966668,"body_markdown":"Are you running with Debug as or Run as? Starting with Run won&#39;t attach the debugger.","body":"Are you running with Debug as or Run as? Starting with Run won&#39;t attach the debugger."},{"owner":{"account_id":12345040,"reputation":35,"user_id":9006388,"display_name":"mahesh babu"},"score":0,"creation_date":1511766390,"post_id":47505374,"comment_id":81966768,"body_markdown":"@Andreas Here i cannot understand why my code won&#39;t break at breakpoint ?","body":"@Andreas Here i cannot understand why my code won&#39;t break at breakpoint ?"},{"owner":{"account_id":12345040,"reputation":35,"user_id":9006388,"display_name":"mahesh babu"},"score":0,"creation_date":1511766443,"post_id":47505374,"comment_id":81966794,"body_markdown":"@GregH I did it with debug as","body":"@GregH I did it with debug as"},{"owner":{"display_name":"user8097737"},"score":0,"creation_date":1511771633,"post_id":47505374,"comment_id":81968961,"body_markdown":"@maheshbabu Read and follow this tutorial: [Java Debugging with Eclipse](http://www.vogella.com/tutorials/EclipseDebugging/article.html). If you still have the problem, edit your post to provide a step by step explanation what you want, what you have done and what doesn&#39;t work as intended. By the way your breakpoint looks odd, i can&#39;t find the icon (crossed out `T`) on [JDT Icons](http://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-icons.htm).","body":"@maheshbabu Read and follow this tutorial: <a href=\"http://www.vogella.com/tutorials/EclipseDebugging/article.html\" rel=\"nofollow noreferrer\">Java Debugging with Eclipse</a>. If you still have the problem, edit your post to provide a step by step explanation what you want, what you have done and what doesn&#39;t work as intended. By the way your breakpoint looks odd, i can&#39;t find the icon (crossed out <code>T</code>) on <a href=\"http://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-icons.htm\" rel=\"nofollow noreferrer\">JDT Icons</a>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":4,"creation_date":1511804216,"post_id":47505374,"comment_id":81989421,"body_markdown":"The breakpoint icon looks like it&#39;s conditioned on a [Trigger Point breakpoint](https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm) (it has a `T` with a slash) located outside the viewable code. Try removing *all* breakpoints, then re-add the one you want. The breakpoint icon should be a circle with no markers.","body":"The breakpoint icon looks like it&#39;s conditioned on a <a href=\"https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm\" rel=\"nofollow noreferrer\">Trigger Point breakpoint</a> (it has a <code>T</code> with a slash) located outside the viewable code. Try removing <i>all</i> breakpoints, then re-add the one you want. The breakpoint icon should be a circle with no markers."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1511804444,"post_id":47505374,"comment_id":81989549,"body_markdown":"@devpuh A breakpoint with a `T` is a [Trigger Point](https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm), and when one of those exist, all other breakpoints are marked with a **cut `T`** (like the one in the question), to show that they won&#39;t fire until the Trigger Point has been reached. OP has probably been playing with breakpoints and has marked another breakpoint elsewhere as a Trigger Point, thereby *disabled* all triggers, since code never reaches the trigger point.","body":"@devpuh A breakpoint with a <code>T</code> is a <a href=\"https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm\" rel=\"nofollow noreferrer\">Trigger Point</a>, and when one of those exist, all other breakpoints are marked with a <b>cut <code>T</code></b> (like the one in the question), to show that they won&#39;t fire until the Trigger Point has been reached. OP has probably been playing with breakpoints and has marked another breakpoint elsewhere as a Trigger Point, thereby <i>disabled</i> all triggers, since code never reaches the trigger point."},{"owner":{"display_name":"user8097737"},"score":0,"creation_date":1511850374,"post_id":47505374,"comment_id":82006471,"body_markdown":"@Andreas I still use a old version of eclipse and haven&#39;t seen any Trigger Point and no documentation has mention it. I should definitely read the eclipse news, for example [Debugging the Eclipse IDE for Java Developers](https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php). Also your comment is the answer to the question.","body":"@Andreas I still use a old version of eclipse and haven&#39;t seen any Trigger Point and no documentation has mention it. I should definitely read the eclipse news, for example <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php\" rel=\"nofollow noreferrer\">Debugging the Eclipse IDE for Java Developers</a>. Also your comment is the answer to the question."},{"owner":{"account_id":2142316,"reputation":163,"user_id":1900683,"display_name":"Afser2000"},"score":0,"creation_date":1593281597,"post_id":47505374,"comment_id":110727138,"body_markdown":"Be sure to check if &#39;Skip all Breakpoints&#39; toggle is not switched on by mistake in Breakpoints view in Eclipse.","body":"Be sure to check if &#39;Skip all Breakpoints&#39; toggle is not switched on by mistake in Breakpoints view in Eclipse."}],"answers":[{"tags":[],"owner":{"display_name":"user8097737"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1511878033,"creation_date":1511854166,"answer_id":47526177,"question_id":47505374,"body_markdown":"[Andreas](https://stackoverflow.com/questions/47505374/java-application-debug-in-eclipse#comment81989421_47505374) has already answered the question, your Problem is cause by a [`Trigger Point`](https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm).  \r\n(These are introduced in Eclipse Oxygen)\r\n\r\n\r\nIn your workspace is at least one breakpoint defined as a `Trigger Point` (Icon: [![Trigger Point Icon][1]][1]), therefore all other breakpoints (Icon: [![Suppressed Breakpoint Icon][2]][2]) are suppressed as long as no `Trigger Point` is hit.\r\n\r\nUnfortunately you have probably defined somewhere in your workspace a `Trigger Point` which is never triggered (or not before the other breakpoints) so eclipse would never stop.\r\n\r\nTo fix this you can disable all `Trigger Points` or remove all breakpoints and only set those which you really need.\r\n\r\n---\r\n\r\nHere is a example for a misused `Trigger Point`:\r\n[![Workspace with unreached Trigger Point][3]][3]\r\n\r\nAs you can see the Breakpoint on line 10 is defined as a `Trigger Point` but is in a private method which is never called, therefore the Breakpoint at line 6 will never stop the program.\r\n\r\nNow we just disable the faulty Breakpoint at line 10 and eclipse will stop as intended on line 6.\r\n\r\n[![Workspace with unreached disabled Trigger Point][4]][4]\r\n\r\n---\r\nAlso read [Debugging the Eclipse IDE for Java Developers](https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php) for the new debugging functions in Eclipse Oxygen.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wXxf1.jpg\r\n  [2]: https://i.stack.imgur.com/xfwFM.jpg\r\n  [3]: https://i.stack.imgur.com/4DACl.jpg\r\n  [4]: https://i.stack.imgur.com/bDYL3.jpg","title":"Java breakpoint, annotated with a crossed out T, fails to trigger in Eclipse","body":"<p><a href=\"https://stackoverflow.com/questions/47505374/java-application-debug-in-eclipse#comment81989421_47505374\">Andreas</a> has already answered the question, your Problem is cause by a <a href=\"https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fbreakpoints%2Fref-triggerpoint_option.htm\" rel=\"noreferrer\"><code>Trigger Point</code></a>.<br>\n(These are introduced in Eclipse Oxygen)</p>\n\n<p>In your workspace is at least one breakpoint defined as a <code>Trigger Point</code> (Icon: <a href=\"https://i.stack.imgur.com/wXxf1.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wXxf1.jpg\" alt=\"Trigger Point Icon\"></a>), therefore all other breakpoints (Icon: <a href=\"https://i.stack.imgur.com/xfwFM.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xfwFM.jpg\" alt=\"Suppressed Breakpoint Icon\"></a>) are suppressed as long as no <code>Trigger Point</code> is hit.</p>\n\n<p>Unfortunately you have probably defined somewhere in your workspace a <code>Trigger Point</code> which is never triggered (or not before the other breakpoints) so eclipse would never stop.</p>\n\n<p>To fix this you can disable all <code>Trigger Points</code> or remove all breakpoints and only set those which you really need.</p>\n\n<hr>\n\n<p>Here is a example for a misused <code>Trigger Point</code>:\n<a href=\"https://i.stack.imgur.com/4DACl.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4DACl.jpg\" alt=\"Workspace with unreached Trigger Point\"></a></p>\n\n<p>As you can see the Breakpoint on line 10 is defined as a <code>Trigger Point</code> but is in a private method which is never called, therefore the Breakpoint at line 6 will never stop the program.</p>\n\n<p>Now we just disable the faulty Breakpoint at line 10 and eclipse will stop as intended on line 6.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bDYL3.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bDYL3.jpg\" alt=\"Workspace with unreached disabled Trigger Point\"></a></p>\n\n<hr>\n\n<p>Also read <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php\" rel=\"noreferrer\">Debugging the Eclipse IDE for Java Developers</a> for the new debugging functions in Eclipse Oxygen.</p>\n"}],"owner":{"account_id":12345040,"reputation":35,"user_id":9006388,"display_name":"mahesh babu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":1,"score":0,"last_activity_date":1690183242,"creation_date":1511765640,"question_id":47505374,"body_markdown":"![enter image description here][1]\r\n\r\nCan not get variable value in debug view and eclipse can not stop execution at breakpoint \r\n\r\n\r\n    import java.io.*;\r\n    import jxl.*;\r\n    \r\n    public class Excelread {\r\n    \tpublic static void main(String[] args) throws Throwable {\r\n    \t\tString Filename = &quot;C:\\\\library\\\\TestData.xls&quot;;\r\n    \t\tString Sheetname = &quot;Source&quot;;\r\n    \t\tString[][] arrayExcelData = null;\r\n    \t\tFileInputStream fis = new FileInputStream(Filename);\r\n    \t\tWorkbook WB = Workbook.getWorkbook(fis);\r\n    \t\tSheet SH = WB.getSheet(Sheetname);\r\n    \t\tint TotalCol = SH.getColumns();\r\n    \t\tint TotalRow = SH.getRows();\r\n    \t\tSystem.out.println(TotalCol + &quot; &quot; + TotalRow);\r\n    \t\tarrayExcelData = new String[TotalRow][TotalCol];\r\n    \t\tfor (int i = 0; i &lt; TotalRow; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; TotalCol; j++) {\r\n    \t\t\t\tarrayExcelData[i][j] = SH.getCell(j, i).getContents();\r\n    \t\t\t\tSystem.out.print(arrayExcelData[i][j] + &quot;\\t&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J4Ahy.png","title":"Java breakpoint, annotated with a crossed out T, fails to trigger in Eclipse","body":"<p><img src=\"https://i.stack.imgur.com/J4Ahy.png\" alt=\"enter image description here\"></p>\n\n<p>Can not get variable value in debug view and eclipse can not stop execution at breakpoint </p>\n\n<pre><code>import java.io.*;\nimport jxl.*;\n\npublic class Excelread {\n    public static void main(String[] args) throws Throwable {\n        String Filename = \"C:\\\\library\\\\TestData.xls\";\n        String Sheetname = \"Source\";\n        String[][] arrayExcelData = null;\n        FileInputStream fis = new FileInputStream(Filename);\n        Workbook WB = Workbook.getWorkbook(fis);\n        Sheet SH = WB.getSheet(Sheetname);\n        int TotalCol = SH.getColumns();\n        int TotalRow = SH.getRows();\n        System.out.println(TotalCol + \" \" + TotalRow);\n        arrayExcelData = new String[TotalRow][TotalCol];\n        for (int i = 0; i &lt; TotalRow; i++) {\n            for (int j = 0; j &lt; TotalCol; j++) {\n                arrayExcelData[i][j] = SH.getCell(j, i).getContents();\n                System.out.print(arrayExcelData[i][j] + \"\\t\");\n            }\n            System.out.println();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1689975561,"post_id":76741370,"comment_id":135293778,"body_markdown":"What does 13 mean? Is it `&quot;create table&quot;.length()`? If so, then do that.","body":"What does 13 mean? Is it <code>&quot;create table&quot;.length()</code>? If so, then do that."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689975660,"post_id":76741370,"comment_id":135293796,"body_markdown":"Title: &quot;get index of last character in the string&quot; -&gt; `string.length()-1` - but I do not understand how the title is related to the question","body":"Title: &quot;get index of last character in the string&quot; -&gt; <code>string.length()-1</code> - but I do not understand how the title is related to the question"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1689975677,"post_id":76741370,"comment_id":135293798,"body_markdown":"Also, be very careful about building SQL statements in a string by manually appending strings together. This potentially makes your code vulnerable to a SQL injection attack. Where does the value of `db` come from? If the user can enter anything they want here, then then can add any code they want to your query, such as drop table, insert any data they want, etc.","body":"Also, be very careful about building SQL statements in a string by manually appending strings together. This potentially makes your code vulnerable to a SQL injection attack. Where does the value of <code>db</code> come from? If the user can enter anything they want here, then then can add any code they want to your query, such as drop table, insert any data they want, etc."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689982305,"post_id":76741370,"comment_id":135294399,"body_markdown":"Your question is unclear; please show variable input and desired output.","body":"Your question is unclear; please show variable input and desired output."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":1,"creation_date":1689989646,"post_id":76741370,"comment_id":135294757,"body_markdown":"I don&#39;t get it. Can anyone create a table in your case? Is the `CREATE TABLE` statement auto-generated? Are the table and field names variables or something? If not...just fix your SQL string instead of writing code to do that for you. If so...then fix the code that generates the SQL String to ensure table and field names are handled correctly.","body":"I don&#39;t get it. Can anyone create a table in your case? Is the <code>CREATE TABLE</code> statement auto-generated? Are the table and field names variables or something? If not...just fix your SQL string instead of writing code to do that for you. If so...then fix the code that generates the SQL String to ensure table and field names are handled correctly."}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690182610,"creation_date":1689978275,"answer_id":76741561,"question_id":76741370,"body_markdown":"Two things here:\r\n 1. Yes, there is a simple way to insert a string within a string\r\n 2. No, you generally should **NOT** use string concatenation or the options provided for solving *(1)* when you create a database query and use user provided data to build this query because that is a serious security issue as it makes you vulnerable to [SQL injection](https://owasp.org/www-community/attacks/SQL_Injection). You can e.g. use [`PreparedStatement`s](https://www.geeksforgeeks.org/how-to-use-preparedstatement-in-java/) in Java to solve that issue.\r\n\r\n## Insert string\r\nHere you have a couple of options:\r\n\r\n&gt; This is not an exhaustive list, but covers the most important/ common ways to do this.\r\n\r\n### Concatenation\r\n```java\r\nString myName = &quot;John&quot;;\r\nSystem.out.println(&quot;My name is &quot; + myName + &quot; and I welcome you!&quot;); // My name is John and I welcome you!\r\n```\r\n\r\n### [`String.format()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)) (since Java 1.5)\r\n```java\r\nString myName = &quot;John&quot;;\r\nSystem.out.println(String.format(&quot;My name is %s and I welcome you!&quot;, myName)); // My name is John and I welcome you!\r\n```\r\n\r\nYou can actually in this case use `System.out.printf()` to combine those two calls (You need to add a new line though using `%n` or `\\n`):\r\n```java\r\nString myName = &quot;John&quot;;\r\nSystem.out.printf(&quot;My name is %s and I welcome you!%n&quot;, myName); // My name is John and I welcome you!\r\n```\r\n\r\n\r\n### [`.formatted()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)) (since Java 15)\r\n```java\r\nString myName = &quot;John&quot;;\r\nSystem.out.println(&quot;My name is %s and I welcome you!&quot;.formatted(myName)); // My name is John and I welcome you!\r\n```\r\n\r\n### [`Formatter`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html) (since Java 1.5)\r\n\r\nHere you can use an [`Appendable`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Appendable.html) (and others) which makes it possible to use a `StringBuilder` and append many formatted strings.\r\n```java\r\nStringBuilder sb = new StringBuilder();\r\nFormatter formatter = new Formatter(sb);\r\nString myName = &quot;John&quot;;\r\nint myAge = 43;\r\nformatter.format(&quot;My name is %s. &quot;, myName);\r\nformatter.format(&quot;I am %d years old.&quot;, myAge);\r\nSystem.out.println(sb); // My name is John. I am 43 years old\r\n``` \r\n\r\nGenerally it&#39;s a good idea to familiarize yourself with [format specifiers](https://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm).\r\n\r\n## Building a SQL query\r\nThe aforementioned options should generally not be used to create SQL queries using user provided data as this will make your application vulnerable to SQL injection.\r\n\r\nPlease head over to [OWASP](https://owasp.org/www-community/attacks/SQL_Injection) and read through the description and examples of SQL injection attacks so you get an understanding of why that&#39;s vital. It&#39;s fairly simple to understand but also very simple to perform the attack, that&#39;s why you will almost certainly be exposed to it (if your software is out in the world of course). \r\n\r\nHowever, the good news is, it&#39;s also easy to prevent an successful attack using prepared statements like e.g.\r\n```java\r\nConnection connection = DriverManager.getConnection(&quot;replace with valid URL to database&quot;);\r\nString customerId = &quot;x123&quot;;\r\nString query = &quot;SELECT firstname, lastname FROM customers WHERE id = ?&quot;;\r\nPreparedStatement pstmt = connection.prepareStatement(query);\r\n// provide position (1-based) and value you want to have instead of ?\r\npstmt.setString(1, customerId);\r\nResultSet results = pstmt.executeQuery();\r\n```\r\n\r\n&gt; You will need to add some error/ exception handling which I left out by reason of brevity.\r\n\r\n&gt; **Important**: Performing a SQL attack is **illegal**, so don&#39;t just go visit websites and check whether they`re vulnerable to SQL injection. Use your own local progams/ sites or [OWASP WebGoat](https://owasp.org/www-project-webgoat/) which is specifically created for this purpose.\r\n\r\n### Edit: \r\nAs outlined in the comments one limitation is that you cannot use `PreparedStatment`s for column names or table names, so how to work around that?\r\n\r\nFirst, let me start by saying that there is one important detail I was missing, which is obvious though. You can only have a SQL injection when the value is supplied by an malicious user, therefore if you can guarantee that the query can be created without user input you can use string concatenation and you should be fine.\r\n\r\nHowever, I personally wouldn&#39;t trust that, since you have to trust e.g. your fellow colleagues to use a method like `public ResultSet selectFromColumn(String columnName)` correctly (without the `columnName` being supplied by a user). So the only option you have left is to validate yourself. \r\n\r\nOne option here would be **whitelisting** i. e. have a list of valid column names that can safely be used. Typically database systems have a table which stores metadata information about schemas and tables (e.g. `information_schema.tables` in Postgres), so it&#39;s easy to get all valid column names of a table and check against these.\r\n\r\nOf course it also helps if your database user is setup properly following the [Need to know principle](https://en.wikipedia.org/wiki/Need_to_know) and you have suffient logging as well as authentication and authorization setup properly.\r\n\r\nLast but not least, it all depends on your application. Is it gonna be publicly exposed? Who are going to be the users? What&#39;s the purpose of the application? If it&#39;s for a simple application that should help students learn SQL a well setup database user is probably enough as you want students to be able to mess around with the data in the database system, but maybe do not give them administrative privileges or access to system-relevant tables. ","title":"Is there a way to get index of last character in the string","body":"<p>Two things here:</p>\n<ol>\n<li>Yes, there is a simple way to insert a string within a string</li>\n<li>No, you generally should <strong>NOT</strong> use string concatenation or the options provided for solving <em>(1)</em> when you create a database query and use user provided data to build this query because that is a serious security issue as it makes you vulnerable to <a href=\"https://owasp.org/www-community/attacks/SQL_Injection\" rel=\"nofollow noreferrer\">SQL injection</a>. You can e.g. use <a href=\"https://www.geeksforgeeks.org/how-to-use-preparedstatement-in-java/\" rel=\"nofollow noreferrer\"><code>PreparedStatement</code>s</a> in Java to solve that issue.</li>\n</ol>\n<h2>Insert string</h2>\n<p>Here you have a couple of options:</p>\n<blockquote>\n<p>This is not an exhaustive list, but covers the most important/ common ways to do this.</p>\n</blockquote>\n<h3>Concatenation</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String myName = &quot;John&quot;;\nSystem.out.println(&quot;My name is &quot; + myName + &quot; and I welcome you!&quot;); // My name is John and I welcome you!\n</code></pre>\n<h3><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String.format()</code></a> (since Java 1.5)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String myName = &quot;John&quot;;\nSystem.out.println(String.format(&quot;My name is %s and I welcome you!&quot;, myName)); // My name is John and I welcome you!\n</code></pre>\n<p>You can actually in this case use <code>System.out.printf()</code> to combine those two calls (You need to add a new line though using <code>%n</code> or <code>\\n</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String myName = &quot;John&quot;;\nSystem.out.printf(&quot;My name is %s and I welcome you!%n&quot;, myName); // My name is John and I welcome you!\n</code></pre>\n<h3><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>.formatted()</code></a> (since Java 15)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String myName = &quot;John&quot;;\nSystem.out.println(&quot;My name is %s and I welcome you!&quot;.formatted(myName)); // My name is John and I welcome you!\n</code></pre>\n<h3><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\"><code>Formatter</code></a> (since Java 1.5)</h3>\n<p>Here you can use an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Appendable.html\" rel=\"nofollow noreferrer\"><code>Appendable</code></a> (and others) which makes it possible to use a <code>StringBuilder</code> and append many formatted strings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb = new StringBuilder();\nFormatter formatter = new Formatter(sb);\nString myName = &quot;John&quot;;\nint myAge = 43;\nformatter.format(&quot;My name is %s. &quot;, myName);\nformatter.format(&quot;I am %d years old.&quot;, myAge);\nSystem.out.println(sb); // My name is John. I am 43 years old\n</code></pre>\n<p>Generally it's a good idea to familiarize yourself with <a href=\"https://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm\" rel=\"nofollow noreferrer\">format specifiers</a>.</p>\n<h2>Building a SQL query</h2>\n<p>The aforementioned options should generally not be used to create SQL queries using user provided data as this will make your application vulnerable to SQL injection.</p>\n<p>Please head over to <a href=\"https://owasp.org/www-community/attacks/SQL_Injection\" rel=\"nofollow noreferrer\">OWASP</a> and read through the description and examples of SQL injection attacks so you get an understanding of why that's vital. It's fairly simple to understand but also very simple to perform the attack, that's why you will almost certainly be exposed to it (if your software is out in the world of course).</p>\n<p>However, the good news is, it's also easy to prevent an successful attack using prepared statements like e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection connection = DriverManager.getConnection(&quot;replace with valid URL to database&quot;);\nString customerId = &quot;x123&quot;;\nString query = &quot;SELECT firstname, lastname FROM customers WHERE id = ?&quot;;\nPreparedStatement pstmt = connection.prepareStatement(query);\n// provide position (1-based) and value you want to have instead of ?\npstmt.setString(1, customerId);\nResultSet results = pstmt.executeQuery();\n</code></pre>\n<blockquote>\n<p>You will need to add some error/ exception handling which I left out by reason of brevity.</p>\n</blockquote>\n<blockquote>\n<p><strong>Important</strong>: Performing a SQL attack is <strong>illegal</strong>, so don't just go visit websites and check whether they`re vulnerable to SQL injection. Use your own local progams/ sites or <a href=\"https://owasp.org/www-project-webgoat/\" rel=\"nofollow noreferrer\">OWASP WebGoat</a> which is specifically created for this purpose.</p>\n</blockquote>\n<h3>Edit:</h3>\n<p>As outlined in the comments one limitation is that you cannot use <code>PreparedStatment</code>s for column names or table names, so how to work around that?</p>\n<p>First, let me start by saying that there is one important detail I was missing, which is obvious though. You can only have a SQL injection when the value is supplied by an malicious user, therefore if you can guarantee that the query can be created without user input you can use string concatenation and you should be fine.</p>\n<p>However, I personally wouldn't trust that, since you have to trust e.g. your fellow colleagues to use a method like <code>public ResultSet selectFromColumn(String columnName)</code> correctly (without the <code>columnName</code> being supplied by a user). So the only option you have left is to validate yourself.</p>\n<p>One option here would be <strong>whitelisting</strong> i. e. have a list of valid column names that can safely be used. Typically database systems have a table which stores metadata information about schemas and tables (e.g. <code>information_schema.tables</code> in Postgres), so it's easy to get all valid column names of a table and check against these.</p>\n<p>Of course it also helps if your database user is setup properly following the <a href=\"https://en.wikipedia.org/wiki/Need_to_know\" rel=\"nofollow noreferrer\">Need to know principle</a> and you have suffient logging as well as authentication and authorization setup properly.</p>\n<p>Last but not least, it all depends on your application. Is it gonna be publicly exposed? Who are going to be the users? What's the purpose of the application? If it's for a simple application that should help students learn SQL a well setup database user is probably enough as you want students to be able to mess around with the data in the database system, but maybe do not give them administrative privileges or access to system-relevant tables.</p>\n"}],"owner":{"account_id":1927109,"reputation":127,"user_id":1737273,"accept_rate":0,"display_name":"vasu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690182610,"creation_date":1689975331,"question_id":76741370,"body_markdown":"I need to insert a String in between a String, is there a better way of doing it, currently I am doing like below which works fine, but I dont want to add **+ 13**.\r\n\r\n    String query = &quot;Create table asdas aaa (int(5), bbb varchar2(20));&quot;;\r\n\r\n        int i = query.toLowerCase().indexOf(&quot;create table&quot;);\r\n        int lengthOfCreateTable = 13;\r\n    StringBuilder sb = new StringBuilder(query);\r\n        if(i != -1)\r\n        {\r\n            StringBuilder appendStr = new StringBuilder().append(&quot;&#39;&quot;).append(db).append(&quot;&#39;&quot;).append(&quot;.&quot;);\r\n            sb.insert(i + lengthOfCreateTable,  appendStr);\r\n        }","title":"Is there a way to get index of last character in the string","body":"<p>I need to insert a String in between a String, is there a better way of doing it, currently I am doing like below which works fine, but I dont want to add <strong>+ 13</strong>.</p>\n<pre><code>String query = &quot;Create table asdas aaa (int(5), bbb varchar2(20));&quot;;\n\n    int i = query.toLowerCase().indexOf(&quot;create table&quot;);\n    int lengthOfCreateTable = 13;\nStringBuilder sb = new StringBuilder(query);\n    if(i != -1)\n    {\n        StringBuilder appendStr = new StringBuilder().append(&quot;'&quot;).append(db).append(&quot;'&quot;).append(&quot;.&quot;);\n        sb.insert(i + lengthOfCreateTable,  appendStr);\n    }\n</code></pre>\n"},{"tags":["java","arraylist","heap-memory","n-gram"],"comments":[{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689841224,"post_id":76727773,"comment_id":135271253,"body_markdown":"What ngram lib are you using? Have you tried to debug your code? \nTry to watch and inspect your memory consumption by using [visualvm](https://visualvm.github.io/).","body":"What ngram lib are you using? Have you tried to debug your code?  Try to watch and inspect your memory consumption by using <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">visualvm</a>."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689841432,"post_id":76727773,"comment_id":135271300,"body_markdown":"The error on `split` sounds like your file has the wrong line breaks, so you read the whole file as one line. Windows uses \\r\\n, Linux uses \\n, Mac uses \\r.","body":"The error on <code>split</code> sounds like your file has the wrong line breaks, so you read the whole file as one line. Windows uses \\r\\n, Linux uses \\n, Mac uses \\r."},{"owner":{"account_id":7343151,"reputation":1,"user_id":5591860,"display_name":"klavas"},"score":0,"creation_date":1689842903,"post_id":76727773,"comment_id":135271636,"body_markdown":"sorry I was not clear, when I set heap space to 8 GB line 68 is &quot;corpus.add(sentence)&quot;, which makes me think it is something to do with ArrayList. When I increase the heap space which is second trace I provided line 63 IS THE split but in my understanding which may be lacking the buffered reader does read one line than I &quot;split&quot; that line","body":"sorry I was not clear, when I set heap space to 8 GB line 68 is &quot;corpus.add(sentence)&quot;, which makes me think it is something to do with ArrayList. When I increase the heap space which is second trace I provided line 63 IS THE split but in my understanding which may be lacking the buffered reader does read one line than I &quot;split&quot; that line"},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689843663,"post_id":76727773,"comment_id":135271757,"body_markdown":"You can increase the speed and improve the memory consumption by initializing your `ArrayList` variables with reasonable sizes. The default is 10 and especially for your `corpus` it should equal the line number in your file. Otherwise the VM has to copy the `ArrayList` often when it grows.","body":"You can increase the speed and improve the memory consumption by initializing your <code>ArrayList</code> variables with reasonable sizes. The default is 10 and especially for your <code>corpus</code> it should equal the line number in your file. Otherwise the VM has to copy the <code>ArrayList</code> often when it grows."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689843670,"post_id":76727773,"comment_id":135271760,"body_markdown":"I suggest you step through your program in debug mode and look at the `line` value.","body":"I suggest you step through your program in debug mode and look at the <code>line</code> value."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689843863,"post_id":76727773,"comment_id":135271793,"body_markdown":"Another memory optimization: Instead of the `while` loop do  `reader.lines().map(line -&gt; line.split(&quot; &quot;)).map(Arrays::asList).forEach(copus::add);`","body":"Another memory optimization: Instead of the <code>while</code> loop do  <code>reader.lines().map(line -&gt; line.split(&quot; &quot;)).map(Arrays::asList).forEach(copus::add);</code>"},{"owner":{"account_id":7343151,"reputation":1,"user_id":5591860,"display_name":"klavas"},"score":0,"creation_date":1689847177,"post_id":76727773,"comment_id":135272463,"body_markdown":"@Sascha I did and indeed it is more than &quot;one&quot; line but it still should be processable because at the most it is 5 lines, now I did not check the whole file but it seemed consistent in lines","body":"@Sascha I did and indeed it is more than &quot;one&quot; line but it still should be processable because at the most it is 5 lines, now I did not check the whole file but it seemed consistent in lines"},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689852339,"post_id":76727773,"comment_id":135273418,"body_markdown":"Did you give the `corpus` variable an appropriate size, like `ArrayList&lt;ArrayList&lt;String&gt;&gt; corpus = new ArrayList&lt;&gt;(1_000_000);`","body":"Did you give the <code>corpus</code> variable an appropriate size, like <code>ArrayList&lt;ArrayList&lt;String&gt;&gt; corpus = new ArrayList&lt;&gt;(1_000_000);</code>"}],"answers":[{"tags":[],"owner":{"account_id":7343151,"reputation":1,"user_id":5591860,"display_name":"klavas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690182531,"creation_date":1690182531,"answer_id":76752131,"question_id":76727773,"body_markdown":"Alright here is how I &quot;solved&quot; the problem I set an initial array size according with @Sascha &#39;s response but it still got problems so I divided the problem and merged them later on \r\n \r\n\r\n    public static void getCorpus(String output) {\r\n        int count = 0;\r\n        int countMain = 0;\r\n        try (BufferedReader br = new BufferedReader(\r\n                new FileReader(&quot;path\\to\\corpus&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                count++;\r\n                if (count &gt; ARRAY_SIZE) {\r\n                    NGram nGram = new NGram(corpus, 2);\r\n                    saveNgram(output, nGram, countMain);\r\n                    countMain++;\r\n                    System.out.println(&quot;Clearing ArrayList &quot; + countMain);\r\n                    corpus.clear();\r\n                    count = 0;\r\n                }\r\n                String[] tokens = line.split(&quot; &quot;);\r\n                ArrayList&lt;String&gt; sentence = new ArrayList&lt;&gt;();\r\n                for (String token : tokens) {\r\n                    sentence.add(token);\r\n                }\r\n                corpus.add(sentence);\r\n            }\r\n            countMain++;\r\n            NGram nGram = new NGram(corpus, 2);\r\n            corpus.clear();\r\n            nGram.saveAsText(output + &quot;final&quot;);\r\n            String outFile = output + &quot;final&quot; + &quot;.txt&quot;;\r\n            FileWriter fWrite = new FileWriter(outFile, StandardCharsets.UTF_8);\r\n            BufferedWriter bfWrite = new BufferedWriter(fWrite);\r\n    \r\n            for (int i = 0; i &lt;= countMain; i++) {\r\n                String path = output + &quot;_part&quot; + i + &quot;.txt&quot;;\r\n    \r\n                mergeNGram(path, outFile, bfWrite);\r\n            }\r\n            fWrite.close();\r\n            bfWrite.close();\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }\r\nIt takes a String path to output file after that to save it runs saveNgram which is quite basic as it takes the output concatenate it to add partx to it and saves the NGram \r\n\r\n     private static void saveNgram(String outputPath, NGram nGram, int countMain) {\r\n            String finalPath = outputPath + &quot;_part&quot; + countMain + &quot;.txt&quot;;\r\n            File nFile = new File(finalPath);\r\n            if (!nFile.exists()) {\r\n                nGram.saveAsText(finalPath);\r\n            }\r\n        }\r\n\r\nAt the and if there are any leftover lines saves it again and calls mergeNGram which is just a BufferedReader/Writer to write to the final file \r\n\r\n       private static void mergeNGram(String path, String output, BufferedWriter bfWrite) {\r\n            File inFile = new File(path);\r\n            try (FileReader fRead = new FileReader(inFile, StandardCharsets.UTF_8)) {\r\n                BufferedReader bfRead = new BufferedReader(fRead);\r\n                String Line;\r\n                while ((Line = bfRead.readLine()) != null) {\r\n                    bfWrite.write(Line);\r\n                    bfWrite.write(System.lineSeparator());\r\n                }\r\n                bfWrite.flush();\r\n                bfRead.close();\r\n                fRead.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\nIt is nowhere near perfect but it solves my current problem and that is all I can do at the moment, special thanks to @Sascha for the help I am leaving this here so anyone with similar problem can find and adopt  \r\n\r\n","title":"Java heap space error when trying to create an NGram model","body":"<p>Alright here is how I &quot;solved&quot; the problem I set an initial array size according with @Sascha 's response but it still got problems so I divided the problem and merged them later on</p>\n<pre><code>public static void getCorpus(String output) {\n    int count = 0;\n    int countMain = 0;\n    try (BufferedReader br = new BufferedReader(\n            new FileReader(&quot;path\\to\\corpus&quot;))) {\n        String line;\n        while ((line = br.readLine()) != null) {\n            count++;\n            if (count &gt; ARRAY_SIZE) {\n                NGram nGram = new NGram(corpus, 2);\n                saveNgram(output, nGram, countMain);\n                countMain++;\n                System.out.println(&quot;Clearing ArrayList &quot; + countMain);\n                corpus.clear();\n                count = 0;\n            }\n            String[] tokens = line.split(&quot; &quot;);\n            ArrayList&lt;String&gt; sentence = new ArrayList&lt;&gt;();\n            for (String token : tokens) {\n                sentence.add(token);\n            }\n            corpus.add(sentence);\n        }\n        countMain++;\n        NGram nGram = new NGram(corpus, 2);\n        corpus.clear();\n        nGram.saveAsText(output + &quot;final&quot;);\n        String outFile = output + &quot;final&quot; + &quot;.txt&quot;;\n        FileWriter fWrite = new FileWriter(outFile, StandardCharsets.UTF_8);\n        BufferedWriter bfWrite = new BufferedWriter(fWrite);\n\n        for (int i = 0; i &lt;= countMain; i++) {\n            String path = output + &quot;_part&quot; + i + &quot;.txt&quot;;\n\n            mergeNGram(path, outFile, bfWrite);\n        }\n        fWrite.close();\n        bfWrite.close();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>It takes a String path to output file after that to save it runs saveNgram which is quite basic as it takes the output concatenate it to add partx to it and saves the NGram</p>\n<pre><code> private static void saveNgram(String outputPath, NGram nGram, int countMain) {\n        String finalPath = outputPath + &quot;_part&quot; + countMain + &quot;.txt&quot;;\n        File nFile = new File(finalPath);\n        if (!nFile.exists()) {\n            nGram.saveAsText(finalPath);\n        }\n    }\n</code></pre>\n<p>At the and if there are any leftover lines saves it again and calls mergeNGram which is just a BufferedReader/Writer to write to the final file</p>\n<pre><code>   private static void mergeNGram(String path, String output, BufferedWriter bfWrite) {\n        File inFile = new File(path);\n        try (FileReader fRead = new FileReader(inFile, StandardCharsets.UTF_8)) {\n            BufferedReader bfRead = new BufferedReader(fRead);\n            String Line;\n            while ((Line = bfRead.readLine()) != null) {\n                bfWrite.write(Line);\n                bfWrite.write(System.lineSeparator());\n            }\n            bfWrite.flush();\n            bfRead.close();\n            fRead.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>It is nowhere near perfect but it solves my current problem and that is all I can do at the moment, special thanks to @Sascha for the help I am leaving this here so anyone with similar problem can find and adopt</p>\n"}],"owner":{"account_id":7343151,"reputation":1,"user_id":5591860,"display_name":"klavas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76752131,"answer_count":1,"score":0,"last_activity_date":1690182531,"creation_date":1689839716,"question_id":76727773,"body_markdown":"&gt; In part of a larger project I need to create an NGram model using Java which is not optimal nor optional I am using JDK 20 and vs code to run the code. When I try to run the code on vs code I get:\r\n```\r\n`      Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at java.base/java.util.HashMap.resize(HashMap.java:710)\r\n        at java.base/java.util.HashMap.putVal(HashMap.java:635)\r\n        at java.base/java.util.HashMap.put(HashMap.java:618)\r\n        at Ngram.NGramNode.addNGram(NGramNode.java:277)\r\n        at Ngram.NGramNode.addNGram(NGramNode.java:280)\r\n        at Ngram.NGram.addNGramSentence(NGram.java:157)\r\n        at com.glmadu.editdistance.TRspellChecker.getCorpus(TRspellChecker.java:68)\r\n        at com.glmadu.editdistance.TRspellChecker.checkFileSpell(TRspellChecker.java:22)\r\n        at com.glmadu.App.main(App.java:21)`\r\n```\r\nError I did increase the heap space from launch.JSON to 8GB and the corpus file is around 750 MB the code piece is here \r\n\r\n\r\n```\r\nprivate static void getCorpus(String output) {\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; corpus = new ArrayList&lt;&gt;();\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;path/to/corpus&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] tokens = line.split(&quot; &quot;); //line 63\r\n                ArrayList&lt;String&gt; sentence = new ArrayList&lt;&gt;();\r\n                for (String token : tokens) {\r\n                    sentence.add(token); // line 68\r\n                }\r\n                corpus.add(sentence);\r\n            }\r\n            NGram&lt;String&gt; nGram = new NGram&lt;&gt;(corpus, 2);\r\n            nGram.saveAsText(output);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\nI do not understand how can I still get Heap space after push it to 8GB I tried with 12 and 10 but I get \r\n```\r\n&gt; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects\r\n`        at java.base/java.lang.String.split(String.java:3138)\r\n        at java.base/java.lang.String.split(String.java:3212)\r\n        at com.glmadu.editdistance.TRspellChecker.getCorpus(TRspellChecker.java:63)\r\n        at com.glmadu.editdistance.TRspellChecker.checkFileSpell(TRspellChecker.java:22)\r\n        at com.glmadu.App.main(App.java:21)\r\n`\r\n```\r\nerror when I do that. I am using vs code to run this. Thanks in advance\r\n\r\nI tried increasing the heap size, I tried reading less lines still got error even when I tried to read first 1000 lines. I tried not saving NGram model and from that I can derive it&#39;s not the NGram modeling but mode like arrays take too much space in memory, also when I checked the memory usage from task manager it sits at 4-5 GB and does not get close to 8 I allocated ","title":"Java heap space error when trying to create an NGram model","body":"<blockquote>\n<p>In part of a larger project I need to create an NGram model using Java which is not optimal nor optional I am using JDK 20 and vs code to run the code. When I try to run the code on vs code I get:</p>\n</blockquote>\n<pre><code>`      Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n        at java.base/java.util.HashMap.resize(HashMap.java:710)\n        at java.base/java.util.HashMap.putVal(HashMap.java:635)\n        at java.base/java.util.HashMap.put(HashMap.java:618)\n        at Ngram.NGramNode.addNGram(NGramNode.java:277)\n        at Ngram.NGramNode.addNGram(NGramNode.java:280)\n        at Ngram.NGram.addNGramSentence(NGram.java:157)\n        at com.glmadu.editdistance.TRspellChecker.getCorpus(TRspellChecker.java:68)\n        at com.glmadu.editdistance.TRspellChecker.checkFileSpell(TRspellChecker.java:22)\n        at com.glmadu.App.main(App.java:21)`\n</code></pre>\n<p>Error I did increase the heap space from launch.JSON to 8GB and the corpus file is around 750 MB the code piece is here</p>\n<pre><code>private static void getCorpus(String output) {\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; corpus = new ArrayList&lt;&gt;();\n\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;path/to/corpus&quot;))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                String[] tokens = line.split(&quot; &quot;); //line 63\n                ArrayList&lt;String&gt; sentence = new ArrayList&lt;&gt;();\n                for (String token : tokens) {\n                    sentence.add(token); // line 68\n                }\n                corpus.add(sentence);\n            }\n            NGram&lt;String&gt; nGram = new NGram&lt;&gt;(corpus, 2);\n            nGram.saveAsText(output);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I do not understand how can I still get Heap space after push it to 8GB I tried with 12 and 10 but I get</p>\n<pre><code>&gt; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects\n`        at java.base/java.lang.String.split(String.java:3138)\n        at java.base/java.lang.String.split(String.java:3212)\n        at com.glmadu.editdistance.TRspellChecker.getCorpus(TRspellChecker.java:63)\n        at com.glmadu.editdistance.TRspellChecker.checkFileSpell(TRspellChecker.java:22)\n        at com.glmadu.App.main(App.java:21)\n`\n</code></pre>\n<p>error when I do that. I am using vs code to run this. Thanks in advance</p>\n<p>I tried increasing the heap size, I tried reading less lines still got error even when I tried to read first 1000 lines. I tried not saving NGram model and from that I can derive it's not the NGram modeling but mode like arrays take too much space in memory, also when I checked the memory usage from task manager it sits at 4-5 GB and does not get close to 8 I allocated</p>\n"},{"tags":["java","format","decimal"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1690181834,"post_id":76752038,"comment_id":135311973,"body_markdown":"`Locale.GERMAN` should use the desired format.","body":"<code>Locale.GERMAN</code> should use the desired format."}],"answers":[{"tags":[],"owner":{"account_id":27742746,"reputation":61,"user_id":21178886,"display_name":"Piterek237"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690181914,"creation_date":1690181914,"answer_id":76752064,"question_id":76752038,"body_markdown":"Add this\r\n\r\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;#,###&quot;);\r\n    return decimalFormat.format(number);","title":"convert number to String and separated with dot","body":"<p>Add this</p>\n<pre><code>DecimalFormat decimalFormat = new DecimalFormat(&quot;#,###&quot;);\nreturn decimalFormat.format(number);\n</code></pre>\n"}],"owner":{"account_id":26355334,"reputation":55,"user_id":20012406,"display_name":"xaso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76752064,"answer_count":1,"score":1,"last_activity_date":1690181914,"creation_date":1690181614,"question_id":76752038,"body_markdown":"I want convert number to String and separated with dot like 10000000 to 10.000.000 in java \r\nhow it possible\r\n\r\nthis is work but I  looking for better solution \r\n\r\n\r\n    int number  = 10000000;\r\n    \r\n    NumberFormat format = NumberFormat.getNumberInstance(Locale.US);\r\n                \r\n    System.out.println(format.format(number).replace(&quot;,&quot;,&quot;.&quot;));","title":"convert number to String and separated with dot","body":"<p>I want convert number to String and separated with dot like 10000000 to 10.000.000 in java\nhow it possible</p>\n<p>this is work but I  looking for better solution</p>\n<pre><code>int number  = 10000000;\n\nNumberFormat format = NumberFormat.getNumberInstance(Locale.US);\n            \nSystem.out.println(format.format(number).replace(&quot;,&quot;,&quot;.&quot;));\n</code></pre>\n"},{"tags":["java","maven","telegram-bot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1690182018,"post_id":76752046,"comment_id":135312009,"body_markdown":"&quot;but didn&#39;t worked&quot; meaning what, exactly? Did it throw an exception? Did it behave differently than what you expected? What happened?","body":"&quot;but didn&#39;t worked&quot; meaning what, exactly? Did it throw an exception? Did it behave differently than what you expected? What happened?"},{"owner":{"account_id":25739501,"reputation":11,"user_id":19493711,"display_name":"Lord.Aslan"},"score":0,"creation_date":1690269847,"post_id":76752046,"comment_id":135325836,"body_markdown":"I want to test my bot, I mean to use my pc as locall server (run the project).\nbut I can not. I don&#39;t know what is the problem.\nI&#39;m new to maven projects.","body":"I want to test my bot, I mean to use my pc as locall server (run the project). but I can not. I don&#39;t know what is the problem. I&#39;m new to maven projects."}],"owner":{"account_id":25739501,"reputation":11,"user_id":19493711,"display_name":"Lord.Aslan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690181723,"creation_date":1690181723,"question_id":76752046,"body_markdown":"I have been created a menu for my telegram bot using java maven in netbeans ide. but when i hit run to test it locally from my pc and try it online, it only build my project again.\r\n\r\nmy pom.xml &#128071;\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TelBot&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n        &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n        &lt;version&gt;6.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;exec.mainClass&gt;com.mycompany.telbot.TelBot&lt;/exec.mainClass&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nmy main.java &#128071;\r\n```\r\npackage com.mycompany.telbot;\r\n\r\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\r\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\r\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\r\n            telegramBotsApi.registerBot(new Bot());\r\n        } catch (TelegramApiException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nmy bot.java &#128071;\r\n```\r\npackage com.mycompany.telbot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport jdk.nashorn.internal.ir.BreakNode;\r\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot;\r\nimport org.telegram.telegrambots.meta.api.objects.Update;\r\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.ReplyKeyboardMarkup;\r\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardButton;\r\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardRow;\r\n\r\npublic class Bot extends TelegramLongPollingBot{\r\n    @Override\r\n    public String getBotUsername() {\r\n        return &quot;-----------&quot;;\r\n    }\r\n    @Override\r\n    public String getBotToken() {\r\n        return &quot;--------------------------------------------&quot;;\r\n    }\r\n    @Override\r\n    public void onUpdateReceived(Update update) {\r\n        if(update.getMessage().getText().equals(&quot;/start&quot;)){\r\n            MainMenu();\r\n        }\r\n    }\r\n    \r\n    public void MainMenu(){\r\n        ReplyKeyboardMarkup replyKeyboardMarkup = new ReplyKeyboardMarkup();\r\n        replyKeyboardMarkup.setResizeKeyboard(true);\r\n        replyKeyboardMarkup.setSelective(true);\r\n        List&lt;KeyboardRow&gt; keyboardRowList = new ArrayList&lt;&gt;();\r\n        \r\n        KeyboardRow keyboardRow1 = new KeyboardRow();\r\n        KeyboardButton keyboardButton1 = new KeyboardButton();\r\n        keyboardButton1.setText(&quot;Some Text&quot;);\r\n        keyboardRow1.add(keyboardButton1);\r\n        \r\n        KeyboardRow keyboardRow2 = new KeyboardRow();\r\n        KeyboardButton keyboardButton2 = new KeyboardButton();\r\n        keyboardButton2.setText(&quot;Some Text&quot;);\r\n        keyboardRow2.add(keyboardButton2);\r\n        KeyboardButton keyboardButton3 = new KeyboardButton();\r\n        keyboardButton3.setText(&quot;Some Text&quot;);\r\n        keyboardRow2.add(keyboardButton3);\r\n        KeyboardButton keyboardButton4 = new KeyboardButton();\r\n        keyboardButton4.setText(&quot;Some Text&quot;);\r\n        keyboardRow2.add(keyboardButton4);\r\n        \r\n        KeyboardRow keyboardRow3 = new KeyboardRow();\r\n        KeyboardButton keyboardButton5 = new KeyboardButton();\r\n        keyboardButton5.setText(&quot;Some Text&quot;);\r\n        keyboardRow3.add(keyboardButton5);\r\n        \r\n        KeyboardRow keyboardRow4 = new KeyboardRow();\r\n        KeyboardButton keyboardButton6 = new KeyboardButton();\r\n        keyboardButton6.setText(&quot;Some Text&quot;);\r\n        keyboardRow4.add(keyboardButton6);\r\n        KeyboardButton keyboardButton7 = new KeyboardButton();\r\n        keyboardButton7.setText(&quot;Some Text&quot;);\r\n        keyboardRow4.add(keyboardButton7);\r\n        KeyboardButton keyboardButton8 = new KeyboardButton();\r\n        keyboardButton8.setText(&quot;Some Text&quot;);\r\n        keyboardRow4.add(keyboardButton8);\r\n        \r\n        keyboardRowList.add(keyboardRow1);\r\n        keyboardRowList.add(keyboardRow2);\r\n        keyboardRowList.add(keyboardRow3);\r\n        keyboardRowList.add(keyboardRow4);\r\n        replyKeyboardMarkup.setKeyboard(keyboardRowList);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI checked my bot username and api several times, and they are correct.\r\nI tried to run the compiled project (.jar file) using cmd, but didn&#39;t worked.\r\nI checked my network speed, and it&#39;s good.\r\nBy the way telegram is filtered in my country so I&#39;m using proxy &amp; VPN.","title":"How to run Java Telegram Bot","body":"<p>I have been created a menu for my telegram bot using java maven in netbeans ide. but when i hit run to test it locally from my pc and try it online, it only build my project again.</p>\n<p>my pom.xml </p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;TelBot&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n        &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n        &lt;version&gt;6.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;com.mycompany.telbot.TelBot&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>my main.java </p>\n<pre><code>package com.mycompany.telbot;\n\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        try {\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\n            telegramBotsApi.registerBot(new Bot());\n        } catch (TelegramApiException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>my bot.java </p>\n<pre><code>package com.mycompany.telbot;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport jdk.nashorn.internal.ir.BreakNode;\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot;\nimport org.telegram.telegrambots.meta.api.objects.Update;\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.ReplyKeyboardMarkup;\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardButton;\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardRow;\n\npublic class Bot extends TelegramLongPollingBot{\n    @Override\n    public String getBotUsername() {\n        return &quot;-----------&quot;;\n    }\n    @Override\n    public String getBotToken() {\n        return &quot;--------------------------------------------&quot;;\n    }\n    @Override\n    public void onUpdateReceived(Update update) {\n        if(update.getMessage().getText().equals(&quot;/start&quot;)){\n            MainMenu();\n        }\n    }\n    \n    public void MainMenu(){\n        ReplyKeyboardMarkup replyKeyboardMarkup = new ReplyKeyboardMarkup();\n        replyKeyboardMarkup.setResizeKeyboard(true);\n        replyKeyboardMarkup.setSelective(true);\n        List&lt;KeyboardRow&gt; keyboardRowList = new ArrayList&lt;&gt;();\n        \n        KeyboardRow keyboardRow1 = new KeyboardRow();\n        KeyboardButton keyboardButton1 = new KeyboardButton();\n        keyboardButton1.setText(&quot;Some Text&quot;);\n        keyboardRow1.add(keyboardButton1);\n        \n        KeyboardRow keyboardRow2 = new KeyboardRow();\n        KeyboardButton keyboardButton2 = new KeyboardButton();\n        keyboardButton2.setText(&quot;Some Text&quot;);\n        keyboardRow2.add(keyboardButton2);\n        KeyboardButton keyboardButton3 = new KeyboardButton();\n        keyboardButton3.setText(&quot;Some Text&quot;);\n        keyboardRow2.add(keyboardButton3);\n        KeyboardButton keyboardButton4 = new KeyboardButton();\n        keyboardButton4.setText(&quot;Some Text&quot;);\n        keyboardRow2.add(keyboardButton4);\n        \n        KeyboardRow keyboardRow3 = new KeyboardRow();\n        KeyboardButton keyboardButton5 = new KeyboardButton();\n        keyboardButton5.setText(&quot;Some Text&quot;);\n        keyboardRow3.add(keyboardButton5);\n        \n        KeyboardRow keyboardRow4 = new KeyboardRow();\n        KeyboardButton keyboardButton6 = new KeyboardButton();\n        keyboardButton6.setText(&quot;Some Text&quot;);\n        keyboardRow4.add(keyboardButton6);\n        KeyboardButton keyboardButton7 = new KeyboardButton();\n        keyboardButton7.setText(&quot;Some Text&quot;);\n        keyboardRow4.add(keyboardButton7);\n        KeyboardButton keyboardButton8 = new KeyboardButton();\n        keyboardButton8.setText(&quot;Some Text&quot;);\n        keyboardRow4.add(keyboardButton8);\n        \n        keyboardRowList.add(keyboardRow1);\n        keyboardRowList.add(keyboardRow2);\n        keyboardRowList.add(keyboardRow3);\n        keyboardRowList.add(keyboardRow4);\n        replyKeyboardMarkup.setKeyboard(keyboardRowList);\n    }\n}\n</code></pre>\n<p>I checked my bot username and api several times, and they are correct.\nI tried to run the compiled project (.jar file) using cmd, but didn't worked.\nI checked my network speed, and it's good.\nBy the way telegram is filtered in my country so I'm using proxy &amp; VPN.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","server-sent-events"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690108939,"post_id":76747741,"comment_id":135304620,"body_markdown":"This generally means that you have incompatible versions of dependencies on your classpath. For example, spring-web-mvc and spring-web **must have the same version**, while you have version 5.2.0 for one and 5.3.8 for another.","body":"This generally means that you have incompatible versions of dependencies on your classpath. For example, spring-web-mvc and spring-web <b>must have the same version</b>, while you have version 5.2.0 for one and 5.3.8 for another."},{"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"score":0,"creation_date":1690167069,"post_id":76747741,"comment_id":135310558,"body_markdown":"Thank you @MarkRotteveel \n\nAfter changing both version to 5.3.29 and adding &lt;async-supported&gt;true&lt;/async-supported&gt; on web.xml the problem resolved","body":"Thank you @MarkRotteveel   After changing both version to 5.3.29 and adding &lt;async-supported&gt;true&lt;/async-supported&gt; on web.xml the problem resolved"}],"answers":[{"tags":[],"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690181539,"creation_date":1690167436,"answer_id":76751137,"question_id":76747741,"body_markdown":"I have resolved this problem by following @Mark Rotteveel&#39;s comment. \r\n\r\nThe problem was with incompatible spring version. After using 5.3.29 for both spring web and web-mvc the problem has resolved. I additionally added `&lt;async-supported&gt;true&lt;/async-supported&gt;` on web.xml for async to enable async request. ","title":"&#39;IncompatibleClassChangeError&#39; while returning SseEmitter as response in Java Spring","body":"<p>I have resolved this problem by following @Mark Rotteveel's comment.</p>\n<p>The problem was with incompatible spring version. After using 5.3.29 for both spring web and web-mvc the problem has resolved. I additionally added <code>&lt;async-supported&gt;true&lt;/async-supported&gt;</code> on web.xml for async to enable async request.</p>\n"}],"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76751137,"answer_count":1,"score":0,"last_activity_date":1690181539,"creation_date":1690107843,"question_id":76747741,"body_markdown":"I am trying to implement Server Sent Event in java spring MVC with xml based configuration.But I am getting the following error message while hitting the following URL: /subscribe-sse \r\n\r\nJava Version:\r\n```\r\nsourceCompatibility = &#39;1.8&#39;\r\ntargetCompatibility = &#39;1.8&#39;\r\n\r\nServelet API: 4.0.1\r\nspring-webmvc:5.2.0\r\nspring-web:5.3.8\r\n```\r\n\r\nController: \r\n\r\n```\r\n    @GetMapping(path = &quot;/subscribe-sse&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public SseEmitter subscribe() {\r\n        SseEmitter emitter = new SseEmitter(Long.MAX_VALUE);\r\n        return emitter;\r\n    }\r\n```\r\n\r\nError I am getting: \r\n\r\n\r\n```\r\njava.lang.IncompatibleClassChangeError: Expected non-static field org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.logger\r\n\torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:128)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n\torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:502)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:596)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI was trying to implement Server Sent Event with spring boot but getting IncompatibleClassChangeError","title":"&#39;IncompatibleClassChangeError&#39; while returning SseEmitter as response in Java Spring","body":"<p>I am trying to implement Server Sent Event in java spring MVC with xml based configuration.But I am getting the following error message while hitting the following URL: /subscribe-sse</p>\n<p>Java Version:</p>\n<pre><code>sourceCompatibility = '1.8'\ntargetCompatibility = '1.8'\n\nServelet API: 4.0.1\nspring-webmvc:5.2.0\nspring-web:5.3.8\n</code></pre>\n<p>Controller:</p>\n<pre><code>    @GetMapping(path = &quot;/subscribe-sse&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public SseEmitter subscribe() {\n        SseEmitter emitter = new SseEmitter(Long.MAX_VALUE);\n        return emitter;\n    }\n</code></pre>\n<p>Error I am getting:</p>\n<pre><code>java.lang.IncompatibleClassChangeError: Expected non-static field org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.logger\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:128)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:502)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n\n</code></pre>\n<p>I was trying to implement Server Sent Event with spring boot but getting IncompatibleClassChangeError</p>\n"},{"tags":["java","arrays","size"],"comments":[{"owner":{"account_id":1813306,"reputation":145,"user_id":1648946,"display_name":"Nagaraj"},"score":0,"creation_date":1348202534,"post_id":12524318,"comment_id":18069405,"body_markdown":"Refer this link, it will give some ideas [Array List](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html) [Array Size](http://stackoverflow.com/questions/1647260/java-dynamic-array-sizes)","body":"Refer this link, it will give some ideas <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Array List</a> <a href=\"http://stackoverflow.com/questions/1647260/java-dynamic-array-sizes\">Array Size</a>"}],"answers":[{"tags":[],"owner":{"account_id":162592,"reputation":4205,"user_id":384155,"accept_rate":75,"display_name":"Osiris"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1348202327,"creation_date":1348202327,"answer_id":12524337,"question_id":12524318,"body_markdown":"Use an ArrayList. The size it automatically increased if you try to add to a full ArrayList.","title":"How to increase the size of an array in Java?","body":"<p>Use an ArrayList. The size it automatically increased if you try to add to a full ArrayList.</p>\n"},{"tags":[],"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"down_vote_count":4,"up_vote_count":16,"is_accepted":false,"score":12,"last_activity_date":1348202379,"creation_date":1348202379,"answer_id":12524346,"question_id":12524318,"body_markdown":"Instead of using an array, use an implementation of `java.util.List` such as `ArrayList`.  An ArrayList has an array backend which holds values in a list, but the array size is automatically handles by the list.\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;some string&quot;);\r\n\r\nYou can also convert the list into an array using `list.toArray(new String[list.size()])` and so forth for other element types.","title":"How to increase the size of an array in Java?","body":"<p>Instead of using an array, use an implementation of <code>java.util.List</code> such as <code>ArrayList</code>.  An ArrayList has an array backend which holds values in a list, but the array size is automatically handles by the list.</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"some string\");\n</code></pre>\n\n<p>You can also convert the list into an array using <code>list.toArray(new String[list.size()])</code> and so forth for other element types.</p>\n"},{"tags":[],"owner":{"account_id":1035491,"reputation":5746,"user_id":1042889,"accept_rate":74,"display_name":"Aamirkhan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1348202457,"creation_date":1348202457,"answer_id":12524363,"question_id":12524318,"body_markdown":"u can use array list for that\r\n\r\nhere is example for array list of string \r\n\r\n&#39;import java.io.BufferedReader; \r\nimport java.io.IOException; \r\nimport java.io.InputStreamReader; \r\nimport java.util.ArrayList; \r\n \r\npublic class Ex01 { \r\n \r\n    public static void main(String[] args) throws IOException { \r\n \r\n        BufferedReader userInput = new BufferedReader \r\n            (new InputStreamReader(System.in));\r\n \r\n        ArrayList&lt;String&gt; myArr = new ArrayList&lt;String&gt;();\r\n        myArr.add(&quot;Italian Riviera&quot;);\r\n        myArr.add(&quot;Jersey Shore&quot;);\r\n        myArr.add(&quot;Puerto Rico&quot;);\r\n        myArr.add(&quot;Los Cabos Corridor&quot;);\r\n        myArr.add(&quot;Lubmin&quot;);\r\n        myArr.add(&quot;Coney Island&quot;);\r\n        myArr.add(&quot;Karlovy Vary&quot;);\r\n        myArr.add(&quot;Bourbon-l&#39;Archambault&quot;);\r\n        myArr.add(&quot;Walt Disney World Resort&quot;);\r\n        myArr.add(&quot;Barbados&quot;);\r\n \r\n        System.out.println(&quot;Stupid Vacation Resort Adviser&quot;);\r\n        System.out.println(&quot;Enter your name:&quot;);\r\n        String name = userInput.readLine();\r\n        Integer nameLength = name.length();\r\n        if (nameLength == 0) \r\n        { \r\n            System.out.println(&quot;empty name entered&quot;);\r\n            return;\r\n        } \r\n \r\n        Integer vacationIndex = nameLength % myArr.size();\r\n \r\n        System.out.println(&quot;\\nYour name is &quot;+name+&quot;, its length is &quot; + \r\n                        nameLength + &quot; characters,\\n&quot; +\r\n                        &quot;that&#39;s why we suggest you to go to &quot; \r\n                        + myArr.get(vacationIndex));\r\n    } \r\n}&#39;\r\n\r\nsimilarly u can make array for integer,blooean and all kinds of data types \r\n\r\nfor more detail u can see this \r\n\r\nhttp://www.anyexample.com/programming/java/java_arraylist_example.xml","title":"How to increase the size of an array in Java?","body":"<p>u can use array list for that</p>\n\n<p>here is example for array list of string </p>\n\n<p>'import java.io.BufferedReader; \nimport java.io.IOException; \nimport java.io.InputStreamReader; \nimport java.util.ArrayList; </p>\n\n<p>public class Ex01 { </p>\n\n<pre><code>public static void main(String[] args) throws IOException { \n\n    BufferedReader userInput = new BufferedReader \n        (new InputStreamReader(System.in));\n\n    ArrayList&lt;String&gt; myArr = new ArrayList&lt;String&gt;();\n    myArr.add(\"Italian Riviera\");\n    myArr.add(\"Jersey Shore\");\n    myArr.add(\"Puerto Rico\");\n    myArr.add(\"Los Cabos Corridor\");\n    myArr.add(\"Lubmin\");\n    myArr.add(\"Coney Island\");\n    myArr.add(\"Karlovy Vary\");\n    myArr.add(\"Bourbon-l'Archambault\");\n    myArr.add(\"Walt Disney World Resort\");\n    myArr.add(\"Barbados\");\n\n    System.out.println(\"Stupid Vacation Resort Adviser\");\n    System.out.println(\"Enter your name:\");\n    String name = userInput.readLine();\n    Integer nameLength = name.length();\n    if (nameLength == 0) \n    { \n        System.out.println(\"empty name entered\");\n        return;\n    } \n\n    Integer vacationIndex = nameLength % myArr.size();\n\n    System.out.println(\"\\nYour name is \"+name+\", its length is \" + \n                    nameLength + \" characters,\\n\" +\n                    \"that's why we suggest you to go to \" \n                    + myArr.get(vacationIndex));\n} \n</code></pre>\n\n<p>}'</p>\n\n<p>similarly u can make array for integer,blooean and all kinds of data types </p>\n\n<p>for more detail u can see this </p>\n\n<p><a href=\"http://www.anyexample.com/programming/java/java_arraylist_example.xml\" rel=\"nofollow\">http://www.anyexample.com/programming/java/java_arraylist_example.xml</a></p>\n"},{"tags":[],"owner":{"account_id":305325,"reputation":16594,"user_id":615421,"accept_rate":85,"display_name":"Peter Rasmussen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1367524269,"creation_date":1348202490,"answer_id":12524369,"question_id":12524318,"body_markdown":"You can&#39;t. You can either create a new array and move the items to that array - Or you can use an ArrayList.","title":"How to increase the size of an array in Java?","body":"<p>You can't. You can either create a new array and move the items to that array - Or you can use an ArrayList.</p>\n"},{"tags":[],"owner":{"account_id":1715984,"reputation":97,"user_id":1573029,"display_name":"user1573029"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349936212,"creation_date":1349936212,"answer_id":12833336,"question_id":12524318,"body_markdown":"Create list object, add the elements and convert that list object to array using list.toArray(new String[list.size()])","title":"How to increase the size of an array in Java?","body":"<p>Create list object, add the elements and convert that list object to array using list.toArray(new String[list.size()])</p>\n"},{"tags":[],"owner":{"account_id":3497773,"reputation":81,"user_id":2925401,"display_name":"PandaOrb"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1626174873,"creation_date":1382889343,"answer_id":19620061,"question_id":12524318,"body_markdown":"You can create a temporary array with a size that is one element larger than the original, and then copy the elements of the original into the temp, and assign the temporary array to the new one.\r\n\r\n    public void increaseSize() {\r\n       String[] temp = new String[original.length + 1];\r\n       \r\n       for (int i = 0; i &lt; original.length; i++){\r\n          temp[i] = original[i];\r\n       }\r\n       original = temp;\r\n    }\r\n\r\nYou can change the size in various ways, but the same idea applies.","title":"How to increase the size of an array in Java?","body":"<p>You can create a temporary array with a size that is one element larger than the original, and then copy the elements of the original into the temp, and assign the temporary array to the new one.</p>\n<pre><code>public void increaseSize() {\n   String[] temp = new String[original.length + 1];\n   \n   for (int i = 0; i &lt; original.length; i++){\n      temp[i] = original[i];\n   }\n   original = temp;\n}\n</code></pre>\n<p>You can change the size in various ways, but the same idea applies.</p>\n"},{"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1646113231,"creation_date":1465561291,"answer_id":37748185,"question_id":12524318,"body_markdown":"By using **copyOf** method in `java.util.Arrays` class `String[]` size will increment automatically / dynamically. In below code `array` size `0` after manipulation of using `Arrays.copyOf` the size of String `array` is increased to `4`.\r\n\r\n    package com.google.service;\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class StringArrayAutoIncrement {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] data = new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot; };\r\n    \t\tString[] array = new String[0];// Initializing array with zero\r\n    \t\tint incrementLength = 1;\r\n    \t\tfor (int i = 0; i &lt; data.length; i++) {\r\n    \t\t\tarray = Arrays.copyOf(data, i + incrementLength);// incrementing array by +1\r\n    \t\t}\r\n    \t\t/**\r\n    \t\t * values of array after increment\r\n    \t\t */\r\n    \t\tfor (String value : array) {\r\n    \t\t\tSystem.out.println(value);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:** \r\n\r\n    a\r\n    b\r\n    c\r\n    d\r\n    e","title":"How to increase the size of an array in Java?","body":"<p>By using <strong>copyOf</strong> method in <code>java.util.Arrays</code> class <code>String[]</code> size will increment automatically / dynamically. In below code <code>array</code> size <code>0</code> after manipulation of using <code>Arrays.copyOf</code> the size of String <code>array</code> is increased to <code>4</code>.</p>\n<pre><code>package com.google.service;\n\nimport java.util.Arrays;\n\npublic class StringArrayAutoIncrement {\n    public static void main(String[] args) {\n        String[] data = new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot; };\n        String[] array = new String[0];// Initializing array with zero\n        int incrementLength = 1;\n        for (int i = 0; i &lt; data.length; i++) {\n            array = Arrays.copyOf(data, i + incrementLength);// incrementing array by +1\n        }\n        /**\n         * values of array after increment\n         */\n        for (String value : array) {\n            System.out.println(value);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>a\nb\nc\nd\ne\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1926150,"reputation":42835,"user_id":1736537,"display_name":"A Kunin"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1522388286,"creation_date":1522388286,"answer_id":49568977,"question_id":12524318,"body_markdown":"On a low level you can do it this way:\r\n \r\n    long[] source = new long[1];\r\n    long[] copy = new long[source.length + 1];\r\n    System.arraycopy(source, 0, copy, 0, source.length);\r\n    source = copy;\r\n\r\nArrays.copyOf() is doing same thing.","title":"How to increase the size of an array in Java?","body":"<p>On a low level you can do it this way:</p>\n\n<pre><code>long[] source = new long[1];\nlong[] copy = new long[source.length + 1];\nSystem.arraycopy(source, 0, copy, 0, source.length);\nsource = copy;\n</code></pre>\n\n<p>Arrays.copyOf() is doing same thing.</p>\n"},{"tags":[],"owner":{"account_id":12432241,"reputation":1,"user_id":9054115,"display_name":"SUNIL KUMAR"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1533147933,"creation_date":1533147933,"answer_id":51639986,"question_id":12524318,"body_markdown":"    public class IncreaseArraySize {\r\n     public static void main(String[] args) {\r\n\t\tint arr[] = new int[5];\r\n\t\t  for (int i = 0; i &lt; arr.length; i++) {\r\n\t     \t\tarr[i] = 5;\r\n\t\t  }\r\n\t\t  for (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\t    System.out.print(arr[i] + &quot; &quot;);\r\n\t\t  }\r\n\t\t   System.out.println(&quot; &quot;);\r\n\t\t   System.out.println(&quot;Before increasing Size of an array :&quot; + arr.length);\r\n\t\t\r\n\t\t\r\n\t    \tint arr2[] = new int[10];\r\n\r\n\t\t    arr = arr2;\r\n\t\t    arr2 = null;\r\n\t\t    for (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tSystem.out.print(arr[i] + &quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.println(&quot;After increasing Size of an array : &quot; + arr.length);\r\n\t}\r\n    }","title":"How to increase the size of an array in Java?","body":"<pre><code>public class IncreaseArraySize {\n public static void main(String[] args) {\n    int arr[] = new int[5];\n      for (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = 5;\n      }\n      for (int i = 0; i &lt; arr.length; i++) {\n            System.out.print(arr[i] + \" \");\n      }\n       System.out.println(\" \");\n       System.out.println(\"Before increasing Size of an array :\" + arr.length);\n\n\n        int arr2[] = new int[10];\n\n        arr = arr2;\n        arr2 = null;\n        for (int i = 0; i &lt; arr.length; i++) {\n        System.out.print(arr[i] + \" \");\n    }\n    System.out.println(\"\");\n    System.out.println(\"After increasing Size of an array : \" + arr.length);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17821843,"reputation":77,"user_id":12944045,"display_name":"Ambreen Zubari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587847733,"creation_date":1587847733,"answer_id":61432414,"question_id":12524318,"body_markdown":"u can do it by this\r\n\r\n    import java.util.Scanner;\r\n\r\n    class Add\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n         Scanner obj=new Scanner(System.in);\r\n         char ans=&#39;y&#39;;\r\n         int count=0;\r\n         while(ans!=&#39;N&#39;||ans!=&#39;n&#39;)\r\n         {\r\n           int initial_size=5; \r\n           int arr[]=new int [initial_size];\r\n           arr[0]=1;\r\n           arr[1]=2;\r\n           arr[2]=3;\r\n           arr[3]=4;\r\n           arr[4]=5;\r\n          \r\n           if(count&gt;0)\r\n           {\r\n               System.out.print(&quot;enter the element u want to add in array: &quot;);\r\n               arr[initial_size-1]=obj.nextInt();\r\n           }\r\n           System.out.print(&quot;Do u want to add element in array?&quot;);\r\n           ans=obj.next().charAt(0);\r\n           if(ans==&#39;y&#39;||ans==&#39;Y&#39;)\r\n           {\r\n             initial_size++;\r\n             count++;\r\n           }             \r\n        }   \r\n      }\r\n\r\n    }","title":"How to increase the size of an array in Java?","body":"<p>u can do it by this</p>\n\n<pre><code>import java.util.Scanner;\n\nclass Add\n{\n  public static void main(String[] args)\n  {\n     Scanner obj=new Scanner(System.in);\n     char ans='y';\n     int count=0;\n     while(ans!='N'||ans!='n')\n     {\n       int initial_size=5; \n       int arr[]=new int [initial_size];\n       arr[0]=1;\n       arr[1]=2;\n       arr[2]=3;\n       arr[3]=4;\n       arr[4]=5;\n\n       if(count&gt;0)\n       {\n           System.out.print(\"enter the element u want to add in array: \");\n           arr[initial_size-1]=obj.nextInt();\n       }\n       System.out.print(\"Do u want to add element in array?\");\n       ans=obj.next().charAt(0);\n       if(ans=='y'||ans=='Y')\n       {\n         initial_size++;\n         count++;\n       }             \n    }   \n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15449817,"reputation":476,"user_id":12039546,"display_name":"Harshal Karande"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1659441800,"creation_date":1611892591,"answer_id":65948564,"question_id":12524318,"body_markdown":"https://www.java2novice.com/java-arrays/array-copy/\r\n\r\n    int[] myArr = {2,4,2,4,5,6,3};\r\n    System.out.println(&quot;Array size before copy: &quot;+myArr.length);\r\n    int[] newArr = Arrays.copyOf(myArr, 10);\r\n    System.out.println(&quot;New array size after copying: &quot;+newArr.length);\r\n\r\nYou can also do  `myArr = Arrays.copyOf(myArr, 10);`\r\n\r\nIn this case do,  `myArr = Arrays.copyOf(myArr, myAry.length+1);`","title":"How to increase the size of an array in Java?","body":"<p><a href=\"https://www.java2novice.com/java-arrays/array-copy/\" rel=\"nofollow noreferrer\">https://www.java2novice.com/java-arrays/array-copy/</a></p>\n<pre><code>int[] myArr = {2,4,2,4,5,6,3};\nSystem.out.println(&quot;Array size before copy: &quot;+myArr.length);\nint[] newArr = Arrays.copyOf(myArr, 10);\nSystem.out.println(&quot;New array size after copying: &quot;+newArr.length);\n</code></pre>\n<p>You can also do  <code>myArr = Arrays.copyOf(myArr, 10);</code></p>\n<p>In this case do,  <code>myArr = Arrays.copyOf(myArr, myAry.length+1);</code></p>\n"},{"tags":[],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690181171,"creation_date":1690181171,"answer_id":76751999,"question_id":12524318,"body_markdown":"According to [Oracle&#39;s Java Docs on Arrays][1], the size of an Array cannot be changed. Once it has been initialized, it is final. You cannot change it. The only way to make the size accommodate your elements is to create a new one with a bigger size or use other data structures like the [ArrayList][2] as mentioned in the solutions above. You initialize an array while at the same time keeping in mind the size of the elements you might want to store therein.\r\n\r\n        //This declares an array of integers\r\n         // which can hold a maximum of five integers\r\n        int[] anArray = new int[5];\r\n\r\n        //This declares an array of strings\r\n         // which can hold a maximum of 20 strings\r\n        String[] stringArray = new String[20];\r\n\r\n       \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html","title":"How to increase the size of an array in Java?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Oracle's Java Docs on Arrays</a>, the size of an Array cannot be changed. Once it has been initialized, it is final. You cannot change it. The only way to make the size accommodate your elements is to create a new one with a bigger size or use other data structures like the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a> as mentioned in the solutions above. You initialize an array while at the same time keeping in mind the size of the elements you might want to store therein.</p>\n<pre><code>    //This declares an array of integers\n     // which can hold a maximum of five integers\n    int[] anArray = new int[5];\n\n    //This declares an array of strings\n     // which can hold a maximum of 20 strings\n    String[] stringArray = new String[20];\n\n   \n</code></pre>\n"}],"owner":{"account_id":1863767,"reputation":247,"user_id":1687780,"display_name":"joel abishai paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134184,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":12,"score":24,"last_activity_date":1690181171,"creation_date":1348202196,"question_id":12524318,"body_markdown":"I want to store as many elements as desired by the user in an array. But how do I do it.  \r\n\r\nIf I were to create an array, I must do so with a fixed size. Every time a new element is added to the array and the array becomes full, I want to update its size by &#39;1&#39;.  \r\n\r\nI tired various types of code, but it did not work out. \r\n\r\nIt would be of great help if someone could give me a solution regarding it - in code if possible.","title":"How to increase the size of an array in Java?","body":"<p>I want to store as many elements as desired by the user in an array. But how do I do it.  </p>\n\n<p>If I were to create an array, I must do so with a fixed size. Every time a new element is added to the array and the array becomes full, I want to update its size by '1'.  </p>\n\n<p>I tired various types of code, but it did not work out. </p>\n\n<p>It would be of great help if someone could give me a solution regarding it - in code if possible.</p>\n"},{"tags":["java","html","spring-boot","jpa","thymeleaf"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1690179662,"post_id":76751844,"comment_id":135311654,"body_markdown":"Thats the name of the field you give the form to transmit. `MultipartFile file` searches for the `file` field in the body, so these names must match.","body":"Thats the name of the field you give the form to transmit. <code>MultipartFile file</code> searches for the <code>file</code> field in the body, so these names must match."}],"answers":[{"tags":[],"owner":{"account_id":20123535,"reputation":110,"user_id":14757560,"display_name":"christianGen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690181124,"creation_date":1690181124,"answer_id":76751992,"question_id":76751844,"body_markdown":"The argument `MultipartFile file` is equivalent to: `@RequestParam MultipartFile file`\r\n\r\nIf you don&#39;t specify a name with the `@RequestParam` annotation the variable name is used as default.  In your case this is `file`.\r\n\r\nYou can use other names by either changing your variable name or adding the `@RequestParam` annotation with a name:  \r\n`@RequestParam(&quot;photo&quot;) MultipartFile file`.\r\n\r\nIf you have to support multiple names, create proxy methods:\r\n```java\r\n@PostMapping(value=&quot;/add&quot;, params = &quot;photo&quot;)\r\npublic String addPhoto(@RequestParam(value=&quot;photo&quot;, required=true) MultipartFile file){\r\n   return addFile(file);\r\n}\r\n\r\n@PostMapping(value=&quot;/add&quot;, params = &quot;file&quot;)\r\npublic String addFile(@RequestParam(value=&quot;file&quot;, required=true) MultipartFile file){\r\n   // ...\r\n}\r\n```\r\n\r\n\r\n","title":"JPA - Successful Storage of Post Only When Input Tag Name is &quot;file&quot;","body":"<p>The argument <code>MultipartFile file</code> is equivalent to: <code>@RequestParam MultipartFile file</code></p>\n<p>If you don't specify a name with the <code>@RequestParam</code> annotation the variable name is used as default.  In your case this is <code>file</code>.</p>\n<p>You can use other names by either changing your variable name or adding the <code>@RequestParam</code> annotation with a name:<br />\n<code>@RequestParam(&quot;photo&quot;) MultipartFile file</code>.</p>\n<p>If you have to support multiple names, create proxy methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value=&quot;/add&quot;, params = &quot;photo&quot;)\npublic String addPhoto(@RequestParam(value=&quot;photo&quot;, required=true) MultipartFile file){\n   return addFile(file);\n}\n\n@PostMapping(value=&quot;/add&quot;, params = &quot;file&quot;)\npublic String addFile(@RequestParam(value=&quot;file&quot;, required=true) MultipartFile file){\n   // ...\n}\n</code></pre>\n"}],"owner":{"account_id":20373551,"reputation":27,"user_id":14945246,"display_name":"Luna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76751992,"answer_count":1,"score":1,"last_activity_date":1690181124,"creation_date":1690179454,"question_id":76751844,"body_markdown":"I&#39;m implementing a feature to store posts using JPA. In the service class, I have the following method:\r\n\r\n    public void boardWrite(Board board, MultipartFile file) throws Exception, IOException {\r\n        if (!file.isEmpty()) {\r\n            String path = &quot;E:\\\\image\\\\sell&quot;;\r\n            UUID uuid = UUID.randomUUID();\r\n            String filename = uuid + &quot;_&quot; + file.getOriginalFilename();\r\n            File saveFile = new File(path, filename);\r\n            file.transferTo(saveFile);\r\n            board.setPhoto(filename);\r\n            board.setPhoto_url(&quot;/sell/&quot; + filename);\r\n        }\r\n    \r\n        boardRepository.save(board);\r\n    }\r\n\r\nAdditionally, in the controller, I call it as follows:\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public String add(Board board, MultipartFile file) throws Exception {\r\n        service.boardWrite(board, file);\r\n        return &quot;redirect:list&quot;;\r\n    }\r\n\r\nThe part of the HTML where I get the file input is as follows:\r\n\r\n    &lt;tr&gt;\r\n        &lt;td width=&quot;150&quot; align=&quot;center&quot;&gt;Photo Attachment&lt;/td&gt;\r\n        &lt;td&gt;\r\n            &lt;input type=&quot;file&quot; name=&quot;file&quot; class=&quot;form-control&quot; id=&quot;inputGroupFile02&quot;&gt;\r\n        &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nWhen I set the name attribute of the input tag to &quot;file&quot;, the post is successfully stored. However, if I use a different name such as &quot;file1&quot; or &quot;photo&quot;, it results in a 400 error. I&#39;m curious about the reason behind this behavior. Why does it only work when the input tag name is &quot;file&quot;?","title":"JPA - Successful Storage of Post Only When Input Tag Name is &quot;file&quot;","body":"<p>I'm implementing a feature to store posts using JPA. In the service class, I have the following method:</p>\n<pre><code>public void boardWrite(Board board, MultipartFile file) throws Exception, IOException {\n    if (!file.isEmpty()) {\n        String path = &quot;E:\\\\image\\\\sell&quot;;\n        UUID uuid = UUID.randomUUID();\n        String filename = uuid + &quot;_&quot; + file.getOriginalFilename();\n        File saveFile = new File(path, filename);\n        file.transferTo(saveFile);\n        board.setPhoto(filename);\n        board.setPhoto_url(&quot;/sell/&quot; + filename);\n    }\n\n    boardRepository.save(board);\n}\n</code></pre>\n<p>Additionally, in the controller, I call it as follows:</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\npublic String add(Board board, MultipartFile file) throws Exception {\n    service.boardWrite(board, file);\n    return &quot;redirect:list&quot;;\n}\n</code></pre>\n<p>The part of the HTML where I get the file input is as follows:</p>\n<pre><code>&lt;tr&gt;\n    &lt;td width=&quot;150&quot; align=&quot;center&quot;&gt;Photo Attachment&lt;/td&gt;\n    &lt;td&gt;\n        &lt;input type=&quot;file&quot; name=&quot;file&quot; class=&quot;form-control&quot; id=&quot;inputGroupFile02&quot;&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>When I set the name attribute of the input tag to &quot;file&quot;, the post is successfully stored. However, if I use a different name such as &quot;file1&quot; or &quot;photo&quot;, it results in a 400 error. I'm curious about the reason behind this behavior. Why does it only work when the input tag name is &quot;file&quot;?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690172808,"post_id":76751389,"comment_id":135310985,"body_markdown":"`split` on `,`, then find the `String` starting with `textValue` in the resulting array and split on ` : ` to seperate them again","body":"<code>split</code> on <code>,</code>, then find the <code>String</code> starting with <code>textValue</code> in the resulting array and split on ` : ` to seperate them again"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690172961,"post_id":76751389,"comment_id":135310993,"body_markdown":"You could also use a regular expression (like `, textValue.*,`) and [this](https://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex)","body":"You could also use a regular expression (like <code>, textValue.*,</code>) and <a href=\"https://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690173255,"creation_date":1690172751,"answer_id":76751403,"question_id":76751389,"body_markdown":"If you want only `textValue : xx`.\r\n\r\nYou can split it by comma &quot;,&quot; for above String to array and get by index.\r\n\r\n```JAVA\r\nString textArray[]=textValue.split(&quot;,&quot;);\r\nString yourValue=textValue[2];\r\n\r\n//if you want whole textValue : xx\r\nSystem.out.println(yourValue);\r\n\r\n//if you want only xx,you can again split by &quot;:&quot;\r\nSystem.out.println(yourValue.split(&quot;:&quot;)[1]);\r\n\r\n\r\n```","title":"Extract specific content from String in JAVA","body":"<p>If you want only <code>textValue : xx</code>.</p>\n<p>You can split it by comma &quot;,&quot; for above String to array and get by index.</p>\n<pre><code>String textArray[]=textValue.split(&quot;,&quot;);\nString yourValue=textValue[2];\n\n//if you want whole textValue : xx\nSystem.out.println(yourValue);\n\n//if you want only xx,you can again split by &quot;:&quot;\nSystem.out.println(yourValue.split(&quot;:&quot;)[1]);\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5344470,"reputation":39,"user_id":6261601,"display_name":"Arivazhagan L"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690173963,"creation_date":1690173963,"answer_id":76751460,"question_id":76751389,"body_markdown":"**Use Substring:**\r\nTo extract a substring from a string, you can use the substring() method. It takes two parameters: the starting index (inclusive) and the ending index (exclusive) of the desired substring.\r\n\r\n    String originalString = &quot;Hello, world!&quot;;\r\n    int startIndex = 7;\r\n    int endIndex = 12;\r\n    String extractedSubstring = originalString.substring(startIndex, endIndex);\r\n    System.out.println(extractedSubstring); // Output: &quot;world&quot;\r\n\r\nOR\r\n\r\n**Splitting by Delimiter:**\r\nIf you want to extract specific parts of a string based on a delimiter, you can use the split() method. It splits the original string into an array of substrings based on the specified delimiter.\r\n\r\n    String originalString = &quot;apple,orange,banana,grape&quot;;\r\n    String[] fruitsArray = originalString.split(&quot;,&quot;);\r\n    System.out.println(fruitsArray[2]); // Output: &quot;banana&quot;\r\n\r\nOR\r\n\r\n**Using Regular Expressions (Regex):**\r\nRegex provides a powerful way to extract specific content from a string based on patterns. You can use the Pattern and Matcher classes from the java.util.regex package to achieve this.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    String originalString = &quot;The price is $19.99&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;\\\\$(\\\\d+\\\\.\\\\d{2})&quot;); // Matches dollar amount in the format $xx.xx\r\n    Matcher matcher = pattern.matcher(originalString);\r\n    \r\n    if (matcher.find()) {\r\n        String extractedAmount = matcher.group(1);\r\n        System.out.println(extractedAmount); // Output: &quot;19.99&quot;\r\n    }\r\n\r\n","title":"Extract specific content from String in JAVA","body":"<p><strong>Use Substring:</strong>\nTo extract a substring from a string, you can use the substring() method. It takes two parameters: the starting index (inclusive) and the ending index (exclusive) of the desired substring.</p>\n<pre><code>String originalString = &quot;Hello, world!&quot;;\nint startIndex = 7;\nint endIndex = 12;\nString extractedSubstring = originalString.substring(startIndex, endIndex);\nSystem.out.println(extractedSubstring); // Output: &quot;world&quot;\n</code></pre>\n<p>OR</p>\n<p><strong>Splitting by Delimiter:</strong>\nIf you want to extract specific parts of a string based on a delimiter, you can use the split() method. It splits the original string into an array of substrings based on the specified delimiter.</p>\n<pre><code>String originalString = &quot;apple,orange,banana,grape&quot;;\nString[] fruitsArray = originalString.split(&quot;,&quot;);\nSystem.out.println(fruitsArray[2]); // Output: &quot;banana&quot;\n</code></pre>\n<p>OR</p>\n<p><strong>Using Regular Expressions (Regex):</strong>\nRegex provides a powerful way to extract specific content from a string based on patterns. You can use the Pattern and Matcher classes from the java.util.regex package to achieve this.</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nString originalString = &quot;The price is $19.99&quot;;\nPattern pattern = Pattern.compile(&quot;\\\\$(\\\\d+\\\\.\\\\d{2})&quot;); // Matches dollar amount in the format $xx.xx\nMatcher matcher = pattern.matcher(originalString);\n\nif (matcher.find()) {\n    String extractedAmount = matcher.group(1);\n    System.out.println(extractedAmount); // Output: &quot;19.99&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690180502,"creation_date":1690174672,"answer_id":76751503,"question_id":76751389,"body_markdown":"Use regex:\r\n\r\n    String x = str.replaceAll(&quot;.*(textValue : [^,]+).*&quot;, &quot;$1&quot;);\r\n\r\nThis matches the entire string but captures the part you want (as group 1), and the replacement is (a back reference to) group 1. \r\n\r\nThe only interesting part is `[^,]+` which means &quot;all following characters that are not a comma&quot; ","title":"Extract specific content from String in JAVA","body":"<p>Use regex:</p>\n<pre><code>String x = str.replaceAll(&quot;.*(textValue : [^,]+).*&quot;, &quot;$1&quot;);\n</code></pre>\n<p>This matches the entire string but captures the part you want (as group 1), and the replacement is (a back reference to) group 1.</p>\n<p>The only interesting part is <code>[^,]+</code> which means &quot;all following characters that are not a comma&quot;</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690177585,"creation_date":1690177585,"answer_id":76751705,"question_id":76751389,"body_markdown":"In case you want to retrive data from the string, you can use either `str.substring(start, end)` - but only if you know the exact position of the data, or you can use regular expression - this is more flexible.\r\n\r\n[regexp101.com][1]\r\n\r\n```java\r\nString str = &quot;Id:1, type: text, textValue : xx, document: pdf&quot;;\r\nString regexp = &quot;(?i)id\\\\s*:\\\\s*(?&lt;id&gt;\\\\d+)\\\\s*,\\\\s*type\\\\s*:\\\\s*(?&lt;type&gt;\\\\S+)\\\\s*textValue\\\\s*:\\\\s*(?&lt;textValue&gt;\\\\S+),\\\\s*document\\\\s*:\\\\s*(?&lt;document&gt;\\\\S+)&quot;;\r\nPattern pattern = Pattern.compile(regexp);\r\nMatcher matcher = pattern.matcher(str);\r\n\r\nif (matcher.find()) {\r\n    System.out.println(&quot;id: &quot; + matcher.group(&quot;id&quot;));\r\n    System.out.println(&quot;textValue: &quot; + matcher.group(&quot;textValue&quot;));\r\n    System.out.println(&quot;document: &quot; + matcher.group(&quot;document&quot;));\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nid: 1\r\ntextValue: xx\r\ndocument: pdf\r\n```\r\n\r\n  [1]: https://regex101.com/r/THhMDE/1","title":"Extract specific content from String in JAVA","body":"<p>In case you want to retrive data from the string, you can use either <code>str.substring(start, end)</code> - but only if you know the exact position of the data, or you can use regular expression - this is more flexible.</p>\n<p><a href=\"https://regex101.com/r/THhMDE/1\" rel=\"nofollow noreferrer\">regexp101.com</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;Id:1, type: text, textValue : xx, document: pdf&quot;;\nString regexp = &quot;(?i)id\\\\s*:\\\\s*(?&lt;id&gt;\\\\d+)\\\\s*,\\\\s*type\\\\s*:\\\\s*(?&lt;type&gt;\\\\S+)\\\\s*textValue\\\\s*:\\\\s*(?&lt;textValue&gt;\\\\S+),\\\\s*document\\\\s*:\\\\s*(?&lt;document&gt;\\\\S+)&quot;;\nPattern pattern = Pattern.compile(regexp);\nMatcher matcher = pattern.matcher(str);\n\nif (matcher.find()) {\n    System.out.println(&quot;id: &quot; + matcher.group(&quot;id&quot;));\n    System.out.println(&quot;textValue: &quot; + matcher.group(&quot;textValue&quot;));\n    System.out.println(&quot;document: &quot; + matcher.group(&quot;document&quot;));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>id: 1\ntextValue: xx\ndocument: pdf\n</code></pre>\n"}],"owner":{"account_id":26225274,"reputation":1,"user_id":19902050,"display_name":"Kesavan Balakrishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1690180502,"creation_date":1690172426,"question_id":76751389,"body_markdown":"I need to extract the specific content from below string\r\n\r\n    String textValue = &quot;Id:1, type: text, textValue : xx, document: pdf&quot;\r\n\r\nHow to get only `TextValue` and its value using java","title":"Extract specific content from String in JAVA","body":"<p>I need to extract the specific content from below string</p>\n<pre><code>String textValue = &quot;Id:1, type: text, textValue : xx, document: pdf&quot;\n</code></pre>\n<p>How to get only <code>TextValue</code> and its value using java</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5179076,"reputation":11125,"user_id":4145280,"display_name":"Mark"},"score":0,"creation_date":1690175434,"post_id":76751522,"comment_id":135311188,"body_markdown":"try this: https://regex101.com/r/Utw3Hb/1","body":"try this: <a href=\"https://regex101.com/r/Utw3Hb/1\" rel=\"nofollow noreferrer\">regex101.com/r/Utw3Hb/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690176661,"creation_date":1690176117,"answer_id":76751606,"question_id":76751522,"body_markdown":"I think because, the dot `(.)` in your regex is a wildcard that matches any character, including commas and spaces\r\n\r\nso to fix it check this out :\r\n\r\n    (?&lt;=\\\\.\\\\s)[^\\\\.]+(?=\\\\.\\\\sDOI)\r\n\r\n- `(?&lt;=\\\\.\\\\s)`: to ensure it&#39;s the beginning of the title (positive lookbehind to match a dot followed by a space)\r\n- `[^\\\\.]+`: it&#39;s matching one or more characters that are not a dot,so this will exclude the author names\r\n- `(?=\\\\.\\\\sDOI)`: to ensure it&#39;s the end of the title, positive lookahead to matching a dot followed by a space and &quot;DOI&quot; ()\r\n\r\nto testing my regex : \r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String string = &quot;[1]T. Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties. DOI:https://doi.org/10.15625/0866-708X/53/6/5782&quot;;\r\n    \r\n            String regex = &quot;(?&lt;=\\\\.\\\\s)[^\\\\.]+(?=\\\\.\\\\sDOI)&quot;;\r\n            Pattern pattern = Pattern.compile(regex);\r\n            Matcher matcher = pattern.matcher(string);\r\n    \r\n            if (matcher.find()) {\r\n                String title = matcher.group(0);\r\n                System.out.println(title);\r\n            }\r\n        }\r\n    }\r\ngood luck !","title":"Find the best regex to match title of a citation reference","body":"<p>I think because, the dot <code>(.)</code> in your regex is a wildcard that matches any character, including commas and spaces</p>\n<p>so to fix it check this out :</p>\n<pre><code>(?&lt;=\\\\.\\\\s)[^\\\\.]+(?=\\\\.\\\\sDOI)\n</code></pre>\n<ul>\n<li><code>(?&lt;=\\\\.\\\\s)</code>: to ensure it's the beginning of the title (positive lookbehind to match a dot followed by a space)</li>\n<li><code>[^\\\\.]+</code>: it's matching one or more characters that are not a dot,so this will exclude the author names</li>\n<li><code>(?=\\\\.\\\\sDOI)</code>: to ensure it's the end of the title, positive lookahead to matching a dot followed by a space and &quot;DOI&quot; ()</li>\n</ul>\n<p>to testing my regex :</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String string = &quot;[1]T. Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties. DOI:https://doi.org/10.15625/0866-708X/53/6/5782&quot;;\n\n        String regex = &quot;(?&lt;=\\\\.\\\\s)[^\\\\.]+(?=\\\\.\\\\sDOI)&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        Matcher matcher = pattern.matcher(string);\n\n        if (matcher.find()) {\n            String title = matcher.group(0);\n            System.out.println(title);\n        }\n    }\n}\n</code></pre>\n<p>good luck !</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690180189,"creation_date":1690179540,"answer_id":76751852,"question_id":76751522,"body_markdown":"A better idea would be to use a regex to extract the DOI and use the DOI to *look up* the publication&#39;s title and other metadata using (for example) the CrossRef service&#39;s API: \r\n\r\n  - https://www.crossref.org/documentation/retrieve-metadata/rest-api/\r\n\r\nThe problem with trying to extract a title from the citation text itself is that citations are provided in all sorts of format, depending on the tools that are used to format them, the requirements of the journal and so on.  That makes extraction complicated ... and difficult to do reliably with regexes.\r\n\r\n--------------------\r\n\r\nOn the other hand, **that** DOI (10.15625/0866-708X/53/6/5782) does not resolve to anything and CrossRef doesn&#39;t know about the paper when I search for it by title.  It appears to be a genuine paper because I can find it using a Google search.  However, it looks like &quot;Vietnam Journal of Science and Technology&quot; is not properly registering the DOIs for the papers that they publish!! \r\n\r\nTsk, tsk, tsk.\r\n\r\n","title":"Find the best regex to match title of a citation reference","body":"<p>A better idea would be to use a regex to extract the DOI and use the DOI to <em>look up</em> the publication's title and other metadata using (for example) the CrossRef service's API:</p>\n<ul>\n<li><a href=\"https://www.crossref.org/documentation/retrieve-metadata/rest-api/\" rel=\"nofollow noreferrer\">https://www.crossref.org/documentation/retrieve-metadata/rest-api/</a></li>\n</ul>\n<p>The problem with trying to extract a title from the citation text itself is that citations are provided in all sorts of format, depending on the tools that are used to format them, the requirements of the journal and so on.  That makes extraction complicated ... and difficult to do reliably with regexes.</p>\n<hr />\n<p>On the other hand, <strong>that</strong> DOI (10.15625/0866-708X/53/6/5782) does not resolve to anything and CrossRef doesn't know about the paper when I search for it by title.  It appears to be a genuine paper because I can find it using a Google search.  However, it looks like &quot;Vietnam Journal of Science and Technology&quot; is not properly registering the DOIs for the papers that they publish!!</p>\n<p>Tsk, tsk, tsk.</p>\n"}],"owner":{"account_id":15798298,"reputation":786,"user_id":11399551,"display_name":"Thinh Tran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76751606,"answer_count":2,"score":0,"last_activity_date":1690180189,"creation_date":1690174901,"question_id":76751522,"body_markdown":"I have this string `[1]T. Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties. DOI:https://doi.org/10.15625/0866-708X/53/6/5782` which represent a citation of a paper. I want to write a regex that match only the title of this string. The result is expected to be like so `Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties.`\r\n\r\nI have tried this regex `(?&lt;=. ).*?(?=[dD][oO][iI]:)` and `(?&lt;=\\\\.\\\\s)\\\\s*(.+?)\\\\s*(?=[dD][oO][iI]:)` but it only give me this which I don&#39;t know why it not match the smallest posible `Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties.`\r\n\r\nHow to fix this?","title":"Find the best regex to match title of a citation reference","body":"<p>I have this string <code>[1]T. Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties. DOI:https://doi.org/10.15625/0866-708X/53/6/5782</code> which represent a citation of a paper. I want to write a regex that match only the title of this string. The result is expected to be like so <code>Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties.</code></p>\n<p>I have tried this regex <code>(?&lt;=. ).*?(?=[dD][oO][iI]:)</code> and <code>(?&lt;=\\\\.\\\\s)\\\\s*(.+?)\\\\s*(?=[dD][oO][iI]:)</code> but it only give me this which I don't know why it not match the smallest posible <code>Vu, V. Nguyen, T. Nguyen, T. Thieu, V. Pham, G. David, T. Ngo, and T. Le. Hollow gold nanostructures prepared by galvanic replacement reaction: synthesis and optical properties.</code></p>\n<p>How to fix this?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","cdp"],"comments":[{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1690198652,"post_id":76751888,"comment_id":135315342,"body_markdown":"Please describe a bit more detailed what you have tried, what result you expect and what your failed attempts produced.","body":"Please describe a bit more detailed what you have tried, what result you expect and what your failed attempts produced."}],"owner":{"account_id":29078201,"reputation":1,"user_id":22274814,"display_name":"Nilesh Kathait"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690180050,"creation_date":1690180013,"question_id":76751888,"body_markdown":"I want to record iframe network calls using selenium CDP api . I am using selenium network interceptor to record website network call but unable to record for iframes . \r\n\r\nI have already tried to disable features like IsolateOrigins,site-per-process but that didn&#39;t help","title":"Record Iframe network call using selenium","body":"<p>I want to record iframe network calls using selenium CDP api . I am using selenium network interceptor to record website network call but unable to record for iframes .</p>\n<p>I have already tried to disable features like IsolateOrigins,site-per-process but that didn't help</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1690182958,"post_id":76751858,"comment_id":135312180,"body_markdown":"Very likely the `module-info.class` has not been created by Eclipse, but comes from a dependency (what&#39;s in the `module-info.class` file?). Exporting as an executable JAR means to include all dependencies in a single JAR (also called fat JAR or uber JAR). When using the [Java Platform Module System](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules) by having your own `module-info.java` file, a fat JAR does not work since each module has to be in its own JAR. When using Maven, better build the JAR(s) with Maven.","body":"Very likely the <code>module-info.class</code> has not been created by Eclipse, but comes from a dependency (what&#39;s in the <code>module-info.class</code> file?). Exporting as an executable JAR means to include all dependencies in a single JAR (also called fat JAR or uber JAR). When using the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">Java Platform Module System</a> by having your own <code>module-info.java</code> file, a fat JAR does not work since each module has to be in its own JAR. When using Maven, better build the JAR(s) with Maven."},{"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"score":0,"creation_date":1690184097,"post_id":76751858,"comment_id":135312383,"body_markdown":"ok. Will build with maven. module-info.class contains single line:  // INTERNAL ERROR //","body":"ok. Will build with maven. module-info.class contains single line:  // INTERNAL ERROR //"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1690184910,"post_id":76751858,"comment_id":135312530,"body_markdown":"Using Maven is not the solution for your problem. Your problem is either the use of a fat JAR where this is not possible or something else that is unrelated to the `module-info.class`. `// INTERNAL ERROR //` sound like you opened it in the wrong editor. `.class` files contains bytecode and cannot be opened in a text editor.","body":"Using Maven is not the solution for your problem. Your problem is either the use of a fat JAR where this is not possible or something else that is unrelated to the <code>module-info.class</code>. <code>&#47;&#47; INTERNAL ERROR &#47;&#47;</code> sound like you opened it in the wrong editor. <code>.class</code> files contains bytecode and cannot be opened in a text editor."},{"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"score":0,"creation_date":1690188750,"post_id":76751858,"comment_id":135313269,"body_markdown":"I opened module-info.class with JD only.","body":"I opened module-info.class with JD only."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1690205357,"post_id":76751858,"comment_id":135316871,"body_markdown":"The selenium site says it requires Java 11. Does that not apply to the selenium-java version you&#39;re using?","body":"The selenium site says it requires Java 11. Does that not apply to the selenium-java version you&#39;re using?"},{"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"score":0,"creation_date":1690216426,"post_id":76751858,"comment_id":135319337,"body_markdown":"&quot;Selenium will stop supporting Java 8 on September 30, 2023&quot; - Till now it is JDK 8 only.","body":"&quot;Selenium will stop supporting Java 8 on September 30, 2023&quot; - Till now it is JDK 8 only."},{"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"score":0,"creation_date":1690216518,"post_id":76751858,"comment_id":135319353,"body_markdown":"I got jars builts with maven.","body":"I got jars builts with maven."}],"owner":{"account_id":265454,"reputation":1640,"user_id":552423,"accept_rate":64,"display_name":"itsraja"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690179884,"creation_date":1690179583,"question_id":76751858,"body_markdown":"I had a pom file and created jar with eclipse export option and log4j was working fine. After adding the dependency `selenium-java` the export creates `module-info` file in the jar and log4j no longer works. And `Log4j-config.xsd` becomes empty in the jar.\r\n\r\nAs my project has JDK  1.8 configured and selenium also requires 1.8 / later, could not identify the cause.\r\n```\r\n&lt;properties&gt;\r\n\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.9.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;\r\n```\r\n    \t\r\n","title":"eclipse creates module-info file in executable jar with jdk 1.8","body":"<p>I had a pom file and created jar with eclipse export option and log4j was working fine. After adding the dependency <code>selenium-java</code> the export creates <code>module-info</code> file in the jar and log4j no longer works. And <code>Log4j-config.xsd</code> becomes empty in the jar.</p>\n<p>As my project has JDK  1.8 configured and selenium also requires 1.8 / later, could not identify the cause.</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;5.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"score":0,"creation_date":1571268961,"post_id":58422723,"comment_id":103188121,"body_markdown":"Do you have a class annotated with `SpringBootApplication` or `SpringBootConfiguration`?","body":"Do you have a class annotated with <code>SpringBootApplication</code> or <code>SpringBootConfiguration</code>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1571291081,"post_id":58422723,"comment_id":103192840,"body_markdown":"YOur test won&#39;t work. If it would the processor would already be invoked. Do you want to test the class/logic or the fact that it is triggered upon starting your application. That isn&#39;t clear from your question...","body":"YOur test won&#39;t work. If it would the processor would already be invoked. Do you want to test the class/logic or the fact that it is triggered upon starting your application. That isn&#39;t clear from your question..."}],"answers":[{"tags":[],"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571268476,"creation_date":1571268476,"answer_id":58422906,"question_id":58422723,"body_markdown":"You should use the `@RunWith` with your `@SpringBootTest`:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class ReportingTest {\r\n    \r\n        @Autowired\r\n        ReportingProcessor reportingProcessor;\r\n    \r\n        @Test\r\n        public void reportingTest() throws Exception {\r\n    \r\n            ContextRefreshedEvent contextRefreshedEvent = PowerMockito.mock(ContextRefreshedEvent.class);\r\n            Whitebox.invokeMethod(reportingProcessor, &quot;collectEnvironmentData&quot;, contextRefreshedEvent);\r\n    \r\n        }\r\n    }","title":"Unable to find a @SpringBootConfiguration","body":"<p>You should use the <code>@RunWith</code> with your <code>@SpringBootTest</code>:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class ReportingTest {\n\n    @Autowired\n    ReportingProcessor reportingProcessor;\n\n    @Test\n    public void reportingTest() throws Exception {\n\n        ContextRefreshedEvent contextRefreshedEvent = PowerMockito.mock(ContextRefreshedEvent.class);\n        Whitebox.invokeMethod(reportingProcessor, \"collectEnvironmentData\", contextRefreshedEvent);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16818241,"reputation":134,"user_id":12159372,"display_name":"Nel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664530471,"creation_date":1571348558,"answer_id":58441082,"question_id":58422723,"body_markdown":"If you don&#39;t have any class annotated with `@SpringBootApplication` and the known `main()` method, you need to target your component class on the `@SpringBootTest` annotation.\r\n\r\nUsually I do this when I&#39;m building libraries and for some specific scenario I need to have the spring context to unit test them.\r\n\r\nJust add this to your code:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = ReportingProcessor.class)\r\n    public class ReportingTest {\r\n    ...\r\n\r\nJust did it and the test is running.\r\n\r\nEdit: Don&#39;t know what are you trying to test exactly, just wanted to show how can you fix the error you are getting.","title":"Unable to find a @SpringBootConfiguration","body":"<p>If you don't have any class annotated with <code>@SpringBootApplication</code> and the known <code>main()</code> method, you need to target your component class on the <code>@SpringBootTest</code> annotation.</p>\n<p>Usually I do this when I'm building libraries and for some specific scenario I need to have the spring context to unit test them.</p>\n<p>Just add this to your code:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = ReportingProcessor.class)\npublic class ReportingTest {\n...\n</code></pre>\n<p>Just did it and the test is running.</p>\n<p>Edit: Don't know what are you trying to test exactly, just wanted to show how can you fix the error you are getting.</p>\n"},{"tags":[],"owner":{"account_id":7298493,"reputation":304,"user_id":5562284,"display_name":"nouveu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690179705,"creation_date":1690179705,"answer_id":76751864,"question_id":58422723,"body_markdown":"For future lost souls: in my case reason of this exception was that I created Junit test without package specified.\r\n\r\nYour test must be in subpackage of your main spring class (one annotated with `@SpringBootApplication`). So if you have `com.example.Application` then your test must be in some sub package, for example `com.example.subpackage`.","title":"Unable to find a @SpringBootConfiguration","body":"<p>For future lost souls: in my case reason of this exception was that I created Junit test without package specified.</p>\n<p>Your test must be in subpackage of your main spring class (one annotated with <code>@SpringBootApplication</code>). So if you have <code>com.example.Application</code> then your test must be in some sub package, for example <code>com.example.subpackage</code>.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14209,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58441082,"answer_count":3,"score":2,"last_activity_date":1690179705,"creation_date":1571266836,"question_id":58422723,"body_markdown":"I want to create a JUnit test for this private method:\r\n\r\n    @Component\r\n    public class ReportingProcessor {\r\n    \t\t\r\n    \t@EventListener\r\n    \tprivate void collectEnvironmentData(ContextRefreshedEvent event) {\r\n        }\r\n    }\r\n\r\nI tried this:\r\n\r\n    @ContextConfiguration\r\n    @SpringBootTest\r\n    public class ReportingTest {\r\n    \t\r\n    \t@Autowired\r\n        ReportingProcessor reportingProcessor;\r\n    \t\r\n    \t@Test\r\n        public void reportingTest() throws Exception {\r\n    \r\n            ContextRefreshedEvent contextRefreshedEvent = PowerMockito.mock(ContextRefreshedEvent.class);\r\n            Whitebox.invokeMethod(reportingProcessor, &quot;collectEnvironmentData&quot;, contextRefreshedEvent);\r\n    \r\n        }\r\n    }\r\n\r\nWhen I run the code I get:\r\n\r\n    java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\r\n\r\nDo you know ho I can fix this issue?\r\n\r\n","title":"Unable to find a @SpringBootConfiguration","body":"<p>I want to create a JUnit test for this private method:</p>\n\n<pre><code>@Component\npublic class ReportingProcessor {\n\n    @EventListener\n    private void collectEnvironmentData(ContextRefreshedEvent event) {\n    }\n}\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>@ContextConfiguration\n@SpringBootTest\npublic class ReportingTest {\n\n    @Autowired\n    ReportingProcessor reportingProcessor;\n\n    @Test\n    public void reportingTest() throws Exception {\n\n        ContextRefreshedEvent contextRefreshedEvent = PowerMockito.mock(ContextRefreshedEvent.class);\n        Whitebox.invokeMethod(reportingProcessor, \"collectEnvironmentData\", contextRefreshedEvent);\n\n    }\n}\n</code></pre>\n\n<p>When I run the code I get:</p>\n\n<pre><code>java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\n</code></pre>\n\n<p>Do you know ho I can fix this issue?</p>\n"},{"tags":["java","android","android-fragments","android-permissions","deprecated"],"answers":[{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690179462,"creation_date":1690179462,"answer_id":76751846,"question_id":76749558,"body_markdown":"Runtime permissions were introduced in Android 6.0 (API level 23) with the release of Android Marshmallow. Before Android 6.0, permissions were granted at the time of installation, and users had no control over individual permissions. \r\n\r\nStarting from Android 6.0, users have the ability to grant or deny individual permissions at runtime, giving them more control over their privacy and allowing developers to request permissions when they are actually needed by the app.","title":"Android API 21 Location Permission condition is true before accept dialog result","body":"<p>Runtime permissions were introduced in Android 6.0 (API level 23) with the release of Android Marshmallow. Before Android 6.0, permissions were granted at the time of installation, and users had no control over individual permissions.</p>\n<p>Starting from Android 6.0, users have the ability to grant or deny individual permissions at runtime, giving them more control over their privacy and allowing developers to request permissions when they are actually needed by the app.</p>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76751846,"answer_count":1,"score":0,"last_activity_date":1690179462,"creation_date":1690133888,"question_id":76749558,"body_markdown":"I changed the following method\r\n\r\n    public static boolean requestForLocationPermission(Fragment fragment) {\r\n    String LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\r\n         if (ContextCompat.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\r\n                        == PackageManager.PERMISSION_GRANTED)\r\n                    return true;\r\n        \r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\r\n                    PermissionDialog.showForResult(fragment, LOCATION_PERMISSION_REQUEST_CODE, LOCATION_PERMISSION);\r\n                } else {\r\n                    fragment.requestPermissions(new String[]{LOCATION_PERMISSION}, LOCATION_PERMISSION_REQUEST_CODE);\r\n                }\r\n                return false;\r\n    }\r\n\r\nto the following code after I found out that auto location detection doesn&#39;t work on API 21 and mainly because `fragment.requestPermissions` is deprecated:\r\n\r\n    public static boolean requestForLocationPermission(Fragment fragment) {\r\n\r\n    String LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (ContextCompat.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\r\n                    == PackageManager.PERMISSION_GRANTED) {\r\n                Log.d(&quot;request_Permission 23:&quot;, &quot;has been granted!&quot;);\r\n                return true;\r\n            }\r\n        } else {\r\n            if (PermissionChecker.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\r\n                    == PermissionChecker.PERMISSION_GRANTED) {\r\n                Log.d(&quot;request_Permission 21:&quot;, &quot;has been granted!&quot;);\r\n                return true;\r\n            }\r\n        }\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\r\n            PermissionDialog.showForResult(fragment, LOCATION_PERMISSION_REQUEST_CODE, LOCATION_PERMISSION);\r\n        } else {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                fragment.requireActivity().requestPermissions(new String[]{LOCATION_PERMISSION}, LOCATION_PERMISSION_REQUEST_CODE);\r\n            } else {\r\n                ActivityCompat.requestPermissions(fragment.requireActivity(),\r\n                        new String[]{LOCATION_PERMISSION},\r\n                        LOCATION_PERMISSION_REQUEST_CODE);\r\n                Log.d(&quot;request_Permission:&quot;, &quot;has been requested ... &quot;);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\nAfter adding these `Log` lines, it was very odd that for API 21 in the `logcat` it is showing `request_Permission 21: has been granted!` when the permission dialog appear on screen without any option-selection.\r\n\r\nSo why is `PermissionChecker.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION) == PermissionChecker.PERMISSION_GRANTED` always true for API 21 (and probably for API 22)?","title":"Android API 21 Location Permission condition is true before accept dialog result","body":"<p>I changed the following method</p>\n<pre><code>public static boolean requestForLocationPermission(Fragment fragment) {\nString LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\n     if (ContextCompat.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\n                    == PackageManager.PERMISSION_GRANTED)\n                return true;\n    \n            if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\n                PermissionDialog.showForResult(fragment, LOCATION_PERMISSION_REQUEST_CODE, LOCATION_PERMISSION);\n            } else {\n                fragment.requestPermissions(new String[]{LOCATION_PERMISSION}, LOCATION_PERMISSION_REQUEST_CODE);\n            }\n            return false;\n}\n</code></pre>\n<p>to the following code after I found out that auto location detection doesn't work on API 21 and mainly because <code>fragment.requestPermissions</code> is deprecated:</p>\n<pre><code>public static boolean requestForLocationPermission(Fragment fragment) {\n\nString LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (ContextCompat.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\n                == PackageManager.PERMISSION_GRANTED) {\n            Log.d(&quot;request_Permission 23:&quot;, &quot;has been granted!&quot;);\n            return true;\n        }\n    } else {\n        if (PermissionChecker.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION)\n                == PermissionChecker.PERMISSION_GRANTED) {\n            Log.d(&quot;request_Permission 21:&quot;, &quot;has been granted!&quot;);\n            return true;\n        }\n    }\n    if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\n        PermissionDialog.showForResult(fragment, LOCATION_PERMISSION_REQUEST_CODE, LOCATION_PERMISSION);\n    } else {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            fragment.requireActivity().requestPermissions(new String[]{LOCATION_PERMISSION}, LOCATION_PERMISSION_REQUEST_CODE);\n        } else {\n            ActivityCompat.requestPermissions(fragment.requireActivity(),\n                    new String[]{LOCATION_PERMISSION},\n                    LOCATION_PERMISSION_REQUEST_CODE);\n            Log.d(&quot;request_Permission:&quot;, &quot;has been requested ... &quot;);\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>After adding these <code>Log</code> lines, it was very odd that for API 21 in the <code>logcat</code> it is showing <code>request_Permission 21: has been granted!</code> when the permission dialog appear on screen without any option-selection.</p>\n<p>So why is <code>PermissionChecker.checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION) == PermissionChecker.PERMISSION_GRANTED</code> always true for API 21 (and probably for API 22)?</p>\n"},{"tags":["java","json","serialization","jackson","jsonserializer"],"comments":[{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":1,"creation_date":1353017280,"post_id":13406568,"comment_id":18317879,"body_markdown":"provide a static factory method in your enumeration class that constructs enum by string","body":"provide a static factory method in your enumeration class that constructs enum by string"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1353027034,"post_id":13406568,"comment_id":18320809,"body_markdown":"And the reason for issue is that by default Jackson uses `enum.name()` as the id -- and in this case, name is &quot;COINS&quot;, not lowe-case &quot;coins&quot;. There are ways around this, as answers point out.","body":"And the reason for issue is that by default Jackson uses <code>enum.name()</code> as the id -- and in this case, name is &quot;COINS&quot;, not lowe-case &quot;coins&quot;. There are ways around this, as answers point out."}],"answers":[{"tags":[],"owner":{"account_id":430892,"reputation":11366,"user_id":814576,"accept_rate":77,"display_name":"ecbrodie"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1353017217,"creation_date":1353017217,"answer_id":13407089,"question_id":13406568,"body_markdown":"GRR! Figured it out.\r\n\r\nSolution for me was to create a static method, annotated with `@JsonCreator`, in my enum that creates an instance of the enum, based on a String parameter. It looked like this:\r\n\r\n    @JsonCreator\r\n    public static MyEnum create(String str) {\r\n        // code to return an enum based on the String parameter\r\n    }","title":"Jackson deserializing into Map with an Enum Key, POJO Value","body":"<p>GRR! Figured it out.</p>\n\n<p>Solution for me was to create a static method, annotated with <code>@JsonCreator</code>, in my enum that creates an instance of the enum, based on a String parameter. It looked like this:</p>\n\n<pre><code>@JsonCreator\npublic static MyEnum create(String str) {\n    // code to return an enum based on the String parameter\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1353017500,"creation_date":1353017500,"answer_id":13407145,"question_id":13406568,"body_markdown":"Provide a static factory method in your enumeration class that constructs enum by string and annotate it with @JsonCreator:\r\n\r\n    @JsonCreator\r\n    public static MyEnum fromValue(String v) {\r\n    \tfor (MyEnum myEnum : values()) {\r\n    \t\tif (myEnum.text.equals(v)) {\r\n    \t\t\treturn myEnum;\r\n    \t\t}\r\n    \t}\r\n        throw new IllegalArgumentException(&quot;invalid string value passed: &quot; + v);\r\n    }\r\n\r\n","title":"Jackson deserializing into Map with an Enum Key, POJO Value","body":"<p>Provide a static factory method in your enumeration class that constructs enum by string and annotate it with @JsonCreator:</p>\n\n<pre><code>@JsonCreator\npublic static MyEnum fromValue(String v) {\n    for (MyEnum myEnum : values()) {\n        if (myEnum.text.equals(v)) {\n            return myEnum;\n        }\n    }\n    throw new IllegalArgumentException(\"invalid string value passed: \" + v);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1690179015,"creation_date":1353027199,"answer_id":13408846,"question_id":13406568,"body_markdown":"In addition to one good solution presented (factory method), there are 2 other ways:\r\n\r\n* If `MyEnum.toString()` would return `coins`, you can make Jackson use `toString()` over `name()` with `ObjectMapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING)`\r\n* You could add some other method to return id to use, and mark that method with `@JsonValue` annotation (you can actually use that on `toString()` as well, instead of enabling the above feature) -- if that annotation exists, the value returned by that method is used as the id.\r\n\r\n","title":"Jackson deserializing into Map with an Enum Key, POJO Value","body":"<p>In addition to one good solution presented (factory method), there are 2 other ways:</p>\n<ul>\n<li>If <code>MyEnum.toString()</code> would return <code>coins</code>, you can make Jackson use <code>toString()</code> over <code>name()</code> with <code>ObjectMapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING)</code></li>\n<li>You could add some other method to return id to use, and mark that method with <code>@JsonValue</code> annotation (you can actually use that on <code>toString()</code> as well, instead of enabling the above feature) -- if that annotation exists, the value returned by that method is used as the id.</li>\n</ul>\n"}],"owner":{"account_id":430892,"reputation":11366,"user_id":814576,"accept_rate":77,"display_name":"ecbrodie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17652,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":13408846,"answer_count":3,"score":15,"last_activity_date":1690179015,"creation_date":1353015037,"question_id":13406568,"body_markdown":"I am trying to deserialize JSON into a Java POJO using Jackson. Without giving away confidential information, here is an example stack trace when ObjectMapper&#39;s deserialization fails:\r\n\r\n    org.codehaus.jackson.map.JsonMappingException: Can not construct Map key of type com.example.MyEnum from String &quot;coins&quot;: not a valid representation: Can not construct Map key of type com.example.MyEnum from String &quot;coins&quot;: not one of values for Enum class\r\n\r\nMy JSON looks like this:\r\n\r\n    &quot;foo&quot;: {\r\n        &quot;coins&quot;: null,\r\n        ...\r\n    }\r\n\r\nAnd the class I want to deserialize into has this field:\r\n\r\n    private Map&lt;MyEnum, MyPojo&gt; foo;\r\n\r\nAnd my enum type looks like this:\r\n\r\n    public enum MyEnum {\r\n        COINS(&quot;coins&quot;),\r\n        ...\r\n    }\r\n\r\nI do realize that I am trying to deserialize a null value. But I believe this should still work: the result of the deserialization should be equivalent to having a Map with `foo.put(MyEnum.COINS, null)`, which is indeed a valid Java instruction. Help is much appreciated, thanks in advance.","title":"Jackson deserializing into Map with an Enum Key, POJO Value","body":"<p>I am trying to deserialize JSON into a Java POJO using Jackson. Without giving away confidential information, here is an example stack trace when ObjectMapper's deserialization fails:</p>\n\n<pre><code>org.codehaus.jackson.map.JsonMappingException: Can not construct Map key of type com.example.MyEnum from String \"coins\": not a valid representation: Can not construct Map key of type com.example.MyEnum from String \"coins\": not one of values for Enum class\n</code></pre>\n\n<p>My JSON looks like this:</p>\n\n<pre><code>\"foo\": {\n    \"coins\": null,\n    ...\n}\n</code></pre>\n\n<p>And the class I want to deserialize into has this field:</p>\n\n<pre><code>private Map&lt;MyEnum, MyPojo&gt; foo;\n</code></pre>\n\n<p>And my enum type looks like this:</p>\n\n<pre><code>public enum MyEnum {\n    COINS(\"coins\"),\n    ...\n}\n</code></pre>\n\n<p>I do realize that I am trying to deserialize a null value. But I believe this should still work: the result of the deserialization should be equivalent to having a Map with <code>foo.put(MyEnum.COINS, null)</code>, which is indeed a valid Java instruction. Help is much appreciated, thanks in advance.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690179005,"creation_date":1690179005,"answer_id":76751808,"question_id":76751789,"body_markdown":"For the downstream collector of `groupingBy`, you should use the `flatMapping` collector, instead of the `mapping` collector. `mapping` would produce a `Map&lt;String, List&lt;List&lt;Employee&gt;&gt;&gt;`.\r\n\r\nEach group contains multiple `List&lt;Employee&gt;`, and you want to *flatten* them into a single `List&lt;Employee&gt;`.\r\n\r\n```\r\nMap&lt;String, List&lt;Employee&gt;&gt; secondMap = firstMap.entrySet().\r\n        stream()\r\n        .collect(Collectors.groupingBy(m-&gt;m.getKey().toUpperCase(),\r\n                Collectors.flatMapping(\r\n                        el-&gt;el.getValue().stream(), Collectors.toList())));\r\n```","title":"java Streams, How to groupby Map based on key with values of arraylist","body":"<p>For the downstream collector of <code>groupingBy</code>, you should use the <code>flatMapping</code> collector, instead of the <code>mapping</code> collector. <code>mapping</code> would produce a <code>Map&lt;String, List&lt;List&lt;Employee&gt;&gt;&gt;</code>.</p>\n<p>Each group contains multiple <code>List&lt;Employee&gt;</code>, and you want to <em>flatten</em> them into a single <code>List&lt;Employee&gt;</code>.</p>\n<pre><code>Map&lt;String, List&lt;Employee&gt;&gt; secondMap = firstMap.entrySet().\n        stream()\n        .collect(Collectors.groupingBy(m-&gt;m.getKey().toUpperCase(),\n                Collectors.flatMapping(\n                        el-&gt;el.getValue().stream(), Collectors.toList())));\n</code></pre>\n"}],"owner":{"account_id":29077361,"reputation":13,"user_id":22274166,"display_name":"Kishore Babu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76751808,"answer_count":1,"score":1,"last_activity_date":1690179005,"creation_date":1690178634,"question_id":76751789,"body_markdown":"I have an Employee class\r\n\r\n```\r\nclass Employee{\t\r\n\tint id;\r\n\tString name;\t\r\n\tEmployee(int id, String name){\r\n\t\tthis.id=id;\r\n\t\tthis.name=name;\t\t\r\n\t}\t\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nin my main method\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\nMap&lt;String, List&lt;Employee&gt;&gt; firstMap = new HashMap&lt;&gt;();\r\n\t\t firstMap.put(&quot;depa&quot;, Arrays.asList(new Employee(1,&quot;aa&quot;)) );\r\n\t\t firstMap.put(&quot;depA&quot;, Arrays.asList(new Employee(2,&quot;bb&quot;)));\r\n\t\t firstMap.put(&quot;depC&quot;, Arrays.asList(new Employee(3,&quot;cc&quot;)));\r\n\t\t firstMap.put(&quot;depd&quot;, Arrays.asList(new Employee(4,&quot;dd&quot;)));\r\n\t\t firstMap.put(&quot;depak&quot;, Arrays.asList(new Employee(5,&quot;A1&quot;),new Employee(6,&quot;A2&quot;)) );\r\n\t\t firstMap.put(&quot;depaK&quot;, Arrays.asList(new Employee(7,&quot;A3&quot;)) );\r\n\t\t firstMap.put(&quot;depAk&quot;, Arrays.asList(new Employee(8,&quot;A4&quot;)) );\r\n\t\t firstMap.put(&quot;depAK&quot;, Arrays.asList(new Employee(9,&quot;A5&quot;)) );\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nFrom this I wan to convert all Keys to capitals then groupby the keys and values should be added to the list.\r\n\r\n\r\n\r\nI have tried this:\r\n\r\n```\r\nMap&lt;Object, List&lt;Object&gt;&gt; secondMap = firstMap.entrySet().\r\n\t\t\t\t stream().\r\n\t\t\t\t collect(Collectors.groupingBy(m-&gt;m.getKey().toUpperCase(),\r\n\t\t\t\t Collectors.mapping(\r\n\t\t\t\t\t\t el-&gt;el.getValue(), Collectors.toList())));\r\n\r\n```\r\n\r\n\r\nBut I am getting Map&lt;Object, List&lt;Object&gt;&gt; here where I want to get Map&lt;String, List&lt;Employee&gt;&gt;.\r\nHere I am getting List&lt;list&lt;Employee&gt;&gt; as values but I want list&lt;Employee&gt; as values\r\n\r\n\r\nThanks in advance.","title":"java Streams, How to groupby Map based on key with values of arraylist","body":"<p>I have an Employee class</p>\n<pre><code>class Employee{ \n    int id;\n    String name;    \n    Employee(int id, String name){\n        this.id=id;\n        this.name=name;     \n    }   \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>in my main method</p>\n<pre><code>public static void main(String[] args) {\n\nMap&lt;String, List&lt;Employee&gt;&gt; firstMap = new HashMap&lt;&gt;();\n         firstMap.put(&quot;depa&quot;, Arrays.asList(new Employee(1,&quot;aa&quot;)) );\n         firstMap.put(&quot;depA&quot;, Arrays.asList(new Employee(2,&quot;bb&quot;)));\n         firstMap.put(&quot;depC&quot;, Arrays.asList(new Employee(3,&quot;cc&quot;)));\n         firstMap.put(&quot;depd&quot;, Arrays.asList(new Employee(4,&quot;dd&quot;)));\n         firstMap.put(&quot;depak&quot;, Arrays.asList(new Employee(5,&quot;A1&quot;),new Employee(6,&quot;A2&quot;)) );\n         firstMap.put(&quot;depaK&quot;, Arrays.asList(new Employee(7,&quot;A3&quot;)) );\n         firstMap.put(&quot;depAk&quot;, Arrays.asList(new Employee(8,&quot;A4&quot;)) );\n         firstMap.put(&quot;depAK&quot;, Arrays.asList(new Employee(9,&quot;A5&quot;)) );\n\n}\n</code></pre>\n<p>From this I wan to convert all Keys to capitals then groupby the keys and values should be added to the list.</p>\n<p>I have tried this:</p>\n<pre><code>Map&lt;Object, List&lt;Object&gt;&gt; secondMap = firstMap.entrySet().\n                 stream().\n                 collect(Collectors.groupingBy(m-&gt;m.getKey().toUpperCase(),\n                 Collectors.mapping(\n                         el-&gt;el.getValue(), Collectors.toList())));\n\n</code></pre>\n<p>But I am getting Map&lt;Object, List&gt; here where I want to get Map&lt;String, List&gt;.\nHere I am getting List&lt;list&gt; as values but I want list as values</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","jackson","jax-rs","jsr310"],"comments":[{"owner":{"display_name":"user7605325"},"score":0,"creation_date":1506081007,"post_id":46362969,"comment_id":79687284,"body_markdown":"This usually happens if the `JavaTimeModule` is not registered in the `ObjectMapper`: https://github.com/FasterXML/jackson-modules-java8#user-content-registering-modules","body":"This usually happens if the <code>JavaTimeModule</code> is not registered in the <code>ObjectMapper</code>: <a href=\"https://github.com/FasterXML/jackson-modules-java8#user-content-registering-modules\" rel=\"nofollow noreferrer\">github.com/FasterXML/&hellip;</a>"},{"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"score":0,"creation_date":1506081133,"post_id":46362969,"comment_id":79687359,"body_markdown":"@Hugo I read about this, but it&#39;s unclear to me how to do this registration. Could you flesh this out into an answer?","body":"@Hugo I read about this, but it&#39;s unclear to me how to do this registration. Could you flesh this out into an answer?"},{"owner":{"display_name":"user7605325"},"score":0,"creation_date":1506081383,"post_id":46362969,"comment_id":79687540,"body_markdown":"I&#39;ve never used both jersey &amp; jackson together, so not sure about how to do it. I usually set the `ObjectMapper` programatically (like in the link provided in previous comment). Anyway, maybe this can help: https://stackoverflow.com/q/18872931/7605325","body":"I&#39;ve never used both jersey &amp; jackson together, so not sure about how to do it. I usually set the <code>ObjectMapper</code> programatically (like in the link provided in previous comment). Anyway, maybe this can help: <a href=\"https://stackoverflow.com/q/18872931/7605325\">stackoverflow.com/q/18872931/7605325</a>"},{"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"score":0,"creation_date":1506083728,"post_id":46362969,"comment_id":79689205,"body_markdown":"@Hugo I don&#39;t understand where to get &quot;the&quot; ObjectMapper, or where to put a newly created one. Simply putting a `new ObjectMapper().registerModule(new JavaTimeModule())` somewhere in my code doesn&#39;t magically make it work. This information is what&#39;s missing from everything I find on this topic. Can you explain this?","body":"@Hugo I don&#39;t understand where to get &quot;the&quot; ObjectMapper, or where to put a newly created one. Simply putting a <code>new ObjectMapper().registerModule(new JavaTimeModule())</code> somewhere in my code doesn&#39;t magically make it work. This information is what&#39;s missing from everything I find on this topic. Can you explain this?"},{"owner":{"display_name":"user7605325"},"score":0,"creation_date":1506084150,"post_id":46362969,"comment_id":79689553,"body_markdown":"As I said, I&#39;ve never used jersey with jackson, so I really don&#39;t know where to configure it. Have you tried [this](https://stackoverflow.com/questions/20563640/using-jackson-objectmapper-with-jersey)?","body":"As I said, I&#39;ve never used jersey with jackson, so I really don&#39;t know where to configure it. Have you tried <a href=\"https://stackoverflow.com/questions/20563640/using-jackson-objectmapper-with-jersey\">this</a>?"},{"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"score":0,"creation_date":1506084535,"post_id":46362969,"comment_id":79689839,"body_markdown":"@Hugo Actually I don&#39;t want to depend on Jersey, but just the JAX-RS API. Jersey is only included for the tests. I looked at all your examples, but there&#39;s a gap between the code snippets there, and my code. I don&#39;t understand how to transpose the offered solutions to my situation. Perhaps you understand this better and could do the translation? It would probably be a good answer.","body":"@Hugo Actually I don&#39;t want to depend on Jersey, but just the JAX-RS API. Jersey is only included for the tests. I looked at all your examples, but there&#39;s a gap between the code snippets there, and my code. I don&#39;t understand how to transpose the offered solutions to my situation. Perhaps you understand this better and could do the translation? It would probably be a good answer."},{"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"score":0,"creation_date":1506160462,"post_id":46362969,"comment_id":79715071,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/155140/discussion-between-rinke-and-hugo).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/155140/discussion-between-rinke-and-hugo\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":11831241,"reputation":111,"user_id":8657912,"display_name":"Martijn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1690177708,"creation_date":1506109735,"answer_id":46372229,"question_id":46362969,"body_markdown":"In the example code, you&#39;re currently depending on jersey-media-json-jackson. You&#39;re probably better of by depending on Jackson&#39;s JAX-RS JSON as you are able to configure the Jackson mapper using the standard JAX-RS API (and of course the Jackson API).\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAfter removing the jersey-media-json-jackson and adding the jackson-jaxrs-json-provider dependency, you can configure the JacksonJaxbJsonProvider and register it in the class that produces the Client:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\n    import com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider;\r\n    import com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;\r\n    \r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n    \r\n    import static com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider.DEFAULT_ANNOTATIONS;\r\n    \r\n    public class ClientProducer {\r\n    \r\n        private JacksonJsonProvider jsonProvider;\r\n    \r\n        public ClientProducer() {\r\n            // Create an ObjectMapper to be used for (de)serializing to/from JSON.\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            // Register the JavaTimeModule for JSR-310 DateTime (de)serialization\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n            // Configure the object mapper te serialize to timestamp strings.\r\n            objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n            // Create a Jackson Provider\r\n            this.jsonProvider = new JacksonJaxbJsonProvider(objectMapper, DEFAULT_ANNOTATIONS);\r\n        }\r\n    \r\n        @Produces\r\n        public Client produceClient() {\r\n    \r\n            return ClientBuilder.newClient()\r\n                    // Register the jsonProvider\r\n                    .register(this.jsonProvider);\r\n        }\r\n    }\r\n","title":"Jackson (de)serialization of Java8 date/time by a JAX-RS client","body":"<p>In the example code, you're currently depending on jersey-media-json-jackson. You're probably better of by depending on Jackson's JAX-RS JSON as you are able to configure the Jackson mapper using the standard JAX-RS API (and of course the Jackson API).</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After removing the jersey-media-json-jackson and adding the jackson-jaxrs-json-provider dependency, you can configure the JacksonJaxbJsonProvider and register it in the class that produces the Client:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider;\nimport com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;\n\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\n\nimport static com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider.DEFAULT_ANNOTATIONS;\n\npublic class ClientProducer {\n\n    private JacksonJsonProvider jsonProvider;\n\n    public ClientProducer() {\n        // Create an ObjectMapper to be used for (de)serializing to/from JSON.\n        ObjectMapper objectMapper = new ObjectMapper();\n        // Register the JavaTimeModule for JSR-310 DateTime (de)serialization\n        objectMapper.registerModule(new JavaTimeModule());\n        // Configure the object mapper te serialize to timestamp strings.\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        // Create a Jackson Provider\n        this.jsonProvider = new JacksonJaxbJsonProvider(objectMapper, DEFAULT_ANNOTATIONS);\n    }\n\n    @Produces\n    public Client produceClient() {\n\n        return ClientBuilder.newClient()\n                // Register the jsonProvider\n                .register(this.jsonProvider);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525487961,"creation_date":1525487961,"answer_id":50185187,"question_id":46362969,"body_markdown":"You can configure the Jackson `ObjectMapper` in a [`ContextResolver`][1]. The Jackson JAX-RS provider will lookup this resolver and get the `ObjectMapper` from it.\r\n\r\n    @Provider\r\n    public class ObjectMapperResolver implements ContextResolver&lt;ObjectMapper&gt; {\r\n        private final ObjectMapper mapper;\r\n    \r\n        public ObjectMapperResolver() {\r\n            mapper = new ObjectMapper();\r\n            // configure mapper\r\n        }\r\n    \r\n        @Override\r\n        public ObjectMapper getContext(Class&lt;?&gt; cls) {\r\n            return mapper;\r\n        }\r\n    }\r\n\r\nThen just register the resolver like you would any other provider or resource in your JAX-RS application.\r\n\r\n[1]: https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/ContextResolver.html","title":"Jackson (de)serialization of Java8 date/time by a JAX-RS client","body":"<p>You can configure the Jackson <code>ObjectMapper</code> in a <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/ContextResolver.html\" rel=\"nofollow noreferrer\"><code>ContextResolver</code></a>. The Jackson JAX-RS provider will lookup this resolver and get the <code>ObjectMapper</code> from it.</p>\n\n<pre><code>@Provider\npublic class ObjectMapperResolver implements ContextResolver&lt;ObjectMapper&gt; {\n    private final ObjectMapper mapper;\n\n    public ObjectMapperResolver() {\n        mapper = new ObjectMapper();\n        // configure mapper\n    }\n\n    @Override\n    public ObjectMapper getContext(Class&lt;?&gt; cls) {\n        return mapper;\n    }\n}\n</code></pre>\n\n<p>Then just register the resolver like you would any other provider or resource in your JAX-RS application.</p>\n"}],"owner":{"account_id":908201,"reputation":6185,"user_id":942671,"accept_rate":83,"display_name":"Rinke"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7583,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1690177708,"creation_date":1506077406,"question_id":46362969,"body_markdown":"I&#39;m making a serivce client for a REST endpoint, using a JAX-RS client for the HTTP requests and Jackson to (de)serialize JSON entities. In order to handle JSR-310 (Java8) date/time objects I added the `com.fasterxml.jackson.datatype:jackson-datatype-jsr310` module as a dependency to the service client, but I didn&#39;t get it to work.\r\n\r\n**How to configure JAX-RS and/or Jackson to use the jsr310 module?**\r\n\r\nI use the following dependencies:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${jax-rs.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI don&#39;t want to make the service client (which is released as a library) dependent on any specific implementation  like Jersey, so I only depend on the JAX-RS API. To run my integration tests I added:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n      &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n      &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n      &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nInstantiation of the JAX-RS client is done in a factory object, as follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n\r\n    @Produces\r\n    public Client produceClient() {\r\n        return ClientBuilder.newClient();\r\n    }\r\n\r\nA typical DTO looks like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n    import java.time.Instant;\r\n\r\n    import static java.util.Objects.requireNonNull;\r\n\r\n    @JsonPropertyOrder({&quot;n&quot;, &quot;t&quot;})\r\n    public final class Message {\r\n\r\n        private final String name;\r\n        private final Instant timestamp;\r\n\r\n        @JsonCreator\r\n        public Message(@JsonProperty(&quot;n&quot;) final String name,\r\n                       @JsonProperty(&quot;t&quot;) final Instant timestamp) {\r\n            this.name = requireNonNull(name);\r\n            this.timestamp = requireNonNull(timestamp);\r\n        }\r\n\r\n        @JsonProperty(&quot;n&quot;)\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n\r\n        @JsonProperty(&quot;t&quot;)\r\n        public Instant getTimestamp() {\r\n            return this.timestamp;\r\n        }\r\n\r\n        // equals(Object), hashCode() and toString()\r\n    }\r\n\r\nRequests are done like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import javax.ws.rs.client.Entity;\r\n    import javax.ws.rs.client.WebTarget;\r\n    import javax.ws.rs.core.MediaType;\r\n\r\n    public final class Gateway {\r\n\r\n        private final WebTarget endpoint;\r\n\r\n        public Message postSomething(final Something something) {\r\n            return this.endpoint\r\n                    .request(MediaType.APPLICATION_JSON_TYPE)\r\n                    .post(Entity.json(something), Message.class);\r\n        }\r\n\r\n        // where Message is the class defined above and Something is a similar DTO\r\n    }\r\n\r\nJSON serialization and deserialization works fine for Strings, ints, BigIntegers, Lists, etc. However, when I do something like `System.out.println(gateway.postSomthing(new Something(&quot;x&quot;, &quot;y&quot;));` in my tests I get the following exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.time.Instant` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value (&#39;Fri, 22 Sep 2017 10:26:52 GMT&#39;)\r\n     at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 562] (through reference chain: Message[&quot;t&quot;])\r\n            at org.example.com.ServiceClientTest.test(ServiceClientTest.java:52)\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException:\r\n    Cannot construct instance of `java.time.Instant` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value (&#39;Fri, 22 Sep 2017 10:26:52 GMT&#39;)\r\n     at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 562] (through reference chain: Message[&quot;t&quot;])\r\n            at org.example.com.ServiceClientTest.test(ServiceClientTest.java:52)\r\n\r\nFrom which I conclude that Jackson doesn&#39;t know how to deserialize Strings into Instants. I found blogs and SO questions about this topic, but I found no clear explanation on how to make it work.\r\n\r\nNote that I&#39;d like the service client to handle date strings like `&quot;Fri, 22 Sep 2017 10:26:52 GMT&quot;` as well as `&quot;2017-09-22T10:26:52.123Z&quot;`, but I want it to always serialize to ISO 8601 date strings.\r\n\r\nWho can explain how to make deserialization into an `Instant` work?","title":"Jackson (de)serialization of Java8 date/time by a JAX-RS client","body":"<p>I'm making a serivce client for a REST endpoint, using a JAX-RS client for the HTTP requests and Jackson to (de)serialize JSON entities. In order to handle JSR-310 (Java8) date/time objects I added the <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> module as a dependency to the service client, but I didn't get it to work.</p>\n\n<p><strong>How to configure JAX-RS and/or Jackson to use the jsr310 module?</strong></p>\n\n<p>I use the following dependencies:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n  &lt;version&gt;${jax-rs.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n  &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n  &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I don't want to make the service client (which is released as a library) dependent on any specific implementation  like Jersey, so I only depend on the JAX-RS API. To run my integration tests I added:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n  &lt;version&gt;${jersey.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n  &lt;version&gt;${jersey.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n  &lt;version&gt;${jersey.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Instantiation of the JAX-RS client is done in a factory object, as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javax.ws.rs.Produces;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\n\n@Produces\npublic Client produceClient() {\n    return ClientBuilder.newClient();\n}\n</code></pre>\n\n<p>A typical DTO looks like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\nimport java.time.Instant;\n\nimport static java.util.Objects.requireNonNull;\n\n@JsonPropertyOrder({\"n\", \"t\"})\npublic final class Message {\n\n    private final String name;\n    private final Instant timestamp;\n\n    @JsonCreator\n    public Message(@JsonProperty(\"n\") final String name,\n                   @JsonProperty(\"t\") final Instant timestamp) {\n        this.name = requireNonNull(name);\n        this.timestamp = requireNonNull(timestamp);\n    }\n\n    @JsonProperty(\"n\")\n    public String getName() {\n        return this.name;\n    }\n\n    @JsonProperty(\"t\")\n    public Instant getTimestamp() {\n        return this.timestamp;\n    }\n\n    // equals(Object), hashCode() and toString()\n}\n</code></pre>\n\n<p>Requests are done like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javax.ws.rs.client.Entity;\nimport javax.ws.rs.client.WebTarget;\nimport javax.ws.rs.core.MediaType;\n\npublic final class Gateway {\n\n    private final WebTarget endpoint;\n\n    public Message postSomething(final Something something) {\n        return this.endpoint\n                .request(MediaType.APPLICATION_JSON_TYPE)\n                .post(Entity.json(something), Message.class);\n    }\n\n    // where Message is the class defined above and Something is a similar DTO\n}\n</code></pre>\n\n<p>JSON serialization and deserialization works fine for Strings, ints, BigIntegers, Lists, etc. However, when I do something like <code>System.out.println(gateway.postSomthing(new Something(\"x\", \"y\"));</code> in my tests I get the following exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.time.Instant` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value ('Fri, 22 Sep 2017 10:26:52 GMT')\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 562] (through reference chain: Message[\"t\"])\n        at org.example.com.ServiceClientTest.test(ServiceClientTest.java:52)\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException:\nCannot construct instance of `java.time.Instant` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value ('Fri, 22 Sep 2017 10:26:52 GMT')\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 562] (through reference chain: Message[\"t\"])\n        at org.example.com.ServiceClientTest.test(ServiceClientTest.java:52)\n</code></pre>\n\n<p>From which I conclude that Jackson doesn't know how to deserialize Strings into Instants. I found blogs and SO questions about this topic, but I found no clear explanation on how to make it work.</p>\n\n<p>Note that I'd like the service client to handle date strings like <code>\"Fri, 22 Sep 2017 10:26:52 GMT\"</code> as well as <code>\"2017-09-22T10:26:52.123Z\"</code>, but I want it to always serialize to ISO 8601 date strings.</p>\n\n<p>Who can explain how to make deserialization into an <code>Instant</code> work?</p>\n"},{"tags":["java","spring-boot","java-8"],"answers":[{"tags":[],"owner":{"account_id":45716,"reputation":11768,"user_id":134894,"accept_rate":54,"display_name":"ptomli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690177274,"creation_date":1601966133,"answer_id":64220515,"question_id":64220324,"body_markdown":"Have you included JavaTimeModule in your Jackson configuration?\r\n\r\nA related SO question &amp; answer here https://stackoverflow.com/a/32202201/134894\r\n\r\nTo copy/paste from that answer\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.registerModule(new JavaTimeModule());\r\n```\r\n\r\nOnce you have the module registered, you could also potentially configure the default `LocalDate` formatting, by registering a serializer.\r\n\r\n```\r\nSimpleModule module = new SimpleModule();\r\nmodule.addSerializer(LocalTime.class, new LocalTimeSerializer(DateTimeFormatter.ISO_LOCAL_TIME));\r\nmapper.registerModule(module);\r\n```\r\n\r\nActually, I see you&#39;re using Spring Boot.. so this might be more idiomatic for that environment\r\n\r\n```\r\n@Bean\r\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n  return builder -&gt; {\r\n    builder.serializers(new LocalTimeSerializer(DateTimeFormatter.ISO_LOCAL_TIME));\r\n    builder.deserializers(new LocalTimeDeserializer(DateTimeFormatter.ISO_LOCAL_TIME));\r\n    builder.featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n };\r\n}\r\n```","title":"LocalTime into Json - unable to change time format","body":"<p>Have you included JavaTimeModule in your Jackson configuration?</p>\n<p>A related SO question &amp; answer here <a href=\"https://stackoverflow.com/a/32202201/134894\">https://stackoverflow.com/a/32202201/134894</a></p>\n<p>To copy/paste from that answer</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JavaTimeModule());\n</code></pre>\n<p>Once you have the module registered, you could also potentially configure the default <code>LocalDate</code> formatting, by registering a serializer.</p>\n<pre><code>SimpleModule module = new SimpleModule();\nmodule.addSerializer(LocalTime.class, new LocalTimeSerializer(DateTimeFormatter.ISO_LOCAL_TIME));\nmapper.registerModule(module);\n</code></pre>\n<p>Actually, I see you're using Spring Boot.. so this might be more idiomatic for that environment</p>\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n  return builder -&gt; {\n    builder.serializers(new LocalTimeSerializer(DateTimeFormatter.ISO_LOCAL_TIME));\n    builder.deserializers(new LocalTimeDeserializer(DateTimeFormatter.ISO_LOCAL_TIME));\n    builder.featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26710077,"reputation":1,"user_id":20315609,"display_name":"Renato Dalforne de Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666540597,"creation_date":1666540597,"answer_id":74172616,"question_id":64220324,"body_markdown":"You need to use &quot;KK, not &quot;HH&quot;\r\n\r\nCode Below:\r\n@JsonFormat(pattern=&quot;KK:mm&quot;)","title":"LocalTime into Json - unable to change time format","body":"<p>You need to use &quot;KK, not &quot;HH&quot;</p>\n<p>Code Below:\n@JsonFormat(pattern=&quot;KK:mm&quot;)</p>\n"}],"owner":{"account_id":13045288,"reputation":50,"user_id":9427318,"display_name":"Arockiasamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64220515,"answer_count":2,"score":0,"last_activity_date":1690177274,"creation_date":1601965203,"question_id":64220324,"body_markdown":"I have a class like the following\r\n\r\n~~~ java\r\npublic class TimePeroid implements Comparable&lt;TimePeroid&gt;, Serializable {\r\n\r\n    private static final long serialVersionUID = -65707223409901256L;\r\n        \r\n    @Expose\r\n    //@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\r\n    private LocalTime start;\r\n        \r\n    @Expose\r\n    //@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\r\n    private LocalTime end;\r\n    //getter setter\r\n}\r\n~~~\r\n\r\nAt response time when I convert it into a JSON string with the help of `ObjectMapper`, I get a JSON string like below\r\n\r\n~~~ json\r\n{\r\n&quot;start&quot; : {&quot;hour&quot;:6,&quot;minute&quot;:0,&quot;second&quot;:0,&quot;nano&quot;:0},  \r\n&quot;end&quot;:{&quot;hour&quot;:18,&quot;minute&quot;:0,&quot;second&quot;:0,&quot;nano&quot;:0}  \r\n}\r\n~~~\r\n\r\nBut I need it like this\r\n\r\n~~~ json\r\n{  \r\n&quot;start&quot;:&quot;06:00:00&quot;,  \r\n&quot;end&quot;:&quot;18:00:00&quot;  \r\n}\r\n~~~\r\n\r\nWhat I&#39;ve tried until now\r\n\r\n**Solution 1**\r\n\r\n~~~ java\r\nspring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS = false\r\n~~~\r\n\r\n**Solution 2**\r\n\r\n~~~ java\r\n@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\r\n~~~ \r\n\r\n**Solution 3**\r\n\r\n~~~ java\r\nObjectMapper mapperObj = new ObjectMapper();\r\n    \t\t\tmapperObj.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    \t\t\tDateFormat df = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    \t\t\tmapperObj.setDateFormat(df);\r\n~~~\r\n\r\nNone of them works. please help me on this\r\n","title":"LocalTime into Json - unable to change time format","body":"<p>I have a class like the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimePeroid implements Comparable&lt;TimePeroid&gt;, Serializable {\n\n    private static final long serialVersionUID = -65707223409901256L;\n        \n    @Expose\n    //@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\n    private LocalTime start;\n        \n    @Expose\n    //@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\n    private LocalTime end;\n    //getter setter\n}\n</code></pre>\n<p>At response time when I convert it into a JSON string with the help of <code>ObjectMapper</code>, I get a JSON string like below</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;start&quot; : {&quot;hour&quot;:6,&quot;minute&quot;:0,&quot;second&quot;:0,&quot;nano&quot;:0},  \n&quot;end&quot;:{&quot;hour&quot;:18,&quot;minute&quot;:0,&quot;second&quot;:0,&quot;nano&quot;:0}  \n}\n</code></pre>\n<p>But I need it like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{  \n&quot;start&quot;:&quot;06:00:00&quot;,  \n&quot;end&quot;:&quot;18:00:00&quot;  \n}\n</code></pre>\n<p>What I've tried until now</p>\n<p><strong>Solution 1</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS = false\n</code></pre>\n<p><strong>Solution 2</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\n</code></pre>\n<p><strong>Solution 3</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapperObj = new ObjectMapper();\n                mapperObj.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n                DateFormat df = new SimpleDateFormat(&quot;HH:mm&quot;);\n                mapperObj.setDateFormat(df);\n</code></pre>\n<p>None of them works. please help me on this</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689945196,"post_id":76737890,"comment_id":135288646,"body_markdown":"Which Quarkus extension are you using?","body":"Which Quarkus extension are you using?"},{"owner":{"account_id":7423674,"reputation":1358,"user_id":5647005,"accept_rate":62,"display_name":"Piu130"},"score":0,"creation_date":1689946196,"post_id":76737890,"comment_id":135288860,"body_markdown":"@geoand I&#39;m using &#39;resteasy-reactive&#39;. Created a project with &#39;quarkus create app org.acme:getting-started --extension=&#39;resteasy-reactive&#39;&#39;. Added it to the question.","body":"@geoand I&#39;m using &#39;resteasy-reactive&#39;. Created a project with &#39;quarkus create app org.acme:getting-started --extension=&#39;resteasy-reactive&#39;&#39;. Added it to the question."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690177007,"creation_date":1690177007,"answer_id":76751670,"question_id":76737890,"body_markdown":"RESTEasy Reactive has `io.quarkus.resteasy.reactive.server.Closer` which you would use like this:\r\n\r\n        @GET\r\n        public Response get(@Context Closer closer) {\r\n            File file = new File();  \r\n            closer.add(() -&gt; file.delete());\r\n            return RestResponse.ok(&quot;something&quot;);\r\n        }","title":"How to remove a file after the request","body":"<p>RESTEasy Reactive has <code>io.quarkus.resteasy.reactive.server.Closer</code> which you would use like this:</p>\n<pre><code>    @GET\n    public Response get(@Context Closer closer) {\n        File file = new File();  \n        closer.add(() -&gt; file.delete());\n        return RestResponse.ok(&quot;something&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":7423674,"reputation":1358,"user_id":5647005,"accept_rate":62,"display_name":"Piu130"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76751670,"answer_count":1,"score":0,"last_activity_date":1690177007,"creation_date":1689941467,"question_id":76737890,"body_markdown":"I&#39;m creating files during a request. Since they are no more needed after the request I want to remove them from the filesystem.\r\n\r\nIn RestEasy there were `Cleanables`:\r\n\r\n    File file = new File();\r\n    Cleanables cleanables = ResteasyProviderFactory.getContextData(Cleanables.class);\r\n    cleanables.addCleanable(file); // removes the file after the request\r\n\r\nIs there something similar in Quarkus with extension `resteasy-reactive`?","title":"How to remove a file after the request","body":"<p>I'm creating files during a request. Since they are no more needed after the request I want to remove them from the filesystem.</p>\n<p>In RestEasy there were <code>Cleanables</code>:</p>\n<pre><code>File file = new File();\nCleanables cleanables = ResteasyProviderFactory.getContextData(Cleanables.class);\ncleanables.addCleanable(file); // removes the file after the request\n</code></pre>\n<p>Is there something similar in Quarkus with extension <code>resteasy-reactive</code>?</p>\n"},{"tags":["java","ftp","sftp","beanshell","sailpoint"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690095384,"post_id":76746830,"comment_id":135303305,"body_markdown":"I don&#39;t see where this code outputs anything at all, let alone this XML.","body":"I don&#39;t see where this code outputs anything at all, let alone this XML."},{"owner":{"account_id":16985434,"reputation":41,"user_id":12286333,"display_name":"D C"},"score":0,"creation_date":1690095904,"post_id":76746830,"comment_id":135303350,"body_markdown":"@user207421 this line --&gt;  return fileContentsList;","body":"@user207421 this line --&gt;  return fileContentsList;"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1690097747,"post_id":76746830,"comment_id":135303499,"body_markdown":"1) You have mangled your source code.  `&amp;amp;&amp;amp;` is not valid Java.  2) `return fileContentsList;` is not outputting XML.  It is returning a list that apparently contains file names.","body":"1) You have mangled your source code.  <code>&amp;amp;&amp;amp;</code> is not valid Java.  2) <code>return fileContentsList;</code> is not outputting XML.  It is returning a list that apparently contains file names."},{"owner":{"account_id":16985434,"reputation":41,"user_id":12286333,"display_name":"D C"},"score":0,"creation_date":1690098158,"post_id":76746830,"comment_id":135303534,"body_markdown":"@StephenC updated the code, its not mangled its just the format in my app on how to represent special characters, its a bean shell script --&gt; https://beanshell.github.io/manual/contents.html \n\nAnd yes, its returning the filenames in a List, but what I was looking is a way to output the file contents instead of file names","body":"@StephenC updated the code, its not mangled its just the format in my app on how to represent special characters, its a bean shell script --&gt; <a href=\"https://beanshell.github.io/manual/contents.html\" rel=\"nofollow noreferrer\">beanshell.github.io/manual/contents.html</a>   And yes, its returning the filenames in a List, but what I was looking is a way to output the file contents instead of file names"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690100327,"post_id":76746830,"comment_id":135303744,"body_markdown":"What&#39;s with the XML? Ordinarily nothing to do with sftp/ssh","body":"What&#39;s with the XML? Ordinarily nothing to do with sftp/ssh"},{"owner":{"account_id":16985434,"reputation":41,"user_id":12286333,"display_name":"D C"},"score":0,"creation_date":1690112930,"post_id":76746830,"comment_id":135305021,"body_markdown":"@g00se yes xml has nothing to do with it, the out was a list of filenames, I was looking on how to get the file contents","body":"@g00se yes xml has nothing to do with it, the out was a list of filenames, I was looking on how to get the file contents"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1690113064,"post_id":76746830,"comment_id":135305035,"body_markdown":"@DC - Advice: if something has nothing to do with the task at hand **don&#39;t put it in the question**.  It only serves to **confuse** people.  Likewise, with tags.  AFAIK, `[sailpoint]` is not relevant to your question at all.","body":"@DC - Advice: if something has nothing to do with the task at hand <b>don&#39;t put it in the question</b>.  It only serves to <b>confuse</b> people.  Likewise, with tags.  AFAIK, <code>[sailpoint]</code> is not relevant to your question at all."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690118526,"post_id":76746830,"comment_id":135305667,"body_markdown":"If you want to get files, you should be using [this](https://www.javadoc.io/static/com.hierynomus/sshj/0.23.0/net/schmizz/sshj/sftp/SFTPClient.html#get-java.lang.String-java.lang.String-)","body":"If you want to get files, you should be using <a href=\"https://www.javadoc.io/static/com.hierynomus/sshj/0.23.0/net/schmizz/sshj/sftp/SFTPClient.html#get-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690176661,"post_id":76746830,"comment_id":135311299,"body_markdown":"@DC `return fileContentsList` does not constitute outputting anything, let alone XML.","body":"@DC <code>return fileContentsList</code> does not constitute outputting anything, let alone XML."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690114362,"creation_date":1690112933,"answer_id":76748061,"question_id":76746830,"body_markdown":"I think that the problem is that you are using the APIs incorrectly.\r\n\r\nIf you look at the [examples][1] for `SFTPClient`, they don&#39;t use a method called `getretrieveFileStream`.  In fact, there isn&#39;t a method in the API whose name remotely resembles that.   Calling non-existent methods is *never* going to work.\r\n\r\nI recommend that you look at the examples for yourself and see if they do what you want.  And look at the javadocs for the APIs.  For example:\r\n\r\n  - [`SFTPClient`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/SFTPClient.html)\r\n  - [`RemoteFile`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/RemoteFile.html)\r\n  - [`RemoteFile.RemoteFileInputStream`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/RemoteFile.RemoteFileInputStream.html)\r\n\r\nI suspect the pattern for extracting the contents of a file will be something like this:\r\n\r\n 1. Obtain an `SFTPClient`.\r\n 2. Call `open` on the client to obtain a `RemoteFile` handle for the file you want to read.\r\n 3. Using that handle as the outer class context, invoke the `RemoteFileInputStream` no-args constructor to get an input stream.\r\n 4. Read from the input stream in the normal way\r\n 5. Close the stream and the handle\r\n \r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/hierynomus/sshj/tree/master/examples/src/main/java/net/schmizz/sshj/examples","title":"How to read files from SFTP client without JSch","body":"<p>I think that the problem is that you are using the APIs incorrectly.</p>\n<p>If you look at the <a href=\"https://github.com/hierynomus/sshj/tree/master/examples/src/main/java/net/schmizz/sshj/examples\" rel=\"nofollow noreferrer\">examples</a> for <code>SFTPClient</code>, they don't use a method called <code>getretrieveFileStream</code>.  In fact, there isn't a method in the API whose name remotely resembles that.   Calling non-existent methods is <em>never</em> going to work.</p>\n<p>I recommend that you look at the examples for yourself and see if they do what you want.  And look at the javadocs for the APIs.  For example:</p>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/SFTPClient.html\" rel=\"nofollow noreferrer\"><code>SFTPClient</code></a></li>\n<li><a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/RemoteFile.html\" rel=\"nofollow noreferrer\"><code>RemoteFile</code></a></li>\n<li><a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/RemoteFile.RemoteFileInputStream.html\" rel=\"nofollow noreferrer\"><code>RemoteFile.RemoteFileInputStream</code></a></li>\n</ul>\n<p>I suspect the pattern for extracting the contents of a file will be something like this:</p>\n<ol>\n<li>Obtain an <code>SFTPClient</code>.</li>\n<li>Call <code>open</code> on the client to obtain a <code>RemoteFile</code> handle for the file you want to read.</li>\n<li>Using that handle as the outer class context, invoke the <code>RemoteFileInputStream</code> no-args constructor to get an input stream.</li>\n<li>Read from the input stream in the normal way</li>\n<li>Close the stream and the handle</li>\n</ol>\n"}],"owner":{"account_id":16985434,"reputation":41,"user_id":12286333,"display_name":"D C"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76748061,"answer_count":1,"score":-2,"last_activity_date":1690175605,"creation_date":1690092354,"question_id":76746830,"body_markdown":"I&#39;m trying to read a couple of files from SecureFTP client for run a daily report task:\r\n\r\nThe file contents from both the files(**.bck** file format) looks like this in each line\r\n\r\n|00000001|FirstName|LastName|Active|0001|00000000|\\\r\n|00000002|FirstName|LastName|Incctive|0002|00000001|\\\r\n|00000003|FirstName|LastName|Active|0003|00020002|\r\n\r\nSo far, I have successfully made the connection and able to read the file names but unable to read the file contents:\r\n\r\n```\r\n  import net.schmizz.sshj.SSHClient;\r\n  import net.schmizz.sshj.sftp.SFTPClient;\r\n  import net.schmizz.sshj.transport.verification.PromiscuousVerifier;\r\n  import net.schmizz.sshj.sftp.RemoteFile.RemoteFileInputStream;\r\n  import java.io.IOException;\r\n  import java.io.InputStream;\r\n  import java.time.LocalDate;\r\n  import java.time.format.DateTimeFormatter;\r\n  import java.util.ArrayList;\r\n  import java.util.List;\r\n  import org.apache.commons.io.IOUtils;\r\n\r\n  SSHClient ssh = new SSHClient();\r\n  ssh.addHostKeyVerifier(new PromiscuousVerifier());\r\n\r\n  try {\r\n    ssh.connect(&quot;ServerName&quot;);\r\n    ssh.authPassword(&quot;username&quot;, &quot;password&quot;);\r\n\r\n    SFTPClient sftp = ssh.newSFTPClient();\r\n    List fileContentsList = new ArrayList();\r\n\r\n    try {\r\n      List files = sftp.ls(&quot;/&quot;);\r\n      LocalDate yesterday = LocalDate.now().minusDays(1);\r\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n      boolean usFileFound = false;\r\n      boolean caFileFound = false;\r\n\r\n      for (file : files) {\r\n        String fileName = file.getName();\r\n\r\n        if (!file.isDirectory()) {\r\n          if (fileName.contains(&quot;SAPHR_POS_CAEEMD_&quot;) &amp;&amp; fileName.contains(yesterday.format(formatter)) &amp;&amp; !caFileFound) {\r\n            RemoteFile remoteFile = sftp.open(fileName); // Obtain the RemoteFile handle\r\n            InputStream inputStream = new RemoteFileInputStream(remoteFile); // Get the input stream\r\n            //List lines = Arrays.asList(fileContents.split(&quot;\\n&quot;));\r\n            String fileContents = IOUtils.toString(inputStream, &quot;UTF-8&quot;); // Read contents as a string\r\n            fileContentsList.add(fileContents); // Add the contents as string to the list\r\n            caFileFound = true;\r\n            remoteFile.close();\r\n\r\n          } else if (fileName.contains(&quot;SAPHR_POS_USEEMD_&quot;) &amp;&amp; fileName.contains(yesterday.format(formatter)) &amp;&amp; !usFileFound) {\r\n            RemoteFile remoteFile = sftp.open(fileName); \r\n            InputStream inputStream = new RemoteFileInputStream(remoteFile);\r\n            String fileContents = IOUtils.toString(inputStream, &quot;UTF-8&quot;);\r\n            fileContentsList.add(fileContents);\r\n            usFileFound = true;\r\n            remoteFile.close();\r\n          }\r\n          if (caFileFound &amp;&amp; usFileFound) {\r\n            break; // Stop after both files found\r\n          }\r\n        }\r\n      }\r\n    } finally {\r\n      sftp.close();\r\n    }\r\n\r\n    String result = String.join(&quot;\\n&quot;, fileContentsList);\r\n    return result;\r\n  } finally {\r\n    try {\r\n      ssh.disconnect();\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n```\r\n\r\n\r\nThe output from current code:\r\n\r\n````\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;!DOCTYPE List PUBLIC &quot;sailpoint.dtd&quot; &quot;sailpoint.dtd&quot;&gt;\r\n&lt;List&gt;\r\n  &lt;String&gt;SAPHR_POS_CAEEMD_20230722.txt1690068889231.bck&lt;/String&gt;\r\n  &lt;String&gt;SAPHR_POS_USEEMD_20230722.txt1690068894774.bck&lt;/String&gt;\r\n&lt;/List&gt;\r\n````\r\n\r\nThe error received while trying to perform the commented lines in above code:\r\n\r\n    Exception running rule: BeanShell script error: bsh.EvalError: Sourced file: inline evaluation of: \r\n    Author: user007 Date: 16-07-2023\t Details: ********* . . . &#39;&#39; : Typed variable declaration : Error in method invocation: Method getInputStream(java.lang.String) not found in class&#39;net.schmizz.sshj.sftp.SFTPClient&#39; :\r\n    at Line: 48 : in file: inline evaluation of:\r\n    ``   /*********** Author: user007  Date: 16-07-2023\t Details: ********* . . . &#39;&#39; : sftp .getInputStream ( fileName )   BSF info: usersReport\r\n    at line: 0 column: columnNo\r\n\r\n","title":"How to read files from SFTP client without JSch","body":"<p>I'm trying to read a couple of files from SecureFTP client for run a daily report task:</p>\n<p>The file contents from both the files(<strong>.bck</strong> file format) looks like this in each line</p>\n<p>|00000001|FirstName|LastName|Active|0001|00000000|<br />\n|00000002|FirstName|LastName|Incctive|0002|00000001|<br />\n|00000003|FirstName|LastName|Active|0003|00020002|</p>\n<p>So far, I have successfully made the connection and able to read the file names but unable to read the file contents:</p>\n<pre><code>  import net.schmizz.sshj.SSHClient;\n  import net.schmizz.sshj.sftp.SFTPClient;\n  import net.schmizz.sshj.transport.verification.PromiscuousVerifier;\n  import net.schmizz.sshj.sftp.RemoteFile.RemoteFileInputStream;\n  import java.io.IOException;\n  import java.io.InputStream;\n  import java.time.LocalDate;\n  import java.time.format.DateTimeFormatter;\n  import java.util.ArrayList;\n  import java.util.List;\n  import org.apache.commons.io.IOUtils;\n\n  SSHClient ssh = new SSHClient();\n  ssh.addHostKeyVerifier(new PromiscuousVerifier());\n\n  try {\n    ssh.connect(&quot;ServerName&quot;);\n    ssh.authPassword(&quot;username&quot;, &quot;password&quot;);\n\n    SFTPClient sftp = ssh.newSFTPClient();\n    List fileContentsList = new ArrayList();\n\n    try {\n      List files = sftp.ls(&quot;/&quot;);\n      LocalDate yesterday = LocalDate.now().minusDays(1);\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\n      boolean usFileFound = false;\n      boolean caFileFound = false;\n\n      for (file : files) {\n        String fileName = file.getName();\n\n        if (!file.isDirectory()) {\n          if (fileName.contains(&quot;SAPHR_POS_CAEEMD_&quot;) &amp;&amp; fileName.contains(yesterday.format(formatter)) &amp;&amp; !caFileFound) {\n            RemoteFile remoteFile = sftp.open(fileName); // Obtain the RemoteFile handle\n            InputStream inputStream = new RemoteFileInputStream(remoteFile); // Get the input stream\n            //List lines = Arrays.asList(fileContents.split(&quot;\\n&quot;));\n            String fileContents = IOUtils.toString(inputStream, &quot;UTF-8&quot;); // Read contents as a string\n            fileContentsList.add(fileContents); // Add the contents as string to the list\n            caFileFound = true;\n            remoteFile.close();\n\n          } else if (fileName.contains(&quot;SAPHR_POS_USEEMD_&quot;) &amp;&amp; fileName.contains(yesterday.format(formatter)) &amp;&amp; !usFileFound) {\n            RemoteFile remoteFile = sftp.open(fileName); \n            InputStream inputStream = new RemoteFileInputStream(remoteFile);\n            String fileContents = IOUtils.toString(inputStream, &quot;UTF-8&quot;);\n            fileContentsList.add(fileContents);\n            usFileFound = true;\n            remoteFile.close();\n          }\n          if (caFileFound &amp;&amp; usFileFound) {\n            break; // Stop after both files found\n          }\n        }\n      }\n    } finally {\n      sftp.close();\n    }\n\n    String result = String.join(&quot;\\n&quot;, fileContentsList);\n    return result;\n  } finally {\n    try {\n      ssh.disconnect();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n</code></pre>\n<p>The output from current code:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;!DOCTYPE List PUBLIC &quot;sailpoint.dtd&quot; &quot;sailpoint.dtd&quot;&gt;\n&lt;List&gt;\n  &lt;String&gt;SAPHR_POS_CAEEMD_20230722.txt1690068889231.bck&lt;/String&gt;\n  &lt;String&gt;SAPHR_POS_USEEMD_20230722.txt1690068894774.bck&lt;/String&gt;\n&lt;/List&gt;\n</code></pre>\n<p>The error received while trying to perform the commented lines in above code:</p>\n<pre><code>Exception running rule: BeanShell script error: bsh.EvalError: Sourced file: inline evaluation of: \nAuthor: user007 Date: 16-07-2023     Details: ********* . . . '' : Typed variable declaration : Error in method invocation: Method getInputStream(java.lang.String) not found in class'net.schmizz.sshj.sftp.SFTPClient' :\nat Line: 48 : in file: inline evaluation of:\n``   /*********** Author: user007  Date: 16-07-2023  Details: ********* . . . '' : sftp .getInputStream ( fileName )   BSF info: usersReport\nat line: 0 column: columnNo\n</code></pre>\n"},{"tags":["java","spring","security","tomcat","kerberos"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690103492,"post_id":76739993,"comment_id":135304036,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690174708,"creation_date":1690174708,"answer_id":76751507,"question_id":76739993,"body_markdown":"Well, &quot;WWW-Authenticate: Negotiate&quot; _literally means_ SPNEGO will be used for authentication  on the server side, you&#39;re supposed to validate the token using a SPNEGO implementation. (And when SPNEGO validates a Kerberos ticket, it _always_ does that via GSS-API, even if that stays internal to the implementation.)\r\n\r\nHowever, it all starts on the client side  Windows on the client machine requests a token specifying SPNEGO as the mechanism, and the mechanism decides whether to attempt Kerberos first, or whether to try NTLM.\r\n\r\nIf the client starts by sending an NTLM token instead of Kerberos, that is not because of a missing header  instead it usually means it has failed to obtain a Kerberos ticket for `HTTP/&lt;fqdn&gt;`, e.g. because you haven&#39;t registered a SPN for the server within Active Directory. (You would normally have done this as part of creating the service account or keytab which Tomcat/Spring needs to actually validate the Kerberos tickets.)\r\n\r\nTest from Windows clients using `klist get HTTP/&lt;fqdn&gt;` (the FQDN must exactly match the name that&#39;s in the URL  note that IP addresses will not work).","title":"Is SPNEGO/GSS-API required for Kerberos or &quot;WWW-Authenticate: Negotiate&quot; is enough?","body":"<p>Well, &quot;WWW-Authenticate: Negotiate&quot; <em>literally means</em> SPNEGO will be used for authentication  on the server side, you're supposed to validate the token using a SPNEGO implementation. (And when SPNEGO validates a Kerberos ticket, it <em>always</em> does that via GSS-API, even if that stays internal to the implementation.)</p>\n<p>However, it all starts on the client side  Windows on the client machine requests a token specifying SPNEGO as the mechanism, and the mechanism decides whether to attempt Kerberos first, or whether to try NTLM.</p>\n<p>If the client starts by sending an NTLM token instead of Kerberos, that is not because of a missing header  instead it usually means it has failed to obtain a Kerberos ticket for <code>HTTP/&lt;fqdn&gt;</code>, e.g. because you haven't registered a SPN for the server within Active Directory. (You would normally have done this as part of creating the service account or keytab which Tomcat/Spring needs to actually validate the Kerberos tickets.)</p>\n<p>Test from Windows clients using <code>klist get HTTP/&lt;fqdn&gt;</code> (the FQDN must exactly match the name that's in the URL  note that IP addresses will not work).</p>\n"}],"owner":{"account_id":29065381,"reputation":1,"user_id":22265109,"display_name":"Olga D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690174708,"creation_date":1689960114,"question_id":76739993,"body_markdown":"I am trying to implement Kerberos authentication. I have windows server with ad, windows client and application server with tomcat and Spring.\r\n\r\nThe problem is I got NTLM ticket instead of kerberos.\r\n\r\nOn applicatin server side I just return 401 with &quot;WWW-Authenticate: Negotiate&quot;. Is it enough to force windows client choose Kerberos and the problem  of NTLM somewhere on windows client/ windows server with ad configuration?\r\n\r\nOr using SPNEGO or GSS-APi is required for getting Kerberos token?\r\n\r\nI can&#39;t cofigure application server as in this tutorial https://docs.spring.io/spring-security-kerberos/docs/current/reference/htmlsingle/.\r\n\r\nWe do not use web dependency, just spring security and custom authentication/authorization logic. We have some authorization providers (Basic, LDAP and Kerberos has to be next), if one accepts - user authorized. Also there is no way to use SPNEGO filter or any other Filter. Only  AbstractPhaseInterceptor and InterceptionProvider.\r\n\r\nI tried cofigure tomcat with krb5.conf, krb5.ini adding spnego.jar to libs with no affect.","title":"Is SPNEGO/GSS-API required for Kerberos or &quot;WWW-Authenticate: Negotiate&quot; is enough?","body":"<p>I am trying to implement Kerberos authentication. I have windows server with ad, windows client and application server with tomcat and Spring.</p>\n<p>The problem is I got NTLM ticket instead of kerberos.</p>\n<p>On applicatin server side I just return 401 with &quot;WWW-Authenticate: Negotiate&quot;. Is it enough to force windows client choose Kerberos and the problem  of NTLM somewhere on windows client/ windows server with ad configuration?</p>\n<p>Or using SPNEGO or GSS-APi is required for getting Kerberos token?</p>\n<p>I can't cofigure application server as in this tutorial <a href=\"https://docs.spring.io/spring-security-kerberos/docs/current/reference/htmlsingle/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security-kerberos/docs/current/reference/htmlsingle/</a>.</p>\n<p>We do not use web dependency, just spring security and custom authentication/authorization logic. We have some authorization providers (Basic, LDAP and Kerberos has to be next), if one accepts - user authorized. Also there is no way to use SPNEGO filter or any other Filter. Only  AbstractPhaseInterceptor and InterceptionProvider.</p>\n<p>I tried cofigure tomcat with krb5.conf, krb5.ini adding spnego.jar to libs with no affect.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1690173306,"post_id":76751118,"comment_id":135311013,"body_markdown":"No SSL/TLS server of any kind can do that, not tomcat and not any other, because the protocol doesn&#39;t allow it -- unless you also change the domain name (and the clients use SNI, which pretty much all now do). If you can&#39;t use &#39;real&#39; certs from one or more standardly-trusted CA(s), the safe method is to set all clients to accept _both_ old and new, then change server to use new, then if you want and when convenient change clients to not accept old.","body":"No SSL/TLS server of any kind can do that, not tomcat and not any other, because the protocol doesn&#39;t allow it -- unless you also change the domain name (and the clients use SNI, which pretty much all now do). If you can&#39;t use &#39;real&#39; certs from one or more standardly-trusted CA(s), the safe method is to set all clients to accept <i>both</i> old and new, then change server to use new, then if you want and when convenient change clients to not accept old."},{"owner":{"account_id":13753611,"reputation":11,"user_id":9925107,"display_name":"Farouk Osama"},"score":0,"creation_date":1690269150,"post_id":76751118,"comment_id":135325704,"body_markdown":"Many thanks Dear for your valuable comment, will read more about SNI usage","body":"Many thanks Dear for your valuable comment, will read more about SNI usage"}],"owner":{"account_id":13753611,"reputation":11,"user_id":9925107,"display_name":"Farouk Osama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690173082,"creation_date":1690166979,"question_id":76751118,"body_markdown":"I want my tomcat server to serve more than one certificate; the old certificate is about to expire, and i want to update it without denying the service for clients didn&#39;t update it yet, giving them a change to switch to new one. I have a connector configuration like this \r\n```\r\n&lt;Connector\r\n           protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n           port=&quot;8080&quot; acceptCount=&quot;100&quot; maxConnections=&quot;400&quot; maxThreads=&quot;2000&quot; maxHttpHeaderSize=&quot;65536&quot;\r\n           scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\r\n           keystoreFile=&quot;keystore.p12&quot; keystorePass=&quot;****&quot;  keyAlias=&quot;alias_new&quot;\r\n           clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;/&gt;\r\n```\r\nIs there any why i can change the configuration to server both certificate (both &#39;alias_new&#39; &amp; &#39;alias_old&#39;)?\r\n\r\nI tried adding two private key entries to my keystore, and removing alias field from connector, but it always picks up one of them and all clients validating the other one are declined.","title":"Updating expired certificate at tomcat, without removing the old one","body":"<p>I want my tomcat server to serve more than one certificate; the old certificate is about to expire, and i want to update it without denying the service for clients didn't update it yet, giving them a change to switch to new one. I have a connector configuration like this</p>\n<pre><code>&lt;Connector\n           protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n           port=&quot;8080&quot; acceptCount=&quot;100&quot; maxConnections=&quot;400&quot; maxThreads=&quot;2000&quot; maxHttpHeaderSize=&quot;65536&quot;\n           scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\n           keystoreFile=&quot;keystore.p12&quot; keystorePass=&quot;****&quot;  keyAlias=&quot;alias_new&quot;\n           clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;/&gt;\n</code></pre>\n<p>Is there any why i can change the configuration to server both certificate (both 'alias_new' &amp; 'alias_old')?</p>\n<p>I tried adding two private key entries to my keystore, and removing alias field from connector, but it always picks up one of them and all clients validating the other one are declined.</p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687544642,"post_id":76542601,"comment_id":134957342,"body_markdown":"*Student [] std = new Student [3];* You don&#39;t then create any instances of `Student` and store them in the array. Also, yes, when you&#39;ve solved that, don&#39;t hardcode the index as @NathanHughes said. And watch your [naming](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions). *INFO* (never method names in upper case. only the names of constants) should be `toString()`","body":"<i>Student [] std = new Student [3];</i> You don&#39;t then create any instances of <code>Student</code> and store them in the array. Also, yes, when you&#39;ve solved that, don&#39;t hardcode the index as @NathanHughes said. And watch your <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">naming</a>. <i>INFO</i> (never method names in upper case. only the names of constants) should be <code>toString()</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687546692,"post_id":76542601,"comment_id":134957638,"body_markdown":"The array initialization won&#39;t create each instance, you&#39;ll have to manually do this before using the _set_ methods.  This is unlike primitive array initialization, which will set all values to _0_.","body":"The array initialization won&#39;t create each instance, you&#39;ll have to manually do this before using the <i>set</i> methods.  This is unlike primitive array initialization, which will set all values to <i>0</i>."}],"answers":[{"tags":[],"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687544962,"creation_date":1687544962,"answer_id":76542687,"question_id":76542601,"body_markdown":"You are missing just a few things, here you go:\r\n\r\n        for (int i = 0; i &lt; std.length; i++) {\r\n            std[i] = new Student();\r\n            System.out.println(&quot;student &quot;+ (i));\r\n            std[i].setName();\r\n            std[i].setMarks();\r\n            std[i].INFO();\r\n        }   \r\n\r\n\r\nTeh first thing was creating the object instances, the other thing was referencing them with &#39;i&#39; instead of 0;","title":"NullPointerException with an array of objects","body":"<p>You are missing just a few things, here you go:</p>\n<pre><code>    for (int i = 0; i &lt; std.length; i++) {\n        std[i] = new Student();\n        System.out.println(&quot;student &quot;+ (i));\n        std[i].setName();\n        std[i].setMarks();\n        std[i].INFO();\n    }   \n</code></pre>\n<p>Teh first thing was creating the object instances, the other thing was referencing them with 'i' instead of 0;</p>\n"},{"tags":[],"owner":{"account_id":28075822,"reputation":59,"user_id":21447701,"display_name":"Buddhima Kaushalya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690173038,"creation_date":1690173038,"answer_id":76751418,"question_id":76542601,"body_markdown":"The problem lies in how you initialize and use the std array of Student objects in the Main class. The for loop inside the main method always uses std[0] to access the elements of the array, so all other elements (std[1] and std[2]) remain null. This causes a NullPointerException when trying to call a method on a null element. To fix the error you can use this code snippet.\r\n\r\n    for (int i = 0; i &lt; std.length; i++) {\r\n            std[i] = new Student(); // Initialize each element of the array\r\n            System.out.println(&quot;student &quot; + (i + 1));\r\n            std[i].setName();\r\n            std[i].setMarks();\r\n            std[i].INFO();\r\n    }","title":"NullPointerException with an array of objects","body":"<p>The problem lies in how you initialize and use the std array of Student objects in the Main class. The for loop inside the main method always uses std[0] to access the elements of the array, so all other elements (std[1] and std[2]) remain null. This causes a NullPointerException when trying to call a method on a null element. To fix the error you can use this code snippet.</p>\n<pre><code>for (int i = 0; i &lt; std.length; i++) {\n        std[i] = new Student(); // Initialize each element of the array\n        System.out.println(&quot;student &quot; + (i + 1));\n        std[i].setName();\n        std[i].setMarks();\n        std[i].INFO();\n}\n</code></pre>\n"}],"owner":{"account_id":28257154,"reputation":1,"user_id":21602451,"display_name":"Zaid Bakdash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690173038,"creation_date":1687544155,"question_id":76542601,"body_markdown":"I dont know why std[i] is null which is making an error \r\nError :\r\nstudent 1\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Student.setName()&quot; because &quot;&lt;local1&gt;[0]&quot; is null\r\n        at Main.main(Main.java:7)\r\nStudent class :\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Student {\r\n    \r\n    private String Name;\r\n    private int [] Marks = new int [3];\r\n    Scanner in = new Scanner(System.in);\r\n    public void setName () {\r\n        System.out.print(&quot;Enter Name : &quot;);\r\n        Name = in.nextLine();\r\n    }\r\n    public void setMarks () {\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            System.out.print(&quot;Enter Mark &quot;+ (i+1) +&quot; : &quot;);\r\n            Marks[i] = in.nextInt();\r\n        } \r\n    }\r\n    public Student () {}\r\n    public Student (String Name, int [] Marks) {\r\n        this.Name = Name;\r\n        this.Marks = Marks;\r\n    }\r\n    public float AVG () {\r\n        int Sum = 0;\r\n        for (int i : Marks) {\r\n            Sum += i;    \r\n        }\r\n        return (float) Sum / 3;\r\n    }\r\n    public void INFO () {\r\n        System.out.println(&quot;Name : &quot;+ Name);    \r\n        int c = 1;   \r\n        for (int i : Marks) {\r\n            System.out.println(&quot;Mark &quot;+ c +&quot;: &quot;+ i);\r\n            c++;\r\n        }\r\n        System.out.println(&quot;AVG of &quot;+ this.Name +&quot;: &quot;+ AVG());\r\n    }\r\n}\r\n```\r\nMain class :\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception{\r\n\r\n        Student [] std = new Student [3];\r\n        for (int i = 0; i &lt; std.length; i++) {\r\n            System.out.println(&quot;student &quot;+ (i+1));\r\n            std[0].setName();\r\n            std[0].setMarks();\r\n            std[0].INFO();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nthe code was working when declarating one object only but it is not working with an array of objects","title":"NullPointerException with an array of objects","body":"<p>I dont know why std[i] is null which is making an error\nError :\nstudent 1\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Student.setName()&quot; because &quot;[0]&quot; is null\nat Main.main(Main.java:7)\nStudent class :</p>\n<pre><code>import java.util.Scanner;\n\npublic class Student {\n    \n    private String Name;\n    private int [] Marks = new int [3];\n    Scanner in = new Scanner(System.in);\n    public void setName () {\n        System.out.print(&quot;Enter Name : &quot;);\n        Name = in.nextLine();\n    }\n    public void setMarks () {\n        for (int i = 0; i &lt; 3; i++) {\n            System.out.print(&quot;Enter Mark &quot;+ (i+1) +&quot; : &quot;);\n            Marks[i] = in.nextInt();\n        } \n    }\n    public Student () {}\n    public Student (String Name, int [] Marks) {\n        this.Name = Name;\n        this.Marks = Marks;\n    }\n    public float AVG () {\n        int Sum = 0;\n        for (int i : Marks) {\n            Sum += i;    \n        }\n        return (float) Sum / 3;\n    }\n    public void INFO () {\n        System.out.println(&quot;Name : &quot;+ Name);    \n        int c = 1;   \n        for (int i : Marks) {\n            System.out.println(&quot;Mark &quot;+ c +&quot;: &quot;+ i);\n            c++;\n        }\n        System.out.println(&quot;AVG of &quot;+ this.Name +&quot;: &quot;+ AVG());\n    }\n}\n</code></pre>\n<p>Main class :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws Exception{\n\n        Student [] std = new Student [3];\n        for (int i = 0; i &lt; std.length; i++) {\n            System.out.println(&quot;student &quot;+ (i+1));\n            std[0].setName();\n            std[0].setMarks();\n            std[0].INFO();\n        }\n    }\n}\n</code></pre>\n<p>the code was working when declarating one object only but it is not working with an array of objects</p>\n"},{"tags":["java","maven","spring-boot","slf4j"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444628182,"post_id":33071002,"comment_id":53965402,"body_markdown":"How are you running it as a Spring Boot application? I don&#39;t understand what you mean.","body":"How are you running it as a Spring Boot application? I don&#39;t understand what you mean."},{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1444690017,"post_id":33071002,"comment_id":53998731,"body_markdown":"@M.Deinum i meant with that to the launcher provided by STS","body":"@M.Deinum i meant with that to the launcher provided by STS"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444715027,"post_id":33071002,"comment_id":54005651,"body_markdown":"Might be that that adds (accidentally) some dependencies, not sure haven&#39;t used STS in a while :).","body":"Might be that that adds (accidentally) some dependencies, not sure haven&#39;t used STS in a while :)."}],"answers":[{"tags":[],"owner":{"account_id":5800032,"reputation":2207,"user_id":4574487,"display_name":"Avis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444631426,"creation_date":1444631426,"answer_id":33074550,"question_id":33071002,"body_markdown":"You using logback.xml on your classpath &amp; have spring-boot-starter-log4j:jar on your pom thats why the conflict for which **StaticLoggerBinder** to use. \r\n\r\n    SLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.12/slf4j-log4j12-1.7.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n\r\nPls remove either one of the logging library, say spring-boot-starter-log4j from your pom to remove the conflict.","title":"Spring Boot: multiple SLF4J bindings","body":"<p>You using logback.xml on your classpath &amp; have spring-boot-starter-log4j:jar on your pom thats why the conflict for which <strong>StaticLoggerBinder</strong> to use. </p>\n\n<pre><code>SLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.12/slf4j-log4j12-1.7.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\n</code></pre>\n\n<p>Pls remove either one of the logging library, say spring-boot-starter-log4j from your pom to remove the conflict.</p>\n"},{"tags":[],"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1444636861,"creation_date":1444636861,"answer_id":33076035,"question_id":33071002,"body_markdown":"Remove the dependency on `spring-boot-starter-log4j` which is bringing in `slf4j-log4j12`, I think you should use use `log4j-over-slf4j` if you have some code that depends on log4j.  See [here][1] for a distinction.\r\n\r\n\r\n  [1]: http://www.slf4j.org/legacy.html","title":"Spring Boot: multiple SLF4J bindings","body":"<p>Remove the dependency on <code>spring-boot-starter-log4j</code> which is bringing in <code>slf4j-log4j12</code>, I think you should use use <code>log4j-over-slf4j</code> if you have some code that depends on log4j.  See <a href=\"http://www.slf4j.org/legacy.html\" rel=\"noreferrer\">here</a> for a distinction.</p>\n"},{"tags":[],"owner":{"account_id":1575294,"reputation":47,"user_id":1461926,"display_name":"JZH"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1444639045,"creation_date":1444639045,"answer_id":33076643,"question_id":33071002,"body_markdown":"This error is caused by there are more than one SLF4J implementation in class path . \r\nSLF4J is an abstraction for various logging frameworks(such as log4j or logback) ,which detects the implementation during compile phase by static method .\r\n\r\nFrom your dependency:tree , I only find log4j ,there is no logback related jar\r\n\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.2.6.RELEASE:compile\r\n    [INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.12:compile\r\n    [INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.12:compile\r\n    [INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.7.12:compile\r\n    [INFO] |  \\- log4j:log4j:jar:1.2.17:compile\r\n\r\nYou should try to run maven - update project firstly , and check it again .","title":"Spring Boot: multiple SLF4J bindings","body":"<p>This error is caused by there are more than one SLF4J implementation in class path . \nSLF4J is an abstraction for various logging frameworks(such as log4j or logback) ,which detects the implementation during compile phase by static method .</p>\n\n<p>From your dependency:tree , I only find log4j ,there is no logback related jar</p>\n\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.7.12:compile\n[INFO] |  \\- log4j:log4j:jar:1.2.17:compile\n</code></pre>\n\n<p>You should try to run maven - update project firstly , and check it again .</p>\n"},{"tags":[],"owner":{"account_id":2131672,"reputation":743,"user_id":1892382,"accept_rate":50,"display_name":"Stephen"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1448646001,"creation_date":1448646001,"answer_id":33962453,"question_id":33071002,"body_markdown":"I had the exact same problem and could only see the dependency coming from spring boot. It also brought in log4j-over-slf4j, which clashed with my own requirement of slf4j-log4j12. Solved by adding the exclusions below. This is more specific that excluding the spring boot logging.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Spring Boot: multiple SLF4J bindings","body":"<p>I had the exact same problem and could only see the dependency coming from spring boot. It also brought in log4j-over-slf4j, which clashed with my own requirement of slf4j-log4j12. Solved by adding the exclusions below. This is more specific that excluding the spring boot logging.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561466587,"creation_date":1561466587,"answer_id":56754357,"question_id":33071002,"body_markdown":"When want to use log4j for logging, and exclude default logback implementation, add this dependency if not already there, or add the exclusion clause.\r\n\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n     &lt;exclusions&gt;\r\n    \t &lt;exclusion&gt;\r\n    \t &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n         &lt;/exclusion&gt;\r\n     &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nRefer [Spring Logging - How To][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html","title":"Spring Boot: multiple SLF4J bindings","body":"<p>When want to use log4j for logging, and exclude default logback implementation, add this dependency if not already there, or add the exclusion clause.</p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n &lt;exclusions&gt;\n     &lt;exclusion&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n     &lt;/exclusion&gt;\n &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Refer <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html\" rel=\"noreferrer\">Spring Logging - How To</a>.</p>\n"},{"tags":[],"owner":{"account_id":4815616,"reputation":361,"user_id":3957413,"display_name":"SaschaH"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1568131681,"creation_date":1568131681,"answer_id":57874550,"question_id":33071002,"body_markdown":"Since all earlier answers haven&#39;t been successful to get log4j2 working (at least not for me), I found the solution at https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html#howto-configure-log4j-for-logging. Basically, exclude `org.springframework.boot:spring-boot-starter-logging` from `org.springframework.boot:spring-boot-starter` and add `org.springframework.boot:spring-boot-starter-log4j2` as dependency in your `pom.xml`.","title":"Spring Boot: multiple SLF4J bindings","body":"<p>Since all earlier answers haven't been successful to get log4j2 working (at least not for me), I found the solution at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html#howto-configure-log4j-for-logging\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html#howto-configure-log4j-for-logging</a>. Basically, exclude <code>org.springframework.boot:spring-boot-starter-logging</code> from <code>org.springframework.boot:spring-boot-starter</code> and add <code>org.springframework.boot:spring-boot-starter-log4j2</code> as dependency in your <code>pom.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":7105563,"reputation":325,"user_id":6200142,"display_name":"Himadri Mandal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583392288,"creation_date":1583392288,"answer_id":60539946,"question_id":33071002,"body_markdown":"All the above answers on this page are correct and point to the same direction, but the procedure is quite challenging and cumbersome.\r\n\r\nI highly advise to use or take help of a standard plugin e.g. [Maven helper plugin][1]  \r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7179-maven-helper","title":"Spring Boot: multiple SLF4J bindings","body":"<p>All the above answers on this page are correct and point to the same direction, but the procedure is quite challenging and cumbersome.</p>\n\n<p>I highly advise to use or take help of a standard plugin e.g. <a href=\"https://plugins.jetbrains.com/plugin/7179-maven-helper\" rel=\"nofollow noreferrer\">Maven helper plugin</a>  </p>\n"},{"tags":[],"owner":{"account_id":19672570,"reputation":136,"user_id":14401500,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602595802,"creation_date":1602595802,"answer_id":64336146,"question_id":33071002,"body_markdown":"**Maven Helper** plug-in is super helpful in quickly visualizing the dependency graph and identifying the conflicts and resolving them inline with a simple click.","title":"Spring Boot: multiple SLF4J bindings","body":"<p><strong>Maven Helper</strong> plug-in is super helpful in quickly visualizing the dependency graph and identifying the conflicts and resolving them inline with a simple click.</p>\n"},{"tags":[],"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607007853,"creation_date":1607007853,"answer_id":65128539,"question_id":33071002,"body_markdown":"Posting this if anyone else faces the same issue in the future.\r\n\r\nIn large projects, there will be multiple dependencies, and putting an exclusion in one or two of them might not always work. In my case also I was not able to find `logback-classic` in the dependency tree of the project which I&#39;m trying to run. For me, the reason was \r\n\r\n - There were other internal projects that were included in Build Path. Those projects were using the `logback-classic`.\r\n\r\n **Solution:**\r\n\r\n - First step is to know what is actually required in your project, i.e. `logback-classic` or `slf4j-api`\r\n - To begin with, you can start putting exclusions of `slf4j-api` in dependencies.\r\n - If you start to get any compilation errors, then `slf4-api` is required and you just have to repeat the same process for `logback-classic` until it&#39;s completely gone from the dependency tree and other internal projects.\r\n - In case, you do not get any compilation errors, you will have to keep excluding `slf4j-api` from dependencies.\r\n - If internal projects are also included in build path, might have to repeat the process for those projects as well\r\n","title":"Spring Boot: multiple SLF4J bindings","body":"<p>Posting this if anyone else faces the same issue in the future.</p>\n<p>In large projects, there will be multiple dependencies, and putting an exclusion in one or two of them might not always work. In my case also I was not able to find <code>logback-classic</code> in the dependency tree of the project which I'm trying to run. For me, the reason was</p>\n<ul>\n<li>There were other internal projects that were included in Build Path. Those projects were using the <code>logback-classic</code>.</li>\n</ul>\n<p><strong>Solution:</strong></p>\n<ul>\n<li>First step is to know what is actually required in your project, i.e. <code>logback-classic</code> or <code>slf4j-api</code></li>\n<li>To begin with, you can start putting exclusions of <code>slf4j-api</code> in dependencies.</li>\n<li>If you start to get any compilation errors, then <code>slf4-api</code> is required and you just have to repeat the same process for <code>logback-classic</code> until it's completely gone from the dependency tree and other internal projects.</li>\n<li>In case, you do not get any compilation errors, you will have to keep excluding <code>slf4j-api</code> from dependencies.</li>\n<li>If internal projects are also included in build path, might have to repeat the process for those projects as well</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16075718,"reputation":1850,"user_id":11602968,"display_name":"Bguess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685920507,"creation_date":1685920507,"answer_id":76402772,"question_id":33071002,"body_markdown":"If you are using kubernetes and want to fix this quickly (for testing purpose for example), you can use this as a workaround in your kuberenetes deployment:\r\n\r\n          volumeMounts:\r\n            - name: slf4j-exclude\r\n              mountPath: /exclude\r\n              readOnly: true\r\n      volumes:\r\n        - name: slf4j-exclude\r\n          emptyDir: {}\r\n\r\n","title":"Spring Boot: multiple SLF4J bindings","body":"<p>If you are using kubernetes and want to fix this quickly (for testing purpose for example), you can use this as a workaround in your kuberenetes deployment:</p>\n<pre><code>      volumeMounts:\n        - name: slf4j-exclude\n          mountPath: /exclude\n          readOnly: true\n  volumes:\n    - name: slf4j-exclude\n      emptyDir: {}\n</code></pre>\n"}],"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84956,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"answer_count":10,"score":36,"last_activity_date":1690171978,"creation_date":1444604274,"question_id":33071002,"body_markdown":"I can&#39;t figure it out where a binding collision is. I have my `Spring Boot 1.2.6.RELEASE` service and I&#39;m getting this error when I run it: \r\n\r\n```lang-none\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.12/slf4j-log4j12-1.7.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\n```\r\n\r\nThis is the `mvn dependency:tree` output\r\n\r\n```lang-none\r\n[INFO] com.myenterprise:product-manager:jar:0.0.1-SNAPSHOT\r\n[INFO] +- com.myenterprise.product:myproject-api:jar:0.0.1-SNAPSHOT:compile\r\n[INFO] +- com.myenterprise.product:myproject-core:jar:0.0.1-SNAPSHOT:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.2.6.RELEASE:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.0.26:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.0.26:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-logging-juli:jar:8.0.26:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.0.26:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.4.6:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.4.6:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.4.6:compile\r\n[INFO] |  +- org.hibernate:hibernate-validator:jar:5.1.3.Final:compile\r\n[INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.1.3.GA:compile\r\n[INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\r\n[INFO] |  +- org.springframework:spring-core:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:4.1.7.RELEASE:compile\r\n[INFO] |  |  \\- org.springframework:spring-aop:jar:4.1.7.RELEASE:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:4.1.7.RELEASE:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:4.1.7.RELEASE:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.2.6.RELEASE:compile\r\n[INFO] |  |  +- org.aspectj:aspectjrt:jar:1.8.6:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.8.6:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.2.6.RELEASE:compile\r\n[INFO] |  |  +- org.springframework:spring-jdbc:jar:4.1.7.RELEASE:compile\r\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.0.26:compile\r\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.0.26:compile\r\n[INFO] |  |  \\- org.springframework:spring-tx:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.hibernate:hibernate-entitymanager:jar:4.3.11.Final:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging-annotations:jar:1.2.0.Beta1:compile\r\n[INFO] |  |  +- org.hibernate:hibernate-core:jar:4.3.11.Final:compile\r\n[INFO] |  |  |  +- antlr:antlr:jar:2.7.7:compile\r\n[INFO] |  |  |  \\- org.jboss:jandex:jar:1.1.0.Final:compile\r\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\r\n[INFO] |  |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:4.0.5.Final:compile\r\n[INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n[INFO] |  |  \\- org.javassist:javassist:jar:3.18.1-GA:compile\r\n[INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\r\n[INFO] |  +- org.springframework:spring-orm:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.7.3.RELEASE:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:1.9.3.RELEASE:compile\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.12:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:4.1.7.RELEASE:compile\r\n[INFO] +- mysql:mysql-connector-java:jar:5.1.36:compile\r\n[INFO] +- org.flywaydb:flyway-core:jar:3.1:compile\r\n[INFO] +- org.springframework.security.oauth:spring-security-oauth2:jar:2.0.7.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-beans:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-context:jar:4.1.7.RELEASE:compile\r\n[INFO] |  +- org.springframework.security:spring-security-core:jar:3.2.8.RELEASE:compile\r\n[INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\r\n[INFO] |  +- org.springframework.security:spring-security-config:jar:3.2.8.RELEASE:compile\r\n[INFO] |  +- org.springframework.security:spring-security-web:jar:3.2.8.RELEASE:compile\r\n[INFO] |  +- commons-codec:commons-codec:jar:1.6:compile\r\n[INFO] |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\r\n[INFO] |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.2.6.RELEASE:compile\r\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.14:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.2.6.RELEASE:compile\r\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.12:compile\r\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.12:compile\r\n[INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.7.12:compile\r\n[INFO] |  \\- log4j:log4j:jar:1.2.17:compile\r\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:1.2.6.RELEASE:compile\r\n[INFO]    +- junit:junit:jar:4.12:compile\r\n[INFO]    +- org.mockito:mockito-core:jar:1.10.19:compile\r\n[INFO]    |  \\- org.objenesis:objenesis:jar:2.1:runtime\r\n[INFO]    +- org.hamcrest:hamcrest-core:jar:1.3:compile\r\n[INFO]    +- org.hamcrest:hamcrest-library:jar:1.3:compile\r\n[INFO]    \\- org.springframework:spring-test:jar:4.1.7.RELEASE:compile\r\n```\r\n\r\nSo, apparently the problem is that `logback` is still in the classpath, but I couldn&#39;t find it in the output so I don&#39;t know where the problem is.\r\n\r\nNote: This only happens when I run the server as a Spring Boot Application. If I run it as a Java application, the error is gone.\r\n\r\nCan you spot the error?\r\n","title":"Spring Boot: multiple SLF4J bindings","body":"<p>I can't figure it out where a binding collision is. I have my <code>Spring Boot 1.2.6.RELEASE</code> service and I'm getting this error when I run it:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/jscherman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.12/slf4j-log4j12-1.7.12.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\n</code></pre>\n<p>This is the <code>mvn dependency:tree</code> output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] com.myenterprise:product-manager:jar:0.0.1-SNAPSHOT\n[INFO] +- com.myenterprise.product:myproject-api:jar:0.0.1-SNAPSHOT:compile\n[INFO] +- com.myenterprise.product:myproject-core:jar:0.0.1-SNAPSHOT:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.2.6.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.0.26:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.0.26:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-logging-juli:jar:8.0.26:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.0.26:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.4.6:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.4.6:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.4.6:compile\n[INFO] |  +- org.hibernate:hibernate-validator:jar:5.1.3.Final:compile\n[INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.1.3.GA:compile\n[INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\n[INFO] |  +- org.springframework:spring-core:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.springframework:spring-web:jar:4.1.7.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-aop:jar:4.1.7.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:4.1.7.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:4.1.7.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.2.6.RELEASE:compile\n[INFO] |  |  +- org.aspectj:aspectjrt:jar:1.8.6:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.8.6:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.2.6.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-jdbc:jar:4.1.7.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.0.26:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.0.26:compile\n[INFO] |  |  \\- org.springframework:spring-tx:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.hibernate:hibernate-entitymanager:jar:4.3.11.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging-annotations:jar:1.2.0.Beta1:compile\n[INFO] |  |  +- org.hibernate:hibernate-core:jar:4.3.11.Final:compile\n[INFO] |  |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  |  \\- org.jboss:jandex:jar:1.1.0.Final:compile\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:4.0.5.Final:compile\n[INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n[INFO] |  |  \\- org.javassist:javassist:jar:3.18.1-GA:compile\n[INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\n[INFO] |  +- org.springframework:spring-orm:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.7.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:1.9.3.RELEASE:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.12:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:4.1.7.RELEASE:compile\n[INFO] +- mysql:mysql-connector-java:jar:5.1.36:compile\n[INFO] +- org.flywaydb:flyway-core:jar:3.1:compile\n[INFO] +- org.springframework.security.oauth:spring-security-oauth2:jar:2.0.7.RELEASE:compile\n[INFO] |  +- org.springframework:spring-beans:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.springframework:spring-context:jar:4.1.7.RELEASE:compile\n[INFO] |  +- org.springframework.security:spring-security-core:jar:3.2.8.RELEASE:compile\n[INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  +- org.springframework.security:spring-security-config:jar:3.2.8.RELEASE:compile\n[INFO] |  +- org.springframework.security:spring-security-web:jar:3.2.8.RELEASE:compile\n[INFO] |  +- commons-codec:commons-codec:jar:1.6:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\n[INFO] |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.2.6.RELEASE:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.14:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.2.6.RELEASE:compile\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.7.12:compile\n[INFO] |  \\- log4j:log4j:jar:1.2.17:compile\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:1.2.6.RELEASE:compile\n[INFO]    +- junit:junit:jar:4.12:compile\n[INFO]    +- org.mockito:mockito-core:jar:1.10.19:compile\n[INFO]    |  \\- org.objenesis:objenesis:jar:2.1:runtime\n[INFO]    +- org.hamcrest:hamcrest-core:jar:1.3:compile\n[INFO]    +- org.hamcrest:hamcrest-library:jar:1.3:compile\n[INFO]    \\- org.springframework:spring-test:jar:4.1.7.RELEASE:compile\n</code></pre>\n<p>So, apparently the problem is that <code>logback</code> is still in the classpath, but I couldn't find it in the output so I don't know where the problem is.</p>\n<p>Note: This only happens when I run the server as a Spring Boot Application. If I run it as a Java application, the error is gone.</p>\n<p>Can you spot the error?</p>\n"},{"tags":["java","oop","inner-classes"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1689739653,"post_id":76717880,"comment_id":135254374,"body_markdown":"You need a permissions system that renders different parts of the UI based on some role you assign to the user. Many frameworks have built in authorization systems, but since you haven&#39;t included any technical details about your project whatsoever, it&#39;s impossible to provide more guidance. Remember, Stack Overflow is not a discussion forum where you can shape your question over time -- your question has to make sense from the outset. Read up on [how to ask](https://stackoverflow.com/help/how-to-ask) well formed questions which will receive useful answers.","body":"You need a permissions system that renders different parts of the UI based on some role you assign to the user. Many frameworks have built in authorization systems, but since you haven&#39;t included any technical details about your project whatsoever, it&#39;s impossible to provide more guidance. Remember, Stack Overflow is not a discussion forum where you can shape your question over time -- your question has to make sense from the outset. Read up on <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> well formed questions which will receive useful answers."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689743143,"creation_date":1689743143,"answer_id":76718123,"question_id":76717880,"body_markdown":"The visibility delegation you&#39;re looking for isn&#39;t a property of _Java_ inheritance.\r\n\r\nYou&#39;ll need to configure the data accordingly.\r\n\r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.\r\n\r\n```java\r\nclass NbOfStudents {\r\n    int value;\r\n}\r\n\r\nclass TopSecretData {\r\n    String data;\r\n}\r\n\r\nclass Staff {\r\n    TopSecretData topSecretData;\r\n}\r\n\r\nclass Course {\r\n    NbOfStudents nbOfStudents;\r\n}\r\n```","title":"Different access permissions for different classes","body":"<p>The visibility delegation you're looking for isn't a property of <em>Java</em> inheritance.</p>\n<p>You'll need to configure the data accordingly.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class NbOfStudents {\n    int value;\n}\n\nclass TopSecretData {\n    String data;\n}\n\nclass Staff {\n    TopSecretData topSecretData;\n}\n\nclass Course {\n    NbOfStudents nbOfStudents;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28075822,"reputation":59,"user_id":21447701,"display_name":"Buddhima Kaushalya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690171696,"creation_date":1690170405,"answer_id":76751287,"question_id":76717880,"body_markdown":"We can define separate classes for Staff and Course, and then provide appropriate methods in the University class to allow controlled access to the fields.The University class retains control over who has access to its fields by employing these strategies. As inner classes of the University class, the Staff and Course classes are permitted to call these methods, but they are unable to directly access the private fields &quot;topSecretData&quot; and &quot;nbOfStudents&quot;. \r\n\r\n    public class University {\r\n        private String topSecretData;\r\n        private int nbOfStudents;\r\n        \r\n        // Method to allow Staff to access TopSecretData\r\n        public String getTopSecretData(Staff staff) { \r\n             return this.topSecretData;\r\n        }\r\n        // Method to allow Course to access NbOfStudents\r\n        public int getNbOfStudents(Course course) {\r\n             return this.noOfStudents;\r\n        }\r\n        public class Staff(){\r\n        }\r\n        public class Course(){\r\n        }\r\n    }","title":"Different access permissions for different classes","body":"<p>We can define separate classes for Staff and Course, and then provide appropriate methods in the University class to allow controlled access to the fields.The University class retains control over who has access to its fields by employing these strategies. As inner classes of the University class, the Staff and Course classes are permitted to call these methods, but they are unable to directly access the private fields &quot;topSecretData&quot; and &quot;nbOfStudents&quot;.</p>\n<pre><code>public class University {\n    private String topSecretData;\n    private int nbOfStudents;\n    \n    // Method to allow Staff to access TopSecretData\n    public String getTopSecretData(Staff staff) { \n         return this.topSecretData;\n    }\n    // Method to allow Course to access NbOfStudents\n    public int getNbOfStudents(Course course) {\n         return this.noOfStudents;\n    }\n    public class Staff(){\n    }\n    public class Course(){\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23126674,"reputation":1,"user_id":17232358,"display_name":"Jad Noon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690371018,"answer_count":2,"score":0,"last_activity_date":1690171696,"creation_date":1689738793,"question_id":76717880,"body_markdown":"Suppose i have class University with fields &quot;TopSecretData&quot; and field &quot;NbOfStudents&quot; and I want to make two classes Staff and Course where Staff can only see TopSecretData while Course can only see NbOfStudents. \r\n\r\nI tried to use inner classes, but it doesnt make sense as inner classes can access all fields, so any suggestions ? THANKS IN ADVANCE","title":"Different access permissions for different classes","body":"<p>Suppose i have class University with fields &quot;TopSecretData&quot; and field &quot;NbOfStudents&quot; and I want to make two classes Staff and Course where Staff can only see TopSecretData while Course can only see NbOfStudents.</p>\n<p>I tried to use inner classes, but it doesnt make sense as inner classes can access all fields, so any suggestions ? THANKS IN ADVANCE</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509525389,"creation_date":1509525389,"answer_id":47050943,"question_id":47050419,"body_markdown":"There is a [iterable-to-non-iterable](https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-iterable-to-non-iterable) example in the MapStruct examples repository. Addtionally there is a pending pull request for [non-iterable-to-iterable](https://github.com/mapstruct/mapstruct-examples/pull/33/files).\r\n\r\nIn a nutshell you can use a custom method that would do the mapping. You can also use `@Qualifier` to have more granural control","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>There is a <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-iterable-to-non-iterable\" rel=\"nofollow noreferrer\">iterable-to-non-iterable</a> example in the MapStruct examples repository. Addtionally there is a pending pull request for <a href=\"https://github.com/mapstruct/mapstruct-examples/pull/33/files\" rel=\"nofollow noreferrer\">non-iterable-to-iterable</a>.</p>\n\n<p>In a nutshell you can use a custom method that would do the mapping. You can also use <code>@Qualifier</code> to have more granural control</p>\n"},{"tags":[],"owner":{"account_id":11998264,"reputation":66,"user_id":8822737,"display_name":"Pablo Garc&#237;a"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1509526382,"creation_date":1509526382,"answer_id":47051188,"question_id":47050419,"body_markdown":"Here is an example for non iterable-to-iterable:\r\n\r\n    public class Source {\r\n    \t\r\n    \tprivate String myString;\r\n    \r\n    \tpublic String getMyString() {\r\n    \t\treturn myString;\r\n    \t}\r\n    \r\n    \tpublic void setMyString(String myString) {\r\n    \t\tthis.myString = myString;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n    public class Target {\r\n    \t\r\n    \tprivate List&lt;String&gt; myStrings;\r\n    \r\n    \tpublic List&lt;String&gt; getMyStrings() {\r\n    \t\treturn myStrings;\r\n    \t}\r\n    \r\n    \tpublic void setMyStrings(List&lt;String&gt; myStrings) {\r\n    \t\tthis.myStrings = myStrings;\r\n    \t}\t\r\n    \t\r\n    }\r\n\r\n    @Qualifier\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    public @interface FirstElement {\r\n    }\r\n\r\n    public class NonIterableToIterableUtils {\r\n    \t\r\n    \t @FirstElement\r\n    \t    public List&lt;String&gt; first(String in ) {\r\n    \t        if (StringUtils.isNotEmpty(in)) {\r\n    \t            return Arrays.asList(in);\r\n    \t            \r\n    \t        } else {\r\n    \t            return null;\r\n    \t        }\r\n    \t    }\r\n    \r\n    }\r\n\r\n    @Mapper( uses = NonIterableToIterableUtils.class )\r\n    public interface SourceTargetMapper {\r\n    \r\n        SourceTargetMapper MAPPER = Mappers.getMapper( SourceTargetMapper.class );\r\n    \r\n        @Mappings( {\r\n            @Mapping( source = &quot;myString&quot;, target = &quot;myStrings&quot;, qualifiedBy = FirstElement.class )\r\n        } )\r\n        Target toTarget( Source s );\r\n    }\r\n\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSource s = new Source();\r\n            s.setMyString(&quot;Item&quot;);\r\n    \r\n            Target t = SourceTargetMapper.MAPPER.toTarget( s );\r\n            System.out.println( t.getMyStrings().get(0));\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>Here is an example for non iterable-to-iterable:</p>\n\n<pre><code>public class Source {\n\n    private String myString;\n\n    public String getMyString() {\n        return myString;\n    }\n\n    public void setMyString(String myString) {\n        this.myString = myString;\n    }\n\n}\n\npublic class Target {\n\n    private List&lt;String&gt; myStrings;\n\n    public List&lt;String&gt; getMyStrings() {\n        return myStrings;\n    }\n\n    public void setMyStrings(List&lt;String&gt; myStrings) {\n        this.myStrings = myStrings;\n    }   \n\n}\n\n@Qualifier\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.SOURCE)\npublic @interface FirstElement {\n}\n\npublic class NonIterableToIterableUtils {\n\n     @FirstElement\n        public List&lt;String&gt; first(String in ) {\n            if (StringUtils.isNotEmpty(in)) {\n                return Arrays.asList(in);\n\n            } else {\n                return null;\n            }\n        }\n\n}\n\n@Mapper( uses = NonIterableToIterableUtils.class )\npublic interface SourceTargetMapper {\n\n    SourceTargetMapper MAPPER = Mappers.getMapper( SourceTargetMapper.class );\n\n    @Mappings( {\n        @Mapping( source = \"myString\", target = \"myStrings\", qualifiedBy = FirstElement.class )\n    } )\n    Target toTarget( Source s );\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Source s = new Source();\n        s.setMyString(\"Item\");\n\n        Target t = SourceTargetMapper.MAPPER.toTarget( s );\n        System.out.println( t.getMyStrings().get(0));\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4045428,"reputation":451,"user_id":3326792,"accept_rate":75,"display_name":"yasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663747677,"creation_date":1663747281,"answer_id":73797264,"question_id":47050419,"body_markdown":"Add an empty default method in the mapper, e.g. AnimalMapper.toLions(), and overwrite the default method in a mapper decorator, e.g. AnimalMapperDecorator. It works in my test.\r\n\r\n```\r\n@Repository\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@DecoratedWith(AnimalMapperDecorator.class)\r\npublic interface AnimalMapper {\r\n\r\n    default List&lt;Lion&gt; toLions(Jungle jungle) {\r\n        return null;\r\n    }\r\n}\r\n\r\npublic abstract class AnimalMapperDecorator implements AnimalMapper {\r\n    @Autowired\r\n    @Qualifier(&quot;delegate&quot;)\r\n    private AnimalMapper delegate;\r\n\r\n    @Override\r\n    public List&lt;Lion&gt; toLions(Jungle jungle) {\r\n        List&lt;Lion&gt; lions = new ArrayList&lt;&gt;();\r\n        Lion king = getKing(jungle);\r\n        Lion queen = getQueen(jungle);\r\n        Lion leo = getLeo(jungle);\r\n        lions.add(king); lions.add(queen); lions.add(leo);\r\n\r\n        return lions;\r\n    }\r\n}\r\n\r\nclass Test {\r\n    @Autowired\r\n    private AnimalMapper animalMapper;\r\n\r\n    public void test() {\r\n        Jungle jungle = generateJungle();\r\n        List&lt;Lion&gt; lions = animalMapper.toLions(jungle);\r\n        // Assert lions\r\n    }\r\n}\r\n```","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>Add an empty default method in the mapper, e.g. AnimalMapper.toLions(), and overwrite the default method in a mapper decorator, e.g. AnimalMapperDecorator. It works in my test.</p>\n<pre><code>@Repository\n@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(AnimalMapperDecorator.class)\npublic interface AnimalMapper {\n\n    default List&lt;Lion&gt; toLions(Jungle jungle) {\n        return null;\n    }\n}\n\npublic abstract class AnimalMapperDecorator implements AnimalMapper {\n    @Autowired\n    @Qualifier(&quot;delegate&quot;)\n    private AnimalMapper delegate;\n\n    @Override\n    public List&lt;Lion&gt; toLions(Jungle jungle) {\n        List&lt;Lion&gt; lions = new ArrayList&lt;&gt;();\n        Lion king = getKing(jungle);\n        Lion queen = getQueen(jungle);\n        Lion leo = getLeo(jungle);\n        lions.add(king); lions.add(queen); lions.add(leo);\n\n        return lions;\n    }\n}\n\nclass Test {\n    @Autowired\n    private AnimalMapper animalMapper;\n\n    public void test() {\n        Jungle jungle = generateJungle();\n        List&lt;Lion&gt; lions = animalMapper.toLions(jungle);\n        // Assert lions\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690171591,"creation_date":1690171591,"answer_id":76751350,"question_id":47050419,"body_markdown":"Here is a straightforward solution using a [custom method](https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods) to map a string to a `List&lt;String&gt;`:\r\n\r\n```lang-java\r\n@Mapper\r\npublic interface NonIterableToIterableMapper {\r\n    @Mapping(target = &quot;abc&quot;, source = &quot;y.xyz&quot;)\r\n    Target map(Source source);\r\n\r\n    default List&lt;String&gt; toSingletonList(String s) {\r\n        return Collections.singletonList(s);\r\n    }\r\n}\r\n```","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>Here is a straightforward solution using a <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">custom method</a> to map a string to a <code>List&lt;String&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface NonIterableToIterableMapper {\n    @Mapping(target = &quot;abc&quot;, source = &quot;y.xyz&quot;)\n    Target map(Source source);\n\n    default List&lt;String&gt; toSingletonList(String s) {\n        return Collections.singletonList(s);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12143782,"reputation":2327,"user_id":8866740,"display_name":"Vijayant Bhatia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47051188,"answer_count":4,"score":2,"last_activity_date":1690171591,"creation_date":1509522771,"question_id":47050419,"body_markdown":"I am trying to map a non-iterable value i.e. String to a list of string using mapstruct.\r\nSo I am using \r\n\r\n    @Mapping(target = &quot;abc&quot;, expression = &quot;java(java.util.Arrays.asList(x.getY().getXyz()))&quot;)\r\n\r\nHere `abc` is `List&lt;String&gt;`\r\n\r\n`xyz` is a `String`\r\n\r\nBut for this i need to check for `null` explicitly.\r\n\r\nIs there any better way of maaping a non-iterable to iterable by converting non iterable to iterable.\r\n\r\n","title":"mapping of non-iterable to iterable in mapstruct","body":"<p>I am trying to map a non-iterable value i.e. String to a list of string using mapstruct.\nSo I am using </p>\n\n<pre><code>@Mapping(target = \"abc\", expression = \"java(java.util.Arrays.asList(x.getY().getXyz()))\")\n</code></pre>\n\n<p>Here <code>abc</code> is <code>List&lt;String&gt;</code></p>\n\n<p><code>xyz</code> is a <code>String</code></p>\n\n<p>But for this i need to check for <code>null</code> explicitly.</p>\n\n<p>Is there any better way of maaping a non-iterable to iterable by converting non iterable to iterable.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5148718,"reputation":1,"user_id":4123884,"display_name":"Desmond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690170671,"creation_date":1690170516,"answer_id":76751296,"question_id":76751169,"body_markdown":"I think you should use the method *System.setProperty(String key,String valule)* instead of *System.setProperties*.\r\nUsing System.setProperties will overwrite the default system properties.\r\n\r\n    System.setProperty(&quot;testProperty&quot;, &quot;5&quot;)","title":"ExceptionInitializerError when setting system property before starting Spring Application","body":"<p>I think you should use the method <em>System.setProperty(String key,String valule)</em> instead of <em>System.setProperties</em>.\nUsing System.setProperties will overwrite the default system properties.</p>\n<pre><code>System.setProperty(&quot;testProperty&quot;, &quot;5&quot;)\n</code></pre>\n"}],"owner":{"account_id":13592575,"reputation":608,"user_id":9805514,"display_name":"IceTea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690170671,"creation_date":1690167989,"question_id":76751169,"body_markdown":"I am facing an `ExceptionInitializerError` for a basic Spring Application when I attempt to set a system property before doing `SpringApplication.run`. If I *don&#39;t* set the system property, the Spring Application is able to start up fine.\r\n\r\nCode:\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n  public static void main(String[] args) {\r\n    // ========================================\r\n    // If I include this block, the application fails to start\r\n    Properties props = new Properties();\r\n    props.setProperty(&quot;testProperty&quot;, &quot;5&quot;);\r\n    System.setProperties(props);\r\n    // ========================================\r\n    SpringApplication.run(Application.class, args);\r\n  }\r\n}\r\n```\r\nError:\r\n\r\n```\r\n10:56:51.753 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\r\njava.lang.ExceptionInInitializerError: null\r\n\tat org.springframework.boot.context.config.AnsiOutputApplicationListener.onApplicationEvent(AnsiOutputApplicationListener.java:46)\r\n\tat org.springframework.boot.context.config.AnsiOutputApplicationListener.onApplicationEvent(AnsiOutputApplicationListener.java:37)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.demo.test.Application.main(Application.java:35)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because the return value of &quot;java.lang.System.getProperty(String)&quot; is null\r\n\tat org.springframework.boot.ansi.AnsiOutput.&lt;clinit&gt;(AnsiOutput.java:40)\r\n\t... 18 common frames omitted\r\n```","title":"ExceptionInitializerError when setting system property before starting Spring Application","body":"<p>I am facing an <code>ExceptionInitializerError</code> for a basic Spring Application when I attempt to set a system property before doing <code>SpringApplication.run</code>. If I <em>don't</em> set the system property, the Spring Application is able to start up fine.</p>\n<p>Code:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n  public static void main(String[] args) {\n    // ========================================\n    // If I include this block, the application fails to start\n    Properties props = new Properties();\n    props.setProperty(&quot;testProperty&quot;, &quot;5&quot;);\n    System.setProperties(props);\n    // ========================================\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>10:56:51.753 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\njava.lang.ExceptionInInitializerError: null\n    at org.springframework.boot.context.config.AnsiOutputApplicationListener.onApplicationEvent(AnsiOutputApplicationListener.java:46)\n    at org.springframework.boot.context.config.AnsiOutputApplicationListener.onApplicationEvent(AnsiOutputApplicationListener.java:37)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.demo.test.Application.main(Application.java:35)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because the return value of &quot;java.lang.System.getProperty(String)&quot; is null\n    at org.springframework.boot.ansi.AnsiOutput.&lt;clinit&gt;(AnsiOutput.java:40)\n    ... 18 common frames omitted\n</code></pre>\n"},{"tags":["java","velocity"],"comments":[{"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"score":0,"creation_date":1690313555,"post_id":76751277,"comment_id":135335358,"body_markdown":"Check that your methods are public. Also, you can print some debugging lines like `$temp.class.name`, `$a.class.name`. What does it print?","body":"Check that your methods are public. Also, you can print some debugging lines like <code>$temp.class.name</code>, <code>$a.class.name</code>. What does it print?"}],"owner":{"account_id":23973822,"reputation":3,"user_id":17962152,"display_name":"Beras0d"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690170299,"creation_date":1690170299,"question_id":76751277,"body_markdown":"I have a Velocity context object $temp which contains a method calls `void MakeFile(File file)`\r\nanother method calls `File GetFile(string name)`\r\nHow to pass a file object to MakeFile Method?\r\n\r\n\r\nI can render $temp and get xxx.imp@18x678z\r\nBut when I render these\r\n`\r\n#set($a=$temp.GetFile(&quot;test&quot;))\r\n$temp.MakeFile($a)\r\n`\r\n\r\nIt doesn&#39;t work.","title":"Velocity without changing any java code. Can I pass a File object?","body":"<p>I have a Velocity context object $temp which contains a method calls <code>void MakeFile(File file)</code>\nanother method calls <code>File GetFile(string name)</code>\nHow to pass a file object to MakeFile Method?</p>\n<p>I can render $temp and get xxx.imp@18x678z\nBut when I render these\n<code>#set($a=$temp.GetFile(&quot;test&quot;)) $temp.MakeFile($a)</code></p>\n<p>It doesn't work.</p>\n"},{"tags":["java","jquery","ajax","spring-boot","content-security-policy"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":1,"creation_date":1689323390,"post_id":76685633,"comment_id":135200109,"body_markdown":"please provide some more code samples(the class that extends WebSecurityConfigurerAdapter , the controller .etc)","body":"please provide some more code samples(the class that extends WebSecurityConfigurerAdapter , the controller .etc)"},{"owner":{"account_id":12953224,"reputation":523,"user_id":9364868,"display_name":"Kedar"},"score":0,"creation_date":1689325005,"post_id":76685633,"comment_id":135200391,"body_markdown":"@ShavarshShahoyan edited my question.","body":"@ShavarshShahoyan edited my question."}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689577445,"creation_date":1689577445,"answer_id":76702139,"question_id":76685633,"body_markdown":"[`Content-Security-Policy`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy) is a **response** header:\r\n\r\n&gt; The HTTP Content-Security-Policy response header allows website\r\n&gt; administrators to control resources the user agent is allowed to load\r\n&gt; for a given page.\r\n\r\nSo it makes no sense to send it in an AJAX request.","title":"Getting CORS issue in API calling from AJAX","body":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy\" rel=\"nofollow noreferrer\"><code>Content-Security-Policy</code></a> is a <strong>response</strong> header:</p>\n<blockquote>\n<p>The HTTP Content-Security-Policy response header allows website\nadministrators to control resources the user agent is allowed to load\nfor a given page.</p>\n</blockquote>\n<p>So it makes no sense to send it in an AJAX request.</p>\n"}],"owner":{"account_id":12953224,"reputation":523,"user_id":9364868,"display_name":"Kedar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":76702139,"answer_count":1,"score":1,"last_activity_date":1690170284,"creation_date":1689320370,"question_id":76685633,"body_markdown":"I am getting CORS issue while calling API from Ajax with header `Content-Security-Policy&quot;:&quot;frame-ancestors &#39;none&#39;`. \r\n\r\n\r\nMy APIs are built in Java spring boot. API server is already configured with `Access-Control-Allow-Origin : *`. If i remove `Content-Security-Policy&quot;:&quot;frame-ancestors &#39;none&#39;`, the API is working perfectly fine.\r\n\r\n\r\nBelow is request :\r\n```\r\n$.ajax({url: &quot;https://****.com/api/v2/login&quot;,\r\n    type: &#39;post&#39;,\r\n    data: JSON.stringify(domain),\r\n    headers: {\r\n      &quot;x-dreamfactory-api-key&quot;:&#39;*******&#39;,\r\n      &quot;x-frame-options&quot;:&#39;deny&#39;,\r\n      &quot;Content-Security-Policy&quot;:&quot;frame-ancestors &#39;none&#39;&quot;,\r\n      &quot;pragma&quot;:&#39;no-cache&#39;,\r\n      &quot;sec-fetch-mode&quot;:&#39;cors&#39;,\r\n      &quot;Referer&quot;:&#39;https://****.com&#39;,\r\n      &quot;origin&quot;:&#39;https://****.com&#39;,\r\n      &quot;sec-fetch-site&quot;:&#39;same-site&#39;,\r\n      &quot;sec-fetch-dest&quot;:&#39;empty&#39;,\r\n      &quot;Content-Type&quot;:&#39;application/json&#39;\r\n    },\r\n    dataType: &#39;json&#39;,\r\n    success: function (data) {\r\n        console.log(JSON.stringify(data));\r\n    }\r\n  });\r\n```\r\n\r\nMy API configuration using `WebMVCConfigurationSupport` below :\r\n\r\n```\r\n@Override\r\n\r\npublic void addCorsMappings(CorsRegistry registry) {\r\n\r\nregistry.addMapping(&quot;/v2/**&quot;).allowedMethods(&quot;PATCH&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;,&quot;PUT&quot;, &quot;DELETE&quot;).allowedOrigins(&quot;*&quot;)\r\n.allowedHeaders(&quot;*&quot;).allowCredentials(true);\r\n} \r\n```","title":"Getting CORS issue in API calling from AJAX","body":"<p>I am getting CORS issue while calling API from Ajax with header <code>Content-Security-Policy&quot;:&quot;frame-ancestors 'none'</code>.</p>\n<p>My APIs are built in Java spring boot. API server is already configured with <code>Access-Control-Allow-Origin : *</code>. If i remove <code>Content-Security-Policy&quot;:&quot;frame-ancestors 'none'</code>, the API is working perfectly fine.</p>\n<p>Below is request :</p>\n<pre><code>$.ajax({url: &quot;https://****.com/api/v2/login&quot;,\n    type: 'post',\n    data: JSON.stringify(domain),\n    headers: {\n      &quot;x-dreamfactory-api-key&quot;:'*******',\n      &quot;x-frame-options&quot;:'deny',\n      &quot;Content-Security-Policy&quot;:&quot;frame-ancestors 'none'&quot;,\n      &quot;pragma&quot;:'no-cache',\n      &quot;sec-fetch-mode&quot;:'cors',\n      &quot;Referer&quot;:'https://****.com',\n      &quot;origin&quot;:'https://****.com',\n      &quot;sec-fetch-site&quot;:'same-site',\n      &quot;sec-fetch-dest&quot;:'empty',\n      &quot;Content-Type&quot;:'application/json'\n    },\n    dataType: 'json',\n    success: function (data) {\n        console.log(JSON.stringify(data));\n    }\n  });\n</code></pre>\n<p>My API configuration using <code>WebMVCConfigurationSupport</code> below :</p>\n<pre><code>@Override\n\npublic void addCorsMappings(CorsRegistry registry) {\n\nregistry.addMapping(&quot;/v2/**&quot;).allowedMethods(&quot;PATCH&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;,&quot;PUT&quot;, &quot;DELETE&quot;).allowedOrigins(&quot;*&quot;)\n.allowedHeaders(&quot;*&quot;).allowCredentials(true);\n} \n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690146022,"post_id":76749930,"comment_id":135309054,"body_markdown":"What are you doing with the boolean? And why can you not use `Intent#putExtra`?","body":"What are you doing with the boolean? And why can you not use <code>Intent#putExtra</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690169472,"creation_date":1690169472,"answer_id":76751226,"question_id":76749930,"body_markdown":"I think your question is &quot;whether when the program reaches `startActivity` and a new activity appears, the previous activity stops on that line?&quot;\r\n\r\nNo, Your activity is an object that remains in RAM, and the code written after `startActivity` is executed normally.\r\n\r\nYou probably wrote the code you shared in a `View.OnClickListener` and Android calls it when the view you specified is clicked and executes its codes, in the middle of the codes there is `startAcitivity` which is executed like other functions and also the codes are executed until the end of the onClick function.","title":"Is it okay to assign a value after starting an activity?","body":"<p>I think your question is &quot;whether when the program reaches <code>startActivity</code> and a new activity appears, the previous activity stops on that line?&quot;</p>\n<p>No, Your activity is an object that remains in RAM, and the code written after <code>startActivity</code> is executed normally.</p>\n<p>You probably wrote the code you shared in a <code>View.OnClickListener</code> and Android calls it when the view you specified is clicked and executes its codes, in the middle of the codes there is <code>startAcitivity</code> which is executed like other functions and also the codes are executed until the end of the onClick function.</p>\n"}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690169472,"creation_date":1690139772,"question_id":76749930,"body_markdown":"Imagine that I assign a value to a boolean for example immediately after calling `startActivity(intent)` . Will the value be assigned after or before the intent is started?\r\n\r\n            Intent intent = new Intent(getApplicationContext(), activityMyClass);\r\n            startActivity(intent);\r\n            my_boolean=true;\r\n\r\n\r\napparently my_boolean is true after executing these lines of code, but why is it working if the app will go to another activity before the boolean assignment ?","title":"Is it okay to assign a value after starting an activity?","body":"<p>Imagine that I assign a value to a boolean for example immediately after calling <code>startActivity(intent)</code> . Will the value be assigned after or before the intent is started?</p>\n<pre><code>        Intent intent = new Intent(getApplicationContext(), activityMyClass);\n        startActivity(intent);\n        my_boolean=true;\n</code></pre>\n<p>apparently my_boolean is true after executing these lines of code, but why is it working if the app will go to another activity before the boolean assignment ?</p>\n"},{"tags":["java","hibernate","getter-setter"],"comments":[{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":0,"creation_date":1272307350,"post_id":2715611,"comment_id":2741439,"body_markdown":"Is the setter for all mapped fields called? that is strange!","body":"Is the setter for all mapped fields called? that is strange!"}],"answers":[{"tags":[],"owner":{"account_id":127578,"reputation":3129,"user_id":324851,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1272306933,"creation_date":1272306933,"answer_id":2715922,"question_id":2715611,"body_markdown":"As far as I was aware, it should not. \r\n\r\nHibernate will call the setter for any generated fields, such as any generated IDs. Perhaps they extended this to cover all fields in case a field is updated by a trigger during the save or some such edge case. ","title":"When does Hibernate call setters other than when loading?","body":"<p>As far as I was aware, it should not. </p>\n\n<p>Hibernate will call the setter for any generated fields, such as any generated IDs. Perhaps they extended this to cover all fields in case a field is updated by a trigger during the save or some such edge case. </p>\n"}],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1740,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690169083,"creation_date":1272304141,"question_id":2715611,"body_markdown":"I know Hibernate calls setters when you lookup a bean.\r\n\r\nBut I recently noticed the setter was being called by Hibernate when we were not doing any lookups.  We had created our POJO&#39;s and then called save.  Why would Hibernate call setters in this case?\r\n\r\n---\r\n\r\n**Update**: The setter call seems to be happening when we are actually calling `delete()` on a Hibernate entity.   Why does Hibernate call the setter in this case?","title":"When does Hibernate call setters other than when loading?","body":"<p>I know Hibernate calls setters when you lookup a bean.</p>\n<p>But I recently noticed the setter was being called by Hibernate when we were not doing any lookups.  We had created our POJO's and then called save.  Why would Hibernate call setters in this case?</p>\n<hr />\n<p><strong>Update</strong>: The setter call seems to be happening when we are actually calling <code>delete()</code> on a Hibernate entity.   Why does Hibernate call the setter in this case?</p>\n"},{"tags":["java","installation","wix","windows-installer","jpackage"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690167915,"creation_date":1690167915,"answer_id":76751163,"question_id":76751082,"body_markdown":"Looks like I jumped the gun.\r\n\r\nAs it turns out, Windows is smart enough to recognize that 2 installations share the same parent directory. So, it will only delete `parent_directory` if there is ***no other installation at that location***.\r\n\r\nThe reason I why I thought that it would delete `parent_directory` is because I tested it with a dummy folder, and then made the (false) assumption that windows would delete the whole `parent_directory` if there was another install there. But when I tested it with an actual, second installation, that assumption proved to be false.\r\n\r\nI certainly have not stress tested this solution, but this works for my purposes, so I will accept it once the 2 days pass.","title":"How to store multiple jpackage installations under the same parent directory?","body":"<p>Looks like I jumped the gun.</p>\n<p>As it turns out, Windows is smart enough to recognize that 2 installations share the same parent directory. So, it will only delete <code>parent_directory</code> if there is <em><strong>no other installation at that location</strong></em>.</p>\n<p>The reason I why I thought that it would delete <code>parent_directory</code> is because I tested it with a dummy folder, and then made the (false) assumption that windows would delete the whole <code>parent_directory</code> if there was another install there. But when I tested it with an actual, second installation, that assumption proved to be false.</p>\n<p>I certainly have not stress tested this solution, but this works for my purposes, so I will accept it once the 2 days pass.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76751163,"answer_count":1,"score":0,"last_activity_date":1690167915,"creation_date":1690165993,"question_id":76751082,"body_markdown":"I have several applications that I finally turned into modular jars, and now, I want to package them with jpackage.\r\n\r\nSince there are several applications, I want to bundle them all under the same parent directory, let&#39;s say `parent_directory`. I know that I can specify that as `--install-dir parent_directory/child_folder` for jpackage, according to this tutorial. https://dev.java/learn/jvm/tool/jpackage/\r\n\r\nThe problem is, if I specify the folder structure as above, then upon uninstallation, not only will `child_folder` get deleted, but so will `parent_directory`.\r\n\r\nHow do I get jpackage to only delete `child_folder` upon uninstallation?\r\n\r\nEDIT - as a side note, I am aware of workarounds such as this -- https://stackoverflow.com/a/67574903/10118965\r\n\r\nI am not opposed to doing that, but I would consider that a last resort, and I want to exhaust my options before doing that.","title":"How to store multiple jpackage installations under the same parent directory?","body":"<p>I have several applications that I finally turned into modular jars, and now, I want to package them with jpackage.</p>\n<p>Since there are several applications, I want to bundle them all under the same parent directory, let's say <code>parent_directory</code>. I know that I can specify that as <code>--install-dir parent_directory/child_folder</code> for jpackage, according to this tutorial. <a href=\"https://dev.java/learn/jvm/tool/jpackage/\" rel=\"nofollow noreferrer\">https://dev.java/learn/jvm/tool/jpackage/</a></p>\n<p>The problem is, if I specify the folder structure as above, then upon uninstallation, not only will <code>child_folder</code> get deleted, but so will <code>parent_directory</code>.</p>\n<p>How do I get jpackage to only delete <code>child_folder</code> upon uninstallation?</p>\n<p>EDIT - as a side note, I am aware of workarounds such as this -- <a href=\"https://stackoverflow.com/a/67574903/10118965\">https://stackoverflow.com/a/67574903/10118965</a></p>\n<p>I am not opposed to doing that, but I would consider that a last resort, and I want to exhaust my options before doing that.</p>\n"},{"tags":["java","recursion","iteration"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":6,"creation_date":1690167463,"post_id":76751136,"comment_id":135310580,"body_markdown":"Can you explain _why_ this surprises you? Iteration doesn&#39;t incur the overhead of a completely new function call, with the associated call stack management, and no, the compiler will absolutely not unroll a recursive function call. Again, _why_ did you think that would happen?","body":"Can you explain <i>why</i> this surprises you? Iteration doesn&#39;t incur the overhead of a completely new function call, with the associated call stack management, and no, the compiler will absolutely not unroll a recursive function call. Again, <i>why</i> did you think that would happen?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690167682,"post_id":76751136,"comment_id":135310592,"body_markdown":"Recursion  has its benefits, but efficiency is not necessarily one of them because of the overhead involved.","body":"Recursion  has its benefits, but efficiency is not necessarily one of them because of the overhead involved."},{"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"score":0,"creation_date":1690167821,"post_id":76751136,"comment_id":135310601,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans While I know that recursion has the extra overhead, I did not expect it to more than double the runtime. For clarity&#39;s sake, it doubled the runtime of the entire program (which this helper function was just one part of). I also expected that this could be something that the compiler could optimize automatically, minimizing the difference between the two.","body":"@Mike&#39;Pomax&#39;Kamermans While I know that recursion has the extra overhead, I did not expect it to more than double the runtime. For clarity&#39;s sake, it doubled the runtime of the entire program (which this helper function was just one part of). I also expected that this could be something that the compiler could optimize automatically, minimizing the difference between the two."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1690168481,"post_id":76751136,"comment_id":135310641,"body_markdown":"Some languages can rewrite tail calls and make them iterative. Java isn&#39;t one of them.","body":"Some languages can rewrite tail calls and make them iterative. Java isn&#39;t one of them."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1690168829,"post_id":76751136,"comment_id":135310671,"body_markdown":"&quot;For clarity&#39;s sake, it doubled the runtime of the entire program&quot; what program? You&#39;re showing two methods in isolation in your post. If you&#39;re asking about runtime, show the [mcve] and _its_ runtime. Showing a runtime that is technically not related to the code you&#39;re showing because there&#39;s an unknown quantity of additional code that you&#39;re not talking about makes for [a questionable question](/help/how-to-ask).","body":"&quot;For clarity&#39;s sake, it doubled the runtime of the entire program&quot; what program? You&#39;re showing two methods in isolation in your post. If you&#39;re asking about runtime, show the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <i>its</i> runtime. Showing a runtime that is technically not related to the code you&#39;re showing because there&#39;s an unknown quantity of additional code that you&#39;re not talking about makes for <a href=\"/help/how-to-ask\">a questionable question</a>."},{"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"score":0,"creation_date":1690306491,"post_id":76751136,"comment_id":135334031,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I think that showing the entire program&#39;s code is outside the scope of the question. Unless you really want to get into the nitty gritty details of exactly how this helper function is called. The key point is that the helper function greatly increased the runtime of the overall program, and why this is the case.","body":"@Mike&#39;Pomax&#39;Kamermans I think that showing the entire program&#39;s code is outside the scope of the question. Unless you really want to get into the nitty gritty details of exactly how this helper function is called. The key point is that the helper function greatly increased the runtime of the overall program, and why this is the case."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690307437,"post_id":76751136,"comment_id":135334212,"body_markdown":"I think if the runtime you&#39;re showing is for the full program, show the full program. And if that&#39;s too much code, then redo the timing using just the code you&#39;re showing (with some minimal public static main code that invoke a bunch of calls). Don&#39;t show timings for completely different code from what you&#39;re showing, it doesn&#39;t actually tell us, or yourself, anything.","body":"I think if the runtime you&#39;re showing is for the full program, show the full program. And if that&#39;s too much code, then redo the timing using just the code you&#39;re showing (with some minimal public static main code that invoke a bunch of calls). Don&#39;t show timings for completely different code from what you&#39;re showing, it doesn&#39;t actually tell us, or yourself, anything."}],"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690167669,"creation_date":1690167390,"question_id":76751136,"body_markdown":"I wrote two versions of a helper function for a leetcode problem. I was surprised to see that the iterative version runs over twice as fast, despite being essentially the same code. \r\n\r\nI was assuming that something like this would just be optimized automatically by the compiler, but there is in fast a huge difference in runtimes.\r\n\r\nRecursive version (runs in 14ms):\r\n\r\n    public boolean isPalindrome(String word, int left, int right) {\r\n        if(left &gt;= right) return true;\r\n        if(word.charAt(left) != word.charAt(right)) return false;\r\n\r\n        return isPalindrome(word, left + 1, right - 1);\r\n    }\r\n\r\nIterative version (runs in 6ms):\r\n\r\n    public boolean isPalindrome(String word, int left, int right) {\r\n        while(left &lt; right) {\r\n            if(word.charAt(left) != word.charAt(right)) return false;\r\n            \r\n            left++;\r\n            right--;\r\n        }\r\n        return true;\r\n    }\r\n\r\nWhy does the iterative version run so much faster?","title":"Why does the recursive version run slower?","body":"<p>I wrote two versions of a helper function for a leetcode problem. I was surprised to see that the iterative version runs over twice as fast, despite being essentially the same code.</p>\n<p>I was assuming that something like this would just be optimized automatically by the compiler, but there is in fast a huge difference in runtimes.</p>\n<p>Recursive version (runs in 14ms):</p>\n<pre><code>public boolean isPalindrome(String word, int left, int right) {\n    if(left &gt;= right) return true;\n    if(word.charAt(left) != word.charAt(right)) return false;\n\n    return isPalindrome(word, left + 1, right - 1);\n}\n</code></pre>\n<p>Iterative version (runs in 6ms):</p>\n<pre><code>public boolean isPalindrome(String word, int left, int right) {\n    while(left &lt; right) {\n        if(word.charAt(left) != word.charAt(right)) return false;\n        \n        left++;\n        right--;\n    }\n    return true;\n}\n</code></pre>\n<p>Why does the iterative version run so much faster?</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1421429552,"post_id":27989498,"comment_id":44370069,"body_markdown":"Well, just reuse your formatter for printing instead of parsing","body":"Well, just reuse your formatter for printing instead of parsing"},{"owner":{"account_id":4343087,"reputation":81,"user_id":3545848,"display_name":"souashokraj"},"score":0,"creation_date":1421663222,"post_id":27989498,"comment_id":44430820,"body_markdown":"Hi, Thanks for your answer and it works. Is there a way that I can get that in LocalTime instead of String. I need LocalTime as 02:51:20 and not 02:51:20.000.","body":"Hi, Thanks for your answer and it works. Is there a way that I can get that in LocalTime instead of String. I need LocalTime as 02:51:20 and not 02:51:20.000."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1421663569,"post_id":27989498,"comment_id":44431048,"body_markdown":"No, the `.toString()` of `LocalTime` is fixed. You need to go through a formatter to have the format you want.","body":"No, the <code>.toString()</code> of <code>LocalTime</code> is fixed. You need to go through a formatter to have the format you want."},{"owner":{"account_id":4343087,"reputation":81,"user_id":3545848,"display_name":"souashokraj"},"score":0,"creation_date":1421664229,"post_id":27989498,"comment_id":44431356,"body_markdown":"Ok. How to remove the milliseconds from the LocalTime. I need LocalTime only HH:mm:ss format and not the milliseconds included. Is it possible ?","body":"Ok. How to remove the milliseconds from the LocalTime. I need LocalTime only HH:mm:ss format and not the milliseconds included. Is it possible ?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1421664867,"post_id":27989498,"comment_id":44431684,"body_markdown":"Hold on, I thought you said the provided solutions worked?","body":"Hold on, I thought you said the provided solutions worked?"},{"owner":{"account_id":4343087,"reputation":81,"user_id":3545848,"display_name":"souashokraj"},"score":0,"creation_date":1421667520,"post_id":27989498,"comment_id":44433020,"body_markdown":"Yes I do, when I print it removes the .000 from the localtime. But i need the response in LocalTime in the format HH:mm:ss without the milliseconds in it. Am trying to format a String of the format HH:mm:ss to LocalTime without milliseconds. Is it possible ?","body":"Yes I do, when I print it removes the .000 from the localtime. But i need the response in LocalTime in the format HH:mm:ss without the milliseconds in it. Am trying to format a String of the format HH:mm:ss to LocalTime without milliseconds. Is it possible ?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1421429598,"creation_date":1421429598,"answer_id":27989550,"question_id":27989498,"body_markdown":"Yes - you just need to format when you print out. Currently you&#39;re just using the default `toString()` representation. If you&#39;re happy with the formatter you&#39;ve already got, you can just use:\r\n\r\n    System.out.println(&quot;LocalTime:            &quot; + fmt.print(localTime));","title":"Convert String to Joda LocalTime format (HH:mm:ss) and Remove milliseconds","body":"<p>Yes - you just need to format when you print out. Currently you're just using the default <code>toString()</code> representation. If you're happy with the formatter you've already got, you can just use:</p>\n\n<pre><code>System.out.println(\"LocalTime:            \" + fmt.print(localTime));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1638661,"reputation":2399,"user_id":1511531,"display_name":"Semih Eker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430123137,"creation_date":1430123137,"answer_id":29890689,"question_id":27989498,"body_markdown":"You can easily use your `DateTimeFormetter print() method`. Try like this;\r\n\r\n        DateTimeFormatter fmt = DateTimeFormat.forPattern(&quot;HH:mm:ss&quot;);\r\n\t\tLocalTime localTime = fmt.parseLocalTime(&quot;02:51:20&quot;);\r\n\t\tSystem.out.println(&quot;LocalTime                        :  &quot; + localTime);\r\n\t\tSystem.out.println(&quot;LocalTime with DateTimeFormatter :  &quot; + fmt.print(localTime));\r\n\r\nAnd the output is;\r\n\r\n    LocalTime                        :  02:51:20.000\r\n    LocalTime with DateTimeFormatter :  02:51:20\r\n\r\n","title":"Convert String to Joda LocalTime format (HH:mm:ss) and Remove milliseconds","body":"<p>You can easily use your <code>DateTimeFormetter print() method</code>. Try like this;</p>\n\n<pre><code>    DateTimeFormatter fmt = DateTimeFormat.forPattern(\"HH:mm:ss\");\n    LocalTime localTime = fmt.parseLocalTime(\"02:51:20\");\n    System.out.println(\"LocalTime                        :  \" + localTime);\n    System.out.println(\"LocalTime with DateTimeFormatter :  \" + fmt.print(localTime));\n</code></pre>\n\n<p>And the output is;</p>\n\n<pre><code>LocalTime                        :  02:51:20.000\nLocalTime with DateTimeFormatter :  02:51:20\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6490755,"reputation":1449,"user_id":5355145,"accept_rate":86,"display_name":"Jayani Sumudini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565155200,"creation_date":1565155200,"answer_id":57387418,"question_id":27989498,"body_markdown":"Fixed this using \r\n\r\n    DateTime time = new DateTime();\r\n    DateTimeFormatter format = DateTimeFormat.forPattern(&quot;HH:mm:ss&quot;);\r\n    String localTime = time != null ? format.print(new LocalTime(time.getHourOfDay(), \r\n    time.getMinuteOfHour(), time.getSecondOfMinute())) : null;\r\n\r\nDateTime and LocalTime are from joda","title":"Convert String to Joda LocalTime format (HH:mm:ss) and Remove milliseconds","body":"<p>Fixed this using </p>\n\n<pre><code>DateTime time = new DateTime();\nDateTimeFormatter format = DateTimeFormat.forPattern(\"HH:mm:ss\");\nString localTime = time != null ? format.print(new LocalTime(time.getHourOfDay(), \ntime.getMinuteOfHour(), time.getSecondOfMinute())) : null;\n</code></pre>\n\n<p>DateTime and LocalTime are from joda</p>\n"}],"owner":{"account_id":4343087,"reputation":81,"user_id":3545848,"display_name":"souashokraj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12841,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1690167652,"creation_date":1421429382,"question_id":27989498,"body_markdown":"    DateTimeFormatter fmt = DateTimeFormat.forPattern(&quot;HH:mm:ss&quot;);\r\n    LocalTime localTime = fmt.parseLocalTime(&quot;02:51:20&quot;);\r\n    System.out.println(&quot;LocalTime:            &quot;+localTime);\r\n\r\nI need only 02:51:20 but it outputs as 02:51:20.000. Is there any way that I can remove the .000 (milliseconds) from the output?","title":"Convert String to Joda LocalTime format (HH:mm:ss) and Remove milliseconds","body":"<pre><code>DateTimeFormatter fmt = DateTimeFormat.forPattern(&quot;HH:mm:ss&quot;);\nLocalTime localTime = fmt.parseLocalTime(&quot;02:51:20&quot;);\nSystem.out.println(&quot;LocalTime:            &quot;+localTime);\n</code></pre>\n<p>I need only 02:51:20 but it outputs as 02:51:20.000. Is there any way that I can remove the .000 (milliseconds) from the output?</p>\n"},{"tags":["java","kotlin","jvm","kotlin-multiplatform"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690166970,"post_id":76750951,"comment_id":135310549,"body_markdown":"Sure, you can use Java APIs in the JVM part of your multiplatform project. Did you *try* anything?","body":"Sure, you can use Java APIs in the JVM part of your multiplatform project. Did you <i>try</i> anything?"}],"answers":[{"tags":[],"owner":{"account_id":26684461,"reputation":26,"user_id":20293981,"display_name":"Robson santos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690165708,"creation_date":1690165708,"answer_id":76751075,"question_id":76750951,"body_markdown":"Yes, Kotlin Multiplatform can support many Java libraries, such as Mockito, JUnit, and Guava. \r\nHowever, there are a few exceptions, like Reflection. \r\nI recommend checking the compatibility guide for more information =) https://kotlinlang.org/docs/multiplatform-compatibility-guide.html#deprecated-support-of-multiplatform-libraries-published-in-the-legacy-mode","title":"Can Kotlin Multiplatform support Java libs?","body":"<p>Yes, Kotlin Multiplatform can support many Java libraries, such as Mockito, JUnit, and Guava.\nHowever, there are a few exceptions, like Reflection.\nI recommend checking the compatibility guide for more information =) <a href=\"https://kotlinlang.org/docs/multiplatform-compatibility-guide.html#deprecated-support-of-multiplatform-libraries-published-in-the-legacy-mode\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/multiplatform-compatibility-guide.html#deprecated-support-of-multiplatform-libraries-published-in-the-legacy-mode</a></p>\n"}],"owner":{"account_id":19208507,"reputation":41,"user_id":14034841,"display_name":"Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76751075,"answer_count":1,"score":1,"last_activity_date":1690165708,"creation_date":1690162344,"question_id":76750951,"body_markdown":"I became aware of the new Kotlin project (https://kotlinlang.org/lp/multiplatform/). A question occurred to me.\r\nI would like to use my Java API in my Kotlin Multiplatform. Would that work? And if not, what is the best thing to do?","title":"Can Kotlin Multiplatform support Java libs?","body":"<p>I became aware of the new Kotlin project (<a href=\"https://kotlinlang.org/lp/multiplatform/\" rel=\"nofollow noreferrer\">https://kotlinlang.org/lp/multiplatform/</a>). A question occurred to me.\nI would like to use my Java API in my Kotlin Multiplatform. Would that work? And if not, what is the best thing to do?</p>\n"},{"tags":["java","refactoring"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689932800,"post_id":76736813,"comment_id":135286225,"body_markdown":"Are you saying the _refactored code_ seems like a code smell? Because what you had originally is duplicated code. The refactored code reuses existing code. Though I would _not_ have changed all method names to `findConfig`, as only one of them actually returns a `Configuration`. And if feasible, I&#39;d consider making the return types of all the methods `Optional`.","body":"Are you saying the <i>refactored code</i> seems like a code smell? Because what you had originally is duplicated code. The refactored code reuses existing code. Though I would <i>not</i> have changed all method names to <code>findConfig</code>, as only one of them actually returns a <code>Configuration</code>. And if feasible, I&#39;d consider making the return types of all the methods <code>Optional</code>."},{"owner":{"account_id":3414081,"reputation":1287,"user_id":2863440,"accept_rate":92,"display_name":"yadav_vi"},"score":2,"creation_date":1689932933,"post_id":76736813,"comment_id":135286248,"body_markdown":"No, I was wondering if there is a name to such a refactoring. Or when do we use such a refactoring.\n\nI have seen this in a lot of places where one method calls another one with some default value for an overloaded method. Something like super() in constructors but with a small difference.","body":"No, I was wondering if there is a name to such a refactoring. Or when do we use such a refactoring.  I have seen this in a lot of places where one method calls another one with some default value for an overloaded method. Something like super() in constructors but with a small difference."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1689935895,"post_id":76736813,"comment_id":135286824,"body_markdown":"May be you are looking for the so called **DRY: Don&#39;t Repeat Yourself - Software Design Principle** here&#39;s an article on medium you might want to glance over [dry-do-not-repeat-yourself](https://medium.com/@learnstuff.io/dry-do-not-repeat-yourself-8518055b4cf). Violations of **DRY** are referred to as **WET: We Enjoy Typing, Write Everything Twice, Waste Everyone&#39;s Time.**","body":"May be you are looking for the so called <b>DRY: Don&#39;t Repeat Yourself - Software Design Principle</b> here&#39;s an article on medium you might want to glance over <a href=\"https://medium.com/@learnstuff.io/dry-do-not-repeat-yourself-8518055b4cf\" rel=\"nofollow noreferrer\">dry-do-not-repeat-yourself</a>. Violations of <b>DRY</b> are referred to as <b>WET: We Enjoy Typing, Write Everything Twice, Waste Everyone&#39;s Time.</b>"},{"owner":{"account_id":1671774,"reputation":426,"user_id":1538111,"accept_rate":40,"display_name":"Muhammad Farag"},"score":1,"creation_date":1690162838,"post_id":76736813,"comment_id":135310277,"body_markdown":"Not directly answering your question, but your can replace `if (category.isEmpty()) return null;` with `category.orElse(null)`. That said, the point of using `Optional` is null safety, so the method should return an Optional and use the Optional methods such as `orElse` to deal with the value, instead of checking for null.","body":"Not directly answering your question, but your can replace <code>if (category.isEmpty()) return null;</code> with <code>category.orElse(null)</code>. That said, the point of using <code>Optional</code> is null safety, so the method should return an Optional and use the Optional methods such as <code>orElse</code> to deal with the value, instead of checking for null."}],"answers":[{"tags":[],"owner":{"account_id":1671774,"reputation":426,"user_id":1538111,"accept_rate":40,"display_name":"Muhammad Farag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690165529,"creation_date":1690165529,"answer_id":76751069,"question_id":76736813,"body_markdown":"I assume the code you give us is fictitious to represent the actual use case. With that assumption in mind and some interpolation, here is a suggestion to make the code read slightly better. Please, accept my apologies if my interpolation is off. \r\n\r\n```java\r\npublic Optional&lt;Configuration&gt; findConfig(Optional&lt;String&gt; siteName) {\r\n    return siteName\r\n            .flatMap(\r\n                    (s) -&gt; lisOfConfigurations.stream()\r\n                            .filter((c) -&gt; c.hasSite(s))\r\n                            .findFirst());\r\n}\r\n\r\npublic Optional&lt;Category&gt; findCategory(Optional&lt;String&gt; siteName, String categoryType) {\r\n    return findConfig(siteName)\r\n            .map((config) -&gt; config.getCategory(categoryType));\r\n}\r\n\r\n\r\npublic Optional&lt;BoundaryData&gt; findBoundaryData(Optional&lt;String&gt; siteName, String categoryType, Double value) {\r\n    return findCategory(siteName, categoryType)\r\n            .flatMap((category) -&gt; category.getSuitableBoundary(value));\r\n}\r\n```\r\n\r\nIdeally, however, the caller should do the null check on the site or map on an optional. This would save us some of the optional mappings or if you prefer, the null checks. You may assert (or throw an exception if the site is null).\r\n\r\nAt any point, if you want to move from Optional to nullable value, I believe you can use `optionalValue.orElse(null)`, in case you do not control the interface.\r\n\r\n ```java\r\nclass Configuration {\r\n    String site;\r\n    List&lt;Category&gt; categories;\r\n    \r\n    public String getSite() {\r\n        return site;\r\n    }\r\n\r\n    public boolean hasSite(String siteName) {\r\n        return site.equals(siteName);\r\n    }\r\n    \r\n\r\n    public Category getCategory(String CategoryType) {\r\n        return categories.stream()\r\n                .filter((c) -&gt; c.getType().equals(CategoryType))\r\n                .findAny()\r\n                .orElse(null);\r\n    }\r\n}\r\n\r\nclass Category {\r\n    String type;\r\n    BoundaryData[] boundaryData;\r\n\r\n\r\n    public Optional&lt;BoundaryData&gt; getSuitableBoundary(Double value) {\r\n        return Arrays.stream(boundaryData)\r\n                .filter((c) -&gt; c.getValue() &gt; value)\r\n                .findFirst();\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n}\r\n\r\nclass BoundaryData {\r\n    Double value;\r\n\r\n    public Double getValue() {\r\n        return value;\r\n    }\r\n}\r\n```","title":"Name of this repeated definitions replaced by overloaded functions code smell/refactoring pattern","body":"<p>I assume the code you give us is fictitious to represent the actual use case. With that assumption in mind and some interpolation, here is a suggestion to make the code read slightly better. Please, accept my apologies if my interpolation is off.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;Configuration&gt; findConfig(Optional&lt;String&gt; siteName) {\n    return siteName\n            .flatMap(\n                    (s) -&gt; lisOfConfigurations.stream()\n                            .filter((c) -&gt; c.hasSite(s))\n                            .findFirst());\n}\n\npublic Optional&lt;Category&gt; findCategory(Optional&lt;String&gt; siteName, String categoryType) {\n    return findConfig(siteName)\n            .map((config) -&gt; config.getCategory(categoryType));\n}\n\n\npublic Optional&lt;BoundaryData&gt; findBoundaryData(Optional&lt;String&gt; siteName, String categoryType, Double value) {\n    return findCategory(siteName, categoryType)\n            .flatMap((category) -&gt; category.getSuitableBoundary(value));\n}\n</code></pre>\n<p>Ideally, however, the caller should do the null check on the site or map on an optional. This would save us some of the optional mappings or if you prefer, the null checks. You may assert (or throw an exception if the site is null).</p>\n<p>At any point, if you want to move from Optional to nullable value, I believe you can use <code>optionalValue.orElse(null)</code>, in case you do not control the interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Configuration {\n   String site;\n   List&lt;Category&gt; categories;\n   \n   public String getSite() {\n       return site;\n   }\n\n   public boolean hasSite(String siteName) {\n       return site.equals(siteName);\n   }\n   \n\n   public Category getCategory(String CategoryType) {\n       return categories.stream()\n               .filter((c) -&gt; c.getType().equals(CategoryType))\n               .findAny()\n               .orElse(null);\n   }\n}\n\nclass Category {\n   String type;\n   BoundaryData[] boundaryData;\n\n\n   public Optional&lt;BoundaryData&gt; getSuitableBoundary(Double value) {\n       return Arrays.stream(boundaryData)\n               .filter((c) -&gt; c.getValue() &gt; value)\n               .findFirst();\n   }\n\n   public String getType() {\n       return type;\n   }\n}\n\nclass BoundaryData {\n   Double value;\n\n   public Double getValue() {\n       return value;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":3414081,"reputation":1287,"user_id":2863440,"accept_rate":92,"display_name":"yadav_vi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690165529,"creation_date":1689932459,"question_id":76736813,"body_markdown":"I had a set of functions which were doing repetitive things + something more.\r\n\r\n(This is a simplified code snippet)\r\n\r\n```java\r\nstatic class Configuration {\r\n    String site;\r\n    List&lt;Category&gt; categories;\r\n}\r\nstatic class Category {\r\n    String type;\r\n    BoundaryData[] boundaryData;\r\n}\r\nstatic class BoundaryData {\r\n    Double value;\r\n    ....\r\n}\r\n\r\npublic Configuration getConfiguration(String siteName) {\r\n    if (siteName == null) return null;\r\n    \r\n    Optional&lt;Configuration&gt; configuration = listOfCategories.stream()\r\n                                    .filter((c) -&gt; c.getSite().equals(siteName))\r\n                                    .findFirst();\r\n\r\n    if (configuration.isEmpty()) return null;\r\n\r\n    return configuration.get();\r\n}\r\n\r\npublic Category getCategories(String siteName, String categoryType) {\r\n    // Repeat the same configuration fetch code above\r\n    // Searching for categories\r\n}\r\n\r\npublic BoundaryData getBoundaryData(String siteName, String categoryType, Double value) {\r\n    // Repeat the same configuration and category fetch code above\r\n    // Searching for BoundaryData\r\n}\r\n\r\n```\r\n\r\n\r\nOne of my code reviewers suggested that why don&#39;t I name the function something specific and chain the use them in each more granular functions call. Something like this - \r\n\r\n```java\r\npublic Configuration findConfig(String siteName) {\r\n    if (siteName == null) return null;\r\n    \r\n    Optional&lt;Configuration&gt; configuration = listOfCategories.stream()\r\n                                    .filter((c) -&gt; c.getSite().equals(siteName))\r\n                                    .findFirst();\r\n\r\n    if (configuration.isEmpty()) return null;\r\n\r\n    return configuration.get();\r\n}\r\n\r\npublic Category findConfig(String siteName, String categoryType) {\r\n    Configuration config = findConfig(siteName);\r\n    if (config == null) return null;\r\n    \r\n    Optional&lt;Category&gt; category = config.getCategories().stream()\r\n                                    .filter((c) -&gt; c.getType().equals(categoryType))\r\n                                    .findFirst();\r\n\r\n    if (category.isEmpty()) return null;\r\n\r\n    return category.get();\r\n}\r\n\r\npublic BoundaryData findConfig(String siteName, String categoryType, Double value) {\r\n    Category category = findConfig(siteName, categoryType);\r\n    if (category == null) return null;\r\n\r\n    Optional&lt;BoundaryData&gt; boundaryData = Arrays.stream(category.getBoundaryData())\r\n                                    .filter((c) -&gt; c.getValue() &gt; value)\r\n                                    .findFirst();\r\n\r\n    if (boundaryData.isEmpty()) return null;\r\n\r\n    return boundaryData.get();\r\n}\r\n```\r\n\r\nI wonder if there is some name to such a refactoring. For e.g. This seems like code smell `Duplicated Code`. But this is something more specific.\r\n\r\nEDIT: This seems similar - https://softwareengineering.stackexchange.com/questions/301484/how-is-this-pattern-called\r\n\r\nEDIT: Apparently they are called `convenience overloads`","title":"Name of this repeated definitions replaced by overloaded functions code smell/refactoring pattern","body":"<p>I had a set of functions which were doing repetitive things + something more.</p>\n<p>(This is a simplified code snippet)</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Configuration {\n    String site;\n    List&lt;Category&gt; categories;\n}\nstatic class Category {\n    String type;\n    BoundaryData[] boundaryData;\n}\nstatic class BoundaryData {\n    Double value;\n    ....\n}\n\npublic Configuration getConfiguration(String siteName) {\n    if (siteName == null) return null;\n    \n    Optional&lt;Configuration&gt; configuration = listOfCategories.stream()\n                                    .filter((c) -&gt; c.getSite().equals(siteName))\n                                    .findFirst();\n\n    if (configuration.isEmpty()) return null;\n\n    return configuration.get();\n}\n\npublic Category getCategories(String siteName, String categoryType) {\n    // Repeat the same configuration fetch code above\n    // Searching for categories\n}\n\npublic BoundaryData getBoundaryData(String siteName, String categoryType, Double value) {\n    // Repeat the same configuration and category fetch code above\n    // Searching for BoundaryData\n}\n\n</code></pre>\n<p>One of my code reviewers suggested that why don't I name the function something specific and chain the use them in each more granular functions call. Something like this -</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Configuration findConfig(String siteName) {\n    if (siteName == null) return null;\n    \n    Optional&lt;Configuration&gt; configuration = listOfCategories.stream()\n                                    .filter((c) -&gt; c.getSite().equals(siteName))\n                                    .findFirst();\n\n    if (configuration.isEmpty()) return null;\n\n    return configuration.get();\n}\n\npublic Category findConfig(String siteName, String categoryType) {\n    Configuration config = findConfig(siteName);\n    if (config == null) return null;\n    \n    Optional&lt;Category&gt; category = config.getCategories().stream()\n                                    .filter((c) -&gt; c.getType().equals(categoryType))\n                                    .findFirst();\n\n    if (category.isEmpty()) return null;\n\n    return category.get();\n}\n\npublic BoundaryData findConfig(String siteName, String categoryType, Double value) {\n    Category category = findConfig(siteName, categoryType);\n    if (category == null) return null;\n\n    Optional&lt;BoundaryData&gt; boundaryData = Arrays.stream(category.getBoundaryData())\n                                    .filter((c) -&gt; c.getValue() &gt; value)\n                                    .findFirst();\n\n    if (boundaryData.isEmpty()) return null;\n\n    return boundaryData.get();\n}\n</code></pre>\n<p>I wonder if there is some name to such a refactoring. For e.g. This seems like code smell <code>Duplicated Code</code>. But this is something more specific.</p>\n<p>EDIT: This seems similar - <a href=\"https://softwareengineering.stackexchange.com/questions/301484/how-is-this-pattern-called\">https://softwareengineering.stackexchange.com/questions/301484/how-is-this-pattern-called</a></p>\n<p>EDIT: Apparently they are called <code>convenience overloads</code></p>\n"},{"tags":["java","redis","spring-data-redis"],"comments":[{"owner":{"account_id":4866272,"reputation":327,"user_id":3924386,"accept_rate":86,"display_name":"F. Suyuti"},"score":0,"creation_date":1660537205,"post_id":72400507,"comment_id":129548146,"body_markdown":"@bhusan do you got the answer? or having alternative solution?","body":"@bhusan do you got the answer? or having alternative solution?"},{"owner":{"account_id":1798288,"reputation":590,"user_id":1637197,"accept_rate":75,"display_name":"Bhushan"},"score":0,"creation_date":1660765119,"post_id":72400507,"comment_id":129612873,"body_markdown":"No, I didn&#39;t get an answer nor find an alternative solution. I skipped using this functionality for now.","body":"No, I didn&#39;t get an answer nor find an alternative solution. I skipped using this functionality for now."}],"answers":[{"tags":[],"owner":{"account_id":10797409,"reputation":21,"user_id":7942634,"display_name":"Tom Clausing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670462710,"creation_date":1670462710,"answer_id":74724565,"question_id":72400507,"body_markdown":"The 3- and 4-param `setIfAbsent()` overloads pass an arg `SetOption.ifAbsent()` to `connection.set()`. This appears to populate `NX` onto the redis `SET` command similarly to what `connection.setNX()` would do. I&#39;m guessing they wanted to refactor to this approach to reduce the number of method overloads that are needed to support all combinations of options and arguments to `SET`.\r\n\r\n`SetOption.ifAbsent()`:\r\n\r\nhttps://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L379\r\n\r\n`LettuceConverters.toSetArgs(expiration, option)`:\r\n\r\nhttps://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceStringCommands.java#L139\r\n\r\n`args.nx()`:\r\n\r\nhttps://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceConverters.java#L800","title":"Is java&#39;s setIfAbsent(K,V, ExpiryTimeout) in redis atomic?","body":"<p>The 3- and 4-param <code>setIfAbsent()</code> overloads pass an arg <code>SetOption.ifAbsent()</code> to <code>connection.set()</code>. This appears to populate <code>NX</code> onto the redis <code>SET</code> command similarly to what <code>connection.setNX()</code> would do. I'm guessing they wanted to refactor to this approach to reduce the number of method overloads that are needed to support all combinations of options and arguments to <code>SET</code>.</p>\n<p><code>SetOption.ifAbsent()</code>:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L379\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L379</a></p>\n<p><code>LettuceConverters.toSetArgs(expiration, option)</code>:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceStringCommands.java#L139\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceStringCommands.java#L139</a></p>\n<p><code>args.nx()</code>:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceConverters.java#L800\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-redis/blob/2.6.4/src/main/java/org/springframework/data/redis/connection/lettuce/LettuceConverters.java#L800</a></p>\n"},{"tags":[],"owner":{"account_id":6553958,"reputation":186,"user_id":5067339,"display_name":"Martin Ferrari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690164898,"creation_date":1690160621,"answer_id":76750880,"question_id":72400507,"body_markdown":"As of spring boot 3.1.1, using jedis and lettuce, the actual command (with a timeout of 30 seconds) sent to redis  is:\r\n\r\n&quot;SET&quot; &quot;key&quot; &quot;value&quot; &quot;NX&quot; &quot;EX&quot; &quot;30&quot;\r\n","title":"Is java&#39;s setIfAbsent(K,V, ExpiryTimeout) in redis atomic?","body":"<p>As of spring boot 3.1.1, using jedis and lettuce, the actual command (with a timeout of 30 seconds) sent to redis  is:</p>\n<p>&quot;SET&quot; &quot;key&quot; &quot;value&quot; &quot;NX&quot; &quot;EX&quot; &quot;30&quot;</p>\n"}],"owner":{"account_id":1798288,"reputation":590,"user_id":1637197,"accept_rate":75,"display_name":"Bhushan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690164898,"creation_date":1653626161,"question_id":72400507,"body_markdown":"According to the [documentation][1], spring data redis&#39;s `setIfAbsent(K, V)` uses `setNX` command. However, `setIfAbsent(K, V, Expiry timeout)` [seems to use][2] `set` command, instead of `setNX`. Does it mean that having to set timeout on a key,value makes it not atomic? \r\n\r\nIn my use case, I want to set TTL for each row and I&#39;m trying to understand how redis would behave if two threads (or application instances) call `setIfAbsent(K,V, sometimeoutinminutes)` at the same time? Does only one request update the key (`setNX` behavior) or both update the key?\r\n\r\n\r\nLooking at the [implementation][3], I can see that both have slightly different code paths, so which makes me wonder if the latter is really atomic.\r\n\r\nMy code looks like this:\r\n\r\n```\r\n@Bean\r\npublic RedisTemplate&lt;?, ?&gt; redisTemplate(RedisConnectionFactory connectionFactory) {\r\n    RedisTemplate&lt;?, ?&gt; template = new RedisTemplate&lt;&gt;();\r\n    template.setConnectionFactory(connectionFactory);\r\n\r\n    return template;\r\n}\r\n\r\ncode that updates:\r\n\r\n//try to get value for a given key from redis.\r\nString value = redisTemplate.opsForValue().get(key);\r\n\r\n//if present, return value to the caller.\r\nif (value != null) {\r\n  return value;\r\n}\r\n\r\n//if not, fetch value from remote.\r\nvalue = makeNetworkCallToGetValue(key);\r\nif (value != null) {\r\n    // update redis. what happens if 2 threads/application instances call this at the same time?\r\n    redisTemplate.opsForValue().setIfAbsent(key, value, Duration.ofMinutes(1));\r\n}\r\n\r\nreturn value;\r\n\r\n```\r\n\r\nLibrary version: spring-data-redis:2.6.4\r\n\r\n  [1]: https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/core/ValueOperations.html#setIfAbsent-K-V-\r\n  [2]: https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/core/ValueOperations.html#setIfAbsent-K-V-java.time.Duration-\r\n  [3]: https://github.com/spring-projects/spring-data-redis/blob/e2e68aa57200505e89b5a30006865cb0b488e6e2/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L285","title":"Is java&#39;s setIfAbsent(K,V, ExpiryTimeout) in redis atomic?","body":"<p>According to the <a href=\"https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/core/ValueOperations.html#setIfAbsent-K-V-\" rel=\"nofollow noreferrer\">documentation</a>, spring data redis's <code>setIfAbsent(K, V)</code> uses <code>setNX</code> command. However, <code>setIfAbsent(K, V, Expiry timeout)</code> <a href=\"https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/core/ValueOperations.html#setIfAbsent-K-V-java.time.Duration-\" rel=\"nofollow noreferrer\">seems to use</a> <code>set</code> command, instead of <code>setNX</code>. Does it mean that having to set timeout on a key,value makes it not atomic?</p>\n<p>In my use case, I want to set TTL for each row and I'm trying to understand how redis would behave if two threads (or application instances) call <code>setIfAbsent(K,V, sometimeoutinminutes)</code> at the same time? Does only one request update the key (<code>setNX</code> behavior) or both update the key?</p>\n<p>Looking at the <a href=\"https://github.com/spring-projects/spring-data-redis/blob/e2e68aa57200505e89b5a30006865cb0b488e6e2/src/main/java/org/springframework/data/redis/core/DefaultValueOperations.java#L285\" rel=\"nofollow noreferrer\">implementation</a>, I can see that both have slightly different code paths, so which makes me wonder if the latter is really atomic.</p>\n<p>My code looks like this:</p>\n<pre><code>@Bean\npublic RedisTemplate&lt;?, ?&gt; redisTemplate(RedisConnectionFactory connectionFactory) {\n    RedisTemplate&lt;?, ?&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(connectionFactory);\n\n    return template;\n}\n\ncode that updates:\n\n//try to get value for a given key from redis.\nString value = redisTemplate.opsForValue().get(key);\n\n//if present, return value to the caller.\nif (value != null) {\n  return value;\n}\n\n//if not, fetch value from remote.\nvalue = makeNetworkCallToGetValue(key);\nif (value != null) {\n    // update redis. what happens if 2 threads/application instances call this at the same time?\n    redisTemplate.opsForValue().setIfAbsent(key, value, Duration.ofMinutes(1));\n}\n\nreturn value;\n\n</code></pre>\n<p>Library version: spring-data-redis:2.6.4</p>\n"},{"tags":["java","list","function","grouping","guava"],"answers":[{"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Roniecki"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1515166936,"creation_date":1323607899,"answer_id":8464106,"question_id":8463543,"body_markdown":"Sure it is possible, and even easier with Guava :) Use [`Multimaps.index(Iterable, Function)`][1]:\r\n\r\n    ImmutableListMultimap&lt;E, E&gt; indexed = Multimaps.index(list, groupFunction);\r\n\r\nIf you give concrete use case it would be easier to show it in action.\r\n\r\nExample from docs:\r\n\r\n    List&lt;String&gt; badGuys =\r\n       Arrays.asList(&quot;Inky&quot;, &quot;Blinky&quot;, &quot;Pinky&quot;, &quot;Pinky&quot;, &quot;Clyde&quot;);\r\n    Function&lt;String, Integer&gt; stringLengthFunction = ...;\r\n    Multimap&lt;Integer, String&gt; index =\r\n       Multimaps.index(badGuys, stringLengthFunction);\r\n    System.out.println(index);\r\n\r\nprints\r\n\r\n    {4=[Inky], 6=[Blinky], 5=[Pinky, Pinky, Clyde]}\r\n\r\nIn your case if GroupFunction is defined as:\r\n\r\n    GroupFunction&lt;String&gt; groupFunction = new GroupFunction&lt;String&gt;() {\r\n      @Override public String sameGroup(final String s1, final String s2) {\r\n        return s1.length().equals(s2.length());\r\n      }\r\n    }\r\n\r\nthen it would translate to:\r\n\r\n    Function&lt;String, Integer&gt; stringLengthFunction = new Function&lt;String, Integer&gt;() {\r\n      @Override public Integer apply(final String s) {\r\n        return s.length();\r\n      }\r\n    }\r\n\r\nwhich is possible `stringLengthFunction` implementation used in Guava&#39;s example.\r\n\r\n---\r\n\r\nFinally, in Java 8, whole snippet could be even simpler, as lambas and method references are concise enough to be inlined:\r\n\r\n    ImmutableListMultimap&lt;E, E&gt; indexed = Multimaps.index(list, String::length);\r\n\r\nFor pure Java 8 (no Guava) example using [`Collector.groupingBy`][2] see [Jeffrey Bosboom&#39;s answer][3], although there are few differences in that approach:\r\n\r\n - it doesn&#39;t return `ImmutableListMultimap` but rather `Map` with `Collection` values,\r\n - \r\n    &gt; *There are no guarantees on the type, mutability, serializability, or thread-safety of the Map returned* ([source][4]),\r\n - it&#39;s a bit more verbose than Guava + method reference.\r\n\r\n---\r\n\r\n**EDIT**: If you don&#39;t care about indexed keys you can fetch grouped values:\r\n\r\n    List&lt;List&lt;E&gt;&gt; grouped = Lists.transform(indexed.keySet().asList(), new Function&lt;E, List&lt;E&gt;&gt;() {\r\n            @Override public List&lt;E&gt; apply(E key) {\r\n                return indexed.get(key);\r\n            }\r\n    });\r\n\r\n    // or the same view, but with Java 8 lambdas:\r\n    List&lt;List&lt;E&gt;&gt; grouped = Lists.transform(indexed.keySet().asList(), indexed::get);\r\n\r\nwhat gives you `Lists&lt;List&lt;E&gt;&gt;` view which contents can be easily copied to `ArrayList` or  just used as is, as you wanted in first place. Also note that `indexed.get(key)` is `ImmutableList`.\r\n\r\n    // bonus: similar as above, but not a view, instead collecting to list using streams:\r\n    List&lt;List&lt;E&gt;&gt; grouped = indexed.keySet().stream()\r\n        .map(indexed::get)\r\n        .collect(Collectors.toList());\r\n\r\n**EDIT 2**: As  Petr Gladkikh mentions [in comment below][5], if `Collection&lt;List&lt;E&gt;&gt;` is enough, above example could be simpler:\r\n\r\n    Collection&lt;List&lt;E&gt;&gt; grouped = indexed.asMap().values();\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Multimaps.html#index-java.lang.Iterable-com.google.common.base.Function-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-\r\n  [3]: https://stackoverflow.com/a/25953796/708434\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\r\n  [5]: https://stackoverflow.com/questions/8463543/grouping-elements-of-a-list-into-sublists-maybe-by-using-guava/8464106#comment28969950_8464106","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p>Sure it is possible, and even easier with Guava :) Use <a href=\"https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Multimaps.html#index-java.lang.Iterable-com.google.common.base.Function-\" rel=\"noreferrer\"><code>Multimaps.index(Iterable, Function)</code></a>:</p>\n\n<pre><code>ImmutableListMultimap&lt;E, E&gt; indexed = Multimaps.index(list, groupFunction);\n</code></pre>\n\n<p>If you give concrete use case it would be easier to show it in action.</p>\n\n<p>Example from docs:</p>\n\n<pre><code>List&lt;String&gt; badGuys =\n   Arrays.asList(\"Inky\", \"Blinky\", \"Pinky\", \"Pinky\", \"Clyde\");\nFunction&lt;String, Integer&gt; stringLengthFunction = ...;\nMultimap&lt;Integer, String&gt; index =\n   Multimaps.index(badGuys, stringLengthFunction);\nSystem.out.println(index);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>{4=[Inky], 6=[Blinky], 5=[Pinky, Pinky, Clyde]}\n</code></pre>\n\n<p>In your case if GroupFunction is defined as:</p>\n\n<pre><code>GroupFunction&lt;String&gt; groupFunction = new GroupFunction&lt;String&gt;() {\n  @Override public String sameGroup(final String s1, final String s2) {\n    return s1.length().equals(s2.length());\n  }\n}\n</code></pre>\n\n<p>then it would translate to:</p>\n\n<pre><code>Function&lt;String, Integer&gt; stringLengthFunction = new Function&lt;String, Integer&gt;() {\n  @Override public Integer apply(final String s) {\n    return s.length();\n  }\n}\n</code></pre>\n\n<p>which is possible <code>stringLengthFunction</code> implementation used in Guava's example.</p>\n\n<hr>\n\n<p>Finally, in Java 8, whole snippet could be even simpler, as lambas and method references are concise enough to be inlined:</p>\n\n<pre><code>ImmutableListMultimap&lt;E, E&gt; indexed = Multimaps.index(list, String::length);\n</code></pre>\n\n<p>For pure Java 8 (no Guava) example using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-\" rel=\"noreferrer\"><code>Collector.groupingBy</code></a> see <a href=\"https://stackoverflow.com/a/25953796/708434\">Jeffrey Bosboom's answer</a>, although there are few differences in that approach:</p>\n\n<ul>\n<li>it doesn't return <code>ImmutableListMultimap</code> but rather <code>Map</code> with <code>Collection</code> values,</li>\n<li><blockquote>\n  <p><em>There are no guarantees on the type, mutability, serializability, or thread-safety of the Map returned</em> (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"noreferrer\">source</a>),</p>\n</blockquote></li>\n<li>it's a bit more verbose than Guava + method reference.</li>\n</ul>\n\n<hr>\n\n<p><strong>EDIT</strong>: If you don't care about indexed keys you can fetch grouped values:</p>\n\n<pre><code>List&lt;List&lt;E&gt;&gt; grouped = Lists.transform(indexed.keySet().asList(), new Function&lt;E, List&lt;E&gt;&gt;() {\n        @Override public List&lt;E&gt; apply(E key) {\n            return indexed.get(key);\n        }\n});\n\n// or the same view, but with Java 8 lambdas:\nList&lt;List&lt;E&gt;&gt; grouped = Lists.transform(indexed.keySet().asList(), indexed::get);\n</code></pre>\n\n<p>what gives you <code>Lists&lt;List&lt;E&gt;&gt;</code> view which contents can be easily copied to <code>ArrayList</code> or  just used as is, as you wanted in first place. Also note that <code>indexed.get(key)</code> is <code>ImmutableList</code>.</p>\n\n<pre><code>// bonus: similar as above, but not a view, instead collecting to list using streams:\nList&lt;List&lt;E&gt;&gt; grouped = indexed.keySet().stream()\n    .map(indexed::get)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p><strong>EDIT 2</strong>: As  Petr Gladkikh mentions <a href=\"https://stackoverflow.com/questions/8463543/grouping-elements-of-a-list-into-sublists-maybe-by-using-guava/8464106#comment28969950_8464106\">in comment below</a>, if <code>Collection&lt;List&lt;E&gt;&gt;</code> is enough, above example could be simpler:</p>\n\n<pre><code>Collection&lt;List&lt;E&gt;&gt; grouped = indexed.asMap().values();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49039,"reputation":4294,"user_id":145888,"accept_rate":74,"display_name":"David Zhao"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1690164627,"creation_date":1404949224,"answer_id":24665373,"question_id":8463543,"body_markdown":"The easiest and simplest way would be using: [Lambdaj grouping feature][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/lambdaj/wiki/LambdajFeatures\r\n\r\nThe above example can be re-written:\r\n\r\n    List&lt;String&gt; badGuys = Arrays.asList(&quot;Inky&quot;, &quot;Blinky&quot;, &quot;Pinky&quot;, &quot;Pinky&quot;, &quot;Clyde&quot;);\r\n    Group group = group(badGuys, by(on(String.class).length)));\r\n    System.out.println(group.keySet());\r\n","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p>The easiest and simplest way would be using: <a href=\"https://code.google.com/p/lambdaj/wiki/LambdajFeatures\" rel=\"nofollow noreferrer\">Lambdaj grouping feature</a></p>\n<p>The above example can be re-written:</p>\n<pre><code>List&lt;String&gt; badGuys = Arrays.asList(&quot;Inky&quot;, &quot;Blinky&quot;, &quot;Pinky&quot;, &quot;Pinky&quot;, &quot;Clyde&quot;);\nGroup group = group(badGuys, by(on(String.class).length)));\nSystem.out.println(group.keySet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1419834844,"creation_date":1411251178,"answer_id":25953796,"question_id":8463543,"body_markdown":"[`Collector.groupingBy`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-) from the Java 8 streams library provides the same functionality as Guava&#39;s `Multimaps.index`.  Here&#39;s the example in [Xaerxess&#39;s answer](https://stackoverflow.com/a/8464106/3614835), rewritten to use Java 8 streams:\r\n\r\n    List&lt;String&gt; badGuys = Arrays.asList(&quot;Inky&quot;, &quot;Blinky&quot;, &quot;Pinky&quot;, &quot;Pinky&quot;, &quot;Clyde&quot;);\r\n    Map&lt;Integer, List&lt;String&gt;&gt; index = badGuys.stream()\r\n        .collect(Collectors.groupingBy(String::length));\r\n    System.out.println(index);\r\n\r\nThis will print\r\n\r\n    {4=[Inky], 5=[Pinky, Pinky, Clyde], 6=[Blinky]}\r\n\r\nIf you want to combine the values with the same key in some other way than creating a list, you can use the overload of `groupingBy` that takes another collector.  This example concatenates the strings with a delimiter:\r\n\r\n    Map&lt;Integer, String&gt; index = badGuys.stream()\r\n        .collect(Collectors.groupingBy(String::length, Collectors.joining(&quot; and &quot;)));\r\n\r\nThis will print\r\n\r\n    {4=Inky, 5=Pinky and Pinky and Clyde, 6=Blinky}\r\n\r\nIf you have a large list or your grouping function is expensive, you can go parallel using `parallelStream` and a concurrent collector.\r\n\r\n    Map&lt;Integer, List&lt;String&gt;&gt; index = badGuys.parallelStream()\r\n        .collect(Collectors.groupingByConcurrent(String::length));\r\n\r\nThis may print (the order is no longer deterministic)\r\n\r\n    {4=[Inky], 5=[Pinky, Clyde, Pinky], 6=[Blinky]}","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-\" rel=\"noreferrer\"><code>Collector.groupingBy</code></a> from the Java 8 streams library provides the same functionality as Guava's <code>Multimaps.index</code>.  Here's the example in <a href=\"https://stackoverflow.com/a/8464106/3614835\">Xaerxess's answer</a>, rewritten to use Java 8 streams:</p>\n\n<pre><code>List&lt;String&gt; badGuys = Arrays.asList(\"Inky\", \"Blinky\", \"Pinky\", \"Pinky\", \"Clyde\");\nMap&lt;Integer, List&lt;String&gt;&gt; index = badGuys.stream()\n    .collect(Collectors.groupingBy(String::length));\nSystem.out.println(index);\n</code></pre>\n\n<p>This will print</p>\n\n<pre><code>{4=[Inky], 5=[Pinky, Pinky, Clyde], 6=[Blinky]}\n</code></pre>\n\n<p>If you want to combine the values with the same key in some other way than creating a list, you can use the overload of <code>groupingBy</code> that takes another collector.  This example concatenates the strings with a delimiter:</p>\n\n<pre><code>Map&lt;Integer, String&gt; index = badGuys.stream()\n    .collect(Collectors.groupingBy(String::length, Collectors.joining(\" and \")));\n</code></pre>\n\n<p>This will print</p>\n\n<pre><code>{4=Inky, 5=Pinky and Pinky and Clyde, 6=Blinky}\n</code></pre>\n\n<p>If you have a large list or your grouping function is expensive, you can go parallel using <code>parallelStream</code> and a concurrent collector.</p>\n\n<pre><code>Map&lt;Integer, List&lt;String&gt;&gt; index = badGuys.parallelStream()\n    .collect(Collectors.groupingByConcurrent(String::length));\n</code></pre>\n\n<p>This may print (the order is no longer deterministic)</p>\n\n<pre><code>{4=[Inky], 5=[Pinky, Clyde, Pinky], 6=[Blinky]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422446329,"creation_date":1422436504,"answer_id":28188426,"question_id":8463543,"body_markdown":"With Java 8, Guava and few helper functions you can implement grouping with custom Comparator\r\n\r\n    public static &lt;T&gt; Map&lt;T, List&lt;T&gt;&gt; group(List&lt;T&gt; items, Comparator&lt;T&gt; comparator)\r\n\t{\r\n\t\tListMultimap&lt;T, T&gt; blocks = LinkedListMultimap.create();\r\n\r\n\t\tif (!ArrayUtils.isNullOrEmpty(items))\r\n\t\t{\r\n\t\t\tT currentItem = null;\r\n\r\n\t\t\tfor (T item : items)\r\n\t\t\t{\r\n\t\t\t\tif (currentItem == null || comparator.compare(currentItem, item) != 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrentItem = item;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tblocks.put(currentItem, ObjectUtils.clone(item));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn Multimaps.asMap(blocks);\r\n\t}\r\n\r\nExample\r\n\t\r\n    Comparator&lt;SportExercise&gt; comparator = Comparator.comparingInt(SportExercise::getEstimatedTime)\r\n    \t\t\t\t.thenComparingInt(SportExercise::getActiveTime).thenComparingInt(SportExercise::getIntervalCount)\r\n    \t\t\t\t.thenComparingLong(SportExercise::getExerciseId);\r\n\r\n    Map&lt;SportExercise, List&lt;SportExercise&gt;&gt; blocks = group(sportWorkout.getTrainingExercises(), comparator);\r\n    \r\n    blocks.forEach((key, values) -&gt; {\r\n    \t\t\tSystem.out.println(key);\r\n    \t\t\tSystem.out.println(values);\r\n    \t\t});","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p>With Java 8, Guava and few helper functions you can implement grouping with custom Comparator</p>\n\n<pre><code>public static &lt;T&gt; Map&lt;T, List&lt;T&gt;&gt; group(List&lt;T&gt; items, Comparator&lt;T&gt; comparator)\n{\n    ListMultimap&lt;T, T&gt; blocks = LinkedListMultimap.create();\n\n    if (!ArrayUtils.isNullOrEmpty(items))\n    {\n        T currentItem = null;\n\n        for (T item : items)\n        {\n            if (currentItem == null || comparator.compare(currentItem, item) != 0)\n            {\n                currentItem = item;\n            }\n\n            blocks.put(currentItem, ObjectUtils.clone(item));\n        }\n    }\n\n    return Multimaps.asMap(blocks);\n}\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>Comparator&lt;SportExercise&gt; comparator = Comparator.comparingInt(SportExercise::getEstimatedTime)\n                .thenComparingInt(SportExercise::getActiveTime).thenComparingInt(SportExercise::getIntervalCount)\n                .thenComparingLong(SportExercise::getExerciseId);\n\nMap&lt;SportExercise, List&lt;SportExercise&gt;&gt; blocks = group(sportWorkout.getTrainingExercises(), comparator);\n\nblocks.forEach((key, values) -&gt; {\n            System.out.println(key);\n            System.out.println(values);\n        });\n</code></pre>\n"}],"owner":{"account_id":138184,"reputation":5890,"user_id":342947,"accept_rate":87,"display_name":"Fabian Zeindl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50153,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":8464106,"answer_count":4,"score":38,"last_activity_date":1690164627,"creation_date":1323602512,"question_id":8463543,"body_markdown":"I want to group elements of a list. I&#39;m currently doing it this way: \r\n\r\n\tpublic static &lt;E&gt; List&lt;List&lt;E&gt;&gt; group(final List&lt;E&gt; list, final GroupFunction&lt;E&gt; groupFunction) {\r\n\r\n\t\tList&lt;List&lt;E&gt;&gt; result = Lists.newArrayList();\r\n\r\n\t\tfor (final E element : list) {\r\n\r\n\t\t\tboolean groupFound = false;\r\n\t\t\tfor (final List&lt;E&gt; group : result) {\r\n\t\t\t\tif (groupFunction.sameGroup(element, group.get(0))) {\r\n\t\t\t\t\tgroup.add(element);\r\n\t\t\t\t\tgroupFound = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (! groupFound) {\r\n\r\n\t\t\t\tList&lt;E&gt; newGroup = Lists.newArrayList();\r\n\t\t\t\tnewGroup.add(element);\r\n\t\t\t\tresult.add(newGroup);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic interface GroupFunction&lt;E&gt; {\r\n\t\tpublic boolean sameGroup(final E element1, final E element2);\r\n\t}\r\n\r\nIs there a better way to do this, preferably by using guava?","title":"Grouping elements of a list into sublists (maybe by using guava)","body":"<p>I want to group elements of a list. I'm currently doing it this way: </p>\n\n<pre><code>public static &lt;E&gt; List&lt;List&lt;E&gt;&gt; group(final List&lt;E&gt; list, final GroupFunction&lt;E&gt; groupFunction) {\n\n    List&lt;List&lt;E&gt;&gt; result = Lists.newArrayList();\n\n    for (final E element : list) {\n\n        boolean groupFound = false;\n        for (final List&lt;E&gt; group : result) {\n            if (groupFunction.sameGroup(element, group.get(0))) {\n                group.add(element);\n                groupFound = true;\n                break;\n            }\n        }\n        if (! groupFound) {\n\n            List&lt;E&gt; newGroup = Lists.newArrayList();\n            newGroup.add(element);\n            result.add(newGroup);\n        }\n    }\n\n    return result;\n}\n\npublic interface GroupFunction&lt;E&gt; {\n    public boolean sameGroup(final E element1, final E element2);\n}\n</code></pre>\n\n<p>Is there a better way to do this, preferably by using guava?</p>\n"},{"tags":["java","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1690180402,"post_id":76751019,"comment_id":135311765,"body_markdown":"Please edit your question and add the code where you&#39;re trying to display the data. Your actual code only adds data to the Realtime Database.","body":"Please edit your question and add the code where you&#39;re trying to display the data. Your actual code only adds data to the Realtime Database."}],"owner":{"account_id":29077131,"reputation":11,"user_id":22273987,"display_name":"Fredrick Osei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690164461,"creation_date":1690164188,"question_id":76751019,"body_markdown":"```lang-java\r\nDatabaseReference referenceProfile = FirebaseDatabase.getInstance()\r\n    .getReference(&quot;Registered users&quot;);\r\n\r\nToast.makeText(\r\n    Registor.this,\r\n    &quot;user registered successfully&quot;,\r\n    Toast.LENGTH_LONG\r\n).show();\r\n\r\nreferenceProfile.child(firebaseUser.getUid())\r\n    .setValue(writeUserDetails)\r\n    .addOnCompleteListener (new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            if(task.isSuccessful()) {\r\n                Toast.makeText(\r\n                    Registor.this,\r\n                    &quot;user registered well&quot;,\r\n                    Toast.LENGTH_LONG\r\n                ).show();\r\n```                                    \r\n\r\n\r\n\r\nTo able to display data in  my real time database\r\n","title":"why is my realtime databse not displaying","body":"<pre class=\"lang-java prettyprint-override\"><code>DatabaseReference referenceProfile = FirebaseDatabase.getInstance()\n    .getReference(&quot;Registered users&quot;);\n\nToast.makeText(\n    Registor.this,\n    &quot;user registered successfully&quot;,\n    Toast.LENGTH_LONG\n).show();\n\nreferenceProfile.child(firebaseUser.getUid())\n    .setValue(writeUserDetails)\n    .addOnCompleteListener (new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            if(task.isSuccessful()) {\n                Toast.makeText(\n                    Registor.this,\n                    &quot;user registered well&quot;,\n                    Toast.LENGTH_LONG\n                ).show();\n</code></pre>\n<p>To able to display data in  my real time database</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690162104,"creation_date":1690123138,"answer_id":76748815,"question_id":76748466,"body_markdown":"I find that the moment is just too fast to catch so we can make it longer. Add `sleep()` so that the `Blocked` period can be more obvious:\r\n```java\r\npublic synchronized String getTask() throws InterruptedException {\r\n    while (queue.isEmpty()) {\r\n        this.wait();\r\n    }\r\n    Thread.sleep(2000);\r\n    return queue.remove();\r\n}\r\n```\r\nAnd make main thread sleep longer before interrupting:\r\n```java\r\nThread.sleep(5000);\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nAccording to this post:\r\n\r\nhttps://stackoverflow.com/a/36449178/6812019\r\n\r\nThe state `Monitor` in VisualVM UI, it means `Blocked`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5Xd7.png","title":"Why do states of threads which are awakened from by `notifyAll()` is called do not turn into `BLOCKED`?","body":"<p>I find that the moment is just too fast to catch so we can make it longer. Add <code>sleep()</code> so that the <code>Blocked</code> period can be more obvious:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public synchronized String getTask() throws InterruptedException {\n    while (queue.isEmpty()) {\n        this.wait();\n    }\n    Thread.sleep(2000);\n    return queue.remove();\n}\n</code></pre>\n<p>And make main thread sleep longer before interrupting:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread.sleep(5000);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/B5Xd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5Xd7.png\" alt=\"enter image description here\" /></a></p>\n<p>According to this post:</p>\n<p><a href=\"https://stackoverflow.com/a/36449178/6812019\">https://stackoverflow.com/a/36449178/6812019</a></p>\n<p>The state <code>Monitor</code> in VisualVM UI, it means <code>Blocked</code></p>\n"}],"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690162104,"creation_date":1690118548,"question_id":76748466,"body_markdown":"- I have a piece of code like:\r\n```java\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n\r\n        TaskQueue q = new TaskQueue();\r\n        List&lt;Thread&gt; ts = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            Thread t = new Thread(() -&gt; {\r\n                try {\r\n                    String s = q.getTask();\r\n                } catch (InterruptedException e) {\r\n                    System.out.println(Thread.currentThread().getId() + &quot; is interrupted &quot;);\r\n                    return;\r\n                }\r\n            }, &quot;tGet&quot; + i);\r\n            t.start();\r\n            ts.add(t);\r\n        }\r\n        Thread add = new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; 2; i++) {\r\n                try {\r\n                    Thread.sleep(2000);\r\n                } catch (InterruptedException e) {\r\n                }\r\n                String s = &quot;t-&quot; + Math.random();\r\n                System.out.println(LocalTime.now() + &quot; add element: &quot; + s);\r\n                q.addTask(s);\r\n\r\n            }\r\n        }, &quot;tAdd&quot;);\r\n        add.start();\r\n        add.join();\r\n        Thread.sleep(100);\r\n        for (Thread t : ts) {\r\n            t.interrupt();\r\n        }\r\n        System.out.println(&quot;main function end&quot;);\r\n}\r\n\r\npublic class TaskQueue {\r\n    Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\r\n\r\n    public synchronized void addTask(String s) {\r\n        this.queue.add(s);\r\n        this.notifyAll();\r\n    }\r\n\r\n    public synchronized String getTask() throws InterruptedException {\r\n        while (queue.isEmpty()) {\r\n            this.wait();\r\n        }\r\n        return queue.remove();\r\n    }\r\n}\r\n```\r\n\r\n- What I expect is that, you see there is 3 threads `wait()` to get task in queue, but only 2 would be added, one per 5s, when first task is added, `notifyAll()` is called and those 3 threads should begin to compete, trying to fetch `this` lock caused by `synchronized` key word, and their status should change from `WAITING` to `BLOCKED` for a short period until one random thread successfully achieve the lock. However, the competition did not happen, and here is the thread state recorded using VisualVM:\r\n[![enter image description here][1]][1]\r\n\r\n- We can see that when the first task is added the `tGet2` achieve `this` lock and these 3 threads , their status did not turn into `BLOCKED`, maybe the `BLOCKED` period is extremly    short so the profiler had no time to record?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mHXlo.png","title":"Why do states of threads which are awakened from by `notifyAll()` is called do not turn into `BLOCKED`?","body":"<ul>\n<li>I have a piece of code like:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        TaskQueue q = new TaskQueue();\n        List&lt;Thread&gt; ts = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 3; i++) {\n            Thread t = new Thread(() -&gt; {\n                try {\n                    String s = q.getTask();\n                } catch (InterruptedException e) {\n                    System.out.println(Thread.currentThread().getId() + &quot; is interrupted &quot;);\n                    return;\n                }\n            }, &quot;tGet&quot; + i);\n            t.start();\n            ts.add(t);\n        }\n        Thread add = new Thread(() -&gt; {\n            for (int i = 0; i &lt; 2; i++) {\n                try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                }\n                String s = &quot;t-&quot; + Math.random();\n                System.out.println(LocalTime.now() + &quot; add element: &quot; + s);\n                q.addTask(s);\n\n            }\n        }, &quot;tAdd&quot;);\n        add.start();\n        add.join();\n        Thread.sleep(100);\n        for (Thread t : ts) {\n            t.interrupt();\n        }\n        System.out.println(&quot;main function end&quot;);\n}\n\npublic class TaskQueue {\n    Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\n\n    public synchronized void addTask(String s) {\n        this.queue.add(s);\n        this.notifyAll();\n    }\n\n    public synchronized String getTask() throws InterruptedException {\n        while (queue.isEmpty()) {\n            this.wait();\n        }\n        return queue.remove();\n    }\n}\n</code></pre>\n<ul>\n<li><p>What I expect is that, you see there is 3 threads <code>wait()</code> to get task in queue, but only 2 would be added, one per 5s, when first task is added, <code>notifyAll()</code> is called and those 3 threads should begin to compete, trying to fetch <code>this</code> lock caused by <code>synchronized</code> key word, and their status should change from <code>WAITING</code> to <code>BLOCKED</code> for a short period until one random thread successfully achieve the lock. However, the competition did not happen, and here is the thread state recorded using VisualVM:\n<a href=\"https://i.stack.imgur.com/mHXlo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mHXlo.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>We can see that when the first task is added the <code>tGet2</code> achieve <code>this</code> lock and these 3 threads , their status did not turn into <code>BLOCKED</code>, maybe the <code>BLOCKED</code> period is extremly    short so the profiler had no time to record?</p>\n</li>\n</ul>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658495616,"post_id":73079928,"comment_id":129072156,"body_markdown":"I would advise you to carefully study [ask]","body":"I would advise you to carefully study <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":1,"creation_date":1658498168,"post_id":73079928,"comment_id":129073265,"body_markdown":"@HoRn the question is fine, OP is getting a warning when using getContentStripped(). This is an absolutely acceptable question.","body":"@HoRn the question is fine, OP is getting a warning when using getContentStripped(). This is an absolutely acceptable question."}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658498101,"creation_date":1658498101,"answer_id":73081511,"question_id":73079928,"body_markdown":"You have to explicitly enable the MESSAGE_CONTENT intent. This is explained in the link from the warning: https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\r\n\r\nWhen building your JDA instance with a `JDABuilder`, you have to use `enableIntents(GatewayIntent.MESSAGE_CONTENT)`. See the [docs](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/JDABuilder.html#enableIntents(net.dv8tion.jda.api.requests.GatewayIntent,net.dv8tion.jda.api.requests.GatewayIntent...)).","title":"Attempting to access message content without GatewayIntent","body":"<p>You have to explicitly enable the MESSAGE_CONTENT intent. This is explained in the link from the warning: <a href=\"https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\" rel=\"nofollow noreferrer\">https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/</a></p>\n<p>When building your JDA instance with a <code>JDABuilder</code>, you have to use <code>enableIntents(GatewayIntent.MESSAGE_CONTENT)</code>. See the <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/JDABuilder.html#enableIntents(net.dv8tion.jda.api.requests.GatewayIntent,net.dv8tion.jda.api.requests.GatewayIntent...)\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":25534154,"reputation":11,"user_id":19321573,"display_name":"Gavier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690160794,"creation_date":1689791138,"answer_id":76724239,"question_id":73079928,"body_markdown":"It&#39;s simple: you just need to allow your bot to do it in the dev portal. \r\n![](https://i.stack.imgur.com/5XX72.png)","title":"Attempting to access message content without GatewayIntent","body":"<p>It's simple: you just need to allow your bot to do it in the dev portal.\n<img src=\"https://i.stack.imgur.com/5XX72.png\" alt=\"\" /></p>\n"}],"owner":{"account_id":25870024,"reputation":21,"user_id":19601060,"display_name":"Pizzzabote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2926,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1690160794,"creation_date":1658490763,"question_id":73079928,"body_markdown":"I want that whenever I write a message that says hello, the bot responses with a message in the console, but it&#39;s just giving me an error:\r\n\r\n```none\r\n[JDA MainWS-ReadThread] WARN JDA - Attempting to access message content without GatewayIntent.MESSAGE_CONTENT.\r\nDiscord now requires to explicitly enable access to this using the MESSAGE_CONTENT intent.\r\nUseful resources to learn more:\r\n\t- https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ\r\n\t- https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\r\n\t- https://jda.wiki/using-jda/troubleshooting/#im-getting-closecode4014-disallowed-intents\r\nOr suppress this warning if this is intentional with Message.suppressContentIntentWarning()\r\n```\r\n\r\nI tried using the links, but it didn&#39;t work.\r\n\r\n\r\n    public class NachrichtenReaktion extends ListenerAdapter {\r\n    \r\n        public void onMessageReceived (MessageReceivedEvent ereignis)\r\n        {\r\n    \r\n            if(ereignis.isFromGuild())\r\n            {\r\n    \r\n                if(ereignis.getMessage().getContentStripped().equals(&quot;hallo&quot;)) {\r\n                    \r\n                    System.out.println(&quot;ufhsdijhsdifhdshfuihduisfh&quot;);\r\n                    \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Attempting to access message content without GatewayIntent","body":"<p>I want that whenever I write a message that says hello, the bot responses with a message in the console, but it's just giving me an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[JDA MainWS-ReadThread] WARN JDA - Attempting to access message content without GatewayIntent.MESSAGE_CONTENT.\nDiscord now requires to explicitly enable access to this using the MESSAGE_CONTENT intent.\nUseful resources to learn more:\n    - https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ\n    - https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\n    - https://jda.wiki/using-jda/troubleshooting/#im-getting-closecode4014-disallowed-intents\nOr suppress this warning if this is intentional with Message.suppressContentIntentWarning()\n</code></pre>\n<p>I tried using the links, but it didn't work.</p>\n<pre><code>public class NachrichtenReaktion extends ListenerAdapter {\n\n    public void onMessageReceived (MessageReceivedEvent ereignis)\n    {\n\n        if(ereignis.isFromGuild())\n        {\n\n            if(ereignis.getMessage().getContentStripped().equals(&quot;hallo&quot;)) {\n                \n                System.out.println(&quot;ufhsdijhsdifhdshfuihduisfh&quot;);\n                \n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1327250,"reputation":420272,"user_id":1271826,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1344824031,"post_id":5787761,"comment_id":15884957,"body_markdown":"With absolutely no offense to any of the respondents, who were just answering the question, but I would **not** advise that programmers adopt this practice of sacrificing legibility just to save a few lines of code. Compilers are good at optimization, so let them do their job, and let&#39;s focus on making the code comprehendible. And if you had a situation where you did this sort of code optimization, it would be incumbent upon the developer to put in some lines of comments in the code to make the intent clear.","body":"With absolutely no offense to any of the respondents, who were just answering the question, but I would <b>not</b> advise that programmers adopt this practice of sacrificing legibility just to save a few lines of code. Compilers are good at optimization, so let them do their job, and let&#39;s focus on making the code comprehendible. And if you had a situation where you did this sort of code optimization, it would be incumbent upon the developer to put in some lines of comments in the code to make the intent clear."}],"answers":[{"tags":[],"owner":{"account_id":369459,"reputation":5002,"user_id":716851,"accept_rate":100,"display_name":"Chris Snowden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303806583,"creation_date":1303806583,"answer_id":5787782,"question_id":5787761,"body_markdown":"height = width = width &lt; height ? width : height;","title":"Assign smaller number to variable in 1 line","body":"<p>height = width = width &lt; height ? width : height;</p>\n"},{"tags":[],"owner":{"account_id":126508,"reputation":14184,"user_id":323051,"accept_rate":70,"display_name":"jcvandan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690160754,"creation_date":1303806589,"answer_id":5787783,"question_id":5787761,"body_markdown":"```java\r\nwidth = height = width &lt; height ? width : height;\r\n```","title":"Assign smaller number to variable in 1 line","body":"<pre class=\"lang-java prettyprint-override\"><code>width = height = width &lt; height ? width : height;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1303806602,"creation_date":1303806602,"answer_id":5787787,"question_id":5787761,"body_markdown":"It is possible:\r\n\r\n\twidth = height = width &lt; height ? width : height;\r\n\r\nHowever it&#39;s generally not the convention in Java to assign multiple variables on one line.\r\n","title":"Assign smaller number to variable in 1 line","body":"<p>It is possible:</p>\n\n<pre><code>width = height = width &lt; height ? width : height;\n</code></pre>\n\n<p>However it's generally not the convention in Java to assign multiple variables on one line.</p>\n"},{"tags":[],"owner":{"account_id":300633,"reputation":15049,"user_id":607874,"accept_rate":100,"display_name":"Jose Rui Santos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303806855,"creation_date":1303806855,"answer_id":5787840,"question_id":5787761,"body_markdown":"    width = height = Math.min(width, height);","title":"Assign smaller number to variable in 1 line","body":"<pre><code>width = height = Math.min(width, height);\n</code></pre>\n"}],"owner":{"account_id":210381,"reputation":1465,"user_id":461971,"accept_rate":82,"display_name":"Justin Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5787787,"answer_count":4,"score":1,"last_activity_date":1690160754,"creation_date":1303806452,"question_id":5787761,"body_markdown":"Is there a one-liner for this function?\r\n\r\n    int side = width &lt; height ? width : height;\r\n    width = side;\r\n    height = side;\r\n\r\n","title":"Assign smaller number to variable in 1 line","body":"<p>Is there a one-liner for this function?</p>\n\n<pre><code>int side = width &lt; height ? width : height;\nwidth = side;\nheight = side;\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":11390996,"reputation":300,"user_id":10334839,"display_name":"HomeworkHopper"},"score":6,"creation_date":1689875015,"post_id":76732188,"comment_id":135278736,"body_markdown":"Exceptions thrown from within a lambda must be handled from within the expression. They cannot &quot;escape&quot; the lambda and be handled in the outer scope. Please see: https://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189","body":"Exceptions thrown from within a lambda must be handled from within the expression. They cannot &quot;escape&quot; the lambda and be handled in the outer scope. Please see: <a href=\"https://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189\" title=\"throwing exception from lambda\">stackoverflow.com/questions/31637892/&hellip;</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1689877865,"post_id":76732188,"comment_id":135279321,"body_markdown":"Most of the functional interfaces provided by JSE don&#39;t support checked exceptions (Callable is one of the few that does). Unchecked exceptions can escape lambdas, but if a method used inside a lambda can throw a checked exception, you need to catch it inside the lambda (and possibly rethrow wrapped in an unchecked exception).","body":"Most of the functional interfaces provided by JSE don&#39;t support checked exceptions (Callable is one of the few that does). Unchecked exceptions can escape lambdas, but if a method used inside a lambda can throw a checked exception, you need to catch it inside the lambda (and possibly rethrow wrapped in an unchecked exception)."},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1689879216,"post_id":76732188,"comment_id":135279579,"body_markdown":"might be helpful\nhttps://www.oreilly.com/content/handling-checked-exceptions-in-java-streams/","body":"might be helpful <a href=\"https://www.oreilly.com/content/handling-checked-exceptions-in-java-streams/\" rel=\"nofollow noreferrer\">oreilly.com/content/handling-checked-exceptions-in-java-stre&zwnj;&#8203;ams</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1689919157,"post_id":76732188,"comment_id":135283841,"body_markdown":"I would say this code should be rewritten so that `Accountant::pay` does not throw. Going over budget is an expected situation (obviously, since you handle it) and you should not use exceptions for flow control to handle expected occurrences.","body":"I would say this code should be rewritten so that <code>Accountant::pay</code> does not throw. Going over budget is an expected situation (obviously, since you handle it) and you should not use exceptions for flow control to handle expected occurrences."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1689929656,"post_id":76732188,"comment_id":135285636,"body_markdown":"Letting the exception handling aside, why do you think this stream version is an improvement over the original `for` loop?","body":"Letting the exception handling aside, why do you think this stream version is an improvement over the original <code>for</code> loop?"},{"owner":{"account_id":1361675,"reputation":1849,"user_id":1298918,"accept_rate":72,"display_name":"antnewbee"},"score":0,"creation_date":1689930765,"post_id":76732188,"comment_id":135285835,"body_markdown":"@Holger because my client think so and wouldn&#39;t approve the PR. Sometimes using stream help in clean code","body":"@Holger because my client think so and wouldn&#39;t approve the PR. Sometimes using stream help in clean code"},{"owner":{"account_id":1361675,"reputation":1849,"user_id":1298918,"accept_rate":72,"display_name":"antnewbee"},"score":0,"creation_date":1689930863,"post_id":76732188,"comment_id":135285853,"body_markdown":"So I fixed the issue by making BudgetOverException extend RunTimeException","body":"So I fixed the issue by making BudgetOverException extend RunTimeException"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1689933158,"post_id":76732188,"comment_id":135286295,"body_markdown":"There is no need to use `stream()` in your code. Just `employees.forEach(...)`.","body":"There is no need to use <code>stream()</code> in your code. Just <code>employees.forEach(...)</code>."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689913501,"creation_date":1689913501,"answer_id":76735117,"question_id":76732188,"body_markdown":"The foreach construct expects a consumer object\r\n&gt; void forEach(Consumer&lt;? super T&gt; action);\r\n\r\nThe abstract method of consumer is\r\n&gt;void accept(T t);\r\n\r\nNote the above abstract method of consumer does not throw any checked exception so you need to handle it for each employee object unlike in above foreach loop.\r\nYou could just handle and rethrow runtime exception.Its not a recommended way but the above code implies you are good to exit as soon as one of the employee&#39;s pay fail so we could go ahead with it.\r\n```\r\n    private void method() {\r\n        try {\r\n        Accountant accountant = getAccountant(employees);\r\n        employees.stream()\r\n                .forEach(emp -&gt; paySalary(accountant, emp, this));\r\n        allSalariesPaid = true;\r\n        }catch(RuntimeException e){\r\n            allSalariesPaid = false;\r\n        }\r\n    }\r\n\r\n    private void paySalary(Accountant accountant, Employee emp, CurrentClass currentClassRef) {\r\n        try {\r\n            accountant.pay(emp, currentClassRef);\r\n        } catch (BudgetIsOverException exception) {\r\n            throw new RuntimeException(exception);\r\n        }\r\n    }\r\n```","title":"Converting a java for loop to stream is asking to handle exception again","body":"<p>The foreach construct expects a consumer object</p>\n<blockquote>\n<p>void forEach(Consumer&lt;? super T&gt; action);</p>\n</blockquote>\n<p>The abstract method of consumer is</p>\n<blockquote>\n<p>void accept(T t);</p>\n</blockquote>\n<p>Note the above abstract method of consumer does not throw any checked exception so you need to handle it for each employee object unlike in above foreach loop.\nYou could just handle and rethrow runtime exception.Its not a recommended way but the above code implies you are good to exit as soon as one of the employee's pay fail so we could go ahead with it.</p>\n<pre><code>    private void method() {\n        try {\n        Accountant accountant = getAccountant(employees);\n        employees.stream()\n                .forEach(emp -&gt; paySalary(accountant, emp, this));\n        allSalariesPaid = true;\n        }catch(RuntimeException e){\n            allSalariesPaid = false;\n        }\n    }\n\n    private void paySalary(Accountant accountant, Employee emp, CurrentClass currentClassRef) {\n        try {\n            accountant.pay(emp, currentClassRef);\n        } catch (BudgetIsOverException exception) {\n            throw new RuntimeException(exception);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690160102,"creation_date":1689917923,"answer_id":76735361,"question_id":76732188,"body_markdown":"The lambda may not throw checked exceptions.\r\n\r\nYou can achieve the same result this way (and in 1 line):\r\n\r\n    boolean allSalariesPaid = employees.stream()\r\n        .allMatch(e -&gt; {\r\n            try {\r\n                accountant.pay(e, this);\r\n                return true;\r\n            } catch (BudgetIsOverException ex) {  // must catch checked exceptions\r\n                return false;\r\n            }\r\n        });\r\n","title":"Converting a java for loop to stream is asking to handle exception again","body":"<p>The lambda may not throw checked exceptions.</p>\n<p>You can achieve the same result this way (and in 1 line):</p>\n<pre><code>boolean allSalariesPaid = employees.stream()\n    .allMatch(e -&gt; {\n        try {\n            accountant.pay(e, this);\n            return true;\n        } catch (BudgetIsOverException ex) {  // must catch checked exceptions\n            return false;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":1361675,"reputation":1849,"user_id":1298918,"accept_rate":72,"display_name":"antnewbee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76735117,"answer_count":2,"score":0,"last_activity_date":1690160102,"creation_date":1689872757,"question_id":76732188,"body_markdown":"I have a `for` loop as below which is working fine.\r\n```java\r\ntry {\r\n    Accountant accountant = getAccountant(employees);\r\n    for (Employee person : employees) {\r\n        accountant.pay(person, this); // throws BudgetIsOverException\r\n    }\r\n    allSalariesPaid = true;\r\n}\r\ncatch (BudgetIsOverException e){\r\n    allSalariesPaid = false;\r\n}\r\n```\r\nBut when I use a stream API instead, it asks me to handle the `BudgetIsOverException` and shows an error at `accountant.pay` even though it is properly caught after the `try` statement. Below the code:\r\n```java\r\ntry {\r\n    Accountant accountant = getAccountant(employees);\r\n    employees.stream()\r\n             .forEach(e-&gt;accountant.pay(e,this)); // throws BudgetIsOverException\r\n    allSalariesPaid = true;\r\n}\r\ncatch (BudgetIsOverException e) {\r\n    allSalariesPaid = false;\r\n}\r\n```\r\nMy question is why is stream API expecting an exception to be caught inside the `foreach` block?","title":"Converting a java for loop to stream is asking to handle exception again","body":"<p>I have a <code>for</code> loop as below which is working fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Accountant accountant = getAccountant(employees);\n    for (Employee person : employees) {\n        accountant.pay(person, this); // throws BudgetIsOverException\n    }\n    allSalariesPaid = true;\n}\ncatch (BudgetIsOverException e){\n    allSalariesPaid = false;\n}\n</code></pre>\n<p>But when I use a stream API instead, it asks me to handle the <code>BudgetIsOverException</code> and shows an error at <code>accountant.pay</code> even though it is properly caught after the <code>try</code> statement. Below the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Accountant accountant = getAccountant(employees);\n    employees.stream()\n             .forEach(e-&gt;accountant.pay(e,this)); // throws BudgetIsOverException\n    allSalariesPaid = true;\n}\ncatch (BudgetIsOverException e) {\n    allSalariesPaid = false;\n}\n</code></pre>\n<p>My question is why is stream API expecting an exception to be caught inside the <code>foreach</code> block?</p>\n"},{"tags":["java","sql","spring","hibernate","validation"],"answers":[{"tags":[],"owner":{"account_id":9146887,"reputation":151,"user_id":6802723,"display_name":"EdmarSM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690160052,"creation_date":1690159837,"answer_id":76750848,"question_id":76723840,"body_markdown":"I think the better way to solve this is to separate password validation logic from the entity itself. You can have a DTO (Data Transfer Object) in your controller responsible for validating the rules of password requirements and after implementing password salt you can convert it to the entity before passing it to the service responsible for creating the object in the database.\r\n\r\nThe DTO must be like this:\r\n```java\r\npublic class UserDTO {\r\n    private long id;\r\n\r\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\r\n    private String email;\r\n    \r\n    @Pattern(regexp = &quot;(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{6,}&quot;,\r\n           message = &quot;Must be minimum 6 characters, at least one letter and one number&quot;)\r\n    private String password;\r\n}\r\n```\r\n\r\nYour entity will remove at least the validation for the password rule:\r\n```java\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\r\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\r\n    private String email;\r\n    \r\n    @NotNull\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n}\r\n```\r\n\r\nOf course, you can also add `@Valid` to the service&#39;s created method to validate another expression before sending it to database validation.\r\n\r\nYour controller method should look like this:\r\n```java\r\npublic String create(@Valid @ModelAttribute(&quot;user&quot;) UserDTO user, BindingResult result) throws EntityNotFoundException {\r\n    User userEntity = new User();\r\n    userEntity.setId(user.getId());\r\n    userEntity.getEmail(user.getEmail());\r\n    userEntity.setPassword(new BCryptPasswordEncoder().encode(user.getPassword())); // &lt;-- hashing\r\n    userService.create(userEntity);\r\n    return &quot;redirect:/profile&quot;;\r\n}\r\n```\r\n\r\nYou can also use some libraries like [MapStruct](https://mapstruct.org/) to reduce the boilerplate of mapping those values between similar objects like that.","title":"How can I save into DB hashed password if I use hibernate&#39;s annotation @Pattern?","body":"<p>I think the better way to solve this is to separate password validation logic from the entity itself. You can have a DTO (Data Transfer Object) in your controller responsible for validating the rules of password requirements and after implementing password salt you can convert it to the entity before passing it to the service responsible for creating the object in the database.</p>\n<p>The DTO must be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserDTO {\n    private long id;\n\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\n    private String email;\n    \n    @Pattern(regexp = &quot;(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{6,}&quot;,\n           message = &quot;Must be minimum 6 characters, at least one letter and one number&quot;)\n    private String password;\n}\n</code></pre>\n<p>Your entity will remove at least the validation for the password rule:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\n    private String email;\n    \n    @NotNull\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n}\n</code></pre>\n<p>Of course, you can also add <code>@Valid</code> to the service's created method to validate another expression before sending it to database validation.</p>\n<p>Your controller method should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String create(@Valid @ModelAttribute(&quot;user&quot;) UserDTO user, BindingResult result) throws EntityNotFoundException {\n    User userEntity = new User();\n    userEntity.setId(user.getId());\n    userEntity.getEmail(user.getEmail());\n    userEntity.setPassword(new BCryptPasswordEncoder().encode(user.getPassword())); // &lt;-- hashing\n    userService.create(userEntity);\n    return &quot;redirect:/profile&quot;;\n}\n</code></pre>\n<p>You can also use some libraries like <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a> to reduce the boilerplate of mapping those values between similar objects like that.</p>\n"}],"owner":{"account_id":28879862,"reputation":39,"user_id":22119553,"display_name":"jackeylove271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76750848,"answer_count":1,"score":1,"last_activity_date":1690160052,"creation_date":1689787635,"question_id":76723840,"body_markdown":"I have the User entity:\r\n\r\n```@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\r\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\r\n    private String email;\r\n    \r\n    @Pattern(regexp = &quot;(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{6,}&quot;,\r\n           message = &quot;Must be minimum 6 characters, at least one letter and one number&quot;)\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n}\r\n```\r\n\r\nOn the web app, the user can register so I receive in the Controller username and password using `@Validated`:\r\n\r\n```\r\npublic String create(@Validated @ModelAttribute(&quot;user&quot;) User user, BindingResult result) throws EntityNotFoundException {\r\n\tuser.setPassword(new BCryptPasswordEncoder().encode(user.getPassword())); // &lt;-- hashing\r\n\tuserService.create(user);\r\n\treturn &quot;redirect:/profile&quot;;\r\n}\r\n```\r\n\r\nAs I understand, Spring goes here to the User entity and checks that `@Pattern` annotation. Then, if the password matches the pattern I need to hash it. But after hashing I tried to save the User in DB with the method like this:\r\n\r\n```\r\n   @Override\r\n   public User create(User user) {\r\n   return userRepository.save(user); // JPA repo\r\n}\r\n```\r\n\r\nbut Spring again goes to the User entity to check `@Pattern` annotation and it doesn&#39;t match. So it doesn&#39;t create a new user in DB. How can I fix this? Any classic solutions? Will be thankful for any advice. I want to save in the DB user with a hashed password without deleting `@Pattern` in the Entity.","title":"How can I save into DB hashed password if I use hibernate&#39;s annotation @Pattern?","body":"<p>I have the User entity:</p>\n<pre><code>public class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\n    private String email;\n    \n    @Pattern(regexp = &quot;(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{6,}&quot;,\n           message = &quot;Must be minimum 6 characters, at least one letter and one number&quot;)\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n}\n</code></pre>\n<p>On the web app, the user can register so I receive in the Controller username and password using <code>@Validated</code>:</p>\n<pre><code>public String create(@Validated @ModelAttribute(&quot;user&quot;) User user, BindingResult result) throws EntityNotFoundException {\n    user.setPassword(new BCryptPasswordEncoder().encode(user.getPassword())); // &lt;-- hashing\n    userService.create(user);\n    return &quot;redirect:/profile&quot;;\n}\n</code></pre>\n<p>As I understand, Spring goes here to the User entity and checks that <code>@Pattern</code> annotation. Then, if the password matches the pattern I need to hash it. But after hashing I tried to save the User in DB with the method like this:</p>\n<pre><code>   @Override\n   public User create(User user) {\n   return userRepository.save(user); // JPA repo\n}\n</code></pre>\n<p>but Spring again goes to the User entity to check <code>@Pattern</code> annotation and it doesn't match. So it doesn't create a new user in DB. How can I fix this? Any classic solutions? Will be thankful for any advice. I want to save in the DB user with a hashed password without deleting <code>@Pattern</code> in the Entity.</p>\n"},{"tags":["java","json","list","jackson"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1690126478,"post_id":76749045,"comment_id":135306731,"body_markdown":"Your json is not valid!","body":"Your json is not valid!"},{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":1,"creation_date":1690126571,"post_id":76749045,"comment_id":135306741,"body_markdown":"Specifically, your test string is missing `{` and `}`.  The rest of it looks good to my human eyes","body":"Specifically, your test string is missing <code>{</code> and <code>}</code>.  The rest of it looks good to my human eyes"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1690131245,"post_id":76749045,"comment_id":135307371,"body_markdown":"And so, protip: don&#39;t put your string inside a string. Put it in a file, give that file a `.json` extension, and then load that file instead. Now you get the benefit of your IDE being able to properly flag errors in your JSON file. Also: if you&#39;re going to edit the code in your post, _run that updated code first_ to see if your problem even still exists with those edits.","body":"And so, protip: don&#39;t put your string inside a string. Put it in a file, give that file a <code>.json</code> extension, and then load that file instead. Now you get the benefit of your IDE being able to properly flag errors in your JSON file. Also: if you&#39;re going to edit the code in your post, <i>run that updated code first</i> to see if your problem even still exists with those edits."},{"owner":{"account_id":1860350,"reputation":540,"user_id":1685034,"accept_rate":47,"display_name":"Mallik Kumar"},"score":0,"creation_date":1690131950,"post_id":76749045,"comment_id":135307440,"body_markdown":"I have updated the code with changes for my side. I have added constructors after running my code again and then updated the errors I have received.","body":"I have updated the code with changes for my side. I have added constructors after running my code again and then updated the errors I have received."}],"answers":[{"tags":[],"owner":{"account_id":5776025,"reputation":90,"user_id":4558050,"display_name":"Marius"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690135467,"creation_date":1690131773,"answer_id":76749424,"question_id":76749045,"body_markdown":"In your JSON, the &quot;condition&quot; object starts with a &quot;[&quot;, setting its type to an array. This isn&#39;t how your condition object class look like.\r\n\r\nIt should be more like:\r\n\r\n    [\r\n        {\r\n            &quot;type&quot; : &quot;NONE&quot;,\r\n            &quot;subConditions&quot; : []\r\n        }\r\n    ]","title":"Unable to convert JSON Array into a List in Java","body":"<p>In your JSON, the &quot;condition&quot; object starts with a &quot;[&quot;, setting its type to an array. This isn't how your condition object class look like.</p>\n<p>It should be more like:</p>\n<pre><code>[\n    {\n        &quot;type&quot; : &quot;NONE&quot;,\n        &quot;subConditions&quot; : []\n    }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690157672,"creation_date":1690157672,"answer_id":76750781,"question_id":76749045,"body_markdown":"If you have no objection to switching to _[Gson](https://en.wikipedia.org/wiki/Gson)_, here is a basic parse.\r\n\r\n```java\r\nString test = Files.readString(Path.of(&quot;test.json&quot;));\r\nGson gson = new Gson();\r\nJsonElement element = gson.fromJson(test, JsonObject.class).get(&quot;condition&quot;);\r\nList&lt;Condition&gt; conditions = Arrays.asList(gson.fromJson(element, Condition[].class));\r\n```\r\n\r\n```java\r\nclass Condition {\r\n    Type type;\r\n    List&lt;Condition&gt; subConditions;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;(%s, %s)&quot;.formatted(type, subConditions);\r\n    }\r\n}\r\n\r\nenum Type {\r\n    NONE, AND, OR\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n(NONE, [(NONE, []), (AND, [(NONE, [])])])\r\n(OR, [])\r\n```","title":"Unable to convert JSON Array into a List in Java","body":"<p>If you have no objection to switching to <em><a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a></em>, here is a basic parse.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String test = Files.readString(Path.of(&quot;test.json&quot;));\nGson gson = new Gson();\nJsonElement element = gson.fromJson(test, JsonObject.class).get(&quot;condition&quot;);\nList&lt;Condition&gt; conditions = Arrays.asList(gson.fromJson(element, Condition[].class));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Condition {\n    Type type;\n    List&lt;Condition&gt; subConditions;\n\n    @Override\n    public String toString() {\n        return &quot;(%s, %s)&quot;.formatted(type, subConditions);\n    }\n}\n\nenum Type {\n    NONE, AND, OR\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>(NONE, [(NONE, []), (AND, [(NONE, [])])])\n(OR, [])\n</code></pre>\n"}],"owner":{"account_id":1860350,"reputation":540,"user_id":1685034,"accept_rate":47,"display_name":"Mallik Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690157672,"creation_date":1690126177,"question_id":76749045,"body_markdown":"I have an issue in converting JSONArray into a List using Jackson Object Mapper.\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString test = Files.readString(Path.of(&quot;test.json&quot;));\r\n\t\tcallRequired(test);\r\n\t}\r\n\r\n\tpublic static void callRequired(String test) {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\ttry {\r\n\t\t\tList&lt;Condition&gt; result = mapper.readerForListOf(Condition.class).readValue(test.trim());\r\n\t\t\tSystem.out.println(result);\r\n\t\t} catch (JsonMappingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nThe test.json is:\r\n\r\n    {\r\n\t\t&quot;condition&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;type&quot;: &quot;NONE&quot;,\r\n\t\t\t\t&quot;subConditons&quot;: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;NONE&quot;,\r\n\t\t\t\t\t\t&quot;subConditions&quot;: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;AND&quot;,\r\n\t\t\t\t\t\t&quot;subConditions&quot;: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t&quot;type&quot;: &quot;NONE&quot;,\r\n\t\t\t\t\t\t\t\t&quot;subConditions&quot;: []\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;type&quot;: &quot;OR&quot;,\r\n\t\t\t\t&quot;subConditions&quot;: []\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\nThe Condition class is as follows:\r\n\r\n    public class Condition {\r\n    Type type = Type.NONE;\r\n    List&lt;Condition&gt; subConditions;\r\n    \r\n    public Condition() {\r\n    \t\r\n    }\r\n    \r\n    public Condition(Type type, List&lt;Condition&gt; subConditions) {\r\n    \tthis.type = type;\r\n    \tthis.subConditions = subConditions;\r\n    }\r\n\r\n    public List&lt;Condition&gt; getSubConditions() {\r\n        return subConditions;\r\n    }\r\n\r\n    public void setSubConditions(List&lt;Condition&gt; subConditions) {\r\n        this.subConditions = subConditions;\r\n    }\r\n\r\n    public Type getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(Type type) {\r\n        this.type = type;\r\n    }\r\n    \r\n    public enum Type {\r\n        NONE,\r\n        AND,\r\n        OR;\r\n    }\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Condition [type=&quot; + type + &quot;, subConditions=&quot; + subConditions + &quot;]&quot;;\r\n\t    }\r\n    }\r\n**Edit**: The Condition array contains a list of conditions within which lies a subCondition which is also a type of Condition.\r\n\r\n**EDIT:** Thanks, I have added the requisite braces and checked for its validity. I have also added an all args construcutor and a no args constructor as well.\r\n\r\n**How do I change the JSON so that I receive a List of conditions with the proper subconditions nested with Jackson.**","title":"Unable to convert JSON Array into a List in Java","body":"<p>I have an issue in converting JSONArray into a List using Jackson Object Mapper.</p>\n<pre><code>public class Main {\n\npublic static void main(String[] args) throws Exception {\n    String test = Files.readString(Path.of(&quot;test.json&quot;));\n    callRequired(test);\n}\n\npublic static void callRequired(String test) {\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        List&lt;Condition&gt; result = mapper.readerForListOf(Condition.class).readValue(test.trim());\n        System.out.println(result);\n    } catch (JsonMappingException e) {\n        e.printStackTrace();\n    } catch (JsonProcessingException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The test.json is:</p>\n<pre><code>{\n    &quot;condition&quot;: [\n        {\n            &quot;type&quot;: &quot;NONE&quot;,\n            &quot;subConditons&quot;: [\n                {\n                    &quot;type&quot;: &quot;NONE&quot;,\n                    &quot;subConditions&quot;: []\n                },\n                {\n                    &quot;type&quot;: &quot;AND&quot;,\n                    &quot;subConditions&quot;: [\n                        {\n                            &quot;type&quot;: &quot;NONE&quot;,\n                            &quot;subConditions&quot;: []\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            &quot;type&quot;: &quot;OR&quot;,\n            &quot;subConditions&quot;: []\n        }\n    ]\n}\n</code></pre>\n<p>The Condition class is as follows:</p>\n<pre><code>public class Condition {\nType type = Type.NONE;\nList&lt;Condition&gt; subConditions;\n\npublic Condition() {\n    \n}\n\npublic Condition(Type type, List&lt;Condition&gt; subConditions) {\n    this.type = type;\n    this.subConditions = subConditions;\n}\n\npublic List&lt;Condition&gt; getSubConditions() {\n    return subConditions;\n}\n\npublic void setSubConditions(List&lt;Condition&gt; subConditions) {\n    this.subConditions = subConditions;\n}\n\npublic Type getType() {\n    return type;\n}\n\npublic void setType(Type type) {\n    this.type = type;\n}\n\npublic enum Type {\n    NONE,\n    AND,\n    OR;\n}\n\n@Override\npublic String toString() {\n    return &quot;Condition [type=&quot; + type + &quot;, subConditions=&quot; + subConditions + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p><strong>Edit</strong>: The Condition array contains a list of conditions within which lies a subCondition which is also a type of Condition.</p>\n<p><strong>EDIT:</strong> Thanks, I have added the requisite braces and checked for its validity. I have also added an all args construcutor and a no args constructor as well.</p>\n<p><strong>How do I change the JSON so that I receive a List of conditions with the proper subconditions nested with Jackson.</strong></p>\n"},{"tags":["java","spring","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":8263976,"reputation":1032,"user_id":6214284,"accept_rate":50,"display_name":"sawim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690156707,"creation_date":1608583957,"answer_id":65399816,"question_id":65341166,"body_markdown":"From Javadoc, method [uri(URI uri)][1] \r\n\r\n&gt; Specify the `URI` using an absolute, fully constructed `URI`\r\n\r\nso this version of method does not use base url from configuration.\r\n\r\nInstead, you should have specified URI using UriBuilder, which is injected into method [uri(Function&lt;UriBuilder,URI&gt; uriFunction)][2].\r\n\r\n    String user = webClient.get()\r\n                           .uri(uriBuilder -&gt; uriBuilder.path(&quot;/api/v1/user/1&quot;).build())\r\n                           ...\r\n\r\n\r\n  [1]:\r\n https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.util.function.Function-\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.util.function.Function-","title":"How to set Base URI to Spring WebClient","body":"<p>From Javadoc, method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.util.function.Function-\" rel=\"nofollow noreferrer\">uri(URI uri)</a></p>\n<blockquote>\n<p>Specify the <code>URI</code> using an absolute, fully constructed <code>URI</code></p>\n</blockquote>\n<p>so this version of method does not use base url from configuration.</p>\n<p>Instead, you should have specified URI using UriBuilder, which is injected into method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.util.function.Function-\" rel=\"nofollow noreferrer\">uri(Function&lt;UriBuilder,URI&gt; uriFunction)</a>.</p>\n<pre><code>String user = webClient.get()\n                       .uri(uriBuilder -&gt; uriBuilder.path(&quot;/api/v1/user/1&quot;).build())\n                       ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643974525,"creation_date":1643974525,"answer_id":70985707,"question_id":65341166,"body_markdown":"There are two methods in `WebClient.UriSpec` that could help.\r\n\r\n\tinterface UriSpec&lt;S extends RequestHeadersSpec&lt;?&gt;&gt; {\r\n\r\n\t\tS uri(String uri, Object... uriVariables);\r\n\r\n\t\tS uri(String uri, Map&lt;String, ?&gt; uriVariables);\r\n\r\n        ...\r\n\t}\r\n\r\nIn the simplest case just pass `String` instead of `URI` as the argument.\r\n\r\n    String user = webClient\r\n                    .get()\r\n                    .uri(&quot;/api/v1/user/1&quot;)        // &lt;- just String\r\n                    .retrieve()\r\n                    .bodyToMono(String.class)\r\n                    .block();","title":"How to set Base URI to Spring WebClient","body":"<p>There are two methods in <code>WebClient.UriSpec</code> that could help.</p>\n<pre><code>interface UriSpec&lt;S extends RequestHeadersSpec&lt;?&gt;&gt; {\n\n    S uri(String uri, Object... uriVariables);\n\n    S uri(String uri, Map&lt;String, ?&gt; uriVariables);\n\n    ...\n}\n</code></pre>\n<p>In the simplest case just pass <code>String</code> instead of <code>URI</code> as the argument.</p>\n<pre><code>String user = webClient\n                .get()\n                .uri(&quot;/api/v1/user/1&quot;)        // &lt;- just String\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13454962,"reputation":31,"user_id":9708758,"display_name":"M Sn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663716641,"creation_date":1663716641,"answer_id":73793585,"question_id":65341166,"body_markdown":"You&#39;re using TcpClient, in my version I used HttpClient and had to specify the baseUrl parameter on that as well.\r\ni.e.\r\n\r\n    HttpClient httpClient = HttpClient\r\n                            .create()\r\n                            .baseUrl(getRootUrl())\r\n                            .responseTimeout(Duration.ofMillis(&lt;timeout in millis&gt;));\r\n\r\n    return WebClient\r\n                            .builder()\r\n                            .baseUrl(getRootUrl())\r\n                            .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                            .defaultHeaders(headers -&gt; {\r\n                                if (!headers.containsKey(HttpHeaders.CONTENT_TYPE)) {\r\n                                    headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM.toString());\r\n                                }\r\n\r\n                                headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + accessKey);\r\n                            })\r\n                            .build();\r\n\r\n\r\nHope that helps.","title":"How to set Base URI to Spring WebClient","body":"<p>You're using TcpClient, in my version I used HttpClient and had to specify the baseUrl parameter on that as well.\ni.e.</p>\n<pre><code>HttpClient httpClient = HttpClient\n                        .create()\n                        .baseUrl(getRootUrl())\n                        .responseTimeout(Duration.ofMillis(&lt;timeout in millis&gt;));\n\nreturn WebClient\n                        .builder()\n                        .baseUrl(getRootUrl())\n                        .clientConnector(new ReactorClientHttpConnector(httpClient))\n                        .defaultHeaders(headers -&gt; {\n                            if (!headers.containsKey(HttpHeaders.CONTENT_TYPE)) {\n                                headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM.toString());\n                            }\n\n                            headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + accessKey);\n                        })\n                        .build();\n</code></pre>\n<p>Hope that helps.</p>\n"}],"owner":{"account_id":1697177,"reputation":1903,"user_id":1558312,"accept_rate":46,"display_name":"keepmoving"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5247,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1690156707,"creation_date":1608209738,"question_id":65341166,"body_markdown":"I am trying to create a Spring `WebClient` to call REST API. For that, I wrote the following piece of code. \r\n\r\n```lang-java\r\n@Bean\r\npublic WebClient defaultWebClient() {\r\n\r\n    var tcpClient = TcpClient.create()\r\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 3_000)\r\n            .doOnConnected(connection -&gt;\r\n                    connection.addHandlerLast(new ReadTimeoutHandler(3))\r\n                            .addHandlerLast(new WriteTimeoutHandler(3)));\r\n\r\n    return WebClient.builder()\r\n            .baseUrl(&quot;https://test.com&quot;)\r\n            .clientConnector(new ReactorClientHttpConnector(HttpClient.from(tcpClient)))\r\n            .defaultHeader(HttpHeaders.ACCEPT, &quot;application/vnd.api+json&quot;)\r\n            .build();\r\n}\r\n```\r\n\r\nthen the actual URI with the following code.\r\n\r\n```lang-java\r\nString user = webClient.get()\r\n                       .uri(URI.create(&quot;/api/v1/user/1&quot;))\r\n                       .header(&quot;Authorization&quot;, TOKEN)\r\n                       .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\r\n                       .retrieve()\r\n                       .bodyToMono(String.class)\r\n                       .block();\r\n```\r\n\r\nbut when the above code executed then it throws the following exception. \r\n\r\n    {&quot;timestamp&quot;:&quot;1608209276546&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;tenantId&quot;:null},&quot;logger&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,&quot;message&quot;:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: no further information: /127.0.0.1:12012; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:12012] with root cause&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;java.net.ConnectException: Connection refused: no further information\\r\\n\\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\\r\\n\\tat\r\n\r\nas raw too:\r\n\r\n&gt;{&quot;timestamp&quot;:&quot;1608209276546&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;tenantId&quot;:null},&quot;logger&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,&quot;message&quot;:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: no further information: /127.0.0.1:12012; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:12012] with root cause&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;java.net.ConnectException: Connection refused: no further information\\r\\n\\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\\r\\n\\tat \r\n\r\nI am not sure where I need to change here so that it starts pointing to base URI instead of localhost (127.0.0.1:12012).\r\nAnother thing is if I pass the fully qualified name (https://test.com/api/v1/user/1) on API call then it works fine.\r\n","title":"How to set Base URI to Spring WebClient","body":"<p>I am trying to create a Spring <code>WebClient</code> to call REST API. For that, I wrote the following piece of code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic WebClient defaultWebClient() {\n\n    var tcpClient = TcpClient.create()\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 3_000)\n            .doOnConnected(connection -&gt;\n                    connection.addHandlerLast(new ReadTimeoutHandler(3))\n                            .addHandlerLast(new WriteTimeoutHandler(3)));\n\n    return WebClient.builder()\n            .baseUrl(&quot;https://test.com&quot;)\n            .clientConnector(new ReactorClientHttpConnector(HttpClient.from(tcpClient)))\n            .defaultHeader(HttpHeaders.ACCEPT, &quot;application/vnd.api+json&quot;)\n            .build();\n}\n</code></pre>\n<p>then the actual URI with the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String user = webClient.get()\n                       .uri(URI.create(&quot;/api/v1/user/1&quot;))\n                       .header(&quot;Authorization&quot;, TOKEN)\n                       .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\n                       .retrieve()\n                       .bodyToMono(String.class)\n                       .block();\n</code></pre>\n<p>but when the above code executed then it throws the following exception.</p>\n<pre><code>{&quot;timestamp&quot;:&quot;1608209276546&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;tenantId&quot;:null},&quot;logger&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,&quot;message&quot;:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: no further information: /127.0.0.1:12012; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:12012] with root cause&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;java.net.ConnectException: Connection refused: no further information\\r\\n\\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\\r\\n\\tat\n</code></pre>\n<p>as raw too:</p>\n<blockquote>\n<p>{&quot;timestamp&quot;:&quot;1608209276546&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;tenantId&quot;:null},&quot;logger&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,&quot;message&quot;:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: no further information: /127.0.0.1:12012; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:12012] with root cause&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;java.net.ConnectException: Connection refused: no further information\\r\\n\\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\\r\\n\\tat</p>\n</blockquote>\n<p>I am not sure where I need to change here so that it starts pointing to base URI instead of localhost (127.0.0.1:12012).\nAnother thing is if I pass the fully qualified name (<a href=\"https://test.com/api/v1/user/1\" rel=\"nofollow noreferrer\">https://test.com/api/v1/user/1</a>) on API call then it works fine.</p>\n"},{"tags":["java","android","broadcastreceiver","sms"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1690157026,"post_id":76750720,"comment_id":135309870,"body_markdown":"Not unless you&#39;re the default SMS app.  Possibly not even then-  it would work for texts via the texting app, but might not work via programatically sending a text.","body":"Not unless you&#39;re the default SMS app.  Possibly not even then-  it would work for texts via the texting app, but might not work via programatically sending a text."}],"owner":{"account_id":29076731,"reputation":1,"user_id":22273694,"display_name":"crumbelivable"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690156250,"creation_date":1690156250,"question_id":76750720,"body_markdown":"I am a college student working on their capstone project and was wondering whether it was possible in recent versions of Android, specifically Android 13, to intercept and potentially block an SMS message before it is sent. If so, how would one implement something such as a BroadcastReceiver in order to detect such a thing and keep it from being sent? All the research I&#39;ve done so far leads me to the conclusion that it is not possible to detect an SMS message being sent on android, as no broadcast is made of such a thing happening, but all the sources I get on that claim are old StackOverflow messages from a decade ago or more. Can anyone confirm whether or not I am correct in my assumption, and if not, how would I go about implementing such a functionality?\r\n\r\n\r\nI have attempted to create a BroadcastReceiver method for detecting when a text message for a certain blocked number is sent, and everything appeared to be in order. However, nothing seemed to occur, even though the method was run through, and I could still send messages to the allegedly blocked number. I am not sure if it&#39;s even something that can be done on Android anymore, if it ever was, based on the aforementioned decade-old StackOverflow threads and the recent changes to the API. ","title":"Is it possible to detect and intercept an outgoing SMS message using a BroadcastReceiver in Android 13?","body":"<p>I am a college student working on their capstone project and was wondering whether it was possible in recent versions of Android, specifically Android 13, to intercept and potentially block an SMS message before it is sent. If so, how would one implement something such as a BroadcastReceiver in order to detect such a thing and keep it from being sent? All the research I've done so far leads me to the conclusion that it is not possible to detect an SMS message being sent on android, as no broadcast is made of such a thing happening, but all the sources I get on that claim are old StackOverflow messages from a decade ago or more. Can anyone confirm whether or not I am correct in my assumption, and if not, how would I go about implementing such a functionality?</p>\n<p>I have attempted to create a BroadcastReceiver method for detecting when a text message for a certain blocked number is sent, and everything appeared to be in order. However, nothing seemed to occur, even though the method was run through, and I could still send messages to the allegedly blocked number. I am not sure if it's even something that can be done on Android anymore, if it ever was, based on the aforementioned decade-old StackOverflow threads and the recent changes to the API.</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":1,"creation_date":1582035007,"post_id":54733280,"comment_id":106631881,"body_markdown":"I think this is a bug. It happens to `URI` and `String`","body":"I think this is a bug. It happens to <code>URI</code> and <code>String</code>"}],"answers":[{"tags":[],"owner":{"account_id":66241,"reputation":467,"user_id":1286611,"display_name":"Konstantin Pozhidaev"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1690155874,"creation_date":1550408191,"answer_id":54733477,"question_id":54733280,"body_markdown":"If you pass new `URI` object, you override base `URI`.\r\nYou should use `uri` method with lambda as a parameter, like in example:\r\n```java\r\nfinal WebClient webClient = WebClient.builder()\r\n                                     .baseUrl(&quot;http://localhost&quot;)\r\n                                     .build();\r\n\r\nwebClient.get()\r\n         .uri(uriBuilder -&gt; uriBuilder.pathSegment(&quot;api&quot;, &quot;v2&quot;, &quot;json&quot;, &quot;test&quot;).build())\r\n         .exchange();\r\n```","title":"How to keep baseUrl when using uri() in spring webflux","body":"<p>If you pass new <code>URI</code> object, you override base <code>URI</code>.\nYou should use <code>uri</code> method with lambda as a parameter, like in example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final WebClient webClient = WebClient.builder()\n                                     .baseUrl(&quot;http://localhost&quot;)\n                                     .build();\n\nwebClient.get()\n         .uri(uriBuilder -&gt; uriBuilder.pathSegment(&quot;api&quot;, &quot;v2&quot;, &quot;json&quot;, &quot;test&quot;).build())\n         .exchange();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1537637,"reputation":933,"user_id":1433172,"accept_rate":0,"display_name":"Prosunjit Biswas"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1690155987,"creation_date":1599597732,"answer_id":63801282,"question_id":54733280,"body_markdown":"A slightly different way - use **path** instead of **pathSegment** on existing uri object. It helps to maintain the path conveniently in configuration/constant form.\r\n\r\n    final WebClient webClient = WebClient.builder()\r\n                                         .baseUrl(&quot;http://localhost&quot;)\r\n                                         .build();\r\n\r\n    webClient.get()\r\n             .uri(uriBuilder -&gt; uriBuilder.path(&quot;api/v2/json/test&quot;).build())\r\n             .exchange();\r\n","title":"How to keep baseUrl when using uri() in spring webflux","body":"<p>A slightly different way - use <strong>path</strong> instead of <strong>pathSegment</strong> on existing uri object. It helps to maintain the path conveniently in configuration/constant form.</p>\n<pre><code>final WebClient webClient = WebClient.builder()\n                                     .baseUrl(&quot;http://localhost&quot;)\n                                     .build();\n\nwebClient.get()\n         .uri(uriBuilder -&gt; uriBuilder.path(&quot;api/v2/json/test&quot;).build())\n         .exchange();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8466597,"reputation":511,"user_id":6350583,"accept_rate":100,"display_name":"4javier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637018408,"creation_date":1637018408,"answer_id":69982059,"question_id":54733280,"body_markdown":"Once you setup a `UriBuilderFactory` like you do by `baseUrl(String uri)` call, the simplest way to add the needed branch is to use \r\n[uri(String uri,Object... uriVariables)][1] signature, without specifying the second parameter given that&#39;s declared as varargs then can be 0 length.\r\n\r\nIn your case it simply reduces to:\r\n```java\r\npublic WebClient webClient() {\r\n  return WebClient.builder()\r\n    .baseUrl(&quot;https://example.com&quot;)\r\n    .build();\r\n}\r\n\r\nwebClient.get().uri(&quot;/foo/bar&quot;)\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.lang.String-java.util.function.Function-","title":"How to keep baseUrl when using uri() in spring webflux","body":"<p>Once you setup a <code>UriBuilderFactory</code> like you do by <code>baseUrl(String uri)</code> call, the simplest way to add the needed branch is to use\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.lang.String-java.util.function.Function-\" rel=\"nofollow noreferrer\">uri(String uri,Object... uriVariables)</a> signature, without specifying the second parameter given that's declared as varargs then can be 0 length.</p>\n<p>In your case it simply reduces to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public WebClient webClient() {\n  return WebClient.builder()\n    .baseUrl(&quot;https://example.com&quot;)\n    .build();\n}\n\nwebClient.get().uri(&quot;/foo/bar&quot;)\n</code></pre>\n"}],"owner":{"account_id":4963389,"reputation":72151,"user_id":3993662,"accept_rate":93,"display_name":"baao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18176,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":54733477,"answer_count":3,"score":20,"last_activity_date":1690155987,"creation_date":1550406778,"question_id":54733280,"body_markdown":"Using `Spring Boot` 2.1.3.RELEASE: `WebClient` will stop using the provided `baseUrl` when passing an `URI` to `uri()` method. It will keep `baseUrl` when a string is passed to `uri()` though.\r\n\r\nHow can I provide a `baseUrl` and pass an `URI`?\r\n\r\n    public WebClient webClient() {\r\n      return WebClient.builder()\r\n        .baseUrl(&quot;https://example.com/&quot;)\r\n        .build();\r\n    }\r\n\r\nand\r\n\r\n    webClient.get().uri(URI.create(&quot;/foo/%23bar&quot;))... \r\n\r\nthrows \r\n\r\n    java.lang.IllegalArgumentException: URI is not absolute:\r\n\r\nand the request url becomes \r\n\r\n    request url: /foo/%23bar","title":"How to keep baseUrl when using uri() in spring webflux","body":"<p>Using <code>Spring Boot</code> 2.1.3.RELEASE: <code>WebClient</code> will stop using the provided <code>baseUrl</code> when passing an <code>URI</code> to <code>uri()</code> method. It will keep <code>baseUrl</code> when a string is passed to <code>uri()</code> though.</p>\n<p>How can I provide a <code>baseUrl</code> and pass an <code>URI</code>?</p>\n<pre><code>public WebClient webClient() {\n  return WebClient.builder()\n    .baseUrl(&quot;https://example.com/&quot;)\n    .build();\n}\n</code></pre>\n<p>and</p>\n<pre><code>webClient.get().uri(URI.create(&quot;/foo/%23bar&quot;))... \n</code></pre>\n<p>throws</p>\n<pre><code>java.lang.IllegalArgumentException: URI is not absolute:\n</code></pre>\n<p>and the request url becomes</p>\n<pre><code>request url: /foo/%23bar\n</code></pre>\n"},{"tags":["java","swing","mouseevent"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1690154683,"post_id":76750661,"comment_id":135309744,"body_markdown":"I&#39;m not sure I&#39;d use seperate panels for this, but, I wouldn&#39;t be adding a `MouseListener` to each one individually, instead, I&#39;d have a &quot;common&quot; (single instance) listener which could be added to all other them.  Having said that, we&#39;re going to need more context before we can really help you. Consider providing a [mcve]","body":"I&#39;m not sure I&#39;d use seperate panels for this, but, I wouldn&#39;t be adding a <code>MouseListener</code> to each one individually, instead, I&#39;d have a &quot;common&quot; (single instance) listener which could be added to all other them.  Having said that, we&#39;re going to need more context before we can really help you. Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1690156293,"post_id":76750661,"comment_id":135309841,"body_markdown":"I agree with the above comment, or depending on your needs you could use a single [glass pane](https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html) to manage events where you can just use the co-ordinates of each click to work out which panel in your array is being clicked.","body":"I agree with the above comment, or depending on your needs you could use a single <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">glass pane</a> to manage events where you can just use the co-ordinates of each click to work out which panel in your array is being clicked."},{"owner":{"account_id":27855828,"reputation":1,"user_id":21269332,"display_name":"aduvvuri007"},"score":0,"creation_date":1690156845,"post_id":76750661,"comment_id":135309863,"body_markdown":"@MadProgrammer Would I add the MouseListener to the gameboard JPanel or the panel JPanel?","body":"@MadProgrammer Would I add the MouseListener to the gameboard JPanel or the panel JPanel?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690156896,"post_id":76750661,"comment_id":135309866,"body_markdown":"You don&#39;t need coordinates.  You can get the source of the event from via `MouseEvent.getSource()` and then cast it to access the panel instance.  Assuming the panels are subclassed, you can put identifying information in each one to know which panel received the event.","body":"You don&#39;t need coordinates.  You can get the source of the event from via <code>MouseEvent.getSource()</code> and then cast it to access the panel instance.  Assuming the panels are subclassed, you can put identifying information in each one to know which panel received the event."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1690157086,"post_id":76750661,"comment_id":135309877,"body_markdown":"@aduvvuri007 You would create a single instance of your mouse handler, and apply it to each instance of `Spot`, so all you &quot;spots&quot; would share the same instance of the `MouseHandler`, this lets you do some clever things, like track the last spot which was clicked","body":"@aduvvuri007 You would create a single instance of your mouse handler, and apply it to each instance of <code>Spot</code>, so all you &quot;spots&quot; would share the same instance of the <code>MouseHandler</code>, this lets you do some clever things, like track the last spot which was clicked"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690168172,"post_id":76750661,"comment_id":135310621,"body_markdown":"For [example](https://gist.github.com/RustyKnight/d5e3622392f9d02ddf72ff1e78513ac4)","body":"For <a href=\"https://gist.github.com/RustyKnight/d5e3622392f9d02ddf72ff1e78513ac4\" rel=\"nofollow noreferrer\">example</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690190836,"post_id":76750661,"comment_id":135313758,"body_markdown":"A &quot;Spot&quot; would normally be  a Square would it not? Notionally very simple. The component *name* attribute is the Hungarian notation location on the board and that can be got from the common listener","body":"A &quot;Spot&quot; would normally be  a Square would it not? Notionally very simple. The component <i>name</i> attribute is the Hungarian notation location on the board and that can be got from the common listener"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1690211377,"post_id":76750661,"comment_id":135318238,"body_markdown":"Using MVC, you would start by creating a (non-graphical, non-swing) *model* for your chess game. Once that&#39;s working and tested, either implement javax.swing.TableModel on your model class, or create a new class that implements it and uses your game class. Then, use a JLayeredPane for dragging pieces.","body":"Using MVC, you would start by creating a (non-graphical, non-swing) <i>model</i> for your chess game. Once that&#39;s working and tested, either implement javax.swing.TableModel on your model class, or create a new class that implements it and uses your game class. Then, use a JLayeredPane for dragging pieces."},{"owner":{"account_id":27855828,"reputation":1,"user_id":21269332,"display_name":"aduvvuri007"},"score":0,"creation_date":1690315528,"post_id":76750661,"comment_id":135335732,"body_markdown":"@MadProgrammer I tried what you suggested and it ended up working! Thank you!","body":"@MadProgrammer I tried what you suggested and it ended up working! Thank you!"}],"owner":{"account_id":27855828,"reputation":1,"user_id":21269332,"display_name":"aduvvuri007"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690155461,"creation_date":1690154188,"question_id":76750661,"body_markdown":"I am making a Chess program and I am at the point where I am trying to get a single Spot (extended from JPanel) within a 2D array of Spots (named &quot;board&quot;) to change its background color when I press my mouse over that Spot. I have assigned a MouseListener to each individual Spot but it does not seem to do anything. Please let me know what I can do to fix this problem.\r\n\r\nThe way it works is that the current class is a JFrame class with a panel (called &quot;panel&quot; in the code) inside of it that encompasses 2 JPanels, a &quot;gameboard&quot; and the timers (which is &quot;Players&quot;). The gameboard encompasses the actual 2D array of Spots. Below is a relevant code snippet from my code.\r\n\r\n```\r\nfor(int i = 0; i &lt; board.length; i++){\r\n            for (int j = 0; j &lt; board[0].length; j++){\r\n                board[i][j] = new Spot(new GridLayout(1, 1), i, j, piece);\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; board.length; i++){\r\n            for (int j = 0; j &lt; board[0].length; j++){\r\n                gameboard.add(board[i][j]);\r\n            }\r\n        }\r\n\r\n        for(int i = 0; i &lt; board.length; i++){\r\n            for (int j = 0; j &lt; board[0].length; j++){\r\n                board[i][j].addMouseListener(new MouseAdapter() {\r\n                    public void MousePressed(MouseEvent e) {\r\n                        Spot spot = (Spot)e.getSource();\r\n                        spot.setBackground(new Color(195, 208, 227)); \r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        \r\n        Players players = new Players();\r\n\r\n        panel.add(gameboard);\r\n        panel.setBorder(new EmptyBorder(0, 0, 0, 200));\r\n        panel.add(players, BorderLayout.EAST);\r\n        this.add(panel);\r\n```\r\nPlease let me know if you need any more information. ","title":"How do I add a MouseListener to a 2D array of JPanels?","body":"<p>I am making a Chess program and I am at the point where I am trying to get a single Spot (extended from JPanel) within a 2D array of Spots (named &quot;board&quot;) to change its background color when I press my mouse over that Spot. I have assigned a MouseListener to each individual Spot but it does not seem to do anything. Please let me know what I can do to fix this problem.</p>\n<p>The way it works is that the current class is a JFrame class with a panel (called &quot;panel&quot; in the code) inside of it that encompasses 2 JPanels, a &quot;gameboard&quot; and the timers (which is &quot;Players&quot;). The gameboard encompasses the actual 2D array of Spots. Below is a relevant code snippet from my code.</p>\n<pre><code>for(int i = 0; i &lt; board.length; i++){\n            for (int j = 0; j &lt; board[0].length; j++){\n                board[i][j] = new Spot(new GridLayout(1, 1), i, j, piece);\n            }\n        }\n\n        for (int i = 0; i &lt; board.length; i++){\n            for (int j = 0; j &lt; board[0].length; j++){\n                gameboard.add(board[i][j]);\n            }\n        }\n\n        for(int i = 0; i &lt; board.length; i++){\n            for (int j = 0; j &lt; board[0].length; j++){\n                board[i][j].addMouseListener(new MouseAdapter() {\n                    public void MousePressed(MouseEvent e) {\n                        Spot spot = (Spot)e.getSource();\n                        spot.setBackground(new Color(195, 208, 227)); \n                    }\n                });\n            }\n        }\n\n        \n        Players players = new Players();\n\n        panel.add(gameboard);\n        panel.setBorder(new EmptyBorder(0, 0, 0, 200));\n        panel.add(players, BorderLayout.EAST);\n        this.add(panel);\n</code></pre>\n<p>Please let me know if you need any more information.</p>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671826327,"creation_date":1671826327,"answer_id":74903645,"question_id":73264239,"body_markdown":"Digest authentication is not supported directly by the new HttpClient - see here: https://bugs.openjdk.org/browse/JDK-8285888\r\n\r\nYou are expected to handle the authentication process yourself, it seems.","title":"Digest Authentication java.net.http.HttpClient","body":"<p>Digest authentication is not supported directly by the new HttpClient - see here: <a href=\"https://bugs.openjdk.org/browse/JDK-8285888\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8285888</a></p>\n<p>You are expected to handle the authentication process yourself, it seems.</p>\n"},{"tags":[],"owner":{"account_id":2368629,"reputation":1042,"user_id":2073804,"display_name":"ron190"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690153923,"creation_date":1690153923,"answer_id":76750652,"question_id":73264239,"body_markdown":"You have to implement the handshake algorithm, and I advise to use `curl` to validate the process first.\r\n\r\nI did the implementation following this algorithm:\r\n\r\n 1. Call the Digest endpoint: response is 401 with header `www-authenticate`\r\n 3. Get params `realm`, `qop` and `nonce` from header `www-authenticate`\r\n 4. Build `HA1`, `HA2`, `response` and digest header `Authorization`\r\n 5. Call endpoint a second time with the header `Authorization`\r\n 6. Response should be 200 OK\r\n\r\nDigest implementation validated with Spring: https://github.com/ron190/jsql-injection/blob/master/model/src/main/java/com/jsql/util/DigestUtil.java\r\n\r\nInspired by following resources:\r\n\r\n - https://en.wikipedia.org/wiki/Digest_access_authentication\r\n - https://gist.github.com/usamadar/2912088","title":"Digest Authentication java.net.http.HttpClient","body":"<p>You have to implement the handshake algorithm, and I advise to use <code>curl</code> to validate the process first.</p>\n<p>I did the implementation following this algorithm:</p>\n<ol>\n<li>Call the Digest endpoint: response is 401 with header <code>www-authenticate</code></li>\n<li>Get params <code>realm</code>, <code>qop</code> and <code>nonce</code> from header <code>www-authenticate</code></li>\n<li>Build <code>HA1</code>, <code>HA2</code>, <code>response</code> and digest header <code>Authorization</code></li>\n<li>Call endpoint a second time with the header <code>Authorization</code></li>\n<li>Response should be 200 OK</li>\n</ol>\n<p>Digest implementation validated with Spring: <a href=\"https://github.com/ron190/jsql-injection/blob/master/model/src/main/java/com/jsql/util/DigestUtil.java\" rel=\"nofollow noreferrer\">https://github.com/ron190/jsql-injection/blob/master/model/src/main/java/com/jsql/util/DigestUtil.java</a></p>\n<p>Inspired by following resources:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Digest_access_authentication\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Digest_access_authentication</a></li>\n<li><a href=\"https://gist.github.com/usamadar/2912088\" rel=\"nofollow noreferrer\">https://gist.github.com/usamadar/2912088</a></li>\n</ul>\n"}],"owner":{"account_id":25997634,"reputation":51,"user_id":19708712,"display_name":"Dontea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1690153923,"creation_date":1659834069,"question_id":73264239,"body_markdown":"I&#39;m trying to connect to a website protected with digest authentication.\r\nMy credentials work fine if I try to log in via Insomnia or Firefox but I fail to get it to work in Java 17 (Insomnia&#39;s automatically generated Code also doesn&#39;t work).\r\n\r\nI tried to follow and understand the following tutorials/docs:\r\n\r\nhttps://www.baeldung.com/java-9-http-client\r\n\r\nhttps://docs.oracle.com/javase/7/docs/technotes/guides/net/http-auth.html\r\n\r\nBoth mention that Digest is supported, as far as I understand.\r\n\r\nThe result I get is always status code 401 &amp; the expected header when digest auth fails:\r\n\r\n&gt;www-authenticate=[Digest realm=&quot;api-realm&quot;, qop=&quot;auth&quot;, nonce=&quot;NONCE==&quot;\r\n\r\n\r\nHere is the current code. The method *getPasswordAuthentication* doesn&#39;t get executed:\r\n\r\n    public void checkIsAPIRunning() {\r\n\r\n\t\tHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t\t.uri(URI.create(&quot;https://the-site-I-try-to-connect-with:443/api/function&quot;))\r\n\t\t\t\t.method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody()).build();\r\n\t\tHttpResponse&lt;String&gt; response = null;\r\n\t\ttry {\r\n\t\t\tresponse = HttpClient.newBuilder().authenticator(new Authenticator() {\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t\treturn new PasswordAuthentication(&quot;user&quot;, &quot;pass&quot;.toCharArray());\r\n\t\t\t\t}\r\n\t\t\t}).build().send(request, BodyHandlers.ofString());\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\nAm I misunderstanding the docs? I&#39;d appreciate any help or pointers :)","title":"Digest Authentication java.net.http.HttpClient","body":"<p>I'm trying to connect to a website protected with digest authentication.\nMy credentials work fine if I try to log in via Insomnia or Firefox but I fail to get it to work in Java 17 (Insomnia's automatically generated Code also doesn't work).</p>\n<p>I tried to follow and understand the following tutorials/docs:</p>\n<p><a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"noreferrer\">https://www.baeldung.com/java-9-http-client</a></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/net/http-auth.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/net/http-auth.html</a></p>\n<p>Both mention that Digest is supported, as far as I understand.</p>\n<p>The result I get is always status code 401 &amp; the expected header when digest auth fails:</p>\n<blockquote>\n<p>www-authenticate=[Digest realm=&quot;api-realm&quot;, qop=&quot;auth&quot;, nonce=&quot;NONCE==&quot;</p>\n</blockquote>\n<p>Here is the current code. The method <em>getPasswordAuthentication</em> doesn't get executed:</p>\n<pre><code>public void checkIsAPIRunning() {\n\n    HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(&quot;https://the-site-I-try-to-connect-with:443/api/function&quot;))\n            .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody()).build();\n    HttpResponse&lt;String&gt; response = null;\n    try {\n        response = HttpClient.newBuilder().authenticator(new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(&quot;user&quot;, &quot;pass&quot;.toCharArray());\n            }\n        }).build().send(request, BodyHandlers.ofString());          \n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>Am I misunderstanding the docs? I'd appreciate any help or pointers :)</p>\n"},{"tags":["java","android","colors","searchview","android-theme"],"owner":{"account_id":12277358,"reputation":1,"user_id":8960405,"display_name":"Firex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690152958,"creation_date":1690152580,"question_id":76750601,"body_markdown":"I&#39;d appreciate your assistance in changing the appearance of the text selection handles, which are the bubbles that appear when highlighting text. Currently, these bubbles seem to replicate the background color in some way, and I&#39;m looking for guidance on how to modify their color.\r\n\r\nIssue:\r\n[Image](https://i.stack.imgur.com/ideNh.jpg)\r\n\r\nSomethings I tried:\r\n\r\n    &lt;item name=&quot;android:textSelectHandle&quot;&gt;@style/CustomTextSelectHandle&lt;/item&gt; \r\nto theme and the following as a style:\r\n\r\n    &lt;style name=&quot;CustomTextSelectHandle&quot;&gt;\r\n        &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/primary&lt;/item&gt;&lt;/style&gt;\r\n\r\n\r\n\r\n\r\n\r\nAdditionally, I have a SearchView in my Android Studio project, and I&#39;d like to change both the text color and the hint color of the SearchView. I attempted a solution from a Stack Overflow post (https://stackoverflow.com/questions/17791388/changing-action-bar-searchview-hint-text-color), but it didn&#39;t work for me, or I might have implemented it incorrectly, particularly for changing the hint color of the SearchView. I&#39;d appreciate your help in achieving this customization. Thank you for your support, and let me know if you require further information.\r\nI assume that this is something to do with the themes file. This is my themes file with some stuff extracted:\r\n\r\n```\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;style name=&quot;Base.Theme.GameOn&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/primary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/primary&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/primary&lt;/item&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;1&quot;&gt;@color/background&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.GameOn&quot; parent=&quot;Base.Theme.GameOn&quot; /&gt;\r\n&lt;/resources&gt;```\r\n\r\n","title":"How do I change the colour of the text select handles that appear when I&#39;m highlighting text? (Android Studio Java)","body":"<p>I'd appreciate your assistance in changing the appearance of the text selection handles, which are the bubbles that appear when highlighting text. Currently, these bubbles seem to replicate the background color in some way, and I'm looking for guidance on how to modify their color.</p>\n<p>Issue:\n<a href=\"https://i.stack.imgur.com/ideNh.jpg\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>Somethings I tried:</p>\n<pre><code>&lt;item name=&quot;android:textSelectHandle&quot;&gt;@style/CustomTextSelectHandle&lt;/item&gt; \n</code></pre>\n<p>to theme and the following as a style:</p>\n<pre><code>&lt;style name=&quot;CustomTextSelectHandle&quot;&gt;\n    &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/primary&lt;/item&gt;&lt;/style&gt;\n</code></pre>\n<p>Additionally, I have a SearchView in my Android Studio project, and I'd like to change both the text color and the hint color of the SearchView. I attempted a solution from a Stack Overflow post (<a href=\"https://stackoverflow.com/questions/17791388/changing-action-bar-searchview-hint-text-color\">Changing action bar searchview hint text color</a>), but it didn't work for me, or I might have implemented it incorrectly, particularly for changing the hint color of the SearchView. I'd appreciate your help in achieving this customization. Thank you for your support, and let me know if you require further information.\nI assume that this is something to do with the themes file. This is my themes file with some stuff extracted:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;style name=&quot;Base.Theme.GameOn&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/primary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/primary&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/primary&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;1&quot;&gt;@color/background&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Theme.GameOn&quot; parent=&quot;Base.Theme.GameOn&quot; /&gt;\n&lt;/resources&gt;```\n\n</code></pre>\n"},{"tags":["java","spring-data-jpa","dynamicquery"],"answers":[{"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690146632,"creation_date":1690146632,"answer_id":76750341,"question_id":76750012,"body_markdown":"Option 1 - Workaround: You can use EntityManager:\r\n--------------------------------------------------------------------\r\n\r\n    static final String QUERY = &quot;SELECT (%s),E,F,G,H FROM TABLEname where id=:id&quot;;        \r\n    \r\n    @Autowired\r\n    EntityManager entityManager;\r\n    \r\n    Query createQuery(String dynamicColName, String id) {\r\n        String sql = String.format(QUERY, dynamicColName);\r\n        Query query = entityManager.createNativeQuery(sql, YourTableEntityName.class);\r\n    \tquery .setParameter(&quot;id&quot;, id);\r\n    \treturn query;\r\n    }\r\n    \r\n    public List&lt;YourTableEntityName&gt; findById(String dynamicColName, String id) {\r\n        Query q = createQuery(dynamicColName, id);\r\n    \treturn q.getResultList();\t\r\n    }\r\n\r\n\r\nOption 2 - CASE block: add a condition inside the SELECT query part:\r\n--------------------------------------------------------------------\r\n\r\n    SELECT\r\n     CASE \r\n    \tWHEN (t.id &gt;= 1000) THEN colunm1 \r\n    \tWHEN (e.id &lt; 1000) THEN colunm2 \r\n    \tELSE colunm3 END,\r\n     E,F,G,H\r\n    FROM TABLEname t\r\n    WHERE id=:id\r\n\r\n\r\nThe solution will looks like this:\r\n\r\n    @Query(&quot;SELECT CASE WHEN (t.id &gt;= 1000) THEN dynamicColName1 WHEN (e.id &lt; 1000) THEN dynamicColName2 ELSE dynamicColName3  END, E,F,G,H FROM TABLEname t WHERE id=:id &quot;) \r\n    List findById(@Param(&quot;id&quot;)String id );\r\n\r\n\r\n[Reference Wikipedia article: New in JPA 2.0 ][1]\r\n\r\nOption 3 - JPA Criteria API\r\n-------------------\r\n\r\n\r\n    EntityManager em = ... ; \r\n    CriteriaBuilder queryBuilder = em.getCriteriaBuilder();\r\n    CriteriaQuery qdef = queryBuilder.createQuery();\r\n    \r\n    if (someCondition1) {\r\n        //select columnA\r\n        qdef.select(customer.get(TableEntity_.columnA));\r\n    } else if (someCondition2) {\r\n        //select columnB\r\n        qdef.select(customer.get(TableEntity_.columnB));\r\n    }\r\n    // where condition with ID check.\r\n\r\n\r\n[ OpenJPA:  Chapter 11. JPA Criteria][2]\r\n\r\n\r\n[Bueldung: JPA Criteria Queries][3]\r\n\r\n\r\n  [1]: https://en.wikibooks.org/wiki/Java_Persistence/JPQL_BNF#New_in_JPA_2.0\r\n  [2]: https://openjpa.apache.org/builds/2.2.2/apache-openjpa/docs/jpa_overview_criteria.html#:~:text=The%20select()%20method%20defines,qdef.\r\n  [3]: https://www.baeldung.com/hibernate-criteria-queries\r\n","title":"Dynamically selecting table column","body":"<h2>Option 1 - Workaround: You can use EntityManager:</h2>\n<pre><code>static final String QUERY = &quot;SELECT (%s),E,F,G,H FROM TABLEname where id=:id&quot;;        \n\n@Autowired\nEntityManager entityManager;\n\nQuery createQuery(String dynamicColName, String id) {\n    String sql = String.format(QUERY, dynamicColName);\n    Query query = entityManager.createNativeQuery(sql, YourTableEntityName.class);\n    query .setParameter(&quot;id&quot;, id);\n    return query;\n}\n\npublic List&lt;YourTableEntityName&gt; findById(String dynamicColName, String id) {\n    Query q = createQuery(dynamicColName, id);\n    return q.getResultList();   \n}\n</code></pre>\n<h2>Option 2 - CASE block: add a condition inside the SELECT query part:</h2>\n<pre><code>SELECT\n CASE \n    WHEN (t.id &gt;= 1000) THEN colunm1 \n    WHEN (e.id &lt; 1000) THEN colunm2 \n    ELSE colunm3 END,\n E,F,G,H\nFROM TABLEname t\nWHERE id=:id\n</code></pre>\n<p>The solution will looks like this:</p>\n<pre><code>@Query(&quot;SELECT CASE WHEN (t.id &gt;= 1000) THEN dynamicColName1 WHEN (e.id &lt; 1000) THEN dynamicColName2 ELSE dynamicColName3  END, E,F,G,H FROM TABLEname t WHERE id=:id &quot;) \nList findById(@Param(&quot;id&quot;)String id );\n</code></pre>\n<p><a href=\"https://en.wikibooks.org/wiki/Java_Persistence/JPQL_BNF#New_in_JPA_2.0\" rel=\"nofollow noreferrer\">Reference Wikipedia article: New in JPA 2.0 </a></p>\n<h2>Option 3 - JPA Criteria API</h2>\n<pre><code>EntityManager em = ... ; \nCriteriaBuilder queryBuilder = em.getCriteriaBuilder();\nCriteriaQuery qdef = queryBuilder.createQuery();\n\nif (someCondition1) {\n    //select columnA\n    qdef.select(customer.get(TableEntity_.columnA));\n} else if (someCondition2) {\n    //select columnB\n    qdef.select(customer.get(TableEntity_.columnB));\n}\n// where condition with ID check.\n</code></pre>\n<p><a href=\"https://openjpa.apache.org/builds/2.2.2/apache-openjpa/docs/jpa_overview_criteria.html#:%7E:text=The%20select()%20method%20defines,qdef.\" rel=\"nofollow noreferrer\"> OpenJPA:  Chapter 11. JPA Criteria</a></p>\n<p><a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">Bueldung: JPA Criteria Queries</a></p>\n"},{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690152561,"creation_date":1690152561,"answer_id":76750600,"question_id":76750012,"body_markdown":"One of the easiest ways to implement dynamic queries is to use the **Spring Data JPA Specification**\r\n\r\nThe result will be something like this, you can choose the parameter you want to query with it.\r\n\r\n    List&lt;PostComment&gt; comments = postCommentRepository.findAll(\r\n        orderByCreatedOn(\r\n            byPost(post)\r\n                .and(byStatus(PostComment.Status.PENDING))\r\n                .and(byReviewLike(reviewPattern))\r\n                .and(byVotesGreaterThanEqual(minVotes))\r\n        )\r\n    );\r\n\r\n\r\nmore information:\r\nhttps://vladmihalcea.com/spring-data-jpa-specification/","title":"Dynamically selecting table column","body":"<p>One of the easiest ways to implement dynamic queries is to use the <strong>Spring Data JPA Specification</strong></p>\n<p>The result will be something like this, you can choose the parameter you want to query with it.</p>\n<pre><code>List&lt;PostComment&gt; comments = postCommentRepository.findAll(\n    orderByCreatedOn(\n        byPost(post)\n            .and(byStatus(PostComment.Status.PENDING))\n            .and(byReviewLike(reviewPattern))\n            .and(byVotesGreaterThanEqual(minVotes))\n    )\n);\n</code></pre>\n<p>more information:\n<a href=\"https://vladmihalcea.com/spring-data-jpa-specification/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/spring-data-jpa-specification/</a></p>\n"}],"owner":{"account_id":29075992,"reputation":11,"user_id":22273138,"display_name":"SAMADHAN SHEJUL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690152561,"creation_date":1690141044,"question_id":76750012,"body_markdown":"I&#39;m using JAVA JPA in spring boot. The scenario is my table is having around 8 columns (suppose id, A,B,C,D,E,F,G,H)\r\nfrom these I want 5 column as result E,F,G,H **and only one from A,B,C,D which will be not fixed for every execution**. \r\n\r\nI have written like this.\r\n\r\n@Query(&quot;Select :dynamicColName ,E,F,G,H FROM TABLEname where id= :id &quot;)\r\nList&lt;EntityProjection&gt; findById(@Param(&quot;dynamicColName&quot;)String dynamicColName, @Param(&quot;id&quot;)String id );\r\n\r\nIt&#39;s not working. \r\nHere query isn&#39;t refering value of :dynamicColName as column name here.\r\n\r\nSuggestion are highly appreciated.\r\n\r\nDynamic column name injection in query ","title":"Dynamically selecting table column","body":"<p>I'm using JAVA JPA in spring boot. The scenario is my table is having around 8 columns (suppose id, A,B,C,D,E,F,G,H)\nfrom these I want 5 column as result E,F,G,H <strong>and only one from A,B,C,D which will be not fixed for every execution</strong>.</p>\n<p>I have written like this.</p>\n<p>@Query(&quot;Select :dynamicColName ,E,F,G,H FROM TABLEname where id= :id &quot;)\nList findById(@Param(&quot;dynamicColName&quot;)String dynamicColName, @Param(&quot;id&quot;)String id );</p>\n<p>It's not working.\nHere query isn't refering value of :dynamicColName as column name here.</p>\n<p>Suggestion are highly appreciated.</p>\n<p>Dynamic column name injection in query</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15252247,"reputation":227,"user_id":11005237,"display_name":"Sy3d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690152367,"creation_date":1690152367,"answer_id":76750592,"question_id":76750557,"body_markdown":"It&#39;s because the `JpaRepository` interface expects the first generic parameter to be an Entity. An Entity is an object that can be persisted in a database. Mark your `Country` class with `@Entity` &amp; that should resolve the exception.\r\n\r\nAlso you should name your field variables following camelCase - java convention. `country_name` should be `countryName`.","title":"SpringBoot error org.springframework.beans.factory.UnsatisfiedDependencyException","body":"<p>It's because the <code>JpaRepository</code> interface expects the first generic parameter to be an Entity. An Entity is an object that can be persisted in a database. Mark your <code>Country</code> class with <code>@Entity</code> &amp; that should resolve the exception.</p>\n<p>Also you should name your field variables following camelCase - java convention. <code>country_name</code> should be <code>countryName</code>.</p>\n"}],"owner":{"account_id":21054824,"reputation":11,"user_id":15474342,"display_name":"archercomprehensive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690152367,"creation_date":1690151348,"question_id":76750557,"body_markdown":"I am very new to SpringBoot and I am getting error while trying to implement a JPArepository class.The error I am getting is org.springframework.beans.factory.UnsatisfiedDependencyException:  Error creating bean with name &#39;requestMappingHandleradapter&#39; defined in class path resource.\r\n\r\nThis is my CountryRepository class that extends the JPArepository. So far I have written any code inside the class.\r\n\r\n```\r\npackage com.example.demo.DAO;\r\nimport com.example.demo.Entities.Country;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface CountryRepository extends JpaRepository&lt;Country, Long&gt; {    }\r\n```\r\n\r\nThis is my Country entity class:\r\n\r\n```\r\npackage com.example.demo.Entities;\r\nimport java.util.Date;\r\nimport java.util.Set;\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Country {   \r\n     \r\nprivate Long id;    \r\nprivate String country_name;    \r\nprivate Date create_date;    \r\nprivate Date last_update;    \r\nprivate Set&lt;Division&gt; divisions;    \r\npublic Country() {}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nThis is the class that runs the SpringBoot application\r\n\r\n\r\n```\r\npackage com.example.demo;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {    \r\npublic static void main(String[] args) {        \r\n    SpringApplication.run(DemoApplication.class, args);    \r\n }\r\n}\r\n```\r\n\r\nThis is the dependencies form the pom.xml\r\n\r\n\r\n```\r\n&lt;dependencies&gt;        \r\n    &lt;dependency&gt;            \r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;        \r\n    &lt;/dependency&gt;        \r\n\r\n    &lt;dependency&gt;            \r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \r\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;        \r\n    &lt;/dependency&gt;        \r\n    \r\n     &lt;dependency&gt;            \r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;           \r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;            \r\n        &lt;scope&gt;runtime&lt;/scope&gt;        \r\n     &lt;/dependency&gt;        \r\n    \r\n     &lt;dependency&gt;            \r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            \r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;           \r\n        &lt;optional&gt;true&lt;/optional&gt;        \r\n     &lt;/dependency&gt;        \r\n\r\n     &lt;dependency&gt;           \r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;            \r\n         &lt;scope&gt;test&lt;/scope&gt;        \r\n     &lt;/dependency&gt;    \r\n&lt;/dependencies&gt;\r\n```\r\n\r\nI also have this config class \r\n\r\n\r\n```\r\npackage com.example.demo.Config;\r\nimport com.example.demo.Entities.*;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\r\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n\r\n@Configurationpublic \r\npublic class RestDataConfig implements RepositoryRestConfigurer {\r\n    @Override    \r\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {        \r\n         config.exposeIdsFor(Country.class);        \r\n         config.exposeIdsFor(Customer.class);        \r\n         config.exposeIdsFor(Division.class);        \r\n         config.exposeIdsFor(Excursion.class);        \r\n         config.exposeIdsFor(Vacation.class);        \r\n         config.setDefaultPageSize(Integer.MAX_VALUE);                      \r\n         config.setMaxPageSize(Integer.MAX_VALUE);   \r\n }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve looked around but haven&#39;t found any help that satisfies my application. Everything works up until I add the CountryRepository class.\r\nAny help is appreciated.","title":"SpringBoot error org.springframework.beans.factory.UnsatisfiedDependencyException","body":"<p>I am very new to SpringBoot and I am getting error while trying to implement a JPArepository class.The error I am getting is org.springframework.beans.factory.UnsatisfiedDependencyException:  Error creating bean with name 'requestMappingHandleradapter' defined in class path resource.</p>\n<p>This is my CountryRepository class that extends the JPArepository. So far I have written any code inside the class.</p>\n<pre><code>package com.example.demo.DAO;\nimport com.example.demo.Entities.Country;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface CountryRepository extends JpaRepository&lt;Country, Long&gt; {    }\n</code></pre>\n<p>This is my Country entity class:</p>\n<pre><code>package com.example.demo.Entities;\nimport java.util.Date;\nimport java.util.Set;\nimport lombok.Data;\n\n@Data\npublic class Country {   \n     \nprivate Long id;    \nprivate String country_name;    \nprivate Date create_date;    \nprivate Date last_update;    \nprivate Set&lt;Division&gt; divisions;    \npublic Country() {}\n\n}\n\n\n</code></pre>\n<p>This is the class that runs the SpringBoot application</p>\n<pre><code>package com.example.demo;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {    \npublic static void main(String[] args) {        \n    SpringApplication.run(DemoApplication.class, args);    \n }\n}\n</code></pre>\n<p>This is the dependencies form the pom.xml</p>\n<pre><code>&lt;dependencies&gt;        \n    &lt;dependency&gt;            \n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;        \n    &lt;/dependency&gt;        \n\n    &lt;dependency&gt;            \n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;        \n    &lt;/dependency&gt;        \n    \n     &lt;dependency&gt;            \n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;           \n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;            \n        &lt;scope&gt;runtime&lt;/scope&gt;        \n     &lt;/dependency&gt;        \n    \n     &lt;dependency&gt;            \n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            \n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;           \n        &lt;optional&gt;true&lt;/optional&gt;        \n     &lt;/dependency&gt;        \n\n     &lt;dependency&gt;           \n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;            \n         &lt;scope&gt;test&lt;/scope&gt;        \n     &lt;/dependency&gt;    \n&lt;/dependencies&gt;\n</code></pre>\n<p>I also have this config class</p>\n<pre><code>package com.example.demo.Config;\nimport com.example.demo.Entities.*;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\n\n@Configurationpublic \npublic class RestDataConfig implements RepositoryRestConfigurer {\n    @Override    \n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {        \n         config.exposeIdsFor(Country.class);        \n         config.exposeIdsFor(Customer.class);        \n         config.exposeIdsFor(Division.class);        \n         config.exposeIdsFor(Excursion.class);        \n         config.exposeIdsFor(Vacation.class);        \n         config.setDefaultPageSize(Integer.MAX_VALUE);                      \n         config.setMaxPageSize(Integer.MAX_VALUE);   \n }\n}\n</code></pre>\n<p>I've looked around but haven't found any help that satisfies my application. Everything works up until I add the CountryRepository class.\nAny help is appreciated.</p>\n"},{"tags":["java","maps"],"owner":{"account_id":15508011,"reputation":13,"user_id":11187605,"display_name":"adamf7f376a1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690152349,"creation_date":1690151762,"question_id":76750568,"body_markdown":"I have a Java web app and it to display dynamically generated maps (in form of images) with some markers. I have found [Unfolding maps lib](http://unfoldingmaps.org/tutorials/) that looks interesting and I want to use it. However, all [examples ](https://github.com/tillnagel/unfolding/tree/master/examples) of this library contain only desktop apps. I have no idea how to transform UnfoldingMap object into png file without displaying it on a screen (i am building web, not desktop app).\r\n\r\nIf you know better libraries for this purpose, you can also let me know.\r\n\r\nI have tried following code inside SatelliteProviderMapApp example, however it throws Nullpointer\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tSatelliteProviderMapApp map = new SatelliteProviderMapApp();\r\n\t\tPApplet.runSketch(new String[] { SatelliteProviderMapApp.class.getName() }, map);\r\n\t\tLargeMapImageUtils util = new LargeMapImageUtils(map, map.map);\r\n\t\tPImage pImage = util.makeSnapshot();\r\n\t\tpImage.save(&quot;aa.png&quot;);\r\n\t}\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat de.fhpotsdam.unfolding.utils.LargeMapImageUtils.makeSnapshot(LargeMapImageUtils.java:169)\r\n\tat de.fhpotsdam.unfolding.examples.provider.SatelliteProviderMapApp.main(SatelliteProviderMapApp.java:47)\r\nUnfolding Map v0.9.93\r\nUsing OpenGLMapDisplay with processing.opengl.PGraphics2D\r\ntranslate() with x, y, and z coordinates can only be used with a renderer that supports 3D, such as P3D. Use a version without a z-coordinate instead.\r\n```\r\n","title":"How to generate screenshots of Unfolding maps as files/bytearrays?","body":"<p>I have a Java web app and it to display dynamically generated maps (in form of images) with some markers. I have found <a href=\"http://unfoldingmaps.org/tutorials/\" rel=\"nofollow noreferrer\">Unfolding maps lib</a> that looks interesting and I want to use it. However, all <a href=\"https://github.com/tillnagel/unfolding/tree/master/examples\" rel=\"nofollow noreferrer\">examples </a> of this library contain only desktop apps. I have no idea how to transform UnfoldingMap object into png file without displaying it on a screen (i am building web, not desktop app).</p>\n<p>If you know better libraries for this purpose, you can also let me know.</p>\n<p>I have tried following code inside SatelliteProviderMapApp example, however it throws Nullpointer</p>\n<pre><code>    public static void main(String[] args) {\n        SatelliteProviderMapApp map = new SatelliteProviderMapApp();\n        PApplet.runSketch(new String[] { SatelliteProviderMapApp.class.getName() }, map);\n        LargeMapImageUtils util = new LargeMapImageUtils(map, map.map);\n        PImage pImage = util.makeSnapshot();\n        pImage.save(&quot;aa.png&quot;);\n    }\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at de.fhpotsdam.unfolding.utils.LargeMapImageUtils.makeSnapshot(LargeMapImageUtils.java:169)\n    at de.fhpotsdam.unfolding.examples.provider.SatelliteProviderMapApp.main(SatelliteProviderMapApp.java:47)\nUnfolding Map v0.9.93\nUsing OpenGLMapDisplay with processing.opengl.PGraphics2D\ntranslate() with x, y, and z coordinates can only be used with a renderer that supports 3D, such as P3D. Use a version without a z-coordinate instead.\n</code></pre>\n"},{"tags":["java","apache-flink","streaming","pyflink"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690151237,"creation_date":1690086400,"answer_id":76746645,"question_id":76746490,"body_markdown":"Allow me to try to clarify a few points:\r\n\r\n(1) A bounded stream can either be processed in batch mode or in streaming mode. Batch mode will be more efficient, because various optimizations can be applied if the Flink runtime knows that there&#39;s a finite amount of data to process. On the other hand, unbounded inputs can only be processed in streaming mode.\r\n\r\n(2) Applying windows does not convert an unbounded streaming job into a batch job. The fact that windowing is happening doesn&#39;t have any effect on how the job is executed -- it could be an unbounded streaming job, a bounded streaming job, or a bounded batch job, depending on whether the inputs are bounded or unbounded, and the choice of execution mode.\r\n\r\n(3) The various stages of the pipeline run independently of one another. There may be lots of windows open concurrently, especially if event time semantics are being used, and the event stream is significantly out-of-order.\r\n\r\n(4) Currently the entire job must be running in either batch mode or streaming job. It&#39;s not (yet) possible to mix and match the two execution modes.\r\n\r\n(5) Only sources built using the FLIP-27 interface support both batch and streaming, e.g., the `KafkaSource` (and not the legacy `FlinkKafkaConsumer`). As the [docs](https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/datastream/kafka/#boundedness) explain:\r\n\r\n&gt; `KafkaSource` is designed to support both streaming and batch running mode. By default, the `KafkaSource` is set to run in streaming manner, thus never stops until Flink job fails or is cancelled. You can use `setBounded(OffsetsInitializer)` to specify stopping offsets and set the source running in batch mode. When all partitions have reached their stopping offsets, the source will exit.  \r\n&gt;  \r\n&gt; You can also set `KafkaSource` running in streaming mode, but still stop at the stopping offset by using `setUnbounded(OffsetsInitializer)`. The source will exit when all partitions reach their specified stopping offset.\r\n\r\n\r\n","title":"Flink Batch vs Stream how they process real time data","body":"<p>Allow me to try to clarify a few points:</p>\n<p>(1) A bounded stream can either be processed in batch mode or in streaming mode. Batch mode will be more efficient, because various optimizations can be applied if the Flink runtime knows that there's a finite amount of data to process. On the other hand, unbounded inputs can only be processed in streaming mode.</p>\n<p>(2) Applying windows does not convert an unbounded streaming job into a batch job. The fact that windowing is happening doesn't have any effect on how the job is executed -- it could be an unbounded streaming job, a bounded streaming job, or a bounded batch job, depending on whether the inputs are bounded or unbounded, and the choice of execution mode.</p>\n<p>(3) The various stages of the pipeline run independently of one another. There may be lots of windows open concurrently, especially if event time semantics are being used, and the event stream is significantly out-of-order.</p>\n<p>(4) Currently the entire job must be running in either batch mode or streaming job. It's not (yet) possible to mix and match the two execution modes.</p>\n<p>(5) Only sources built using the FLIP-27 interface support both batch and streaming, e.g., the <code>KafkaSource</code> (and not the legacy <code>FlinkKafkaConsumer</code>). As the <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/datastream/kafka/#boundedness\" rel=\"nofollow noreferrer\">docs</a> explain:</p>\n<blockquote>\n<p><code>KafkaSource</code> is designed to support both streaming and batch running mode. By default, the <code>KafkaSource</code> is set to run in streaming manner, thus never stops until Flink job fails or is cancelled. You can use <code>setBounded(OffsetsInitializer)</code> to specify stopping offsets and set the source running in batch mode. When all partitions have reached their stopping offsets, the source will exit.</p>\n<p>You can also set <code>KafkaSource</code> running in streaming mode, but still stop at the stopping offset by using <code>setUnbounded(OffsetsInitializer)</code>. The source will exit when all partitions reach their specified stopping offset.</p>\n</blockquote>\n"}],"owner":{"account_id":13280511,"reputation":324,"user_id":9588300,"display_name":"Eugenio.Gastelum96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76746645,"answer_count":1,"score":0,"last_activity_date":1690151237,"creation_date":1690080671,"question_id":76746490,"body_markdown":"I have read the documentation of streaming mode and batch mode. I assume that if I have an unbounded stream and I apply windows (like tumbling) on it it becomes a bounded stream? Please correct and stop me here if I am wrong. But that&#39;s what I understood from the documentation and this picture, which apparently represents a bounded stream can exist inside an unbounded stream, practically what windows (i.e Tumbling) does:\r\n\r\n[![Bounded vs Unbounded][1]][1]\r\n\r\n\r\n\r\n...\r\nIn case that&#39;s right, If I am applying tumbling window on an unbounded input stream (thus converting it to bounded) and set it to be on batch mode, does the first window filling up have to reach the sink so the new incoming window can be read? For example, if window #1 is formed and it takes 5 seconds for each window to reach the sink, but before those 5 seconds at second 2 a window#2 would have already been ready at the source, does flink in batch mode will NOT read window#2 until window#1 has reached the sink?\r\n\r\nIn other words, which of these is correct?\r\n\r\n - Window#1 arrives at t=1, and until it reaches the sink at t=5 then\r\n   window#2 is read at t=5, which means window#2 leaves the sink at t=10 \r\n - Window#1 arrives at t=1, and as it progresses through the operators downstreams, window#2 arrives at t=2 and it also flows downstream, meaning the entire pipeline has windows 1 and 2 on different stages, but both present in the pipeline at the same time. Eventually window#1 leaves the sink at t=5 and window#2 around t=7\r\n\r\nOption 1 Implies there can only be one window at a time anywhere in the pipeline. Option 2 implies there can be multiple windows in the pipeline (regardless of the operator they are at) at the same time\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lfye5.png","title":"Flink Batch vs Stream how they process real time data","body":"<p>I have read the documentation of streaming mode and batch mode. I assume that if I have an unbounded stream and I apply windows (like tumbling) on it it becomes a bounded stream? Please correct and stop me here if I am wrong. But that's what I understood from the documentation and this picture, which apparently represents a bounded stream can exist inside an unbounded stream, practically what windows (i.e Tumbling) does:</p>\n<p><a href=\"https://i.stack.imgur.com/lfye5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfye5.png\" alt=\"Bounded vs Unbounded\" /></a></p>\n<p>...\nIn case that's right, If I am applying tumbling window on an unbounded input stream (thus converting it to bounded) and set it to be on batch mode, does the first window filling up have to reach the sink so the new incoming window can be read? For example, if window #1 is formed and it takes 5 seconds for each window to reach the sink, but before those 5 seconds at second 2 a window#2 would have already been ready at the source, does flink in batch mode will NOT read window#2 until window#1 has reached the sink?</p>\n<p>In other words, which of these is correct?</p>\n<ul>\n<li>Window#1 arrives at t=1, and until it reaches the sink at t=5 then\nwindow#2 is read at t=5, which means window#2 leaves the sink at t=10</li>\n<li>Window#1 arrives at t=1, and as it progresses through the operators downstreams, window#2 arrives at t=2 and it also flows downstream, meaning the entire pipeline has windows 1 and 2 on different stages, but both present in the pipeline at the same time. Eventually window#1 leaves the sink at t=5 and window#2 around t=7</li>\n</ul>\n<p>Option 1 Implies there can only be one window at a time anywhere in the pipeline. Option 2 implies there can be multiple windows in the pipeline (regardless of the operator they are at) at the same time</p>\n"},{"tags":["java","kotlin","kotlin-interop"],"comments":[{"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"score":0,"creation_date":1535447858,"post_id":52054104,"comment_id":91058701,"body_markdown":"Both lists are java List?","body":"Both lists are java List?"},{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1535447970,"post_id":52054104,"comment_id":91058767,"body_markdown":"Is the list of different type perhaps? For example `ArrayList` vs `LinkedList`.","body":"Is the list of different type perhaps? For example <code>ArrayList</code> vs <code>LinkedList</code>."},{"owner":{"account_id":1551744,"reputation":1184,"user_id":1443981,"accept_rate":70,"display_name":"Aswin"},"score":0,"creation_date":1535448172,"post_id":52054104,"comment_id":91058910,"body_markdown":"Yes both are java list. And they are not different types; I am comparing the list with the new updated list after x seconds.","body":"Yes both are java list. And they are not different types; I am comparing the list with the new updated list after x seconds."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1535448730,"post_id":52054104,"comment_id":91059254,"body_markdown":"When you say &quot;items are same and equal&quot;, what do you mean? [Referential equality or structural equality](https://kotlinlang.org/docs/reference/equality.html)? I.e. does `MyObject` override the `equals()` method?","body":"When you say &quot;items are same and equal&quot;, what do you mean? <a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">Referential equality or structural equality</a>? I.e. does <code>MyObject</code> override the <code>equals()</code> method?"},{"owner":{"account_id":1551744,"reputation":1184,"user_id":1443981,"accept_rate":70,"display_name":"Aswin"},"score":0,"creation_date":1535449340,"post_id":52054104,"comment_id":91059643,"body_markdown":"I meant for structural equality. Not sure about `equals()` method is override&#39;d in library.","body":"I meant for structural equality. Not sure about <code>equals()</code> method is override&#39;d in library."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1535449627,"post_id":52054104,"comment_id":91059836,"body_markdown":"Cannot have structural equality without overriding `equals()`.","body":"Cannot have structural equality without overriding <code>equals()</code>."},{"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":2,"creation_date":1535449630,"post_id":52054104,"comment_id":91059837,"body_markdown":"In Java, &quot;In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the List interface.&quot; So if it returns false, there must be different elements. (And different List types shouldn&#39;t matter.)","body":"In Java, &quot;In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the List interface.&quot; So if it returns false, there must be different elements. (And different List types shouldn&#39;t matter.)"}],"answers":[{"tags":[],"owner":{"account_id":2190769,"reputation":547,"user_id":1937886,"accept_rate":0,"display_name":"Viral Thakker"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535510088,"creation_date":1535454021,"answer_id":52056258,"question_id":52054104,"body_markdown":"You can iterate through one list and check the corresponding position value from second list. Take the example below for reference.\r\n\r\n    var list1 = mutableListOf&lt;String&gt;()\r\n    var list2 = mutableListOf&lt;String&gt;()\r\n        \r\n    list1.forEachIndexed { i, value -&gt;\r\n        if (list2[i] == value)\r\n        {\r\n            // your implementaion\r\n        }  \r\n    }\r\n\r\nAdditionally you can filter list for the changed values.\r\n\r\n    var list1 = mutableListOf&lt;String&gt;()\r\n    var list2 = mutableListOf&lt;String&gt;()\r\n\r\n    val changedList = list1.filterIndexed { i, value -&gt; \r\n        list2[i] != value)\r\n    }\r\n\r\n\r\n","title":"Comparing two lists in kotlin","body":"<p>You can iterate through one list and check the corresponding position value from second list. Take the example below for reference.</p>\n\n<pre><code>var list1 = mutableListOf&lt;String&gt;()\nvar list2 = mutableListOf&lt;String&gt;()\n\nlist1.forEachIndexed { i, value -&gt;\n    if (list2[i] == value)\n    {\n        // your implementaion\n    }  \n}\n</code></pre>\n\n<p>Additionally you can filter list for the changed values.</p>\n\n<pre><code>var list1 = mutableListOf&lt;String&gt;()\nvar list2 = mutableListOf&lt;String&gt;()\n\nval changedList = list1.filterIndexed { i, value -&gt; \n    list2[i] != value)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1535460698,"creation_date":1535460698,"answer_id":52058412,"question_id":52054104,"body_markdown":"Java lists implement `equals` method and two lists are defined to be equal if they contain the same elements in the same order. I guess, you are missing `equals` method in your `MyObject` class.\r\n","title":"Comparing two lists in kotlin","body":"<p>Java lists implement <code>equals</code> method and two lists are defined to be equal if they contain the same elements in the same order. I guess, you are missing <code>equals</code> method in your <code>MyObject</code> class.</p>\n"},{"tags":[],"owner":{"account_id":128374,"reputation":501,"user_id":326162,"display_name":"amynbe"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1560869546,"creation_date":1560869546,"answer_id":56651856,"question_id":52054104,"body_markdown":"Using [zip][1] \r\n\r\n&gt; `zip` returns a list of pairs built from the elements of this array and the other array with the same index. The returned list has length of the shortest collection.\r\n\r\n    fun listsEqual(list1: List&lt;Any&gt;, list2: List&lt;Any&gt;): Boolean {\r\n        \r\n        if (list1.size != list2.size)\r\n            return false\r\n        \r\n        val pairList = list1.zip(list2)\r\n        \r\n        return pairList.all { (elt1, elt2) -&gt;\r\n            elt1 == elt2       \r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip.html","title":"Comparing two lists in kotlin","body":"<p>Using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip.html\" rel=\"noreferrer\">zip</a> </p>\n\n<blockquote>\n  <p><code>zip</code> returns a list of pairs built from the elements of this array and the other array with the same index. The returned list has length of the shortest collection.</p>\n</blockquote>\n\n<pre><code>fun listsEqual(list1: List&lt;Any&gt;, list2: List&lt;Any&gt;): Boolean {\n\n    if (list1.size != list2.size)\n        return false\n\n    val pairList = list1.zip(list2)\n\n    return pairList.all { (elt1, elt2) -&gt;\n        elt1 == elt2       \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10898766,"reputation":4116,"user_id":8011713,"display_name":"Rene Ferrari"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1567427926,"creation_date":1567425384,"answer_id":57756549,"question_id":52054104,"body_markdown":"Just fyi you can call `list1 == list2` without any extra work, if your custom object is based off of a `data class` (which automatically overrides equals for you).","title":"Comparing two lists in kotlin","body":"<p>Just fyi you can call <code>list1 == list2</code> without any extra work, if your custom object is based off of a <code>data class</code> (which automatically overrides equals for you).</p>\n"},{"tags":[],"owner":{"account_id":9725840,"reputation":1489,"user_id":7212836,"display_name":"Evgenii Vorobei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568967418,"creation_date":1568967418,"answer_id":58024474,"question_id":52054104,"body_markdown":"You could use arrays and `contentDeepEquals`:\r\n\r\n    infix fun &lt;T&gt; Array&lt;out T&gt;.contentDeepEquals(\r\n        other: Array&lt;out T&gt;\r\n    ): Boolean\r\n    JVM\r\n    1.1\r\n    @JvmName(&quot;contentDeepEqualsInline&quot;) infix fun &lt;T&gt; Array&lt;out T&gt;.contentDeepEquals(\r\n        other: Array&lt;out T&gt;\r\n    ): Boolean\r\n\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-deep-equals.html","title":"Comparing two lists in kotlin","body":"<p>You could use arrays and <code>contentDeepEquals</code>:</p>\n\n<pre><code>infix fun &lt;T&gt; Array&lt;out T&gt;.contentDeepEquals(\n    other: Array&lt;out T&gt;\n): Boolean\nJVM\n1.1\n@JvmName(\"contentDeepEqualsInline\") infix fun &lt;T&gt; Array&lt;out T&gt;.contentDeepEquals(\n    other: Array&lt;out T&gt;\n): Boolean\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-deep-equals.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-deep-equals.html</a></p>\n"},{"tags":[],"owner":{"account_id":4869472,"reputation":5293,"user_id":3926506,"accept_rate":89,"display_name":"Sergei Bubenshchikov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1570647774,"creation_date":1570647774,"answer_id":58310635,"question_id":52054104,"body_markdown":"You can use implementations below for comparing of two `Collection`:\r\n\r\n    infix fun &lt;T&gt; Collection&lt;T&gt;.deepEqualTo(other: Collection&lt;T&gt;): Boolean {\r\n        // check collections aren&#39;t same\r\n        if (this !== other) {\r\n            // fast check of sizes\r\n            if (this.size != other.size) return false\r\n            val areNotEqual = this.asSequence()\r\n                .zip(other.asSequence())\r\n                // check this and other contains same elements at position\r\n                .map { (fromThis, fromOther) -&gt; fromThis == fromOther }\r\n                // searching for first negative answer\r\n                .contains(false)\r\n            if (areNotEqual) return false\r\n        }\r\n        // collections are same or they are contains same elements with same order\r\n        return true\r\n    }\r\n\r\nOr order ignore variant: \r\n\r\n    infix fun &lt;T&gt; Collection&lt;T&gt;.deepEqualToIgnoreOrder(other: Collection&lt;T&gt;): Boolean {\r\n        // check collections aren&#39;t same\r\n        if (this !== other) {\r\n            // fast check of sizes\r\n            if (this.size != other.size) return false\r\n            val areNotEqual = this.asSequence()\r\n                // check other contains next element from this\r\n                .map { it in other }\r\n                // searching for first negative answer\r\n                .contains(false)\r\n            if (areNotEqual) return false\r\n        }\r\n        // collections are same or they are contains same elements\r\n        return true\r\n    }\r\n\r\n_Note: both function compare only first level of deep_","title":"Comparing two lists in kotlin","body":"<p>You can use implementations below for comparing of two <code>Collection</code>:</p>\n\n<pre><code>infix fun &lt;T&gt; Collection&lt;T&gt;.deepEqualTo(other: Collection&lt;T&gt;): Boolean {\n    // check collections aren't same\n    if (this !== other) {\n        // fast check of sizes\n        if (this.size != other.size) return false\n        val areNotEqual = this.asSequence()\n            .zip(other.asSequence())\n            // check this and other contains same elements at position\n            .map { (fromThis, fromOther) -&gt; fromThis == fromOther }\n            // searching for first negative answer\n            .contains(false)\n        if (areNotEqual) return false\n    }\n    // collections are same or they are contains same elements with same order\n    return true\n}\n</code></pre>\n\n<p>Or order ignore variant: </p>\n\n<pre><code>infix fun &lt;T&gt; Collection&lt;T&gt;.deepEqualToIgnoreOrder(other: Collection&lt;T&gt;): Boolean {\n    // check collections aren't same\n    if (this !== other) {\n        // fast check of sizes\n        if (this.size != other.size) return false\n        val areNotEqual = this.asSequence()\n            // check other contains next element from this\n            .map { it in other }\n            // searching for first negative answer\n            .contains(false)\n        if (areNotEqual) return false\n    }\n    // collections are same or they are contains same elements\n    return true\n}\n</code></pre>\n\n<p><em>Note: both function compare only first level of deep</em></p>\n"},{"tags":[],"owner":{"account_id":4450733,"reputation":2372,"user_id":3622695,"accept_rate":75,"display_name":"DruidKuma"},"down_vote_count":11,"up_vote_count":32,"is_accepted":false,"score":21,"last_activity_date":1576359178,"creation_date":1576359178,"answer_id":59339338,"question_id":52054104,"body_markdown":"If you don&#39;t bother about order of elements in both lists, and your goal is to just check that two lists are of exactly same elements, without any others, you can consider two mutual `containsAll` calls like:\r\n\r\n    var list1 = mutableListOf&lt;String&gt;()\r\n    var list2 = mutableListOf&lt;String&gt;()\r\n\r\n    if(list1.containsAll(list2) &amp;&amp; list2.containsAll(list1)) {\r\n        //both lists are of the same elements\r\n    }","title":"Comparing two lists in kotlin","body":"<p>If you don't bother about order of elements in both lists, and your goal is to just check that two lists are of exactly same elements, without any others, you can consider two mutual <code>containsAll</code> calls like:</p>\n\n<pre><code>var list1 = mutableListOf&lt;String&gt;()\nvar list2 = mutableListOf&lt;String&gt;()\n\nif(list1.containsAll(list2) &amp;&amp; list2.containsAll(list1)) {\n    //both lists are of the same elements\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231521,"reputation":4557,"user_id":495800,"accept_rate":68,"display_name":"joecks"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1690150934,"creation_date":1579237651,"answer_id":59781517,"question_id":52054104,"body_markdown":"Here&#39;s a short version using a extension function:\r\n\r\n```kotlin\r\nfun &lt;T&gt; List&lt;T&gt;.deepEquals(other: List&lt;T&gt;) =\r\n    size == other.size &amp;&amp; asSequence()\r\n        .mapIndexed { index, element -&gt; element == other[index] }\r\n        .all { it }\r\n```\r\n\r\nAnd you can use it like this:\r\n\r\n    listOf(&quot;Hola&quot;, &quot;Mundo&quot;).deepEquals(listOf(&quot;Hello&quot;, &quot;World&quot;))","title":"Comparing two lists in kotlin","body":"<p>Here's a short version using a extension function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T&gt; List&lt;T&gt;.deepEquals(other: List&lt;T&gt;) =\n    size == other.size &amp;&amp; asSequence()\n        .mapIndexed { index, element -&gt; element == other[index] }\n        .all { it }\n</code></pre>\n<p>And you can use it like this:</p>\n<pre><code>listOf(&quot;Hola&quot;, &quot;Mundo&quot;).deepEquals(listOf(&quot;Hello&quot;, &quot;World&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93255,"reputation":8901,"user_id":255244,"accept_rate":93,"display_name":"Marty Neal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608663351,"creation_date":1608663351,"answer_id":65414342,"question_id":52054104,"body_markdown":"The questions and answers so far are primarily focused on equals/!equals, but since the title talks about comparing, I&#39;ll give a slightly more generic answer that implements compareTo returning -1,0,1 for &lt;, =, &gt;\r\n\r\n```\r\nfun &lt;T: Comparable&lt;T&gt;&gt; Iterable&lt;T&gt;.compareTo(other: Iterable&lt;T&gt;): Int {\r\n    val otherI = other.iterator()\r\n    for (e in this) {\r\n        if (!otherI.hasNext()) return 1 // other has run out of elements, so `this` is larger\r\n        val c = e.compareTo(otherI.next())\r\n        if (c != 0) return c // found a position with a difference\r\n    }\r\n    if (otherI.hasNext()) return -1 // `this` has run out of elements, but other has some more, so other is larger\r\n    return 0 // they&#39;re the same\r\n}\r\n```","title":"Comparing two lists in kotlin","body":"<p>The questions and answers so far are primarily focused on equals/!equals, but since the title talks about comparing, I'll give a slightly more generic answer that implements compareTo returning -1,0,1 for &lt;, =, &gt;</p>\n<pre><code>fun &lt;T: Comparable&lt;T&gt;&gt; Iterable&lt;T&gt;.compareTo(other: Iterable&lt;T&gt;): Int {\n    val otherI = other.iterator()\n    for (e in this) {\n        if (!otherI.hasNext()) return 1 // other has run out of elements, so `this` is larger\n        val c = e.compareTo(otherI.next())\n        if (c != 0) return c // found a position with a difference\n    }\n    if (otherI.hasNext()) return -1 // `this` has run out of elements, but other has some more, so other is larger\n    return 0 // they're the same\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8985637,"reputation":41,"user_id":6699278,"display_name":"The Zero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614675029,"creation_date":1614675029,"answer_id":66436099,"question_id":52054104,"body_markdown":"Another answer in case you want to compare two lists, that have the same number of the same elements, and no care about the order:\r\n\r\n    infix fun &lt;T&gt; List&lt;T&gt;.elementEquals(other: List&lt;T&gt;): Boolean {\r\n      if (this.size != other.size) return false\r\n\r\n      val tracker = BooleanArray(this.size)\r\n      var counter = 0\r\n\r\n      root@ for (value in this) {\r\n        destination@ for ((i, o) in other.withIndex()) {\r\n          if (tracker[i]) {\r\n            continue@destination\r\n          } else if (value?.equals(o) == true) {\r\n            counter++\r\n            tracker[i] = true\r\n            continue@root\r\n          }\r\n        }\r\n      }\r\n\r\n      return counter == this.size\r\n    }","title":"Comparing two lists in kotlin","body":"<p>Another answer in case you want to compare two lists, that have the same number of the same elements, and no care about the order:</p>\n<pre><code>infix fun &lt;T&gt; List&lt;T&gt;.elementEquals(other: List&lt;T&gt;): Boolean {\n  if (this.size != other.size) return false\n\n  val tracker = BooleanArray(this.size)\n  var counter = 0\n\n  root@ for (value in this) {\n    destination@ for ((i, o) in other.withIndex()) {\n      if (tracker[i]) {\n        continue@destination\n      } else if (value?.equals(o) == true) {\n        counter++\n        tracker[i] = true\n        continue@root\n      }\n    }\n  }\n\n  return counter == this.size\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10692508,"reputation":5229,"user_id":7870874,"accept_rate":70,"display_name":"Sira Lam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1617200840,"creation_date":1617194771,"answer_id":66888169,"question_id":52054104,"body_markdown":"Want to say that `containsAll()` is way slower than just sort and check equal.\r\n\r\nI have tested it using an online Kotlin console, and here is the result:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut the fastest way is probably using `Set` instead.\r\n(But, set does not allow duplicate elements. So be careful of your use case)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8D9Vz.png\r\n  [2]: https://i.stack.imgur.com/pPhO3.png","title":"Comparing two lists in kotlin","body":"<p>Want to say that <code>containsAll()</code> is way slower than just sort and check equal.</p>\n<p>I have tested it using an online Kotlin console, and here is the result:\n<a href=\"https://i.stack.imgur.com/8D9Vz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8D9Vz.png\" alt=\"enter image description here\" /></a></p>\n<p>But the fastest way is probably using <code>Set</code> instead.\n(But, set does not allow duplicate elements. So be careful of your use case)</p>\n<p><a href=\"https://i.stack.imgur.com/pPhO3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pPhO3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2401597,"reputation":9579,"user_id":3240381,"accept_rate":74,"display_name":"Cabezas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662384772,"creation_date":1617900061,"answer_id":67008353,"question_id":52054104,"body_markdown":"When I want to compare to list on kotlin I like this way:  \r\n\r\n    data class Element(val id: String, val name: String)\r\n    var list1 = mutableListOf&lt;Element&gt;()\r\n    var list2 = mutableListOf&lt;Element&gt;()\r\n    fun deleteRepeated(\r\n            list1: List&lt;Element&gt;,\r\n            newElementsList: List&lt;Element&gt;\r\n        ): List&lt;FileInfo&gt; {\r\n            return list2.filterNot { isTheSameID(it, list1) }\r\n     }\r\n     private fun isTheSameID(element: Element, list1: List&lt;FileInfo&gt;): Boolean {\r\n         list1.forEach {\r\n             if (element.id == it.id){\r\n                 return true\r\n             }\r\n         }\r\n         return false\r\n     }\r\nExample usage:  \r\n\r\n    list1 = [(id=1, name=Eva),(id=2, name=Ana), id=3, name=Abraham)]\r\n\r\n    list2 = [(id=2, name=Ana), id=3, name=Abraham)]\r\n\r\n    deleteRepeated(list1, list2)\r\n\r\n    // [(id=1, name=Eva)]","title":"Comparing two lists in kotlin","body":"<p>When I want to compare to list on kotlin I like this way:</p>\n<pre><code>data class Element(val id: String, val name: String)\nvar list1 = mutableListOf&lt;Element&gt;()\nvar list2 = mutableListOf&lt;Element&gt;()\nfun deleteRepeated(\n        list1: List&lt;Element&gt;,\n        newElementsList: List&lt;Element&gt;\n    ): List&lt;FileInfo&gt; {\n        return list2.filterNot { isTheSameID(it, list1) }\n }\n private fun isTheSameID(element: Element, list1: List&lt;FileInfo&gt;): Boolean {\n     list1.forEach {\n         if (element.id == it.id){\n             return true\n         }\n     }\n     return false\n }\n</code></pre>\n<p>Example usage:</p>\n<pre><code>list1 = [(id=1, name=Eva),(id=2, name=Ana), id=3, name=Abraham)]\n\nlist2 = [(id=2, name=Ana), id=3, name=Abraham)]\n\ndeleteRepeated(list1, list2)\n\n// [(id=1, name=Eva)]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658900710,"creation_date":1658900710,"answer_id":73132782,"question_id":52054104,"body_markdown":"***Best way to compare 2 lists***\r\n\r\nCreate Extension function as below. This will be useful if order doesn&#39;t matters\r\n\r\n    fun &lt;T&gt; List&lt;T&gt;.isEqualsIgnoreOrder(other: List&lt;T&gt;) = this.size == other.size &amp;&amp; this.toSet() == other.toSet()\r\n\r\nUse Extension function in your classes to compare lists as below.It returns boolean.\r\n\r\n    list1.isEqualsIgnoreOrder(list2)\r\n\r\n","title":"Comparing two lists in kotlin","body":"<p><em><strong>Best way to compare 2 lists</strong></em></p>\n<p>Create Extension function as below. This will be useful if order doesn't matters</p>\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.isEqualsIgnoreOrder(other: List&lt;T&gt;) = this.size == other.size &amp;&amp; this.toSet() == other.toSet()\n</code></pre>\n<p>Use Extension function in your classes to compare lists as below.It returns boolean.</p>\n<pre><code>list1.isEqualsIgnoreOrder(list2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684132929,"creation_date":1684132929,"answer_id":76251458,"question_id":52054104,"body_markdown":"I know it&#39;s not a good solution but it works.\r\n\r\n```kotlin\r\nval list1 = listOf&lt;String&gt;()\r\nval list2 = listOf&lt;String&gt;()\r\n\r\nfun &lt;T&gt; isSame(list1: List&lt;T&gt;, list2: List&lt;T&gt;): Boolean {\r\n    if (list1.size != list2.size) return false\r\n\r\n    val hash1 = list1.map { it.hashCode() }.toSet()\r\n    val hash2 = list2.map { it.hashCode() }.toSet()\r\n\r\n    return (hash1.intersect(hash2)).size == hash1.size\r\n}\r\n```\r\n\r\nImplement the `hasCode()` method if you use objects other than `String`.","title":"Comparing two lists in kotlin","body":"<p>I know it's not a good solution but it works.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val list1 = listOf&lt;String&gt;()\nval list2 = listOf&lt;String&gt;()\n\nfun &lt;T&gt; isSame(list1: List&lt;T&gt;, list2: List&lt;T&gt;): Boolean {\n    if (list1.size != list2.size) return false\n\n    val hash1 = list1.map { it.hashCode() }.toSet()\n    val hash2 = list2.map { it.hashCode() }.toSet()\n\n    return (hash1.intersect(hash2)).size == hash1.size\n}\n</code></pre>\n<p>Implement the <code>hasCode()</code> method if you use objects other than <code>String</code>.</p>\n"}],"owner":{"account_id":1551744,"reputation":1184,"user_id":1443981,"accept_rate":70,"display_name":"Aswin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104562,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":14,"score":57,"last_activity_date":1690150934,"creation_date":1535447347,"question_id":52054104,"body_markdown":"I came across with kotlin [equals][1] function to compare two list of same type. It works fine for pure Kotlin with data classes.\r\n\r\nI&#39;am using a Java library in Kotlin project in which a callback method returns a list of objects for a time interval of X seconds. Trying to compare the old list with new list for every call, but equals returns false even the items are same and equal.\r\n\r\n\r\n    val mOldList: MutableList&lt;MyObject&gt;()? = null\r\n    \r\n    override fun updatedList(list: MutableList&lt;MyObject&gt;){\r\n        // other code\r\n        if (mOldList.equals(list)) // false everytime\r\n    }\r\n\r\nIs this because of Java&#39;s equals method from library?\r\n\r\nAlternative suggestions for list compare would be appreciative. \r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-list/equals.html","title":"Comparing two lists in kotlin","body":"<p>I came across with kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-list/equals.html\" rel=\"noreferrer\">equals</a> function to compare two list of same type. It works fine for pure Kotlin with data classes.</p>\n\n<p>I'am using a Java library in Kotlin project in which a callback method returns a list of objects for a time interval of X seconds. Trying to compare the old list with new list for every call, but equals returns false even the items are same and equal.</p>\n\n<pre><code>val mOldList: MutableList&lt;MyObject&gt;()? = null\n\noverride fun updatedList(list: MutableList&lt;MyObject&gt;){\n    // other code\n    if (mOldList.equals(list)) // false everytime\n}\n</code></pre>\n\n<p>Is this because of Java's equals method from library?</p>\n\n<p>Alternative suggestions for list compare would be appreciative. </p>\n"},{"tags":["java","docker","opencv","ubuntu-18.04"],"comments":[{"owner":{"account_id":11577675,"reputation":4383,"user_id":8482479,"display_name":"b0gusb"},"score":0,"creation_date":1570446481,"post_id":58262682,"comment_id":102903789,"body_markdown":"Have you tried building OpenCV with [BUILD_SHARED_LIBS=ON](https://cmake.org/cmake/help/v3.0/variable/BUILD_SHARED_LIBS.html)?","body":"Have you tried building OpenCV with <a href=\"https://cmake.org/cmake/help/v3.0/variable/BUILD_SHARED_LIBS.html\" rel=\"nofollow noreferrer\">BUILD_SHARED_LIBS=ON</a>?"},{"owner":{"account_id":5359648,"reputation":427,"user_id":4271331,"display_name":"Gustavo Ponce"},"score":0,"creation_date":1570486264,"post_id":58262682,"comment_id":102921834,"body_markdown":"Yes, I already tried with BUILD_SHARED_LIBS=ON and behaves in the same way","body":"Yes, I already tried with BUILD_SHARED_LIBS=ON and behaves in the same way"},{"owner":{"account_id":232720,"reputation":1625,"user_id":497753,"accept_rate":70,"display_name":"Mannie"},"score":0,"creation_date":1591786887,"post_id":58262682,"comment_id":110186530,"body_markdown":"@GustavoPonce - did you ever resolve this?","body":"@GustavoPonce - did you ever resolve this?"}],"answers":[{"tags":[],"owner":{"account_id":17902900,"reputation":1,"user_id":13006762,"display_name":"RajVadrevu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583341489,"creation_date":1583334525,"answer_id":60529064,"question_id":58262682,"body_markdown":"Copy the `libopencv_java342.so` file from `/usr/local/lib` to `/usr/lib`.\r\n\r\nIf the `.so` files are not generated, try this:\r\n```\r\ncmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr ..\r\n```","title":"Docker + Java + OpenCV, no opencv_java342 in java.library.path","body":"<p>Copy the <code>libopencv_java342.so</code> file from <code>/usr/local/lib</code> to <code>/usr/lib</code>.</p>\n\n<p>If the <code>.so</code> files are not generated, try this:</p>\n\n<pre><code>cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr ..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8594874,"reputation":531,"user_id":6438191,"display_name":"Juan Cabello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627308873,"creation_date":1627308873,"answer_id":68531482,"question_id":58262682,"body_markdown":"I had a similar issue and I notice from your post two things that are missing\r\n1. In the OpenCV Compilation process file, in the section &quot;OpenCV modules: To be built: &quot;, I don&#39;t see java. According to the official documentation java must be there.\r\n\r\n&gt; Examine the output of CMake and ensure java is one of the modules &quot;To be built&quot;. If not, it&#39;s likely you&#39;re missing a dependency. \r\n\r\n2. I don&#39;t see Python in your Dockerfile and you need it. This is requirement mentioned in the official doc. \r\n&gt;  In order to build OpenCV with Java bindings you need JDK (Java Development Kit) (we recommend Oracle/Sun JDK 6 or 7), Apache Ant and Python v2.6 or higher to be installed.\r\n\r\nI used this line\r\n\r\n    RUN apt-get install -y python3.8\r\n\r\nCuriously, when I added python, java was included in the &quot;OpenCV modules to be built&quot;\r\n\r\n","title":"Docker + Java + OpenCV, no opencv_java342 in java.library.path","body":"<p>I had a similar issue and I notice from your post two things that are missing</p>\n<ol>\n<li>In the OpenCV Compilation process file, in the section &quot;OpenCV modules: To be built: &quot;, I don't see java. According to the official documentation java must be there.</li>\n</ol>\n<blockquote>\n<p>Examine the output of CMake and ensure java is one of the modules &quot;To be built&quot;. If not, it's likely you're missing a dependency.</p>\n</blockquote>\n<ol start=\"2\">\n<li>I don't see Python in your Dockerfile and you need it. This is requirement mentioned in the official doc.</li>\n</ol>\n<blockquote>\n<p>In order to build OpenCV with Java bindings you need JDK (Java Development Kit) (we recommend Oracle/Sun JDK 6 or 7), Apache Ant and Python v2.6 or higher to be installed.</p>\n</blockquote>\n<p>I used this line</p>\n<pre><code>RUN apt-get install -y python3.8\n</code></pre>\n<p>Curiously, when I added python, java was included in the &quot;OpenCV modules to be built&quot;</p>\n"},{"tags":[],"owner":{"account_id":28151621,"reputation":1,"user_id":21513046,"display_name":"Baljeet Sandhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690149946,"creation_date":1690149946,"answer_id":76750478,"question_id":58262682,"body_markdown":"**Open CV 4.8 with Java** \r\n\r\n- This Docker file downloads source and builds an OpenCV in a Debian\r\n   container \r\n- Image contains the Java Jar (opencv-480.jar) and the corresponding share libs (libopencv_java480.so). These are needed for Java &lt;&gt; OpenCV interop \r\n- All transitive dependent .so libs are copied into the `opencvlibs` dir. If you are deploying on Debian linux, copy the contents of `opencvlibs` to your `libs` dir. Linux will then find them by convention\r\n\r\nRunning with Java:\r\n- The Jar must be on classpath\r\n- The .so must be specified via `java.library.path` \r\n\r\nDocker file:\r\n\r\n```\r\nFROM debian:11 AS opencv-libs\r\n\r\n# Install minimal prerequisites (Ubuntu 18.04 as reference)\r\n# Build tools for OpenCV\r\n# libavcodec, libavformat, libswscale, libavutil, libswresample are needed by ffmpeg. See https://ffmpeg.org/about.html\r\nRUN apt update &amp;&amp; \\\r\napt install \\\r\ncmake build-essential g++ openjdk-17-jdk wget unzip ant python3 python3-numpy \\\r\nlibtbb-dev libeigen3-dev \\\r\nlibavcodec-dev libavformat-dev libswscale-dev libavutil-dev libswresample-dev liblzma-dev \\\r\nffmpeg libpulse0 -y\r\n\r\n# Download and unpack OpenCV sources\r\n# Note that the Java jar version must match the version we build here - 4.8 at the moment\r\nRUN wget -O opencv.zip https://github.com/opencv/opencv/archive/4.x.zip &amp;&amp; unzip opencv.zip\r\n\r\n# Create build directory\r\nRUN mkdir -p build &amp;&amp; cd build\r\n\r\n# Configure OpenCV. Turn off features we do not need to restrict size\r\n# See: https://docs.opencv.org/4.x/db/d05/tutorial_config_reference.html\r\n#\r\n# CMAKE OUTPUT, MUST LOOK LIKE SHOWN BELOW:\r\n# Important things to note:\r\n# - Java/ant/JNI are enabled under Java:\r\n# - FFMPEG is enabled under Video I/O:\r\n#\r\n# CMAKE OUTPUT #################################################################################################################################\r\n#11 28.73 --   OpenCV modules:\r\n#11 28.74 --     To be built:                 calib3d core features2d flann gapi imgcodecs imgproc java objdetect photo stitching video videoio\r\n#11 28.74 --     Disabled:                    dnn highgui ml world\r\n#11 28.74 --     Disabled by dependency:      -\r\n#11 28.74 --     Unavailable:                 python2 python3 ts\r\n#11 28.74 --     Applications:                -\r\n#11 28.74 --     Documentation:               NO\r\n#11 28.74 --     Non-free algorithms:         NO\r\n#11 28.74 --\r\n#11 28.74 --   GUI:\r\n#11 28.74 --     GTK+:                        NO\r\n#11 28.74 --     VTK support:                 NO\r\n#11 28.74 --\r\n#11 28.74 --   Media I/O:\r\n#11 28.74 --     ZLib:                        zlib (ver 1.2.13)\r\n#11 28.74 --     JPEG:                        libjpeg-turbo (ver 2.1.3-62)\r\n#11 28.74 --     WEBP:                        build (ver encoder: 0x020f)\r\n#11 28.74 --     PNG:                         build (ver 1.6.37)\r\n#11 28.74 --     TIFF:                        build (ver 42 - 4.2.0)\r\n#11 28.74 --     JPEG 2000:                   build (ver 2.5.0)\r\n#11 28.74 --     OpenEXR:                     build (ver 2.3.0)\r\n#11 28.75 --     HDR:                         YES\r\n#11 28.75 --     SUNRASTER:                   YES\r\n#11 28.75 --     PXM:                         YES\r\n#11 28.75 --     PFM:                         YES\r\n#11 28.75 --\r\n#11 28.75 --   Video I/O:\r\n#11 28.75 --     DC1394:                      NO\r\n#11 28.75 --     FFMPEG:                      YES\r\n#11 28.75 --       avcodec:                   YES (58.91.100)\r\n#11 28.75 --       avformat:                  YES (58.45.100)\r\n#11 28.75 --       avutil:                    YES (56.51.100)\r\n#11 28.75 --       swscale:                   YES (5.7.100)\r\n#11 28.75 --       avresample:                NO\r\n#11 28.75 --\r\n#...\r\n#11 28.76 --   Java:\r\n#11 28.76 --     ant:                         /usr/bin/ant (ver 1.10.9)\r\n#11 28.76 --     Java:                        NO\r\n#11 28.76 --     JNI:                         /usr/lib/jvm/java-17-openjdk-amd64/include /usr/lib/jvm/java-17-openjdk-amd64/include/linux /usr/lib/jvm/java-17-openjdk-amd64/include\r\n#11 28.76 --     Java wrappers:               YES (ANT)\r\n#11 28.76 --     Java tests:                  NO\r\n# ########################################################################################################################################################\r\n\r\n# OpenCV build needs JDK\r\nENV JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\r\n\r\nRUN cmake -DWITH_GSTREAMER=OFF \\\r\n-DBUILD_opencv_highgui=OFF \\\r\n-DBUILD_opencv_dnn=OFF \\\r\n-DBUILD_opencv_ml=OFF \\\r\n-DBUILD_opencv_apps=OFF \\\r\n-DBUILD_opencv_js=OFF \\\r\n-DBUILD_opencv_ts=OFF \\\r\n-DBUILD_opencv_viz=OFF \\\r\n-DBUILD_opencv_lagacy=OFF \\\r\n-DBUILD_opencv_androidcamera=OFF \\\r\n-DBUILD_SHARED_LIBS=OFF \\\r\n-DBUILD_PERF_TESTS=OFF \\\r\n-DBUILD_TESTS=OFF \\\r\n-DBUILD_opencv_python2=OFF  \\\r\n-DOPENCV_FFMPEG_SKIP_BUILD_CHECK=ON \\\r\n-DWITH_V4L=OFF \\\r\n-DWITH_FFMPEG=ON \\\r\n-DBUILD_opencv_python3=OFF ../opencv-4.x\r\n\r\n# Build OpenCV Java shared lib\r\nRUN make -j8\r\n\r\nFROM debian:11 AS opencv\r\n\r\nCOPY --from=opencv-libs /usr/bin/ffmpeg /usr/bin/ffmpeg\r\n\r\n# Big(ish) static lib from the OpenCV build. Contains all OpenCV deps.\r\n# OpenCV JNI layer needs this to work\r\nCOPY --from=opencv-libs /lib/libopencv_java480.so /opencvlibs/\r\nCOPY --from=opencv-libs /bin/opencv-480.jar /opencvlibs/\r\n\r\n# These are all the shared libs needed by OpenCV - not available in the Distroless container\r\n# Copy all the /lib dir. Linux will pick up shared libs from /lib by default convention\r\nCOPY --from=opencv-libs /lib/liblzma* \\\r\n/lib/x86_64-linux-gnu/liblzma* \\\r\n/lib/x86_64-linux-gnu/libbz2* \\\r\n/lib/x86_64-linux-gnu/libgpg-error* \\\r\n/lib/x86_64-linux-gnu/libselinux* \\\r\n/lib/x86_64-linux-gnu/libcom_err* \\\r\n/lib/x86_64-linux-gnu/libkeyutils* \\\r\n/lib/x86_64-linux-gnu/libncursesw.so.6 \\\r\n/lib/x86_64-linux-gnu/libtinfo.so.6 \\\r\n/lib/x86_64-linux-gnu/libdbus-1.so.3 \\\r\n/lib/x86_64-linux-gnu/libtirpc.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libavcodec.so.58 \\\r\n/usr/lib/x86_64-linux-gnu/libavutil.so.56 \\\r\n/usr/lib/x86_64-linux-gnu/libswscale.so.5 \\\r\n/usr/lib/x86_64-linux-gnu/libavformat.so.58 \\\r\n/usr/lib/x86_64-linux-gnu/libswresample.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libavdevice.so.58 \\\r\n/usr/lib/x86_64-linux-gnu/libavfilter.so.7 \\\r\n/usr/lib/x86_64-linux-gnu/libavresample.so.4 \\\r\n/usr/lib/x86_64-linux-gnu/libpostproc.so.55 \\\r\n/usr/lib/x86_64-linux-gnu/libraw1394.so.11 \\\r\n/usr/lib/x86_64-linux-gnu/libavc1394.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/librom1394.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libiec61883.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libjack.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libopenal.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libcdio_paranoia.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libcdio_cdda.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libdc1394.so.25 \\\r\n/usr/lib/x86_64-linux-gnu/libcaca.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libpulse.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/pulseaudio/libpulsecommon-14.2.so \\\r\n/usr/lib/x86_64-linux-gnu/libwrap.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libsndfile.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libasyncns.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libwayland-server.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libgfortran.so.5 \\\r\n/usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libpocketsphinx.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libsphinxbase.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libbs2b.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/liblilv-0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libquadmath.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/librubberband.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libmysofa.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libFLAC.so.8 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_awb.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_kal.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_kal16.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_rms.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_slt.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libass.so.9 \\\r\n/usr/lib/x86_64-linux-gnu/libusb-1.0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libslang.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libXss.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libgbm.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libwayland-egl.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libwayland-cursor.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libxkbcommon.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libblas.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/liblapack.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libserd-0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libsord-0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libsratom-0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libsamplerate.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libfftw3.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_usenglish.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmulex.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_usenglish.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libvidstab.so.1.1 \\\r\n/usr/lib/x86_64-linux-gnu/libsndio.so.7.0 \\\r\n/usr/lib/x86_64-linux-gnu/libcdio.so.19 \\\r\n/usr/lib/x86_64-linux-gnu/libcdio.so.19 \\\r\n/usr/lib/x86_64-linux-gnu/libdc1394.so.25 \\\r\n/usr/lib/x86_64-linux-gnu/libaom* \\\r\n/usr/lib/x86_64-linux-gnu/libbluray* \\\r\n/usr/lib/x86_64-linux-gnu/libcairo.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libcairo-gobject.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libchromaprint* \\\r\n/usr/lib/x86_64-linux-gnu/libcodec2* \\\r\n/usr/lib/x86_64-linux-gnu/libdav1d.so.4 \\\r\n/usr/lib/x86_64-linux-gnu/libdrm* \\\r\n/usr/lib/x86_64-linux-gnu/libglib-2* \\\r\n/usr/lib/x86_64-linux-gnu/libgme* \\\r\n/usr/lib/x86_64-linux-gnu/libgobject-2* \\\r\n/usr/lib/x86_64-linux-gnu/libgsm* \\\r\n/usr/lib/x86_64-linux-gnu/libmfx* \\\r\n/usr/lib/x86_64-linux-gnu/libmp3lame.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libOpenCL* \\\r\n/usr/lib/x86_64-linux-gnu/libopenjp2* \\\r\n/usr/lib/x86_64-linux-gnu/libopenmpt.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libopus* \\\r\n/usr/lib/x86_64-linux-gnu/librabbitmq* \\\r\n/usr/lib/x86_64-linux-gnu/librsvg-2.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libshine* \\\r\n/usr/lib/x86_64-linux-gnu/libsnappy* \\\r\n/usr/lib/x86_64-linux-gnu/libsoxr* \\\r\n/usr/lib/x86_64-linux-gnu/libspeex* \\\r\n/usr/lib/x86_64-linux-gnu/libsrt-gnutls.so.1.4 \\\r\n/usr/lib/x86_64-linux-gnu/libssh-gcrypt.so.4 \\\r\n/usr/lib/x86_64-linux-gnu/libtheoradec* \\\r\n/usr/lib/x86_64-linux-gnu/libtheoraenc.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libtwolame* \\\r\n/usr/lib/x86_64-linux-gnu/libva-drm* \\\r\n/usr/lib/x86_64-linux-gnu/libva* \\\r\n/usr/lib/x86_64-linux-gnu/libvdpau* \\\r\n/usr/lib/x86_64-linux-gnu/libvorbis* \\\r\n/usr/lib/x86_64-linux-gnu/libvorbisenc.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libvpx.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/libwavpack* \\\r\n/usr/lib/x86_64-linux-gnu/libwebp.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/libwebpmux* \\\r\n/usr/lib/x86_64-linux-gnu/libX11.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/ibx26460* \\\r\n/usr/lib/x86_64-linux-gnu/libx26592* \\\r\n/usr/lib/x86_64-linux-gnu/libxml2.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libxvidcore.so.4 \\\r\n/usr/lib/x86_64-linux-gnu/libzmq.so.5 \\\r\n/usr/lib/x86_64-linux-gnu/libzvbi.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libpangocairo-1.0* \\\r\n/usr/lib/x86_64-linux-gnu/libxcb-shm* \\\r\n/usr/lib/x86_64-linux-gnu/libxcb* \\\r\n/usr/lib/x86_64-linux-gnu/libXrender* \\\r\n/usr/lib/x86_64-linux-gnu/libffi* \\\r\n/usr/lib/x86_64-linux-gnu/libpango-1.0* \\\r\n/usr/lib/x86_64-linux-gnu/libpixman-1.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libgdk_pixbuf* \\\r\n/usr/lib/x86_64-linux-gnu/libgnutls.so.30 \\\r\n/usr/lib/x86_64-linux-gnu/libx264* \\\r\n/usr/lib/x86_64-linux-gnu/libx265* \\\r\n/usr/lib/x86_64-linux-gnu/libogg* \\\r\n/usr/lib/x86_64-linux-gnu/libnuma* \\\r\n/usr/lib/x86_64-linux-gnu/libmpg123* \\\r\n/usr/lib/x86_64-linux-gnu/libudfread* \\\r\n/usr/lib/x86_64-linux-gnu/libsodium.so.23 \\\r\n/usr/lib/x86_64-linux-gnu/libpgm-5.3* \\\r\n/usr/lib/x86_64-linux-gnu/libnorm.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libgomp.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libXext* \\\r\n/usr/lib/x86_64-linux-gnu/libicuuc.so.67 \\\r\n/usr/lib/x86_64-linux-gnu/libp11-kit.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libidn2* \\\r\n/usr/lib/x86_64-linux-gnu/libunistring.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libtasn1* \\\r\n/usr/lib/x86_64-linux-gnu/libnettle.so.8 \\\r\n/usr/lib/x86_64-linux-gnu/libhogweed.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/libgmp.so.10 \\\r\n/usr/lib/x86_64-linux-gnu/libgcrypt.so.20 \\\r\n/usr/lib/x86_64-linux-gnu/libgssapi_krb5* \\\r\n/usr/lib/x86_64-linux-gnu/libbsd* \\\r\n/usr/lib/x86_64-linux-gnu/libXfixes* \\\r\n/usr/lib/x86_64-linux-gnu/libmount.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libpangoft2-1.0* \\\r\n/usr/lib/x86_64-linux-gnu/libfribidi* \\\r\n/usr/lib/x86_64-linux-gnu/libthai* \\\r\n/usr/lib/x86_64-linux-gnu/libXau* \\\r\n/usr/lib/x86_64-linux-gnu/libXdmcp* \\\r\n/usr/lib/x86_64-linux-gnu/libicudata.so.67 \\\r\n/usr/lib/x86_64-linux-gnu/libkrb5.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libkrb5support.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libk5crypto* \\\r\n/usr/lib/x86_64-linux-gnu/libmd* \\\r\n/usr/lib/x86_64-linux-gnu/libblkid* \\\r\n/usr/lib/x86_64-linux-gnu/libpcre2-8.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libdatrie* \\\r\n/usr/lib/x86_64-linux-gnu/libasound.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libGL.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libXv.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libGLdispatch.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libGLX.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libXcursor.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libXinerama.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libXi.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/libXrandr.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libXxf86vm.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libwayland-client.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libudev.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libsystemd.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libzstd.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/liblz4.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libnsl.so.2 \\\r\n/opencvlibs/\r\n\r\nENTRYPOINT [&quot;ls&quot;, &quot;opencvlibs&quot;]\r\n\r\n```","title":"Docker + Java + OpenCV, no opencv_java342 in java.library.path","body":"<p><strong>Open CV 4.8 with Java</strong></p>\n<ul>\n<li>This Docker file downloads source and builds an OpenCV in a Debian\ncontainer</li>\n<li>Image contains the Java Jar (opencv-480.jar) and the corresponding share libs (libopencv_java480.so). These are needed for Java &lt;&gt; OpenCV interop</li>\n<li>All transitive dependent .so libs are copied into the <code>opencvlibs</code> dir. If you are deploying on Debian linux, copy the contents of <code>opencvlibs</code> to your <code>libs</code> dir. Linux will then find them by convention</li>\n</ul>\n<p>Running with Java:</p>\n<ul>\n<li>The Jar must be on classpath</li>\n<li>The .so must be specified via <code>java.library.path</code></li>\n</ul>\n<p>Docker file:</p>\n<pre><code>FROM debian:11 AS opencv-libs\n\n# Install minimal prerequisites (Ubuntu 18.04 as reference)\n# Build tools for OpenCV\n# libavcodec, libavformat, libswscale, libavutil, libswresample are needed by ffmpeg. See https://ffmpeg.org/about.html\nRUN apt update &amp;&amp; \\\napt install \\\ncmake build-essential g++ openjdk-17-jdk wget unzip ant python3 python3-numpy \\\nlibtbb-dev libeigen3-dev \\\nlibavcodec-dev libavformat-dev libswscale-dev libavutil-dev libswresample-dev liblzma-dev \\\nffmpeg libpulse0 -y\n\n# Download and unpack OpenCV sources\n# Note that the Java jar version must match the version we build here - 4.8 at the moment\nRUN wget -O opencv.zip https://github.com/opencv/opencv/archive/4.x.zip &amp;&amp; unzip opencv.zip\n\n# Create build directory\nRUN mkdir -p build &amp;&amp; cd build\n\n# Configure OpenCV. Turn off features we do not need to restrict size\n# See: https://docs.opencv.org/4.x/db/d05/tutorial_config_reference.html\n#\n# CMAKE OUTPUT, MUST LOOK LIKE SHOWN BELOW:\n# Important things to note:\n# - Java/ant/JNI are enabled under Java:\n# - FFMPEG is enabled under Video I/O:\n#\n# CMAKE OUTPUT #################################################################################################################################\n#11 28.73 --   OpenCV modules:\n#11 28.74 --     To be built:                 calib3d core features2d flann gapi imgcodecs imgproc java objdetect photo stitching video videoio\n#11 28.74 --     Disabled:                    dnn highgui ml world\n#11 28.74 --     Disabled by dependency:      -\n#11 28.74 --     Unavailable:                 python2 python3 ts\n#11 28.74 --     Applications:                -\n#11 28.74 --     Documentation:               NO\n#11 28.74 --     Non-free algorithms:         NO\n#11 28.74 --\n#11 28.74 --   GUI:\n#11 28.74 --     GTK+:                        NO\n#11 28.74 --     VTK support:                 NO\n#11 28.74 --\n#11 28.74 --   Media I/O:\n#11 28.74 --     ZLib:                        zlib (ver 1.2.13)\n#11 28.74 --     JPEG:                        libjpeg-turbo (ver 2.1.3-62)\n#11 28.74 --     WEBP:                        build (ver encoder: 0x020f)\n#11 28.74 --     PNG:                         build (ver 1.6.37)\n#11 28.74 --     TIFF:                        build (ver 42 - 4.2.0)\n#11 28.74 --     JPEG 2000:                   build (ver 2.5.0)\n#11 28.74 --     OpenEXR:                     build (ver 2.3.0)\n#11 28.75 --     HDR:                         YES\n#11 28.75 --     SUNRASTER:                   YES\n#11 28.75 --     PXM:                         YES\n#11 28.75 --     PFM:                         YES\n#11 28.75 --\n#11 28.75 --   Video I/O:\n#11 28.75 --     DC1394:                      NO\n#11 28.75 --     FFMPEG:                      YES\n#11 28.75 --       avcodec:                   YES (58.91.100)\n#11 28.75 --       avformat:                  YES (58.45.100)\n#11 28.75 --       avutil:                    YES (56.51.100)\n#11 28.75 --       swscale:                   YES (5.7.100)\n#11 28.75 --       avresample:                NO\n#11 28.75 --\n#...\n#11 28.76 --   Java:\n#11 28.76 --     ant:                         /usr/bin/ant (ver 1.10.9)\n#11 28.76 --     Java:                        NO\n#11 28.76 --     JNI:                         /usr/lib/jvm/java-17-openjdk-amd64/include /usr/lib/jvm/java-17-openjdk-amd64/include/linux /usr/lib/jvm/java-17-openjdk-amd64/include\n#11 28.76 --     Java wrappers:               YES (ANT)\n#11 28.76 --     Java tests:                  NO\n# ########################################################################################################################################################\n\n# OpenCV build needs JDK\nENV JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\n\nRUN cmake -DWITH_GSTREAMER=OFF \\\n-DBUILD_opencv_highgui=OFF \\\n-DBUILD_opencv_dnn=OFF \\\n-DBUILD_opencv_ml=OFF \\\n-DBUILD_opencv_apps=OFF \\\n-DBUILD_opencv_js=OFF \\\n-DBUILD_opencv_ts=OFF \\\n-DBUILD_opencv_viz=OFF \\\n-DBUILD_opencv_lagacy=OFF \\\n-DBUILD_opencv_androidcamera=OFF \\\n-DBUILD_SHARED_LIBS=OFF \\\n-DBUILD_PERF_TESTS=OFF \\\n-DBUILD_TESTS=OFF \\\n-DBUILD_opencv_python2=OFF  \\\n-DOPENCV_FFMPEG_SKIP_BUILD_CHECK=ON \\\n-DWITH_V4L=OFF \\\n-DWITH_FFMPEG=ON \\\n-DBUILD_opencv_python3=OFF ../opencv-4.x\n\n# Build OpenCV Java shared lib\nRUN make -j8\n\nFROM debian:11 AS opencv\n\nCOPY --from=opencv-libs /usr/bin/ffmpeg /usr/bin/ffmpeg\n\n# Big(ish) static lib from the OpenCV build. Contains all OpenCV deps.\n# OpenCV JNI layer needs this to work\nCOPY --from=opencv-libs /lib/libopencv_java480.so /opencvlibs/\nCOPY --from=opencv-libs /bin/opencv-480.jar /opencvlibs/\n\n# These are all the shared libs needed by OpenCV - not available in the Distroless container\n# Copy all the /lib dir. Linux will pick up shared libs from /lib by default convention\nCOPY --from=opencv-libs /lib/liblzma* \\\n/lib/x86_64-linux-gnu/liblzma* \\\n/lib/x86_64-linux-gnu/libbz2* \\\n/lib/x86_64-linux-gnu/libgpg-error* \\\n/lib/x86_64-linux-gnu/libselinux* \\\n/lib/x86_64-linux-gnu/libcom_err* \\\n/lib/x86_64-linux-gnu/libkeyutils* \\\n/lib/x86_64-linux-gnu/libncursesw.so.6 \\\n/lib/x86_64-linux-gnu/libtinfo.so.6 \\\n/lib/x86_64-linux-gnu/libdbus-1.so.3 \\\n/lib/x86_64-linux-gnu/libtirpc.so.3 \\\n/usr/lib/x86_64-linux-gnu/libavcodec.so.58 \\\n/usr/lib/x86_64-linux-gnu/libavutil.so.56 \\\n/usr/lib/x86_64-linux-gnu/libswscale.so.5 \\\n/usr/lib/x86_64-linux-gnu/libavformat.so.58 \\\n/usr/lib/x86_64-linux-gnu/libswresample.so.3 \\\n/usr/lib/x86_64-linux-gnu/libavdevice.so.58 \\\n/usr/lib/x86_64-linux-gnu/libavfilter.so.7 \\\n/usr/lib/x86_64-linux-gnu/libavresample.so.4 \\\n/usr/lib/x86_64-linux-gnu/libpostproc.so.55 \\\n/usr/lib/x86_64-linux-gnu/libraw1394.so.11 \\\n/usr/lib/x86_64-linux-gnu/libavc1394.so.0 \\\n/usr/lib/x86_64-linux-gnu/librom1394.so.0 \\\n/usr/lib/x86_64-linux-gnu/libiec61883.so.0 \\\n/usr/lib/x86_64-linux-gnu/libjack.so.0 \\\n/usr/lib/x86_64-linux-gnu/libopenal.so.1 \\\n/usr/lib/x86_64-linux-gnu/libcdio_paranoia.so.2 \\\n/usr/lib/x86_64-linux-gnu/libcdio_cdda.so.2 \\\n/usr/lib/x86_64-linux-gnu/libdc1394.so.25 \\\n/usr/lib/x86_64-linux-gnu/libcaca.so.0 \\\n/usr/lib/x86_64-linux-gnu/libpulse.so.0 \\\n/usr/lib/x86_64-linux-gnu/pulseaudio/libpulsecommon-14.2.so \\\n/usr/lib/x86_64-linux-gnu/libwrap.so.0 \\\n/usr/lib/x86_64-linux-gnu/libsndfile.so.1 \\\n/usr/lib/x86_64-linux-gnu/libasyncns.so.0 \\\n/usr/lib/x86_64-linux-gnu/libwayland-server.so.0 \\\n/usr/lib/x86_64-linux-gnu/libgfortran.so.5 \\\n/usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libpocketsphinx.so.3 \\\n/usr/lib/x86_64-linux-gnu/libsphinxbase.so.3 \\\n/usr/lib/x86_64-linux-gnu/libbs2b.so.0 \\\n/usr/lib/x86_64-linux-gnu/liblilv-0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libquadmath.so.0 \\\n/usr/lib/x86_64-linux-gnu/librubberband.so.2 \\\n/usr/lib/x86_64-linux-gnu/libmysofa.so.1 \\\n/usr/lib/x86_64-linux-gnu/libFLAC.so.8 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_awb.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_kal.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_kal16.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_rms.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_slt.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite.so.1 \\\n/usr/lib/x86_64-linux-gnu/libass.so.9 \\\n/usr/lib/x86_64-linux-gnu/libusb-1.0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libslang.so.2 \\\n/usr/lib/x86_64-linux-gnu/libXss.so.1 \\\n/usr/lib/x86_64-linux-gnu/libgbm.so.1 \\\n/usr/lib/x86_64-linux-gnu/libwayland-egl.so.1 \\\n/usr/lib/x86_64-linux-gnu/libwayland-cursor.so.0 \\\n/usr/lib/x86_64-linux-gnu/libxkbcommon.so.0 \\\n/usr/lib/x86_64-linux-gnu/libblas.so.3 \\\n/usr/lib/x86_64-linux-gnu/liblapack.so.3 \\\n/usr/lib/x86_64-linux-gnu/libserd-0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libsord-0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libsratom-0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libsamplerate.so.0 \\\n/usr/lib/x86_64-linux-gnu/libfftw3.so.3 \\\n/usr/lib/x86_64-linux-gnu/libflite_usenglish.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmulex.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_usenglish.so.1 \\\n/usr/lib/x86_64-linux-gnu/libvidstab.so.1.1 \\\n/usr/lib/x86_64-linux-gnu/libsndio.so.7.0 \\\n/usr/lib/x86_64-linux-gnu/libcdio.so.19 \\\n/usr/lib/x86_64-linux-gnu/libcdio.so.19 \\\n/usr/lib/x86_64-linux-gnu/libdc1394.so.25 \\\n/usr/lib/x86_64-linux-gnu/libaom* \\\n/usr/lib/x86_64-linux-gnu/libbluray* \\\n/usr/lib/x86_64-linux-gnu/libcairo.so.2 \\\n/usr/lib/x86_64-linux-gnu/libcairo-gobject.so.2 \\\n/usr/lib/x86_64-linux-gnu/libchromaprint* \\\n/usr/lib/x86_64-linux-gnu/libcodec2* \\\n/usr/lib/x86_64-linux-gnu/libdav1d.so.4 \\\n/usr/lib/x86_64-linux-gnu/libdrm* \\\n/usr/lib/x86_64-linux-gnu/libglib-2* \\\n/usr/lib/x86_64-linux-gnu/libgme* \\\n/usr/lib/x86_64-linux-gnu/libgobject-2* \\\n/usr/lib/x86_64-linux-gnu/libgsm* \\\n/usr/lib/x86_64-linux-gnu/libmfx* \\\n/usr/lib/x86_64-linux-gnu/libmp3lame.so.0 \\\n/usr/lib/x86_64-linux-gnu/libOpenCL* \\\n/usr/lib/x86_64-linux-gnu/libopenjp2* \\\n/usr/lib/x86_64-linux-gnu/libopenmpt.so.0 \\\n/usr/lib/x86_64-linux-gnu/libopus* \\\n/usr/lib/x86_64-linux-gnu/librabbitmq* \\\n/usr/lib/x86_64-linux-gnu/librsvg-2.so.2 \\\n/usr/lib/x86_64-linux-gnu/libshine* \\\n/usr/lib/x86_64-linux-gnu/libsnappy* \\\n/usr/lib/x86_64-linux-gnu/libsoxr* \\\n/usr/lib/x86_64-linux-gnu/libspeex* \\\n/usr/lib/x86_64-linux-gnu/libsrt-gnutls.so.1.4 \\\n/usr/lib/x86_64-linux-gnu/libssh-gcrypt.so.4 \\\n/usr/lib/x86_64-linux-gnu/libtheoradec* \\\n/usr/lib/x86_64-linux-gnu/libtheoraenc.so.1 \\\n/usr/lib/x86_64-linux-gnu/libtwolame* \\\n/usr/lib/x86_64-linux-gnu/libva-drm* \\\n/usr/lib/x86_64-linux-gnu/libva* \\\n/usr/lib/x86_64-linux-gnu/libvdpau* \\\n/usr/lib/x86_64-linux-gnu/libvorbis* \\\n/usr/lib/x86_64-linux-gnu/libvorbisenc.so.2 \\\n/usr/lib/x86_64-linux-gnu/libvpx.so.6 \\\n/usr/lib/x86_64-linux-gnu/libwavpack* \\\n/usr/lib/x86_64-linux-gnu/libwebp.so.6 \\\n/usr/lib/x86_64-linux-gnu/libwebpmux* \\\n/usr/lib/x86_64-linux-gnu/libX11.so.6 \\\n/usr/lib/x86_64-linux-gnu/ibx26460* \\\n/usr/lib/x86_64-linux-gnu/libx26592* \\\n/usr/lib/x86_64-linux-gnu/libxml2.so.2 \\\n/usr/lib/x86_64-linux-gnu/libxvidcore.so.4 \\\n/usr/lib/x86_64-linux-gnu/libzmq.so.5 \\\n/usr/lib/x86_64-linux-gnu/libzvbi.so.0 \\\n/usr/lib/x86_64-linux-gnu/libpangocairo-1.0* \\\n/usr/lib/x86_64-linux-gnu/libxcb-shm* \\\n/usr/lib/x86_64-linux-gnu/libxcb* \\\n/usr/lib/x86_64-linux-gnu/libXrender* \\\n/usr/lib/x86_64-linux-gnu/libffi* \\\n/usr/lib/x86_64-linux-gnu/libpango-1.0* \\\n/usr/lib/x86_64-linux-gnu/libpixman-1.so.0 \\\n/usr/lib/x86_64-linux-gnu/libgdk_pixbuf* \\\n/usr/lib/x86_64-linux-gnu/libgnutls.so.30 \\\n/usr/lib/x86_64-linux-gnu/libx264* \\\n/usr/lib/x86_64-linux-gnu/libx265* \\\n/usr/lib/x86_64-linux-gnu/libogg* \\\n/usr/lib/x86_64-linux-gnu/libnuma* \\\n/usr/lib/x86_64-linux-gnu/libmpg123* \\\n/usr/lib/x86_64-linux-gnu/libudfread* \\\n/usr/lib/x86_64-linux-gnu/libsodium.so.23 \\\n/usr/lib/x86_64-linux-gnu/libpgm-5.3* \\\n/usr/lib/x86_64-linux-gnu/libnorm.so.1 \\\n/usr/lib/x86_64-linux-gnu/libgomp.so.1 \\\n/usr/lib/x86_64-linux-gnu/libXext* \\\n/usr/lib/x86_64-linux-gnu/libicuuc.so.67 \\\n/usr/lib/x86_64-linux-gnu/libp11-kit.so.0 \\\n/usr/lib/x86_64-linux-gnu/libidn2* \\\n/usr/lib/x86_64-linux-gnu/libunistring.so.2 \\\n/usr/lib/x86_64-linux-gnu/libtasn1* \\\n/usr/lib/x86_64-linux-gnu/libnettle.so.8 \\\n/usr/lib/x86_64-linux-gnu/libhogweed.so.6 \\\n/usr/lib/x86_64-linux-gnu/libgmp.so.10 \\\n/usr/lib/x86_64-linux-gnu/libgcrypt.so.20 \\\n/usr/lib/x86_64-linux-gnu/libgssapi_krb5* \\\n/usr/lib/x86_64-linux-gnu/libbsd* \\\n/usr/lib/x86_64-linux-gnu/libXfixes* \\\n/usr/lib/x86_64-linux-gnu/libmount.so.1 \\\n/usr/lib/x86_64-linux-gnu/libpangoft2-1.0* \\\n/usr/lib/x86_64-linux-gnu/libfribidi* \\\n/usr/lib/x86_64-linux-gnu/libthai* \\\n/usr/lib/x86_64-linux-gnu/libXau* \\\n/usr/lib/x86_64-linux-gnu/libXdmcp* \\\n/usr/lib/x86_64-linux-gnu/libicudata.so.67 \\\n/usr/lib/x86_64-linux-gnu/libkrb5.so.3 \\\n/usr/lib/x86_64-linux-gnu/libkrb5support.so.0 \\\n/usr/lib/x86_64-linux-gnu/libk5crypto* \\\n/usr/lib/x86_64-linux-gnu/libmd* \\\n/usr/lib/x86_64-linux-gnu/libblkid* \\\n/usr/lib/x86_64-linux-gnu/libpcre2-8.so.0 \\\n/usr/lib/x86_64-linux-gnu/libdatrie* \\\n/usr/lib/x86_64-linux-gnu/libasound.so.2 \\\n/usr/lib/x86_64-linux-gnu/libGL.so.1 \\\n/usr/lib/x86_64-linux-gnu/libXv.so.1 \\\n/usr/lib/x86_64-linux-gnu/libGLdispatch.so.0 \\\n/usr/lib/x86_64-linux-gnu/libGLX.so.0 \\\n/usr/lib/x86_64-linux-gnu/libXcursor.so.1 \\\n/usr/lib/x86_64-linux-gnu/libXinerama.so.1 \\\n/usr/lib/x86_64-linux-gnu/libXi.so.6 \\\n/usr/lib/x86_64-linux-gnu/libXrandr.so.2 \\\n/usr/lib/x86_64-linux-gnu/libXxf86vm.so.1 \\\n/usr/lib/x86_64-linux-gnu/libwayland-client.so.0 \\\n/usr/lib/x86_64-linux-gnu/libudev.so.1 \\\n/usr/lib/x86_64-linux-gnu/libsystemd.so.0 \\\n/usr/lib/x86_64-linux-gnu/libzstd.so.1 \\\n/usr/lib/x86_64-linux-gnu/liblz4.so.1 \\\n/usr/lib/x86_64-linux-gnu/libnsl.so.2 \\\n/opencvlibs/\n\nENTRYPOINT [&quot;ls&quot;, &quot;opencvlibs&quot;]\n\n</code></pre>\n"}],"owner":{"account_id":5359648,"reputation":427,"user_id":4271331,"display_name":"Gustavo Ponce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3064,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690149946,"creation_date":1570413616,"question_id":58262682,"body_markdown":"I am trying to generate a docker image with the following characteristics\r\n\r\n - **SO** --&gt; ubuntu:18.04 \r\n - **Java** --&gt; openjdk-11-jdk \r\n - **OpenCV** --&gt; 3.4.2 version\r\n\r\nI am able to generate the images successfully but the java342 file is not generated in the lib folder, I am getting this exception: **no opencv_java342 in java.library.path**\r\n\r\nI am launching my app using the following command as entrypoint:\r\n\r\n    java -Djava.library.path=/var/lib/opencv-3.4.2/build/lib -jar Application.jar \r\n\r\n**Log Output**\r\n\r\n    Constructor threw exception; nested exception is java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1303) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at com.etaluma.oem.controller.camera.CameraServerApplication.main(CameraServerApplication.java:11) ~[classes!/:0.8.11-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.etaluma.oem.controller.camera.CameraServerImpl]: Constructor threw exception; nested exception is java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\r\n            at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1295) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            ... 24 common frames omitted\r\n    Caused by: java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\r\n            at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660) ~[na:na]\r\n            at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829) ~[na:na]\r\n            at java.base/java.lang.System.loadLibrary(System.java:1867) ~[na:na]\r\n            at com.etaluma.oem.controller.camera.CameraServerImpl.&lt;init&gt;(CameraServerImpl.java:24) ~[classes!/:0.8.11-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n            at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            ... 26 common frames omitted\r\n\r\n\r\n**Docker File**\r\n\r\n    FROM ubuntu:18.04\r\n    \r\n    RUN apt-get update\r\n    RUN apt-get install -y ant\r\n    RUN apt-get install -y openjdk-11-jdk\r\n    ARG JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n    ENV JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n    RUN echo $JAVA_HOME\r\n    RUN apt-get install -y wget\r\n    RUN apt-get install -y cmake\r\n    RUN apt-get install -y g++\r\n    RUN apt-get install -y unzip\r\n    RUN apt-get install -y vim\r\n    RUN java -version\r\n    \r\n    RUN wget https://github.com/opencv/opencv/archive/3.4.2.zip\r\n    RUN unzip 3.4.2.zip -d /var/lib/\r\n    RUN mkdir /var/lib/opencv-3.4.2/build\r\n    WORKDIR /var/lib/opencv-3.4.2/build\r\n    RUN cmake -DBUILD_SHARED_LIBS=OFF ..\r\n    RUN make -j8\r\n\r\n**Docker File System**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**General configuration from the OpenCV compilation process**\r\n\r\n    -- General configuration for OpenCV 3.4.2 =====================================\r\n    --   Version control:               unknown\r\n    --\r\n    --   Platform:\r\n    --     Timestamp:                   2019-10-07T00:32:28Z\r\n    --     Host:                        Linux 4.9.184-linuxkit x86_64\r\n    --     CMake:                       3.10.2\r\n    --     CMake generator:             Unix Makefiles\r\n    --     CMake build tool:            /usr/bin/make\r\n    --     Configuration:               Release\r\n    --\r\n    --   CPU/HW features:\r\n    --     Baseline:                    SSE SSE2 SSE3\r\n    --       requested:                 SSE3\r\n    --     Dispatched code generation:  SSE4_1 SSE4_2 FP16 AVX AVX2 AVX512_SKX\r\n    --       requested:                 SSE4_1 SSE4_2 AVX FP16 AVX2 AVX512_SKX\r\n    --       SSE4_1 (3 files):          + SSSE3 SSE4_1\r\n    --       SSE4_2 (1 files):          + SSSE3 SSE4_1 POPCNT SSE4_2\r\n    --       FP16 (2 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 AVX\r\n    --       AVX (5 files):             + SSSE3 SSE4_1 POPCNT SSE4_2 AVX\r\n    --       AVX2 (9 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2\r\n    --       AVX512_SKX (1 files):      + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2 AVX_512F AVX512_SKX\r\n    --\r\n    --   C/C++:\r\n    --     Built as dynamic libs?:      NO\r\n    --     C++11:                       YES\r\n    --     C++ Compiler:                /usr/bin/c++  (ver 7.4.0)\r\n    --     C++ flags (Release):         -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Winit-self -Wno-narrowing -Wno-delete-non-virtual-dtor -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -fvisibility-inlines-hidden -O3 -DNDEBUG  -DNDEBUG\r\n    --     C++ flags (Debug):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Winit-self -Wno-narrowing -Wno-delete-non-virtual-dtor -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -fvisibility-inlines-hidden -g  -O0 -DDEBUG -D_DEBUG\r\n    --     C Compiler:                  /usr/bin/cc\r\n    --     C flags (Release):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wuninitialized -Winit-self -Wno-narrowing -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -O3 -DNDEBUG  -DNDEBUG\r\n    --     C flags (Debug):             -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wuninitialized -Winit-self -Wno-narrowing -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -g  -O0 -DDEBUG -D_DEBUG\r\n    --     Linker flags (Release):\r\n    --     Linker flags (Debug):\r\n    --     ccache:                      NO\r\n    --     Precompiled headers:         YES\r\n    --     Extra dependencies:          dl m pthread rt\r\n    --     3rdparty dependencies:       ittnotify libprotobuf zlib libjpeg-turbo libwebp libpng libtiff libjasper IlmImf ippiw ippicv\r\n    --\r\n    --   OpenCV modules:\r\n    --     To be built:                 calib3d core dnn features2d flann highgui imgcodecs imgproc java_bindings_generator ml objdetect photo python_bindings_generator shape stitching superres ts video videoio videostab\r\n    --     Disabled:                    js world\r\n    --     Disabled by dependency:      -\r\n    --     Unavailable:                 cudaarithm cudabgsegm cudacodec cudafeatures2d cudafilters cudaimgproc cudalegacy cudaobjdetect cudaoptflow cudastereo cudawarping cudev java python2 python3 viz\r\n    --     Applications:                tests perf_tests apps\r\n    --     Documentation:               NO\r\n    --     Non-free algorithms:         NO\r\n    --\r\n    --   GUI:\r\n    --     GTK+:                        NO\r\n    --     VTK support:                 NO\r\n    --\r\n    --   Media I/O:\r\n    --     ZLib:                        build (ver 1.2.11)\r\n    --     JPEG:                        libjpeg-turbo (ver 1.5.3-62)\r\n    --     WEBP:                        build (ver encoder: 0x020e)\r\n    --     PNG:                         build (ver 1.6.34)\r\n    --     TIFF:                        build (ver 42 - 4.0.9)\r\n    --     JPEG 2000:                   build (ver 1.900.1)\r\n    --     OpenEXR:                     build (ver 1.7.1)\r\n    --     HDR:                         YES\r\n    --     SUNRASTER:                   YES\r\n    --     PXM:                         YES\r\n    --\r\n    --   Video I/O:\r\n    --     DC1394:                      NO\r\n    --     FFMPEG:                      NO\r\n    --       avcodec:                   NO\r\n    --       avformat:                  NO\r\n    --       avutil:                    NO\r\n    --       swscale:                   NO\r\n    --       avresample:                NO\r\n    --     GStreamer:                   NO\r\n    --     libv4l/libv4l2:              NO\r\n    --     v4l/v4l2:                    linux/videodev2.h\r\n    --     gPhoto2:                     NO\r\n    --\r\n    --   Parallel framework:            pthreads\r\n    --\r\n    --   Trace:                         YES (with Intel ITT)\r\n    --\r\n    --   Other third-party libraries:\r\n    --     Intel IPP:                   2017.0.3 [2017.0.3]\r\n    --            at:                   /var/lib/opencv-3.4.2/build/3rdparty/ippicv/ippicv_lnx\r\n    --     Intel IPP IW:                sources (2017.0.3)\r\n    --               at:                /var/lib/opencv-3.4.2/build/3rdparty/ippicv/ippiw_lnx\r\n    --     Lapack:                      NO\r\n    --     Eigen:                       NO\r\n    --     Custom HAL:                  NO\r\n    --     Protobuf:                    build (3.5.1)\r\n    --\r\n    --   OpenCL:                        YES (no extra features)\r\n    --     Include path:                /var/lib/opencv-3.4.2/3rdparty/include/opencl/1.2\r\n    --     Link libraries:              Dynamic load\r\n    --\r\n    --   Python (for build):            NO\r\n    --\r\n    --   Java:\r\n    --     ant:                         /usr/bin/ant (ver 1.10.5)\r\n    --     JNI:                         /usr/lib/jvm/java-11-openjdk-amd64/include /usr/lib/jvm/java-11-openjdk-amd64/include/linux /usr/lib/jvm/java-11-openjdk-amd64/include\r\n    --     Java wrappers:               NO\r\n    --     Java tests:                  NO\r\n    --\r\n    --   Matlab:                        NO\r\n    --\r\n    --   Install to:                    /usr/local\r\n    -- -----------------------------------------------------------------\r\n    --\r\n    -- Configuring done\r\n    -- Generating done\r\n    -- Build files have been written to: /var/lib/opencv-3.4.2/build\r\n\r\n\r\nSo I would like to know if I am missing something in the docker file or in the openCV compilation process.\r\n\r\nNote: If I execute the same process in a native machine everything works as expected\r\n\r\nAny suggestions?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A6uYR.png\r\n","title":"Docker + Java + OpenCV, no opencv_java342 in java.library.path","body":"<p>I am trying to generate a docker image with the following characteristics</p>\n\n<ul>\n<li><strong>SO</strong> --> ubuntu:18.04 </li>\n<li><strong>Java</strong> --> openjdk-11-jdk </li>\n<li><strong>OpenCV</strong> --> 3.4.2 version</li>\n</ul>\n\n<p>I am able to generate the images successfully but the java342 file is not generated in the lib folder, I am getting this exception: <strong>no opencv_java342 in java.library.path</strong></p>\n\n<p>I am launching my app using the following command as entrypoint:</p>\n\n<pre><code>java -Djava.library.path=/var/lib/opencv-3.4.2/build/lib -jar Application.jar \n</code></pre>\n\n<p><strong>Log Output</strong></p>\n\n<pre><code>Constructor threw exception; nested exception is java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1303) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at com.etaluma.oem.controller.camera.CameraServerApplication.main(CameraServerApplication.java:11) ~[classes!/:0.8.11-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.etaluma.oem.controller.camera.CameraServerImpl]: Constructor threw exception; nested exception is java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1295) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        ... 24 common frames omitted\nCaused by: java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660) ~[na:na]\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829) ~[na:na]\n        at java.base/java.lang.System.loadLibrary(System.java:1867) ~[na:na]\n        at com.etaluma.oem.controller.camera.CameraServerImpl.&lt;init&gt;(CameraServerImpl.java:24) ~[classes!/:0.8.11-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        ... 26 common frames omitted\n</code></pre>\n\n<p><strong>Docker File</strong></p>\n\n<pre><code>FROM ubuntu:18.04\n\nRUN apt-get update\nRUN apt-get install -y ant\nRUN apt-get install -y openjdk-11-jdk\nARG JAVA_HOME=\"/usr/lib/jvm/java-11-openjdk-amd64\"\nENV JAVA_HOME=\"/usr/lib/jvm/java-11-openjdk-amd64\"\nRUN echo $JAVA_HOME\nRUN apt-get install -y wget\nRUN apt-get install -y cmake\nRUN apt-get install -y g++\nRUN apt-get install -y unzip\nRUN apt-get install -y vim\nRUN java -version\n\nRUN wget https://github.com/opencv/opencv/archive/3.4.2.zip\nRUN unzip 3.4.2.zip -d /var/lib/\nRUN mkdir /var/lib/opencv-3.4.2/build\nWORKDIR /var/lib/opencv-3.4.2/build\nRUN cmake -DBUILD_SHARED_LIBS=OFF ..\nRUN make -j8\n</code></pre>\n\n<p><strong>Docker File System</strong>\n<a href=\"https://i.stack.imgur.com/A6uYR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A6uYR.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>General configuration from the OpenCV compilation process</strong></p>\n\n<pre><code>-- General configuration for OpenCV 3.4.2 =====================================\n--   Version control:               unknown\n--\n--   Platform:\n--     Timestamp:                   2019-10-07T00:32:28Z\n--     Host:                        Linux 4.9.184-linuxkit x86_64\n--     CMake:                       3.10.2\n--     CMake generator:             Unix Makefiles\n--     CMake build tool:            /usr/bin/make\n--     Configuration:               Release\n--\n--   CPU/HW features:\n--     Baseline:                    SSE SSE2 SSE3\n--       requested:                 SSE3\n--     Dispatched code generation:  SSE4_1 SSE4_2 FP16 AVX AVX2 AVX512_SKX\n--       requested:                 SSE4_1 SSE4_2 AVX FP16 AVX2 AVX512_SKX\n--       SSE4_1 (3 files):          + SSSE3 SSE4_1\n--       SSE4_2 (1 files):          + SSSE3 SSE4_1 POPCNT SSE4_2\n--       FP16 (2 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 AVX\n--       AVX (5 files):             + SSSE3 SSE4_1 POPCNT SSE4_2 AVX\n--       AVX2 (9 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2\n--       AVX512_SKX (1 files):      + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2 AVX_512F AVX512_SKX\n--\n--   C/C++:\n--     Built as dynamic libs?:      NO\n--     C++11:                       YES\n--     C++ Compiler:                /usr/bin/c++  (ver 7.4.0)\n--     C++ flags (Release):         -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Winit-self -Wno-narrowing -Wno-delete-non-virtual-dtor -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -fvisibility-inlines-hidden -O3 -DNDEBUG  -DNDEBUG\n--     C++ flags (Debug):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Winit-self -Wno-narrowing -Wno-delete-non-virtual-dtor -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -fvisibility-inlines-hidden -g  -O0 -DDEBUG -D_DEBUG\n--     C Compiler:                  /usr/bin/cc\n--     C flags (Release):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wuninitialized -Winit-self -Wno-narrowing -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -O3 -DNDEBUG  -DNDEBUG\n--     C flags (Debug):             -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wuninitialized -Winit-self -Wno-narrowing -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -g  -O0 -DDEBUG -D_DEBUG\n--     Linker flags (Release):\n--     Linker flags (Debug):\n--     ccache:                      NO\n--     Precompiled headers:         YES\n--     Extra dependencies:          dl m pthread rt\n--     3rdparty dependencies:       ittnotify libprotobuf zlib libjpeg-turbo libwebp libpng libtiff libjasper IlmImf ippiw ippicv\n--\n--   OpenCV modules:\n--     To be built:                 calib3d core dnn features2d flann highgui imgcodecs imgproc java_bindings_generator ml objdetect photo python_bindings_generator shape stitching superres ts video videoio videostab\n--     Disabled:                    js world\n--     Disabled by dependency:      -\n--     Unavailable:                 cudaarithm cudabgsegm cudacodec cudafeatures2d cudafilters cudaimgproc cudalegacy cudaobjdetect cudaoptflow cudastereo cudawarping cudev java python2 python3 viz\n--     Applications:                tests perf_tests apps\n--     Documentation:               NO\n--     Non-free algorithms:         NO\n--\n--   GUI:\n--     GTK+:                        NO\n--     VTK support:                 NO\n--\n--   Media I/O:\n--     ZLib:                        build (ver 1.2.11)\n--     JPEG:                        libjpeg-turbo (ver 1.5.3-62)\n--     WEBP:                        build (ver encoder: 0x020e)\n--     PNG:                         build (ver 1.6.34)\n--     TIFF:                        build (ver 42 - 4.0.9)\n--     JPEG 2000:                   build (ver 1.900.1)\n--     OpenEXR:                     build (ver 1.7.1)\n--     HDR:                         YES\n--     SUNRASTER:                   YES\n--     PXM:                         YES\n--\n--   Video I/O:\n--     DC1394:                      NO\n--     FFMPEG:                      NO\n--       avcodec:                   NO\n--       avformat:                  NO\n--       avutil:                    NO\n--       swscale:                   NO\n--       avresample:                NO\n--     GStreamer:                   NO\n--     libv4l/libv4l2:              NO\n--     v4l/v4l2:                    linux/videodev2.h\n--     gPhoto2:                     NO\n--\n--   Parallel framework:            pthreads\n--\n--   Trace:                         YES (with Intel ITT)\n--\n--   Other third-party libraries:\n--     Intel IPP:                   2017.0.3 [2017.0.3]\n--            at:                   /var/lib/opencv-3.4.2/build/3rdparty/ippicv/ippicv_lnx\n--     Intel IPP IW:                sources (2017.0.3)\n--               at:                /var/lib/opencv-3.4.2/build/3rdparty/ippicv/ippiw_lnx\n--     Lapack:                      NO\n--     Eigen:                       NO\n--     Custom HAL:                  NO\n--     Protobuf:                    build (3.5.1)\n--\n--   OpenCL:                        YES (no extra features)\n--     Include path:                /var/lib/opencv-3.4.2/3rdparty/include/opencl/1.2\n--     Link libraries:              Dynamic load\n--\n--   Python (for build):            NO\n--\n--   Java:\n--     ant:                         /usr/bin/ant (ver 1.10.5)\n--     JNI:                         /usr/lib/jvm/java-11-openjdk-amd64/include /usr/lib/jvm/java-11-openjdk-amd64/include/linux /usr/lib/jvm/java-11-openjdk-amd64/include\n--     Java wrappers:               NO\n--     Java tests:                  NO\n--\n--   Matlab:                        NO\n--\n--   Install to:                    /usr/local\n-- -----------------------------------------------------------------\n--\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /var/lib/opencv-3.4.2/build\n</code></pre>\n\n<p>So I would like to know if I am missing something in the docker file or in the openCV compilation process.</p>\n\n<p>Note: If I execute the same process in a native machine everything works as expected</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","swing","transparency","repaint"],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418211419,"creation_date":1418211419,"answer_id":27400052,"question_id":27399910,"body_markdown":"You should respect Swing&#39;s threading policy and have the GUI initialized on the GUI thread:\r\n\r\n    SwingUtilities.invokeLater(() -&gt; new OpacityBug());\r\n\r\nI can&#39;t tell whether this is all it will take to correct the behavior on your side, but it has done just that on mine (OS X).","title":"Swing transparent background not being repainted","body":"<p>You should respect Swing's threading policy and have the GUI initialized on the GUI thread:</p>\n\n<pre><code>SwingUtilities.invokeLater(() -&gt; new OpacityBug());\n</code></pre>\n\n<p>I can't tell whether this is all it will take to correct the behavior on your side, but it has done just that on mine (OS X).</p>\n"},{"tags":[],"owner":{"account_id":3477393,"reputation":854,"user_id":2910269,"accept_rate":93,"display_name":"MSB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418213717,"creation_date":1418213717,"answer_id":27400765,"question_id":27399910,"body_markdown":"I cannot stress this enough, I see a ton of people not doing this while it is vital to ensure correct behavior from Swing; ALL GUI instances must run on the EDT(Event Dispatch Thread)\r\n\r\nPlease read the below article and adjust your code and report back with the effects.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html","title":"Swing transparent background not being repainted","body":"<p>I cannot stress this enough, I see a ton of people not doing this while it is vital to ensure correct behavior from Swing; ALL GUI instances must run on the EDT(Event Dispatch Thread)</p>\n\n<p>Please read the below article and adjust your code and report back with the effects.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html</a></p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690148515,"creation_date":1418227125,"answer_id":27405421,"question_id":27399910,"body_markdown":"By using a semi-transparent background you are breaking Swings painting rules and Swing doesn&#39;t handle this automatically. \r\n\r\nBasically, when the component is opaque, you promise to paint the background of the component. However, when the background is semi-transparent it is not cleared completely so you get painting artifacts. \r\n\r\nThe solution is to make the component non-opaque, which means the parent component will be painted first to completely clear the background, and then the component will paint the semi-transparent background. Something like:\r\n\r\n    JPanel panel = new JPanel()\r\n    {\r\n        protected void paintComponent(Graphics g)\r\n        {\r\n            g.setColor( getBackground() );\r\n            g.fillRect(0, 0, getWidth(), getHeight());\r\n            super.paintComponent(g);\r\n        }\r\n    };\r\n    panel.setOpaque(false); // background of parent will be painted first\r\n    panel.setBackground( new Color(255, 0, 0, 20) );\r\n    frame.add(panel);\r\n\r\nCheck out [Backgrounds With Transparency](http://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/) for more information. The link also contains a class called the `AlphaContainer` which allows you to wrap any component with a transparent background.\r\n\r\nAlso, note this only applies when using partial transparency. If you want full transparency then simply make the component non-opaque:\r\n\r\n    component.setOpaque( false );","title":"Swing transparent background not being repainted","body":"<p>By using a semi-transparent background you are breaking Swings painting rules and Swing doesn't handle this automatically.</p>\n<p>Basically, when the component is opaque, you promise to paint the background of the component. However, when the background is semi-transparent it is not cleared completely so you get painting artifacts.</p>\n<p>The solution is to make the component non-opaque, which means the parent component will be painted first to completely clear the background, and then the component will paint the semi-transparent background. Something like:</p>\n<pre><code>JPanel panel = new JPanel()\n{\n    protected void paintComponent(Graphics g)\n    {\n        g.setColor( getBackground() );\n        g.fillRect(0, 0, getWidth(), getHeight());\n        super.paintComponent(g);\n    }\n};\npanel.setOpaque(false); // background of parent will be painted first\npanel.setBackground( new Color(255, 0, 0, 20) );\nframe.add(panel);\n</code></pre>\n<p>Check out <a href=\"http://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Backgrounds With Transparency</a> for more information. The link also contains a class called the <code>AlphaContainer</code> which allows you to wrap any component with a transparent background.</p>\n<p>Also, note this only applies when using partial transparency. If you want full transparency then simply make the component non-opaque:</p>\n<pre><code>component.setOpaque( false );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7121994,"reputation":2012,"user_id":5446285,"display_name":"Jack&#39;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513961920,"creation_date":1513961920,"answer_id":47944928,"question_id":27399910,"body_markdown":"You should use `setOpaque(false)` on the component that has a problem, **and do the same with all the parents** !\r\n\r\nFor example, if you have a `JList` &#39;jList&#39; inside a `JScrollPane` &#39;scrollPane&#39;, the whole thing being inside a `JPanel` &#39;jPanel&#39;, you should use :\r\n\r\n    jList.setOpaque(false);\r\n    scrollPane.setOpaque(false);\r\n    scrollPane.getViewport().setOpaque(false);\r\n    jPanel.setOpaque(false);\r\n\r\nAnd yes, if you have a `JScrollPane`, you should set its viewport&#39;s opacity to false as well.\r\n\r\nThis will prevent painting problems on your components with transparent backgrounds.","title":"Swing transparent background not being repainted","body":"<p>You should use <code>setOpaque(false)</code> on the component that has a problem, <strong>and do the same with all the parents</strong> !</p>\n\n<p>For example, if you have a <code>JList</code> 'jList' inside a <code>JScrollPane</code> 'scrollPane', the whole thing being inside a <code>JPanel</code> 'jPanel', you should use :</p>\n\n<pre><code>jList.setOpaque(false);\nscrollPane.setOpaque(false);\nscrollPane.getViewport().setOpaque(false);\njPanel.setOpaque(false);\n</code></pre>\n\n<p>And yes, if you have a <code>JScrollPane</code>, you should set its viewport's opacity to false as well.</p>\n\n<p>This will prevent painting problems on your components with transparent backgrounds.</p>\n"}],"owner":{"account_id":2371535,"reputation":185,"user_id":2076052,"accept_rate":75,"display_name":"pmkrefeld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27405421,"answer_count":4,"score":1,"last_activity_date":1690148515,"creation_date":1418211018,"question_id":27399910,"body_markdown":"I have a problem using transparent backgrounds in Swing.\r\nThere are a lot of artefacts produced as swing is not repainting changed regions.\r\n\r\n![buggy][1]\r\n\r\nAs far as I can tell there are 2 out-of-the-box ways to use transparent backgrounds:\r\n\r\n1. an opaque component with transparent color set as background (left txt field)\r\n\r\n**Problem**: the transparent part of the background is never refreshed -&gt; Artefacts.\r\n\r\n2. an non-opaque component with transparent color set as background (right txt field)\r\n\r\n**Problem**: background is not being drawn at all.\r\n\r\nWhat I do **not** want to do:\r\n\r\n- to use timers to auto repaint the frame (super awful)\r\n- to override paintComponent method (which actually works, but is really really awful)\r\n\r\nI am running on Win7 x64\r\n\r\nAaaand here is my SSCCEEE:\r\n\r\n**Update 1: init with invokeLater (still won&#39;t work)**\r\n\r\n    public class OpacityBug {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t    @Override\r\n\t\t\t    public void run() {\r\n\t\t\t\t    new OpacityBug();\r\n\t\t\t    }\r\n\t\t    });\r\n\t    }\r\n\t\r\n\t    static final Color transparentBlue = new Color(0f, 1f, 0f, 0.5f); \r\n\t\r\n\t    JFrame frame;\r\n\t    JPanel content;\r\n\t\r\n\t    JTextField txt1;\r\n\t    JTextField txt2;\r\n\t\r\n\t    public OpacityBug() {\r\n\t\t    initFrame();\r\n\t\t    initContent();\r\n\t    }\r\n\t\r\n\t    void initFrame() {\r\n\t\t    frame = new JFrame();\r\n\t\t    frame.setSize(300, 80);\r\n\t\t    frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\t    frame.setVisible(true);\r\n\t    }\r\n\t\r\n\t    void initContent() {\r\n\t\t    content = new JPanel();\r\n\t\t    content.setDoubleBuffered(true);\r\n\t\t    content.setBackground(Color.red);\r\n\t\t    frame.getContentPane().add(content);\r\n\t\t\r\n\t\t    txt1 = new JTextField() {\r\n\t\t\t    @Override\r\n\t\t\t    public void setBorder(Border border) {\r\n\t\t\t\t    super.setBorder(null); //nope border\r\n\t\t\t    }\r\n\t\t    };\r\n\t\t    txt1.setText(&quot;Hi! I am Buggy!&quot;);\r\n\t\t    txt1.setOpaque(true);\r\n\t\t    txt1.setBackground(transparentBlue);\r\n\t\t    content.add(txt1);\r\n\t\t\r\n\t\t    txt2 = new JTextField() {\r\n\t\t\t    @Override\r\n\t\t\t    public void setBorder(Border border) {\r\n\t\t\t\t    super.setBorder(null); //nope border\r\n\t\t\t    }\r\n\t\t    };\r\n\t\t    txt2.setText(&quot;And I have no BG!&quot;);\r\n\t\t    txt2.setOpaque(false);\r\n\t\t    txt2.setBackground(transparentBlue);\r\n\t\t    content.add(txt2);\r\n\t\t\t\t\r\n\t\t    content.revalidate();\r\n\t\t    content.repaint();\r\n\t    }\r\n    }\r\n\r\n**Update 2**\r\n\r\nAs some of you noticed, it seems Swing that swing is unable to paint transparent backgrounds.\r\nBut it is not (yet) clear to me why, I searched for the piece of code responsible for drawing the background of the component and have found the following code in ComponentUI.java :\r\n\r\n    public void update(Graphics g, JComponent c) {\r\n\tif (c.isOpaque()) {\r\n\t    g.setColor(c.getBackground());\r\n\t    g.fillRect(0, 0, c.getWidth(),c.getHeight());\r\n\t}\r\n\tpaint(g, c);\r\n    }\r\n\r\nAs you can see, it assumes that if a component is not opaque the background doesn&#39;t need to be repainted. I say that this is a very vague assumption.\r\n\r\nI would propose following implementation:\r\n\r\n\r\n    public void update(Graphics g, JComponent c) {\r\n    if(c.isOpaque() || (!c.isOpaque() &amp;&amp; c.isBackgroundSet())) {\r\n        g.setColor(c.getBackground());\r\n        g.fillRect(0, 0, c.getWidth(), c.getHeight());\r\n    }\r\n\tpaint(g, c);\r\n    }\r\n\r\nI simply check if the background was set at all when the component is not opaque.\r\nThis simple addition would allow us to use transparent backgrounds in swing.\r\nAt least I do not know any reasons why it should not be done that way.\r\n\r\n  [1]: http://i.stack.imgur.com/35wEg.png","title":"Swing transparent background not being repainted","body":"<p>I have a problem using transparent backgrounds in Swing.\nThere are a lot of artefacts produced as swing is not repainting changed regions.</p>\n\n<p><img src=\"https://i.stack.imgur.com/35wEg.png\" alt=\"buggy\"></p>\n\n<p>As far as I can tell there are 2 out-of-the-box ways to use transparent backgrounds:</p>\n\n<ol>\n<li>an opaque component with transparent color set as background (left txt field)</li>\n</ol>\n\n<p><strong>Problem</strong>: the transparent part of the background is never refreshed -> Artefacts.</p>\n\n<ol start=\"2\">\n<li>an non-opaque component with transparent color set as background (right txt field)</li>\n</ol>\n\n<p><strong>Problem</strong>: background is not being drawn at all.</p>\n\n<p>What I do <strong>not</strong> want to do:</p>\n\n<ul>\n<li>to use timers to auto repaint the frame (super awful)</li>\n<li>to override paintComponent method (which actually works, but is really really awful)</li>\n</ul>\n\n<p>I am running on Win7 x64</p>\n\n<p>Aaaand here is my SSCCEEE:</p>\n\n<p><strong>Update 1: init with invokeLater (still won't work)</strong></p>\n\n<pre><code>public class OpacityBug {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new OpacityBug();\n            }\n        });\n    }\n\n    static final Color transparentBlue = new Color(0f, 1f, 0f, 0.5f); \n\n    JFrame frame;\n    JPanel content;\n\n    JTextField txt1;\n    JTextField txt2;\n\n    public OpacityBug() {\n        initFrame();\n        initContent();\n    }\n\n    void initFrame() {\n        frame = new JFrame();\n        frame.setSize(300, 80);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    void initContent() {\n        content = new JPanel();\n        content.setDoubleBuffered(true);\n        content.setBackground(Color.red);\n        frame.getContentPane().add(content);\n\n        txt1 = new JTextField() {\n            @Override\n            public void setBorder(Border border) {\n                super.setBorder(null); //nope border\n            }\n        };\n        txt1.setText(\"Hi! I am Buggy!\");\n        txt1.setOpaque(true);\n        txt1.setBackground(transparentBlue);\n        content.add(txt1);\n\n        txt2 = new JTextField() {\n            @Override\n            public void setBorder(Border border) {\n                super.setBorder(null); //nope border\n            }\n        };\n        txt2.setText(\"And I have no BG!\");\n        txt2.setOpaque(false);\n        txt2.setBackground(transparentBlue);\n        content.add(txt2);\n\n        content.revalidate();\n        content.repaint();\n    }\n}\n</code></pre>\n\n<p><strong>Update 2</strong></p>\n\n<p>As some of you noticed, it seems Swing that swing is unable to paint transparent backgrounds.\nBut it is not (yet) clear to me why, I searched for the piece of code responsible for drawing the background of the component and have found the following code in ComponentUI.java :</p>\n\n<pre><code>public void update(Graphics g, JComponent c) {\nif (c.isOpaque()) {\n    g.setColor(c.getBackground());\n    g.fillRect(0, 0, c.getWidth(),c.getHeight());\n}\npaint(g, c);\n}\n</code></pre>\n\n<p>As you can see, it assumes that if a component is not opaque the background doesn't need to be repainted. I say that this is a very vague assumption.</p>\n\n<p>I would propose following implementation:</p>\n\n<pre><code>public void update(Graphics g, JComponent c) {\nif(c.isOpaque() || (!c.isOpaque() &amp;&amp; c.isBackgroundSet())) {\n    g.setColor(c.getBackground());\n    g.fillRect(0, 0, c.getWidth(), c.getHeight());\n}\npaint(g, c);\n}\n</code></pre>\n\n<p>I simply check if the background was set at all when the component is not opaque.\nThis simple addition would allow us to use transparent backgrounds in swing.\nAt least I do not know any reasons why it should not be done that way.</p>\n"},{"tags":["java","spring-boot","gitlab"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690179286,"post_id":76750372,"comment_id":135311601,"body_markdown":"Consider using H2 in-memory embedded database for integration tests only.","body":"Consider using H2 in-memory embedded database for integration tests only."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1690201476,"post_id":76750372,"comment_id":135315968,"body_markdown":"@Mar-Z problem in that - in general, I don&#39;t need DB for tests. That is the main issue - why test ask database connection if I don&#39;t need it.","body":"@Mar-Z problem in that - in general, I don&#39;t need DB for tests. That is the main issue - why test ask database connection if I don&#39;t need it."}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690148049,"creation_date":1690147309,"question_id":76750372,"body_markdown":"**TASK:**\r\n\r\n - I want to deploy my project via GitLab CI-CD process.\r\n - This is logically I need have opportunity to execute tests of this project during deploying.\r\n\r\n**ISSUE:**\r\n\r\n - I am receiving `UnknownHostException: mysql: Name or service not known` during test execution, **however** I do not need to use MySQL connection during test.\r\n\r\n---\r\n\r\n\r\nSo:\r\n\r\n - gitlab-ci.yml:\r\n\r\n```\r\nrun-test:\r\n  image: gradle:7.2.0-jdk17\r\n  script:\r\n    - gradle :business:test\r\n```\r\n\r\n - test:\r\n\r\n```java\r\n\r\n@Slf4j\r\n@SpringBootTest\r\npublic class PersonControllerTest {\r\n\r\n    @Test\r\n    public void businessHealthCheckTest(){\r\n        log.info(&quot;Test started&quot;);\r\n        Assertions.assertThat(true).isTrue();\r\n        log.info(&quot;Test finished&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAs I understand, I receive this error, since I use `@SpringBootTest` annotation, and it means the Spring tries establish connection to the database. So, I researched and found such &quot;solution&quot;, that I added to the .yml file:\r\n\r\n```yml\r\nrun-test:\r\n  image: gradle:7.2.0-jdk17\r\n  services:\r\n    - mysql:latest\r\n  variables:\r\n    MYSQL_DATABASE: &quot;my_test_db&quot;\r\n    MYSQL_USER: &quot;test_user&quot;\r\n    MYSQL_PASSWORD: &quot;test_password&quot;\r\n    MYSQL_ROOT_PASSWORD: &quot;root_password&quot;\r\n  script:\r\n    - gradle :business:test\r\n```\r\n\r\nand I also updated connection string in application.properties file (I changed localhost:3306 to the mysql:3306):\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://mysql:3306/my_test_db?useUnicode=yes&amp;characterEncoding=UTF-8&amp;createDatabaseIfNotExist=true\r\n```\r\n\r\nBut I still can&#39;t execute tests with deploying process. \r\n\r\nSo, probably, two question:\r\n\r\n1) Why do I need establish connection if I do not use DB connection during tests? How to avoid this, but use `@SpringBootTest` annotation.\r\n2) Main question: How to correctly use this mysql `service` in my case?\r\n ","title":"Can&#39;t establish connection to the MySQL during gitlab ci-cd job: UnknownHostException: mysql: Name or service not known","body":"<p><strong>TASK:</strong></p>\n<ul>\n<li>I want to deploy my project via GitLab CI-CD process.</li>\n<li>This is logically I need have opportunity to execute tests of this project during deploying.</li>\n</ul>\n<p><strong>ISSUE:</strong></p>\n<ul>\n<li>I am receiving <code>UnknownHostException: mysql: Name or service not known</code> during test execution, <strong>however</strong> I do not need to use MySQL connection during test.</li>\n</ul>\n<hr />\n<p>So:</p>\n<ul>\n<li>gitlab-ci.yml:</li>\n</ul>\n<pre><code>run-test:\n  image: gradle:7.2.0-jdk17\n  script:\n    - gradle :business:test\n</code></pre>\n<ul>\n<li>test:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Slf4j\n@SpringBootTest\npublic class PersonControllerTest {\n\n    @Test\n    public void businessHealthCheckTest(){\n        log.info(&quot;Test started&quot;);\n        Assertions.assertThat(true).isTrue();\n        log.info(&quot;Test finished&quot;);\n    }\n}\n</code></pre>\n<p>As I understand, I receive this error, since I use <code>@SpringBootTest</code> annotation, and it means the Spring tries establish connection to the database. So, I researched and found such &quot;solution&quot;, that I added to the .yml file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>run-test:\n  image: gradle:7.2.0-jdk17\n  services:\n    - mysql:latest\n  variables:\n    MYSQL_DATABASE: &quot;my_test_db&quot;\n    MYSQL_USER: &quot;test_user&quot;\n    MYSQL_PASSWORD: &quot;test_password&quot;\n    MYSQL_ROOT_PASSWORD: &quot;root_password&quot;\n  script:\n    - gradle :business:test\n</code></pre>\n<p>and I also updated connection string in application.properties file (I changed localhost:3306 to the mysql:3306):</p>\n<pre><code>spring.datasource.url=jdbc:mysql://mysql:3306/my_test_db?useUnicode=yes&amp;characterEncoding=UTF-8&amp;createDatabaseIfNotExist=true\n</code></pre>\n<p>But I still can't execute tests with deploying process.</p>\n<p>So, probably, two question:</p>\n<ol>\n<li>Why do I need establish connection if I do not use DB connection during tests? How to avoid this, but use <code>@SpringBootTest</code> annotation.</li>\n<li>Main question: How to correctly use this mysql <code>service</code> in my case?</li>\n</ol>\n"},{"tags":["java","licensing","license-key","truelicense"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1354753563,"post_id":13734925,"comment_id":18871266,"body_markdown":"`File keyFile = new File(&quot;license.lic&quot;)` means it is in the current directory","body":"<code>File keyFile = new File(&quot;license.lic&quot;)</code> means it is in the current directory"},{"owner":{"account_id":1322932,"reputation":415,"user_id":1268342,"display_name":"Poorav"},"score":0,"creation_date":1354790625,"post_id":13734925,"comment_id":18882162,"body_markdown":"We specify the license file when actually installing the license. But in subsequent runs of the application `licenseManager.verify()` returns successfully meaning the license is installed, but no file is specified here. Note, this time no license file is specified since it is not being installed. How does the licenseManager know where the license file is or how is this information persisted. I hope that clarifies my question.","body":"We specify the license file when actually installing the license. But in subsequent runs of the application <code>licenseManager.verify()</code> returns successfully meaning the license is installed, but no file is specified here. Note, this time no license file is specified since it is not being installed. How does the licenseManager know where the license file is or how is this information persisted. I hope that clarifies my question."},{"owner":{"account_id":1079954,"reputation":3224,"user_id":1077190,"accept_rate":54,"display_name":"Sunny Sunny"},"score":0,"creation_date":1360672109,"post_id":13734925,"comment_id":20782252,"body_markdown":"Can truelicense be applied to application which is extension of open source third party application","body":"Can truelicense be applied to application which is extension of open source third party application"}],"answers":[{"tags":[],"owner":{"account_id":368684,"reputation":413,"user_id":715640,"display_name":"Justin Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1361839800,"creation_date":1361839800,"answer_id":15079411,"question_id":13734925,"body_markdown":"From the source-code (TrueLicense):\r\n\r\n    /**\r\n     * Installs the given license key as the current license key.\r\n     * If {@code key} is {@code null}, the current license key gets\r\n     * uninstalled (but the cached license certificate is not cleared).\r\n     */\r\n    protected synchronized void setLicenseKey(final byte[] key) {\r\n        final Preferences prefs = getLicenseParam().getPreferences();\r\n        if (null != key)\r\n            prefs.putByteArray(PREFERENCES_KEY, key);\r\n        else\r\n            prefs.remove(PREFERENCES_KEY);\r\n    }\r\n\r\nIf you use the standard Java preferences API ([java.util.prefs.Preferences][1]), you will see this in the registry on Windows.  On Linux and OS X, there is a hidden &quot;.&quot; directory that has these keys.\r\n\r\nTypically, I just use the [userNodeForPackage][2] method, since it does not require an admin on Windows.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/prefs/Preferences.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/prefs/Preferences.html#userNodeForPackage%28java.lang.Class%29","title":"where does truelicense persist the license file","body":"<p>From the source-code (TrueLicense):</p>\n\n<pre><code>/**\n * Installs the given license key as the current license key.\n * If {@code key} is {@code null}, the current license key gets\n * uninstalled (but the cached license certificate is not cleared).\n */\nprotected synchronized void setLicenseKey(final byte[] key) {\n    final Preferences prefs = getLicenseParam().getPreferences();\n    if (null != key)\n        prefs.putByteArray(PREFERENCES_KEY, key);\n    else\n        prefs.remove(PREFERENCES_KEY);\n}\n</code></pre>\n\n<p>If you use the standard Java preferences API (<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/prefs/Preferences.html\" rel=\"nofollow\">java.util.prefs.Preferences</a>), you will see this in the registry on Windows.  On Linux and OS X, there is a hidden \".\" directory that has these keys.</p>\n\n<p>Typically, I just use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/prefs/Preferences.html#userNodeForPackage%28java.lang.Class%29\" rel=\"nofollow\">userNodeForPackage</a> method, since it does not require an admin on Windows.</p>\n"},{"tags":[],"owner":{"account_id":1421465,"reputation":137,"user_id":1345986,"display_name":"Ilie Daniel Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361907685,"creation_date":1361907685,"answer_id":15097826,"question_id":13734925,"body_markdown":"Open regedit tool;\r\nUnder `HKEY_CURRENT_USER/Software/JavaSoft/Prefs/{$the.package.of.your.license.classes}.`\r\n\r\nNote: this is only for windows and is the default behaviour. (with original `PREFERENCES_KEY` value)","title":"where does truelicense persist the license file","body":"<p>Open regedit tool;\nUnder <code>HKEY_CURRENT_USER/Software/JavaSoft/Prefs/{$the.package.of.your.license.classes}.</code></p>\n\n<p>Note: this is only for windows and is the default behaviour. (with original <code>PREFERENCES_KEY</code> value)</p>\n"}],"owner":{"account_id":1322932,"reputation":415,"user_id":1268342,"display_name":"Poorav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1771,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15079411,"answer_count":2,"score":2,"last_activity_date":1690147724,"creation_date":1354753055,"question_id":13734925,"body_markdown":"This question is very specific to the implementation of TrueLicense and its workings. With the help of the tutorials [here][1] and the more helpful [here][2], I have successfully been able to apply licensing on my software using TrueLicense. However, I am still not clear on certain aspects of TrueLicense and how it works, and am hoping somebody can enlighten me. For now, what I don&#39;t understand is that when I call the \r\n\r\n    licenseManager.install() \r\n\r\nmethod (making sure the rest of the prerequisites are fulfilled) where is the license file actually getting persisted. I know that it is getting persisted somehow because the second time I start the application and run the \r\n\r\n    licenseManager.verify() \r\n\r\nmethod it returns happy. I would really appreciate some insight on this. \r\n\r\n\r\n  [1]: http://truelicense.java.net/tutorial.html\r\n  [2]: http://alvinalexander.com/java/true-license-java-client-java-license-manager","title":"where does truelicense persist the license file","body":"<p>This question is very specific to the implementation of TrueLicense and its workings. With the help of the tutorials <a href=\"http://truelicense.java.net/tutorial.html\" rel=\"nofollow\">here</a> and the more helpful <a href=\"http://alvinalexander.com/java/true-license-java-client-java-license-manager\" rel=\"nofollow\">here</a>, I have successfully been able to apply licensing on my software using TrueLicense. However, I am still not clear on certain aspects of TrueLicense and how it works, and am hoping somebody can enlighten me. For now, what I don't understand is that when I call the </p>\n\n<pre><code>licenseManager.install() \n</code></pre>\n\n<p>method (making sure the rest of the prerequisites are fulfilled) where is the license file actually getting persisted. I know that it is getting persisted somehow because the second time I start the application and run the </p>\n\n<pre><code>licenseManager.verify() \n</code></pre>\n\n<p>method it returns happy. I would really appreciate some insight on this. </p>\n"},{"tags":["java","spring","spring-webflux","spring-aop","mdc"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1689767449,"post_id":76719316,"comment_id":135259234,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1689767590,"post_id":76719316,"comment_id":135259263,"body_markdown":"In particular, you are presenting an aspect without the target class it is meant to intercept. You also talk about MDC, thread-locals and Micrometer, but none of the code related to those is visible here. Unfortunately, that means: Without any magical crystal globe, probably nobondy will be able to help you.","body":"In particular, you are presenting an aspect without the target class it is meant to intercept. You also talk about MDC, thread-locals and Micrometer, but none of the code related to those is visible here. Unfortunately, that means: Without any magical crystal globe, probably nobondy will be able to help you."},{"owner":{"account_id":20048900,"reputation":23,"user_id":14697988,"display_name":"amir"},"score":0,"creation_date":1690147084,"post_id":76719316,"comment_id":135309157,"body_markdown":"By Adding `implementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;` we will have traceId But when we want to upload file we can not access to traceId","body":"By Adding <code>implementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;</code> we will have traceId But when we want to upload file we can not access to traceId"},{"owner":{"account_id":20048900,"reputation":23,"user_id":14697988,"display_name":"amir"},"score":0,"creation_date":1690147197,"post_id":76719316,"comment_id":135309170,"body_markdown":"target class for aspect is controller witch contains rest apis","body":"target class for aspect is controller witch contains rest apis"}],"owner":{"account_id":20048900,"reputation":23,"user_id":14697988,"display_name":"amir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690147145,"creation_date":1689755298,"question_id":76719316,"body_markdown":"Hello Im using spring boot 3 and spring webflux and micrometer package for tracing in app \r\n\r\nmy dependency for tracing using micrometer:\r\n\r\n```\r\nimplementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;\r\nimplementation &#39;io.micrometer:context-propagation:latest.integration&#39;\r\n```\r\nI also add `Hooks.enableAutomaticContextPropagation();` to main method to access MDC and  restore the **ThreadLocal** I always work but when I want to call api for uploading multipart data I can not access MDC keys .\r\nI think it happens because uploading file is blocking request and it schedule it to another thread \r\n\r\nMy log aspect:\r\n\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class LogAop {\r\n    @Pointcut(&quot;within(@org.springframework.web.bind.annotation.RestController *)&quot;)\r\n    public void controllerPointCut() {\r\n    }\r\n\r\n    @Before(value = &quot;controllerPointCut()&quot;)\r\n    public void logAdvice(JoinPoint joinPoint) {\r\n        log.info(&quot;signature:{}, args:{}&quot;, joinPoint.getSignature().toShortString(), joinPoint.getArgs());\r\n    }\r\n}\r\n```\r\n```\r\n2023-07-19T12:53:29.842+04:30  INFO [                                ,                 ] 19064 --- [or-http-epoll-3] ir.zarebin.profile.aspects.LogAop        : signature:ProfileController.update(..), args:[ab8a8daf-d4f9-4777-b54b-682f0326ceea, ProfileIn[displayName=fuckboy, username=asdssad, image=file:test.jpg], DefaultFilePart{file (test.jpg)}]\r\n```\r\nAs you see It cant log traceId but after change thread It can access traceId.\r\n\r\n```\r\n2023-07-19T12:53:31.895+04:30  INFO [64b79d810a5369e8ec79c012fa6299a1, ec79c012fa6299a1] 19064 --- [nc-response-1-1] i.z.p.services.impl.CephFileService      : [I198] creating BytBuffer from 1 chunks\r\n2023-07-19T12:53:31.896+04:30  INFO [64b79d810a5369e8ec79c012fa6299a1, ec79c012fa6299a1] 19064 --- [nc-response-1-1] i.z.p.services.impl.CephFileService      : [I208] partData: size=45380\r\n```\r\n\r\nmy controller for upload file:\r\n```\r\n    public Mono&lt;ProfileOut&gt; update(@RequestParam UUID userId,\r\n                                   @RequestPart(&quot;data&quot;) @Valid ProfileIn body,\r\n                                   @RequestPart(value = &quot;file&quot;, required = false) FilePart image) {\r\n       return Mono.deferContextual(contextView -&gt; {\r\n                   ContextSnapshotFactory.builder().contextRegistry(ContextRegistry.getInstance().loadThreadLocalAccessors())\r\n                           .build().captureAll();\r\n\r\n                    return Mono.just(contextView);\r\n                })\r\n                .flatMap(o -&gt; service.update(userId, body, image));\r\n    }\r\n```\r\nHow can I access traceId when I need?\r\n\r\n\r\n ","title":"Access MDC in aspect when uploading multipart in spring webflux","body":"<p>Hello Im using spring boot 3 and spring webflux and micrometer package for tracing in app</p>\n<p>my dependency for tracing using micrometer:</p>\n<pre><code>implementation 'io.micrometer:micrometer-tracing-bridge-brave'\nimplementation 'io.micrometer:context-propagation:latest.integration'\n</code></pre>\n<p>I also add <code>Hooks.enableAutomaticContextPropagation();</code> to main method to access MDC and  restore the <strong>ThreadLocal</strong> I always work but when I want to call api for uploading multipart data I can not access MDC keys .\nI think it happens because uploading file is blocking request and it schedule it to another thread</p>\n<p>My log aspect:</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\n@RequiredArgsConstructor\npublic class LogAop {\n    @Pointcut(&quot;within(@org.springframework.web.bind.annotation.RestController *)&quot;)\n    public void controllerPointCut() {\n    }\n\n    @Before(value = &quot;controllerPointCut()&quot;)\n    public void logAdvice(JoinPoint joinPoint) {\n        log.info(&quot;signature:{}, args:{}&quot;, joinPoint.getSignature().toShortString(), joinPoint.getArgs());\n    }\n}\n</code></pre>\n<pre><code>2023-07-19T12:53:29.842+04:30  INFO [                                ,                 ] 19064 --- [or-http-epoll-3] ir.zarebin.profile.aspects.LogAop        : signature:ProfileController.update(..), args:[ab8a8daf-d4f9-4777-b54b-682f0326ceea, ProfileIn[displayName=fuckboy, username=asdssad, image=file:test.jpg], DefaultFilePart{file (test.jpg)}]\n</code></pre>\n<p>As you see It cant log traceId but after change thread It can access traceId.</p>\n<pre><code>2023-07-19T12:53:31.895+04:30  INFO [64b79d810a5369e8ec79c012fa6299a1, ec79c012fa6299a1] 19064 --- [nc-response-1-1] i.z.p.services.impl.CephFileService      : [I198] creating BytBuffer from 1 chunks\n2023-07-19T12:53:31.896+04:30  INFO [64b79d810a5369e8ec79c012fa6299a1, ec79c012fa6299a1] 19064 --- [nc-response-1-1] i.z.p.services.impl.CephFileService      : [I208] partData: size=45380\n</code></pre>\n<p>my controller for upload file:</p>\n<pre><code>    public Mono&lt;ProfileOut&gt; update(@RequestParam UUID userId,\n                                   @RequestPart(&quot;data&quot;) @Valid ProfileIn body,\n                                   @RequestPart(value = &quot;file&quot;, required = false) FilePart image) {\n       return Mono.deferContextual(contextView -&gt; {\n                   ContextSnapshotFactory.builder().contextRegistry(ContextRegistry.getInstance().loadThreadLocalAccessors())\n                           .build().captureAll();\n\n                    return Mono.just(contextView);\n                })\n                .flatMap(o -&gt; service.update(userId, body, image));\n    }\n</code></pre>\n<p>How can I access traceId when I need?</p>\n"},{"tags":["java","spring","multithreading","hashmap","synchronized"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690151122,"post_id":76749903,"comment_id":135309471,"body_markdown":"Does this answer your question? [Does the synchronized keyword solve the visibility problem?](https://stackoverflow.com/questions/75714538/does-the-synchronized-keyword-solve-the-visibility-problem)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75714538/does-the-synchronized-keyword-solve-the-visibility-problem\">Does the synchronized keyword solve the visibility problem?</a>"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690147094,"creation_date":1690146685,"answer_id":76750343,"question_id":76749903,"body_markdown":"`HashMap` is not thread-safe but `singletonFactories` is only used in `synchronized`-blocks.\r\n\r\nIf we take a look at one of the methods accessing it, we can see that:\r\n```java\r\n//code from https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java#L137-L144\r\n//licensed under Apache 2\r\n//comments have been added\r\nprotected void addSingleton(String beanName, Object singletonObject) {\r\n\t\tsynchronized (this.singletonObjects) {//synchronized here\r\n\t\t\tthis.singletonObjects.put(beanName, singletonObject);\r\n\t\t\tthis.singletonFactories.remove(beanName);//access inside synchronized block\r\n\t\t\tthis.earlySingletonObjects.remove(beanName);\r\n\t\t\tthis.registeredSingletons.add(beanName);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nSince all uses to the `HashMap` are guarded using the intrinsic lock of `singletonObjects` (`synchronized`-blocks), the code is thread-safe even though it uses a `HashMap`.\r\n\r\nIt is probably done this way as `singletonFactories` is mainly used for initialization and/or rarely contended or synchronization is necessary anyways due to the objects needing to be changed together (e.g. maybe they want to avoid two methods updating it at the same time) and if there is a `synchronized` block, no `ConcurrentHashMap` is necessary.\r\n\r\nOn the other side, existing Spring beans may be read very often/from different threads so access to them could have higher contention resulting in `ConcurrentHashMap` being required.\r\n\r\nNote that I&#39;m not a Spring developer/I have not written this code. I am just making assumptions based on the code I&#39;m reading.","title":"Visibility of HashMap elements in synchronized block","body":"<p><code>HashMap</code> is not thread-safe but <code>singletonFactories</code> is only used in <code>synchronized</code>-blocks.</p>\n<p>If we take a look at one of the methods accessing it, we can see that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//code from https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java#L137-L144\n//licensed under Apache 2\n//comments have been added\nprotected void addSingleton(String beanName, Object singletonObject) {\n        synchronized (this.singletonObjects) {//synchronized here\n            this.singletonObjects.put(beanName, singletonObject);\n            this.singletonFactories.remove(beanName);//access inside synchronized block\n            this.earlySingletonObjects.remove(beanName);\n            this.registeredSingletons.add(beanName);\n        }\n    }\n</code></pre>\n<p>Since all uses to the <code>HashMap</code> are guarded using the intrinsic lock of <code>singletonObjects</code> (<code>synchronized</code>-blocks), the code is thread-safe even though it uses a <code>HashMap</code>.</p>\n<p>It is probably done this way as <code>singletonFactories</code> is mainly used for initialization and/or rarely contended or synchronization is necessary anyways due to the objects needing to be changed together (e.g. maybe they want to avoid two methods updating it at the same time) and if there is a <code>synchronized</code> block, no <code>ConcurrentHashMap</code> is necessary.</p>\n<p>On the other side, existing Spring beans may be read very often/from different threads so access to them could have higher contention resulting in <code>ConcurrentHashMap</code> being required.</p>\n<p>Note that I'm not a Spring developer/I have not written this code. I am just making assumptions based on the code I'm reading.</p>\n"}],"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690147094,"creation_date":1690139138,"question_id":76749903,"body_markdown":"I have researched many times to find out an answer for my question.\r\nIn Spring, we have this class https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java.\r\n\r\nAnd I have a question about singletonFactories field(line 81) and its usage. \r\n1. Why this field has type of HashMap instead of for example ConcurrentHashMap? Is it thread safe?\r\n\r\nI suppose because this field is only used within synchronized block using always the same monitor object(this.singletonObjects) and changes after exit synchronized block will be visible to others at the enter of block with the same monitor.\r\nAnd my second question is: 2. Will all changes of singletonFactories(put operations) will be visible to other threads?\r\nWill thread 2 see new value added by thread 1 some millis ago? Array in HashMap is not volatile.\r\n\r\nYes, we have synchronization on this.singletonObjects, but it works only for assigning a new value to singletonFactories field, isn&#39;t it? Or flushing field at the exit means that all embedded fields are also flushed into main memory? And all threads will see actual reference on singletonFactories, but I&#39;m not sure that changes(putting new object into map) with singletonFactories will be visible after exit a synchronized block.\r\n\r\nI suppose that is thread safe but I want to know more.\r\n\r\nThanks for help!!!\r\n\r\nI expect thread safe behavior but I&#39;m not sure that I understand it well.","title":"Visibility of HashMap elements in synchronized block","body":"<p>I have researched many times to find out an answer for my question.\nIn Spring, we have this class <a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java</a>.</p>\n<p>And I have a question about singletonFactories field(line 81) and its usage.</p>\n<ol>\n<li>Why this field has type of HashMap instead of for example ConcurrentHashMap? Is it thread safe?</li>\n</ol>\n<p>I suppose because this field is only used within synchronized block using always the same monitor object(this.singletonObjects) and changes after exit synchronized block will be visible to others at the enter of block with the same monitor.\nAnd my second question is: 2. Will all changes of singletonFactories(put operations) will be visible to other threads?\nWill thread 2 see new value added by thread 1 some millis ago? Array in HashMap is not volatile.</p>\n<p>Yes, we have synchronization on this.singletonObjects, but it works only for assigning a new value to singletonFactories field, isn't it? Or flushing field at the exit means that all embedded fields are also flushed into main memory? And all threads will see actual reference on singletonFactories, but I'm not sure that changes(putting new object into map) with singletonFactories will be visible after exit a synchronized block.</p>\n<p>I suppose that is thread safe but I want to know more.</p>\n<p>Thanks for help!!!</p>\n<p>I expect thread safe behavior but I'm not sure that I understand it well.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690149103,"post_id":76750349,"comment_id":135309324,"body_markdown":"You don&#39;t need to manually add dependencies to the IDEA project structure. Just click &quot;Reload all maven projects&quot; when you edit your pom. Have you run `mvn install` on your dependency project, to install that jar in your local maven repository? Incidentally, why are you using `provided` scope?","body":"You don&#39;t need to manually add dependencies to the IDEA project structure. Just click &quot;Reload all maven projects&quot; when you edit your pom. Have you run <code>mvn install</code> on your dependency project, to install that jar in your local maven repository? Incidentally, why are you using <code>provided</code> scope?"},{"owner":{"account_id":22065043,"reputation":11,"user_id":16952911,"display_name":"Alberto Plaza Montes"},"score":0,"creation_date":1690182566,"post_id":76750349,"comment_id":135312110,"body_markdown":"I did not run mvn install in my dependency project because I&#39;m programming on windows and using IDEA integrated maven so I don&#39;t even have installed maven and don&#39;t have a local repository, so I tought I needed to add it to IDEA","body":"I did not run mvn install in my dependency project because I&#39;m programming on windows and using IDEA integrated maven so I don&#39;t even have installed maven and don&#39;t have a local repository, so I tought I needed to add it to IDEA"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690186639,"post_id":76750349,"comment_id":135312848,"body_markdown":"You can run maven targets from IDEA. Run `install` for your dependency. Then IDEA should find it for your other project.","body":"You can run maven targets from IDEA. Run <code>install</code> for your dependency. Then IDEA should find it for your other project."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1690188935,"post_id":76750349,"comment_id":135313317,"body_markdown":"See also https://stackoverflow.com/a/22300875/12844632 on how to correctly add your own dependency to the Maven based project","body":"See also <a href=\"https://stackoverflow.com/a/22300875/12844632\">stackoverflow.com/a/22300875/12844632</a> on how to correctly add your own dependency to the Maven based project"},{"owner":{"account_id":22065043,"reputation":11,"user_id":16952911,"display_name":"Alberto Plaza Montes"},"score":0,"creation_date":1690456982,"post_id":76750349,"comment_id":135358039,"body_markdown":"Thanks you very much @tgdavies I didn&#39;t know about the IDEA targets. It works correctly!","body":"Thanks you very much @tgdavies I didn&#39;t know about the IDEA targets. It works correctly!"}],"owner":{"account_id":22065043,"reputation":11,"user_id":16952911,"display_name":"Alberto Plaza Montes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690146829,"creation_date":1690146829,"question_id":76750349,"body_markdown":"I&#39;m using Intellij with Maven. I created a java program with an API interface. When I add it to maven, it seems to work because it even recommends me the Java API classes, but when I try to compile it, it says my package doesn&#39;t exists.\r\n&gt; package htt.layeredstructures does not exist\r\n\r\n[Intellij recommends me using the class I imported from my .jar](https://i.stack.imgur.com/onnTL.png)\r\n\r\n\r\nAm I missing something?\r\n\r\nThe process I did was the following one: \r\n\r\n1. File\r\n2. Project Structure\r\n3. Modules\r\n4. Dependencies\r\n5. add\r\n6. JARs or directories \r\n7. Clicked the jar file and ok. \r\n\r\n[How it looks like](https://i.stack.imgur.com/4nU1e.png)\r\n\r\n\r\nI also added it to my pom.xml like this:\r\n\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;htt&lt;/groupId&gt;\r\n            &lt;artifactId&gt;LayeredStructures&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAnd it matches with the pom.xml of the provider program (the API one)\r\n\r\n\r\n```\r\n    &lt;groupId&gt;htt&lt;/groupId&gt;\r\n    &lt;artifactId&gt;LayeredStructures&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n```\r\n\r\n\r\n\r\n","title":"Intellij with maven seems to detect my dependency but then says not found","body":"<p>I'm using Intellij with Maven. I created a java program with an API interface. When I add it to maven, it seems to work because it even recommends me the Java API classes, but when I try to compile it, it says my package doesn't exists.</p>\n<blockquote>\n<p>package htt.layeredstructures does not exist</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/onnTL.png\" rel=\"nofollow noreferrer\">Intellij recommends me using the class I imported from my .jar</a></p>\n<p>Am I missing something?</p>\n<p>The process I did was the following one:</p>\n<ol>\n<li>File</li>\n<li>Project Structure</li>\n<li>Modules</li>\n<li>Dependencies</li>\n<li>add</li>\n<li>JARs or directories</li>\n<li>Clicked the jar file and ok.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/4nU1e.png\" rel=\"nofollow noreferrer\">How it looks like</a></p>\n<p>I also added it to my pom.xml like this:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;htt&lt;/groupId&gt;\n            &lt;artifactId&gt;LayeredStructures&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And it matches with the pom.xml of the provider program (the API one)</p>\n<pre><code>    &lt;groupId&gt;htt&lt;/groupId&gt;\n    &lt;artifactId&gt;LayeredStructures&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690134782,"post_id":76749378,"comment_id":135307767,"body_markdown":"IMHO one should not use singletons in the first place; they get in the way of unit testing and are just messy to deal with. So I&#39;d make the field non-static, so that the class can be relieved of its singleton status easily. I don&#39;t know what that field is, but being concerned about performance and memory management here is probably premature optimization, which is a really bad idea, even worse than singletons.","body":"IMHO one should not use singletons in the first place; they get in the way of unit testing and are just messy to deal with. So I&#39;d make the field non-static, so that the class can be relieved of its singleton status easily. I don&#39;t know what that field is, but being concerned about performance and memory management here is probably premature optimization, which is a really bad idea, even worse than singletons."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1690134834,"post_id":76749378,"comment_id":135307778,"body_markdown":"There are [different ways](https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java) of implementing a singleton in Java - you have to be specific which implementation you&#39;re discussing.","body":"There are <a href=\"https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">different ways</a> of implementing a singleton in Java - you have to be specific which implementation you&#39;re discussing."},{"owner":{"account_id":28906329,"reputation":13,"user_id":22140292,"display_name":"Luca Blanchi"},"score":0,"creation_date":1690137574,"post_id":76749378,"comment_id":135308189,"body_markdown":"@NirAlfasi thank you for your feedback, I have added the relevant information.","body":"@NirAlfasi thank you for your feedback, I have added the relevant information."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1690145982,"post_id":76749378,"comment_id":135309052,"body_markdown":"This is a &quot;what is your opinion&quot; kind of question - there isn&#39;t a &quot;best practice.","body":"This is a &quot;what is your opinion&quot; kind of question - there isn&#39;t a &quot;best practice."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690149490,"post_id":76749378,"comment_id":135309347,"body_markdown":"A static context would be irrelevant if the class is a singleton.","body":"A static context would be irrelevant if the class is a singleton."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690160638,"post_id":76749378,"comment_id":135310104,"body_markdown":"Constants should always be static, regardless of singletons. There is no reason to instantiate them per object instance.","body":"Constants should always be static, regardless of singletons. There is no reason to instantiate them per object instance."}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690146819,"creation_date":1690146819,"answer_id":76750348,"question_id":76749378,"body_markdown":"I would say that you are on to the answer already, it&#39;s heap vs meta space. For the non-static version, the data needs to be in both, it needs to be in metaspace all the time, and copied over to the (singelton) instance of the object once it&#39;s instantiated. \r\n\r\n**If it&#39;s small data**, like a single primitive value, it can be stored directly in the instruction memory itself if declared static final, and are then likely to be accessed within a single clock cycle during execution. But who knows, maybe the GIT compiler can achieve this anyway. &#129335;\r\n\r\n**If it is a lagre dataset**, declaring it static final avoid a data copy (or more if the singelton intention is overridden using serialization or reflection) since only the version in metaspace is needed. \r\n\r\nSo I would say no reason to not have it declared static final. It will probably not do any harm. A byte saved is a byte earned. &#128516;","title":"Should one make constants in singletons static in java?","body":"<p>I would say that you are on to the answer already, it's heap vs meta space. For the non-static version, the data needs to be in both, it needs to be in metaspace all the time, and copied over to the (singelton) instance of the object once it's instantiated.</p>\n<p><strong>If it's small data</strong>, like a single primitive value, it can be stored directly in the instruction memory itself if declared static final, and are then likely to be accessed within a single clock cycle during execution. But who knows, maybe the GIT compiler can achieve this anyway. </p>\n<p><strong>If it is a lagre dataset</strong>, declaring it static final avoid a data copy (or more if the singelton intention is overridden using serialization or reflection) since only the version in metaspace is needed.</p>\n<p>So I would say no reason to not have it declared static final. It will probably not do any harm. A byte saved is a byte earned. </p>\n"}],"owner":{"account_id":28906329,"reputation":13,"user_id":22140292,"display_name":"Luca Blanchi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76750348,"answer_count":1,"score":1,"last_activity_date":1690146819,"creation_date":1690131215,"question_id":76749378,"body_markdown":"A final field in a singleton class should be constant (assuming immutability) regardless of whether it is static, as there cannot be multiple instances of the class holding different values.\r\n\r\nAre there reasons to still declare the field as static, or not to do so?\r\n\r\nOne reason to make it static is clear declaration of intent. But are there nuances regarding memory management that could make one practice best?\r\n\r\nTo my understanding, what differs is that in the non-static case, the reference to the object assigned to the field is stored in the class instance in heap space, while in the static case it&#39;s stored in metaspace, but I don&#39;t know which one (if any) is to be preferred.\r\n\r\nEdit: A user noted that the implementation of the singleton may make a difference. This question came up regarding Spring components, where manually creating multiple instances could be done, but will not happen in practice.","title":"Should one make constants in singletons static in java?","body":"<p>A final field in a singleton class should be constant (assuming immutability) regardless of whether it is static, as there cannot be multiple instances of the class holding different values.</p>\n<p>Are there reasons to still declare the field as static, or not to do so?</p>\n<p>One reason to make it static is clear declaration of intent. But are there nuances regarding memory management that could make one practice best?</p>\n<p>To my understanding, what differs is that in the non-static case, the reference to the object assigned to the field is stored in the class instance in heap space, while in the static case it's stored in metaspace, but I don't know which one (if any) is to be preferred.</p>\n<p>Edit: A user noted that the implementation of the singleton may make a difference. This question came up regarding Spring components, where manually creating multiple instances could be done, but will not happen in practice.</p>\n"},{"tags":["java","android","json","indexing","lucene"],"comments":[{"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"score":0,"creation_date":1490617216,"post_id":43046248,"comment_id":73176607,"body_markdown":"yes it is possible and you&#39;re looking for this http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html","body":"yes it is possible and you&#39;re looking for this <a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html\" rel=\"nofollow noreferrer\">avajava.com/tutorials/lessons/&hellip;</a>"},{"owner":{"account_id":6299516,"reputation":141,"user_id":4894564,"accept_rate":25,"display_name":"vikrant"},"score":0,"creation_date":1490617368,"post_id":43046248,"comment_id":73176711,"body_markdown":"i am looking for indexing json data","body":"i am looking for indexing json data"}],"answers":[{"tags":[],"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490624760,"creation_date":1490617891,"answer_id":43046556,"question_id":43046248,"body_markdown":"use this as a base http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html\r\n\r\nand use this to add JSON objects to the index\r\n\r\n    public void addDocuments(IndexWriter indexWriter, JSONArray jsonObjects) {\r\n        for (JSONObject object : (List&lt;JSONObject&gt;) jsonObjects) {\r\n            Document doc = new Document();\r\n            final FieldType bodyOptions = new FieldType();\r\n            bodyOptions.setIndexed(true);\r\n            bodyOptions.setIndexOptions(FieldInfo.IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS);\r\n            bodyOptions.setStored(true);\r\n            bodyOptions.setStoreTermVectors(true);\r\n            bodyOptions.setTokenized(true);\r\n            for (String field : (Set&lt;String&gt;) object.keySet()) {\r\n                doc.add(new Field(field, (String) object.get(field), bodyOptions));\r\n            }\r\n            try {\r\n                System.out.println(doc);\r\n                indexWriter.addDocument(doc);\r\n            } catch (IOException ex) {\r\n                System.err.println(&quot;Error adding documents to the index. &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nyou might need to add the following dependency\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.lucene/lucene-analyzers-common --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\r\n        &lt;version&gt;4.10.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Indexing json document offline in native android app using lucene","body":"<p>use this as a base <a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html\" rel=\"nofollow noreferrer\">http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html</a></p>\n\n<p>and use this to add JSON objects to the index</p>\n\n<pre><code>public void addDocuments(IndexWriter indexWriter, JSONArray jsonObjects) {\n    for (JSONObject object : (List&lt;JSONObject&gt;) jsonObjects) {\n        Document doc = new Document();\n        final FieldType bodyOptions = new FieldType();\n        bodyOptions.setIndexed(true);\n        bodyOptions.setIndexOptions(FieldInfo.IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS);\n        bodyOptions.setStored(true);\n        bodyOptions.setStoreTermVectors(true);\n        bodyOptions.setTokenized(true);\n        for (String field : (Set&lt;String&gt;) object.keySet()) {\n            doc.add(new Field(field, (String) object.get(field), bodyOptions));\n        }\n        try {\n            System.out.println(doc);\n            indexWriter.addDocument(doc);\n        } catch (IOException ex) {\n            System.err.println(\"Error adding documents to the index. \" + ex.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>you might need to add the following dependency</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.lucene/lucene-analyzers-common --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n    &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\n    &lt;version&gt;4.10.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29047512,"reputation":1,"user_id":22251021,"display_name":"texopher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690146228,"creation_date":1689760094,"answer_id":76719984,"question_id":43046248,"body_markdown":"You can use this modification of Lucene 7.3.0 for searching in Android 8.0 or above: https://github.com/texophen/lucene-android\r\n\r\nSee this answer ( https://stackoverflow.com/a/76719477/22251021 ) for how to use it.\r\n\r\nIn order to use Lucene in Android, you can:\r\n\r\n+ Extends org.apache.lucene.store.BaseDirectory:\r\n```\r\npackage com.texopher.gophoxes;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Path;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.apache.lucene.store.BaseDirectory;\r\nimport org.apache.lucene.store.IOContext;\r\nimport org.apache.lucene.store.IndexInput;\r\nimport org.apache.lucene.store.IndexOutput;\r\nimport org.apache.lucene.store.LockFactory;\r\n\r\npublic class BucketDirectory extends BaseDirectory {\r\n\r\n\tprotected Bucket bucket;\r\n\t\r\n\tpublic BucketDirectory(Bucket bucket, LockFactory lockFactory) {\r\n\t\tsuper(lockFactory);\r\n\t\tthis.bucket = bucket;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close() throws IOException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndexOutput createOutput(String name, IOContext context) throws IOException {\r\n\t\treturn new BucketIndexOutput(bucket, name);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndexOutput createTempOutput(String prefix, String suffix, IOContext context) throws IOException {\r\n\t\treturn new BucketIndexOutput(bucket, prefix + UUID.randomUUID().toString().replaceAll(&quot;-&quot;, &quot;&quot;) + suffix);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteFile(String name) throws IOException {\r\n\t\ttry {\r\n\t\t\tbucket.deleteFile(name);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic long fileLength(String name) throws IOException {\r\n\t\ttry {\r\n\t\t\treturn bucket.fileLength(name);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String[] listAll() throws IOException {\r\n\t\tString[] tag = new String[0];\r\n\t\ttry {\r\n\t\t\tList&lt;String&gt; tmp = bucket.listFiles();\r\n\t\t\ttag = new String[tmp.size()];\r\n\t\t\tfor (int i = 0; i &lt; tmp.size(); i++) {\r\n\t\t\t\ttag[i] = tmp.get(i);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn tag;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndexInput openInput(String name, IOContext context) throws IOException {\r\n\t\ttry {\r\n\t\t\treturn new BucketIndexInput(bucket, name);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void rename(String source, String dest) throws IOException {\r\n\t\ttry {\r\n\t\t\tbucket.rename(source, dest);;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void sync(Collection&lt;String&gt; arg0) throws IOException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void syncMetaData() throws IOException {\r\n\t}\r\n\r\n}\r\n```\r\n\r\n+ Use following code for searching:\r\n```\r\nQuery qr = new TermQuery(new Term(&quot;code&quot;, this.md5(link)));\r\nBucket bk = new Bucket(this.gopherServer, this.hole, this.magic);\r\nDirectory indexDirectory = new BucketDirectory(bk, new SingleInstanceLockFactory());\r\nIndexReader reader = DirectoryReader.open(indexDirectory);\r\nIndexSearcher searcher = new IndexSearcher(reader);\r\nTopDocs docs = searcher.search(qr, 1);\r\nScoreDoc[] hits = docs.scoreDocs;\r\n```","title":"Indexing json document offline in native android app using lucene","body":"<p>You can use this modification of Lucene 7.3.0 for searching in Android 8.0 or above: <a href=\"https://github.com/texophen/lucene-android\" rel=\"nofollow noreferrer\">https://github.com/texophen/lucene-android</a></p>\n<p>See this answer ( <a href=\"https://stackoverflow.com/a/76719477/22251021\">https://stackoverflow.com/a/76719477/22251021</a> ) for how to use it.</p>\n<p>In order to use Lucene in Android, you can:</p>\n<ul>\n<li>Extends org.apache.lucene.store.BaseDirectory:</li>\n</ul>\n<pre><code>package com.texopher.gophoxes;\n\nimport java.io.IOException;\nimport java.nio.file.Path;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.apache.lucene.store.BaseDirectory;\nimport org.apache.lucene.store.IOContext;\nimport org.apache.lucene.store.IndexInput;\nimport org.apache.lucene.store.IndexOutput;\nimport org.apache.lucene.store.LockFactory;\n\npublic class BucketDirectory extends BaseDirectory {\n\n    protected Bucket bucket;\n    \n    public BucketDirectory(Bucket bucket, LockFactory lockFactory) {\n        super(lockFactory);\n        this.bucket = bucket;\n    }\n\n    @Override\n    public void close() throws IOException {\n    }\n\n    @Override\n    public IndexOutput createOutput(String name, IOContext context) throws IOException {\n        return new BucketIndexOutput(bucket, name);\n    }\n\n    @Override\n    public IndexOutput createTempOutput(String prefix, String suffix, IOContext context) throws IOException {\n        return new BucketIndexOutput(bucket, prefix + UUID.randomUUID().toString().replaceAll(&quot;-&quot;, &quot;&quot;) + suffix);\n    }\n\n    @Override\n    public void deleteFile(String name) throws IOException {\n        try {\n            bucket.deleteFile(name);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public long fileLength(String name) throws IOException {\n        try {\n            return bucket.fileLength(name);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return 0;\n    }\n\n    @Override\n    public String[] listAll() throws IOException {\n        String[] tag = new String[0];\n        try {\n            List&lt;String&gt; tmp = bucket.listFiles();\n            tag = new String[tmp.size()];\n            for (int i = 0; i &lt; tmp.size(); i++) {\n                tag[i] = tmp.get(i);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return tag;\n    }\n\n    @Override\n    public IndexInput openInput(String name, IOContext context) throws IOException {\n        try {\n            return new BucketIndexInput(bucket, name);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    @Override\n    public void rename(String source, String dest) throws IOException {\n        try {\n            bucket.rename(source, dest);;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void sync(Collection&lt;String&gt; arg0) throws IOException {\n    }\n\n    @Override\n    public void syncMetaData() throws IOException {\n    }\n\n}\n</code></pre>\n<ul>\n<li>Use following code for searching:</li>\n</ul>\n<pre><code>Query qr = new TermQuery(new Term(&quot;code&quot;, this.md5(link)));\nBucket bk = new Bucket(this.gopherServer, this.hole, this.magic);\nDirectory indexDirectory = new BucketDirectory(bk, new SingleInstanceLockFactory());\nIndexReader reader = DirectoryReader.open(indexDirectory);\nIndexSearcher searcher = new IndexSearcher(reader);\nTopDocs docs = searcher.search(qr, 1);\nScoreDoc[] hits = docs.scoreDocs;\n</code></pre>\n"}],"owner":{"account_id":6299516,"reputation":141,"user_id":4894564,"accept_rate":25,"display_name":"vikrant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690146228,"creation_date":1490617134,"question_id":43046248,"body_markdown":"Is it possible to index documents offline in native android app using lucene?\r\n\r\nWe build it for web but looking for something which will work offline in native android apps.\r\n\r\nsample data:\r\n\r\n[\r\n{\r\n&quot;name&quot;:&quot;abc&quot;,\r\n&quot;desc&quot;:&quot;ndex documents offline&quot;\r\n},\r\n{\r\n&quot;name&quot;:&quot;jjj&quot;,\r\n&quot;desc&quot;:&quot;index my data&quot;\r\n}\r\n]\r\n\r\n\r\nI have to index my data and search from it\r\n\r\n\r\n\r\nAnalyzer code:\r\n\r\n    //  Directory dir = FSDirectory.open(&quot;/libs/g&quot;);\r\n    //Analyzer analyzer = new StandardAnalyzer();\r\n    // IndexWriterConfig iwc = new IndexWriterConfig();\r\n    // Analyzer analyzer = new StandardAnalyzer();\r\n    \r\n    Directory directory = new RAMDirectory();\r\n    // To store an index on disk, use this instead:\r\n    //Directory directory = FSDirectory.open(&quot;/tmp/testindex&quot;);\r\n    IndexWriterConfig config = new IndexWriterConfig(Version.LUCENE_4_10_4,new Analyzer(){\r\n    \r\n    protected TokenStreamComponents createComponents(String fieldName, Reader reader) {\r\n        return null;\r\n        }\r\n    });\r\n    config.setOpenMode(OpenMode.CREATE_OR_APPEND);\r\n    indexWriter = new IndexWriter(directory, config);\r\n    \r\n    //Always overwrite the directory\r\n    //iwriter.setOpenMode(OpenMode.CREATE);\r\n    //indexWriter = new IndexWriter(dir, iwc);\r\n\r\n","title":"Indexing json document offline in native android app using lucene","body":"<p>Is it possible to index documents offline in native android app using lucene?</p>\n\n<p>We build it for web but looking for something which will work offline in native android apps.</p>\n\n<p>sample data:</p>\n\n<p>[\n{\n\"name\":\"abc\",\n\"desc\":\"ndex documents offline\"\n},\n{\n\"name\":\"jjj\",\n\"desc\":\"index my data\"\n}\n]</p>\n\n<p>I have to index my data and search from it</p>\n\n<p>Analyzer code:</p>\n\n<pre><code>//  Directory dir = FSDirectory.open(\"/libs/g\");\n//Analyzer analyzer = new StandardAnalyzer();\n// IndexWriterConfig iwc = new IndexWriterConfig();\n// Analyzer analyzer = new StandardAnalyzer();\n\nDirectory directory = new RAMDirectory();\n// To store an index on disk, use this instead:\n//Directory directory = FSDirectory.open(\"/tmp/testindex\");\nIndexWriterConfig config = new IndexWriterConfig(Version.LUCENE_4_10_4,new Analyzer(){\n\nprotected TokenStreamComponents createComponents(String fieldName, Reader reader) {\n    return null;\n    }\n});\nconfig.setOpenMode(OpenMode.CREATE_OR_APPEND);\nindexWriter = new IndexWriter(directory, config);\n\n//Always overwrite the directory\n//iwriter.setOpenMode(OpenMode.CREATE);\n//indexWriter = new IndexWriter(dir, iwc);\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10345313,"reputation":330,"user_id":7630468,"display_name":"SwathiP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690145904,"creation_date":1690143446,"answer_id":76750154,"question_id":76749380,"body_markdown":"&quot;jdbc&quot; is not injected as a bean and not initialized, therefore you are getting NullPointerException. Replace \r\n\r\n    public NamedParameterJdbcTemplate jdbc;\r\n\r\nwith \r\n\r\n    private final NamedParameterJdbcTemplate jdbc;","title":"java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject","body":"<p>&quot;jdbc&quot; is not injected as a bean and not initialized, therefore you are getting NullPointerException. Replace</p>\n<pre><code>public NamedParameterJdbcTemplate jdbc;\n</code></pre>\n<p>with</p>\n<pre><code>private final NamedParameterJdbcTemplate jdbc;\n</code></pre>\n"}],"owner":{"account_id":26672592,"reputation":27,"user_id":20283825,"display_name":"Sheriff Sulemana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690163612,"accepted_answer_id":76750154,"answer_count":1,"score":0,"last_activity_date":1690145904,"creation_date":1690131286,"question_id":76749380,"body_markdown":"     This is my spring boot v3.10 api, a post request to register user and check if email already exist.\r\nBut i got this error:  &quot;java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(String, java.util.Map, java.lang.Class)&quot; because &quot;this.jdbc&quot; is null&quot;\r\n\r\nthis is the class that creates a new user but before creating it checks if an email already exist in the user table with the getEmailCount() method but this where i get the error.\r\n\r\n    @Repository\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class UserRepositoryImplementation implements UserRepository&lt;User&gt; {\r\n        public NamedParameterJdbcTemplate jdbc;\r\n        private final RoleRepository&lt;Role&gt; roleRepository;\r\n        private final BCryptPasswordEncoder encoder;\r\n    \r\n        @Override\r\n        public User create(User user) {\r\n            // check if email is unique\r\n            if(getEmailCount(user.getEmail().trim().toLowerCase()) &gt; 0) {\r\n                throw new ApiException(&quot;Email already in use. Please use a different email and try again.&quot;);\r\n            }\r\n            // save new user\r\n            try{\r\n                KeyHolder holder = new GeneratedKeyHolder();\r\n                SqlParameterSource parameters = getSqlParameterSource(user);\r\n                jdbc.update(INSERT_USER_QUERY, parameters, holder);\r\n                user.setId(requireNonNull(holder.getKey()).longValue());\r\n    \r\n                // add role to the user\r\n                roleRepository.addRoleToUser(user.getId(), ROLE_USER.name());\r\n    \r\n                // send verification URL\r\n                String verificationUrl = getVerificationUrl(UUID.randomUUID().toString(), ACCOUNT.getType());\r\n    \r\n                // save URL in verification table\r\n                jdbc.update(INSERT_VERIFICATION_QUERY, Map.of(&quot;userId&quot;, user.getId(), &quot;url&quot;, verificationUrl));\r\n    \r\n                // send email to user with verification URL\r\n                //emailSerivice.sendVerificationUrl(user.getFirstName(), user.getEmail(), verificationUrl, ACCOUNT);\r\n                user.setEnabled(false);\r\n                user.setNotLocked(true);\r\n    \r\n                // return the newly created user\r\n                return user;\r\n                // if any errors, throw exception with proper message\r\n            }catch (Exception exception){}\r\n            throw new ApiException(&quot;An error occurred. Please try again.&quot;);\r\n        }\r\n\r\n\r\nThis is the method that handles the query to check if the email already exist: \r\n\r\n     private Integer getEmailCount(String email){\r\n            return jdbc.queryForObject(COUNT_USER_EMAIL_QUERY, Map.of(&quot;email&quot;, email), Integer.class);\r\n        }\r\n\r\nAs error said the jdbc is null.\r\nThis the query for the COUNT_USER_EMAIL_QUERY variable:  COUNT_USER_EMAIL_QUERY = &quot;SELECT COUNT(*) FROM Users WHERE email = :email&quot;;\r\n","title":"java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject","body":"<pre><code> This is my spring boot v3.10 api, a post request to register user and check if email already exist.\n</code></pre>\n<p>But i got this error:  &quot;java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(String, java.util.Map, java.lang.Class)&quot; because &quot;this.jdbc&quot; is null&quot;</p>\n<p>this is the class that creates a new user but before creating it checks if an email already exist in the user table with the getEmailCount() method but this where i get the error.</p>\n<pre><code>@Repository\n@RequiredArgsConstructor\n@Slf4j\npublic class UserRepositoryImplementation implements UserRepository&lt;User&gt; {\n    public NamedParameterJdbcTemplate jdbc;\n    private final RoleRepository&lt;Role&gt; roleRepository;\n    private final BCryptPasswordEncoder encoder;\n\n    @Override\n    public User create(User user) {\n        // check if email is unique\n        if(getEmailCount(user.getEmail().trim().toLowerCase()) &gt; 0) {\n            throw new ApiException(&quot;Email already in use. Please use a different email and try again.&quot;);\n        }\n        // save new user\n        try{\n            KeyHolder holder = new GeneratedKeyHolder();\n            SqlParameterSource parameters = getSqlParameterSource(user);\n            jdbc.update(INSERT_USER_QUERY, parameters, holder);\n            user.setId(requireNonNull(holder.getKey()).longValue());\n\n            // add role to the user\n            roleRepository.addRoleToUser(user.getId(), ROLE_USER.name());\n\n            // send verification URL\n            String verificationUrl = getVerificationUrl(UUID.randomUUID().toString(), ACCOUNT.getType());\n\n            // save URL in verification table\n            jdbc.update(INSERT_VERIFICATION_QUERY, Map.of(&quot;userId&quot;, user.getId(), &quot;url&quot;, verificationUrl));\n\n            // send email to user with verification URL\n            //emailSerivice.sendVerificationUrl(user.getFirstName(), user.getEmail(), verificationUrl, ACCOUNT);\n            user.setEnabled(false);\n            user.setNotLocked(true);\n\n            // return the newly created user\n            return user;\n            // if any errors, throw exception with proper message\n        }catch (Exception exception){}\n        throw new ApiException(&quot;An error occurred. Please try again.&quot;);\n    }\n</code></pre>\n<p>This is the method that handles the query to check if the email already exist:</p>\n<pre><code> private Integer getEmailCount(String email){\n        return jdbc.queryForObject(COUNT_USER_EMAIL_QUERY, Map.of(&quot;email&quot;, email), Integer.class);\n    }\n</code></pre>\n<p>As error said the jdbc is null.\nThis the query for the COUNT_USER_EMAIL_QUERY variable:  COUNT_USER_EMAIL_QUERY = &quot;SELECT COUNT(*) FROM Users WHERE email = :email&quot;;</p>\n"},{"tags":["java","maven","tomcat"],"owner":{"account_id":27432673,"reputation":1,"user_id":22273179,"display_name":"Satyadeep Yenumula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690142612,"creation_date":1690142612,"question_id":76750107,"body_markdown":"when I try to access one page , I&#39;m getting two errors. Same build is working fine in my local windows environment. It is failing in linux. Apache-tomcat-6.0.37 . Here is the stack.\r\n\r\n```\r\nERROR org.apache.tiles.jsp.context.JspTilesRequestContext- JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. \r\njavax.servlet.jsp.JspException: ServletException while including page.\r\n\tat org.apache.tiles.jsp.context.JspUtil.doInclude(JspUtil.java:102)\r\n\tat org.apache.tiles.jsp.context.JspTilesRequestContext.include(JspTilesRequestContext.java:88)\r\n\tat org.apache.tiles.jsp.context.JspTilesRequestContext.dispatch(JspTilesRequestContext.java:82)\r\n\tat org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:457)\r\n\tat org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:140)\r\n\tat org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:117)\r\n\tat org.apache.tiles.jsp.taglib.RenderTagSupport.execute(RenderTagSupport.java:171)\r\n\tat org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:75)\r\n\tat org.apache.tiles.jsp.taglib.ContainerTagSupport.doEndTag(ContainerTagSupport.java:80)\r\n\tat org.apache.jsp.common.tiles.mainLayout_jsp._jspx_meth_tiles_005finsertAttribute_005f1(mainLayout_jsp.java:386)\r\n\tat org.apache.jsp.common.tiles.mainLayout_jsp._jspService(mainLayout_jsp.java:315)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\r\n\tat org.apache.tiles.servlet.context.ServletTilesRequestContext.forward(ServletTilesRequestContext.java:198)\r\n\tat org.apache.tiles.servlet.context.ServletTilesRequestContext.dispatch(ServletTilesRequestContext.java:185)\r\n\tat org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:417)\r\n\tat org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:368)\r\n\tat org.apache.tiles.web.util.TilesDispatchServlet.doGet(TilesDispatchServlet.java:83)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\r\n\tat org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\r\n\tat org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\r\n\tat com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\r\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\r\n\tat org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\r\n\tat org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\r\n\tat com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\r\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\r\n\tat org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\r\n\tat org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\r\n\tat com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\r\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat com.apollogrp.sso.client.AuthenticationFilter.doFilter(AuthenticationFilter.java:101)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat com.apollo.s3.filter.LoadTimeFilter.doFilter(LoadTimeFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat com.apollo.s3.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:470)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:555)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)\r\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /degreeView/viewStudentInfo.jsp at line 16\r\n\r\n13: \r\n14: &lt;div id=&quot;viewStudentInfo&quot; style=&quot;width: 100%&quot; &gt;\r\n15:            &lt;div id=&quot;degreeAuditReportContainer&quot;&gt;\r\n16:                 &lt;jsp:include page=&quot;/version2/scheduleGuide/degreeAuditReport.jsp&quot;\r\n17:                              flush=&quot;false&quot; /&gt;\r\n18:             &lt;/div&gt;\r\n19: \t\t    &lt;div id=&quot;viewGGroundStudentInfoScheduleDisplayContainer&quot;&gt;\r\n\r\n\r\nStacktrace:\r\n\tat org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\r\n\tat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\r\n\tat org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:621)\r\n\tat org.apache.tiles.jsp.context.JspUtil.doInclude(JspUtil.java:98)\r\n\t... 94 more\r\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /version2/scheduleGuide/degreeAuditReport.jsp at line 54\r\n\r\n51: \t      &lt;td width=&quot;367&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;\r\n52: \t      &lt;!-- Audit and Guide --&gt;\r\n53: \t          &lt;div id=&quot;scheduleGuideSection&quot; style=&quot;visibility:hidden&quot;&gt;\r\n54: \t            &lt;jsp:include page=&quot;/version2/scheduleGuide/scheduleGuide.jsp&quot; flush=&quot;false&quot;/&gt;\r\n55: \t          &lt;/div&gt;\r\n56: \t      &lt;!-- Audit and Guide --&gt;\r\n57: \t\t  &lt;/td&gt;\r\n\r\n\r\nStacktrace:\r\n\tat org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\r\n\tat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\r\n\tat org.apache.jsp.degreeView.viewStudentInfo_jsp._jspService(viewStudentInfo_jsp.java:67)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\r\n\t... 105 more\r\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /version2/scheduleGuide/scheduleGuide.jsp at line 329\r\n\r\n326: \t    &lt;tr&gt;\r\n327: \t        &lt;td align=&quot;left&quot;&gt;\r\n328: \t            &lt;div id=&quot;scheduleGuideContainer&quot;&gt;\r\n329: \t\t\t\t\t&lt;jsp:include page=&quot;/version2/scheduleGuide/scheduleGuideTreeview.jsp&quot;/&gt;\r\n330: \t\t\t\t&lt;/div&gt;\r\n331: \t\t\t&lt;/td&gt;\r\n332: \t\t&lt;/tr&gt;\r\n\r\n\r\nStacktrace:\r\n\tat org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\r\n\tat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\r\n\tat org.apache.jsp.version2.scheduleGuide.degreeAuditReport_jsp._jspx_meth_logic_005fequal_005f0(degreeAuditReport_jsp.java:176)\r\n\tat org.apache.jsp.version2.scheduleGuide.degreeAuditReport_jsp._jspService(degreeAuditReport_jsp.java:127)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\r\n\t... 118 more\r\nCaused by: org.apache.jasper.JasperException: org.apache.jasper.JasperException: Unable to load class for JSP\r\n\tat org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:156)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:329)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\r\n\tat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\r\n\tat org.apache.jsp.version2.scheduleGuide.scheduleGuide_jsp._jspService(scheduleGuide_jsp.java:493)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\r\n\t... 132 more\r\nCaused by: org.apache.jasper.JasperException: Unable to load class for JSP\r\n\tat org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:630)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:144)\r\n\t... 146 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:134)\r\n\tat org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:66)\r\n\tat org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:628)\r\n//2nd error\r\n ERROR org.apache.tiles.jsp.taglib.RoleSecurityTagSupport- IO Error executing tag: JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. ServletException while including page.\r\njava.io.IOException: JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. ServletException while including page.\r\n//3rd error\r\n ERROR org.apache.tiles.jsp.taglib.RenderTagSupport- Error during rendering\r\njavax.servlet.jsp.JspException: IO Error executing tag: JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. ServletException while including page.\r\n\tat org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:84)\r\nCaused by: java.io.IOException: JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. ServletException while including page.\r\n\tat org.apache.tiles.jsp.context.JspTilesRequestContext.include(JspTilesRequestContext.java:91)\r\n\tat org.apache.tiles.jsp.context.JspTilesRequestContext.dispatch(JspTilesRequestContext.java:82)\r\n\tat org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:457)\r\n\tat org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:140)\r\n\tat org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:117)\r\n\tat org.apache.tiles.jsp.taglib.RenderTagSupport.execute(RenderTagSupport.java:171)\r\n\tat org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:75)\r\n\r\n```\r\nI tried deleting the work folder and any temp folder on the server. This class exists on the following path in work folder org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp.","title":"JSP class not found: java.lang.ClassNotFoundException: org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp","body":"<p>when I try to access one page , I'm getting two errors. Same build is working fine in my local windows environment. It is failing in linux. Apache-tomcat-6.0.37 . Here is the stack.</p>\n<pre><code>ERROR org.apache.tiles.jsp.context.JspTilesRequestContext- JSPException while including path '/degreeView/viewStudentInfo.jsp'. \njavax.servlet.jsp.JspException: ServletException while including page.\n    at org.apache.tiles.jsp.context.JspUtil.doInclude(JspUtil.java:102)\n    at org.apache.tiles.jsp.context.JspTilesRequestContext.include(JspTilesRequestContext.java:88)\n    at org.apache.tiles.jsp.context.JspTilesRequestContext.dispatch(JspTilesRequestContext.java:82)\n    at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:457)\n    at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:140)\n    at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:117)\n    at org.apache.tiles.jsp.taglib.RenderTagSupport.execute(RenderTagSupport.java:171)\n    at org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:75)\n    at org.apache.tiles.jsp.taglib.ContainerTagSupport.doEndTag(ContainerTagSupport.java:80)\n    at org.apache.jsp.common.tiles.mainLayout_jsp._jspx_meth_tiles_005finsertAttribute_005f1(mainLayout_jsp.java:386)\n    at org.apache.jsp.common.tiles.mainLayout_jsp._jspService(mainLayout_jsp.java:315)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\n    at org.apache.tiles.servlet.context.ServletTilesRequestContext.forward(ServletTilesRequestContext.java:198)\n    at org.apache.tiles.servlet.context.ServletTilesRequestContext.dispatch(ServletTilesRequestContext.java:185)\n    at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:417)\n    at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:368)\n    at org.apache.tiles.web.util.TilesDispatchServlet.doGet(TilesDispatchServlet.java:83)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\n    at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\n    at org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\n    at com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\n    at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\n    at org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\n    at com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\n    at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\n    at org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\n    at com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.apollogrp.sso.client.AuthenticationFilter.doFilter(AuthenticationFilter.java:101)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.apollo.s3.filter.LoadTimeFilter.doFilter(LoadTimeFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.apollo.s3.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:470)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:555)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /degreeView/viewStudentInfo.jsp at line 16\n\n13: \n14: &lt;div id=&quot;viewStudentInfo&quot; style=&quot;width: 100%&quot; &gt;\n15:            &lt;div id=&quot;degreeAuditReportContainer&quot;&gt;\n16:                 &lt;jsp:include page=&quot;/version2/scheduleGuide/degreeAuditReport.jsp&quot;\n17:                              flush=&quot;false&quot; /&gt;\n18:             &lt;/div&gt;\n19:             &lt;div id=&quot;viewGGroundStudentInfoScheduleDisplayContainer&quot;&gt;\n\n\nStacktrace:\n    at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\n    at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:621)\n    at org.apache.tiles.jsp.context.JspUtil.doInclude(JspUtil.java:98)\n    ... 94 more\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /version2/scheduleGuide/degreeAuditReport.jsp at line 54\n\n51:           &lt;td width=&quot;367&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;\n52:           &lt;!-- Audit and Guide --&gt;\n53:               &lt;div id=&quot;scheduleGuideSection&quot; style=&quot;visibility:hidden&quot;&gt;\n54:                 &lt;jsp:include page=&quot;/version2/scheduleGuide/scheduleGuide.jsp&quot; flush=&quot;false&quot;/&gt;\n55:               &lt;/div&gt;\n56:           &lt;!-- Audit and Guide --&gt;\n57:           &lt;/td&gt;\n\n\nStacktrace:\n    at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\n    at org.apache.jsp.degreeView.viewStudentInfo_jsp._jspService(viewStudentInfo_jsp.java:67)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\n    ... 105 more\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /version2/scheduleGuide/scheduleGuide.jsp at line 329\n\n326:        &lt;tr&gt;\n327:            &lt;td align=&quot;left&quot;&gt;\n328:                &lt;div id=&quot;scheduleGuideContainer&quot;&gt;\n329:                    &lt;jsp:include page=&quot;/version2/scheduleGuide/scheduleGuideTreeview.jsp&quot;/&gt;\n330:                &lt;/div&gt;\n331:            &lt;/td&gt;\n332:        &lt;/tr&gt;\n\n\nStacktrace:\n    at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\n    at org.apache.jsp.version2.scheduleGuide.degreeAuditReport_jsp._jspx_meth_logic_005fequal_005f0(degreeAuditReport_jsp.java:176)\n    at org.apache.jsp.version2.scheduleGuide.degreeAuditReport_jsp._jspService(degreeAuditReport_jsp.java:127)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\n    ... 118 more\nCaused by: org.apache.jasper.JasperException: org.apache.jasper.JasperException: Unable to load class for JSP\n    at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:156)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:329)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\n    at org.apache.jsp.version2.scheduleGuide.scheduleGuide_jsp._jspService(scheduleGuide_jsp.java:493)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\n    ... 132 more\nCaused by: org.apache.jasper.JasperException: Unable to load class for JSP\n    at org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:630)\n    at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:144)\n    ... 146 more\nCaused by: java.lang.ClassNotFoundException: org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:134)\n    at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:66)\n    at org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:628)\n//2nd error\n ERROR org.apache.tiles.jsp.taglib.RoleSecurityTagSupport- IO Error executing tag: JSPException while including path '/degreeView/viewStudentInfo.jsp'. ServletException while including page.\njava.io.IOException: JSPException while including path '/degreeView/viewStudentInfo.jsp'. ServletException while including page.\n//3rd error\n ERROR org.apache.tiles.jsp.taglib.RenderTagSupport- Error during rendering\njavax.servlet.jsp.JspException: IO Error executing tag: JSPException while including path '/degreeView/viewStudentInfo.jsp'. ServletException while including page.\n    at org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:84)\nCaused by: java.io.IOException: JSPException while including path '/degreeView/viewStudentInfo.jsp'. ServletException while including page.\n    at org.apache.tiles.jsp.context.JspTilesRequestContext.include(JspTilesRequestContext.java:91)\n    at org.apache.tiles.jsp.context.JspTilesRequestContext.dispatch(JspTilesRequestContext.java:82)\n    at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:457)\n    at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:140)\n    at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:117)\n    at org.apache.tiles.jsp.taglib.RenderTagSupport.execute(RenderTagSupport.java:171)\n    at org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:75)\n\n</code></pre>\n<p>I tried deleting the work folder and any temp folder on the server. This class exists on the following path in work folder org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp.</p>\n"},{"tags":["java","intellij-idea","jar","executable-jar","packaging"],"comments":[{"owner":{"account_id":21088177,"reputation":9,"user_id":15500753,"display_name":"MrClaps"},"score":0,"creation_date":1690140644,"post_id":76749991,"comment_id":135308511,"body_markdown":"Basically wondering if this is even possible","body":"Basically wondering if this is even possible"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1690144467,"post_id":76749991,"comment_id":135308888,"body_markdown":"See [`java.util.jar`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/jar/package-summary.html), [`jdk.jartool`](https://docs.oracle.com/en/java/javase/20/docs/api/jdk.jartool/module-summary.html) + [`ToolProvider`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/spi/ToolProvider.html), or even [`ProcessBuilder`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ProcessBuilder.html).","body":"See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/jar/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.jar</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.jartool/module-summary.html\" rel=\"nofollow noreferrer\"><code>jdk.jartool</code></a> + <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/spi/ToolProvider.html\" rel=\"nofollow noreferrer\"><code>ToolProvider</code></a>, or even <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1690144613,"post_id":76749991,"comment_id":135308900,"body_markdown":"And the [ZIP File System Provider](https://docs.oracle.com/en/java/javase/20/docs/api/jdk.zipfs/module-summary.html) (a JAR file is essentially just a ZIP file, by the way).","body":"And the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.zipfs/module-summary.html\" rel=\"nofollow noreferrer\">ZIP File System Provider</a> (a JAR file is essentially just a ZIP file, by the way)."}],"answers":[{"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690142556,"creation_date":1690142556,"answer_id":76750103,"question_id":76749991,"body_markdown":"Yes, this is possible.\r\n\r\nThe sequence of actions:\r\n------------------------\r\n\r\n 1. Need to pass Java code into the **JavaCompiler API**\r\n 2. FileManager extracts the source code for `JavaCompiler`\r\n 3. `JavaCompiler` compiles it and returns the bytecode\r\n 4. Generate an executable JAR. Create a `JarOutputStream` with a manifest that declares the main class.\r\n\r\n\r\n\r\n\r\nTechnical articles on the topic:\r\n--------------------------------\r\n\r\n[Baeldung: Compiling and Executing Code From a String in Java][1]\r\n\r\n\r\n[Baeldung: Creating JAR Files Programmatically][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-string-compile-execute-code#tools-and-strategy\r\n  [2]: https://www.baeldung.com/jar-create-programatically","title":"How to package a .jar file using a java program","body":"<p>Yes, this is possible.</p>\n<h2>The sequence of actions:</h2>\n<ol>\n<li>Need to pass Java code into the <strong>JavaCompiler API</strong></li>\n<li>FileManager extracts the source code for <code>JavaCompiler</code></li>\n<li><code>JavaCompiler</code> compiles it and returns the bytecode</li>\n<li>Generate an executable JAR. Create a <code>JarOutputStream</code> with a manifest that declares the main class.</li>\n</ol>\n<h2>Technical articles on the topic:</h2>\n<p><a href=\"https://www.baeldung.com/java-string-compile-execute-code#tools-and-strategy\" rel=\"nofollow noreferrer\">Baeldung: Compiling and Executing Code From a String in Java</a></p>\n<p><a href=\"https://www.baeldung.com/jar-create-programatically\" rel=\"nofollow noreferrer\">Baeldung: Creating JAR Files Programmatically</a></p>\n"}],"owner":{"account_id":21088177,"reputation":9,"user_id":15500753,"display_name":"MrClaps"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76750103,"answer_count":1,"score":-1,"last_activity_date":1690142556,"creation_date":1690140612,"question_id":76749991,"body_markdown":"How does one package a jar file using java code? I want a .jar file to be created with custom code whenever (for example) a button is pressed, how would I do this? There doesn&#39;t seem to be any documentation about this so I figured I would go here, I&#39;ve tried searching everywhere on the web.","title":"How to package a .jar file using a java program","body":"<p>How does one package a jar file using java code? I want a .jar file to be created with custom code whenever (for example) a button is pressed, how would I do this? There doesn't seem to be any documentation about this so I figured I would go here, I've tried searching everywhere on the web.</p>\n"},{"tags":["javascript","java","selenium-webdriver"],"comments":[{"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690142127,"post_id":76750009,"comment_id":135308659,"body_markdown":"It&#39;s not the best way to assign value property. Can you assign it via action with input directly? \nSmth like `input.sendKeys(value)?`","body":"It&#39;s not the best way to assign value property. Can you assign it via action with input directly?  Smth like <code>input.sendKeys(value)?</code>"},{"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690142473,"post_id":76750009,"comment_id":135308708,"body_markdown":"Actually, if you assign input value, it would work, but without submitting it, after refresh default value would be shown.","body":"Actually, if you assign input value, it would work, but without submitting it, after refresh default value would be shown."},{"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"score":0,"creation_date":1690145574,"post_id":76750009,"comment_id":135309010,"body_markdown":"The element in question is a &lt;a href/&gt; tag.","body":"The element in question is a &lt;a href/&gt; tag."},{"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"score":0,"creation_date":1690145600,"post_id":76750009,"comment_id":135309013,"body_markdown":"I want to erase it if a certain condition is met","body":"I want to erase it if a certain condition is met"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1690151021,"post_id":76750009,"comment_id":135309466,"body_markdown":"Why would you extract the textContext and set it as the value to the _`value`_ attribute? What is your usecase?","body":"Why would you extract the textContext and set it as the value to the <i><code>value</code></i> attribute? What is your usecase?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1690176428,"post_id":76750009,"comment_id":135311277,"body_markdown":"After the is made you just need to create a new instance of the element and test the changes on this new instance.","body":"After the is made you just need to create a new instance of the element and test the changes on this new instance."},{"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"score":0,"creation_date":1690198267,"post_id":76750009,"comment_id":135315246,"body_markdown":"That&#39;s an error the line is","body":"That&#39;s an error the line is"},{"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"score":0,"creation_date":1690198270,"post_id":76750009,"comment_id":135315247,"body_markdown":"jse.executeScript(&quot;arguments[0].value=&#39;&#39;;&quot;, element);","body":"jse.executeScript(&quot;arguments[0].value=&#39;&#39;;&quot;, element);"}],"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690141007,"creation_date":1690141007,"question_id":76750009,"body_markdown":"I have a driver in java selenium :\r\n\r\n    driver.get(url);\r\n\r\nI have made some changes to the page with this method :\r\n\r\n    JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n    jse.executeScript(&quot;arguments[0].value=&#39;&quot;+element.getText()+&quot;&#39;;&quot;, element);\r\n\r\nHow do I reload the page with the modifications ?\r\nI have tried driver.navigate.refresh() but that doesn&#39;t work.\r\n\r\nThank you for your ideas.","title":"Changes to a page in selenium in java, how to refresh the page to load the modifications","body":"<p>I have a driver in java selenium :</p>\n<pre><code>driver.get(url);\n</code></pre>\n<p>I have made some changes to the page with this method :</p>\n<pre><code>JavascriptExecutor jse = (JavascriptExecutor) driver;\njse.executeScript(&quot;arguments[0].value='&quot;+element.getText()+&quot;';&quot;, element);\n</code></pre>\n<p>How do I reload the page with the modifications ?\nI have tried driver.navigate.refresh() but that doesn't work.</p>\n<p>Thank you for your ideas.</p>\n"},{"tags":["java","spring-boot","unit-testing","dto","spring-boot-test"],"comments":[{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1690134329,"post_id":76749561,"comment_id":135307718,"body_markdown":"Maybe I&#39;m missing something but it looks like you&#39;re calling `setOwnerId` only once for the first pet but not for the second. Pay attention that you&#39;re putting the &quot;expected&quot; and the &quot;actual&quot; in opposite places (hence the weird error). It should be `assertEquals(expected, actual)` meaning it should be: `Assertions.assertEquals(2, pets.size());`","body":"Maybe I&#39;m missing something but it looks like you&#39;re calling <code>setOwnerId</code> only once for the first pet but not for the second. Pay attention that you&#39;re putting the &quot;expected&quot; and the &quot;actual&quot; in opposite places (hence the weird error). It should be <code>assertEquals(expected, actual)</code> meaning it should be: <code>Assertions.assertEquals(2, pets.size());</code>"},{"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"score":0,"creation_date":1690134467,"post_id":76749561,"comment_id":135307734,"body_markdown":"Someone else wrote the unit testing which is part of an online course. My gut feeling is pass by reference but I could be wrong. I wrote the code in the other classes which is probably the location of the bug. Not sure","body":"Someone else wrote the unit testing which is part of an online course. My gut feeling is pass by reference but I could be wrong. I wrote the code in the other classes which is probably the location of the bug. Not sure"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dum"},"score":1,"creation_date":1690135138,"post_id":76749561,"comment_id":135307821,"body_markdown":"What guarantee do you have in the ordering of results when `petController.getPetsByOwner(newCustomer.getId());` is called? Is there any ordering applied in the SQL query? If not, there&#39;s likely no guarantee in the order which the results are returned.","body":"What guarantee do you have in the ordering of results when <code>petController.getPetsByOwner(newCustomer.getId());</code> is called? Is there any ordering applied in the SQL query? If not, there&#39;s likely no guarantee in the order which the results are returned."},{"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"score":0,"creation_date":1690135467,"post_id":76749561,"comment_id":135307867,"body_markdown":"@D-Dum The order of the pets returned for ```petController.getPetsByOwner(newCustomer.getId)``` seems to have been constant when I used the IntelliJ debugger","body":"@D-Dum The order of the pets returned for <code>petController.getPetsByOwner(newCustomer.getId)</code> seems to have been constant when I used the IntelliJ debugger"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dum"},"score":0,"creation_date":1690135996,"post_id":76749561,"comment_id":135307947,"body_markdown":"I don&#39;t understand. When is the failure happening? When you run it in the debugger, or does the build server fail?","body":"I don&#39;t understand. When is the failure happening? When you run it in the debugger, or does the build server fail?"},{"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"score":0,"creation_date":1690136259,"post_id":76749561,"comment_id":135307987,"body_markdown":"@D-Dum I get the above result interms of Expected: 1, Actual: 2 when I the test in both debug or normal &quot;run&quot; mode. Hope that makes sense?","body":"@D-Dum I get the above result interms of Expected: 1, Actual: 2 when I the test in both debug or normal &quot;run&quot; mode. Hope that makes sense?"}],"answers":[{"tags":[],"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690137196,"creation_date":1690137196,"answer_id":76749775,"question_id":76749561,"body_markdown":"In your test you are assuming the ordering of the results when you call:\r\n```\r\nList&lt;PetDTO&gt; pets = petController.getPetsByOwner(newCustomer.getId());\r\n```\r\n\r\nWithout seeing the query in the method `getPetsByOwner()` I would think that no ordering is being applied or is being applied in descending order. If you are not able to see the code, or there is no guarantee of any ordering then you should alter your test to something like:\r\n\r\n```java\r\nint pet1Id = newPet.getId();\r\nint pet2Id = newPet2.getId();\r\nfor (PetDto pet : pets) {\r\n    if (pet.getID() == newPet.getId() {\r\n         //newPet specific tests\r\n    } else if (pet.getId() == newPet2.getId() {\r\n        // newPet2 specific tests\r\n    } else {\r\n        throw new RuntimeException(&quot;Unexpected ID&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAlso ensure your values are ordered correctly in your assertions otherwise it will lead to confusing logging messages.","title":"Java: Why does this unit testing not work (One to Many Relationship)?","body":"<p>In your test you are assuming the ordering of the results when you call:</p>\n<pre><code>List&lt;PetDTO&gt; pets = petController.getPetsByOwner(newCustomer.getId());\n</code></pre>\n<p>Without seeing the query in the method <code>getPetsByOwner()</code> I would think that no ordering is being applied or is being applied in descending order. If you are not able to see the code, or there is no guarantee of any ordering then you should alter your test to something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int pet1Id = newPet.getId();\nint pet2Id = newPet2.getId();\nfor (PetDto pet : pets) {\n    if (pet.getID() == newPet.getId() {\n         //newPet specific tests\n    } else if (pet.getId() == newPet2.getId() {\n        // newPet2 specific tests\n    } else {\n        throw new RuntimeException(&quot;Unexpected ID&quot;);\n    }\n}\n</code></pre>\n<p>Also ensure your values are ordered correctly in your assertions otherwise it will lead to confusing logging messages.</p>\n"}],"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76749775,"answer_count":1,"score":0,"last_activity_date":1690140740,"creation_date":1690133974,"question_id":76749561,"body_markdown":"I have the following code that relates to java unit testing\r\n```\r\n    @Test\r\n    public void testFindPetsByOwner() {\r\n        CustomerDTO customerDTO = createCustomerDTO();\r\n        CustomerDTO newCustomer = userController.saveCustomer(customerDTO);\r\n\r\n        PetDTO petDTO = createPetDTO();\r\n        petDTO.setOwnerId(newCustomer.getId());\r\n        PetDTO newPet = petController.savePet(petDTO);\r\n        petDTO.setType(PetType.DOG);\r\n        petDTO.setName(&quot;DogName&quot;);\r\n        PetDTO newPet2 = petController.savePet(petDTO);\r\n\r\n        List&lt;PetDTO&gt; pets = petController.getPetsByOwner(newCustomer.getId());\r\n        Assertions.assertEquals(pets.size(), 2);\r\n        Assertions.assertEquals(pets.get(0).getOwnerId(), newCustomer.getId());\r\n        Assertions.assertEquals(pets.get(0).getId(), newPet.getId());\r\n    }\r\n```\r\n\r\nThe result from that last assert.equals fails as seen below\r\n```\r\n\r\norg.opentest4j.AssertionFailedError: \r\nExpected :1\r\nActual   :2\r\n&lt;Click to see difference&gt;\r\n\r\n```\r\n\r\nPetController.java\r\n```\r\n    @PostMapping\r\n    public PetDTO savePet(@RequestBody PetDTO petDTO) {\r\n\r\n        Pet newPet = new Pet();\r\n        BeanUtils.copyProperties(petDTO, newPet, &quot;id&quot;);\r\n        Pet savedPet = petService.save(newPet);\r\n        BeanUtils.copyProperties(savedPet, petDTO);\r\n        return petDTO;\r\n    }\r\n\r\n    @GetMapping(&quot;/owner/{ownerId}&quot;)\r\n    public List&lt;PetDTO&gt; getPetsByOwner(@PathVariable long ownerId) {\r\n\r\n        List&lt;Pet&gt; petsByOwner = petService.getPetsByOwner(ownerId);\r\n        List&lt;PetDTO&gt; petDTOList = new ArrayList&lt;&gt;();\r\n        for(Pet pet:petsByOwner){\r\n            PetDTO petDTO = new PetDTO();\r\n            BeanUtils.copyProperties(pet, petDTO);\r\n            petDTOList.add(petDTO);\r\n        }\r\n        return petDTOList;\r\n    }\r\n```\r\n\r\nPetService.java\r\n```\r\n    public Pet save(Pet pet){\r\n\r\n        Customer customer = customerRepository.findById(pet.getOwnerId()).orElseThrow(() -&gt; new CustomerNotFoundException());\r\n\r\n        pet.setCustomer(customer);\r\n        customer.getPets().add(pet);\r\n        customerRepository.save(customer);\r\n        List&lt;Pet&gt; savedPets =  customer.getPets();\r\n        Pet nPet =  savedPets.get(savedPets.size() - 1 );\r\n        return nPet;\r\n    }\r\n\r\n    public List&lt;Pet&gt; getPetsByOwner(long ownerId) {\r\n        return petRepository.findByOwnerId(ownerId);\r\n    }\r\n```\r\n\r\nPetDTO.java\r\n```\r\npublic class PetDTO {\r\n    private long id;\r\n    private PetType type;\r\n    private String name;\r\n    private long ownerId;\r\n    private LocalDate birthDate;\r\n    private String notes;\r\n// getters and setters\r\n}\r\n```\r\nPet.java\r\n```\r\n@Entity\r\npublic class Pet {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private long id;\r\n\r\n    @NotNull\r\n    @Enumerated(EnumType.STRING)\r\n    private PetType type;\r\n\r\n    private String name;\r\n    \r\n    private long ownerId;\r\n\r\n    private LocalDate birthDate;\r\n\r\n    private String notes;\r\n\r\n    @ManyToMany(mappedBy = &quot;pets&quot;)\r\n    private List&lt;Schedule&gt; schedules;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n//getters and setters\r\n}\r\n```\r\n\r\nCustomer.java\r\n```\r\n@Entity\r\npublic class Customer extends Person {\r\n\r\n    private String phoneNumber;\r\n\r\n    private String notes;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL )\r\n    private List&lt;Pet&gt; pets = new ArrayList&lt;&gt;();\r\n//getters and setters\r\n}\r\n```\r\n\r\nPerson.java\r\n```\r\n@MappedSuperclass\r\npublic class Person {\r\n\r\n    @Id\r\n    // watch out if this generation strategy becomes a bug later\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    protected long id;\r\n    @Nationalized\r\n    private String name;\r\n...\r\n}\r\n```\r\n\r\nPetRepository.java\r\n```\r\n@Repository\r\npublic interface PetRepository extends JpaRepository&lt;Pet, Long&gt; {\r\n\r\n    List&lt;Pet&gt; findByOwnerId(long ownerId);\r\n    \r\n}\r\n```\r\n\r\nThe related classes to the bug can be seen below. I suspect the bug could be related to pass by reference  in the unit testing.\r\nNB: I have edited the post adding the relevant classes requested by one of the contributors","title":"Java: Why does this unit testing not work (One to Many Relationship)?","body":"<p>I have the following code that relates to java unit testing</p>\n<pre><code>    @Test\n    public void testFindPetsByOwner() {\n        CustomerDTO customerDTO = createCustomerDTO();\n        CustomerDTO newCustomer = userController.saveCustomer(customerDTO);\n\n        PetDTO petDTO = createPetDTO();\n        petDTO.setOwnerId(newCustomer.getId());\n        PetDTO newPet = petController.savePet(petDTO);\n        petDTO.setType(PetType.DOG);\n        petDTO.setName(&quot;DogName&quot;);\n        PetDTO newPet2 = petController.savePet(petDTO);\n\n        List&lt;PetDTO&gt; pets = petController.getPetsByOwner(newCustomer.getId());\n        Assertions.assertEquals(pets.size(), 2);\n        Assertions.assertEquals(pets.get(0).getOwnerId(), newCustomer.getId());\n        Assertions.assertEquals(pets.get(0).getId(), newPet.getId());\n    }\n</code></pre>\n<p>The result from that last assert.equals fails as seen below</p>\n<pre><code>\norg.opentest4j.AssertionFailedError: \nExpected :1\nActual   :2\n&lt;Click to see difference&gt;\n\n</code></pre>\n<p>PetController.java</p>\n<pre><code>    @PostMapping\n    public PetDTO savePet(@RequestBody PetDTO petDTO) {\n\n        Pet newPet = new Pet();\n        BeanUtils.copyProperties(petDTO, newPet, &quot;id&quot;);\n        Pet savedPet = petService.save(newPet);\n        BeanUtils.copyProperties(savedPet, petDTO);\n        return petDTO;\n    }\n\n    @GetMapping(&quot;/owner/{ownerId}&quot;)\n    public List&lt;PetDTO&gt; getPetsByOwner(@PathVariable long ownerId) {\n\n        List&lt;Pet&gt; petsByOwner = petService.getPetsByOwner(ownerId);\n        List&lt;PetDTO&gt; petDTOList = new ArrayList&lt;&gt;();\n        for(Pet pet:petsByOwner){\n            PetDTO petDTO = new PetDTO();\n            BeanUtils.copyProperties(pet, petDTO);\n            petDTOList.add(petDTO);\n        }\n        return petDTOList;\n    }\n</code></pre>\n<p>PetService.java</p>\n<pre><code>    public Pet save(Pet pet){\n\n        Customer customer = customerRepository.findById(pet.getOwnerId()).orElseThrow(() -&gt; new CustomerNotFoundException());\n\n        pet.setCustomer(customer);\n        customer.getPets().add(pet);\n        customerRepository.save(customer);\n        List&lt;Pet&gt; savedPets =  customer.getPets();\n        Pet nPet =  savedPets.get(savedPets.size() - 1 );\n        return nPet;\n    }\n\n    public List&lt;Pet&gt; getPetsByOwner(long ownerId) {\n        return petRepository.findByOwnerId(ownerId);\n    }\n</code></pre>\n<p>PetDTO.java</p>\n<pre><code>public class PetDTO {\n    private long id;\n    private PetType type;\n    private String name;\n    private long ownerId;\n    private LocalDate birthDate;\n    private String notes;\n// getters and setters\n}\n</code></pre>\n<p>Pet.java</p>\n<pre><code>@Entity\npublic class Pet {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private long id;\n\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    private PetType type;\n\n    private String name;\n    \n    private long ownerId;\n\n    private LocalDate birthDate;\n\n    private String notes;\n\n    @ManyToMany(mappedBy = &quot;pets&quot;)\n    private List&lt;Schedule&gt; schedules;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n//getters and setters\n}\n</code></pre>\n<p>Customer.java</p>\n<pre><code>@Entity\npublic class Customer extends Person {\n\n    private String phoneNumber;\n\n    private String notes;\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL )\n    private List&lt;Pet&gt; pets = new ArrayList&lt;&gt;();\n//getters and setters\n}\n</code></pre>\n<p>Person.java</p>\n<pre><code>@MappedSuperclass\npublic class Person {\n\n    @Id\n    // watch out if this generation strategy becomes a bug later\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected long id;\n    @Nationalized\n    private String name;\n...\n}\n</code></pre>\n<p>PetRepository.java</p>\n<pre><code>@Repository\npublic interface PetRepository extends JpaRepository&lt;Pet, Long&gt; {\n\n    List&lt;Pet&gt; findByOwnerId(long ownerId);\n    \n}\n</code></pre>\n<p>The related classes to the bug can be seen below. I suspect the bug could be related to pass by reference  in the unit testing.\nNB: I have edited the post adding the relevant classes requested by one of the contributors</p>\n"},{"tags":["java","spring","spring-boot","servlets","inversion-of-control"],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690140164,"creation_date":1690049862,"question_id":76745231,"body_markdown":"I was going through some core **Spring Concepts** and came across **DispatcherServlet** and **IOC Container/ApplicationContext**.   \r\nIs it possible to have multiple IOC containers in the same Spring Boot application? If yes, how to create them and in what scenarios will they be required?   \r\n (https://coderanch.com/t/563755/frameworks/Spring-Multiple-IoC-Containers-Singleton)\r\nIs it possible to have multiple DispatcherServlets in Spring Boot application. If yes, how are they created and why they might be required?  \r\nI found something related to this here-  \r\n https://www.interviewbit.com/spring-interview-questions/#:~:text=Spring%20MVC%20allows%20instantiating%20multiple%20DispatcherServlet%20and%20each%20of%20them%20have%20multiple%20contexts%20specific%20to%20them.%20They%20can%20have%20the%20same%20root%20context%20too.","title":"Can Spring Application have multiple IOC containers and multiple DispatcherServlets?","body":"<p>I was going through some core <strong>Spring Concepts</strong> and came across <strong>DispatcherServlet</strong> and <strong>IOC Container/ApplicationContext</strong>.<br />\nIs it possible to have multiple IOC containers in the same Spring Boot application? If yes, how to create them and in what scenarios will they be required?<br />\n(<a href=\"https://coderanch.com/t/563755/frameworks/Spring-Multiple-IoC-Containers-Singleton\" rel=\"nofollow noreferrer\">https://coderanch.com/t/563755/frameworks/Spring-Multiple-IoC-Containers-Singleton</a>)\nIs it possible to have multiple DispatcherServlets in Spring Boot application. If yes, how are they created and why they might be required?<br />\nI found something related to this here-<br />\n<a href=\"https://www.interviewbit.com/spring-interview-questions/#:%7E:text=Spring%20MVC%20allows%20instantiating%20multiple%20DispatcherServlet%20and%20each%20of%20them%20have%20multiple%20contexts%20specific%20to%20them.%20They%20can%20have%20the%20same%20root%20context%20too\" rel=\"nofollow noreferrer\">https://www.interviewbit.com/spring-interview-questions/#:~:text=Spring%20MVC%20allows%20instantiating%20multiple%20DispatcherServlet%20and%20each%20of%20them%20have%20multiple%20contexts%20specific%20to%20them.%20They%20can%20have%20the%20same%20root%20context%20too</a>.</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","selenium-grid"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689712066,"creation_date":1689711750,"answer_id":76716301,"question_id":76716094,"body_markdown":"[_**se:downloadsEnabled**_](https://www.selenium.dev/documentation/grid/configuration/cli_options/#start-the-node-with-manage-downloads-enabled)\r\n---------------------------\r\n[se:downloadsEnabled](https://www.selenium.dev/documentation/grid/configuration/cli_options/#set-the-capability-at-the-test-level) is only in [**Grid**](https://stackoverflow.com/a/59648301/7429447) configuration which is used to set the capability at the test level as follows:\r\n\r\n\toptions.setCapability(&quot;se:downloadsEnabled&quot;, true);\r\n\r\n`se:downloadsEnabled` when set to _`true`_ within a Grid infrastructure will try to match a session request with `se:downloadsEnabled` against only those nodes which were started with `--enable-managed-downloads` set to `true`. If a session is matched, then the Node automatically sets the required capabilities to let the browser know, as to where should a file be downloaded.\r\n\r\nThen only the Node will allow a user to:\r\n\r\n- List all the files that were downloaded for a specific session\r\n- Retrieve a specific file from the list of files.\r\n\r\nHowever, the directory into which files were downloaded for a specific session gets automatically cleaned up when the session ends (or) timesout due to inactivity.\r\n\r\n**Note**: Currently this capability is supported only on:\r\n\r\n- Edge\r\n- Firefox\r\n- Chrome ","title":"SessionNotCreatedException when I set se:downloadsEnabled capability","body":"<h2><a href=\"https://www.selenium.dev/documentation/grid/configuration/cli_options/#start-the-node-with-manage-downloads-enabled\" rel=\"nofollow noreferrer\"><em><strong>se:downloadsEnabled</strong></em></a></h2>\n<p><a href=\"https://www.selenium.dev/documentation/grid/configuration/cli_options/#set-the-capability-at-the-test-level\" rel=\"nofollow noreferrer\">se:downloadsEnabled</a> is only in <a href=\"https://stackoverflow.com/a/59648301/7429447\"><strong>Grid</strong></a> configuration which is used to set the capability at the test level as follows:</p>\n<pre><code>options.setCapability(&quot;se:downloadsEnabled&quot;, true);\n</code></pre>\n<p><code>se:downloadsEnabled</code> when set to <em><code>true</code></em> within a Grid infrastructure will try to match a session request with <code>se:downloadsEnabled</code> against only those nodes which were started with <code>--enable-managed-downloads</code> set to <code>true</code>. If a session is matched, then the Node automatically sets the required capabilities to let the browser know, as to where should a file be downloaded.</p>\n<p>Then only the Node will allow a user to:</p>\n<ul>\n<li>List all the files that were downloaded for a specific session</li>\n<li>Retrieve a specific file from the list of files.</li>\n</ul>\n<p>However, the directory into which files were downloaded for a specific session gets automatically cleaned up when the session ends (or) timesout due to inactivity.</p>\n<p><strong>Note</strong>: Currently this capability is supported only on:</p>\n<ul>\n<li>Edge</li>\n<li>Firefox</li>\n<li>Chrome</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12097062,"reputation":23,"user_id":8840059,"display_name":"tedtrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690139883,"creation_date":1689776777,"answer_id":76722381,"question_id":76716094,"body_markdown":"I figured it out.\r\nIn your `docker-compose.yml` file  under the environment, add \r\n```\r\n- SE_OPTS=--enable-managed-downloads true\r\n``` \r\n","title":"SessionNotCreatedException when I set se:downloadsEnabled capability","body":"<p>I figured it out.\nIn your <code>docker-compose.yml</code> file  under the environment, add</p>\n<pre><code>- SE_OPTS=--enable-managed-downloads true\n</code></pre>\n"}],"owner":{"account_id":12097062,"reputation":23,"user_id":8840059,"display_name":"tedtrain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690139883,"creation_date":1689709669,"question_id":76716094,"body_markdown":"I am getting this error message thrown \r\n\r\n**org.openqa.selenium.SessionNotCreatedException:\r\nCould not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.**\r\n\r\nwhen I set the capability to download files from the grid nodes. \r\n\r\nIf I comment out **options.setCapability(&quot;se:downloadsEnabled&quot;, &quot;true&quot;)**  the browser launches with the session created.\r\n\r\n    if (browser.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n    \t\t\t\tChromeOptions options = new ChromeOptions();\r\n    \t\t\t\toptions.setCapability(&quot;platformName&quot;, Platform.LINUX); \t\t\t\t    \r\n    \t\t\t\toptions.setCapability(&quot;se:downloadsEnabled&quot;, true); // Works when commented\t\t\t\t\r\n    \t\t\t\tHashMap&lt;String, Object&gt; chromePref = new HashMap&lt;&gt;();\t\t\t\t\r\n    \t\t\t\tchromePref.put(&quot;plugins.always_open_pdf_externally&quot;, Boolean.valueOf(true));\r\n    \t\t\t\tchromePref.put(&quot;download.prompt_for_download&quot;, Boolean.valueOf(false));\r\n    \t\t\t\tchromePref.put(&quot;safebrowsing_for_trusted_sources_enabled&quot;, oolean.valueOf(false));\r\n    \t\t\t\toptions.setExperimentalOption(&quot;prefs&quot;, chromePref);\t\t\t\t\r\n    \t\t\t\tdriver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/&quot;), options);\r\n    \r\n    }\r\n\r\n\r\n - Chrome browser:114.0 \r\n - Selenium: 4.9.0 \r\n - ChromeDriver 114.0.5735.90\r\n\r\n \r\n\r\nI&#39;d appreciate any help from anyone.\r\n\r\nThanks","title":"SessionNotCreatedException when I set se:downloadsEnabled capability","body":"<p>I am getting this error message thrown</p>\n<p><strong>org.openqa.selenium.SessionNotCreatedException:\nCould not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.</strong></p>\n<p>when I set the capability to download files from the grid nodes.</p>\n<p>If I comment out <strong>options.setCapability(&quot;se:downloadsEnabled&quot;, &quot;true&quot;)</strong>  the browser launches with the session created.</p>\n<pre><code>if (browser.equalsIgnoreCase(&quot;chrome&quot;)) {\n                ChromeOptions options = new ChromeOptions();\n                options.setCapability(&quot;platformName&quot;, Platform.LINUX);                  \n                options.setCapability(&quot;se:downloadsEnabled&quot;, true); // Works when commented             \n                HashMap&lt;String, Object&gt; chromePref = new HashMap&lt;&gt;();               \n                chromePref.put(&quot;plugins.always_open_pdf_externally&quot;, Boolean.valueOf(true));\n                chromePref.put(&quot;download.prompt_for_download&quot;, Boolean.valueOf(false));\n                chromePref.put(&quot;safebrowsing_for_trusted_sources_enabled&quot;, oolean.valueOf(false));\n                options.setExperimentalOption(&quot;prefs&quot;, chromePref);             \n                driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/&quot;), options);\n\n}\n</code></pre>\n<ul>\n<li>Chrome browser:114.0</li>\n<li>Selenium: 4.9.0</li>\n<li>ChromeDriver 114.0.5735.90</li>\n</ul>\n<p>I'd appreciate any help from anyone.</p>\n<p>Thanks</p>\n"},{"tags":["java","android-studio","intellij-idea","pycharm","webstorm"],"answers":[{"tags":[],"owner":{"account_id":26176043,"reputation":187,"user_id":19860192,"display_name":"incongruentDoughnut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689962129,"creation_date":1689962129,"answer_id":76740201,"question_id":76740158,"body_markdown":"&#39;No&#39;. The `.idea` folder is specific to Jetbrains IDEA applications (Intellij, Webstorm, etc..) and is used to configure your IDE per your workstation environment or shared developer settings. \r\n\r\nThat being said, you do have options:\r\n- If you&#39;re the only person on your team using Jetbrains tools, you can safely add the folder to your `.gitignore` file. That will stop git (and IDEA) from monitoring or caring about changes.\r\n- Jetbrains has guidance on what each file is for and which ones you might consider [checking in to your VCS](https://intellij-support.jetbrains.com/hc/en-us/articles/206544839) and they have a default `.gitignore` you can use [here](https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore)\r\n- You could also setup a symlink to a different directory if you really wanted to. However, that comes with some risks in terms of backing up files and I think `git` will still see those file changes. You would definitely want to add `.idea` to your `.gitignore` then, as other developers won&#39;t have the same folder structure and the symlink will &#39;break&#39; for them.","title":"Use alternative location for .idea folder?","body":"<p>'No'. The <code>.idea</code> folder is specific to Jetbrains IDEA applications (Intellij, Webstorm, etc..) and is used to configure your IDE per your workstation environment or shared developer settings.</p>\n<p>That being said, you do have options:</p>\n<ul>\n<li>If you're the only person on your team using Jetbrains tools, you can safely add the folder to your <code>.gitignore</code> file. That will stop git (and IDEA) from monitoring or caring about changes.</li>\n<li>Jetbrains has guidance on what each file is for and which ones you might consider <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544839\" rel=\"nofollow noreferrer\">checking in to your VCS</a> and they have a default <code>.gitignore</code> you can use <a href=\"https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore\" rel=\"nofollow noreferrer\">here</a></li>\n<li>You could also setup a symlink to a different directory if you really wanted to. However, that comes with some risks in terms of backing up files and I think <code>git</code> will still see those file changes. You would definitely want to add <code>.idea</code> to your <code>.gitignore</code> then, as other developers won't have the same folder structure and the symlink will 'break' for them.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":410966,"reputation":160392,"user_id":783119,"display_name":"LazyOne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690139437,"creation_date":1689980000,"answer_id":76741640,"question_id":76740158,"body_markdown":"&gt;is there a way to **configure alternative location for IDE `.idea` folder**, so that when I work on the project current `.idea` folder is not used and not modified?\r\n\r\nYes, you can keep your `.idea` elsewhere.\r\n\r\n**Please note:**\r\n- I will be using PhpStorm as an IDE (JetBrains IDE I&#39;m using). It has simple project config (where the project consists of a single module of `WEB_MODULE` type; the same applies to WebStorm) while Java/Python/Ruby one have more complicated project settings (where it&#39;s normal (especially for Java world) to have multiple modules per project).\r\n- I&#39;m not sure how easy it is to change this for _existing project_ (it&#39;s not a problem for a new project). Might be possible to do manually by editing the config files directly, but cannot guarantee that it will not have some side effects (especially if it&#39;s multi-module one, while the IDE is closed of course).\r\n\r\n  So it&#39;s much better to go with a new project and configure it from scratch (most of the config files can be copied over from old `.idea` into the new one).\r\n\r\n#### Anyway, the overall idea is as follows:\r\n\r\n1. In your IDE, create a new project where you want to keep your `.idea` -- lets assume this will be `C:\\JetBrainsProjectsStore\\MyProject`.\r\n\r\n2. Go to the project settings and find a place where you configure your Content Roots. In PhpStorm/WebStorm this will be `Settings/Preferences | Directories`.\r\n\r\n3. Remove existing Content Root (by default every project has one). In our example this will be the aforementioned `C:\\JetBrainsProjectsStore\\MyProject` folder.\r\n\r\n4. Add a New Content Root instead: point it to the folder where your project files actually are (or where you want to keep them). Lets assume this will be `C:\\Projects\\MyActualProject`.\r\n\r\n5. Save. That&#39;s it (well, repeat steps 3-4 for other modules if your project has them).\r\n\r\nNow your project config is stored in `C:\\JetBrainsProjectsStore\\MyProject\\.idea` while the actual code files are in `C:\\Projects\\MyActualProject`.\r\n\r\nObviously, if you now need to use `Open` in the IDE to open a project or open it from the command line, you need to use the parent folder where the actual `.idea` is -- `C:\\JetBrainsProjectsStore\\MyProject`.\r\n\r\n-----\r\n\r\nThere is a ticket that asks for the same: https://youtrack.jetbrains.com/issue/IDEA-170102. Watch it (star/vote/comment) to get notified with any progress.\r\n","title":"Use alternative location for .idea folder?","body":"<blockquote>\n<p>is there a way to <strong>configure alternative location for IDE <code>.idea</code> folder</strong>, so that when I work on the project current <code>.idea</code> folder is not used and not modified?</p>\n</blockquote>\n<p>Yes, you can keep your <code>.idea</code> elsewhere.</p>\n<p><strong>Please note:</strong></p>\n<ul>\n<li><p>I will be using PhpStorm as an IDE (JetBrains IDE I'm using). It has simple project config (where the project consists of a single module of <code>WEB_MODULE</code> type; the same applies to WebStorm) while Java/Python/Ruby one have more complicated project settings (where it's normal (especially for Java world) to have multiple modules per project).</p>\n</li>\n<li><p>I'm not sure how easy it is to change this for <em>existing project</em> (it's not a problem for a new project). Might be possible to do manually by editing the config files directly, but cannot guarantee that it will not have some side effects (especially if it's multi-module one, while the IDE is closed of course).</p>\n<p>So it's much better to go with a new project and configure it from scratch (most of the config files can be copied over from old <code>.idea</code> into the new one).</p>\n</li>\n</ul>\n<h4>Anyway, the overall idea is as follows:</h4>\n<ol>\n<li><p>In your IDE, create a new project where you want to keep your <code>.idea</code> -- lets assume this will be <code>C:\\JetBrainsProjectsStore\\MyProject</code>.</p>\n</li>\n<li><p>Go to the project settings and find a place where you configure your Content Roots. In PhpStorm/WebStorm this will be <code>Settings/Preferences | Directories</code>.</p>\n</li>\n<li><p>Remove existing Content Root (by default every project has one). In our example this will be the aforementioned <code>C:\\JetBrainsProjectsStore\\MyProject</code> folder.</p>\n</li>\n<li><p>Add a New Content Root instead: point it to the folder where your project files actually are (or where you want to keep them). Lets assume this will be <code>C:\\Projects\\MyActualProject</code>.</p>\n</li>\n<li><p>Save. That's it (well, repeat steps 3-4 for other modules if your project has them).</p>\n</li>\n</ol>\n<p>Now your project config is stored in <code>C:\\JetBrainsProjectsStore\\MyProject\\.idea</code> while the actual code files are in <code>C:\\Projects\\MyActualProject</code>.</p>\n<p>Obviously, if you now need to use <code>Open</code> in the IDE to open a project or open it from the command line, you need to use the parent folder where the actual <code>.idea</code> is -- <code>C:\\JetBrainsProjectsStore\\MyProject</code>.</p>\n<hr />\n<p>There is a ticket that asks for the same: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-170102\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-170102</a>. Watch it (star/vote/comment) to get notified with any progress.</p>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76741640,"answer_count":2,"score":-1,"last_activity_date":1690139437,"creation_date":1689961656,"question_id":76740158,"body_markdown":"In our project there is `.idea` folder checked-in into git repository with old content  \r\n (there is even [.iml file that is actually previous generation][1]),  \r\nand it puts project into dirty state right after import.\r\n\r\nWhile ultimate  solution will be to remove `.idea` folder completely,  \r\nis there a way to **configure alternative location for IDE `.idea` folder**,  \r\nso that when I work on the project current `.idea` folder is not used and not modified.\r\n\r\n\r\n\r\n[![.idea content][2]][2]\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544839-How-to-manage-projects-under-Version-Control-Systems\r\n  [2]: https://i.stack.imgur.com/cTFC9.png","title":"Use alternative location for .idea folder?","body":"<p>In our project there is <code>.idea</code> folder checked-in into git repository with old content<br />\n(there is even <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544839-How-to-manage-projects-under-Version-Control-Systems\" rel=\"nofollow noreferrer\">.iml file that is actually previous generation</a>),<br />\nand it puts project into dirty state right after import.</p>\n<p>While ultimate  solution will be to remove <code>.idea</code> folder completely,<br />\nis there a way to <strong>configure alternative location for IDE <code>.idea</code> folder</strong>,<br />\nso that when I work on the project current <code>.idea</code> folder is not used and not modified.</p>\n<p><a href=\"https://i.stack.imgur.com/cTFC9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cTFC9.png\" alt=\".idea content\" /></a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690163686,"post_id":76749912,"comment_id":135310341,"body_markdown":"By the installer, for a start, and by IDEs such as Netbeans.","body":"By the installer, for a start, and by IDEs such as Netbeans."},{"owner":{"account_id":17002054,"reputation":105,"user_id":12299208,"display_name":"Sayan Dasgupta"},"score":0,"creation_date":1690370626,"post_id":76749912,"comment_id":135343223,"body_markdown":"@user207421 Could you please place it as an answer, I will then accept it.","body":"@user207421 Could you please place it as an answer, I will then accept it."}],"owner":{"account_id":17002054,"reputation":105,"user_id":12299208,"display_name":"Sayan Dasgupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690139290,"creation_date":1690139290,"question_id":76749912,"body_markdown":"While I was doing multiple Oracle JDK installations (JDK 16.0.1 and JDK 17.0.8) for my Windows 10 pc, I came across Windows Registries like this :&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\nWhat is the use of these registry entries and where are they used ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w1bzv.png","title":"What is the use of Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\JDK registry key?","body":"<p>While I was doing multiple Oracle JDK installations (JDK 16.0.1 and JDK 17.0.8) for my Windows 10 pc, I came across Windows Registries like this :<br>\n<a href=\"https://i.stack.imgur.com/w1bzv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w1bzv.png\" alt=\"enter image description here\" /></a></p>\n<p>What is the use of these registry entries and where are they used ?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1690119994,"post_id":76748519,"comment_id":135305878,"body_markdown":"A [mre] would be helpful, at least for me. If you don&#39;t get a decent answer soon, consider creating and posting one.","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful, at least for me. If you don&#39;t get a decent answer soon, consider creating and posting one."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1690120754,"post_id":76748519,"comment_id":135305965,"body_markdown":"See the `PersonTableModel` example from [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/) on how to extend AbstractTableModel to implement a custom model for your PageLabel class.","body":"See the <code>PersonTableModel</code> example from <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a> on how to extend AbstractTableModel to implement a custom model for your PageLabel class."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690122932,"post_id":76748519,"comment_id":135306253,"body_markdown":"This, `private final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();`, is wrong. A DefaultTableModel uses its own data nucleus and you shouldn&#39;t try to shadow it as you&#39;re doing. Either use the native data nucleus (get rid of this array list) or else extend an AbstractTableModel as @camickr suggests above.","body":"This, <code>private final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();</code>, is wrong. A DefaultTableModel uses its own data nucleus and you shouldn&#39;t try to shadow it as you&#39;re doing. Either use the native data nucleus (get rid of this array list) or else extend an AbstractTableModel as @camickr suggests above."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1690137401,"post_id":76748519,"comment_id":135308160,"body_markdown":"Thank you for you comments @camickr and  Hovercraft Full Of Eels. I&#39;ve rewritten the code to use AbstractTableModel as camickr has suggested. I&#39;ve lost drag&amp;drop feature `DefaultTableModel` gives by default but I will try to implement it using camickr&#39;s code.","body":"Thank you for you comments @camickr and  Hovercraft Full Of Eels. I&#39;ve rewritten the code to use AbstractTableModel as camickr has suggested. I&#39;ve lost drag&amp;drop feature <code>DefaultTableModel</code> gives by default but I will try to implement it using camickr&#39;s code."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690138579,"creation_date":1690138579,"answer_id":76749868,"question_id":76748519,"body_markdown":"Hopefully you can build on this minimal refactor of your `PageLabelTableModel` class.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.swing.table.AbstractTableModel;\r\n\r\npublic class PageLabelTableModel extends AbstractTableModel {\r\n    private static final String[] columnNames = { &quot;Label&quot;, &quot;Start page&quot;, &quot;Style&quot; };\r\n    private final List&lt;PageLabel&gt; pageLabels;\r\n\r\n    public PageLabelTableModel() {\r\n        this(new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    public PageLabelTableModel(List&lt;PageLabel&gt; labels) {\r\n        pageLabels = labels;\r\n    }\r\n\r\n    public void addRow(PageLabel label) {\r\n        pageLabels.add(label);\r\n        int count = getRowCount();\r\n        fireTableRowsInserted(count, count);\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return pageLabels == null ? 0 : pageLabels.size();\r\n    }\r\n\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        Class&lt;?&gt; theClass;\r\n        switch (columnIndex) {\r\n            case 0:\r\n                theClass = String.class;\r\n                break;\r\n            case 1:\r\n                theClass = Number.class;\r\n                break;\r\n            case 2:\r\n                theClass = LabelStyle.class;\r\n                break;\r\n            default:\r\n                theClass = Object.class;\r\n        }\r\n        return theClass;\r\n    }\r\n\r\n    @Override\r\n    public int getColumnCount() {\r\n        return columnNames.length;\r\n    }\r\n\r\n    public String getColumnName(int column) {\r\n        return columnNames[column];\r\n    }\r\n\r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n        Object value;\r\n        PageLabel pageLabel = pageLabels.get(rowIndex);\r\n        switch (columnIndex) {\r\n            case 0:\r\n                value = pageLabel.getLabel();\r\n                break;\r\n            case 1:\r\n                value = Integer.valueOf(pageLabel.getStartPage());\r\n                break;\r\n            case 2:\r\n                value = pageLabel.getStyle();\r\n                break;\r\n            default:\r\n                value = null;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCellEditable(final int rowIndex, final int columnIndex) {\r\n       return columnIndex &gt;= 0;\r\n    }\r\n}\r\n```\r\n- Classes that extend `AbstractTableModel` **must** implement the following three methods:\r\n    1. `getRowCount`\r\n    2. `getColumnCount`\r\n    3. `getValueAt`\r\n- It is also recommended to override other `AbstractTableModel` methods, including:\r\n    1. `getColumnName`  \r\n       (Look at code of that method in class `AbstractTableModel` to understand why.)\r\n    2. `getColumnClass`  \r\n       (To make use of the default renderers. Refer to [How to Use Tables][1] for more details.)\r\n    3. `isCellEditable`  \r\n       (But you have already overridden this.)\r\n- Note in the `addRow` method, the call to `fireTableRowsInserted`. This is to notify the `JTable` class that the data in the model has changed. Again, refer to _How to Use Tables_ for more details.\r\n\r\nAlso, I added a `toString` method to `LabelStyle`:\r\n```java\r\npublic enum LabelStyle {\r\n    DECIMAL(&quot;Decimal&quot;),\r\n    ROMAN_LOWER(&quot;Roman lower&quot;),\r\n    ROMAN_UPPER(&quot;Roman upper&quot;),\r\n    LETTER_UPPPER(&quot;Letters upper&quot;),\r\n    LETTER_LOWER(&quot;Letters lower&quot;),\r\n    NONE(&quot;None&quot;);\r\n\r\n    private final String style;\r\n\r\n    LabelStyle(final String style) {\r\n       this.style = style;\r\n    }\r\n\r\n    public String toString() {\r\n        return style;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html","title":"How do I dynamically add rows in custom DefaultTableModel?","body":"<p>Hopefully you can build on this minimal refactor of your <code>PageLabelTableModel</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.table.AbstractTableModel;\n\npublic class PageLabelTableModel extends AbstractTableModel {\n    private static final String[] columnNames = { &quot;Label&quot;, &quot;Start page&quot;, &quot;Style&quot; };\n    private final List&lt;PageLabel&gt; pageLabels;\n\n    public PageLabelTableModel() {\n        this(new ArrayList&lt;&gt;());\n    }\n\n    public PageLabelTableModel(List&lt;PageLabel&gt; labels) {\n        pageLabels = labels;\n    }\n\n    public void addRow(PageLabel label) {\n        pageLabels.add(label);\n        int count = getRowCount();\n        fireTableRowsInserted(count, count);\n    }\n\n    @Override\n    public int getRowCount() {\n        return pageLabels == null ? 0 : pageLabels.size();\n    }\n\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        Class&lt;?&gt; theClass;\n        switch (columnIndex) {\n            case 0:\n                theClass = String.class;\n                break;\n            case 1:\n                theClass = Number.class;\n                break;\n            case 2:\n                theClass = LabelStyle.class;\n                break;\n            default:\n                theClass = Object.class;\n        }\n        return theClass;\n    }\n\n    @Override\n    public int getColumnCount() {\n        return columnNames.length;\n    }\n\n    public String getColumnName(int column) {\n        return columnNames[column];\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Object value;\n        PageLabel pageLabel = pageLabels.get(rowIndex);\n        switch (columnIndex) {\n            case 0:\n                value = pageLabel.getLabel();\n                break;\n            case 1:\n                value = Integer.valueOf(pageLabel.getStartPage());\n                break;\n            case 2:\n                value = pageLabel.getStyle();\n                break;\n            default:\n                value = null;\n        }\n        return value;\n    }\n\n    @Override\n    public boolean isCellEditable(final int rowIndex, final int columnIndex) {\n       return columnIndex &gt;= 0;\n    }\n}\n</code></pre>\n<ul>\n<li>Classes that extend <code>AbstractTableModel</code> <strong>must</strong> implement the following three methods:\n<ol>\n<li><code>getRowCount</code></li>\n<li><code>getColumnCount</code></li>\n<li><code>getValueAt</code></li>\n</ol>\n</li>\n<li>It is also recommended to override other <code>AbstractTableModel</code> methods, including:\n<ol>\n<li><code>getColumnName</code><br />\n(Look at code of that method in class <code>AbstractTableModel</code> to understand why.)</li>\n<li><code>getColumnClass</code><br />\n(To make use of the default renderers. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> for more details.)</li>\n<li><code>isCellEditable</code><br />\n(But you have already overridden this.)</li>\n</ol>\n</li>\n<li>Note in the <code>addRow</code> method, the call to <code>fireTableRowsInserted</code>. This is to notify the <code>JTable</code> class that the data in the model has changed. Again, refer to <em>How to Use Tables</em> for more details.</li>\n</ul>\n<p>Also, I added a <code>toString</code> method to <code>LabelStyle</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum LabelStyle {\n    DECIMAL(&quot;Decimal&quot;),\n    ROMAN_LOWER(&quot;Roman lower&quot;),\n    ROMAN_UPPER(&quot;Roman upper&quot;),\n    LETTER_UPPPER(&quot;Letters upper&quot;),\n    LETTER_LOWER(&quot;Letters lower&quot;),\n    NONE(&quot;None&quot;);\n\n    private final String style;\n\n    LabelStyle(final String style) {\n       this.style = style;\n    }\n\n    public String toString() {\n        return style;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76749868,"answer_count":1,"score":0,"last_activity_date":1690138579,"creation_date":1690119275,"question_id":76748519,"body_markdown":"I have subclassed `DefaultTableModel` so that my table could show values from enum stored in JComboBox. This works fine provided that I add immediately data to this table in constructor. Let me show you what I mean by that.\r\n\r\n    final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();\r\n    // add some data\r\n    pageLabels.add(....);\r\n    final PageLabelTableModel tableModel = new PageLabelTableModel(pageLabels);\r\n\r\nThe thing is my application gets data from some text file. Only when this file is processed, the application should add the data the table. So, in other words, I&#39;d like to dynamically add rows to the table. In theory it should be easy. In practice, however, it is not. I wrote a simple method to fill the table:\r\n\r\n\r\n    public void fillTable(final List&lt;PageLabel&gt; labels) {\r\n       for (final PageLabel label : labels) {\r\n          final Vector&lt;PageLabel&gt; rowData = new Vector&lt;&gt;();\r\n          rowData.add(label);\r\n          tableModel.addRow(rowData);\r\n       }\r\n    }\r\n\r\nIt fails with the exception:\r\n\r\n    Exception in thread &quot;Thread-1&quot; java.lang.ArrayIndexOutOfBoundsException: 0 &gt;= 0\r\n    \tat java.base/java.util.Vector.elementAt(Vector.java:466)\r\n    \tat java.desktop/javax.swing.table.DefaultTableModel.justifyRows(DefaultTableModel.java:278)\r\n    \tat java.desktop/javax.swing.table.DefaultTableModel.insertRow(DefaultTableModel.java:382)\r\n    \tat java.desktop/javax.swing.table.DefaultTableModel.addRow(DefaultTableModel.java:357)\r\n\r\nWhy is that? Here&#39;s my custom table model class:\r\n\r\n    // the code heavily borrows from\r\n    // https://www.codejava.net/java-se/swing/how-to-create-jcombobox-cell-editor-for-jtable\r\n    public class PageLabelTableModel extends DefaultTableModel {\r\n    \r\n       private static final String[] columnNames = { &quot;Label&quot;, &quot;Start page&quot;, &quot;Style&quot; };\r\n    \r\n       private final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();\r\n    \r\n       public PageLabelTableModel() {\r\n          super(columnNames, 0);\r\n       }\r\n    \r\n       @Override\r\n       public Class&lt;?&gt; getColumnClass(final int column) {\r\n          return getValueAt(0, column).getClass();\r\n       }\r\n    \r\n       @Override\r\n       public int getRowCount() {\r\n          return pageLabels != null ? pageLabels.size() : 0;\r\n       }\r\n    \r\n       @Override\r\n       public int getColumnCount() {\r\n          return columnNames.length;\r\n       }\r\n    \r\n       @Override\r\n       public String getColumnName(final int column) {\r\n          return columnNames[column];\r\n       }\r\n    \r\n       @Override\r\n       public boolean isCellEditable(final int rowIndex, final int columnIndex) {\r\n          return columnIndex &gt;= 0;\r\n       }\r\n    \r\n       @Override\r\n       public Object getValueAt(final int rowIndex, final int columnIndex) {\r\n    \r\n          final PageLabel pageLabel = pageLabels.get(rowIndex);\r\n    \r\n          final Object returnValue;\r\n    \r\n          switch (columnIndex) {\r\n             case 0 -&gt; returnValue = pageLabel.label();\r\n             case 1 -&gt; returnValue = pageLabel.startPage();\r\n             case 2 -&gt; returnValue = pageLabel.style();\r\n             default -&gt; throw new IllegalArgumentException(\r\n                 String.format(&quot;Column index %d not found!&quot;, columnIndex)\r\n             );\r\n          }\r\n    \r\n          return returnValue;\r\n       }\r\n    \r\n       @Override\r\n       public void setValueAt(final Object value, final int rowIndex, final int columnIndex) {\r\n    \r\n          final PageLabel pageLabel = pageLabels.get(rowIndex);\r\n    \r\n          switch (columnIndex) {\r\n             case 0 -&gt; pageLabel.label((String) value);\r\n             case 1 -&gt; pageLabel.startPage((int) value);\r\n             case 2 -&gt; pageLabel.style((LabelStyle) value);\r\n             default -&gt; throw new IllegalArgumentException(\r\n                 String.format(&quot;Column index %d not found!&quot;, columnIndex)\r\n             );\r\n          }\r\n       }\r\n    }\r\n\r\nAs per comment by @Abra I provide the code for PageLabel class:\r\n\r\n    public class PageLabel {\r\n    \r\n        private String label;\r\n        private int startPage;\r\n        private LabelStyle style;\r\n    \r\n         // no-args, all-args, getters/setters\r\n         // omitted for brevity\r\n     \r\n    }\r\n\r\nBelow is enum used by the above-mentioned class:\r\n\r\n    public enum LabelStyle {\r\n    \r\n       DECIMAL(&quot;Decimal&quot;),\r\n       ROMAN_LOWER(&quot;Roman lower&quot;),\r\n       ROMAN_UPPER(&quot;Roman upper&quot;),\r\n       LETTER_UPPPER(&quot;Letters upper&quot;),\r\n       LETTER_LOWER(&quot;Letters lower&quot;),\r\n       NONE(&quot;None&quot;);\r\n    \r\n       private final String style;\r\n    \r\n       LabelStyle(final String style) {\r\n          this.style = style;\r\n       }\r\n    }","title":"How do I dynamically add rows in custom DefaultTableModel?","body":"<p>I have subclassed <code>DefaultTableModel</code> so that my table could show values from enum stored in JComboBox. This works fine provided that I add immediately data to this table in constructor. Let me show you what I mean by that.</p>\n<pre><code>final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();\n// add some data\npageLabels.add(....);\nfinal PageLabelTableModel tableModel = new PageLabelTableModel(pageLabels);\n</code></pre>\n<p>The thing is my application gets data from some text file. Only when this file is processed, the application should add the data the table. So, in other words, I'd like to dynamically add rows to the table. In theory it should be easy. In practice, however, it is not. I wrote a simple method to fill the table:</p>\n<pre><code>public void fillTable(final List&lt;PageLabel&gt; labels) {\n   for (final PageLabel label : labels) {\n      final Vector&lt;PageLabel&gt; rowData = new Vector&lt;&gt;();\n      rowData.add(label);\n      tableModel.addRow(rowData);\n   }\n}\n</code></pre>\n<p>It fails with the exception:</p>\n<pre><code>Exception in thread &quot;Thread-1&quot; java.lang.ArrayIndexOutOfBoundsException: 0 &gt;= 0\n    at java.base/java.util.Vector.elementAt(Vector.java:466)\n    at java.desktop/javax.swing.table.DefaultTableModel.justifyRows(DefaultTableModel.java:278)\n    at java.desktop/javax.swing.table.DefaultTableModel.insertRow(DefaultTableModel.java:382)\n    at java.desktop/javax.swing.table.DefaultTableModel.addRow(DefaultTableModel.java:357)\n</code></pre>\n<p>Why is that? Here's my custom table model class:</p>\n<pre><code>// the code heavily borrows from\n// https://www.codejava.net/java-se/swing/how-to-create-jcombobox-cell-editor-for-jtable\npublic class PageLabelTableModel extends DefaultTableModel {\n\n   private static final String[] columnNames = { &quot;Label&quot;, &quot;Start page&quot;, &quot;Style&quot; };\n\n   private final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();\n\n   public PageLabelTableModel() {\n      super(columnNames, 0);\n   }\n\n   @Override\n   public Class&lt;?&gt; getColumnClass(final int column) {\n      return getValueAt(0, column).getClass();\n   }\n\n   @Override\n   public int getRowCount() {\n      return pageLabels != null ? pageLabels.size() : 0;\n   }\n\n   @Override\n   public int getColumnCount() {\n      return columnNames.length;\n   }\n\n   @Override\n   public String getColumnName(final int column) {\n      return columnNames[column];\n   }\n\n   @Override\n   public boolean isCellEditable(final int rowIndex, final int columnIndex) {\n      return columnIndex &gt;= 0;\n   }\n\n   @Override\n   public Object getValueAt(final int rowIndex, final int columnIndex) {\n\n      final PageLabel pageLabel = pageLabels.get(rowIndex);\n\n      final Object returnValue;\n\n      switch (columnIndex) {\n         case 0 -&gt; returnValue = pageLabel.label();\n         case 1 -&gt; returnValue = pageLabel.startPage();\n         case 2 -&gt; returnValue = pageLabel.style();\n         default -&gt; throw new IllegalArgumentException(\n             String.format(&quot;Column index %d not found!&quot;, columnIndex)\n         );\n      }\n\n      return returnValue;\n   }\n\n   @Override\n   public void setValueAt(final Object value, final int rowIndex, final int columnIndex) {\n\n      final PageLabel pageLabel = pageLabels.get(rowIndex);\n\n      switch (columnIndex) {\n         case 0 -&gt; pageLabel.label((String) value);\n         case 1 -&gt; pageLabel.startPage((int) value);\n         case 2 -&gt; pageLabel.style((LabelStyle) value);\n         default -&gt; throw new IllegalArgumentException(\n             String.format(&quot;Column index %d not found!&quot;, columnIndex)\n         );\n      }\n   }\n}\n</code></pre>\n<p>As per comment by @Abra I provide the code for PageLabel class:</p>\n<pre><code>public class PageLabel {\n\n    private String label;\n    private int startPage;\n    private LabelStyle style;\n\n     // no-args, all-args, getters/setters\n     // omitted for brevity\n \n}\n</code></pre>\n<p>Below is enum used by the above-mentioned class:</p>\n<pre><code>public enum LabelStyle {\n\n   DECIMAL(&quot;Decimal&quot;),\n   ROMAN_LOWER(&quot;Roman lower&quot;),\n   ROMAN_UPPER(&quot;Roman upper&quot;),\n   LETTER_UPPPER(&quot;Letters upper&quot;),\n   LETTER_LOWER(&quot;Letters lower&quot;),\n   NONE(&quot;None&quot;);\n\n   private final String style;\n\n   LabelStyle(final String style) {\n      this.style = style;\n   }\n}\n</code></pre>\n"},{"tags":["java","android","ftp","apache-commons","apache-commons-net"],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690138066,"creation_date":1690138066,"question_id":76749833,"body_markdown":"Hey all I am trying to figure out how to do a nice, clean stop of a downloading file if I hit the **back button** during the download process.\r\n\r\nI have the back button detection like this:\r\n\r\n    mProgress = new ProgressDialog(activity){\r\n       @Override\r\n       public void onBackPressed() {\r\n            mProgress.cancel();\r\n            mProgress.dismiss();\r\n\r\n            if (ftp.isConnected()) {\r\n              try {\r\n                     abortDownload = true;\r\n              } catch (Exception e) {\r\n                     Log.d(&quot;&quot;, &quot;error: &quot; + e.getMessage());\r\n              }\r\n            }\r\n       }\r\n\r\n       mProgress.setMessage(&quot;Downloading new apk .. Please wait...&quot;);\r\n       mProgress.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n       mProgress.show();\r\n    };\r\n\r\nAnd once the `abortDownload` is set to true it triggers this part of the code which is already looping in order to get the current % downloaded:\r\n\r\n    CountingOutputStream cos = new CountingOutputStream(output) {\r\n        protected void beforeWrite(int n) {\r\n             super.beforeWrite(n);\r\n\r\n             if (abortDownload) {\r\n                try {\r\n                    output.close();\r\n                    abortDownload = false;\r\n                    ftp.logout();\r\n                    ftp.disconnect();\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n             } else {\r\n                 int percent = (int) Math.round((getCount() * 100.0) / lenghtOfFile);\r\n                 mProgress.setProgress(percent);\r\n             }\r\n        }\r\n    };\r\n\r\nThe `output.close();` does seem to stop the download but it never continues after the `ftp.logout();` part.\r\n\r\nIf I do `ftp.disconnect();` and remove the `ftp.logout();` it goes into one of its catches:\r\n\r\n    } catch (IOException e) {\r\n       Log.d(&quot;FTP_DOWNLOAD&quot;, &quot;ERROR IOException:&quot; + e);\r\n    }\r\n\r\nWhich the error is \r\n\r\n&gt; org.apache.commons.net.io.CopyStreamException: IOException caught while copying.\r\n\r\nSo I am not sure how to do this since I&#39;m not seeing a lot of examples around dealing with hitting the back button while its downloading.","title":"Apache commons net ftp unable to stop download when hitting back button","body":"<p>Hey all I am trying to figure out how to do a nice, clean stop of a downloading file if I hit the <strong>back button</strong> during the download process.</p>\n<p>I have the back button detection like this:</p>\n<pre><code>mProgress = new ProgressDialog(activity){\n   @Override\n   public void onBackPressed() {\n        mProgress.cancel();\n        mProgress.dismiss();\n\n        if (ftp.isConnected()) {\n          try {\n                 abortDownload = true;\n          } catch (Exception e) {\n                 Log.d(&quot;&quot;, &quot;error: &quot; + e.getMessage());\n          }\n        }\n   }\n\n   mProgress.setMessage(&quot;Downloading new apk .. Please wait...&quot;);\n   mProgress.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n   mProgress.show();\n};\n</code></pre>\n<p>And once the <code>abortDownload</code> is set to true it triggers this part of the code which is already looping in order to get the current % downloaded:</p>\n<pre><code>CountingOutputStream cos = new CountingOutputStream(output) {\n    protected void beforeWrite(int n) {\n         super.beforeWrite(n);\n\n         if (abortDownload) {\n            try {\n                output.close();\n                abortDownload = false;\n                ftp.logout();\n                ftp.disconnect();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n         } else {\n             int percent = (int) Math.round((getCount() * 100.0) / lenghtOfFile);\n             mProgress.setProgress(percent);\n         }\n    }\n};\n</code></pre>\n<p>The <code>output.close();</code> does seem to stop the download but it never continues after the <code>ftp.logout();</code> part.</p>\n<p>If I do <code>ftp.disconnect();</code> and remove the <code>ftp.logout();</code> it goes into one of its catches:</p>\n<pre><code>} catch (IOException e) {\n   Log.d(&quot;FTP_DOWNLOAD&quot;, &quot;ERROR IOException:&quot; + e);\n}\n</code></pre>\n<p>Which the error is</p>\n<blockquote>\n<p>org.apache.commons.net.io.CopyStreamException: IOException caught while copying.</p>\n</blockquote>\n<p>So I am not sure how to do this since I'm not seeing a lot of examples around dealing with hitting the back button while its downloading.</p>\n"},{"tags":["java","android","proguard","obfuscation"],"owner":{"account_id":945974,"reputation":1683,"user_id":973237,"accept_rate":79,"display_name":"Vincent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690137352,"creation_date":1690130860,"question_id":76749357,"body_markdown":"I use Retrofit to catch a json string that fills a POJO\r\n\r\nThe POJO class is:\r\n\r\n    public class Entries{\r\n\r\n     \tpublic ArrayList&lt;Entry&gt; entries;\r\n\r\n\r\n    \tpublic Entry entry(int index){\r\n\r\n    \t\treturn entries.get(index);\r\n\t   }\r\n\t}\r\n\r\nCalling the `entry()` method creates a Fatal Exception:\r\n                                                                                               `java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to com.example.model.Entry`\r\n\r\nI tried this rule in the proguard rules file\r\n\r\n    -keepattributes SourceFile,LineNumberTable,Signature,*Annotation*\r\n\r\nbut got no luck.\r\n\r\nWhat is the proguard rule that would unlock the situation? Many thanks\r\n\r\n**UPDATE**\r\n\r\nHere is the solution:\r\n\r\n    -keep class com.example.myapp.**.model.** {*; }\r\n\r\nAnswer found [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/32852395/973237","title":"Proguard obfuscation creates fafal exception LinkedHashMap cannot be cast","body":"<p>I use Retrofit to catch a json string that fills a POJO</p>\n<p>The POJO class is:</p>\n<pre><code>public class Entries{\n\n    public ArrayList&lt;Entry&gt; entries;\n\n\n    public Entry entry(int index){\n\n        return entries.get(index);\n   }\n}\n</code></pre>\n<p>Calling the <code>entry()</code> method creates a Fatal Exception:\n<code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to com.example.model.Entry</code></p>\n<p>I tried this rule in the proguard rules file</p>\n<pre><code>-keepattributes SourceFile,LineNumberTable,Signature,*Annotation*\n</code></pre>\n<p>but got no luck.</p>\n<p>What is the proguard rule that would unlock the situation? Many thanks</p>\n<p><strong>UPDATE</strong></p>\n<p>Here is the solution:</p>\n<pre><code>-keep class com.example.myapp.**.model.** {*; }\n</code></pre>\n<p>Answer found <a href=\"https://stackoverflow.com/q/32852395/973237\">here</a></p>\n"},{"tags":["java","sockets","jpos"],"owner":{"account_id":3396845,"reputation":416,"user_id":2850227,"display_name":"rookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690137095,"creation_date":1616609493,"question_id":66786903,"body_markdown":"I have written a basic jpos client application  that is deployed on tomcat and it sends 8583 messages to a jpos server. The jpos server implementation has been working for a long time and it has other clients connected to it. The client jpos application that I wrote is  triggered by a  rest end point  and it works fine when the requests are executed serially. When the load is increased  by running multiple threads ,I see the below exceptions in logs. Any idea what might be happening in this case?\r\n\r\nCode\r\n```\r\nclass JposClient{\r\n\r\nprivate CSChannel csChannel;\r\n\r\npublic ISOMsg send(ISOMsg request){\r\nISOMsg response\r\ncsChannel=getCSChannel();\r\ncsChannel.connect();\r\njposChannel.send(request);\r\ndo {\r\n\tresponse = jposChannel.receive();\r\n\t}while(response.getMTI().startsWith(&quot;08&quot;));\r\n\r\n}\r\n\r\nreturn response;\r\n\r\n}\r\n\r\nprivate CSChannel getCSChannel() throws IOException {\r\n    \r\n\t\tif(csChannel!=null){\r\nreturn csChannel;\r\n}\r\n\t\ttry {\r\n\t\t\tcsChannel = new CSChannel();\r\n\t\t\tConfiguration configuration = new SimpleConfiguration();\r\n\t\t\tconfiguration.put(&quot;keep-alive&quot;, &quot;true&quot;);\r\n\t\t\tconfiguration.put(&quot;expect-keep-alive&quot;, &quot;true&quot;);\r\n\t\t\tconfiguration.put(&quot;host&quot;, &quot;127.0.0.1&quot;);\r\n\t\t\tconfiguration.put(&quot;port&quot;, String.valueOf(5456));\r\n\t\t\tcsChannel.setConfiguration(configuration);\r\n\t\t\tcsChannel.setPackager(new GenericPackager(\r\n\t\t\t\t&quot;packager.xml&quot;););\r\n\t\t} catch (ISOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn csChannel;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nLogs\r\n```\r\njava.net.SocketException: Socket is closed\r\n        at java.net.Socket.getInputStream(Socket.java:921)\r\n        at org.jpos.iso.BaseChannel.connect(BaseChannel.java:280)\r\n        at org.jpos.iso.BaseChannel.connect(BaseChannel.java:414)\r\n        at org.jpos.iso.BaseChannel.reconnect(BaseChannel.java:845)\r\n\r\n\r\njava.io.EOFException: null\r\n        at java.io.DataInputStream.readFully(DataInputStream.java:197)\r\n        at org.jpos.iso.channel.CSChannel.getMessageLength(CSChannel.java:97)\r\n        at org.jpos.iso.BaseChannel.receive(BaseChannel.java:712)\r\n```","title":"Jpos java.net.SocketException","body":"<p>I have written a basic jpos client application  that is deployed on tomcat and it sends 8583 messages to a jpos server. The jpos server implementation has been working for a long time and it has other clients connected to it. The client jpos application that I wrote is  triggered by a  rest end point  and it works fine when the requests are executed serially. When the load is increased  by running multiple threads ,I see the below exceptions in logs. Any idea what might be happening in this case?</p>\n<p>Code</p>\n<pre><code>class JposClient{\n\nprivate CSChannel csChannel;\n\npublic ISOMsg send(ISOMsg request){\nISOMsg response\ncsChannel=getCSChannel();\ncsChannel.connect();\njposChannel.send(request);\ndo {\n    response = jposChannel.receive();\n    }while(response.getMTI().startsWith(&quot;08&quot;));\n\n}\n\nreturn response;\n\n}\n\nprivate CSChannel getCSChannel() throws IOException {\n    \n        if(csChannel!=null){\nreturn csChannel;\n}\n        try {\n            csChannel = new CSChannel();\n            Configuration configuration = new SimpleConfiguration();\n            configuration.put(&quot;keep-alive&quot;, &quot;true&quot;);\n            configuration.put(&quot;expect-keep-alive&quot;, &quot;true&quot;);\n            configuration.put(&quot;host&quot;, &quot;127.0.0.1&quot;);\n            configuration.put(&quot;port&quot;, String.valueOf(5456));\n            csChannel.setConfiguration(configuration);\n            csChannel.setPackager(new GenericPackager(\n                &quot;packager.xml&quot;););\n        } catch (ISOException e) {\n            e.printStackTrace();\n        }\n        return csChannel;\n    }\n\n}\n\n</code></pre>\n<p>Logs</p>\n<pre><code>java.net.SocketException: Socket is closed\n        at java.net.Socket.getInputStream(Socket.java:921)\n        at org.jpos.iso.BaseChannel.connect(BaseChannel.java:280)\n        at org.jpos.iso.BaseChannel.connect(BaseChannel.java:414)\n        at org.jpos.iso.BaseChannel.reconnect(BaseChannel.java:845)\n\n\njava.io.EOFException: null\n        at java.io.DataInputStream.readFully(DataInputStream.java:197)\n        at org.jpos.iso.channel.CSChannel.getMessageLength(CSChannel.java:97)\n        at org.jpos.iso.BaseChannel.receive(BaseChannel.java:712)\n</code></pre>\n"},{"tags":["java","loops","actionlistener","jtextfield","typing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690079073,"post_id":76746301,"comment_id":135302479,"body_markdown":"What changes the size of the text? You should not be polling with a while loop, but in stead should be listening for changes in size at the source of where the size change occurs. This code us unknown to us. Please create and post a [mre] (please read the link) to help us to fully understand your code and your problem.","body":"What changes the size of the text? You should not be polling with a while loop, but in stead should be listening for changes in size at the source of where the size change occurs. This code us unknown to us. Please create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (please read the link) to help us to fully understand your code and your problem."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690079180,"post_id":76746301,"comment_id":135302485,"body_markdown":"@HovercraftFullOfEels I think they mean length, i.e. a character being typed.","body":"@HovercraftFullOfEels I think they mean length, i.e. a character being typed."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690079236,"post_id":76746301,"comment_id":135302490,"body_markdown":"@tgdavies, ah, that would make sense. Then I would use a DocumentListener, not a KeyListener and *never* a loop.","body":"@tgdavies, ah, that would make sense. Then I would use a DocumentListener, not a KeyListener and <i>never</i> a loop."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690079268,"post_id":76746301,"comment_id":135302491,"body_markdown":"@tgdavies, which means that your dupe is a valid dupe.","body":"@tgdavies, which means that your dupe is a valid dupe."},{"owner":{"account_id":28290193,"reputation":1,"user_id":21630439,"display_name":"dorzao"},"score":0,"creation_date":1690134547,"post_id":76746301,"comment_id":135307744,"body_markdown":"thanks everyone! i was solved whith DocumentListener using @override insertUpdate and removeUpdate methods!","body":"thanks everyone! i was solved whith DocumentListener using @override insertUpdate and removeUpdate methods!"}],"owner":{"account_id":28290193,"reputation":1,"user_id":21630439,"display_name":"dorzao"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690079255,"answer_count":0,"score":0,"last_activity_date":1690136571,"creation_date":1690074332,"question_id":76746301,"body_markdown":"I would like to validate with each change the size of the text, perform an action! I put one while isolated, 2 ifs inside an ActionListener, created a separate method and it didn&#39;t work. The idea is: while the person types in JTextfield, if the text size is different from 11, a Jlabel below the textfield will turn red and with an invalid message; if it is equal to 11, it will turn green and the message will be valid. And this validation must be done as the user types. (I wouldn&#39;t want to put a button to validate when clicked).\r\n\r\nI solve this with DocumentListener:\r\n\r\n```\r\npackage Janelas;\r\n\r\nimport javax.swing.JPanel;\r\nimport java.awt.Color;\r\nimport javax.swing.JLabel;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyListener;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.SwingConstants;import javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.JButton;\r\n\r\npublic class Cadastro extends JPanel {\r\n\tprivate JTextField textFieldCampoNIS;\r\n\tprivate JLabel lblStatus = new JLabel(&quot;&quot;);\r\n\tpublic Cadastro(String titulo) {\r\n\t\tsetBackground(new Color(0, 0, 0));\r\n\t\tsetLayout(null);\r\n\t\t\r\n\t\tJLabel lblNewLabel = new JLabel(titulo);\r\n\t\tlblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNewLabel.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 24));\r\n\t\tlblNewLabel.setForeground(new Color(222, 221, 218));\r\n\t\tlblNewLabel.setBounds(12, 46, 426, 35);\r\n\t\tadd(lblNewLabel);\r\n\t\t\r\n\t\tJLabel lblNISFamilia = new JLabel(&quot;NIS da Fam&#237;lia:&quot;);\r\n\t\tlblNISFamilia.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNISFamilia.setForeground(new Color(222, 221, 218));\r\n\t\tlblNISFamilia.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 18));\r\n\t\tlblNISFamilia.setBounds(12, 110, 158, 35);\r\n\t\tadd(lblNISFamilia);\r\n\t\t\r\n\t\tJLabel lblStatus = new JLabel(&quot;&quot;);\r\n\t\tlblStatus.setBounds(165, 152, 158, 17);\r\n\t\tadd(lblStatus);\r\n\t\t\r\n\t\ttextFieldCampoNIS = new JTextField();\r\n\t\ttextFieldCampoNIS.setBounds(165, 119, 158, 21);\r\n\t\tadd(textFieldCampoNIS);\r\n\t\ttextFieldCampoNIS.setColumns(11);\r\n\t\ttextFieldCampoNIS.getDocument().addDocumentListener(new DocumentListener() {\r\n\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void insertUpdate(DocumentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tint sizer =textFieldCampoNIS.getText().length();\r\n\t\t\t\t//System.out.println(sizer);\r\n\t\t\t\tif (sizer != 11 &amp;&amp; sizer != 0) {\r\n\t\t\t\tlblStatus.setText(&quot;NIS inv&#225;lido!&quot;);\r\n\t\t\t\tlblStatus.setForeground(new Color(200, 10, 10));\r\n\t\t\t\t\r\n\t\t\t\t} else if (sizer == 11) {\r\n\t\t\t\t\tlblStatus.setText(&quot;NIS &#233; v&#225;lido!&quot;);\r\n\t\t\t\t\tlblStatus.setForeground(new Color(10, 200, 10));\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlblStatus.setText(&quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void removeUpdate(DocumentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tint sizer =textFieldCampoNIS.getText().length();\r\n\t\t\t\t//System.out.println(sizer);\r\n\t\t\t\tif (sizer != 11 &amp;&amp; sizer != 0) {\r\n\t\t\t\tlblStatus.setText(&quot;NIS inv&#225;lido!&quot;);\r\n\t\t\t\tlblStatus.setForeground(new Color(200, 10, 10));\r\n\t\t\t\t\r\n\t\t\t\t} else if (sizer == 11) {\r\n\t\t\t\t\tlblStatus.setText(&quot;NIS &#233; v&#225;lido!&quot;);\r\n\t\t\t\t\tlblStatus.setForeground(new Color(10, 200, 10));\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlblStatus.setText(&quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void changedUpdate(DocumentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Solved: How to add a loop in a JTextField? What is the right method?","body":"<p>I would like to validate with each change the size of the text, perform an action! I put one while isolated, 2 ifs inside an ActionListener, created a separate method and it didn't work. The idea is: while the person types in JTextfield, if the text size is different from 11, a Jlabel below the textfield will turn red and with an invalid message; if it is equal to 11, it will turn green and the message will be valid. And this validation must be done as the user types. (I wouldn't want to put a button to validate when clicked).</p>\n<p>I solve this with DocumentListener:</p>\n<pre><code>package Janelas;\n\nimport javax.swing.JPanel;\nimport java.awt.Color;\nimport javax.swing.JLabel;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyListener;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.SwingConstants;import javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.JTextField;\nimport javax.swing.JButton;\n\npublic class Cadastro extends JPanel {\n    private JTextField textFieldCampoNIS;\n    private JLabel lblStatus = new JLabel(&quot;&quot;);\n    public Cadastro(String titulo) {\n        setBackground(new Color(0, 0, 0));\n        setLayout(null);\n        \n        JLabel lblNewLabel = new JLabel(titulo);\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNewLabel.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 24));\n        lblNewLabel.setForeground(new Color(222, 221, 218));\n        lblNewLabel.setBounds(12, 46, 426, 35);\n        add(lblNewLabel);\n        \n        JLabel lblNISFamilia = new JLabel(&quot;NIS da Famlia:&quot;);\n        lblNISFamilia.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNISFamilia.setForeground(new Color(222, 221, 218));\n        lblNISFamilia.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 18));\n        lblNISFamilia.setBounds(12, 110, 158, 35);\n        add(lblNISFamilia);\n        \n        JLabel lblStatus = new JLabel(&quot;&quot;);\n        lblStatus.setBounds(165, 152, 158, 17);\n        add(lblStatus);\n        \n        textFieldCampoNIS = new JTextField();\n        textFieldCampoNIS.setBounds(165, 119, 158, 21);\n        add(textFieldCampoNIS);\n        textFieldCampoNIS.setColumns(11);\n        textFieldCampoNIS.getDocument().addDocumentListener(new DocumentListener() {\n        \n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                // TODO Auto-generated method stub\n                int sizer =textFieldCampoNIS.getText().length();\n                //System.out.println(sizer);\n                if (sizer != 11 &amp;&amp; sizer != 0) {\n                lblStatus.setText(&quot;NIS invlido!&quot;);\n                lblStatus.setForeground(new Color(200, 10, 10));\n                \n                } else if (sizer == 11) {\n                    lblStatus.setText(&quot;NIS  vlido!&quot;);\n                    lblStatus.setForeground(new Color(10, 200, 10));\n                    \n                } else {\n                    lblStatus.setText(&quot;&quot;);\n                }\n            }\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                // TODO Auto-generated method stub\n                int sizer =textFieldCampoNIS.getText().length();\n                //System.out.println(sizer);\n                if (sizer != 11 &amp;&amp; sizer != 0) {\n                lblStatus.setText(&quot;NIS invlido!&quot;);\n                lblStatus.setForeground(new Color(200, 10, 10));\n                \n                } else if (sizer == 11) {\n                    lblStatus.setText(&quot;NIS  vlido!&quot;);\n                    lblStatus.setForeground(new Color(10, 200, 10));\n                    \n                } else {\n                    lblStatus.setText(&quot;&quot;);\n                }\n            }\n            @Override\n            public void changedUpdate(DocumentEvent e) {\n                // TODO Auto-generated method stub\n                \n            } \n        });\n        \n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686329306,"creation_date":1686328744,"answer_id":76442223,"question_id":76441703,"body_markdown":"This code does not implement all of the property sources in the [official documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config). It implements enough to read an application properties file from the class path:\r\n```java\r\nvar environment = new StandardEnvironment();\r\nvar resource = new ClassPathResource(&quot;application.yml&quot;);\r\nPropertySource&lt;?&gt; propertySource;\r\ntry {\r\n  var propertySources = new YamlPropertySourceLoader().load(resource.toString(), resource);\r\n  propertySource = propertySources.get(0);\r\n} catch (IOException e) {\r\n  throw new IllegalStateException(&quot;Failed to load file &quot; + resource, e);\r\n}\r\n\r\nenvironment.getPropertySources().addLast(propertySource);\r\nenvironment.setActiveProfiles(ACTIVE_PROFILE);\r\n```","title":"Replicate the way Spring Boot parses properties by default, outside of Spring","body":"<p>This code does not implement all of the property sources in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">official documentation</a>. It implements enough to read an application properties file from the class path:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var environment = new StandardEnvironment();\nvar resource = new ClassPathResource(&quot;application.yml&quot;);\nPropertySource&lt;?&gt; propertySource;\ntry {\n  var propertySources = new YamlPropertySourceLoader().load(resource.toString(), resource);\n  propertySource = propertySources.get(0);\n} catch (IOException e) {\n  throw new IllegalStateException(&quot;Failed to load file &quot; + resource, e);\n}\n\nenvironment.getPropertySources().addLast(propertySource);\nenvironment.setActiveProfiles(ACTIVE_PROFILE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7738097,"reputation":336,"user_id":5858995,"display_name":"Dzeri96"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690135327,"creation_date":1687711961,"answer_id":76551508,"question_id":76441703,"body_markdown":"*I will simply copy my answer to the [question][1] I referenced above:*\r\n\r\nI was struggling with this recently and found it surprising that there is no straightforward way to achieve this functionality. I even opened an [issue][2] with Spring Boot, but the feature was deemed too complex to implement.\r\n\r\nNevertheless, I&#39;ve made a proof of concept that supports multiple Spring profiles, precedence and variable interpolation together with ENV variable overriding. It&#39;s not the cleanest and doesn&#39;t mirror Spring Boot entirely, but it should have you covered for most cases. This is how I integrated it in my build.gradle file:\r\n\r\n```groovy\r\nimport org.springframework.core.env.StandardEnvironment\r\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver\r\nimport org.springframework.core.io.support.ResourcePropertySource\r\n\r\nsourceSets {\r\n\tmain {\r\n\t\tjava {\r\n\t\t\tsrcDir (&quot;src/main/java&quot;)\r\n\t\t\tsrcDir (&quot;build/generated/sources&quot;)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Rest of build.gradle\r\n\r\n// Extract properties as Spring Boot would\r\nStandardEnvironment springBootEnvironment = new StandardEnvironment();\r\nPathMatchingResourcePatternResolver resourcePatternResolver = new PathMatchingResourcePatternResolver()\r\nString activeProfilesEnvVariable = &quot;$System.env.spring_profiles_active&quot;\r\nString[] profiles = activeProfilesEnvVariable.split(&quot;,&quot;)\r\nprintln &quot;Active spring profiles: &quot; + profiles\r\nif (activeProfilesEnvVariable != &quot;null&quot; &amp;&amp; profiles.length != 0) {\r\n\tfor (final def profile in profiles) {\r\n\t\tfor (final def resDir in sourceSets.main.getResources().srcDirs) {\r\n\t\t\tString searchPath = Paths.get(&quot;file:&quot; + resDir.toString(), &quot;application-&quot; + profile + &quot;.properties&quot;).toString()\r\n\t\t\tvar resources = resourcePatternResolver.getResources(searchPath)\r\n\t\t\tfor (final def res in resources) {\r\n\t\t\t\tspringBootEnvironment.getPropertySources().addLast(new ResourcePropertySource(res))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nspringBootEnvironment\r\n\t\t.getPropertySources()\r\n\t\t.addLast(\r\n\t\t\t\tnew ResourcePropertySource(\r\n\t\t\t\t\t\tresourcePatternResolver.getResource(&quot;file:src/main/resources/application.properties&quot;)\r\n\t\t\t\t)\r\n\t\t)\r\n\r\n// Use a property\r\nspringBootEnvironment.getProperty(&quot;spring.datasource.username&quot;)\r\n```\r\nAs you can see, most of the code deals with the precedence and discovery of properties files. If you use yaml property files, you can use the `YamlPropertySourceLoader`.\r\n\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/35852\r\n\r\n  [1]: https://stackoverflow.com/questions/68159509/how-to-parse-spring-format-application-properties-file-outside-spring-applicatio","title":"Replicate the way Spring Boot parses properties by default, outside of Spring","body":"<p><em>I will simply copy my answer to the <a href=\"https://stackoverflow.com/questions/68159509/how-to-parse-spring-format-application-properties-file-outside-spring-applicatio\">question</a> I referenced above:</em></p>\n<p>I was struggling with this recently and found it surprising that there is no straightforward way to achieve this functionality. I even opened an <a href=\"https://github.com/spring-projects/spring-boot/issues/35852\" rel=\"nofollow noreferrer\">issue</a> with Spring Boot, but the feature was deemed too complex to implement.</p>\n<p>Nevertheless, I've made a proof of concept that supports multiple Spring profiles, precedence and variable interpolation together with ENV variable overriding. It's not the cleanest and doesn't mirror Spring Boot entirely, but it should have you covered for most cases. This is how I integrated it in my build.gradle file:</p>\n<pre><code>import org.springframework.core.env.StandardEnvironment\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver\nimport org.springframework.core.io.support.ResourcePropertySource\n\nsourceSets {\n    main {\n        java {\n            srcDir (&quot;src/main/java&quot;)\n            srcDir (&quot;build/generated/sources&quot;)\n        }\n    }\n}\n\n// Rest of build.gradle\n\n// Extract properties as Spring Boot would\nStandardEnvironment springBootEnvironment = new StandardEnvironment();\nPathMatchingResourcePatternResolver resourcePatternResolver = new PathMatchingResourcePatternResolver()\nString activeProfilesEnvVariable = &quot;$System.env.spring_profiles_active&quot;\nString[] profiles = activeProfilesEnvVariable.split(&quot;,&quot;)\nprintln &quot;Active spring profiles: &quot; + profiles\nif (activeProfilesEnvVariable != &quot;null&quot; &amp;&amp; profiles.length != 0) {\n    for (final def profile in profiles) {\n        for (final def resDir in sourceSets.main.getResources().srcDirs) {\n            String searchPath = Paths.get(&quot;file:&quot; + resDir.toString(), &quot;application-&quot; + profile + &quot;.properties&quot;).toString()\n            var resources = resourcePatternResolver.getResources(searchPath)\n            for (final def res in resources) {\n                springBootEnvironment.getPropertySources().addLast(new ResourcePropertySource(res))\n            }\n        }\n    }\n}\nspringBootEnvironment\n        .getPropertySources()\n        .addLast(\n                new ResourcePropertySource(\n                        resourcePatternResolver.getResource(&quot;file:src/main/resources/application.properties&quot;)\n                )\n        )\n\n// Use a property\nspringBootEnvironment.getProperty(&quot;spring.datasource.username&quot;)\n</code></pre>\n<p>As you can see, most of the code deals with the precedence and discovery of properties files. If you use yaml property files, you can use the <code>YamlPropertySourceLoader</code>.</p>\n"}],"owner":{"account_id":7738097,"reputation":336,"user_id":5858995,"display_name":"Dzeri96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76551508,"answer_count":2,"score":0,"last_activity_date":1690135327,"creation_date":1686324684,"question_id":76441703,"body_markdown":"My question is very similar to [this one][1] (no answers), but more general.\r\nI&#39;m looking to replicate the way Spring Boot parses properties, but outside of a running Spring Aplication, for example in gradle, so I can use the properties in a task.\r\nIn short, this means passing the profile name(s) and following the same precedence logic like in the [official documentation][2].\r\n\r\nFrom what I&#39;ve gathered, an instance of `Environment` is the first step, but I can&#39;t get much further than that. Ideally I&#39;d just call the same code path that the Spring Boot runtime calls when starting an application.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68159509/how-to-parse-spring-format-application-properties-file-outside-spring-applicatio\r\n  [2]: https://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/html/boot-features-external-config.html","title":"Replicate the way Spring Boot parses properties by default, outside of Spring","body":"<p>My question is very similar to <a href=\"https://stackoverflow.com/questions/68159509/how-to-parse-spring-format-application-properties-file-outside-spring-applicatio\">this one</a> (no answers), but more general.\nI'm looking to replicate the way Spring Boot parses properties, but outside of a running Spring Aplication, for example in gradle, so I can use the properties in a task.\nIn short, this means passing the profile name(s) and following the same precedence logic like in the <a href=\"https://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n<p>From what I've gathered, an instance of <code>Environment</code> is the first step, but I can't get much further than that. Ideally I'd just call the same code path that the Spring Boot runtime calls when starting an application.</p>\n"},{"tags":["java","spring","hibernate","transactions","spring-transactions"],"comments":[{"owner":{"account_id":1913180,"reputation":5333,"user_id":1726423,"display_name":"mh-dev"},"score":0,"creation_date":1477147769,"post_id":40190515,"comment_id":67652896,"body_markdown":"Can you check what the type of the class is that you get via  factory.getCurrentSession()","body":"Can you check what the type of the class is that you get via  factory.getCurrentSession()"},{"owner":{"account_id":6558074,"reputation":3092,"user_id":5070158,"accept_rate":94,"display_name":"Andrii Plotnikov"},"score":0,"creation_date":1477148932,"post_id":40190515,"comment_id":67653251,"body_markdown":"try to make interface for genericDao, and then implement it. or add @Transactional to getAll(..)","body":"try to make interface for genericDao, and then implement it. or add @Transactional to getAll(..)"},{"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"score":0,"creation_date":1477150004,"post_id":40190515,"comment_id":67653562,"body_markdown":"Could you post a stacktrace?","body":"Could you post a stacktrace?"},{"owner":{"account_id":8071732,"reputation":666,"user_id":6084277,"display_name":"Wukash"},"score":0,"creation_date":1477150395,"post_id":40190515,"comment_id":67653689,"body_markdown":"The object I&#39;m getting from `getCurrentSession()` is SessionImpl","body":"The object I&#39;m getting from <code>getCurrentSession()</code> is SessionImpl"},{"owner":{"account_id":8071732,"reputation":666,"user_id":6084277,"display_name":"Wukash"},"score":0,"creation_date":1477150468,"post_id":40190515,"comment_id":67653708,"body_markdown":"To clarify: method executes till the end even when I call `getCurrentSession()`. It&#39;s just that if I do call it inside I get exception after method completes","body":"To clarify: method executes till the end even when I call <code>getCurrentSession()</code>. It&#39;s just that if I do call it inside I get exception after method completes"}],"answers":[{"tags":[],"owner":{"account_id":8071732,"reputation":666,"user_id":6084277,"display_name":"Wukash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1477237723,"creation_date":1477237723,"answer_id":40204747,"question_id":40190515,"body_markdown":"Apparently the problem is in using Java DCEVM with HotswapAgent. When I remove   `-XXaltjvm=dcevm -javaagent:C:\\hotswap-agent.jar` from tomcat run configuration everything works as expected. I guess this is one of the side effects of using &quot;hacky&quot; software. My knowledge in these things is too small to even try to guess what the actual problem is.","title":"Hibernate Spring Transactional no transaction is in progress","body":"<p>Apparently the problem is in using Java DCEVM with HotswapAgent. When I remove   <code>-XXaltjvm=dcevm -javaagent:C:\\hotswap-agent.jar</code> from tomcat run configuration everything works as expected. I guess this is one of the side effects of using \"hacky\" software. My knowledge in these things is too small to even try to guess what the actual problem is.</p>\n"},{"tags":[],"owner":{"account_id":19299916,"reputation":1,"user_id":14108077,"display_name":"iu 159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690133350,"creation_date":1689738610,"answer_id":76717871,"question_id":40190515,"body_markdown":"facing the same problem on springboot project, solved by config adding config like: \r\n```\r\nspring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\r\nspring.jpa.properties.hibernate.allow_update_outside_transaction=true\r\n```","title":"Hibernate Spring Transactional no transaction is in progress","body":"<p>facing the same problem on springboot project, solved by config adding config like:</p>\n<pre><code>spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\nspring.jpa.properties.hibernate.allow_update_outside_transaction=true\n</code></pre>\n"}],"owner":{"account_id":8071732,"reputation":666,"user_id":6084277,"display_name":"Wukash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2856,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40204747,"answer_count":2,"score":5,"last_activity_date":1690133350,"creation_date":1477128709,"question_id":40190515,"body_markdown":"I&#39;m trying to get hibernate working with spring managed transactions. No matter what I do I always get &#39;no transaction is in progress&#39; exception. The only thing I don&#39;t understand is this:\r\n\r\nIf I don&#39;t call `sessionFactory.getCurrentSession()` in my `@Transactional` method, everything goes fine and I can see `HibernateTransactionManager` transaction lifecycle methods being called - `doGetTransaction(...), doCommit(...)` etc. and no error is thrown. \r\n\r\nWhen I add `sessionFactory.getCurrentSession()` in my method I still see `doGetTransaction()` (obviously), but as soon as `getCurrentSession()` is called I&#39;m starting to see `doRollback()` and in the end I&#39;m getting &#39;no transaction is in progress&#39; exception. I&#39;ve already spent whole day on it, hope someone helps. Tried changing transaction scope, xml configuration, basically everything I can think of. Using latest spring and hibernate versions (4.3.3 and 5.2.3 respectively)\r\n\r\napplicationContext.xml:\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/trainings&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;xxx&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;xxx&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot; &gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;context:annotation-config/&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;webtrainings.beans&quot;/&gt;\r\n\r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n\r\nGenericDAO.java:\r\n\r\n    @Repository(&quot;genericDao&quot;)\r\n    @Scope(value = &quot;singleton&quot;)\r\n    public class GenericDAO&lt;T&gt; {\r\n    \r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n    \r\n        @Autowired\r\n        private ApplicationContext appContext;\r\n    \r\n        public void getAll(Class&lt;T&gt; clazz) {\r\n            factory.getCurrentSession();\r\n        }\r\n    }\r\nMyService.java:\r\n\r\n    @Service(&quot;myService&quot;)\r\n    @Transactional\r\n    public class MyService {\r\n    \r\n        @Autowired\r\n        GenericDAO genericDAO;\r\n    \r\n        @Transactional\r\n        public void hehe() {\r\n            genericDAO.getAll(Training.class);\r\n        }\r\n    }\r\n\r\nHelloController.java:\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/welcome&quot;)\r\n    public class HelloController {\r\n    \r\n        @Autowired\r\n        MyService myService;\r\n    \r\n        @Autowired\r\n        ApplicationContext applicationContext;\r\n    \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public ModelAndView handleRequestInternal(HttpServletRequest request,\r\n                                                  HttpServletResponse response) throws Exception {\r\n            ModelAndView model = new ModelAndView(&quot;hello&quot;);\r\n            model.addObject(&quot;msg&quot;, &quot;hello world&quot;);\r\n            myService.hehe();\r\n    \r\n            return model;\r\n        }\r\n    }\r\n\r\nspring-servlet.xml (mvc):\r\n\r\n    &lt;context:component-scan base-package=&quot;webtrainings.utils&quot;/&gt;\r\n    \r\n    &lt;bean id=&quot;viewResolver&quot;\r\n              class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; &gt;\r\n            &lt;property name=&quot;prefix&quot;&gt;\r\n                &lt;value&gt;/WEB-INF/jsp/&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;suffix&quot;&gt;\r\n                &lt;value&gt;.jsp&lt;/value&gt;\r\n            &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nStacktrace:\r\n\r\n    javax.persistence.TransactionRequiredException: no transaction is in progress\r\n    \torg.hibernate.internal.SessionImpl.checkTransactionNeeded(SessionImpl.java:3430)\r\n    \torg.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1397)\r\n    \torg.hibernate.internal.SessionImpl.flush(SessionImpl.java:1393)\r\n    \torg.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:144)\r\n    \torg.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\r\n    \torg.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:95)\r\n    \torg.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:932)\r\n    \torg.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:744)\r\n    \torg.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:487)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \torg.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n    \twebtrainings.beans.MyService$$EnhancerBySpringCGLIB$$3fca725c.hehe(&lt;generated&gt;)\r\n    \twebtrainings.utils.HelloController.handleRequestInternal(HelloController.java:32)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:180)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:440)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:428)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)","title":"Hibernate Spring Transactional no transaction is in progress","body":"<p>I'm trying to get hibernate working with spring managed transactions. No matter what I do I always get 'no transaction is in progress' exception. The only thing I don't understand is this:</p>\n\n<p>If I don't call <code>sessionFactory.getCurrentSession()</code> in my <code>@Transactional</code> method, everything goes fine and I can see <code>HibernateTransactionManager</code> transaction lifecycle methods being called - <code>doGetTransaction(...), doCommit(...)</code> etc. and no error is thrown. </p>\n\n<p>When I add <code>sessionFactory.getCurrentSession()</code> in my method I still see <code>doGetTransaction()</code> (obviously), but as soon as <code>getCurrentSession()</code> is called I'm starting to see <code>doRollback()</code> and in the end I'm getting 'no transaction is in progress' exception. I've already spent whole day on it, hope someone helps. Tried changing transaction scope, xml configuration, basically everything I can think of. Using latest spring and hibernate versions (4.3.3 and 5.2.3 respectively)</p>\n\n<p>applicationContext.xml:</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/trainings\"/&gt;\n    &lt;property name=\"password\" value=\"xxx\"/&gt;\n    &lt;property name=\"username\" value=\"xxx\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\" &gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"/&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n&lt;/bean&gt;\n\n&lt;context:annotation-config/&gt;\n\n&lt;context:component-scan base-package=\"webtrainings.beans\"/&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n</code></pre>\n\n<p>GenericDAO.java:</p>\n\n<pre><code>@Repository(\"genericDao\")\n@Scope(value = \"singleton\")\npublic class GenericDAO&lt;T&gt; {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    @Autowired\n    private ApplicationContext appContext;\n\n    public void getAll(Class&lt;T&gt; clazz) {\n        factory.getCurrentSession();\n    }\n}\n</code></pre>\n\n<p>MyService.java:</p>\n\n<pre><code>@Service(\"myService\")\n@Transactional\npublic class MyService {\n\n    @Autowired\n    GenericDAO genericDAO;\n\n    @Transactional\n    public void hehe() {\n        genericDAO.getAll(Training.class);\n    }\n}\n</code></pre>\n\n<p>HelloController.java:</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/welcome\")\npublic class HelloController {\n\n    @Autowired\n    MyService myService;\n\n    @Autowired\n    ApplicationContext applicationContext;\n\n    @RequestMapping(method = RequestMethod.GET)\n    public ModelAndView handleRequestInternal(HttpServletRequest request,\n                                              HttpServletResponse response) throws Exception {\n        ModelAndView model = new ModelAndView(\"hello\");\n        model.addObject(\"msg\", \"hello world\");\n        myService.hehe();\n\n        return model;\n    }\n}\n</code></pre>\n\n<p>spring-servlet.xml (mvc):</p>\n\n<pre><code>&lt;context:component-scan base-package=\"webtrainings.utils\"/&gt;\n\n&lt;bean id=\"viewResolver\"\n          class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\" &gt;\n        &lt;property name=\"prefix\"&gt;\n            &lt;value&gt;/WEB-INF/jsp/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"suffix\"&gt;\n            &lt;value&gt;.jsp&lt;/value&gt;\n        &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>javax.persistence.TransactionRequiredException: no transaction is in progress\n    org.hibernate.internal.SessionImpl.checkTransactionNeeded(SessionImpl.java:3430)\n    org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1397)\n    org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1393)\n    org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:144)\n    org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\n    org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:95)\n    org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:932)\n    org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:744)\n    org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:487)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\n    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\n    webtrainings.beans.MyService$$EnhancerBySpringCGLIB$$3fca725c.hehe(&lt;generated&gt;)\n    webtrainings.utils.HelloController.handleRequestInternal(HelloController.java:32)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:180)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:440)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:428)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n"},{"tags":["java","soap","axis","wss4j"],"comments":[{"owner":{"account_id":1795625,"reputation":1575,"user_id":1635072,"accept_rate":70,"display_name":"Don Srinath"},"score":0,"creation_date":1403582436,"post_id":14219542,"comment_id":37701133,"body_markdown":"Have you tired with Apache cxf, it works for me as expected.","body":"Have you tired with Apache cxf, it works for me as expected."}],"answers":[{"tags":[],"owner":{"account_id":2523586,"reputation":11,"user_id":3218547,"display_name":"user3218547"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496718767,"creation_date":1496717364,"answer_id":44380623,"question_id":14219542,"body_markdown":"Try this:\r\n\r\n\tWsuIdAllocator idAllocator = new WsuIdAllocator() {\r\n\t\tpublic String createId(String prefix, Object o) {\r\n\t\t\treturn &quot;SecurityToken-&quot; + UUIDGenerator.getUUID();\r\n\t\t}\r\n\r\n\t\tpublic String createSecureId(String prefix, Object o) {\r\n\t\t\treturn &quot;SecurityToken-&quot; + UUIDGenerator.getUUID();\r\n\t\t}\r\n\t};\r\n\t\r\n\tWSSecUsernameToken utBuilder = new WSSecUsernameToken();\r\n\tWSSConfig wsConfig = new WSSConfig();\r\n\twsConfig.setIdAllocator(idAllocator);\r\n\t\r\n\tutBuilder.setWsConfig(wsConfig);\r\n\tutBuilder.setPasswordType( WSConstants.PASSWORD_TEXT );\r\n\tutBuilder.setUserInfo( &quot;stan&quot;, &quot;secrit&quot; );\r\n","title":"UsernameToken with attribute wsu:Id=&quot;SecurityToken-...&quot;","body":"<p>Try this:</p>\n\n<pre><code>WsuIdAllocator idAllocator = new WsuIdAllocator() {\n    public String createId(String prefix, Object o) {\n        return \"SecurityToken-\" + UUIDGenerator.getUUID();\n    }\n\n    public String createSecureId(String prefix, Object o) {\n        return \"SecurityToken-\" + UUIDGenerator.getUUID();\n    }\n};\n\nWSSecUsernameToken utBuilder = new WSSecUsernameToken();\nWSSConfig wsConfig = new WSSConfig();\nwsConfig.setIdAllocator(idAllocator);\n\nutBuilder.setWsConfig(wsConfig);\nutBuilder.setPasswordType( WSConstants.PASSWORD_TEXT );\nutBuilder.setUserInfo( \"stan\", \"secrit\" );\n</code></pre>\n"}],"owner":{"account_id":146250,"reputation":186,"user_id":356587,"display_name":"Bjarni S&#230;varsson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8591,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690131710,"creation_date":1357662345,"question_id":14219542,"body_markdown":"I am using WSS4J 1.6 and Axis 1.4.\r\n\r\nI am creating the UsernameToken using org.apache.ws.security.message.WSSecUsernameToken.\r\n\r\nWhat I do not understand is the **wsu:Id** attribute.\r\nAccording to the web service specs it has to be in the form of *&quot;SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78&quot;*.  \r\n\r\nNo matter what I do the **wsu:Id** attribute contains &quot;UsernameToken-123&quot; but, according to the web service specs it has to be on the form &quot;SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78&quot;.\r\n\r\nI have absolutely no idea how to achieve this and Google has run dry.  \r\nSo, can anyone tell me what I need to do?\r\n\r\nThe UsernameToken xml as it comes is now.\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-133&quot;\r\n         xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n         xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n        &lt;wsse:Username&gt;stan&lt;/wsse:Username&gt;\r\n        &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;secrit&lt;/wsse:Password&gt;\r\n      &lt;/wsse:UsernameToken&gt;\r\n\r\nThe UsernameToken xml as I want it to come out.\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;wsse:UsernameToken wsu:Id=&quot;SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78&quot;\r\n         xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n         xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n        &lt;wsse:Username&gt;stan&lt;/wsse:Username&gt;\r\n        &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;secrit&lt;/wsse:Password&gt;\r\n      &lt;/wsse:UsernameToken&gt;\r\n\r\nHere is the code I use to create the soap message.\r\n\r\n    public String soapTest() throws Exception {\r\n\t\tMessageFactoryImpl messageFactory = new MessageFactoryImpl();\r\n\t\tSOAPMessage soapMessage = null;\r\n\t\tsoapMessage = messageFactory.createMessage();\r\n\t\tMessage message = (Message)soapMessage;\r\n\t\tSOAPEnvelope unsignedEnvelope = message.getSOAPEnvelope();\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;xsd&quot;, &quot;http://www.w3.org/2001/XMLSchema&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;xsi&quot;, &quot;http://www.w3.org/2001/XMLSchema-instance&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;enc&quot;, &quot;http://schemas.xmlsoap.org/soap/encoding/&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;env&quot;, &quot;http://schemas.xmlsoap.org/soap/envelop/&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;wsa&quot;, &quot;http://schemas.xmlsoap.org/ws/2004/03/addressing&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;wsse&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;wsu&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;ws&quot;, &quot;http://ws.stupidsoap.com&quot; );\r\n\r\n\t\tSOAPBody soapMsgBody = (SOAPBody)soapMessage.getSOAPBody();\r\n\t\torg.apache.axis.message.SOAPEnvelope soapMsgEnvelope = ((Message)soapMessage).getSOAPEnvelope();\r\n\r\n\t\tSOAPBodyElement be = (SOAPBodyElement)soapMsgBody.addChildElement( soapMsgEnvelope.createName( &quot;addTwoNumbers&quot;, &quot;&quot;, &quot;http://ws.stupidsoap.com&quot; ) );\r\n\t\tbe.addChildElement( &quot;number1&quot; ).addTextNode( &quot;5&quot; );\r\n\t\tbe.addChildElement( &quot;number2&quot; ).addTextNode( &quot;10&quot; );\r\n\r\n\t\torg.w3c.dom.Document doc = (org.w3c.dom.Document)soapMsgEnvelope.getAsDocument();\r\n\t\tWSSecHeader secHeader = new WSSecHeader();\r\n\t\tsecHeader.insertSecurityHeader( doc );\r\n\r\n\t\tWSSecUsernameToken utBuilder = new WSSecUsernameToken();\r\n\t\tutBuilder.setPasswordType( WSConstants.PASSWORD_TEXT );\r\n\t\tutBuilder.setUserInfo( &quot;stan&quot;, &quot;secrit&quot; );\r\n\t\tutBuilder.addNonce();\r\n\t\tutBuilder.addCreated();\r\n\t\tutBuilder.build( doc, secHeader );\r\n\r\n\t\treturn org.apache.ws.security.util.XMLUtils.PrettyDocumentToString( doc );\r\n\t}","title":"UsernameToken with attribute wsu:Id=&quot;SecurityToken-...&quot;","body":"<p>I am using WSS4J 1.6 and Axis 1.4.</p>\n\n<p>I am creating the UsernameToken using org.apache.ws.security.message.WSSecUsernameToken.</p>\n\n<p>What I do not understand is the <strong>wsu:Id</strong> attribute.\nAccording to the web service specs it has to be in the form of <em>\"SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78\"</em>.  </p>\n\n<p>No matter what I do the <strong>wsu:Id</strong> attribute contains \"UsernameToken-123\" but, according to the web service specs it has to be on the form \"SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78\".</p>\n\n<p>I have absolutely no idea how to achieve this and Google has run dry.<br>\nSo, can anyone tell me what I need to do?</p>\n\n<p>The UsernameToken xml as it comes is now.\n</p>\n\n<pre><code>&lt;wsse:UsernameToken wsu:Id=\"UsernameToken-133\"\n     xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\n     xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n    &lt;wsse:Username&gt;stan&lt;/wsse:Username&gt;\n    &lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;secrit&lt;/wsse:Password&gt;\n  &lt;/wsse:UsernameToken&gt;\n</code></pre>\n\n<p>The UsernameToken xml as I want it to come out.\n</p>\n\n<pre><code>&lt;wsse:UsernameToken wsu:Id=\"SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78\"\n     xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\n     xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n    &lt;wsse:Username&gt;stan&lt;/wsse:Username&gt;\n    &lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;secrit&lt;/wsse:Password&gt;\n  &lt;/wsse:UsernameToken&gt;\n</code></pre>\n\n<p>Here is the code I use to create the soap message.</p>\n\n<pre><code>public String soapTest() throws Exception {\n    MessageFactoryImpl messageFactory = new MessageFactoryImpl();\n    SOAPMessage soapMessage = null;\n    soapMessage = messageFactory.createMessage();\n    Message message = (Message)soapMessage;\n    SOAPEnvelope unsignedEnvelope = message.getSOAPEnvelope();\n    unsignedEnvelope.addNamespaceDeclaration( \"xsd\", \"http://www.w3.org/2001/XMLSchema\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"xsi\", \"http://www.w3.org/2001/XMLSchema-instance\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"enc\", \"http://schemas.xmlsoap.org/soap/encoding/\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"env\", \"http://schemas.xmlsoap.org/soap/envelop/\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"wsa\", \"http://schemas.xmlsoap.org/ws/2004/03/addressing\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"wsse\", \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"wsu\", \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"ws\", \"http://ws.stupidsoap.com\" );\n\n    SOAPBody soapMsgBody = (SOAPBody)soapMessage.getSOAPBody();\n    org.apache.axis.message.SOAPEnvelope soapMsgEnvelope = ((Message)soapMessage).getSOAPEnvelope();\n\n    SOAPBodyElement be = (SOAPBodyElement)soapMsgBody.addChildElement( soapMsgEnvelope.createName( \"addTwoNumbers\", \"\", \"http://ws.stupidsoap.com\" ) );\n    be.addChildElement( \"number1\" ).addTextNode( \"5\" );\n    be.addChildElement( \"number2\" ).addTextNode( \"10\" );\n\n    org.w3c.dom.Document doc = (org.w3c.dom.Document)soapMsgEnvelope.getAsDocument();\n    WSSecHeader secHeader = new WSSecHeader();\n    secHeader.insertSecurityHeader( doc );\n\n    WSSecUsernameToken utBuilder = new WSSecUsernameToken();\n    utBuilder.setPasswordType( WSConstants.PASSWORD_TEXT );\n    utBuilder.setUserInfo( \"stan\", \"secrit\" );\n    utBuilder.addNonce();\n    utBuilder.addCreated();\n    utBuilder.build( doc, secHeader );\n\n    return org.apache.ws.security.util.XMLUtils.PrettyDocumentToString( doc );\n}\n</code></pre>\n"},{"tags":["java","quarkus-oidc","qarkus"],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690131509,"creation_date":1690131509,"question_id":76749396,"body_markdown":"I am working on setting up OIDC on my app, which has both regular REST endpoints, and UI ones. I want to setup the OIDC auth flow for the UI endpoints, and a simpler 401 situation for the other REST endpoints. \r\n\r\nI noticed that `quarkus.oidc.application-type` has the `hybrid` value, but having a hard time determining how to use this correctly, or what annotations would be appropriate in the different cases. Is my use case what `hybrid` is made for?\r\n\r\nI noticed there is `@Authenticated`, `@OAuthFlow(s)`, `@OAuthScope`, but it isn&#39;t clear how these fit together.\r\n","title":"Quarkus OIDC- Hybrid application type. How to specify type at endpoint level","body":"<p>I am working on setting up OIDC on my app, which has both regular REST endpoints, and UI ones. I want to setup the OIDC auth flow for the UI endpoints, and a simpler 401 situation for the other REST endpoints.</p>\n<p>I noticed that <code>quarkus.oidc.application-type</code> has the <code>hybrid</code> value, but having a hard time determining how to use this correctly, or what annotations would be appropriate in the different cases. Is my use case what <code>hybrid</code> is made for?</p>\n<p>I noticed there is <code>@Authenticated</code>, <code>@OAuthFlow(s)</code>, <code>@OAuthScope</code>, but it isn't clear how these fit together.</p>\n"},{"tags":["java","macos","swing","look-and-feel"],"comments":[{"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"score":1,"creation_date":1354984575,"post_id":13777067,"comment_id":18946810,"body_markdown":"http://weblogs.java.net/blog/lordy/archive/2006/08/mustang_and_mac.html - samples","body":"<a href=\"http://weblogs.java.net/blog/lordy/archive/2006/08/mustang_and_mac.html\" rel=\"nofollow noreferrer\">weblogs.java.net/blog/lordy/archive/2006/08/&hellip;</a> - samples"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1355074039,"creation_date":1354983468,"answer_id":13779287,"question_id":13777067,"body_markdown":"I haven&#39;t tried it, but [*Java on OS X v10.5 Update 1*][1] says, &quot;*Document Modal Sheets* can be created by setting the the `apple.awt.documentModalSheet` client property to `Boolean.TRUE` on the `JRootPane` of `JDialog`.&quot; I&#39;m guessing something like this:\r\n\r\n    rootPanel.putClientProperty(&quot;apple.awt.documentModalSheet&quot;, Boolean.TRUE);\r\n\r\nYou might also see if [*Mac Widgets for Java*][2] has added anything recently.\r\n\r\n  [1]: https://developer.apple.com/library/mac/#releasenotes/Java/JavaLeopardUpdate1RN/Introduction/Introduction.html\r\n  [2]: http://code.google.com/p/macwidgets/","title":"Swing - Native look-and-feel for JDialog in MacOS","body":"<p>I haven't tried it, but <a href=\"https://developer.apple.com/library/mac/#releasenotes/Java/JavaLeopardUpdate1RN/Introduction/Introduction.html\" rel=\"nofollow\"><em>Java on OS X v10.5 Update 1</em></a> says, \"<em>Document Modal Sheets</em> can be created by setting the the <code>apple.awt.documentModalSheet</code> client property to <code>Boolean.TRUE</code> on the <code>JRootPane</code> of <code>JDialog</code>.\" I'm guessing something like this:</p>\n\n<pre><code>rootPanel.putClientProperty(\"apple.awt.documentModalSheet\", Boolean.TRUE);\n</code></pre>\n\n<p>You might also see if <a href=\"http://code.google.com/p/macwidgets/\" rel=\"nofollow\"><em>Mac Widgets for Java</em></a> has added anything recently.</p>\n"},{"tags":[],"owner":{"account_id":1818352,"reputation":448,"user_id":1652984,"accept_rate":0,"display_name":"Alan Snyder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690130916,"creation_date":1690121398,"answer_id":76748659,"question_id":13777067,"body_markdown":"I am the author of a Swing look and feel called [VAqua][1], which supports displaying windows as native sheets using an associated client library.\r\n\r\nFor example:\r\n\r\n        JFrame owner = ...;\r\n        JWindow w = new JWindow(owner);\r\n        try {\r\n            VSheet.displayAsSheet(w, null);\r\n        } catch (UnsupportedOperationException ex) {\r\n            ...\r\n        }\r\n\r\nDetails [here][2].\r\n\r\n\r\n  [1]: https://violetlib.org/vaqua/clientlibrary.html\r\n  [2]: https://violetlib.org/vaqua/sheets.html","title":"Swing - Native look-and-feel for JDialog in MacOS","body":"<p>I am the author of a Swing look and feel called <a href=\"https://violetlib.org/vaqua/clientlibrary.html\" rel=\"nofollow noreferrer\">VAqua</a>, which supports displaying windows as native sheets using an associated client library.</p>\n<p>For example:</p>\n<pre><code>    JFrame owner = ...;\n    JWindow w = new JWindow(owner);\n    try {\n        VSheet.displayAsSheet(w, null);\n    } catch (UnsupportedOperationException ex) {\n        ...\n    }\n</code></pre>\n<p>Details <a href=\"https://violetlib.org/vaqua/sheets.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":13779287,"answer_count":2,"score":1,"last_activity_date":1690130916,"creation_date":1354966467,"question_id":13777067,"body_markdown":"Does `Swing` support native dialog like below:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wQWrS.png\r\n\r\nOr maybe exists some third party&#39;s `JNI` library? ","title":"Swing - Native look-and-feel for JDialog in MacOS","body":"<p>Does <code>Swing</code> support native dialog like below:\n<img src=\"https://i.stack.imgur.com/wQWrS.png\" alt=\"enter image description here\"></p>\n\n<p>Or maybe exists some third party's <code>JNI</code> library? </p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4127,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690114777,"creation_date":1690112736,"answer_id":76748047,"question_id":76747554,"body_markdown":"**Here is full java based solution:** \r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    class ArrayOperations {\r\n\r\n         public static void main(String[] args) {\r\n            int[][] multiDimensionalArray1 = {\r\n                {1, 2, 3},\r\n                {4, 5, 6},\r\n                {7, 8, 9}\r\n            };\r\n            \r\n            int[][] multiDimensionalArray2 = {\r\n                {1, 2},\r\n                {4, 5}\r\n            };\r\n    \r\n            int[][] multiDimensionalArray3 = {\r\n                {1}\r\n            };\r\n            \r\n            \r\n            \r\n            int[][] transformedArray1 = transformToMultiDimensionalArray(multiDimensionalArray1, 2);\r\n            int[][] transformedArray2 = transformToMultiDimensionalArray(multiDimensionalArray2, 2);\r\n            int[][] transformedArray3 = transformToMultiDimensionalArray(multiDimensionalArray3, 2);\r\n       \r\n            for (int[] subarray : transformedArray1) {\r\n                for (int element : subarray) {\r\n                    System.out.print(element + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            \r\n         \r\n            System.out.println(&quot;------------------------------------&quot;);\r\n            \r\n            for (int[] subarray : transformedArray2) {\r\n                for (int element : subarray) {\r\n                    System.out.print(element + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            \r\n    \r\n            System.out.println(&quot;------------------------------------&quot;);\r\n            \r\n            for (int[] subarray : transformedArray3) {\r\n                for (int element : subarray) {\r\n                    System.out.print(element + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        public static int[][] transformToMultiDimensionalArray(int[][] matrix, int elementsPerSubarray) {\r\n            int rows = matrix.length;\r\n            int cols = matrix[0].length;\r\n    \r\n            if (rows == 1 &amp;&amp; cols == 1) {\r\n                return new int[][]{{matrix[0][0]}};\r\n            }\r\n    \r\n            List&lt;Integer&gt; corners = new ArrayList&lt;&gt;();\r\n    \r\n            for (int row = 0; row &lt; rows; row++) {\r\n                for (int col = 0; col &lt; cols; col++) {\r\n                    if (row == 0 &amp;&amp; col == 0) {\r\n                        corners.add(matrix[row][col]); // first element first row\r\n                    } else if (row == 0 &amp;&amp; col == cols - 1) {\r\n                        corners.add(matrix[row][col]); // last element first row\r\n                    } else if (row == rows - 1 &amp;&amp; col == 0) {\r\n                        corners.add(matrix[row][col]); // first element last row\r\n                    } else if (row == rows - 1 &amp;&amp; col == cols - 1) {\r\n                        corners.add(matrix[row][col]); // last element last row\r\n                    }\r\n                }\r\n            }\r\n    \r\n            int[][] multiDimensionalArray = new int[corners.size() / elementsPerSubarray][elementsPerSubarray];\r\n            for (int i = 0; i &lt; corners.size(); i++) {\r\n                int row = i / elementsPerSubarray;\r\n                int col = i % elementsPerSubarray;\r\n                multiDimensionalArray[row][col] = corners.get(i);\r\n            }\r\n    \r\n            return multiDimensionalArray;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**This is not from Java. I&#39;ve used javascript. For presentational purposes, I&#39;ve adopted javascript based answer for this. But logic remains the same as above java solution.**\r\n\r\nRefer the code below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function printCornerElements(matrix, elementsPerSubarray) {\r\n      let rows = matrix.length;\r\n      let cols = matrix[0].length;\r\n\r\n      if (rows === 1 &amp;&amp; cols === 1) { \r\n        return [matrix[0][0]];\r\n      }\r\n\r\n      let corners = [];\r\n\r\n      for (let row = 0; row &lt; rows; row++) {\r\n        for (let col = 0; col &lt; cols; col++) {\r\n          if (row === 0 &amp;&amp; col === 0) {\r\n            corners.push(matrix[row][col]); // first element first row\r\n          } else if (row === 0 &amp;&amp; col === cols - 1) {\r\n            corners.push(matrix[row][col]); // last element first row\r\n          } else if (row === rows - 1 &amp;&amp; col === 0) {\r\n            corners.push(matrix[row][col]); // first element last row\r\n          } else if (row === rows - 1 &amp;&amp; col === cols - 1) {\r\n            corners.push(matrix[row][col]); // last element last row\r\n          }\r\n        }\r\n      }\r\n      \r\n      let multiDimensionalArray = [];\r\n      for (let i = 0; i &lt; corners.length; i += elementsPerSubarray) {\r\n        let subarray = corners.slice(i, i + elementsPerSubarray);\r\n        multiDimensionalArray.push(subarray);\r\n      }\r\n\r\n      return multiDimensionalArray;\r\n    }\r\n\r\n    const multiDimensionalArray1 = [\r\n      [1, 2,3],\r\n      [4, 5,6],\r\n      [7, 8,9],\r\n\r\n    ];\r\n\r\n    const multiDimensionalArray2 = [\r\n      [1, 2],\r\n      [4, 5],\r\n\r\n    ];\r\n\r\n    const multiDimensionalArray3 = [\r\n      [1]\r\n    ];\r\n\r\n    console.log(JSON.stringify(printCornerElements(multiDimensionalArray1,2)));\r\n    console.log(JSON.stringify(printCornerElements(multiDimensionalArray2,2)));\r\n    console.log(JSON.stringify(printCornerElements(multiDimensionalArray3,2)));\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Multidimensional array - dimmension of input array","body":"<p><strong>Here is full java based solution:</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass ArrayOperations {\n\n     public static void main(String[] args) {\n        int[][] multiDimensionalArray1 = {\n            {1, 2, 3},\n            {4, 5, 6},\n            {7, 8, 9}\n        };\n        \n        int[][] multiDimensionalArray2 = {\n            {1, 2},\n            {4, 5}\n        };\n\n        int[][] multiDimensionalArray3 = {\n            {1}\n        };\n        \n        \n        \n        int[][] transformedArray1 = transformToMultiDimensionalArray(multiDimensionalArray1, 2);\n        int[][] transformedArray2 = transformToMultiDimensionalArray(multiDimensionalArray2, 2);\n        int[][] transformedArray3 = transformToMultiDimensionalArray(multiDimensionalArray3, 2);\n   \n        for (int[] subarray : transformedArray1) {\n            for (int element : subarray) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        \n     \n        System.out.println(&quot;------------------------------------&quot;);\n        \n        for (int[] subarray : transformedArray2) {\n            for (int element : subarray) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        \n\n        System.out.println(&quot;------------------------------------&quot;);\n        \n        for (int[] subarray : transformedArray3) {\n            for (int element : subarray) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    public static int[][] transformToMultiDimensionalArray(int[][] matrix, int elementsPerSubarray) {\n        int rows = matrix.length;\n        int cols = matrix[0].length;\n\n        if (rows == 1 &amp;&amp; cols == 1) {\n            return new int[][]{{matrix[0][0]}};\n        }\n\n        List&lt;Integer&gt; corners = new ArrayList&lt;&gt;();\n\n        for (int row = 0; row &lt; rows; row++) {\n            for (int col = 0; col &lt; cols; col++) {\n                if (row == 0 &amp;&amp; col == 0) {\n                    corners.add(matrix[row][col]); // first element first row\n                } else if (row == 0 &amp;&amp; col == cols - 1) {\n                    corners.add(matrix[row][col]); // last element first row\n                } else if (row == rows - 1 &amp;&amp; col == 0) {\n                    corners.add(matrix[row][col]); // first element last row\n                } else if (row == rows - 1 &amp;&amp; col == cols - 1) {\n                    corners.add(matrix[row][col]); // last element last row\n                }\n            }\n        }\n\n        int[][] multiDimensionalArray = new int[corners.size() / elementsPerSubarray][elementsPerSubarray];\n        for (int i = 0; i &lt; corners.size(); i++) {\n            int row = i / elementsPerSubarray;\n            int col = i % elementsPerSubarray;\n            multiDimensionalArray[row][col] = corners.get(i);\n        }\n\n        return multiDimensionalArray;\n    }\n}\n</code></pre>\n<p><strong>This is not from Java. I've used javascript. For presentational purposes, I've adopted javascript based answer for this. But logic remains the same as above java solution.</strong></p>\n<p>Refer the code below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function printCornerElements(matrix, elementsPerSubarray) {\n  let rows = matrix.length;\n  let cols = matrix[0].length;\n\n  if (rows === 1 &amp;&amp; cols === 1) { \n    return [matrix[0][0]];\n  }\n\n  let corners = [];\n\n  for (let row = 0; row &lt; rows; row++) {\n    for (let col = 0; col &lt; cols; col++) {\n      if (row === 0 &amp;&amp; col === 0) {\n        corners.push(matrix[row][col]); // first element first row\n      } else if (row === 0 &amp;&amp; col === cols - 1) {\n        corners.push(matrix[row][col]); // last element first row\n      } else if (row === rows - 1 &amp;&amp; col === 0) {\n        corners.push(matrix[row][col]); // first element last row\n      } else if (row === rows - 1 &amp;&amp; col === cols - 1) {\n        corners.push(matrix[row][col]); // last element last row\n      }\n    }\n  }\n  \n  let multiDimensionalArray = [];\n  for (let i = 0; i &lt; corners.length; i += elementsPerSubarray) {\n    let subarray = corners.slice(i, i + elementsPerSubarray);\n    multiDimensionalArray.push(subarray);\n  }\n\n  return multiDimensionalArray;\n}\n\nconst multiDimensionalArray1 = [\n  [1, 2,3],\n  [4, 5,6],\n  [7, 8,9],\n\n];\n\nconst multiDimensionalArray2 = [\n  [1, 2],\n  [4, 5],\n\n];\n\nconst multiDimensionalArray3 = [\n  [1]\n];\n\nconsole.log(JSON.stringify(printCornerElements(multiDimensionalArray1,2)));\nconsole.log(JSON.stringify(printCornerElements(multiDimensionalArray2,2)));\nconsole.log(JSON.stringify(printCornerElements(multiDimensionalArray3,2)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690115355,"creation_date":1690115355,"answer_id":76748236,"question_id":76747554,"body_markdown":"You seem to be making this more complicated than it needs to be. The indexes of the corner elements can easily be determined as follows:\r\n- top left = 0, 0\r\n- top right = 0, length of row minus one\r\n- bottom left = number of rows minus one, 0\r\n- bottom right = number of rows minus one, length of row minus one\r\n```java\r\npublic class ArrayOperations {\r\n    public static void printCorners(int[][] twoDimArray) {\r\n        int n = 2;\r\n        int[][] myTable = new int[n][n];\r\n        myTable[0][0] = twoDimArray[0][0];\r\n        myTable[0][1] = twoDimArray[0][twoDimArray[0].length - 1];\r\n        myTable[1][0] = twoDimArray[twoDimArray.length - 1][0];\r\n        myTable[1][1] = twoDimArray[twoDimArray.length - 1][twoDimArray[0].length - 1];\r\n        for (int row = 0; row &lt; 2; row++) {\r\n            for (int col = 0; col &lt; 2; col++) {\r\n                System.out.print(myTable[row][col] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        printCorners(new int[][]{{1}, {2}, {3}});\r\n        System.out.println(&quot;====================================================================&quot;);\r\n        printCorners(new int[][]{{1, 0, 2},\r\n                                 {0, 0, 0},\r\n                                 {3, 0, 4}});\r\n    }\r\n}\r\n```\r\nRunning above code produces following output:\r\n```none\r\n1 1 \r\n3 3 \r\n====================================================================\r\n1 2 \r\n3 4\r\n```","title":"Multidimensional array - dimmension of input array","body":"<p>You seem to be making this more complicated than it needs to be. The indexes of the corner elements can easily be determined as follows:</p>\n<ul>\n<li>top left = 0, 0</li>\n<li>top right = 0, length of row minus one</li>\n<li>bottom left = number of rows minus one, 0</li>\n<li>bottom right = number of rows minus one, length of row minus one</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayOperations {\n    public static void printCorners(int[][] twoDimArray) {\n        int n = 2;\n        int[][] myTable = new int[n][n];\n        myTable[0][0] = twoDimArray[0][0];\n        myTable[0][1] = twoDimArray[0][twoDimArray[0].length - 1];\n        myTable[1][0] = twoDimArray[twoDimArray.length - 1][0];\n        myTable[1][1] = twoDimArray[twoDimArray.length - 1][twoDimArray[0].length - 1];\n        for (int row = 0; row &lt; 2; row++) {\n            for (int col = 0; col &lt; 2; col++) {\n                System.out.print(myTable[row][col] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    public static void main(String[] args) {\n        printCorners(new int[][]{{1}, {2}, {3}});\n        System.out.println(&quot;====================================================================&quot;);\n        printCorners(new int[][]{{1, 0, 2},\n                                 {0, 0, 0},\n                                 {3, 0, 4}});\n    }\n}\n</code></pre>\n<p>Running above code produces following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 1 \n3 3 \n====================================================================\n1 2 \n3 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690130732,"creation_date":1690125942,"answer_id":76749026,"question_id":76747554,"body_markdown":"&gt;You need to implement `printCorners` method. It should print all corner elements of the `twoDimArray` in the following order: left to right and top to bottom.\r\n\r\nSince all you are asked to do is print the arrays, there is no need to build a new array. Also evidenced by the method being declared void and does not permit the return of the created array.\r\n\r\n**Some test Data**\r\n```\r\nint[][] a1 = {{1},{2},{3}};\r\nint[][] a2 = {{1,2,3,4},{2,3,4,5},{4,5,6,7}};\r\nint[][] jagged = {{1},{2,3},{3,4},{5,6,7,7}};\r\n```\r\n**The Method**\r\n\r\nTo make it easy, define some positions\r\n- `lri` -  last row index\r\n- `lifr` - last index of first row\r\n- `lilr` - last index of last row\r\n```\r\npublic static void printCorners(int[][] arr) {\r\n    int lri = arr.length-1;\r\n    int lifr = arr[0].length-1;\r\n    int lilr = arr[lri].length-1;\r\n    System.out.printf(&quot;%d %d%n&quot;, arr[0][0],arr[0][lifr]);\r\n    System.out.printf(&quot;%d %d%n&quot;, arr[lri][0],arr[lri][lilr]);\r\n}\r\nprintCorners(a1);  System.out.println();\r\nprintCorners(a2);  System.out.println();\r\nprintCorners(jagged);  System.out.println();\r\n```\r\nprints\r\n```\r\n1 1\r\n3 3\r\n\r\n1 4\r\n4 7\r\n\r\n1 1\r\n5 7\r\n","title":"Multidimensional array - dimmension of input array","body":"<blockquote>\n<p>You need to implement <code>printCorners</code> method. It should print all corner elements of the <code>twoDimArray</code> in the following order: left to right and top to bottom.</p>\n</blockquote>\n<p>Since all you are asked to do is print the arrays, there is no need to build a new array. Also evidenced by the method being declared void and does not permit the return of the created array.</p>\n<p><strong>Some test Data</strong></p>\n<pre><code>int[][] a1 = {{1},{2},{3}};\nint[][] a2 = {{1,2,3,4},{2,3,4,5},{4,5,6,7}};\nint[][] jagged = {{1},{2,3},{3,4},{5,6,7,7}};\n</code></pre>\n<p><strong>The Method</strong></p>\n<p>To make it easy, define some positions</p>\n<ul>\n<li><code>lri</code> -  last row index</li>\n<li><code>lifr</code> - last index of first row</li>\n<li><code>lilr</code> - last index of last row</li>\n</ul>\n<pre><code>public static void printCorners(int[][] arr) {\n    int lri = arr.length-1;\n    int lifr = arr[0].length-1;\n    int lilr = arr[lri].length-1;\n    System.out.printf(&quot;%d %d%n&quot;, arr[0][0],arr[0][lifr]);\n    System.out.printf(&quot;%d %d%n&quot;, arr[lri][0],arr[lri][lilr]);\n}\nprintCorners(a1);  System.out.println();\nprintCorners(a2);  System.out.println();\nprintCorners(jagged);  System.out.println();\n</code></pre>\n<p>prints</p>\n<pre><code>1 1\n3 3\n\n1 4\n4 7\n\n1 1\n5 7\n</code></pre>\n"}],"owner":{"account_id":25716889,"reputation":13,"user_id":19474511,"display_name":"Krystian Kowalczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76748236,"answer_count":3,"score":0,"last_activity_date":1690130732,"creation_date":1690105287,"question_id":76747554,"body_markdown":"I am doing course in Hyperskill platform - Introduction to Java. I am facing with an error of compilation which is not described anywhere (**Failed test #6 of 8. Wrong answer**)\r\n\r\nWould you be able to look into my code and help me?\r\n\r\nPlease see the task description.\r\n\r\nYou need to implement `printCorners` method. It should print all corner elements of the `twoDimArray` in the following order: left to right and top to bottom.\r\n\r\nThe elements must be separated by space and printed as an example below.\r\n\r\nInput array:\r\n\r\n    1 0 2\r\n    0 0 0\r\n    3 0 4\r\n\r\nPrinted corners:\r\n\r\n    1 2\r\n    3 4\r\n\r\nNotice, that you must always print 4 corners, for example:\r\n\r\nInput array:\r\n\r\n    1\r\n    2\r\n    3\r\n\r\nPrinted corners:\r\n\r\n    1 1\r\n    3 3\r\n\r\ncode:\r\n```java\r\npublic class ArrayOperations {\r\n    public static void printCorners(int[][] twoDimArray) {\r\n        int n = 2;\r\n        int[][] myTable = new int[n][n];\r\n        int cols = twoDimArray[0].length;\r\n        if (cols == 1) {\r\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\r\n                if (i == 0) {\r\n                    myTable[0][0] = twoDimArray[i][0];\r\n                    myTable[0][1] = twoDimArray[i][0];\r\n                    myTable[1][0] = twoDimArray[i][0];\r\n                    myTable[1][1] = twoDimArray[i][0];\r\n                }\r\n                else if (i &lt; twoDimArray.length - 1) {\r\n                    myTable[1][0] = twoDimArray[i][0];\r\n                    myTable[1][1] = twoDimArray[i][0];\r\n                }\r\n            }\r\n            System.out.println(myTable[0][0] + &quot; &quot; + myTable[0][0]);\r\n            System.out.println(myTable[1][0] + &quot; &quot; + myTable[1][1]);\r\n        }\r\n        else if (cols &gt; 1) {\r\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\r\n                for (int j = 0; j &lt; twoDimArray[i].length; j++) {\r\n                    if (i == 0 &amp;&amp; j == 0) {\r\n                        myTable[0][0] = twoDimArray[i][j];\r\n                    }\r\n                    else if (i == 0 &amp;&amp; j == twoDimArray[i].length - 1) {\r\n                        myTable[0][1] = twoDimArray[i][j];\r\n                    }\r\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == 0) {\r\n                        myTable[1][0] = twoDimArray[i][j];\r\n                    }\r\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == twoDimArray[i].length - 1) {\r\n                        myTable[1][1] = twoDimArray[i][j];\r\n                    }\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; myTable.length; i++) {\r\n                for (int j = 0; j &lt; myTable[i].length; j++) {\r\n                    System.out.print(myTable[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Multidimensional array - dimmension of input array","body":"<p>I am doing course in Hyperskill platform - Introduction to Java. I am facing with an error of compilation which is not described anywhere (<strong>Failed test #6 of 8. Wrong answer</strong>)</p>\n<p>Would you be able to look into my code and help me?</p>\n<p>Please see the task description.</p>\n<p>You need to implement <code>printCorners</code> method. It should print all corner elements of the <code>twoDimArray</code> in the following order: left to right and top to bottom.</p>\n<p>The elements must be separated by space and printed as an example below.</p>\n<p>Input array:</p>\n<pre><code>1 0 2\n0 0 0\n3 0 4\n</code></pre>\n<p>Printed corners:</p>\n<pre><code>1 2\n3 4\n</code></pre>\n<p>Notice, that you must always print 4 corners, for example:</p>\n<p>Input array:</p>\n<pre><code>1\n2\n3\n</code></pre>\n<p>Printed corners:</p>\n<pre><code>1 1\n3 3\n</code></pre>\n<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayOperations {\n    public static void printCorners(int[][] twoDimArray) {\n        int n = 2;\n        int[][] myTable = new int[n][n];\n        int cols = twoDimArray[0].length;\n        if (cols == 1) {\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\n                if (i == 0) {\n                    myTable[0][0] = twoDimArray[i][0];\n                    myTable[0][1] = twoDimArray[i][0];\n                    myTable[1][0] = twoDimArray[i][0];\n                    myTable[1][1] = twoDimArray[i][0];\n                }\n                else if (i &lt; twoDimArray.length - 1) {\n                    myTable[1][0] = twoDimArray[i][0];\n                    myTable[1][1] = twoDimArray[i][0];\n                }\n            }\n            System.out.println(myTable[0][0] + &quot; &quot; + myTable[0][0]);\n            System.out.println(myTable[1][0] + &quot; &quot; + myTable[1][1]);\n        }\n        else if (cols &gt; 1) {\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\n                for (int j = 0; j &lt; twoDimArray[i].length; j++) {\n                    if (i == 0 &amp;&amp; j == 0) {\n                        myTable[0][0] = twoDimArray[i][j];\n                    }\n                    else if (i == 0 &amp;&amp; j == twoDimArray[i].length - 1) {\n                        myTable[0][1] = twoDimArray[i][j];\n                    }\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == 0) {\n                        myTable[1][0] = twoDimArray[i][j];\n                    }\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == twoDimArray[i].length - 1) {\n                        myTable[1][1] = twoDimArray[i][j];\n                    }\n                }\n            }\n            for (int i = 0; i &lt; myTable.length; i++) {\n                for (int j = 0; j &lt; myTable[i].length; j++) {\n                    System.out.print(myTable[i][j] + &quot; &quot;);\n                }\n                System.out.println();\n            }\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9701,"page":291,"page_size":100}
