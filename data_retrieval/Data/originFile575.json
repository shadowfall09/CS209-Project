{"items":[{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1320404556,"creation_date":1320404556,"answer_id":8008263,"question_id":8007995,"body_markdown":"&gt; How to identify a broken socket connection in Java immediately?\r\n\r\nYou can&#39;t detect it immediately, in Java or any other language. TCP/IP doesn&#39;t know, so Java can&#39;t know. The only sure way to detect a broken TCP connection is by writing to it and catching IOExceptions, and they won&#39;t happen immediately.","title":"How to identify a broken socket connection in Java immediately?","body":"<blockquote>\n  <p>How to identify a broken socket connection in Java immediately?</p>\n</blockquote>\n\n<p>You can't detect it immediately, in Java or any other language. TCP/IP doesn't know, so Java can't know. The only sure way to detect a broken TCP connection is by writing to it and catching IOExceptions, and they won't happen immediately.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320405370,"creation_date":1320404609,"answer_id":8008273,"question_id":8007995,"body_markdown":"The best way to identity the connection is down is to timeout the connection. i.e. you expect a response in a given amount of time and flag if that response does not come as you expect.\r\n\r\nWhen you have a graceful disconnection (.e.g the other end calls close()) the read on the connection will let you know once the buffer has been drained.\r\n\r\nHowever, if there some other type of failure, you might not be notified until the OS times out the connection (e.g. after 3 minutes) and indeed, you may want to keep the connection. e.g. if you pull the network cable out for 10 seconds and put it back in, that doesn&#39;t need to be a failure.\r\n\r\nEDIT: I don&#39;t believe its a good idea to be too aggressive in automatically handling connection/service &quot;failures&quot;. This is usually better handled by a planned fix to the system, based on investigation of the true cause. e.g. increased bandwidth, redundant connectivity, faster servers, code fixes.\r\n","title":"How to identify a broken socket connection in Java immediately?","body":"<p>The best way to identity the connection is down is to timeout the connection. i.e. you expect a response in a given amount of time and flag if that response does not come as you expect.</p>\n\n<p>When you have a graceful disconnection (.e.g the other end calls close()) the read on the connection will let you know once the buffer has been drained.</p>\n\n<p>However, if there some other type of failure, you might not be notified until the OS times out the connection (e.g. after 3 minutes) and indeed, you may want to keep the connection. e.g. if you pull the network cable out for 10 seconds and put it back in, that doesn't need to be a failure.</p>\n\n<p>EDIT: I don't believe its a good idea to be too aggressive in automatically handling connection/service \"failures\". This is usually better handled by a planned fix to the system, based on investigation of the true cause. e.g. increased bandwidth, redundant connectivity, faster servers, code fixes.</p>\n"},{"tags":[],"owner":{"account_id":1009547,"reputation":697,"user_id":1022435,"display_name":"Andrey Nudko"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1320415999,"creation_date":1320415999,"answer_id":8010515,"question_id":8007995,"body_markdown":"If connection is broken abnormally, you will receieve `IOException` when reading; that normally happens quite fast, but there is no guarantees about time - all depends on the OS, network hardware, etc. If remote end gracefully closes the socket, you&#39;ll read `-1` as next byte.","title":"How to identify a broken socket connection in Java immediately?","body":"<p>If connection is broken abnormally, you will receieve <code>IOException</code> when reading; that normally happens quite fast, but there is no guarantees about time - all depends on the OS, network hardware, etc. If remote end gracefully closes the socket, you'll read <code>-1</code> as next byte.</p>\n"},{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514973210,"creation_date":1514973210,"answer_id":48074958,"question_id":8007995,"body_markdown":"Assuming everything else works, if the remote peer - the TCP server - was killed then the TCP client will normally receive a TCP RST (reset) and you&#39;ll get an `IOException` in your client application. \r\n\r\nHowever, there are lots of other things that can go wrong besides a process being killed. Basically anything on the network path *between* the two processes:  a cable is yanked, a router dies, a firewall dies, etc. All of this will not immediately be detected.\r\n\r\nFor the above reasons the general rule is - as pointed out in the answer from EJP - that a broken connection *can only be detected by writing to it*. This is why it is always recommended that a TCP client and TCP server exchange some type of heartbeat messages at regular intervals. There are different ways to do this. I like best the method where the TCP client will - in the absence of data being received from the TCP server - send a heartbeat message to the server and expect a reply back within a certain time period. This way heartbeat messages will only be sent when really needed. \r\n\r\nA sub-optimal approach - if you cannot implement true heartbeating - is to always read with a timeout. Set the [timeout on the socket][1] and then catch `java.net.SocketTimeoutException`. This will allow you to know that no data has been received on socket during x milliseconds.\r\n\r\nIt should be mentioned that there&#39;s one scenario where you don&#39;t have to use heartbeating, nor using the socket timeout:   if the TCP client and the TCP server communicate over a loopback interface then a broken connection will always be propagated to both the TCP client application and the TCP server application. This is because, in this case, there&#39;s really no network infrastructure between the two processes. So if you have an existing application which isn&#39;t well-designed with respect to its TCP communication (i.e. it doesn&#39;t implement some form of heartbeating or at least reading with a timeout), then as a last resort you may &#39;fix&#39; the problem by moving the two application onto the same host and let them communicate over the loopback interface.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html#setSoTimeout-int-","title":"How to identify a broken socket connection in Java immediately?","body":"<p>Assuming everything else works, if the remote peer - the TCP server - was killed then the TCP client will normally receive a TCP RST (reset) and you'll get an <code>IOException</code> in your client application. </p>\n\n<p>However, there are lots of other things that can go wrong besides a process being killed. Basically anything on the network path <em>between</em> the two processes:  a cable is yanked, a router dies, a firewall dies, etc. All of this will not immediately be detected.</p>\n\n<p>For the above reasons the general rule is - as pointed out in the answer from EJP - that a broken connection <em>can only be detected by writing to it</em>. This is why it is always recommended that a TCP client and TCP server exchange some type of heartbeat messages at regular intervals. There are different ways to do this. I like best the method where the TCP client will - in the absence of data being received from the TCP server - send a heartbeat message to the server and expect a reply back within a certain time period. This way heartbeat messages will only be sent when really needed. </p>\n\n<p>A sub-optimal approach - if you cannot implement true heartbeating - is to always read with a timeout. Set the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html#setSoTimeout-int-\" rel=\"nofollow noreferrer\">timeout on the socket</a> and then catch <code>java.net.SocketTimeoutException</code>. This will allow you to know that no data has been received on socket during x milliseconds.</p>\n\n<p>It should be mentioned that there's one scenario where you don't have to use heartbeating, nor using the socket timeout:   if the TCP client and the TCP server communicate over a loopback interface then a broken connection will always be propagated to both the TCP client application and the TCP server application. This is because, in this case, there's really no network infrastructure between the two processes. So if you have an existing application which isn't well-designed with respect to its TCP communication (i.e. it doesn't implement some form of heartbeating or at least reading with a timeout), then as a last resort you may 'fix' the problem by moving the two application onto the same host and let them communicate over the loopback interface.</p>\n"},{"tags":[],"owner":{"account_id":19442007,"reputation":36,"user_id":14220227,"display_name":"Tejumola Mann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678824110,"creation_date":1678824110,"answer_id":75737864,"question_id":8007995,"body_markdown":"This might help someone today.\r\nAs stated above, there is no way to detect a break in a socket&#39;s network connection except you try to write to or read from it. The code below will run forever even if you physically disrupt the connection, by unplugging the ethernet cable or turning off the WiFi.\r\n\r\n```\r\npackage SocketConnected;\r\n\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\n/**\r\n *\r\n * @author tejum\r\n */\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        try {\r\n            Socket socket = new Socket(&quot;192.168.2.200&quot;, 1234);\r\n            \r\n            while(!socket.isClosed()){\r\n                if(!socket.isConnected()){\r\n                    System.out.println(&quot;No longer connected...&quot;);\r\n                    \r\n                    break;\r\n                }\r\n                \r\n                System.out.println(&quot;Still connected...&quot;);\r\n                \r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException ex) {\r\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n}\r\n```\r\nThe socket variable does not get updated that way. The code below will throw an IOException if the connection is severed during the repeated read operation.\r\n\r\n```\r\npackage SocketConnected;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.net.Socket;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\n/**\r\n *\r\n * @author tejum\r\n */\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        boolean connected;\r\n        \r\n        try {\r\n            Socket socket = new Socket(&quot;192.168.2.200&quot;, 1234);\r\n            \r\n            connected = true;\r\n            \r\n            OutputStream output = socket.getOutputStream();\r\n            \r\n            while(connected){\r\n                \r\n                output.write(0);\r\n                \r\n                System.out.println(&quot;Still connected...&quot;);\r\n                \r\n                \r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException ex) {\r\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n}\r\n```\r\nThe code above will continue forever until there is a break in the connection and when this happens the write method of the OutputStream will throw an exception. Therefore, a heartbeat and a connection timeout are sure ways of detecting connection breaks. A heartbeat, is just a way to know both connection parties are alive and well, is just asking the server &quot;are you alive&quot; and then getting the response from the server on that question in a timely manner means all is well with the server.","title":"How to identify a broken socket connection in Java immediately?","body":"<p>This might help someone today.\nAs stated above, there is no way to detect a break in a socket's network connection except you try to write to or read from it. The code below will run forever even if you physically disrupt the connection, by unplugging the ethernet cable or turning off the WiFi.</p>\n<pre><code>package SocketConnected;\n\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author tejum\n */\npublic class Test {\n    public static void main(String[] args){\n        try {\n            Socket socket = new Socket(&quot;192.168.2.200&quot;, 1234);\n            \n            while(!socket.isClosed()){\n                if(!socket.isConnected()){\n                    System.out.println(&quot;No longer connected...&quot;);\n                    \n                    break;\n                }\n                \n                System.out.println(&quot;Still connected...&quot;);\n                \n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException ex) {\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        } catch (IOException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p>The socket variable does not get updated that way. The code below will throw an IOException if the connection is severed during the repeated read operation.</p>\n<pre><code>package SocketConnected;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.Socket;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author tejum\n */\npublic class Test {\n    public static void main(String[] args){\n        boolean connected;\n        \n        try {\n            Socket socket = new Socket(&quot;192.168.2.200&quot;, 1234);\n            \n            connected = true;\n            \n            OutputStream output = socket.getOutputStream();\n            \n            while(connected){\n                \n                output.write(0);\n                \n                System.out.println(&quot;Still connected...&quot;);\n                \n                \n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException ex) {\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        } catch (IOException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p>The code above will continue forever until there is a break in the connection and when this happens the write method of the OutputStream will throw an exception. Therefore, a heartbeat and a connection timeout are sure ways of detecting connection breaks. A heartbeat, is just a way to know both connection parties are alive and well, is just asking the server &quot;are you alive&quot; and then getting the response from the server on that question in a timely manner means all is well with the server.</p>\n"}],"owner":{"account_id":344466,"reputation":7026,"user_id":676803,"accept_rate":64,"display_name":"Drona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7895,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1678824110,"creation_date":1320403055,"question_id":8007995,"body_markdown":"I have a typical java client and a server. The client sends some request to the server and waits for the response. The client reads up to say 100 bytes of data from the contained input stream into an array of bytes. It waits for the complete response of 100 bytes to be read within a specified timeout period of say 3 secs. The problem here is to identify if the server went down or crashed while/before writing the response. Basically, we need to identify if the socket was broken or the peer disconnected for some reason. Is there a way to identify this?","title":"How to identify a broken socket connection in Java immediately?","body":"<p>I have a typical java client and a server. The client sends some request to the server and waits for the response. The client reads up to say 100 bytes of data from the contained input stream into an array of bytes. It waits for the complete response of 100 bytes to be read within a specified timeout period of say 3 secs. The problem here is to identify if the server went down or crashed while/before writing the response. Basically, we need to identify if the socket was broken or the peer disconnected for some reason. Is there a way to identify this?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678822247,"creation_date":1678822247,"answer_id":75737594,"question_id":75737556,"body_markdown":"Both arguments to `Collectors.toMap` must be Functions (which are passed an element of the Stream), even if their parameter is unused.\r\n\r\n```java\r\nCollectors.toMap(e -&gt; CustomTag.builder().key(e.getKey()).value(e.getValue()).build(),\r\n                 e -&gt; CustomTagType.SCAN_TAG)\r\n```","title":"How to convert Map&lt;String, String&gt; to Map&lt;MyClass, MyOtherClass&gt;?","body":"<p>Both arguments to <code>Collectors.toMap</code> must be Functions (which are passed an element of the Stream), even if their parameter is unused.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collectors.toMap(e -&gt; CustomTag.builder().key(e.getKey()).value(e.getValue()).build(),\n                 e -&gt; CustomTagType.SCAN_TAG)\n</code></pre>\n"}],"owner":{"account_id":6856568,"reputation":147,"user_id":5271958,"display_name":"Nimrod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75737594,"answer_count":1,"score":0,"last_activity_date":1678823141,"creation_date":1678821956,"question_id":75737556,"body_markdown":"I have a simple  `Map&lt;String, String&gt;`  scanMap and I want to collect and covert it to a map of type of `Map&lt;CustomTag, CustomTagType&gt;`.\r\n\r\nCustomTag has 2 fields properties - key &amp; value and I want to inject the original map key &amp; value into it. the 2nd CustomTagType is an enum.\r\nI want to do something like this:\r\n\r\n    Map&lt;String, String&gt; scanMap = new HashMap&lt;&gt;();\r\n    scanMap.entrySet()\r\n            .stream()\r\n            .collect(Collectors.toMap(e -&gt; CustomTag.builder().key(e.getKey()).value(e.getValue()).build(),\r\n                            CustomTagType.SCAN_TAG);\r\nbut the `e.getKey()` &amp; `e.getValue()` get &#39;cannot resolve method&#39; errors.\r\nWhat am I missing here?\r\n","title":"How to convert Map&lt;String, String&gt; to Map&lt;MyClass, MyOtherClass&gt;?","body":"<p>I have a simple  <code>Map&lt;String, String&gt;</code>  scanMap and I want to collect and covert it to a map of type of <code>Map&lt;CustomTag, CustomTagType&gt;</code>.</p>\n<p>CustomTag has 2 fields properties - key &amp; value and I want to inject the original map key &amp; value into it. the 2nd CustomTagType is an enum.\nI want to do something like this:</p>\n<pre><code>Map&lt;String, String&gt; scanMap = new HashMap&lt;&gt;();\nscanMap.entrySet()\n        .stream()\n        .collect(Collectors.toMap(e -&gt; CustomTag.builder().key(e.getKey()).value(e.getValue()).build(),\n                        CustomTagType.SCAN_TAG);\n</code></pre>\n<p>but the <code>e.getKey()</code> &amp; <code>e.getValue()</code> get 'cannot resolve method' errors.\nWhat am I missing here?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":1935131,"reputation":14716,"user_id":1743580,"display_name":"miguno"},"score":0,"creation_date":1564047785,"post_id":57182063,"comment_id":100905989,"body_markdown":"FYI: The get() function you refer to is from https://kafka.apache.org/23/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html. This javadoc also list other functions such as all() as mentioned in Val Bonn&#39;s answer.","body":"FYI: The get() function you refer to is from <a href=\"https://kafka.apache.org/23/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html\" rel=\"nofollow noreferrer\">kafka.apache.org/23/javadoc/org/apache/kafka/streams/state/&hellip;</a>&zwnj;&#8203;. This javadoc also list other functions such as all() as mentioned in Val Bonn&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":466002,"reputation":20226,"user_id":870483,"accept_rate":81,"display_name":"Nishu Tayal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563971538,"creation_date":1563971538,"answer_id":57183046,"question_id":57182063,"body_markdown":"You can use `filter` operation to make key or value based lookups\r\n\r\n\r\n    customerKTable.filter((key, value) -&gt; value.get(&quot;country&quot;) != &quot;USA&quot;)\r\n\r\n  ","title":"Is there any function in Kafka table(Ktable) to retrieve keys based on values? or Is there any way to retrieve data based on both keys and values","body":"<p>You can use <code>filter</code> operation to make key or value based lookups</p>\n\n<pre><code>customerKTable.filter((key, value) -&gt; value.get(\"country\") != \"USA\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4637453,"reputation":1139,"user_id":3758289,"accept_rate":40,"display_name":"Val Bonn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564037709,"creation_date":1564037709,"answer_id":57195978,"question_id":57182063,"body_markdown":"Your `customerStateStore` is a key-value store and as you stated, you can only query based on keys.\r\n\r\nOne proposal would be to work on the IN flow, in order to use the value (or part of the value) as a key in the store. You can do that with the `map()` method. The idea could be to achieve something like: \r\n\r\n    Original IN msg: key1 - value1\r\n    \r\n    Would generate 2 entries in the store:\r\n        key1 - value1\r\n        value1 - key1 (or whatever depending on your usecase)\r\nDoing this, you will be able to query the store on the `value1`, because it is a key. (Be careful if in the IN topic you have the same value for different keys.)\r\n\r\nOr, as an alternative to @NishuTayal&#39;s suggestion, you can loop on all the entries *of the store* and evaluate the values, with the method `all()`: https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#all--\r\n\r\nObviously this will degrade the performance, but depending on the size of your (in memory) store and your usecase (get all the entries for a given value? only one entry? ...), it might not add too much delay to the processing.  \r\n\r\nBut you have to be careful with the partitioning of your input topic: one given value may then be present in several partitions of your topic, and then be present in different instances of your KS app.","title":"Is there any function in Kafka table(Ktable) to retrieve keys based on values? or Is there any way to retrieve data based on both keys and values","body":"<p>Your <code>customerStateStore</code> is a key-value store and as you stated, you can only query based on keys.</p>\n\n<p>One proposal would be to work on the IN flow, in order to use the value (or part of the value) as a key in the store. You can do that with the <code>map()</code> method. The idea could be to achieve something like: </p>\n\n<pre><code>Original IN msg: key1 - value1\n\nWould generate 2 entries in the store:\n    key1 - value1\n    value1 - key1 (or whatever depending on your usecase)\n</code></pre>\n\n<p>Doing this, you will be able to query the store on the <code>value1</code>, because it is a key. (Be careful if in the IN topic you have the same value for different keys.)</p>\n\n<p>Or, as an alternative to @NishuTayal's suggestion, you can loop on all the entries <em>of the store</em> and evaluate the values, with the method <code>all()</code>: <a href=\"https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#all--\" rel=\"nofollow noreferrer\">https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#all--</a></p>\n\n<p>Obviously this will degrade the performance, but depending on the size of your (in memory) store and your usecase (get all the entries for a given value? only one entry? ...), it might not add too much delay to the processing.  </p>\n\n<p>But you have to be careful with the partitioning of your input topic: one given value may then be present in several partitions of your topic, and then be present in different instances of your KS app.</p>\n"}],"owner":{"account_id":16378348,"reputation":21,"user_id":11829973,"display_name":"seeker.srt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4382,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678823087,"creation_date":1563968395,"question_id":57182063,"body_markdown":"I am doing a poc on kafka streams and ktables.I was wondering if there is any way to store data(key-value pair or key-object pair) in Kafka, either through streams, ktables, state-stores, so that i can retrieve data bases on both keys and values.\r\nI created a kstream based on topic, on which i pushed some messages and using wordcountalgo, i populated values in ktable created above kstream. Something like this:\r\n\r\n```\r\nStoreBuilder customerStateStore = Stores.keyValueStoreBuilder(Stores.persistentKeyValueStore(&quot;customer-store&quot;),Serdes.String(), customerSerde)\r\n                .withLoggingEnabled(new HashMap&lt;&gt;());\r\nstreamsBuilder.stream(&quot;customer&quot;, Consumed.with(Serdes.String(), customerSerde)).to(&quot;customer-to-ktable-topic&quot;,Produced.with(Serdes.String(), customerSerde));\r\nKTable&lt;String, Customer&gt; customerKTable = streamsBuilder.table(&quot;customer-to-ktable-topic&quot;, Consumed.with(Serdes.String(), customerSerde),Materialized.as(customerStateStore.name()));\r\n```\r\nI am not able to fetch records based on values.\r\n\r\nhttps://kafka.apache.org/10/javadoc/org/apache/kafka/streams/kstream/KTable.html\r\nOnly get(String key) function is available in the documentation of kafka doc. However, I am exploring to see if this can be achieved some other way?","title":"Is there any function in Kafka table(Ktable) to retrieve keys based on values? or Is there any way to retrieve data based on both keys and values","body":"<p>I am doing a poc on kafka streams and ktables.I was wondering if there is any way to store data(key-value pair or key-object pair) in Kafka, either through streams, ktables, state-stores, so that i can retrieve data bases on both keys and values.\nI created a kstream based on topic, on which i pushed some messages and using wordcountalgo, i populated values in ktable created above kstream. Something like this:</p>\n\n<pre><code>StoreBuilder customerStateStore = Stores.keyValueStoreBuilder(Stores.persistentKeyValueStore(\"customer-store\"),Serdes.String(), customerSerde)\n                .withLoggingEnabled(new HashMap&lt;&gt;());\nstreamsBuilder.stream(\"customer\", Consumed.with(Serdes.String(), customerSerde)).to(\"customer-to-ktable-topic\",Produced.with(Serdes.String(), customerSerde));\nKTable&lt;String, Customer&gt; customerKTable = streamsBuilder.table(\"customer-to-ktable-topic\", Consumed.with(Serdes.String(), customerSerde),Materialized.as(customerStateStore.name()));\n</code></pre>\n\n<p>I am not able to fetch records based on values.</p>\n\n<p><a href=\"https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/kstream/KTable.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/kstream/KTable.html</a>\nOnly get(String key) function is available in the documentation of kafka doc. However, I am exploring to see if this can be achieved some other way?</p>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":27896125,"reputation":138,"user_id":21301377,"display_name":"Anonymus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678788603,"creation_date":1678788603,"answer_id":75731684,"question_id":75730262,"body_markdown":"See same as method miss parameter 3rd is data input\r\n\r\n**fillReport(compileReport,parameters)**\r\n\r\nUpdated same:\r\n\r\n**fillReport(compileReport,parameters, dataInput)**\r\n\r\n","title":"Spring Boot Controller Jasper Report Blank PDF","body":"<p>See same as method miss parameter 3rd is data input</p>\n<p><strong>fillReport(compileReport,parameters)</strong></p>\n<p>Updated same:</p>\n<p><strong>fillReport(compileReport,parameters, dataInput)</strong></p>\n"}],"owner":{"account_id":27674096,"reputation":19,"user_id":21124290,"display_name":"Phortsophea MMO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678822667,"creation_date":1678780006,"question_id":75730262,"body_markdown":"    @GetMapping(value = &quot;/report/pdf/{id}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\r\n    \tpublic ResponseEntity&lt;byte[]&gt; downloadInvoice(@PathVariable Long id,Model model) throws JRException, IOException  {\r\n    \r\n    \t\tString reporPath=&quot;src/main/resources/templates/pages/user&quot;;\r\n    \t\t\r\n    \t\t\r\n    \t\tJasperReport compileReport = JasperCompileManager.compileReport(new FileInputStream(reporPath + &quot;/test.jrxml&quot;));\t\r\n    \t\t\r\n    \t\tMap&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n    \t\t\r\n    \t\tJasperPrint jasperPrint = JasperFillManager.fillReport(compileReport,parameters);\r\n    \t\t\r\n    \t\tbyte data[] = JasperExportManager.exportReportToPdf(jasperPrint);\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.add(&quot;Content-Disposition&quot;, &quot;inline; filename=invoice.pdf&quot;);\r\n    \r\n    \r\n    \t\treturn ResponseEntity.ok().headers(headers).contentType(MediaType.APPLICATION_PDF).body(data);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n\r\n------------------------------------------------------------------------------------------\r\nPlease help me to solve this problem I can&#39;t to solve this problem is still blank Jasper ","title":"Spring Boot Controller Jasper Report Blank PDF","body":"<pre><code>@GetMapping(value = &quot;/report/pdf/{id}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\n    public ResponseEntity&lt;byte[]&gt; downloadInvoice(@PathVariable Long id,Model model) throws JRException, IOException  {\n\n        String reporPath=&quot;src/main/resources/templates/pages/user&quot;;\n        \n        \n        JasperReport compileReport = JasperCompileManager.compileReport(new FileInputStream(reporPath + &quot;/test.jrxml&quot;));    \n        \n        Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n        \n        JasperPrint jasperPrint = JasperFillManager.fillReport(compileReport,parameters);\n        \n        byte data[] = JasperExportManager.exportReportToPdf(jasperPrint);\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;Content-Disposition&quot;, &quot;inline; filename=invoice.pdf&quot;);\n\n\n        return ResponseEntity.ok().headers(headers).contentType(MediaType.APPLICATION_PDF).body(data);\n        \n        \n    }\n</code></pre>\n<hr />\n<p>Please help me to solve this problem I can't to solve this problem is still blank Jasper</p>\n"},{"tags":["java","spring","hibernate","jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1638999332,"creation_date":1638999332,"answer_id":70281998,"question_id":70280932,"body_markdown":"`jsonb` is a PostgreSQL data type, not available in H2. It differs from PG&#39;s `json` data type in that internally it is stored in a binary structure that is more suitable for some operations and indexing.\r\n\r\nH2 does have a `json` format, though https://www.h2database.com/html/datatypes.html#json_type","title":"How to use a jsonb column with H2, JPA, and Hibernate","body":"<p><code>jsonb</code> is a PostgreSQL data type, not available in H2. It differs from PG's <code>json</code> data type in that internally it is stored in a binary structure that is more suitable for some operations and indexing.</p>\n<p>H2 does have a <code>json</code> format, though <a href=\"https://www.h2database.com/html/datatypes.html#json_type\" rel=\"nofollow noreferrer\">https://www.h2database.com/html/datatypes.html#json_type</a></p>\n"},{"tags":[],"owner":{"account_id":334654,"reputation":560,"user_id":661236,"accept_rate":80,"display_name":"mikhailian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678822320,"creation_date":1678822320,"answer_id":75737605,"question_id":70280932,"body_markdown":"You can create a  JSONB domain in H2 and use it.\r\n\r\nIf you want to use H2 as  the testing database in your Spring application that runs on Postgresql, adding the following to the connection string provides JSONB type.\r\n\r\n```\r\njdbc:h2:mem:public;MODE=PostgreSQL;INIT=CREATE DOMAIN IF NOT EXISTS JSONB AS JSON;\r\n```\r\n\r\nFor JPA you will need to configure custom read and write converters separately for runtime and for testing.\r\n\r\nUses `PGObject` in Postgresql converters and `byte[]` in H2 converters. There should be enough answers on  Stackoverflow about creating custom converters for JPA.\r\n","title":"How to use a jsonb column with H2, JPA, and Hibernate","body":"<p>You can create a  JSONB domain in H2 and use it.</p>\n<p>If you want to use H2 as  the testing database in your Spring application that runs on Postgresql, adding the following to the connection string provides JSONB type.</p>\n<pre><code>jdbc:h2:mem:public;MODE=PostgreSQL;INIT=CREATE DOMAIN IF NOT EXISTS JSONB AS JSON;\n</code></pre>\n<p>For JPA you will need to configure custom read and write converters separately for runtime and for testing.</p>\n<p>Uses <code>PGObject</code> in Postgresql converters and <code>byte[]</code> in H2 converters. There should be enough answers on  Stackoverflow about creating custom converters for JPA.</p>\n"}],"owner":{"account_id":22271358,"reputation":37,"user_id":16501265,"display_name":"bloodycheri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3022,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70281998,"answer_count":2,"score":1,"last_activity_date":1678822320,"creation_date":1638993035,"question_id":70280932,"body_markdown":"Using Spring, when I try running my integration tests don&#39;t work because the H2 database can&#39;t create the table. This is the error:\r\n\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table foo (id binary not null, bar jsonb, primary key (id))&quot; via JDBC Statement\r\n\r\nMy entity being defined as follow :\r\n\r\n    @Entity(name = &quot;foo&quot;)\r\n    @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n    public class Foo {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n        private UUID id;\r\n    \r\n        @Type(type = &quot;jsonb&quot;)\r\n        @Column(columnDefinition = &quot;jsonb&quot;)\r\n        private Object bar;\r\n    }\r\n\r\nMy type being defined through `com.vladmihalcea:hibernate-types-52:2.14.0`.\r\n\r\nAnd my h2 version being `com.h2database:h2:2.0.202`.\r\n\r\nIf I remove the `bar` property, it works fine.\r\n\r\nAny clue please ?","title":"How to use a jsonb column with H2, JPA, and Hibernate","body":"<p>Using Spring, when I try running my integration tests don't work because the H2 database can't create the table. This is the error:</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table foo (id binary not null, bar jsonb, primary key (id))&quot; via JDBC Statement\n</code></pre>\n<p>My entity being defined as follow :</p>\n<pre><code>@Entity(name = &quot;foo&quot;)\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\npublic class Foo {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    private UUID id;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Object bar;\n}\n</code></pre>\n<p>My type being defined through <code>com.vladmihalcea:hibernate-types-52:2.14.0</code>.</p>\n<p>And my h2 version being <code>com.h2database:h2:2.0.202</code>.</p>\n<p>If I remove the <code>bar</code> property, it works fine.</p>\n<p>Any clue please ?</p>\n"},{"tags":["java","hibernate","maven-2","configuration","h2"],"comments":[{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":1,"creation_date":1292877867,"post_id":4490138,"comment_id":4916334,"body_markdown":"You wrote &quot;H2 won&#39;t crash if the init=runscript command targets nothing&quot; - I can&#39;t reproduce this (H2 throws an exception in this case). What version of H2 do you use? Could you try with the latest version? I&#39;m not aware this was different before, but maybe it was.","body":"You wrote &quot;H2 won&#39;t crash if the init=runscript command targets nothing&quot; - I can&#39;t reproduce this (H2 throws an exception in this case). What version of H2 do you use? Could you try with the latest version? I&#39;m not aware this was different before, but maybe it was."},{"owner":{"account_id":70652,"reputation":5274,"user_id":204682,"accept_rate":75,"display_name":"Maxime ARNSTAMM"},"score":0,"creation_date":1292924148,"post_id":4490138,"comment_id":4921680,"body_markdown":"No you&#39;re right, now it crashes. I don&#39;t know what happened.","body":"No you&#39;re right, now it crashes. I don&#39;t know what happened."}],"answers":[{"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292852822,"creation_date":1292852822,"answer_id":4490207,"question_id":4490138,"body_markdown":"I&#39;d suggest trying to use an absolute path for starters, just to check everything works. Afterwards, check your classpath. For example, `bin/main/resources/scripts/create.sql`, assuming `bin` is where your classes are compiled, and is on your classpath.\r\n\r\nSince `src`, where your source lives, usually isn&#39;t on the classpath, this could be the source of your problem.","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>I'd suggest trying to use an absolute path for starters, just to check everything works. Afterwards, check your classpath. For example, <code>bin/main/resources/scripts/create.sql</code>, assuming <code>bin</code> is where your classes are compiled, and is on your classpath.</p>\n\n<p>Since <code>src</code>, where your source lives, usually isn't on the classpath, this could be the source of your problem.</p>\n"},{"tags":[],"owner":{"account_id":441031,"reputation":2739,"user_id":830928,"display_name":"viktortnk"},"down_vote_count":1,"up_vote_count":121,"is_accepted":true,"score":120,"last_activity_date":1323768179,"creation_date":1323768179,"answer_id":8486819,"question_id":4490138,"body_markdown":"You can use the following url: \r\n&lt;br/&gt;`&quot;jdbc:h2:mem:sample;INIT=RUNSCRIPT FROM &#39;classpath:scripts/create.sql&#39;&quot;`\r\n\r\nWith that one it is possible to run script from classpath. So you can just put it src/main/resources/scripts or src/test/resources/scripts in your maven (or something else) project. ","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>You can use the following url: \n<br/><code>\"jdbc:h2:mem:sample;INIT=RUNSCRIPT FROM 'classpath:scripts/create.sql'\"</code></p>\n\n<p>With that one it is possible to run script from classpath. So you can just put it src/main/resources/scripts or src/test/resources/scripts in your maven (or something else) project. </p>\n"},{"tags":[],"owner":{"account_id":1161864,"reputation":2061,"user_id":1141215,"display_name":"PJ_Finnegan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665758498,"creation_date":1665758498,"answer_id":74070918,"question_id":4490138,"body_markdown":"For me it works if I keep the scripts under `src/test/resources`:\r\n\r\n```\r\ndatabase.url=jdbc:h2:mem:;INIT=RUNSCRIPT FROM &#39;src/test/resources/create.sql&#39;;\r\n```\r\n\r\nAnyway, in a JUnit context, if you use the conventional file paths `schema.sql` (for the DDL) and `data.sql` (for the DDL) under `src/test/resources`, you don&#39;t need the specify the scripts with the INIT variable in the connection string.\r\nYou can simply use:\r\n```\r\ndatabase.url=jdbc:h2:mem:testdb\r\n```\r\nand JUnit will automatically run the scripts when creating the H2 instance in memory.\r\n","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>For me it works if I keep the scripts under <code>src/test/resources</code>:</p>\n<pre><code>database.url=jdbc:h2:mem:;INIT=RUNSCRIPT FROM 'src/test/resources/create.sql';\n</code></pre>\n<p>Anyway, in a JUnit context, if you use the conventional file paths <code>schema.sql</code> (for the DDL) and <code>data.sql</code> (for the DDL) under <code>src/test/resources</code>, you don't need the specify the scripts with the INIT variable in the connection string.\nYou can simply use:</p>\n<pre><code>database.url=jdbc:h2:mem:testdb\n</code></pre>\n<p>and JUnit will automatically run the scripts when creating the H2 instance in memory.</p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678822289,"creation_date":1678719462,"answer_id":75723557,"question_id":4490138,"body_markdown":"Your issue is you are specifying `&#39;src/`\r\nYou need to do `./src` instead.\r\n\r\nI had the same issue and this change fixed it:\r\n\r\n    spring.datasource.url=jdbc:h2:./src/main/resources/data.sql;INIT=RUNSCRIPT FROM &#39;./src/main/resources/data.sql&#39;\r\n\r\nIf you are using Docker and Kubernetes,\r\n\r\n**add** this line to Dockerfile\r\n\r\n    COPY src/main/resources/data.sql /app/src/main/resources/\r\n\r\n\r\n\r\n\r\n","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>Your issue is you are specifying <code>'src/</code>\nYou need to do <code>./src</code> instead.</p>\n<p>I had the same issue and this change fixed it:</p>\n<pre><code>spring.datasource.url=jdbc:h2:./src/main/resources/data.sql;INIT=RUNSCRIPT FROM './src/main/resources/data.sql'\n</code></pre>\n<p>If you are using Docker and Kubernetes,</p>\n<p><strong>add</strong> this line to Dockerfile</p>\n<pre><code>COPY src/main/resources/data.sql /app/src/main/resources/\n</code></pre>\n"}],"owner":{"account_id":70652,"reputation":5274,"user_id":204682,"accept_rate":75,"display_name":"Maxime ARNSTAMM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36530,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":8486819,"answer_count":4,"score":60,"last_activity_date":1678822289,"creation_date":1292852285,"question_id":4490138,"body_markdown":"I use maven conventions for source paths (src/main src/test) and i have my sql scripts in src/main/resources/scripts.\r\n\r\nI want to run my app with H2 memory and i&#39;d like to use the jdbc url to initialize my db :\r\n\r\n    database.url=jdbc:h2:mem:;INIT=RUNSCRIPT FROM &#39;src/main/resources/scripts/create.sql&#39;;\r\n\r\nMy problem is that this relative path (src/main/... ) does not work, and that H2 won&#39;t crash if the init=runscript command targets nothing.\r\n\r\nDoes someone know what is the path i should use to make this work ?\r\n\r\nThanks","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>I use maven conventions for source paths (src/main src/test) and i have my sql scripts in src/main/resources/scripts.</p>\n\n<p>I want to run my app with H2 memory and i'd like to use the jdbc url to initialize my db :</p>\n\n<pre><code>database.url=jdbc:h2:mem:;INIT=RUNSCRIPT FROM 'src/main/resources/scripts/create.sql';\n</code></pre>\n\n<p>My problem is that this relative path (src/main/... ) does not work, and that H2 won't crash if the init=runscript command targets nothing.</p>\n\n<p>Does someone know what is the path i should use to make this work ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":327246,"reputation":354,"user_id":649512,"display_name":"hakon"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1312884673,"creation_date":1312884673,"answer_id":6994558,"question_id":6994518,"body_markdown":"Write an empty string to the file, flush, and close. Make sure that the file writer is not in append-mode. I think that should do the trick.","title":"how to delete the content of text file without deleting itself","body":"<p>Write an empty string to the file, flush, and close. Make sure that the file writer is not in append-mode. I think that should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":475314,"reputation":513,"user_id":885561,"accept_rate":88,"display_name":"Micky"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1463838153,"creation_date":1312884716,"answer_id":6994568,"question_id":6994518,"body_markdown":"Simple, write nothing!\r\n\r\n    FileOutputStream writer = new FileOutputStream(&quot;file.txt&quot;);\r\n    writer.write((&quot;&quot;).getBytes());\r\n    writer.close();\r\n\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>Simple, write nothing!</p>\n\n<pre><code>FileOutputStream writer = new FileOutputStream(\"file.txt\");\nwriter.write((\"\").getBytes());\nwriter.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319457,"reputation":15507,"user_id":637236,"accept_rate":55,"display_name":"Rasel"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1312885047,"creation_date":1312885047,"answer_id":6994638,"question_id":6994518,"body_markdown":"After copying from A to B open file A again to write mode and then write empty string in it","title":"how to delete the content of text file without deleting itself","body":"<p>After copying from A to B open file A again to write mode and then write empty string in it</p>\n"},{"tags":[],"owner":{"account_id":441424,"reputation":10612,"user_id":831507,"accept_rate":100,"display_name":"Vlad"},"down_vote_count":2,"up_vote_count":155,"is_accepted":true,"score":153,"last_activity_date":1312885221,"creation_date":1312885221,"answer_id":6994664,"question_id":6994518,"body_markdown":"Just print an empty string into the file:\r\n\r\n    PrintWriter writer = new PrintWriter(file);\r\n    writer.print(&quot;&quot;);\r\n    writer.close();","title":"how to delete the content of text file without deleting itself","body":"<p>Just print an empty string into the file:</p>\n\n<pre><code>PrintWriter writer = new PrintWriter(file);\nwriter.print(\"\");\nwriter.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":174588,"reputation":3274,"user_id":404051,"accept_rate":92,"display_name":"Burleigh Bear"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1312885251,"creation_date":1312885251,"answer_id":6994668,"question_id":6994518,"body_markdown":"You want the setLength() method in the class RandomAccessFile.","title":"how to delete the content of text file without deleting itself","body":"<p>You want the setLength() method in the class RandomAccessFile.</p>\n"},{"tags":[],"owner":{"account_id":1905480,"reputation":816,"user_id":1720452,"accept_rate":20,"display_name":"Vishal"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1416838254,"creation_date":1365359991,"answer_id":15866250,"question_id":6994518,"body_markdown":"you can write a generic method as (its too late but below code will help you/others)\r\n\r\n    public static FileInputStream getFile(File fileImport) throws IOException {\r\n          FileInputStream fileStream = null;\r\n\t    try {\r\n            PrintWriter writer = new PrintWriter(fileImport);\r\n\t        writer.print(StringUtils.EMPTY);\r\n\t\t\tfileStream = new FileInputStream(fileImport);\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t} finally {\r\n\t\t\t\twriter.close();\r\n\t\t\t}\r\n             return fileStream;\r\n\t}","title":"how to delete the content of text file without deleting itself","body":"<p>you can write a generic method as (its too late but below code will help you/others)</p>\n\n<pre><code>public static FileInputStream getFile(File fileImport) throws IOException {\n      FileInputStream fileStream = null;\n    try {\n        PrintWriter writer = new PrintWriter(fileImport);\n        writer.print(StringUtils.EMPTY);\n        fileStream = new FileInputStream(fileImport);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            writer.close();\n        }\n         return fileStream;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2923782,"reputation":131,"user_id":2505542,"display_name":"Manh Vu"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1371878650,"creation_date":1371737399,"answer_id":17215871,"question_id":6994518,"body_markdown":"Just write:\r\n\r\n    FileOutputStream writer = new FileOutputStream(&quot;file.txt&quot;);","title":"how to delete the content of text file without deleting itself","body":"<p>Just write:</p>\n\n<pre><code>FileOutputStream writer = new FileOutputStream(\"file.txt\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2539140,"reputation":1028,"user_id":2205387,"display_name":"camleng"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1553522755,"creation_date":1387085232,"answer_id":20591502,"question_id":6994518,"body_markdown":"I don&#39;t believe you even have to write an empty string to the file.\r\n\r\n    PrintWriter pw = new PrintWriter(&quot;filepath.txt&quot;);\r\n    pw.close();\r\n\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>I don't believe you even have to write an empty string to the file.</p>\n\n<pre><code>PrintWriter pw = new PrintWriter(\"filepath.txt\");\npw.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":415813,"reputation":3142,"user_id":790839,"display_name":"Anver Sadhat"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1411236630,"creation_date":1411236630,"answer_id":25951843,"question_id":6994518,"body_markdown":"One of the best companion for java is [Apache Projects][1] and please do refer to it. For file related operation you can refer to the [Commons IO][2] project.\r\n\r\nThe Below one line code will help us to make the file empty.\r\n\r\n    FileUtils.write(new File(&quot;/your/file/path&quot;), &quot;&quot;)\r\n\r\n  [1]: https://projects.apache.org/indexes/quick.html\r\n  [2]: http://commons.apache.org/proper/commons-io/","title":"how to delete the content of text file without deleting itself","body":"<p>One of the best companion for java is <a href=\"https://projects.apache.org/indexes/quick.html\" rel=\"noreferrer\">Apache Projects</a> and please do refer to it. For file related operation you can refer to the <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">Commons IO</a> project.</p>\n\n<p>The Below one line code will help us to make the file empty.</p>\n\n<pre><code>FileUtils.write(new File(\"/your/file/path\"), \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5218478,"reputation":809,"user_id":4172628,"accept_rate":83,"display_name":"Revanth Kumar"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1416707123,"creation_date":1416707123,"answer_id":27084707,"question_id":6994518,"body_markdown":"You can use\r\n\r\n    FileWriter fw = new FileWriter(/*your file path*/);\r\n    PrintWriter pw = new PrintWriter(fw);\r\n    pw.write(&quot;&quot;);\r\n    pw.flush(); \r\n    pw.close();\r\n\r\nRemember not to use\r\n\r\n    FileWriter fw = new FileWriter(/*your file path*/,true);\r\n\r\nTrue in the filewriter constructor will enable append.","title":"how to delete the content of text file without deleting itself","body":"<p>You can use</p>\n\n<pre><code>FileWriter fw = new FileWriter(/*your file path*/);\nPrintWriter pw = new PrintWriter(fw);\npw.write(\"\");\npw.flush(); \npw.close();\n</code></pre>\n\n<p>Remember not to use</p>\n\n<pre><code>FileWriter fw = new FileWriter(/*your file path*/,true);\n</code></pre>\n\n<p>True in the filewriter constructor will enable append.</p>\n"},{"tags":[],"owner":{"account_id":4180565,"reputation":987,"user_id":3425729,"display_name":"Sanjay Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1421318982,"creation_date":1421316449,"answer_id":27961011,"question_id":6994518,"body_markdown":"How about below:\r\n    \r\n    File temp = new File(&quot;&lt;your file name&gt;&quot;);\r\n    if (temp.exists()) {\r\n        RandomAccessFile raf = new RandomAccessFile(temp, &quot;rw&quot;);\r\n    \traf.setLength(0);\r\n    }","title":"how to delete the content of text file without deleting itself","body":"<p>How about below:</p>\n\n<pre><code>File temp = new File(\"&lt;your file name&gt;\");\nif (temp.exists()) {\n    RandomAccessFile raf = new RandomAccessFile(temp, \"rw\");\n    raf.setLength(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8231631,"reputation":621,"user_id":6192114,"display_name":"Micha"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1530896700,"creation_date":1460448251,"answer_id":36567143,"question_id":6994518,"body_markdown":"   One liner to make truncate operation:\r\n\r\n    FileChannel.open(Paths.get(&quot;/home/user/file/to/truncate&quot;), StandardOpenOption.WRITE).truncate(0).close();\r\n\r\nMore information available at Java Documentation: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html","title":"how to delete the content of text file without deleting itself","body":"<p>One liner to make truncate operation:</p>\n\n<pre><code>FileChannel.open(Paths.get(\"/home/user/file/to/truncate\"), StandardOpenOption.WRITE).truncate(0).close();\n</code></pre>\n\n<p>More information available at Java Documentation: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html</a></p>\n"},{"tags":[],"owner":{"account_id":9555360,"reputation":474,"user_id":7098036,"display_name":"MarkoPaulo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489376884,"creation_date":1489376884,"answer_id":42756346,"question_id":6994518,"body_markdown":"If you don&#39;t need to use the writer afterwards the shortest and cleanest way to do it would be like that:\r\n\r\n    new FileWriter(&quot;/path/to/your/file.txt&quot;).close();\r\n\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>If you don't need to use the writer afterwards the shortest and cleanest way to do it would be like that:</p>\n\n<pre><code>new FileWriter(\"/path/to/your/file.txt\").close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10520548,"reputation":1,"user_id":7753248,"display_name":"Harpreet Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1511029823,"creation_date":1490210166,"answer_id":42960751,"question_id":6994518,"body_markdown":"&lt;!-- language:javascript --&gt;\r\n\r\n    FileOutputStream fos = openFileOutput(&quot;/*file name like --&gt; one.txt*/&quot;, MODE_PRIVATE);\r\n    FileWriter fw = new FileWriter(fos.getFD());\r\n    fw.write(&quot;&quot;);","title":"how to delete the content of text file without deleting itself","body":"\n\n<pre><code>FileOutputStream fos = openFileOutput(\"/*file name like --&gt; one.txt*/\", MODE_PRIVATE);\nFileWriter fw = new FileWriter(fos.getFD());\nfw.write(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12890438,"reputation":45,"user_id":9322620,"display_name":"Bartek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526482551,"creation_date":1526482551,"answer_id":50374146,"question_id":6994518,"body_markdown":"With try-with-resources writer will be automatically closed:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    final File file = new File(&quot;SomeFile&quot;);\r\n    try (PrintWriter writer = new PrintWriter(file))  {\r\n        writer.print(StringUtils.EMPTY);\t\t\t\t\r\n    }\r\n    // here we can be sure that writer will be closed automatically","title":"how to delete the content of text file without deleting itself","body":"<p>With try-with-resources writer will be automatically closed:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\nfinal File file = new File(\"SomeFile\");\ntry (PrintWriter writer = new PrintWriter(file))  {\n    writer.print(StringUtils.EMPTY);                \n}\n// here we can be sure that writer will be closed automatically\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3520423,"reputation":71,"user_id":3209921,"display_name":"harsha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535276039,"creation_date":1535276039,"answer_id":52024957,"question_id":6994518,"body_markdown":"using : New Java 7 NIO library, try \r\n\r\n            if(!Files.exists(filePath.getParent())) {\r\n\t\t\t\tFiles.createDirectory(filePath.getParent());\r\n\t\t\t}\r\n\t\t\tif(!Files.exists(filePath)) {\r\n\t\t\t\tFiles.createFile(filePath);\r\n\t\t\t}\r\n\t\t\t// Empty the file content\r\n\t\t\twriter = Files.newBufferedWriter(filePath);\r\n\t\t\twriter.write(&quot;&quot;);\r\n\t\t\twriter.flush();\r\n\r\nThe above code checks if Directoty exist if not creates the directory, checks if file exists is yes it writes empty string and flushes the buffer, in the end yo get the writer pointing to empty file\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>using : New Java 7 NIO library, try </p>\n\n<pre><code>        if(!Files.exists(filePath.getParent())) {\n            Files.createDirectory(filePath.getParent());\n        }\n        if(!Files.exists(filePath)) {\n            Files.createFile(filePath);\n        }\n        // Empty the file content\n        writer = Files.newBufferedWriter(filePath);\n        writer.write(\"\");\n        writer.flush();\n</code></pre>\n\n<p>The above code checks if Directoty exist if not creates the directory, checks if file exists is yes it writes empty string and flushes the buffer, in the end yo get the writer pointing to empty file</p>\n"},{"tags":[],"owner":{"display_name":"user9599745"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566832609,"creation_date":1566832609,"answer_id":57660674,"question_id":6994518,"body_markdown":"All you have to do is open file in truncate mode. Any Java file out class will automatically do that for you.","title":"how to delete the content of text file without deleting itself","body":"<p>All you have to do is open file in truncate mode. Any Java file out class will automatically do that for you.</p>\n"}],"owner":{"account_id":328536,"reputation":3743,"user_id":651545,"accept_rate":39,"display_name":"brig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307352,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":6994664,"answer_count":17,"score":98,"last_activity_date":1678821989,"creation_date":1312884475,"question_id":6994518,"body_markdown":"I want to copy the content of file &#39;A&#39; to file &#39;B&#39;.\r\nafter the copying is done I want to clear the content of file &#39;A&#39; and want to write on it from its beginning.\r\nI can&#39;t delete file &#39;A&#39; as it is related to some other task.\r\n\r\n\r\nI was able to copy the content using java&#39;s file API(readLine() ), but don&#39;t know how to clear the content of file and set the file pointer to the beginning of the file.\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>I want to copy the content of file 'A' to file 'B'.\nafter the copying is done I want to clear the content of file 'A' and want to write on it from its beginning.\nI can't delete file 'A' as it is related to some other task.</p>\n\n<p>I was able to copy the content using java's file API(readLine() ), but don't know how to clear the content of file and set the file pointer to the beginning of the file.</p>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":5,"creation_date":1623844566,"post_id":6642146,"comment_id":120192669,"body_markdown":"If someone (like me) encounters this error due to http repository in maven &gt; 3.8.1, something like `maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories:`, refer this: https://stackoverflow.com/q/67001968/6346531","body":"If someone (like me) encounters this error due to http repository in maven &gt; 3.8.1, something like <code>maven-default-http-blocker (http:&#47;&#47;0.0.0.0&#47;): Blocked mirror for repositories:</code>, refer this: <a href=\"https://stackoverflow.com/q/67001968/6346531\">stackoverflow.com/q/67001968/6346531</a>"},{"owner":{"account_id":9265546,"reputation":344,"user_id":7117843,"display_name":"Shreehari"},"score":0,"creation_date":1637125882,"post_id":6642146,"comment_id":123739559,"body_markdown":"@aksh1618 Thanks. That was the resolution for my issue","body":"@aksh1618 Thanks. That was the resolution for my issue"}],"answers":[{"tags":[],"owner":{"account_id":428412,"reputation":13424,"user_id":810720,"display_name":"phlogratos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1310314369,"creation_date":1310314369,"answer_id":6642186,"question_id":6642146,"body_markdown":"You mention two different groupIds, `com.morrislgn.merchandising.common` and `com.johnlewis.jec.webpim.common`. Maybe this is the problem.\r\n ","title":"Maven: Failed to read artifact descriptor","body":"<p>You mention two different groupIds, <code>com.morrislgn.merchandising.common</code> and <code>com.johnlewis.jec.webpim.common</code>. Maybe this is the problem.</p>\n"},{"tags":[],"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1329403434,"creation_date":1329403434,"answer_id":9313265,"question_id":6642146,"body_markdown":"I had the same issue with eclipse where the maven build command line worked just fine BUT \r\ntry this\r\n   \r\n\r\n - go into .m2/repository and wipe the directory associated\r\n - run update maven dependencies in eclipse\r\n\r\nThe error goes away....why my mvn command line worked with those directories and eclipse .m2eclipse could not, I have no idea and it kinda sucks.  My project is now working in eclipse again. ","title":"Maven: Failed to read artifact descriptor","body":"<p>I had the same issue with eclipse where the maven build command line worked just fine BUT \ntry this</p>\n\n<ul>\n<li>go into .m2/repository and wipe the directory associated</li>\n<li>run update maven dependencies in eclipse</li>\n</ul>\n\n<p>The error goes away....why my mvn command line worked with those directories and eclipse .m2eclipse could not, I have no idea and it kinda sucks.  My project is now working in eclipse again. </p>\n"},{"tags":[],"owner":{"account_id":1336520,"reputation":121,"user_id":1279137,"display_name":"17sprints"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1332176909,"creation_date":1332176909,"answer_id":9774588,"question_id":6642146,"body_markdown":"I solved this issue by deleting in the repository folders where this error was shown everything except the .jar and .pom files.","title":"Maven: Failed to read artifact descriptor","body":"<p>I solved this issue by deleting in the repository folders where this error was shown everything except the .jar and .pom files.</p>\n"},{"tags":[],"owner":{"account_id":48221,"reputation":3723,"user_id":143179,"display_name":"eaykin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1332917892,"creation_date":1332768975,"answer_id":9873157,"question_id":6642146,"body_markdown":"&quot;Failed to read artifact descriptor&quot; problems generally indicate a problem with the dependency&#39;s pom file in the maven repository. I would suggest you to double check if the pom file&#39;s name is the same with the name maven expects, and also to check if the pom file contents are valid. ","title":"Maven: Failed to read artifact descriptor","body":"<p>\"Failed to read artifact descriptor\" problems generally indicate a problem with the dependency's pom file in the maven repository. I would suggest you to double check if the pom file's name is the same with the name maven expects, and also to check if the pom file contents are valid. </p>\n"},{"tags":[],"owner":{"account_id":169624,"reputation":19242,"user_id":395804,"accept_rate":76,"display_name":"Gal Bracha"},"down_vote_count":0,"up_vote_count":220,"is_accepted":false,"score":220,"last_activity_date":1551184913,"creation_date":1352740210,"answer_id":13348159,"question_id":6642146,"body_markdown":"You can always try `mvn -U clean install`\r\n\r\n`-U` forces a check for updated releases and snapshots on remote repositories.\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>You can always try <code>mvn -U clean install</code></p>\n\n<p><code>-U</code> forces a check for updated releases and snapshots on remote repositories.</p>\n"},{"tags":[],"owner":{"account_id":403617,"reputation":9613,"user_id":771473,"display_name":"rrs"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1352909611,"creation_date":1352909611,"answer_id":13382634,"question_id":6642146,"body_markdown":"I know I&#39;m pretty late to the conversation, but I had this problem too. I think the issue was my company&#39;s firewall. My solution was to unplug from the network, connect to our open wireless and then force an update via Eclipse. This resolved everything.","title":"Maven: Failed to read artifact descriptor","body":"<p>I know I'm pretty late to the conversation, but I had this problem too. I think the issue was my company's firewall. My solution was to unplug from the network, connect to our open wireless and then force an update via Eclipse. This resolved everything.</p>\n"},{"tags":[],"owner":{"account_id":1668999,"reputation":963,"user_id":1535830,"display_name":"Roshan Khandelwal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1375740665,"creation_date":1375740665,"answer_id":18068641,"question_id":6642146,"body_markdown":"For me , it was related to setting the &quot;User Setting.xml&quot; inside \r\n  \r\n\r\n    Window &gt; preferences &gt; Maven &gt; User Settings &gt; and then browsing to the user Settings inside the { maven unarchived directory / }/apache-maven-2.2.1/conf/settings.xml . \r\n\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>For me , it was related to setting the \"User Setting.xml\" inside </p>\n\n<pre><code>Window &gt; preferences &gt; Maven &gt; User Settings &gt; and then browsing to the user Settings inside the { maven unarchived directory / }/apache-maven-2.2.1/conf/settings.xml . \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1824221,"reputation":3574,"user_id":1657490,"accept_rate":74,"display_name":"Ben Zuill-Smith"},"down_vote_count":1,"up_vote_count":182,"is_accepted":false,"score":181,"last_activity_date":1462236208,"creation_date":1382465687,"answer_id":19525334,"question_id":6642146,"body_markdown":"This problem can occur if you have some child projects that refer to a parent pom and you have not installed from the parent pom directory (run `mvn install` from the parent directory). One of the child projects may depend on a sibling project and when it goes to read the pom of the sibling, it will fail with the error mentioned in the question unless you have installed from the parent pom directory at least once.\r\n\r\nI just ran into this problem when moving a project to a new computer. I was in the habit of running commands from the child project and didn&#39;t run install on the parent.","title":"Maven: Failed to read artifact descriptor","body":"<p>This problem can occur if you have some child projects that refer to a parent pom and you have not installed from the parent pom directory (run <code>mvn install</code> from the parent directory). One of the child projects may depend on a sibling project and when it goes to read the pom of the sibling, it will fail with the error mentioned in the question unless you have installed from the parent pom directory at least once.</p>\n\n<p>I just ran into this problem when moving a project to a new computer. I was in the habit of running commands from the child project and didn't run install on the parent.</p>\n"},{"tags":[],"owner":{"account_id":1577535,"reputation":1048,"user_id":1463629,"accept_rate":50,"display_name":"Kanad"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1492614648,"creation_date":1394718031,"answer_id":22380429,"question_id":6642146,"body_markdown":"I have a project \r\n\r\n     A/\r\n     |--a1\r\n     |--a2\r\n\r\nNow there is another project in our org\r\n\r\n     B/\r\n     |--b1\r\n     |--b2\r\n     |--b3\r\n\r\n(Every module a1, b1 etc. and Parent projects A, B have their own pom.xml as per standard maven rules of parent and child)\r\n\r\nBoth projects are checked out on my local eclipse (from SVN). I am actively working on A. \r\n\r\nI came to know that there is a good common functionality (b4) developed in B and I needed to use it. \r\n\r\n     B/\r\n     |--b1\r\n     |--b2\r\n     |--b3\r\n     |--b4 (NEW)\r\n\r\nDeveloper of b4 have deployed this b4 module as an artifact in our org&#39;s repository. I included the dependancy to my module&#39;s POM i.e. a2&#39;s pom.xml. Eclipse downloaded the reuqired artifact from repo and I could import the classes in it.\r\n\r\nNow issue starts...\r\nI needed to check the source code of b4 for some purpose and as I already had B checked out on my local eclipse I updated it from SVN and checked out module b4. I also ran pom.xml of module b4 with targets like clean, package etc.\r\nAfter some time when I finishedd my coding I needed to create a JAR of my module a2. I ran &quot;package&quot; on a2&#39;s pom.xml and BAM!! errors n errors for a2 module.. These errors were also not very user friendly. Only thing is there was b4&#39;s name for sure in logs.\r\n\r\nSolution:\r\nAfter trying for many solutions for many hours, I ran &quot;mvn -U clean install&quot; from console in my B&#39;s  project directoty (i.e. in ../codebase/B). As B is the parent, clean install command ran for all modules including b4 and it ran successfully. After this I ran &quot;mvn -U clean install&quot; for my parent project which is A. And this worked! a2 module got compiled, installed, (packaged later) succesfully.\r\n\r\nHere important point was if b4 is in your workspace do not only install b4. You will need to clean-install complete B. I came up to this solution after reading answer from **Zuill**\r\n\r\n**EDIT: One more thing here to note that if I didn&#39;t had B project checked out in Local environment then this issue might not have occurred for me. I tend to think that this happened cause I had B checked out in my local workspace.**","title":"Maven: Failed to read artifact descriptor","body":"<p>I have a project </p>\n\n<pre><code> A/\n |--a1\n |--a2\n</code></pre>\n\n<p>Now there is another project in our org</p>\n\n<pre><code> B/\n |--b1\n |--b2\n |--b3\n</code></pre>\n\n<p>(Every module a1, b1 etc. and Parent projects A, B have their own pom.xml as per standard maven rules of parent and child)</p>\n\n<p>Both projects are checked out on my local eclipse (from SVN). I am actively working on A. </p>\n\n<p>I came to know that there is a good common functionality (b4) developed in B and I needed to use it. </p>\n\n<pre><code> B/\n |--b1\n |--b2\n |--b3\n |--b4 (NEW)\n</code></pre>\n\n<p>Developer of b4 have deployed this b4 module as an artifact in our org's repository. I included the dependancy to my module's POM i.e. a2's pom.xml. Eclipse downloaded the reuqired artifact from repo and I could import the classes in it.</p>\n\n<p>Now issue starts...\nI needed to check the source code of b4 for some purpose and as I already had B checked out on my local eclipse I updated it from SVN and checked out module b4. I also ran pom.xml of module b4 with targets like clean, package etc.\nAfter some time when I finishedd my coding I needed to create a JAR of my module a2. I ran \"package\" on a2's pom.xml and BAM!! errors n errors for a2 module.. These errors were also not very user friendly. Only thing is there was b4's name for sure in logs.</p>\n\n<p>Solution:\nAfter trying for many solutions for many hours, I ran \"mvn -U clean install\" from console in my B's  project directoty (i.e. in ../codebase/B). As B is the parent, clean install command ran for all modules including b4 and it ran successfully. After this I ran \"mvn -U clean install\" for my parent project which is A. And this worked! a2 module got compiled, installed, (packaged later) succesfully.</p>\n\n<p>Here important point was if b4 is in your workspace do not only install b4. You will need to clean-install complete B. I came up to this solution after reading answer from <strong>Zuill</strong></p>\n\n<p><strong>EDIT: One more thing here to note that if I didn't had B project checked out in Local environment then this issue might not have occurred for me. I tend to think that this happened cause I had B checked out in my local workspace.</strong></p>\n"},{"tags":[],"owner":{"account_id":2134002,"reputation":8980,"user_id":1894198,"accept_rate":52,"display_name":"tharindu_DG"},"down_vote_count":2,"up_vote_count":42,"is_accepted":false,"score":40,"last_activity_date":1623584190,"creation_date":1415724442,"answer_id":26870020,"question_id":6642146,"body_markdown":"If you&#39;re using Eclipse:\r\n\r\n* *Right click on project &gt; Properties &gt; Maven*\r\n\r\n* Make sure that *Resolve dependencies from workspace projects* is not clicked.\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>If you're using Eclipse:</p>\n<ul>\n<li><p><em>Right click on project &gt; Properties &gt; Maven</em></p>\n</li>\n<li><p>Make sure that <em>Resolve dependencies from workspace projects</em> is not clicked.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2443555,"reputation":638,"user_id":2131439,"display_name":"Maverick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1451896742,"creation_date":1451896380,"answer_id":34587233,"question_id":6642146,"body_markdown":"Reference \r\n[https://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer][1]\r\n\r\n    find ~/.m2  -name &quot;*.lastUpdated&quot; -exec grep -q &quot;Could not transfer&quot; {} \\; -print -exec rm {} \\;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer","title":"Maven: Failed to read artifact descriptor","body":"<p>Reference \n<a href=\"https://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer\">Maven error &quot;Failure to transfer...&quot;</a></p>\n\n<pre><code>find ~/.m2  -name \"*.lastUpdated\" -exec grep -q \"Could not transfer\" {} \\; -print -exec rm {} \\;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4439777,"reputation":3830,"user_id":3614578,"accept_rate":55,"display_name":"gary69"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1460925482,"creation_date":1460925482,"answer_id":36681955,"question_id":6642146,"body_markdown":"I had this problem in eclipse, `mvn -U clean install` didn&#39;t work but right clicking the project and selecting Maven-&gt;Update Project fixed it.","title":"Maven: Failed to read artifact descriptor","body":"<p>I had this problem in eclipse, <code>mvn -U clean install</code> didn't work but right clicking the project and selecting Maven->Update Project fixed it.</p>\n"},{"tags":[],"owner":{"account_id":4886642,"reputation":131,"user_id":3938903,"display_name":"Jose Peralez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464984578,"creation_date":1464983946,"answer_id":37622448,"question_id":6642146,"body_markdown":"I just started using STS Eclipse with first time using Maven. The project I setup already had its own settings.xml. If this is the case, you&#39;ll want to update your settings.xml file in run configuration.\r\n\r\n1. right click the pom.xml and &quot;Run As&quot; -&gt; &quot;Run Configurations...&quot;\r\n\r\n2. where it says &quot;User settings&quot; click on the File button and add the settings.xml.\r\n\r\n3. I think this is specific to your project but my &quot;Goals&quot; is set to &quot;clean install&quot; and I checked on &quot;Skip Tests.&quot;\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>I just started using STS Eclipse with first time using Maven. The project I setup already had its own settings.xml. If this is the case, you'll want to update your settings.xml file in run configuration.</p>\n\n<ol>\n<li><p>right click the pom.xml and \"Run As\" -> \"Run Configurations...\"</p></li>\n<li><p>where it says \"User settings\" click on the File button and add the settings.xml.</p></li>\n<li><p>I think this is specific to your project but my \"Goals\" is set to \"clean install\" and I checked on \"Skip Tests.\"</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":106813,"reputation":12029,"user_id":284364,"accept_rate":83,"display_name":"Phil Rykoff"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1473796792,"creation_date":1473796792,"answer_id":39478097,"question_id":6642146,"body_markdown":"For me, it seems to actually have been a problem with the dependency POM.\r\n\r\nI worked around it by using the jitpack virtual repository, with which you can include github repositories based on their URL instead of their own POM (which seems to have been erroneous in my case).\r\n\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;","title":"Maven: Failed to read artifact descriptor","body":"<p>For me, it seems to actually have been a problem with the dependency POM.</p>\n\n<p>I worked around it by using the jitpack virtual repository, with which you can include github repositories based on their URL instead of their own POM (which seems to have been erroneous in my case).</p>\n\n<pre><code>    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2048817,"reputation":111,"user_id":1828265,"display_name":"sakhoshdel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485502195,"creation_date":1485502195,"answer_id":41888878,"question_id":6642146,"body_markdown":"I had the same problem for a while and despite doing `mvn -U clean install` the problem was not getting solved!\r\n\r\nI finally solved the problem by deleting the whole `.m2` folder and then restarted my IDE and the problem was gone!\r\n\r\nSo sometimes the problem would rise because of some incompatibilities or problems in your local maven repository.","title":"Maven: Failed to read artifact descriptor","body":"<p>I had the same problem for a while and despite doing <code>mvn -U clean install</code> the problem was not getting solved!</p>\n\n<p>I finally solved the problem by deleting the whole <code>.m2</code> folder and then restarted my IDE and the problem was gone!</p>\n\n<p>So sometimes the problem would rise because of some incompatibilities or problems in your local maven repository.</p>\n"},{"tags":[],"owner":{"account_id":2841815,"reputation":1495,"user_id":2441277,"display_name":"IamVickyAV"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1489590604,"creation_date":1489590604,"answer_id":42813668,"question_id":6642146,"body_markdown":"If you are using Eclipse, **Right Click on your Project** -&gt; **Maven** -&gt; **Update Project**. It will open Update Maven Project dialog box. \r\n\r\nIn that dialog box, check **Force Update of Snapshots/Releases** checkbox &amp; click **OK**. (Please refer image below)\r\n\r\n[![Update Maven Project Dialog Box][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gupF2.png\r\n\r\nThis worked for me ! ","title":"Maven: Failed to read artifact descriptor","body":"<p>If you are using Eclipse, <strong>Right Click on your Project</strong> -> <strong>Maven</strong> -> <strong>Update Project</strong>. It will open Update Maven Project dialog box. </p>\n\n<p>In that dialog box, check <strong>Force Update of Snapshots/Releases</strong> checkbox &amp; click <strong>OK</strong>. (Please refer image below)</p>\n\n<p><a href=\"https://i.stack.imgur.com/gupF2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gupF2.png\" alt=\"Update Maven Project Dialog Box\"></a></p>\n\n<p>This worked for me ! </p>\n"},{"tags":[],"owner":{"account_id":2504087,"reputation":509,"user_id":2178360,"display_name":"William"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502473683,"creation_date":1502473683,"answer_id":45641053,"question_id":6642146,"body_markdown":"I had a similar problem.  In my case, the version of testng in my .m2/repositories folder was corrupt, but when I deleted it &amp; did a maven update again, everything worked fine.","title":"Maven: Failed to read artifact descriptor","body":"<p>I had a similar problem.  In my case, the version of testng in my .m2/repositories folder was corrupt, but when I deleted it &amp; did a maven update again, everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"down_vote_count":0,"up_vote_count":143,"is_accepted":false,"score":143,"last_activity_date":1508875242,"creation_date":1502814958,"answer_id":45697349,"question_id":6642146,"body_markdown":"Had the same issue with IntelliJ IDEA and following worked. \r\n\r\n - Go to `File`\r\n - Select `Settings`\r\n - Select `Build, Execution, Deployments`\r\n - Select `Build Tools` from drop down\r\n - Select `Maven` from drop down\r\n - Tick the `Always update snapshots` check box\r\n\r\n[![screen shot of IntelliJ 2017.2 &gt; Preferences/Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Always update snapshots (checkbox)][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NVfCJ.jpg","title":"Maven: Failed to read artifact descriptor","body":"<p>Had the same issue with IntelliJ IDEA and following worked. </p>\n\n<ul>\n<li>Go to <code>File</code></li>\n<li>Select <code>Settings</code></li>\n<li>Select <code>Build, Execution, Deployments</code></li>\n<li>Select <code>Build Tools</code> from drop down</li>\n<li>Select <code>Maven</code> from drop down</li>\n<li>Tick the <code>Always update snapshots</code> check box</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/NVfCJ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NVfCJ.jpg\" alt=\"screen shot of IntelliJ 2017.2 &gt; Preferences/Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Always update snapshots (checkbox)\"></a></p>\n"},{"tags":[],"owner":{"account_id":4243794,"reputation":425,"user_id":3473034,"accept_rate":67,"display_name":"rlopezo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1519848928,"creation_date":1519848928,"answer_id":49037825,"question_id":6642146,"body_markdown":"I had same problem using IntelliJ. I solved with right click on pom.xml &gt; Maven &gt; Reimport","title":"Maven: Failed to read artifact descriptor","body":"<p>I had same problem using IntelliJ. I solved with right click on pom.xml > Maven > Reimport</p>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528464582,"creation_date":1528464582,"answer_id":50761755,"question_id":6642146,"body_markdown":"In our case the error appeared because of the incorrect groupId renaming while some of the projects in multi-module Maven configuration references to others.\r\n\r\nWe had an aggregator project (`billing-parent`) with two modules (`billing-api`, `billing`):\r\n\r\n    com.company.team:billing-parent\r\n    |-com.company.team:billing-api\r\n    |-com.company.team:billing\r\n    \r\nProject `billing` depends on `billing-api`. So in its `pom.xml` it had:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.company.team&lt;/groupId&gt;\r\n        &lt;artifactId&gt;billing-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\nWe decided to rename groupId from `com.company.team` to `com.company.team.billing`. We replaced old value in parent&#39;s `pom.xml` and in `&lt;parent&gt;` sections of both modules. But forgot to update dependency above. So we had got configuration in which `billing` project references old `billing-api` artifact. Eventually it beaks build of the `billing` module after some time with the error like\r\n\r\n```[ERROR] Failed to execute goal on project billing: Could not resolve dependencies for project com.company.team.billing:billing:jar:3.5.1-SNAPSHOT: Failed to collect dependencies at com.company.team:billing-api:jar:3.5.1-SNAPSHOT: Failed to read artifact descriptor for com.company.team:billing-api:jar:3.5.1-SNAPSHOT: Failure to find &lt;parent of the com.company.team:billing-parent project which is not available any more&gt;\r\n```   \r\n \r\ndespite the fact that `billing-api` module builds without errors.\r\n\r\nSolution 1: rename `groupId` in `dependency` as well.\r\n\r\nSolution 2: replace `groupId` by the `${project.groupId}` property like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;billing-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Conclusion.**\r\nSo my advice in case you encountered with the error in multi-module configuration whould be: thoroughly check `groupId` and `artifactId` of the dependencies on neighbour modules.","title":"Maven: Failed to read artifact descriptor","body":"<p>In our case the error appeared because of the incorrect groupId renaming while some of the projects in multi-module Maven configuration references to others.</p>\n\n<p>We had an aggregator project (<code>billing-parent</code>) with two modules (<code>billing-api</code>, <code>billing</code>):</p>\n\n<pre><code>com.company.team:billing-parent\n|-com.company.team:billing-api\n|-com.company.team:billing\n</code></pre>\n\n<p>Project <code>billing</code> depends on <code>billing-api</code>. So in its <code>pom.xml</code> it had:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.company.team&lt;/groupId&gt;\n    &lt;artifactId&gt;billing-api&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>We decided to rename groupId from <code>com.company.team</code> to <code>com.company.team.billing</code>. We replaced old value in parent's <code>pom.xml</code> and in <code>&lt;parent&gt;</code> sections of both modules. But forgot to update dependency above. So we had got configuration in which <code>billing</code> project references old <code>billing-api</code> artifact. Eventually it beaks build of the <code>billing</code> module after some time with the error like</p>\n\n<p><code>[ERROR] Failed to execute goal on project billing: Could not resolve dependencies for project com.company.team.billing:billing:jar:3.5.1-SNAPSHOT: Failed to collect dependencies at com.company.team:billing-api:jar:3.5.1-SNAPSHOT: Failed to read artifact descriptor for com.company.team:billing-api:jar:3.5.1-SNAPSHOT: Failure to find &lt;parent of the com.company.team:billing-parent project which is not available any more&gt;\n</code>   </p>\n\n<p>despite the fact that <code>billing-api</code> module builds without errors.</p>\n\n<p>Solution 1: rename <code>groupId</code> in <code>dependency</code> as well.</p>\n\n<p>Solution 2: replace <code>groupId</code> by the <code>${project.groupId}</code> property like this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n    &lt;artifactId&gt;billing-api&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Conclusion.</strong>\nSo my advice in case you encountered with the error in multi-module configuration whould be: thoroughly check <code>groupId</code> and <code>artifactId</code> of the dependencies on neighbour modules.</p>\n"},{"tags":[],"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536472525,"creation_date":1536472525,"answer_id":52241758,"question_id":6642146,"body_markdown":"This error is basically saying that maven couldn&#39;t read a certain dependency from local repository. It might happend because a jar file didn&#39;t get downloaded correctly. So, go to your maven local repository and make sure there isn&#39;t any **.lastUpdated** extension file.\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>This error is basically saying that maven couldn't read a certain dependency from local repository. It might happend because a jar file didn't get downloaded correctly. So, go to your maven local repository and make sure there isn't any <strong>.lastUpdated</strong> extension file.</p>\n"},{"tags":[],"owner":{"account_id":5640275,"reputation":379,"user_id":4464360,"accept_rate":75,"display_name":"Abhijeet Kale"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1568640904,"creation_date":1558961198,"answer_id":56326414,"question_id":6642146,"body_markdown":"Navigate via shell inside of your project folder and run following command: \r\n\r\n```sh\r\nmvn -U clean install\r\n```\r\n\r\nUsually this should already solve your problem.\r\n\r\nIf you see a message like this:\r\n\r\n&gt; Could not resolve dependencies for project :war:0.0.1-SNAPSHOT: Failed to collect dependencies at com.sun.jersey:jersey-server:jar:1.9\r\n\r\nThen execute:\r\n\r\n```sh\r\nexport MAVEN_OPTS=-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2\r\n```\r\n\r\nfollowed by:\r\n\r\n```sh\r\nmvn -U clean install\r\n```\r\nagain to finally update your dependencies. \r\n\r\nAfterwards perform clean maven build: \r\n\r\n```sh\r\nmaven clean install\r\n```\r\n\r\n\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>Navigate via shell inside of your project folder and run following command: </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mvn -U clean install\n</code></pre>\n\n<p>Usually this should already solve your problem.</p>\n\n<p>If you see a message like this:</p>\n\n<blockquote>\n  <p>Could not resolve dependencies for project :war:0.0.1-SNAPSHOT: Failed to collect dependencies at com.sun.jersey:jersey-server:jar:1.9</p>\n</blockquote>\n\n<p>Then execute:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>export MAVEN_OPTS=-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2\n</code></pre>\n\n<p>followed by:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mvn -U clean install\n</code></pre>\n\n<p>again to finally update your dependencies. </p>\n\n<p>Afterwards perform clean maven build: </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>maven clean install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11960514,"reputation":91,"user_id":8751687,"display_name":"Nhlanhla R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678821933,"creation_date":1587288396,"answer_id":61302123,"question_id":6642146,"body_markdown":"This helped me:\r\n\r\nFrom the IDE (*Red Hat CodeReady Studio* in my case, but [@mavaddat-javid][1] has verified in VS Code 1.77.0).\r\n\r\nWindows -&gt; Show View -&gt; Terminal -&gt; Open/Add local terminal\r\n\r\nRun commands as follows &gt; \r\n\r\n$ `cd /pom-file-path/`\r\n\r\n$ `mvn -U clean install`\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1757756/mavaddat-javid","title":"Maven: Failed to read artifact descriptor","body":"<p>This helped me:</p>\n<p>From the IDE (<em>Red Hat CodeReady Studio</em> in my case, but <a href=\"https://stackoverflow.com/users/1757756/mavaddat-javid\">@mavaddat-javid</a> has verified in VS Code 1.77.0).</p>\n<p>Windows -&gt; Show View -&gt; Terminal -&gt; Open/Add local terminal</p>\n<p>Run commands as follows &gt;</p>\n<p>$ <code>cd /pom-file-path/</code></p>\n<p>$ <code>mvn -U clean install</code></p>\n"},{"tags":[],"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605522873,"creation_date":1605522873,"answer_id":64856402,"question_id":6642146,"body_markdown":"I know I&#39;m brave, nine years after the question...\r\n\r\nFor me it was a problem where sub-dependencies weren&#39;t found. I finally found the real issue by looking at the &quot;Error Log&quot;-view that held a `An internal error occurred during: &quot;Building&quot;.`-line. Double-clicking it showed a pop-up with a stacktrace and the last cause finally disclosed a broken JAR in my local repository. I cleaned that up and Eclipse/m2e was able to work again.","title":"Maven: Failed to read artifact descriptor","body":"<p>I know I'm brave, nine years after the question...</p>\n<p>For me it was a problem where sub-dependencies weren't found. I finally found the real issue by looking at the &quot;Error Log&quot;-view that held a <code>An internal error occurred during: &quot;Building&quot;.</code>-line. Double-clicking it showed a pop-up with a stacktrace and the last cause finally disclosed a broken JAR in my local repository. I cleaned that up and Eclipse/m2e was able to work again.</p>\n"},{"tags":[],"owner":{"account_id":1916343,"reputation":402,"user_id":1728856,"accept_rate":40,"display_name":"Cagin Uludamar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678169293,"creation_date":1678169293,"answer_id":75658526,"question_id":6642146,"body_markdown":"I&#39;ll answer this question because it is the first one goggle finds. In my case, root cause was hidden in the stack trace of the problem:\r\n\r\n    \tFailed to read artifact descriptor for jakarta.activation:jakarta.activation-api:jar:1.2.2\r\n\t\tat org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:255)\r\n\t\t...\r\n\t\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n\tCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: jakarta.activation:jakarta.activation-api:pom:1.2.2 failed to transfer from https://nexus.akbankpreprod.com/repository/maven-public/ during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of maven-public has elapsed or updates are forced. Original error: Could not transfer artifact jakarta.activation:jakarta.activation-api:pom:1.2.2 from/to maven-public (https://nexus.akbankpreprod.com/repository/maven-public/): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n&quot;Original error&quot; section says I need to add my nexus server&#39;s sercurity certificate to jre trust store.","title":"Maven: Failed to read artifact descriptor","body":"<p>I'll answer this question because it is the first one goggle finds. In my case, root cause was hidden in the stack trace of the problem:</p>\n<pre><code>    Failed to read artifact descriptor for jakarta.activation:jakarta.activation-api:jar:1.2.2\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:255)\n    ...\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: jakarta.activation:jakarta.activation-api:pom:1.2.2 failed to transfer from https://nexus.akbankpreprod.com/repository/maven-public/ during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of maven-public has elapsed or updates are forced. Original error: Could not transfer artifact jakarta.activation:jakarta.activation-api:pom:1.2.2 from/to maven-public (https://nexus.akbankpreprod.com/repository/maven-public/): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>&quot;Original error&quot; section says I need to add my nexus server's sercurity certificate to jre trust store.</p>\n"}],"owner":{"account_id":27304,"reputation":3747,"user_id":71936,"accept_rate":59,"display_name":"Morrislgn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":735045,"favorite_count":0,"down_vote_count":0,"up_vote_count":334,"answer_count":25,"score":334,"last_activity_date":1678821933,"creation_date":1310313994,"question_id":6642146,"body_markdown":"I am hoping someone can help me with a problem I am struggling with.\r\n\r\nWhen I try to build my project from the terminal I get this error:\r\n\r\n    Failed to read artifact descriptor for com.morrislgn.merchandising.common:test-data-utils:jar:0.3b-SNAPSHOT: Could not find artifact com.morrislgn.merchandising:merchandising:pom:0.3b-SNAPSHOT\r\n\r\nThe `common.test-data-utils` jar is created by a separate project and shared between this and another project (the other project doesn&#39;t build either, but that is down to another problem). \r\n\r\nI am able to build `com.morrislgn.merchandising.common:test-data-utils` without issue, I can see the entry it makes in the `.m2` local repository on my machine. I have reindexed my repository in Eclipse also. \r\n\r\nThe POM for my project has this entry:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.morrislgn.merchandising.common&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-data-utils&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.3b-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhich appears to be correct to me - the POM doesn&#39;t report any errors either when it is viewed in Eclipse.\r\n\r\nCan some one tell me what I am missing here or doing wrong?","title":"Maven: Failed to read artifact descriptor","body":"<p>I am hoping someone can help me with a problem I am struggling with.</p>\n\n<p>When I try to build my project from the terminal I get this error:</p>\n\n<pre><code>Failed to read artifact descriptor for com.morrislgn.merchandising.common:test-data-utils:jar:0.3b-SNAPSHOT: Could not find artifact com.morrislgn.merchandising:merchandising:pom:0.3b-SNAPSHOT\n</code></pre>\n\n<p>The <code>common.test-data-utils</code> jar is created by a separate project and shared between this and another project (the other project doesn't build either, but that is down to another problem). </p>\n\n<p>I am able to build <code>com.morrislgn.merchandising.common:test-data-utils</code> without issue, I can see the entry it makes in the <code>.m2</code> local repository on my machine. I have reindexed my repository in Eclipse also. </p>\n\n<p>The POM for my project has this entry:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.morrislgn.merchandising.common&lt;/groupId&gt;\n    &lt;artifactId&gt;test-data-utils&lt;/artifactId&gt;\n    &lt;version&gt;0.3b-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Which appears to be correct to me - the POM doesn't report any errors either when it is viewed in Eclipse.</p>\n\n<p>Can some one tell me what I am missing here or doing wrong?</p>\n"},{"tags":["java","audio","mp4","mp4parser"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678836415,"post_id":75737533,"comment_id":133610173,"body_markdown":"*(preferably not ffmpeg, I am having dependency issue)* Can you expand?","body":"<i>(preferably not ffmpeg, I am having dependency issue)</i> Can you expand?"},{"owner":{"account_id":15586107,"reputation":11,"user_id":11244582,"display_name":"mourningraptor3"},"score":0,"creation_date":1678840581,"post_id":75737533,"comment_id":133610762,"body_markdown":"This is being done in an AWS lambda function. I understand that I have to include native libraries in order to use ffmpeg with Java. In addition, I saw different libraries were needed for different platforms using the app. I don&#39;t know exactly how many platforms will use our app. And in any case, I have been having a hard time getting the native libraries included in the lambda file directory","body":"This is being done in an AWS lambda function. I understand that I have to include native libraries in order to use ffmpeg with Java. In addition, I saw different libraries were needed for different platforms using the app. I don&#39;t know exactly how many platforms will use our app. And in any case, I have been having a hard time getting the native libraries included in the lambda file directory"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1679170148,"post_id":75737533,"comment_id":133674773,"body_markdown":"@mourningraptor3 If the problem is a &quot;not working file&quot; why not share a link to a small example? If you can be told what&#39;s wrong with the output video, then you can also know how to fix your code to (possibly) stop the issue","body":"@mourningraptor3 If the problem is a &quot;not working file&quot; why not share a link to a small example? If you can be told what&#39;s wrong with the output video, then you can also know how to fix your code to (possibly) stop the issue"}],"owner":{"account_id":15586107,"reputation":11,"user_id":11244582,"display_name":"mourningraptor3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678821834,"creation_date":1678821834,"question_id":75737533,"body_markdown":"I am trying to remove audio from MP4 files, and then upload the muted version to an S3 bucket. I am doing this using MP4Parser. Some files work, and a muted version uploads as expected. Others upload, but are unviewable. Instead, there is an error screen that says &quot;This video can&#39;t be watch because the file is corrupt.&quot; Files that work, always work, and files that don&#39;t work, never work. Here is the function that removes audio:\r\n\r\n    private static void removeAudioFromVideo(MovieBox movieBox, IsoFile isoFile,\r\n                                              String filePath, String requestId) throws IOException {\r\n         Path path = Paths.get(filePath);\r\n         path = path.getFileName();\r\n         String fileName = path.toString();\r\n\r\n         List&lt;TrackBox&gt; trackBoxesToRemove = new ArrayList&lt;&gt;();\r\n         for (TrackBox trackBox : movieBox.getBoxes(TrackBox.class)) {\r\n             String handlerType = trackBox.getMediaBox().getHandlerBox().getHandlerType();\r\n             if(handlerType.equals(AUDIO_HANDLER_TYPE)) {\r\n                 trackBoxesToRemove.add(trackBox);\r\n             }\r\n         }\r\n         for (TrackBox trackBox : trackBoxesToRemove) {\r\n             movieBox.getBoxes().remove(trackBox);\r\n         }\r\n         ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n         WritableByteChannel byteChannel = Channels.newChannel(outputStream);\r\n         isoFile.getBox(byteChannel);\r\n\r\n         byte[] mutedFileBytes = outputStream.toByteArray();\r\n         ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(mutedFileBytes);\r\n         ObjectMetadata objectMetadata = new ObjectMetadata();\r\n         objectMetadata.setContentLength(mutedFileBytes.length);\r\n\r\n         s3Client.putObject(INPUT_BUCKET_NAME, &quot;input/HFE/&quot;+ requestId\r\n                 + &quot;/refinedVideo/refined_&quot; + fileName, byteArrayInputStream, objectMetadata);\r\n         byteArrayInputStream.close();\r\n         byteChannel.close();\r\n         outputStream.close();\r\n     }\r\n\r\nI know the issue is related to audio removal, because if I remove audio removal, all files get uploaded successfully. The audio is removed in these lines:\r\n\r\n     for (TrackBox trackBox : trackBoxesToRemove) {\r\n         movieBox.getBoxes().remove(trackBox);\r\n     }\r\n\r\nI am not sure how else I can remove audio. It seems like it could be a file issue. I have tried looking at some metadata with FFMPEG, but nothing jumps out as an obvious difference between files that work and files that don&#39;t. I&#39;m also open to other Java libraries for this (preferably not ffmpeg, I am having dependency issue), or a different way to remove audio using MP4Parser, ","title":"Removing audio from MP4 file causes corrupted file","body":"<p>I am trying to remove audio from MP4 files, and then upload the muted version to an S3 bucket. I am doing this using MP4Parser. Some files work, and a muted version uploads as expected. Others upload, but are unviewable. Instead, there is an error screen that says &quot;This video can't be watch because the file is corrupt.&quot; Files that work, always work, and files that don't work, never work. Here is the function that removes audio:</p>\n<pre><code>private static void removeAudioFromVideo(MovieBox movieBox, IsoFile isoFile,\n                                          String filePath, String requestId) throws IOException {\n     Path path = Paths.get(filePath);\n     path = path.getFileName();\n     String fileName = path.toString();\n\n     List&lt;TrackBox&gt; trackBoxesToRemove = new ArrayList&lt;&gt;();\n     for (TrackBox trackBox : movieBox.getBoxes(TrackBox.class)) {\n         String handlerType = trackBox.getMediaBox().getHandlerBox().getHandlerType();\n         if(handlerType.equals(AUDIO_HANDLER_TYPE)) {\n             trackBoxesToRemove.add(trackBox);\n         }\n     }\n     for (TrackBox trackBox : trackBoxesToRemove) {\n         movieBox.getBoxes().remove(trackBox);\n     }\n     ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n     WritableByteChannel byteChannel = Channels.newChannel(outputStream);\n     isoFile.getBox(byteChannel);\n\n     byte[] mutedFileBytes = outputStream.toByteArray();\n     ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(mutedFileBytes);\n     ObjectMetadata objectMetadata = new ObjectMetadata();\n     objectMetadata.setContentLength(mutedFileBytes.length);\n\n     s3Client.putObject(INPUT_BUCKET_NAME, &quot;input/HFE/&quot;+ requestId\n             + &quot;/refinedVideo/refined_&quot; + fileName, byteArrayInputStream, objectMetadata);\n     byteArrayInputStream.close();\n     byteChannel.close();\n     outputStream.close();\n }\n</code></pre>\n<p>I know the issue is related to audio removal, because if I remove audio removal, all files get uploaded successfully. The audio is removed in these lines:</p>\n<pre><code> for (TrackBox trackBox : trackBoxesToRemove) {\n     movieBox.getBoxes().remove(trackBox);\n }\n</code></pre>\n<p>I am not sure how else I can remove audio. It seems like it could be a file issue. I have tried looking at some metadata with FFMPEG, but nothing jumps out as an obvious difference between files that work and files that don't. I'm also open to other Java libraries for this (preferably not ffmpeg, I am having dependency issue), or a different way to remove audio using MP4Parser,</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":0,"creation_date":1418751235,"post_id":27510494,"comment_id":43451204,"body_markdown":"honestly this is not really too clear. pleaes clarify what you need","body":"honestly this is not really too clear. pleaes clarify what you need"},{"owner":{"account_id":2623894,"reputation":720,"user_id":2271351,"accept_rate":100,"display_name":"rousseauo"},"score":0,"creation_date":1418751385,"post_id":27510494,"comment_id":43451277,"body_markdown":"Are you asking why we can use String without import ?\n\nPossible duplicate of : http://stackoverflow.com/questions/7953987/java-string-import","body":"Are you asking why we can use String without import ?  Possible duplicate of : <a href=\"http://stackoverflow.com/questions/7953987/java-string-import\">stackoverflow.com/questions/7953987/java-string-import</a>"},{"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"score":3,"creation_date":1418751425,"post_id":27510494,"comment_id":43451301,"body_markdown":"@rousseauo I don&#39;t see the word import anywhere in that question.","body":"@rousseauo I don&#39;t see the word import anywhere in that question."},{"owner":{"account_id":2623894,"reputation":720,"user_id":2271351,"accept_rate":100,"display_name":"rousseauo"},"score":0,"creation_date":1418751836,"post_id":27510494,"comment_id":43451518,"body_markdown":"@Takendarkk He seems unsure if the String is primitive or not because he does not need to import it. (my guess) Maybe he needs to learn that he doesnt need to define an array because String is an Object, imported by default.","body":"@Takendarkk He seems unsure if the String is primitive or not because he does not need to import it. (my guess) Maybe he needs to learn that he doesnt need to define an array because String is an Object, imported by default."},{"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1418754629,"post_id":27510494,"comment_id":43453095,"body_markdown":"He wants to know why he doesn&#39;t _have_ to use new to make a String object. Why can he use literals even though it&#39;s not a primitive.","body":"He wants to know why he doesn&#39;t <i>have</i> to use new to make a String object. Why can he use literals even though it&#39;s not a primitive."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1418851001,"post_id":27510494,"comment_id":43498313,"body_markdown":"possible duplicate of [Strings are objects in Java, so why don&#39;t we use &#39;new&#39; to create them?](http://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them\">Strings are objects in Java, so why don&#39;t we use &#39;new&#39; to create them?</a>"}],"answers":[{"tags":[],"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418751172,"creation_date":1418751172,"answer_id":27510528,"question_id":27510494,"body_markdown":"Yes String is an object in Java. The fact that it can be used *similar* to primitives does not contradict\r\n\r\nPlease refer - https://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them","title":"In Java, Why String is non-primitive data type?","body":"<p>Yes String is an object in Java. The fact that it can be used <em>similar</em> to primitives does not contradict</p>\n\n<p>Please refer - <a href=\"https://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them\">Strings are objects in Java, so why don&#39;t we use &#39;new&#39; to create them?</a></p>\n"},{"tags":[],"owner":{"account_id":2623894,"reputation":720,"user_id":2271351,"accept_rate":100,"display_name":"rousseauo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1418751948,"creation_date":1418751290,"answer_id":27510558,"question_id":27510494,"body_markdown":"String is a Java Object and not a primitive data type. \r\nString is part of the java.lang package that is imported by default in any java project. \r\n\r\nThere is no need to define an array of char, just use String. \r\n\r\nPossible duplicate: https://stackoverflow.com/questions/7953987/java-string-import","title":"In Java, Why String is non-primitive data type?","body":"<p>String is a Java Object and not a primitive data type. \nString is part of the java.lang package that is imported by default in any java project. </p>\n\n<p>There is no need to define an array of char, just use String. </p>\n\n<p>Possible duplicate: <a href=\"https://stackoverflow.com/questions/7953987/java-string-import\">Java String import</a></p>\n"},{"tags":[],"owner":{"account_id":1501890,"reputation":1892,"user_id":1406264,"accept_rate":96,"display_name":"DRastislav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418751483,"creation_date":1418751483,"answer_id":27510616,"question_id":27510494,"body_markdown":"String is object, is immutable, that means that you cannot change the object itself, but you can change the reference to the object.\r\n\r\nThis is how String works\r\n\r\n    String myStr = &quot;test&quot;;\r\n\r\nThis as usual, creates a string named &quot;test&quot; and assign it a reference &quot;myStr&quot;. \r\n\r\nImportant point to note here is, while the String object is immutable, its reference variable is not.","title":"In Java, Why String is non-primitive data type?","body":"<p>String is object, is immutable, that means that you cannot change the object itself, but you can change the reference to the object.</p>\n\n<p>This is how String works</p>\n\n<pre><code>String myStr = \"test\";\n</code></pre>\n\n<p>This as usual, creates a string named \"test\" and assign it a reference \"myStr\". </p>\n\n<p>Important point to note here is, while the String object is immutable, its reference variable is not.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1418751532,"creation_date":1418751532,"answer_id":27510628,"question_id":27510494,"body_markdown":"The [`String`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html) Javadoc clearly indicates that `String` is a subclass of `Object`; and further [`String.equals(Object)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29) overrides [`Object.equals(Object)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29).\n\n[JLS-3.10.5. String Literals](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5) specifies that\n\n&gt; A *string literal* consists of zero or more characters enclosed in double quotes.\n\nAlso, [JLS-4.3.3. The Class String](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.3) adds\n\n&gt; Instances of class String represent sequences of Unicode code points.\n&gt;\n&gt; A String object has a constant (unchanging) value.\n&gt;\n&gt; String literals ([&#167;3.10.5](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5)) are references to instances of class String.\n&gt;\n&gt; The string concatenation operator + ([&#167;15.18.1](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.1)) implicitly creates a new String object when the result is not a compile-time constant expression ([&#167;15.28](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28)). \n\nIt&#39;s also worth pointing out that arrays are also `Object`(s), and [An Array of Characters is Not a String](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.9). Finally, if a `String` wasn&#39;t an `Object` it couldn&#39;t be `null`.","title":"In Java, Why String is non-primitive data type?","body":"<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"noreferrer\"><code>String</code></a> Javadoc clearly indicates that <code>String</code> is a subclass of <code>Object</code>; and further <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>String.equals(Object)</code></a> overrides <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>Object.equals(Object)</code></a>.</p>\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">JLS-3.10.5. String Literals</a> specifies that</p>\n<blockquote>\n<p>A <em>string literal</em> consists of zero or more characters enclosed in double quotes.</p>\n</blockquote>\n<p>Also, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.3\" rel=\"noreferrer\">JLS-4.3.3. The Class String</a> adds</p>\n<blockquote>\n<p>Instances of class String represent sequences of Unicode code points.</p>\n<p>A String object has a constant (unchanging) value.</p>\n<p>String literals (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">3.10.5</a>) are references to instances of class String.</p>\n<p>The string concatenation operator + (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.1\" rel=\"noreferrer\">15.18.1</a>) implicitly creates a new String object when the result is not a compile-time constant expression (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\" rel=\"noreferrer\">15.28</a>).</p>\n</blockquote>\n<p>It's also worth pointing out that arrays are also <code>Object</code>(s), and <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.9\" rel=\"noreferrer\">An Array of Characters is Not a String</a>. Finally, if a <code>String</code> wasn't an <code>Object</code> it couldn't be <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":1521734,"reputation":3389,"user_id":1421189,"accept_rate":58,"display_name":"Pranalee"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1418751671,"creation_date":1418751671,"answer_id":27510681,"question_id":27510494,"body_markdown":"String is non-primitive because only class can have methods. Primitive can not. And String need many functions to be called upon while processing like substring, indexof, equals, touppercase. It would not have been possible without making it class. \r\n\r\nAlso class has made it possible to make strings immutable and final to enhance security and efficiency by allowing pooling.","title":"In Java, Why String is non-primitive data type?","body":"<p>String is non-primitive because only class can have methods. Primitive can not. And String need many functions to be called upon while processing like substring, indexof, equals, touppercase. It would not have been possible without making it class. </p>\n\n<p>Also class has made it possible to make strings immutable and final to enhance security and efficiency by allowing pooling.</p>\n"},{"tags":[],"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418755357,"creation_date":1418755357,"answer_id":27511722,"question_id":27510494,"body_markdown":"I think you are confusing &#39;primitive&#39; and &#39;literal&#39;. A primitive is a datatype that is not an object. A literal is a  convenient way of describing the bit pattern for a datatype. For instance -1 describes the bit pattern 0xFFFFFFFF for an int,and &#39;a&#39; describes the unicode code point for a lower case A in 16 bits (0x0061). Literals aren&#39;t restricted to describing primitive datatypes. You can describe an array. For instance, `int[] a = {1, 2, 3};`.\r\n\r\nA string literal is just a way of describing an immutable array of characters with some methods attached. The literal is syntactic sugar for describing something that would otherwise be very complicated. For example:\r\n\r\n    String s = &quot;ab&quot;;\r\n\r\nIs much simpler than:\r\n\r\n    char[] c = new char[2];\r\n    c[0] = &#39;a&#39;;\r\n    c[1] = &#39;b&#39;;\r\n    String s = new String(c);\r\n\r\n","title":"In Java, Why String is non-primitive data type?","body":"<p>I think you are confusing 'primitive' and 'literal'. A primitive is a datatype that is not an object. A literal is a  convenient way of describing the bit pattern for a datatype. For instance -1 describes the bit pattern 0xFFFFFFFF for an int,and 'a' describes the unicode code point for a lower case A in 16 bits (0x0061). Literals aren't restricted to describing primitive datatypes. You can describe an array. For instance, <code>int[] a = {1, 2, 3};</code>.</p>\n\n<p>A string literal is just a way of describing an immutable array of characters with some methods attached. The literal is syntactic sugar for describing something that would otherwise be very complicated. For example:</p>\n\n<pre><code>String s = \"ab\";\n</code></pre>\n\n<p>Is much simpler than:</p>\n\n<pre><code>char[] c = new char[2];\nc[0] = 'a';\nc[1] = 'b';\nString s = new String(c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5017803,"reputation":290,"user_id":4032187,"accept_rate":86,"display_name":"Nicholas Eason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418755820,"creation_date":1418755820,"answer_id":27511825,"question_id":27510494,"body_markdown":"In Java, String is an object that stores the location to where the actual &quot;value&quot; of where the String is located.\r\n\r\nYou DO need to use the `new` keyword when making an array of Strings, as you do with making an array of anything else.\r\n\r\n`String[] text = new String[4]`\r\n\r\nThis create&#39;s four String __references__ that lead the computer to where the text is located at. Also, all Strings default to a value of `null` because until you give them a value to store at a memory address, there is nothing to be stored.","title":"In Java, Why String is non-primitive data type?","body":"<p>In Java, String is an object that stores the location to where the actual \"value\" of where the String is located.</p>\n\n<p>You DO need to use the <code>new</code> keyword when making an array of Strings, as you do with making an array of anything else.</p>\n\n<p><code>String[] text = new String[4]</code></p>\n\n<p>This create's four String <strong>references</strong> that lead the computer to where the text is located at. Also, all Strings default to a value of <code>null</code> because until you give them a value to store at a memory address, there is nothing to be stored.</p>\n"},{"tags":[],"owner":{"account_id":10618487,"reputation":1037,"user_id":7820277,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491994461,"creation_date":1491994461,"answer_id":43367575,"question_id":27510494,"body_markdown":"String creats an Object each time you assign a value in its String Pool.\r\nWhere every time if you create a similar object it will look for that and refer, if that value is not there it will again create a new one. Study more on String Pool you will automatically come to know the difference.","title":"In Java, Why String is non-primitive data type?","body":"<p>String creats an Object each time you assign a value in its String Pool.\nWhere every time if you create a similar object it will look for that and refer, if that value is not there it will again create a new one. Study more on String Pool you will automatically come to know the difference.</p>\n"},{"tags":[],"owner":{"account_id":13523589,"reputation":60,"user_id":9756048,"display_name":"Madhusudan Sharma"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1678820499,"creation_date":1526825644,"answer_id":50435703,"question_id":27510494,"body_markdown":"```\r\nString str = This is string literal;\r\n```\r\n\r\nThis is a string literal. When you declare a string like this you are actually calling `intern()` method on `String`.\r\n\r\nThis method references an internal pool of string objects. If there already exists a string value This is string literal, then `str` will reference that string and no new `String` object will be created.\r\n\r\n```\r\nString str = new String(this is string created by new operator);\r\n```\r\n\r\nThis is a string object. The JVM is forced to create a new `String` reference, even if &quot;this is string created by new operator&quot; already exists in the reference pool.\r\n","title":"In Java, Why String is non-primitive data type?","body":"<pre><code>String str = This is string literal;\n</code></pre>\n<p>This is a string literal. When you declare a string like this you are actually calling <code>intern()</code> method on <code>String</code>.</p>\n<p>This method references an internal pool of string objects. If there already exists a string value This is string literal, then <code>str</code> will reference that string and no new <code>String</code> object will be created.</p>\n<pre><code>String str = new String(this is string created by new operator);\n</code></pre>\n<p>This is a string object. The JVM is forced to create a new <code>String</code> reference, even if &quot;this is string created by new operator&quot; already exists in the reference pool.</p>\n"},{"tags":[],"owner":{"account_id":12799126,"reputation":73,"user_id":9260997,"display_name":"R.Nish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559485184,"creation_date":1559485184,"answer_id":56415889,"question_id":27510494,"body_markdown":"1. String is an array of characters\r\n2. Primitive data types have limitations which fixed data type \r\n3. but in strings size is vary so that is the main reason why the the strings are non primitive\r\n4. String in Java is itself is a class and has its own methods to manipulate and operate over object of String class\r\n5. Strings has its own feature that they are immutable.","title":"In Java, Why String is non-primitive data type?","body":"<ol>\n<li>String is an array of characters</li>\n<li>Primitive data types have limitations which fixed data type </li>\n<li>but in strings size is vary so that is the main reason why the the strings are non primitive</li>\n<li>String in Java is itself is a class and has its own methods to manipulate and operate over object of String class</li>\n<li>Strings has its own feature that they are immutable.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19343787,"reputation":21,"user_id":14142765,"display_name":"The master"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612962915,"creation_date":1612962915,"answer_id":66137622,"question_id":27510494,"body_markdown":"Primitive data types are types that don&#39;t have a method. Whereas strings have method e.g. toupper, lowercase etc. In intellij you can check is there is a method or not.\r\n\r\n\r\nthis is showing the methods for the (int) which shows no methods(it is primitive\r\n[![)][1]][1]\r\n\r\n\r\n\r\n\r\n\r\nThis image is showing the (String) which shows methods (it is not primitive)\r\n[![This image is showing the (String) which shows methods (it is not primitive)][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Godjw.png\r\n  [2]: https://i.stack.imgur.com/0UCDf.png","title":"In Java, Why String is non-primitive data type?","body":"<p>Primitive data types are types that don't have a method. Whereas strings have method e.g. toupper, lowercase etc. In intellij you can check is there is a method or not.</p>\n<p>this is showing the methods for the (int) which shows no methods(it is primitive\n<a href=\"https://i.stack.imgur.com/Godjw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Godjw.png\" alt=\")\" /></a></p>\n<p>This image is showing the (String) which shows methods (it is not primitive)\n<a href=\"https://i.stack.imgur.com/0UCDf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0UCDf.png\" alt=\"This image is showing the (String) which shows methods (it is not primitive)\" /></a></p>\n"},{"tags":[],"owner":{"account_id":24041210,"reputation":1,"user_id":18020842,"display_name":"Arymanu Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643050866,"creation_date":1643050866,"answer_id":70839102,"question_id":27510494,"body_markdown":"Because string is actually a group of character (char) datatype. So it is being derived from char datatype. It have its origin datatype i. E. Char but int float chat etc do not have origin type. They are unique. Which is why string is derived datatype\r\n","title":"In Java, Why String is non-primitive data type?","body":"<p>Because string is actually a group of character (char) datatype. So it is being derived from char datatype. It have its origin datatype i. E. Char but int float chat etc do not have origin type. They are unique. Which is why string is derived datatype</p>\n"}],"owner":{"account_id":5496385,"reputation":786,"user_id":4367353,"display_name":"Ank"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29413,"favorite_count":0,"down_vote_count":8,"up_vote_count":15,"accepted_answer_id":50435703,"answer_count":12,"score":7,"last_activity_date":1678820499,"creation_date":1418751046,"question_id":27510494,"body_markdown":"In Java, we can directly use `String` to declare a string variable name and specify its value. We do not have to define the string as an array by using new keyword, even though String is non-primitive data type.\r\n\r\nCan someone please explain why String is non-primitive datatype?","title":"In Java, Why String is non-primitive data type?","body":"<p>In Java, we can directly use <code>String</code> to declare a string variable name and specify its value. We do not have to define the string as an array by using new keyword, even though String is non-primitive data type.</p>\n\n<p>Can someone please explain why String is non-primitive datatype?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1450511702,"post_id":34368589,"comment_id":56479078,"body_markdown":"Use MessageFormat or String.format(). Just store the pattern in the properties file. Note that your getInstance() method above doesn&#39;t make much sense: if I ask a PropertyReader for French, then all the PropertyReaders I&#39;ll get later, for English, Chinese and Spanish, will all be for French.","body":"Use MessageFormat or String.format(). Just store the pattern in the properties file. Note that your getInstance() method above doesn&#39;t make much sense: if I ask a PropertyReader for French, then all the PropertyReaders I&#39;ll get later, for English, Chinese and Spanish, will all be for French."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1450511857,"post_id":34368589,"comment_id":56479112,"body_markdown":"@JBNizet Look more sense to me with your comment so can you please provide any example to make appropriate .","body":"@JBNizet Look more sense to me with your comment so can you please provide any example to make appropriate ."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1450511912,"post_id":34368589,"comment_id":56479124,"body_markdown":"Read the javadoc. It has examples.","body":"Read the javadoc. It has examples."}],"answers":[{"tags":[],"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450511959,"creation_date":1450511875,"answer_id":34368632,"question_id":34368589,"body_markdown":"Check out this tutorial about [Compound Messages:][1]\r\n\r\n\r\nPersonally, I tend to do it with simple\r\n\r\n     bundle.getString(&quot;key&quot;).replace(&quot;{0}&quot;, firstParam);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/i18n/format/messageFormat.html","title":"In Java dynamically add string with properties file message?","body":"<p>Check out this tutorial about <a href=\"https://docs.oracle.com/javase/tutorial/i18n/format/messageFormat.html\" rel=\"nofollow\">Compound Messages:</a></p>\n\n<p>Personally, I tend to do it with simple</p>\n\n<pre><code> bundle.getString(\"key\").replace(\"{0}\", firstParam);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450518403,"creation_date":1450518403,"answer_id":34369356,"question_id":34368589,"body_markdown":"The [&lt;code&gt;java.text.MessageFormat.format(_pattern_, _argument_)&lt;/code&gt;](https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html#format-java.lang.String-java.lang.Object...-) function is designed just for this purpose.\r\n\r\nIn the properties file:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    message.template.entities.associated = Entities {0} are already added in another association\r\n\r\nIn your code:\r\n\r\n    MessageFormat.format(getBundleResourceMessage(&quot;message.template.entities.associated&quot;), appenMessage)\r\n\r\nThis will cause `appenMessage.toString()` to be substituted for the `{0}` placeholder.  The `MessageFormat` class also supports fancier variants of placeholders to support issues that you will encounter in internationalization, such as pluralization and date formatting.","title":"In Java dynamically add string with properties file message?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html#format-java.lang.String-java.lang.Object...-\" rel=\"nofollow\"><code>java.text.MessageFormat.format(<em>pattern</em>, <em>argument</em>)</code></a> function is designed just for this purpose.</p>\n\n<p>In the properties file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>message.template.entities.associated = Entities {0} are already added in another association\n</code></pre>\n\n<p>In your code:</p>\n\n<pre><code>MessageFormat.format(getBundleResourceMessage(\"message.template.entities.associated\"), appenMessage)\n</code></pre>\n\n<p>This will cause <code>appenMessage.toString()</code> to be substituted for the <code>{0}</code> placeholder.  The <code>MessageFormat</code> class also supports fancier variants of placeholders to support issues that you will encounter in internationalization, such as pluralization and date formatting.</p>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2624,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1678820451,"creation_date":1450511452,"question_id":34368589,"body_markdown":"I am able to read the message from properties file where i added all messages with `key/value` pair\r\n\r\n    message.template.success.equipment.create = Equipment template created successfully\r\n    message.template.success.equipment.create.termination = Termination template created successfully\r\n    message.template.success.equipment.update = Equipment template updated successfully\r\n    message.template.success.termination.update = Termination template updated successfully\r\n\r\nfor reading message from the properties file i have create a class with following code\r\n\r\n    public class PropertyReader {\r\n    \r\n    \tprivate static PropertyReader instance = null;\r\n    \tprivate ResourceBundle bundleResource;\r\n    \tprivate ResourceBundle bundleResourceMenu;\r\n    \tprivate ResourceBundle bundleResourceMessage;\r\n    \tprivate static final Logger log = Logger.getLogger(PropertyReader.class);\r\n    \r\n    \tprivate PropertyReader() {}\r\n    \r\n    \tprivate PropertyReader(Locale locale) {\r\n    \t\tlog.info(&quot;Property Reader loading files with locale : &quot;+locale.getLanguage());\r\n    \t\tbundleResourceMenu = ResourceBundle.getBundle(&quot;bsm-portal-menu&quot;,locale);\r\n    \t\tbundleResource = ResourceBundle.getBundle(&quot;bsmResource&quot;,locale);\r\n    \t\tbundleResourceMessage = ResourceBundle.getBundle(&quot;bsm-portal-message&quot;,locale);\r\n    \t\tlog.info(&quot;**** BundleResourceMessage *****&quot;);\r\n    \t \r\n    \t}\r\n    \r\n    \tpublic static synchronized PropertyReader getInstance(Locale locale) {\r\n    \t\tif (instance == null)\r\n    \t\t\tinstance = new PropertyReader(locale);\r\n    \t\treturn instance;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getBundleResource(String propKey) {\r\n    \t\treturn this.bundleResource.getString(propKey);\r\n    \t}\r\n    \r\n    \tpublic String getBundleResourceMenu(String propKey) {\r\n    \t\treturn this.bundleResourceMenu.getString(propKey);\r\n    \t}\r\n    \r\n    \tpublic String getBundleResourceMessage(String propKey) {\r\n    \t\treturn this.bundleResourceMessage.getString(propKey);\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nUpto this everything fine.\r\n\r\nNow I want to make this type of message dynamic \r\n\r\n     message = &quot;Entities &quot; + appenMessage.toString() + &quot; are already added in another association&quot;;\r\n\r\nhere `appenMessage` variable have a dynamically generated String value which I have to append with message. Is it possible to incorporate such kind with properties file ?\r\n\r\n","title":"In Java dynamically add string with properties file message?","body":"<p>I am able to read the message from properties file where i added all messages with <code>key/value</code> pair</p>\n<pre><code>message.template.success.equipment.create = Equipment template created successfully\nmessage.template.success.equipment.create.termination = Termination template created successfully\nmessage.template.success.equipment.update = Equipment template updated successfully\nmessage.template.success.termination.update = Termination template updated successfully\n</code></pre>\n<p>for reading message from the properties file i have create a class with following code</p>\n<pre><code>public class PropertyReader {\n\n    private static PropertyReader instance = null;\n    private ResourceBundle bundleResource;\n    private ResourceBundle bundleResourceMenu;\n    private ResourceBundle bundleResourceMessage;\n    private static final Logger log = Logger.getLogger(PropertyReader.class);\n\n    private PropertyReader() {}\n\n    private PropertyReader(Locale locale) {\n        log.info(&quot;Property Reader loading files with locale : &quot;+locale.getLanguage());\n        bundleResourceMenu = ResourceBundle.getBundle(&quot;bsm-portal-menu&quot;,locale);\n        bundleResource = ResourceBundle.getBundle(&quot;bsmResource&quot;,locale);\n        bundleResourceMessage = ResourceBundle.getBundle(&quot;bsm-portal-message&quot;,locale);\n        log.info(&quot;**** BundleResourceMessage *****&quot;);\n     \n    }\n\n    public static synchronized PropertyReader getInstance(Locale locale) {\n        if (instance == null)\n            instance = new PropertyReader(locale);\n        return instance;\n    }\n\n\n    public String getBundleResource(String propKey) {\n        return this.bundleResource.getString(propKey);\n    }\n\n    public String getBundleResourceMenu(String propKey) {\n        return this.bundleResourceMenu.getString(propKey);\n    }\n\n    public String getBundleResourceMessage(String propKey) {\n        return this.bundleResourceMessage.getString(propKey);\n    }\n\n\n}\n</code></pre>\n<p>Upto this everything fine.</p>\n<p>Now I want to make this type of message dynamic</p>\n<pre><code> message = &quot;Entities &quot; + appenMessage.toString() + &quot; are already added in another association&quot;;\n</code></pre>\n<p>here <code>appenMessage</code> variable have a dynamically generated String value which I have to append with message. Is it possible to incorporate such kind with properties file ?</p>\n"},{"tags":["java","mongodb","spring-boot","unique-index"],"answers":[{"tags":[],"owner":{"account_id":3959431,"reputation":46,"user_id":3266941,"display_name":"Milton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678820264,"creation_date":1678820264,"answer_id":75737320,"question_id":69665399,"body_markdown":"It seems the issue is fixed in the current latest spring boot data MongoDB version (v3.0.4).\r\n\r\nI tested this on my own personal project using Spring Boot v3.0.4 with Java 17/Kotlin, my document class ended up like this:\r\n```\r\n@Document\r\nclass User(@Indexed(unique = true) var username: String) {\r\n\r\n    @Id\r\n    var id: String? = null\r\n\r\n    var name: String? = null\r\n\r\n    var surname: String? = null\r\n}\r\n```\r\nImportant: I did need to add `spring.data.mongodb.auto-index-creation=true` to my application.properties file, only after doing this *and* dropping the collection on MongoDB I got the field actually enforced on my User API.\r\n\r\nIn my case, just after adding all of the above configurations (`@Indexed(unique=true)` and `spring.data.mongodb.auto-index-creation=true`), I started getting the following error when trying to insert a user with the same `username` as an existing one:\r\n```\r\ncurl -v --location &#39;http://localhost:9000/user&#39; \\\r\n--header &#39;Authorization: Bearer &lt;token&gt;&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--data-raw &#39;{\r\n    &quot;username&quot;: &quot;testuser1&quot;,\r\n    &quot;name&quot;: &quot;Test&quot;,\r\n    &quot;surname&quot;: &quot;User 1&quot;\r\n}&#39;\r\n*   Trying 127.0.0.1:9000...\r\n* Connected to localhost (127.0.0.1) port 9000 (#0)\r\n&gt; POST /user HTTP/1.1\r\n&gt; Host: localhost:9000\r\n&gt; User-Agent: curl/7.81.0\r\n&gt; Accept: */*\r\n&gt; Authorization: Bearer &lt;token&gt;\r\n&gt; Content-Type: application/json\r\n&gt; Content-Length: 76\r\n&gt; \r\n* Mark bundle as not supporting multiuse\r\n&lt; HTTP/1.1 409 \r\n&lt; Vary: Origin\r\n&lt; Vary: Access-Control-Request-Method\r\n&lt; Vary: Access-Control-Request-Headers\r\n&lt; X-Content-Type-Options: nosniff\r\n&lt; X-XSS-Protection: 0\r\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n&lt; Pragma: no-cache\r\n&lt; Expires: 0\r\n&lt; X-Frame-Options: DENY\r\n&lt; Content-Type: application/json\r\n&lt; Transfer-Encoding: chunked\r\n&lt; Date: Tue, 14 Mar 2023 18:48:08 GMT\r\n&lt; \r\n* Connection #0 to host localhost left intact\r\n{&quot;cause&quot;:{&quot;cause&quot;:null,&quot;message&quot;:&quot;Write operation error on server localhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate key error collection: test.user index: username dup key: { username: \\&quot;testuser1\\&quot; }&#39;, details={}}.&quot;},&quot;message&quot;:&quot;Write operation error on server localhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate key error collection: test.user index: username dup key: { username: \\&quot;testuser1\\&quot; }&#39;, details={}}.&quot;}\r\n\r\n```\r\nChecking the DB for the records revealed that it indeed restricted and halted the write operation.\r\n\r\nOther versions used on this test:\r\n```\r\nkotlin(&quot;jvm&quot;) - 1.7.22\r\nkotlin(&quot;plugin.spring&quot;) - &quot;1.7.22&quot;\r\n\r\nMongoDB - 4.4.10\r\nUbuntu (host) - 22.04\r\n```","title":"How to enforce unique field with MongoDB in Spring","body":"<p>It seems the issue is fixed in the current latest spring boot data MongoDB version (v3.0.4).</p>\n<p>I tested this on my own personal project using Spring Boot v3.0.4 with Java 17/Kotlin, my document class ended up like this:</p>\n<pre><code>@Document\nclass User(@Indexed(unique = true) var username: String) {\n\n    @Id\n    var id: String? = null\n\n    var name: String? = null\n\n    var surname: String? = null\n}\n</code></pre>\n<p>Important: I did need to add <code>spring.data.mongodb.auto-index-creation=true</code> to my application.properties file, only after doing this <em>and</em> dropping the collection on MongoDB I got the field actually enforced on my User API.</p>\n<p>In my case, just after adding all of the above configurations (<code>@Indexed(unique=true)</code> and <code>spring.data.mongodb.auto-index-creation=true</code>), I started getting the following error when trying to insert a user with the same <code>username</code> as an existing one:</p>\n<pre><code>curl -v --location 'http://localhost:9000/user' \\\n--header 'Authorization: Bearer &lt;token&gt;' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    &quot;username&quot;: &quot;testuser1&quot;,\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;surname&quot;: &quot;User 1&quot;\n}'\n*   Trying 127.0.0.1:9000...\n* Connected to localhost (127.0.0.1) port 9000 (#0)\n&gt; POST /user HTTP/1.1\n&gt; Host: localhost:9000\n&gt; User-Agent: curl/7.81.0\n&gt; Accept: */*\n&gt; Authorization: Bearer &lt;token&gt;\n&gt; Content-Type: application/json\n&gt; Content-Length: 76\n&gt; \n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 409 \n&lt; Vary: Origin\n&lt; Vary: Access-Control-Request-Method\n&lt; Vary: Access-Control-Request-Headers\n&lt; X-Content-Type-Options: nosniff\n&lt; X-XSS-Protection: 0\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; X-Frame-Options: DENY\n&lt; Content-Type: application/json\n&lt; Transfer-Encoding: chunked\n&lt; Date: Tue, 14 Mar 2023 18:48:08 GMT\n&lt; \n* Connection #0 to host localhost left intact\n{&quot;cause&quot;:{&quot;cause&quot;:null,&quot;message&quot;:&quot;Write operation error on server localhost:27017. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: test.user index: username dup key: { username: \\&quot;testuser1\\&quot; }', details={}}.&quot;},&quot;message&quot;:&quot;Write operation error on server localhost:27017. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: test.user index: username dup key: { username: \\&quot;testuser1\\&quot; }', details={}}.&quot;}\n\n</code></pre>\n<p>Checking the DB for the records revealed that it indeed restricted and halted the write operation.</p>\n<p>Other versions used on this test:</p>\n<pre><code>kotlin(&quot;jvm&quot;) - 1.7.22\nkotlin(&quot;plugin.spring&quot;) - &quot;1.7.22&quot;\n\nMongoDB - 4.4.10\nUbuntu (host) - 22.04\n</code></pre>\n"}],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75737320,"answer_count":1,"score":4,"last_activity_date":1678820264,"creation_date":1634832772,"question_id":69665399,"body_markdown":"I have a pojo with two fields that need to be unique, the id and the email. So I added the ```@Indexed(unique = true)``` annotation to the necessary fields like so\r\n```\r\npublic class User {\r\n    @Id\r\n    @Indexed(unique = true)\r\n    private String id;\r\n    @Indexed(unique = true)\r\n    private String email;\r\n    private int money;\r\n```\r\n\r\nI then tested it out and it was not enforced. So I googled about and I found a previous answer here - https://stackoverflow.com/questions/49385130/spring-data-unique-field-in-mongodb-document and subsequently deleted the collection, added ```spring.data.mongodb.auto-index-creation=true``` to my application.properties file and tried again. \r\n\r\nHowever, the unique field still isn&#39;t enforced! I see there is another answer using ```ensureIndex()``` but it also has a great comment that was never answered- ```Why do we need to use the annotation if all the work is done on mongoTemplate?```\r\n\r\nSo since the question is old enough that apparently the only working answer is depreciated (the new way is using ```createIndex()```), I thought it was time for a new version. Is it possible to require a column in a mongo collection to be unique from Spring Boot?","title":"How to enforce unique field with MongoDB in Spring","body":"<p>I have a pojo with two fields that need to be unique, the id and the email. So I added the <code>@Indexed(unique = true)</code> annotation to the necessary fields like so</p>\n<pre><code>public class User {\n    @Id\n    @Indexed(unique = true)\n    private String id;\n    @Indexed(unique = true)\n    private String email;\n    private int money;\n</code></pre>\n<p>I then tested it out and it was not enforced. So I googled about and I found a previous answer here - <a href=\"https://stackoverflow.com/questions/49385130/spring-data-unique-field-in-mongodb-document\">Spring Data: Unique field in MongoDB document</a> and subsequently deleted the collection, added <code>spring.data.mongodb.auto-index-creation=true</code> to my application.properties file and tried again.</p>\n<p>However, the unique field still isn't enforced! I see there is another answer using <code>ensureIndex()</code> but it also has a great comment that was never answered- <code>Why do we need to use the annotation if all the work is done on mongoTemplate?</code></p>\n<p>So since the question is old enough that apparently the only working answer is depreciated (the new way is using <code>createIndex()</code>), I thought it was time for a new version. Is it possible to require a column in a mongo collection to be unique from Spring Boot?</p>\n"},{"tags":["java","annotations","cdi","quarkus"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1678803071,"post_id":75734112,"comment_id":133601472,"body_markdown":"Maybe the annotation type property could be an array?  `@ProcAnnotation(types = { key1, key2 })`","body":"Maybe the annotation type property could be an array?  <code>@ProcAnnotation(types = { key1, key2 })</code>"},{"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"score":0,"creation_date":1678804880,"post_id":75734112,"comment_id":133602083,"body_markdown":"Yes, it could but it doesn&#39;t change anything. I create a `ProcQualifier` that is used in `select` and then CDI iterates over all  instances and then compares arrays ; I&#39;d like it to match if one of the item of the array matches the key.","body":"Yes, it could but it doesn&#39;t change anything. I create a <code>ProcQualifier</code> that is used in <code>select</code> and then CDI iterates over all  instances and then compares arrays ; I&#39;d like it to match if one of the item of the array matches the key."}],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678820169,"creation_date":1678820169,"answer_id":75737304,"question_id":75734112,"body_markdown":"Based on this comment\r\n&gt;I&#39;d like it to match if one of the item of the array matches the key. \r\n\r\nI suggest the following.\r\n\r\nLet&#39;s assume that is a service interface\r\n\r\n```java\r\npublic interface Desired {\r\n    String getFoo();\r\n}\r\n```\r\n\r\nand some implementation\r\n\r\n```java\r\n@Selector(&quot;one&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceOne implements Desired{\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;one&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Selector(&quot;two&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceTwo implements Desired {\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;two&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Selector(&quot;one&quot;)\r\n@Selector(&quot;two&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceOneTwo  implements Desired {\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;one and two&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Selector(&quot;three&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceThree implements Desired {\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;three&quot;;\r\n    }\r\n}\r\n```\r\n```java\r\n@Selector(&quot;four&quot;)\r\n@Selector(&quot;five&quot;)\r\n@Selector(&quot;six&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceFourToSix implements Desired {\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;four or five, maybe six&quot;;\r\n    }\r\n}\r\n```\r\n\r\nIf you want to put an annotation multiple times it should be `@Repeatable`\r\n\r\n```java\r\n@Target({ANNOTATION_TYPE, TYPE_USE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Qualifier\r\n@Repeatable(Selector.List.class) \r\npublic @interface Selector {\r\n    String value();\r\n\r\n    @Target({ANNOTATION_TYPE, TYPE_USE})\r\n    @Retention(RUNTIME)\r\n    public @interface List {\r\n        Selector[] value();\r\n    }\r\n}\r\n```\r\n\r\nand the annotationLiteral is:\r\n\r\n```java\r\nclass SelectorLiteral extends AnnotationLiteral&lt;Selector&gt; implements Selector {\r\n    private final String value;\r\n\r\n    public SelectorLiteral(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public String value() {\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nFrom now there are multiple aproach to select one or more instances.\r\n\r\n```java\r\n@Any\r\n@Inject\r\nInstance&lt;Desired&gt; instances;\r\n```\r\n\r\n```java\r\n// will select and initiate InstanceFourToSix\r\ninstances.select(new SelectorLiteral(&quot;five&quot;)).get();\r\n\r\n// will select and initiate InstanceFourToSix\r\ninstances.select(new SelectorLiteral(&quot;six&quot;)).get();\r\n\r\n// will select and initiate InstanceOneTwo\r\ninstances.select(new SelectorLiteral(&quot;two&quot;),new SelectorLiteral(&quot;one&quot;)).get();\r\n\r\n// will throw javax.enterprise.inject.AmbiguousResolutionException\r\n// because both InstanceOne and InstanceOneTwo is qualified with &#39;two&#39; literal\r\ninstances.select(new SelectorLiteral(&quot;two&quot;)).get();\r\n\r\n// will select both InstanceOne and InstanceOneTwo and call getFoo() method on all selected instances, and so on \r\ninstances.select(new SelectorLiteral(&quot;two&quot;)).stream()\r\n    .map(Desired::getFoo) // all stream operation is also available e.g. filter()\r\n    .forEach(System.out::println);\r\n```\r\n\r\n\r\n","title":"How to dynamically select a bean with multiple annotation","body":"<p>Based on this comment</p>\n<blockquote>\n<p>I'd like it to match if one of the item of the array matches the key.</p>\n</blockquote>\n<p>I suggest the following.</p>\n<p>Let's assume that is a service interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Desired {\n    String getFoo();\n}\n</code></pre>\n<p>and some implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;one&quot;)\n@Dependent\n@Unremovable\npublic class InstanceOne implements Desired{\n    @Override\n    public String getFoo() {\n        return &quot;one&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;two&quot;)\n@Dependent\n@Unremovable\npublic class InstanceTwo implements Desired {\n    @Override\n    public String getFoo() {\n        return &quot;two&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;one&quot;)\n@Selector(&quot;two&quot;)\n@Dependent\n@Unremovable\npublic class InstanceOneTwo  implements Desired {\n    @Override\n    public String getFoo() {\n        return &quot;one and two&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;three&quot;)\n@Dependent\n@Unremovable\npublic class InstanceThree implements Desired {\n    @Override\n    public String getFoo() {\n        return &quot;three&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;four&quot;)\n@Selector(&quot;five&quot;)\n@Selector(&quot;six&quot;)\n@Dependent\n@Unremovable\npublic class InstanceFourToSix implements Desired {\n    @Override\n    public String getFoo() {\n        return &quot;four or five, maybe six&quot;;\n    }\n}\n</code></pre>\n<p>If you want to put an annotation multiple times it should be <code>@Repeatable</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ANNOTATION_TYPE, TYPE_USE})\n@Retention(RetentionPolicy.RUNTIME)\n@Qualifier\n@Repeatable(Selector.List.class) \npublic @interface Selector {\n    String value();\n\n    @Target({ANNOTATION_TYPE, TYPE_USE})\n    @Retention(RUNTIME)\n    public @interface List {\n        Selector[] value();\n    }\n}\n</code></pre>\n<p>and the annotationLiteral is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SelectorLiteral extends AnnotationLiteral&lt;Selector&gt; implements Selector {\n    private final String value;\n\n    public SelectorLiteral(String value) {\n        this.value = value;\n    }\n\n    @Override\n    public String value() {\n        return value;\n    }\n}\n</code></pre>\n<p>From now there are multiple aproach to select one or more instances.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Any\n@Inject\nInstance&lt;Desired&gt; instances;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// will select and initiate InstanceFourToSix\ninstances.select(new SelectorLiteral(&quot;five&quot;)).get();\n\n// will select and initiate InstanceFourToSix\ninstances.select(new SelectorLiteral(&quot;six&quot;)).get();\n\n// will select and initiate InstanceOneTwo\ninstances.select(new SelectorLiteral(&quot;two&quot;),new SelectorLiteral(&quot;one&quot;)).get();\n\n// will throw javax.enterprise.inject.AmbiguousResolutionException\n// because both InstanceOne and InstanceOneTwo is qualified with 'two' literal\ninstances.select(new SelectorLiteral(&quot;two&quot;)).get();\n\n// will select both InstanceOne and InstanceOneTwo and call getFoo() method on all selected instances, and so on \ninstances.select(new SelectorLiteral(&quot;two&quot;)).stream()\n    .map(Desired::getFoo) // all stream operation is also available e.g. filter()\n    .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678820169,"creation_date":1678802173,"question_id":75734112,"body_markdown":"Let&#39;s say I have several processors classes and each processor is able to handle one or two specific keys. I&#39;m reading a file made of csv lines and each line has a key in one of the fields.\r\nThen during the parsing of the file, I&#39;m doing :\r\n```\r\nclass Parser(){\r\n@Inject\r\n    @Any\r\n    Instance&lt;Processsor&gt; processors;\r\n(...)\r\nwhile (null != (text = reader.readLine())) {//let&#39;s say we got a reader before this loop\r\n      String key = getKeyFromLine(text);\r\n      Processsor selectedProc = processors.select(new ProcessorQualifier(key)).get();\r\n      selectedProc.processLine(text);\r\n   }\r\n}\r\n```\r\nProcessorQualifier is like :\r\n```\r\npublic class ProcessorQualifier extends AnnotationLiteral&lt;ProcAnnotation&gt; implements ProcAnnotation {\r\n\tprivate ProcTypeEnum type;\r\n\r\n\tpublic ProcessorQualifier(ProcTypeEnum type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ProcTypeEnum procTypes() {\r\n\t\treturn this.type;\r\n\t}\r\n}\r\n```\r\nThis works perfectly as soon as I have processors with only one Annotation :\r\n```\r\n@ProcAnnotation(type=key1)\r\nclass Key1Processor implements Processor{\r\n    void processLine(String text){\r\n        ...\r\n    }\r\n```\r\nBut if I want my Key1Processor to be selected for key1 **OR** key2 then I don&#39;t know how to do.\r\nIf I put 2 annotations on my class processor : it doesn&#39;t compile \r\n```\r\nDuplicate annotation of non-repeatable type @ProcAnnotation. Only annotation types marked @Repeatable can be used multiple times at one target.\r\n```\r\nthen I created a Repeatable annotation :\r\n```\r\n@Retention(RUNTIME)\r\n@javax.enterprise.inject.Stereotype \r\n@Qualifier\r\n@Target({ TYPE })\r\n@Dependent\r\npublic @interface ProcAnnotations {\r\n\tProcAnnotation[] value();\r\n}\r\n```\r\nBut I&#39;m stuck because I don&#39;t know how to select (`processors.select(???)`) the processor that have one of its key matching the key parsed in text.\r\nBut as far as I can understand `processors.select(new ProcessorQualifier(key))` iterates over all instances of `Processors` and select the one which matches its annotation with `ProcessorQualifier` then the problem is which `ProcessorQualifier` to have/write ? More generally, how to dynamically select a bean by one of its qualifier ?","title":"How to dynamically select a bean with multiple annotation","body":"<p>Let's say I have several processors classes and each processor is able to handle one or two specific keys. I'm reading a file made of csv lines and each line has a key in one of the fields.\nThen during the parsing of the file, I'm doing :</p>\n<pre><code>class Parser(){\n@Inject\n    @Any\n    Instance&lt;Processsor&gt; processors;\n(...)\nwhile (null != (text = reader.readLine())) {//let's say we got a reader before this loop\n      String key = getKeyFromLine(text);\n      Processsor selectedProc = processors.select(new ProcessorQualifier(key)).get();\n      selectedProc.processLine(text);\n   }\n}\n</code></pre>\n<p>ProcessorQualifier is like :</p>\n<pre><code>public class ProcessorQualifier extends AnnotationLiteral&lt;ProcAnnotation&gt; implements ProcAnnotation {\n    private ProcTypeEnum type;\n\n    public ProcessorQualifier(ProcTypeEnum type) {\n        this.type = type;\n    }\n\n    @Override\n    public ProcTypeEnum procTypes() {\n        return this.type;\n    }\n}\n</code></pre>\n<p>This works perfectly as soon as I have processors with only one Annotation :</p>\n<pre><code>@ProcAnnotation(type=key1)\nclass Key1Processor implements Processor{\n    void processLine(String text){\n        ...\n    }\n</code></pre>\n<p>But if I want my Key1Processor to be selected for key1 <strong>OR</strong> key2 then I don't know how to do.\nIf I put 2 annotations on my class processor : it doesn't compile</p>\n<pre><code>Duplicate annotation of non-repeatable type @ProcAnnotation. Only annotation types marked @Repeatable can be used multiple times at one target.\n</code></pre>\n<p>then I created a Repeatable annotation :</p>\n<pre><code>@Retention(RUNTIME)\n@javax.enterprise.inject.Stereotype \n@Qualifier\n@Target({ TYPE })\n@Dependent\npublic @interface ProcAnnotations {\n    ProcAnnotation[] value();\n}\n</code></pre>\n<p>But I'm stuck because I don't know how to select (<code>processors.select(???)</code>) the processor that have one of its key matching the key parsed in text.\nBut as far as I can understand <code>processors.select(new ProcessorQualifier(key))</code> iterates over all instances of <code>Processors</code> and select the one which matches its annotation with <code>ProcessorQualifier</code> then the problem is which <code>ProcessorQualifier</code> to have/write ? More generally, how to dynamically select a bean by one of its qualifier ?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1678818008,"post_id":75736882,"comment_id":133606032,"body_markdown":"Can you also post contents of `Movie` class","body":"Can you also post contents of <code>Movie</code> class"},{"owner":{"account_id":9138696,"reputation":11,"user_id":6797401,"display_name":"Syed Ilhan"},"score":0,"creation_date":1678819429,"post_id":75736882,"comment_id":133606419,"body_markdown":"done, I&#39;ve edited my question to include it","body":"done, I&#39;ve edited my question to include it"}],"owner":{"account_id":9138696,"reputation":11,"user_id":6797401,"display_name":"Syed Ilhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678820075,"creation_date":1678817311,"question_id":75736882,"body_markdown":" - List item\r\n\r\nI&#39;m trying to return a list of json objects in my spring boot application.\r\nThis is the controller,\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/movies&quot;)\r\npublic class MovieController {\r\n\t@Autowired\r\n\tprivate Movieservice movieService;\r\n\t@RequestMapping(&quot;/getMovies&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;Movie&gt;&gt; allMovies() {\r\n\t\treturn new ResponseEntity&lt;List&lt;Movie&gt;&gt;(movieService.allMovies(),HttpStatus.OK);\r\n\t}\r\n}\r\n```\r\n\r\nThis is the service class,\r\n```\r\n\r\n@Service\r\npublic class Movieservice {\r\n\t\r\n\t@Autowired\r\n\tprivate Movierepository movieRepository;\r\n\t\r\n\tpublic List&lt;Movie&gt; allMovies() {\r\n\t\treturn movieRepository.findAll();\r\n\t}\r\n}\r\n```\r\n\r\nThis is the repository interface \r\n```\r\n\r\n@Repository\r\npublic interface Movierepository extends MongoRepository&lt;Movie,ObjectId&gt;{\r\n\t\r\n}\r\n\r\n```\r\nThis is my Movie class\r\n\r\n```\r\n@Document(collection =&quot;Movies&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Movie {\r\n    @Id\r\n    private ObjectId id;\r\n    private String imdbId;\r\n    private String title;\r\n    private String releaseDate;\r\n    private String trailerLink;\r\n    private List&lt;String&gt; genres;\r\n    private String poster;\r\n    private List&lt;String&gt; backdrops;\r\n    @DocumentReference\r\n    private List&lt;Review&gt; reviewIds;\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my Review class \r\n\r\n```\r\n\r\n@Document(collection = &quot;reviews&quot;)\r\n@Data\r\n@AllArgsConstructor \r\n@NoArgsConstructor\r\npublic class Review {\r\n\t@Id\r\n    private ObjectId id;\r\n    private String body;\r\n \r\n}\r\n```\r\n\r\nThis is my output\r\n\r\n```\r\n\r\n[\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{}\r\n]\r\n```\r\n\r\n1) Checked if movie entity class matches mongodb\r\n2) Ensured connection to mongodb is right","title":"Empty objects returned in response entity","body":"<ul>\n<li>List item</li>\n</ul>\n<p>I'm trying to return a list of json objects in my spring boot application.\nThis is the controller,</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/movies&quot;)\npublic class MovieController {\n    @Autowired\n    private Movieservice movieService;\n    @RequestMapping(&quot;/getMovies&quot;)\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; allMovies() {\n        return new ResponseEntity&lt;List&lt;Movie&gt;&gt;(movieService.allMovies(),HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>This is the service class,</p>\n<pre><code>\n@Service\npublic class Movieservice {\n    \n    @Autowired\n    private Movierepository movieRepository;\n    \n    public List&lt;Movie&gt; allMovies() {\n        return movieRepository.findAll();\n    }\n}\n</code></pre>\n<p>This is the repository interface</p>\n<pre><code>\n@Repository\npublic interface Movierepository extends MongoRepository&lt;Movie,ObjectId&gt;{\n    \n}\n\n</code></pre>\n<p>This is my Movie class</p>\n<pre><code>@Document(collection =&quot;Movies&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Movie {\n    @Id\n    private ObjectId id;\n    private String imdbId;\n    private String title;\n    private String releaseDate;\n    private String trailerLink;\n    private List&lt;String&gt; genres;\n    private String poster;\n    private List&lt;String&gt; backdrops;\n    @DocumentReference\n    private List&lt;Review&gt; reviewIds;\n\n}\n\n</code></pre>\n<p>This is my Review class</p>\n<pre><code>\n@Document(collection = &quot;reviews&quot;)\n@Data\n@AllArgsConstructor \n@NoArgsConstructor\npublic class Review {\n    @Id\n    private ObjectId id;\n    private String body;\n \n}\n</code></pre>\n<p>This is my output</p>\n<pre><code>\n[\n{},\n{},\n{},\n{},\n{},\n{},\n{},\n{},\n{},\n{}\n]\n</code></pre>\n<ol>\n<li>Checked if movie entity class matches mongodb</li>\n<li>Ensured connection to mongodb is right</li>\n</ol>\n"},{"tags":["java","spring-data-jpa","functional-testing","testcontainers"],"comments":[{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1672921674,"post_id":75000123,"comment_id":132384389,"body_markdown":"Use the mechanisms you would normally use to interact with the database from within your Java/Spring application. You can also directly use Testcontainers (https://www.testcontainers.org/modules/databases/), which provides helper functions that make this even easier for simple use cases.","body":"Use the mechanisms you would normally use to interact with the database from within your Java/Spring application. You can also directly use Testcontainers (<a href=\"https://www.testcontainers.org/modules/databases/\" rel=\"nofollow noreferrer\">testcontainers.org/modules/databases</a>), which provides helper functions that make this even easier for simple use cases."}],"answers":[{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678819993,"creation_date":1678819993,"answer_id":75737278,"question_id":75000123,"body_markdown":"Postgres offers a special location where scripts can be located in order to initialize the database. You can do the following:\r\n\r\n```java\r\nPostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15.2-alpine&quot;)\r\n   .withCopyFileToContainer(MountableFile.forClasspathResource(&quot;init-db.sql&quot;), &quot;/docker-entrypoint-initdb.d/&quot;);\r\n```\r\n\r\n`init-db.sql` should be at `src/test/resources`\r\n\r\nFor more info read https://testcontainers.com/guides/configuration-of-services-running-in-container/#_initializing_the_container_by_copying_files_into_it","title":"How to insert into the database booted in the test container in my junit testing code","body":"<p>Postgres offers a special location where scripts can be located in order to initialize the database. You can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15.2-alpine&quot;)\n   .withCopyFileToContainer(MountableFile.forClasspathResource(&quot;init-db.sql&quot;), &quot;/docker-entrypoint-initdb.d/&quot;);\n</code></pre>\n<p><code>init-db.sql</code> should be at <code>src/test/resources</code></p>\n<p>For more info read <a href=\"https://testcontainers.com/guides/configuration-of-services-running-in-container/#_initializing_the_container_by_copying_files_into_it\" rel=\"nofollow noreferrer\">https://testcontainers.com/guides/configuration-of-services-running-in-container/#_initializing_the_container_by_copying_files_into_it</a></p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678819993,"creation_date":1672795317,"question_id":75000123,"body_markdown":"I have the following code in the docker-compose.yml file to have a database started in my test container (the exposed port is dynamic). \r\n\r\n \r\n\r\n     postgres:\r\n        image: my-proxy.jfrog.io/postgres:12\r\n        ports:\r\n          - &quot;5432&quot;\r\n        environment:\r\n          POSTGRES_DB: myTestingDB\r\n          POSTGRES_USER: username\r\n          POSTGRES_PASSWORD: password\r\n\r\nNow, to have my functional testing done, I need to insert some records in the junit testing code before trigger the call. How should I do that?","title":"How to insert into the database booted in the test container in my junit testing code","body":"<p>I have the following code in the docker-compose.yml file to have a database started in my test container (the exposed port is dynamic).</p>\n<pre><code> postgres:\n    image: my-proxy.jfrog.io/postgres:12\n    ports:\n      - &quot;5432&quot;\n    environment:\n      POSTGRES_DB: myTestingDB\n      POSTGRES_USER: username\n      POSTGRES_PASSWORD: password\n</code></pre>\n<p>Now, to have my functional testing done, I need to insert some records in the junit testing code before trigger the call. How should I do that?</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1678584604,"post_id":75710575,"comment_id":133561975,"body_markdown":"`line = scnr.nextLine();` that reads one line. You don&#39;t need `lineWords` after that. You only read one line. Also, `List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);`","body":"<code>line = scnr.nextLine();</code> that reads one line. You don&#39;t need <code>lineWords</code> after that. You only read one line. Also, <code>List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1678585498,"post_id":75710575,"comment_id":133562046,"body_markdown":":  `String[] words = new String[0];` Why do you want an array of no elements?  What is the code for your `concatenate` method? Does it create a new array each time? If so, that doesn&#39;t seem efficient. Better to start with an oversized array, keep track of the number of elements actually in use, and expand the array when it is discovered to be too small. Consider using an [`ArrayList`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html) instead of an array, because `ArrayList` does that.","body":":  <code>String[] words = new String[0];</code> Why do you want an array of no elements?  What is the code for your <code>concatenate</code> method? Does it create a new array each time? If so, that doesn&#39;t seem efficient. Better to start with an oversized array, keep track of the number of elements actually in use, and expand the array when it is discovered to be too small. Consider using an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> instead of an array, because <code>ArrayList</code> does that."},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1678586501,"post_id":75710575,"comment_id":133562131,"body_markdown":"Thank you you two! The line List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8); was really useful!\n\nI didn&#39;t know about these methods.","body":"Thank you you two! The line List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8); was really useful!  I didn&#39;t know about these methods."}],"answers":[{"tags":[],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678819821,"creation_date":1678819821,"answer_id":75737252,"question_id":75710575,"body_markdown":"In case this is useful for anyone in the future. This is how I implemented the solution in the comments (I didn&#39;t keep using array lists because I barely know how to use them and the deadline was encroaching forward to even start learning that now):\r\n\r\n```java\r\n    public static void main(String[] args) throws IOException {\r\n        NumberFormat formatter = NumberFormat.getNumberInstance(Locale.US); // formats the amount of nanoseconds displayed\r\n\r\n        List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8); // reads txt file and stores it in an array list\r\n  \r\n        String[] transformed = words.toArray(new String[words.size()]); // transforms array list into a String array...\r\n        String[] wordsToSort = transformed.clone(); // makes a copy to safely change it in the future...\r\n  \r\n        // Testing Sorting algorithms......\r\n```\r\n\r\nThis line `List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);` stores more than 600000 elements into an array list in one sitting. In this way, you do not need a loop to store them all one-by-one.","title":"How can I store more than one word inside a txt file into a String in one sitting?","body":"<p>In case this is useful for anyone in the future. This is how I implemented the solution in the comments (I didn't keep using array lists because I barely know how to use them and the deadline was encroaching forward to even start learning that now):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws IOException {\n        NumberFormat formatter = NumberFormat.getNumberInstance(Locale.US); // formats the amount of nanoseconds displayed\n\n        List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8); // reads txt file and stores it in an array list\n  \n        String[] transformed = words.toArray(new String[words.size()]); // transforms array list into a String array...\n        String[] wordsToSort = transformed.clone(); // makes a copy to safely change it in the future...\n  \n        // Testing Sorting algorithms......\n</code></pre>\n<p>This line <code>List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);</code> stores more than 600000 elements into an array list in one sitting. In this way, you do not need a loop to store them all one-by-one.</p>\n"}],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75737252,"answer_count":1,"score":0,"last_activity_date":1678819821,"creation_date":1678584221,"question_id":75710575,"body_markdown":"So I have a really long list of words inside a txt called `dictionary.txt`. It has one word, then it skips to a new line and has the next one as follows:\r\n\r\n```\r\npriceably\r\nsouthwesterly\r\nsemipapal\r\ngenuine\r\ncardiotoxicities\r\nshoeman\r\nUtahan\r\nungeodetically\r\nSchurman\r\n...\r\n```\r\n\r\nI am still struggling to find a way to store them all in an array of Strings without having to do it one by one.\r\n\r\n\r\nThis is what I got so far:\r\n\r\n```java\r\n        String[] words = new String[0];\r\n        int i = 0;\r\n  \r\n        try\r\n        {\r\n            Scanner scnr = new Scanner(new File(&quot;dictionary.txt&quot;));\r\n            String line;\r\n            while (scnr.hasNext())\r\n            {\r\n              line = scnr.nextLine();\r\n              String[] lineWords = line.split(&quot;\\r?\\n|\\r&quot;); \r\n              words = concatenate(words, lineWords);\r\n            }\r\n            scnr.close();\r\n        } \r\n```\r\n\r\nHow can I optimize this better so that the program finishes this process faster?","title":"How can I store more than one word inside a txt file into a String in one sitting?","body":"<p>So I have a really long list of words inside a txt called <code>dictionary.txt</code>. It has one word, then it skips to a new line and has the next one as follows:</p>\n<pre><code>priceably\nsouthwesterly\nsemipapal\ngenuine\ncardiotoxicities\nshoeman\nUtahan\nungeodetically\nSchurman\n...\n</code></pre>\n<p>I am still struggling to find a way to store them all in an array of Strings without having to do it one by one.</p>\n<p>This is what I got so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String[] words = new String[0];\n        int i = 0;\n  \n        try\n        {\n            Scanner scnr = new Scanner(new File(&quot;dictionary.txt&quot;));\n            String line;\n            while (scnr.hasNext())\n            {\n              line = scnr.nextLine();\n              String[] lineWords = line.split(&quot;\\r?\\n|\\r&quot;); \n              words = concatenate(words, lineWords);\n            }\n            scnr.close();\n        } \n</code></pre>\n<p>How can I optimize this better so that the program finishes this process faster?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":10264819,"reputation":6925,"user_id":7575111,"accept_rate":75,"display_name":"NullDev"},"score":1,"creation_date":1678804485,"post_id":75734532,"comment_id":133601936,"body_markdown":"a.) what have you tried so far? can you show any code? b.) you tagged both java and javascript. which one is it?","body":"a.) what have you tried so far? can you show any code? b.) you tagged both java and javascript. which one is it?"},{"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"score":1,"creation_date":1678804541,"post_id":75734532,"comment_id":133601959,"body_markdown":"llook up https://en.wikipedia.org/wiki/K-means_clustering ;-)","body":"llook up <a href=\"https://en.wikipedia.org/wiki/K-means_clustering\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/K-means_clustering</a> ;-)"},{"owner":{"account_id":17591270,"reputation":21,"user_id":12763086,"display_name":"dean734"},"score":0,"creation_date":1678804618,"post_id":75734532,"comment_id":133601994,"body_markdown":"I removed JS code though both would work for us. I didn&#39;t write any code yet as I feel I&#39;m missing something very basic and it&#39;s not as simple as I make it. Will write my solution shortly if it helps.","body":"I removed JS code though both would work for us. I didn&#39;t write any code yet as I feel I&#39;m missing something very basic and it&#39;s not as simple as I make it. Will write my solution shortly if it helps."},{"owner":{"account_id":17591270,"reputation":21,"user_id":12763086,"display_name":"dean734"},"score":0,"creation_date":1678804843,"post_id":75734532,"comment_id":133602070,"body_markdown":"@MBobrik Yes, I&#39;ve seen that which is why I feel I&#39;m missing something basic here with my solution which is far from np-hard...","body":"@MBobrik Yes, I&#39;ve seen that which is why I feel I&#39;m missing something basic here with my solution which is far from np-hard..."},{"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"score":1,"creation_date":1678804991,"post_id":75734532,"comment_id":133602125,"body_markdown":"quote &quot;The problem is computationally difficult (NP-hard); however, *efficient heuristic algorithms converge quickly to a local optimum*.&quot; ... so you basically got one of those heuristic solutions.","body":"quote &quot;The problem is computationally difficult (NP-hard); however, <i>efficient heuristic algorithms converge quickly to a local optimum</i>.&quot; ... so you basically got one of those heuristic solutions."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1678817255,"post_id":75734532,"comment_id":133605826,"body_markdown":"@MBobrik No, in one dimension this is NOT NP-hard. In 2 dimensions it is.","body":"@MBobrik No, in one dimension this is NOT NP-hard. In 2 dimensions it is."},{"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"score":0,"creation_date":1678828363,"post_id":75734532,"comment_id":133608749,"body_markdown":"@btilly to be honest, never thought about the 1D special case in detail - but never mind, others did - just found this one https://stackoverflow.com/questions/11513484/1d-number-array-clustering","body":"@btilly to be honest, never thought about the 1D special case in detail - but never mind, others did - just found this one <a href=\"https://stackoverflow.com/questions/11513484/1d-number-array-clustering\" title=\"1d number array clustering\">stackoverflow.com/questions/11513484/1d-number-array-cluster&zwnj;&#8203;ing</a>"}],"answers":[{"tags":[],"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678806091,"creation_date":1678806091,"answer_id":75734877,"question_id":75734532,"body_markdown":"The idea of sorting first is correct. Then you have to create K groups from the sorted array, which you can do as following: If there is any deviation you can play around the &quot;border elements&quot; of each group to make the result better.\r\n\r\nFor example: N=16, K=3. Now there are some possible outcomes. First group 5 memebers, second group 6 members and last group again 5 members, but there are other possibilties to create your groups. Now you need to find and evaluate all the possibilities, and pick out the best one. For example, if shape [5,5,6] is better than shape [5,6,5] you move the last element (&quot;border element&quot;) from the second group into the third group.\r\n\r\nIf there is no deviation at all, for example N=100, K=10, there is only one possibility you can choose, and that is the best one in this case.","title":"Splitting a list of N values into K groups/clusters with minimal standard deviation within each group","body":"<p>The idea of sorting first is correct. Then you have to create K groups from the sorted array, which you can do as following: If there is any deviation you can play around the &quot;border elements&quot; of each group to make the result better.</p>\n<p>For example: N=16, K=3. Now there are some possible outcomes. First group 5 memebers, second group 6 members and last group again 5 members, but there are other possibilties to create your groups. Now you need to find and evaluate all the possibilities, and pick out the best one. For example, if shape [5,5,6] is better than shape [5,6,5] you move the last element (&quot;border element&quot;) from the second group into the third group.</p>\n<p>If there is no deviation at all, for example N=100, K=10, there is only one possibility you can choose, and that is the best one in this case.</p>\n"},{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678819680,"creation_date":1678819680,"answer_id":75737228,"question_id":75734532,"body_markdown":"You are missing a complication.\r\n\r\nSuppose that `k` is even and `n = 2.5*k`.  Then half your groups are of size 2 and half of size 3.  With a na&#239;ve approach, you have to consider the `k choose 2 = O(2^k / sqrt(k))` possible ways to decide which are of size 2 and which are of size 3.  This will take exponential time.\r\n\r\nLet `m` be the group size, rounded down.  Then the optimal division of the first `i` items into `j` groups will be to have either `m` elements in the last group and divide the first `i-m` items into `j-1` groups, or to have `m+1` elements in the last group and divide the first `i-m-1` items into `j-1` groups.  You can calculate that with a recursive function which returns a pair for `(cost, linkedListOfChoices)`.\r\n\r\nAdd a caching layer to that recursion and it will run in polynomial time.  This is called top-down dynamic programming.\r\n\r\nGoing from your optimal `linkedListOfChoices` for dividing the whole list into `k` groups to the actual groups should be straightforward.  Here is an example.\r\n\r\nSuppose we want to divide `[0.1, 0.2, 0.4, 0.5, 0.6, 0.8, 0.9, 1.0, 2.1, 2.3]` into `4` groups.  You should get a linked list corresponding to (but maybe with a very different representation):\r\n\r\n    [8, 9,\r\n        [5, 7,\r\n            [2, 4,\r\n                [0, 1,\r\n                    null]]]]]\r\n\r\nFrom which your groups (read inside out, turn indices back into numbers) are:\r\n\r\n    [[0.1, 0.2], [0.4, 0.5, 0.6], [0.8, 0.9, 1.0], [2.1, 2.3]]","title":"Splitting a list of N values into K groups/clusters with minimal standard deviation within each group","body":"<p>You are missing a complication.</p>\n<p>Suppose that <code>k</code> is even and <code>n = 2.5*k</code>.  Then half your groups are of size 2 and half of size 3.  With a nave approach, you have to consider the <code>k choose 2 = O(2^k / sqrt(k))</code> possible ways to decide which are of size 2 and which are of size 3.  This will take exponential time.</p>\n<p>Let <code>m</code> be the group size, rounded down.  Then the optimal division of the first <code>i</code> items into <code>j</code> groups will be to have either <code>m</code> elements in the last group and divide the first <code>i-m</code> items into <code>j-1</code> groups, or to have <code>m+1</code> elements in the last group and divide the first <code>i-m-1</code> items into <code>j-1</code> groups.  You can calculate that with a recursive function which returns a pair for <code>(cost, linkedListOfChoices)</code>.</p>\n<p>Add a caching layer to that recursion and it will run in polynomial time.  This is called top-down dynamic programming.</p>\n<p>Going from your optimal <code>linkedListOfChoices</code> for dividing the whole list into <code>k</code> groups to the actual groups should be straightforward.  Here is an example.</p>\n<p>Suppose we want to divide <code>[0.1, 0.2, 0.4, 0.5, 0.6, 0.8, 0.9, 1.0, 2.1, 2.3]</code> into <code>4</code> groups.  You should get a linked list corresponding to (but maybe with a very different representation):</p>\n<pre><code>[8, 9,\n    [5, 7,\n        [2, 4,\n            [0, 1,\n                null]]]]]\n</code></pre>\n<p>From which your groups (read inside out, turn indices back into numbers) are:</p>\n<pre><code>[[0.1, 0.2], [0.4, 0.5, 0.6], [0.8, 0.9, 1.0], [2.1, 2.3]]\n</code></pre>\n"}],"owner":{"account_id":17591270,"reputation":21,"user_id":12763086,"display_name":"dean734"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678819680,"creation_date":1678804330,"question_id":75734532,"body_markdown":"Need to split a list of positive values into a K groups. The groups should be almost equal in size (number of values), but the values of items in each group have the minimal standard deviation. (Think grouping products by similar pricing).\r\n\r\nI was thinking sort the values, then split by order into K groups gets me very close and then only if the groups sizes aren&#39;t all equals do one-pass to see if the extra items moved from one group to the next creates a better result.\r\nBut I feel like I&#39;m missing something big here and it should be more complicated than that.\r\n","title":"Splitting a list of N values into K groups/clusters with minimal standard deviation within each group","body":"<p>Need to split a list of positive values into a K groups. The groups should be almost equal in size (number of values), but the values of items in each group have the minimal standard deviation. (Think grouping products by similar pricing).</p>\n<p>I was thinking sort the values, then split by order into K groups gets me very close and then only if the groups sizes aren't all equals do one-pass to see if the extra items moved from one group to the next creates a better result.\nBut I feel like I'm missing something big here and it should be more complicated than that.</p>\n"},{"tags":["java","kotlin","dialog","message","toast"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1678818492,"post_id":75736977,"comment_id":133606174,"body_markdown":"Use a snackbar.","body":"Use a snackbar."},{"owner":{"account_id":10021932,"reputation":1,"user_id":7411360,"display_name":"Rodrigo Zid"},"score":0,"creation_date":1678819426,"post_id":75736977,"comment_id":133606417,"body_markdown":"The idea is not to use snackbars or toasts or dialogs. This message must be immovable and must appear every certain number of times the app is opened.","body":"The idea is not to use snackbars or toasts or dialogs. This message must be immovable and must appear every certain number of times the app is opened."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678863454,"post_id":75736977,"comment_id":133613562,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":10021932,"reputation":1,"user_id":7411360,"display_name":"Rodrigo Zid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678819456,"creation_date":1678817985,"question_id":75736977,"body_markdown":"Does anyone know how to create a closable message like the one in the image in Kotlin?\r\n\r\nThe idea is not to use snackbars or toasts or dialogs. This message must be immovable and must appear every certain number of times the app is opened.\r\n\r\n[Image](https://i.stack.imgur.com/RmtQq.jpg)\r\n\r\nI need to create a sticky and closable message that can be added in the main activity of an android application.","title":"Creating a sticky and closable message in the bottom of the activity (kotlin/java)","body":"<p>Does anyone know how to create a closable message like the one in the image in Kotlin?</p>\n<p>The idea is not to use snackbars or toasts or dialogs. This message must be immovable and must appear every certain number of times the app is opened.</p>\n<p><a href=\"https://i.stack.imgur.com/RmtQq.jpg\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>I need to create a sticky and closable message that can be added in the main activity of an android application.</p>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1655050229,"post_id":72591540,"comment_id":128233271,"body_markdown":"For the `TIMESTAMP WITH TIME ZONE` type, Postgres *always* stores the values in UTC, and returns the values in UTC. By in UTC, I mean an offset from UTC of zero hours-minutes-seconds. If you see a value retrieved from a Postgres column of that type with an offset other than zero, then your tooling or middleware changed the value retrieved from Postgres.","body":"For the <code>TIMESTAMP WITH TIME ZONE</code> type, Postgres <i>always</i> stores the values in UTC, and returns the values in UTC. By in UTC, I mean an offset from UTC of zero hours-minutes-seconds. If you see a value retrieved from a Postgres column of that type with an offset other than zero, then your tooling or middleware changed the value retrieved from Postgres."},{"owner":{"account_id":4794024,"reputation":373,"user_id":3872452,"accept_rate":58,"display_name":"Levijatanu"},"score":0,"creation_date":1655052812,"post_id":72591540,"comment_id":128233846,"body_markdown":"Hm.. this is not the case I get 2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Product.createAt: 2022-06-12T08:19:26+02:00. I have hibernate - latest SpringBoot ... nothing in middle","body":"Hm.. this is not the case I get 2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Product.createAt: 2022-06-12T08:19:26+02:00. I have hibernate - latest SpringBoot ... nothing in middle"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1655058742,"post_id":72591540,"comment_id":128235131,"body_markdown":"I have hibernate - latest SpringBoot  so you have *much* in the middle. Write a throwaway app that does nothing more than make a simple JDBC connection to retrieve an `OffsetDateTime` object from your `TIMESTAMP WITH TIME ZONE` column. No Spring, no Hibernate, no ORM, no database framework. Youll see an offset of zero.","body":"I have hibernate - latest SpringBoot  so you have <i>much</i> in the middle. Write a throwaway app that does nothing more than make a simple JDBC connection to retrieve an <code>OffsetDateTime</code> object from your <code>TIMESTAMP WITH TIME ZONE</code> column. No Spring, no Hibernate, no ORM, no database framework. Youll see an offset of zero."}],"answers":[{"tags":[],"owner":{"account_id":3051490,"reputation":66,"user_id":2585930,"display_name":"cliff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678818705,"creation_date":1678818705,"answer_id":75737079,"question_id":72591540,"body_markdown":"This is not direct answer to your question but it can helps with your problem.\r\n\r\nYou may try Hibernate 6 with new approach for working with `OffsetDateTime`\r\n\r\nFirst of all you need to add column for storing offsets.\r\n\r\n```sql\r\n-- the old one with time zone\r\ncreated_at  TIMESTAMP WITH TIME ZONE NOT NULL\r\n-- and the new one\r\ncreated_at_tz_offset INTEGER NOT NULL\r\n```\r\n\r\nAnd then change your entity to\r\n\r\n```java\r\n@Column(name = &quot;created_at&quot;)\r\n@NotNull\r\n@TimeZoneStorage(TimeZoneStorageType.COLUMN)\r\n@TimeZoneColumn(name = &quot;created_at_tz_offset&quot;)  \r\nprivate OffsetDateTime createdAt;\r\n```\r\n\r\nAfter that `OffsetDateTime` value will not depends on your JVM timezone or PostgreSQL timezone it will be the same for different timezones.\r\n\r\nmore information is this article [Improved OffsetDateTime and ZonedDateTime Mapping in Hibernate 6][1]\r\n\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-6-offsetdatetime-and-zoneddatetime/","title":"JPA Fetcing OffsetDateTime with ZoneOffset - hibernate detects change on field on save","body":"<p>This is not direct answer to your question but it can helps with your problem.</p>\n<p>You may try Hibernate 6 with new approach for working with <code>OffsetDateTime</code></p>\n<p>First of all you need to add column for storing offsets.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- the old one with time zone\ncreated_at  TIMESTAMP WITH TIME ZONE NOT NULL\n-- and the new one\ncreated_at_tz_offset INTEGER NOT NULL\n</code></pre>\n<p>And then change your entity to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;created_at&quot;)\n@NotNull\n@TimeZoneStorage(TimeZoneStorageType.COLUMN)\n@TimeZoneColumn(name = &quot;created_at_tz_offset&quot;)  \nprivate OffsetDateTime createdAt;\n</code></pre>\n<p>After that <code>OffsetDateTime</code> value will not depends on your JVM timezone or PostgreSQL timezone it will be the same for different timezones.</p>\n<p>more information is this article <a href=\"https://thorben-janssen.com/hibernate-6-offsetdatetime-and-zoneddatetime/\" rel=\"nofollow noreferrer\">Improved OffsetDateTime and ZonedDateTime Mapping in Hibernate 6</a></p>\n"}],"owner":{"account_id":4794024,"reputation":373,"user_id":3872452,"accept_rate":58,"display_name":"Levijatanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678818705,"creation_date":1655031300,"question_id":72591540,"body_markdown":"I have a Postgres table with a column **created_at** that keeps triggering updates of row.\r\n\r\n    created_at  TIMESTAMP WITH TIME ZONE NOT NULL\r\nIn Product entity bean: \r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    @NotNull\r\n    private OffsetDateTime createdAt;\r\n\r\nValue in JSON:\r\n\r\n    batchProduct/createdAt in JSON: 2022-06-12T06:19:26Z\r\n\r\nMap to entity using OffsetDateTime.parse:\r\n   \r\n\r\n    product.setCreatedAt(OffsetDateTime.parse(batchProduct.getCreatedAt()));\r\n\r\n\r\nWhen loading multiple time same object(CreatedAt) from same JSON ( **2022-06-12T06:19:26Z**)\r\nhibernate detects change I presume because the database returns the value with offset of my time zone\r\n( **2022-06-12T08:19:26+02:00**). This is the same point in time just representation is \r\ndifferent database has +02:00 and hour is diffrent. Equal is working fine I have tested it:\r\n   \r\n\r\n    if(product.getCreatedAt().equals(OffsetDateTime.parse(batchProduct.getCreatedAt()))){\r\n           log.info(&quot;Product.createAt: &quot; + product.getCreatedAt());\r\n           log.info(&quot;BatchProduct.createAt: &quot; + OffsetDateTime.parse(batchProduct.getCreatedAt()));\r\n        } else {\r\n            log.info(&quot;Product.createAt: &quot; + product.getCreatedAt());\r\n            log.info(&quot;BatchProduct.createAt: &quot; + OffsetDateTime.parse(batchProduct.getCreatedAt()));\r\n            log.info(&quot;Objects are equals&quot;);\r\n        }\r\n\r\n    2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Product.createAt: 2022-06-12T08:19:26+02:00\r\n    2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - BatchProduct.createAt: 2022-06-12T06:19:26Z\r\n    2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Objects are equals\r\n\r\nWhen I save the same object over and over it always triggers an update of the row in the database ( and values in DB are the same), when I comment setCreatedAt ( there are many more attributes) DB is not updated ( hibernate detects this is the same object) and this is wanted behavior. \r\n\r\nThe question is: how is Hibernate checking if the OffsetDateTime is equal because it keeps triggering updates of entity for same OffsetDateTime?\r\n\r\n\r\n","title":"JPA Fetcing OffsetDateTime with ZoneOffset - hibernate detects change on field on save","body":"<p>I have a Postgres table with a column <strong>created_at</strong> that keeps triggering updates of row.</p>\n<pre><code>created_at  TIMESTAMP WITH TIME ZONE NOT NULL\n</code></pre>\n<p>In Product entity bean:</p>\n<pre><code>@Column(name = &quot;created_at&quot;)\n@NotNull\nprivate OffsetDateTime createdAt;\n</code></pre>\n<p>Value in JSON:</p>\n<pre><code>batchProduct/createdAt in JSON: 2022-06-12T06:19:26Z\n</code></pre>\n<p>Map to entity using OffsetDateTime.parse:</p>\n<pre><code>product.setCreatedAt(OffsetDateTime.parse(batchProduct.getCreatedAt()));\n</code></pre>\n<p>When loading multiple time same object(CreatedAt) from same JSON ( <strong>2022-06-12T06:19:26Z</strong>)\nhibernate detects change I presume because the database returns the value with offset of my time zone\n( <strong>2022-06-12T08:19:26+02:00</strong>). This is the same point in time just representation is\ndifferent database has +02:00 and hour is diffrent. Equal is working fine I have tested it:</p>\n<pre><code>if(product.getCreatedAt().equals(OffsetDateTime.parse(batchProduct.getCreatedAt()))){\n       log.info(&quot;Product.createAt: &quot; + product.getCreatedAt());\n       log.info(&quot;BatchProduct.createAt: &quot; + OffsetDateTime.parse(batchProduct.getCreatedAt()));\n    } else {\n        log.info(&quot;Product.createAt: &quot; + product.getCreatedAt());\n        log.info(&quot;BatchProduct.createAt: &quot; + OffsetDateTime.parse(batchProduct.getCreatedAt()));\n        log.info(&quot;Objects are equals&quot;);\n    }\n\n2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Product.createAt: 2022-06-12T08:19:26+02:00\n2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - BatchProduct.createAt: 2022-06-12T06:19:26Z\n2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Objects are equals\n</code></pre>\n<p>When I save the same object over and over it always triggers an update of the row in the database ( and values in DB are the same), when I comment setCreatedAt ( there are many more attributes) DB is not updated ( hibernate detects this is the same object) and this is wanted behavior.</p>\n<p>The question is: how is Hibernate checking if the OffsetDateTime is equal because it keeps triggering updates of entity for same OffsetDateTime?</p>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"account_id":6552102,"reputation":2093,"user_id":5750389,"display_name":"Elias Fazel"},"score":0,"creation_date":1678805846,"post_id":75734246,"comment_id":133602408,"body_markdown":"why do you need to get several API Key? you just let users sign in and authenticate their account. then let them use your app. Anyway you can try this; https://stackoverflow.com/questions/31342359/dynamically-set-googleapi-key","body":"why do you need to get several API Key? you just let users sign in and authenticate their account. then let them use your app. Anyway you can try this; <a href=\"https://stackoverflow.com/questions/31342359/dynamically-set-googleapi-key\" title=\"dynamically set googleapi key\">stackoverflow.com/questions/31342359/&hellip;</a>"},{"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"score":0,"creation_date":1678813440,"post_id":75734246,"comment_id":133604804,"body_markdown":"This same app will be distributed to different clients. We cant charge them for maps usage. They will set their own key and use it","body":"This same app will be distributed to different clients. We cant charge them for maps usage. They will set their own key and use it"},{"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"score":0,"creation_date":1678813620,"post_id":75734246,"comment_id":133604861,"body_markdown":"The link you gave me is for Web but i need android java code to set api key before initialization","body":"The link you gave me is for Web but i need android java code to set api key before initialization"},{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1678849616,"post_id":75734246,"comment_id":133611847,"body_markdown":"You only need YOUR own API key on your app. Your users should not be required to have an API key if they want to use your app with Google Maps API.","body":"You only need YOUR own API key on your app. Your users should not be required to have an API key if they want to use your app with Google Maps API."},{"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"score":0,"creation_date":1678854309,"post_id":75734246,"comment_id":133612337,"body_markdown":"if i use my api key i have to pay the usage cost right ?","body":"if i use my api key i have to pay the usage cost right ?"}],"answers":[{"tags":[],"owner":{"account_id":16568940,"reputation":21,"user_id":11972693,"display_name":"Ryad Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678807070,"creation_date":1678807070,"answer_id":75735062,"question_id":75734246,"body_markdown":"What I can suggest to you is that in your StartActivity (Launcher activity) make a REST call to your server to get the MAPS key and then store it in SharedPreferences to use it everywhere in the app.\r\n\r\nImportant : make sure to handle errors when getting the key especially in the first run of the app.","title":"Change android app google map api key dynamically?","body":"<p>What I can suggest to you is that in your StartActivity (Launcher activity) make a REST call to your server to get the MAPS key and then store it in SharedPreferences to use it everywhere in the app.</p>\n<p>Important : make sure to handle errors when getting the key especially in the first run of the app.</p>\n"},{"tags":[],"owner":{"account_id":8668089,"reputation":1,"user_id":6487832,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678818471,"creation_date":1678818471,"answer_id":75737051,"question_id":75734246,"body_markdown":"This can be accomplished using android flavors, you can create a new flavor for each client, this means that you can have a separate strings.xml for each flavor and have different values for the map API key strings,\r\n\r\n&lt;string name=&quot;MAPS_API_KEY_STRINGS&quot;&gt;MAPS_API_KEYS_FLAVOR_1&lt;/string&gt;\r\n\r\n&lt;string name=&quot;MAPS_API_KEY_STRINGS&quot;&gt;MAPS_API_KEYS_FLAVOR_2&lt;/string&gt;\r\n\r\nThis value will be picked up in the manifest when the app is built. \r\nUnsure, if this will solve your problem, but this is how i solved it in my own whitelabeled app, with different clients and we charged them for maps API cost.","title":"Change android app google map api key dynamically?","body":"<p>This can be accomplished using android flavors, you can create a new flavor for each client, this means that you can have a separate strings.xml for each flavor and have different values for the map API key strings,</p>\n<p>MAPS_API_KEYS_FLAVOR_1</p>\n<p>MAPS_API_KEYS_FLAVOR_2</p>\n<p>This value will be picked up in the manifest when the app is built.\nUnsure, if this will solve your problem, but this is how i solved it in my own whitelabeled app, with different clients and we charged them for maps API cost.</p>\n"}],"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1678818471,"creation_date":1678802840,"question_id":75734246,"body_markdown":"My android App written in java android studio. My app is connected to our server for getting data and customizing.\r\nI need to get Google map api key dynamically based on user account signed in to our server.\r\nWhen building app I don&#39;t want to provide api key. User have to set it in server then I get it and use it in app.\r\n\r\nHow to do this pls Help \r\n\r\n\r\nI already tried adding in build config. But it cant update dynamically after building.","title":"Change android app google map api key dynamically?","body":"<p>My android App written in java android studio. My app is connected to our server for getting data and customizing.\nI need to get Google map api key dynamically based on user account signed in to our server.\nWhen building app I don't want to provide api key. User have to set it in server then I get it and use it in app.</p>\n<p>How to do this pls Help</p>\n<p>I already tried adding in build config. But it cant update dynamically after building.</p>\n"},{"tags":["java","treemap","comparable"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1678797206,"post_id":75733112,"comment_id":133599599,"body_markdown":"I definitely recommend you do not use `Date` and `SimpleDateFormat`. Those class are poorly designed and long outdated, the latter in particular notoriously troublesome. Use `LocalDateTime` or another appropriate class from [java.time. the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"I definitely recommend you do not use <code>Date</code> and <code>SimpleDateFormat</code>. Those class are poorly designed and long outdated, the latter in particular notoriously troublesome. Use <code>LocalDateTime</code> or another appropriate class from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time. the modern Java date and time API</a>."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":2,"creation_date":1678797307,"post_id":75733112,"comment_id":133599624,"body_markdown":"At first `10L` is a value in that map instead of a key. Use `items.containsValue(10L)` to check if vaule does contain in that map or chance key-value order.\nFinally, could you provide any piece of code your endeavour to solve the problem?","body":"At first <code>10L</code> is a value in that map instead of a key. Use <code>items.containsValue(10L)</code> to check if vaule does contain in that map or chance key-value order. Finally, could you provide any piece of code your endeavour to solve the problem?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678797365,"post_id":75733112,"comment_id":133599643,"body_markdown":"No, what you ask is not possible. You may want to use two maps, for example a `HashMap&lt;Id, Index&gt;` and a `TreeMap&lt;LocalDateTime, &lt;Collection&lt;Index&gt;&gt;`.","body":"No, what you ask is not possible. You may want to use two maps, for example a <code>HashMap&lt;Id, Index&gt;</code> and a <code>TreeMap&lt;LocalDateTime, &lt;Collection&lt;Index&gt;&gt;</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678927668,"post_id":75733112,"comment_id":133629974,"body_markdown":"Do you just want to be able to access a date by a particular integer number? If so, you are working *much* too hard. I find your Question impossible to comprehend.","body":"Do you just want to be able to access a date by a particular integer number? If so, you are working <i>much</i> too hard. I find your Question impossible to comprehend."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678818384,"creation_date":1678818384,"answer_id":75737036,"question_id":75733112,"body_markdown":"This is a good case for making your own container class, instead of relying directly on a Map:\r\n\r\n    public class IndexSet {\r\n        private final Map&lt;Long, Index&gt; indexes = new HashMap&lt;&gt;();\r\n\r\n        public boolean contains(long id) {\r\n            return indexes.containsKey(id);\r\n        }\r\n\r\n        public Index get(long id) {\r\n            return indexes.get(id);\r\n        }\r\n\r\n        public void add(Index index) {\r\n            return indexes.put(index.getId(), index);\r\n        }\r\n\r\n        public List&lt;Index&gt; allByDate() {\r\n            List&lt;Index&gt; list = new ArrayList&lt;&gt;(indexes.values());\r\n            list.sort(Comparator.comparing(Index::getDate));\r\n            return list;\r\n        }\r\n    }\r\n","title":"Java TreeMap with custom class (Long, Date) as Key to sort by Date, but put/get by Long","body":"<p>This is a good case for making your own container class, instead of relying directly on a Map:</p>\n<pre><code>public class IndexSet {\n    private final Map&lt;Long, Index&gt; indexes = new HashMap&lt;&gt;();\n\n    public boolean contains(long id) {\n        return indexes.containsKey(id);\n    }\n\n    public Index get(long id) {\n        return indexes.get(id);\n    }\n\n    public void add(Index index) {\n        return indexes.put(index.getId(), index);\n    }\n\n    public List&lt;Index&gt; allByDate() {\n        List&lt;Index&gt; list = new ArrayList&lt;&gt;(indexes.values());\n        list.sort(Comparator.comparing(Index::getDate));\n        return list;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3948726,"reputation":101,"user_id":3260127,"accept_rate":100,"display_name":"Nolias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678818384,"creation_date":1678796775,"question_id":75733112,"body_markdown":"I have a specific problem. I need to create a map of objects identified by a custom Index class consisting of two fields: Long id and Date date. Is it possible to make TreeMap sorted by the date field, but have .containsKey check the id field?\r\n\r\n```lang-java\r\npublic class Index implements Comparable&lt;Index&gt; {\r\n    public Long id;\r\n\tpublic Date date;\r\n\r\n\tpublic Index(Long id, Date date) {\r\n\t\tthis.id = id;\r\n\t\tthis. Date = date;\r\n\t}\r\n\t\r\n    @Override\r\n\tpublic int compareTo(Index i) {\r\n\t\treturn date.compareTo(i.date);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Boolean equals(Object o) {\r\n\t\tif (o instanceof Index) {\r\n\t\t\tIndex i = (Index) o;\r\n\t\t\treturn id.equals(i.id);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\nAnd code:\r\n```lang-java\r\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\nMap&lt;Index,Object&gt; items = new TreeMap&lt;&gt;();\r\nitems.put(new Index(10L, formatter.parse(&quot;2023-03-14 10:00&quot;)), 10L);\r\nitems.put(new Index(20L, formatter.parse(&quot;2023-03-14 08:00&quot;)), 20L);\r\n```\r\n\r\nAnd what I want to achieve is:\r\n1. items.containsKey(10L) should check if there is an Index object with id == 10L.\r\n1. items.put should work normally, so that Index objects can be added normally.\r\n1. items should be sorted by the date field in the Index object, so the 20L will be the first item, and 10L will be the second item.","title":"Java TreeMap with custom class (Long, Date) as Key to sort by Date, but put/get by Long","body":"<p>I have a specific problem. I need to create a map of objects identified by a custom Index class consisting of two fields: Long id and Date date. Is it possible to make TreeMap sorted by the date field, but have .containsKey check the id field?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Index implements Comparable&lt;Index&gt; {\n    public Long id;\n    public Date date;\n\n    public Index(Long id, Date date) {\n        this.id = id;\n        this. Date = date;\n    }\n    \n    @Override\n    public int compareTo(Index i) {\n        return date.compareTo(i.date);\n    }\n\n    @Override\n    public Boolean equals(Object o) {\n        if (o instanceof Index) {\n            Index i = (Index) o;\n            return id.equals(i.id);\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>And code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\nMap&lt;Index,Object&gt; items = new TreeMap&lt;&gt;();\nitems.put(new Index(10L, formatter.parse(&quot;2023-03-14 10:00&quot;)), 10L);\nitems.put(new Index(20L, formatter.parse(&quot;2023-03-14 08:00&quot;)), 20L);\n</code></pre>\n<p>And what I want to achieve is:</p>\n<ol>\n<li>items.containsKey(10L) should check if there is an Index object with id == 10L.</li>\n<li>items.put should work normally, so that Index objects can be added normally.</li>\n<li>items should be sorted by the date field in the Index object, so the 20L will be the first item, and 10L will be the second item.</li>\n</ol>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1678814519,"post_id":75736310,"comment_id":133605074,"body_markdown":"*I basically understand what&#39;s wrong in my code* We don&#39;t. You need to tell us. Why do you think it is necessary to prescribe a condition? Why are loops useless here? What are you trying to do? Because we do not know.","body":"<i>I basically understand what&#39;s wrong in my code</i> We don&#39;t. You need to tell us. Why do you think it is necessary to prescribe a condition? Why are loops useless here? What are you trying to do? Because we do not know."},{"owner":{"account_id":27201667,"reputation":1,"user_id":20733837,"display_name":"Andrew"},"score":0,"creation_date":1678817409,"post_id":75736310,"comment_id":133605863,"body_markdown":"The essence of the application is that when you click on the button, my number either increases by 1 or decreases by 1. Cycles in my opinion are useless, for example for. I create a range i &lt; 100 (i = 0) and it immediately outputs 100. The while cycle will work the same way. Is it rational to write a solution through case?","body":"The essence of the application is that when you click on the button, my number either increases by 1 or decreases by 1. Cycles in my opinion are useless, for example for. I create a range i &lt; 100 (i = 0) and it immediately outputs 100. The while cycle will work the same way. Is it rational to write a solution through case?"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678818102,"creation_date":1678818102,"answer_id":75736991,"question_id":75736310,"body_markdown":"Now that I understand what you&#39;re asking, I can help you. In your `onClick` method you need to first attempt to parse the existing value from `txtTime1`, `txtTime2` and `txtTime3`. Then check which button was clicked. Then perform your range validations. And finally set the value back to the text fields. Something like,\r\n\r\n\tpublic void onClick(View view) {\r\n\t\tint value1 = 0;\r\n\t\ttry {\r\n\t\t\tvalue1 = Integer.parseInt(txtTime1.getText());\r\n\t\t} catch (NumberFormatException nfe) {\r\n\t\t}\r\n\t\tint value2 = 0;\r\n\t\ttry {\r\n\t\t\tvalue2 = Integer.parseInt(txtTime2.getText());\r\n\t\t} catch (NumberFormatException nfe) {\r\n\t\t}\r\n\t\tint value3 = 0;\r\n\t\ttry {\r\n\t\t\tvalue3 = Integer.parseInt(txtTime3.getText());\r\n\t\t} catch (NumberFormatException nfe) {\r\n\t\t}\r\n\t\tswitch (view.getId()) {\r\n\t\tcase R.id.btn11:\r\n\t\t\tvalue1 += 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn12:\r\n\t\t\tvalue1 -= 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn21:\r\n\t\t\tvalue2 += 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn22:\r\n\t\t\tvalue2 -= 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn31:\r\n\t\t\tvalue3 += 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn32:\r\n\t\t\tvalue3 -= 1;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tvalue1 = Integer.min(100, value1);\r\n\t\tvalue1 = Integer.max(0, value1);\r\n\t\tvalue2 = Integer.min(100, value2);\r\n\t\tvalue2 = Integer.max(0, value2);\r\n\t\tvalue3 = Integer.min(100, value3);\r\n\t\tvalue3 = Integer.max(0, value3);\r\n\t\ttxtTime1.setText(String.valueOf(value1));\r\n\t\ttxtTime2.setText(String.valueOf(value2));\r\n\t\ttxtTime3.setText(String.valueOf(value3));\r\n\t}\r\n","title":"What condition should I write to make everything work","body":"<p>Now that I understand what you're asking, I can help you. In your <code>onClick</code> method you need to first attempt to parse the existing value from <code>txtTime1</code>, <code>txtTime2</code> and <code>txtTime3</code>. Then check which button was clicked. Then perform your range validations. And finally set the value back to the text fields. Something like,</p>\n<pre><code>public void onClick(View view) {\n    int value1 = 0;\n    try {\n        value1 = Integer.parseInt(txtTime1.getText());\n    } catch (NumberFormatException nfe) {\n    }\n    int value2 = 0;\n    try {\n        value2 = Integer.parseInt(txtTime2.getText());\n    } catch (NumberFormatException nfe) {\n    }\n    int value3 = 0;\n    try {\n        value3 = Integer.parseInt(txtTime3.getText());\n    } catch (NumberFormatException nfe) {\n    }\n    switch (view.getId()) {\n    case R.id.btn11:\n        value1 += 1;\n        break;\n    case R.id.btn12:\n        value1 -= 1;\n        break;\n    case R.id.btn21:\n        value2 += 1;\n        break;\n    case R.id.btn22:\n        value2 -= 1;\n        break;\n    case R.id.btn31:\n        value3 += 1;\n        break;\n    case R.id.btn32:\n        value3 -= 1;\n        break;\n    }\n    value1 = Integer.min(100, value1);\n    value1 = Integer.max(0, value1);\n    value2 = Integer.min(100, value2);\n    value2 = Integer.max(0, value2);\n    value3 = Integer.min(100, value3);\n    value3 = Integer.max(0, value3);\n    txtTime1.setText(String.valueOf(value1));\n    txtTime2.setText(String.valueOf(value2));\n    txtTime3.setText(String.valueOf(value3));\n}\n</code></pre>\n"}],"owner":{"account_id":27201667,"reputation":1,"user_id":20733837,"display_name":"Andrew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678818102,"creation_date":1678813763,"question_id":75736310,"body_markdown":"I am creating an application that simply counts how many hours I am sitting at any case. And when you click on +1 or -1 (although it is not particularly necessary :)) I should have a number displayed accordingly.\r\nCode XML:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn11&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;180dp&quot;\r\n        android:text=&quot;+1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn21&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn12&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.448&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/txtTime1&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn21&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;28dp&quot;\r\n        android:layout_marginBottom=&quot;212dp&quot;\r\n        android:text=&quot;+1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn31&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn22&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn31&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;60dp&quot;\r\n        android:text=&quot;+1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn32&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn12&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;180dp&quot;\r\n        android:text=&quot;-1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn22&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn22&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;212dp&quot;\r\n        android:text=&quot;-1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn32&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn32&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;60dp&quot;\r\n        android:text=&quot;-1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtJava&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:text=&quot;JAVA&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime1&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.053&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.32&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtEng&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginBottom=&quot;24dp&quot;\r\n        android:text=&quot;ENGLISH&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime2&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.062&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtMath&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginBottom=&quot;24dp&quot;\r\n        android:text=&quot;MATH&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime3&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.053&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtTime1&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;80dp&quot;\r\n        android:text=&quot;TIME&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtEng&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtTime2&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;104dp&quot;\r\n        android:text=&quot;TIME&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtMath&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtTime3&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;52dp&quot;\r\n        android:text=&quot;TIME&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n```\r\nJAVA Code:\r\n\r\n```\r\npackage com.example.times;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView txtJava;\r\n    private TextView txtTime1;\r\n\r\n    private TextView txtEng;\r\n    private TextView txtTime2;\r\n\r\n    private TextView txtMath;\r\n    private TextView txtTime3;\r\n\r\n    private Button btn11;\r\n    private Button btn12;\r\n    private Button btn21;\r\n    private Button btn22;\r\n    private Button btn31;\r\n    private Button btn32;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        txtJava = findViewById(R.id.txtJava);\r\n        txtTime1 = findViewById(R.id.txtTime1);\r\n        txtEng = findViewById(R.id.txtEng);\r\n        txtTime2 = findViewById(R.id.txtTime2);\r\n        txtMath = findViewById(R.id.txtMath);\r\n        txtTime3 = findViewById(R.id.txtTime3);\r\n        btn11 = findViewById(R.id.btn11);\r\n        btn12 = findViewById(R.id.btn12);\r\n        btn21 = findViewById(R.id.btn21);\r\n        btn22 = findViewById(R.id.btn22);\r\n        btn31 = findViewById(R.id.btn31);\r\n        btn32 = findViewById(R.id.btn32);\r\n\r\n        btn11.setOnClickListener(listener);\r\n        btn12.setOnClickListener(listener);\r\n        btn21.setOnClickListener(listener);\r\n        btn22.setOnClickListener(listener);\r\n        btn31.setOnClickListener(listener);\r\n        btn32.setOnClickListener(listener);\r\n    }\r\n\r\n    private View.OnClickListener listener = new View.OnClickListener() {\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            int value1 = 0;\r\n            int value2 = 0;\r\n            int value3 = 0;\r\n            switch (view.getId()) {\r\n                case R.id.btn11:\r\n                    value1+=1;\r\n                    String s11 = String.valueOf(value1);\r\n                    txtTime1.setText(s11);\r\n                    break;\r\n                case R.id.btn12:\r\n                    value1-=1;\r\n                    String s12 = String.valueOf(value1);\r\n                    txtTime1.setText(s12);\r\n                    break;\r\n                case R.id.btn21:\r\n                    value2+=1;\r\n                    String s21 = String.valueOf(value2);\r\n                    txtTime2.setText(s21);\r\n                    break;\r\n                case R.id.btn22:\r\n                    value2-=1;\r\n                    String s22 = String.valueOf(value2);\r\n                    txtTime2.setText(s22);\r\n                    break;\r\n                case R.id.btn31:\r\n                    value3+=1;\r\n                    String s31 = String.valueOf(value3);\r\n                    txtTime3.setText(s31);\r\n                    break;\r\n                case R.id.btn32:\r\n                    value3-=1;\r\n                    String s32 = String.valueOf(value3);\r\n                    txtTime3.setText(s32);\r\n                    break;\r\n            }\r\n\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n\r\n\r\nI used case because I thought the code would be shorter, and just to practice using it. I basically understand what&#39;s wrong in my code, but I don&#39;t understand how to fix it. Here, probably, it is necessary to prescribe a condition, but I do not understand what. Loops are useless here (I just always like to insert loops in the wrong place).","title":"What condition should I write to make everything work","body":"<p>I am creating an application that simply counts how many hours I am sitting at any case. And when you click on +1 or -1 (although it is not particularly necessary :)) I should have a number displayed accordingly.\nCode XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn11&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;180dp&quot;\n        android:text=&quot;+1&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn21&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn12&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.448&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/txtTime1&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn21&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;28dp&quot;\n        android:layout_marginBottom=&quot;212dp&quot;\n        android:text=&quot;+1&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn31&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn22&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn31&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;60dp&quot;\n        android:text=&quot;+1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn32&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn12&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;180dp&quot;\n        android:text=&quot;-1&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn22&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn22&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;212dp&quot;\n        android:text=&quot;-1&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn32&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn32&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;60dp&quot;\n        android:text=&quot;-1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtJava&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:text=&quot;JAVA&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime1&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.053&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.32&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtEng&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginBottom=&quot;24dp&quot;\n        android:text=&quot;ENGLISH&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime2&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.062&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtMath&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginBottom=&quot;24dp&quot;\n        android:text=&quot;MATH&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime3&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.053&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtTime1&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginStart=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;80dp&quot;\n        android:text=&quot;TIME&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtEng&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtTime2&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginStart=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;104dp&quot;\n        android:text=&quot;TIME&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtMath&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtTime3&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginStart=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;52dp&quot;\n        android:text=&quot;TIME&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n</code></pre>\n<p>JAVA Code:</p>\n<pre><code>package com.example.times;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private TextView txtJava;\n    private TextView txtTime1;\n\n    private TextView txtEng;\n    private TextView txtTime2;\n\n    private TextView txtMath;\n    private TextView txtTime3;\n\n    private Button btn11;\n    private Button btn12;\n    private Button btn21;\n    private Button btn22;\n    private Button btn31;\n    private Button btn32;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        txtJava = findViewById(R.id.txtJava);\n        txtTime1 = findViewById(R.id.txtTime1);\n        txtEng = findViewById(R.id.txtEng);\n        txtTime2 = findViewById(R.id.txtTime2);\n        txtMath = findViewById(R.id.txtMath);\n        txtTime3 = findViewById(R.id.txtTime3);\n        btn11 = findViewById(R.id.btn11);\n        btn12 = findViewById(R.id.btn12);\n        btn21 = findViewById(R.id.btn21);\n        btn22 = findViewById(R.id.btn22);\n        btn31 = findViewById(R.id.btn31);\n        btn32 = findViewById(R.id.btn32);\n\n        btn11.setOnClickListener(listener);\n        btn12.setOnClickListener(listener);\n        btn21.setOnClickListener(listener);\n        btn22.setOnClickListener(listener);\n        btn31.setOnClickListener(listener);\n        btn32.setOnClickListener(listener);\n    }\n\n    private View.OnClickListener listener = new View.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            int value1 = 0;\n            int value2 = 0;\n            int value3 = 0;\n            switch (view.getId()) {\n                case R.id.btn11:\n                    value1+=1;\n                    String s11 = String.valueOf(value1);\n                    txtTime1.setText(s11);\n                    break;\n                case R.id.btn12:\n                    value1-=1;\n                    String s12 = String.valueOf(value1);\n                    txtTime1.setText(s12);\n                    break;\n                case R.id.btn21:\n                    value2+=1;\n                    String s21 = String.valueOf(value2);\n                    txtTime2.setText(s21);\n                    break;\n                case R.id.btn22:\n                    value2-=1;\n                    String s22 = String.valueOf(value2);\n                    txtTime2.setText(s22);\n                    break;\n                case R.id.btn31:\n                    value3+=1;\n                    String s31 = String.valueOf(value3);\n                    txtTime3.setText(s31);\n                    break;\n                case R.id.btn32:\n                    value3-=1;\n                    String s32 = String.valueOf(value3);\n                    txtTime3.setText(s32);\n                    break;\n            }\n\n        }\n    };\n}\n</code></pre>\n<p>I used case because I thought the code would be shorter, and just to practice using it. I basically understand what's wrong in my code, but I don't understand how to fix it. Here, probably, it is necessary to prescribe a condition, but I do not understand what. Loops are useless here (I just always like to insert loops in the wrong place).</p>\n"},{"tags":["java","adobe-indesign","indesign-server"],"owner":{"account_id":5294303,"reputation":39,"user_id":4225855,"display_name":"Bikramjit Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678817914,"creation_date":1678813152,"question_id":75736212,"body_markdown":"I&#39;m trying to test run the sample client for Java provided in the InDesign Server SDK. \r\n\r\nWhen I try to create and build the project in IntelliJ or eclipse, I&#39;m getting unresolved symbols for the following classes from the SampleClient.java file.\r\n\r\n    import localhost.Service_wsdl.Service;\r\n    import localhost.Service_wsdl.ServiceLocator;\r\n    import localhost.Service_wsdl.ServiceStub;\r\n    \r\n    import com.adobe.ns.InDesign.soap.IDSPScriptArg;\r\n    import com.adobe.ns.InDesign.soap.RunScriptParameters;\r\n    import com.adobe.ns.InDesign.soap.holders.DataHolder;\r\n\r\nI also tried to convert the IDSP.wsdl file into java code using &quot;wsimport -keep&quot; command but still  did not get all the java files.\r\n\r\nPlease let me know in case I&#39;m missing some steps. I have found similar issues mentioned in the  Adobe Community portal also but did not get the solution.\r\n\r\nI&#39;m able to test run the sampleclient.exe made in C++ language successfully.\r\n","title":"Indesign Server sampleclient java (SDK) not working","body":"<p>I'm trying to test run the sample client for Java provided in the InDesign Server SDK.</p>\n<p>When I try to create and build the project in IntelliJ or eclipse, I'm getting unresolved symbols for the following classes from the SampleClient.java file.</p>\n<pre><code>import localhost.Service_wsdl.Service;\nimport localhost.Service_wsdl.ServiceLocator;\nimport localhost.Service_wsdl.ServiceStub;\n\nimport com.adobe.ns.InDesign.soap.IDSPScriptArg;\nimport com.adobe.ns.InDesign.soap.RunScriptParameters;\nimport com.adobe.ns.InDesign.soap.holders.DataHolder;\n</code></pre>\n<p>I also tried to convert the IDSP.wsdl file into java code using &quot;wsimport -keep&quot; command but still  did not get all the java files.</p>\n<p>Please let me know in case I'm missing some steps. I have found similar issues mentioned in the  Adobe Community portal also but did not get the solution.</p>\n<p>I'm able to test run the sampleclient.exe made in C++ language successfully.</p>\n"},{"tags":["java","objectmapper","canonicalization"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678819305,"post_id":75736889,"comment_id":133606387,"body_markdown":"You dont need to intervene. An array is an ordered sequence of zero or more values from https://www.rfc-editor.org/rfc/rfc7159.html. The order is significant so a different order is a changed object. If you want to negate the significance of the order then you need a comparator and sort before serialising.","body":"You dont need to intervene. An array is an ordered sequence of zero or more values from <a href=\"https://www.rfc-editor.org/rfc/rfc7159.html\" rel=\"nofollow noreferrer\">rfc-editor.org/rfc/rfc7159.html</a>. The order is significant so a different order is a changed object. If you want to negate the significance of the order then you need a comparator and sort before serialising."}],"owner":{"account_id":9451033,"reputation":75,"user_id":10773441,"display_name":"mortimerfreeze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678817342,"creation_date":1678817342,"question_id":75736889,"body_markdown":"I am trying to hash a JSON object to check for changes. I am using a custom ObjectMapper:\r\n\r\n```\r\npublic static final ObjectMapper mapper =\r\n            new ObjectMapper().configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\r\n                    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                    .configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true)\r\n                    .configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true)\r\n                    .configure(SerializationFeature.INDENT_OUTPUT, false)\r\n                    .setSerializationInclusion(JsonInclude.Include.NON_EMPTY)\r\n                    .enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)\r\n                    .setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;))\r\n                    .registerModule(new JavaTimeModule());\r\n```\r\n\r\nThis seems to work perfectly fine, but obviously doesn&#39;t work for arrays inside of the JSON object. My question is how can I go about handling the arrays during the mapping process to make sure they stay in the same order every time?","title":"How to handle arrays when hashing in terms of JSON Canonicalization?","body":"<p>I am trying to hash a JSON object to check for changes. I am using a custom ObjectMapper:</p>\n<pre><code>public static final ObjectMapper mapper =\n            new ObjectMapper().configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\n                    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                    .configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true)\n                    .configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true)\n                    .configure(SerializationFeature.INDENT_OUTPUT, false)\n                    .setSerializationInclusion(JsonInclude.Include.NON_EMPTY)\n                    .enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)\n                    .setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;))\n                    .registerModule(new JavaTimeModule());\n</code></pre>\n<p>This seems to work perfectly fine, but obviously doesn't work for arrays inside of the JSON object. My question is how can I go about handling the arrays during the mapping process to make sure they stay in the same order every time?</p>\n"},{"tags":["java","eclipse","macos","window","flashing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1678826292,"post_id":75736867,"comment_id":133608221,"body_markdown":"There is no way to know the cause of your first paragraph without seeing the code behind it.  As for the about handler, the replacement for eawt is [Desktop.setAboutHandler](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Desktop.html#setAboutHandler(java.awt.desktop.AboutHandler)).","body":"There is no way to know the cause of your first paragraph without seeing the code behind it.  As for the about handler, the replacement for eawt is <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Desktop.html#setAboutHandler(java.awt.desktop.AboutHandler)\" rel=\"nofollow noreferrer\">Desktop.setAboutHandler</a>."}],"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678817236,"creation_date":1678817236,"question_id":75736867,"body_markdown":"I have been rewriting a 100,000 line application from 2009 in modern Java/Eclipse/Mac os12, and there are two problem with the windows and\r\nmenus that open within my main window.  1. Sometimes the text in a drop\r\ndown box is missing (in which case closing and re-opening will\r\ncause it to appear) and 2. When dragging a small window around within\r\nmy main window, the small window will flash on and off (during which time\r\nthe background where the small window should be).  This flashing is pretty annoying and hurts my eyes after a while.\r\n\r\nMost of the GUI code is the same as in 2009, but I did have to\r\ncomment out several lines that referred to the apple eawt.xxx\r\nsuch as the ones below - the application runs okay though, other\r\nthan than and some other problems I am posting separately.\r\n\r\nCommented out lines:\r\n\r\n    com.apple.eawt.Application application =  Application.getApplication();\r\n    application.addApplicationListener(new com.apple.eawt.ApplicationAdapter()     {   \t\t\r\n    \tpublic void handleAbout(ApplicationEvent ae) {\r\n    \t\t\tnew AboutDialog();  \r\n    \t\t\tae.setHandled(true);                 \r\n    \t}\r\n    . . . \r\n\r\n    }","title":"Windows flash on and off and text is sometimes missing in Eclipse/Java rewrite/update","body":"<p>I have been rewriting a 100,000 line application from 2009 in modern Java/Eclipse/Mac os12, and there are two problem with the windows and\nmenus that open within my main window.  1. Sometimes the text in a drop\ndown box is missing (in which case closing and re-opening will\ncause it to appear) and 2. When dragging a small window around within\nmy main window, the small window will flash on and off (during which time\nthe background where the small window should be).  This flashing is pretty annoying and hurts my eyes after a while.</p>\n<p>Most of the GUI code is the same as in 2009, but I did have to\ncomment out several lines that referred to the apple eawt.xxx\nsuch as the ones below - the application runs okay though, other\nthan than and some other problems I am posting separately.</p>\n<p>Commented out lines:</p>\n<pre><code>com.apple.eawt.Application application =  Application.getApplication();\napplication.addApplicationListener(new com.apple.eawt.ApplicationAdapter()     {        \n    public void handleAbout(ApplicationEvent ae) {\n            new AboutDialog();  \n            ae.setHandled(true);                 \n    }\n. . . \n\n}\n</code></pre>\n"},{"tags":["java","android","tensorflow-lite","estimation"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1678817506,"post_id":75736699,"comment_id":133605899,"body_markdown":"try this: https://stackoverflow.com/questions/73756592/what-does-the-error-failed-resolution-of-lorg-tensorflow-lite-gpu-gpudelegatef","body":"try this: <a href=\"https://stackoverflow.com/questions/73756592/what-does-the-error-failed-resolution-of-lorg-tensorflow-lite-gpu-gpudelegatef\" title=\"what does the error failed resolution of lorg tensorflow lite gpu gpudelegatef\">stackoverflow.com/questions/73756592/&hellip;</a>"},{"owner":{"account_id":10351262,"reputation":106,"user_id":13566128,"display_name":"Notron"},"score":0,"creation_date":1690554924,"post_id":75736699,"comment_id":135374562,"body_markdown":"can you show more of age_gender_recognition.java file, since the code snipped that you provided is not enough","body":"can you show more of age_gender_recognition.java file, since the code snipped that you provided is not enough"}],"owner":{"account_id":8518162,"reputation":11,"user_id":6788629,"display_name":"esra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678817219,"creation_date":1678816128,"question_id":75736699,"body_markdown":"I followed the video (https://www.youtube.com/watch?v=GCuCNtsYz6k&amp;t=1376s) and got this error:\r\n\r\n    E/skurt.genderag: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.esrabaskurt.genderage, PID: 11140\r\n        java.lang.NoClassDefFoundError: Failed resolution of: Lorg/tensorflow/lite/gpu/GpuDelegateFactory$Options;\r\n            at org.tensorflow.lite.gpu.GpuDelegate.&lt;init&gt;(GpuDelegate.java:52)\r\n            at com.esrabaskurt.genderage.age_gender_recognition.&lt;init&gt;(age_gender_recognition.java:56)\r\n            at com.esrabaskurt.genderage.CameraActivity.onCreate(CameraActivity.java:79)\r\n            at android.app.Activity.performCreate(Activity.java:7458)\r\n            at android.app.Activity.performCreate(Activity.java:7448)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)\r\n            at android.os.Handler.dispatchMessage(Handler.java:112)\r\n            at android.os.Looper.loop(Looper.java:216)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n         Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;org.tensorflow.lite.gpu.GpuDelegateFactory$Options&quot; on path: DexPathList[[zip file &quot;/data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/lib/arm64, /data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/base.apk!/lib/arm64-v8a, /system/lib64, /product/lib64]]\r\n            at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n            at org.tensorflow.lite.gpu.GpuDelegate.&lt;init&gt;(GpuDelegate.java:52)&#160;\r\n            at com.esrabaskurt.genderage.age_gender_recognition.&lt;init&gt;(age_gender_recognition.java:56)&#160;\r\n            at com.esrabaskurt.genderage.CameraActivity.onCreate(CameraActivity.java:79)&#160;\r\n            at android.app.Activity.performCreate(Activity.java:7458)&#160;\r\n            at android.app.Activity.performCreate(Activity.java:7448)&#160;\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)&#160;\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409)&#160;\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)&#160;\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:112)&#160;\r\n            at android.os.Looper.loop(Looper.java:216)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)&#160;\r\n    I/Process: Sending signal. PID: 11140 SIG: 9\r\n\r\nHere is age_gender_recognition.java:\r\n\r\n        import org.tensorflow.lite.gpu.GpuDelegate;\r\n        public class age_gender_recognition {\r\n    ...\r\n        private GpuDelegate gpuDelegate=null;\r\n        ...\r\n        age_gender_recognition(AssetManager assetManager, Context context,String modelPath,int inputSize) throws IOException\r\n        {\r\n    ...\r\n       **gpuDelegate =new GpuDelegate() (age_gender_recognition.java:56);**\r\n    ...\r\n           }}\r\n\r\n\r\nand (CameraActivity.java:79):\r\n\r\n    age_gender_recognition =new age_gender_recognition(getAssets(),CameraActivity.this,&quot;model.tflite&quot;,inputSize);\r\n\r\n&quot;build.gradle&quot; file is:\r\n\r\n    dependencies {\r\n        implementation &#39;org.tensorflow:tensorflow-lite-metadata:0.4.3&#39;\r\n        implementation &#39;org.tensorflow:tensorflow-lite-gpu:2.11.0&#39;\r\n        implementation &#39;org.tensorflow:tensorflow-lite-support:0.4.3&#39;\r\n        implementation &#39;org.tensorflow:tensorflow-lite-task-vision:0.4.3&#39;\r\n    \r\n        implementation &#39;org.tensorflow:tensorflow-lite-task-text:0.4.3&#39;\r\n    ...\r\n    }\r\n\r\nIt gives error about `GpuDelegate()`. Any suggestion?\r\n","title":"Age Gender Estimation on Android from camera frame","body":"<p>I followed the video (<a href=\"https://www.youtube.com/watch?v=GCuCNtsYz6k&amp;t=1376s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=GCuCNtsYz6k&amp;t=1376s</a>) and got this error:</p>\n<pre><code>E/skurt.genderag: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.esrabaskurt.genderage, PID: 11140\n    java.lang.NoClassDefFoundError: Failed resolution of: Lorg/tensorflow/lite/gpu/GpuDelegateFactory$Options;\n        at org.tensorflow.lite.gpu.GpuDelegate.&lt;init&gt;(GpuDelegate.java:52)\n        at com.esrabaskurt.genderage.age_gender_recognition.&lt;init&gt;(age_gender_recognition.java:56)\n        at com.esrabaskurt.genderage.CameraActivity.onCreate(CameraActivity.java:79)\n        at android.app.Activity.performCreate(Activity.java:7458)\n        at android.app.Activity.performCreate(Activity.java:7448)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)\n        at android.os.Handler.dispatchMessage(Handler.java:112)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;org.tensorflow.lite.gpu.GpuDelegateFactory$Options&quot; on path: DexPathList[[zip file &quot;/data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/lib/arm64, /data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/base.apk!/lib/arm64-v8a, /system/lib64, /product/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at org.tensorflow.lite.gpu.GpuDelegate.&lt;init&gt;(GpuDelegate.java:52)\n        at com.esrabaskurt.genderage.age_gender_recognition.&lt;init&gt;(age_gender_recognition.java:56)\n        at com.esrabaskurt.genderage.CameraActivity.onCreate(CameraActivity.java:79)\n        at android.app.Activity.performCreate(Activity.java:7458)\n        at android.app.Activity.performCreate(Activity.java:7448)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)\n        at android.os.Handler.dispatchMessage(Handler.java:112)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\nI/Process: Sending signal. PID: 11140 SIG: 9\n</code></pre>\n<p>Here is age_gender_recognition.java:</p>\n<pre><code>    import org.tensorflow.lite.gpu.GpuDelegate;\n    public class age_gender_recognition {\n...\n    private GpuDelegate gpuDelegate=null;\n    ...\n    age_gender_recognition(AssetManager assetManager, Context context,String modelPath,int inputSize) throws IOException\n    {\n...\n   **gpuDelegate =new GpuDelegate() (age_gender_recognition.java:56);**\n...\n       }}\n</code></pre>\n<p>and (CameraActivity.java:79):</p>\n<pre><code>age_gender_recognition =new age_gender_recognition(getAssets(),CameraActivity.this,&quot;model.tflite&quot;,inputSize);\n</code></pre>\n<p>&quot;build.gradle&quot; file is:</p>\n<pre><code>dependencies {\n    implementation 'org.tensorflow:tensorflow-lite-metadata:0.4.3'\n    implementation 'org.tensorflow:tensorflow-lite-gpu:2.11.0'\n    implementation 'org.tensorflow:tensorflow-lite-support:0.4.3'\n    implementation 'org.tensorflow:tensorflow-lite-task-vision:0.4.3'\n\n    implementation 'org.tensorflow:tensorflow-lite-task-text:0.4.3'\n...\n}\n</code></pre>\n<p>It gives error about <code>GpuDelegate()</code>. Any suggestion?</p>\n"},{"tags":["java","filewriter","jdom-2"],"answers":[{"tags":[],"owner":{"account_id":5893192,"reputation":294,"user_id":4639117,"display_name":"pbierre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678815979,"creation_date":1678815979,"answer_id":75736672,"question_id":73613228,"body_markdown":"This turned out to be related to the fact that:\r\n\r\nIn rapid-prototyping this app, the Serializable interface was utilized to store objects to disk file.\r\n\r\nWhen a decision was made to promote the prototype to a product, and to redesign file storage using XML, I didn&#39;t know that you have to purge your classes of implementing the Serializable interface first.  Doing so solved the problem.  ","title":"JDOM2 XMLOutputter wrote empty file to Win10 OS","body":"<p>This turned out to be related to the fact that:</p>\n<p>In rapid-prototyping this app, the Serializable interface was utilized to store objects to disk file.</p>\n<p>When a decision was made to promote the prototype to a product, and to redesign file storage using XML, I didn't know that you have to purge your classes of implementing the Serializable interface first.  Doing so solved the problem.</p>\n"}],"owner":{"account_id":5893192,"reputation":294,"user_id":4639117,"display_name":"pbierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678817181,"creation_date":1662401101,"question_id":73613228,"body_markdown":"My Java app stores a set of XML User datafiles at Quit time.  It parses them back in at relaunch.  A user reported a launch-time failure, and the cause was found to be one of these User datafiles was an empty file (zero text chars).\r\n\r\nI&#39;m using the JDOM (2.0.6) library, integrated with Java 1.8.0_291 JRE Win.  The app does not create any new threads, i.e. it uses the default Swing-Java thread structure.  The file write in question only takes place in the Quit sequence (triggered by User closing main app window). \r\n\r\nNon-repeatable bug occurred once\r\n\r\nThis looks like a JDOM XML Outputter error of some kind.  It occurred randomly running the app on a Windows 10 desktop computer.  It is not repeatable (so far).\r\n\r\nHere is the write code that sets up the file write:\r\n\r\n```java\r\npublic class XMLPersistantEditorWorkspace {\r\n\tpublic static final int XML_DOC_VERSION = 1002;\r\n\tpublic Document outputDoc = new Document();\r\n\tprivate Document inputDoc = new Document();\r\n\r\n\tpublic void writeXMLEditorStateUsingJDOM(FileOutputStream fileStream) throws IOException {\r\n        outputDoc.setRootElement(new Element(&quot;EditorWorkspace&quot;, XML_Utils.DFG2D_NAMESPACE));\r\n\t\tElement editorStateXMLElement = generateAlgoEditingStackXMLElement();\r\n\t\toutputDoc.getRootElement().addContent(editorStateXMLElement);\r\n\t\tXMLOutputter xmlOutputter = new XMLOutputter(Format.getPrettyFormat());\r\n\t\t\r\n\t\t//TEST ONLY: writes to console\r\n\t\t//xmlOutputter.output(outputDoc, System.out);\r\n\t\t\r\n\t\txmlOutputter.output(outputDoc, fileStream);\r\n\t}\r\n```\r\n","title":"JDOM2 XMLOutputter wrote empty file to Win10 OS","body":"<p>My Java app stores a set of XML User datafiles at Quit time.  It parses them back in at relaunch.  A user reported a launch-time failure, and the cause was found to be one of these User datafiles was an empty file (zero text chars).</p>\n<p>I'm using the JDOM (2.0.6) library, integrated with Java 1.8.0_291 JRE Win.  The app does not create any new threads, i.e. it uses the default Swing-Java thread structure.  The file write in question only takes place in the Quit sequence (triggered by User closing main app window).</p>\n<p>Non-repeatable bug occurred once</p>\n<p>This looks like a JDOM XML Outputter error of some kind.  It occurred randomly running the app on a Windows 10 desktop computer.  It is not repeatable (so far).</p>\n<p>Here is the write code that sets up the file write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class XMLPersistantEditorWorkspace {\n    public static final int XML_DOC_VERSION = 1002;\n    public Document outputDoc = new Document();\n    private Document inputDoc = new Document();\n\n    public void writeXMLEditorStateUsingJDOM(FileOutputStream fileStream) throws IOException {\n        outputDoc.setRootElement(new Element(&quot;EditorWorkspace&quot;, XML_Utils.DFG2D_NAMESPACE));\n        Element editorStateXMLElement = generateAlgoEditingStackXMLElement();\n        outputDoc.getRootElement().addContent(editorStateXMLElement);\n        XMLOutputter xmlOutputter = new XMLOutputter(Format.getPrettyFormat());\n        \n        //TEST ONLY: writes to console\n        //xmlOutputter.output(outputDoc, System.out);\n        \n        xmlOutputter.output(outputDoc, fileStream);\n    }\n</code></pre>\n"},{"tags":["java","swing","jcalendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676140793,"post_id":75422160,"comment_id":133079523,"body_markdown":"If I remember correctly, `JDateChooser` requires that you use `Date` and/or `Calendar`, the old date-time classes that were supplanted by java.time soon to be 10 years ago. So I would start by finding a date picker that supports java.time. There are some. And then consider how I can get the L&amp;F that I want.","body":"If I remember correctly, <code>JDateChooser</code> requires that you use <code>Date</code> and/or <code>Calendar</code>, the old date-time classes that were supplanted by java.time soon to be 10 years ago. So I would start by finding a date picker that supports java.time. There are some. And then consider how I can get the L&amp;F that I want."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1676142442,"post_id":75422160,"comment_id":133079772,"body_markdown":"I am sorry if the LAF part of the question misled you. My goal is to have a date picker that does not enforce hardcoded colors, like this green and red you can see in the pictures. My question covers all colors of JDateChooser but the year spinner. Is there anybody that can fix the spinner?","body":"I am sorry if the LAF part of the question misled you. My goal is to have a date picker that does not enforce hardcoded colors, like this green and red you can see in the pictures. My question covers all colors of JDateChooser but the year spinner. Is there anybody that can fix the spinner?"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678817138,"creation_date":1676333258,"answer_id":75442318,"question_id":75422160,"body_markdown":"The effect illustrated is a feature of the `CaretListener` implemented by `JTextFieldDateEditor` and the `JYearChooser` parent class, `JSpinField`. Omit the addition of the listener to eliminate the effect; in outline:\r\n\r\n    public JTextFieldDateEditor() {\r\n        \r\n        //addCaretListener(this);\r\n        \r\n    }\r\n    public JSpinField() {\r\n        \r\n        //textField.addCaretListener(this);\r\n        \r\n    }\r\n\r\nLess radically, it is also possible to invoke `removeCaretListener()` on the editor.\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    JDateChooser jdc = new JDateChooser(c.getTime());\r\n    JTextFieldDateEditor editor = (JTextFieldDateEditor) jdc.getDateEditor();\r\n    editor.removeCaretListener(editor);\r\n\r\nAlso override the `caretUpdate()` method inherited by `JYearChooser` to condition the effect based on a suitable boolean value.\r\n\r\n    JYearChooser jyc = new JYearChooser() {\r\n        boolean update;\r\n\r\n        @Override\r\n        public void caretUpdate(CaretEvent e) {\r\n            if (update) {\r\n                super.caretUpdate(e);\r\n            }\r\n        }\r\n    };\r\n\r\n","title":"Get rid of all com.toedter.calendar.JDateChooser colors","body":"<p>The effect illustrated is a feature of the <code>CaretListener</code> implemented by <code>JTextFieldDateEditor</code> and the <code>JYearChooser</code> parent class, <code>JSpinField</code>. Omit the addition of the listener to eliminate the effect; in outline:</p>\n<pre><code>public JTextFieldDateEditor() {\n    \n    //addCaretListener(this);\n    \n}\npublic JSpinField() {\n    \n    //textField.addCaretListener(this);\n    \n}\n</code></pre>\n<p>Less radically, it is also possible to invoke <code>removeCaretListener()</code> on the editor.</p>\n<pre><code>Calendar c = Calendar.getInstance();\nJDateChooser jdc = new JDateChooser(c.getTime());\nJTextFieldDateEditor editor = (JTextFieldDateEditor) jdc.getDateEditor();\neditor.removeCaretListener(editor);\n</code></pre>\n<p>Also override the <code>caretUpdate()</code> method inherited by <code>JYearChooser</code> to condition the effect based on a suitable boolean value.</p>\n<pre><code>JYearChooser jyc = new JYearChooser() {\n    boolean update;\n\n    @Override\n    public void caretUpdate(CaretEvent e) {\n        if (update) {\n            super.caretUpdate(e);\n        }\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678817138,"creation_date":1676138071,"question_id":75422160,"body_markdown":"My humble goal is to have a date-picker in java swing that does not have hard-coded colors in it. A date-picker that delegates it&#39;s appearance to the chosen LAF.\r\n\r\nSob...\r\n\r\nI am using `com.toedter.calendar.JDateChooser` version `1.4`\r\n\r\nWith this answer i was able to get rid of green and red and black of the jtextfield.\r\n\r\n[https://stackoverflow.com/questions/64926458/java-jdatechooser-foreground][1]\r\n\r\n\r\nWith this, i was able to remove other annoying colors:\r\n\r\n    myDC.getJCalendar().setWeekdayForeground(null);\r\n    myDC.getJCalendar().setDecorationBackgroundColor(null);\r\n    myDC.getJCalendar().setSundayForeground(null);\r\n\r\nNow i am stuck with the year spinner and it&#39;s unwanted colors. See:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAny clue on how to get rid of those?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64926458/java-jdatechooser-foreground\r\n  [2]: https://i.stack.imgur.com/PaFDo.png\r\n  [3]: https://i.stack.imgur.com/MZtH7.png","title":"Get rid of all com.toedter.calendar.JDateChooser colors","body":"<p>My humble goal is to have a date-picker in java swing that does not have hard-coded colors in it. A date-picker that delegates it's appearance to the chosen LAF.</p>\n<p>Sob...</p>\n<p>I am using <code>com.toedter.calendar.JDateChooser</code> version <code>1.4</code></p>\n<p>With this answer i was able to get rid of green and red and black of the jtextfield.</p>\n<p><a href=\"https://stackoverflow.com/questions/64926458/java-jdatechooser-foreground\">Java Jdatechooser Foreground</a></p>\n<p>With this, i was able to remove other annoying colors:</p>\n<pre><code>myDC.getJCalendar().setWeekdayForeground(null);\nmyDC.getJCalendar().setDecorationBackgroundColor(null);\nmyDC.getJCalendar().setSundayForeground(null);\n</code></pre>\n<p>Now i am stuck with the year spinner and it's unwanted colors. See:</p>\n<p><a href=\"https://i.stack.imgur.com/PaFDo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PaFDo.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MZtH7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZtH7.png\" alt=\"enter image description here\" /></a></p>\n<p>Any clue on how to get rid of those?</p>\n"},{"tags":["java","selenium-webdriver","driver","connection-reset"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1678801038,"post_id":75733518,"comment_id":133600789,"body_markdown":"Clean and rebuild your project always after component up/downgrade.","body":"Clean and rebuild your project always after component up/downgrade."}],"answers":[{"tags":[],"owner":{"account_id":18902646,"reputation":23,"user_id":13790349,"display_name":"Tamilvelan M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678812587,"creation_date":1678810572,"answer_id":75735764,"question_id":75733518,"body_markdown":"\r\n1.  refer this: https://peter.sh/experiments/chromium-command-line-switches/\r\n\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    ChromeOptions options=new ChromeOptions(); \r\n    options.addArguments(&quot;--remote-allow-orgins=*&quot;);\r\n    WebDriver driver=new ChromeDriver(options); \r\n    driver.get(&quot;google&quot;); \r\n    driver.quit();\r\n\r\n    //refer this website : https://peter.sh/experiments/chromium-command-line-switches/\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n \r\n    ","title":"Connection Reset on driver.quit()","body":"<ol>\n<li>refer this: <a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">https://peter.sh/experiments/chromium-command-line-switches/</a></li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>ChromeOptions options=new ChromeOptions(); \noptions.addArguments(\"--remote-allow-orgins=*\");\nWebDriver driver=new ChromeDriver(options); \ndriver.get(\"google\"); \ndriver.quit();\n\n//refer this website : https://peter.sh/experiments/chromium-command-line-switches/</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":28014499,"reputation":11,"user_id":21396474,"display_name":"Tes Nt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678816781,"creation_date":1678799112,"question_id":75733518,"body_markdown":"I&#39;m getting the following error trying to perform in Java-Selenium  `driver.quit()`\r\n\r\nI have the following chrome version: 111.0.5563.65 and the last chrome driver version: 111.0.5563.64\r\n````\r\nMar 14, 2023 2:00:24 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:259)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```` \r\n\r\nCan somebody help me?\r\n\r\nI tried to downgrade the selenium version from 4.8.1 to 4.8.0 but the error still occurs","title":"Connection Reset on driver.quit()","body":"<p>I'm getting the following error trying to perform in Java-Selenium  <code>driver.quit()</code></p>\n<p>I have the following chrome version: 111.0.5563.65 and the last chrome driver version: 111.0.5563.64</p>\n<pre><code>Mar 14, 2023 2:00:24 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:259)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Can somebody help me?</p>\n<p>I tried to downgrade the selenium version from 4.8.1 to 4.8.0 but the error still occurs</p>\n"},{"tags":["java","jmeter","jsonslurper"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678816206,"creation_date":1678816206,"answer_id":75736709,"question_id":75736480,"body_markdown":"It&#39;s not very clear how does your JSON look like and what form of the output do you expect. \r\n\r\nIt might either be as simple as:\r\n\r\n    content.keySet().each {println it}\r\n\r\nor you might want to amend your code to include attribute value if it&#39;s not a [JSON Object][1], something like:\r\n\r\n    import groovy.json.JsonSlurper\r\n    \r\n    def traverse\r\n    traverse = { tree, keys = [], prefix = &#39;&#39; -&gt;\r\n        switch (tree) {\r\n            case Map:\r\n                tree.each { k, v -&gt;\r\n                    def name = prefix ? &quot;${prefix}.${k}&quot; : k\r\n                    if (!(v instanceof Map)) {\r\n                        keys &lt;&lt; [&quot;$name&quot;: v]\r\n                    } else {\r\n                        keys &lt;&lt; name\r\n                    }\r\n                    traverse(v, keys, name)\r\n                }\r\n                return keys\r\n            case Collection:\r\n                tree.eachWithIndex { e, i -&gt; traverse(e, keys, &quot;${prefix}[$i]&quot;) }\r\n                return keys\r\n            default:\r\n                return keys\r\n        }\r\n    }\r\n    \r\n    def content = new JsonSlurper().parseText(prev.getResponseDataAsString())\r\n    \r\n    traverse(content).each { println it }\r\n\r\nMore information:\r\n\r\n - [Apache Groovy - Parsing and producing JSON][2]\r\n - [Apache Groovy: What Is Groovy Used For?][3]\r\n\r\n\r\n  [1]: https://www.w3schools.com/js/js_json_objects.asp\r\n  [2]: https://groovy-lang.org/processing-json.html\r\n  [3]: https://www.blazemeter.com/blog/apache-groovy","title":"jmeter - How I can iterate a json response to get all the keys and related value","body":"<p>It's not very clear how does your JSON look like and what form of the output do you expect.</p>\n<p>It might either be as simple as:</p>\n<pre><code>content.keySet().each {println it}\n</code></pre>\n<p>or you might want to amend your code to include attribute value if it's not a <a href=\"https://www.w3schools.com/js/js_json_objects.asp\" rel=\"nofollow noreferrer\">JSON Object</a>, something like:</p>\n<pre><code>import groovy.json.JsonSlurper\n\ndef traverse\ntraverse = { tree, keys = [], prefix = '' -&gt;\n    switch (tree) {\n        case Map:\n            tree.each { k, v -&gt;\n                def name = prefix ? &quot;${prefix}.${k}&quot; : k\n                if (!(v instanceof Map)) {\n                    keys &lt;&lt; [&quot;$name&quot;: v]\n                } else {\n                    keys &lt;&lt; name\n                }\n                traverse(v, keys, name)\n            }\n            return keys\n        case Collection:\n            tree.eachWithIndex { e, i -&gt; traverse(e, keys, &quot;${prefix}[$i]&quot;) }\n            return keys\n        default:\n            return keys\n    }\n}\n\ndef content = new JsonSlurper().parseText(prev.getResponseDataAsString())\n\ntraverse(content).each { println it }\n</code></pre>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://groovy-lang.org/processing-json.html\" rel=\"nofollow noreferrer\">Apache Groovy - Parsing and producing JSON</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Apache Groovy: What Is Groovy Used For?</a></li>\n</ul>\n"}],"owner":{"account_id":18812851,"reputation":77,"user_id":13720679,"display_name":"sarjaana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678816206,"creation_date":1678814791,"question_id":75736480,"body_markdown":"there is a way to get all keys and related values of a json?\r\nI don&#39;t know the fields in output, then I can&#39;t use json extractor.\r\nI&#39;ve found this code, but it returns only the keys:\r\n\r\n    import groovy.json.JsonSlurper\r\n\r\n    def traverse\r\n    traverse = { tree, keys = [], prefix = &#39;&#39; -&gt;\r\n        switch (tree) {\r\n            case Map:\r\n                tree.each { k, v -&gt; \r\n                    def name = prefix ? &quot;${prefix}.${k}&quot; : k\r\n                    keys &lt;&lt; name   \r\n                    traverse(v, keys, name)\r\n                }\r\n                return keys\r\n            case Collection:\r\n                tree.eachWithIndex { e, i -&gt; traverse(e, keys, &quot;${prefix}[$i]&quot;) }\r\n                return keys\r\n            default :\r\n                return keys\r\n        }\r\n    }\r\n    \r\n    def content = new JsonSlurper().parseText(prev.getResponseDataAsString())\r\n    \r\n    traverse(content).each { println it }\r\n\r\nOutput:\r\n\r\n    ....\r\n    devices[24].creationDate\r\n    devices[24].updateDate\r\n    devices[24].attributes\r\n    devices[24].attributes.name\r\n    devices[24].attributes.location\r\n    devices[24].attributes.address\r\n    devices[24].attributes.latitude\r\n    devices[24].attributes.longitude\r\n    devices[24].attributes.brand\r\n    devices[25].deviceId\r\n    devices[25].deviceStatus\r\n    devices[25].deviceType\r\n    devices[25].creationDate\r\n    devices[25].updateDate\r\n    devices[25].attributes\r\n    ....\r\n\r\ncould you help me to retrive keys and values?\r\n\r\nThanks in advance","title":"jmeter - How I can iterate a json response to get all the keys and related value","body":"<p>there is a way to get all keys and related values of a json?\nI don't know the fields in output, then I can't use json extractor.\nI've found this code, but it returns only the keys:</p>\n<pre><code>import groovy.json.JsonSlurper\n\ndef traverse\ntraverse = { tree, keys = [], prefix = '' -&gt;\n    switch (tree) {\n        case Map:\n            tree.each { k, v -&gt; \n                def name = prefix ? &quot;${prefix}.${k}&quot; : k\n                keys &lt;&lt; name   \n                traverse(v, keys, name)\n            }\n            return keys\n        case Collection:\n            tree.eachWithIndex { e, i -&gt; traverse(e, keys, &quot;${prefix}[$i]&quot;) }\n            return keys\n        default :\n            return keys\n    }\n}\n\ndef content = new JsonSlurper().parseText(prev.getResponseDataAsString())\n\ntraverse(content).each { println it }\n</code></pre>\n<p>Output:</p>\n<pre><code>....\ndevices[24].creationDate\ndevices[24].updateDate\ndevices[24].attributes\ndevices[24].attributes.name\ndevices[24].attributes.location\ndevices[24].attributes.address\ndevices[24].attributes.latitude\ndevices[24].attributes.longitude\ndevices[24].attributes.brand\ndevices[25].deviceId\ndevices[25].deviceStatus\ndevices[25].deviceType\ndevices[25].creationDate\ndevices[25].updateDate\ndevices[25].attributes\n....\n</code></pre>\n<p>could you help me to retrive keys and values?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678816098,"creation_date":1678816098,"answer_id":75736694,"question_id":75735793,"body_markdown":"Use the `@JsonCreator` annotation for the constructor of field3:\r\n\r\n    public class Flattened implements Serializable {\r\n    \r\n    \tstatic ObjectMapper objectMapper = new ObjectMapper();\r\n    \t\r\n    \tpublic String field1;\r\n    \tpublic String field2;\r\n    \tpublic Field3Class field3;\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tString jsonSerialised = &quot;{\\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;field1\\&quot;:\\&quot;value1\\&quot;,\\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;field2\\&quot;:\\&quot;value2\\&quot;,\\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;field3\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;type\\&quot;:{\\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;f1\\&quot;:\\&quot;v1\\&quot;,\\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;f2\\&quot;:\\&quot;v2\\&quot;\\r\\n&quot; + \r\n    \t\t\t\t&quot;     }\\r\\n&quot; + \r\n    \t\t\t\t&quot;  }\\r\\n&quot; + \r\n    \t\t\t\t&quot;}  &quot;;\r\n    \t\t\r\n    \t\tFlattened flattenedValue = objectMapper.readValue(jsonSerialised, Flattened.class);\r\n    \t\tobjectMapper.writeValue(System.out, flattenedValue);\r\n    \t}\r\n    \t\r\n    \tpublic static class Field3Class implements Serializable {\r\n    \t    public String f1;\r\n    \t    public String f2;\r\n    \t    @JsonCreator\r\n    \t    public Field3Class(@JsonProperty(&quot;type&quot;) Type type) {\r\n    \t        this.f1 = type.f1;\r\n    \t        this.f2 = type.f2;\r\n    \t    }\r\n    \t    \r\n    \t    public static class Type implements Serializable {\r\n    \t        public String f1;\r\n    \t        public String f2;\r\n    \t   }\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    {&quot;field1&quot;:&quot;value1&quot;,&quot;field2&quot;:&quot;value2&quot;,&quot;field3&quot;:{&quot;f1&quot;:&quot;v1&quot;,&quot;f2&quot;:&quot;v2&quot;}}","title":"Flatten nested JSON object using jackson","body":"<p>Use the <code>@JsonCreator</code> annotation for the constructor of field3:</p>\n<pre><code>public class Flattened implements Serializable {\n\n    static ObjectMapper objectMapper = new ObjectMapper();\n    \n    public String field1;\n    public String field2;\n    public Field3Class field3;\n    \n    public static void main(String[] args) throws IOException {\n\n        String jsonSerialised = &quot;{\\r\\n&quot; + \n                &quot;  \\&quot;field1\\&quot;:\\&quot;value1\\&quot;,\\r\\n&quot; + \n                &quot;  \\&quot;field2\\&quot;:\\&quot;value2\\&quot;,\\r\\n&quot; + \n                &quot;  \\&quot;field3\\&quot;: {\\r\\n&quot; + \n                &quot;     \\&quot;type\\&quot;:{\\r\\n&quot; + \n                &quot;        \\&quot;f1\\&quot;:\\&quot;v1\\&quot;,\\r\\n&quot; + \n                &quot;        \\&quot;f2\\&quot;:\\&quot;v2\\&quot;\\r\\n&quot; + \n                &quot;     }\\r\\n&quot; + \n                &quot;  }\\r\\n&quot; + \n                &quot;}  &quot;;\n        \n        Flattened flattenedValue = objectMapper.readValue(jsonSerialised, Flattened.class);\n        objectMapper.writeValue(System.out, flattenedValue);\n    }\n    \n    public static class Field3Class implements Serializable {\n        public String f1;\n        public String f2;\n        @JsonCreator\n        public Field3Class(@JsonProperty(&quot;type&quot;) Type type) {\n            this.f1 = type.f1;\n            this.f2 = type.f2;\n        }\n        \n        public static class Type implements Serializable {\n            public String f1;\n            public String f2;\n       }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{&quot;field1&quot;:&quot;value1&quot;,&quot;field2&quot;:&quot;value2&quot;,&quot;field3&quot;:{&quot;f1&quot;:&quot;v1&quot;,&quot;f2&quot;:&quot;v2&quot;}}\n</code></pre>\n"}],"owner":{"account_id":28012871,"reputation":1,"user_id":21395104,"display_name":"gls79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678816098,"creation_date":1678810686,"question_id":75735793,"body_markdown":"This question&#39;s answer (https://stackoverflow.com/questions/16654208/convert-json-many-objects-to-single-json-using-jackson) explains how to flatten JSON using Jackson\r\n\r\nBut my json is like this \r\n\r\n```\r\n{\r\n  &quot;field1&quot;:&quot;value1&quot;,\r\n  &quot;field2&quot;:&quot;value2&quot;,\r\n  &quot;field3&quot;: {\r\n     &quot;type&quot;:{\r\n        &quot;f1&quot;:&quot;v1&quot;,\r\n        &quot;f2&quot;:&quot;v2&quot;\r\n     }\r\n  }\r\n}  \r\n```\r\nI need something like this\r\n```\r\n{\r\n  &quot;field1&quot;:&quot;value1&quot;,\r\n  &quot;field2&quot;:&quot;value2&quot;,\r\n  &quot;field3&quot;: {\r\n        &quot;f1&quot;:&quot;v1&quot;,\r\n        &quot;f2&quot;:&quot;v2&quot;\r\n  }\r\n}  \r\n```\r\n\r\nso that `field3.type` is put directly into `field3` and then deserialize to Json object\r\n\r\nI need steps to do this just using jackson annotations and not by unpacking the nested object.\r\n\r\n","title":"Flatten nested JSON object using jackson","body":"<p>This question's answer (<a href=\"https://stackoverflow.com/questions/16654208/convert-json-many-objects-to-single-json-using-jackson\">Convert JSON many objects to single JSON using Jackson</a>) explains how to flatten JSON using Jackson</p>\n<p>But my json is like this</p>\n<pre><code>{\n  &quot;field1&quot;:&quot;value1&quot;,\n  &quot;field2&quot;:&quot;value2&quot;,\n  &quot;field3&quot;: {\n     &quot;type&quot;:{\n        &quot;f1&quot;:&quot;v1&quot;,\n        &quot;f2&quot;:&quot;v2&quot;\n     }\n  }\n}  \n</code></pre>\n<p>I need something like this</p>\n<pre><code>{\n  &quot;field1&quot;:&quot;value1&quot;,\n  &quot;field2&quot;:&quot;value2&quot;,\n  &quot;field3&quot;: {\n        &quot;f1&quot;:&quot;v1&quot;,\n        &quot;f2&quot;:&quot;v2&quot;\n  }\n}  \n</code></pre>\n<p>so that <code>field3.type</code> is put directly into <code>field3</code> and then deserialize to Json object</p>\n<p>I need steps to do this just using jackson annotations and not by unpacking the nested object.</p>\n"},{"tags":["java","list","arraylist","compare","comparator"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1678802131,"post_id":75734052,"comment_id":133601152,"body_markdown":"The sorting implementation can pass the arguments in either order, so long as it uses the result appropriately. There&#39;s nothing to say that an earlier element in the collection *has* to be passed as the first argument and a later element *has* to be passed as the second argument.","body":"The sorting implementation can pass the arguments in either order, so long as it uses the result appropriately. There&#39;s nothing to say that an earlier element in the collection <i>has</i> to be passed as the first argument and a later element <i>has</i> to be passed as the second argument."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1678802159,"post_id":75734052,"comment_id":133601166,"body_markdown":"Why did you expect them to be the same? You don&#39;t know how `List.sort` is implemented. Why expect a relationship between the order of elements in the list and the order of the arguments?","body":"Why did you expect them to be the same? You don&#39;t know how <code>List.sort</code> is implemented. Why expect a relationship between the order of elements in the list and the order of the arguments?"}],"answers":[{"tags":[],"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678802324,"creation_date":1678802324,"answer_id":75734148,"question_id":75734052,"body_markdown":"Because it doesn&#39;t matter. The comparator should be able to return the correct result either way. If it doesn&#39;t then your comparator has a bug in it. As for the actual internal reasons, we cant know that without viewing the source code of the particular Java implementation you&#39;re using (remember that Java is an open standard and so there are actually multiple implementations of Java, some of which may exhibit this behavior, and others which may not). So make your comparator work the same either way. ","title":"Why does the order of the arguments passed in List.sort differ from the order of the parameters in the compare method?","body":"<p>Because it doesn't matter. The comparator should be able to return the correct result either way. If it doesn't then your comparator has a bug in it. As for the actual internal reasons, we cant know that without viewing the source code of the particular Java implementation you're using (remember that Java is an open standard and so there are actually multiple implementations of Java, some of which may exhibit this behavior, and others which may not). So make your comparator work the same either way.</p>\n"}],"owner":{"account_id":28013430,"reputation":1,"user_id":21395570,"display_name":"Namakemono"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678815887,"creation_date":1678801902,"question_id":75734052,"body_markdown":"Why does the order of the arguments passed in List.sort differ from the order of the parameters in the compare method?\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nclass SampleComparator implements Comparator&lt;Sample&gt; {\r\n    public int compare(Sample param1, Sample param2) {\r\n        System.out.println(&quot;1st param is &quot; + param1.getNum() + &quot;, 2nd param is &quot; + param2.getNum()); // 1st param is 2, 2nd param is 1\r\n\r\n        if (param1.getNum() &lt; param2.getNum()) {\r\n            return 1;\r\n        }\r\n        if (param1.getNum() &gt; param2.getNum()) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    }\r\n}\r\nclass Sample {\r\n    private int num;\r\n    public Sample(int num) {\r\n        this.num = num;\r\n    }\r\n    public int getNum() {\r\n        return num;\r\n    }\r\n}\r\npublic class SampleSort {\r\n    public static void main(String[] args) {\r\n        Sample[] obj = {\r\n                new Sample(1), //arg is 1\r\n                new Sample(2)  //arg is 2\r\n        };\r\n        List&lt;Sample&gt; list = new ArrayList&lt;&gt;(Arrays.asList(obj));\r\n        list.sort(new SampleComparator());\r\n    }\r\n}\r\n```\r\n\r\nI expected this.  \r\n1st arg is 1, 2nd arg is 2\r\n\r\nActual Results.  \r\n1st arg is 2, 2nd arg is 1\r\n\r\nI saw this but couldn&#39;t understand.  \r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#sort-java.util.Comparator-  \r\nThank you, I am a novice and was puzzled by this behavior.  \r\n I found the answer.\r\n\r\nwhen the sort method calls the compare method, it passes the arguments in the opposite order, with param2 first and param1 second.\r\nThis ordering may seem counterintuitive, but it is deliberate and consistent with the convention used in the Java API. The reason for this convention is to allow for greater flexibility in defining comparators. By swapping the order of the arguments, the compare method can be used to define a comparison in which the first argument is considered greater than the second or vice versa, depending on the needs of the application.\r\n\r\n```\r\nclass SampleComparator implements Comparator&lt;String&gt; {\r\n    public int compare(String param1, String param2) {\r\n        System.out.println(&quot;1st param is &quot; + param1 + &quot;, 2nd param is &quot; + param2); // 1st param is A, 2nd param is B\r\n        return param1.compareTo(param2);\r\n    }\r\n}\r\npublic class SampleSort {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;B&quot;); //arg is &quot;B&quot;\r\n        list.add(&quot;A&quot;); //arg is &quot;A&quot;\r\n        list.sort(new SampleComparator());\r\n    }\r\n}\r\n```\r\n","title":"Why does the order of the arguments passed in List.sort differ from the order of the parameters in the compare method?","body":"<p>Why does the order of the arguments passed in List.sort differ from the order of the parameters in the compare method?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.List;\nclass SampleComparator implements Comparator&lt;Sample&gt; {\n    public int compare(Sample param1, Sample param2) {\n        System.out.println(&quot;1st param is &quot; + param1.getNum() + &quot;, 2nd param is &quot; + param2.getNum()); // 1st param is 2, 2nd param is 1\n\n        if (param1.getNum() &lt; param2.getNum()) {\n            return 1;\n        }\n        if (param1.getNum() &gt; param2.getNum()) {\n            return -1;\n        }\n        return 0;\n    }\n}\nclass Sample {\n    private int num;\n    public Sample(int num) {\n        this.num = num;\n    }\n    public int getNum() {\n        return num;\n    }\n}\npublic class SampleSort {\n    public static void main(String[] args) {\n        Sample[] obj = {\n                new Sample(1), //arg is 1\n                new Sample(2)  //arg is 2\n        };\n        List&lt;Sample&gt; list = new ArrayList&lt;&gt;(Arrays.asList(obj));\n        list.sort(new SampleComparator());\n    }\n}\n</code></pre>\n<p>I expected this.<br />\n1st arg is 1, 2nd arg is 2</p>\n<p>Actual Results.<br />\n1st arg is 2, 2nd arg is 1</p>\n<p>I saw this but couldn't understand.<br />\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#sort-java.util.Comparator-</a><br />\nThank you, I am a novice and was puzzled by this behavior.<br />\nI found the answer.</p>\n<p>when the sort method calls the compare method, it passes the arguments in the opposite order, with param2 first and param1 second.\nThis ordering may seem counterintuitive, but it is deliberate and consistent with the convention used in the Java API. The reason for this convention is to allow for greater flexibility in defining comparators. By swapping the order of the arguments, the compare method can be used to define a comparison in which the first argument is considered greater than the second or vice versa, depending on the needs of the application.</p>\n<pre><code>class SampleComparator implements Comparator&lt;String&gt; {\n    public int compare(String param1, String param2) {\n        System.out.println(&quot;1st param is &quot; + param1 + &quot;, 2nd param is &quot; + param2); // 1st param is A, 2nd param is B\n        return param1.compareTo(param2);\n    }\n}\npublic class SampleSort {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;B&quot;); //arg is &quot;B&quot;\n        list.add(&quot;A&quot;); //arg is &quot;A&quot;\n        list.sort(new SampleComparator());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1678818562,"post_id":75736651,"comment_id":133606192,"body_markdown":"`that suddenly takes more time before the startup completes`, how much now than before ?","body":"<code>that suddenly takes more time before the startup completes</code>, how much now than before ?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1678822625,"post_id":75736651,"comment_id":133607254,"body_markdown":"Judging by the log, over 6 minutes is being spent starting up Hibernate. Have you made any changes to your application&#39;s entities or its Hibernate configuration? Alternatively, has the database that you&#39;re using changed at all? Perhaps these some more Hibernate logging in the 6 minutes period that shows where the time&#39;s being spent.","body":"Judging by the log, over 6 minutes is being spent starting up Hibernate. Have you made any changes to your application&#39;s entities or its Hibernate configuration? Alternatively, has the database that you&#39;re using changed at all? Perhaps these some more Hibernate logging in the 6 minutes period that shows where the time&#39;s being spent."},{"owner":{"account_id":1786546,"reputation":71,"user_id":1627912,"display_name":"Olumayokun Fowowe"},"score":0,"creation_date":1678828391,"post_id":75736651,"comment_id":133608754,"body_markdown":"@AndyWilkinson I commented out most of the recent changes and pointed the application to an in-memory database, however, this hasn&#39;t stopped the issue either. The application spools out outputs like the one listed in the question continuously even after 10 minutes without a successful start. ```2023-03-14 14:15:14,931 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.```","body":"@AndyWilkinson I commented out most of the recent changes and pointed the application to an in-memory database, however, this hasn&#39;t stopped the issue either. The application spools out outputs like the one listed in the question continuously even after 10 minutes without a successful start. <code>2023-03-14 14:15:14,931 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.</code>"},{"owner":{"account_id":1786546,"reputation":71,"user_id":1627912,"display_name":"Olumayokun Fowowe"},"score":0,"creation_date":1678828742,"post_id":75736651,"comment_id":133608834,"body_markdown":"@PeterMmm it seems that the application has entered an endless cycle without a successful start with outputs like: ```2023-03-14 14:18:07,332 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property ```","body":"@PeterMmm it seems that the application has entered an endless cycle without a successful start with outputs like: <code>2023-03-14 14:18:07,332 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property </code>"}],"owner":{"account_id":1786546,"reputation":71,"user_id":1627912,"display_name":"Olumayokun Fowowe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678815867,"creation_date":1678815867,"question_id":75736651,"body_markdown":"I have a spring boot project that suddenly takes more time before the startup completes and I am at a loss about the cause. I would appreciate any insight into the cause and how I can resolve it. Below is a snippet from the log output:\r\n\r\n```\r\n2023-03-14 10:36:04,113 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].\r\n2023-03-14 10:36:04,247 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].\r\n2023-03-14 10:36:04,395 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].\r\n2023-03-14 10:36:04,660 [restartedMain] INFO  org.hibernate.Version                              - HHH000412: Hibernate Core {5.4.9.Final}\r\n2023-03-14 10:36:04,760 [restartedMain] DEBUG org.hibernate.cfg.Environment                      - HHH000206: hibernate.properties not found\r\n2023-03-14 10:36:04,913 [restartedMain] DEBUG org.hibernate.service.spi.ServiceBinding           - Overriding existing service binding [org.hibernate.secure.spi.JaccService]\r\n2023-03-14 10:36:04,995 [restartedMain] DEBUG o.h.c.internal.RegionFactoryInitiator              - Cannot default RegionFactory based on registered strategies as `[]` RegionFactory strategies were registered\r\n2023-03-14 10:36:05,131 [restartedMain] DEBUG o.h.c.internal.RegionFactoryInitiator              - Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory\r\n2023-03-14 10:36:05,288 [restartedMain] INFO  org.hibernate.annotations.common.Version           - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n2023-03-14 10:36:05,449 [restartedMain] DEBUG org.hibernate.type.BasicTypeRegistry               - Adding type registration boolean -&gt; org.hibernate.type.BooleanType@2801d36c\r\n\r\n...\r\n\r\n2023-03-14 10:42:34,943 [restartedMain] DEBUG org.hibernate.cfg.Ejb3Column                       - Binding column: Ejb3Column{table=org.hibernate.mapping.Table(bulk_transfer_details), mappingColumn=resp, insertable=true, updatable=true, unique=false}\r\n2023-03-14 10:42:35,569 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - MetadataSourceProcessor property resp with lazy=false\r\n2023-03-14 10:42:36,171 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.paddieswitch.domains.BulkBankTransferDetail:resp]\r\n2023-03-14 10:42:36,799 [restartedMain] DEBUG o.h.cfg.annotations.SimpleValueBinder              - building SimpleValue for resp\r\n2023-03-14 10:42:37,413 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - Building property resp\r\n2023-03-14 10:42:38,008 [restartedMain] DEBUG org.hibernate.cfg.Ejb3Column                       - Binding column: Ejb3Column{table=org.hibernate.mapping.Table(bulk_transfer_details), mappingColumn=response_code, insertable=true, updatable=true, unique=false}\r\n2023-03-14 10:42:38,639 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - MetadataSourceProcessor property responseCode with lazy=false\r\n2023-03-14 10:42:39,298 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.paddieswitch.domains.BulkBankTransferDetail:responseCode]\r\n\r\n```\r\n\r\nMany thanks.","title":"Spring Boot startup process","body":"<p>I have a spring boot project that suddenly takes more time before the startup completes and I am at a loss about the cause. I would appreciate any insight into the cause and how I can resolve it. Below is a snippet from the log output:</p>\n<pre><code>2023-03-14 10:36:04,113 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].\n2023-03-14 10:36:04,247 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].\n2023-03-14 10:36:04,395 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].\n2023-03-14 10:36:04,660 [restartedMain] INFO  org.hibernate.Version                              - HHH000412: Hibernate Core {5.4.9.Final}\n2023-03-14 10:36:04,760 [restartedMain] DEBUG org.hibernate.cfg.Environment                      - HHH000206: hibernate.properties not found\n2023-03-14 10:36:04,913 [restartedMain] DEBUG org.hibernate.service.spi.ServiceBinding           - Overriding existing service binding [org.hibernate.secure.spi.JaccService]\n2023-03-14 10:36:04,995 [restartedMain] DEBUG o.h.c.internal.RegionFactoryInitiator              - Cannot default RegionFactory based on registered strategies as `[]` RegionFactory strategies were registered\n2023-03-14 10:36:05,131 [restartedMain] DEBUG o.h.c.internal.RegionFactoryInitiator              - Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory\n2023-03-14 10:36:05,288 [restartedMain] INFO  org.hibernate.annotations.common.Version           - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2023-03-14 10:36:05,449 [restartedMain] DEBUG org.hibernate.type.BasicTypeRegistry               - Adding type registration boolean -&gt; org.hibernate.type.BooleanType@2801d36c\n\n...\n\n2023-03-14 10:42:34,943 [restartedMain] DEBUG org.hibernate.cfg.Ejb3Column                       - Binding column: Ejb3Column{table=org.hibernate.mapping.Table(bulk_transfer_details), mappingColumn=resp, insertable=true, updatable=true, unique=false}\n2023-03-14 10:42:35,569 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - MetadataSourceProcessor property resp with lazy=false\n2023-03-14 10:42:36,171 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.paddieswitch.domains.BulkBankTransferDetail:resp]\n2023-03-14 10:42:36,799 [restartedMain] DEBUG o.h.cfg.annotations.SimpleValueBinder              - building SimpleValue for resp\n2023-03-14 10:42:37,413 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - Building property resp\n2023-03-14 10:42:38,008 [restartedMain] DEBUG org.hibernate.cfg.Ejb3Column                       - Binding column: Ejb3Column{table=org.hibernate.mapping.Table(bulk_transfer_details), mappingColumn=response_code, insertable=true, updatable=true, unique=false}\n2023-03-14 10:42:38,639 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - MetadataSourceProcessor property responseCode with lazy=false\n2023-03-14 10:42:39,298 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.paddieswitch.domains.BulkBankTransferDetail:responseCode]\n\n</code></pre>\n<p>Many thanks.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":2876507,"reputation":786,"user_id":2468417,"display_name":"Viraj Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678749857,"creation_date":1678749857,"answer_id":75727777,"question_id":75727712,"body_markdown":"Whenever you get a `java.net.SocketException: Connection reset` error message, this means that something happened to the connection between two ends of the socket. This about when you&#39;re watching a video online, then you change your WiFi networkd  you get a similar error.\r\n\r\nMore specifically, with your issue, you are quitting while the WebSocket is still open. You must first terminate the web socket connection between the `ChromeDriver` and the browser before calling `quit()`.\r\n\r\nYour issue is not a &quot;Warning&quot; as you claimed. The &quot;warnings&quot; are not actually a part of the issue, but they still have value. The actual error is the following:\r\n\r\n```\r\njava.net.SocketException: Connection reset\r\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394) ~[na:na]\r\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426) ~[na:na]\r\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n\r\n... but the warnings that came before tell me two things:\r\n\r\n1. You are attempting to open a duplicate connection with the Chrome browser\r\n2. The first connection is not terminated.\r\n\r\nYou essentially have two connections between the chrome driver and the browser. When you call `quit()`, Selenium must close its connection with the browser, and this happens only once.\r\n\r\nYou can either manually close both connection before invoking `quit()` (which I don&#39;t know how to do), or you can go through your code (or use a debugger) to find where the second connection is attempting to be established.","title":"Selenium Java throws Socket exception (warning) without cause","body":"<p>Whenever you get a <code>java.net.SocketException: Connection reset</code> error message, this means that something happened to the connection between two ends of the socket. This about when you're watching a video online, then you change your WiFi networkd  you get a similar error.</p>\n<p>More specifically, with your issue, you are quitting while the WebSocket is still open. You must first terminate the web socket connection between the <code>ChromeDriver</code> and the browser before calling <code>quit()</code>.</p>\n<p>Your issue is not a &quot;Warning&quot; as you claimed. The &quot;warnings&quot; are not actually a part of the issue, but they still have value. The actual error is the following:</p>\n<pre><code>java.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394) ~[na:na]\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426) ~[na:na]\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>... but the warnings that came before tell me two things:</p>\n<ol>\n<li>You are attempting to open a duplicate connection with the Chrome browser</li>\n<li>The first connection is not terminated.</li>\n</ol>\n<p>You essentially have two connections between the chrome driver and the browser. When you call <code>quit()</code>, Selenium must close its connection with the browser, and this happens only once.</p>\n<p>You can either manually close both connection before invoking <code>quit()</code> (which I don't know how to do), or you can go through your code (or use a debugger) to find where the second connection is attempting to be established.</p>\n"}],"owner":{"account_id":1523386,"reputation":1816,"user_id":1422434,"accept_rate":59,"display_name":"Genaut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678815251,"creation_date":1678748996,"question_id":75727712,"body_markdown":"I get a &quot;warning&quot; in an onError method in Selenium, using it in a Java application (using Spring Batch Framework). I can&#39;t detect what and why it&#39;s throwing this error.\r\n\r\nThis produces when I use the `quit()` method of [ChromeDriver][1] class. When I try to debug, this exception is not thrown.\r\n\r\n    Starting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 58642\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    [1678747030.900][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\n    [2m2023-03-13 23:37:10.946[0;39m [32m INFO[0;39m [35m15264[0;39m [2m---[0;39m [2m[ null to remote][0;39m [36mo.o.selenium.remote.ProtocolHandshake   [0;39m [2m:[0;39m Detected dialect: W3C\r\n    [2m2023-03-13 23:37:10.993[0;39m [32m INFO[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.o.selenium.devtools.CdpVersionFinder  [0;39m [2m:[0;39m Found exact CDP implementation for version 110\r\n    [2m2023-03-13 23:38:33.789[0;39m [32mDEBUG[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.item.database.JdbcBatchItemWriter [0;39m [2m:[0;39m Executing batch with 1 items.\r\n    [2m2023-03-13 23:39:19.811[0;39m [32mDEBUG[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.item.database.JdbcBatchItemWriter [0;39m [2m:[0;39m Executing batch with 1 items.\r\n    [2m2023-03-13 23:39:19.856[0;39m [33m WARN[0;39m [35m15264[0;39m [2m---[0;39m [2m[cHttpClient-1-4][0;39m [36mo.a.netty.handler.WebSocketHandler      [0;39m [2m:[0;39m onError\r\n    \r\n    java.net.SocketException: Connection reset\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394) ~[na:na]\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426) ~[na:na]\r\n    \tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chromium/ChromiumDriver.html#quit()\r\n\r\nMy code from ChromeDriver:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src\\\\main\\\\resources\\\\chromedriver.exe&quot;);\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--headless=new&quot;);\r\nChromeDriver chromeDriver = new ChromeDriver(options);\r\n            \r\nchromeDriver.get(&quot;https://www.google.com/&quot;);\r\n//select web items, interact with them\r\nchromeDriver.quit();\r\n```","title":"Selenium Java throws Socket exception (warning) without cause","body":"<p>I get a &quot;warning&quot; in an onError method in Selenium, using it in a Java application (using Spring Batch Framework). I can't detect what and why it's throwing this error.</p>\n<p>This produces when I use the <code>quit()</code> method of <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chromium/ChromiumDriver.html#quit()\" rel=\"nofollow noreferrer\">ChromeDriver</a> class. When I try to debug, this exception is not thrown.</p>\n<pre><code>Starting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 58642\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1678747030.900][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\n[2m2023-03-13 23:37:10.946[0;39m [32m INFO[0;39m [35m15264[0;39m [2m---[0;39m [2m[ null to remote][0;39m [36mo.o.selenium.remote.ProtocolHandshake   [0;39m [2m:[0;39m Detected dialect: W3C\n[2m2023-03-13 23:37:10.993[0;39m [32m INFO[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.o.selenium.devtools.CdpVersionFinder  [0;39m [2m:[0;39m Found exact CDP implementation for version 110\n[2m2023-03-13 23:38:33.789[0;39m [32mDEBUG[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.item.database.JdbcBatchItemWriter [0;39m [2m:[0;39m Executing batch with 1 items.\n[2m2023-03-13 23:39:19.811[0;39m [32mDEBUG[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.item.database.JdbcBatchItemWriter [0;39m [2m:[0;39m Executing batch with 1 items.\n[2m2023-03-13 23:39:19.856[0;39m [33m WARN[0;39m [35m15264[0;39m [2m---[0;39m [2m[cHttpClient-1-4][0;39m [36mo.a.netty.handler.WebSocketHandler      [0;39m [2m:[0;39m onError\n\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394) ~[na:na]\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426) ~[na:na]\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My code from ChromeDriver:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src\\\\main\\\\resources\\\\chromedriver.exe&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--headless=new&quot;);\nChromeDriver chromeDriver = new ChromeDriver(options);\n            \nchromeDriver.get(&quot;https://www.google.com/&quot;);\n//select web items, interact with them\nchromeDriver.quit();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caching","java-17"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1678814300,"post_id":75736049,"comment_id":133605021,"body_markdown":"Please mention the version of sprint boot and share the complete stacktrace?","body":"Please mention the version of sprint boot and share the complete stacktrace?"}],"owner":{"account_id":15016919,"reputation":13,"user_id":10839666,"display_name":"Deepak Lalithkumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678815005,"creation_date":1678812079,"question_id":75736049,"body_markdown":"Springframework not working with Java 17. When we use cache manger.getCache(&quot;cache&quot;), spring creates cache by default by lazy initialisation. This was working perfectly with Java 8 and Java 11, but when I change to Java 17, this gives me a null pointer exception saying that cache is null.\r\n\r\nIs lazy initialisation not working in Java. 17? \r\n\r\nWhat is the solution to make srping framework cache work with Java 17?\r\n\r\nChanging from Java 8 /11 to Java 17 gives me this error.\r\n\r\n\r\nSpring boot version 2.7.3","title":"Springframework Cache not working with Java 17","body":"<p>Springframework not working with Java 17. When we use cache manger.getCache(&quot;cache&quot;), spring creates cache by default by lazy initialisation. This was working perfectly with Java 8 and Java 11, but when I change to Java 17, this gives me a null pointer exception saying that cache is null.</p>\n<p>Is lazy initialisation not working in Java. 17?</p>\n<p>What is the solution to make srping framework cache work with Java 17?</p>\n<p>Changing from Java 8 /11 to Java 17 gives me this error.</p>\n<p>Spring boot version 2.7.3</p>\n"},{"tags":["java","file","inputstream","binaryfiles","outputstream"],"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678814630,"creation_date":1678814630,"question_id":75736455,"body_markdown":"I have 2 classes to write and read binary file. I have to store an ArrayList of prime numbers to binary file, so that i have first 8 byte in each line of file represent how many numbers will be saved in that line(the lines are a formality, I make them with the &#39;/n&#39; symbol and then read that symbol without adding anything). Depending on how many bytes is needed to store a prime number i have to store them in 1 line, if it is 1 byte, second line if ot is 2 byte, and so on.(i will have maximum 3 lines with 1,2,3 bytes numbers).\r\nHere is my code. \r\n```\r\nclass Write2 {\r\n    public static final int[] Byte_Sizes  = {1,2,3};\r\n    public  void write(String filename, ArrayList&lt;Integer&gt; data) {\r\n\r\n        try( OutputStream os = new FileOutputStream(filename)) {\r\n            int[] arr = countNumbersInEachLine(data);\r\n            int index = 0;\r\n\r\n            for(int j=0; j&lt;arr.length; j++) {\r\n                long tmp = arr[j];\r\n\r\n                for (int i = 7; i &gt;= 0; --i) {\r\n                    os.write((int) (tmp &gt;&gt; i * 8));\r\n                }\r\n\r\n                while (index&lt;data.size() &amp;&amp; index&lt; tmp){\r\n                    int size = getByteSize(data.get(index));\r\n\r\n                    for (int b = size -1; b &gt;= 0 ; --b) {\r\n                        os.write((int) (data.get(index) &gt;&gt;&gt; b * 8));\r\n                    }\r\n\r\n                    index++;\r\n                }\r\n            }\r\n\r\n        }catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n    }\r\n    public static int getByteSize(int value) {\r\n        int size =1;\r\n        while (value &gt;= Math.pow(2, 8*size)) {//num &gt;= (1 &lt;&lt; (8 * size))\r\n            size++;\r\n        }\r\n        return size;\r\n    }\r\n    public int[] countNumbersInEachLine(ArrayList&lt;Integer&gt; primes){\r\n        int[] amount_in_each_line = new int[Byte_Sizes.length];\r\n        for(int j =0; j&lt; Byte_Sizes.length; j++) {\r\n            int counter =0;\r\n            for (int i = 0; i &lt; primes.size(); i++) {\r\n                if(getByteSize(primes.get(i)) == Byte_Sizes[j]){\r\n                    counter++;\r\n                }\r\n            }\r\n            amount_in_each_line[j] = counter;\r\n        }\r\n        return amount_in_each_line;\r\n    }\r\n}\r\nclass Read2 {\r\n    public  ArrayList&lt;Integer&gt; readFromFile(String filename) {\r\n        ArrayList&lt;Integer&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        try(InputStream is = new FileInputStream(filename)) {\r\n\r\n            while (true){\r\n                long count =0;\r\n                for(int i = 0; i&lt;8; i++ ){\r\n                    long a = is.read();\r\n\r\n                    if(a == -1){\r\n                        is.close();\r\n                        return data;\r\n                    }\r\n\r\n                    count =( count&lt;&lt; 8) | a;\r\n                }\r\n\r\n\r\n                for(int i = 0; i&lt;count; i++){\r\n\r\n                    int value =0;\r\n\r\n                    if(count == 54){\r\n                        int a = is.read();\r\n                        if(a == -1){\r\n                            is.close();\r\n                            return data;\r\n                        }\r\n\r\n                        value = ( value&lt;&lt;8) | a;\r\n                    }\r\n                    else if(count == 6488){\r\n                        for(int f =0; f&lt;2; f++){\r\n                            int a = is.read();\r\n                            if(a == -1){\r\n                                is.close();\r\n                                return data;\r\n                            }\r\n\r\n                            value = ( value&lt;&lt;8) | a;\r\n                        }\r\n                    }\r\n                    else if(count == 760888){\r\n                        for(int f =0; f&lt;3; f++){\r\n                            int a = is.read();\r\n                            if(a == -1){\r\n                                is.close();\r\n                                return data;\r\n                            }\r\n\r\n                            value = ( value&lt;&lt;8) | a;\r\n                        }\r\n                    }\r\n\r\n                    data.add(value);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n        return data;\r\n    }\r\n}\r\n\r\n```\r\nMethod will culculate how many 1/2/3 bytes numbers exist(it works properly and return values 54 6488 760888) Method getByteSize detect how many bytes is needed to store number. \r\n\r\n\r\nSo i have problems some unknown problems. I used debugger to check whether my numbers are read correctly, and it works okey, \r\n```\r\nlong count =0;\r\n                for(int i = 0; i&lt;8; i++ ){\r\n                    long a = is.read();\r\n\r\n                    if(a == -1){\r\n                        is.close();\r\n                        return data;\r\n                    }\r\n\r\n                    count =( count&lt;&lt; 8) | a;\r\n                }\r\n```\r\nusing this, i read first numbers in each line, that showed how many 1 byte, 2 byte, and 3 byte numbers there would be. First it read 54, then reed 54 1-byte numbers in that line, tham 6488 and 6488 2-byte numbers and after this last number isn&#39;t read correctly. Can anyone tell me what the problem might be?","title":"Writing/reading binary file","body":"<p>I have 2 classes to write and read binary file. I have to store an ArrayList of prime numbers to binary file, so that i have first 8 byte in each line of file represent how many numbers will be saved in that line(the lines are a formality, I make them with the '/n' symbol and then read that symbol without adding anything). Depending on how many bytes is needed to store a prime number i have to store them in 1 line, if it is 1 byte, second line if ot is 2 byte, and so on.(i will have maximum 3 lines with 1,2,3 bytes numbers).\nHere is my code.</p>\n<pre><code>class Write2 {\n    public static final int[] Byte_Sizes  = {1,2,3};\n    public  void write(String filename, ArrayList&lt;Integer&gt; data) {\n\n        try( OutputStream os = new FileOutputStream(filename)) {\n            int[] arr = countNumbersInEachLine(data);\n            int index = 0;\n\n            for(int j=0; j&lt;arr.length; j++) {\n                long tmp = arr[j];\n\n                for (int i = 7; i &gt;= 0; --i) {\n                    os.write((int) (tmp &gt;&gt; i * 8));\n                }\n\n                while (index&lt;data.size() &amp;&amp; index&lt; tmp){\n                    int size = getByteSize(data.get(index));\n\n                    for (int b = size -1; b &gt;= 0 ; --b) {\n                        os.write((int) (data.get(index) &gt;&gt;&gt; b * 8));\n                    }\n\n                    index++;\n                }\n            }\n\n        }catch (IOException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n    public static int getByteSize(int value) {\n        int size =1;\n        while (value &gt;= Math.pow(2, 8*size)) {//num &gt;= (1 &lt;&lt; (8 * size))\n            size++;\n        }\n        return size;\n    }\n    public int[] countNumbersInEachLine(ArrayList&lt;Integer&gt; primes){\n        int[] amount_in_each_line = new int[Byte_Sizes.length];\n        for(int j =0; j&lt; Byte_Sizes.length; j++) {\n            int counter =0;\n            for (int i = 0; i &lt; primes.size(); i++) {\n                if(getByteSize(primes.get(i)) == Byte_Sizes[j]){\n                    counter++;\n                }\n            }\n            amount_in_each_line[j] = counter;\n        }\n        return amount_in_each_line;\n    }\n}\nclass Read2 {\n    public  ArrayList&lt;Integer&gt; readFromFile(String filename) {\n        ArrayList&lt;Integer&gt; data = new ArrayList&lt;&gt;();\n\n        try(InputStream is = new FileInputStream(filename)) {\n\n            while (true){\n                long count =0;\n                for(int i = 0; i&lt;8; i++ ){\n                    long a = is.read();\n\n                    if(a == -1){\n                        is.close();\n                        return data;\n                    }\n\n                    count =( count&lt;&lt; 8) | a;\n                }\n\n\n                for(int i = 0; i&lt;count; i++){\n\n                    int value =0;\n\n                    if(count == 54){\n                        int a = is.read();\n                        if(a == -1){\n                            is.close();\n                            return data;\n                        }\n\n                        value = ( value&lt;&lt;8) | a;\n                    }\n                    else if(count == 6488){\n                        for(int f =0; f&lt;2; f++){\n                            int a = is.read();\n                            if(a == -1){\n                                is.close();\n                                return data;\n                            }\n\n                            value = ( value&lt;&lt;8) | a;\n                        }\n                    }\n                    else if(count == 760888){\n                        for(int f =0; f&lt;3; f++){\n                            int a = is.read();\n                            if(a == -1){\n                                is.close();\n                                return data;\n                            }\n\n                            value = ( value&lt;&lt;8) | a;\n                        }\n                    }\n\n                    data.add(value);\n                }\n\n            }\n\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n        return data;\n    }\n}\n\n</code></pre>\n<p>Method will culculate how many 1/2/3 bytes numbers exist(it works properly and return values 54 6488 760888) Method getByteSize detect how many bytes is needed to store number.</p>\n<p>So i have problems some unknown problems. I used debugger to check whether my numbers are read correctly, and it works okey,</p>\n<pre><code>long count =0;\n                for(int i = 0; i&lt;8; i++ ){\n                    long a = is.read();\n\n                    if(a == -1){\n                        is.close();\n                        return data;\n                    }\n\n                    count =( count&lt;&lt; 8) | a;\n                }\n</code></pre>\n<p>using this, i read first numbers in each line, that showed how many 1 byte, 2 byte, and 3 byte numbers there would be. First it read 54, then reed 54 1-byte numbers in that line, tham 6488 and 6488 2-byte numbers and after this last number isn't read correctly. Can anyone tell me what the problem might be?</p>\n"},{"tags":["java","android","mobile","ads","amazon-mobile-ads"],"answers":[{"tags":[],"owner":{"account_id":8624880,"reputation":1,"user_id":14426671,"display_name":"Prathmesh Rajmane"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602345151,"creation_date":1602345151,"answer_id":64295344,"question_id":60250177,"body_markdown":"NO_FILL Means current no ads available to show.\r\nYou can try VPN &amp; select US country to check ads are working or not.\r\nyou are using old sdk new version is available which is amazon-ads-6.0.0.jar \r\n\r\nfor help you can checkout this full integration video -\r\nhttps://www.youtube.com/watch?v=6mBMRQUEmdU\r\n","title":"Failed to load Amazon Mobile Ads","body":"<p>NO_FILL Means current no ads available to show.\nYou can try VPN &amp; select US country to check ads are working or not.\nyou are using old sdk new version is available which is amazon-ads-6.0.0.jar</p>\n<p>for help you can checkout this full integration video -\n<a href=\"https://www.youtube.com/watch?v=6mBMRQUEmdU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=6mBMRQUEmdU</a></p>\n"}],"owner":{"account_id":5608290,"reputation":11,"user_id":4442017,"display_name":"worf01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678814135,"creation_date":1581867665,"question_id":60250177,"body_markdown":"I cant receive any testing Ads with the Amazon test app &quot;package com.amazon.sample.interstitialad;&quot;.\r\nI have implemented Amazon Mobile Ads in accordance with this guide: https://developer.amazon.com/public/apis/earn/mobile-ads/docs/quick-start\r\n\r\nAmazon informed me 10 days ago that my tax identity has been validated.\r\n\r\nThis is my Logcat log:\r\n\r\n    AdRegistration: Debug logging has been enabled.\r\n    AdRegistration: Amazon Mobile Ads API Version: 5.9.0\r\n    AdRegistration: Test mode has been enabled.\r\n    ...\r\n    ResponseReader AdRequest WebRequest HttpURLConnectionWebRequest: Response Body: {&quot;noretryTTL&quot;:10,&quot;instrPixelURL&quot;:&quot;https://aax-eu.amazon-adsystem.com/x/px/p/Qgqh65RdKQWxvus1GfxuG2UAAAFwTmMIggMAAA-iA90O6sw/&quot;,&quot;errorMessage&quot;:&quot;no results&quot;,&quot;errorCode&quot;:&quot;503&quot;,&quot;status&quot;:&quot;error&quot;}\r\n    MetricsCollector: METRIC Publish AD_NO_RETRY_TTL_RECEIVED\r\n    AdLoader: Server Message: no results. Try again in 10 seconds; code: 503\r\n    ...\r\n    Ad failed to load. Code: NO_FILL, Message: Server Message: no results. Try again in 10 seconds\r\n\r\nWhat i&#39;m doing wrong?\r\n\r\n\r\nThanks\r\n","title":"Failed to load Amazon Mobile Ads","body":"<p>I cant receive any testing Ads with the Amazon test app \"package com.amazon.sample.interstitialad;\".\nI have implemented Amazon Mobile Ads in accordance with this guide: <a href=\"https://developer.amazon.com/public/apis/earn/mobile-ads/docs/quick-start\" rel=\"nofollow noreferrer\">https://developer.amazon.com/public/apis/earn/mobile-ads/docs/quick-start</a></p>\n\n<p>Amazon informed me 10 days ago that my tax identity has been validated.</p>\n\n<p>This is my Logcat log:</p>\n\n<pre><code>AdRegistration: Debug logging has been enabled.\nAdRegistration: Amazon Mobile Ads API Version: 5.9.0\nAdRegistration: Test mode has been enabled.\n...\nResponseReader AdRequest WebRequest HttpURLConnectionWebRequest: Response Body: {\"noretryTTL\":10,\"instrPixelURL\":\"https://aax-eu.amazon-adsystem.com/x/px/p/Qgqh65RdKQWxvus1GfxuG2UAAAFwTmMIggMAAA-iA90O6sw/\",\"errorMessage\":\"no results\",\"errorCode\":\"503\",\"status\":\"error\"}\nMetricsCollector: METRIC Publish AD_NO_RETRY_TTL_RECEIVED\nAdLoader: Server Message: no results. Try again in 10 seconds; code: 503\n...\nAd failed to load. Code: NO_FILL, Message: Server Message: no results. Try again in 10 seconds\n</code></pre>\n\n<p>What i'm doing wrong?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriver-manager"],"answers":[{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678684132,"creation_date":1678684132,"answer_id":75718211,"question_id":75715795,"body_markdown":"    You are getting the issue because recently chrome browser updated recently 110 to 111, so the Selenium API call was forbidden for as of now, implement the below solution.\r\n    \r\n    ChromeOptions opt=new ChromeOptions();\r\n    \t\topt.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    \t\t//Launching the browser\r\n    \t\tdriver=new ChromeDriver(opt);\r\n\r\n","title":"WebDriver-Manager not updating chromedriver","body":"<pre><code>You are getting the issue because recently chrome browser updated recently 110 to 111, so the Selenium API call was forbidden for as of now, implement the below solution.\n\nChromeOptions opt=new ChromeOptions();\n        opt.addArguments(&quot;--remote-allow-origins=*&quot;);\n        //Launching the browser\n        driver=new ChromeDriver(opt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8680782,"reputation":131,"user_id":6496716,"display_name":"Bruno Prior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678814116,"creation_date":1678814116,"answer_id":75736380,"question_id":75715795,"body_markdown":"The answer can be found here: https://github.com/SeleniumHQ/selenium/issues/11750\r\n\r\nAppears to related with Chrome 111 update.\r\n\r\nI added this argument on my webdriver &quot;--remote-allow-origins=*&quot; and it&#39;s working for now.\r\n\r\n    public static ChromeDriver getChromeDriver() {\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        return new ChromeDriver(chromeOptions);\r\n    }","title":"WebDriver-Manager not updating chromedriver","body":"<p>The answer can be found here: <a href=\"https://github.com/SeleniumHQ/selenium/issues/11750\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/issues/11750</a></p>\n<p>Appears to related with Chrome 111 update.</p>\n<p>I added this argument on my webdriver &quot;--remote-allow-origins=*&quot; and it's working for now.</p>\n<pre><code>public static ChromeDriver getChromeDriver() {\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.addArguments(&quot;--start-maximized&quot;);\n    chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n    return new ChromeDriver(chromeOptions);\n}\n</code></pre>\n"}],"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678814116,"creation_date":1678649194,"question_id":75715795,"body_markdown":"I am struggling with chromedriver for Selenium. Ever since the new version of Chrome was released it stopped working even though I was using WebDriver Manager by Boni Garcia which is meant to update it automatically. \r\n\r\nCurrently whenever I run it, Chrome comes up blank with `data:,` in the address bar. \r\n\r\n\r\nI&#39;ve seen some thread saying the WebDriver Manager is not working as expected anymore but it was quite old and the setup was working fine for me for a while. \r\n\r\nOne thing I noticed is that a Maven library in my InteliJ seems to not match the latest release on Boni&#39;s github. \r\n\r\nComparing what I have in versions.properties: \r\n\r\n[![version properties from my InteliJ][1]][1]\r\n\r\n\r\nAgainst Boni&#39;s github:\r\n\r\n\r\n[![version properties from Boni&#39;s github][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/syfgN.png\r\n  [2]: https://i.stack.imgur.com/wb4fC.png\r\n\r\n\r\nMy pom file (based on Boni&#39;s learning projects) :\r\n\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SeleniumWithJava&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;slf4j.version&gt;2.0.6&lt;/slf4j.version&gt;\r\n        &lt;logback.version&gt;1.4.5&lt;/logback.version&gt;\r\n\r\n        &lt;selenium.version&gt;4.8.1&lt;/selenium.version&gt;\r\n        &lt;junit5.version&gt;5.9.2&lt;/junit5.version&gt;\r\n        &lt;assertj.version&gt;3.24.2&lt;/assertj.version&gt;\r\n        &lt;wdm.version&gt;5.3.2&lt;/wdm.version&gt;\r\n\r\n        &lt;htmlunit.version&gt;4.8.0&lt;/htmlunit.version&gt;\r\n        &lt;rerunner.version&gt;2.1.6&lt;/rerunner.version&gt;\r\n        &lt;junit-platform.version&gt;1.9.2&lt;/junit-platform.version&gt;\r\n        &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\r\n        &lt;browsermob.version&gt;2.1.5&lt;/browsermob.version&gt;\r\n        &lt;zapclient.version&gt;1.11.0&lt;/zapclient.version&gt;\r\n        &lt;axel.version&gt;4.6.0&lt;/axel.version&gt;\r\n        &lt;selenide.version&gt;6.12.0&lt;/selenide.version&gt;\r\n        &lt;datafaker.version&gt;1.8.0&lt;/datafaker.version&gt;\r\n        &lt;extentreports.version&gt;5.0.9&lt;/extentreports.version&gt;\r\n        &lt;allure.version&gt;2.21.0&lt;/allure.version&gt;\r\n        &lt;allure-maven.version&gt;2.12.0&lt;/allure-maven.version&gt;\r\n        &lt;cucumber.version&gt;7.11.1&lt;/cucumber.version&gt;\r\n        &lt;spring-boot.version&gt;3.0.3&lt;/spring-boot.version&gt;\r\n        &lt;appium.version&gt;8.3.0&lt;/appium.version&gt;\r\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\r\n\r\n        &lt;maven-surefire-plugin.version&gt;3.0.0-M9&lt;/maven-surefire-plugin.version&gt;\r\n\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\r\n        &lt;project.encondig&gt;UTF-8&lt;/project.encondig&gt;\r\n        &lt;project.build.sourceEncoding&gt;${project.encondig}&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;${project.encondig}&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;${htmlunit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${wdm.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-grid&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.artsok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rerunner-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;${rerunner.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n            &lt;version&gt;${awaitility.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.lightbody.bmp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;browsermob-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${browsermob.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.zaproxy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zap-clientapi&lt;/artifactId&gt;\r\n            &lt;version&gt;${zapclient.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.deque.html.axe-core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium&lt;/artifactId&gt;\r\n            &lt;version&gt;${axel.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenide.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.datafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;datafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;${datafaker.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;${extentreports.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${appium.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;!-- The following setup is only required when using Allure --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;properties&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;listener&lt;/name&gt;\r\n                            &lt;value&gt;io.qameta.allure.junit5.AllureJunit5&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/properties&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;!-- /Allure --&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;${allure-maven.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\nAnd the testing template I&#39;ve been using:\r\n\r\n    public class LocatorByLink {\r\n\r\n    WebDriver driver;\r\n\r\n    @BeforeEach\r\n    void setup(){\r\n        driver = WebDriverManager.chromedriver().create();\r\n    }\r\n\r\n    @AfterEach\r\n    void teardown(){\r\n        driver.quit();\r\n    }\r\n\r\n    @Test\r\n    void test(){\r\n\r\n    }\r\n}\r\n\r\n\r\nConsole output:\r\n\r\n\r\n    io.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\r\n\r\n\tat io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1775)\r\n\tat io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:425)\r\n\tat com.handsonselenium.chapter003.examples.LocatorByLink.setup(LocatorByLink.java:19)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\tSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.quit()&quot; because &quot;this.driver&quot; is null\r\n\t\tat com.handsonselenium.chapter003.examples.LocatorByLink.teardown(LocatorByLink.java:24)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:110)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$24(ClassBasedTestDescriptor.java:510)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$10(TestMethodTestDescriptor.java:243)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:241)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:142)\r\n\t\t... 48 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createLocalWebDriver(WebDriverCreator.java:64)\r\n\tat io.github.bonigarcia.wdm.WebDriverManager.createLocalWebDriver(WebDriverManager.java:1949)\r\n\tat io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1764)\r\n\t... 76 more\r\nCaused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:49892/devtools/browser/3d746805-ea32-49e3-9d0e-6810f1d7b998\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;12.5&#39;, java.version: &#39;17.0.6&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:78)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n\t... 84 more\r\n\r\n","title":"WebDriver-Manager not updating chromedriver","body":"<p>I am struggling with chromedriver for Selenium. Ever since the new version of Chrome was released it stopped working even though I was using WebDriver Manager by Boni Garcia which is meant to update it automatically.</p>\n<p>Currently whenever I run it, Chrome comes up blank with <code>data:,</code> in the address bar.</p>\n<p>I've seen some thread saying the WebDriver Manager is not working as expected anymore but it was quite old and the setup was working fine for me for a while.</p>\n<p>One thing I noticed is that a Maven library in my InteliJ seems to not match the latest release on Boni's github.</p>\n<p>Comparing what I have in versions.properties:</p>\n<p><a href=\"https://i.stack.imgur.com/syfgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/syfgN.png\" alt=\"version properties from my InteliJ\" /></a></p>\n<p>Against Boni's github:</p>\n<p><a href=\"https://i.stack.imgur.com/wb4fC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wb4fC.png\" alt=\"version properties from Boni's github\" /></a></p>\n<p>My pom file (based on Boni's learning projects) :</p>\n<pre><code>&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;SeleniumWithJava&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;slf4j.version&gt;2.0.6&lt;/slf4j.version&gt;\n    &lt;logback.version&gt;1.4.5&lt;/logback.version&gt;\n\n    &lt;selenium.version&gt;4.8.1&lt;/selenium.version&gt;\n    &lt;junit5.version&gt;5.9.2&lt;/junit5.version&gt;\n    &lt;assertj.version&gt;3.24.2&lt;/assertj.version&gt;\n    &lt;wdm.version&gt;5.3.2&lt;/wdm.version&gt;\n\n    &lt;htmlunit.version&gt;4.8.0&lt;/htmlunit.version&gt;\n    &lt;rerunner.version&gt;2.1.6&lt;/rerunner.version&gt;\n    &lt;junit-platform.version&gt;1.9.2&lt;/junit-platform.version&gt;\n    &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\n    &lt;browsermob.version&gt;2.1.5&lt;/browsermob.version&gt;\n    &lt;zapclient.version&gt;1.11.0&lt;/zapclient.version&gt;\n    &lt;axel.version&gt;4.6.0&lt;/axel.version&gt;\n    &lt;selenide.version&gt;6.12.0&lt;/selenide.version&gt;\n    &lt;datafaker.version&gt;1.8.0&lt;/datafaker.version&gt;\n    &lt;extentreports.version&gt;5.0.9&lt;/extentreports.version&gt;\n    &lt;allure.version&gt;2.21.0&lt;/allure.version&gt;\n    &lt;allure-maven.version&gt;2.12.0&lt;/allure-maven.version&gt;\n    &lt;cucumber.version&gt;7.11.1&lt;/cucumber.version&gt;\n    &lt;spring-boot.version&gt;3.0.3&lt;/spring-boot.version&gt;\n    &lt;appium.version&gt;8.3.0&lt;/appium.version&gt;\n    &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\n\n    &lt;maven-surefire-plugin.version&gt;3.0.0-M9&lt;/maven-surefire-plugin.version&gt;\n\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n\n    &lt;project.encondig&gt;UTF-8&lt;/project.encondig&gt;\n    &lt;project.build.sourceEncoding&gt;${project.encondig}&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;${project.encondig}&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n        &lt;version&gt;${htmlunit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;${assertj.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;${wdm.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-grid&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.artsok&lt;/groupId&gt;\n        &lt;artifactId&gt;rerunner-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;${rerunner.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n        &lt;version&gt;${awaitility.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.lightbody.bmp&lt;/groupId&gt;\n        &lt;artifactId&gt;browsermob-core&lt;/artifactId&gt;\n        &lt;version&gt;${browsermob.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.zaproxy&lt;/groupId&gt;\n        &lt;artifactId&gt;zap-clientapi&lt;/artifactId&gt;\n        &lt;version&gt;${zapclient.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.deque.html.axe-core&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium&lt;/artifactId&gt;\n        &lt;version&gt;${axel.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n        &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n        &lt;version&gt;${selenide.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n                &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n                &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.datafaker&lt;/groupId&gt;\n        &lt;artifactId&gt;datafaker&lt;/artifactId&gt;\n        &lt;version&gt;${datafaker.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;${extentreports.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n        &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;${appium.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;!-- The following setup is only required when using Allure --&gt;\n            &lt;configuration&gt;\n                &lt;properties&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;listener&lt;/name&gt;\n                        &lt;value&gt;io.qameta.allure.junit5.AllureJunit5&lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/properties&gt;\n            &lt;/configuration&gt;\n            &lt;!-- /Allure --&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n            &lt;version&gt;${allure-maven.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And the testing template I've been using:</p>\n<pre><code>public class LocatorByLink {\n\nWebDriver driver;\n\n@BeforeEach\nvoid setup(){\n    driver = WebDriverManager.chromedriver().create();\n}\n\n@AfterEach\nvoid teardown(){\n    driver.quit();\n}\n\n@Test\nvoid test(){\n\n}\n</code></pre>\n<p>}</p>\n<p>Console output:</p>\n<pre><code>io.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\n\nat io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1775)\nat io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:425)\nat com.handsonselenium.chapter003.examples.LocatorByLink.setup(LocatorByLink.java:19)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.quit()&quot; because &quot;this.driver&quot; is null\n    at com.handsonselenium.chapter003.examples.LocatorByLink.teardown(LocatorByLink.java:24)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:110)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$24(ClassBasedTestDescriptor.java:510)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$10(TestMethodTestDescriptor.java:243)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:241)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:142)\n    ... 48 more\n</code></pre>\n<p>Caused by: java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createLocalWebDriver(WebDriverCreator.java:64)\nat io.github.bonigarcia.wdm.WebDriverManager.createLocalWebDriver(WebDriverManager.java:1949)\nat io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1764)\n... 76 more\nCaused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:49892/devtools/browser/3d746805-ea32-49e3-9d0e-6810f1d7b998\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '12.5', java.version: '17.0.6'\nDriver info: driver.version: ChromeDriver\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.(NettyWebSocket.java:102)\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\nat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\nat org.openqa.selenium.devtools.Connection.(Connection.java:78)\nat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\nat java.base/java.util.Optional.map(Optional.java:260)\nat org.openqa.selenium.chromium.ChromiumDriver.(ChromiumDriver.java:114)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:82)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:50)\n... 84 more</p>\n"},{"tags":["java","maven","cucumber","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":9790541,"reputation":97,"user_id":7255297,"display_name":"ZantAgg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552317262,"creation_date":1552317262,"answer_id":55104999,"question_id":55103607,"body_markdown":"The problem is that the version being used (i.e.  2.8) doesn&#39;t support multiple JSON files. \r\n\r\nThe solution is:\r\n\r\n     &lt;plugin&gt;\r\n            \t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n            \t&lt;version&gt;4.5.0&lt;/version&gt;\r\n            \t&lt;executions&gt;\r\n            \t\t&lt;execution&gt;\r\n            \t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n            \t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n            \t\t\t&lt;goals&gt;\r\n            \t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n            \t\t\t&lt;/goals&gt;\r\n            \t\t\t&lt;configuration&gt;\r\n            \t\t\t\t&lt;projectName&gt;ExecuteAutomation&lt;/projectName&gt;\r\n            \t\t\t\t&lt;inputDirectory&gt;${project.build.directory}/jsonReports&lt;/inputDirectory&gt;\r\n            \t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\r\n            \t\t\t\t&lt;jsonFiles&gt;\r\n                                &lt;!-- supports wildcard or name pattern --&gt;\r\n                                &lt;param&gt;**/*.json&lt;/param&gt;\r\n                            &lt;/jsonFiles&gt;\r\n            \t\t\t&lt;/configuration&gt;\r\n            \t\t&lt;/execution&gt;\r\n            \t&lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nRead more at https://github.com/damianszczepanik/maven-cucumber-reporting","title":"Maven Cucumber Reporting Multiple JSON files","body":"<p>The problem is that the version being used (i.e.  2.8) doesn't support multiple JSON files. </p>\n\n<p>The solution is:</p>\n\n<pre><code> &lt;plugin&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;4.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;ExecuteAutomation&lt;/projectName&gt;\n                        &lt;inputDirectory&gt;${project.build.directory}/jsonReports&lt;/inputDirectory&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\n                        &lt;jsonFiles&gt;\n                            &lt;!-- supports wildcard or name pattern --&gt;\n                            &lt;param&gt;**/*.json&lt;/param&gt;\n                        &lt;/jsonFiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Read more at <a href=\"https://github.com/damianszczepanik/maven-cucumber-reporting\" rel=\"nofollow noreferrer\">https://github.com/damianszczepanik/maven-cucumber-reporting</a></p>\n"},{"tags":[],"owner":{"account_id":1010787,"reputation":354,"user_id":1023402,"display_name":"robert.baboi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584554009,"creation_date":1584554009,"answer_id":60745015,"question_id":55103607,"body_markdown":"If you can run bash commands and maybe have **jq** available on the machine, maybe try to generate the reports in files with different names then use jq to merge them back into one file \r\n\r\nI do something similar although I don&#39;t run parallel and I don&#39;t rely on any plugin, I run with the surefire plugin \r\n\r\n**Disclaimer**: I haven&#39;t tested the report name override with --format so that part might be different for you but the idea is the same\r\n```\r\nmvn test -Dcucumber.options=&quot;--format=json:target/cucumber_test1.json&quot;\r\nmvn test -Dcucumber.options=&quot;--format=json:target/cucumber_test2.json&quot;\r\n...\r\n\r\njq -s &#39;[.[][]]&#39; target/cucumber_*.json &gt; target/cucumber.json\r\n\r\n```","title":"Maven Cucumber Reporting Multiple JSON files","body":"<p>If you can run bash commands and maybe have <strong>jq</strong> available on the machine, maybe try to generate the reports in files with different names then use jq to merge them back into one file </p>\n\n<p>I do something similar although I don't run parallel and I don't rely on any plugin, I run with the surefire plugin </p>\n\n<p><strong>Disclaimer</strong>: I haven't tested the report name override with --format so that part might be different for you but the idea is the same</p>\n\n<pre><code>mvn test -Dcucumber.options=\"--format=json:target/cucumber_test1.json\"\nmvn test -Dcucumber.options=\"--format=json:target/cucumber_test2.json\"\n...\n\njq -s '[.[][]]' target/cucumber_*.json &gt; target/cucumber.json\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25942963,"reputation":1,"user_id":19662122,"display_name":"Galc94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678814076,"creation_date":1678813962,"answer_id":75736347,"question_id":55103607,"body_markdown":"I just want to complement the previous answer,\r\n\r\nyou may have both behaviors, append json files to get a completed when you will see how many times a fetarue was reexcuted after getting passed status, or just getting a final repot where the features will only appear once with the latest status after rerun.\r\n\r\nI was able to merge the results of the report after rerun just by using &lt;mergeFeaturesWithRetest&gt;\r\n\r\nit is more detailed here, in readme file on comments for the plugin:\r\nhttps://github.com/damianszczepanik/maven-cucumber-reporting\r\n\r\n\r\nhope it helps.","title":"Maven Cucumber Reporting Multiple JSON files","body":"<p>I just want to complement the previous answer,</p>\n<p>you may have both behaviors, append json files to get a completed when you will see how many times a fetarue was reexcuted after getting passed status, or just getting a final repot where the features will only appear once with the latest status after rerun.</p>\n<p>I was able to merge the results of the report after rerun just by using </p>\n<p>it is more detailed here, in readme file on comments for the plugin:\n<a href=\"https://github.com/damianszczepanik/maven-cucumber-reporting\" rel=\"nofollow noreferrer\">https://github.com/damianszczepanik/maven-cucumber-reporting</a></p>\n<p>hope it helps.</p>\n"}],"owner":{"account_id":9790541,"reputation":97,"user_id":7255297,"display_name":"ZantAgg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55104999,"answer_count":3,"score":0,"last_activity_date":1678814076,"creation_date":1552312977,"question_id":55103607,"body_markdown":"My POM currently looks like,\r\n\r\n    &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n            \t&lt;version&gt;2.8.0&lt;/version&gt;\r\n            \t&lt;executions&gt;\r\n            \t\t&lt;execution&gt;\r\n            \t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n            \t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n            \t\t\t&lt;goals&gt;\r\n            \t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n            \t\t\t&lt;/goals&gt;\r\n            \t\t\t&lt;configuration&gt;\r\n            \t\t\t\t&lt;projectName&gt;ExecuteAutomation&lt;/projectName&gt;\r\n            \t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\r\n            \t\t\t\t&lt;cucumberOutput&gt;${project.build.directory}/cucumber.json&lt;/cucumberOutput&gt;\r\n            \t\t\t&lt;/configuration&gt;\r\n            \t\t&lt;/execution&gt;\r\n            \t&lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThis does generate a report but only with the last feature. I have multiple runners, so I&#39;m trying to figure out either: \r\n\r\nA. How do I combine multiple JSON into one report or \r\n\r\nB. How do I append on to one JSON file as each test finishes? \r\n\r\nEither of these seems like a viable solution, Although I would prefer A because it seems like I&#39;m only missing one line in my pom.xml to do so as I currently am already generating multiple JSON files","title":"Maven Cucumber Reporting Multiple JSON files","body":"<p>My POM currently looks like,</p>\n\n<pre><code>&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;ExecuteAutomation&lt;/projectName&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\n                        &lt;cucumberOutput&gt;${project.build.directory}/cucumber.json&lt;/cucumberOutput&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>This does generate a report but only with the last feature. I have multiple runners, so I'm trying to figure out either: </p>\n\n<p>A. How do I combine multiple JSON into one report or </p>\n\n<p>B. How do I append on to one JSON file as each test finishes? </p>\n\n<p>Either of these seems like a viable solution, Although I would prefer A because it seems like I'm only missing one line in my pom.xml to do so as I currently am already generating multiple JSON files</p>\n"},{"tags":["java","io","binaryfiles"],"comments":[{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408437904,"post_id":25378938,"comment_id":39577825,"body_markdown":"please provide expected result and actual result","body":"please provide expected result and actual result"},{"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"score":0,"creation_date":1408439345,"post_id":25378938,"comment_id":39578563,"body_markdown":"actual result is 57 blank spaces...expected result is integer values","body":"actual result is 57 blank spaces...expected result is integer values"},{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408439426,"post_id":25378938,"comment_id":39578618,"body_markdown":"I think that it is problem with symbol displaying","body":"I think that it is problem with symbol displaying"},{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408439476,"post_id":25378938,"comment_id":39578654,"body_markdown":"Try to write bytes without converting to char","body":"Try to write bytes without converting to char"}],"answers":[{"tags":[],"owner":{"display_name":"user2684975"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408437658,"creation_date":1408437658,"answer_id":25379063,"question_id":25378938,"body_markdown":"it is simple example:\r\n\r\n \r\n\r\n       public class CopyBytes {\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            FileInputStream in = null;\r\n            FileOutputStream out = null;\r\n    \r\n            try {\r\n                in = new FileInputStream(&quot;xanadu.txt&quot;);\r\n                out = new FileOutputStream(&quot;outagain.txt&quot;);\r\n                int c;\r\n    \r\n                while ((c = in.read()) != -1) {\r\n                    out.write(c);\r\n                }\r\n            } finally {\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n                if (out != null) {\r\n                    out.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIf you want to read text(characters) - use Readers, if you want to read bytes - use Streams","title":"Reading binary file byte by byte","body":"<p>it is simple example:</p>\n\n<pre><code>   public class CopyBytes {\n    public static void main(String[] args) throws IOException {\n\n        FileInputStream in = null;\n        FileOutputStream out = null;\n\n        try {\n            in = new FileInputStream(\"xanadu.txt\");\n            out = new FileOutputStream(\"outagain.txt\");\n            int c;\n\n            while ((c = in.read()) != -1) {\n                out.write(c);\n            }\n        } finally {\n            if (in != null) {\n                in.close();\n            }\n            if (out != null) {\n                out.close();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If you want to read text(characters) - use Readers, if you want to read bytes - use Streams</p>\n"},{"tags":[],"owner":{"display_name":"user3667171"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408439467,"creation_date":1408437839,"answer_id":25379115,"question_id":25378938,"body_markdown":"Why not using Apache Commons:\r\n\r\n    byte[] bytes = IOUtils.toByteArray(inputStream);\r\n\r\nThen you can convert it to char:\r\n\r\n\r\n    String str = new String(bytes); \r\n    Char[] chars = str.toCharArray();\r\n\r\nOr like you did:\r\n\r\n    char[] charArray = Character.toChars(bytes);\r\n\r\nTo deserialize objects:\r\n\r\n    List&lt;Object&gt; results = new ArrayList&lt;Object&gt;();\r\n    FileInputStream fis = new FileInputStream(&quot;your_file.dat&quot;);\r\n    ObjectInputStream ois = new ObjectInputStream(fis);\r\n\r\n    try {\r\n        while (true) {\r\n            results.add(ois.readObject());\r\n        }\r\n    } catch (OptionalDataException e) {\r\n        if (!e.eof) throw e;\r\n    } finally {\r\n        ois.close();\r\n    }","title":"Reading binary file byte by byte","body":"<p>Why not using Apache Commons:</p>\n\n<pre><code>byte[] bytes = IOUtils.toByteArray(inputStream);\n</code></pre>\n\n<p>Then you can convert it to char:</p>\n\n<pre><code>String str = new String(bytes); \nChar[] chars = str.toCharArray();\n</code></pre>\n\n<p>Or like you did:</p>\n\n<pre><code>char[] charArray = Character.toChars(bytes);\n</code></pre>\n\n<p>To deserialize objects:</p>\n\n<pre><code>List&lt;Object&gt; results = new ArrayList&lt;Object&gt;();\nFileInputStream fis = new FileInputStream(\"your_file.dat\");\nObjectInputStream ois = new ObjectInputStream(fis);\n\ntry {\n    while (true) {\n        results.add(ois.readObject());\n    }\n} catch (OptionalDataException e) {\n    if (!e.eof) throw e;\n} finally {\n    ois.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408439951,"creation_date":1408439578,"answer_id":25379651,"question_id":25378938,"body_markdown":"Since java 7 it is not needed to read byte by byte, there are two utility function in [Files][1]:\r\n\r\n    Path path = Paths.get(&quot;C:/temp/test.txt&quot;);\r\n\r\n    // Load as binary:\r\n    byte[] bytes = Files.readAllBytes(path);\r\n    String asText = new String(bytes, StandardCharset.ISO_8859_1);\r\n\r\n    // Load as text, with some Charset:\r\n    List&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.ISO_8859_1);\r\n\r\nAs you want to read binary data, one would use `readAllBytes`.\r\n\r\nString and char is for _text_. As opposed to many other programming languages, this means Unicode, so all scripts of the world may be combined. `char` is 16 bit as opposed to the 8 bit `byte`.\r\n\r\nFor pure ASCII, the 7 bit subset of Unicode / UTF-8, byte and char values are identical.\r\n\r\nThen you might have done the following (low-quality code):\r\n\r\n    int fileLength = (int) path.size();\r\n    char[] chars = new char[fileLength];\r\n    int i = 0;\r\n    int data;\r\n    while ((data = inputStream.read()) != -1) {\r\n        chars[i] = (char) data; // data actually being a byte\r\n        ++i;\r\n    }\r\n    inputStream.close();\r\n\r\n    String text = new String(chars);\r\n\r\n    System.out.println(Arrays.toString(chars));\r\n\r\nThe problem you had, probably concerned the unwieldy fixed size array in java, and that a `char[]` still is not a `String`.\r\n\r\nFor binary usage, as you seem to be reading serialized data, you might like to dump the file:\r\n\r\n    int i = 0;\r\n    int data;\r\n    while ((data = inputStream.read()) != -1) {\r\n        char ch = 32 &lt;= data &amp;&amp; data &lt; 127 ? (char) data : &#39; &#39;;\r\n        System.out.println(&quot;[%06d] %02x %c%n&quot;, i, data, ch);\r\n        ++i;\r\n    }\r\n\r\nDumping file position, hex value and char value.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html","title":"Reading binary file byte by byte","body":"<p>Since java 7 it is not needed to read byte by byte, there are two utility function in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow\">Files</a>:</p>\n\n<pre><code>Path path = Paths.get(\"C:/temp/test.txt\");\n\n// Load as binary:\nbyte[] bytes = Files.readAllBytes(path);\nString asText = new String(bytes, StandardCharset.ISO_8859_1);\n\n// Load as text, with some Charset:\nList&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.ISO_8859_1);\n</code></pre>\n\n<p>As you want to read binary data, one would use <code>readAllBytes</code>.</p>\n\n<p>String and char is for <em>text</em>. As opposed to many other programming languages, this means Unicode, so all scripts of the world may be combined. <code>char</code> is 16 bit as opposed to the 8 bit <code>byte</code>.</p>\n\n<p>For pure ASCII, the 7 bit subset of Unicode / UTF-8, byte and char values are identical.</p>\n\n<p>Then you might have done the following (low-quality code):</p>\n\n<pre><code>int fileLength = (int) path.size();\nchar[] chars = new char[fileLength];\nint i = 0;\nint data;\nwhile ((data = inputStream.read()) != -1) {\n    chars[i] = (char) data; // data actually being a byte\n    ++i;\n}\ninputStream.close();\n\nString text = new String(chars);\n\nSystem.out.println(Arrays.toString(chars));\n</code></pre>\n\n<p>The problem you had, probably concerned the unwieldy fixed size array in java, and that a <code>char[]</code> still is not a <code>String</code>.</p>\n\n<p>For binary usage, as you seem to be reading serialized data, you might like to dump the file:</p>\n\n<pre><code>int i = 0;\nint data;\nwhile ((data = inputStream.read()) != -1) {\n    char ch = 32 &lt;= data &amp;&amp; data &lt; 127 ? (char) data : ' ';\n    System.out.println(\"[%06d] %02x %c%n\", i, data, ch);\n    ++i;\n}\n</code></pre>\n\n<p>Dumping file position, hex value and char value.</p>\n"},{"tags":[],"owner":{"account_id":11390386,"reputation":100,"user_id":8350666,"accept_rate":50,"display_name":"DSOI__UNUNOCTIUM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509149854,"creation_date":1502675170,"answer_id":45666447,"question_id":25378938,"body_markdown":"Edit: \r\nUse file.length() for they array size, and make a byte array. Then inputstream.read(b).\r\nEdit again: if you want characters, use inputstreamreader(fileinputstream(file),charset), it even comes with charset.","title":"Reading binary file byte by byte","body":"<p>Edit: \nUse file.length() for they array size, and make a byte array. Then inputstream.read(b).\nEdit again: if you want characters, use inputstreamreader(fileinputstream(file),charset), it even comes with charset.</p>\n"}],"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21689,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1678814023,"creation_date":1408437283,"question_id":25378938,"body_markdown":"I&#39;ve been doing research on a java problem I have with no success.  I&#39;ve read a whole bunch of similar questions here on StackOverflow but the solutions just doesn&#39;t seem to work as expected.\r\n\r\nI&#39;m trying to read a binary file byte by byte.\r\n\r\nI&#39;ve used:\r\n\r\n    while ((data = inputStream.read()) != -1) \r\n\r\nloops...\r\n\r\n    for (int i = 0; i &lt; bFile.length; i++) {\r\n\r\nloops...\r\n\r\nBut I only get empty or blank output.  The actual content of the file I&#39;m trying to read is as follows:\r\n\r\n&gt; &#172;&#237; \u0005sr \u000Fassignment6.PetI&#191;Z8kyQ\u0002 \u0003I \u0003ageD \u0006weightL \u0004namet \u0012Ljava/lang/String;xp   &gt; \u0017@4      t \u0004andysq ~     \u000F@b&#192;     t \u0005simbasq ~     \u0011@I      t \twolletjiesq ~     \r\n&gt; \f@$      t \u0006rakker\r\n\r\nI&#39;m merely trying to read it byte for byte and feed it to a character array with the following line:\r\n\r\n    char[] charArray = Character.toChars(byteValue);\r\n\r\nBytevalue here represents an int of the byte it&#39;s reading.\r\n\r\nWhat is going wrong where?","title":"Reading binary file byte by byte","body":"<p>I've been doing research on a java problem I have with no success.  I've read a whole bunch of similar questions here on StackOverflow but the solutions just doesn't seem to work as expected.</p>\n\n<p>I'm trying to read a binary file byte by byte.</p>\n\n<p>I've used:</p>\n\n<pre><code>while ((data = inputStream.read()) != -1) \n</code></pre>\n\n<p>loops...</p>\n\n<pre><code>for (int i = 0; i &lt; bFile.length; i++) {\n</code></pre>\n\n<p>loops...</p>\n\n<p>But I only get empty or blank output.  The actual content of the file I'm trying to read is as follows:</p>\n\n<blockquote>\n  <p> sr \u000Fassignment6.PetIZ8kyQ I ageD weightL namet Ljava/lang/String;xp   > @4      t andysq ~     \u000F@b     t simbasq ~     @I      t     wolletjiesq ~<br>\n  \f@$      t rakker</p>\n</blockquote>\n\n<p>I'm merely trying to read it byte for byte and feed it to a character array with the following line:</p>\n\n<pre><code>char[] charArray = Character.toChars(byteValue);\n</code></pre>\n\n<p>Bytevalue here represents an int of the byte it's reading.</p>\n\n<p>What is going wrong where?</p>\n"},{"tags":["java","database","postgresql","transactions"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":2,"creation_date":1678812803,"post_id":75736019,"comment_id":133604615,"body_markdown":"The second way is the correct way. Locking DB rows for longer than necessary slows things down even to the point of deadlock. I have worked on projects where we refactored from 1 to 2.","body":"The second way is the correct way. Locking DB rows for longer than necessary slows things down even to the point of deadlock. I have worked on projects where we refactored from 1 to 2."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1678813091,"post_id":75736019,"comment_id":133604708,"body_markdown":"[Fail fast](https://en.wikipedia.org/wiki/Fail-fast)","body":"<a href=\"https://en.wikipedia.org/wiki/Fail-fast\" rel=\"nofollow noreferrer\">Fail fast</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678821078,"post_id":75736019,"comment_id":133606841,"body_markdown":"Embedding one risky long-running network-based operation within another risky long-running network-based operation is generally unwise. Makes for more complications in your programming, logging, and debugging.","body":"Embedding one risky long-running network-based operation within another risky long-running network-based operation is generally unwise. Makes for more complications in your programming, logging, and debugging."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1678830780,"post_id":75736019,"comment_id":133609251,"body_markdown":"For the 2nd option, there is no (apparent) reason to do a SELECT FOR UPDATE.  Just do the UPDATE.","body":"For the 2nd option, there is no (apparent) reason to do a SELECT FOR UPDATE.  Just do the UPDATE."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1678830934,"post_id":75736019,"comment_id":133609283,"body_markdown":"What are the consequences of making the same API call on the same row more than once at a time?  If doing that is expensive or catastrophic, you wouldn&#39;t want to use option 2.","body":"What are the consequences of making the same API call on the same row more than once at a time?  If doing that is expensive or catastrophic, you wouldn&#39;t want to use option 2."},{"owner":{"account_id":26359204,"reputation":65,"user_id":20015709,"display_name":"BinaryBee"},"score":0,"creation_date":1678901506,"post_id":75736019,"comment_id":133624582,"body_markdown":"@jjanes Thanks for the first comment, you are correct, this was probably just specific to my application where we need to load the object before saving the data. Generally a simple UPDATE like you said should be enough. \n\nFor the second comment, the cost of calling more than once is low in our case, so no worries there.","body":"@jjanes Thanks for the first comment, you are correct, this was probably just specific to my application where we need to load the object before saving the data. Generally a simple UPDATE like you said should be enough.   For the second comment, the cost of calling more than once is low in our case, so no worries there."}],"answers":[{"tags":[],"owner":{"account_id":21588530,"reputation":76,"user_id":15918559,"display_name":"vleg1991"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678814011,"creation_date":1678814011,"answer_id":75736352,"question_id":75736019,"body_markdown":"Due to connection to DB is a limited resource, usually connections controlled by connection pool sub-systems, Hikari, for instance.\r\n\r\nhttps://github.com/brettwooldridge/HikariCP\r\n\r\nSo, I assume, you have a connection pool in your application. Every transaction you gonna hold longer than needed, gonna hold a connection too. A pool usually have restrictions over connections, which prevents connection pool from exhaustion. For example, if you are using Hikari you would face some problems in case of long term external API calls, because:\r\n   \r\n 1. Connection pool allows you to have 10 connections to DB by default, you hold 10 transactions, which consequently holds 10 connections, so, your read connection have no chance to catch a connection (of course, it have but transactions start racing for connection) \r\n 2. If you have long request to external API, pool can break a connection by timeout at some point and your data would be lost, despite you have response from external service, you won&#39;t save it.\r\n\r\nFor example you can check Hikari limitations here: https://github.com/brettwooldridge/HikariCP/blob/dev/src/main/java/com/zaxxer/hikari/HikariConfig.java\r\n\r\nMore interested, those \r\n\r\n        private static final long CONNECTION_TIMEOUT = SECONDS.toMillis(30);\r\n        ...\r\n        private static final int DEFAULT_POOL_SIZE = 10;\r\n ","title":"Is it not a good practise to make api calls during database transactions?","body":"<p>Due to connection to DB is a limited resource, usually connections controlled by connection pool sub-systems, Hikari, for instance.</p>\n<p><a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP</a></p>\n<p>So, I assume, you have a connection pool in your application. Every transaction you gonna hold longer than needed, gonna hold a connection too. A pool usually have restrictions over connections, which prevents connection pool from exhaustion. For example, if you are using Hikari you would face some problems in case of long term external API calls, because:</p>\n<ol>\n<li>Connection pool allows you to have 10 connections to DB by default, you hold 10 transactions, which consequently holds 10 connections, so, your read connection have no chance to catch a connection (of course, it have but transactions start racing for connection)</li>\n<li>If you have long request to external API, pool can break a connection by timeout at some point and your data would be lost, despite you have response from external service, you won't save it.</li>\n</ol>\n<p>For example you can check Hikari limitations here: <a href=\"https://github.com/brettwooldridge/HikariCP/blob/dev/src/main/java/com/zaxxer/hikari/HikariConfig.java\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/blob/dev/src/main/java/com/zaxxer/hikari/HikariConfig.java</a></p>\n<p>More interested, those</p>\n<pre><code>    private static final long CONNECTION_TIMEOUT = SECONDS.toMillis(30);\n    ...\n    private static final int DEFAULT_POOL_SIZE = 10;\n</code></pre>\n"}],"owner":{"account_id":26359204,"reputation":65,"user_id":20015709,"display_name":"BinaryBee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678814011,"creation_date":1678811897,"question_id":75736019,"body_markdown":"I am writing a function which needs to call an external api and save the results to postgres database. And I am thinking the pros and cons on two approaches: \r\n\r\n1. Start a transaction, lock the row by using SELECT FOR UPDATE, make api call and save the results, and roll back if one of them fails.\r\n\r\n2. Call the api first, and then start a transaction, lock the row by using SELECT FOR UPDATE, and write the result, only if the api call succeeds and returns result.\r\n\r\nI have heard that involving external api calls in database transaction are extremely dangerous. But I am not sure what other reasons there are, besides the obvious reason that the transaction might take a longer time. Will there be any difference depending HTTP method we are using for the api calls? (GET vs POST) \r\n\r\nI am learning towards the second approach if we are only getting information from the api call and writing to database. This way we don&#39;t hold the transaction for too long. But on the other hand, I don&#39;t see anything wrong with the transaction taking long, if it does not block read operation, and if no other subsequent actions are being blocked by this transaction or the row being locked. \r\n\r\nLooking for some opinions here. Would appreciate some examples on each of the approach, thanks!","title":"Is it not a good practise to make api calls during database transactions?","body":"<p>I am writing a function which needs to call an external api and save the results to postgres database. And I am thinking the pros and cons on two approaches:</p>\n<ol>\n<li><p>Start a transaction, lock the row by using SELECT FOR UPDATE, make api call and save the results, and roll back if one of them fails.</p>\n</li>\n<li><p>Call the api first, and then start a transaction, lock the row by using SELECT FOR UPDATE, and write the result, only if the api call succeeds and returns result.</p>\n</li>\n</ol>\n<p>I have heard that involving external api calls in database transaction are extremely dangerous. But I am not sure what other reasons there are, besides the obvious reason that the transaction might take a longer time. Will there be any difference depending HTTP method we are using for the api calls? (GET vs POST)</p>\n<p>I am learning towards the second approach if we are only getting information from the api call and writing to database. This way we don't hold the transaction for too long. But on the other hand, I don't see anything wrong with the transaction taking long, if it does not block read operation, and if no other subsequent actions are being blocked by this transaction or the row being locked.</p>\n<p>Looking for some opinions here. Would appreciate some examples on each of the approach, thanks!</p>\n"},{"tags":["java","diff","jgit"],"owner":{"account_id":4170847,"reputation":267,"user_id":3418642,"accept_rate":40,"display_name":"Guy Hudara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678813768,"creation_date":1678813768,"question_id":75736312,"body_markdown":"I am using JGit (6.5.0.202303070854-r). I am trying to implement `git diff HEAD` command.\r\nHere is what I have done:\r\n1. Clone the ***https://github.com/k-tamura/easybuggy.git*** repository into a folder named ***c:\\dev\\temp\\easybuggy***\r\n\r\n2. Compared the working directory (***c:\\dev\\temp\\easybuggy***) with the remote tree pointed by HEAD, expecting to see 0 (zero) changes, but instead I get a list of 30 changed.\r\n\r\nHere is the code I am using:\r\n\r\n\r\n```\r\n  public static void main(String[] args) throws GitAPIException, IOException {\r\n\r\n    File repoPath = new File(&quot;c:\\\\dev\\\\temp\\\\easybuggy&quot;);\r\n\r\n    //1. Clone the repo\r\n    Git.cloneRepository()\r\n            .setURI( &quot;https://github.com/k-tamura/easybuggy.git&quot; )\r\n            .setDirectory( repoPath )\r\n            .call();\r\n\r\n    //2. Compare the content of the working directory to the HEAD on the remote\r\n    try (Git git = Git.open(repoPath)) {\r\n\r\n      Repository repository = git.getRepository();\r\n      try (ObjectReader reader = repository.newObjectReader()) {\r\n\r\n        ObjectId oldTreeId = repository.resolve(&quot;HEAD^{tree}&quot;);\r\n        CanonicalTreeParser oldTree = new CanonicalTreeParser(null, reader, oldTreeId);\r\n        oldTree.reset(reader, oldTreeId);\r\n\r\n        AbstractTreeIterator newTree = new FileTreeIterator(repository);\r\n\r\n        List&lt;DiffEntry&gt; diff = git.diff()\r\n                .setOldTree(oldTree)\r\n                .setNewTree(newTree)\r\n                .call();\r\n\r\n        System.out.println(&quot;The number of diff entries is: &quot; + diff.size());\r\n      }\r\n\r\n    }\r\n  }\r\n```\r\n\r\nThe output of this code is: \r\n`The number of diff entries is: 30`\r\n\r\nWhat am I doing wrong? Why the diff list is not empty? I have just cloned the repo and compared.\r\n\r\nBTW: If I manually change one of the files, the size of the diff list become 31.\r\n\r\nAny hint will be highly appreciated.","title":"&quot;git diff HEAD&quot; equivalent using JGit not working as expected","body":"<p>I am using JGit (6.5.0.202303070854-r). I am trying to implement <code>git diff HEAD</code> command.\nHere is what I have done:</p>\n<ol>\n<li><p>Clone the <em><strong><a href=\"https://github.com/k-tamura/easybuggy.git\" rel=\"nofollow noreferrer\">https://github.com/k-tamura/easybuggy.git</a></strong></em> repository into a folder named <em><strong>c:\\dev\\temp\\easybuggy</strong></em></p>\n</li>\n<li><p>Compared the working directory (<em><strong>c:\\dev\\temp\\easybuggy</strong></em>) with the remote tree pointed by HEAD, expecting to see 0 (zero) changes, but instead I get a list of 30 changed.</p>\n</li>\n</ol>\n<p>Here is the code I am using:</p>\n<pre><code>  public static void main(String[] args) throws GitAPIException, IOException {\n\n    File repoPath = new File(&quot;c:\\\\dev\\\\temp\\\\easybuggy&quot;);\n\n    //1. Clone the repo\n    Git.cloneRepository()\n            .setURI( &quot;https://github.com/k-tamura/easybuggy.git&quot; )\n            .setDirectory( repoPath )\n            .call();\n\n    //2. Compare the content of the working directory to the HEAD on the remote\n    try (Git git = Git.open(repoPath)) {\n\n      Repository repository = git.getRepository();\n      try (ObjectReader reader = repository.newObjectReader()) {\n\n        ObjectId oldTreeId = repository.resolve(&quot;HEAD^{tree}&quot;);\n        CanonicalTreeParser oldTree = new CanonicalTreeParser(null, reader, oldTreeId);\n        oldTree.reset(reader, oldTreeId);\n\n        AbstractTreeIterator newTree = new FileTreeIterator(repository);\n\n        List&lt;DiffEntry&gt; diff = git.diff()\n                .setOldTree(oldTree)\n                .setNewTree(newTree)\n                .call();\n\n        System.out.println(&quot;The number of diff entries is: &quot; + diff.size());\n      }\n\n    }\n  }\n</code></pre>\n<p>The output of this code is:\n<code>The number of diff entries is: 30</code></p>\n<p>What am I doing wrong? Why the diff list is not empty? I have just cloned the repo and compared.</p>\n<p>BTW: If I manually change one of the files, the size of the diff list become 31.</p>\n<p>Any hint will be highly appreciated.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1678805109,"post_id":75734640,"comment_id":133602160,"body_markdown":"You cannot call `displayStudents` on the list, you can only call it on a instance of `student`","body":"You cannot call <code>displayStudents</code> on the list, you can only call it on a instance of <code>student</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1678805140,"post_id":75734640,"comment_id":133602173,"body_markdown":"BTW: Take care of java naming conventions. Class names should start with upper case character","body":"BTW: Take care of java naming conventions. Class names should start with upper case character"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1678806957,"post_id":75734640,"comment_id":133602797,"body_markdown":"`String list = new stuList();` is plain wrong syntax. The real answer here is that every character you put in your code **matters**. You have to understand what you are writing down. Meaning: you have to **learn** what `new` means, and how to use it. Hint: not in front of the name of a **method** that sits in your class.","body":"<code>String list = new stuList();</code> is plain wrong syntax. The real answer here is that every character you put in your code <b>matters</b>. You have to understand what you are writing down. Meaning: you have to <b>learn</b> what <code>new</code> means, and how to use it. Hint: not in front of the name of a <b>method</b> that sits in your class."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1678807131,"post_id":75734640,"comment_id":133602858,"body_markdown":"And a note on the conceptual problem: a Student is just that: a single student. There is NO point in using the Student class to be anything else than: the representation of a single student. So: the ability to hold multiple Student objects does NOT belong into the Student class itself. If at all, you would write *another* class ListOfStudents or something that exists on its own, and to which you can then ADD Student objects.","body":"And a note on the conceptual problem: a Student is just that: a single student. There is NO point in using the Student class to be anything else than: the representation of a single student. So: the ability to hold multiple Student objects does NOT belong into the Student class itself. If at all, you would write <i>another</i> class ListOfStudents or something that exists on its own, and to which you can then ADD Student objects."}],"answers":[{"tags":[],"owner":{"account_id":28009396,"reputation":11,"user_id":21392212,"display_name":"LucaHerrero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678806519,"creation_date":1678806519,"answer_id":75734957,"question_id":75734640,"body_markdown":"Change your code a little bit. But u should not have a list of students in the students class. \r\n\r\nIt&#39;s better if you create a class like Classroom and then it stores a list of instances of stundent.\r\n\r\nAnd to avoid [OutOfBounds][1] exceptions, I would use an [ArrayList][2] instead of an Array.\r\n\r\n        public static void main(String[] args)       \r\n        {\r\n            Student stu1 = new Student(&quot;s123&quot;, &quot;John&quot;, &quot;IT&quot;);\r\n    \r\n            stu1.stuList();\r\n    \r\n            stu1.joinList(&quot;s123&quot;);\r\n    \r\n            stu1.displayStudents();\r\n    \r\n        }\r\n    \r\n    \r\n        public class Student {\r\n           public String studentId;\r\n           public String stuName;\r\n           public String stuMajor;\r\n           public String[] stuList;\r\n           private int stuCount = 0;\r\n    \r\n           public Student(String studentId, String stuName, String stuMajor) {\r\n               this.studentId = studentId;\r\n               this.stuName = stuName;\r\n               this.stuMajor = stuMajor;\r\n    \r\n           }\r\n    \r\n           public void stuList() {\r\n               stuList = new String[10];\r\n           }\r\n    \r\n           public void joinList(String s) {\r\n               stuList[stuCount++] = s;\r\n           }\r\n    \r\n           public void displayStudents() {\r\n               for(int i = 0; i &lt; stuCount; i++) {\r\n                   System.out.printf(&quot;Students #%d: &quot; + stuList[i] + &quot;\\n&quot;, i + 1);\r\n               }\r\n           }\r\n    \r\n           @Override\r\n           public String toString() {\r\n               return String.format(&quot;Id: %s Name: %s Major: %s&quot;, studentId, stuName, stuMajor);\r\n           }\r\n        }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/array-index-out-of-bounds-exception-in-java/\r\n  [2]: https://www.w3schools.com/java/java_arraylist.asp","title":"adding string to array and displaying them","body":"<p>Change your code a little bit. But u should not have a list of students in the students class.</p>\n<p>It's better if you create a class like Classroom and then it stores a list of instances of stundent.</p>\n<p>And to avoid <a href=\"https://www.geeksforgeeks.org/array-index-out-of-bounds-exception-in-java/\" rel=\"nofollow noreferrer\">OutOfBounds</a> exceptions, I would use an <a href=\"https://www.w3schools.com/java/java_arraylist.asp\" rel=\"nofollow noreferrer\">ArrayList</a> instead of an Array.</p>\n<pre><code>    public static void main(String[] args)       \n    {\n        Student stu1 = new Student(&quot;s123&quot;, &quot;John&quot;, &quot;IT&quot;);\n\n        stu1.stuList();\n\n        stu1.joinList(&quot;s123&quot;);\n\n        stu1.displayStudents();\n\n    }\n\n\n    public class Student {\n       public String studentId;\n       public String stuName;\n       public String stuMajor;\n       public String[] stuList;\n       private int stuCount = 0;\n\n       public Student(String studentId, String stuName, String stuMajor) {\n           this.studentId = studentId;\n           this.stuName = stuName;\n           this.stuMajor = stuMajor;\n\n       }\n\n       public void stuList() {\n           stuList = new String[10];\n       }\n\n       public void joinList(String s) {\n           stuList[stuCount++] = s;\n       }\n\n       public void displayStudents() {\n           for(int i = 0; i &lt; stuCount; i++) {\n               System.out.printf(&quot;Students #%d: &quot; + stuList[i] + &quot;\\n&quot;, i + 1);\n           }\n       }\n\n       @Override\n       public String toString() {\n           return String.format(&quot;Id: %s Name: %s Major: %s&quot;, studentId, stuName, stuMajor);\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678812941,"creation_date":1678811278,"answer_id":75735912,"question_id":75734640,"body_markdown":"Here is my recommendation. First a couple conventions.\r\n- class names start with an uppercase letter\r\n- fields and methods start with lower case and are usually in `camelCase`.\r\n- make fields private and use getters/setters to preserve/enforce encapsulation\r\n\r\nAlso, a class usually has fields and items that pertain to that class. A `record` could also be used here if the class is immutable. \r\n\r\nKnowledge of other students does not make sense for a `Student` class.  A more obvious example might be a `Book` class which has info about a particular book, not all books.  However, a `Library` or `Shelf` class would certainly be appropriate for books depending on the use case.\r\n\r\nFor students, you could have a `Class` class which might have the name of the class and a list of students attending that class.\r\n```\r\nclass Class {\r\n    private String className;\r\n    private List&lt;Student&gt; attendees = new ArrayList&lt;&gt;();\r\n\r\n    public Class(String name) {\r\n        this.className = name;\r\n    }\r\n    public void addStudent(Student student) {\r\n        System.out.println(&quot;Adding: &quot; + student);\r\n        attendees.add(student);\r\n    }\r\n    \r\n    public void displayAttendees() {\r\n        attendees.forEach(System.out::println);\r\n    }\r\n    \r\n    public String getClassName() {\r\n        return className;\r\n    }\r\n}\r\n```\r\n\r\nI also recommend `Lists` over `arrays` since they can grow dynamically thus eliminating the need to track indices or resize the array.\r\n\r\nHaving said the above, here is how it might look;\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass Student {\r\n    private String studentId;\r\n    private String stuName;\r\n    private String stuMajor;\r\n\r\n    public Student(String studentId, String stuName, String stuMajor) {\r\n        this.studentId = studentId;\r\n        this.stuName = stuName;\r\n        this.stuMajor = stuMajor;\r\n    }\r\n    public String getStudentId() {\r\n        return studentId;\r\n    }\r\n    public String getStuName() {\r\n        return stuName;\r\n    }\r\n    public String getStuMajor() {\r\n        return stuMajor;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;Id: %s, Name: %s, Major: %s&quot;, studentId, stuName, stuMajor);\r\n    }\r\n}\r\n\r\npublic class AddStudentsDemo {\r\n\r\n    public static void main(String[] args) {\r\n        Class philosophy = new Class(&quot;philosophy&quot;);\r\n        philosophy.addStudent(new Student(&quot;1&quot;, &quot;Mary&quot;, &quot;Computer Science&quot; ));\r\n        philosophy.addStudent(new Student(&quot;2&quot;,  &quot;John&quot;, &quot;Engineering&quot; ));\r\n        philosophy.addStudent(new Student(&quot;3&quot;, &quot;Bob&quot;, &quot;History&quot; ));\r\n        philosophy.addStudent(new Student(&quot;4&quot;, &quot;Jill&quot;, &quot;Physics&quot; ));\r\n        philosophy.addStudent(new Student(&quot;5&quot;, &quot;Wendy&quot;, &quot;Sociology&quot; ));\r\n        System.out.println();\r\n        philosophy.displayAttendees();\r\n    }\r\n\r\n}\r\n```\r\nprints\r\n```\r\nAdding: Id: 1, Name: Mary, Major: Computer Science\r\nAdding: Id: 2, Name: John, Major: Engineering\r\nAdding: Id: 3, Name: Bob, Major: History\r\nAdding: Id: 4, Name: Jill, Major: Physics\r\nAdding: Id: 5, Name: Wendy, Major: Sociology\r\n\r\nId: 1, Name: Mary, Major: Computer Science\r\nId: 2, Name: John, Major: Engineering\r\nId: 3, Name: Bob, Major: History\r\nId: 4, Name: Jill, Major: Physics\r\nId: 5, Name: Wendy, Major: Sociology","title":"adding string to array and displaying them","body":"<p>Here is my recommendation. First a couple conventions.</p>\n<ul>\n<li>class names start with an uppercase letter</li>\n<li>fields and methods start with lower case and are usually in <code>camelCase</code>.</li>\n<li>make fields private and use getters/setters to preserve/enforce encapsulation</li>\n</ul>\n<p>Also, a class usually has fields and items that pertain to that class. A <code>record</code> could also be used here if the class is immutable.</p>\n<p>Knowledge of other students does not make sense for a <code>Student</code> class.  A more obvious example might be a <code>Book</code> class which has info about a particular book, not all books.  However, a <code>Library</code> or <code>Shelf</code> class would certainly be appropriate for books depending on the use case.</p>\n<p>For students, you could have a <code>Class</code> class which might have the name of the class and a list of students attending that class.</p>\n<pre><code>class Class {\n    private String className;\n    private List&lt;Student&gt; attendees = new ArrayList&lt;&gt;();\n\n    public Class(String name) {\n        this.className = name;\n    }\n    public void addStudent(Student student) {\n        System.out.println(&quot;Adding: &quot; + student);\n        attendees.add(student);\n    }\n    \n    public void displayAttendees() {\n        attendees.forEach(System.out::println);\n    }\n    \n    public String getClassName() {\n        return className;\n    }\n}\n</code></pre>\n<p>I also recommend <code>Lists</code> over <code>arrays</code> since they can grow dynamically thus eliminating the need to track indices or resize the array.</p>\n<p>Having said the above, here is how it might look;</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Student {\n    private String studentId;\n    private String stuName;\n    private String stuMajor;\n\n    public Student(String studentId, String stuName, String stuMajor) {\n        this.studentId = studentId;\n        this.stuName = stuName;\n        this.stuMajor = stuMajor;\n    }\n    public String getStudentId() {\n        return studentId;\n    }\n    public String getStuName() {\n        return stuName;\n    }\n    public String getStuMajor() {\n        return stuMajor;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;Id: %s, Name: %s, Major: %s&quot;, studentId, stuName, stuMajor);\n    }\n}\n\npublic class AddStudentsDemo {\n\n    public static void main(String[] args) {\n        Class philosophy = new Class(&quot;philosophy&quot;);\n        philosophy.addStudent(new Student(&quot;1&quot;, &quot;Mary&quot;, &quot;Computer Science&quot; ));\n        philosophy.addStudent(new Student(&quot;2&quot;,  &quot;John&quot;, &quot;Engineering&quot; ));\n        philosophy.addStudent(new Student(&quot;3&quot;, &quot;Bob&quot;, &quot;History&quot; ));\n        philosophy.addStudent(new Student(&quot;4&quot;, &quot;Jill&quot;, &quot;Physics&quot; ));\n        philosophy.addStudent(new Student(&quot;5&quot;, &quot;Wendy&quot;, &quot;Sociology&quot; ));\n        System.out.println();\n        philosophy.displayAttendees();\n    }\n\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Adding: Id: 1, Name: Mary, Major: Computer Science\nAdding: Id: 2, Name: John, Major: Engineering\nAdding: Id: 3, Name: Bob, Major: History\nAdding: Id: 4, Name: Jill, Major: Physics\nAdding: Id: 5, Name: Wendy, Major: Sociology\n\nId: 1, Name: Mary, Major: Computer Science\nId: 2, Name: John, Major: Engineering\nId: 3, Name: Bob, Major: History\nId: 4, Name: Jill, Major: Physics\nId: 5, Name: Wendy, Major: Sociology\n</code></pre>\n"}],"owner":{"account_id":27944986,"reputation":3,"user_id":21340171,"display_name":"Numi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75735912,"answer_count":2,"score":-2,"last_activity_date":1678812941,"creation_date":1678804978,"question_id":75734640,"body_markdown":"\r\n```package week01.package1;\r\n\r\npublic class student {\r\n    public String studentId;\r\n    public String stuName;\r\n    public String stuMajor;\r\n    public String[] stuList;\r\n    private int stuCount = 0;\r\n\r\n    public student(String studentId, String stuName, String stuMajor) {\r\n        this.studentId = studentId;\r\n        this.stuName = stuName;\r\n        this.stuMajor = stuMajor;\r\n    }\r\n\r\n    public stuList() {\r\n        stuList = new String[10];\r\n    }\r\n\r\n    public void joinList(String s) {\r\n        stuList[stuCount++] = s;\r\n    }\r\n\r\n    public void displayStudents() {\r\n        for(int i = 0; i &lt; stuCount; i++) {\r\n            System.out.printf(&quot;Students #%d: &quot; + stuList[i] + &quot;\\n&quot;, i + 1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;Id: %s Name: %s Major: %s&quot;, studentId, stuName, stuMajor);\r\n    }\r\n}\r\n```\r\n\r\nI am trying to create a method for adding students to an array by creating a method and then display them. However I am getting an error in my test file saying \r\n\r\n&quot;stuList cannot be resolved to a type. The method displayStudents() is undefined for the type String&quot;\r\n\r\nhere is my test.java file\r\n\r\n```\r\nimport week01.package1.student;\r\n\r\npublic class studentTest {\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main( String[] args ) { \r\n        student stu1 = new student(&quot;s123&quot;, &quot;John&quot;, &quot;IT&quot;);\r\n        String list = new stuList();\r\n        stu1.joinList(list);\r\n        list.displayStudents();\r\n    }\r\n}\r\n```","title":"adding string to array and displaying them","body":"<pre><code>\npublic class student {\n    public String studentId;\n    public String stuName;\n    public String stuMajor;\n    public String[] stuList;\n    private int stuCount = 0;\n\n    public student(String studentId, String stuName, String stuMajor) {\n        this.studentId = studentId;\n        this.stuName = stuName;\n        this.stuMajor = stuMajor;\n    }\n\n    public stuList() {\n        stuList = new String[10];\n    }\n\n    public void joinList(String s) {\n        stuList[stuCount++] = s;\n    }\n\n    public void displayStudents() {\n        for(int i = 0; i &lt; stuCount; i++) {\n            System.out.printf(&quot;Students #%d: &quot; + stuList[i] + &quot;\\n&quot;, i + 1);\n        }\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;Id: %s Name: %s Major: %s&quot;, studentId, stuName, stuMajor);\n    }\n}\n</code></pre>\n<p>I am trying to create a method for adding students to an array by creating a method and then display them. However I am getting an error in my test file saying</p>\n<p>&quot;stuList cannot be resolved to a type. The method displayStudents() is undefined for the type String&quot;</p>\n<p>here is my test.java file</p>\n<pre><code>import week01.package1.student;\n\npublic class studentTest {\n    /**\n     * @param args\n     */\n    public static void main( String[] args ) { \n        student stu1 = new student(&quot;s123&quot;, &quot;John&quot;, &quot;IT&quot;);\n        String list = new stuList();\n        stu1.joinList(list);\n        list.displayStudents();\n    }\n}\n</code></pre>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678826529,"post_id":75736165,"comment_id":133608275,"body_markdown":"What version of Java are you using?  Have you tried a more recent version?","body":"What version of Java are you using?  Have you tried a more recent version?"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1678870618,"post_id":75736165,"comment_id":133615200,"body_markdown":"@VGR I am using Java 11.","body":"@VGR I am using Java 11."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678895931,"post_id":75736165,"comment_id":133622875,"body_markdown":"Im looking at the source of sun.font.TrueTypeFont  unfortunately the code discards the stack trace information for that NullPointerException, so this is going to be quite difficult to troubleshoot.  I would try a different font;  there are many that look similar to Arial.","body":"Im looking at the source of sun.font.TrueTypeFont  unfortunately the code discards the stack trace information for that NullPointerException, so this is going to be quite difficult to troubleshoot.  I would try a different font;  there are many that look similar to Arial."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1678964126,"post_id":75736165,"comment_id":133636436,"body_markdown":"@VGR The point is this issue happens with different fonts and it comes in an occasional way.","body":"@VGR The point is this issue happens with different fonts and it comes in an occasional way."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678973186,"post_id":75736165,"comment_id":133639166,"body_markdown":"It may very well be a bug in Java 11.  If you can use a later version (current version is 19, and Java 20 will be released next week), I would try that.","body":"It may very well be a bug in Java 11.  If you can use a later version (current version is 19, and Java 20 will be released next week), I would try that."}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678812862,"creation_date":1678812862,"question_id":75736165,"body_markdown":"I need to create a font from a file, but sometimes I get an unexpected exception. It is thrown really strange because I can try to load one file several times and in one moment this exception is fired.\r\nThe stacktrace of this one looks like the following:\r\n```\r\nCaused by: java.awt.FontFormatException: java.lang.NullPointerException\r\n\tat java.desktop/sun.font.TrueTypeFont.init(TrueTypeFont.java:614)\r\n\tat java.desktop/sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:219)\r\n\tat java.desktop/sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:199)\r\n\tat java.desktop/sun.font.SunFontManager.createFont2D(SunFontManager.java:2356)\r\n\tat java.desktop/java.awt.Font.&lt;init&gt;(Font.java:621)\r\n\tat java.desktop/java.awt.Font.createFont(Font.java:1225)\r\n```\r\nI try to load the font that way:\r\n```\r\npublic static void main(String ...args) {\r\n    File fontFile = new File(&quot;arial.ttf&quot;);\r\n    Font font = Font.createFont(Font.TRUETYPE_FONT, fontFile); // I get an exception on this line\r\n\r\n}\r\n```\r\nHow can I fix that and why this happens?","title":"What does java.awt.FontFormatException: java.lang.NullPointerException","body":"<p>I need to create a font from a file, but sometimes I get an unexpected exception. It is thrown really strange because I can try to load one file several times and in one moment this exception is fired.\nThe stacktrace of this one looks like the following:</p>\n<pre><code>Caused by: java.awt.FontFormatException: java.lang.NullPointerException\n    at java.desktop/sun.font.TrueTypeFont.init(TrueTypeFont.java:614)\n    at java.desktop/sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:219)\n    at java.desktop/sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:199)\n    at java.desktop/sun.font.SunFontManager.createFont2D(SunFontManager.java:2356)\n    at java.desktop/java.awt.Font.&lt;init&gt;(Font.java:621)\n    at java.desktop/java.awt.Font.createFont(Font.java:1225)\n</code></pre>\n<p>I try to load the font that way:</p>\n<pre><code>public static void main(String ...args) {\n    File fontFile = new File(&quot;arial.ttf&quot;);\n    Font font = Font.createFont(Font.TRUETYPE_FONT, fontFile); // I get an exception on this line\n\n}\n</code></pre>\n<p>How can I fix that and why this happens?</p>\n"},{"tags":["java","maven","selenium-webdriver","java-11"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678805237,"post_id":75734511,"comment_id":133602206,"body_markdown":"Don&#39;t touch idea.vmoptions for this, it&#39;s *only* for setting VM options for *the VM that runs IDEA*. That is entirely unrelated to anything that runs your code. Depending on how you launch your code you can either set the system property in the run confication (you might have to enable VM options explicitly in the dialog) or in your build tool configuration (Maven/Gradle).","body":"Don&#39;t touch idea.vmoptions for this, it&#39;s <i>only</i> for setting VM options for <i>the VM that runs IDEA</i>. That is entirely unrelated to anything that runs your code. Depending on how you launch your code you can either set the system property in the run confication (you might have to enable VM options explicitly in the dialog) or in your build tool configuration (Maven/Gradle)."},{"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mre"},"score":1,"creation_date":1678805304,"post_id":75734511,"comment_id":133602238,"body_markdown":"See if this helps: https://stackoverflow.com/questions/29454494/set-java-system-properties-in-intellij-or-eclipse","body":"See if this helps: <a href=\"https://stackoverflow.com/questions/29454494/set-java-system-properties-in-intellij-or-eclipse\" title=\"set java system properties in intellij or eclipse\">stackoverflow.com/questions/29454494/&hellip;</a>"},{"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"score":0,"creation_date":1678814054,"post_id":75734511,"comment_id":133604969,"body_markdown":"Thank you both. That allowed me to find the solution","body":"Thank you both. That allowed me to find the solution"}],"answers":[{"tags":[],"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678812861,"creation_date":1678812861,"answer_id":75736164,"question_id":75734511,"body_markdown":"It was possible to set the system properties with use of Maven Surefire Plugin. Adding below to my pom file sorted it out and now all of the tests are running fine without setting up the property each time I run it. \r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;webdriver.http.factory&gt;jdk-http-client&lt;/webdriver.http.factory&gt;\r\n                        &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n","title":"InteliJ - Is it possible to set System Property permanently?","body":"<p>It was possible to set the system properties with use of Maven Surefire Plugin. Adding below to my pom file sorted it out and now all of the tests are running fine without setting up the property each time I run it.</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;webdriver.http.factory&gt;jdk-http-client&lt;/webdriver.http.factory&gt;\n                    &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678812861,"creation_date":1678804241,"question_id":75734511,"body_markdown":"I was having issues with running Selenium tests. I finally found a solution about adding an extra dependency and a line of code to be run before the tests as per https://stackoverflow.com/a/75722029/12865183\r\n\r\nDependency:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n    &lt;version&gt;4.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nLine of code:\r\n\r\n    System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n\r\n\r\nFinally my current testing setup looks like that:\r\n\r\n\r\n    public class seleniumTest {\r\n\r\n    WebDriver driver;\r\n\r\n    @BeforeEach\r\n    void setup(){\r\n\r\n        System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n        driver = WebDriverManager.chromedriver().create();\r\n    }\r\n\r\n    @AfterEach\r\n    void teardown(){\r\n        driver.quit();\r\n    }\r\n\r\n    @Test\r\n    void test(){\r\n    }\r\n\r\n    }\r\n\r\n\r\nI wanted to ask if there is a way to set the System property permanently? Meaning for the code not to need the System.setProperty bit each time it&#39;s run. \r\n\r\nI found the idea.vmoptions and idea.properties files within my InteliJ package contents (Using MacOS BigSur) but I am not sure what syntax would I use to set up System properties there and if it&#39;s possible at all. ","title":"InteliJ - Is it possible to set System Property permanently?","body":"<p>I was having issues with running Selenium tests. I finally found a solution about adding an extra dependency and a line of code to be run before the tests as per <a href=\"https://stackoverflow.com/a/75722029/12865183\">https://stackoverflow.com/a/75722029/12865183</a></p>\n<p>Dependency:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n&lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n&lt;version&gt;4.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Line of code:</p>\n<pre><code>System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n</code></pre>\n<p>Finally my current testing setup looks like that:</p>\n<pre><code>public class seleniumTest {\n\nWebDriver driver;\n\n@BeforeEach\nvoid setup(){\n\n    System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n    driver = WebDriverManager.chromedriver().create();\n}\n\n@AfterEach\nvoid teardown(){\n    driver.quit();\n}\n\n@Test\nvoid test(){\n}\n\n}\n</code></pre>\n<p>I wanted to ask if there is a way to set the System property permanently? Meaning for the code not to need the System.setProperty bit each time it's run.</p>\n<p>I found the idea.vmoptions and idea.properties files within my InteliJ package contents (Using MacOS BigSur) but I am not sure what syntax would I use to set up System properties there and if it's possible at all.</p>\n"},{"tags":["java","android-alertdialog","android-viewmodel","android-mvvm"],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678811373,"creation_date":1678811373,"answer_id":75735926,"question_id":75735643,"body_markdown":"You never initialize your dialog fragment view model. You need to get the same instance as the one being used in the hosting Activity or parent Fragment.\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        // Assumes requireContext() returns the Activity this dialog is shown in\r\n        mViewModel = new ViewModelProvider(requireContext()).get(AlertDialogViewModel.class)\r\n\r\n        return new MaterialAlertDialogBuilder(requireContext())\r\n                .setTitle(Title)\r\n                .setMessage(MESSAGE)\r\n                .setPositiveButton(&quot;YES&quot;, (d, b) -&gt; onResult(true))\r\n                .setNegativeButton(&quot;NO&quot;, (d, b) -&gt; onResult(false))\r\n                .create();\r\n    }\r\n\r\nThen make sure you&#39;re getting the same instance in your Fragment:\r\n\r\n    AlertDialogViewModel model = new ViewModelProvider(requireContenxt()).get(AlertDialogViewModel.class);\r\n    model.getAlertDialogResult().observe(this, result-&gt; {\r\n        Toast(this, &quot;&quot;+result,Toast.LENGTH_SHORT).show();\r\n    });\r\n\r\nLastly, what is `dialog` and why is this static?\r\n\r\n    private static void showResult(Framgment fragment) {\r\n       dialog.show(fragment.getParentFragmentManager(), null);\r\n    }","title":"How to send result of AlertDialog fragment using viewModel?","body":"<p>You never initialize your dialog fragment view model. You need to get the same instance as the one being used in the hosting Activity or parent Fragment.</p>\n<pre><code>@NonNull\n@Override\npublic Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n    // Assumes requireContext() returns the Activity this dialog is shown in\n    mViewModel = new ViewModelProvider(requireContext()).get(AlertDialogViewModel.class)\n\n    return new MaterialAlertDialogBuilder(requireContext())\n            .setTitle(Title)\n            .setMessage(MESSAGE)\n            .setPositiveButton(&quot;YES&quot;, (d, b) -&gt; onResult(true))\n            .setNegativeButton(&quot;NO&quot;, (d, b) -&gt; onResult(false))\n            .create();\n}\n</code></pre>\n<p>Then make sure you're getting the same instance in your Fragment:</p>\n<pre><code>AlertDialogViewModel model = new ViewModelProvider(requireContenxt()).get(AlertDialogViewModel.class);\nmodel.getAlertDialogResult().observe(this, result-&gt; {\n    Toast(this, &quot;&quot;+result,Toast.LENGTH_SHORT).show();\n});\n</code></pre>\n<p>Lastly, what is <code>dialog</code> and why is this static?</p>\n<pre><code>private static void showResult(Framgment fragment) {\n   dialog.show(fragment.getParentFragmentManager(), null);\n}\n</code></pre>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75735926,"answer_count":1,"score":1,"last_activity_date":1678812672,"creation_date":1678809931,"question_id":75735643,"body_markdown":"I have a custom dialog fragment that communicate to its parent using intent. (I&#39;ve copied it from somewhere). This uses old framework for communicating that some of its methods such as `onActivityResult`, `getTargetFragment()` has been deprecated now. \r\n\r\nI know that one can replace these deprecated methods with new methods e.g. https://stackoverflow.com/q/64869501/6576302\r\nbut going such long way just for getting a yes or no result?! \r\n\r\nIs there a simple way for doing this? I tried to use ViewModel but doesn&#39;t worked!\r\n\r\nMy ViewModel try: AlertDialogViewModel.java\r\n\r\n    import androidx.lifecycle.LiveData;\r\n    import androidx.lifecycle.MutableLiveData;\r\n    import androidx.lifecycle.ViewModel;\r\n    \r\n    public class AlertDialogViewModel extends ViewModel {\r\n    \r\n    \r\n        private final MutableLiveData&lt;Boolean&gt; mAlertDialogResult = new MutableLiveData();\r\n        public LiveData&lt;Boolean&gt; getAlertDialogResult() {\r\n            return mAlertDialogResult;\r\n        }\r\n        public void setAlertDialogResult(boolean mResult) {\r\n            mAlertDialogResult.setValue(mResult);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAnd inside of MyAlertDialog.java:\r\n\r\n    public class MyAlertDialog extends DialogFragment {\r\n    \r\n        AlertDialogViewModel mViewModel;\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n            return new MaterialAlertDialogBuilder(requireContext())\r\n                    .setTitle(Title)\r\n                    .setMessage(MESSAGE)\r\n                    .setPositiveButton(&quot;YES&quot;, (d, b) -&gt; onResult(true))\r\n                    .setNegativeButton(&quot;NO&quot;, (d, b) -&gt; onResult(false))\r\n                    .create();\r\n        }\r\n    \r\n        private void onResult(boolean result) {\r\n           mViewModel.setAlertDialogResult(result);\r\n        }\r\n        private static void showResult(Framgment fragment) {\r\n           dialog.show(fragment.getParentFragmentManager(), null);\r\n        }\r\n    }\r\n\r\n\r\nBut this doesn&#39;t work when I want toast it as:\r\n\r\n    MyAlertDialog.showResult(this)\r\n    AlertDialogViewModel model = new ViewModelProvider(this).get(AlertDialogViewModel.class);\r\n            model.getAlertDialogResult().observe(this, result-&gt; {\r\n                Toast(this, &quot;&quot;+result,Toast.LENGTH_SHORT).show();\r\n            });\r\n\r\n","title":"How to send result of AlertDialog fragment using viewModel?","body":"<p>I have a custom dialog fragment that communicate to its parent using intent. (I've copied it from somewhere). This uses old framework for communicating that some of its methods such as <code>onActivityResult</code>, <code>getTargetFragment()</code> has been deprecated now.</p>\n<p>I know that one can replace these deprecated methods with new methods e.g. <a href=\"https://stackoverflow.com/q/64869501/6576302\">How to replace setTargetFragment() now that it is deprecated</a>\nbut going such long way just for getting a yes or no result?!</p>\n<p>Is there a simple way for doing this? I tried to use ViewModel but doesn't worked!</p>\n<p>My ViewModel try: AlertDialogViewModel.java</p>\n<pre><code>import androidx.lifecycle.LiveData;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.ViewModel;\n\npublic class AlertDialogViewModel extends ViewModel {\n\n\n    private final MutableLiveData&lt;Boolean&gt; mAlertDialogResult = new MutableLiveData();\n    public LiveData&lt;Boolean&gt; getAlertDialogResult() {\n        return mAlertDialogResult;\n    }\n    public void setAlertDialogResult(boolean mResult) {\n        mAlertDialogResult.setValue(mResult);\n    }\n\n\n}\n</code></pre>\n<p>And inside of MyAlertDialog.java:</p>\n<pre><code>public class MyAlertDialog extends DialogFragment {\n\n    AlertDialogViewModel mViewModel;\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        return new MaterialAlertDialogBuilder(requireContext())\n                .setTitle(Title)\n                .setMessage(MESSAGE)\n                .setPositiveButton(&quot;YES&quot;, (d, b) -&gt; onResult(true))\n                .setNegativeButton(&quot;NO&quot;, (d, b) -&gt; onResult(false))\n                .create();\n    }\n\n    private void onResult(boolean result) {\n       mViewModel.setAlertDialogResult(result);\n    }\n    private static void showResult(Framgment fragment) {\n       dialog.show(fragment.getParentFragmentManager(), null);\n    }\n}\n</code></pre>\n<p>But this doesn't work when I want toast it as:</p>\n<pre><code>MyAlertDialog.showResult(this)\nAlertDialogViewModel model = new ViewModelProvider(this).get(AlertDialogViewModel.class);\n        model.getAlertDialogResult().observe(this, result-&gt; {\n            Toast(this, &quot;&quot;+result,Toast.LENGTH_SHORT).show();\n        });\n</code></pre>\n"},{"tags":["java","junit","parameters"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1414751806,"post_id":26672229,"comment_id":41945149,"body_markdown":"Looks like the wrong test runner is executing your task. We need to figure out why that is to solve this problem.","body":"Looks like the wrong test runner is executing your task. We need to figure out why that is to solve this problem."},{"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":3,"creation_date":1414751985,"post_id":26672229,"comment_id":41945274,"body_markdown":"Are you sure your classes are all correctly compiled. Your exception mentions the `BlockJUnit4ClassRunner`, but a `Parameterized` is not a subclass of `BlockJUnit4ClassRunner`. See http://junit.sourceforge.net/javadoc/org/junit/runners/Parameterized.html. Seems that your compiled code does not contain `@RunWith (Parameterized. class)`","body":"Are you sure your classes are all correctly compiled. Your exception mentions the <code>BlockJUnit4ClassRunner</code>, but a <code>Parameterized</code> is not a subclass of <code>BlockJUnit4ClassRunner</code>. See <a href=\"http://junit.sourceforge.net/javadoc/org/junit/runners/Parameterized.html\" rel=\"nofollow noreferrer\">junit.sourceforge.net/javadoc/org/junit/runners/&hellip;</a>. Seems that your compiled code does not contain <code>@RunWith (Parameterized. class)</code>"},{"owner":{"account_id":4873291,"reputation":1258,"user_id":3929113,"accept_rate":36,"display_name":"Md Aslam"},"score":0,"creation_date":1414752118,"post_id":26672229,"comment_id":41945362,"body_markdown":"yes I tried with @RunWith (Parameterized. class),Now it shows java.lang.NullPointerException \tat com.kgfsl.collections.core.security.BaseRepositoryTest.getSession(BaseRepositoryTest.java:45) \tat com.kgfsl.collections.core.security.BaseRepositoryTest.setUp(BaseRepositoryTest.java:54) \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)","body":"yes I tried with @RunWith (Parameterized. class),Now it shows java.lang.NullPointerException \tat com.kgfsl.collections.core.security.BaseRepositoryTest.getSe&zwnj;&#8203;ssion(BaseRepository&zwnj;&#8203;Test.java:45) \tat com.kgfsl.collections.core.security.BaseRepositoryTest.setUp&zwnj;&#8203;(BaseRepositoryTest.&zwnj;&#8203;java:54) \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cdk"},"score":0,"creation_date":1414753192,"post_id":26672229,"comment_id":41945952,"body_markdown":"@Duncan: My answer was surely based on a basic java knowledge :\n[Java Constructors-Note](http://www.javabeginner.com/learn-java/java-constructors), See the Note.\n\nIf a class defines an explicit constructor, it no longer has a default constructor to set the state of the objects.\nIf such a class requires a default constructor, its implementation must be provided. Any attempt to call the default constructor will be a compile time error if an explicit default constructor is not provided in such a case.","body":"@Duncan: My answer was surely based on a basic java knowledge : <a href=\"http://www.javabeginner.com/learn-java/java-constructors\" rel=\"nofollow noreferrer\">Java Constructors-Note</a>, See the Note.  If a class defines an explicit constructor, it no longer has a default constructor to set the state of the objects. If such a class requires a default constructor, its implementation must be provided. Any attempt to call the default constructor will be a compile time error if an explicit default constructor is not provided in such a case."},{"owner":{"account_id":4983556,"reputation":360,"user_id":4007820,"accept_rate":75,"display_name":"Arun Prasad"},"score":0,"creation_date":1470130130,"post_id":26672229,"comment_id":64809614,"body_markdown":"@Ren&#233;Link it perfectly works for me rene. thanks for the solution","body":"@Ren&#233;Link it perfectly works for me rene. thanks for the solution"}],"answers":[{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1414754068,"creation_date":1414752749,"answer_id":26672907,"question_id":26672229,"body_markdown":"I think the problem is that you defined two test runners. One by yourself `@RunWith (Parameterized. class)` and one that comes with  spring, because an `AbstractJUnit4SpringContextTests ` defines a `@RunWith(SpringJUnit4ClassRunner.class)`.\r\n\r\nSince Junit can only deal with one `@RunWith` you can only use `@Parameterized` or `AbstractJUnit4SpringContextTests`. If you want to use both you have to use `@Parameterized` and than do the same logic that a `SpringJUnit4ClassRunner` does on your own.\r\n\r\nA simple approach can be to just use spring&#39;s `org.springframework.test.context.TestContextManager`. \r\n \r\n   \t@RunWith(Parameterized.class)\r\n\t@ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;})\r\n\tpublic abstract class BaseRepositoryTest extends AbstractJUnit4SpringContextTests {\r\n\t\t \r\n\t\tprivate TestContextManager testContextManager;\r\n\t\t \r\n\t\t@Before\r\n\t\tpublic void setUpContext() throws Exception {\r\n\t\t\tthis.testContextManager = new TestContextManager(getClass());\r\n\t\t\tthis.testContextManager.prepareTestInstance(this);\r\n\t\t}\r\n\t\t \r\n\t}\r\n\r\nBut this only ensures that the `TestExecutionListener`s are invoked. Spring normally does a lot more like application context caching and so on. Also a tear down method should be implemented that closes the application context.\r\n\r\n    ","title":"Test class should have exactly one public zero-argument constructor","body":"<p>I think the problem is that you defined two test runners. One by yourself <code>@RunWith (Parameterized. class)</code> and one that comes with  spring, because an <code>AbstractJUnit4SpringContextTests</code> defines a <code>@RunWith(SpringJUnit4ClassRunner.class)</code>.</p>\n\n<p>Since Junit can only deal with one <code>@RunWith</code> you can only use <code>@Parameterized</code> or <code>AbstractJUnit4SpringContextTests</code>. If you want to use both you have to use <code>@Parameterized</code> and than do the same logic that a <code>SpringJUnit4ClassRunner</code> does on your own.</p>\n\n<p>A simple approach can be to just use spring's <code>org.springframework.test.context.TestContextManager</code>. </p>\n\n<pre><code>@RunWith(Parameterized.class)\n@ContextConfiguration(locations = {\"classpath:applicationContext.xml\"})\npublic abstract class BaseRepositoryTest extends AbstractJUnit4SpringContextTests {\n\n    private TestContextManager testContextManager;\n\n    @Before\n    public void setUpContext() throws Exception {\n        this.testContextManager = new TestContextManager(getClass());\n        this.testContextManager.prepareTestInstance(this);\n    }\n\n}\n</code></pre>\n\n<p>But this only ensures that the <code>TestExecutionListener</code>s are invoked. Spring normally does a lot more like application context caching and so on. Also a tear down method should be implemented that closes the application context.</p>\n"},{"tags":[],"owner":{"account_id":1328141,"reputation":1411,"user_id":1272545,"accept_rate":48,"display_name":"Ezra"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1464285068,"creation_date":1464285068,"answer_id":37467856,"question_id":26672229,"body_markdown":"If you&#39;re running a single test, make sure that you wrote your test class name correctly\r\n\r\nA common mistake that I do is to have a class named &#39;Foo&#39; and a test class named \r\n\r\n&gt; &#39;FooTest&#39;\r\n\r\n and run a single unit test with \r\n\r\n&gt; &#39;Foo&#39;\r\n\r\n instead of &#39;FooTest&#39;\r\n\r\nIf &#39;Foo&#39; has a public constructor with arguments I get the error:\r\n\r\n  \r\n\r\n    java.lang.Exception: Test class should have exactly one public zero-argument constructor\r\n\r\n","title":"Test class should have exactly one public zero-argument constructor","body":"<p>If you're running a single test, make sure that you wrote your test class name correctly</p>\n\n<p>A common mistake that I do is to have a class named 'Foo' and a test class named </p>\n\n<blockquote>\n  <p>'FooTest'</p>\n</blockquote>\n\n<p>and run a single unit test with </p>\n\n<blockquote>\n  <p>'Foo'</p>\n</blockquote>\n\n<p>instead of 'FooTest'</p>\n\n<p>If 'Foo' has a public constructor with arguments I get the error:</p>\n\n<pre><code>java.lang.Exception: Test class should have exactly one public zero-argument constructor\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10447957,"reputation":329,"user_id":7702483,"display_name":"tyrantqiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492786432,"creation_date":1492786432,"answer_id":43545827,"question_id":26672229,"body_markdown":"I have got one answer,it fix on my machine\r\nJUnit4 -&gt; when u check the exception\r\n\r\n     org.junit.runners.BlockJUnit4ClassRunner.validateZeroArgConstructor(BlockJUnit4ClassRunner.java:171)\r\n\t org.junit.runners.BlockJUnit4ClassRunner.validateConstructor(BlockJUnit4ClassRunner.java:148)\r\n\r\nget inside to first exception\r\n\r\n    protected void validateZeroArgConstructor(List&lt;Throwable&gt; errors) {\r\n        if(!this.getTestClass().isANonStaticInnerClass() &amp;&amp; this.hasOneConstructor() &amp;&amp; this.getTestClass().getOnlyConstructor().getParameterTypes().length != 0) {\r\n            String gripe = &quot;Test class should have exactly one public zero-argument constructor&quot;;\r\n            errors.add(new Exception(gripe));\r\n        }\r\n\r\n    }\r\nit will check your constructor is none-parameters or not\r\nTry setter injection or field(-&gt;field is not recommended officially)","title":"Test class should have exactly one public zero-argument constructor","body":"<p>I have got one answer,it fix on my machine\nJUnit4 -> when u check the exception</p>\n\n<pre><code> org.junit.runners.BlockJUnit4ClassRunner.validateZeroArgConstructor(BlockJUnit4ClassRunner.java:171)\n org.junit.runners.BlockJUnit4ClassRunner.validateConstructor(BlockJUnit4ClassRunner.java:148)\n</code></pre>\n\n<p>get inside to first exception</p>\n\n<pre><code>protected void validateZeroArgConstructor(List&lt;Throwable&gt; errors) {\n    if(!this.getTestClass().isANonStaticInnerClass() &amp;&amp; this.hasOneConstructor() &amp;&amp; this.getTestClass().getOnlyConstructor().getParameterTypes().length != 0) {\n        String gripe = \"Test class should have exactly one public zero-argument constructor\";\n        errors.add(new Exception(gripe));\n    }\n\n}\n</code></pre>\n\n<p>it will check your constructor is none-parameters or not\nTry setter injection or field(->field is not recommended officially)</p>\n"},{"tags":[],"owner":{"account_id":14854715,"reputation":51,"user_id":10727580,"display_name":"Mar&#237;a Navarro"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543579412,"creation_date":1543579412,"answer_id":53557214,"question_id":26672229,"body_markdown":"This error is thrown when your class is not defined as public\r\nIn your case it is abstract, so it can not be instantiate for testing propouses","title":"Test class should have exactly one public zero-argument constructor","body":"<p>This error is thrown when your class is not defined as public\nIn your case it is abstract, so it can not be instantiate for testing propouses</p>\n"},{"tags":[],"owner":{"account_id":4592920,"reputation":578,"user_id":3725760,"accept_rate":10,"display_name":"Pruthviraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551334981,"creation_date":1551334981,"answer_id":54919604,"question_id":26672229,"body_markdown":"Try removing constructor from **MyParameterizedClassTest** class.\r\n\r\nI was getting this error when my test class had a public constructor. After removing, it started working.","title":"Test class should have exactly one public zero-argument constructor","body":"<p>Try removing constructor from <strong>MyParameterizedClassTest</strong> class.</p>\n\n<p>I was getting this error when my test class had a public constructor. After removing, it started working.</p>\n"},{"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1678812310,"creation_date":1582637776,"answer_id":60395910,"question_id":26672229,"body_markdown":"## JUnit 4 vs Jupiter - Wrong import may be causing the problem\r\n\r\n**TL;DR** import `org.junit.jupiter.api.Test` instead of `org.junit.Test`\r\n\r\n_____\r\nI had this issue when I imported the wrong `Test` class.\r\n\r\nWhile a constructor was using JUnit 5 features, I imported the old `org.junit.Test` rather than `org.junit.jupiter.api.Test`.\r\n\r\n","title":"Test class should have exactly one public zero-argument constructor","body":"<h2>JUnit 4 vs Jupiter - Wrong import may be causing the problem</h2>\n<p><strong>TL;DR</strong> import <code>org.junit.jupiter.api.Test</code> instead of <code>org.junit.Test</code></p>\n<hr />\n<p>I had this issue when I imported the wrong <code>Test</code> class.</p>\n<p>While a constructor was using JUnit 5 features, I imported the old <code>org.junit.Test</code> rather than <code>org.junit.jupiter.api.Test</code>.</p>\n"}],"owner":{"account_id":4873291,"reputation":1258,"user_id":3929113,"accept_rate":36,"display_name":"Md Aslam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88328,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":6,"score":25,"last_activity_date":1678812310,"creation_date":1414750607,"question_id":26672229,"body_markdown":"I have written a test class, such that is following \r\n\r\n    public class MyParameterizedClassTest extends BaseRepositoryTest {\r\n\t\tprivate int multiplierA;\r\n\t\tprivate int multiplierB;\r\n\t\tpublic MyParameterizedClassTest(int multiplierA) {\r\n\t\t\tthis.multiplierA = multiplierA;\r\n\r\n\t\t}\t\r\n\t\t\t\t\r\n\t    @Parameters\r\n\t    public static Collection&lt;Object[]&gt; data() {\t\r\n\t\t    Object[][] data = new Object[][] { { 1 }, { 5 }, { 121 } };\r\n\t\t    return Arrays.asList(data);\r\n\t    }\r\n\r\n\t    @Test\r\n\t    public void testMultiplyException() {\r\n\t\t    assertEquals(&quot;Result&quot;, multiplierA * multiplierA,multiply(multiplierA));\r\n\t    }\r\n\t\r\n\t    public int multiply(int a){\r\n            return a*a;\r\n\t    }\r\n     }\r\n\r\nAnd My BaseRepositoryTest class is following\r\n\r\n    @RunWith (Parameterized.class)\r\n    @ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;})\r\n    public abstract class BaseRepositoryTest extends\r\n\t\tAbstractJUnit4SpringContextTests {\r\n\r\n\t\r\n\t\r\n\t    @Inject\r\n\t    SessionFactory sessionFactory;\r\n\r\n\t    private Transaction transaction;\r\n\r\n\t    public Session getSession() {\r\n\t\t    Session session;\r\n\t\t    try {\r\n\t\t\t    session = sessionFactory.getCurrentSession();\r\n\t\t    } catch (SessionException se) {\r\n\t\t\t    session = sessionFactory.openSession();\r\n\t\t    }\r\n\t\t    return session;\r\n\t    }\r\n\r\n\t    @Before\r\n\t    public void setUp() throws Exception {\r\n\t\t    transaction = getSession().beginTransaction();\r\n\t    }\r\n\r\n\t    @After\r\n\t    public void tearDown() throws Exception {\r\n\t\t    if (transaction != null) {\r\n                transaction.rollback();\r\n            }\r\n            getSession().close();\r\n\t    }\r\n\t\r\n\t    @Before\r\n\t    public void baseSetUp() {\r\n\t\t    MockitoAnnotations.initMocks(this);\r\n\t    }\r\n    }\r\n\r\n\r\n\r\nWhen I run my test class it shows like,\r\n\r\n     Test class should have exactly one public zero-argument constructor:at \r\n     org.junit.runners.BlockJUnit4ClassRunner.validateZeroArgConstructor\r\n\r\nI want to make a test method with @parameters,so please  Can anyone please help to find the solution","title":"Test class should have exactly one public zero-argument constructor","body":"<p>I have written a test class, such that is following </p>\n\n<pre><code>public class MyParameterizedClassTest extends BaseRepositoryTest {\n    private int multiplierA;\n    private int multiplierB;\n    public MyParameterizedClassTest(int multiplierA) {\n        this.multiplierA = multiplierA;\n\n    }   \n\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() { \n        Object[][] data = new Object[][] { { 1 }, { 5 }, { 121 } };\n        return Arrays.asList(data);\n    }\n\n    @Test\n    public void testMultiplyException() {\n        assertEquals(\"Result\", multiplierA * multiplierA,multiply(multiplierA));\n    }\n\n    public int multiply(int a){\n        return a*a;\n    }\n }\n</code></pre>\n\n<p>And My BaseRepositoryTest class is following</p>\n\n<pre><code>@RunWith (Parameterized.class)\n@ContextConfiguration(locations = {\"classpath:applicationContext.xml\"})\npublic abstract class BaseRepositoryTest extends\n    AbstractJUnit4SpringContextTests {\n\n\n\n    @Inject\n    SessionFactory sessionFactory;\n\n    private Transaction transaction;\n\n    public Session getSession() {\n        Session session;\n        try {\n            session = sessionFactory.getCurrentSession();\n        } catch (SessionException se) {\n            session = sessionFactory.openSession();\n        }\n        return session;\n    }\n\n    @Before\n    public void setUp() throws Exception {\n        transaction = getSession().beginTransaction();\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        if (transaction != null) {\n            transaction.rollback();\n        }\n        getSession().close();\n    }\n\n    @Before\n    public void baseSetUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n}\n</code></pre>\n\n<p>When I run my test class it shows like,</p>\n\n<pre><code> Test class should have exactly one public zero-argument constructor:at \n org.junit.runners.BlockJUnit4ClassRunner.validateZeroArgConstructor\n</code></pre>\n\n<p>I want to make a test method with @parameters,so please  Can anyone please help to find the solution</p>\n"},{"tags":["java","regex","string","replace"],"comments":[{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":3,"creation_date":1678123296,"post_id":75653833,"comment_id":133468496,"body_markdown":"You could replace obscene words with neutral ones in your example. It does not affect the actual results.","body":"You could replace obscene words with neutral ones in your example. It does not affect the actual results."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1678124928,"post_id":75653833,"comment_id":133468972,"body_markdown":"StringUtils is not needed here.  The String class has its own [repeat](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#repeat(int)) method.  Just use `&quot;*&quot;.repeat(keyword.length())`.","body":"StringUtils is not needed here.  The String class has its own <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\">repeat</a> method.  Just use <code>&quot;*&quot;.repeat(keyword.length())</code>."}],"answers":[{"tags":[],"owner":{"account_id":27345207,"reputation":81,"user_id":20855204,"display_name":"Sarkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678811753,"creation_date":1678811753,"answer_id":75735986,"question_id":75653833,"body_markdown":"You can use\r\n```\r\npublic static String maskKeywordData(String data, List&lt;String&gt; keywords) {\r\n\tfor (String keyword : keywords) {\r\n\t\tString insensitiveWord = &quot;(?i)\\\\b&quot; + keyword;\r\n\t\tdata = data.replaceAll(insensitiveWord, &quot;*&quot;.repeat(keyword.length()));\r\n\t}\r\n\treturn data;\r\n}\r\n```\r\nIts only downside is, in the list, for `$` you have to use`\\\\$` in the word, like `a$$` will be `a\\\\$\\\\$` in the list for the above code to run.\\\r\nReason is, `\\\\b` is word boundary which checks for `(^ \\w|\\w $|\\W \\w|\\w \\W)`, due to which the word a$$ is not taken.\\\r\nOutput by the above code:\\\r\n`Hello ******* with **** and *****`","title":"How to replace word with special character from string in java?","body":"<p>You can use</p>\n<pre><code>public static String maskKeywordData(String data, List&lt;String&gt; keywords) {\n    for (String keyword : keywords) {\n        String insensitiveWord = &quot;(?i)\\\\b&quot; + keyword;\n        data = data.replaceAll(insensitiveWord, &quot;*&quot;.repeat(keyword.length()));\n    }\n    return data;\n}\n</code></pre>\n<p>Its only downside is, in the list, for <code>$</code> you have to use<code>\\\\$</code> in the word, like <code>a$$</code> will be <code>a\\\\$\\\\$</code> in the list for the above code to run.<br />\nReason is, <code>\\\\b</code> is word boundary which checks for <code>(^ \\w|\\w $|\\W \\w|\\w \\W)</code>, due to which the word a$$ is not taken.<br />\nOutput by the above code:<br />\n<code>Hello ******* with **** and *****</code></p>\n"}],"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":75735986,"answer_count":1,"score":-3,"last_activity_date":1678811753,"creation_date":1678122805,"question_id":75653833,"body_markdown":"I am writing a method that should replace all words which match with ones from the list with &#39;****&#39;.\r\n\r\nSo far I have code that works fine with strings without special characters but all string with special characters are ignoring.\r\n\r\nHere&#39;s the code I have so far:\r\n\r\n```\r\npublic static String maskKeywordData(String data, List&lt;String&gt; keywords) {\r\n  for (String keyword: keywords) {\r\n\t\t\tString insensitiveWord = &quot;(?i)\\\\b&quot; + keyword + &quot;\\\\b&quot;;\r\n\t\t\tdata = data.replaceAll(insensitiveWord, StringUtils.repeat(&quot;*&quot;, keyword.length()));\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n```\r\nE.g. I have a list of keywords [&#39;c.u.n.t&#39;, &#39;a$$&#39;, &#39;bitch&#39;].\r\n\r\nInput : &quot;Hello c.u.n.t with a$$ and bitch&quot;\r\n\r\nExpected output : &quot;Hello ******* with *** and *****&quot;","title":"How to replace word with special character from string in java?","body":"<p>I am writing a method that should replace all words which match with ones from the list with '****'.</p>\n<p>So far I have code that works fine with strings without special characters but all string with special characters are ignoring.</p>\n<p>Here's the code I have so far:</p>\n<pre><code>public static String maskKeywordData(String data, List&lt;String&gt; keywords) {\n  for (String keyword: keywords) {\n            String insensitiveWord = &quot;(?i)\\\\b&quot; + keyword + &quot;\\\\b&quot;;\n            data = data.replaceAll(insensitiveWord, StringUtils.repeat(&quot;*&quot;, keyword.length()));\n        }\n        return data;\n    }\n</code></pre>\n<p>E.g. I have a list of keywords ['c.u.n.t', 'a$$', 'bitch'].</p>\n<p>Input : &quot;Hello c.u.n.t with a$$ and bitch&quot;</p>\n<p>Expected output : &quot;Hello ******* with *** and *****&quot;</p>\n"},{"tags":["java","dependency-injection"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1678812136,"post_id":75735975,"comment_id":133604416,"body_markdown":"&quot;*or just stay as a null*&quot; This one. For DI to happen, the DI container needs to instantiate it. It ain&#39;t magic. It has no way to magically intercept your ctor invocation.","body":"&quot;<i>or just stay as a null</i>&quot; This one. For DI to happen, the DI container needs to instantiate it. It ain&#39;t magic. It has no way to magically intercept your ctor invocation."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678812168,"post_id":75735975,"comment_id":133604430,"body_markdown":"&quot;*I have no chance to change runJobs function*&quot; Then it can&#39;t possibly work. `MyJob` will have to work without `MyService`.","body":"&quot;<i>I have no chance to change runJobs function</i>&quot; Then it can&#39;t possibly work. <code>MyJob</code> will have to work without <code>MyService</code>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1678812319,"post_id":75735975,"comment_id":133604479,"body_markdown":"If you can&#39;t change the `runJobs` method, then you&#39;ll have to instantiate the `MyService` yourself inside the constructor. With &quot;regular&quot; CDI you could try using `CDI.current().select(MyService.class).get()` to replace the injection. For Quarkus use `Arc.container().instance(MyService.class).get()` instead.","body":"If you can&#39;t change the <code>runJobs</code> method, then you&#39;ll have to instantiate the <code>MyService</code> yourself inside the constructor. With &quot;regular&quot; CDI you could try using <code>CDI.current().select(MyService.class).get()</code> to replace the injection. For Quarkus use <code>Arc.container().instance(MyService.class).get()</code> instead."}],"owner":{"account_id":1125793,"reputation":434,"user_id":1113111,"accept_rate":14,"display_name":"yeulucay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678811721,"creation_date":1678811721,"question_id":75735975,"body_markdown":"I&#39;ve a Job class which has 2 parameters in its constructor. I want to inject a service class inside. As far as I know, there should be a default constructor in order to inject an object with **@Inject** annotation. But my job class is called with **new** keyword somewhere I have no permission to edit. Example is below:\r\n\r\n    class MyJob {\r\n    \r\n        @Inject\r\n        private MyService myService;\r\n    \r\n        public MyJob(String myParam, String otherParam){\r\n             // params are important and should be provided by caller\r\n        }\r\n    }\r\n    \r\n    class MyService {\r\n        void doFunc() {...}\r\n    }\r\n    \r\n    // code block that I cannot edit\r\n    // this function is placed into a JobRunner class\r\n    void runJobs() {\r\n        MyJob myJob = new MyJob(param1, param2);\r\n    // rest of the code\r\n    }\r\n\r\nIf I create a default constructor in `MyJob` class, when it&#39;s initialized inside the `runJobs` function with parameters, Is MyService injected successfully or just stay as a null?\r\nWhat is the best practice for this kind of a case? (I have no chance to change runJobs function)\r\n\r\n\r\n\r\n","title":"Java @Inject with constructor with parameters","body":"<p>I've a Job class which has 2 parameters in its constructor. I want to inject a service class inside. As far as I know, there should be a default constructor in order to inject an object with <strong>@Inject</strong> annotation. But my job class is called with <strong>new</strong> keyword somewhere I have no permission to edit. Example is below:</p>\n<pre><code>class MyJob {\n\n    @Inject\n    private MyService myService;\n\n    public MyJob(String myParam, String otherParam){\n         // params are important and should be provided by caller\n    }\n}\n\nclass MyService {\n    void doFunc() {...}\n}\n\n// code block that I cannot edit\n// this function is placed into a JobRunner class\nvoid runJobs() {\n    MyJob myJob = new MyJob(param1, param2);\n// rest of the code\n}\n</code></pre>\n<p>If I create a default constructor in <code>MyJob</code> class, when it's initialized inside the <code>runJobs</code> function with parameters, Is MyService injected successfully or just stay as a null?\nWhat is the best practice for this kind of a case? (I have no chance to change runJobs function)</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1678808621,"post_id":75735290,"comment_id":133603292,"body_markdown":"Can you share a [mcve]?","body":"Can you share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678811696,"creation_date":1678811696,"answer_id":75735972,"question_id":75735290,"body_markdown":"This is a problem in your environment/IDE. I copied your code and it worked perfectly:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import com.google.gson.Gson;\r\n    \r\n    public class EmailPOJO {\r\n        private Integer ID;\r\n        private String sender;\r\n        private List&lt;String&gt; receivers;\r\n        private String subject;\r\n        private String content;\r\n        private String sendDate;\r\n        private Boolean deleted;\r\n    \r\n        \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tEmailPOJO emailPOJO = new EmailPOJO();\r\n    \t\temailPOJO.setID(5);\r\n    \t\temailPOJO.setContent(&quot;content, more content&quot;);\r\n    \t\temailPOJO.setDeleted(false);\r\n    \t\temailPOJO.setReceivers(Arrays.asList(new String[]{&quot;receiver1&quot;, &quot;receiver2&quot;}));\r\n    \t\temailPOJO.setSendDate(&quot;2023-03-14&quot;);;\r\n    \t\temailPOJO.setSender(&quot;sender&quot;);;\r\n    \t\temailPOJO.setSubject(&quot;subject&quot;);;\r\n    \t\tSystem.out.println(&quot;trasforming into json&quot;);\r\n    \t\tString emailJson = new Gson().toJson(emailPOJO);\r\n    \t\tSystem.out.println(&quot;json: &quot;+emailJson);\r\n    \t}\r\n    \r\n        public Integer getID () {\r\n            return ID;\r\n        }\r\n    \r\n        public void setID (Integer ID) {\r\n            this.ID = ID;\r\n        }\r\n    \r\n        public String getSender () {\r\n            return sender;\r\n        }\r\n    \r\n        public void setSender (String sender) {\r\n            this.sender = sender;\r\n        }\r\n    \r\n        public List&lt;String&gt; getReceivers () {\r\n            return receivers;\r\n        }\r\n    \r\n        public void setReceivers (List&lt;String&gt; receivers) {\r\n            this.receivers = receivers;\r\n        }\r\n    \r\n        public String getSubject () {\r\n            return subject;\r\n        }\r\n    \r\n        public void setSubject (String subject) {\r\n            this.subject = subject;\r\n        }\r\n    \r\n        public String getContent () {\r\n            return content;\r\n        }\r\n    \r\n        public void setContent (String content) {\r\n            this.content = content;\r\n        }\r\n    \r\n        public String getSendDate () {\r\n            return sendDate;\r\n        }\r\n    \r\n        public void setSendDate (String sendDate) {\r\n            this.sendDate = sendDate;\r\n        }\r\n    \r\n        public Boolean getDeleted () {\r\n            return deleted;\r\n        }\r\n    \r\n        public void setDeleted (Boolean deleted) {\r\n            this.deleted = deleted;\r\n        }\r\n    \r\n        @Override\r\n        public String toString () {\r\n            return &quot;EmailPOJO{&quot; +\r\n                    &quot;ID=&quot; + ID +\r\n                    &quot;, sender=&#39;&quot; + sender + &#39;\\&#39;&#39; +\r\n                    &quot;, receivers=&quot; + receivers +\r\n                    &quot;, subject=&#39;&quot; + subject + &#39;\\&#39;&#39; +\r\n                    &quot;, content=&#39;&quot; + content + &#39;\\&#39;&#39; +\r\n                    &quot;, sendDate=&#39;&quot; + sendDate + &#39;\\&#39;&#39; +\r\n                    &quot;, deleted=&quot; + deleted +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nGson version:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.10.1&lt;/version&gt; \r\n\t&lt;/dependency&gt;\r\n\r\nOutput:\r\n\r\n    trasforming into json\r\n    json: {&quot;ID&quot;:5,&quot;sender&quot;:&quot;sender&quot;,&quot;receivers&quot;:[&quot;receiver1&quot;,&quot;receiver2&quot;],&quot;subject&quot;:&quot;subject&quot;,&quot;content&quot;:&quot;content, more content&quot;,&quot;sendDate&quot;:&quot;2023-03-14&quot;,&quot;deleted&quot;:false}\r\n\r\n\r\n","title":"JSON conversion does not work as expected","body":"<p>This is a problem in your environment/IDE. I copied your code and it worked perfectly:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\nimport com.google.gson.Gson;\n\npublic class EmailPOJO {\n    private Integer ID;\n    private String sender;\n    private List&lt;String&gt; receivers;\n    private String subject;\n    private String content;\n    private String sendDate;\n    private Boolean deleted;\n\n    \n    public static void main(String[] args) {\n\n        EmailPOJO emailPOJO = new EmailPOJO();\n        emailPOJO.setID(5);\n        emailPOJO.setContent(&quot;content, more content&quot;);\n        emailPOJO.setDeleted(false);\n        emailPOJO.setReceivers(Arrays.asList(new String[]{&quot;receiver1&quot;, &quot;receiver2&quot;}));\n        emailPOJO.setSendDate(&quot;2023-03-14&quot;);;\n        emailPOJO.setSender(&quot;sender&quot;);;\n        emailPOJO.setSubject(&quot;subject&quot;);;\n        System.out.println(&quot;trasforming into json&quot;);\n        String emailJson = new Gson().toJson(emailPOJO);\n        System.out.println(&quot;json: &quot;+emailJson);\n    }\n\n    public Integer getID () {\n        return ID;\n    }\n\n    public void setID (Integer ID) {\n        this.ID = ID;\n    }\n\n    public String getSender () {\n        return sender;\n    }\n\n    public void setSender (String sender) {\n        this.sender = sender;\n    }\n\n    public List&lt;String&gt; getReceivers () {\n        return receivers;\n    }\n\n    public void setReceivers (List&lt;String&gt; receivers) {\n        this.receivers = receivers;\n    }\n\n    public String getSubject () {\n        return subject;\n    }\n\n    public void setSubject (String subject) {\n        this.subject = subject;\n    }\n\n    public String getContent () {\n        return content;\n    }\n\n    public void setContent (String content) {\n        this.content = content;\n    }\n\n    public String getSendDate () {\n        return sendDate;\n    }\n\n    public void setSendDate (String sendDate) {\n        this.sendDate = sendDate;\n    }\n\n    public Boolean getDeleted () {\n        return deleted;\n    }\n\n    public void setDeleted (Boolean deleted) {\n        this.deleted = deleted;\n    }\n\n    @Override\n    public String toString () {\n        return &quot;EmailPOJO{&quot; +\n                &quot;ID=&quot; + ID +\n                &quot;, sender='&quot; + sender + '\\'' +\n                &quot;, receivers=&quot; + receivers +\n                &quot;, subject='&quot; + subject + '\\'' +\n                &quot;, content='&quot; + content + '\\'' +\n                &quot;, sendDate='&quot; + sendDate + '\\'' +\n                &quot;, deleted=&quot; + deleted +\n                '}';\n    }\n}\n</code></pre>\n<p>Gson version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>Output:</p>\n<pre><code>trasforming into json\njson: {&quot;ID&quot;:5,&quot;sender&quot;:&quot;sender&quot;,&quot;receivers&quot;:[&quot;receiver1&quot;,&quot;receiver2&quot;],&quot;subject&quot;:&quot;subject&quot;,&quot;content&quot;:&quot;content, more content&quot;,&quot;sendDate&quot;:&quot;2023-03-14&quot;,&quot;deleted&quot;:false}\n</code></pre>\n"}],"owner":{"account_id":28015766,"reputation":3,"user_id":21397541,"display_name":"ramaerik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75735972,"answer_count":1,"score":0,"last_activity_date":1678811696,"creation_date":1678808206,"question_id":75735290,"body_markdown":"The program stops when it encounters the command new Gson().toJson(emailPOJO);\r\nSimple strings work so probably the problem is the Object emailPOJO, but I searching online I did not find anything different with what I wrote.\r\n\r\n\r\nI need to convert this EmailPOJO object into a JSON and I&#39;m using com.google.code.gson version 2.10.1\r\n\r\n```\r\n\r\nimport java.util.List;\r\n\r\npublic class EmailPOJO {\r\n    private Integer ID;\r\n    private String sender;\r\n    private List&lt;String&gt; receivers;\r\n    private String subject;\r\n    private String content;\r\n    private String sendDate;\r\n    private Boolean deleted;\r\n\r\n\r\n    public Integer getID () {\r\n        return ID;\r\n    }\r\n\r\n    public void setID (Integer ID) {\r\n        this.ID = ID;\r\n    }\r\n\r\n    public String getSender () {\r\n        return sender;\r\n    }\r\n\r\n    public void setSender (String sender) {\r\n        this.sender = sender;\r\n    }\r\n\r\n    public List&lt;String&gt; getReceivers () {\r\n        return receivers;\r\n    }\r\n\r\n    public void setReceivers (List&lt;String&gt; receivers) {\r\n        this.receivers = receivers;\r\n    }\r\n\r\n    public String getSubject () {\r\n        return subject;\r\n    }\r\n\r\n    public void setSubject (String subject) {\r\n        this.subject = subject;\r\n    }\r\n\r\n    public String getContent () {\r\n        return content;\r\n    }\r\n\r\n    public void setContent (String content) {\r\n        this.content = content;\r\n    }\r\n\r\n    public String getSendDate () {\r\n        return sendDate;\r\n    }\r\n\r\n    public void setSendDate (String sendDate) {\r\n        this.sendDate = sendDate;\r\n    }\r\n\r\n    public Boolean getDeleted () {\r\n        return deleted;\r\n    }\r\n\r\n    public void setDeleted (Boolean deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n\r\n    @Override\r\n    public String toString () {\r\n        return &quot;EmailPOJO{&quot; +\r\n                &quot;ID=&quot; + ID +\r\n                &quot;, sender=&#39;&quot; + sender + &#39;\\&#39;&#39; +\r\n                &quot;, receivers=&quot; + receivers +\r\n                &quot;, subject=&#39;&quot; + subject + &#39;\\&#39;&#39; +\r\n                &quot;, content=&#39;&quot; + content + &#39;\\&#39;&#39; +\r\n                &quot;, sendDate=&#39;&quot; + sendDate + &#39;\\&#39;&#39; +\r\n                &quot;, deleted=&quot; + deleted +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nI properly set each variable in it using getX() (so no null variables) and call these line of code\r\n```\r\nSystem.out.println(&quot;trasforming into json&quot;);\r\nString emailJson = new Gson().toJson(emailPOJO);\r\nSystem.out.println(&quot;json: &quot;+emailJson);\r\n```\r\nbut as I reach the second line the execution stops and never goes on. So I just get &quot;trasforming into json&quot; and that&#39;s it, no exception, no errors even using try catch.\r\n\r\nI have no idea what&#39;s causing this, I&#39;ve searched a lot online but no answers. Note that converting primitive object like a String work properly. I also tried making the class serializable, but nothing changed.\r\n","title":"JSON conversion does not work as expected","body":"<p>The program stops when it encounters the command new Gson().toJson(emailPOJO);\nSimple strings work so probably the problem is the Object emailPOJO, but I searching online I did not find anything different with what I wrote.</p>\n<p>I need to convert this EmailPOJO object into a JSON and I'm using com.google.code.gson version 2.10.1</p>\n<pre><code>\nimport java.util.List;\n\npublic class EmailPOJO {\n    private Integer ID;\n    private String sender;\n    private List&lt;String&gt; receivers;\n    private String subject;\n    private String content;\n    private String sendDate;\n    private Boolean deleted;\n\n\n    public Integer getID () {\n        return ID;\n    }\n\n    public void setID (Integer ID) {\n        this.ID = ID;\n    }\n\n    public String getSender () {\n        return sender;\n    }\n\n    public void setSender (String sender) {\n        this.sender = sender;\n    }\n\n    public List&lt;String&gt; getReceivers () {\n        return receivers;\n    }\n\n    public void setReceivers (List&lt;String&gt; receivers) {\n        this.receivers = receivers;\n    }\n\n    public String getSubject () {\n        return subject;\n    }\n\n    public void setSubject (String subject) {\n        this.subject = subject;\n    }\n\n    public String getContent () {\n        return content;\n    }\n\n    public void setContent (String content) {\n        this.content = content;\n    }\n\n    public String getSendDate () {\n        return sendDate;\n    }\n\n    public void setSendDate (String sendDate) {\n        this.sendDate = sendDate;\n    }\n\n    public Boolean getDeleted () {\n        return deleted;\n    }\n\n    public void setDeleted (Boolean deleted) {\n        this.deleted = deleted;\n    }\n\n    @Override\n    public String toString () {\n        return &quot;EmailPOJO{&quot; +\n                &quot;ID=&quot; + ID +\n                &quot;, sender='&quot; + sender + '\\'' +\n                &quot;, receivers=&quot; + receivers +\n                &quot;, subject='&quot; + subject + '\\'' +\n                &quot;, content='&quot; + content + '\\'' +\n                &quot;, sendDate='&quot; + sendDate + '\\'' +\n                &quot;, deleted=&quot; + deleted +\n                '}';\n    }\n}\n</code></pre>\n<p>I properly set each variable in it using getX() (so no null variables) and call these line of code</p>\n<pre><code>System.out.println(&quot;trasforming into json&quot;);\nString emailJson = new Gson().toJson(emailPOJO);\nSystem.out.println(&quot;json: &quot;+emailJson);\n</code></pre>\n<p>but as I reach the second line the execution stops and never goes on. So I just get &quot;trasforming into json&quot; and that's it, no exception, no errors even using try catch.</p>\n<p>I have no idea what's causing this, I've searched a lot online but no answers. Note that converting primitive object like a String work properly. I also tried making the class serializable, but nothing changed.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11571030,"reputation":1499,"user_id":8477804,"display_name":"NRUSINGHA MOHARANA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619257712,"creation_date":1619256937,"answer_id":67241283,"question_id":67240879,"body_markdown":"Actually `onRequestPermissionsResult` is getting called perfectly as expected. You have to handle the case inside it&#39;s body. Your problem is `Activity` gets finished before `dialog` opens to make any choice. So, just try commenting out `finish()` method inside `onRequestPermissionsResult`. Look at below code for better clarity. \r\n\r\n        @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == presenter.ACTIVITY_REQUEST_CODE)\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                presenter.registerListener(this);\r\n            else {\r\n                // if user denies permission then Dialog would be pop up. That&#39;s why I commented out both toast and finish() method below.\r\n                // If user clicks deny on the dialog then only finish activity.\r\n                //Toast.makeText(this, &quot;Permission denied, exiting&quot;, Toast.LENGTH_LONG).show();\r\n                //finish();\r\n            }\r\n    }\r\n\r\nHandle user denial case at below part of your code: \r\n\r\n    .setNegativeButton(&quot;Deny&quot;, (dialog, which) -&gt; {\r\n                            // Put code here for user denial------\r\n                            finish();\r\n                        })","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<p>Actually <code>onRequestPermissionsResult</code> is getting called perfectly as expected. You have to handle the case inside it's body. Your problem is <code>Activity</code> gets finished before <code>dialog</code> opens to make any choice. So, just try commenting out <code>finish()</code> method inside <code>onRequestPermissionsResult</code>. Look at below code for better clarity.</p>\n<pre><code>    @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == presenter.ACTIVITY_REQUEST_CODE)\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            presenter.registerListener(this);\n        else {\n            // if user denies permission then Dialog would be pop up. That's why I commented out both toast and finish() method below.\n            // If user clicks deny on the dialog then only finish activity.\n            //Toast.makeText(this, &quot;Permission denied, exiting&quot;, Toast.LENGTH_LONG).show();\n            //finish();\n        }\n}\n</code></pre>\n<p>Handle user denial case at below part of your code:</p>\n<pre><code>.setNegativeButton(&quot;Deny&quot;, (dialog, which) -&gt; {\n                        // Put code here for user denial------\n                        finish();\n                    })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619258923,"creation_date":1619258923,"answer_id":67241572,"question_id":67240879,"body_markdown":"## Solution is here ##\r\n\r\n**Use Dexter to make your life easier** \r\n\r\n(1) Add the following dependency in your build.grade (app level) file\r\n\r\n    implementation com.karumi:dexter:6.2.2\r\n\r\n\r\n(2) Now just use it..\r\n\r\n     Dexter.withActivity(this)\r\n                    // below line is use to request the number of \r\n                    // permissions which are required in our app.\r\n                    .withPermissions(Manifest.permission.CAMERA,\r\n                            // below is the list of permissions\r\n                            Manifest.permission.ACCESS_FINE_LOCATION,\r\n                            Manifest.permission.READ_CONTACTS)\r\n                    // after adding permissions we are \r\n                    // calling an with listener method.\r\n                    .withListener(new MultiplePermissionsListener() {\r\n                        @Override\r\n                        public void onPermissionsChecked(MultiplePermissionsReport multiplePermissionsReport) {\r\n                            // this method is called when all permissions are granted\r\n                            if (multiplePermissionsReport.areAllPermissionsGranted()) {\r\n                                // do you work now\r\n                                Toast.makeText(MainActivity.this, &quot;All the permissions are granted..&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            // check for permanent denial of any permission\r\n                            if (multiplePermissionsReport.isAnyPermissionPermanentlyDenied()) {\r\n                                // permission is denied permanently,\r\n                                // we will show user a dialog message.\r\n                                showSettingsDialog();\r\n                            }\r\n                        }\r\n      \r\n                        @Override\r\n                        public void onPermissionRationaleShouldBeShown(List&lt;PermissionRequest&gt; list, PermissionToken permissionToken) {\r\n                            // this method is called when user grants some \r\n                            // permission and denies some of them.\r\n                            permissionToken.continuePermissionRequest();\r\n                        }\r\n                    }).withErrorListener(new PermissionRequestErrorListener() {\r\n                // this method is use to handle error \r\n                // in runtime permissions\r\n                @Override\r\n                public void onError(DexterError error) {\r\n                    // we are displaying a toast message for error message.\r\n                    Toast.makeText(getApplicationContext(), &quot;Error occurred! &quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            })\r\n                    // below line is use to run the permissions\r\n                    // on same thread and to check the permissions\r\n                    .onSameThread().check();`\r\n\r\n","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<h2>Solution is here</h2>\n<p><strong>Use Dexter to make your life easier</strong></p>\n<p>(1) Add the following dependency in your build.grade (app level) file</p>\n<pre><code>implementation com.karumi:dexter:6.2.2\n</code></pre>\n<p>(2) Now just use it..</p>\n<pre><code> Dexter.withActivity(this)\n                // below line is use to request the number of \n                // permissions which are required in our app.\n                .withPermissions(Manifest.permission.CAMERA,\n                        // below is the list of permissions\n                        Manifest.permission.ACCESS_FINE_LOCATION,\n                        Manifest.permission.READ_CONTACTS)\n                // after adding permissions we are \n                // calling an with listener method.\n                .withListener(new MultiplePermissionsListener() {\n                    @Override\n                    public void onPermissionsChecked(MultiplePermissionsReport multiplePermissionsReport) {\n                        // this method is called when all permissions are granted\n                        if (multiplePermissionsReport.areAllPermissionsGranted()) {\n                            // do you work now\n                            Toast.makeText(MainActivity.this, &quot;All the permissions are granted..&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                        // check for permanent denial of any permission\n                        if (multiplePermissionsReport.isAnyPermissionPermanentlyDenied()) {\n                            // permission is denied permanently,\n                            // we will show user a dialog message.\n                            showSettingsDialog();\n                        }\n                    }\n  \n                    @Override\n                    public void onPermissionRationaleShouldBeShown(List&lt;PermissionRequest&gt; list, PermissionToken permissionToken) {\n                        // this method is called when user grants some \n                        // permission and denies some of them.\n                        permissionToken.continuePermissionRequest();\n                    }\n                }).withErrorListener(new PermissionRequestErrorListener() {\n            // this method is use to handle error \n            // in runtime permissions\n            @Override\n            public void onError(DexterError error) {\n                // we are displaying a toast message for error message.\n                Toast.makeText(getApplicationContext(), &quot;Error occurred! &quot;, Toast.LENGTH_SHORT).show();\n            }\n        })\n                // below line is use to run the permissions\n                // on same thread and to check the permissions\n                .onSameThread().check();`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17380095,"reputation":697,"user_id":12592517,"display_name":"Swapnil Padaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619266510,"creation_date":1619265431,"answer_id":67242511,"question_id":67240879,"body_markdown":"I&#39;ll suggest rather than creating a Dialog, Let Android make it up for you. \r\nCheck whether permission s given or not\r\n```\r\nprivate boolean checkRECOGNITIONPermission(){\r\n        final boolean isReturn = ContextCompat.checkSelfPermission\r\n                     (this, Manifest.permission.Manifest.permission.ACTIVITY_RECOGNITION)\r\n                           == PackageManager.PERMISSION_GRANTED;\r\n        return isReturn;\r\n    }\r\n```\r\n\r\nThen request permission\r\n```\r\nprivate void requestStoragePermissionExport(){     \r\n      ActivityCompat.requestPermissions\r\n     (this,new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE);\r\n }\r\n```\r\n\r\nCheck whether Permission granted or not\r\n```\r\n@Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        // handle permission request\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode){\r\n            case ACTIVITY_REQUEST_CODE : \r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                    // permission granted do your work\r\n                    \r\n                }else {\r\n                    Toast.makeText(this, Permission Required, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;          \r\n            }\r\n        }\r\n```\r\n\r\nand call this when you want to check for permission\r\n```\r\nif(checkRECOGNITIONPermission()){\r\n   // Do work (Permission granted)\r\n}else{\r\n   checkRECOGNITIONPermission(); // request permission\r\n   if(!checkRECOGNITIONPermission()){\r\n       finsih();\r\n   }\r\n}\r\n```","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<p>I'll suggest rather than creating a Dialog, Let Android make it up for you.\nCheck whether permission s given or not</p>\n<pre><code>private boolean checkRECOGNITIONPermission(){\n        final boolean isReturn = ContextCompat.checkSelfPermission\n                     (this, Manifest.permission.Manifest.permission.ACTIVITY_RECOGNITION)\n                           == PackageManager.PERMISSION_GRANTED;\n        return isReturn;\n    }\n</code></pre>\n<p>Then request permission</p>\n<pre><code>private void requestStoragePermissionExport(){     \n      ActivityCompat.requestPermissions\n     (this,new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE);\n }\n</code></pre>\n<p>Check whether Permission granted or not</p>\n<pre><code>@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        // handle permission request\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode){\n            case ACTIVITY_REQUEST_CODE : \n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                    // permission granted do your work\n                    \n                }else {\n                    Toast.makeText(this, Permission Required, Toast.LENGTH_SHORT).show();\n                }\n                break;          \n            }\n        }\n</code></pre>\n<p>and call this when you want to check for permission</p>\n<pre><code>if(checkRECOGNITIONPermission()){\n   // Do work (Permission granted)\n}else{\n   checkRECOGNITIONPermission(); // request permission\n   if(!checkRECOGNITIONPermission()){\n       finsih();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1029956,"reputation":1039,"user_id":1038479,"accept_rate":57,"display_name":"Mitch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678811022,"creation_date":1678811022,"answer_id":75735864,"question_id":67240879,"body_markdown":"This looks like the result of the user having previously been presented with the request for permission but clicking Deny. \r\n\r\nIn that case, a call to ActivityCompat.requestPermissions will not display Android&#39;s own Dialog and, even worse, onRequestPermissionsResult will be called anyway, even though the documentation says it is only called in response to user input (or at least I haven&#39;t seen anything official to say otherwise).\r\n\r\nAlso worse, your code won&#39;t be able to prompt the user again to change the permission to Allow - this can only be done by going to the Settings app.\r\n\r\nIt looks like you then need to pick up the &#39;Deny&#39; action in the onRequestPermissionsResult method and then create a dialog to tell the user to go to Settings and start again.\r\n\r\nI think the rationale is to not pester the user with prompts when they have denied permission, but to call onRequestPermissionsResult and dump you in the &#39;Denied&#39; section, however since you&#39;re likely to want to throw up a Dialog saying the app is likely of little use, it kind of defeats the purpose.\r\n\r\nSee also this other answer:\r\n\r\nhttps://stackoverflow.com/a/48301505/1038479","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<p>This looks like the result of the user having previously been presented with the request for permission but clicking Deny.</p>\n<p>In that case, a call to ActivityCompat.requestPermissions will not display Android's own Dialog and, even worse, onRequestPermissionsResult will be called anyway, even though the documentation says it is only called in response to user input (or at least I haven't seen anything official to say otherwise).</p>\n<p>Also worse, your code won't be able to prompt the user again to change the permission to Allow - this can only be done by going to the Settings app.</p>\n<p>It looks like you then need to pick up the 'Deny' action in the onRequestPermissionsResult method and then create a dialog to tell the user to go to Settings and start again.</p>\n<p>I think the rationale is to not pester the user with prompts when they have denied permission, but to call onRequestPermissionsResult and dump you in the 'Denied' section, however since you're likely to want to throw up a Dialog saying the app is likely of little use, it kind of defeats the purpose.</p>\n<p>See also this other answer:</p>\n<p><a href=\"https://stackoverflow.com/a/48301505/1038479\">https://stackoverflow.com/a/48301505/1038479</a></p>\n"}],"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1678811022,"creation_date":1619253875,"question_id":67240879,"body_markdown":"In my app, I am requesting permission in the onCreate() function like this\r\n\r\n```\r\nif (ContextCompat.checkSelfPermission(context, Manifest.permission.ACTIVITY_RECOGNITION) == PackageManager.PERMISSION_GRANTED)\r\n            registerListener(context);\r\n        else if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.ACTIVITY_RECOGNITION))\r\n            new AlertDialog.Builder(context)\r\n                    .setTitle(&quot;Permission required&quot;)\r\n                    .setMessage(&quot;This permission is required to fetch the sensor data from your phone, denying it will cause the app to exit&quot;)\r\n                    .setPositiveButton(&quot;Give permission&quot;, (dialog, which) -&gt; ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE))\r\n                    .setNegativeButton(&quot;Deny&quot;, (dialog, which) -&gt; ((Activity) context).finish())\r\n                    .show();\r\n        else\r\n            ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE);\r\n```\r\n\r\nAnd this is the onRequestPermissionsResult overriden method\r\n\r\n```\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == presenter.ACTIVITY_REQUEST_CODE)\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                presenter.registerListener(this);\r\n            else {\r\n                Toast.makeText(this, &quot;Permission denied, exiting&quot;, Toast.LENGTH_LONG).show();\r\n                finish();\r\n            }\r\n    }\r\n```\r\n\r\nNow the issue I am facing is I get the proper popup to ask the permission but I see the toast message (`Permission denied, exiting`) BEFORE I even make a choice and because of the `finish()`  method call the app exits BEFORE I make the choice!\r\n\r\nI have no clue why this is happening, any help is appreciated!","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<p>In my app, I am requesting permission in the onCreate() function like this</p>\n<pre><code>if (ContextCompat.checkSelfPermission(context, Manifest.permission.ACTIVITY_RECOGNITION) == PackageManager.PERMISSION_GRANTED)\n            registerListener(context);\n        else if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.ACTIVITY_RECOGNITION))\n            new AlertDialog.Builder(context)\n                    .setTitle(&quot;Permission required&quot;)\n                    .setMessage(&quot;This permission is required to fetch the sensor data from your phone, denying it will cause the app to exit&quot;)\n                    .setPositiveButton(&quot;Give permission&quot;, (dialog, which) -&gt; ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE))\n                    .setNegativeButton(&quot;Deny&quot;, (dialog, which) -&gt; ((Activity) context).finish())\n                    .show();\n        else\n            ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE);\n</code></pre>\n<p>And this is the onRequestPermissionsResult overriden method</p>\n<pre><code>    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == presenter.ACTIVITY_REQUEST_CODE)\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n                presenter.registerListener(this);\n            else {\n                Toast.makeText(this, &quot;Permission denied, exiting&quot;, Toast.LENGTH_LONG).show();\n                finish();\n            }\n    }\n</code></pre>\n<p>Now the issue I am facing is I get the proper popup to ask the permission but I see the toast message (<code>Permission denied, exiting</code>) BEFORE I even make a choice and because of the <code>finish()</code>  method call the app exits BEFORE I make the choice!</p>\n<p>I have no clue why this is happening, any help is appreciated!</p>\n"},{"tags":["java","spring","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg elajev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678810904,"creation_date":1678810904,"answer_id":75735839,"question_id":75732726,"body_markdown":"You can use the lifecycle methods, for example overriding: \r\n```\r\nprotected void containerIsStarted(InspectContainerResponse containerInfo) {}\r\n``` \r\n\r\nWould probably help achieve the desired effect. \r\n\r\nIf you&#39;re interested in populating the database schema, creating tables and so on, then you might want to use the Postgres Docker image init dir for scripts ([Initialization scripts chapter in the docs](https://hub.docker.com/_/postgres)) and copy your scripts there. \r\n\r\nSo something like this would work: \r\n```\r\nstatic PostgreSQLContainer&lt;?&gt; postgreSQLContainer =\r\n    new PostgreSQLContainer&lt;&gt;(&quot;postgres:14-alpine&quot;)\r\n      .withCopyFileToContainer(MountableFile.forClasspathResource(&quot;schema.sql&quot;), \r\n                              &quot;/docker-entrypoint-initdb.d/&quot;);\r\n```\r\n\r\nAnd the schema script with be executed when the container is starting and when the container is started and the control flow is back in your tests -- the schema will be there.","title":"I have a postregsql test container spun up, i would like to insert data after its spun up","body":"<p>You can use the lifecycle methods, for example overriding:</p>\n<pre><code>protected void containerIsStarted(InspectContainerResponse containerInfo) {}\n</code></pre>\n<p>Would probably help achieve the desired effect.</p>\n<p>If you're interested in populating the database schema, creating tables and so on, then you might want to use the Postgres Docker image init dir for scripts (<a href=\"https://hub.docker.com/_/postgres\" rel=\"nofollow noreferrer\">Initialization scripts chapter in the docs</a>) and copy your scripts there.</p>\n<p>So something like this would work:</p>\n<pre><code>static PostgreSQLContainer&lt;?&gt; postgreSQLContainer =\n    new PostgreSQLContainer&lt;&gt;(&quot;postgres:14-alpine&quot;)\n      .withCopyFileToContainer(MountableFile.forClasspathResource(&quot;schema.sql&quot;), \n                              &quot;/docker-entrypoint-initdb.d/&quot;);\n</code></pre>\n<p>And the schema script with be executed when the container is starting and when the container is started and the control flow is back in your tests -- the schema will be there.</p>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75735839,"answer_count":1,"score":0,"last_activity_date":1678810904,"creation_date":1678794303,"question_id":75732726,"body_markdown":"I have a postgresql test container spun up in my spring project, all works okay. \r\n\r\n    PostgreSQLContainer&lt;?&gt; postgreSQLContainer =\r\n                     new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_IMAGE))\r\n\r\nI have a script that i want to run after its running, and it has to be after, as im doing other operations before this.\r\n\r\nDoes anyone know how i can run this... is there something in the container that i can leverage or do i need to create a connection ie JDBC. Maybe there is something in spring that i can use?\r\n\r\nThanks","title":"I have a postregsql test container spun up, i would like to insert data after its spun up","body":"<p>I have a postgresql test container spun up in my spring project, all works okay.</p>\n<pre><code>PostgreSQLContainer&lt;?&gt; postgreSQLContainer =\n                 new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_IMAGE))\n</code></pre>\n<p>I have a script that i want to run after its running, and it has to be after, as im doing other operations before this.</p>\n<p>Does anyone know how i can run this... is there something in the container that i can leverage or do i need to create a connection ie JDBC. Maybe there is something in spring that i can use?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","api","spring-security"],"comments":[{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1678813046,"post_id":75735770,"comment_id":133604687,"body_markdown":"This is because you have wrong class imported: import software.amazon.awssdk.services.kendra.model.AuthenticationConfiguration;\nInstead you need import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;","body":"This is because you have wrong class imported: import software.amazon.awssdk.services.kendra.model.AuthenticationC&zwnj;&#8203;onfiguration; Instead you need import org.springframework.security.config.annotation.authenticatio&zwnj;&#8203;n.configuration.Auth&zwnj;&#8203;enticationConfigurat&zwnj;&#8203;ion;"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678813200,"post_id":75735770,"comment_id":133604735,"body_markdown":"In fact, this import should not be there, but it is not being used. I removed it from there and it didn&#39;t change anything in my application","body":"In fact, this import should not be there, but it is not being used. I removed it from there and it didn&#39;t change anything in my application"},{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1678813375,"post_id":75735770,"comment_id":133604790,"body_markdown":"What error message do you have now? &quot;Cannot resolve method &#39;getAuthenticationManager&#39;&quot; clearly says that there was a wrong import","body":"What error message do you have now? &quot;Cannot resolve method &#39;getAuthenticationManager&#39;&quot; clearly says that there was a wrong import"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678813714,"post_id":75735770,"comment_id":133604885,"body_markdown":"You were righ. Thanks","body":"You were righ. Thanks"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678814627,"post_id":75735770,"comment_id":133605096,"body_markdown":"Can you tell me why I can&#39;t access the &quot;/user&quot; route without falling into a 401 error, even though it&#39;s clear in my config that this route is a permitAll?","body":"Can you tell me why I can&#39;t access the &quot;/user&quot; route without falling into a 401 error, even though it&#39;s clear in my config that this route is a permitAll?"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678810595,"creation_date":1678810595,"question_id":75735770,"body_markdown":"I&#39;m developing an authentication service in my api through spring security(userDetails) and jwt.\r\n\r\nHere the userDetailsService\r\n\r\n```\r\npackage com.api.business_manager_api.Services;\r\n\r\nimport com.api.business_manager_api.Models.UserModel;\r\nimport com.api.business_manager_api.Repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\nimport software.amazon.awssdk.services.connect.model.UserNotFoundException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UserNotFoundException {\r\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\r\n\r\n        if (optionalUser.isPresent()) {\r\n            UserModel userModel = optionalUser.get();\r\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\r\n                    new ArrayList&lt;&gt;());\r\n        } else {\r\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nauth controller\r\n\r\n```\r\npackage com.api.business_manager_api.Controllers;\r\n\r\nimport com.api.business_manager_api.Dtos.LoginDto;\r\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\r\nimport com.api.business_manager_api.Security.JwtTokenProvider;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthController {\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\r\n\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        loginDto.getUsername(),\r\n                        loginDto.getPassword()\r\n                )\r\n        );\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        String jwt = jwtTokenProvider.generateToken(authentication);\r\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn my auth controller I want to receive a jwt that allows my user to be authenticated through spring security. But my problem is in my securityConfig\r\n\r\n```\r\npackage com.api.business_manager_api.Config;\r\n\r\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport software.amazon.awssdk.services.kendra.model.AuthenticationConfiguration;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Autowired\r\n    private final UserDetailsServiceImpl userDetailsService;\r\n\r\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(\r\n                        authorizeConfig -&gt; {\r\n                            authorizeConfig.requestMatchers(&quot;/user&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/auth&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\r\n                            authorizeConfig.anyRequest().authenticated();\r\n                        })\r\n                .userDetailsService(userDetailsService)\r\n                .httpBasic()\r\n                .and()\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nPreviously I was having the following error after playing my application\r\n\r\n```\r\nField authenticationManager in com.api.business_manager_api.Controllers.AuthController required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; in your configuration.\r\n```\r\n\r\nhowever doing a search on the new version of spring security, i found that the solution is adding this in my code\r\n\r\n```\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n```\r\n\r\nbut i am getting the error:\r\n\r\n```\r\nCannot resolve method &#39;getAuthenticationManager&#39; in &#39;AuthenticationConfiguration&#39;\r\n```\r\n\r\nDoes anyone know what could be a solution to this problem?\r\n","title":"Error with authenticationManager in spring security","body":"<p>I'm developing an authentication service in my api through spring security(userDetails) and jwt.</p>\n<p>Here the userDetailsService</p>\n<pre><code>package com.api.business_manager_api.Services;\n\nimport com.api.business_manager_api.Models.UserModel;\nimport com.api.business_manager_api.Repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport software.amazon.awssdk.services.connect.model.UserNotFoundException;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UserNotFoundException {\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\n\n        if (optionalUser.isPresent()) {\n            UserModel userModel = optionalUser.get();\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\n                    new ArrayList&lt;&gt;());\n        } else {\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\n        }\n    }\n}\n</code></pre>\n<p>auth controller</p>\n<pre><code>package com.api.business_manager_api.Controllers;\n\nimport com.api.business_manager_api.Dtos.LoginDto;\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\nimport com.api.business_manager_api.Security.JwtTokenProvider;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @PostMapping\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginDto.getUsername(),\n                        loginDto.getPassword()\n                )\n        );\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        String jwt = jwtTokenProvider.generateToken(authentication);\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\n\n    }\n}\n\n</code></pre>\n<p>In my auth controller I want to receive a jwt that allows my user to be authenticated through spring security. But my problem is in my securityConfig</p>\n<pre><code>package com.api.business_manager_api.Config;\n\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\nimport software.amazon.awssdk.services.kendra.model.AuthenticationConfiguration;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Autowired\n    private final UserDetailsServiceImpl userDetailsService;\n\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .authorizeHttpRequests(\n                        authorizeConfig -&gt; {\n                            authorizeConfig.requestMatchers(&quot;/user&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/auth&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\n                            authorizeConfig.anyRequest().authenticated();\n                        })\n                .userDetailsService(userDetailsService)\n                .httpBasic()\n                .and()\n                .build();\n    }\n}\n\n</code></pre>\n<p>Previously I was having the following error after playing my application</p>\n<pre><code>Field authenticationManager in com.api.business_manager_api.Controllers.AuthController required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.\n</code></pre>\n<p>however doing a search on the new version of spring security, i found that the solution is adding this in my code</p>\n<pre><code>    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n</code></pre>\n<p>but i am getting the error:</p>\n<pre><code>Cannot resolve method 'getAuthenticationManager' in 'AuthenticationConfiguration'\n</code></pre>\n<p>Does anyone know what could be a solution to this problem?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1678814019,"post_id":75735355,"comment_id":133604960,"body_markdown":"You have to show your Spring Security configuration. you could have multiple authentication types for one endpoint, but you can&#39;t authenticate with two types at the same time.","body":"You have to show your Spring Security configuration. you could have multiple authentication types for one endpoint, but you can&#39;t authenticate with two types at the same time."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678810510,"creation_date":1678810510,"answer_id":75735751,"question_id":75735355,"body_markdown":"The same endpoint cannot have both because the `Authorization` header needs to be either:\r\n\r\n    Basic ksjskjskjskjksj\r\n\r\nor\r\n\r\n    Bearer djhkdjhdkjhdkhdkjh.ldjldkjldkjl.ldkjldkjldkj==\r\n\r\nYou need to intercept the outgoing call and *conditionally* add one or the other header.\r\n","title":"Securing Spring boot rest Api with basic and Bearer Auth At the same time","body":"<p>The same endpoint cannot have both because the <code>Authorization</code> header needs to be either:</p>\n<pre><code>Basic ksjskjskjskjksj\n</code></pre>\n<p>or</p>\n<pre><code>Bearer djhkdjhdkjhdkhdkjh.ldjldkjldkjl.ldkjldkjldkj==\n</code></pre>\n<p>You need to intercept the outgoing call and <em>conditionally</em> add one or the other header.</p>\n"}],"owner":{"account_id":7383399,"reputation":112,"user_id":5619237,"display_name":"Anas Elazhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678814000,"accepted_answer_id":75735751,"answer_count":1,"score":1,"last_activity_date":1678810510,"creation_date":1678808452,"question_id":75735355,"body_markdown":"I&#39;m trying to use both basic auth and bearer Token to authenticate the same Api using Spring boot.\r\n\r\nEach one works fine until. I add the other. Does any one had the same problem before ? ","title":"Securing Spring boot rest Api with basic and Bearer Auth At the same time","body":"<p>I'm trying to use both basic auth and bearer Token to authenticate the same Api using Spring boot.</p>\n<p>Each one works fine until. I add the other. Does any one had the same problem before ?</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678809887,"creation_date":1678809887,"answer_id":75735629,"question_id":75734519,"body_markdown":"When you have in pom:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;sourcePath&gt;${project.basedir}/src/main/java/com/core/&lt;/sourcePath&gt;\r\n  &lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nMaven resolves all needed properties during pom reading and use final values as constant for next processing and plugin configuration.\r\n\r\n---\r\n\r\nWhen you don&#39;t configure plugin parameters in pom, default values according to your plugin code will be used, so it will be as:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;sourcePath&gt;${sourcePath}&lt;/sourcePath&gt;\r\n  &lt;outputPath&gt;${outputPath}&lt;/outputPath&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nDefault values for properties from plugin code will be used, so for `outputPath` will be `.`.\r\n\r\nIn this case you can override properties by cli.\r\n\r\n\r\n---\r\n\r\nNow when you want to have default configuration in pom and want to have a possibility to override it by cli, you should use configuration like:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;mOoutputPath&gt;my pom default value&lt;/mOoutputPath&gt;\r\n&lt;/properties&gt;\r\n\r\n...\r\n\r\n&lt;configuration&gt;\r\n  &lt;outputPath&gt;${mOoutputPath}&lt;/outputPath&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nNow you can override property `mOoutputPath` by cli.\r\n\r\nYou can use the same properties name as in plugin.\r\n\r\n","title":"Maven plugin not overriding parameters in pom.xml with command line input arguments","body":"<p>When you have in pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;sourcePath&gt;${project.basedir}/src/main/java/com/core/&lt;/sourcePath&gt;\n  &lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Maven resolves all needed properties during pom reading and use final values as constant for next processing and plugin configuration.</p>\n<hr />\n<p>When you don't configure plugin parameters in pom, default values according to your plugin code will be used, so it will be as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;sourcePath&gt;${sourcePath}&lt;/sourcePath&gt;\n  &lt;outputPath&gt;${outputPath}&lt;/outputPath&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Default values for properties from plugin code will be used, so for <code>outputPath</code> will be <code>.</code>.</p>\n<p>In this case you can override properties by cli.</p>\n<hr />\n<p>Now when you want to have default configuration in pom and want to have a possibility to override it by cli, you should use configuration like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;mOoutputPath&gt;my pom default value&lt;/mOoutputPath&gt;\n&lt;/properties&gt;\n\n...\n\n&lt;configuration&gt;\n  &lt;outputPath&gt;${mOoutputPath}&lt;/outputPath&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Now you can override property <code>mOoutputPath</code> by cli.</p>\n<p>You can use the same properties name as in plugin.</p>\n"}],"owner":{"account_id":13696162,"reputation":3,"user_id":9882761,"display_name":"chariot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75735629,"answer_count":1,"score":0,"last_activity_date":1678809887,"creation_date":1678804272,"question_id":75734519,"body_markdown":"I have a project that is using Freemarker to generate a docs as a .html file from Javadoc comments.\r\n\r\nInput parameter is a directory to .java files that contains Javadoc comments.\r\nOutput parameter (optional) is a path where the .html file will be generated.\r\n\r\nNext I used maven-plugin-api to create a plugin from it.\r\nI have this Mojo class with @Parameter annotations:\r\n\r\n```\r\npackage com.direcory.javadoc.template;\r\n\r\nimport org.apache.maven.plugin.AbstractMojo;\r\nimport org.apache.maven.plugin.MojoExecutionException;\r\nimport org.apache.maven.plugins.annotations.LifecyclePhase;\r\nimport org.apache.maven.plugins.annotations.Mojo;\r\nimport org.apache.maven.plugins.annotations.Parameter;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Path;\r\n\r\n@Mojo(name = &quot;javadoc&quot;, defaultPhase = LifecyclePhase.INITIALIZE)\r\npublic class MojoJavadocPlugin extends AbstractMojo {\r\n\r\n    @Parameter(property = &quot;sourcePath&quot;, required = true)\r\n    private String sourcePath;\r\n\r\n    @Parameter(property = &quot;outputPath&quot;, defaultValue = &quot;.&quot;)\r\n    private String outputPath;\r\n\r\n    @Override\r\n    public void execute() throws MojoExecutionException {\r\n        String[] args = new String[]{sourcePath, outputPath};\r\n        \r\n        JavadocArguments arguments = new JavadocArguments(args);\r\n        JavadocGenerator generator = new JavadocGenerator(arguments);\r\n        try {\r\n            Path targetFile = generator.generate();\r\n            getLog().info(&quot;Javadoc is generated to: &quot; + targetFile.toAbsolutePath());\r\n        } catch (IOException e) {\r\n            throw new MojoExecutionException(&quot;Source files path: &#39;&quot; + sourcePath\r\n                    + &quot;&#39; failed&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, when I want to use the plugin this is how it looks in pom.xml:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.directory.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javadoc-generator-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!-- sourcePath is path to directory from which we&#39;ll load Java files with Javadoc comments --&gt;\r\n        &lt;sourcePath&gt;${project.basedir}/src/main/java/com/core/&lt;/sourcePath&gt;\r\n        &lt;!-- optional, outputPath is path where the html file will be generated --&gt;\r\n        &lt;!-- default outputPath is root of a Project --&gt;\r\n        &lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;javadoc&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhen I set parameters in pom.xml inside &lt;configuration&gt; tag:\r\n`&lt;sourcePath&gt;${project.basedir}/src/main/java/com/directory/core/&lt;/sourcePath&gt;`\r\n`&lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;`\r\n\r\nAnd then I will run a Maven plugin in Command-line and also set a parameters here:\r\n`mvn javadoc-generator:javadoc -DsourcePath=&quot;C:/Projects/my_project/src/main/java/com/core/&quot; -DoutputPath=&quot;C:/Projects/tmp&quot;`\r\n\r\nI was expecting command-line parameters will override the ones from pom.xml, but the parameters from pom.xml were actually used, so .html file was generated in Path: &quot;C:/Projects/&quot;.\r\n\r\nWhen I delete pom.xml parameters, then the ones from command-line works like a charm.\r\nDo pom.xml config variables has priority over command-line input? If so, why is that?\r\n","title":"Maven plugin not overriding parameters in pom.xml with command line input arguments","body":"<p>I have a project that is using Freemarker to generate a docs as a .html file from Javadoc comments.</p>\n<p>Input parameter is a directory to .java files that contains Javadoc comments.\nOutput parameter (optional) is a path where the .html file will be generated.</p>\n<p>Next I used maven-plugin-api to create a plugin from it.\nI have this Mojo class with @Parameter annotations:</p>\n<pre><code>package com.direcory.javadoc.template;\n\nimport org.apache.maven.plugin.AbstractMojo;\nimport org.apache.maven.plugin.MojoExecutionException;\nimport org.apache.maven.plugins.annotations.LifecyclePhase;\nimport org.apache.maven.plugins.annotations.Mojo;\nimport org.apache.maven.plugins.annotations.Parameter;\n\nimport java.io.IOException;\nimport java.nio.file.Path;\n\n@Mojo(name = &quot;javadoc&quot;, defaultPhase = LifecyclePhase.INITIALIZE)\npublic class MojoJavadocPlugin extends AbstractMojo {\n\n    @Parameter(property = &quot;sourcePath&quot;, required = true)\n    private String sourcePath;\n\n    @Parameter(property = &quot;outputPath&quot;, defaultValue = &quot;.&quot;)\n    private String outputPath;\n\n    @Override\n    public void execute() throws MojoExecutionException {\n        String[] args = new String[]{sourcePath, outputPath};\n        \n        JavadocArguments arguments = new JavadocArguments(args);\n        JavadocGenerator generator = new JavadocGenerator(arguments);\n        try {\n            Path targetFile = generator.generate();\n            getLog().info(&quot;Javadoc is generated to: &quot; + targetFile.toAbsolutePath());\n        } catch (IOException e) {\n            throw new MojoExecutionException(&quot;Source files path: '&quot; + sourcePath\n                    + &quot;' failed&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>Now, when I want to use the plugin this is how it looks in pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.directory.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;javadoc-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0-SNAPSHOT&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!-- sourcePath is path to directory from which we'll load Java files with Javadoc comments --&gt;\n        &lt;sourcePath&gt;${project.basedir}/src/main/java/com/core/&lt;/sourcePath&gt;\n        &lt;!-- optional, outputPath is path where the html file will be generated --&gt;\n        &lt;!-- default outputPath is root of a Project --&gt;\n        &lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;javadoc&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When I set parameters in pom.xml inside  tag:\n<code>&lt;sourcePath&gt;${project.basedir}/src/main/java/com/directory/core/&lt;/sourcePath&gt;</code>\n<code>&lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;</code></p>\n<p>And then I will run a Maven plugin in Command-line and also set a parameters here:\n<code>mvn javadoc-generator:javadoc -DsourcePath=&quot;C:/Projects/my_project/src/main/java/com/core/&quot; -DoutputPath=&quot;C:/Projects/tmp&quot;</code></p>\n<p>I was expecting command-line parameters will override the ones from pom.xml, but the parameters from pom.xml were actually used, so .html file was generated in Path: &quot;C:/Projects/&quot;.</p>\n<p>When I delete pom.xml parameters, then the ones from command-line works like a charm.\nDo pom.xml config variables has priority over command-line input? If so, why is that?</p>\n"},{"tags":["java","eclipse","macos","image","jar"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1678810049,"post_id":75735565,"comment_id":133603774,"body_markdown":"FWIW, I would never rely on an IDE&#39;s native build system. They are simply not reproducible enough. Use Maven or Gradle.","body":"FWIW, I would never rely on an IDE&#39;s native build system. They are simply not reproducible enough. Use Maven or Gradle."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678811433,"post_id":75735565,"comment_id":133604205,"body_markdown":"@Michael What exactly is not reproducible when exporting a JAR?","body":"@Michael What exactly is not reproducible when exporting a JAR?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678811763,"post_id":75735565,"comment_id":133604304,"body_markdown":"@howlger At the most basic level, what if I don&#39;t have Eclipse installed? What if I prefer to use IntelliJ? How do you expect to run an Eclipse build in a headless environment, like CI? Even if you ignore all of that, IDE configs are usually massive, sprawling XML files, which contain much more than just the build configuration. Checking them into VCS is always a nightmare. There is probably no guarantee the same XML is both forwards and backwards compatible across different versions of the IDE.","body":"@howlger At the most basic level, what if I don&#39;t have Eclipse installed? What if I prefer to use IntelliJ? How do you expect to run an Eclipse build in a headless environment, like CI? Even if you ignore all of that, IDE configs are usually massive, sprawling XML files, which contain much more than just the build configuration. Checking them into VCS is always a nightmare. There is probably no guarantee the same XML is both forwards and backwards compatible across different versions of the IDE."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678811934,"post_id":75735565,"comment_id":133604362,"body_markdown":"`ClassLoader.getSystemResource(...)` looks weird here. Better include the image as source so they end up in the JAR (are they currently in the JAR?) and load them as `InputStream` via `getResourceAsStream(...)`.","body":"<code>ClassLoader.getSystemResource(...)</code> looks weird here. Better include the image as source so they end up in the JAR (are they currently in the JAR?) and load them as <code>InputStream</code> via <code>getResourceAsStream(...)</code>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678812707,"post_id":75735565,"comment_id":133604585,"body_markdown":"@Michael I asked you what exactly is not reproducible when you export a JAR? Of course, you should version control all project-specific settings, not only the Maven or Gradle build file, but that&#39;s another thing.","body":"@Michael I asked you what exactly is not reproducible when you export a JAR? Of course, you should version control all project-specific settings, not only the Maven or Gradle build file, but that&#39;s another thing."},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":0,"creation_date":1678812710,"post_id":75735565,"comment_id":133604586,"body_markdown":"Thank you all for commenting !  Some more info:  the .jar files used to run, but now they don&#39;t, that is what is not reproducible. Howler:  this is instrument control software for a network of 5 telescopes, they never run headless or on anything except our own Mac mini computers.","body":"Thank you all for commenting !  Some more info:  the .jar files used to run, but now they don&#39;t, that is what is not reproducible. Howler:  this is instrument control software for a network of 5 telescopes, they never run headless or on anything except our own Mac mini computers."},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":0,"creation_date":1678812890,"post_id":75735565,"comment_id":133604639,"body_markdown":"Also - any suggestions on how to &quot;include the images as source&quot;?   The image files show up in the .jar file when I list out the contents.","body":"Also - any suggestions on how to &quot;include the images as source&quot;?   The image files show up in the .jar file when I list out the contents."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678812927,"post_id":75735565,"comment_id":133604659,"body_markdown":"@howlger And I answered it. I can&#39;t reproduce a build without the exact same IDE. In headless environments, that&#39;s not just personal preference, that&#39;s almost a physical impossibility. Build tools solve this problem. No one serious uses native IDE builds. They&#39;re for basic/toy projects.","body":"@howlger And I answered it. I can&#39;t reproduce a build without the exact same IDE. In headless environments, that&#39;s not just personal preference, that&#39;s almost a physical impossibility. Build tools solve this problem. No one serious uses native IDE builds. They&#39;re for basic/toy projects."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678813003,"post_id":75735565,"comment_id":133604680,"body_markdown":"Is `ClassLoader.getSystemResource(...)` part of your code so that you can change it?","body":"Is <code>ClassLoader.getSystemResource(...)</code> part of your code so that you can change it?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678814667,"post_id":75735565,"comment_id":133605105,"body_markdown":"@Michael What you say is not true and makes no sense because an IDE is not a build system. A build script only covers part of the project-specific settings. Using a build system is recommended, but does not help here.","body":"@Michael What you say is not true and makes no sense because an IDE is not a build system. A build script only covers part of the project-specific settings. Using a build system is recommended, but does not help here."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678815144,"post_id":75735565,"comment_id":133605263,"body_markdown":"@howlger Both Eclipse and IntelliJ include their own native build systems. This is what OP is using and what I&#39;m advocating to avoid. Using Maven absolutely would help here because Maven builds are reproducible; Eclipse is garbage.","body":"@howlger Both Eclipse and IntelliJ include their own native build systems. This is what OP is using and what I&#39;m advocating to avoid. Using Maven absolutely would help here because Maven builds are reproducible; Eclipse is garbage."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1678816476,"post_id":75735565,"comment_id":133605639,"body_markdown":"@Paul Make sure that the filename case matches down to the letter when you&#39;ve built the jar file--and of course, that the files are in the jar at all. You should also separate the result of `getSystemResource()` from the `getImage()` call and add some logging or debug output so you have some idea of what&#39;s happening at runtime--is the getSystemResource call failing, or is getImage taking a good result and messing up for some reason? Linked Resources are convenient for structuring the project, but I&#39;m not sure that the Jar Export function supports them fully.","body":"@Paul Make sure that the filename case matches down to the letter when you&#39;ve built the jar file--and of course, that the files are in the jar at all. You should also separate the result of <code>getSystemResource()</code> from the <code>getImage()</code> call and add some logging or debug output so you have some idea of what&#39;s happening at runtime--is the getSystemResource call failing, or is getImage taking a good result and messing up for some reason? Linked Resources are convenient for structuring the project, but I&#39;m not sure that the Jar Export function supports them fully."},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":0,"creation_date":1678820476,"post_id":75735565,"comment_id":133606694,"body_markdown":"noting - I did as you suggested and separated the lines into","body":"noting - I did as you suggested and separated the lines into"},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":1,"creation_date":1678820664,"post_id":75735565,"comment_id":133606760,"body_markdown":"nitind :     I did as you suggested and separated the lines into the following - sorry the &quot;spelling corrector&quot; changed your name into &quot;noting&quot; . . . public static URL my_url = ClassLoader.getSystemResource(&quot;Images/LineSelectTool.GIF&quot;);\n\t\n\tpublic static Image testImage = Toolkit.getDefaultToolkit().getImage(my_url); and then corrected the CASE of the &quot;.gif&quot; to &quot;GIF&quot; - and now the system loads !!  Thank you so much -","body":"nitind :     I did as you suggested and separated the lines into the following - sorry the &quot;spelling corrector&quot; changed your name into &quot;noting&quot; . . . public static URL my_url = ClassLoader.getSystemResource(&quot;Images/LineSelectTool.GIF&quot;); \t \tpublic static Image testImage = Toolkit.getDefaultToolkit().getImage(my_url); and then corrected the CASE of the &quot;.gif&quot; to &quot;GIF&quot; - and now the system loads !!  Thank you so much -"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678833676,"post_id":75735565,"comment_id":133609770,"body_markdown":"@Michael Of course this is not related to the tool with which the JAR was created. It is not true that the JAR export is not reliable (JAR is an Java standard even older than Maven and Gradle). It is also not true that the project-specific settings made by Eclipse are version-dependent (in fact, they are more stable than Maven, whose compatibility got broken by switching Maven Central to HTTPS only).","body":"@Michael Of course this is not related to the tool with which the JAR was created. It is not true that the JAR export is not reliable (JAR is an Java standard even older than Maven and Gradle). It is also not true that the project-specific settings made by Eclipse are version-dependent (in fact, they are more stable than Maven, whose compatibility got broken by switching Maven Central to HTTPS only)."}],"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678809601,"creation_date":1678809601,"question_id":75735565,"body_markdown":"I have been rewriting a 100,000 line application from 2009\r\nin modern Java/Eclipse/Mac os12, and there is a problem\r\nwith the executable - I have been&quot;exporting&quot; to .jar file\r\nfrom the Eclipse environment, and have been able to \r\nrun the .jar file with java -jar FileName.jar.   A few\r\nweeks ago, (ca Feb 1 2023), the jar files started throwing errors\r\non startup, saying they were unable to locate what should\r\nhave been easily accessible system image files - specifically\r\nlines like these\r\n\r\n\tpublic static Image lineSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseLineSelectTool.GIF&quot;));\r\n\r\n\tpublic static Image rectangleSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseRectangleSelectTool.GIF&quot;));\r\n\r\n\tpublic static Image circleSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseCircleSelectTool.GIF&quot;));\r\n\r\n\tpublic static Image textSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseTextTool.GIF&quot;));\r\n\r\n\r\nI added a folder to the Project Properties Resource/Linked Resources page that contains the required images . . . but this seemed to have no effect.\r\n\r\nThanks to all for any suggestions - my native language is C and I am an embedded systems programmer, so much of the linking things in Eclipse are new to me.\r\n","title":"Eclipse/Java Mac OS12 .jar file used to run but no longer runs","body":"<p>I have been rewriting a 100,000 line application from 2009\nin modern Java/Eclipse/Mac os12, and there is a problem\nwith the executable - I have been&quot;exporting&quot; to .jar file\nfrom the Eclipse environment, and have been able to\nrun the .jar file with java -jar FileName.jar.   A few\nweeks ago, (ca Feb 1 2023), the jar files started throwing errors\non startup, saying they were unable to locate what should\nhave been easily accessible system image files - specifically\nlines like these</p>\n<pre><code>public static Image lineSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseLineSelectTool.GIF&quot;));\n\npublic static Image rectangleSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseRectangleSelectTool.GIF&quot;));\n\npublic static Image circleSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseCircleSelectTool.GIF&quot;));\n\npublic static Image textSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseTextTool.GIF&quot;));\n</code></pre>\n<p>I added a folder to the Project Properties Resource/Linked Resources page that contains the required images . . . but this seemed to have no effect.</p>\n<p>Thanks to all for any suggestions - my native language is C and I am an embedded systems programmer, so much of the linking things in Eclipse are new to me.</p>\n"},{"tags":["java","pentaho","kettle"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678804180,"post_id":75734466,"comment_id":133601832,"body_markdown":"Tag, not branch https://github.com/pentaho/pentaho-kettle/tree/7.0.0.0-R","body":"Tag, not branch <a href=\"https://github.com/pentaho/pentaho-kettle/tree/7.0.0.0-R\" rel=\"nofollow noreferrer\">github.com/pentaho/pentaho-kettle/tree/7.0.0.0-R</a>"},{"owner":{"account_id":9917587,"reputation":640,"user_id":7341878,"accept_rate":10,"display_name":"Prakash"},"score":0,"creation_date":1678874848,"post_id":75734466,"comment_id":133616285,"body_markdown":"@Michael, Could you please share me where can I get this information regard branch or tag and corresponding kettle version mapping. Thanks","body":"@Michael, Could you please share me where can I get this information regard branch or tag and corresponding kettle version mapping. Thanks"}],"owner":{"account_id":9917587,"reputation":640,"user_id":7341878,"accept_rate":10,"display_name":"Prakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678809358,"creation_date":1678804001,"question_id":75734466,"body_markdown":"I am trying to debug Kettle (7.0.0.0-25) using git source code (https://github.com/pentaho/pentaho-kettle). However unable to find the branch for this corresponding jar.\r\n\r\nHow to find the branch for this kettle version?\r\n","title":"Which git branch should we need to clone for kettle 7.0.0.0-25","body":"<p>I am trying to debug Kettle (7.0.0.0-25) using git source code (<a href=\"https://github.com/pentaho/pentaho-kettle\" rel=\"nofollow noreferrer\">https://github.com/pentaho/pentaho-kettle</a>). However unable to find the branch for this corresponding jar.</p>\n<p>How to find the branch for this kettle version?</p>\n"},{"tags":["java","spring-boot","apache","deployment"],"comments":[{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":1,"creation_date":1678445431,"post_id":75694801,"comment_id":133538023,"body_markdown":"Where is maildev getting the localhost url from? Is it passed to maildev from spring?","body":"Where is maildev getting the localhost url from? Is it passed to maildev from spring?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1678786691,"post_id":75694801,"comment_id":133596747,"body_markdown":"Please [do not upload images of code/data/errors/text.](//meta.stackoverflow.com/q/285551)","body":"Please <a href=\"//meta.stackoverflow.com/q/285551\">do not upload images of code/data/errors/text.</a>"}],"owner":{"account_id":24545156,"reputation":1,"user_id":18455123,"display_name":"Ben mahmoud Noureddine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678809347,"creation_date":1678443212,"question_id":75694801,"body_markdown":"I&#39;m using Maildev to test the reception of emails, for example in my case locally if I forget my password I receive a message with the link: http://localhost:8080/login/reset.I have deployed my application on azure but when I test the reception of emails in case of forgetting the password I receive the same path http://localhost:8080/login/reset/ and the link don&#39;t work. How can I configure the path to be able to test the change of password for the application deployed on azure ?\r\n\r\nI tried to see the configuration on the Apache conf of the proxy in the virtualhost (/etc/httpd/sites-enabled/) but unfortunately I don&#39;t know too much about it. Can you please guide me on it ?\r\n","title":"How can I change the URL from localhost to a non-local host when I receive an email in Maildev to change the password?","body":"<p>I'm using Maildev to test the reception of emails, for example in my case locally if I forget my password I receive a message with the link: http://localhost:8080/login/reset.I have deployed my application on azure but when I test the reception of emails in case of forgetting the password I receive the same path http://localhost:8080/login/reset/ and the link don't work. How can I configure the path to be able to test the change of password for the application deployed on azure ?</p>\n<p>I tried to see the configuration on the Apache conf of the proxy in the virtualhost (/etc/httpd/sites-enabled/) but unfortunately I don't know too much about it. Can you please guide me on it ?</p>\n"},{"tags":["java","syntax","switch-statement"],"comments":[{"owner":{"account_id":921476,"reputation":3241,"user_id":953105,"accept_rate":86,"display_name":"paulrehkugler"},"score":12,"creation_date":1358523188,"post_id":5086322,"comment_id":20038983,"body_markdown":"It looks like you&#39;re using integers so I suppose if you know that your ranges are of a fixed size you could always do switch(variable / FIXED_SIZE_OF_RANGE){ case 0: ... default: break; }","body":"It looks like you&#39;re using integers so I suppose if you know that your ranges are of a fixed size you could always do switch(variable / FIXED_SIZE_OF_RANGE){ case 0: ... default: break; }"}],"answers":[{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"down_vote_count":24,"up_vote_count":114,"is_accepted":true,"score":90,"last_activity_date":1364469291,"creation_date":1298427650,"answer_id":5086339,"question_id":5086322,"body_markdown":"Sadly, it&#39;s not possible in Java. You&#39;ll have to resort to using `if-else` statements.","title":"Java switch statement multiple cases","body":"<p>Sadly, it's not possible in Java. You'll have to resort to using <code>if-else</code> statements.</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1298501495,"creation_date":1298433671,"answer_id":5086858,"question_id":5086322,"body_markdown":"One Object Oriented option to replace excessively large `switch` and `if/else` constructs is to use a `Chain of Responsibility Pattern` to model the decision making.\r\n\r\n**Chain of Responsibility Pattern**\r\n&gt; The chain of responsibility pattern\r\n&gt; allows the separation of the source of\r\n&gt; a request from deciding which of the\r\n&gt; potentially large number of handlers\r\n&gt; for the request should action it. The\r\n&gt; class representing the chain role\r\n&gt; channels the requests from the source\r\n&gt; along the list of handlers until a\r\n&gt; handler accepts the request and\r\n&gt; actions it.\r\n\r\nHere is an example implementation that is also Type Safe using Generics.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    /**\r\n    * Generic enabled Object Oriented Switch/Case construct\r\n    * @param &lt;T&gt; type to switch on\r\n    */\r\n    public class Switch&lt;T extends Comparable&lt;T&gt;&gt;\r\n    {\r\n        private final List&lt;Case&lt;T&gt;&gt; cases;\r\n    \r\n        public Switch()\r\n        {\r\n            this.cases = new ArrayList&lt;Case&lt;T&gt;&gt;();\r\n        }\r\n    \r\n        /**\r\n         * Register the Cases with the Switch\r\n         * @param c case to register\r\n         */\r\n        public void register(final Case&lt;T&gt; c) { this.cases.add(c); }\r\n    \r\n        /**\r\n         * Run the switch logic on some input\r\n         * @param type input to Switch on\r\n         */\r\n        public void evaluate(final T type)\r\n        {\r\n            for (final Case&lt;T&gt; c : this.cases)\r\n            {\r\n                if (c.of(type)) { break; }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Generic Case condition\r\n         * @param &lt;T&gt; type to accept\r\n         */\r\n        public static interface Case&lt;T extends Comparable&lt;T&gt;&gt;\r\n        {\r\n            public boolean of(final T type);\r\n        }\r\n    \r\n        public static abstract class AbstractCase&lt;T extends Comparable&lt;T&gt;&gt; implements Case&lt;T&gt;\r\n        {\r\n            protected final boolean breakOnCompletion;\r\n    \r\n            protected AbstractCase()\r\n            {\r\n                this(true);\r\n            }\r\n    \r\n            protected AbstractCase(final boolean breakOnCompletion)\r\n            {\r\n                this.breakOnCompletion = breakOnCompletion;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Example of standard &quot;equals&quot; case condition\r\n         * @param &lt;T&gt; type to accept\r\n         */\r\n        public static abstract class EqualsCase&lt;T extends Comparable&lt;T&gt;&gt; extends AbstractCase&lt;T&gt;\r\n        {\r\n            private final T type;\r\n    \r\n            public EqualsCase(final T type)\r\n            {\r\n                super();\r\n                this.type = type;\r\n            }\r\n    \r\n            public EqualsCase(final T type, final boolean breakOnCompletion)\r\n            {\r\n                super(breakOnCompletion);\r\n                this.type = type;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Concrete example of an advanced Case conditional to match a Range of values\r\n         * @param &lt;T&gt; type of input\r\n         */\r\n        public static abstract class InRangeCase&lt;T extends Comparable&lt;T&gt;&gt; extends AbstractCase&lt;T&gt;\r\n        {\r\n            private final static int GREATER_THAN = 1;\r\n            private final static int EQUALS = 0;\r\n            private final static int LESS_THAN = -1;\r\n            protected final T start;\r\n            protected final T end;\r\n    \r\n            public InRangeCase(final T start, final T end)\r\n            {\r\n                this.start = start;\r\n                this.end = end;\r\n            }\r\n    \r\n            public InRangeCase(final T start, final T end, final boolean breakOnCompletion)\r\n            {\r\n                super(breakOnCompletion);\r\n                this.start = start;\r\n                this.end = end;\r\n            }\r\n    \r\n            private boolean inRange(final T type)\r\n            {\r\n                return (type.compareTo(this.start) == EQUALS || type.compareTo(this.start) == GREATER_THAN) &amp;&amp;\r\n                        (type.compareTo(this.end) == EQUALS || type.compareTo(this.end) == LESS_THAN);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Show how to apply a Chain of Responsibility Pattern to implement a Switch/Case construct\r\n         *\r\n         * @param args command line arguments aren&#39;t used in this example\r\n         */\r\n        public static void main(final String[] args)\r\n        {\r\n            final Switch&lt;Integer&gt; integerSwitch = new Switch&lt;Integer&gt;();\r\n            final Case&lt;Integer&gt; case1 = new EqualsCase&lt;Integer&gt;(1)\r\n            {\r\n                @Override\r\n                public boolean of(final Integer type)\r\n                {\r\n                    if (super.type.equals(type))\r\n                    {\r\n                        System.out.format(&quot;Case %d, break = %s\\n&quot;, type, super.breakOnCompletion);\r\n                        return super.breakOnCompletion;\r\n                    }\r\n                    else\r\n                    {\r\n                        return false;\r\n                    }\r\n                }\r\n            };\r\n            integerSwitch.register(case1);\r\n            // more instances for each matching pattern, granted this will get verbose with lots of options but is just\r\n            // and example of how to do standard &quot;switch/case&quot; logic with this pattern.\r\n            integerSwitch.evaluate(0);\r\n            integerSwitch.evaluate(1);\r\n            integerSwitch.evaluate(2);\r\n    \r\n    \r\n            final Switch&lt;Integer&gt; inRangeCaseSwitch = new Switch&lt;Integer&gt;();\r\n            final Case&lt;Integer&gt; rangeCase = new InRangeCase&lt;Integer&gt;(5, 100)\r\n            {\r\n                @Override\r\n                public boolean of(final Integer type)\r\n                {\r\n                    if (super.inRange(type))\r\n                    {\r\n                        System.out.format(&quot;Case %s is between %s and %s, break = %s\\n&quot;, type, this.start, this.end, super.breakOnCompletion);\r\n                        return super.breakOnCompletion;\r\n                    }\r\n                    else\r\n                    {\r\n                        return false;\r\n                    }\r\n                }\r\n            };\r\n            inRangeCaseSwitch.register(rangeCase);\r\n            // run some examples\r\n            inRangeCaseSwitch.evaluate(0);\r\n            inRangeCaseSwitch.evaluate(10);\r\n            inRangeCaseSwitch.evaluate(200);\r\n\r\n            // combining both types of Case implementations\r\n            integerSwitch.register(rangeCase);\r\n            integerSwitch.evaluate(1);\r\n            integerSwitch.evaluate(10);\r\n    \r\n        }\r\n    }\r\n\r\nThis is just a quick straw man that I whipped up in a few minutes, a more sophisticated implementation might allow for some kind of `Command Pattern` to be injected into the `Case` implementations instances to make it more of a call back IoC style.\r\n\r\nOnce nice thing about this approach is that Switch/Case statements are all about side affects, this encapsulates the side effects in Classes so they can be managed, and re-used better, it ends up being more like Pattern Matching in a Functional language and that isn&#39;t a bad thing.\r\n\r\nI will post any updates or enhancements to this [Gist][1] on Github.\r\n\r\n\r\n  [1]: http://www.vertigrated.com/blog/2011/02/a-generic-object-oriented-replacement-for-large-switch-case-and-if-else-statements-in-java/","title":"Java switch statement multiple cases","body":"<p>One Object Oriented option to replace excessively large <code>switch</code> and <code>if/else</code> constructs is to use a <code>Chain of Responsibility Pattern</code> to model the decision making.</p>\n\n<p><strong>Chain of Responsibility Pattern</strong></p>\n\n<blockquote>\n  <p>The chain of responsibility pattern\n  allows the separation of the source of\n  a request from deciding which of the\n  potentially large number of handlers\n  for the request should action it. The\n  class representing the chain role\n  channels the requests from the source\n  along the list of handlers until a\n  handler accepts the request and\n  actions it.</p>\n</blockquote>\n\n<p>Here is an example implementation that is also Type Safe using Generics.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n/**\n* Generic enabled Object Oriented Switch/Case construct\n* @param &lt;T&gt; type to switch on\n*/\npublic class Switch&lt;T extends Comparable&lt;T&gt;&gt;\n{\n    private final List&lt;Case&lt;T&gt;&gt; cases;\n\n    public Switch()\n    {\n        this.cases = new ArrayList&lt;Case&lt;T&gt;&gt;();\n    }\n\n    /**\n     * Register the Cases with the Switch\n     * @param c case to register\n     */\n    public void register(final Case&lt;T&gt; c) { this.cases.add(c); }\n\n    /**\n     * Run the switch logic on some input\n     * @param type input to Switch on\n     */\n    public void evaluate(final T type)\n    {\n        for (final Case&lt;T&gt; c : this.cases)\n        {\n            if (c.of(type)) { break; }\n        }\n    }\n\n    /**\n     * Generic Case condition\n     * @param &lt;T&gt; type to accept\n     */\n    public static interface Case&lt;T extends Comparable&lt;T&gt;&gt;\n    {\n        public boolean of(final T type);\n    }\n\n    public static abstract class AbstractCase&lt;T extends Comparable&lt;T&gt;&gt; implements Case&lt;T&gt;\n    {\n        protected final boolean breakOnCompletion;\n\n        protected AbstractCase()\n        {\n            this(true);\n        }\n\n        protected AbstractCase(final boolean breakOnCompletion)\n        {\n            this.breakOnCompletion = breakOnCompletion;\n        }\n    }\n\n    /**\n     * Example of standard \"equals\" case condition\n     * @param &lt;T&gt; type to accept\n     */\n    public static abstract class EqualsCase&lt;T extends Comparable&lt;T&gt;&gt; extends AbstractCase&lt;T&gt;\n    {\n        private final T type;\n\n        public EqualsCase(final T type)\n        {\n            super();\n            this.type = type;\n        }\n\n        public EqualsCase(final T type, final boolean breakOnCompletion)\n        {\n            super(breakOnCompletion);\n            this.type = type;\n        }\n    }\n\n    /**\n     * Concrete example of an advanced Case conditional to match a Range of values\n     * @param &lt;T&gt; type of input\n     */\n    public static abstract class InRangeCase&lt;T extends Comparable&lt;T&gt;&gt; extends AbstractCase&lt;T&gt;\n    {\n        private final static int GREATER_THAN = 1;\n        private final static int EQUALS = 0;\n        private final static int LESS_THAN = -1;\n        protected final T start;\n        protected final T end;\n\n        public InRangeCase(final T start, final T end)\n        {\n            this.start = start;\n            this.end = end;\n        }\n\n        public InRangeCase(final T start, final T end, final boolean breakOnCompletion)\n        {\n            super(breakOnCompletion);\n            this.start = start;\n            this.end = end;\n        }\n\n        private boolean inRange(final T type)\n        {\n            return (type.compareTo(this.start) == EQUALS || type.compareTo(this.start) == GREATER_THAN) &amp;&amp;\n                    (type.compareTo(this.end) == EQUALS || type.compareTo(this.end) == LESS_THAN);\n        }\n    }\n\n    /**\n     * Show how to apply a Chain of Responsibility Pattern to implement a Switch/Case construct\n     *\n     * @param args command line arguments aren't used in this example\n     */\n    public static void main(final String[] args)\n    {\n        final Switch&lt;Integer&gt; integerSwitch = new Switch&lt;Integer&gt;();\n        final Case&lt;Integer&gt; case1 = new EqualsCase&lt;Integer&gt;(1)\n        {\n            @Override\n            public boolean of(final Integer type)\n            {\n                if (super.type.equals(type))\n                {\n                    System.out.format(\"Case %d, break = %s\\n\", type, super.breakOnCompletion);\n                    return super.breakOnCompletion;\n                }\n                else\n                {\n                    return false;\n                }\n            }\n        };\n        integerSwitch.register(case1);\n        // more instances for each matching pattern, granted this will get verbose with lots of options but is just\n        // and example of how to do standard \"switch/case\" logic with this pattern.\n        integerSwitch.evaluate(0);\n        integerSwitch.evaluate(1);\n        integerSwitch.evaluate(2);\n\n\n        final Switch&lt;Integer&gt; inRangeCaseSwitch = new Switch&lt;Integer&gt;();\n        final Case&lt;Integer&gt; rangeCase = new InRangeCase&lt;Integer&gt;(5, 100)\n        {\n            @Override\n            public boolean of(final Integer type)\n            {\n                if (super.inRange(type))\n                {\n                    System.out.format(\"Case %s is between %s and %s, break = %s\\n\", type, this.start, this.end, super.breakOnCompletion);\n                    return super.breakOnCompletion;\n                }\n                else\n                {\n                    return false;\n                }\n            }\n        };\n        inRangeCaseSwitch.register(rangeCase);\n        // run some examples\n        inRangeCaseSwitch.evaluate(0);\n        inRangeCaseSwitch.evaluate(10);\n        inRangeCaseSwitch.evaluate(200);\n\n        // combining both types of Case implementations\n        integerSwitch.register(rangeCase);\n        integerSwitch.evaluate(1);\n        integerSwitch.evaluate(10);\n\n    }\n}\n</code></pre>\n\n<p>This is just a quick straw man that I whipped up in a few minutes, a more sophisticated implementation might allow for some kind of <code>Command Pattern</code> to be injected into the <code>Case</code> implementations instances to make it more of a call back IoC style.</p>\n\n<p>Once nice thing about this approach is that Switch/Case statements are all about side affects, this encapsulates the side effects in Classes so they can be managed, and re-used better, it ends up being more like Pattern Matching in a Functional language and that isn't a bad thing.</p>\n\n<p>I will post any updates or enhancements to this <a href=\"http://www.vertigrated.com/blog/2011/02/a-generic-object-oriented-replacement-for-large-switch-case-and-if-else-statements-in-java/\" rel=\"noreferrer\">Gist</a> on Github.</p>\n"},{"tags":[],"owner":{"account_id":720186,"reputation":1401,"user_id":655924,"display_name":"Dave"},"down_vote_count":40,"up_vote_count":148,"is_accepted":false,"score":108,"last_activity_date":1299873800,"creation_date":1299873800,"answer_id":5277741,"question_id":5086322,"body_markdown":"The second option is completely fine.  I&#39;m not sure why a responder said it was not possible.  This is fine, and I do this all the time:\r\n\r\n    switch (variable)\r\n    {\r\n        case 5:\r\n        case 6:\r\n        etc.\r\n        case 100:\r\n            doSomething();\r\n        break;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java switch statement multiple cases","body":"<p>The second option is completely fine.  I'm not sure why a responder said it was not possible.  This is fine, and I do this all the time:</p>\n\n<pre><code>switch (variable)\n{\n    case 5:\n    case 6:\n    etc.\n    case 100:\n        doSomething();\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":405218,"reputation":617,"user_id":773986,"display_name":"Santtu K&#228;hk&#246;nen"},"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1473949163,"creation_date":1325141503,"answer_id":8664818,"question_id":5086322,"body_markdown":"Maybe not as elegant as some previous answers, but if you want to achieve switch cases with few large ranges, just combine ranges to a single case beforehand:\r\n\r\n    // make a switch variable so as not to change the original value\r\n    int switchVariable = variable;\r\n    \r\n    //combine range 1-100 to one single case in switch\r\n    if(1 &lt;= variable &amp;&amp; variable &lt;=100)\r\n        switchVariable = 1;\r\n    switch (switchVariable) \r\n    { \r\n        case 0:\r\n            break; \r\n        case 1:\r\n            // range 1-100\r\n            doSomething(); \r\n            break;\r\n        case 101: \r\n            doSomethingElse(); \r\n            break;\r\n        etc.\r\n    } ","title":"Java switch statement multiple cases","body":"<p>Maybe not as elegant as some previous answers, but if you want to achieve switch cases with few large ranges, just combine ranges to a single case beforehand:</p>\n\n<pre><code>// make a switch variable so as not to change the original value\nint switchVariable = variable;\n\n//combine range 1-100 to one single case in switch\nif(1 &lt;= variable &amp;&amp; variable &lt;=100)\n    switchVariable = 1;\nswitch (switchVariable) \n{ \n    case 0:\n        break; \n    case 1:\n        // range 1-100\n        doSomething(); \n        break;\n    case 101: \n        doSomethingElse(); \n        break;\n    etc.\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2234734,"reputation":979,"user_id":1971447,"accept_rate":100,"display_name":"P. Waksman"},"down_vote_count":5,"up_vote_count":72,"is_accepted":false,"score":67,"last_activity_date":1357945670,"creation_date":1357945670,"answer_id":14288119,"question_id":5086322,"body_markdown":"    public class SwitchTest {\r\n        public static void main(String[] args){\r\n            for(int i = 0;i&lt;10;i++){\r\n                switch(i){\r\n                    case 1: case 2: case 3: case 4: //First case\r\n                        System.out.println(&quot;First case&quot;);\r\n                        break;\r\n                    case 8: case 9: //Second case\r\n                        System.out.println(&quot;Second case&quot;);\r\n                        break;\r\n                    default: //Default case\r\n                        System.out.println(&quot;Default case&quot;);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOut:\r\n\r\n    Default case\r\n    First case\r\n    First case\r\n    First case\r\n    First case\r\n    Default case\r\n    Default case\r\n    Default case\r\n    Second case\r\n    Second case\r\n\r\nSrc: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Java switch statement multiple cases","body":"<pre><code>public class SwitchTest {\n    public static void main(String[] args){\n        for(int i = 0;i&lt;10;i++){\n            switch(i){\n                case 1: case 2: case 3: case 4: //First case\n                    System.out.println(\"First case\");\n                    break;\n                case 8: case 9: //Second case\n                    System.out.println(\"Second case\");\n                    break;\n                default: //Default case\n                    System.out.println(\"Default case\");\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Out:</p>\n\n<pre><code>Default case\nFirst case\nFirst case\nFirst case\nFirst case\nDefault case\nDefault case\nDefault case\nSecond case\nSecond case\n</code></pre>\n\n<p>Src: <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html</a></p>\n"},{"tags":[],"owner":{"account_id":2330568,"reputation":61,"user_id":2044107,"display_name":"Michael Kozakewich"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1360085504,"creation_date":1360085504,"answer_id":14713424,"question_id":5086322,"body_markdown":"Basically:\r\n\r\n    if (variable &gt;= 5 &amp;&amp; variable &lt;= 100)\r\n    {\r\n        doSomething();\r\n    }\r\n\r\nIf you really needed to use a switch, it would be because you need to do various things for certain ranges. In that case, yes, you&#39;re going to have messy code, because things are getting complex and only things which follow patterns are going to compress well.\r\n\r\nThe only reason for a switch is to save on typing the variable name if you&#39;re just testing for numeric switching values. You aren&#39;t going to switch on 100 things, and they aren&#39;t going to be all doing the same thing. That sounds more like an &#39;if&#39; chunk.","title":"Java switch statement multiple cases","body":"<p>Basically:</p>\n\n<pre><code>if (variable &gt;= 5 &amp;&amp; variable &lt;= 100)\n{\n    doSomething();\n}\n</code></pre>\n\n<p>If you really needed to use a switch, it would be because you need to do various things for certain ranges. In that case, yes, you're going to have messy code, because things are getting complex and only things which follow patterns are going to compress well.</p>\n\n<p>The only reason for a switch is to save on typing the variable name if you're just testing for numeric switching values. You aren't going to switch on 100 things, and they aren't going to be all doing the same thing. That sounds more like an 'if' chunk.</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1543481050,"creation_date":1472042530,"answer_id":39123659,"question_id":5086322,"body_markdown":"According to [this question][1], it&#39;s totally possible.\r\n\r\nJust put all cases that contain the same logic together, and don&#39;t put `break` behind them.\r\n\r\n    switch (var) {\r\n        case (value1):\r\n        case (value2):\r\n        case (value3):\r\n            //the same logic that applies to value1, value2 and value3\r\n            break;\r\n        case (value4):\r\n            //another logic\r\n            break;\r\n    }\r\n\r\nIt&#39;s because `case` without `break` will jump to another `case` until `break` or `return`. \r\n\r\n\r\nEDIT:\r\n\r\nReplying the comment, if we really have 95 values with the same logic, but a way smaller number of cases with different logic, we can do:\r\n\r\n    switch (var) {\r\n         case (96):\r\n         case (97):\r\n         case (98):\r\n         case (99):\r\n         case (100):\r\n             //your logic, opposite to what you put in default.\r\n             break;\r\n         default: \r\n             //your logic for 1 to 95. we enter default if nothing above is met. \r\n             break;\r\n    }\r\n\r\nIf you need finer control, `if-else` is the choice.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13774446/how-to-do-a-case-with-multiple-conditions#answer-13774469","title":"Java switch statement multiple cases","body":"<p>According to <a href=\"https://stackoverflow.com/questions/13774446/how-to-do-a-case-with-multiple-conditions#answer-13774469\">this question</a>, it's totally possible.</p>\n\n<p>Just put all cases that contain the same logic together, and don't put <code>break</code> behind them.</p>\n\n<pre><code>switch (var) {\n    case (value1):\n    case (value2):\n    case (value3):\n        //the same logic that applies to value1, value2 and value3\n        break;\n    case (value4):\n        //another logic\n        break;\n}\n</code></pre>\n\n<p>It's because <code>case</code> without <code>break</code> will jump to another <code>case</code> until <code>break</code> or <code>return</code>. </p>\n\n<p>EDIT:</p>\n\n<p>Replying the comment, if we really have 95 values with the same logic, but a way smaller number of cases with different logic, we can do:</p>\n\n<pre><code>switch (var) {\n     case (96):\n     case (97):\n     case (98):\n     case (99):\n     case (100):\n         //your logic, opposite to what you put in default.\n         break;\n     default: \n         //your logic for 1 to 95. we enter default if nothing above is met. \n         break;\n}\n</code></pre>\n\n<p>If you need finer control, <code>if-else</code> is the choice.</p>\n"},{"tags":[],"owner":{"account_id":1398005,"reputation":3053,"user_id":1327386,"accept_rate":100,"display_name":"hgrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505833845,"creation_date":1505833845,"answer_id":46303975,"question_id":5086322,"body_markdown":"It is possible to handle this using [Vavr][1] library\r\n\r\n    import static io.vavr.API.*;\r\n    import static io.vavr.Predicates.*;\r\n     \r\n    Match(variable).of(\r\n        Case($(isIn(5, 6, ... , 100)), () -&gt; doSomething()),\r\n        Case($(), () -&gt; handleCatchAllCase())\r\n    );\r\n\r\nThis is of course only slight improvement since all cases still need to be listed explicitly. But it is easy to define custom predicate:\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Predicate&lt;T&gt; isInRange(T lower, T upper) {\r\n        return x -&gt; x.compareTo(lower) &gt;= 0 &amp;&amp; x.compareTo(upper) &lt;= 0;\r\n    }\r\n    \r\n    Match(variable).of(\r\n        Case($(isInRange(5, 100)), () -&gt; doSomething()),\r\n        Case($(), () -&gt; handleCatchAllCase())\r\n    );\r\n\r\nMatch is an expression so here it returns something like `Runnable` instance instead of invoking methods directly. After match is performed `Runnable` can be executed.\r\n\r\nFor further details please see [official documentation] [2].\r\n\r\n\r\n  [1]: http://www.vavr.io &quot;Vavr&quot;\r\n  [2]: http://www.vavr.io/vavr-docs/#_pattern_matching","title":"Java switch statement multiple cases","body":"<p>It is possible to handle this using <a href=\"http://www.vavr.io\" rel=\"nofollow noreferrer\" title=\"Vavr\">Vavr</a> library</p>\n\n<pre><code>import static io.vavr.API.*;\nimport static io.vavr.Predicates.*;\n\nMatch(variable).of(\n    Case($(isIn(5, 6, ... , 100)), () -&gt; doSomething()),\n    Case($(), () -&gt; handleCatchAllCase())\n);\n</code></pre>\n\n<p>This is of course only slight improvement since all cases still need to be listed explicitly. But it is easy to define custom predicate:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; Predicate&lt;T&gt; isInRange(T lower, T upper) {\n    return x -&gt; x.compareTo(lower) &gt;= 0 &amp;&amp; x.compareTo(upper) &lt;= 0;\n}\n\nMatch(variable).of(\n    Case($(isInRange(5, 100)), () -&gt; doSomething()),\n    Case($(), () -&gt; handleCatchAllCase())\n);\n</code></pre>\n\n<p>Match is an expression so here it returns something like <code>Runnable</code> instance instead of invoking methods directly. After match is performed <code>Runnable</code> can be executed.</p>\n\n<p>For further details please see <a href=\"http://www.vavr.io/vavr-docs/#_pattern_matching\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":10939969,"reputation":41,"user_id":8040195,"display_name":"Manoj Kumar Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506370039,"creation_date":1506370039,"answer_id":46413373,"question_id":5086322,"body_markdown":"\r\n    \r\n   // Noncompliant Code Example\r\n    \r\n    switch (i) {\r\n      case 1:\r\n        doFirstThing();\r\n        doSomething();\r\n        break;\r\n      case 2:\r\n        doSomethingDifferent();\r\n        break;\r\n      case 3:  // Noncompliant; duplicates case 1&#39;s implementation\r\n        doFirstThing();\r\n        doSomething();\r\n        break;\r\n      default:\r\n        doTheRest();\r\n    }\r\n    \r\n    if (a &gt;= 0 &amp;&amp; a &lt; 10) {\r\n      doFirstThing();\r\n\r\n      doTheThing();\r\n    }\r\n    else if (a &gt;= 10 &amp;&amp; a &lt; 20) {\r\n      doTheOtherThing();\r\n    }\r\n    else if (a &gt;= 20 &amp;&amp; a &lt; 50) {\r\n      doFirstThing();\r\n      doTheThing();  // Noncompliant; duplicates first condition\r\n    }\r\n    else {\r\n      doTheRest();\r\n    }\r\n    \r\n//Compliant Solution\r\n    \r\n    switch (i) {\r\n      case 1:\r\n      case 3:\r\n        doFirstThing();\r\n        doSomething();\r\n        break;\r\n      case 2:\r\n        doSomethingDifferent();\r\n        break;\r\n      default:\r\n        doTheRest();\r\n    }\r\n    \r\n    if ((a &gt;= 0 &amp;&amp; a &lt; 10) || (a &gt;= 20 &amp;&amp; a &lt; 50)) {\r\n      doFirstThing();\r\n      doTheThing();\r\n    }\r\n    else if (a &gt;= 10 &amp;&amp; a &lt; 20) {\r\n      doTheOtherThing();\r\n    }\r\n    else {\r\n      doTheRest();\r\n    }","title":"Java switch statement multiple cases","body":"<p>// Noncompliant Code Example</p>\n\n<pre><code>switch (i) {\n  case 1:\n    doFirstThing();\n    doSomething();\n    break;\n  case 2:\n    doSomethingDifferent();\n    break;\n  case 3:  // Noncompliant; duplicates case 1's implementation\n    doFirstThing();\n    doSomething();\n    break;\n  default:\n    doTheRest();\n}\n\nif (a &gt;= 0 &amp;&amp; a &lt; 10) {\n  doFirstThing();\n\n  doTheThing();\n}\nelse if (a &gt;= 10 &amp;&amp; a &lt; 20) {\n  doTheOtherThing();\n}\nelse if (a &gt;= 20 &amp;&amp; a &lt; 50) {\n  doFirstThing();\n  doTheThing();  // Noncompliant; duplicates first condition\n}\nelse {\n  doTheRest();\n}\n</code></pre>\n\n<p>//Compliant Solution</p>\n\n<pre><code>switch (i) {\n  case 1:\n  case 3:\n    doFirstThing();\n    doSomething();\n    break;\n  case 2:\n    doSomethingDifferent();\n    break;\n  default:\n    doTheRest();\n}\n\nif ((a &gt;= 0 &amp;&amp; a &lt; 10) || (a &gt;= 20 &amp;&amp; a &lt; 50)) {\n  doFirstThing();\n  doTheThing();\n}\nelse if (a &gt;= 10 &amp;&amp; a &lt; 20) {\n  doTheOtherThing();\n}\nelse {\n  doTheRest();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6590996,"reputation":141,"user_id":5092157,"display_name":"asok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526658711,"creation_date":1526658711,"answer_id":50415089,"question_id":5086322,"body_markdown":"for alternative you can use as below:\r\n\r\n\r\n\t\r\n\r\n    if (variable &gt;= 5 &amp;&amp; variable &lt;= 100) {\r\n    \t\tdoSomething();\r\n    \t\t\r\n    \t}\r\n\r\nor the following code also works\r\n\r\n    switch (variable)\r\n    {\r\n        case 5:\r\n        case 6:\r\n        etc.\r\n        case 100:\r\n            doSomething();\r\n        break;\r\n    }","title":"Java switch statement multiple cases","body":"<p>for alternative you can use as below:</p>\n\n<pre><code>if (variable &gt;= 5 &amp;&amp; variable &lt;= 100) {\n        doSomething();\n\n    }\n</code></pre>\n\n<p>or the following code also works</p>\n\n<pre><code>switch (variable)\n{\n    case 5:\n    case 6:\n    etc.\n    case 100:\n        doSomething();\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6615217,"reputation":6120,"user_id":5108737,"display_name":"Ruslan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1553718526,"creation_date":1553718526,"answer_id":55385918,"question_id":5086322,"body_markdown":"From the last java-12 release multiple constants in the same case label is available in [preview language feature](http://openjdk.java.net/jeps/12)\r\n\r\n&gt;It is available in a JDK feature release to provoke developer feedback based on real world use; this may lead to it becoming permanent in a future Java SE Platform.\r\n\r\nIt looks like:\r\n\r\n    switch(variable) {\r\n        case 1 -&gt; doSomething();\r\n        case 2, 3, 4 -&gt; doSomethingElse();\r\n    };\r\n\r\nSee more [JEP 325: Switch Expressions (Preview)](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8192963)","title":"Java switch statement multiple cases","body":"<p>From the last java-12 release multiple constants in the same case label is available in <a href=\"http://openjdk.java.net/jeps/12\" rel=\"noreferrer\">preview language feature</a></p>\n\n<blockquote>\n  <p>It is available in a JDK feature release to provoke developer feedback based on real world use; this may lead to it becoming permanent in a future Java SE Platform.</p>\n</blockquote>\n\n<p>It looks like:</p>\n\n<pre><code>switch(variable) {\n    case 1 -&gt; doSomething();\n    case 2, 3, 4 -&gt; doSomethingElse();\n};\n</code></pre>\n\n<p>See more <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8192963\" rel=\"noreferrer\">JEP 325: Switch Expressions (Preview)</a></p>\n"},{"tags":[],"owner":{"account_id":893749,"reputation":8510,"user_id":931511,"accept_rate":76,"display_name":"guilhebl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557809767,"creation_date":1557809767,"answer_id":56123237,"question_id":5086322,"body_markdown":"One alternative instead of using hard-coded values could be using range mappings on the the switch statement instead:\r\n\r\n\tprivate static final int RANGE_5_100 = 1;\r\n\tprivate static final int RANGE_101_1000 = 2;\r\n\tprivate static final int RANGE_1001_10000 = 3;\r\n\t\r\n\tpublic boolean handleRanges(int n) {\r\n\t\tint rangeCode = getRangeCode(n);\r\n\t\tswitch (rangeCode) {\r\n\t\t\tcase RANGE_5_100: // doSomething();\r\n\t\t\tcase RANGE_101_1000: // doSomething();\r\n\t\t\tcase RANGE_1001_10000: // doSomething();\r\n\t\t\tdefault: // invalid range\r\n\t\t}\r\n\t}\r\n\r\n\tprivate int getRangeCode(int n) {\r\n\t\tif (n &gt;= 5 &amp;&amp; n &lt;= 100) {\r\n\t\t\treturn RANGE_5_100;\r\n\t\t} else if (n &gt;= 101 &amp;&amp; n &lt;= 1000) {\r\n\t\t\treturn RANGE_101_1000;\r\n\t\t} else if (n &gt;= 1001 &amp;&amp; n &lt;= 10000) {\r\n\t\t\treturn RANGE_1001_10000;\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t}\r\n","title":"Java switch statement multiple cases","body":"<p>One alternative instead of using hard-coded values could be using range mappings on the the switch statement instead:</p>\n\n<pre><code>private static final int RANGE_5_100 = 1;\nprivate static final int RANGE_101_1000 = 2;\nprivate static final int RANGE_1001_10000 = 3;\n\npublic boolean handleRanges(int n) {\n    int rangeCode = getRangeCode(n);\n    switch (rangeCode) {\n        case RANGE_5_100: // doSomething();\n        case RANGE_101_1000: // doSomething();\n        case RANGE_1001_10000: // doSomething();\n        default: // invalid range\n    }\n}\n\nprivate int getRangeCode(int n) {\n    if (n &gt;= 5 &amp;&amp; n &lt;= 100) {\n        return RANGE_5_100;\n    } else if (n &gt;= 101 &amp;&amp; n &lt;= 1000) {\n        return RANGE_101_1000;\n    } else if (n &gt;= 1001 &amp;&amp; n &lt;= 10000) {\n        return RANGE_1001_10000;\n    }\n\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4734827,"reputation":4157,"user_id":7109598,"display_name":"Iskuskov Alexander"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1581245310,"creation_date":1581245310,"answer_id":60135810,"question_id":5086322,"body_markdown":"[**JEP 354: Switch Expressions (Preview)**](https://openjdk.java.net/jeps/354) in JDK-13 and [**JEP 361: Switch Expressions (Standard)**](https://openjdk.java.net/jeps/361) in JDK-14 will extend the _**switch statement**_ so it can be used as an _**expression**_. \r\n\r\nNow you can:\r\n\r\n - directly assign variable from _switch expression_, \r\n - use new form of switch label (`case L -&gt;`):\r\n   &gt; The code to the right of a &quot;case L -&gt;&quot; switch label is restricted to be an expression, a block, or (for convenience) a throw statement.\r\n - use multiple constants per case, separated by commas, \r\n - and also there are no more value _breaks_:\r\n   &gt; To yield a value from a switch expression, the `break` with value statement is dropped in favor of a `yield` statement.\r\n\r\nSwitch expression example:\r\n\r\n```java\r\npublic class SwitchExpression {\r\n\r\n  public static void main(String[] args) {\r\n      int month = 9;\r\n      int year = 2018;\r\n      int numDays = switch (month) {\r\n        case 1, 3, 5, 7, 8, 10, 12 -&gt; 31;\r\n        case 4, 6, 9, 11 -&gt; 30;\r\n        case 2 -&gt; {\r\n          if (java.time.Year.of(year).isLeap()) {\r\n            System.out.println(&quot;Wow! It&#39;s leap year!&quot;);\r\n            yield 29;\r\n          } else {\r\n            yield 28;\r\n          }\r\n        }\r\n        default -&gt; {\r\n          System.out.println(&quot;Invalid month.&quot;);\r\n          yield 0;\r\n        }\r\n      };\r\n      System.out.println(&quot;Number of Days = &quot; + numDays);\r\n  }\r\n}\r\n\r\n```","title":"Java switch statement multiple cases","body":"<p><a href=\"https://openjdk.java.net/jeps/354\" rel=\"noreferrer\"><strong>JEP 354: Switch Expressions (Preview)</strong></a> in JDK-13 and <a href=\"https://openjdk.java.net/jeps/361\" rel=\"noreferrer\"><strong>JEP 361: Switch Expressions (Standard)</strong></a> in JDK-14 will extend the <em><strong>switch statement</strong></em> so it can be used as an <em><strong>expression</strong></em>. </p>\n\n<p>Now you can:</p>\n\n<ul>\n<li>directly assign variable from <em>switch expression</em>, </li>\n<li>use new form of switch label (<code>case L -&gt;</code>):\n\n<blockquote>\n  <p>The code to the right of a \"case L ->\" switch label is restricted to be an expression, a block, or (for convenience) a throw statement.</p>\n</blockquote></li>\n<li>use multiple constants per case, separated by commas, </li>\n<li>and also there are no more value <em>breaks</em>:\n\n<blockquote>\n  <p>To yield a value from a switch expression, the <code>break</code> with value statement is dropped in favor of a <code>yield</code> statement.</p>\n</blockquote></li>\n</ul>\n\n<p>Switch expression example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SwitchExpression {\n\n  public static void main(String[] args) {\n      int month = 9;\n      int year = 2018;\n      int numDays = switch (month) {\n        case 1, 3, 5, 7, 8, 10, 12 -&gt; 31;\n        case 4, 6, 9, 11 -&gt; 30;\n        case 2 -&gt; {\n          if (java.time.Year.of(year).isLeap()) {\n            System.out.println(\"Wow! It's leap year!\");\n            yield 29;\n          } else {\n            yield 28;\n          }\n        }\n        default -&gt; {\n          System.out.println(\"Invalid month.\");\n          yield 0;\n        }\n      };\n      System.out.println(\"Number of Days = \" + numDays);\n  }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2928320,"reputation":1666,"user_id":5946480,"display_name":"Rishi Prakash"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1609747634,"creation_date":1609747634,"answer_id":65559444,"question_id":5086322,"body_markdown":"This is possible with switch enhancements in **Java 14**. Following is a fairly intuitive example of how the same can be achieved.\r\n\r\n    switch (month) {\r\n        case 1, 3, 5, 7, 8, 10, 12 -&gt; System.out.println(&quot;this month has 31 days&quot;);\r\n        case 4, 6, 9 -&gt; System.out.println(&quot;this month has 30 days&quot;);\r\n        case 2 -&gt; System.out.println(&quot;February can have 28 or 29 days&quot;);\r\n        default -&gt; System.out.println(&quot;invalid month&quot;);\r\n    }","title":"Java switch statement multiple cases","body":"<p>This is possible with switch enhancements in <strong>Java 14</strong>. Following is a fairly intuitive example of how the same can be achieved.</p>\n<pre><code>switch (month) {\n    case 1, 3, 5, 7, 8, 10, 12 -&gt; System.out.println(&quot;this month has 31 days&quot;);\n    case 4, 6, 9 -&gt; System.out.println(&quot;this month has 30 days&quot;);\n    case 2 -&gt; System.out.println(&quot;February can have 28 or 29 days&quot;);\n    default -&gt; System.out.println(&quot;invalid month&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11623405,"reputation":59,"user_id":8513973,"display_name":"Osama Hussain"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1639331896,"creation_date":1639331896,"answer_id":70326241,"question_id":5086322,"body_markdown":"I found a solution to this problem... We can use multiple conditions in switch cases in java.. but it require multiple switch cases..\r\n\r\n    public class MultiCSwitchTest {\r\n    public static void main(String[] args) {\r\n        int i = 209;\r\n        int a = 0;\r\n        switch (a = (i&gt;=1 &amp;&amp; i&lt;=100) ? 1 : a){    \r\n        case 1:\r\n            System.out.println (&quot;The Number is Between 1 to 100 ==&gt; &quot; + i);\r\n            break;\r\n        default:\r\n            switch (a = (i&gt;100 &amp;&amp; i&lt;=200) ? 2 : a) {\r\n                case 2:\r\n                    System.out.println(&quot;This Number is Between 101 to 200 ==&gt; &quot; + i);\r\n                    break;\r\n            \r\n                default:\r\n                    switch (a = (i&gt;200 &amp;&amp; i&lt;=300) ? 3 : a) {\r\n                        case 3:\r\n                            System.out.println(&quot;This Number is Between 201 to 300 ==&gt; &quot; + i);\r\n                            break;\r\n                    \r\n                        default:\r\n                            // You can make as many conditions as you want;\r\n                            break;\r\n                    }\r\n            }\r\n            \r\n        }\r\n    }\r\n    }","title":"Java switch statement multiple cases","body":"<p>I found a solution to this problem... We can use multiple conditions in switch cases in java.. but it require multiple switch cases..</p>\n<pre><code>public class MultiCSwitchTest {\npublic static void main(String[] args) {\n    int i = 209;\n    int a = 0;\n    switch (a = (i&gt;=1 &amp;&amp; i&lt;=100) ? 1 : a){    \n    case 1:\n        System.out.println (&quot;The Number is Between 1 to 100 ==&gt; &quot; + i);\n        break;\n    default:\n        switch (a = (i&gt;100 &amp;&amp; i&lt;=200) ? 2 : a) {\n            case 2:\n                System.out.println(&quot;This Number is Between 101 to 200 ==&gt; &quot; + i);\n                break;\n        \n            default:\n                switch (a = (i&gt;200 &amp;&amp; i&lt;=300) ? 3 : a) {\n                    case 3:\n                        System.out.println(&quot;This Number is Between 201 to 300 ==&gt; &quot; + i);\n                        break;\n                \n                    default:\n                        // You can make as many conditions as you want;\n                        break;\n                }\n        }\n        \n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678809290,"creation_date":1678783024,"answer_id":75730732,"question_id":5086322,"body_markdown":"[JEP 427: Pattern Matching for switch (Third Preview)][1] arrived as a preview feature in **Java 19**, and allows you to solve the problem with a so called &quot;guarded patten&quot;:\r\n\r\n\r\n    Integer variable = new Random().nextInt(200);\r\n    switch (variable) {\r\n         case Integer v when v &gt;= 5 &amp;&amp; v &lt;= 100\r\n                 -&gt; System.out.println(&quot;in my range&quot;);\r\n         default -&gt; System.out.println(&quot;out of range&quot;);\r\n    }\r\n\r\nHot to enable preview Features in your Java, see [this SO-Question][2].\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/427\r\n  [2]: https://stackoverflow.com/q/72083752/450812\r\n\r\nBy Java 20 or 21, this syntax will probably be available as a standard feature.","title":"Java switch statement multiple cases","body":"<p><a href=\"https://openjdk.org/jeps/427\" rel=\"nofollow noreferrer\">JEP 427: Pattern Matching for switch (Third Preview)</a> arrived as a preview feature in <strong>Java 19</strong>, and allows you to solve the problem with a so called &quot;guarded patten&quot;:</p>\n<pre><code>Integer variable = new Random().nextInt(200);\nswitch (variable) {\n     case Integer v when v &gt;= 5 &amp;&amp; v &lt;= 100\n             -&gt; System.out.println(&quot;in my range&quot;);\n     default -&gt; System.out.println(&quot;out of range&quot;);\n}\n</code></pre>\n<p>Hot to enable preview Features in your Java, see <a href=\"https://stackoverflow.com/q/72083752/450812\">this SO-Question</a>.</p>\n<p>By Java 20 or 21, this syntax will probably be available as a standard feature.</p>\n"}],"owner":{"account_id":712241,"reputation":1561,"user_id":629427,"display_name":"FunJavaCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446550,"favorite_count":0,"down_vote_count":1,"up_vote_count":156,"accepted_answer_id":5086339,"answer_count":16,"score":155,"last_activity_date":1678809290,"creation_date":1298427442,"question_id":5086322,"body_markdown":"Just trying to figure out how to use many multiple cases for a Java switch statement. Here&#39;s an example of what I&#39;m trying to do:\r\n\r\n    switch (variable)\r\n    {\r\n        case 5..100:\r\n            doSomething();\r\n        break;\r\n    }\r\n\r\nversus having to do:\r\n\r\n    switch (variable)\r\n    {\r\n        case 5:\r\n        case 6:\r\n        etc.\r\n        case 100:\r\n            doSomething();\r\n        break;\r\n    }\r\n\r\nAny ideas if this possible, or what a good alternative is?","title":"Java switch statement multiple cases","body":"<p>Just trying to figure out how to use many multiple cases for a Java switch statement. Here's an example of what I'm trying to do:</p>\n\n<pre><code>switch (variable)\n{\n    case 5..100:\n        doSomething();\n    break;\n}\n</code></pre>\n\n<p>versus having to do:</p>\n\n<pre><code>switch (variable)\n{\n    case 5:\n    case 6:\n    etc.\n    case 100:\n        doSomething();\n    break;\n}\n</code></pre>\n\n<p>Any ideas if this possible, or what a good alternative is?</p>\n"},{"tags":["java","linux"],"owner":{"account_id":11631703,"reputation":21,"user_id":8835988,"display_name":"Mikhail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678809275,"creation_date":1509004743,"question_id":46948799,"body_markdown":"I am writing JavaFX 8 application.\r\nI can successfully drag one or more files from my application and drop them into a file manager (Naitilus).\r\nHere is how I put the files to the dragboard:\r\n\r\n        private void dragDetected(MouseEvent mouseEvent,Thumbnail thumbnail) {\r\n            Dragboard dragboard = thumbnail.startDragAndDrop(TransferMode.COPY);\r\n            ClipboardContent clipboardContent = new ClipboardContent();\r\n            List&lt;File&gt; lstFileSelected = getListFileSelected();\r\n            clipboardContent.putFiles(lstFileSelected);\r\n            dragboard.setContent(clipboardContent);\r\n        \r\n            mouseEvent.consume();\r\n        }\r\n\r\nI can successfully copy a string from my application and paste it in an outer editor (gEdit).\r\nHere is how I put the string to the system clipboard:\r\n\r\n        private void copyToClipboard() {\r\n            Clipboard clipboard = Clipboard.getSystemClipboard();\r\n            ClipboardContent clipboardContent = new ClipboardContent();\r\n            clipboardContent.putString(&quot;Dummy&quot;);\r\n            clipboard.setContent(clipboardContent);\r\n        }\r\n\r\nBut when I try to copy one or more files from my application and to paste them into a file manger (Nautilus), into a folder with permissions==0777, I can&#39;t do this as a &#39;paste&#39; option in the file manager&#39;s menu is disabled.\r\nHere is how i put the files to the system clipboard:\r\n\r\n        private void copyToClipboard() {\r\n            Clipboard clipboard = Clipboard.getSystemClipboard();\r\n            ClipboardContent clipboardContent = new ClipboardContent();\r\n            List&lt;File&gt; lstFileSelected = getListFileSelected();\r\n            // lstFileSelected DOES HAVE all the selected files (one or more)\r\n            clipboardContent.putFiles(lstFileSelected);\r\n            clipboard.setContent(clipboardContent);\r\n        }\r\n\r\nMy environment:\r\n\r\n    Debian GNU/Linux 9 (stretch) 64-bit with Gnome 3.22.2\r\n    Java jdk-8u152-linux-x64\r\n    Eclipse SDK Oxygen.1a (4.7.1a)\r\n\r\nCan anybody help me to understand what is wrong.\r\nThank you, Mikhail.\r\n\r\n\r\n","title":"JavaFX 8 files drag and drop works but copy and paste doesn&#39;t","body":"<p>I am writing JavaFX 8 application.\nI can successfully drag one or more files from my application and drop them into a file manager (Naitilus).\nHere is how I put the files to the dragboard:</p>\n\n<pre><code>    private void dragDetected(MouseEvent mouseEvent,Thumbnail thumbnail) {\n        Dragboard dragboard = thumbnail.startDragAndDrop(TransferMode.COPY);\n        ClipboardContent clipboardContent = new ClipboardContent();\n        List&lt;File&gt; lstFileSelected = getListFileSelected();\n        clipboardContent.putFiles(lstFileSelected);\n        dragboard.setContent(clipboardContent);\n\n        mouseEvent.consume();\n    }\n</code></pre>\n\n<p>I can successfully copy a string from my application and paste it in an outer editor (gEdit).\nHere is how I put the string to the system clipboard:</p>\n\n<pre><code>    private void copyToClipboard() {\n        Clipboard clipboard = Clipboard.getSystemClipboard();\n        ClipboardContent clipboardContent = new ClipboardContent();\n        clipboardContent.putString(\"Dummy\");\n        clipboard.setContent(clipboardContent);\n    }\n</code></pre>\n\n<p>But when I try to copy one or more files from my application and to paste them into a file manger (Nautilus), into a folder with permissions==0777, I can't do this as a 'paste' option in the file manager's menu is disabled.\nHere is how i put the files to the system clipboard:</p>\n\n<pre><code>    private void copyToClipboard() {\n        Clipboard clipboard = Clipboard.getSystemClipboard();\n        ClipboardContent clipboardContent = new ClipboardContent();\n        List&lt;File&gt; lstFileSelected = getListFileSelected();\n        // lstFileSelected DOES HAVE all the selected files (one or more)\n        clipboardContent.putFiles(lstFileSelected);\n        clipboard.setContent(clipboardContent);\n    }\n</code></pre>\n\n<p>My environment:</p>\n\n<pre><code>Debian GNU/Linux 9 (stretch) 64-bit with Gnome 3.22.2\nJava jdk-8u152-linux-x64\nEclipse SDK Oxygen.1a (4.7.1a)\n</code></pre>\n\n<p>Can anybody help me to understand what is wrong.\nThank you, Mikhail.</p>\n"},{"tags":["java","spring","aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1608177148,"post_id":65235534,"comment_id":115505185,"body_markdown":"I think there is a problem in your code: You have `@Bean UserDetailsService userDetailsService()` vs. `@Service(&quot;userDetailsService&quot;) class UserDetailsServiceImpl`. It looks like there are two identically named ways to instantiate the service bean with two different types. The `@Bean` has the interface type and this is what gets created as a JDK proxy. In another place you explicitly declare the `@Service` to have an implementation type, which contradicts the bean factory method. I think you need to fix this inconsistency because it causes your problem, as the error message indicates.","body":"I think there is a problem in your code: You have <code>@Bean UserDetailsService userDetailsService()</code> vs. <code>@Service(&quot;userDetailsService&quot;) class UserDetailsServiceImpl</code>. It looks like there are two identically named ways to instantiate the service bean with two different types. The <code>@Bean</code> has the interface type and this is what gets created as a JDK proxy. In another place you explicitly declare the <code>@Service</code> to have an implementation type, which contradicts the bean factory method. I think you need to fix this inconsistency because it causes your problem, as the error message indicates."},{"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"score":0,"creation_date":1608203238,"post_id":65235534,"comment_id":115513832,"body_markdown":"@kriegaex Indeed this could be related to the problem. When I changed the return type of the `@Bean` to `UserDetailsServiceImpl` in `SecurityConfig` then it gave a clearer description of the error:\n`java.lang.IllegalStateException: @Bean method SecurityConfig.userDetailsService called as bean reference for type [com.intellivest.app.service.UserDetailsServiceImpl] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy330].`\nSpring advises that\n&gt; &quot;JDK dynamic proxies are preferred whenever you have a choice&quot;\nWhat solution do you propose keeping that in mind?","body":"@kriegaex Indeed this could be related to the problem. When I changed the return type of the <code>@Bean</code> to <code>UserDetailsServiceImpl</code> in <code>SecurityConfig</code> then it gave a clearer description of the error: <code>java.lang.IllegalStateException: @Bean method SecurityConfig.userDetailsService called as bean reference for type [com.intellivest.app.service.UserDetailsServiceImpl] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy330].</code> Spring advises that &gt; &quot;JDK dynamic proxies are preferred whenever you have a choice&quot; What solution do you propose keeping that in mind?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1608207337,"post_id":65235534,"comment_id":115515578,"body_markdown":"I am not a Spring user. But basically either you have to make sure everything is referenced to and instantiated as the interface type when using JDK proxies, which is the type created somewhere in your application as can be seen from the class name `com.sun.proxy.$Proxy330`. Maybe it is enough to add `@EnableAspectJAutoProxy` to your configuration class. Alternatively, you could enforce usage of CGLIB proxies via `@EnableAspectJAutoProxy(proxyTargetClass=true)`. I am too busy to copy all your classes into a new project and play around, if you have a GitHub project for me I can take a look.","body":"I am not a Spring user. But basically either you have to make sure everything is referenced to and instantiated as the interface type when using JDK proxies, which is the type created somewhere in your application as can be seen from the class name <code>com.sun.proxy.$Proxy330</code>. Maybe it is enough to add <code>@EnableAspectJAutoProxy</code> to your configuration class. Alternatively, you could enforce usage of CGLIB proxies via <code>@EnableAspectJAutoProxy(proxyTargetClass=true)</code>. I am too busy to copy all your classes into a new project and play around, if you have a GitHub project for me I can take a look."}],"answers":[{"tags":[],"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678808838,"creation_date":1616604676,"answer_id":66785668,"question_id":65235534,"body_markdown":"**Solution 1 (Optimal)**\r\n\r\nThe methods used in the `@Service` class should all be declared in an interface that the `@Service` implements. Then the service can be referred to via its interface type everywhere (e.g. in `@Controller` class). This way Spring can continue to use JDK dynamic proxies (which are preferred over CGLIB). \r\n\r\nThis was especially important as an interface provided by Spring was implemented: `org.springframework.security.core.userdetails.UserDetailsService` which declared only 1 method but others were required too.  \r\nThis was rather a design problem than a simple coding issue.\r\n\r\nStep by step:\r\n\r\n    public interface CustomizedUserDetailsService extends UserDetailsService {\r\n    \tvoid add(User user);\r\n    }\r\n\r\nImplement the methods in the service:\r\n\r\n    @Service\r\n    public class UserDetailsServiceImpl implements CustomizedUserDetailsService{\r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic void add (User user) {\r\n    \t\t//...\r\n    \t}\r\n    }\r\n\r\n\r\nReference the bean through its interface type in the `@Configuration` **but return the implementation**:\r\n\r\n    @Bean\r\n    @Primary\r\n    public CustomizedUserDetailsService userDetailsService() {\r\n    \treturn new UserDetailsServiceImpl();\r\n    }\r\n\r\nWhile using the implementation inject the bean through a reference to its implemented interface:\r\n\r\n    @Controller\r\n    public class UserController {\r\n    \r\n    \tprivate CustomizedUserDetailsService userDetailsService;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic void setUsersService(CustomizedUserDetailsService customizedUserDetailsService) {\r\n    \t\tthis.userDetailsService = customizedUserDetailsService;\r\n    \t}\r\n    }\r\n\r\nMore details on proxies [here][1].\r\n\r\n**Solution 2**\r\n\r\nUse an annotation to enable CGLIB proxy on the service class.\r\nThis required spring-aop and aspectjweaver dependencies (not using Spring Boot).\r\n\r\n    @EnableAspectJAutoProxy(proxyTargetClass=true)\r\nThen the security configuration class can produce the bean like this:\r\n\r\n    @Bean\r\n    public UserDetailsServiceImpl userDetailsService() {\r\n    \treturn new UserDetailsServiceImpl();\r\n    }\r\n(The DAO layer should not be `@Transactional`, that should only be applied to the `@Service` class or specific methods of the latter class.)\r\n\r\n\r\n  [1]: https://spring.io/blog/2012/05/23/transactions-caching-and-aop-understanding-proxy-usage-in-spring","title":"Spring error &quot;Bean named &#39;x&#39; is expected to be of type &#39;y&#39;, but was actually of type [com.sun.proxy.$Proxy]&quot;","body":"<p><strong>Solution 1 (Optimal)</strong></p>\n<p>The methods used in the <code>@Service</code> class should all be declared in an interface that the <code>@Service</code> implements. Then the service can be referred to via its interface type everywhere (e.g. in <code>@Controller</code> class). This way Spring can continue to use JDK dynamic proxies (which are preferred over CGLIB).</p>\n<p>This was especially important as an interface provided by Spring was implemented: <code>org.springframework.security.core.userdetails.UserDetailsService</code> which declared only 1 method but others were required too.<br />\nThis was rather a design problem than a simple coding issue.</p>\n<p>Step by step:</p>\n<pre><code>public interface CustomizedUserDetailsService extends UserDetailsService {\n    void add(User user);\n}\n</code></pre>\n<p>Implement the methods in the service:</p>\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements CustomizedUserDetailsService{\n    @Override\n    @Transactional\n    public void add (User user) {\n        //...\n    }\n}\n</code></pre>\n<p>Reference the bean through its interface type in the <code>@Configuration</code> <strong>but return the implementation</strong>:</p>\n<pre><code>@Bean\n@Primary\npublic CustomizedUserDetailsService userDetailsService() {\n    return new UserDetailsServiceImpl();\n}\n</code></pre>\n<p>While using the implementation inject the bean through a reference to its implemented interface:</p>\n<pre><code>@Controller\npublic class UserController {\n\n    private CustomizedUserDetailsService userDetailsService;\n    \n    @Autowired\n    public void setUsersService(CustomizedUserDetailsService customizedUserDetailsService) {\n        this.userDetailsService = customizedUserDetailsService;\n    }\n}\n</code></pre>\n<p>More details on proxies <a href=\"https://spring.io/blog/2012/05/23/transactions-caching-and-aop-understanding-proxy-usage-in-spring\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Solution 2</strong></p>\n<p>Use an annotation to enable CGLIB proxy on the service class.\nThis required spring-aop and aspectjweaver dependencies (not using Spring Boot).</p>\n<pre><code>@EnableAspectJAutoProxy(proxyTargetClass=true)\n</code></pre>\n<p>Then the security configuration class can produce the bean like this:</p>\n<pre><code>@Bean\npublic UserDetailsServiceImpl userDetailsService() {\n    return new UserDetailsServiceImpl();\n}\n</code></pre>\n<p>(The DAO layer should not be <code>@Transactional</code>, that should only be applied to the <code>@Service</code> class or specific methods of the latter class.)</p>\n"}],"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11275,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66785668,"answer_count":1,"score":3,"last_activity_date":1678808838,"creation_date":1607607205,"question_id":65235534,"body_markdown":"I am trying to implement a DAO based authentication in an application using Spring Security.\r\n\r\nWhen I tried to log in to the application with a user I got this error:\r\n\r\n    failed to lazily initialize a collection of role: com.example.app.dao.User.groups, could not initialize proxy - no Session\r\n\r\nLooking at @jcmwright80 &#39;s answer to [this question][1] I understood that I should ideally annotate `UserDetailsServiceImpl` class as `@Transactional`. After doing that I got an error during login:\r\n\r\n    Bean named &#39;userDetailsService&#39; is expected to be of type &#39;com.example.app.service.UserDetailsServiceImpl&#39; but was actually of type &#39;com.sun.proxy.$Proxy238&#39;&quot;}}\r\n\r\n**This seems to be an issue related to the proxy object created on UserDetailsServiceImpl - how can I fix this gracefully?**\r\n\r\n**CODE**\r\n\r\nRelevant part of the security configuration:\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.example.app.service&quot;)\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter  {\r\n    \r\n    \t@Bean\r\n    \tpublic UserDetailsService userDetailsService() {\r\n    \t\treturn new UserDetailsServiceImpl();\r\n    \t}\r\n    \t\r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n        \treturn new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n        \tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        \tauthProvider.setUserDetailsService(userDetailsService());\r\n        \tauthProvider.setPasswordEncoder(passwordEncoder());\r\n        \treturn authProvider;\r\n        }\r\n    \r\n    }\r\n\r\nUserDetailsServiceImpl.java\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UserDetailsServiceImpl implements UserDetailsService{\r\n    \r\n    \tpublic UserDetailsServiceImpl () {};\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserDao userDao;\r\n    \t\r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \t\t\r\n    \t\tUser user = userDao.getUser(username);\r\n    \t\t\r\n    \t\tif (user == null) {\r\n    \t\t\tthrow new UsernameNotFoundException (&quot;User not found.&quot;);\r\n    \t\t}\r\n    \t\treturn new UserDetailsImpl(user);\r\n    \t}\r\n      }\r\n\r\nUser.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;,schema=&quot;sec&quot;)\r\n    public class User {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;userGen&quot;)\r\n    \t@SequenceGenerator(name=&quot;userGen&quot;, sequenceName=&quot;user_id_seq&quot;, schema=&quot;sec&quot;)\r\n    \tprivate long id;\t\r\n\r\n        // Validation constraints on the fields ...\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tprivate boolean enabled;\r\n    \t\r\n    \t@ManyToMany\r\n    \t@JoinTable(name=&quot;group_members&quot;, schema=&quot;sec&quot;, joinColumns= { @JoinColumn(name=&quot;user_id&quot;) }, inverseJoinColumns = { @JoinColumn(name=&quot;group_id&quot;) } )\r\n        private Set&lt;Group&gt; groups;\r\n\r\n     // Getters, Setters etc. ...\r\n     }\r\n\r\n(The alternative solution of using `@ManyToMany(fetch = FetchType.EAGER)` on collection type fields in `User` and `Group` classes works, though it could impact performance.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22821695/how-to-fix-hibernate-lazyinitializationexception-failed-to-lazily-initialize-a","title":"Spring error &quot;Bean named &#39;x&#39; is expected to be of type &#39;y&#39;, but was actually of type [com.sun.proxy.$Proxy]&quot;","body":"<p>I am trying to implement a DAO based authentication in an application using Spring Security.</p>\n<p>When I tried to log in to the application with a user I got this error:</p>\n<pre><code>failed to lazily initialize a collection of role: com.example.app.dao.User.groups, could not initialize proxy - no Session\n</code></pre>\n<p>Looking at @jcmwright80 's answer to <a href=\"https://stackoverflow.com/questions/22821695/how-to-fix-hibernate-lazyinitializationexception-failed-to-lazily-initialize-a\">this question</a> I understood that I should ideally annotate <code>UserDetailsServiceImpl</code> class as <code>@Transactional</code>. After doing that I got an error during login:</p>\n<pre><code>Bean named 'userDetailsService' is expected to be of type 'com.example.app.service.UserDetailsServiceImpl' but was actually of type 'com.sun.proxy.$Proxy238'&quot;}}\n</code></pre>\n<p><strong>This seems to be an issue related to the proxy object created on UserDetailsServiceImpl - how can I fix this gracefully?</strong></p>\n<p><strong>CODE</strong></p>\n<p>Relevant part of the security configuration:</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;com.example.app.service&quot;)\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter  {\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new UserDetailsServiceImpl();\n    }\n    \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n}\n</code></pre>\n<p>UserDetailsServiceImpl.java</p>\n<pre><code>@Service\n@Transactional\npublic class UserDetailsServiceImpl implements UserDetailsService{\n\n    public UserDetailsServiceImpl () {};\n    \n    @Autowired\n    private UserDao userDao;\n    \n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        \n        User user = userDao.getUser(username);\n        \n        if (user == null) {\n            throw new UsernameNotFoundException (&quot;User not found.&quot;);\n        }\n        return new UserDetailsImpl(user);\n    }\n  }\n</code></pre>\n<p>User.java</p>\n<pre><code>@Entity\n@Table(name=&quot;users&quot;,schema=&quot;sec&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;userGen&quot;)\n    @SequenceGenerator(name=&quot;userGen&quot;, sequenceName=&quot;user_id_seq&quot;, schema=&quot;sec&quot;)\n    private long id;    \n\n    // Validation constraints on the fields ...\n    private String username;\n    private String password;\n    private boolean enabled;\n    \n    @ManyToMany\n    @JoinTable(name=&quot;group_members&quot;, schema=&quot;sec&quot;, joinColumns= { @JoinColumn(name=&quot;user_id&quot;) }, inverseJoinColumns = { @JoinColumn(name=&quot;group_id&quot;) } )\n    private Set&lt;Group&gt; groups;\n\n // Getters, Setters etc. ...\n }\n</code></pre>\n<p>(The alternative solution of using <code>@ManyToMany(fetch = FetchType.EAGER)</code> on collection type fields in <code>User</code> and <code>Group</code> classes works, though it could impact performance.)</p>\n"},{"tags":["java","math","logic","rounding"],"comments":[{"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1678808350,"post_id":75735208,"comment_id":133603187,"body_markdown":"162.75 * 100.0 will give you 1627.49999999 (see the duplicate answer).","body":"162.75 * 100.0 will give you 1627.49999999 (see the duplicate answer)."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678808851,"post_id":75735208,"comment_id":133603369,"body_markdown":"`System.out.printf(&quot;%.2f%n&quot;, 16.275);`","body":"<code>System.out.printf(&quot;%.2f%n&quot;, 16.275);</code>"},{"owner":{"account_id":2731251,"reputation":49,"user_id":2354999,"display_name":"bugsbuRny"},"score":0,"creation_date":1678808918,"post_id":75735208,"comment_id":133603394,"body_markdown":"@Mureinik This is not a duplicate and that not reply the question about rounding.\nTo me, the question is about scientific rounding and HALF_EVEN method.","body":"@Mureinik This is not a duplicate and that not reply the question about rounding. To me, the question is about scientific rounding and HALF_EVEN method."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678808960,"post_id":75735208,"comment_id":133603408,"body_markdown":"If you want accuracy rather than speed, use `BigDecimal` class.","body":"If you want accuracy rather than speed, use <code>BigDecimal</code> class."},{"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1678809062,"post_id":75735208,"comment_id":133603445,"body_markdown":"@bugsbuRny If you don&#39;t let Java calculate 16.275 * 100.0 but instead use `Math.round(1627.5)/100.0`, you&#39;ll get the expected 16.28. The issue here is with the multiplication, not rounding.","body":"@bugsbuRny If you don&#39;t let Java calculate 16.275 * 100.0 but instead use <code>Math.round(1627.5)&#47;100.0</code>, you&#39;ll get the expected 16.28. The issue here is with the multiplication, not rounding."},{"owner":{"account_id":2731251,"reputation":49,"user_id":2354999,"display_name":"bugsbuRny"},"score":0,"creation_date":1678809828,"post_id":75735208,"comment_id":133603707,"body_markdown":"But it does not help the asker. You are hard-coding the number in the formula.","body":"But it does not help the asker. You are hard-coding the number in the formula."},{"owner":{"account_id":2731251,"reputation":49,"user_id":2354999,"display_name":"bugsbuRny"},"score":0,"creation_date":1678809871,"post_id":75735208,"comment_id":133603722,"body_markdown":"@Emm\nTry this\n        BigDecimal bigd = new BigDecimal(16.27515, MathContext.DECIMAL32);\n        System.out.println(bigd.setScale(2, RoundingMode.HALF_EVEN ).doubleValue());\n\nChanging the RoundingMode will give you the liberty to decide about the rounding type.","body":"@Emm Try this         BigDecimal bigd = new BigDecimal(16.27515, MathContext.DECIMAL32);         System.out.println(bigd.setScale(2, RoundingMode.HALF_EVEN ).doubleValue());  Changing the RoundingMode will give you the liberty to decide about the rounding type."}],"owner":{"account_id":28015734,"reputation":11,"user_id":21397545,"display_name":"Emm"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678808298,"answer_count":0,"score":0,"last_activity_date":1678807983,"creation_date":1678807837,"question_id":75735208,"body_markdown":"I am trying to round 16.275 to 2 decimal places in Java using Math.round(). It should be 16.28, but it keeps printing 16.27.\r\n\r\n\r\n```\r\ndouble x = 16.275; \r\nx = Math.round(x*100.0)/100.0;\r\nSystem.out.println(x);\r\n```\r\n\r\nCould someone explain what I need to change to get 16.28? Thank you!","title":"Why is Math.round() for Java not working for 16.275?","body":"<p>I am trying to round 16.275 to 2 decimal places in Java using Math.round(). It should be 16.28, but it keeps printing 16.27.</p>\n<pre><code>double x = 16.275; \nx = Math.round(x*100.0)/100.0;\nSystem.out.println(x);\n</code></pre>\n<p>Could someone explain what I need to change to get 16.28? Thank you!</p>\n"},{"tags":["java","algorithm","integer-overflow"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1678777404,"post_id":75729930,"comment_id":133594450,"body_markdown":"Provide example values. Keep in mind that a `long` data type can only hold a minimum value of `-9223372036854775808` (Long.MIN_VALUE) and a maximum value of `9223372036854775807` (Long.MAX_VALUE).","body":"Provide example values. Keep in mind that a <code>long</code> data type can only hold a minimum value of <code>-9223372036854775808</code> (Long.MIN_VALUE) and a maximum value of <code>9223372036854775807</code> (Long.MAX_VALUE)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678780946,"post_id":75729930,"comment_id":133595235,"body_markdown":"If you know the sum will not overflow, what happens if you just add the numbers, ignoring any overflow?","body":"If you know the sum will not overflow, what happens if you just add the numbers, ignoring any overflow?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1678783949,"post_id":75729930,"comment_id":133595946,"body_markdown":"You don&#39;t need to sort positive values and negative values. You just need to [partition the array](https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme) using 0 as the pivot. Then you need two indexes into the array, one for positive values, and the other for negative values. When the sum is positive, add a negative value. When the sum is negative, add a positive value. When you run out of either positive or negative values, you can safely add the rest of the unused values.","body":"You don&#39;t need to sort positive values and negative values. You just need to <a href=\"https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme\" rel=\"nofollow noreferrer\">partition the array</a> using 0 as the pivot. Then you need two indexes into the array, one for positive values, and the other for negative values. When the sum is positive, add a negative value. When the sum is negative, add a positive value. When you run out of either positive or negative values, you can safely add the rest of the unused values."}],"answers":[{"tags":[],"owner":{"account_id":10617434,"reputation":51,"user_id":7819448,"display_name":"Pratyush Choudhary"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678777238,"creation_date":1678777238,"answer_id":75729948,"question_id":75729930,"body_markdown":"You could try sorting them first. Then add the first and last elements, 2nd and 2nd last elements, and so on., and get a sum of those numbers. ","title":"How to sum all long values without using BigInteger and overflow?","body":"<p>You could try sorting them first. Then add the first and last elements, 2nd and 2nd last elements, and so on., and get a sum of those numbers.</p>\n"},{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678781554,"creation_date":1678781554,"answer_id":75730509,"question_id":75729930,"body_markdown":"Since this is in Java, integer overflow has good mathematical properties, in particular: evaluating a sum with a `BigInteger` accumulator and then taking the lowest 64 bits of the result (ie converting it to a `long`), has the same result as working with a `long` the entire time, even if the sum sometimes overflows. That&#39;s a standard result from modular arithmetic.\r\n\r\nThat means that while you need to be careful to ensure that the result fits in a `long`, you already know that it will, so you can just let the sum overflow and you will still get the right result.","title":"How to sum all long values without using BigInteger and overflow?","body":"<p>Since this is in Java, integer overflow has good mathematical properties, in particular: evaluating a sum with a <code>BigInteger</code> accumulator and then taking the lowest 64 bits of the result (ie converting it to a <code>long</code>), has the same result as working with a <code>long</code> the entire time, even if the sum sometimes overflows. That's a standard result from modular arithmetic.</p>\n<p>That means that while you need to be careful to ensure that the result fits in a <code>long</code>, you already know that it will, so you can just let the sum overflow and you will still get the right result.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1678807590,"creation_date":1678806508,"answer_id":75734955,"question_id":75729930,"body_markdown":"As stated in [Harold&#39;s](https://stackoverflow.com/users/555045/harold) answer [here](https://stackoverflow.com/a/75730509/1552534), the order of summing won&#39;t matter as long as the final sum fits in the designated type.\r\n\r\nThe following list of `ints` would certainly overflow at some point during the `int` summing process but the final sum would still fit in an int.   The long sum would clearly fit in a long with no overflow during the summing process.  But no matter how they are shuffled, the two sums are always the same.\r\n```\r\nList&lt;Integer&gt; listInt = new ArrayList&lt;&gt;(\r\n        List.of(Integer.MAX_VALUE / 2, Integer.MAX_VALUE / 2,\r\n                Integer.MAX_VALUE / 4, Integer.MIN_VALUE / 3,\r\n                Integer.MIN_VALUE / 3, Integer.MIN_VALUE / 3));\r\n\r\nfor (int i = 0; i &lt; 10000; i++) {\r\n    int intSum = listInt.stream().mapToInt(Integer::intValue).sum();\r\n    long longSum =listInt.stream().mapToLong(Long::valueOf).sum();\r\n    if(intSum != longSum) {\r\n        System.out.println(&quot;Problems with overflow.&quot;);\r\n    }\r\n    Collections.shuffle(listInt);\r\n}","title":"How to sum all long values without using BigInteger and overflow?","body":"<p>As stated in <a href=\"https://stackoverflow.com/users/555045/harold\">Harold's</a> answer <a href=\"https://stackoverflow.com/a/75730509/1552534\">here</a>, the order of summing won't matter as long as the final sum fits in the designated type.</p>\n<p>The following list of <code>ints</code> would certainly overflow at some point during the <code>int</code> summing process but the final sum would still fit in an int.   The long sum would clearly fit in a long with no overflow during the summing process.  But no matter how they are shuffled, the two sums are always the same.</p>\n<pre><code>List&lt;Integer&gt; listInt = new ArrayList&lt;&gt;(\n        List.of(Integer.MAX_VALUE / 2, Integer.MAX_VALUE / 2,\n                Integer.MAX_VALUE / 4, Integer.MIN_VALUE / 3,\n                Integer.MIN_VALUE / 3, Integer.MIN_VALUE / 3));\n\nfor (int i = 0; i &lt; 10000; i++) {\n    int intSum = listInt.stream().mapToInt(Integer::intValue).sum();\n    long longSum =listInt.stream().mapToLong(Long::valueOf).sum();\n    if(intSum != longSum) {\n        System.out.println(&quot;Problems with overflow.&quot;);\n    }\n    Collections.shuffle(listInt);\n}\n</code></pre>\n"}],"owner":{"account_id":13380970,"reputation":25,"user_id":9656247,"display_name":"Jason Hapyer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75730509,"answer_count":3,"score":1,"last_activity_date":1678807590,"creation_date":1678777047,"question_id":75729930,"body_markdown":"There are many long values, some are positive and some are negative, position and negative values exist at the same time and i have already know the sum of them will never orverflow.\r\n\r\nHow can i sum them without using BigInteger and get the right result?\r\n\r\nI have tried to add a positve value and then a negative value so that each sum will not overflow.\r\nBut I will have to sort positive value and negative values into two groups, so I don&#39;t think it is a good solution, what if all the values are generated by a source like EventSourcing?\r\n\r\n","title":"How to sum all long values without using BigInteger and overflow?","body":"<p>There are many long values, some are positive and some are negative, position and negative values exist at the same time and i have already know the sum of them will never orverflow.</p>\n<p>How can i sum them without using BigInteger and get the right result?</p>\n<p>I have tried to add a positve value and then a negative value so that each sum will not overflow.\nBut I will have to sort positive value and negative values into two groups, so I don't think it is a good solution, what if all the values are generated by a source like EventSourcing?</p>\n"},{"tags":["java","flutter","android-studio"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1678811060,"post_id":75735166,"comment_id":133604111,"body_markdown":"Try `javac -version`, `java` is your JRE (the runtime environment, not what compiles the code). Further, you should post your gradle file and ensure it is targetting at least JDK 11.","body":"Try <code>javac -version</code>, <code>java</code> is your JRE (the runtime environment, not what compiles the code). Further, you should post your gradle file and ensure it is targetting at least JDK 11."}],"owner":{"account_id":18645536,"reputation":33,"user_id":13590279,"display_name":"Ali Azizi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678807569,"creation_date":1678807569,"question_id":75735166,"body_markdown":"I have developed an application with Flutter. I had to update the gradle version to install the sqflite package. After that, when running the program, I get the following error\r\n\r\n```\r\n\r\nFailed to apply plugin &#39;com.android.internal.application&#39;.\r\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n     You can try some of the following options:\r\n       - changing the IDE settings.\r\n       - changing the JAVA_HOME environment variable.\r\n       - changing `org.gradle.java.home` in `gradle.properties`.\r\n```\r\njava -version result :\r\n```\r\njava version &quot;16.0.1&quot; 2021-04-20\r\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\r\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\r\n```\r\nbut when run flutter doctor\r\nJava version is 1.8 !!!\r\n\r\n\r\n```\r\nhecking Android licenses is taking an unexpectedly long time...[] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\r\n     Android SDK at /Users/aliazizi/Library/Android/sdk\r\n     Platform android-33, build-tools 30.0.3\r\n     Java binary at: /Users/aliazizi/Library/Application Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/201.7199119/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java\r\n     Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b3-6915495)\r\n     All Android licenses accepted.\r\n```\r\n\r\n[![my project structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MknpN.png","title":"how change java version","body":"<p>I have developed an application with Flutter. I had to update the gradle version to install the sqflite package. After that, when running the program, I get the following error</p>\n<pre><code>\nFailed to apply plugin 'com.android.internal.application'.\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n     You can try some of the following options:\n       - changing the IDE settings.\n       - changing the JAVA_HOME environment variable.\n       - changing `org.gradle.java.home` in `gradle.properties`.\n</code></pre>\n<p>java -version result :</p>\n<pre><code>java version &quot;16.0.1&quot; 2021-04-20\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\n</code></pre>\n<p>but when run flutter doctor\nJava version is 1.8 !!!</p>\n<pre><code>hecking Android licenses is taking an unexpectedly long time...[] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\n     Android SDK at /Users/aliazizi/Library/Android/sdk\n     Platform android-33, build-tools 30.0.3\n     Java binary at: /Users/aliazizi/Library/Application Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/201.7199119/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java\n     Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b3-6915495)\n     All Android licenses accepted.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MknpN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MknpN.png\" alt=\"my project structure\" /></a></p>\n"},{"tags":["java","ssl","microservices","self-contained"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1633513246,"post_id":69459614,"comment_id":122777237,"body_markdown":"You didn&#39;t get the .pem file from GoDaddy, surely? In the beginning you must have had a private key, which you didn&#39;t get from GoDaddy, and didn&#39;t send to them. Show *all* the steps.","body":"You didn&#39;t get the .pem file from GoDaddy, surely? In the beginning you must have had a private key, which you didn&#39;t get from GoDaddy, and didn&#39;t send to them. Show <i>all</i> the steps."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678807506,"creation_date":1633501945,"answer_id":69460864,"question_id":69459614,"body_markdown":"**Convert to PKC12/P12**\r\n\r\nIf the `my-file.pem` file is your private key (check the first line is 5 hyphens, BEGIN, optionally a word like RSA EC or ENCRYPTED, PRIVATE KEY, and 5 hyphens) then start with\r\n\r\n    openssl pkcs12 -export -in my-file.crt -inkey my-file.pem -certfile bundle-g2-g1.crt -out my.p12\r\n\r\nIf the `my-file.key` file is your private key, the run the command below:\r\n\r\n    openssl pkcs12 -export -in my-file.crt -inkey my-file.key -certfile bundle-g2-g1.crt -out my-file.p12\r\n\r\n**Note**:\r\n\r\nYou will be required to enter a password which you will need to save as it will be required by the application that wants to use the certificate.\r\n\r\n**Convert to JKS**\r\n\r\nNearly all java programs since 2018 can actually use a PKCS12 instead of JKS for a keystore, but if this code really does need a JKS then do\r\n\r\n    keytool -importkeystore -srckeystore my-file.p12 -destkeystore my-file.jks -deststoretype jks \r\n    # if using very old Java (below 8u40 or so) add -srcstoretype pkcs12\r\n\r\n**Re-convert to PKCS12 from JKS**\r\n\r\nThe JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using:\r\n\r\n    keytool -importkeystore -srckeystore my-file.jks -destkeystore my-file.p12 -deststoretype pkcs12\r\n\r\nMostly dupe (but somewhat updated from)  \r\nhttps://stackoverflow.com/questions/59179664/combined-pem-certificate-to-truststore-keystore-jsk  \r\nhttps://stackoverflow.com/questions/22296312/convert-certificate-from-pem-into-jks  \r\nhttps://stackoverflow.com/questions/51032763/how-do-i-generate-x-509-certificate-from-key-generated-by-openssl and more linked there  \r\nhttps://serverfault.com/questions/483465/import-of-pem-certificate-chain-and-key-to-java-keystore ","title":"How to create Java JKS file from GoDaddy SSL certificate","body":"<p><strong>Convert to PKC12/P12</strong></p>\n<p>If the <code>my-file.pem</code> file is your private key (check the first line is 5 hyphens, BEGIN, optionally a word like RSA EC or ENCRYPTED, PRIVATE KEY, and 5 hyphens) then start with</p>\n<pre><code>openssl pkcs12 -export -in my-file.crt -inkey my-file.pem -certfile bundle-g2-g1.crt -out my.p12\n</code></pre>\n<p>If the <code>my-file.key</code> file is your private key, the run the command below:</p>\n<pre><code>openssl pkcs12 -export -in my-file.crt -inkey my-file.key -certfile bundle-g2-g1.crt -out my-file.p12\n</code></pre>\n<p><strong>Note</strong>:</p>\n<p>You will be required to enter a password which you will need to save as it will be required by the application that wants to use the certificate.</p>\n<p><strong>Convert to JKS</strong></p>\n<p>Nearly all java programs since 2018 can actually use a PKCS12 instead of JKS for a keystore, but if this code really does need a JKS then do</p>\n<pre><code>keytool -importkeystore -srckeystore my-file.p12 -destkeystore my-file.jks -deststoretype jks \n# if using very old Java (below 8u40 or so) add -srcstoretype pkcs12\n</code></pre>\n<p><strong>Re-convert to PKCS12 from JKS</strong></p>\n<p>The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using:</p>\n<pre><code>keytool -importkeystore -srckeystore my-file.jks -destkeystore my-file.p12 -deststoretype pkcs12\n</code></pre>\n<p>Mostly dupe (but somewhat updated from)<br />\n<a href=\"https://stackoverflow.com/questions/59179664/combined-pem-certificate-to-truststore-keystore-jsk\">Combined .pem certificate to truststore/keystore.jsk</a><br />\n<a href=\"https://stackoverflow.com/questions/22296312/convert-certificate-from-pem-into-jks\">How to convert certificate from PEM to JKS?</a><br />\n<a href=\"https://stackoverflow.com/questions/51032763/how-do-i-generate-x-509-certificate-from-key-generated-by-openssl\">How do I generate X.509 certificate from key generated by openssl</a> and more linked there<br />\n<a href=\"https://serverfault.com/questions/483465/import-of-pem-certificate-chain-and-key-to-java-keystore\">https://serverfault.com/questions/483465/import-of-pem-certificate-chain-and-key-to-java-keystore</a></p>\n"}],"owner":{"account_id":2586262,"reputation":333,"user_id":2241906,"display_name":"RDV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69460864,"answer_count":1,"score":1,"last_activity_date":1678807506,"creation_date":1633492230,"question_id":69459614,"body_markdown":"I bought an SSL certificate in GoDaddy. I need to use it to start my Spark Java self-contained server through a secure connection. According to the documentation in http://sparkjava.com/documentation#examples-and-faq, I need to do the following:\r\n\r\n```\r\nString keyStoreLocation = &quot;deploy/keystore.jks&quot;;\r\nString keyStorePassword = &quot;password&quot;;\r\nsecure(keyStoreLocation, keyStorePassword, null, null);\r\n```\r\n\r\nBut when I download the certificate from GoDaddy I got the files:\r\n```\r\n11111.pem\r\n11111.crt\r\nbundle-g2-g1.crt\r\n```\r\n\r\nWhat do I need to do to convert these files is something compatible to use as the first parameter of  `secure(keyStoreLocation, keyStorePassword, null, null);`?","title":"How to create Java JKS file from GoDaddy SSL certificate","body":"<p>I bought an SSL certificate in GoDaddy. I need to use it to start my Spark Java self-contained server through a secure connection. According to the documentation in <a href=\"http://sparkjava.com/documentation#examples-and-faq\" rel=\"nofollow noreferrer\">http://sparkjava.com/documentation#examples-and-faq</a>, I need to do the following:</p>\n<pre><code>String keyStoreLocation = &quot;deploy/keystore.jks&quot;;\nString keyStorePassword = &quot;password&quot;;\nsecure(keyStoreLocation, keyStorePassword, null, null);\n</code></pre>\n<p>But when I download the certificate from GoDaddy I got the files:</p>\n<pre><code>11111.pem\n11111.crt\nbundle-g2-g1.crt\n</code></pre>\n<p>What do I need to do to convert these files is something compatible to use as the first parameter of  <code>secure(keyStoreLocation, keyStorePassword, null, null);</code>?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1612892725,"post_id":66124151,"comment_id":116905801,"body_markdown":"Why use `System.in`? Why not [`new Scanner(insert)`](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#Scanner-java.io.InputStream-)? Or even `new Scanner(input)`?","body":"Why use <code>System.in</code>? Why not <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#Scanner-java.io.InputStream-\" rel=\"nofollow noreferrer\"><code>new Scanner(insert)</code></a>? Or even <code>new Scanner(input)</code>?"},{"owner":{"account_id":19400144,"reputation":21,"user_id":14186893,"display_name":"SultanSalam"},"score":0,"creation_date":1612893269,"post_id":66124151,"comment_id":116906075,"body_markdown":"I edited the code to clarify. insert and input variables are in Junit while Scanner is in the method called by the Junit. The method does not contain inputs for such variables","body":"I edited the code to clarify. insert and input variables are in Junit while Scanner is in the method called by the Junit. The method does not contain inputs for such variables"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1612893383,"post_id":66124151,"comment_id":116906121,"body_markdown":"&quot;The method does not contain inputs for such variables&quot; can you add inputs so you can inject the dependency? This would be much more amenable to testing.","body":"&quot;The method does not contain inputs for such variables&quot; can you add inputs so you can inject the dependency? This would be much more amenable to testing."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1612893846,"post_id":66124151,"comment_id":116906350,"body_markdown":"Consider abstracting out system.in from your code in order to make it easier to test.","body":"Consider abstracting out system.in from your code in order to make it easier to test."}],"answers":[{"tags":[],"owner":{"account_id":20634253,"reputation":588,"user_id":15148356,"display_name":"Erik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612902271,"creation_date":1612902271,"answer_id":66126564,"question_id":66124151,"body_markdown":"Here is a simple illustration. In the `add()` method, instead of `Scanner = new Scanner(System.in));` you can delegate to a simple factory method that can be overridden in the test.  Similarly, the output side abstracts away `System.out`:\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import java.util.Scanner;\r\n\r\n    public class ScanTest {\r\n\r\n      static class Calculator {\r\n        Scanner createScanner() {\r\n          return new Scanner(System.in);\r\n        }\r\n        public void add() {\r\n          Scanner scanner = createScanner();\r\n          int sum = 0;\r\n          while (scanner.hasNextLine()) {\r\n            String s = scanner.nextLine();\r\n            sum += Integer.parseInt(s);\r\n          }\r\n          print(String.valueOf(sum));\r\n        }\r\n        void print(String s) {\r\n          System.out.println(s);\r\n        }\r\n      }\r\n      @Test\r\n      public void testSum() {\r\n        String input = &quot;1\\n2\\n3\\n&quot;;\r\n        Scanner scanner123 = new Scanner(input);\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        Calculator calc = new Calculator() {\r\n          @Override Scanner createScanner() {\r\n            return scanner123;\r\n          }\r\n          @Override void print(String s) {\r\n            result.append(s);\r\n          }\r\n        };\r\n        calc.add();\r\n\r\n        Assert.assertEquals(&quot;6&quot;, result.toString());\r\n      }\r\n    }\r\n ","title":"How to System.In multiple lines in Java?","body":"<p>Here is a simple illustration. In the <code>add()</code> method, instead of <code>Scanner = new Scanner(System.in));</code> you can delegate to a simple factory method that can be overridden in the test.  Similarly, the output side abstracts away <code>System.out</code>:</p>\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\nimport java.util.Scanner;\n\npublic class ScanTest {\n\n  static class Calculator {\n    Scanner createScanner() {\n      return new Scanner(System.in);\n    }\n    public void add() {\n      Scanner scanner = createScanner();\n      int sum = 0;\n      while (scanner.hasNextLine()) {\n        String s = scanner.nextLine();\n        sum += Integer.parseInt(s);\n      }\n      print(String.valueOf(sum));\n    }\n    void print(String s) {\n      System.out.println(s);\n    }\n  }\n  @Test\n  public void testSum() {\n    String input = &quot;1\\n2\\n3\\n&quot;;\n    Scanner scanner123 = new Scanner(input);\n    StringBuilder result = new StringBuilder();\n\n    Calculator calc = new Calculator() {\n      @Override Scanner createScanner() {\n        return scanner123;\n      }\n      @Override void print(String s) {\n        result.append(s);\n      }\n    };\n    calc.add();\n\n    Assert.assertEquals(&quot;6&quot;, result.toString());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612903834,"creation_date":1612903834,"answer_id":66126934,"question_id":66124151,"body_markdown":"First you need to decide what it is you&#39;re testing.\r\n\r\nAre you testing whatever logic is using the input string, or are you testing the logic that prompts the user for that string.\r\n\r\nIf you answer &quot;both&quot;, then be aware that those are two different areas-of-responsibility, that should be tested separately, so if one fails it doesn&#39;t affect the testing status of the other.\r\n\r\n*Example Code Structure*\r\n\r\n```lang-java\r\nstatic String promptUserForInput(Scanner in) {\r\n    // logic here\r\n}\r\n\r\nstatic void doSomething(String input) {\r\n    // logic here\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n    String input = promptUserForInput(in);\r\n    doSomething(input);\r\n}\r\n```\r\n\r\nWith that, you can now **unit** test each of the two pieces of logic separately.\r\n\r\nThis is referred to as [Separation-of-Concerns][1] (SoC).\r\n\r\nThe `main` method doesn&#39;t get unit tested.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Separation_of_concerns","title":"How to System.In multiple lines in Java?","body":"<p>First you need to decide what it is you're testing.</p>\n<p>Are you testing whatever logic is using the input string, or are you testing the logic that prompts the user for that string.</p>\n<p>If you answer &quot;both&quot;, then be aware that those are two different areas-of-responsibility, that should be tested separately, so if one fails it doesn't affect the testing status of the other.</p>\n<p><em>Example Code Structure</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>static String promptUserForInput(Scanner in) {\n    // logic here\n}\n\nstatic void doSomething(String input) {\n    // logic here\n}\n\npublic static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    String input = promptUserForInput(in);\n    doSomething(input);\n}\n</code></pre>\n<p>With that, you can now <strong>unit</strong> test each of the two pieces of logic separately.</p>\n<p>This is referred to as <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">Separation-of-Concerns</a> (SoC).</p>\n<p>The <code>main</code> method doesn't get unit tested.</p>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612906935,"creation_date":1612906935,"answer_id":66127606,"question_id":66124151,"body_markdown":"You can use [System Lambda](https://github.com/stefanbirkner/system-lambda) for your test:\r\n\r\n```java\r\n@Test\r\nvoid Scanner_reads_text_from_System_in(\r\n) throws Exception {\r\n  withTextFromSystemIn(\r\n    &quot;GME to the MOON&quot;,\r\n    &quot;GME to the MOOON&quot;,\r\n    &quot;GME to the MOOOON&quot;\r\n  ).execute(() -&gt; {\r\n      Scanner scanner = new Scanner(System.in);\r\n      assertEquals(&quot;GME to the MOON&quot;, scanner.nextLine());\r\n      assertEquals(&quot;GME to the MOOON&quot;, scanner.nextLine());\r\n      assertEquals(&quot;GME to the MOOOON&quot;, scanner.nextLine());\r\n    });\r\n}\r\n```\r\n\r\nDisclaimer: I&#39;m the author of System Lambda.","title":"How to System.In multiple lines in Java?","body":"<p>You can use <a href=\"https://github.com/stefanbirkner/system-lambda\" rel=\"nofollow noreferrer\">System Lambda</a> for your test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid Scanner_reads_text_from_System_in(\n) throws Exception {\n  withTextFromSystemIn(\n    &quot;GME to the MOON&quot;,\n    &quot;GME to the MOOON&quot;,\n    &quot;GME to the MOOOON&quot;\n  ).execute(() -&gt; {\n      Scanner scanner = new Scanner(System.in);\n      assertEquals(&quot;GME to the MOON&quot;, scanner.nextLine());\n      assertEquals(&quot;GME to the MOOON&quot;, scanner.nextLine());\n      assertEquals(&quot;GME to the MOOOON&quot;, scanner.nextLine());\n    });\n}\n</code></pre>\n<p>Disclaimer: I'm the author of System Lambda.</p>\n"},{"tags":[],"owner":{"account_id":2744961,"reputation":41,"user_id":8317677,"display_name":"Tonny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654856557,"creation_date":1654856557,"answer_id":72572712,"question_id":66124151,"body_markdown":"\r\nI found a simple method:\r\n\r\n1. Add function code\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class SimpleProgram004 {\r\n    public static void main(String[] args) {\r\n        try{\r\n            String c;\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n            do{\r\n                c = in.readLine();\r\n                System.out.println(c);\r\n                String d = c;\r\n            }while(!c.equals(&quot;q&quot;));\r\n        }catch(Exception e){\r\n            System.out.println(&quot;catch Exception&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n2. Add test code\r\n```\r\nimport static org.junit.Assert.*;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.InputStream;\r\nimport java.io.PrintStream;\r\n\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\n/**\r\n * Unit test for simple App. JUnit 4.x.\r\n */\r\npublic class SimpleProgram004Test {\r\n    private final InputStream systemIn = System.in;\r\n    private final PrintStream systemOut = System.out;\r\n\r\n    private ByteArrayInputStream testIn;\r\n    private ByteArrayOutputStream testOut;\r\n\r\n    @Before\r\n    public void setUpOutput() {\r\n        testOut = new ByteArrayOutputStream();\r\n        System.setOut(new PrintStream(testOut));\r\n    }\r\n\r\n    private void setInput(String data) {\r\n        testIn = new ByteArrayInputStream(data.getBytes());\r\n        System.setIn(testIn);\r\n    }\r\n\r\n    private String getOutput() {\r\n        return testOut.toString();\r\n    }\r\n\r\n    @After\r\n    public void restoreSystemInputOutput() {\r\n        System.setIn(systemIn);\r\n        System.setOut(systemOut);\r\n    }\r\n\r\n    @Test // Multiply inputs\r\n    public void testCase1() {\r\n        final String testString = &quot;Hello 1\\nq\\n&quot;;\r\n        setInput(testString);\r\n\r\n        SimpleProgram004.main(new String[0]);\r\n        // String a = getOutput();\r\n        assertEquals(&quot;Hello 1\\r\\nq\\r\\n&quot;, getOutput());\r\n    }\r\n\r\n    @Test // Multiply inputs\r\n    public void testCase2() {\r\n        final String testString = &quot;Hello 1\\nHello 2\\nq\\nHello 3\\n&quot;;\r\n        setInput(testString);\r\n\r\n        SimpleProgram004.main(new String[0]);\r\n        String a = getOutput();\r\n        assertEquals(&quot;Hello 1\\r\\nHello 2\\r\\nq\\r\\n&quot;, getOutput());\r\n    }\r\n\r\n}\r\n```","title":"How to System.In multiple lines in Java?","body":"<p>I found a simple method:</p>\n<ol>\n<li>Add function code</li>\n</ol>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class SimpleProgram004 {\n    public static void main(String[] args) {\n        try{\n            String c;\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n            do{\n                c = in.readLine();\n                System.out.println(c);\n                String d = c;\n            }while(!c.equals(&quot;q&quot;));\n        }catch(Exception e){\n            System.out.println(&quot;catch Exception&quot;);\n        }\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Add test code</li>\n</ol>\n<pre><code>import static org.junit.Assert.*;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.InputStream;\nimport java.io.PrintStream;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\n\n/**\n * Unit test for simple App. JUnit 4.x.\n */\npublic class SimpleProgram004Test {\n    private final InputStream systemIn = System.in;\n    private final PrintStream systemOut = System.out;\n\n    private ByteArrayInputStream testIn;\n    private ByteArrayOutputStream testOut;\n\n    @Before\n    public void setUpOutput() {\n        testOut = new ByteArrayOutputStream();\n        System.setOut(new PrintStream(testOut));\n    }\n\n    private void setInput(String data) {\n        testIn = new ByteArrayInputStream(data.getBytes());\n        System.setIn(testIn);\n    }\n\n    private String getOutput() {\n        return testOut.toString();\n    }\n\n    @After\n    public void restoreSystemInputOutput() {\n        System.setIn(systemIn);\n        System.setOut(systemOut);\n    }\n\n    @Test // Multiply inputs\n    public void testCase1() {\n        final String testString = &quot;Hello 1\\nq\\n&quot;;\n        setInput(testString);\n\n        SimpleProgram004.main(new String[0]);\n        // String a = getOutput();\n        assertEquals(&quot;Hello 1\\r\\nq\\r\\n&quot;, getOutput());\n    }\n\n    @Test // Multiply inputs\n    public void testCase2() {\n        final String testString = &quot;Hello 1\\nHello 2\\nq\\nHello 3\\n&quot;;\n        setInput(testString);\n\n        SimpleProgram004.main(new String[0]);\n        String a = getOutput();\n        assertEquals(&quot;Hello 1\\r\\nHello 2\\r\\nq\\r\\n&quot;, getOutput());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4413602,"reputation":23,"user_id":3595831,"display_name":"user3595831"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668265784,"creation_date":1668265784,"answer_id":74414074,"question_id":66124151,"body_markdown":"You can just simply add multiple lines \r\n\r\n    //JUnit code\r\n    String input = &quot;GME to the MOOON\\nSecond line\\nThird&quot;;\r\n    InputStream insert = new ByteArrayInputStream(input.getBytes());\r\n    System.setIn(insert);\r\n    \r\n    //Method called in test method\r\n    Scanner scannerObj = new Scanner(System.in);\r\n    String myString = scannerObj.nextLine();","title":"How to System.In multiple lines in Java?","body":"<p>You can just simply add multiple lines</p>\n<pre><code>//JUnit code\nString input = &quot;GME to the MOOON\\nSecond line\\nThird&quot;;\nInputStream insert = new ByteArrayInputStream(input.getBytes());\nSystem.setIn(insert);\n\n//Method called in test method\nScanner scannerObj = new Scanner(System.in);\nString myString = scannerObj.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678807328,"creation_date":1678807328,"answer_id":75735119,"question_id":66124151,"body_markdown":"My advice is keep it simple, reuse one Scanner if possible. E.g. \r\n\r\n    import java.io.ByteArrayInputStream; \r\n    import java.util.Scanner;\r\n    \r\n    public class Mock_SystemIn_POJ { \r\n    \r\n      public static Scanner sc;\r\n    \r\n      public String getUser() { \r\n        System.out.print(&quot;Enter Username: &quot;); \r\n        System.out.flush(); \r\n          /// Make sure that username contains only a-Z, -, _ \r\n        while (!this.sc.hasNext(&quot;[[a-zA-Z0-9][\\n|\\r|\\r\\n|_|-|@|.]]+&quot;)) { \r\n            System.out.println(&quot; *** Invalid input. (Valid usernames contain only alphanumeric, @, ., - or _)&quot;);\r\n          System.out.print(&quot;Enter Username: &quot;); \r\n          System.out.flush(); \r\n          this.sc.next(); \r\n       }\r\n        return this.sc.next();   \t    \r\n       }\r\n    \r\n      public static void main(String[] args) {\r\n      Mock_SystemIn_POJ mspoj = new Mock_SystemIn_POJ();   \r\n      String inputVals = &quot;Valiant\\r\\nFury&quot;;  \r\n      try { \r\n        System.setIn(new ByteArrayInputStream(inputVals.getBytes()));\r\n        mspoj.sc = new Scanner(System.in); // has to be grabbed after  \r\n        System.out.println(mspoj.getUser());// outputs Enter Username: Valiant\r\n        System.out.println(mspoj.getUser());// outputs Enter Username: Fury\r\n    \t  } catch(Exception e) { e.printStackTrace(); } \r\n    } \r\n    }\r\n\r\nWhen you run this, you should get: \r\n\r\n    $&gt; java MockSystemIn_POJ \r\n    Enter Username: Valiant\r\n    Enter Username: Fury ","title":"How to System.In multiple lines in Java?","body":"<p>My advice is keep it simple, reuse one Scanner if possible. E.g.</p>\n<pre><code>import java.io.ByteArrayInputStream; \nimport java.util.Scanner;\n\npublic class Mock_SystemIn_POJ { \n\n  public static Scanner sc;\n\n  public String getUser() { \n    System.out.print(&quot;Enter Username: &quot;); \n    System.out.flush(); \n      /// Make sure that username contains only a-Z, -, _ \n    while (!this.sc.hasNext(&quot;[[a-zA-Z0-9][\\n|\\r|\\r\\n|_|-|@|.]]+&quot;)) { \n        System.out.println(&quot; *** Invalid input. (Valid usernames contain only alphanumeric, @, ., - or _)&quot;);\n      System.out.print(&quot;Enter Username: &quot;); \n      System.out.flush(); \n      this.sc.next(); \n   }\n    return this.sc.next();          \n   }\n\n  public static void main(String[] args) {\n  Mock_SystemIn_POJ mspoj = new Mock_SystemIn_POJ();   \n  String inputVals = &quot;Valiant\\r\\nFury&quot;;  \n  try { \n    System.setIn(new ByteArrayInputStream(inputVals.getBytes()));\n    mspoj.sc = new Scanner(System.in); // has to be grabbed after  \n    System.out.println(mspoj.getUser());// outputs Enter Username: Valiant\n    System.out.println(mspoj.getUser());// outputs Enter Username: Fury\n      } catch(Exception e) { e.printStackTrace(); } \n} \n}\n</code></pre>\n<p>When you run this, you should get:</p>\n<pre><code>$&gt; java MockSystemIn_POJ \nEnter Username: Valiant\nEnter Username: Fury \n</code></pre>\n"}],"owner":{"account_id":19400144,"reputation":21,"user_id":14186893,"display_name":"SultanSalam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1678807328,"creation_date":1612892429,"question_id":66124151,"body_markdown":"I want to System.In multiple lines of text since I use the .nextLine() method. I would copy paste the first 3 lines after every call of .nextLine() but I don&#39;t want to return to my JUnit every time. Is it possible?\r\n\r\n    //JUnit code\r\n    String input = &quot;GME to the MOOON&quot;;\r\n    InputStream insert = new ByteArrayInputStream(input.getBytes());\r\n    System.setIn(insert);\r\n    \r\n    //Method called in test method\r\n    Scanner scannerObj = new Scanner(System.in);\r\n    String myString = scannerObj.nextLine();\r\n\r\n","title":"How to System.In multiple lines in Java?","body":"<p>I want to System.In multiple lines of text since I use the .nextLine() method. I would copy paste the first 3 lines after every call of .nextLine() but I don't want to return to my JUnit every time. Is it possible?</p>\n<pre><code>//JUnit code\nString input = &quot;GME to the MOOON&quot;;\nInputStream insert = new ByteArrayInputStream(input.getBytes());\nSystem.setIn(insert);\n\n//Method called in test method\nScanner scannerObj = new Scanner(System.in);\nString myString = scannerObj.nextLine();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","http-request-parameters"],"comments":[{"owner":{"account_id":22253460,"reputation":33,"user_id":16485967,"display_name":"Umang Kamdar"},"score":0,"creation_date":1634989944,"post_id":69687817,"comment_id":123178390,"body_markdown":"Could you please elaborate or give an example with the fields I have listed here.","body":"Could you please elaborate or give an example with the fields I have listed here."},{"owner":{"account_id":5876312,"reputation":961,"user_id":4627040,"display_name":"Saeed Hassanvand"},"score":0,"creation_date":1634990308,"post_id":69687817,"comment_id":123178460,"body_markdown":"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications","body":"<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":5876312,"reputation":961,"user_id":4627040,"display_name":"Saeed Hassanvand"},"score":1,"creation_date":1634991071,"post_id":69687817,"comment_id":123178613,"body_markdown":"Does this answer your question? [Filtering database rows with spring-data-jpa and spring-mvc](https://stackoverflow.com/questions/20280708/filtering-database-rows-with-spring-data-jpa-and-spring-mvc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20280708/filtering-database-rows-with-spring-data-jpa-and-spring-mvc\">Filtering database rows with spring-data-jpa and spring-mvc</a>"},{"owner":{"account_id":22253460,"reputation":33,"user_id":16485967,"display_name":"Umang Kamdar"},"score":0,"creation_date":1634991132,"post_id":69687817,"comment_id":123178624,"body_markdown":"Sorry,  but a newbie here! Can&#39;t get what exactly needs to do.","body":"Sorry,  but a newbie here! Can&#39;t get what exactly needs to do."}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634995167,"creation_date":1634994356,"answer_id":69688440,"question_id":69687817,"body_markdown":"You should not write many condition and/or to call the function. It&#39;s hard to combine many condition. \r\n\r\nIn this case i often write the query which will append the condition if parameter is not null or if specify.\r\n\r\nHere is my way:\r\n\r\n    String query = &quot;select * from table where 1=1&quot;;\r\n    Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\r\n    if(filter1!=null){\r\n       query += &quot; and field1 = :filter1&quot;;\r\n       params.put(&quot;filter1&quot;,filter1);\r\n    }\r\n    if(filter2!=null){\r\n       query += &quot; and field2 = :filter2&quot;;\r\n       params.put(&quot;filter2&quot;,filter2);\r\n    }\r\n    dao.execute(query,params);\r\n\r\nThe condition null is not required, you can adapt it.\r\nIn case you don&#39;t want to have many arguments in your function.\r\nYou can create object/context/map to hold all filters.\r\n\r\nPS:\r\nI use String for readability, you should use StringBuilder. \r\n\r\nFor spring-jpa: \r\nExampleMatcher can do the same.\r\n \r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers\r\n\r\n\r\n","title":"How to have filtering of multiple parameters passed as RequestParams in Spring Data Jpa?","body":"<p>You should not write many condition and/or to call the function. It's hard to combine many condition.</p>\n<p>In this case i often write the query which will append the condition if parameter is not null or if specify.</p>\n<p>Here is my way:</p>\n<pre><code>String query = &quot;select * from table where 1=1&quot;;\nMap&lt;String,Object&gt; params = new HashMap&lt;&gt;();\nif(filter1!=null){\n   query += &quot; and field1 = :filter1&quot;;\n   params.put(&quot;filter1&quot;,filter1);\n}\nif(filter2!=null){\n   query += &quot; and field2 = :filter2&quot;;\n   params.put(&quot;filter2&quot;,filter2);\n}\ndao.execute(query,params);\n</code></pre>\n<p>The condition null is not required, you can adapt it.\nIn case you don't want to have many arguments in your function.\nYou can create object/context/map to hold all filters.</p>\n<p>PS:\nI use String for readability, you should use StringBuilder.</p>\n<p>For spring-jpa:\nExampleMatcher can do the same.</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers</a></p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678807292,"creation_date":1634995497,"answer_id":69688578,"question_id":69687817,"body_markdown":"What you are looking for is a multi criteria query. You can use the very simple [Example API][1]\r\n\r\nYou will create an entity with the builder pattern. Lombok can help you in this step :\r\n\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n        @Column(name = &quot;age&quot;)\r\n        private int age;\r\n        // your other fields\r\n    \r\n    }\r\n\r\n\r\nThen you can call your method :\r\n \r\n\r\n    Employee employee = Employee\r\n        .builder()\r\n        .name(nameValue)\r\n        .age(ageValue)\r\n        .build();\r\n    \r\n    return repository.findAll(Example.of(employee));\r\n\r\n \r\nYou will find a full example [here][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Example.html\r\n  [2]: https://dimitr.im/writing-dynamic-queries-with-spring-data-jpa","title":"How to have filtering of multiple parameters passed as RequestParams in Spring Data Jpa?","body":"<p>What you are looking for is a multi criteria query. You can use the very simple <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Example.html\" rel=\"nofollow noreferrer\">Example API</a></p>\n<p>You will create an entity with the builder pattern. Lombok can help you in this step :</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Column(name = &quot;age&quot;)\n    private int age;\n    // your other fields\n\n}\n</code></pre>\n<p>Then you can call your method :</p>\n<pre><code>Employee employee = Employee\n    .builder()\n    .name(nameValue)\n    .age(ageValue)\n    .build();\n\nreturn repository.findAll(Example.of(employee));\n</code></pre>\n<p>You will find a full example <a href=\"https://dimitr.im/writing-dynamic-queries-with-spring-data-jpa\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634995981,"creation_date":1634995676,"answer_id":69688608,"question_id":69687817,"body_markdown":"A solution is to have a single method, and make parameters &quot;optional&quot; by managing null values in the query :\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n       select a from YourEntity a where\r\n       (?1 is null or a.name = ?1)\r\n       and (?2 is null or a.age= ?2)\r\n       and (?3 is null or a.salary = ?3)\r\n       and (?4 is null or a.description = ?4)\r\n       and (?5 is null or a.joiningDate = ?5)\r\n       and (?6 is null or a.gender = ?6)\r\n       &quot;&quot;&quot;)\r\nList&lt;YourEntity&gt; findFiltered(String name, Integer age, Float salary, String designation, LocalDateTime joiningDate, String gender)\r\n```","title":"How to have filtering of multiple parameters passed as RequestParams in Spring Data Jpa?","body":"<p>A solution is to have a single method, and make parameters &quot;optional&quot; by managing null values in the query :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n       select a from YourEntity a where\n       (?1 is null or a.name = ?1)\n       and (?2 is null or a.age= ?2)\n       and (?3 is null or a.salary = ?3)\n       and (?4 is null or a.description = ?4)\n       and (?5 is null or a.joiningDate = ?5)\n       and (?6 is null or a.gender = ?6)\n       &quot;&quot;&quot;)\nList&lt;YourEntity&gt; findFiltered(String name, Integer age, Float salary, String designation, LocalDateTime joiningDate, String gender)\n</code></pre>\n"}],"owner":{"account_id":22253460,"reputation":33,"user_id":16485967,"display_name":"Umang Kamdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678807292,"creation_date":1634989378,"question_id":69687817,"body_markdown":"Suppose I have an `Employee` class with multiple fields like `name`, `age`, `salary`, `designation`, `joiningDate`, `gender` and many more. Now, how could I apply filtering with many such parameters? There could be many combinations possible in such cases. (For Eg. if I want to have 6 filters, then there can be total of 6! = 720 combinations possible!!!)\r\n\r\nFor only 2, 3 parameters, like `age`, `salary`, `name`; then I could write multiple if cases like:\r\n\r\n```\r\nif(age!=null &amp;&amp; name==null &amp;&amp; salary==null)\r\n{\r\n    findByAge\r\n}\r\nif(age==null &amp;&amp; name!=null &amp;&amp; salary==null)\r\n{\r\n    findByName\r\n}\r\nif(age!=null &amp;&amp; name!=null &amp;&amp; salary==null)\r\n{\r\n    findByAgeAndName\r\n}\r\n``` \r\netc. like these with help of Spring Data JPA. But how to handle more parameters since combinations would increase with each RequestParams?\r\n\r\n ","title":"How to have filtering of multiple parameters passed as RequestParams in Spring Data Jpa?","body":"<p>Suppose I have an <code>Employee</code> class with multiple fields like <code>name</code>, <code>age</code>, <code>salary</code>, <code>designation</code>, <code>joiningDate</code>, <code>gender</code> and many more. Now, how could I apply filtering with many such parameters? There could be many combinations possible in such cases. (For Eg. if I want to have 6 filters, then there can be total of 6! = 720 combinations possible!!!)</p>\n<p>For only 2, 3 parameters, like <code>age</code>, <code>salary</code>, <code>name</code>; then I could write multiple if cases like:</p>\n<pre><code>if(age!=null &amp;&amp; name==null &amp;&amp; salary==null)\n{\n    findByAge\n}\nif(age==null &amp;&amp; name!=null &amp;&amp; salary==null)\n{\n    findByName\n}\nif(age!=null &amp;&amp; name!=null &amp;&amp; salary==null)\n{\n    findByAgeAndName\n}\n</code></pre>\n<p>etc. like these with help of Spring Data JPA. But how to handle more parameters since combinations would increase with each RequestParams?</p>\n"},{"tags":["java","spring","spring-thymeleaf"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678775284,"post_id":75728779,"comment_id":133594059,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1678788330,"post_id":75728779,"comment_id":133597171,"body_markdown":"Don&#39;t use the username like this for anything security related. You shouldn&#39;t need to do this any way. The server should know the logged in user itself. There is no need to send the name to it.","body":"Don&#39;t use the username like this for anything security related. You shouldn&#39;t need to do this any way. The server should know the logged in user itself. There is no need to send the name to it."}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678807274,"creation_date":1678777506,"answer_id":75729986,"question_id":75728779,"body_markdown":"You can achieve it with &lt;br/&gt;&lt;br/&gt; ```&lt;form th:action=&quot;@{/hello/{id}/(id=${#authentication.getName()})}&quot;&gt;```\r\n&lt;br/&gt;&lt;br/&gt;\r\nThymeleafs [documentation](https://www.thymeleaf.org/doc/articles/standardurlsyntax.html) on standard url syntax explains how to add parameters as path variable or request parameters in pretty detailed manner. &lt;br/&gt;\r\n&lt;br/&gt; Added this answer only for learning purpose. You don&#39;t need to send username like this. Access it on server side from authentication principal.","title":"How to Build form action url with &#39;sec:authentication=&quot;name&quot;&#39; in thymeleaf","body":"<p>You can achieve it with <br/><br/> <code>&lt;form th:action=&quot;@{/hello/{id}/(id=${#authentication.getName()})}&quot;&gt;</code>\n<br/><br/>\nThymeleafs <a href=\"https://www.thymeleaf.org/doc/articles/standardurlsyntax.html\" rel=\"nofollow noreferrer\">documentation</a> on standard url syntax explains how to add parameters as path variable or request parameters in pretty detailed manner. <br/>\n<br/> Added this answer only for learning purpose. You don't need to send username like this. Access it on server side from authentication principal.</p>\n"}],"owner":{"account_id":15771494,"reputation":1,"user_id":11380416,"display_name":"Incanayable"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678807274,"creation_date":1678763480,"question_id":75728779,"body_markdown":"example: &lt;form th:action=&quot;@{/hello/${#authentication.username}}&quot; \r\n\r\ntry to pass authentication.username as a parameter to the controler","title":"How to Build form action url with &#39;sec:authentication=&quot;name&quot;&#39; in thymeleaf","body":"<p>example: &lt;form th:action=&quot;@{/hello/${#authentication.username}}&quot;</p>\n<p>try to pass authentication.username as a parameter to the controler</p>\n"},{"tags":["java","unit-testing","junit","automated-tests","rest-assured"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1678162704,"post_id":75657974,"comment_id":133475701,"body_markdown":"The Java class that represents a day, month and year is `java.time.LocalDate`.  I assume that&#39;s what you mean by &quot;needs to be equal to the local date&quot;.  But you&#39;re comparing a `float` value with a value whose type is unclear from the code above.  I would suggest you throw away `java.util.Date` (which has been obsolete for about 10 years, and isn&#39;t the right kind of thing for your requirement) and deal only with `java.time.LocalDate`.","body":"The Java class that represents a day, month and year is <code>java.time.LocalDate</code>.  I assume that&#39;s what you mean by &quot;needs to be equal to the local date&quot;.  But you&#39;re comparing a <code>float</code> value with a value whose type is unclear from the code above.  I would suggest you throw away <code>java.util.Date</code> (which has been obsolete for about 10 years, and isn&#39;t the right kind of thing for your requirement) and deal only with <code>java.time.LocalDate</code>."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1678345093,"post_id":75657974,"comment_id":133514954,"body_markdown":"Can you show the sample payload that you&#39;re trying to process?","body":"Can you show the sample payload that you&#39;re trying to process?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678809171,"post_id":75657974,"comment_id":133603494,"body_markdown":"How exactly does your `float` represent a moment or a date?","body":"How exactly does your <code>float</code> represent a moment or a date?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678809304,"post_id":75657974,"comment_id":133603544,"body_markdown":"Do you understand that `java.util.Date` is not actually a date, it is a date with time of day as seen with an offset from UTC of zero?","body":"Do you understand that <code>java.util.Date</code> is not actually a date, it is a date with time of day as seen with an offset from UTC of zero?"}],"answers":[{"tags":[],"owner":{"account_id":25027286,"reputation":23,"user_id":18885373,"display_name":"Muazzam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678807194,"creation_date":1678807194,"answer_id":75735101,"question_id":75657974,"body_markdown":"LocalDate.now worked for me. Thanks all for the help. ","title":"How to assert with current date?","body":"<p>LocalDate.now worked for me. Thanks all for the help.</p>\n"}],"owner":{"account_id":25027286,"reputation":23,"user_id":18885373,"display_name":"Muazzam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75735101,"answer_count":1,"score":0,"last_activity_date":1678807194,"creation_date":1678162268,"question_id":75657974,"body_markdown":"Trying to assert an object and that object needs to be equal to the local date on whichever date the test is run. \r\n\r\nI have the following code: \r\n\r\n    import java.util.Date; \r\n    \r\n    public class {\r\n    \r\n    \r\n        float validateMetDate = S55.jsonPath().getFloat(&quot;details.ref&quot;); \r\n        Assert.assertEquals(validateMetDate, crDate.getDate()); \r\n    \r\n    }\r\n\r\n\r\nThe library above I am trying to use only works with day of the week looks like or I am missing something. ","title":"How to assert with current date?","body":"<p>Trying to assert an object and that object needs to be equal to the local date on whichever date the test is run.</p>\n<p>I have the following code:</p>\n<pre><code>import java.util.Date; \n\npublic class {\n\n\n    float validateMetDate = S55.jsonPath().getFloat(&quot;details.ref&quot;); \n    Assert.assertEquals(validateMetDate, crDate.getDate()); \n\n}\n</code></pre>\n<p>The library above I am trying to use only works with day of the week looks like or I am missing something.</p>\n"},{"tags":["java","equals","hashcode"],"comments":[{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":1,"creation_date":1505208423,"post_id":2265503,"comment_id":79307510,"body_markdown":"Case Override only equals: two same object will have different hashcode =  same objects go in different bucket(duplication).\nCase Override only hashcode:two same object will have same hashcode = same object go in same bucket(duplication).","body":"Case Override only equals: two same object will have different hashcode =  same objects go in different bucket(duplication). Case Override only hashcode:two same object will have same hashcode = same object go in same bucket(duplication)."},{"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"score":0,"creation_date":1624005772,"post_id":2265503,"comment_id":120244347,"body_markdown":"The link appears to be dead. Can I obtain the IBM&#39;s developer works document?","body":"The link appears to be dead. Can I obtain the IBM&#39;s developer works document?"}],"answers":[{"tags":[],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1266232856,"creation_date":1266232856,"answer_id":2265515,"question_id":2265503,"body_markdown":"Because if you do not override them you will be use the default implentation in Object.\r\n\r\nGiven that instance equality and hascode values generally require knowledge of what makes up an object they generally will need to be redefined in your class to have any tangible meaning.\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Because if you do not override them you will be use the default implentation in Object.</p>\n\n<p>Given that instance equality and hascode values generally require knowledge of what makes up an object they generally will need to be redefined in your class to have any tangible meaning.</p>\n"},{"tags":[],"owner":{"account_id":50244,"reputation":23387,"user_id":149818,"accept_rate":74,"display_name":"Dewfy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1266232927,"creation_date":1266232927,"answer_id":2265520,"question_id":2265503,"body_markdown":"Assume you have class (A) that aggregates two other (B) (C), and you need to store instances of (A) inside hashtable. Default implementation only allows distinguishing of instances, but not by (B) and (C). So two instances of A could be equal, but default wouldn&#39;t allow you to compare them in correct way.  ","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Assume you have class (A) that aggregates two other (B) (C), and you need to store instances of (A) inside hashtable. Default implementation only allows distinguishing of instances, but not by (B) and (C). So two instances of A could be equal, but default wouldn't allow you to compare them in correct way.  </p>\n"},{"tags":[],"owner":{"account_id":23460,"reputation":176846,"user_id":58808,"accept_rate":78,"display_name":"Ionu G. Stan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563201970,"creation_date":1266233091,"answer_id":2265528,"question_id":2265503,"body_markdown":"It is useful when using [**Value Objects**][1]. The following is an excerpt from the [Portland Pattern Repository][2]:\r\n\r\n&gt; Examples of value objects are things\r\n&gt; like numbers, dates, monies and\r\n&gt; strings. Usually, they are small\r\n&gt; objects which are used quite widely.\r\n&gt; Their identity is based on their state\r\n&gt; rather than on their object identity.\r\n&gt; This way, you can have multiple copies\r\n&gt; of the same conceptual value object.\r\n&gt; \r\n&gt; So I can have multiple copies of an\r\n&gt; object that represents the date 16 Jan\r\n&gt; 1998. Any of these copies will be equal to each other. For a small\r\n&gt; object such as this, it is often\r\n&gt; easier to create new ones and move\r\n&gt; them around rather than rely on a\r\n&gt; single object to represent the date.\r\n&gt; \r\n&gt; A value object should always override\r\n&gt; .equals() in Java (or = in Smalltalk).\r\n&gt; (Remember to override .hashCode() as\r\n&gt; well.)\r\n\r\n\r\n  [1]: http://wiki.c2.com/?ValueObject\r\n  [2]: http://wiki.c2.com/?PortlandPatternRepository","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>It is useful when using <a href=\"http://wiki.c2.com/?ValueObject\" rel=\"nofollow noreferrer\"><strong>Value Objects</strong></a>. The following is an excerpt from the <a href=\"http://wiki.c2.com/?PortlandPatternRepository\" rel=\"nofollow noreferrer\">Portland Pattern Repository</a>:</p>\n\n<blockquote>\n  <p>Examples of value objects are things\n  like numbers, dates, monies and\n  strings. Usually, they are small\n  objects which are used quite widely.\n  Their identity is based on their state\n  rather than on their object identity.\n  This way, you can have multiple copies\n  of the same conceptual value object.</p>\n  \n  <p>So I can have multiple copies of an\n  object that represents the date 16 Jan\n  1998. Any of these copies will be equal to each other. For a small\n  object such as this, it is often\n  easier to create new ones and move\n  them around rather than rely on a\n  single object to represent the date.</p>\n  \n  <p>A value object should always override\n  .equals() in Java (or = in Smalltalk).\n  (Remember to override .hashCode() as\n  well.)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":3,"up_vote_count":59,"is_accepted":false,"score":56,"last_activity_date":1596157051,"creation_date":1266233153,"answer_id":2265537,"question_id":2265503,"body_markdown":"&gt; You must override hashCode() in every\r\n&gt; class that overrides equals(). Failure\r\n&gt; to do so will result in a violation of\r\n&gt; the general contract for\r\n&gt; Object.hashCode(), which will prevent\r\n&gt; your class from functioning properly\r\n&gt; in conjunction with all hash-based\r\n&gt; collections, including HashMap,\r\n&gt; HashSet, and Hashtable.\r\n&gt;\r\n&gt;&lt;br&gt;&lt;small&gt; &amp;nbsp; &amp;nbsp;from *Effective Java*, by Joshua Bloch&lt;/small&gt;\r\n\r\nBy defining `equals()` and `hashCode()` consistently, you can improve the usability of your classes as keys in hash-based collections. As the API doc for hashCode explains: &quot;This method is supported for the benefit of hashtables such as those provided by `java.util.Hashtable`.&quot; \r\n\r\nThe best answer to your question about how to implement these methods efficiently is suggesting you to read Chapter 3 of [Effective Java][1].\r\n\r\n\r\n  [1]: https://www.amazon.com/Effective-Java-Joshua-Bloch-dp-0134685997/dp/0134685997/ref=mt_other?_encoding=UTF8&amp;me=&amp;qid=","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<blockquote>\n<p>You must override hashCode() in every\nclass that overrides equals(). Failure\nto do so will result in a violation of\nthe general contract for\nObject.hashCode(), which will prevent\nyour class from functioning properly\nin conjunction with all hash-based\ncollections, including HashMap,\nHashSet, and Hashtable.</p>\n<p><br>  from <em>Effective Java</em>, by Joshua Bloch</p>\n</blockquote>\n<p>By defining <code>equals()</code> and <code>hashCode()</code> consistently, you can improve the usability of your classes as keys in hash-based collections. As the API doc for hashCode explains: &quot;This method is supported for the benefit of hashtables such as those provided by <code>java.util.Hashtable</code>.&quot;</p>\n<p>The best answer to your question about how to implement these methods efficiently is suggesting you to read Chapter 3 of <a href=\"https://rads.stackoverflow.com/amzn/click/com/0134685997\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1503401368,"creation_date":1266233183,"answer_id":2265541,"question_id":2265503,"body_markdown":"Both the methods are defined in Object class. And both are in its simplest implementation. So when you need you want add some more implementation to these methods then you have override in  your class. \r\n\r\nFor Ex: equals() method in object only checks its equality on the reference. So if you need compare its state as well then you can override that as it is done in String class.","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Both the methods are defined in Object class. And both are in its simplest implementation. So when you need you want add some more implementation to these methods then you have override in  your class. </p>\n\n<p>For Ex: equals() method in object only checks its equality on the reference. So if you need compare its state as well then you can override that as it is done in String class.</p>\n"},{"tags":[],"owner":{"account_id":54018,"reputation":13198,"user_id":161580,"display_name":"crunchdog"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1374576787,"creation_date":1266233385,"answer_id":2265558,"question_id":2265503,"body_markdown":"Simply put, the equals-method in Object check for reference equality, where as two instances of your class could still be semantically equal when the properties are equal. This is for instance important when putting your objects into a container that utilizes equals and hashcode, like [HashMap][1] and [Set][2]. Let&#39;s say we have a class like:\r\n    \r\n    public class Foo {\r\n        String id;\r\n        String whatevs;\r\n\r\n        Foo(String id, String whatevs) {\r\n            this.id = id;\r\n            this.whatevs = whatevs;\r\n        }\r\n    }\r\n\r\nWe create two instances with the same **id**:\r\n\r\n    Foo a = new Foo(&quot;id&quot;, &quot;something&quot;);\r\n    Foo b = new Foo(&quot;id&quot;, &quot;something else&quot;);\r\n\r\nWithout overriding equals we are getting:\r\n\r\n *   a.equals(b) is false because they are two different instances\r\n *   a.equals(a) is true since it&#39;s the same instance\r\n *   b.equals(b) is true since it&#39;s the same instance\r\n\r\nCorrect? Well maybe, if this is what you want. But let&#39;s say we want objects with the same id to be the same object, regardless if it&#39;s two different instances. We override the equals (and hashcode):\r\n\r\n    public class Foo {\r\n        String id;\r\n        String whatevs;\r\n\r\n        Foo(String id, String whatevs) {\r\n            this.id = id;\r\n            this.whatevs = whatevs;\r\n        }\r\n        \r\n        @Override\r\n        public boolean equals(Object other) {\r\n            if (other instanceof Foo) {\r\n                return ((Foo)other).id.equals(this.id);   \r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return this.id.hashCode();\r\n        }\r\n    }\r\n\r\nAs for implementing equals and hashcode I can recommend using [Guava&#39;s helper methods][3]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html &quot;HashMap.java&quot;\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Set.html &quot;Set.java&quot;\r\n  [3]: http://code.google.com/p/guava-libraries/wiki/CommonObjectUtilitiesExplained","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Simply put, the equals-method in Object check for reference equality, where as two instances of your class could still be semantically equal when the properties are equal. This is for instance important when putting your objects into a container that utilizes equals and hashcode, like <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\" title=\"HashMap.java\">HashMap</a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\" title=\"Set.java\">Set</a>. Let's say we have a class like:</p>\n\n<pre><code>public class Foo {\n    String id;\n    String whatevs;\n\n    Foo(String id, String whatevs) {\n        this.id = id;\n        this.whatevs = whatevs;\n    }\n}\n</code></pre>\n\n<p>We create two instances with the same <strong>id</strong>:</p>\n\n<pre><code>Foo a = new Foo(\"id\", \"something\");\nFoo b = new Foo(\"id\", \"something else\");\n</code></pre>\n\n<p>Without overriding equals we are getting:</p>\n\n<ul>\n<li>a.equals(b) is false because they are two different instances</li>\n<li>a.equals(a) is true since it's the same instance</li>\n<li>b.equals(b) is true since it's the same instance</li>\n</ul>\n\n<p>Correct? Well maybe, if this is what you want. But let's say we want objects with the same id to be the same object, regardless if it's two different instances. We override the equals (and hashcode):</p>\n\n<pre><code>public class Foo {\n    String id;\n    String whatevs;\n\n    Foo(String id, String whatevs) {\n        this.id = id;\n        this.whatevs = whatevs;\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (other instanceof Foo) {\n            return ((Foo)other).id.equals(this.id);   \n        }\n    }\n\n    @Override\n    public int hashCode() {\n        return this.id.hashCode();\n    }\n}\n</code></pre>\n\n<p>As for implementing equals and hashcode I can recommend using <a href=\"http://code.google.com/p/guava-libraries/wiki/CommonObjectUtilitiesExplained\" rel=\"noreferrer\">Guava's helper methods</a></p>\n"},{"tags":[],"owner":{"account_id":93884,"reputation":11967,"user_id":256660,"accept_rate":75,"display_name":"Lombo"},"down_vote_count":20,"up_vote_count":721,"is_accepted":true,"score":701,"last_activity_date":1612299418,"creation_date":1266234225,"answer_id":2265637,"question_id":2265503,"body_markdown":"Joshua Bloch says on Effective Java\r\n\r\n&gt; You must override hashCode() in every class that overrides equals(). Failure to do so will result in a violation of the general contract for Object.hashCode(), which will prevent your class from functioning properly in conjunction with all hash-based collections, including HashMap, HashSet, and Hashtable.\r\n\r\nLet&#39;s try to understand it with an example of what would happen if we override `equals()` without overriding `hashCode()` and attempt to use a `Map`.\r\n\r\nSay we have a class like this and that two objects of `MyClass` are equal if their `importantField` is equal (with `hashCode()` and `equals()` generated by eclipse)\r\n\r\n    public class MyClass {\r\n    \tprivate final String importantField;\r\n    \tprivate final String anotherField;\r\n    \r\n    \tpublic MyClass(final String equalField, final String anotherField) {\r\n    \t\tthis.importantField = equalField;\r\n    \t\tthis.anotherField = anotherField;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result\r\n    \t\t\t\t+ ((importantField == null) ? 0 : importantField.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(final Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tfinal MyClass other = (MyClass) obj;\r\n    \t\tif (importantField == null) {\r\n    \t\t\tif (other.importantField != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!importantField.equals(other.importantField))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\n\r\n----------\r\n\r\nImagine you have this\r\n\r\n    MyClass first = new MyClass(&quot;a&quot;,&quot;first&quot;);\r\n    MyClass second = new MyClass(&quot;a&quot;,&quot;second&quot;);\r\n\r\n**Override only `equals`**\r\n\r\nIf only `equals` is overriden, then when you call `myMap.put(first,someValue)` first will hash to some bucket and when you call `myMap.put(second,someOtherValue)` it will hash to some other bucket (as they have a different `hashCode`). So, although they are equal, as they don&#39;t hash to the same bucket, the map can&#39;t realize it and both of them stay in the map.\r\n\r\n---------\r\n\r\nAlthough it is not necessary to override `equals()` if we override `hashCode()`, let&#39;s see what would happen in this particular case where we know that two objects of `MyClass` are equal if their `importantField` is equal but we do not override `equals()`.\r\n\r\n**Override only `hashCode`**\r\n\r\nIf you only override `hashCode` then when you call `myMap.put(first,someValue)` it takes first, calculates its `hashCode` and stores it in a given bucket. Then when you call `myMap.put(second,someOtherValue)` it should replace first with second  as per the [Map Documentation][1] because they are equal (according to the business requirement).\r\n\r\nBut the problem is that equals was not redefined, so when the map hashes `second` and iterates through the bucket looking if there is an object `k` such that `second.equals(k)` is true it won&#39;t find any as `second.equals(first)` will be `false`.\r\n\r\nHope it was clear\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html#put%28java.lang.Object,%20java.lang.Object%29","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Joshua Bloch says on Effective Java</p>\n<blockquote>\n<p>You must override hashCode() in every class that overrides equals(). Failure to do so will result in a violation of the general contract for Object.hashCode(), which will prevent your class from functioning properly in conjunction with all hash-based collections, including HashMap, HashSet, and Hashtable.</p>\n</blockquote>\n<p>Let's try to understand it with an example of what would happen if we override <code>equals()</code> without overriding <code>hashCode()</code> and attempt to use a <code>Map</code>.</p>\n<p>Say we have a class like this and that two objects of <code>MyClass</code> are equal if their <code>importantField</code> is equal (with <code>hashCode()</code> and <code>equals()</code> generated by eclipse)</p>\n<pre><code>public class MyClass {\n    private final String importantField;\n    private final String anotherField;\n\n    public MyClass(final String equalField, final String anotherField) {\n        this.importantField = equalField;\n        this.anotherField = anotherField;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result\n                + ((importantField == null) ? 0 : importantField.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(final Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        final MyClass other = (MyClass) obj;\n        if (importantField == null) {\n            if (other.importantField != null)\n                return false;\n        } else if (!importantField.equals(other.importantField))\n            return false;\n        return true;\n    }\n}\n</code></pre>\n<hr />\n<p>Imagine you have this</p>\n<pre><code>MyClass first = new MyClass(&quot;a&quot;,&quot;first&quot;);\nMyClass second = new MyClass(&quot;a&quot;,&quot;second&quot;);\n</code></pre>\n<p><strong>Override only <code>equals</code></strong></p>\n<p>If only <code>equals</code> is overriden, then when you call <code>myMap.put(first,someValue)</code> first will hash to some bucket and when you call <code>myMap.put(second,someOtherValue)</code> it will hash to some other bucket (as they have a different <code>hashCode</code>). So, although they are equal, as they don't hash to the same bucket, the map can't realize it and both of them stay in the map.</p>\n<hr />\n<p>Although it is not necessary to override <code>equals()</code> if we override <code>hashCode()</code>, let's see what would happen in this particular case where we know that two objects of <code>MyClass</code> are equal if their <code>importantField</code> is equal but we do not override <code>equals()</code>.</p>\n<p><strong>Override only <code>hashCode</code></strong></p>\n<p>If you only override <code>hashCode</code> then when you call <code>myMap.put(first,someValue)</code> it takes first, calculates its <code>hashCode</code> and stores it in a given bucket. Then when you call <code>myMap.put(second,someOtherValue)</code> it should replace first with second  as per the <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html#put%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\">Map Documentation</a> because they are equal (according to the business requirement).</p>\n<p>But the problem is that equals was not redefined, so when the map hashes <code>second</code> and iterates through the bucket looking if there is an object <code>k</code> such that <code>second.equals(k)</code> is true it won't find any as <code>second.equals(first)</code> will be <code>false</code>.</p>\n<p>Hope it was clear</p>\n"},{"tags":[],"owner":{"account_id":668864,"reputation":41,"user_id":505382,"display_name":"Narinder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1458900624,"creation_date":1289540940,"answer_id":4161985,"question_id":2265503,"body_markdown":"I was looking into the explanation &quot; If you only override hashCode then when you call `myMap.put(first,someValue)` it takes first, calculates its hashCode and stores it in a given bucket. Then when you call `myMap.put(first,someOtherValue)` it should replace first with second as per the Map Documentation because they are equal (according to our definition).&quot; :\r\n\r\nI think 2nd time when we are adding in `myMap` then it should be the &#39;second&#39; object like `myMap.put(second,someOtherValue)`","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>I was looking into the explanation \" If you only override hashCode then when you call <code>myMap.put(first,someValue)</code> it takes first, calculates its hashCode and stores it in a given bucket. Then when you call <code>myMap.put(first,someOtherValue)</code> it should replace first with second as per the Map Documentation because they are equal (according to our definition).\" :</p>\n\n<p>I think 2nd time when we are adding in <code>myMap</code> then it should be the 'second' object like <code>myMap.put(second,someOtherValue)</code></p>\n"},{"tags":[],"owner":{"account_id":3103724,"reputation":39,"user_id":2627139,"display_name":"Aarti"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1374998784,"creation_date":1374998784,"answer_id":17906249,"question_id":2265503,"body_markdown":"The methods equals and hashcode are defined in the object class. By default if the equals method returns true, then the system will go further and check the value of the hash code. If the hash code of the 2 objects is also same only then the objects will be considered as same. So if you override only equals method, then even though the overridden equals method indicates 2 objects to be equal , the system defined hashcode may not indicate that the 2 objects are equal. So we need to override hash code as well.","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>The methods equals and hashcode are defined in the object class. By default if the equals method returns true, then the system will go further and check the value of the hash code. If the hash code of the 2 objects is also same only then the objects will be considered as same. So if you override only equals method, then even though the overridden equals method indicates 2 objects to be equal , the system defined hashcode may not indicate that the 2 objects are equal. So we need to override hash code as well.</p>\n"},{"tags":[],"owner":{"account_id":3107629,"reputation":175,"user_id":2630104,"display_name":"Rinkal Gupta"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1611229414,"creation_date":1375097504,"answer_id":17922895,"question_id":2265503,"body_markdown":"`hashCode()` :\r\n\r\nIf you only override the hash-code method nothing happens, because it always returns a new `hashCode` for each object as an Object class.\r\n\r\n`equals()` :\r\n\r\nIf you only override the equals method, if `a.equals(b)` is true it means the `hashCode` of a and b must be the same but that does not happen since you did not override the `hashCode` method.\r\n\r\nNote :  `hashCode()` method of Object class always returns a new `hashCode` for each object.\r\n\r\nSo when you need to use your object in the hashing based collection, you must override both `equals()` and `hashCode()`.\r\n\r\n\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p><code>hashCode()</code> :</p>\n<p>If you only override the hash-code method nothing happens, because it always returns a new <code>hashCode</code> for each object as an Object class.</p>\n<p><code>equals()</code> :</p>\n<p>If you only override the equals method, if <code>a.equals(b)</code> is true it means the <code>hashCode</code> of a and b must be the same but that does not happen since you did not override the <code>hashCode</code> method.</p>\n<p>Note :  <code>hashCode()</code> method of Object class always returns a new <code>hashCode</code> for each object.</p>\n<p>So when you need to use your object in the hashing based collection, you must override both <code>equals()</code> and <code>hashCode()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1723585,"reputation":715,"user_id":1578776,"accept_rate":29,"display_name":"Ritesh Kaushik"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1540644914,"creation_date":1388589187,"answer_id":20870008,"question_id":2265503,"body_markdown":"Java puts a rule that \r\n\r\n&gt; &quot;If two objects are equal using Object class equals method, then the hashcode method should give the same value for these two objects.&quot;\r\n\r\nSo, if in our class we override `equals()` we should override `hashcode()` method also to follow this rule.\r\nBoth methods, `equals()` and `hashcode()`, are used in `Hashtable`, for example, to store values as key-value pairs. If we override one and not the other, there is a possibility that the `Hashtable` may not work as we want, if we use such object as a key.\r\n\r\n ","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Java puts a rule that </p>\n\n<blockquote>\n  <p>\"If two objects are equal using Object class equals method, then the hashcode method should give the same value for these two objects.\"</p>\n</blockquote>\n\n<p>So, if in our class we override <code>equals()</code> we should override <code>hashcode()</code> method also to follow this rule.\nBoth methods, <code>equals()</code> and <code>hashcode()</code>, are used in <code>Hashtable</code>, for example, to store values as key-value pairs. If we override one and not the other, there is a possibility that the <code>Hashtable</code> may not work as we want, if we use such object as a key.</p>\n"},{"tags":[],"owner":{"account_id":4153618,"reputation":924,"user_id":3405414,"display_name":"Prashanth"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1394530734,"creation_date":1394530734,"answer_id":22321717,"question_id":2265503,"body_markdown":"In order to use our own class objects as keys in collections like HashMap, Hashtable etc.. , we should override both methods ( hashCode() and equals() ) by having an awareness on internal working of collection. Otherwise, it leads to wrong results which we are not expected.","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>In order to use our own class objects as keys in collections like HashMap, Hashtable etc.. , we should override both methods ( hashCode() and equals() ) by having an awareness on internal working of collection. Otherwise, it leads to wrong results which we are not expected.</p>\n"},{"tags":[],"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1458902022,"creation_date":1412969932,"answer_id":26306885,"question_id":2265503,"body_markdown":"`hashCode()` method is used to get a unique integer for given object. This integer is used for determining the bucket location, when this object needs to be stored in some `HashTable`, `HashMap` like data structure. By default, Objects `hashCode()` method returns and integer representation of memory address where object is stored.\r\n\r\nThe `hashCode()` method of objects is used when we insert them into a `HashTable`, `HashMap` or `HashSet`. More about `HashTables` on Wikipedia.org for reference.\r\n\r\nTo insert any entry in map data structure, we need both key and value. If both key and values are user define data types, the `hashCode()` of the key will be determine where to store the object internally. When require to lookup the object from the map also, the hash code of the key will be determine where to search for the object.\r\n\r\nThe hash code only points to a certain &quot;area&quot; (or list, bucket etc) internally. Since different key objects could potentially have the same hash code, the hash code itself is no guarantee that the right key is found. The `HashTable` then iterates this area (all keys with the same hash code) and uses the key&#39;s `equals()` method to find the right key. Once the right key is found, the object stored for that key is returned.\r\n\r\nSo, as we can see, a combination of the `hashCode()` and `equals()` methods are used when storing and when looking up objects in a `HashTable`.\r\n\r\nNOTES:\r\n\r\n1.       Always use same attributes of an object to generate `hashCode()` and `equals()` both. As in our case, we have used employee id.\r\n\r\n2.       `equals()` must be consistent (if the objects are not modified, then it must keep returning the same value).\r\n\r\n3.       Whenever `a.equals(b)`, then `a.hashCode()` must be same as `b.hashCode()`.\r\n\r\n4.       If you override one, then you should override the other.\r\n\r\n\r\nhttp://parameshk.blogspot.in/2014/10/examples-of-comparable-comporator.html","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p><code>hashCode()</code> method is used to get a unique integer for given object. This integer is used for determining the bucket location, when this object needs to be stored in some <code>HashTable</code>, <code>HashMap</code> like data structure. By default, Objects <code>hashCode()</code> method returns and integer representation of memory address where object is stored.</p>\n\n<p>The <code>hashCode()</code> method of objects is used when we insert them into a <code>HashTable</code>, <code>HashMap</code> or <code>HashSet</code>. More about <code>HashTables</code> on Wikipedia.org for reference.</p>\n\n<p>To insert any entry in map data structure, we need both key and value. If both key and values are user define data types, the <code>hashCode()</code> of the key will be determine where to store the object internally. When require to lookup the object from the map also, the hash code of the key will be determine where to search for the object.</p>\n\n<p>The hash code only points to a certain \"area\" (or list, bucket etc) internally. Since different key objects could potentially have the same hash code, the hash code itself is no guarantee that the right key is found. The <code>HashTable</code> then iterates this area (all keys with the same hash code) and uses the key's <code>equals()</code> method to find the right key. Once the right key is found, the object stored for that key is returned.</p>\n\n<p>So, as we can see, a combination of the <code>hashCode()</code> and <code>equals()</code> methods are used when storing and when looking up objects in a <code>HashTable</code>.</p>\n\n<p>NOTES:</p>\n\n<ol>\n<li><p>Always use same attributes of an object to generate <code>hashCode()</code> and <code>equals()</code> both. As in our case, we have used employee id.</p></li>\n<li><p><code>equals()</code> must be consistent (if the objects are not modified, then it must keep returning the same value).</p></li>\n<li><p>Whenever <code>a.equals(b)</code>, then <code>a.hashCode()</code> must be same as <code>b.hashCode()</code>.</p></li>\n<li><p>If you override one, then you should override the other.</p></li>\n</ol>\n\n<p><a href=\"http://parameshk.blogspot.in/2014/10/examples-of-comparable-comporator.html\" rel=\"nofollow\">http://parameshk.blogspot.in/2014/10/examples-of-comparable-comporator.html</a></p>\n"},{"tags":[],"owner":{"account_id":3653998,"reputation":5437,"user_id":3045483,"accept_rate":86,"display_name":"rajeev pani.."},"down_vote_count":1,"up_vote_count":374,"is_accepted":false,"score":373,"last_activity_date":1585220903,"creation_date":1417067244,"answer_id":27163876,"question_id":2265503,"body_markdown":"Collections such as `HashMap` and `HashSet` use a *hashcode* value of an object to determine how it should be stored inside a collection, and the *hashcode* is used again in order to locate the object\r\nin its collection.\r\n\r\nHashing retrieval is a two-step process:\r\n\r\n 1. Find the right bucket (using `hashCode()`)\r\n 2. Search the bucket for the right element (using `equals()` )\r\n\r\nHere is a small example on why we should overrride `equals()` and `hashcode()`.\r\n\r\nConsider an `Employee` class which has two fields: age and name.\r\n\r\n\tpublic class Employee {\r\n\t\r\n\t\tString name;\r\n\t\tint age;\r\n\t\r\n\t\tpublic Employee(String name, int age) {\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.age = age;\r\n\t\t}\r\n\t\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\r\n\t\tpublic int getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\t\r\n\t\tpublic void setAge(int age) {\r\n\t\t\tthis.age = age;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic boolean equals(Object obj) {\r\n\t\t\tif (obj == this)\r\n\t\t\t\treturn true;\r\n\t\t\tif (!(obj instanceof Employee))\r\n\t\t\t\treturn false;\r\n\t\t\tEmployee employee = (Employee) obj;\r\n\t\t\treturn employee.getAge() == this.getAge()\r\n\t\t\t\t\t&amp;&amp; employee.getName() == this.getName();\r\n\t\t}\r\n\t\r\n\t\t// commented\t\r\n\t\t/*\t@Override\r\n\t    \tpublic int hashCode() {\r\n\t    \t\tint result=17;\r\n\t    \t\tresult=31*result+age;\r\n\t    \t\tresult=31*result+(name!=null ? name.hashCode():0);\r\n\t    \t\treturn result;\r\n\t    \t}\r\n\t\t */\r\n\t}\r\n\r\nNow create a class, insert `Employee` object into a `HashSet` and test whether that object is present or not.\r\n\r\n\tpublic class ClientTest {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tEmployee employee = new Employee(&quot;rajeev&quot;, 24);\r\n\t\t\tEmployee employee1 = new Employee(&quot;rajeev&quot;, 25);\r\n\t\t\tEmployee employee2 = new Employee(&quot;rajeev&quot;, 24);\r\n\t\r\n\t\t\tHashSet&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();\r\n\t\t\temployees.add(employee);\r\n\t\t\tSystem.out.println(employees.contains(employee2));\r\n\t\t\tSystem.out.println(&quot;employee.hashCode():  &quot; + employee.hashCode()\r\n\t\t\t+ &quot;  employee2.hashCode():&quot; + employee2.hashCode());\r\n\t\t}\r\n\t}\r\n\r\nIt will print the following:\r\n\t\r\n    false\r\n\temployee.hashCode():  321755204  employee2.hashCode():375890482\r\n\r\nNow uncomment `hashcode()` method , execute the same and the output would be: \r\n\r\n    true\r\n    employee.hashCode():  -938387308  employee2.hashCode():-938387308\r\n\r\nNow can you see why if two objects are considered equal, their *hashcode*s must\r\nalso be equal? Otherwise, you&#39;d never be able to find the object since the default\r\n*hashcode* method in class Object virtually always comes up with a unique number\r\nfor each object, even if the `equals()` method is overridden in such a way that two\r\nor more objects are considered equal. It doesn&#39;t matter how equal the objects are if\r\ntheir *hashcode*s don&#39;t reflect that. So one more time: If two objects are equal, their\r\n*hashcode*s must be equal as well.\r\n\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Collections such as <code>HashMap</code> and <code>HashSet</code> use a <em>hashcode</em> value of an object to determine how it should be stored inside a collection, and the <em>hashcode</em> is used again in order to locate the object\nin its collection.</p>\n\n<p>Hashing retrieval is a two-step process:</p>\n\n<ol>\n<li>Find the right bucket (using <code>hashCode()</code>)</li>\n<li>Search the bucket for the right element (using <code>equals()</code> )</li>\n</ol>\n\n<p>Here is a small example on why we should overrride <code>equals()</code> and <code>hashcode()</code>.</p>\n\n<p>Consider an <code>Employee</code> class which has two fields: age and name.</p>\n\n<pre><code>public class Employee {\n\n    String name;\n    int age;\n\n    public Employee(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == this)\n            return true;\n        if (!(obj instanceof Employee))\n            return false;\n        Employee employee = (Employee) obj;\n        return employee.getAge() == this.getAge()\n                &amp;&amp; employee.getName() == this.getName();\n    }\n\n    // commented    \n    /*  @Override\n        public int hashCode() {\n            int result=17;\n            result=31*result+age;\n            result=31*result+(name!=null ? name.hashCode():0);\n            return result;\n        }\n     */\n}\n</code></pre>\n\n<p>Now create a class, insert <code>Employee</code> object into a <code>HashSet</code> and test whether that object is present or not.</p>\n\n<pre><code>public class ClientTest {\n    public static void main(String[] args) {\n        Employee employee = new Employee(\"rajeev\", 24);\n        Employee employee1 = new Employee(\"rajeev\", 25);\n        Employee employee2 = new Employee(\"rajeev\", 24);\n\n        HashSet&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();\n        employees.add(employee);\n        System.out.println(employees.contains(employee2));\n        System.out.println(\"employee.hashCode():  \" + employee.hashCode()\n        + \"  employee2.hashCode():\" + employee2.hashCode());\n    }\n}\n</code></pre>\n\n<p>It will print the following:</p>\n\n<pre><code>false\nemployee.hashCode():  321755204  employee2.hashCode():375890482\n</code></pre>\n\n<p>Now uncomment <code>hashcode()</code> method , execute the same and the output would be: </p>\n\n<pre><code>true\nemployee.hashCode():  -938387308  employee2.hashCode():-938387308\n</code></pre>\n\n<p>Now can you see why if two objects are considered equal, their <em>hashcode</em>s must\nalso be equal? Otherwise, you'd never be able to find the object since the default\n<em>hashcode</em> method in class Object virtually always comes up with a unique number\nfor each object, even if the <code>equals()</code> method is overridden in such a way that two\nor more objects are considered equal. It doesn't matter how equal the objects are if\ntheir <em>hashcode</em>s don't reflect that. So one more time: If two objects are equal, their\n<em>hashcode</em>s must be equal as well.</p>\n"},{"tags":[],"owner":{"account_id":3408167,"reputation":690,"user_id":2859238,"accept_rate":32,"display_name":"user104309"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1418105677,"creation_date":1418105166,"answer_id":27372458,"question_id":2265503,"body_markdown":"Adding to @Lombo &#39;s answer\r\n\r\n***When will you need to override equals() ?***\r\n\r\nThe default implementation of Object&#39;s equals() is\r\n\r\n    public boolean equals(Object obj) {\r\n            return (this == obj);\r\n    }\r\n\r\nwhich means two objects will be considered equal only if they have the same memory address which will be true only if you are\r\ncomparing an object with itself.\r\n\r\nBut you might want to consider two objects the same if they have the same value for one\r\nor more of their properties (Refer the example given in @Lombo &#39;s answer). \r\n\r\nSo you will override `equals()` in these situations and you would give your own conditions for equality.\r\n\r\n***I have successfully implemented equals() and it is working great.So why are they asking to override hashCode() as well?***\r\n\r\nWell.As long as you don&#39;t use *&quot;Hash&quot; based Collections* on your user-defined class,it is fine.\r\nBut some time in the future you might want to use `HashMap` or `HashSet` and if you don&#39;t `override` and *&quot;correctly implement&quot; hashCode()*, these Hash based collection won&#39;t work as intended.\r\n\r\n***Override only equals (Addition to @Lombo &#39;s answer)***\r\n\r\n    myMap.put(first,someValue)\r\n    myMap.contains(second); --&gt; But it should be the same since the key are the same.But returns false!!! How?\r\n\r\nFirst of all,HashMap checks if the hashCode of `second` is the same as `first`.\r\nOnly if the values are the same,it will proceed to check the equality in the same bucket.\r\n\r\nBut here the hashCode is different for these 2 objects (because they have different memory address-from default implementation).\r\nHence it will not even care to check for equality.\r\n\r\nIf you have a breakpoint inside your overridden equals() method,it wouldn&#39;t step in if they have different hashCodes.\r\n`contains()` checks `hashCode()` and only if they are the same it would call your `equals()` method.\r\n\r\n***Why can&#39;t we make the HashMap check for equality in all the buckets? So there is no necessity for me to override hashCode() !!***\r\n\r\nThen you are missing the point of Hash based Collections.\r\nConsider the following :\r\n\r\n    Your hashCode() implementation : intObject%9.\r\n\r\nThe following are the keys stored in the form of buckets.\r\n\r\n    Bucket 1 : 1,10,19,... (in thousands)\r\n    Bucket 2 : 2,20,29...\r\n    Bucket 3 : 3,21,30,...\r\n    ...\r\n\r\nSay,you want to know if the map contains the key 10.\r\nWould you want to search all the buckets? or Would you want to search only one bucket?\r\n\r\nBased on the hashCode,you would identify that if 10 is present,it must be present in Bucket 1.\r\nSo only Bucket 1 will be searched !!\r\n\r\n\r\n\r\n\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Adding to @Lombo 's answer</p>\n\n<p><strong><em>When will you need to override equals() ?</em></strong></p>\n\n<p>The default implementation of Object's equals() is</p>\n\n<pre><code>public boolean equals(Object obj) {\n        return (this == obj);\n}\n</code></pre>\n\n<p>which means two objects will be considered equal only if they have the same memory address which will be true only if you are\ncomparing an object with itself.</p>\n\n<p>But you might want to consider two objects the same if they have the same value for one\nor more of their properties (Refer the example given in @Lombo 's answer). </p>\n\n<p>So you will override <code>equals()</code> in these situations and you would give your own conditions for equality.</p>\n\n<p><strong><em>I have successfully implemented equals() and it is working great.So why are they asking to override hashCode() as well?</em></strong></p>\n\n<p>Well.As long as you don't use <em>\"Hash\" based Collections</em> on your user-defined class,it is fine.\nBut some time in the future you might want to use <code>HashMap</code> or <code>HashSet</code> and if you don't <code>override</code> and <em>\"correctly implement\" hashCode()</em>, these Hash based collection won't work as intended.</p>\n\n<p><strong><em>Override only equals (Addition to @Lombo 's answer)</em></strong></p>\n\n<pre><code>myMap.put(first,someValue)\nmyMap.contains(second); --&gt; But it should be the same since the key are the same.But returns false!!! How?\n</code></pre>\n\n<p>First of all,HashMap checks if the hashCode of <code>second</code> is the same as <code>first</code>.\nOnly if the values are the same,it will proceed to check the equality in the same bucket.</p>\n\n<p>But here the hashCode is different for these 2 objects (because they have different memory address-from default implementation).\nHence it will not even care to check for equality.</p>\n\n<p>If you have a breakpoint inside your overridden equals() method,it wouldn't step in if they have different hashCodes.\n<code>contains()</code> checks <code>hashCode()</code> and only if they are the same it would call your <code>equals()</code> method.</p>\n\n<p><strong><em>Why can't we make the HashMap check for equality in all the buckets? So there is no necessity for me to override hashCode() !!</em></strong></p>\n\n<p>Then you are missing the point of Hash based Collections.\nConsider the following :</p>\n\n<pre><code>Your hashCode() implementation : intObject%9.\n</code></pre>\n\n<p>The following are the keys stored in the form of buckets.</p>\n\n<pre><code>Bucket 1 : 1,10,19,... (in thousands)\nBucket 2 : 2,20,29...\nBucket 3 : 3,21,30,...\n...\n</code></pre>\n\n<p>Say,you want to know if the map contains the key 10.\nWould you want to search all the buckets? or Would you want to search only one bucket?</p>\n\n<p>Based on the hashCode,you would identify that if 10 is present,it must be present in Bucket 1.\nSo only Bucket 1 will be searched !!</p>\n"},{"tags":[],"owner":{"account_id":1411349,"reputation":4805,"user_id":1337863,"accept_rate":53,"display_name":"Chetan"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1678807138,"creation_date":1425407597,"answer_id":28839354,"question_id":2265503,"body_markdown":"Let me explain the concept in simple words.\r\n\r\nFirstly, from a broader perspective, we have collections, and `HashMap` is one of the data structure in the collections.\r\n\r\nTo understand why we have to override both the `equals` and `hashCode` method, we need to first understand what is `HashMap` and what is does.\r\n\r\nA `HashMap` is a data structure which stores key value pairs of data in array fashion. Let&#39;s say a[], where each element in &#39;a&#39; is a key value pair.\r\n\r\nAlso, each index in the above array can be a linked list, thereby having more than one values at one index.\r\n\r\nNow, why is a `HashMap` used?\r\n\r\nIf we have to search among a large array then searching through each of them will not be efficient, so what hash technique tells us that lets pre-process the array with some logic and group the elements based on that logic i.e. Hashing\r\n\r\nE.g.,: we have an array 1,2,3,4,5,6,7,8,9,10,11, and we apply a hash function mod 10 so 1,11 will be grouped in together. So if we had to search for 11 in the previous array, then we would have to iterate the complete array, but when we group it, we limit our scope of iteration, thereby improving speed. That data structure used to store all the above information can be thought of as a 2D array for simplicity.\r\n\r\nNow, apart from the above, `HashMap` also tells that it won&#39;t add any Duplicates in it. And this is the main reason why we have to override the `equals` and `hashCode`\r\n\r\nSo, when it&#39;s said that explain the internal working of `HashMap`, we need to find what methods the `HashMap` has and how does it follow the above rules which I explained above\r\n\r\nso, the `HashMap` has method called as `put(K,V)`, and according to `HashMap` it should follow the above rules of efficiently distributing the array and not adding any duplicates\r\n\r\nso, what put does is that it will first generate the `hashCode` for the given key to decide which index the value should go in.if nothing is present at that index then the new value will be added over there, if something is already present over there then the new value should be added after the end of the linked list at that index. But remember, no duplicates should be added as per the desired behavior of the `HashMap`. So let&#39;s say you have two Integer objects aa=11,bb=11.\r\n\r\nAs every object derived from the object class, the default implementation for comparing two objects is that it compares the reference and not values inside the object. So, in the above case, both though semantically equal will fail the equality test, and the possibility that two objects which same `hashCode` and same values will exist, thereby creating duplicates. If we override, then we could avoid adding duplicates.\r\nYou could also refer to [Detail working][1]\r\n\r\n\r\n\r\n  [1]: http://howtodoinjava.com/2012/10/09/how-hashmap-works-in-java/\r\n\r\n```\r\nimport java.util.HashMap;\r\n\r\n\r\npublic class Employee {\r\n\tString name;\r\n\tString mobile;\r\n\r\n\tpublic Employee(String name,String mobile) {\r\n\t\tthis.name = name;\r\n\t\tthis.mobile = mobile;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\tSystem.out.println(&quot;calling hascode method of Employee&quot;);\r\n\t\tString str = this.name;\r\n\t\tint sum = 0;\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tsum = sum + str.charAt(i);\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;calling equals method of Employee&quot;);\r\n\t\tEmployee emp = (Employee) obj;\r\n\t\tif (this.mobile.equalsIgnoreCase(emp.mobile)) {\r\n\t\t\tSystem.out.println(&quot;returning true&quot;);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;returning false&quot;);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tEmployee emp = new Employee(&quot;abc&quot;, &quot;hhh&quot;);\r\n\t\tEmployee emp2 = new Employee(&quot;abc&quot;, &quot;hhh&quot;);\r\n\t\tHashMap&lt;Employee, Employee&gt; h = new HashMap&lt;&gt;();\r\n\t\t//for (int i = 0; i &lt; 5; i++) {\r\n\t\t\th.put(emp, emp);\r\n\t\t\th.put(emp2, emp2);\r\n\t\t//}\r\n\t\t\r\n\t\tSystem.out.println(&quot;----------------&quot;);\r\n\t\tSystem.out.println(&quot;size of hashmap: &quot;+h.size());\r\n\t}\r\n}\r\n```\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Let me explain the concept in simple words.</p>\n<p>Firstly, from a broader perspective, we have collections, and <code>HashMap</code> is one of the data structure in the collections.</p>\n<p>To understand why we have to override both the <code>equals</code> and <code>hashCode</code> method, we need to first understand what is <code>HashMap</code> and what is does.</p>\n<p>A <code>HashMap</code> is a data structure which stores key value pairs of data in array fashion. Let's say a[], where each element in 'a' is a key value pair.</p>\n<p>Also, each index in the above array can be a linked list, thereby having more than one values at one index.</p>\n<p>Now, why is a <code>HashMap</code> used?</p>\n<p>If we have to search among a large array then searching through each of them will not be efficient, so what hash technique tells us that lets pre-process the array with some logic and group the elements based on that logic i.e. Hashing</p>\n<p>E.g.,: we have an array 1,2,3,4,5,6,7,8,9,10,11, and we apply a hash function mod 10 so 1,11 will be grouped in together. So if we had to search for 11 in the previous array, then we would have to iterate the complete array, but when we group it, we limit our scope of iteration, thereby improving speed. That data structure used to store all the above information can be thought of as a 2D array for simplicity.</p>\n<p>Now, apart from the above, <code>HashMap</code> also tells that it won't add any Duplicates in it. And this is the main reason why we have to override the <code>equals</code> and <code>hashCode</code></p>\n<p>So, when it's said that explain the internal working of <code>HashMap</code>, we need to find what methods the <code>HashMap</code> has and how does it follow the above rules which I explained above</p>\n<p>so, the <code>HashMap</code> has method called as <code>put(K,V)</code>, and according to <code>HashMap</code> it should follow the above rules of efficiently distributing the array and not adding any duplicates</p>\n<p>so, what put does is that it will first generate the <code>hashCode</code> for the given key to decide which index the value should go in.if nothing is present at that index then the new value will be added over there, if something is already present over there then the new value should be added after the end of the linked list at that index. But remember, no duplicates should be added as per the desired behavior of the <code>HashMap</code>. So let's say you have two Integer objects aa=11,bb=11.</p>\n<p>As every object derived from the object class, the default implementation for comparing two objects is that it compares the reference and not values inside the object. So, in the above case, both though semantically equal will fail the equality test, and the possibility that two objects which same <code>hashCode</code> and same values will exist, thereby creating duplicates. If we override, then we could avoid adding duplicates.\nYou could also refer to <a href=\"http://howtodoinjava.com/2012/10/09/how-hashmap-works-in-java/\" rel=\"nofollow noreferrer\">Detail working</a></p>\n<pre><code>import java.util.HashMap;\n\n\npublic class Employee {\n    String name;\n    String mobile;\n\n    public Employee(String name,String mobile) {\n        this.name = name;\n        this.mobile = mobile;\n    }\n    \n    @Override\n    public int hashCode() {\n        System.out.println(&quot;calling hascode method of Employee&quot;);\n        String str = this.name;\n        int sum = 0;\n        for (int i = 0; i &lt; str.length(); i++) {\n            sum = sum + str.charAt(i);\n        }\n        return sum;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;calling equals method of Employee&quot;);\n        Employee emp = (Employee) obj;\n        if (this.mobile.equalsIgnoreCase(emp.mobile)) {\n            System.out.println(&quot;returning true&quot;);\n            return true;\n        } else {\n            System.out.println(&quot;returning false&quot;);\n            return false;\n        }\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        Employee emp = new Employee(&quot;abc&quot;, &quot;hhh&quot;);\n        Employee emp2 = new Employee(&quot;abc&quot;, &quot;hhh&quot;);\n        HashMap&lt;Employee, Employee&gt; h = new HashMap&lt;&gt;();\n        //for (int i = 0; i &lt; 5; i++) {\n            h.put(emp, emp);\n            h.put(emp2, emp2);\n        //}\n        \n        System.out.println(&quot;----------------&quot;);\n        System.out.println(&quot;size of hashmap: &quot;+h.size());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147167,"reputation":2559,"user_id":358099,"accept_rate":47,"display_name":"bharanitharan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436421767,"creation_date":1436421767,"answer_id":31309335,"question_id":2265503,"body_markdown":"Consider collection of balls in a bucket all in black color. Your Job is to color those balls as follows and use it for appropriate game,\r\n\r\nFor Tennis - Yellow, Red.\r\nFor Cricket - White\r\n\r\nNow bucket has balls in three colors Yellow, Red and White. And that now **you did the coloring Only you know which color is for which game.**\r\n\r\nColoring the balls - Hashing.\r\nChoosing the ball for game - Equals.\r\n\r\nIf you did the coloring and some one chooses the ball for either cricket or tennis they wont mind the color!!!\r\n\r\n ","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Consider collection of balls in a bucket all in black color. Your Job is to color those balls as follows and use it for appropriate game,</p>\n\n<p>For Tennis - Yellow, Red.\nFor Cricket - White</p>\n\n<p>Now bucket has balls in three colors Yellow, Red and White. And that now <strong>you did the coloring Only you know which color is for which game.</strong></p>\n\n<p>Coloring the balls - Hashing.\nChoosing the ball for game - Equals.</p>\n\n<p>If you did the coloring and some one chooses the ball for either cricket or tennis they wont mind the color!!!</p>\n"},{"tags":[],"owner":{"account_id":147167,"reputation":2559,"user_id":358099,"accept_rate":47,"display_name":"bharanitharan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1436866318,"creation_date":1436864676,"answer_id":31402283,"question_id":2265503,"body_markdown":"    class A {\r\n        int i;\r\n        // Hashing Algorithm\r\n        if even number return 0 else return 1\r\n        // Equals Algorithm,\r\n        if i = this.i return true else false\r\n    }\r\n\r\n - put(&#39;key&#39;,&#39;value&#39;) will calculate the hash value using `hashCode()` to determine the\r\n   bucket and uses `equals()` method to find whether the value is already\r\n   present in the Bucket. If not it will added else it will be replaced with current value\r\n - get(&#39;key&#39;) will use `hashCode()` to find the Entry (bucket) first and\r\n   `equals()` to find the value in Entry\r\n\r\n \r\n\r\nif Both are overridden,\r\n\r\nMap&lt;**A**&gt; \r\n\r\n    Map.Entry 1 --&gt; 1,3,5,...\r\n    Map.Entry 2 --&gt; 2,4,6,...\r\n\r\nif equals is not overridden\r\n\r\nMap&lt;**A**&gt; \r\n\r\n    Map.Entry 1 --&gt; 1,3,5,...,1,3,5,... // Duplicate values as equals not overridden\r\n    Map.Entry 2 --&gt; 2,4,6,...,2,4,..\r\n\r\nIf hashCode is not overridden\r\n\r\nMap&lt;**A**&gt; \r\n\r\n    Map.Entry 1 --&gt; 1\r\n    Map.Entry 2 --&gt; 2\r\n    Map.Entry 3 --&gt; 3\r\n    Map.Entry 4 --&gt; 1\r\n    Map.Entry 5 --&gt; 2\r\n    Map.Entry 6 --&gt; 3 // Same values are Stored in different hasCodes violates Contract 1\r\n    So on...\r\n\r\nHashCode Equal Contract\r\n\r\n1. Two keys equal according to equal method should generate same hashCode\r\n2. Two Keys generating same hashCode need not be equal (In above example all even numbers generate same hash Code)","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<pre><code>class A {\n    int i;\n    // Hashing Algorithm\n    if even number return 0 else return 1\n    // Equals Algorithm,\n    if i = this.i return true else false\n}\n</code></pre>\n\n<ul>\n<li>put('key','value') will calculate the hash value using <code>hashCode()</code> to determine the\nbucket and uses <code>equals()</code> method to find whether the value is already\npresent in the Bucket. If not it will added else it will be replaced with current value</li>\n<li>get('key') will use <code>hashCode()</code> to find the Entry (bucket) first and\n<code>equals()</code> to find the value in Entry</li>\n</ul>\n\n<p>if Both are overridden,</p>\n\n<p>Map&lt;<strong>A</strong>> </p>\n\n<pre><code>Map.Entry 1 --&gt; 1,3,5,...\nMap.Entry 2 --&gt; 2,4,6,...\n</code></pre>\n\n<p>if equals is not overridden</p>\n\n<p>Map&lt;<strong>A</strong>> </p>\n\n<pre><code>Map.Entry 1 --&gt; 1,3,5,...,1,3,5,... // Duplicate values as equals not overridden\nMap.Entry 2 --&gt; 2,4,6,...,2,4,..\n</code></pre>\n\n<p>If hashCode is not overridden</p>\n\n<p>Map&lt;<strong>A</strong>> </p>\n\n<pre><code>Map.Entry 1 --&gt; 1\nMap.Entry 2 --&gt; 2\nMap.Entry 3 --&gt; 3\nMap.Entry 4 --&gt; 1\nMap.Entry 5 --&gt; 2\nMap.Entry 6 --&gt; 3 // Same values are Stored in different hasCodes violates Contract 1\nSo on...\n</code></pre>\n\n<p>HashCode Equal Contract</p>\n\n<ol>\n<li>Two keys equal according to equal method should generate same hashCode</li>\n<li>Two Keys generating same hashCode need not be equal (In above example all even numbers generate same hash Code)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1529893712,"creation_date":1437053904,"answer_id":31455838,"question_id":2265503,"body_markdown":"**Identity is not equality.**\r\n\r\n- equals operator `==` test identity.\r\n- `equals(Object obj)` method compares equality test(i.e. we need to tell equality by overriding the method)\r\n\r\n&gt;Why do I need to override the equals and hashCode methods in Java?   \r\n\r\n**First we have to understand the use of equals method.**\r\n\r\nIn order to identity differences between two objects we need to override equals method.   \r\n\r\n**For example:**\r\n\r\n    Customer customer1=new Customer(&quot;peter&quot;);\r\n    Customer customer2=customer1;\r\n    customer1.equals(customer2); // returns true by JVM. i.e. both are refering same Object\r\n    ------------------------------\r\n    Customer customer1=new Customer(&quot;peter&quot;);\r\n    Customer customer2=new Customer(&quot;peter&quot;);\r\n    customer1.equals(customer2); //return false by JVM i.e. we have two different peter customers.\r\n    \r\n    ------------------------------\r\n    Now I have overriden Customer class equals method as follows:\r\n     @Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)   // it checks references\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null) // checks null\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass()) // both object are instances of same class or not\r\n    \t\t\treturn false;\r\n    \t\tCustomer other = (Customer) obj;\r\n    \t\tif (name == null) {\r\n    \t\t\tif (other.name != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!name.equals(other.name)) // it again using bulit in String object equals to identify the difference \r\n    \t\t\treturn false;\r\n    \t\treturn true; \r\n    \t}\r\n    Customer customer1=new Customer(&quot;peter&quot;);\r\n    Customer customer2=new Customer(&quot;peter&quot;);\r\n    Insteady identify the Object equality by JVM, we can do it by overring equals method.\r\n    customer1.equals(customer2);  // returns true by our own logic\r\n\r\n\r\n**Now hashCode method can understand easily.**\r\n\r\nhashCode produces integer in order to store object in data structures like **HashMap**, **HashSet**.\r\n\r\nAssume we have override equals method of `Customer` as above, \r\n\r\n    customer1.equals(customer2);  // returns true by our own logic\r\n\r\nWhile working with data structure when we store object in buckets(bucket is a fancy name for folder). If we use built-in hash technique, for above two customers it generates two different hashcode. So we are storing the same identical object in two different places. To avoid this kind of issues we should override the hashCode method also based on the following principles.  \r\n\r\n - un-equal instances may have same hashcode.\r\n - equal instances should return same hashcode.\r\n\r\n\r\n  \r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p><strong>Identity is not equality.</strong></p>\n\n<ul>\n<li>equals operator <code>==</code> test identity.</li>\n<li><code>equals(Object obj)</code> method compares equality test(i.e. we need to tell equality by overriding the method)</li>\n</ul>\n\n<blockquote>\n  <p>Why do I need to override the equals and hashCode methods in Java?   </p>\n</blockquote>\n\n<p><strong>First we have to understand the use of equals method.</strong></p>\n\n<p>In order to identity differences between two objects we need to override equals method.   </p>\n\n<p><strong>For example:</strong></p>\n\n<pre><code>Customer customer1=new Customer(\"peter\");\nCustomer customer2=customer1;\ncustomer1.equals(customer2); // returns true by JVM. i.e. both are refering same Object\n------------------------------\nCustomer customer1=new Customer(\"peter\");\nCustomer customer2=new Customer(\"peter\");\ncustomer1.equals(customer2); //return false by JVM i.e. we have two different peter customers.\n\n------------------------------\nNow I have overriden Customer class equals method as follows:\n @Override\n    public boolean equals(Object obj) {\n        if (this == obj)   // it checks references\n            return true;\n        if (obj == null) // checks null\n            return false;\n        if (getClass() != obj.getClass()) // both object are instances of same class or not\n            return false;\n        Customer other = (Customer) obj;\n        if (name == null) {\n            if (other.name != null)\n                return false;\n        } else if (!name.equals(other.name)) // it again using bulit in String object equals to identify the difference \n            return false;\n        return true; \n    }\nCustomer customer1=new Customer(\"peter\");\nCustomer customer2=new Customer(\"peter\");\nInsteady identify the Object equality by JVM, we can do it by overring equals method.\ncustomer1.equals(customer2);  // returns true by our own logic\n</code></pre>\n\n<p><strong>Now hashCode method can understand easily.</strong></p>\n\n<p>hashCode produces integer in order to store object in data structures like <strong>HashMap</strong>, <strong>HashSet</strong>.</p>\n\n<p>Assume we have override equals method of <code>Customer</code> as above, </p>\n\n<pre><code>customer1.equals(customer2);  // returns true by our own logic\n</code></pre>\n\n<p>While working with data structure when we store object in buckets(bucket is a fancy name for folder). If we use built-in hash technique, for above two customers it generates two different hashcode. So we are storing the same identical object in two different places. To avoid this kind of issues we should override the hashCode method also based on the following principles.  </p>\n\n<ul>\n<li>un-equal instances may have same hashcode.</li>\n<li>equal instances should return same hashcode.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6623856,"reputation":19,"user_id":5114689,"display_name":"Alan Dobbie"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1455904816,"creation_date":1455904816,"answer_id":35511824,"question_id":2265503,"body_markdown":"**Bah - &quot;You must override hashCode() in every class that overrides equals().&quot;**\r\n\r\n[from Effective Java, by Joshua Bloch?]\r\n\r\nIsn&#39;t this the wrong way round?  Overriding hashCode likely implies you&#39;re writing a hash-key class, but overriding equals certainly does not. There are many classes that are not used as hash-keys, but do want a logical-equality-testing method for some other reason. If you choose &quot;equals&quot; for it, you may then be mandated to write a hashCode implementation by overzealous application of this rule. All that achieves is adding untested code in the codebase, an evil waiting to trip someone up in the future. Also writing code you don&#39;t need is anti-agile. It&#39;s just wrong (and an ide generated one will probably be incompatible with your hand-crafted equals). \r\n\r\nSurely they should have mandated an Interface on objects written to be used as keys? Regardless, Object should never have provided default hashCode() and equals() imho. It&#39;s probably encouraged many broken hash collections.\r\n\r\nBut anyway, I think the &quot;rule&quot; is written back to front. In the meantime, I&#39;ll keep avoiding using &quot;equals&quot; for equality testing methods :-(","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p><strong>Bah - \"You must override hashCode() in every class that overrides equals().\"</strong></p>\n\n<p>[from Effective Java, by Joshua Bloch?]</p>\n\n<p>Isn't this the wrong way round?  Overriding hashCode likely implies you're writing a hash-key class, but overriding equals certainly does not. There are many classes that are not used as hash-keys, but do want a logical-equality-testing method for some other reason. If you choose \"equals\" for it, you may then be mandated to write a hashCode implementation by overzealous application of this rule. All that achieves is adding untested code in the codebase, an evil waiting to trip someone up in the future. Also writing code you don't need is anti-agile. It's just wrong (and an ide generated one will probably be incompatible with your hand-crafted equals). </p>\n\n<p>Surely they should have mandated an Interface on objects written to be used as keys? Regardless, Object should never have provided default hashCode() and equals() imho. It's probably encouraged many broken hash collections.</p>\n\n<p>But anyway, I think the \"rule\" is written back to front. In the meantime, I'll keep avoiding using \"equals\" for equality testing methods :-(</p>\n"},{"tags":[],"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458825921,"creation_date":1458825411,"answer_id":36201148,"question_id":2265503,"body_markdown":"In the example below, if you comment out the override for equals or hashcode in the Person class, this code will fail to look up Tom&#39;s order. Using the default implementation of hashcode can cause failures in hashtable lookups.\r\n\r\nWhat I have below is a simplified code that pulls up people&#39;s order by Person. Person is being used as a key in the hashtable.\r\n\r\n\r\n    public class Person {\r\n        String name;\r\n        int age;\r\n        String socialSecurityNumber;\r\n    \r\n        public Person(String name, int age, String socialSecurityNumber) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.socialSecurityNumber = socialSecurityNumber;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object p) {\r\n            //Person is same if social security number is same\r\n    \r\n            if ((p instanceof Person) &amp;&amp; this.socialSecurityNumber.equals(((Person) p).socialSecurityNumber)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {        //I am using a hashing function in String.java instead of writing my own.\r\n            return socialSecurityNumber.hashCode();\r\n        }\r\n    }\r\n\r\n \r\n    public class Order {\r\n        String[]  items;\r\n    \r\n        public void insertOrder(String[]  items)\r\n        {\r\n            this.items=items;\r\n        }\r\n    \r\n    }\r\n\r\n \r\n\r\n    import java.util.Hashtable;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n           Person p1=new Person(&quot;Tom&quot;,32,&quot;548-56-4412&quot;);\r\n            Person p2=new Person(&quot;Jerry&quot;,60,&quot;456-74-4125&quot;);\r\n            Person p3=new Person(&quot;Sherry&quot;,38,&quot;418-55-1235&quot;);\r\n    \r\n            Order order1=new Order();\r\n            order1.insertOrder(new String[]{&quot;mouse&quot;,&quot;car charger&quot;});\r\n    \r\n            Order order2=new Order();\r\n            order2.insertOrder(new String[]{&quot;Multi vitamin&quot;});\r\n    \r\n            Order order3=new Order();\r\n            order3.insertOrder(new String[]{&quot;handbag&quot;, &quot;iPod&quot;});\r\n    \r\n            Hashtable&lt;Person,Order&gt; hashtable=new Hashtable&lt;Person,Order&gt;();\r\n            hashtable.put(p1,order1);\r\n            hashtable.put(p2,order2);\r\n            hashtable.put(p3,order3);\r\n    \r\n           //The line below will fail if Person class does not override hashCode()\r\n           Order tomOrder= hashtable.get(new Person(&quot;Tom&quot;, 32, &quot;548-56-4412&quot;));\r\n            for(String item:tomOrder.items)\r\n            {\r\n                System.out.println(item);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>In the example below, if you comment out the override for equals or hashcode in the Person class, this code will fail to look up Tom's order. Using the default implementation of hashcode can cause failures in hashtable lookups.</p>\n\n<p>What I have below is a simplified code that pulls up people's order by Person. Person is being used as a key in the hashtable.</p>\n\n<pre><code>public class Person {\n    String name;\n    int age;\n    String socialSecurityNumber;\n\n    public Person(String name, int age, String socialSecurityNumber) {\n        this.name = name;\n        this.age = age;\n        this.socialSecurityNumber = socialSecurityNumber;\n    }\n\n    @Override\n    public boolean equals(Object p) {\n        //Person is same if social security number is same\n\n        if ((p instanceof Person) &amp;&amp; this.socialSecurityNumber.equals(((Person) p).socialSecurityNumber)) {\n            return true;\n        } else {\n            return false;\n        }\n\n    }\n\n    @Override\n    public int hashCode() {        //I am using a hashing function in String.java instead of writing my own.\n        return socialSecurityNumber.hashCode();\n    }\n}\n\n\npublic class Order {\n    String[]  items;\n\n    public void insertOrder(String[]  items)\n    {\n        this.items=items;\n    }\n\n}\n\n\n\nimport java.util.Hashtable;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n       Person p1=new Person(\"Tom\",32,\"548-56-4412\");\n        Person p2=new Person(\"Jerry\",60,\"456-74-4125\");\n        Person p3=new Person(\"Sherry\",38,\"418-55-1235\");\n\n        Order order1=new Order();\n        order1.insertOrder(new String[]{\"mouse\",\"car charger\"});\n\n        Order order2=new Order();\n        order2.insertOrder(new String[]{\"Multi vitamin\"});\n\n        Order order3=new Order();\n        order3.insertOrder(new String[]{\"handbag\", \"iPod\"});\n\n        Hashtable&lt;Person,Order&gt; hashtable=new Hashtable&lt;Person,Order&gt;();\n        hashtable.put(p1,order1);\n        hashtable.put(p2,order2);\n        hashtable.put(p3,order3);\n\n       //The line below will fail if Person class does not override hashCode()\n       Order tomOrder= hashtable.get(new Person(\"Tom\", 32, \"548-56-4412\"));\n        for(String item:tomOrder.items)\n        {\n            System.out.println(item);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1750637,"reputation":2903,"user_id":1599792,"accept_rate":100,"display_name":"Aftab"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472364831,"creation_date":1472364831,"answer_id":39188496,"question_id":2265503,"body_markdown":"**Equals and Hashcode methods in Java**\r\n\r\nThey are methods of java.lang.Object class which is the super class of all the classes (custom classes as well and others defined in java API).\r\n\r\n**Implementation:**\r\n\r\n&gt; public boolean equals(Object obj)\r\n&gt; \r\n&gt; public int hashCode()\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**public boolean equals(Object obj)**\r\n\r\nThis method simply checks if two object references x and y refer to the same object. i.e. It checks if x == y.\r\n\r\n*It is reflexive:* for any reference value x, x.equals(x) should return true.\r\n\r\n*It is symmetric:* for any reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.\r\n\r\n*It is transitive:* for any reference values x, y, and z, if x.equals(y) returns true and y.equals(z) returns true, then x.equals(z) should return true.\r\n\r\n*It is consistent:* for any reference values x and y, multiple invocations of x.equals(y) consistently return true or consistently return false, provided no information used in equals comparisons on the object is modified.\r\n\r\n&gt; For any non-null reference value x, x.equals(null) should return\r\n&gt; false.\r\n\r\n**public int hashCode()**\r\n\r\nThis method returns the hash code value for the object on which this method is invoked. This method returns the hash code value as an integer and is supported for the benefit of hashing based collection classes such as Hashtable, HashMap, HashSet etc. This method must be overridden in every class that overrides the equals method.\r\n\r\n\r\n\r\n**The general contract of hashCode is:**\r\n\r\nWhenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. \r\n\r\nThis integer need not remain consistent from one execution of an application to another execution of the same application.\r\n\r\nIf two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.\r\n\r\nIt is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hashtables.\r\n\r\n\r\n&gt; Equal objects must produce the same hash code as long as they are\r\n&gt; equal, however unequal objects need not produce distinct hash codes.\r\n\r\n\r\nResources: \r\n\r\n[JavaRanch][2]\r\n\r\n\r\n[Picture][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0aaFt.jpg\r\n  [2]: http://www.javaranch.com/journal/2002/10/equalhash.html\r\n  [3]: https://www.google.co.in/imgres?imgurl=https%3A%2F%2Fi.ytimg.com%2Fvi%2FfAlRR2p9Le0%2Fmaxresdefault.jpg&amp;imgrefurl=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DfAlRR2p9Le0&amp;docid=tHx46In-72mrAM&amp;tbnid=VTZXQ9fiF-XDcM%3A&amp;w=1280&amp;h=720&amp;bih=678&amp;biw=1319&amp;ved=0ahUKEwiQj-fBuePOAhXHq48KHY8VBt4QMwgmKAgwCA&amp;iact=mrc&amp;uact=8","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p><strong>Equals and Hashcode methods in Java</strong></p>\n\n<p>They are methods of java.lang.Object class which is the super class of all the classes (custom classes as well and others defined in java API).</p>\n\n<p><strong>Implementation:</strong></p>\n\n<blockquote>\n  <p>public boolean equals(Object obj)</p>\n  \n  <p>public int hashCode()</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/0aaFt.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0aaFt.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>public boolean equals(Object obj)</strong></p>\n\n<p>This method simply checks if two object references x and y refer to the same object. i.e. It checks if x == y.</p>\n\n<p><em>It is reflexive:</em> for any reference value x, x.equals(x) should return true.</p>\n\n<p><em>It is symmetric:</em> for any reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.</p>\n\n<p><em>It is transitive:</em> for any reference values x, y, and z, if x.equals(y) returns true and y.equals(z) returns true, then x.equals(z) should return true.</p>\n\n<p><em>It is consistent:</em> for any reference values x and y, multiple invocations of x.equals(y) consistently return true or consistently return false, provided no information used in equals comparisons on the object is modified.</p>\n\n<blockquote>\n  <p>For any non-null reference value x, x.equals(null) should return\n  false.</p>\n</blockquote>\n\n<p><strong>public int hashCode()</strong></p>\n\n<p>This method returns the hash code value for the object on which this method is invoked. This method returns the hash code value as an integer and is supported for the benefit of hashing based collection classes such as Hashtable, HashMap, HashSet etc. This method must be overridden in every class that overrides the equals method.</p>\n\n<p><strong>The general contract of hashCode is:</strong></p>\n\n<p>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. </p>\n\n<p>This integer need not remain consistent from one execution of an application to another execution of the same application.</p>\n\n<p>If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.</p>\n\n<p>It is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hashtables.</p>\n\n<blockquote>\n  <p>Equal objects must produce the same hash code as long as they are\n  equal, however unequal objects need not produce distinct hash codes.</p>\n</blockquote>\n\n<p>Resources: </p>\n\n<p><a href=\"http://www.javaranch.com/journal/2002/10/equalhash.html\" rel=\"noreferrer\">JavaRanch</a></p>\n\n<p><a href=\"https://www.google.co.in/imgres?imgurl=https%3A%2F%2Fi.ytimg.com%2Fvi%2FfAlRR2p9Le0%2Fmaxresdefault.jpg&amp;imgrefurl=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DfAlRR2p9Le0&amp;docid=tHx46In-72mrAM&amp;tbnid=VTZXQ9fiF-XDcM%3A&amp;w=1280&amp;h=720&amp;bih=678&amp;biw=1319&amp;ved=0ahUKEwiQj-fBuePOAhXHq48KHY8VBt4QMwgmKAgwCA&amp;iact=mrc&amp;uact=8\" rel=\"noreferrer\">Picture</a></p>\n"},{"tags":[],"owner":{"account_id":465099,"reputation":504,"user_id":868981,"accept_rate":0,"display_name":"Cleonjoys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496679048,"creation_date":1496677994,"answer_id":44372788,"question_id":2265503,"body_markdown":"IMHO, it&#39;s as per the rule says - If two objects are equal then they should have same hash, i.e., equal objects should produce equal hash values.\r\n\r\nGiven above, default equals() in Object is == which does comparison on the address, hashCode() returns the address in integer(hash on actual address) which is again distinct for distinct Object.\r\n\r\nIf you need to use the custom Objects in the Hash based collections, you need to override both equals() and hashCode(), example If I want to maintain the HashSet of the Employee Objects, if I don&#39;t use stronger hashCode and equals I may endup overriding the two different Employee Objects, this happen when I use the age as the hashCode(), however I should be using the unique value which can be the Employee ID.","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>IMHO, it's as per the rule says - If two objects are equal then they should have same hash, i.e., equal objects should produce equal hash values.</p>\n\n<p>Given above, default equals() in Object is == which does comparison on the address, hashCode() returns the address in integer(hash on actual address) which is again distinct for distinct Object.</p>\n\n<p>If you need to use the custom Objects in the Hash based collections, you need to override both equals() and hashCode(), example If I want to maintain the HashSet of the Employee Objects, if I don't use stronger hashCode and equals I may endup overriding the two different Employee Objects, this happen when I use the age as the hashCode(), however I should be using the unique value which can be the Employee ID.</p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1503901155,"creation_date":1503899318,"answer_id":45912439,"question_id":2265503,"body_markdown":"1) **The common mistake is shown in the example below.**\r\n \r\n\r\n    public class Car {\r\n    \r\n    \tprivate String color;\r\n    \r\n    \tpublic Car(String color) {\r\n    \t\tthis.color = color;\r\n    \t}\r\n     \r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif(obj==null) return false;\r\n    \t\tif (!(obj instanceof Car))\r\n    \t\t\treturn false;\t\r\n    \t\tif (obj == this)\r\n    \t\t\treturn true;\r\n    \t\treturn this.color.equals(((Car) obj).color);\r\n    \t}\r\n     \r\n    \tpublic static void main(String[] args) {\r\n    \t\tCar a1 = new Car(&quot;green&quot;);\r\n    \t\tCar a2 = new Car(&quot;red&quot;);\r\n     \r\n    \t\t//hashMap stores Car type and its quantity\r\n    \t\tHashMap&lt;Car, Integer&gt; m = new HashMap&lt;Car, Integer&gt;();\r\n    \t\tm.put(a1, 10);\r\n    \t\tm.put(a2, 20);\r\n    \t\tSystem.out.println(m.get(new Car(&quot;green&quot;)));\r\n    \t}\r\n    }\r\n\r\n the green Car is not found\r\n \r\n **2. Problem caused by hashCode()**\r\n\r\nThe problem is caused by the un-overridden method `hashCode()`. The contract between `equals()` and `hashCode()` is:\r\n\r\n1. If two objects are equal, then they must have the same hash code.\r\n2. If two objects have the same hash code, they may or may not be equal.\r\n\r\n        public int hashCode(){\t\r\n          return this.color.hashCode();\t\r\n        }\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>1) <strong>The common mistake is shown in the example below.</strong></p>\n\n<pre><code>public class Car {\n\n    private String color;\n\n    public Car(String color) {\n        this.color = color;\n    }\n\n    public boolean equals(Object obj) {\n        if(obj==null) return false;\n        if (!(obj instanceof Car))\n            return false;   \n        if (obj == this)\n            return true;\n        return this.color.equals(((Car) obj).color);\n    }\n\n    public static void main(String[] args) {\n        Car a1 = new Car(\"green\");\n        Car a2 = new Car(\"red\");\n\n        //hashMap stores Car type and its quantity\n        HashMap&lt;Car, Integer&gt; m = new HashMap&lt;Car, Integer&gt;();\n        m.put(a1, 10);\n        m.put(a2, 20);\n        System.out.println(m.get(new Car(\"green\")));\n    }\n}\n</code></pre>\n\n<p>the green Car is not found</p>\n\n<p><strong>2. Problem caused by hashCode()</strong></p>\n\n<p>The problem is caused by the un-overridden method <code>hashCode()</code>. The contract between <code>equals()</code> and <code>hashCode()</code> is:</p>\n\n<ol>\n<li>If two objects are equal, then they must have the same hash code.</li>\n<li><p>If two objects have the same hash code, they may or may not be equal.</p>\n\n<pre><code>public int hashCode(){  \n  return this.color.hashCode(); \n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504341026,"creation_date":1504341026,"answer_id":46011948,"question_id":2265503,"body_markdown":" String class and wrapper classes have different implementation of `equals()` and `hashCode()` methods than Object class. equals() method of Object class compares the references of the objects, not the contents. hashCode() method of Object class returns distinct hashcode for every single object whether the contents are same.\r\n\r\nIt leads problem when you use Map collection and the key is of Persistent type, StringBuffer/builder type. Since they don&#39;t override equals() and hashCode() unlike String class, equals() will return false when you compare two different objects even though both have same contents. It will make the hashMap storing same content keys. Storing same content keys means it is violating the rule of Map because Map doesnt allow duplicate keys at all.\r\nTherefore you override equals() as well as hashCode() methods in your class and provide the implementation(IDE can generate these methods) so that they work same as String&#39;s equals() and hashCode() and prevent same content keys. \r\n\r\nYou have to override hashCode() method along with equals() because equals() work according hashcode. \r\n\r\nMoreover overriding hashCode() method along with equals() helps to intact the equals()-hashCode() contract: &quot;If two objects are equal, then they must have the same hash code.&quot;\r\n\r\n**When do you need to write custom implementation for hashCode()?**\r\n\r\nAs we know that internal working of HashMap is on principle of Hashing. There are certain buckets where entrysets get stored. You customize the hashCode() implementation according your requirement so that same category objects can be stored into same index. \r\nwhen you store the values into Map collection using `put(k,v)`method, the internal implementation of put() is:\r\n\r\n    put(k, v){\r\n    hash(k);\r\n    index=hash &amp; (n-1);\r\n    }\r\nMeans, it generates index and the index is generated based on the hashcode of particular key object. So make this method generate hashcode according your requirement because same hashcode entrysets will be stored into same bucket or index. \r\n\r\nThat&#39;s it!\r\n\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>String class and wrapper classes have different implementation of <code>equals()</code> and <code>hashCode()</code> methods than Object class. equals() method of Object class compares the references of the objects, not the contents. hashCode() method of Object class returns distinct hashcode for every single object whether the contents are same.</p>\n\n<p>It leads problem when you use Map collection and the key is of Persistent type, StringBuffer/builder type. Since they don't override equals() and hashCode() unlike String class, equals() will return false when you compare two different objects even though both have same contents. It will make the hashMap storing same content keys. Storing same content keys means it is violating the rule of Map because Map doesnt allow duplicate keys at all.\nTherefore you override equals() as well as hashCode() methods in your class and provide the implementation(IDE can generate these methods) so that they work same as String's equals() and hashCode() and prevent same content keys. </p>\n\n<p>You have to override hashCode() method along with equals() because equals() work according hashcode. </p>\n\n<p>Moreover overriding hashCode() method along with equals() helps to intact the equals()-hashCode() contract: \"If two objects are equal, then they must have the same hash code.\"</p>\n\n<p><strong>When do you need to write custom implementation for hashCode()?</strong></p>\n\n<p>As we know that internal working of HashMap is on principle of Hashing. There are certain buckets where entrysets get stored. You customize the hashCode() implementation according your requirement so that same category objects can be stored into same index. \nwhen you store the values into Map collection using <code>put(k,v)</code>method, the internal implementation of put() is:</p>\n\n<pre><code>put(k, v){\nhash(k);\nindex=hash &amp; (n-1);\n}\n</code></pre>\n\n<p>Means, it generates index and the index is generated based on the hashcode of particular key object. So make this method generate hashcode according your requirement because same hashcode entrysets will be stored into same bucket or index. </p>\n\n<p>That's it!</p>\n"},{"tags":[],"owner":{"account_id":7331353,"reputation":101,"user_id":5584138,"display_name":"Tavash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524104835,"creation_date":1524104835,"answer_id":49911781,"question_id":2265503,"body_markdown":"To help you check for duplicate Objects, we need a custom equals and hashCode.\r\n------------------------------------------------------------------------\r\nSince hashcode always returns a number its always fast to retrieve an object using a number rather than an alphabetic key. **How will it do?** Assume we created a new object by passing some value which is already available in some other object. Now the new object will return the same hash value as of another object because the value passed is same. Once the same hash value is returned, JVM will go to the same memory address every time and if in case there are more than one objects present for the same hash value it will use equals() method to identify the correct object.","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<h2>To help you check for duplicate Objects, we need a custom equals and hashCode.</h2>\n\n<p>Since hashcode always returns a number its always fast to retrieve an object using a number rather than an alphabetic key. <strong>How will it do?</strong> Assume we created a new object by passing some value which is already available in some other object. Now the new object will return the same hash value as of another object because the value passed is same. Once the same hash value is returned, JVM will go to the same memory address every time and if in case there are more than one objects present for the same hash value it will use equals() method to identify the correct object.</p>\n"},{"tags":[],"owner":{"account_id":5931858,"reputation":369,"user_id":4666063,"display_name":"Ammy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531751036,"creation_date":1531751036,"answer_id":51364053,"question_id":2265503,"body_markdown":"When you want to store and retrieve your custom object as a key in Map, then you should always override equals and hashCode in your custom Object .\r\nEg:\r\n\r\n    Person p1 = new Person(&quot;A&quot;,23);\r\n    Person p2 = new Person(&quot;A&quot;,23);\r\n    HashMap map = new HashMap();\r\n    map.put(p1,&quot;value 1&quot;);\r\n    map.put(p2,&quot;value 2&quot;);\r\n\r\nHere p1 &amp; p2 will consider as only one object and `map` size will be only 1 because they are equal.\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>When you want to store and retrieve your custom object as a key in Map, then you should always override equals and hashCode in your custom Object .\nEg:</p>\n\n<pre><code>Person p1 = new Person(\"A\",23);\nPerson p2 = new Person(\"A\",23);\nHashMap map = new HashMap();\nmap.put(p1,\"value 1\");\nmap.put(p2,\"value 2\");\n</code></pre>\n\n<p>Here p1 &amp; p2 will consider as only one object and <code>map</code> size will be only 1 because they are equal.</p>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531827473,"creation_date":1531823973,"answer_id":51379321,"question_id":2265503,"body_markdown":"\r\n\r\n    public class Employee {\r\n    \r\n    \tprivate int empId;\r\n    \tprivate String empName;\r\n    \r\n    \tpublic Employee(int empId, String empName) {\r\n    \t\tsuper();\r\n    \t\tthis.empId = empId;\r\n    \t\tthis.empName = empName;\r\n    \t}\r\n    \r\n    \tpublic int getEmpId() {\r\n    \t\treturn empId;\r\n    \t}\r\n    \r\n    \tpublic void setEmpId(int empId) {\r\n    \t\tthis.empId = empId;\r\n    \t}\r\n    \r\n    \tpublic String getEmpName() {\r\n    \t\treturn empName;\r\n    \t}\r\n    \r\n    \tpublic void setEmpName(String empName) {\r\n    \t\tthis.empName = empName;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Employee [empId=&quot; + empId + &quot;, empName=&quot; + empName + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn empId + empName.hashCode();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \r\n    \t\tif (this == obj) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\tif (!(this instanceof Employee)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tEmployee emp = (Employee) obj;\r\n    \t\treturn this.getEmpId() == emp.getEmpId() &amp;&amp; this.getEmpName().equals(emp.getEmpName());\r\n    \t}\r\n    \r\n    }\r\n\r\nTest Class \r\n\r\n\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            Employee emp1 = new Employee(101,&quot;Manash&quot;);\r\n            Employee emp2 = new Employee(101,&quot;Manash&quot;);\r\n            Employee emp3 = new Employee(103,&quot;Ranjan&quot;);\r\n            System.out.println(emp1.hashCode());\r\n            System.out.println(emp2.hashCode());\r\n            System.out.println(emp1.equals(emp2));\r\n            System.out.println(emp1.equals(emp3));\r\n        }\r\n    \r\n    }\r\n\r\nIn Object Class equals(Object obj) is used to compare address comparesion thats why when in Test class if you compare two objects then equals method giving false but when we override hashcode() the it can compare content and give proper result.\r\n\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<pre><code>public class Employee {\n\n    private int empId;\n    private String empName;\n\n    public Employee(int empId, String empName) {\n        super();\n        this.empId = empId;\n        this.empName = empName;\n    }\n\n    public int getEmpId() {\n        return empId;\n    }\n\n    public void setEmpId(int empId) {\n        this.empId = empId;\n    }\n\n    public String getEmpName() {\n        return empName;\n    }\n\n    public void setEmpName(String empName) {\n        this.empName = empName;\n    }\n\n    @Override\n    public String toString() {\n        return \"Employee [empId=\" + empId + \", empName=\" + empName + \"]\";\n    }\n\n    @Override\n    public int hashCode() {\n        return empId + empName.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n\n        if (this == obj) {\n            return true;\n        }\n        if (!(this instanceof Employee)) {\n            return false;\n        }\n        Employee emp = (Employee) obj;\n        return this.getEmpId() == emp.getEmpId() &amp;&amp; this.getEmpName().equals(emp.getEmpName());\n    }\n\n}\n</code></pre>\n\n<p>Test Class </p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        Employee emp1 = new Employee(101,\"Manash\");\n        Employee emp2 = new Employee(101,\"Manash\");\n        Employee emp3 = new Employee(103,\"Ranjan\");\n        System.out.println(emp1.hashCode());\n        System.out.println(emp2.hashCode());\n        System.out.println(emp1.equals(emp2));\n        System.out.println(emp1.equals(emp3));\n    }\n\n}\n</code></pre>\n\n<p>In Object Class equals(Object obj) is used to compare address comparesion thats why when in Test class if you compare two objects then equals method giving false but when we override hashcode() the it can compare content and give proper result.</p>\n"},{"tags":[],"owner":{"account_id":14107418,"reputation":482,"user_id":10191125,"display_name":"91StarSky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584013545,"creation_date":1584013545,"answer_id":60653486,"question_id":2265503,"body_markdown":"If you override `equals()` and not `hashcode()`, you will not find any problem unless you or someone else uses that class type in a hashed collection like `HashSet`.\r\nPeople before me have clearly explained the documented theory multiple times, I am just here to provide a very simple example.\r\n\r\nConsider a class whose `equals()` need to mean something customized :-\r\n\r\n\t\tpublic class Rishav {\r\n\t\t\t\r\n\t\t\tprivate String rshv;\r\n\t\t\r\n\t\t\tpublic Rishav(String rshv) {\r\n\t\t\t\tthis.rshv = rshv;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t/**\r\n\t\t\t* @return the rshv\r\n\t\t\t*/\r\n\t\t\tpublic String getRshv() {\r\n\t\t\t\treturn rshv;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t/**\r\n\t\t\t* @param rshv the rshv to set\r\n\t\t\t*/\r\n\t\t\tpublic void setRshv(String rshv) {\r\n\t\t\t\tthis.rshv = rshv;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic boolean equals(Object obj) {\r\n\t\t\t\tif (obj instanceof Rishav) {\r\n\t\t\t\t\tobj = (Rishav) obj;\r\n\t\t\t\t\tif (this.rshv.equals(((Rishav) obj).getRshv())) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic int hashCode() {\r\n\t\t\t\treturn rshv.hashCode();\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\r\nNow consider this main class :-\r\n\r\n\t\timport java.util.HashSet;\r\n\t\timport java.util.Set;\r\n\t\t\r\n\t\tpublic class TestRishav {\r\n\t\t\r\n\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\tRishav rA = new Rishav(&quot;rishav&quot;);\r\n\t\t\t\tRishav rB = new Rishav(&quot;rishav&quot;);\r\n\t\t\t\tSystem.out.println(rA.equals(rB));\r\n\t\t\t\tSystem.out.println(&quot;-----------------------------------&quot;);\r\n\t\t\t\t\r\n\t\t\t\tSet&lt;Rishav&gt; hashed = new HashSet&lt;&gt;();\r\n\t\t\t\thashed.add(rA);\r\n\t\t\t\tSystem.out.println(hashed.contains(rB));\r\n\t\t\t\tSystem.out.println(&quot;-----------------------------------&quot;);\r\n\t\t\t\t\r\n\t\t\t\thashed.add(rB);\r\n\t\t\t\tSystem.out.println(hashed.size());\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\r\nThis will yield the following output :-\r\n\r\n\t\ttrue\r\n\t\t-----------------------------------\r\n\t\ttrue\r\n\t\t-----------------------------------\r\n\t\t1\r\n\r\nI am happy with the results. But if I have not overridden `hashCode()`, it will cause nightmare as objects of `Rishav` with same member content will no longer be treated as unique as the `hashCode` will be different, as generated by default behavior, here&#39;s the would be output :-\r\n\r\n\t\ttrue\r\n\t\t-----------------------------------\r\n\t\tfalse\r\n\t\t-----------------------------------\r\n\t\t2\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>If you override <code>equals()</code> and not <code>hashcode()</code>, you will not find any problem unless you or someone else uses that class type in a hashed collection like <code>HashSet</code>.\nPeople before me have clearly explained the documented theory multiple times, I am just here to provide a very simple example.</p>\n\n<p>Consider a class whose <code>equals()</code> need to mean something customized :-</p>\n\n<pre><code>    public class Rishav {\n\n        private String rshv;\n\n        public Rishav(String rshv) {\n            this.rshv = rshv;\n        }\n\n        /**\n        * @return the rshv\n        */\n        public String getRshv() {\n            return rshv;\n        }\n\n        /**\n        * @param rshv the rshv to set\n        */\n        public void setRshv(String rshv) {\n            this.rshv = rshv;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (obj instanceof Rishav) {\n                obj = (Rishav) obj;\n                if (this.rshv.equals(((Rishav) obj).getRshv())) {\n                    return true;\n                } else {\n                    return false;\n                }\n            } else {\n                return false;\n            }\n        }\n\n        @Override\n        public int hashCode() {\n            return rshv.hashCode();\n        }\n\n    }\n</code></pre>\n\n<p>Now consider this main class :-</p>\n\n<pre><code>    import java.util.HashSet;\n    import java.util.Set;\n\n    public class TestRishav {\n\n        public static void main(String[] args) {\n            Rishav rA = new Rishav(\"rishav\");\n            Rishav rB = new Rishav(\"rishav\");\n            System.out.println(rA.equals(rB));\n            System.out.println(\"-----------------------------------\");\n\n            Set&lt;Rishav&gt; hashed = new HashSet&lt;&gt;();\n            hashed.add(rA);\n            System.out.println(hashed.contains(rB));\n            System.out.println(\"-----------------------------------\");\n\n            hashed.add(rB);\n            System.out.println(hashed.size());\n        }\n\n    }\n</code></pre>\n\n<p>This will yield the following output :-</p>\n\n<pre><code>    true\n    -----------------------------------\n    true\n    -----------------------------------\n    1\n</code></pre>\n\n<p>I am happy with the results. But if I have not overridden <code>hashCode()</code>, it will cause nightmare as objects of <code>Rishav</code> with same member content will no longer be treated as unique as the <code>hashCode</code> will be different, as generated by default behavior, here's the would be output :-</p>\n\n<pre><code>    true\n    -----------------------------------\n    false\n    -----------------------------------\n    2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3832892,"reputation":158,"user_id":3178005,"display_name":"steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604665611,"creation_date":1604665611,"answer_id":64714679,"question_id":2265503,"body_markdown":"There&#39;s no mention in this answer of testing the equals/hashcode contract.\r\n\r\nI&#39;ve found the [EqualsVerifier][1] library to be very useful and comprehensive. It is also very easy to use.\r\n\r\nAlso, building `equals()` and `hashCode()` methods from scratch involves a lot of boilerplate code. The [Apache Commons Lang][2] library provides the [EqualsBuilder][3] and [HashCodeBuilder][4] classes. These classes greatly simplify implementing `equals()` and `hashCode()` methods for complex classes.\r\n\r\nAs an aside, it&#39;s worth considering overriding the `toString()` method to aid debugging. [Apache Commons Lang][2] library provides the [ToStringBuilder][5] class to help with this.\r\n\r\n\r\n  [1]: https://github.com/jqno/equalsverifier\r\n  [2]: https://commons.apache.org/proper/commons-lang/\r\n  [3]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\r\n  [4]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\r\n  [5]: https://commons.apache.org/proper/commons-lang/apidocs/index.html?org/apache/commons/lang3/builder/HashCodeBuilder.html","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>There's no mention in this answer of testing the equals/hashcode contract.</p>\n<p>I've found the <a href=\"https://github.com/jqno/equalsverifier\" rel=\"nofollow noreferrer\">EqualsVerifier</a> library to be very useful and comprehensive. It is also very easy to use.</p>\n<p>Also, building <code>equals()</code> and <code>hashCode()</code> methods from scratch involves a lot of boilerplate code. The <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang</a> library provides the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">EqualsBuilder</a> and <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">HashCodeBuilder</a> classes. These classes greatly simplify implementing <code>equals()</code> and <code>hashCode()</code> methods for complex classes.</p>\n<p>As an aside, it's worth considering overriding the <code>toString()</code> method to aid debugging. <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang</a> library provides the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/index.html?org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">ToStringBuilder</a> class to help with this.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1625050063,"creation_date":1616968761,"answer_id":66846607,"question_id":2265503,"body_markdown":"**Why we override `equals()` method**\r\n\r\nIn Java we can not overload how operators like ==, +=, -+ behave. They are behaving a certain way. So let&#39;s focus on the operator == for our case here.\r\n\r\nHow operator == works. \r\n\r\nIt checks if 2 references that we compare point to the same instance in memory. Operator `==` will resolve to true only if those 2 references represent the same instance in memory.\r\n\r\nSo now let&#39;s consider the following example\r\n\r\n    public class Person {\r\n    \r\n          private Integer age;\r\n          private String name;\r\n        \r\n          ..getters, setters, constructors\r\n          }\r\n\r\nSo let&#39;s say that in your program you have built 2 Person objects on different places and you wish to compare them.\r\n\r\n    Person person1 = new Person(&quot;Mike&quot;, 34);\r\n    Person person2 = new Person(&quot;Mike&quot;, 34);\r\n    System.out.println ( person1 == person2 );  --&gt; will print false!\r\n\r\nThose 2 objects from business perspective look the same right? For JVM they are not the same. Since they are both created with `new` keyword those instances are located in different segments in memory. Therefore the operator == will return **false**\r\n\r\nBut if we can not override the == operator how can we say to JVM that we want those 2 objects to be treated as same. There comes the `.equals()` method in play.\r\n\r\nYou can override `equals()` to check if some objects have same values for specific fields to be considered equal.\r\n\r\nYou can select which fields you want to be compared. If we say that 2 Person objects will be the same if and only if they have the same age and same name, then the IDE will create something like the following for automatic generation of equals()\r\n\r\n    @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Person person = (Person) o;\r\n            return age == person.age &amp;&amp;\r\n                    name.equals(person.name);\r\n        }\r\n\r\nLet&#39;s go back to our previous example\r\n\r\n        Person person1 = new Person(&quot;Mike&quot;, 34);\r\n        Person person2 = new Person(&quot;Mike&quot;, 34);\r\n        System.out.println ( person1 == person2 );   --&gt; will print false!\r\n        System.out.println ( person1.equals(person2) );  --&gt; will print true!\r\n\r\nSo we can not overload == operator to compare objects the way we want but Java gave us another way, the `equals()` method, which we can override as we want.\r\n\r\n**Keep in mind** however, if we don&#39;t provide our custom version of `.equals()` (aka override) in our class then the predefined `.equals()` from Object class and `==` operator will behave exactly the same.\r\n\r\nDefault `equals()` method which is inherited from Object will check whether both compared instances are the same in memory!\r\n\r\n**Why we override `hashCode()` method**\r\n\r\n\r\nSome Data Structures in java like HashSet, HashMap store their elements based on a hash function which is applied on those elements. The hashing function is the `hashCode()`\r\n\r\nIf we have a choice of overriding `.equals()` method then we must also have a choice of overriding `hashCode()` method. There is a reason for that.\r\n\r\nDefault implementation of `hashCode()` which is inherited from Object considers all objects in memory unique!\r\n\r\nLet&#39;s get back to those hash data structures. There is a rule for those data structures.\r\n\r\n\r\nHashSet can not contain duplicate values and HashMap can not contain duplicate keys\r\n\r\n*HashSet is implemented with a HashMap behind the scenes where each value of a HashSet is stored as a key in a HashMap.*\r\n\r\nSo we have to understand how a HashMap works.\r\n\r\nIn a simple way a HashMap is a native array that has some buckets. Each bucket has a linkedList. In that linkedList our keys are stored. HashMap locates the correct linkedList for each key by applying `hashCode()` method and after that it iterates through all elements of that linkedList and applies `equals()` method on each of these elements to check if that element is already contained there. No duplicate keys are allowed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen we put something inside a HashMap, the key is stored in one of those linkedLists. In which linkedList that key will be stored is shown by the result of `hashCode()` method on that key. So if `key1.hashCode()` has as a result 4, then that key1 will be stored on the 4th bucket of the array, in the linkedList that exists there.\r\n\r\nBy default `hashCode()` method returns a different result for each different instance. If we have the default `equals()` which behaves like == which considers all instances in memory as different objects we don&#39;t have any problem.\r\n\r\nBut in our previous example we said we want Person instances to be considered equal if their ages and names match.\r\n\r\n        Person person1 = new Person(&quot;Mike&quot;, 34);\r\n        Person person2 = new Person(&quot;Mike&quot;, 34);\r\n        System.out.println ( person1.equals(person2) );  --&gt; will print true!\r\n\r\nNow let&#39;s create a map to store those instances as keys with some string as pair value\r\n\r\n   \r\n\r\n    Map&lt;Person, String&gt; map = new HashMap();\r\n    map.put(person1, &quot;1&quot;);\r\n    map.put(person2, &quot;2&quot;);\r\n\r\nIn Person class we have not overridden the `hashCode` method but we have overridden `equals` method. Since the default `hashCode` provides different results for different java instances `person1.hashCode()` and `person2.hashCode()` have big chances of having different results.\r\n\r\nOur map might end with those persons in different linkedLists.\r\n\r\n\r\n[![enter image description here][2]][2] \r\n\r\nThis is against the logic of a HashMap\r\n\r\n**A HashMap is not allowed to have multiple equal keys!**\r\n\r\nBut ours now has and the reason is that the default `hashCode()` which was inherited from Object Class was not enough. Not after we have overridden the `equals()` method on Person Class. \r\n\r\nThat is the reason why we must override `hashCode()` method after we have overridden `equals` method.\r\n\r\nNow let&#39;s fix that. Let&#39;s override our `hashCode()` method to consider the same fields that `equals()` considers, namely `age, name`\r\n\r\n     public class Person {\r\n    \r\n          private Integer age;\r\n          private String name;\r\n        \r\n          ..getters, setters, constructors\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Person person = (Person) o;\r\n            return age == person.age &amp;&amp;\r\n                    name.equals(person.name);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(name, age);\r\n        }\r\n\r\n          }\r\n\r\nNow let&#39;s try again to save those keys in our HashMap\r\n\r\n    Map&lt;Person, String&gt; map = new HashMap();\r\n    map.put(person1, &quot;1&quot;);\r\n    map.put(person2, &quot;2&quot;);\r\n\r\n`person1.hashCode()` and `person2.hashCode()` will definitely be the same. Let&#39;s say it is 0.\r\n\r\nHashMap will go to bucket 0 and in that LinkedList will save the person1 as key with the value &quot;1&quot;. For the second put HashMap is intelligent enough and when it goes again to bucket 0 to save person2 key with value &quot;2&quot; it will see that another equal key already exists there. So it will overwrite the previous key. So in the end only person2 key will exist in our HashMap.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nNow we are aligned with the rule of Hash Map that says no multiple equal keys are allowed!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aMwel.png\r\n  [2]: https://i.stack.imgur.com/TOSNY.png\r\n  [3]: https://i.stack.imgur.com/i7hek.png","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p><strong>Why we override <code>equals()</code> method</strong></p>\n<p>In Java we can not overload how operators like ==, +=, -+ behave. They are behaving a certain way. So let's focus on the operator == for our case here.</p>\n<p>How operator == works.</p>\n<p>It checks if 2 references that we compare point to the same instance in memory. Operator <code>==</code> will resolve to true only if those 2 references represent the same instance in memory.</p>\n<p>So now let's consider the following example</p>\n<pre><code>public class Person {\n\n      private Integer age;\n      private String name;\n    \n      ..getters, setters, constructors\n      }\n</code></pre>\n<p>So let's say that in your program you have built 2 Person objects on different places and you wish to compare them.</p>\n<pre><code>Person person1 = new Person(&quot;Mike&quot;, 34);\nPerson person2 = new Person(&quot;Mike&quot;, 34);\nSystem.out.println ( person1 == person2 );  --&gt; will print false!\n</code></pre>\n<p>Those 2 objects from business perspective look the same right? For JVM they are not the same. Since they are both created with <code>new</code> keyword those instances are located in different segments in memory. Therefore the operator == will return <strong>false</strong></p>\n<p>But if we can not override the == operator how can we say to JVM that we want those 2 objects to be treated as same. There comes the <code>.equals()</code> method in play.</p>\n<p>You can override <code>equals()</code> to check if some objects have same values for specific fields to be considered equal.</p>\n<p>You can select which fields you want to be compared. If we say that 2 Person objects will be the same if and only if they have the same age and same name, then the IDE will create something like the following for automatic generation of equals()</p>\n<pre><code>@Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Person person = (Person) o;\n        return age == person.age &amp;&amp;\n                name.equals(person.name);\n    }\n</code></pre>\n<p>Let's go back to our previous example</p>\n<pre><code>    Person person1 = new Person(&quot;Mike&quot;, 34);\n    Person person2 = new Person(&quot;Mike&quot;, 34);\n    System.out.println ( person1 == person2 );   --&gt; will print false!\n    System.out.println ( person1.equals(person2) );  --&gt; will print true!\n</code></pre>\n<p>So we can not overload == operator to compare objects the way we want but Java gave us another way, the <code>equals()</code> method, which we can override as we want.</p>\n<p><strong>Keep in mind</strong> however, if we don't provide our custom version of <code>.equals()</code> (aka override) in our class then the predefined <code>.equals()</code> from Object class and <code>==</code> operator will behave exactly the same.</p>\n<p>Default <code>equals()</code> method which is inherited from Object will check whether both compared instances are the same in memory!</p>\n<p><strong>Why we override <code>hashCode()</code> method</strong></p>\n<p>Some Data Structures in java like HashSet, HashMap store their elements based on a hash function which is applied on those elements. The hashing function is the <code>hashCode()</code></p>\n<p>If we have a choice of overriding <code>.equals()</code> method then we must also have a choice of overriding <code>hashCode()</code> method. There is a reason for that.</p>\n<p>Default implementation of <code>hashCode()</code> which is inherited from Object considers all objects in memory unique!</p>\n<p>Let's get back to those hash data structures. There is a rule for those data structures.</p>\n<p>HashSet can not contain duplicate values and HashMap can not contain duplicate keys</p>\n<p><em>HashSet is implemented with a HashMap behind the scenes where each value of a HashSet is stored as a key in a HashMap.</em></p>\n<p>So we have to understand how a HashMap works.</p>\n<p>In a simple way a HashMap is a native array that has some buckets. Each bucket has a linkedList. In that linkedList our keys are stored. HashMap locates the correct linkedList for each key by applying <code>hashCode()</code> method and after that it iterates through all elements of that linkedList and applies <code>equals()</code> method on each of these elements to check if that element is already contained there. No duplicate keys are allowed.</p>\n<p><a href=\"https://i.stack.imgur.com/aMwel.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aMwel.png\" alt=\"enter image description here\" /></a></p>\n<p>When we put something inside a HashMap, the key is stored in one of those linkedLists. In which linkedList that key will be stored is shown by the result of <code>hashCode()</code> method on that key. So if <code>key1.hashCode()</code> has as a result 4, then that key1 will be stored on the 4th bucket of the array, in the linkedList that exists there.</p>\n<p>By default <code>hashCode()</code> method returns a different result for each different instance. If we have the default <code>equals()</code> which behaves like == which considers all instances in memory as different objects we don't have any problem.</p>\n<p>But in our previous example we said we want Person instances to be considered equal if their ages and names match.</p>\n<pre><code>    Person person1 = new Person(&quot;Mike&quot;, 34);\n    Person person2 = new Person(&quot;Mike&quot;, 34);\n    System.out.println ( person1.equals(person2) );  --&gt; will print true!\n</code></pre>\n<p>Now let's create a map to store those instances as keys with some string as pair value</p>\n<pre><code>Map&lt;Person, String&gt; map = new HashMap();\nmap.put(person1, &quot;1&quot;);\nmap.put(person2, &quot;2&quot;);\n</code></pre>\n<p>In Person class we have not overridden the <code>hashCode</code> method but we have overridden <code>equals</code> method. Since the default <code>hashCode</code> provides different results for different java instances <code>person1.hashCode()</code> and <code>person2.hashCode()</code> have big chances of having different results.</p>\n<p>Our map might end with those persons in different linkedLists.</p>\n<p><a href=\"https://i.stack.imgur.com/TOSNY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TOSNY.png\" alt=\"enter image description here\" /></a></p>\n<p>This is against the logic of a HashMap</p>\n<p><strong>A HashMap is not allowed to have multiple equal keys!</strong></p>\n<p>But ours now has and the reason is that the default <code>hashCode()</code> which was inherited from Object Class was not enough. Not after we have overridden the <code>equals()</code> method on Person Class.</p>\n<p>That is the reason why we must override <code>hashCode()</code> method after we have overridden <code>equals</code> method.</p>\n<p>Now let's fix that. Let's override our <code>hashCode()</code> method to consider the same fields that <code>equals()</code> considers, namely <code>age, name</code></p>\n<pre><code> public class Person {\n\n      private Integer age;\n      private String name;\n    \n      ..getters, setters, constructors\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Person person = (Person) o;\n        return age == person.age &amp;&amp;\n                name.equals(person.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name, age);\n    }\n\n      }\n</code></pre>\n<p>Now let's try again to save those keys in our HashMap</p>\n<pre><code>Map&lt;Person, String&gt; map = new HashMap();\nmap.put(person1, &quot;1&quot;);\nmap.put(person2, &quot;2&quot;);\n</code></pre>\n<p><code>person1.hashCode()</code> and <code>person2.hashCode()</code> will definitely be the same. Let's say it is 0.</p>\n<p>HashMap will go to bucket 0 and in that LinkedList will save the person1 as key with the value &quot;1&quot;. For the second put HashMap is intelligent enough and when it goes again to bucket 0 to save person2 key with value &quot;2&quot; it will see that another equal key already exists there. So it will overwrite the previous key. So in the end only person2 key will exist in our HashMap.</p>\n<p><a href=\"https://i.stack.imgur.com/i7hek.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/i7hek.png\" alt=\"enter image description here\" /></a></p>\n<p>Now we are aligned with the rule of Hash Map that says no multiple equal keys are allowed!</p>\n"}],"owner":{"account_id":39037,"reputation":12517,"user_id":112500,"accept_rate":94,"display_name":"Batakj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633144,"favorite_count":0,"down_vote_count":3,"up_vote_count":531,"accepted_answer_id":2265637,"answer_count":31,"score":528,"last_activity_date":1678807138,"creation_date":1266232679,"question_id":2265503,"body_markdown":"Recently I read through this\r\n&lt;a href=&quot;http://www.ibm.com/developerworks/java/library/j-jtp05273.html&quot;&gt; Developer Works Document&lt;/a&gt;. \r\n\r\nThe document is all about defining `hashCode()` and `equals()` effectively and correctly, however I am not able to figure out why we need to override these two methods. \r\n\r\nHow can I take the decision to implement these methods efficiently?\r\n\r\n\r\n","title":"Why do I need to override the equals and hashCode methods in Java?","body":"<p>Recently I read through this\n<a href=\"http://www.ibm.com/developerworks/java/library/j-jtp05273.html\" rel=\"noreferrer\"> Developer Works Document</a>. </p>\n\n<p>The document is all about defining <code>hashCode()</code> and <code>equals()</code> effectively and correctly, however I am not able to figure out why we need to override these two methods. </p>\n\n<p>How can I take the decision to implement these methods efficiently?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1678807520,"post_id":75735079,"comment_id":133602960,"body_markdown":"You cannot reassign `static final` fields, not even with reflection; or at least, this does not work because of an optimization of the compiler, where it inlines the use of such variables. But this also does not make sense - the value is fixed, so for example checking if it is `null` is not very useful. Why do you want to do something like this?","body":"You cannot reassign <code>static final</code> fields, not even with reflection; or at least, this does not work because of an optimization of the compiler, where it inlines the use of such variables. But this also does not make sense - the value is fixed, so for example checking if it is <code>null</code> is not very useful. Why do you want to do something like this?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1678810370,"post_id":75735079,"comment_id":133603881,"body_markdown":"Just because you change the `modifiers` attribute of the field, doesn&#39;t make the field non-final. All you&#39;ve done is disable some internal checks that cause an exception to be thrown.","body":"Just because you change the <code>modifiers</code> attribute of the field, doesn&#39;t make the field non-final. All you&#39;ve done is disable some internal checks that cause an exception to be thrown."},{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1678814667,"post_id":75735079,"comment_id":133605104,"body_markdown":"Would the solution here help? https://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection","body":"Would the solution here help? <a href=\"https://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection\" title=\"change private static final field using java reflection\">stackoverflow.com/questions/3301635/&hellip;</a>"}],"owner":{"account_id":12237238,"reputation":59,"user_id":8931271,"display_name":"amit kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678807128,"creation_date":1678807128,"question_id":75735079,"body_markdown":"I am trying to change the final member value using reflection API but it is not working.Below is the sample code.\r\n&lt;code&gt;\r\n```\r\npublic class Fun {\r\n    private static final String AA = &quot;something&quot;;\r\n    public static void getValue() {\r\n        if(AA != null)\r\n            System.out.println(&quot;I m here&quot;);\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class Test {\r\n\r\n    @org.testng.annotations.Test\r\n    public void fun() throws ReflectiveOperationException {\r\n        setFinalStaticField(Fun.class, &quot;AA&quot;, null);\r\n        Fun.getValue();\r\n    }\r\n\r\n    private static void setFinalStaticField(Class&lt;?&gt; clazz, String fieldName, Object value)\r\n            throws ReflectiveOperationException {\r\n\r\n        Field field = clazz.getDeclaredField(fieldName);\r\n        field.setAccessible(true);\r\n\r\n        Field modifiers = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n        modifiers.setAccessible(true);\r\n        modifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n\r\n        field.set(null, value);\r\n    }\r\n}\r\n```\r\n\r\n&lt;/code&gt;\r\n\r\nThe above code is always printing &quot;I m here&quot; ,however I changed the value of the variable to null. Can anyone please help me on that, why this is not working as expected.","title":"Not able to re-assign value to final member using Reflection API","body":"<p>I am trying to change the final member value using reflection API but it is not working.Below is the sample code.\n<code></p>\n<pre><code>public class Fun {\n    private static final String AA = &quot;something&quot;;\n    public static void getValue() {\n        if(AA != null)\n            System.out.println(&quot;I m here&quot;);\n    }\n\n}\n\n\npublic class Test {\n\n    @org.testng.annotations.Test\n    public void fun() throws ReflectiveOperationException {\n        setFinalStaticField(Fun.class, &quot;AA&quot;, null);\n        Fun.getValue();\n    }\n\n    private static void setFinalStaticField(Class&lt;?&gt; clazz, String fieldName, Object value)\n            throws ReflectiveOperationException {\n\n        Field field = clazz.getDeclaredField(fieldName);\n        field.setAccessible(true);\n\n        Field modifiers = Field.class.getDeclaredField(&quot;modifiers&quot;);\n        modifiers.setAccessible(true);\n        modifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\n\n        field.set(null, value);\n    }\n}\n</code></pre>\n</code>\n<p>The above code is always printing &quot;I m here&quot; ,however I changed the value of the variable to null. Can anyone please help me on that, why this is not working as expected.</p>\n"},{"tags":["java","spring-boot","docker","tomcat","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678807083,"creation_date":1678807083,"answer_id":75735068,"question_id":75734585,"body_markdown":"Are you using SSL? If you&#39;re trying to hit your endpoints using https but your server doesn&#39;t support it you may get an error that looks like this. ","title":"Getting 401 by doing any call to an embedded tomcat inside spring boot inside docker container","body":"<p>Are you using SSL? If you're trying to hit your endpoints using https but your server doesn't support it you may get an error that looks like this.</p>\n"}],"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678807083,"creation_date":1678804662,"question_id":75734585,"body_markdown":"Containers are created from docker-compose 3.9 as following:\r\n\r\n    version: &#39;3.9&#39;\r\n    services:\r\n      mongo:\r\n        image: mongo:4.4.15\r\n        restart: unless-stopped\r\n        environment:\r\n          MONGO_INITDB_ROOT_USERNAME: root\r\n          MONGO_INITDB_ROOT_PASSWORD: password\r\n        ports:\r\n          - &quot;27017:27017&quot;\r\n        tty: true\r\n        stdin_open: true\r\n        volumes:\r\n          - mongo-vol:/docker-entrypoint-initdb.d/\r\n        healthcheck:\r\n          test: echo &#39;db.runCommand(&quot;ping&quot;).ok&#39; | mongo localhost:27017/test --quiet\r\n          interval: 10s\r\n          timeout: 10s\r\n          retries: 5\r\n          start_period: 40s\r\n    \r\n      mysql:\r\n        image: mysql\r\n        command: --default-authentication-plugin=mysql_native_password\r\n        restart: always\r\n        environment:\r\n          MYSQL_DATABASE: &#39;mydb&#39;\r\n          MYSQL_USER: &#39;user&#39;\r\n          MYSQL_PASSWORD: &#39;password&#39;\r\n          MYSQL_ROOT_PASSWORD: &#39;password&#39;\r\n        volumes:\r\n          - mysql-vol:/docker-entrypoint-initdb.d/\r\n        healthcheck:\r\n          test: /usr/bin/mysql mysql -ppassword --silent --execute &quot;select 1&quot;\r\n          interval: 10s\r\n          timeout: 10s\r\n          retries: 5\r\n    \r\n      my-be:\r\n        image: be_image\r\n        container_name: be-container\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        environment:\r\n          spring.datasource.url: &quot;jdbc:mysql://mysql:3306/mydb?allowPublicKeyRetrieval=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true&quot;\r\n          datasource.driver-class-name: &quot;com.mysql.cj.jdbc.Driver&quot;\r\n          spring.h2.console.enabled: &quot;false&quot;\r\n          spring.jpa.database-platform: &quot;org.hibernate.dialect.MySQLDialect&quot;\r\n          spring.data.mongodb.host: mongo\r\n          spring.data.mongodb.port: 27017\r\n          logging.file.path: logs\r\n          server.port: 8080\r\n        depends_on:\r\n          mongo:\r\n            condition: service_healthy\r\n          mysql:\r\n            condition: service_healthy\r\n    volumes:\r\n      mysql-vol:\r\n      mongo-vol:\r\n\r\nI&#39;m creating a Backend container, a mysql and a mongo. \r\n\r\nDockerfile:\r\n\r\n    FROM openjdk:17\r\n    EXPOSE 8080\r\n    ARG JAR_FILE=&quot;target/MyAPP-0.0.1-SNAPSHOT.jar&quot;\r\n    ADD ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n\r\nI create the build image of the BE and I&#39;m using it inside the docker-compose. This is the situation now:\r\n\r\n    CONTAINER ID   IMAGE          COMMAND                  CREATED          STATUS                    PORTS                                           NAMES\r\n    996da02a43e5   be_image       &quot;java -jar /app.jar&quot;     11 minutes ago   Up 11 minutes             0.0.0.0:8080-&gt;8080/tcp, :::8080-&gt;8080/tcp       be-container\r\n    9c3d11ceb0ee   mongo:4.4.15   &quot;docker-entrypoint.s&quot;   11 minutes ago   Up 11 minutes (healthy)   0.0.0.0:27017-&gt;27017/tcp, :::27017-&gt;27017/tcp   compose-mongo-1\r\n    15fe4d52a50e   mysql          &quot;docker-entrypoint.s&quot;   11 minutes ago   Up 11 minutes (healthy)   3306/tcp, 33060/tcp                             compose-mysql-1\r\n\r\n\r\nI&#39;m using Spring security. So when I try putting localhost:8080, it prompts for user and password. when I input them, everything seems working fine, displaying the usual Whitelabel Error Page. \r\nBut, if I try to retrieve the swagger-io, it gives me an empty swagger (while without docker it works fine).\r\nAnd, if I try to call a POST or any call from POSTMAN (even calling just localhost:8080), it returns 401 unauthorized, without logging anything inside the spring boot app. Last log is\r\n\r\n    2023-03-14T14:11:07.344Z  INFO 1 --- [           main] com.example.myapp.MyApplication       : Started MyApplication in 3.978 seconds (process running for 4.521)\r\n\r\nIt seems like there&#39;s a block just right before reaching tomcat. And if I try to call https instead of http, I actually have a log inside spring boot:\r\n\r\n   \r\n\r\n     2023-03-14T14:13:36.511Z  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-03-14T14:13:36.513Z  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2023-03-14T14:14:02.018Z  INFO 1 --- [nio-8080-exec-3] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 99 ms\r\n    2023-03-14T14:34:55.564Z  INFO 1 --- [nio-8080-exec-7] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n     Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n    \r\n    java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xf70x010x000x000xf30x030x03z0xfe0x90q0xe80x0an0x960xd50xcc0xb80x93lv0xfcf0xfc0xf50xdeT0x980xfa0xd6?0x99^0xe70x940x900xcaoP ]. HTTP method names must be tokens\r\n    \tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nSo seems like something gets logged. I don&#39;t understand what I&#39;m missing, I know i&#39;m close to make it work.\r\n\r\nWithout dockerizing, everything works fine locally","title":"Getting 401 by doing any call to an embedded tomcat inside spring boot inside docker container","body":"<p>Containers are created from docker-compose 3.9 as following:</p>\n<pre><code>version: '3.9'\nservices:\n  mongo:\n    image: mongo:4.4.15\n    restart: unless-stopped\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: root\n      MONGO_INITDB_ROOT_PASSWORD: password\n    ports:\n      - &quot;27017:27017&quot;\n    tty: true\n    stdin_open: true\n    volumes:\n      - mongo-vol:/docker-entrypoint-initdb.d/\n    healthcheck:\n      test: echo 'db.runCommand(&quot;ping&quot;).ok' | mongo localhost:27017/test --quiet\n      interval: 10s\n      timeout: 10s\n      retries: 5\n      start_period: 40s\n\n  mysql:\n    image: mysql\n    command: --default-authentication-plugin=mysql_native_password\n    restart: always\n    environment:\n      MYSQL_DATABASE: 'mydb'\n      MYSQL_USER: 'user'\n      MYSQL_PASSWORD: 'password'\n      MYSQL_ROOT_PASSWORD: 'password'\n    volumes:\n      - mysql-vol:/docker-entrypoint-initdb.d/\n    healthcheck:\n      test: /usr/bin/mysql mysql -ppassword --silent --execute &quot;select 1&quot;\n      interval: 10s\n      timeout: 10s\n      retries: 5\n\n  my-be:\n    image: be_image\n    container_name: be-container\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      spring.datasource.url: &quot;jdbc:mysql://mysql:3306/mydb?allowPublicKeyRetrieval=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true&quot;\n      datasource.driver-class-name: &quot;com.mysql.cj.jdbc.Driver&quot;\n      spring.h2.console.enabled: &quot;false&quot;\n      spring.jpa.database-platform: &quot;org.hibernate.dialect.MySQLDialect&quot;\n      spring.data.mongodb.host: mongo\n      spring.data.mongodb.port: 27017\n      logging.file.path: logs\n      server.port: 8080\n    depends_on:\n      mongo:\n        condition: service_healthy\n      mysql:\n        condition: service_healthy\nvolumes:\n  mysql-vol:\n  mongo-vol:\n</code></pre>\n<p>I'm creating a Backend container, a mysql and a mongo.</p>\n<p>Dockerfile:</p>\n<pre><code>FROM openjdk:17\nEXPOSE 8080\nARG JAR_FILE=&quot;target/MyAPP-0.0.1-SNAPSHOT.jar&quot;\nADD ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>I create the build image of the BE and I'm using it inside the docker-compose. This is the situation now:</p>\n<pre><code>CONTAINER ID   IMAGE          COMMAND                  CREATED          STATUS                    PORTS                                           NAMES\n996da02a43e5   be_image       &quot;java -jar /app.jar&quot;     11 minutes ago   Up 11 minutes             0.0.0.0:8080-&gt;8080/tcp, :::8080-&gt;8080/tcp       be-container\n9c3d11ceb0ee   mongo:4.4.15   &quot;docker-entrypoint.s&quot;   11 minutes ago   Up 11 minutes (healthy)   0.0.0.0:27017-&gt;27017/tcp, :::27017-&gt;27017/tcp   compose-mongo-1\n15fe4d52a50e   mysql          &quot;docker-entrypoint.s&quot;   11 minutes ago   Up 11 minutes (healthy)   3306/tcp, 33060/tcp                             compose-mysql-1\n</code></pre>\n<p>I'm using Spring security. So when I try putting localhost:8080, it prompts for user and password. when I input them, everything seems working fine, displaying the usual Whitelabel Error Page.\nBut, if I try to retrieve the swagger-io, it gives me an empty swagger (while without docker it works fine).\nAnd, if I try to call a POST or any call from POSTMAN (even calling just localhost:8080), it returns 401 unauthorized, without logging anything inside the spring boot app. Last log is</p>\n<pre><code>2023-03-14T14:11:07.344Z  INFO 1 --- [           main] com.example.myapp.MyApplication       : Started MyApplication in 3.978 seconds (process running for 4.521)\n</code></pre>\n<p>It seems like there's a block just right before reaching tomcat. And if I try to call https instead of http, I actually have a log inside spring boot:</p>\n<pre><code> 2023-03-14T14:13:36.511Z  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-03-14T14:13:36.513Z  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-03-14T14:14:02.018Z  INFO 1 --- [nio-8080-exec-3] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 99 ms\n2023-03-14T14:34:55.564Z  INFO 1 --- [nio-8080-exec-7] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xf70x010x000x000xf30x030x03z0xfe0x90q0xe80x0an0x960xd50xcc0xb80x93lv0xfcf0xfc0xf50xdeT0x980xfa0xd6?0x99^0xe70x940x900xcaoP ]. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>So seems like something gets logged. I don't understand what I'm missing, I know i'm close to make it work.</p>\n<p>Without dockerizing, everything works fine locally</p>\n"},{"tags":["java","bouncycastle","private-key","github-app"],"answers":[{"tags":[],"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678807008,"creation_date":1678807008,"answer_id":75735052,"question_id":75735051,"body_markdown":"The pem file that you saved contains both information about private and public key, so it&#39;s possible to get that information yourself.\r\n\r\nInformation about verification of private keys is documented [here][1] and it&#39;s basically the following one-line command:\r\n\r\n    openssl rsa -in PATH_TO_PEM_FILE -pubout -outform DER | openssl sha256 -binary | openssl base64\r\n\r\nIn order to get that information in Java, you can use **bouncycastle** library that does the same chain of operations as above.\r\n\r\n    public static String getFingerprint(final String pemContent) throws IOException {\r\n        // openssl rsa -in PATH_TO_PEM_FILE -pubout -outform DER\r\n        final PEMParser parser = new PEMParser(new StringReader(pemContent));\r\n        final Object object = (PEMKeyPair) parser.readObject();\r\n        final PEMKeyPair pemKeyPair = (PEMKeyPair) object;\r\n        final SubjectPublicKeyInfo publicKeyInfo = pemKeyPair.getPublicKeyInfo();\r\n        final ASN1Primitive asn1Primitive = publicKeyInfo.toASN1Primitive();\r\n        final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        asn1Primitive.encodeTo(outputStream, &quot;DER&quot;);\r\n        final byte[] derBytes = outputStream.toByteArray();\r\n\r\n        // openssl sha256 -binary\r\n        MessageDigest instance = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        instance.update(derBytes);\r\n        byte[] sha256bytes = instance.digest();\r\n        \r\n        // openssl base64\r\n        return Base64.getEncoder().encodeToString(sha256bytes);\r\n    }\r\n\r\n  [1]: https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/managing-private-keys-for-github-apps","title":"How to get fingerprint from a pem file from Github App?","body":"<p>The pem file that you saved contains both information about private and public key, so it's possible to get that information yourself.</p>\n<p>Information about verification of private keys is documented <a href=\"https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/managing-private-keys-for-github-apps\" rel=\"nofollow noreferrer\">here</a> and it's basically the following one-line command:</p>\n<pre><code>openssl rsa -in PATH_TO_PEM_FILE -pubout -outform DER | openssl sha256 -binary | openssl base64\n</code></pre>\n<p>In order to get that information in Java, you can use <strong>bouncycastle</strong> library that does the same chain of operations as above.</p>\n<pre><code>public static String getFingerprint(final String pemContent) throws IOException {\n    // openssl rsa -in PATH_TO_PEM_FILE -pubout -outform DER\n    final PEMParser parser = new PEMParser(new StringReader(pemContent));\n    final Object object = (PEMKeyPair) parser.readObject();\n    final PEMKeyPair pemKeyPair = (PEMKeyPair) object;\n    final SubjectPublicKeyInfo publicKeyInfo = pemKeyPair.getPublicKeyInfo();\n    final ASN1Primitive asn1Primitive = publicKeyInfo.toASN1Primitive();\n    final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    asn1Primitive.encodeTo(outputStream, &quot;DER&quot;);\n    final byte[] derBytes = outputStream.toByteArray();\n\n    // openssl sha256 -binary\n    MessageDigest instance = MessageDigest.getInstance(&quot;SHA-256&quot;);\n    instance.update(derBytes);\n    byte[] sha256bytes = instance.digest();\n    \n    // openssl base64\n    return Base64.getEncoder().encodeToString(sha256bytes);\n}\n</code></pre>\n"}],"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75735052,"answer_count":1,"score":0,"last_activity_date":1678807008,"creation_date":1678807008,"question_id":75735051,"body_markdown":"It&#39;s possible to generate a private key for Github Apps (Settings -&gt; Developer Settings -&gt; (Edit a GH App) -&gt; &quot;Generate a private key&quot;). When it&#39;s generated I save locally a **pem file** and in UI there&#39;s an information about fingerprint of that key (SHA256:...).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VJmcp.png\r\n\r\nHow can I receive that fingerprint myself in Java code, given the **pem file** that I saved before?","title":"How to get fingerprint from a pem file from Github App?","body":"<p>It's possible to generate a private key for Github Apps (Settings -&gt; Developer Settings -&gt; (Edit a GH App) -&gt; &quot;Generate a private key&quot;). When it's generated I save locally a <strong>pem file</strong> and in UI there's an information about fingerprint of that key (SHA256:...).</p>\n<p><a href=\"https://i.stack.imgur.com/VJmcp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJmcp.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I receive that fingerprint myself in Java code, given the <strong>pem file</strong> that I saved before?</p>\n"},{"tags":["java","xslt-2.0"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646646189,"post_id":71377390,"comment_id":126166377,"body_markdown":"Which XSLT 2 processor is that? Why do you XSLT expect to be able to process a Java array or ArrayList? Anyway, for a start, I would suggest to use `&lt;xsl:variable name=&quot;listData&quot; select=&quot;met:getData($Id)&quot;/&gt;`, that is all you can do on the XSLT side to bind the variable to the result from the function call, your current attempt makes the variable hold a tree fragment containing a text node with the string value of the result of your function call.","body":"Which XSLT 2 processor is that? Why do you XSLT expect to be able to process a Java array or ArrayList? Anyway, for a start, I would suggest to use <code>&lt;xsl:variable name=&quot;listData&quot; select=&quot;met:getData($Id)&quot;&#47;&gt;</code>, that is all you can do on the XSLT side to bind the variable to the result from the function call, your current attempt makes the variable hold a tree fragment containing a text node with the string value of the result of your function call."},{"owner":{"account_id":4624102,"reputation":380,"user_id":3748377,"accept_rate":67,"display_name":"ankit"},"score":0,"creation_date":1646649791,"post_id":71377390,"comment_id":126167538,"body_markdown":"@MartinHonnen I am doing running some logic in java method that&#39;s why calling external method getData() and returning List&lt;String&gt; obj from there. That list I want to iterate here in xslt","body":"@MartinHonnen I am doing running some logic in java method that&#39;s why calling external method getData() and returning List&lt;String&gt; obj from there. That list I want to iterate here in xslt"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646651543,"post_id":71377390,"comment_id":126168064,"body_markdown":"Well, why do you expect an XSLT processor to be able to process a Java `List&lt;String&gt;`? And which XSLT processor is that? Does its documentation show how Java types are handled on the XSLT/XPath side?","body":"Well, why do you expect an XSLT processor to be able to process a Java <code>List&lt;String&gt;</code>? And which XSLT processor is that? Does its documentation show how Java types are handled on the XSLT/XPath side?"},{"owner":{"account_id":4624102,"reputation":380,"user_id":3748377,"accept_rate":67,"display_name":"ankit"},"score":0,"creation_date":1646718541,"post_id":71377390,"comment_id":126187022,"body_markdown":"@MartinHonnen Because I have some logic which needs to be processed and XSLT can&#39;t do that so I am calling an external method (Java method) and returning it back to xslt in form of array so that xslt can easily iterate over array elements. In XSLT it is printing whole array correctly but facing issue while iterating only.","body":"@MartinHonnen Because I have some logic which needs to be processed and XSLT can&#39;t do that so I am calling an external method (Java method) and returning it back to xslt in form of array so that xslt can easily iterate over array elements. In XSLT it is printing whole array correctly but facing issue while iterating only."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646728673,"post_id":71377390,"comment_id":126189614,"body_markdown":"Your are avoiding answering the crucial questions as to which XSLT 2 processor you use and whether/how its documentations suggests that a Java `List&lt;String&gt;` is represented on the XSLT/XPath side. I think, for Saxon PE or EE you might get them represented as an XPath sequence of string values so using `for-each` should work. But all that is very processor and perhaps edition/version dependent so it is crucial to know which XSLT processor and version you use.","body":"Your are avoiding answering the crucial questions as to which XSLT 2 processor you use and whether/how its documentations suggests that a Java <code>List&lt;String&gt;</code> is represented on the XSLT/XPath side. I think, for Saxon PE or EE you might get them represented as an XPath sequence of string values so using <code>for-each</code> should work. But all that is very processor and perhaps edition/version dependent so it is crucial to know which XSLT processor and version you use."}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678806854,"creation_date":1646738452,"answer_id":71394173,"question_id":71377390,"body_markdown":"To give you an example on how it can easily work out if you know the XSLT processor (like Saxon Java PE or EE does) represents a `List&lt;String&gt;` in Java, using reflexive extension functions, as a sequence of strings to XSLT/XPath/XQuery, there you can easily process such a sequence so\r\n```java\r\nProcessor processor = new Processor(true);\r\n\r\nXsltCompiler xsltCompiler = processor.newXsltCompiler();\r\n\r\nString xslt = &quot;&lt;xsl:stylesheet\r\n\txmlns:xsl=&#39;http://www.w3.org/1999/XSL/Transform&#39; version=&#39;3.0&#39; expand-text=&#39;yes&#39;\r\n\txmlns:ExampleListCreator=&#39;java:com.example.saxon.ExampleListCreator&#39; exclude-result-prefixes=&#39;#all&#39;&gt;\r\n\t&lt;xsl:template match=&#39;/&#39; name=&#39;xsl:initial-template&#39;&gt;\r\n\t\t&lt;result&gt;\r\n\t\t\t&lt;xsl:for-each select=&#39;ExampleListCreator:returnExampleList()&#39;&gt;\r\n\t\t\t\t&lt;item&gt;{.}&lt;/item&gt;\r\n\t\t\t&lt;/xsl:for-each&gt;\r\n\t\t&lt;/result&gt;\r\n\t&lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;&quot;;\r\n\r\nXsltExecutable xsltExecutable = xsltCompiler.compile(new StreamSource(new StringReader(xslt)));\r\n\r\nXslt30Transformer transformer = xsltExecutable.load30();\r\n\r\ntransformer.callTemplate(null, processor.newSerializer(System.out));\r\n```\r\noutputs e.g. `&lt;result&gt;&lt;item&gt;a&lt;/item&gt;&lt;item&gt;b&lt;/item&gt;&lt;item&gt;c&lt;/item&gt;&lt;/result&gt;` with the Java function doing e.g.\r\n\r\n    public class ExampleListCreator {\r\n        public static List&lt;String&gt; returnExampleList()  {\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            list.add(&quot;a&quot;);\r\n            list.add(&quot;b&quot;);\r\n            list.add(&quot;c&quot;);\r\n            return list;\r\n        }\r\n    }\r\n\r\nbut whether and how that works is entirely up to the used XSLT processor.","title":"How to iterate array in xslt","body":"<p>To give you an example on how it can easily work out if you know the XSLT processor (like Saxon Java PE or EE does) represents a <code>List&lt;String&gt;</code> in Java, using reflexive extension functions, as a sequence of strings to XSLT/XPath/XQuery, there you can easily process such a sequence so</p>\n<pre class=\"lang-java prettyprint-override\"><code>Processor processor = new Processor(true);\n\nXsltCompiler xsltCompiler = processor.newXsltCompiler();\n\nString xslt = &quot;&lt;xsl:stylesheet\n    xmlns:xsl='http://www.w3.org/1999/XSL/Transform' version='3.0' expand-text='yes'\n    xmlns:ExampleListCreator='java:com.example.saxon.ExampleListCreator' exclude-result-prefixes='#all'&gt;\n    &lt;xsl:template match='/' name='xsl:initial-template'&gt;\n        &lt;result&gt;\n            &lt;xsl:for-each select='ExampleListCreator:returnExampleList()'&gt;\n                &lt;item&gt;{.}&lt;/item&gt;\n            &lt;/xsl:for-each&gt;\n        &lt;/result&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;&quot;;\n\nXsltExecutable xsltExecutable = xsltCompiler.compile(new StreamSource(new StringReader(xslt)));\n\nXslt30Transformer transformer = xsltExecutable.load30();\n\ntransformer.callTemplate(null, processor.newSerializer(System.out));\n</code></pre>\n<p>outputs e.g. <code>&lt;result&gt;&lt;item&gt;a&lt;/item&gt;&lt;item&gt;b&lt;/item&gt;&lt;item&gt;c&lt;/item&gt;&lt;/result&gt;</code> with the Java function doing e.g.</p>\n<pre><code>public class ExampleListCreator {\n    public static List&lt;String&gt; returnExampleList()  {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        list.add(&quot;a&quot;);\n        list.add(&quot;b&quot;);\n        list.add(&quot;c&quot;);\n        return list;\n    }\n}\n</code></pre>\n<p>but whether and how that works is entirely up to the used XSLT processor.</p>\n"}],"owner":{"account_id":4624102,"reputation":380,"user_id":3748377,"accept_rate":67,"display_name":"ankit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678806854,"creation_date":1646636066,"question_id":71377390,"body_markdown":"I am using XSLT version 2.0.\r\n\r\nI am calling an external method which returns an array list object and storing the result into a variable in xslt. I want to iterate that variable and print the values but there is some issue in the transformation. Below is the code from xslt:\r\n\r\n```\r\n&lt;xsl:variable name=&quot;listData&quot;&gt;\r\n      &lt;xsl:value-of select=&quot;met:getData($Id)&quot; /&gt;\r\n&lt;/xsl:variable&gt;\r\n```\r\n\r\nFrom the above expression I am getting below response from external method as an array in a variable listData:\r\n\r\n```\r\n[Test1, Test2, Test3]\r\n```\r\n\r\nWhen I am iterating the variable using below expression then values are not getting printed:\r\n```\r\n&lt;xsl:for-each name=&quot;$listData&quot;&gt;\r\n      &lt;xsl:value-of select=&quot;.&quot; /&gt;\r\n&lt;/xsl:for-each&gt;\r\n```\r\nbut when I am printing directly using ```&lt;xsl:value-of select=&quot;$listData&quot; /&gt;``` then its working\r\nI want to pring values one by one.\r\n\r\nCould anyone please help me on how can I iterate the array in xslt.","title":"How to iterate array in xslt","body":"<p>I am using XSLT version 2.0.</p>\n<p>I am calling an external method which returns an array list object and storing the result into a variable in xslt. I want to iterate that variable and print the values but there is some issue in the transformation. Below is the code from xslt:</p>\n<pre><code>&lt;xsl:variable name=&quot;listData&quot;&gt;\n      &lt;xsl:value-of select=&quot;met:getData($Id)&quot; /&gt;\n&lt;/xsl:variable&gt;\n</code></pre>\n<p>From the above expression I am getting below response from external method as an array in a variable listData:</p>\n<pre><code>[Test1, Test2, Test3]\n</code></pre>\n<p>When I am iterating the variable using below expression then values are not getting printed:</p>\n<pre><code>&lt;xsl:for-each name=&quot;$listData&quot;&gt;\n      &lt;xsl:value-of select=&quot;.&quot; /&gt;\n&lt;/xsl:for-each&gt;\n</code></pre>\n<p>but when I am printing directly using <code>&lt;xsl:value-of select=&quot;$listData&quot; /&gt;</code> then its working\nI want to pring values one by one.</p>\n<p>Could anyone please help me on how can I iterate the array in xslt.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678806782,"creation_date":1678725810,"answer_id":75724672,"question_id":75721350,"body_markdown":"If I understand your question, \r\n\r\n```\r\nfinal Struct value = record.value();\r\nString operation = (String) value.get(&quot;operation&quot;);\r\nLong timestamp = (Long) value.get(&quot;timestamp&quot;);\r\n```\r\n\r\nhttps://kafka.apache.org/34/javadoc//org/apache/kafka/connect/data/Struct.html\r\n\r\nOtherwise, you would not do this in Java. You can use [ReplaceField$Value](https://docs.confluent.io/platform/current/connect/transforms/replacefield.html) to `blacklist` the operation and timestamp fields. ","title":"Edit user defined object in JAVA?","body":"<p>If I understand your question,</p>\n<pre><code>final Struct value = record.value();\nString operation = (String) value.get(&quot;operation&quot;);\nLong timestamp = (Long) value.get(&quot;timestamp&quot;);\n</code></pre>\n<p><a href=\"https://kafka.apache.org/34/javadoc//org/apache/kafka/connect/data/Struct.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/34/javadoc//org/apache/kafka/connect/data/Struct.html</a></p>\n<p>Otherwise, you would not do this in Java. You can use <a href=\"https://docs.confluent.io/platform/current/connect/transforms/replacefield.html\" rel=\"nofollow noreferrer\">ReplaceField$Value</a> to <code>blacklist</code> the operation and timestamp fields.</p>\n"}],"owner":{"account_id":8877324,"reputation":422,"user_id":6628988,"display_name":"Saranraj K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678806782,"creation_date":1678707402,"question_id":75721350,"body_markdown":"I&#39;m writing data to postgres from kafka topic using Java,\r\n\r\nI&#39;m looping the records from kafka using below code\r\n\r\n   \r\n\r\n     for (SinkRecord record : records) \r\n     {  \r\n       log.info(&quot;new set records: {}&quot;, record); \r\n       log.info(&quot;The value before modified: {}&quot;,record.value());\r\n     }\r\n    \r\nGetting the following output when I&#39;m printing record\r\n\r\n\r\n    SinkRecord{kafkaOffset=1, timestampType=CreateTime} ConnectRecord{topic=&#39;DES.EMPLOYEE_INCOME&#39;, kafkaPartition=0, key=Struct{EMPID=2\r\n    }, keySchema=Schema{com.attunity.queue.msg.New.DES.EMPLOYEE_INCOME.KeyRecord:STRUCT}, value=Struct{data.EMPID=2,data.NAME=feb,data.SALARY=10000,operation=REFRESH,timestamp=}, valueSchema=Schem\r\n    a{DataRecord:STRUCT}, timestamp=1678699184106, headers=ConnectHeaders(headers=)}\r\n\r\n\r\nGetting the follow output when I&#39;m printing record.value()\r\n\r\n    Struct{data.EMPID=2,data.NAME=feb,data.SALARY=10000,operation=REFRESH,timestamp=} (io.confluent.connect.jdbc.sink.JdbcDbW\r\n    riter:80)\r\n\r\nFrom the `record.value` object I would like filter out operation and timestamp, \r\n\r\nAfter editing the `record.value`, Expected output would looks like below,\r\n\r\n    Struct{data.EMPID=2,data.NAME=feb,data.SALARY=10000} (io.confluent.connect.jdbc.sink.JdbcDbW\r\n        riter:80)\r\n\r\n\r\nhow to do it, \r\n","title":"Edit user defined object in JAVA?","body":"<p>I'm writing data to postgres from kafka topic using Java,</p>\n<p>I'm looping the records from kafka using below code</p>\n<pre><code> for (SinkRecord record : records) \n {  \n   log.info(&quot;new set records: {}&quot;, record); \n   log.info(&quot;The value before modified: {}&quot;,record.value());\n }\n</code></pre>\n<p>Getting the following output when I'm printing record</p>\n<pre><code>SinkRecord{kafkaOffset=1, timestampType=CreateTime} ConnectRecord{topic='DES.EMPLOYEE_INCOME', kafkaPartition=0, key=Struct{EMPID=2\n}, keySchema=Schema{com.attunity.queue.msg.New.DES.EMPLOYEE_INCOME.KeyRecord:STRUCT}, value=Struct{data.EMPID=2,data.NAME=feb,data.SALARY=10000,operation=REFRESH,timestamp=}, valueSchema=Schem\na{DataRecord:STRUCT}, timestamp=1678699184106, headers=ConnectHeaders(headers=)}\n</code></pre>\n<p>Getting the follow output when I'm printing record.value()</p>\n<pre><code>Struct{data.EMPID=2,data.NAME=feb,data.SALARY=10000,operation=REFRESH,timestamp=} (io.confluent.connect.jdbc.sink.JdbcDbW\nriter:80)\n</code></pre>\n<p>From the <code>record.value</code> object I would like filter out operation and timestamp,</p>\n<p>After editing the <code>record.value</code>, Expected output would looks like below,</p>\n<pre><code>Struct{data.EMPID=2,data.NAME=feb,data.SALARY=10000} (io.confluent.connect.jdbc.sink.JdbcDbW\n    riter:80)\n</code></pre>\n<p>how to do it,</p>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678806662,"creation_date":1678806662,"answer_id":75734991,"question_id":75734215,"body_markdown":"You need to understand Java and its syntax to understand what these messages want from you:\r\n\r\n&gt; &quot;Description: The method free(Agent) in the type Wait is not applicable for the arguments (). &quot;\r\n\r\nThe method wants an argument of type `Agent` so you cannot call it without an argument (i.e. `free()`)\r\n\r\n&gt; &quot;Description: Agent cannot be resolved to a variable.&quot;\r\n\r\nYou called `free(Agent)` but this is also nonesense to Java. It wants an agent of type `Agent` so you need to provide an actual agent instance to it, and that agent needs to sit inside the Wait object.\r\n\r\nExample: There are 5 agents of type `Agent` in your Wait object. If you want to free the first of these, you can call `wait.free(wait.get(0))`.\r\n\r\nOr to free the last one, call `wait.free(wait.get(wait.size()-1))`","title":"Anylogic - cannot use free function in wait block","body":"<p>You need to understand Java and its syntax to understand what these messages want from you:</p>\n<blockquote>\n<p>&quot;Description: The method free(Agent) in the type Wait is not applicable for the arguments (). &quot;</p>\n</blockquote>\n<p>The method wants an argument of type <code>Agent</code> so you cannot call it without an argument (i.e. <code>free()</code>)</p>\n<blockquote>\n<p>&quot;Description: Agent cannot be resolved to a variable.&quot;</p>\n</blockquote>\n<p>You called <code>free(Agent)</code> but this is also nonesense to Java. It wants an agent of type <code>Agent</code> so you need to provide an actual agent instance to it, and that agent needs to sit inside the Wait object.</p>\n<p>Example: There are 5 agents of type <code>Agent</code> in your Wait object. If you want to free the first of these, you can call <code>wait.free(wait.get(0))</code>.</p>\n<p>Or to free the last one, call <code>wait.free(wait.get(wait.size()-1))</code></p>\n"}],"owner":{"account_id":28014943,"reputation":13,"user_id":21396849,"display_name":"JoaoK90"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75734991,"answer_count":1,"score":1,"last_activity_date":1678806704,"creation_date":1678802635,"question_id":75734215,"body_markdown":"I am trying to use the wait block, but I simply can not use the free function, it keep geting error messages like \r\n&quot;Description: The method free(Agent) in the type Wait&lt;Agent&gt; is not applicable for the arguments (). &quot;\r\n\r\nfor the code:\r\n\r\n    Order.free();\r\n\r\nor, &quot;Description: Agent cannot be resolved to a variable.&quot;\r\n\r\nfor the code:\r\n\r\n    Order.free(Agent);\r\n\r\nI tried to use freeAll to see if I was doing something wrong, and it was working perfectly, I have a looked on the other posts and couldn&#39;t find anything similar.","title":"Anylogic - cannot use free function in wait block","body":"<p>I am trying to use the wait block, but I simply can not use the free function, it keep geting error messages like\n&quot;Description: The method free(Agent) in the type Wait is not applicable for the arguments (). &quot;</p>\n<p>for the code:</p>\n<pre><code>Order.free();\n</code></pre>\n<p>or, &quot;Description: Agent cannot be resolved to a variable.&quot;</p>\n<p>for the code:</p>\n<pre><code>Order.free(Agent);\n</code></pre>\n<p>I tried to use freeAll to see if I was doing something wrong, and it was working perfectly, I have a looked on the other posts and couldn't find anything similar.</p>\n"},{"tags":["java","ssl","spring-webflux","spring-webclient","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678791546,"creation_date":1678779027,"answer_id":75730150,"question_id":75723521,"body_markdown":"## To create X509Certificate from PEM string you need:\r\n\r\n1) First you need to remove certificate headers from that PEM string.\r\n\r\n   Headers are : `----BEGIN CERTIFICATE-----` and `-----END CERTIFICATE------`\r\n\r\n2) Decode the rest of the part using `Base64` to byte array. It is safer to use `Base64.getMimeDecoder()` than `Base64.getDecoder()`, otherwise you may run into issue `java.lang.IllegalArgumentException: Illegal base64 character a`\r\n\r\n3) Use `CertificateFactory` to convert byte stream to `X509Certificate` \r\n\r\n\r\nSo, the code would look like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n    public static X509Certificate buildX509Certificate(String certPem) throws CertificateException {\r\n        X509Certificate x509Certificate = null;\r\n\r\n        if (Objects.nonNull(certPem)) {\r\n            CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\r\n            certPem = certPem.replace(&quot;-----BEGIN CERTIFICATE-----\\n&quot;, &quot;&quot;)\r\n                    .replace(&quot;-----END CERTIFICATE-----&quot;, &quot;&quot;);\r\n\r\n            byte[] certBytes = Base64.getMimeDecoder().decode(certPem); // get cert bytes\r\n            ByteArrayInputStream certInputStream = new ByteArrayInputStream(certBytes);\r\n            x509Certificate = (X509Certificate)\r\n                    certificateFactory.generateCertificate(certInputStream); // generate certificate\r\n        }\r\n        return x509Certificate;\r\n    }\r\n\r\n------\r\n\r\n## To create SSLContext you need:\r\n\r\n1) Create `KeyStore` \r\n2) Put your certificate into it \r\n3) Create `KeyManagerFactory` and init it from your keystore\r\n4) Build `SSLContext` using `SslContextBuilder.forClient()`\r\n\r\nSo, the code would look like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n    public static SslContext buildSSLContext(X509Certificate certificate, String alias) throws CertificateException, NoSuchAlgorithmException,\r\n            KeyStoreException, IOException, UnrecoverableKeyException {\r\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        keyStore.load(null, null); // Use a null input stream + password to create an empty key store.\r\n\r\n        keyStore.setCertificateEntry(alias, certificate); // add certificate to keystore\r\n\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        keyManagerFactory.init(keyStore, null);\r\n\r\n        // Create an SSL context that uses that certificate\r\n        return SslContextBuilder.forClient()\r\n                .keyManager(keyManagerFactory)\r\n                .build();\r\n    }\r\n\r\n**Note**: `SSLContext` is from package `io.netty.handler.ssl`, not from `javax.net.ssl`\r\n\r\n--------\r\n\r\n## To configure your WebClient with SSLContext you need:\r\n\r\n1) Create `ReactorClientHttpConnector` with `HttpClient.create().secure()` where you can pass your `SSLContext`\r\n2) Build WebClient passing your `ReactorClientHttpConnector` to `.clientConnector()` method\r\n\r\nSo, the code would look like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n    X509Certificate x509Certificate = buildX509Certificate(certPem);\r\n    SslContext sslContext = buildSSLContext(x509Certificate, &quot;my_cert&quot;);\r\n    \r\n    ReactorClientHttpConnector reactorClientHttpConnector = new ReactorClientHttpConnector(HttpClient.create()\r\n            .secure(sslContextSpec -&gt; sslContextSpec.sslContext(sslContext))\r\n    );\r\n    WebClient webClient = WebClient.builder()\r\n            .clientConnector(reactorClientHttpConnector)\r\n            .build();\r\n\r\n-------\r\n## UPDATED:\r\n\r\nProbably in your case as your application is a client, you want just to verify identity of server. Then you should build `SSLContext` with `TrustManager`. Then your method `buildSSLContext()` would look like this:\r\n\r\n    public static SslContext buildSSLContext(X509Certificate certificate) throws IOException {\r\n        // Create an SSL context that trusts that certificate\r\n        return SslContextBuilder.forClient()\r\n                .trustManager(certificate)\r\n                .build();\r\n    }\r\n\r\n","title":"Attach an SSL/TLS certificate on WebClient calls using Netty","body":"<h2>To create X509Certificate from PEM string you need:</h2>\n<ol>\n<li><p>First you need to remove certificate headers from that PEM string.</p>\n<p>Headers are : <code>----BEGIN CERTIFICATE-----</code> and <code>-----END CERTIFICATE------</code></p>\n</li>\n<li><p>Decode the rest of the part using <code>Base64</code> to byte array. It is safer to use <code>Base64.getMimeDecoder()</code> than <code>Base64.getDecoder()</code>, otherwise you may run into issue <code>java.lang.IllegalArgumentException: Illegal base64 character a</code></p>\n</li>\n<li><p>Use <code>CertificateFactory</code> to convert byte stream to <code>X509Certificate</code></p>\n</li>\n</ol>\n<p>So, the code would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static X509Certificate buildX509Certificate(String certPem) throws CertificateException {\n    X509Certificate x509Certificate = null;\n\n    if (Objects.nonNull(certPem)) {\n        CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n\n        certPem = certPem.replace(&quot;-----BEGIN CERTIFICATE-----\\n&quot;, &quot;&quot;)\n                .replace(&quot;-----END CERTIFICATE-----&quot;, &quot;&quot;);\n\n        byte[] certBytes = Base64.getMimeDecoder().decode(certPem); // get cert bytes\n        ByteArrayInputStream certInputStream = new ByteArrayInputStream(certBytes);\n        x509Certificate = (X509Certificate)\n                certificateFactory.generateCertificate(certInputStream); // generate certificate\n    }\n    return x509Certificate;\n}\n</code></pre>\n<hr />\n<h2>To create SSLContext you need:</h2>\n<ol>\n<li>Create <code>KeyStore</code></li>\n<li>Put your certificate into it</li>\n<li>Create <code>KeyManagerFactory</code> and init it from your keystore</li>\n<li>Build <code>SSLContext</code> using <code>SslContextBuilder.forClient()</code></li>\n</ol>\n<p>So, the code would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static SslContext buildSSLContext(X509Certificate certificate, String alias) throws CertificateException, NoSuchAlgorithmException,\n        KeyStoreException, IOException, UnrecoverableKeyException {\n    KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n    keyStore.load(null, null); // Use a null input stream + password to create an empty key store.\n\n    keyStore.setCertificateEntry(alias, certificate); // add certificate to keystore\n\n    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    keyManagerFactory.init(keyStore, null);\n\n    // Create an SSL context that uses that certificate\n    return SslContextBuilder.forClient()\n            .keyManager(keyManagerFactory)\n            .build();\n}\n</code></pre>\n<p><strong>Note</strong>: <code>SSLContext</code> is from package <code>io.netty.handler.ssl</code>, not from <code>javax.net.ssl</code></p>\n<hr />\n<h2>To configure your WebClient with SSLContext you need:</h2>\n<ol>\n<li>Create <code>ReactorClientHttpConnector</code> with <code>HttpClient.create().secure()</code> where you can pass your <code>SSLContext</code></li>\n<li>Build WebClient passing your <code>ReactorClientHttpConnector</code> to <code>.clientConnector()</code> method</li>\n</ol>\n<p>So, the code would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>X509Certificate x509Certificate = buildX509Certificate(certPem);\nSslContext sslContext = buildSSLContext(x509Certificate, &quot;my_cert&quot;);\n\nReactorClientHttpConnector reactorClientHttpConnector = new ReactorClientHttpConnector(HttpClient.create()\n        .secure(sslContextSpec -&gt; sslContextSpec.sslContext(sslContext))\n);\nWebClient webClient = WebClient.builder()\n        .clientConnector(reactorClientHttpConnector)\n        .build();\n</code></pre>\n<hr />\n<h2>UPDATED:</h2>\n<p>Probably in your case as your application is a client, you want just to verify identity of server. Then you should build <code>SSLContext</code> with <code>TrustManager</code>. Then your method <code>buildSSLContext()</code> would look like this:</p>\n<pre><code>public static SslContext buildSSLContext(X509Certificate certificate) throws IOException {\n    // Create an SSL context that trusts that certificate\n    return SslContextBuilder.forClient()\n            .trustManager(certificate)\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":5079214,"reputation":1115,"user_id":4075832,"accept_rate":73,"display_name":"CN1002"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75730150,"answer_count":1,"score":1,"last_activity_date":1678806583,"creation_date":1678719295,"question_id":75723521,"body_markdown":"I am using WebClient to make calls to external API which requires an SSL/TLS certificate. I am getting this certificate from AWS Certificate Manager with this API Result Object:\r\n\r\n    com.amazonaws.services.certificatemanager.model.GetCertificateResult\r\n\r\nFrom this object I can only get the String content of the certificate, that is, the :\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MII.....MEKIEEI\r\n    -----END CERTIFICATE-----\r\n\r\nNow, I would like to create an SSL Context for Netty which I will then pass to my WebClient.\r\n\r\n     SslContext sslContext = SslContextBuilder\r\n                    .forServer() // No parameters that seem to accept only the certificate body as String.\r\n                    .build();\r\n\r\nbut there are no methods on the `SslContextBuilder` that seem to accept on the certificate as String.\r\n\r\n\r\nHow can I successfully create an `SslContext`  with the certificate body as String and pass it to my `WebClient` so that I can make SSL/TLS enabled calls?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Attach an SSL/TLS certificate on WebClient calls using Netty","body":"<p>I am using WebClient to make calls to external API which requires an SSL/TLS certificate. I am getting this certificate from AWS Certificate Manager with this API Result Object:</p>\n<pre><code>com.amazonaws.services.certificatemanager.model.GetCertificateResult\n</code></pre>\n<p>From this object I can only get the String content of the certificate, that is, the :</p>\n<pre><code>-----BEGIN CERTIFICATE-----\nMII.....MEKIEEI\n-----END CERTIFICATE-----\n</code></pre>\n<p>Now, I would like to create an SSL Context for Netty which I will then pass to my WebClient.</p>\n<pre><code> SslContext sslContext = SslContextBuilder\n                .forServer() // No parameters that seem to accept only the certificate body as String.\n                .build();\n</code></pre>\n<p>but there are no methods on the <code>SslContextBuilder</code> that seem to accept on the certificate as String.</p>\n<p>How can I successfully create an <code>SslContext</code>  with the certificate body as String and pass it to my <code>WebClient</code> so that I can make SSL/TLS enabled calls?</p>\n"},{"tags":["java","stanford-nlp"],"owner":{"account_id":9808710,"reputation":31,"user_id":7267626,"display_name":"Garret B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678806475,"creation_date":1678806475,"question_id":75734942,"body_markdown":"I am experiencing something that I think should work in CoreNLP.  I am using ``` openjdk 11.0.18 2023-01-17 LTS ``` on CentOS and a very simple OpenIE example.  I wired up ``` corenlp 4.5.2 ```, as show in my build.gradle snippet below.  \r\n\r\n```\r\ndependencies {\r\n    // Use JUnit Jupiter for testing.\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;\r\n\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n    implementation &#39;edu.stanford.nlp:stanford-corenlp:4.5.2&#39;\r\n    implementation &quot;edu.stanford.nlp:stanford-corenlp:4.5.2:models&quot;\r\n    implementation &quot;edu.stanford.nlp:stanford-corenlp:4.5.2:models-english&quot;\r\n    implementation &quot;edu.stanford.nlp:stanford-corenlp:4.5.2:models-english-kbp&quot;\r\n}\r\n```\r\n\r\nMy App.java file is \r\n```\r\npackage tinker.nlp;\r\n\r\nimport edu.stanford.nlp.ie.util.RelationTriple;\r\nimport edu.stanford.nlp.simple.*;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        String statement = &quot;Poochie ate 3,000 tons of peanut butter.  Poochie ate 3,000 pounds of peanut butter.&quot;;\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;annotators&quot;, &quot;tokenize,ssplit,pos,lemma,ner,depparse,coref,natlog,openie&quot;);\r\n        Document doc = new Document(props, statement);\r\n\r\n        for(Sentence sentence : doc.sentences()) {\r\n            System.out.println(&quot;Sentence: &quot; + sentence.toString());\r\n            for(RelationTriple t : sentence.openieTriples()) {\r\n                System.out.println(t.toString());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe issue is that the first sentence does not provide any SVO triples but the second sentence does.  As shown here:\r\n```\r\nSentence: Poochie ate 3,000 tons of peanut butter.\r\nSentence: Poochie ate 3,000 pounds of peanut butter.\r\n1.0     Poochie ate     3,000 pounds of peanut butter\r\n1.0     Poochie ate     3,000 pounds\r\n```\r\n\r\nI am by no means a genius with linguistics but I would have expected tons and pounds to be treated identically as they are units of measure for the quantity of peanut butter this fictitious gluttonous dog has eaten.  However, if I output the ``` SemanticGraph ``` from the ``` SentenceFragment ```, I noticed they are marked differently.  \r\n* Note: to print out the ``` SemanticGraph ``` I had to rework the original Java app to use ``` StanfordCoreNLP, Annotation, CoreMap and OpenIE ```.  I am sure they was a better way and that is why I didn&#39;t post that reworked chunk of code in here.\r\n\r\n``` \r\nPoochie ate 3,000 tons of peanut butter\r\nroot(ROOT-0, ate-2)\r\nnsubj(ate-2, Poochie-1)\r\nnummod(butter-7, 3,000-3)\r\ndet:qmod(butter-7, tons-4)\r\nfixed(tons-4, of-5)\r\ncompound(butter-7, peanut-6)\r\nobj(ate-2, butter-7)\r\n\r\nPoochie ate 3,000 pounds of peanut butter\r\nroot(ROOT-0, ate-2)\r\nnsubj(ate-2, Poochie-1)\r\nnummod(pounds-4, 3,000-3)\r\nobj(ate-2, pounds-4)\r\ncase(butter-7, of-5)\r\ncompound(butter-7, peanut-6)\r\nnmod:of(pounds-4, butter-7)\r\n``` \r\n\r\nDoes anyone know why this change causes such a dramatic event with the SVO calculations?  I appreciate any information people may have.  \r\n\r\n\r\n","title":"Unable to get SVO Triples when using a different unit of measure","body":"<p>I am experiencing something that I think should work in CoreNLP.  I am using <code>openjdk 11.0.18 2023-01-17 LTS</code> on CentOS and a very simple OpenIE example.  I wired up <code>corenlp 4.5.2</code>, as show in my build.gradle snippet below.</p>\n<pre><code>dependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:31.1-jre'\n    implementation 'edu.stanford.nlp:stanford-corenlp:4.5.2'\n    implementation &quot;edu.stanford.nlp:stanford-corenlp:4.5.2:models&quot;\n    implementation &quot;edu.stanford.nlp:stanford-corenlp:4.5.2:models-english&quot;\n    implementation &quot;edu.stanford.nlp:stanford-corenlp:4.5.2:models-english-kbp&quot;\n}\n</code></pre>\n<p>My App.java file is</p>\n<pre><code>package tinker.nlp;\n\nimport edu.stanford.nlp.ie.util.RelationTriple;\nimport edu.stanford.nlp.simple.*;\n\npublic class App {\n    public static void main(String[] args) {\n        String statement = &quot;Poochie ate 3,000 tons of peanut butter.  Poochie ate 3,000 pounds of peanut butter.&quot;;\n        Properties props = new Properties();\n        props.setProperty(&quot;annotators&quot;, &quot;tokenize,ssplit,pos,lemma,ner,depparse,coref,natlog,openie&quot;);\n        Document doc = new Document(props, statement);\n\n        for(Sentence sentence : doc.sentences()) {\n            System.out.println(&quot;Sentence: &quot; + sentence.toString());\n            for(RelationTriple t : sentence.openieTriples()) {\n                System.out.println(t.toString());\n            }\n        }\n    }\n}\n</code></pre>\n<p>The issue is that the first sentence does not provide any SVO triples but the second sentence does.  As shown here:</p>\n<pre><code>Sentence: Poochie ate 3,000 tons of peanut butter.\nSentence: Poochie ate 3,000 pounds of peanut butter.\n1.0     Poochie ate     3,000 pounds of peanut butter\n1.0     Poochie ate     3,000 pounds\n</code></pre>\n<p>I am by no means a genius with linguistics but I would have expected tons and pounds to be treated identically as they are units of measure for the quantity of peanut butter this fictitious gluttonous dog has eaten.  However, if I output the <code>SemanticGraph</code> from the <code>SentenceFragment</code>, I noticed they are marked differently.</p>\n<ul>\n<li>Note: to print out the <code>SemanticGraph</code> I had to rework the original Java app to use <code>StanfordCoreNLP, Annotation, CoreMap and OpenIE</code>.  I am sure they was a better way and that is why I didn't post that reworked chunk of code in here.</li>\n</ul>\n<pre><code>Poochie ate 3,000 tons of peanut butter\nroot(ROOT-0, ate-2)\nnsubj(ate-2, Poochie-1)\nnummod(butter-7, 3,000-3)\ndet:qmod(butter-7, tons-4)\nfixed(tons-4, of-5)\ncompound(butter-7, peanut-6)\nobj(ate-2, butter-7)\n\nPoochie ate 3,000 pounds of peanut butter\nroot(ROOT-0, ate-2)\nnsubj(ate-2, Poochie-1)\nnummod(pounds-4, 3,000-3)\nobj(ate-2, pounds-4)\ncase(butter-7, of-5)\ncompound(butter-7, peanut-6)\nnmod:of(pounds-4, butter-7)\n</code></pre>\n<p>Does anyone know why this change causes such a dramatic event with the SVO calculations?  I appreciate any information people may have.</p>\n"},{"tags":["java","rabbitmq","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678806393,"creation_date":1678806393,"answer_id":75734925,"question_id":75734704,"body_markdown":"RabbitMQ is async so the send will always be successful. You can use transactions, but even then it will be successful, even if there is no queue bound to the exchange.\r\n\r\nUse the publisher confirm (and check for a returned message).","title":"Does StreamBridge.send() return value can be used as publishing confirmation?","body":"<p>RabbitMQ is async so the send will always be successful. You can use transactions, but even then it will be successful, even if there is no queue bound to the exchange.</p>\n<p>Use the publisher confirm (and check for a returned message).</p>\n"}],"owner":{"account_id":1323993,"reputation":161,"user_id":1269234,"display_name":"Rod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75734925,"answer_count":1,"score":0,"last_activity_date":1678806393,"creation_date":1678805267,"question_id":75734704,"body_markdown":"I want to guarantee a message will be delivered to the broker, the classic case of publisher confirms, when using Spring Cloud Stream with RabbitMQ.\r\n\r\nWhen using the `StreamBridge.send()` method, the javadocs says the following about the return of the method: \r\n\r\n```\r\ntrue if data was sent successfully, otherwise false or throws an exception\r\n```\r\n\r\nSo it could imply that&#39;s all you need to confirm the message has been received by the broker. However if you browser RabbitMQ Binder docs, it makes mention of another entirely different mechanism that relies on adding a callback and so on, as seen here: https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-rabbit.html#publisher-confirms\r\n\r\nSo the question is, which of the two options is the reliable one? Just the return of the `StreamBridge.send()` call, or do I need the callback to confirm publishing of a given message?","title":"Does StreamBridge.send() return value can be used as publishing confirmation?","body":"<p>I want to guarantee a message will be delivered to the broker, the classic case of publisher confirms, when using Spring Cloud Stream with RabbitMQ.</p>\n<p>When using the <code>StreamBridge.send()</code> method, the javadocs says the following about the return of the method:</p>\n<pre><code>true if data was sent successfully, otherwise false or throws an exception\n</code></pre>\n<p>So it could imply that's all you need to confirm the message has been received by the broker. However if you browser RabbitMQ Binder docs, it makes mention of another entirely different mechanism that relies on adding a callback and so on, as seen here: <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-rabbit.html#publisher-confirms\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-rabbit.html#publisher-confirms</a></p>\n<p>So the question is, which of the two options is the reliable one? Just the return of the <code>StreamBridge.send()</code> call, or do I need the callback to confirm publishing of a given message?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","collections"],"comments":[{"owner":{"account_id":20851443,"reputation":381,"user_id":15315878,"display_name":"Luigi Woodhouse"},"score":0,"creation_date":1678806928,"post_id":75734713,"comment_id":133602784,"body_markdown":"The error is saying that you can not use a OneToMany on either the entity &quot;user&quot; or &quot;manager&quot; or both because they are not a collection. Try to changing it to OneToOne or ManyToOne as I believe that would be more suitable for what you are doing","body":"The error is saying that you can not use a OneToMany on either the entity &quot;user&quot; or &quot;manager&quot; or both because they are not a collection. Try to changing it to OneToOne or ManyToOne as I believe that would be more suitable for what you are doing"}],"owner":{"account_id":23927465,"reputation":1,"user_id":17922420,"display_name":"ahmed homrani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678805646,"creation_date":1678805302,"question_id":75734713,"body_markdown":"I create a new entity Mission for my project ( the project was compiling and running successfuly)\r\nbut when i create the new model it ruins everything m using java 11 and spring boot 2.5.5\r\nHere my new model`\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;Mission&quot;)\r\npublic class Mission {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long Mission_id;\r\n    private String description;\r\n    @Setter(value = AccessLevel.NONE)\r\n    @Basic(optional = false)\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @JsonIgnore\r\n    private Date createdAt = new Date();\r\n\r\n    @ManyToOne\r\n    @JsonIgnore\r\n    private User user;\r\n}\r\n\r\n```\r\n`\r\n\r\nand here my User model \r\n```\r\n@Getter\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;utilisateur&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String username;\r\n    private String email;\r\n    private String password;\r\n    @Column(name = &quot;datedenaissance&quot;)\r\n    private Instant dateDeNaissance;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;age&quot;)\r\n    private int age;\r\n    @NonNull\r\n    @Column(name = &quot;phone_number&quot;)\r\n    private String phoneNumber;\r\n\r\n\r\n    @Column(name = &quot;photo&quot;)\r\n    private String photo;\r\n    boolean isLocked;\r\n    @Transient\r\n    String accessToken;\r\n\r\n    @Transient\r\n    String refreshToken;\r\n    int loginAttempts;\r\n    @Setter(value = AccessLevel.NONE)\r\n    @Basic(optional = false)\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date createdAt = new Date();\r\n\r\n    @Setter(value = AccessLevel.NONE)\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;updated_at&quot;)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date updatedAt = new Date();\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;manager&quot;)\r\n    private List&lt;OffreEmploi&gt; offreEmplois;\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;Attestation&gt; attestations;\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;DocumentEntreprise&gt; documentEntreprises;\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;Conge&gt; conges;\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;)\r\n    Image image;\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;Mission&gt; mission ;\r\n}\r\n\r\n```\r\nhere the error\r\n\r\n\r\n```\r\nFailed to initialize JPA EntityManagerFactory: Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: tn.dpc.gestion.des.ressources.humaine.Entity.User.createdAt\r\n\r\nError starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;webSecurityConfig&#39;: Unsatisfied dependency expressed through method &#39;setContentNegotationStrategy&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setConfigurers&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;openEntityManagerInViewInterceptorConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method &#39;openEntityManagerInViewInterceptorConfigurer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;openEntityManagerInViewInterceptor&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: tn.dpc.gestion.des.ressources.humaine.Entity.User.createdAt\r\n```\r\n\r\n\r\n\r\ni try to ask chat gpt and googling the error but nothing really help","title":"Failed to initialize JPA EntityManagerFactory: Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements","body":"<p>I create a new entity Mission for my project ( the project was compiling and running successfuly)\nbut when i create the new model it ruins everything m using java 11 and spring boot 2.5.5\nHere my new model`</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;Mission&quot;)\npublic class Mission {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long Mission_id;\n    private String description;\n    @Setter(value = AccessLevel.NONE)\n    @Basic(optional = false)\n    @CreationTimestamp\n    @Column(name = &quot;created_at&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    @JsonIgnore\n    private Date createdAt = new Date();\n\n    @ManyToOne\n    @JsonIgnore\n    private User user;\n}\n\n</code></pre>\n<p>`</p>\n<p>and here my User model</p>\n<pre><code>@Getter\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;utilisateur&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String firstName;\n    private String lastName;\n    private String username;\n    private String email;\n    private String password;\n    @Column(name = &quot;datedenaissance&quot;)\n    private Instant dateDeNaissance;\n\n    @NonNull\n    @Column(name = &quot;age&quot;)\n    private int age;\n    @NonNull\n    @Column(name = &quot;phone_number&quot;)\n    private String phoneNumber;\n\n\n    @Column(name = &quot;photo&quot;)\n    private String photo;\n    boolean isLocked;\n    @Transient\n    String accessToken;\n\n    @Transient\n    String refreshToken;\n    int loginAttempts;\n    @Setter(value = AccessLevel.NONE)\n    @Basic(optional = false)\n    @CreationTimestamp\n    @Column(name = &quot;created_at&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date createdAt = new Date();\n\n    @Setter(value = AccessLevel.NONE)\n    @UpdateTimestamp\n    @Column(name = &quot;updated_at&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date updatedAt = new Date();\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;manager&quot;)\n    private List&lt;OffreEmploi&gt; offreEmplois;\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;user&quot;)\n    private List&lt;Attestation&gt; attestations;\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;user&quot;)\n    private List&lt;DocumentEntreprise&gt; documentEntreprises;\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;user&quot;)\n    private List&lt;Conge&gt; conges;\n\n    @OneToOne(mappedBy = &quot;user&quot;)\n    Image image;\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;user&quot;)\n    private List&lt;Mission&gt; mission ;\n}\n\n</code></pre>\n<p>here the error</p>\n<pre><code>Failed to initialize JPA EntityManagerFactory: Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: tn.dpc.gestion.des.ressources.humaine.Entity.User.createdAt\n\nError starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through method 'setContentNegotationStrategy' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: tn.dpc.gestion.des.ressources.humaine.Entity.User.createdAt\n</code></pre>\n<p>i try to ask chat gpt and googling the error but nothing really help</p>\n"},{"tags":["java","database","spring","hibernate","exception"],"answers":[{"tags":[],"owner":{"account_id":439593,"reputation":15022,"user_id":828625,"accept_rate":88,"display_name":"Kazekage Gaara"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1340552981,"creation_date":1340552362,"answer_id":11178750,"question_id":11178728,"body_markdown":"&gt;Why? \r\n\r\nSimply because `DataAccessException` is [abstract class][1]. You cannot instantiate an abstract class.\r\n\r\n\r\n&gt;What can I do?\r\n\r\nIf you check the hierarchy:\r\n\r\n    extended by java.lang.RuntimeException\r\n                  extended by org.springframework.core.NestedRuntimeException\r\n                      extended by org.springframework.dao.DataAccessException\r\n\r\nSince `NestedRuntimeException` is also abstract, you can throw a `new RuntimeException(msg);`(which is not recommended). You can go for what the other answer suggests - Use one of the concrete classes.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/dao/DataAccessException.html\r\n","title":"How to create instance of org.springframework.dao.DataAccessException?","body":"<blockquote>\n  <p>Why? </p>\n</blockquote>\n\n<p>Simply because <code>DataAccessException</code> is <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/dao/DataAccessException.html\" rel=\"nofollow\">abstract class</a>. You cannot instantiate an abstract class.</p>\n\n<blockquote>\n  <p>What can I do?</p>\n</blockquote>\n\n<p>If you check the hierarchy:</p>\n\n<pre><code>extended by java.lang.RuntimeException\n              extended by org.springframework.core.NestedRuntimeException\n                  extended by org.springframework.dao.DataAccessException\n</code></pre>\n\n<p>Since <code>NestedRuntimeException</code> is also abstract, you can throw a <code>new RuntimeException(msg);</code>(which is not recommended). You can go for what the other answer suggests - Use one of the concrete classes.</p>\n"},{"tags":[],"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1340553007,"creation_date":1340553007,"answer_id":11178828,"question_id":11178728,"body_markdown":"*DataAccessException* is an abstract class and can not be instantiated. Instead use one of the concrete classes such as *new DataRetreivalFailureException(&quot;this was the reason&quot;)* or create your own:\r\n\r\n    throw new DataAccessException(&quot;this was the reason&quot;) {};\r\n\r\nAnd you get an anonymous class derived from the DataAccessException.","title":"How to create instance of org.springframework.dao.DataAccessException?","body":"<p><em>DataAccessException</em> is an abstract class and can not be instantiated. Instead use one of the concrete classes such as <em>new DataRetreivalFailureException(\"this was the reason\")</em> or create your own:</p>\n\n<pre><code>throw new DataAccessException(\"this was the reason\") {};\n</code></pre>\n\n<p>And you get an anonymous class derived from the DataAccessException.</p>\n"},{"tags":[],"owner":{"account_id":7086416,"reputation":101239,"user_id":5423108,"display_name":"Alireza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529767713,"creation_date":1529767713,"answer_id":51002595,"question_id":11178728,"body_markdown":"If you looking into source code, you will notice it&#39;s an **abstract class**, look into that:\r\n\r\n    package org.springframework.dao;\r\n    \r\n    import org.springframework.core.NestedRuntimeException;\r\n    \r\n    public abstract class DataAccessException extends NestedRuntimeException {\r\n        public DataAccessException(String msg) {\r\n            super(msg);\r\n        }\r\n    \r\n        public DataAccessException(String msg, Throwable cause) {\r\n            super(msg, cause);\r\n        }\r\n    }\r\n\r\nAnd as you know abstract classes can not be extended...\r\n\r\nBut you can use it in other ways, this is one way to use it for example:\r\n\r\n    public interface ApiService {\r\n        Whatever getSomething(Map&lt;String, String&gt; Maps) throws DataAccessException;\r\n    }\r\n\r\n","title":"How to create instance of org.springframework.dao.DataAccessException?","body":"<p>If you looking into source code, you will notice it's an <strong>abstract class</strong>, look into that:</p>\n\n<pre><code>package org.springframework.dao;\n\nimport org.springframework.core.NestedRuntimeException;\n\npublic abstract class DataAccessException extends NestedRuntimeException {\n    public DataAccessException(String msg) {\n        super(msg);\n    }\n\n    public DataAccessException(String msg, Throwable cause) {\n        super(msg, cause);\n    }\n}\n</code></pre>\n\n<p>And as you know abstract classes can not be extended...</p>\n\n<p>But you can use it in other ways, this is one way to use it for example:</p>\n\n<pre><code>public interface ApiService {\n    Whatever getSomething(Map&lt;String, String&gt; Maps) throws DataAccessException;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22936890,"reputation":19,"user_id":17070241,"display_name":"David Arevalo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648136132,"creation_date":1648136132,"answer_id":71605332,"question_id":11178728,"body_markdown":"I needed to return Mono.error with a DataAccessException in my test mock. I **instanciated a anonymous class** of the abstract class and it worked for me:\r\n\r\n    Mono.error(new DataAccessException(&quot;exception message&quot;){})","title":"How to create instance of org.springframework.dao.DataAccessException?","body":"<p>I needed to return Mono.error with a DataAccessException in my test mock. I <strong>instanciated a anonymous class</strong> of the abstract class and it worked for me:</p>\n<pre><code>Mono.error(new DataAccessException(&quot;exception message&quot;){})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2194478,"reputation":407,"user_id":1940549,"accept_rate":93,"display_name":"Navankur Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678805364,"creation_date":1678805364,"answer_id":75734726,"question_id":11178728,"body_markdown":"Instead of Using TransientDataAccessException.class , this can be used\r\n\r\n       \r\n\r\n     doThrow(new TransientDataAccessException(&quot;Oops! Something went wrong.&quot;) {}).when(myMock).callSomeMethod(param1,param2);\r\n\r\n","title":"How to create instance of org.springframework.dao.DataAccessException?","body":"<p>Instead of Using TransientDataAccessException.class , this can be used</p>\n<pre><code> doThrow(new TransientDataAccessException(&quot;Oops! Something went wrong.&quot;) {}).when(myMock).callSomeMethod(param1,param2);\n</code></pre>\n"}],"owner":{"account_id":365724,"reputation":23428,"user_id":710818,"accept_rate":82,"display_name":"user710818"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18661,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1678805364,"creation_date":1340552190,"question_id":11178728,"body_markdown":"I need to create JUnit test for handling of DataAccessException,\r\n\r\nbut when I try:\r\n\r\n \t\t\t\tthrow new DataAccessException();\r\n\r\nReceive:\r\n\r\n     Cannot instantiate the type DataAccessException\r\n\r\nWhy? What can I do?\r\nThanks.","title":"How to create instance of org.springframework.dao.DataAccessException?","body":"<p>I need to create JUnit test for handling of DataAccessException,</p>\n\n<p>but when I try:</p>\n\n<pre><code>            throw new DataAccessException();\n</code></pre>\n\n<p>Receive:</p>\n\n<pre><code> Cannot instantiate the type DataAccessException\n</code></pre>\n\n<p>Why? What can I do?\nThanks.</p>\n"},{"tags":["java","arrays","sorting","stream","comparator"],"answers":[{"tags":[],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678805209,"creation_date":1678801392,"answer_id":75733960,"question_id":75733625,"body_markdown":"You can write your own comparator for that. I have called your string with X &quot;xString&quot; like this\r\n\r\n```\r\npublic class CustomObject {\r\n\r\n    private final String volvo;\r\n    private final int i;\r\n    private final String xString;\r\n    private final int i1;\r\n    private final int i2;\r\n    private final int i3;\r\n    private final boolean b;\r\n    private final int i4;\r\n\r\n    public CustomObject(String volvo, int i, String type, int i1, int i2, int i3, boolean b, int i4) {\r\n        this.volvo = volvo;\r\n        this.i = i;\r\n        this.xString = type;\r\n        this.i1 = i1;\r\n        this.i2 = i2;\r\n        this.i3 = i3;\r\n        this.b = b;\r\n        this.i4 = i4;\r\n    }\r\n\r\n    public String getXString() {\r\n        return xString;\r\n    }\r\n\r\n}\r\n```\r\n\r\nin your code you can then compare the indexes of the models list like this:\r\n\r\n```\r\n    @Test\r\n    public void testSorting() {\r\n\r\n        List&lt;CustomObject&gt; customObjects = new ArrayList&lt;&gt;();\r\n        customObjects.add(new CustomObject(&quot;Volvo&quot;, 1, &quot;x1&quot;, 200, 4, 15000, true, 4));\r\n        customObjects.add(new CustomObject(&quot;Bmw&quot;, 2, &quot;x2&quot;, 200, 4, 15000, true, 4));\r\n        customObjects.add(new CustomObject(&quot;Mercedes&quot;, 3, &quot;x3&quot;, 200, 4, 15000, true, 4));\r\n        customObjects.add(new CustomObject(&quot;Alfa&quot;, 4, &quot;x4&quot;, 200, 4, 15000, true, 4));\r\n        customObjects.add(new CustomObject(&quot;Fiat&quot;, 5, &quot;x5&quot;, 200, 4, 15000, true, 4));\r\n\r\n\r\n        List&lt;String&gt; models = new ArrayList&lt;&gt;();\r\n        models.add(&quot;x2&quot;);\r\n        models.add(&quot;x5&quot;);\r\n        models.add(&quot;x1&quot;);\r\n        models.add(&quot;x4&quot;);\r\n        models.add(&quot;x3&quot;);\r\n\r\n        // Compator#compare returns int that tells which object is first and which second, see the Javadoc.\r\n        // You can write your own comparator by just subtracting the indexes in the list.\r\n        customObjects.sort((car1, car2) -&gt; models.indexOf(car1.getXString()) - models.indexOf(car2.getXString()));\r\n\r\n        System.out.println(customObjects);\r\n    }\r\n```\r\n\r\n\r\nThis doesn&#39;t cope with corner cases like the property is not found in the list, null values etc.., but you could get the idea.\r\n\r\nShorter way of sorting but less understandable for people not familiar with lambdas can look like this:\r\n\r\n        customObjects.sort(Comparator.comparingInt(car -&gt; models.indexOf(car.getXString())));\r\n","title":"Java How to sort list of objects by attribute that other list contains?","body":"<p>You can write your own comparator for that. I have called your string with X &quot;xString&quot; like this</p>\n<pre><code>public class CustomObject {\n\n    private final String volvo;\n    private final int i;\n    private final String xString;\n    private final int i1;\n    private final int i2;\n    private final int i3;\n    private final boolean b;\n    private final int i4;\n\n    public CustomObject(String volvo, int i, String type, int i1, int i2, int i3, boolean b, int i4) {\n        this.volvo = volvo;\n        this.i = i;\n        this.xString = type;\n        this.i1 = i1;\n        this.i2 = i2;\n        this.i3 = i3;\n        this.b = b;\n        this.i4 = i4;\n    }\n\n    public String getXString() {\n        return xString;\n    }\n\n}\n</code></pre>\n<p>in your code you can then compare the indexes of the models list like this:</p>\n<pre><code>    @Test\n    public void testSorting() {\n\n        List&lt;CustomObject&gt; customObjects = new ArrayList&lt;&gt;();\n        customObjects.add(new CustomObject(&quot;Volvo&quot;, 1, &quot;x1&quot;, 200, 4, 15000, true, 4));\n        customObjects.add(new CustomObject(&quot;Bmw&quot;, 2, &quot;x2&quot;, 200, 4, 15000, true, 4));\n        customObjects.add(new CustomObject(&quot;Mercedes&quot;, 3, &quot;x3&quot;, 200, 4, 15000, true, 4));\n        customObjects.add(new CustomObject(&quot;Alfa&quot;, 4, &quot;x4&quot;, 200, 4, 15000, true, 4));\n        customObjects.add(new CustomObject(&quot;Fiat&quot;, 5, &quot;x5&quot;, 200, 4, 15000, true, 4));\n\n\n        List&lt;String&gt; models = new ArrayList&lt;&gt;();\n        models.add(&quot;x2&quot;);\n        models.add(&quot;x5&quot;);\n        models.add(&quot;x1&quot;);\n        models.add(&quot;x4&quot;);\n        models.add(&quot;x3&quot;);\n\n        // Compator#compare returns int that tells which object is first and which second, see the Javadoc.\n        // You can write your own comparator by just subtracting the indexes in the list.\n        customObjects.sort((car1, car2) -&gt; models.indexOf(car1.getXString()) - models.indexOf(car2.getXString()));\n\n        System.out.println(customObjects);\n    }\n</code></pre>\n<p>This doesn't cope with corner cases like the property is not found in the list, null values etc.., but you could get the idea.</p>\n<p>Shorter way of sorting but less understandable for people not familiar with lambdas can look like this:</p>\n<pre><code>    customObjects.sort(Comparator.comparingInt(car -&gt; models.indexOf(car.getXString())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678802494,"creation_date":1678801966,"answer_id":75734064,"question_id":75733625,"body_markdown":"Use the index of the model.  I shortened your class to make it more visible but the idea is the same.\r\n\r\nrecord for demo puposes\r\n```\r\nrecord CustomObject(String car, int v1, String getSortId) {\r\n}\r\n```\r\nThe data\r\n```\r\nArrayList&lt;CustomObject&gt; customObjects = new ArrayList&lt;&gt;();\r\ncustomObjects.add(new CustomObject(&quot;Volvo&quot;, 1, &quot;x1&quot;));\r\ncustomObjects.add(new CustomObject(&quot;Bmw&quot;, 2, &quot;x2&quot;));\r\ncustomObjects.add(new CustomObject(&quot;Mercedes&quot;, 3, &quot;x3&quot;));\r\ncustomObjects.add(new CustomObject(&quot;Alfa&quot;, 4, &quot;x4&quot;));\r\ncustomObjects.add(new CustomObject(&quot;Fiat&quot;, 5, &quot;x5&quot;));\r\n\r\nArrayList&lt;String&gt; models = new ArrayList&lt;&gt;();\r\nmodels.add(&quot;x2&quot;);\r\nmodels.add(&quot;x5&quot;);\r\nmodels.add(&quot;x1&quot;);\r\nmodels.add(&quot;x4&quot;);\r\nmodels.add(&quot;x3&quot;);\r\n```\r\nThe solution.  Using the sortId you are sorting on the relative positions of   that id in the model.\r\n```\r\ncustomObjects.sort(Comparator\r\n        .comparing(custObj -&gt; models.indexOf(custObj.getSortId())));\r\ncustomObjects.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nCustomObject[car=Bmw, v1=2, getSortId=x2]\r\nCustomObject[car=Fiat, v1=5, getSortId=x5]\r\nCustomObject[car=Volvo, v1=1, getSortId=x1]\r\nCustomObject[car=Alfa, v1=4, getSortId=x4]\r\nCustomObject[car=Mercedes, v1=3, getSortId=x3]\r\n```\r\nIf the sortId does not exist in the model, -1 is returned so that and similar objects will be first in an ascending order sort.","title":"Java How to sort list of objects by attribute that other list contains?","body":"<p>Use the index of the model.  I shortened your class to make it more visible but the idea is the same.</p>\n<p>record for demo puposes</p>\n<pre><code>record CustomObject(String car, int v1, String getSortId) {\n}\n</code></pre>\n<p>The data</p>\n<pre><code>ArrayList&lt;CustomObject&gt; customObjects = new ArrayList&lt;&gt;();\ncustomObjects.add(new CustomObject(&quot;Volvo&quot;, 1, &quot;x1&quot;));\ncustomObjects.add(new CustomObject(&quot;Bmw&quot;, 2, &quot;x2&quot;));\ncustomObjects.add(new CustomObject(&quot;Mercedes&quot;, 3, &quot;x3&quot;));\ncustomObjects.add(new CustomObject(&quot;Alfa&quot;, 4, &quot;x4&quot;));\ncustomObjects.add(new CustomObject(&quot;Fiat&quot;, 5, &quot;x5&quot;));\n\nArrayList&lt;String&gt; models = new ArrayList&lt;&gt;();\nmodels.add(&quot;x2&quot;);\nmodels.add(&quot;x5&quot;);\nmodels.add(&quot;x1&quot;);\nmodels.add(&quot;x4&quot;);\nmodels.add(&quot;x3&quot;);\n</code></pre>\n<p>The solution.  Using the sortId you are sorting on the relative positions of   that id in the model.</p>\n<pre><code>customObjects.sort(Comparator\n        .comparing(custObj -&gt; models.indexOf(custObj.getSortId())));\ncustomObjects.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>CustomObject[car=Bmw, v1=2, getSortId=x2]\nCustomObject[car=Fiat, v1=5, getSortId=x5]\nCustomObject[car=Volvo, v1=1, getSortId=x1]\nCustomObject[car=Alfa, v1=4, getSortId=x4]\nCustomObject[car=Mercedes, v1=3, getSortId=x3]\n</code></pre>\n<p>If the sortId does not exist in the model, -1 is returned so that and similar objects will be first in an ascending order sort.</p>\n"}],"owner":{"account_id":27674699,"reputation":25,"user_id":21124762,"display_name":"Dave Hester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75733960,"answer_count":2,"score":1,"last_activity_date":1678805209,"creation_date":1678799654,"question_id":75733625,"body_markdown":"Is there any way to sort the list of objects by an attribute that other list contains?\r\n\r\nFor example I try to sort *customObjects *ArrayList of CustomObjects by the values of *models *ArrayList of Strings :\r\n\r\n \r\n\r\n\r\n```\r\nArrayList&lt;CustomObject&gt; customObjects= new ArrayList&lt;&gt;();\r\n customObjects.add(new CustomObject(&quot;Volvo&quot;, 1, &quot;x1&quot;, 200, 4, 15000, true, 4));\r\n customObjects.add(new CustomObject(&quot;Bmw&quot;, 2, &quot;x2&quot;, 200, 4, 15000, true, 4));\r\n customObjects.add(new CustomObject(&quot;Mercedes&quot;, 3, &quot;x3&quot;, 200, 4, 15000, true, 4));\r\n customObjects.add(new CustomObject(&quot;Alfa&quot;, 4, &quot;x4&quot;, 200, 4, 15000, true, 4));\r\n customObjects.add(new CustomObject(&quot;Fiat&quot;, 5, &quot;x5&quot;, 200, 4, 15000, true, 4));\r\n\r\n\r\nArrayList&lt;String&gt; models = new ArrayList&lt;&gt;();\r\nmodels.add(&quot;x2&quot;);\r\nmodels.add(&quot;x5&quot;);\r\nmodels.add(&quot;x1&quot;);\r\nmodels.add(&quot;x4&quot;);\r\nmodels.add(&quot;x3&quot;);\r\n\r\n//expected result -&gt; customObjects = [\r\n {CustomObject(&quot;Bmw&quot;, 2, &quot;x2&quot;, 200, 4, 15000, true, 4))}\r\n{CustomObject(&quot;Fiat&quot;, 5, &quot;x5&quot;, 200, 4, 15000, true, 4)}\r\n{CustomObject(&quot;Volvo&quot;, 1, &quot;x1&quot;, 200, 4, 15000, true, 4)}\r\n{CustomObject(&quot;Alfa&quot;, 4, &quot;x4&quot;, 200, 4, 15000, true, 4)}\r\n{CustomObject(&quot;Mercedes&quot;, 3, &quot;x3&quot;, 200, 4, 15000, true, 4)}\r\n]\r\n\r\n```\r\n\r\n\r\n**Note that list sizes could be different\r\n\r\nSorted array list of customObjects","title":"Java How to sort list of objects by attribute that other list contains?","body":"<p>Is there any way to sort the list of objects by an attribute that other list contains?</p>\n<p>For example I try to sort *customObjects *ArrayList of CustomObjects by the values of *models *ArrayList of Strings :</p>\n<pre><code>ArrayList&lt;CustomObject&gt; customObjects= new ArrayList&lt;&gt;();\n customObjects.add(new CustomObject(&quot;Volvo&quot;, 1, &quot;x1&quot;, 200, 4, 15000, true, 4));\n customObjects.add(new CustomObject(&quot;Bmw&quot;, 2, &quot;x2&quot;, 200, 4, 15000, true, 4));\n customObjects.add(new CustomObject(&quot;Mercedes&quot;, 3, &quot;x3&quot;, 200, 4, 15000, true, 4));\n customObjects.add(new CustomObject(&quot;Alfa&quot;, 4, &quot;x4&quot;, 200, 4, 15000, true, 4));\n customObjects.add(new CustomObject(&quot;Fiat&quot;, 5, &quot;x5&quot;, 200, 4, 15000, true, 4));\n\n\nArrayList&lt;String&gt; models = new ArrayList&lt;&gt;();\nmodels.add(&quot;x2&quot;);\nmodels.add(&quot;x5&quot;);\nmodels.add(&quot;x1&quot;);\nmodels.add(&quot;x4&quot;);\nmodels.add(&quot;x3&quot;);\n\n//expected result -&gt; customObjects = [\n {CustomObject(&quot;Bmw&quot;, 2, &quot;x2&quot;, 200, 4, 15000, true, 4))}\n{CustomObject(&quot;Fiat&quot;, 5, &quot;x5&quot;, 200, 4, 15000, true, 4)}\n{CustomObject(&quot;Volvo&quot;, 1, &quot;x1&quot;, 200, 4, 15000, true, 4)}\n{CustomObject(&quot;Alfa&quot;, 4, &quot;x4&quot;, 200, 4, 15000, true, 4)}\n{CustomObject(&quot;Mercedes&quot;, 3, &quot;x3&quot;, 200, 4, 15000, true, 4)}\n]\n\n</code></pre>\n<p>**Note that list sizes could be different</p>\n<p>Sorted array list of customObjects</p>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678805506,"post_id":75734647,"comment_id":133602288,"body_markdown":"MIME decoder is the only correct decoder if your input contains line feeds. Both other options will not accept input with any characters outside of the base64 alphabet. [The docs of `Base64`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Base64.html) have a concise summary at the top about the differences (that&#39;s a Java 17 link, but that class is mostly unchanged since Java 8).","body":"MIME decoder is the only correct decoder if your input contains line feeds. Both other options will not accept input with any characters outside of the base64 alphabet. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Base64.html\" rel=\"nofollow noreferrer\">The docs of <code>Base64</code></a> have a concise summary at the top about the differences (that&#39;s a Java 17 link, but that class is mostly unchanged since Java 8)."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1678805513,"post_id":75734647,"comment_id":133602292,"body_markdown":"You must examine the symbol table to determine *which* base64 to use; because the different Base64 decoders use slightly different 64 character symbol tables. See [Wikipedia](https://en.wikipedia.org/wiki/Base64#Variants_summary_table) for more.","body":"You must examine the symbol table to determine <i>which</i> base64 to use; because the different Base64 decoders use slightly different 64 character symbol tables. See <a href=\"https://en.wikipedia.org/wiki/Base64#Variants_summary_table\" rel=\"nofollow noreferrer\">Wikipedia</a> for more."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1679247320,"post_id":75734647,"comment_id":133683087,"body_markdown":"@ElliottFrisch Isn&#39;t it enough to check the data for line feed? If not, what is the easiest way to examin the symbol table?","body":"@ElliottFrisch Isn&#39;t it enough to check the data for line feed? If not, what is the easiest way to examin the symbol table?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679249294,"post_id":75734647,"comment_id":133683452,"body_markdown":"@ThiloSchwarz By examining your inputs. It&#39;s going to be one of RFC 1421, RFC 2045, RFC 2152, RFC 3501, RFC 4648 &#167;4, RFC 4648 &#167;5, RFC 4880 or the always helpful &quot;Other variations&quot;.","body":"@ThiloSchwarz By examining your inputs. It&#39;s going to be one of RFC 1421, RFC 2045, RFC 2152, RFC 3501, RFC 4648 &#167;4, RFC 4648 &#167;5, RFC 4880 or the always helpful &quot;Other variations&quot;."}],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678805002,"creation_date":1678805002,"question_id":75734647,"body_markdown":"I&#39;m on jdk 1.8.\r\n\r\nI&#39;ve to decode a lot of base64 data. Some of the data includes &#39;\\r&#39; followed immediately by a linefeed &#39;\\n&#39;.\r\n\r\nI know the ```Base64.getMimeDecoder()``` handles this line feeds correctly. But can this really be used as a substitute of ```Base64.getDecoder()```. If not, what&#39;s the prefert way to decide, what decoder to use? I just have an array of bytes.","title":"Base64: Basic vs. Mime decoder","body":"<p>I'm on jdk 1.8.</p>\n<p>I've to decode a lot of base64 data. Some of the data includes '\\r' followed immediately by a linefeed '\\n'.</p>\n<p>I know the <code>Base64.getMimeDecoder()</code> handles this line feeds correctly. But can this really be used as a substitute of <code>Base64.getDecoder()</code>. If not, what's the prefert way to decide, what decoder to use? I just have an array of bytes.</p>\n"},{"tags":["java","pythoninterpreter"],"owner":{"account_id":20195407,"reputation":21,"user_id":14830185,"display_name":"Vitalij Victor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678804710,"creation_date":1678804710,"question_id":75734594,"body_markdown":"I want to run java code in IntelliJ IDEA:\r\n\r\n    public static void main(String[] args) {\r\n            PythonInterpreter py = new PythonInterpreter();\r\n            py.exec(&quot;from send2trash import send2trash \\nsend2trash(&#39;cat-2.jpg&#39;)&quot;);\r\n        }\r\n\r\nand in the console I get :\r\n**Exception in thread &quot;main&quot; Traceback (most recent call last):\r\n  File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;\r\nImportError: No module named send2trash**\r\n\r\nCan somebody help me?","title":"why jython java PythonInterpreter doesn&#39;t find the module","body":"<p>I want to run java code in IntelliJ IDEA:</p>\n<pre><code>public static void main(String[] args) {\n        PythonInterpreter py = new PythonInterpreter();\n        py.exec(&quot;from send2trash import send2trash \\nsend2trash('cat-2.jpg')&quot;);\n    }\n</code></pre>\n<p>and in the console I get :\n<strong>Exception in thread &quot;main&quot; Traceback (most recent call last):\nFile &quot;&quot;, line 1, in \nImportError: No module named send2trash</strong></p>\n<p>Can somebody help me?</p>\n"},{"tags":["java","spring","spring-cloud-config"],"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678804584,"creation_date":1678804584,"question_id":75734573,"body_markdown":"In a standard Maven project, Spring Cloud Config abstracts configurations as REST resources. Thus they can be requested using a URL schema:\r\n\r\n    /application/dev // &lt;-- Here /dev is the profile\r\n\r\nI understand, Spring Cloud Config uses the URL to search for configuration in its `/resources` directory. What I wonder now is, if I provide an invalid profile, like `tmp`, how does Spring Cloud Config handle that? And how could I sort of redirect Spring Cloud Config to map all invalid profiles to a single default resource?","title":"How to map an invalid argument for Spring Cloud Config to a default environment resource?","body":"<p>In a standard Maven project, Spring Cloud Config abstracts configurations as REST resources. Thus they can be requested using a URL schema:</p>\n<pre><code>/application/dev // &lt;-- Here /dev is the profile\n</code></pre>\n<p>I understand, Spring Cloud Config uses the URL to search for configuration in its <code>/resources</code> directory. What I wonder now is, if I provide an invalid profile, like <code>tmp</code>, how does Spring Cloud Config handle that? And how could I sort of redirect Spring Cloud Config to map all invalid profiles to a single default resource?</p>\n"},{"tags":["java","exception","java-8","java-stream"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1581110985,"post_id":60121298,"comment_id":106334241,"body_markdown":"under `java-8` tag, read [two questions back](https://stackoverflow.com/questions/60118056/the-method-mapfunction-super-role-extends-r-in-the-type-streamrole-is-n)","body":"under <code>java-8</code> tag, read <a href=\"https://stackoverflow.com/questions/60118056/the-method-mapfunction-super-role-extends-r-in-the-type-streamrole-is-n\">two questions back</a>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1581112132,"creation_date":1581111536,"answer_id":60121446,"question_id":60121298,"body_markdown":"Dont *throw* the exception, *return* it:\r\n\r\n    .orElseThrow(() -&gt; {\r\n        String message = &quot;some special failure message&quot;;\r\n        log.error(message);\r\n        // change throw to return:\r\n        return new CustomInternalException(message)});\r\n\r\n[`.orElseThrow()`][1] accepts a `Supplier&lt;Exception&gt;`, which should *return*, rather than *throw*, an exception.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)","title":"Java8 Stream .orElseThrow unreported exception error","body":"<p>Dont <em>throw</em> the exception, <em>return</em> it:</p>\n\n<pre><code>.orElseThrow(() -&gt; {\n    String message = \"some special failure message\";\n    log.error(message);\n    // change throw to return:\n    return new CustomInternalException(message)});\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)\" rel=\"noreferrer\"><code>.orElseThrow()</code></a> accepts a <code>Supplier&lt;Exception&gt;</code>, which should <em>return</em>, rather than <em>throw</em>, an exception.</p>\n"},{"tags":[],"owner":{"account_id":6645589,"reputation":602,"user_id":5129821,"accept_rate":91,"display_name":"Dasun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678804565,"creation_date":1678804565,"answer_id":75734566,"question_id":60121298,"body_markdown":"    .orElseThrow(() -&gt; {\r\n        String message = &quot;some special failure message&quot;;\r\n        log.error(message);\r\n        // change throw to return:\r\n        new CustomInternalException(message)});\r\n\r\nYou don`t want throw keyword inside `orElseThrow`","title":"Java8 Stream .orElseThrow unreported exception error","body":"<pre><code>.orElseThrow(() -&gt; {\n    String message = &quot;some special failure message&quot;;\n    log.error(message);\n    // change throw to return:\n    new CustomInternalException(message)});\n</code></pre>\n<p>You don<code>t want throw keyword inside </code>orElseThrow`</p>\n"}],"owner":{"account_id":14322308,"reputation":83,"user_id":10345296,"display_name":"Zach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1656,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":60121446,"answer_count":2,"score":8,"last_activity_date":1678804565,"creation_date":1581110822,"question_id":60121298,"body_markdown":"I am trying to track down why a specific behavior is happening with ```.orElseThrow``` in a Java Stream. This code block \r\n```\r\nprivate SomeContainer getSomeContainerFromList(SomeContainerList containerList, String containerId) {\r\n\r\n   return containerList.stream()\r\n           .filter(specificContainer -&gt; specificContainer.getId().equals(containerId))\r\n           .findAny()\r\n           .orElseThrow(() -&gt; {\r\n               String message = &quot;some special failure message&quot;;\r\n               log.error(message);\r\n               throw new CustomInternalException(message)});\r\n}\r\n```\r\n\r\nresults in this error: **```unreported exception X; must be caught or declared to be thrown```**\r\n\r\nI don&#39;t want to report the exception because that would cause me to add that to every other method who interacts with this. \r\n\r\nHowever, when I remove the curly braced lambda expression, leaving just the new exception to be thrown, like so:\r\n\r\n```\r\nprivate SomeContainer getSomeContainerFromList(SomeContainerList containerList, String containerId) {\r\n\r\n   return containerList.stream()\r\n           .filter(specificContainer -&gt; specificContainer.getId().equals(containerId))\r\n           .findAny()\r\n           .orElseThrow(() -&gt; new CustomInternalException(&quot;some special failure message&quot;));\r\n}\r\n```\r\nIt compiles just fine and the exception no longer needs to be reported, although, I can&#39;t log the message or do any other logic in that ```.orElseThrow``` statement. \r\n\r\nWhy does this happen? I&#39;ve seen a sort of [similar question](https://stackoverflow.com/questions/25523375/java8-lambdas-and-exceptions) which explains that this could be a bug in the JDK but I want to make sure that is the case in my situation. ","title":"Java8 Stream .orElseThrow unreported exception error","body":"<p>I am trying to track down why a specific behavior is happening with <code>.orElseThrow</code> in a Java Stream. This code block </p>\n\n<pre><code>private SomeContainer getSomeContainerFromList(SomeContainerList containerList, String containerId) {\n\n   return containerList.stream()\n           .filter(specificContainer -&gt; specificContainer.getId().equals(containerId))\n           .findAny()\n           .orElseThrow(() -&gt; {\n               String message = \"some special failure message\";\n               log.error(message);\n               throw new CustomInternalException(message)});\n}\n</code></pre>\n\n<p>results in this error: <strong><code>unreported exception X; must be caught or declared to be thrown</code></strong></p>\n\n<p>I don't want to report the exception because that would cause me to add that to every other method who interacts with this. </p>\n\n<p>However, when I remove the curly braced lambda expression, leaving just the new exception to be thrown, like so:</p>\n\n<pre><code>private SomeContainer getSomeContainerFromList(SomeContainerList containerList, String containerId) {\n\n   return containerList.stream()\n           .filter(specificContainer -&gt; specificContainer.getId().equals(containerId))\n           .findAny()\n           .orElseThrow(() -&gt; new CustomInternalException(\"some special failure message\"));\n}\n</code></pre>\n\n<p>It compiles just fine and the exception no longer needs to be reported, although, I can't log the message or do any other logic in that <code>.orElseThrow</code> statement. </p>\n\n<p>Why does this happen? I've seen a sort of <a href=\"https://stackoverflow.com/questions/25523375/java8-lambdas-and-exceptions\">similar question</a> which explains that this could be a bug in the JDK but I want to make sure that is the case in my situation. </p>\n"},{"tags":["java","wildfly","infinispan"],"answers":[{"tags":[],"owner":{"account_id":6091091,"reputation":81,"user_id":4753326,"display_name":"Nick Gajera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678793111,"creation_date":1678793111,"answer_id":75732506,"question_id":75731593,"body_markdown":"change type of timestamp column to timestamp type or varchar(255) whichever work.\r\n\r\nalso deployment fails becuase &quot;ERROR: relation &quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times&quot; already exists&quot; there already existing relation with this name. also ive noticed that hibernate try to create table with name &quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_timestamp..something&quot; but it is not possible with Postgres to have that much longer name please make use of shorter table name.","title":"Infinispan cache table - timestamp-column is always -1","body":"<p>change type of timestamp column to timestamp type or varchar(255) whichever work.</p>\n<p>also deployment fails becuase &quot;ERROR: relation &quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times&quot; already exists&quot; there already existing relation with this name. also ive noticed that hibernate try to create table with name &quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_timestamp..something&quot; but it is not possible with Postgres to have that much longer name please make use of shorter table name.</p>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678804431,"creation_date":1678788049,"question_id":75731593,"body_markdown":"I am using WildFly25 with Infinispan.\r\n\r\nI have the following cache configured:\r\n\r\n        &lt;distributed-cache name=&quot;corpapp-session-cache-web&quot;&gt;\r\n          &lt;persistence&gt;\r\n            &lt;string-keyed-jdbc-store&gt;\r\n              &lt;data-source jndi-url=&quot;java:/jdbc/sessioncache&quot; data-source=&quot;SessionCacheDS&quot; dialect=&quot;POSTGRES&quot; passivation=&quot;false&quot; preload=&quot;false&quot; purge=&quot;false&quot; shared=&quot;true&quot;/&gt;\r\n              &lt;string-keyed-table drop-on-exit=&quot;false&quot; create-on-start=&quot;false&quot; prefix=&quot;session&quot;&gt;\r\n                &lt;id-column name=&quot;ID&quot; type=&quot;VARCHAR(255)&quot;/&gt;\r\n                &lt;data-column name=&quot;DATA&quot; type=&quot;BYTEA&quot;/&gt;\r\n                &lt;timestamp-column name=&quot;VERSION&quot; type=&quot;BIGINT&quot;/&gt;\r\n                &lt;segment-column name=&quot;S&quot; type=&quot;INT&quot;/&gt;\r\n              &lt;/string-keyed-table&gt;\r\n            &lt;/string-keyed-jdbc-store&gt;\r\n          &lt;/persistence&gt;\r\n        &lt;/distributed-cache&gt;\r\n      &lt;/cache-container&gt;\r\n\r\nWhen I start the application, it writes successfully to the table, however the value in the timestamp column (`VERSION`) is always `-1`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI would expect it to be a timestamp or even a version number that increments.  \r\n\r\nThis results in the next time I start up the Wildfly server, it tries to create a previously created index again:\r\n\r\n**Error**\r\n\r\n&gt; *ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address:\r\n&gt; ([(&quot;deployment&quot; =&gt; &quot;corporateEAR-3.10.ear&quot;)]) - failure description:\r\n&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt;\r\n&gt; {&quot;org.wildfly.clustering.infinispan.cache.web.\\&quot;corporateEAR-3.10.ear.corporateInterface-3.10.war\\&quot;&quot;\r\n&gt; =&gt; &quot;org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\r\n&gt;     Caused by: org.infinispan.commons.CacheConfigurationException: Error starting component\r\n&gt; org.infinispan.persistence.manager.PersistenceManager\r\n&gt;     Caused by: java.util.concurrent.CompletionException: org.infinispan.persistence.spi.PersistenceException:\r\n&gt; org.postgresql.util.PSQLException: ERROR: relation\r\n&gt; \\&quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times\\&quot;\r\n&gt; already exists\r\n&gt;     Caused by: org.infinispan.persistence.spi.PersistenceException: org.postgresql.util.PSQLException: ERROR: relation\r\n&gt; \\&quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times\\&quot;\r\n&gt; already exists\r\n&gt;     Caused by: org.postgresql.util.PSQLException: ERROR: relation \\&quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times\\&quot;\r\n&gt; already exists&quot;}}*\r\n\r\n**Question**\r\n\r\nHow can I configure it to generate the table correctly?  So it doesn&#39;t try re-create the index when the server reboots resulting in the above error stopping the application being deployed to WildFly.\r\n\r\nThe server can start up and deploy the application successfully the first time. However, when the generated table  exists, on restarting the server it can&#39;t deploy the app because of the above error.\r\n\r\nNote that the table name and index names are long, so the index  names are truncated.\r\n\r\n**More info**\r\n\r\nThe generated table has two indexes called:\r\n\r\n    session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times\r\n    session_corporateEAR_3_10_ear_corporateInterface_3_10_war_segment\r\n\r\n\r\nMore info\r\n\r\nEven though I don&#39;t access the application, and it leaves the cached table empty, on  the next restart of the server it gets the same error. So this suggests that the problem is not the `-1`.  It looks like it is trying to create the index that already exists.\r\n\r\n  [1]: https://i.stack.imgur.com/gpYvw.png","title":"Infinispan cache table - timestamp-column is always -1","body":"<p>I am using WildFly25 with Infinispan.</p>\n<p>I have the following cache configured:</p>\n<pre><code>    &lt;distributed-cache name=&quot;corpapp-session-cache-web&quot;&gt;\n      &lt;persistence&gt;\n        &lt;string-keyed-jdbc-store&gt;\n          &lt;data-source jndi-url=&quot;java:/jdbc/sessioncache&quot; data-source=&quot;SessionCacheDS&quot; dialect=&quot;POSTGRES&quot; passivation=&quot;false&quot; preload=&quot;false&quot; purge=&quot;false&quot; shared=&quot;true&quot;/&gt;\n          &lt;string-keyed-table drop-on-exit=&quot;false&quot; create-on-start=&quot;false&quot; prefix=&quot;session&quot;&gt;\n            &lt;id-column name=&quot;ID&quot; type=&quot;VARCHAR(255)&quot;/&gt;\n            &lt;data-column name=&quot;DATA&quot; type=&quot;BYTEA&quot;/&gt;\n            &lt;timestamp-column name=&quot;VERSION&quot; type=&quot;BIGINT&quot;/&gt;\n            &lt;segment-column name=&quot;S&quot; type=&quot;INT&quot;/&gt;\n          &lt;/string-keyed-table&gt;\n        &lt;/string-keyed-jdbc-store&gt;\n      &lt;/persistence&gt;\n    &lt;/distributed-cache&gt;\n  &lt;/cache-container&gt;\n</code></pre>\n<p>When I start the application, it writes successfully to the table, however the value in the timestamp column (<code>VERSION</code>) is always <code>-1</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/gpYvw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gpYvw.png\" alt=\"enter image description here\" /></a></p>\n<p>I would expect it to be a timestamp or even a version number that increments.</p>\n<p>This results in the next time I start up the Wildfly server, it tries to create a previously created index again:</p>\n<p><strong>Error</strong></p>\n<blockquote>\n<p><em>ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address:\n([(&quot;deployment&quot; =&gt; &quot;corporateEAR-3.10.ear&quot;)]) - failure description:\n{&quot;WFLYCTL0080: Failed services&quot; =&gt;\n{&quot;org.wildfly.clustering.infinispan.cache.web.&quot;corporateEAR-3.10.ear.corporateInterface-3.10.war&quot;&quot;\n=&gt; &quot;org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\nCaused by: org.infinispan.commons.CacheConfigurationException: Error starting component\norg.infinispan.persistence.manager.PersistenceManager\nCaused by: java.util.concurrent.CompletionException: org.infinispan.persistence.spi.PersistenceException:\norg.postgresql.util.PSQLException: ERROR: relation\n&quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times&quot;\nalready exists\nCaused by: org.infinispan.persistence.spi.PersistenceException: org.postgresql.util.PSQLException: ERROR: relation\n&quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times&quot;\nalready exists\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times&quot;\nalready exists&quot;}}</em></p>\n</blockquote>\n<p><strong>Question</strong></p>\n<p>How can I configure it to generate the table correctly?  So it doesn't try re-create the index when the server reboots resulting in the above error stopping the application being deployed to WildFly.</p>\n<p>The server can start up and deploy the application successfully the first time. However, when the generated table  exists, on restarting the server it can't deploy the app because of the above error.</p>\n<p>Note that the table name and index names are long, so the index  names are truncated.</p>\n<p><strong>More info</strong></p>\n<p>The generated table has two indexes called:</p>\n<pre><code>session_corporateEAR_3_10_ear_corporateInterface_3_10_war_times\nsession_corporateEAR_3_10_ear_corporateInterface_3_10_war_segment\n</code></pre>\n<p>More info</p>\n<p>Even though I don't access the application, and it leaves the cached table empty, on  the next restart of the server it gets the same error. So this suggests that the problem is not the <code>-1</code>.  It looks like it is trying to create the index that already exists.</p>\n"},{"tags":["java","list","sorting","collections","arraylist"],"comments":[{"owner":{"account_id":75493,"reputation":33415,"user_id":216517,"accept_rate":76,"display_name":"st0le"},"score":0,"creation_date":1349352397,"post_id":12726696,"comment_id":17188498,"body_markdown":"Assuming you want those duplicates, use option 1. There&#39;s no better way I can suggest, unless you can provide us more details about the data it contains.","body":"Assuming you want those duplicates, use option 1. There&#39;s no better way I can suggest, unless you can provide us more details about the data it contains."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1349351877,"creation_date":1349351877,"answer_id":12726769,"question_id":12726696,"body_markdown":"The &quot;best way&quot; depends on your requirements: do you want the duplicates removed? Use a `TreeSet`; do you want to keep the duplicates? Copy, then sort. Trying to get the fastest one out of the two is premature optimization.","title":"Sorted copy construction for ArrayList","body":"<p>The \"best way\" depends on your requirements: do you want the duplicates removed? Use a <code>TreeSet</code>; do you want to keep the duplicates? Copy, then sort. Trying to get the fastest one out of the two is premature optimization.</p>\n"},{"tags":[],"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349353473,"creation_date":1349353473,"answer_id":12727241,"question_id":12726696,"body_markdown":"Don&#39;t use a `Treeset` to get a sorted copy of a `List`.  It&#39;ll remove duplicates.  (Unless this is what&#39;s desired, but then it&#39;s a different problem from creating a new sorted copy of a `List`).\r\n\r\nUse option 1 - Create a new `List` and call `Collections.sort()` on it, and possibly use your own `Comparator` if desired.","title":"Sorted copy construction for ArrayList","body":"<p>Don't use a <code>Treeset</code> to get a sorted copy of a <code>List</code>.  It'll remove duplicates.  (Unless this is what's desired, but then it's a different problem from creating a new sorted copy of a <code>List</code>).</p>\n\n<p>Use option 1 - Create a new <code>List</code> and call <code>Collections.sort()</code> on it, and possibly use your own <code>Comparator</code> if desired.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1349365814,"creation_date":1349365814,"answer_id":12731027,"question_id":12726696,"body_markdown":"If you can use third-party libraries, then with [Guava][1] this is just\r\n\r\n    List&lt;Foo&gt; sortedCopy = Ordering.from(comparator).sortedCopy(list);\r\n\r\n(Disclosure: I contribute to Guava.)\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/","title":"Sorted copy construction for ArrayList","body":"<p>If you can use third-party libraries, then with <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> this is just</p>\n\n<pre><code>List&lt;Foo&gt; sortedCopy = Ordering.from(comparator).sortedCopy(list);\n</code></pre>\n\n<p>(Disclosure: I contribute to Guava.)</p>\n"},{"tags":[],"owner":{"account_id":95837,"reputation":14278,"user_id":260805,"accept_rate":77,"display_name":"Ztyx"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678804086,"creation_date":1495035089,"answer_id":44029149,"question_id":12726696,"body_markdown":"In Java 8 you can use streaming:\r\n\r\n    ArrayList&lt;Integer&gt; myArrayList = new ArrayList();\r\n    myArrayList.add(4);\r\n    myArrayList.add(6);\r\n\r\n    List&lt;Integer&gt; myNewSortedList = myArrayList.stream().sorted().collect(Collectors.toList());\r\n\r\nHowever, the list above must not be mutated. If you want that, you can instead collect as an `ArrayList`:\r\n\r\n    myArrayList&lt;Integer&gt; myNewSortedList = myArrayList.stream().sorted().collect(Collectors.toCollection(ArrayList::new));","title":"Sorted copy construction for ArrayList","body":"<p>In Java 8 you can use streaming:</p>\n<pre><code>ArrayList&lt;Integer&gt; myArrayList = new ArrayList();\nmyArrayList.add(4);\nmyArrayList.add(6);\n\nList&lt;Integer&gt; myNewSortedList = myArrayList.stream().sorted().collect(Collectors.toList());\n</code></pre>\n<p>However, the list above must not be mutated. If you want that, you can instead collect as an <code>ArrayList</code>:</p>\n<pre><code>myArrayList&lt;Integer&gt; myNewSortedList = myArrayList.stream().sorted().collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"}],"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7955,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12726769,"answer_count":4,"score":5,"last_activity_date":1678804086,"creation_date":1349351638,"question_id":12726696,"body_markdown":"I have an `ArrayList`.    \r\nHow can I instantiate a new `List` with the same data but **sorted**?    \r\nI thought about the following:    \r\n\r\n 1. Use the `ArrayList` copy constructor and then use `Collections.sort`\r\n 2. Use a `TreeSet`\r\n\r\nFor option (1) there is the extra overhead of copying the elements and *then* sorting.    \r\nFor option (2) duplicates will be removed.    \r\nWhat is the best way for this?  ","title":"Sorted copy construction for ArrayList","body":"<p>I have an <code>ArrayList</code>.<br>\nHow can I instantiate a new <code>List</code> with the same data but <strong>sorted</strong>?<br>\nI thought about the following:    </p>\n\n<ol>\n<li>Use the <code>ArrayList</code> copy constructor and then use <code>Collections.sort</code></li>\n<li>Use a <code>TreeSet</code></li>\n</ol>\n\n<p>For option (1) there is the extra overhead of copying the elements and <em>then</em> sorting.<br>\nFor option (2) duplicates will be removed.<br>\nWhat is the best way for this?  </p>\n"},{"tags":["java","libgdx","game-development","voxel"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1678902395,"post_id":75734465,"comment_id":133624811,"body_markdown":"I recommend asking on the #libgdx Discord so you can get various opinions and discussion. This site doesn&#39;t allow for discussion for a question like this.","body":"I recommend asking on the #libgdx Discord so you can get various opinions and discussion. This site doesn&#39;t allow for discussion for a question like this."}],"owner":{"account_id":28015035,"reputation":11,"user_id":21396933,"display_name":"Philip_MOD_DEV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678803988,"creation_date":1678803988,"question_id":75734465,"body_markdown":"I am trying to figure \r\non what is the best way to render a voxel world using libgdx. As I started this project I used the voxel code template as for a start, but I then started to realize that the\r\ncode for the Chunk is only made for one material of a texturing in vertex. You see I want to be able to have a engine that is capable of placing different types of blocks not just one. So I want to know if it best to store a voxel in a 3D array instead of a vertex chunk mesh?\r\nIf I do take this method of sort\r\ndo I have to create a cube for every index?\r\n\r\nFor example I tried doing a high map test. So if (y &lt; height) then it will place stone material, but if (y &gt; height -1)\r\nthen it will place dirt. But yeah when I ran the code the results didn&#39;t really get on what my interest was. I noticed that when I placed a voxel it would turn into stone at that area, same with the dirt. So my point is that the materials are creating reign for stone and dirt. But I think maybe by using \r\narrays for the voxels wouldn&#39;t it be better?","title":"What is the best methods for storing voxel data in libgdx?","body":"<p>I am trying to figure\non what is the best way to render a voxel world using libgdx. As I started this project I used the voxel code template as for a start, but I then started to realize that the\ncode for the Chunk is only made for one material of a texturing in vertex. You see I want to be able to have a engine that is capable of placing different types of blocks not just one. So I want to know if it best to store a voxel in a 3D array instead of a vertex chunk mesh?\nIf I do take this method of sort\ndo I have to create a cube for every index?</p>\n<p>For example I tried doing a high map test. So if (y &lt; height) then it will place stone material, but if (y &gt; height -1)\nthen it will place dirt. But yeah when I ran the code the results didn't really get on what my interest was. I noticed that when I placed a voxel it would turn into stone at that area, same with the dirt. So my point is that the materials are creating reign for stone and dirt. But I think maybe by using\narrays for the voxels wouldn't it be better?</p>\n"},{"tags":["java","eclipse","servlets"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1651160140,"post_id":72040361,"comment_id":127302786,"body_markdown":"You are likely using an older version of Eclipse. Upgrade. Also, Tomcat 9 is not a Jakarta EE server, it would still use `javax.servlet`.","body":"You are likely using an older version of Eclipse. Upgrade. Also, Tomcat 9 is not a Jakarta EE server, it would still use <code>javax.servlet</code>."},{"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"score":0,"creation_date":1672793400,"post_id":72040361,"comment_id":132352769,"body_markdown":"I resolved similar problem by changing from Dynamic Web Project version 4 to Version 5.  This is done by selecting the version in Project/properties/ProjectFacets.  You should see Dynamic Web Version with a dropdown to select version number.  I&#39;m using Tomcat version 10.1.4.  Under runtimes, in same window, I&#39;ve got Apache Tomcat 10.1.4 selected. That runtime has the right jakarta servlet-api.jar contained in it.  If you want to stick with javax, you&#39;ll have to select an earlier runtime.","body":"I resolved similar problem by changing from Dynamic Web Project version 4 to Version 5.  This is done by selecting the version in Project/properties/ProjectFacets.  You should see Dynamic Web Version with a dropdown to select version number.  I&#39;m using Tomcat version 10.1.4.  Under runtimes, in same window, I&#39;ve got Apache Tomcat 10.1.4 selected. That runtime has the right jakarta servlet-api.jar contained in it.  If you want to stick with javax, you&#39;ll have to select an earlier runtime."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653436866,"creation_date":1653436428,"answer_id":72370626,"question_id":72040361,"body_markdown":"&gt; can I stick with javax and not jakarta?\r\n\r\nYes, certainly you can stick with the `javax.` naming rather than migrating to the new `jakarta.` namespace. Eventually youll want to make the migration to benefit from new and improved technologies. But not necessary this year or next. \r\n\r\nRead the [*Which version?*][1] documentation page. You will see that versions 9.0.x and 10.0.x are functionally equivalent, developed in parallel. The only significant difference is that namespace change discussed above. So use Tomcat 9 if you choose to stick with `javax` naming.\r\n\r\nYoull need to get your codebase in order, to use only the `javax.` naming. Apparently you have some code that refers to the new `jakarta.` naming. Fix that. Check your `import` statements. Check any use of fully-qualified class names. Use your IDEs search tools.\r\n\r\nBy the way If using Tomcat 9, you can change that dependency on the Servlet API from 3.0.1 to the version 4.0.3 of the [Servlet specification][2]. See that *Which version?* page linked above, as well as the https://Jakarta.EE site, to learn the appropriate versions of specs for JSPs, etc.\r\n\r\n\r\n  [1]: https://tomcat.apache.org/whichversion.html\r\n  [2]: https://projects.eclipse.org/projects/ee4j.servlet","title":"Eclipse complains about &quot;jakarta.servlet.http.HttpServlet&quot; was not found","body":"<blockquote>\n<p>can I stick with javax and not jakarta?</p>\n</blockquote>\n<p>Yes, certainly you can stick with the <code>javax.</code> naming rather than migrating to the new <code>jakarta.</code> namespace. Eventually youll want to make the migration to benefit from new and improved technologies. But not necessary this year or next.</p>\n<p>Read the <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\"><em>Which version?</em></a> documentation page. You will see that versions 9.0.x and 10.0.x are functionally equivalent, developed in parallel. The only significant difference is that namespace change discussed above. So use Tomcat 9 if you choose to stick with <code>javax</code> naming.</p>\n<p>Youll need to get your codebase in order, to use only the <code>javax.</code> naming. Apparently you have some code that refers to the new <code>jakarta.</code> naming. Fix that. Check your <code>import</code> statements. Check any use of fully-qualified class names. Use your IDEs search tools.</p>\n<p>By the way If using Tomcat 9, you can change that dependency on the Servlet API from 3.0.1 to the version 4.0.3 of the <a href=\"https://projects.eclipse.org/projects/ee4j.servlet\" rel=\"nofollow noreferrer\">Servlet specification</a>. See that <em>Which version?</em> page linked above, as well as the <a href=\"https://Jakarta.EE\" rel=\"nofollow noreferrer\">https://Jakarta.EE</a> site, to learn the appropriate versions of specs for JSPs, etc.</p>\n"},{"tags":[],"owner":{"account_id":15286841,"reputation":863,"user_id":11029624,"display_name":"Mahbub Ul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654624761,"creation_date":1654624761,"answer_id":72535686,"question_id":72040361,"body_markdown":"In order to run javax.servlet with JSP you need two dependencies.\r\n\r\nFirst one is servlet api,\r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nSecond one is JSP api,\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.3.3&lt;/version&gt;\r\n    \t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nNote: `javax.servlet.jsp-api` also include the dependency to `javax.servlet-api`, so you do not need it explicitly in your project. \r\n\r\nThis means that, `javax.servlet-api` is mendatory for JSP to work.\r\n\r\n","title":"Eclipse complains about &quot;jakarta.servlet.http.HttpServlet&quot; was not found","body":"<p>In order to run javax.servlet with JSP you need two dependencies.</p>\n<p>First one is servlet api,</p>\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Second one is JSP api,</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Note: <code>javax.servlet.jsp-api</code> also include the dependency to <code>javax.servlet-api</code>, so you do not need it explicitly in your project.</p>\n<p>This means that, <code>javax.servlet-api</code> is mendatory for JSP to work.</p>\n"},{"tags":[],"owner":{"account_id":20233168,"reputation":19,"user_id":14839155,"display_name":"Lazy-Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672217533,"creation_date":1672217533,"answer_id":74938156,"question_id":72040361,"body_markdown":"just go to mavenrepository \r\nand serach for java servlet api\r\nthen click on the version api\r\nthen scroll down copy the dependency  which looks like below\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt; \r\n\r\n    \r\n\r\n   \r\n\r\nnow past this in pom.xml in your project within dependency tag which is already present.\r\nafter this \r\nright click on the project \r\nand select maven \r\nselect update project\r\nthen check force update\r\nthen click ok\r\nthis will solve your error\r\n","title":"Eclipse complains about &quot;jakarta.servlet.http.HttpServlet&quot; was not found","body":"<p>just go to mavenrepository\nand serach for java servlet api\nthen click on the version api\nthen scroll down copy the dependency  which looks like below</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n&lt;version&gt;4.0.1&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>now past this in pom.xml in your project within dependency tag which is already present.\nafter this\nright click on the project\nand select maven\nselect update project\nthen check force update\nthen click ok\nthis will solve your error</p>\n"},{"tags":[],"owner":{"account_id":5396894,"reputation":46,"user_id":4297842,"display_name":"Hela Fodha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678802987,"creation_date":1678802987,"answer_id":75734272,"question_id":72040361,"body_markdown":"All you need to do is to specify the apache 10 server while creating your project in eclipse","title":"Eclipse complains about &quot;jakarta.servlet.http.HttpServlet&quot; was not found","body":"<p>All you need to do is to specify the apache 10 server while creating your project in eclipse</p>\n"}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20973,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72370626,"answer_count":4,"score":1,"last_activity_date":1678802987,"creation_date":1651134395,"question_id":72040361,"body_markdown":"I am picking up an old project which has a lot of old dependencies. \r\nI am using &quot;Eclipse IDE for Enterprise Java and Web Developers&quot;.\r\nAfter importing the source to Eclipse, Eclipse is complaining all my jsp files that \r\n```\r\nThe superclass &quot;jakarta.servlet.http.HttpServlet&quot; was not found on the Java Build Path\r\n```\r\nIn pom.xml, I see there is this dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\nI went to google about the error and read a bit of javax vs jakarta history. \r\nThe thing is, because this is an old project that is still running on the server... can I stick with javax and not jakarta?\r\n\r\nIn Eclipse, under Project Facets, I have &quot;Dynamic Web Module&quot; checked and it is using Apache Tomcat v9.0 locally. \r\nUnder Server settings, I have &quot;Tomcat v9.0 Server&quot; at localhost for running this project.\r\n\r\nAnother thing I don&#39;t know if it has anything to do with setup of my Tomcat or project settings, which is that on pom.xml, I get an error about missing a lot of artifacts, like &quot;jini:jsk-lib:jar&quot;,  &quot;jini:reggie:jar&quot;, &quot;jini:start:jar&quot;, etc...","title":"Eclipse complains about &quot;jakarta.servlet.http.HttpServlet&quot; was not found","body":"<p>I am picking up an old project which has a lot of old dependencies.\nI am using &quot;Eclipse IDE for Enterprise Java and Web Developers&quot;.\nAfter importing the source to Eclipse, Eclipse is complaining all my jsp files that</p>\n<pre><code>The superclass &quot;jakarta.servlet.http.HttpServlet&quot; was not found on the Java Build Path\n</code></pre>\n<p>In pom.xml, I see there is this dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;3.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I went to google about the error and read a bit of javax vs jakarta history.\nThe thing is, because this is an old project that is still running on the server... can I stick with javax and not jakarta?</p>\n<p>In Eclipse, under Project Facets, I have &quot;Dynamic Web Module&quot; checked and it is using Apache Tomcat v9.0 locally.\nUnder Server settings, I have &quot;Tomcat v9.0 Server&quot; at localhost for running this project.</p>\n<p>Another thing I don't know if it has anything to do with setup of my Tomcat or project settings, which is that on pom.xml, I get an error about missing a lot of artifacts, like &quot;jini:jsk-lib:jar&quot;,  &quot;jini:reggie:jar&quot;, &quot;jini:start:jar&quot;, etc...</p>\n"},{"tags":["java","spring","kotlin"],"comments":[{"owner":{"account_id":4820520,"reputation":79,"user_id":3891328,"accept_rate":100,"display_name":"SG87"},"score":0,"creation_date":1665069587,"post_id":72276690,"comment_id":130617883,"body_markdown":"Having the same issue with a service. Did you find a solution?","body":"Having the same issue with a service. Did you find a solution?"},{"owner":{"account_id":9758900,"reputation":487,"user_id":7234608,"display_name":"Ray"},"score":0,"creation_date":1677228852,"post_id":72276690,"comment_id":133300249,"body_markdown":"I have same issue and also have no idea why can the mocked kafkaListener is not invoked, it might have something to do with the mock will not configure the kafkalistener with the correct topic, but my test work with the @Spybean, When I use @ SpyBean then my kafkaListener can be stubed and will be invoked.What error did you get when you use the @ SpyBean?","body":"I have same issue and also have no idea why can the mocked kafkaListener is not invoked, it might have something to do with the mock will not configure the kafkalistener with the correct topic, but my test work with the @Spybean, When I use @ SpyBean then my kafkaListener can be stubed and will be invoked.What error did you get when you use the @ SpyBean?"},{"owner":{"account_id":3593904,"reputation":129,"user_id":2999226,"display_name":"user2999226"},"score":0,"creation_date":1678722516,"post_id":72276690,"comment_id":133584580,"body_markdown":"I have the same issue and I am pretty sure that it is a race condition. The embedded kafka is not completely up when the test is executed.\nI opened up an issue: https://github.com/spring-projects/spring-boot/issues/34595","body":"I have the same issue and I am pretty sure that it is a race condition. The embedded kafka is not completely up when the test is executed. I opened up an issue: <a href=\"https://github.com/spring-projects/spring-boot/issues/34595\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/34595</a>"}],"answers":[{"tags":[],"owner":{"account_id":3593904,"reputation":129,"user_id":2999226,"display_name":"user2999226"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678802842,"creation_date":1678802842,"answer_id":75734247,"question_id":72276690,"body_markdown":"I opened up an issue on GitHub and got some alternatives on how to make it work (thanks to Gary Russell):\r\n\r\n - Set `spring.kafka.consumer.auto-offset-reset=earliest` (it defaults to latest) so the consumer will receive the already sent record when it subscrtibes.\r\n - Add a rebalance listener and wait the partition assignment\r\n - Call `ContainerTestUtils.waitForAssignment()`\r\n\r\nHere is the original comment: https://github.com/spring-projects/spring-boot/issues/34595#issuecomment-1468144074\r\n\r\nI set the property in my project and it worked fine.","title":"SpringBootTest with @EmbeddedKafka, @KafkaListener not invoked when using @MockBean","body":"<p>I opened up an issue on GitHub and got some alternatives on how to make it work (thanks to Gary Russell):</p>\n<ul>\n<li>Set <code>spring.kafka.consumer.auto-offset-reset=earliest</code> (it defaults to latest) so the consumer will receive the already sent record when it subscrtibes.</li>\n<li>Add a rebalance listener and wait the partition assignment</li>\n<li>Call <code>ContainerTestUtils.waitForAssignment()</code></li>\n</ul>\n<p>Here is the original comment: <a href=\"https://github.com/spring-projects/spring-boot/issues/34595#issuecomment-1468144074\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/34595#issuecomment-1468144074</a></p>\n<p>I set the property in my project and it worked fine.</p>\n"}],"owner":{"account_id":17966511,"reputation":53,"user_id":13056280,"display_name":"JimmyyW"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678802842,"creation_date":1652800954,"question_id":72276690,"body_markdown":"I&#39;m seeing an issue when using `@MockBean` whereby the class under test contains a `@KafkaListener` annotation and isn&#39;t invoked. \r\n\r\nI&#39;ve tried the following:\r\n\r\n- `@SpyBean`\r\n- A TestConfiguration class with the bean containing `@KafkaListener` with a mock\r\n- Removing the base class which brings in a bunch of producer configs to publish to embedded broker\r\n\r\n\r\nSomething that did actually work was changing the dependency to var and replacing it in a `@BeforeEach` in the Test class\r\n\r\nTest class:\r\n\r\n    @SpringBootTest\r\n    @ContextConfiguration(\r\n        initializers = [ITKafkaPropertiesContextInitializer::class]\r\n    )\r\n    @EmbeddedKafka(\r\n        controlledShutdown = true,\r\n        ports = [9093],\r\n        topics = [\r\n            &quot;embedded-test-topic-1&quot;,\r\n            &quot;embedded-test-topic-2&quot;\r\n        ],\r\n        partitions = 1,\r\n        brokerProperties = [\r\n            &quot;PLAINTEXT://localhost:9093&quot;\r\n        ]\r\n    )\r\n    class ConsumerITTest : AbstractKafkaTest() {\r\n    \r\n        @Autowired\r\n        lateinit var kafkaTemplate: KafkaTemplate&lt;String, Message&gt;\r\n    \r\n    \r\n        @Value(&quot;\\${spring.kafka.event-topic}&quot;)\r\n        lateinit var kafkaTopic: String\r\n    \r\n        @MockBean\r\n        lateinit var delegator: MessageDelegator\r\n    \r\n        @Test\r\n        fun `should receive message and invoke delegator`() {\r\n            val event = JsonReader.read(&quot;src/test/resources/messages/create.json&quot;, Message::class.java)\r\n    \r\n            eventKafkaTemplate.send(\r\n                ProducerRecord(producerRecord)\r\n            )\r\n    \r\n            await().atMost(Duration.FIVE_SECONDS).untilAsserted {\r\n              ...\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nWithout the `@MockBean` everything works as expected, with `@MockBean` I can&#39;t even reach the breakpoint because the `@KafkaListener` function is never called.\r\n\r\n\r\n\r\n    @Component\r\n    class Consumer(\r\n        val delegator: Delegator\r\n    ) {\r\n        private val logger = KotlinLogging.logger {}\r\n    \r\n        @KafkaListener(\r\n            topics = [&quot;#{&#39;\\${spring.kafka.topic}&#39;}&quot;],\r\n            groupId = &quot;#{&#39;\\${spring.kafka.consumer.group-id}&#39;}&quot;,\r\n            containerFactory = &quot;eventContainerFactory&quot;\r\n        )\r\n        fun onMessage(\r\n            @Payload data: ConsumerRecord&lt;String, Message&gt;?,\r\n            @Headers headers: Map&lt;String?, ByteArray?&gt;,\r\n        ) {\r\n          ... //Breakpoint here never reached when using @MockBean\r\n\r\nJust to confirm, this all works totally fine until I use these annotations to replace with a bean in the context with a mock \r\n","title":"SpringBootTest with @EmbeddedKafka, @KafkaListener not invoked when using @MockBean","body":"<p>I'm seeing an issue when using <code>@MockBean</code> whereby the class under test contains a <code>@KafkaListener</code> annotation and isn't invoked.</p>\n<p>I've tried the following:</p>\n<ul>\n<li><code>@SpyBean</code></li>\n<li>A TestConfiguration class with the bean containing <code>@KafkaListener</code> with a mock</li>\n<li>Removing the base class which brings in a bunch of producer configs to publish to embedded broker</li>\n</ul>\n<p>Something that did actually work was changing the dependency to var and replacing it in a <code>@BeforeEach</code> in the Test class</p>\n<p>Test class:</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(\n    initializers = [ITKafkaPropertiesContextInitializer::class]\n)\n@EmbeddedKafka(\n    controlledShutdown = true,\n    ports = [9093],\n    topics = [\n        &quot;embedded-test-topic-1&quot;,\n        &quot;embedded-test-topic-2&quot;\n    ],\n    partitions = 1,\n    brokerProperties = [\n        &quot;PLAINTEXT://localhost:9093&quot;\n    ]\n)\nclass ConsumerITTest : AbstractKafkaTest() {\n\n    @Autowired\n    lateinit var kafkaTemplate: KafkaTemplate&lt;String, Message&gt;\n\n\n    @Value(&quot;\\${spring.kafka.event-topic}&quot;)\n    lateinit var kafkaTopic: String\n\n    @MockBean\n    lateinit var delegator: MessageDelegator\n\n    @Test\n    fun `should receive message and invoke delegator`() {\n        val event = JsonReader.read(&quot;src/test/resources/messages/create.json&quot;, Message::class.java)\n\n        eventKafkaTemplate.send(\n            ProducerRecord(producerRecord)\n        )\n\n        await().atMost(Duration.FIVE_SECONDS).untilAsserted {\n          ...\n        }\n\n    }\n\n}\n</code></pre>\n<p>Without the <code>@MockBean</code> everything works as expected, with <code>@MockBean</code> I can't even reach the breakpoint because the <code>@KafkaListener</code> function is never called.</p>\n<pre><code>@Component\nclass Consumer(\n    val delegator: Delegator\n) {\n    private val logger = KotlinLogging.logger {}\n\n    @KafkaListener(\n        topics = [&quot;#{'\\${spring.kafka.topic}'}&quot;],\n        groupId = &quot;#{'\\${spring.kafka.consumer.group-id}'}&quot;,\n        containerFactory = &quot;eventContainerFactory&quot;\n    )\n    fun onMessage(\n        @Payload data: ConsumerRecord&lt;String, Message&gt;?,\n        @Headers headers: Map&lt;String?, ByteArray?&gt;,\n    ) {\n      ... //Breakpoint here never reached when using @MockBean\n</code></pre>\n<p>Just to confirm, this all works totally fine until I use these annotations to replace with a bean in the context with a mock</p>\n"},{"tags":["java","class","boolean"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1678773140,"post_id":75729468,"comment_id":133593785,"body_markdown":"I think that `loginWindow` is being returned from before the user even has a chance to press any buttons","body":"I think that <code>loginWindow</code> is being returned from before the user even has a chance to press any buttons"},{"owner":{"account_id":28011428,"reputation":3,"user_id":21393882,"display_name":"ghostman1337"},"score":0,"creation_date":1678773261,"post_id":75729468,"comment_id":133593797,"body_markdown":"but if i put &quot;System.exit(0)&quot; instead of the boolean when it checks if the username and password are correct it will close program.","body":"but if i put &quot;System.exit(0)&quot; instead of the boolean when it checks if the username and password are correct it will close program."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1678773588,"post_id":75729468,"comment_id":133593826,"body_markdown":"eh? `System.exit(0)` closes the program, that is just what it does.","body":"eh? <code>System.exit(0)</code> closes the program, that is just what it does."},{"owner":{"account_id":28011428,"reputation":3,"user_id":21393882,"display_name":"ghostman1337"},"score":0,"creation_date":1678773658,"post_id":75729468,"comment_id":133593840,"body_markdown":"Okay I explained that horribly. Im using system exit to see if the if statements work.","body":"Okay I explained that horribly. Im using system exit to see if the if statements work."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1678773778,"post_id":75729468,"comment_id":133593855,"body_markdown":"The value is not set in the main thread, it is done in a callback method called by the `addActionListener` thread","body":"The value is not set in the main thread, it is done in a callback method called by the <code>addActionListener</code> thread"},{"owner":{"account_id":28011428,"reputation":3,"user_id":21393882,"display_name":"ghostman1337"},"score":0,"creation_date":1678773806,"post_id":75729468,"comment_id":133593861,"body_markdown":"when I set the authenticated bool to true in the if (arrays.equals...) it does not set. And when i refer to it in the main class if (authenticated) .... it doesn&#39;t do anything even though im setting it true in the login function. I know that the arrays.equals statement is working.","body":"when I set the authenticated bool to true in the if (arrays.equals...) it does not set. And when i refer to it in the main class if (authenticated) .... it doesn&#39;t do anything even though im setting it true in the login function. I know that the arrays.equals statement is working."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1678774550,"post_id":75729468,"comment_id":133593953,"body_markdown":"If you add `System.out.println(&quot;After login called&quot;);` to after `loginFront.loginWindow();` you will see that `loginWindow` returns immediately.  As per my first comment","body":"If you add <code>System.out.println(&quot;After login called&quot;);</code> to after <code>loginFront.loginWindow();</code> you will see that <code>loginWindow</code> returns immediately.  As per my first comment"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1678774684,"post_id":75729468,"comment_id":133593972,"body_markdown":"see https://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html","body":"see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/misc/modality.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678802701,"creation_date":1678802365,"answer_id":75734155,"question_id":75729468,"body_markdown":"To resolve your problem you need to use Observer Pattern by making specific communication between objects that mean any change happened in authenticated field, it will notify the main class.\r\n\r\nYou can read more about this pattern [The Observer Pattern in Java][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-observer-pattern\r\nMainLogin class :\r\n\r\n\r\n\r\n    public class MainLogin implements PropertyChangeListener {\r\n        private static boolean authenticated;\r\n          public static void main(String[] args) {\r\n                Login login = new Login();\r\n                MainLogin observer = new MainLogin();\r\n                login.authenticated.addPropertyChangeListener(observer);\r\n            }\r\n        \r\n            @Override\r\n            public void propertyChange(PropertyChangeEvent evt) {\r\n                this.authenticated = (boolean) evt.getNewValue();\r\n                if (this.authenticated)\r\n                    System.exit(0);\r\n            }\r\n        }\r\n\r\nPCLauth class:\r\n\r\n    public class PCLauth  {\r\n    \r\n        private boolean authenticated;\r\n        private PropertyChangeSupport support;\r\n    \r\n         public PCLauth () {\r\n             support = new PropertyChangeSupport(this);\r\n         }\r\n    \r\n        public void addPropertyChangeListener(PropertyChangeListener pcl) {\r\n            support.addPropertyChangeListener(pcl);\r\n        }\r\n    \r\n        public void removePropertyChangeListener(PropertyChangeListener pcl) {\r\n            support.removePropertyChangeListener(pcl);\r\n        }\r\n\r\n       public void authenticate(boolean state) {\r\n            support.firePropertyChange(&quot;authenticated&quot;, this.authenticated, state);\r\n            this.authenticated = state;\r\n       }\r\n\r\n  \r\nLogin Class:  \r\n\r\n     public class Login {\r\n        \r\n            private  JTextField usr_field;\r\n            private  JLabel title;\r\n            private  JButton login_btn;\r\n            private  JPasswordField pwd_field;\r\n            private  String usr = &quot;admin&quot;;\r\n            private static String pass = &quot;pass&quot;;\r\n        \r\n            public  PCLauth authenticated;\r\n        \r\n            public Login() {\r\n                this.authenticated = new PCLauth();\r\n                buildGui();\r\n            }\r\n        \r\n            /**\r\n             * @wbp.parser.entryPoint\r\n             *\r\n             *\r\n             */\r\n        \r\n        \r\n            private  void buildGui()\r\n            {\r\n                JFrame frame = new JFrame();\r\n                GridBagConstraints c = new GridBagConstraints();\r\n                c.fill = GridBagConstraints.HORIZONTAL;\r\n                c.weightx = 0.5;\r\n                c.weighty = 0.5;\r\n                c.gridx = 1;\r\n                c.gridy = 0;\r\n        \r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \r\n                frame.getContentPane().setBackground(new Color(74, 74, 74));\r\n                frame.getContentPane().setLayout(new GridBagLayout());\r\n                frame.setTitle(&quot;Login&quot;);\r\n        \r\n                JPanel panel = new JPanel(new GridBagLayout( ));\r\n                panel.setBackground(new Color(74, 74, 74));\r\n                frame.getContentPane().add(panel);\r\n                JLabel username = new JLabel(&quot;User name&quot;);\r\n                panel.add(username, c);\r\n                c.gridx++;\r\n                usr_field = new JTextField();\r\n                panel.add(usr_field, c);\r\n                usr_field.setColumns(10);\r\n        \r\n                c.gridx = 1;\r\n                c.gridy = 1;\r\n        \r\n                title = new JLabel(&quot;password&quot;);\r\n                panel.add(title, c);\r\n        \r\n        \r\n                c.gridx++;\r\n        \r\n                pwd_field = new JPasswordField();\r\n        \r\n        \r\n                panel.add(pwd_field, c);\r\n        \r\n                c.gridx = 1;\r\n                c.gridy = 4;\r\n        \r\n                login_btn = new JButton(&quot;Login&quot;);\r\n                login_btn.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        char[] inputPass = pwd_field.getPassword();\r\n                        char[] appPass = Login.pass.toCharArray();\r\n                        if (Arrays.equals(inputPass, appPass) &amp;&amp; usr.equals(usr_field.getText())) {\r\n                            System.out.println( SwingUtilities.isEventDispatchThread()  + &quot;, &quot; +Thread.currentThread().getName());\r\n        \r\n                            authenticated.authenticate(true);\r\n        \r\n                        }\r\n                        else {\r\n                            authenticated.authenticate(false);\r\n                            JOptionPane.showMessageDialog(panel, &quot;Obs,your username or password is incorrect!&quot;);\r\n                        }\r\n                    }\r\n                });\r\n                panel.add(login_btn, c);\r\n                frame.setSize(new Dimension(500, 500));\r\n                frame.setVisible(true);\r\n                frame.setResizable(false);\r\n        \r\n            }\r\n        }\r\n\r\n\r\n\r\n","title":"Checking if boolean is set to true","body":"<p>To resolve your problem you need to use Observer Pattern by making specific communication between objects that mean any change happened in authenticated field, it will notify the main class.</p>\n<p>You can read more about this pattern <a href=\"https://www.baeldung.com/java-observer-pattern\" rel=\"nofollow noreferrer\">The Observer Pattern in Java</a></p>\n<p>MainLogin class :</p>\n<pre><code>public class MainLogin implements PropertyChangeListener {\n    private static boolean authenticated;\n      public static void main(String[] args) {\n            Login login = new Login();\n            MainLogin observer = new MainLogin();\n            login.authenticated.addPropertyChangeListener(observer);\n        }\n    \n        @Override\n        public void propertyChange(PropertyChangeEvent evt) {\n            this.authenticated = (boolean) evt.getNewValue();\n            if (this.authenticated)\n                System.exit(0);\n        }\n    }\n</code></pre>\n<p>PCLauth class:</p>\n<pre><code>public class PCLauth  {\n\n    private boolean authenticated;\n    private PropertyChangeSupport support;\n\n     public PCLauth () {\n         support = new PropertyChangeSupport(this);\n     }\n\n    public void addPropertyChangeListener(PropertyChangeListener pcl) {\n        support.addPropertyChangeListener(pcl);\n    }\n\n    public void removePropertyChangeListener(PropertyChangeListener pcl) {\n        support.removePropertyChangeListener(pcl);\n    }\n\n   public void authenticate(boolean state) {\n        support.firePropertyChange(&quot;authenticated&quot;, this.authenticated, state);\n        this.authenticated = state;\n   }\n</code></pre>\n<p>Login Class:</p>\n<pre><code> public class Login {\n    \n        private  JTextField usr_field;\n        private  JLabel title;\n        private  JButton login_btn;\n        private  JPasswordField pwd_field;\n        private  String usr = &quot;admin&quot;;\n        private static String pass = &quot;pass&quot;;\n    \n        public  PCLauth authenticated;\n    \n        public Login() {\n            this.authenticated = new PCLauth();\n            buildGui();\n        }\n    \n        /**\n         * @wbp.parser.entryPoint\n         *\n         *\n         */\n    \n    \n        private  void buildGui()\n        {\n            JFrame frame = new JFrame();\n            GridBagConstraints c = new GridBagConstraints();\n            c.fill = GridBagConstraints.HORIZONTAL;\n            c.weightx = 0.5;\n            c.weighty = 0.5;\n            c.gridx = 1;\n            c.gridy = 0;\n    \n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n            frame.getContentPane().setBackground(new Color(74, 74, 74));\n            frame.getContentPane().setLayout(new GridBagLayout());\n            frame.setTitle(&quot;Login&quot;);\n    \n            JPanel panel = new JPanel(new GridBagLayout( ));\n            panel.setBackground(new Color(74, 74, 74));\n            frame.getContentPane().add(panel);\n            JLabel username = new JLabel(&quot;User name&quot;);\n            panel.add(username, c);\n            c.gridx++;\n            usr_field = new JTextField();\n            panel.add(usr_field, c);\n            usr_field.setColumns(10);\n    \n            c.gridx = 1;\n            c.gridy = 1;\n    \n            title = new JLabel(&quot;password&quot;);\n            panel.add(title, c);\n    \n    \n            c.gridx++;\n    \n            pwd_field = new JPasswordField();\n    \n    \n            panel.add(pwd_field, c);\n    \n            c.gridx = 1;\n            c.gridy = 4;\n    \n            login_btn = new JButton(&quot;Login&quot;);\n            login_btn.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    char[] inputPass = pwd_field.getPassword();\n                    char[] appPass = Login.pass.toCharArray();\n                    if (Arrays.equals(inputPass, appPass) &amp;&amp; usr.equals(usr_field.getText())) {\n                        System.out.println( SwingUtilities.isEventDispatchThread()  + &quot;, &quot; +Thread.currentThread().getName());\n    \n                        authenticated.authenticate(true);\n    \n                    }\n                    else {\n                        authenticated.authenticate(false);\n                        JOptionPane.showMessageDialog(panel, &quot;Obs,your username or password is incorrect!&quot;);\n                    }\n                }\n            });\n            panel.add(login_btn, c);\n            frame.setSize(new Dimension(500, 500));\n            frame.setVisible(true);\n            frame.setResizable(false);\n    \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":28011428,"reputation":3,"user_id":21393882,"display_name":"ghostman1337"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75734155,"answer_count":1,"score":0,"last_activity_date":1678802701,"creation_date":1678772785,"question_id":75729468,"body_markdown":"I have a problem where I have two classes, main and login.\r\nlogin is a menu with a button to login\r\nand when the button is pressed it should set a boolean to true.\r\nHowever when i check this in my main function it doesn&#39;t do anything in the if statement.\r\n\r\nplease ignore any bad practice etc. Im just learning and exploring\r\n\r\n\r\nlogin class\r\n```\r\n\r\npackage menu;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Arrays;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JPasswordField;\r\nimport javax.swing.JTextField;\r\n\r\nimport net.miginfocom.swing.MigLayout;\r\n\r\npublic class login {\r\n\t\r\n\tprivate static JTextField usr_field;\r\n\tprivate static JLabel title;\r\n\tprivate static JButton login_btn;\r\n\tprivate static JPasswordField pwd_field;\r\n\tprivate static String usr = &quot;admin&quot;;\r\n\tprivate static String pass = &quot;pass&quot;;\r\n\tprivate static JLabel incorrect;\r\n\tpublic static boolean authenticated;\r\n\r\n  /**\r\n   * @wbp.parser.entryPoint\r\n   */\r\n  public static void loginWindow()\r\n  {\r\n\t\r\n\t  \r\n\t  JFrame frame = new JFrame();\r\n\t  frame.getContentPane().setBackground(new Color(74, 74, 74));\r\n\t  frame.getContentPane().setLayout(new MigLayout(&quot;&quot;, &quot;[grow]&quot;, &quot;[grow]&quot;));\r\n\t  frame.setTitle(&quot;Login&quot;);\r\n\t \r\n\t  JPanel panel = new JPanel();\r\n\t  panel.setBackground(new Color(74, 74, 74));\r\n\t  frame.getContentPane().add(panel, &quot;cell 0 0,grow&quot;);\r\n\t  panel.setLayout(null);\r\n\t  \r\n\t  usr_field = new JTextField();\r\n\t  usr_field.setForeground(Color.WHITE);\r\n\t  usr_field.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 15));\r\n\t  usr_field.setBackground(new Color(56, 56, 56));\r\n\t  usr_field.setBounds(31, 68, 218, 19);\r\n\t  panel.add(usr_field);\r\n\t  usr_field.setColumns(10);\r\n\t  \r\n\t  title = new JLabel(&quot;JMultitool&quot;);\r\n\t  title.setForeground(new Color(255, 255, 255));\r\n\t  title.setFont(new Font(&quot;Sylfaen&quot;, Font.BOLD, 32));\r\n\t  title.setBounds(68, 15, 170, 43);\r\n\t  panel.add(title);\r\n\t  \r\n\t  login_btn = new JButton(&quot;Login&quot;); \r\n\t  login_btn.addActionListener(new ActionListener() {\r\n\t  \tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tchar[] inputPass = pwd_field.getPassword();\r\n\t\t  \tchar[] appPass = login.pass.toCharArray();\r\n\t\t  \t\r\n\t\t  \tif (Arrays.equals(inputPass, appPass) &amp;&amp; usr.equals(usr_field.getText()))\r\n\t\t  \t{\r\n\t\t  \t\t\r\n\t\t  \t\t\r\n\t\t  \t\tauthenticated = true;\r\n\t\t  \t\t\r\n\t\t  \t\t\r\n\t\t  \t}\r\n\t\t  \telse\r\n\t\t  \t{\r\n\t\t  \t\tauthenticated = false;\r\n\t\t  \t\tincorrect.setVisible(true);\r\n\t\t  \t}\r\n\t  \t}\r\n\t  });\r\n\t  \r\n\t \r\n\t\t  \t\r\n\t    \r\n\t  login_btn.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 10));\r\n\t  login_btn.setForeground(Color.WHITE);\r\n\t  login_btn.setBackground(new Color(65, 65, 65));\r\n\t  login_btn.setBounds(99, 126, 85, 21);\r\n\t  panel.add(login_btn);\r\n\t  \r\n\t  pwd_field = new JPasswordField();\r\n\t  pwd_field.setForeground(new Color(255, 255, 255));\r\n\t  pwd_field.setBackground(new Color(56, 56, 56));\r\n\t  pwd_field.setBounds(31, 97, 218, 19);\r\n\t  panel.add(pwd_field);\r\n\t  \r\n\t  incorrect = new JLabel(&quot;Incorrect username or password!&quot;);\r\n\t  incorrect.setForeground(Color.RED);\r\n\t  incorrect.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 12));\r\n\t  incorrect.setBounds(53, 156, 190, 13);\r\n\t  panel.add(incorrect);\r\n\t\r\n\t  incorrect.setVisible(false);\r\n\t  frame.setVisible(true);\r\n\t  frame.setSize(310, 230);\r\n\t  frame.setResizable(false);\r\n\t  \r\n  }\r\n}\r\n```\r\nmain class\r\n\r\n```\r\npackage multitool;\r\n\r\n\r\nimport menu.loginFront;\r\n\r\n\r\n\r\n\r\npublic class main {\r\n\t\r\n\t\r\npublic static void startMenus()\r\n{\r\n    loginFront.loginWindow();\r\n    if (loginFront.authenticated)\r\n    {\r\n \r\n    \tSystem.exit(0); // should exit if authenticated is true.\r\n    }\r\n    \r\n   \r\n}\r\n\t\r\n  public static void main(String[] args){\r\n\t  \r\n\t\r\n\t\r\n\r\n    startMenus();\r\n   \r\n    \t\r\n\r\n    \r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\ni&#39;ve tried to use a getter and setter still same effect.","title":"Checking if boolean is set to true","body":"<p>I have a problem where I have two classes, main and login.\nlogin is a menu with a button to login\nand when the button is pressed it should set a boolean to true.\nHowever when i check this in my main function it doesn't do anything in the if statement.</p>\n<p>please ignore any bad practice etc. Im just learning and exploring</p>\n<p>login class</p>\n<pre><code>\npackage menu;\n\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Arrays;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\nimport net.miginfocom.swing.MigLayout;\n\npublic class login {\n    \n    private static JTextField usr_field;\n    private static JLabel title;\n    private static JButton login_btn;\n    private static JPasswordField pwd_field;\n    private static String usr = &quot;admin&quot;;\n    private static String pass = &quot;pass&quot;;\n    private static JLabel incorrect;\n    public static boolean authenticated;\n\n  /**\n   * @wbp.parser.entryPoint\n   */\n  public static void loginWindow()\n  {\n    \n      \n      JFrame frame = new JFrame();\n      frame.getContentPane().setBackground(new Color(74, 74, 74));\n      frame.getContentPane().setLayout(new MigLayout(&quot;&quot;, &quot;[grow]&quot;, &quot;[grow]&quot;));\n      frame.setTitle(&quot;Login&quot;);\n     \n      JPanel panel = new JPanel();\n      panel.setBackground(new Color(74, 74, 74));\n      frame.getContentPane().add(panel, &quot;cell 0 0,grow&quot;);\n      panel.setLayout(null);\n      \n      usr_field = new JTextField();\n      usr_field.setForeground(Color.WHITE);\n      usr_field.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 15));\n      usr_field.setBackground(new Color(56, 56, 56));\n      usr_field.setBounds(31, 68, 218, 19);\n      panel.add(usr_field);\n      usr_field.setColumns(10);\n      \n      title = new JLabel(&quot;JMultitool&quot;);\n      title.setForeground(new Color(255, 255, 255));\n      title.setFont(new Font(&quot;Sylfaen&quot;, Font.BOLD, 32));\n      title.setBounds(68, 15, 170, 43);\n      panel.add(title);\n      \n      login_btn = new JButton(&quot;Login&quot;); \n      login_btn.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            char[] inputPass = pwd_field.getPassword();\n            char[] appPass = login.pass.toCharArray();\n            \n            if (Arrays.equals(inputPass, appPass) &amp;&amp; usr.equals(usr_field.getText()))\n            {\n                \n                \n                authenticated = true;\n                \n                \n            }\n            else\n            {\n                authenticated = false;\n                incorrect.setVisible(true);\n            }\n        }\n      });\n      \n     \n            \n        \n      login_btn.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 10));\n      login_btn.setForeground(Color.WHITE);\n      login_btn.setBackground(new Color(65, 65, 65));\n      login_btn.setBounds(99, 126, 85, 21);\n      panel.add(login_btn);\n      \n      pwd_field = new JPasswordField();\n      pwd_field.setForeground(new Color(255, 255, 255));\n      pwd_field.setBackground(new Color(56, 56, 56));\n      pwd_field.setBounds(31, 97, 218, 19);\n      panel.add(pwd_field);\n      \n      incorrect = new JLabel(&quot;Incorrect username or password!&quot;);\n      incorrect.setForeground(Color.RED);\n      incorrect.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 12));\n      incorrect.setBounds(53, 156, 190, 13);\n      panel.add(incorrect);\n    \n      incorrect.setVisible(false);\n      frame.setVisible(true);\n      frame.setSize(310, 230);\n      frame.setResizable(false);\n      \n  }\n}\n</code></pre>\n<p>main class</p>\n<pre><code>package multitool;\n\n\nimport menu.loginFront;\n\n\n\n\npublic class main {\n    \n    \npublic static void startMenus()\n{\n    loginFront.loginWindow();\n    if (loginFront.authenticated)\n    {\n \n        System.exit(0); // should exit if authenticated is true.\n    }\n    \n   \n}\n    \n  public static void main(String[] args){\n      \n    \n    \n\n    startMenus();\n   \n        \n\n    \n  }\n}\n</code></pre>\n<p>i've tried to use a getter and setter still same effect.</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","microsoft-edge","headless"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1678837812,"post_id":75734209,"comment_id":133610389,"body_markdown":"So is there a question for us for which you need a solution?","body":"So is there a question for us for which you need a solution?"},{"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"score":0,"creation_date":1678856651,"post_id":75734209,"comment_id":133612554,"body_markdown":"Are you simply sharing a solution with us? Do you have a question for us?","body":"Are you simply sharing a solution with us? Do you have a question for us?"},{"owner":{"account_id":24547171,"reputation":31,"user_id":18456843,"display_name":"Kadir Tepecik"},"score":0,"creation_date":1678874562,"post_id":75734209,"comment_id":133616219,"body_markdown":" am sharing  simply a solution with you","body":" am sharing  simply a solution with you"}],"owner":{"account_id":24547171,"reputation":31,"user_id":18456843,"display_name":"Kadir Tepecik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678802605,"creation_date":1678802605,"question_id":75734209,"body_markdown":"With the new update in Edge browser, the headless has been renewed, it does not work with old codes. After the Headless is renewed, the windows size feature does not work directly. You can make it work with the codes below.\r\n\r\n\r\n\r\nwork to add this code (&quot;force-device-scale-factor=0,5&quot;),\r\n\r\nworked for &quot;--headless=new&quot;\r\n\r\n        WebDriver driver; /* start driver*/\r\n        EdgeOptions options = new EdgeOptions();  /* add to EdgeOptions*/ \r\n        options.addArguments(&quot;--headless=new&quot;);                         \r\n        options.addArguments(&quot;--window-size=1920,1080&quot;);\r\n        options.addArguments(&quot;force-device-scale-factor=0,5&quot;);/* add to this row*/\r\n        driver = new EdgeDriver(options); /* add options conteaner in Edgedriver*/","title":"edge headless (--headless=new) is also used to set the desired window size (&quot;--window-size=1920,1080&quot;)","body":"<p>With the new update in Edge browser, the headless has been renewed, it does not work with old codes. After the Headless is renewed, the windows size feature does not work directly. You can make it work with the codes below.</p>\n<p>work to add this code (&quot;force-device-scale-factor=0,5&quot;),</p>\n<p>worked for &quot;--headless=new&quot;</p>\n<pre><code>    WebDriver driver; /* start driver*/\n    EdgeOptions options = new EdgeOptions();  /* add to EdgeOptions*/ \n    options.addArguments(&quot;--headless=new&quot;);                         \n    options.addArguments(&quot;--window-size=1920,1080&quot;);\n    options.addArguments(&quot;force-device-scale-factor=0,5&quot;);/* add to this row*/\n    driver = new EdgeDriver(options); /* add options conteaner in Edgedriver*/\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1654185744,"post_id":72466117,"comment_id":128036290,"body_markdown":"Are you using an Ultimaco HSM? What model?","body":"Are you using an Ultimaco HSM? What model?"},{"owner":{"account_id":16631383,"reputation":21,"user_id":12019163,"display_name":"tian-xiaocai"},"score":0,"creation_date":1654441781,"post_id":72466117,"comment_id":128086673,"body_markdown":"yes,I am using Ultimaco HSM. I want to support OAEP padding mode,but it seems not support. what should i do ?Thank you in advance","body":"yes,I am using Ultimaco HSM. I want to support OAEP padding mode,but it seems not support. what should i do ?Thank you in advance"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1654457155,"post_id":72466117,"comment_id":128090270,"body_markdown":"You should specify the model, like I asked before, so that we can progress from &quot;seems not support&quot; to a definitive &quot;does not support&quot; or &quot;does support, look for a different problem.&quot;","body":"You should specify the model, like I asked before, so that we can progress from &quot;seems not support&quot; to a definitive &quot;does not support&quot; or &quot;does support, look for a different problem.&quot;"},{"owner":{"account_id":16631383,"reputation":21,"user_id":12019163,"display_name":"tian-xiaocai"},"score":0,"creation_date":1654477929,"post_id":72466117,"comment_id":128093643,"body_markdown":"the provider i am using is &quot;CryptoServerProvider&quot; class,which extends Provider.And it not support OAEP padding","body":"the provider i am using is &quot;CryptoServerProvider&quot; class,which extends Provider.And it not support OAEP padding"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654106591,"creation_date":1654106591,"answer_id":72466245,"question_id":72466117,"body_markdown":"Try without specifying a provider, that is:\r\n\r\n```java\r\ncipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\r\n```\r\n\r\nIf you want to use a specific provider, provide more information about which provider you are using, and what evidence you have that the provider supports OAEP padding. \r\n\r\nThere is meta-data in the provider itself about the services it provides and their details. We can look into that further if needed, but I think the answer here is simply that this provider doesn&#39;t make any provision for OAEP.","title":"How to use RSA_PKCS1_OAEP_PADDING encrypt in Java","body":"<p>Try without specifying a provider, that is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\n</code></pre>\n<p>If you want to use a specific provider, provide more information about which provider you are using, and what evidence you have that the provider supports OAEP padding.</p>\n<p>There is meta-data in the provider itself about the services it provides and their details. We can look into that further if needed, but I think the answer here is simply that this provider doesn't make any provision for OAEP.</p>\n"},{"tags":[],"owner":{"account_id":11155822,"reputation":1604,"user_id":8187578,"display_name":"Kebab Krabby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678802579,"creation_date":1678802579,"answer_id":75734204,"question_id":72466117,"body_markdown":"Bit late to the party but this could help:\r\n\r\n    private const val ALGORITHM = &quot;RSA&quot;\r\n    private const val CIPHER = &quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;\r\n    private const val SHA_256 = &quot;SHA-256&quot;\r\n    private const val MGF1 = &quot;MGF1&quot;\r\n    private const val PUBLIC_KEY_RSA_PKCS1_OAEP_PADDING = &quot;FpMUwRxHsWFXlnAE1iSFC4q3d0bI....&quot; // your public key\r\n\r\n    val keyBytes: ByteArray = Base64.decode(PUBLIC_KEY_RSA_PKCS1_OAEP_PADDING.replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot;\\r&quot;, &quot;&quot;), Base64.NO_WRAP)  \r\n    val keyFactory = KeyFactory.getInstance(ALGORITHM)\r\n    val publicKeySpec = X509EncodedKeySpec(keyBytes)\r\n    val publicKey = keyFactory.generatePublic(publicKeySpec)\r\n    \r\n    val cipher = Cipher.getInstance(CIPHER)\r\n    val oaepParams = OAEPParameterSpec(SHA_256, MGF1, MGF1ParameterSpec.SHA256, PSource.PSpecified.DEFAULT)\r\n    cipher.init(Cipher.ENCRYPT_MODE, publicKey, oaepParams)\r\n    \r\n    val encryptedData = cipher.doFinal(dataToEncrypt.toByteArray(Charsets.UTF_8))\r\n    \r\n    val encryptedStringInUtf8 = Base64.encode(encryptedData, Base64.NO_WRAP).toUtf8String()\r\n\r\nutf8 helper method:\r\n\r\n    fun ByteArray.toUtf8String() = toString(UTF_8)","title":"How to use RSA_PKCS1_OAEP_PADDING encrypt in Java","body":"<p>Bit late to the party but this could help:</p>\n<pre><code>private const val ALGORITHM = &quot;RSA&quot;\nprivate const val CIPHER = &quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;\nprivate const val SHA_256 = &quot;SHA-256&quot;\nprivate const val MGF1 = &quot;MGF1&quot;\nprivate const val PUBLIC_KEY_RSA_PKCS1_OAEP_PADDING = &quot;FpMUwRxHsWFXlnAE1iSFC4q3d0bI....&quot; // your public key\n\nval keyBytes: ByteArray = Base64.decode(PUBLIC_KEY_RSA_PKCS1_OAEP_PADDING.replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot;\\r&quot;, &quot;&quot;), Base64.NO_WRAP)  \nval keyFactory = KeyFactory.getInstance(ALGORITHM)\nval publicKeySpec = X509EncodedKeySpec(keyBytes)\nval publicKey = keyFactory.generatePublic(publicKeySpec)\n\nval cipher = Cipher.getInstance(CIPHER)\nval oaepParams = OAEPParameterSpec(SHA_256, MGF1, MGF1ParameterSpec.SHA256, PSource.PSpecified.DEFAULT)\ncipher.init(Cipher.ENCRYPT_MODE, publicKey, oaepParams)\n\nval encryptedData = cipher.doFinal(dataToEncrypt.toByteArray(Charsets.UTF_8))\n\nval encryptedStringInUtf8 = Base64.encode(encryptedData, Base64.NO_WRAP).toUtf8String()\n</code></pre>\n<p>utf8 helper method:</p>\n<pre><code>fun ByteArray.toUtf8String() = toString(UTF_8)\n</code></pre>\n"}],"owner":{"account_id":16631383,"reputation":21,"user_id":12019163,"display_name":"tian-xiaocai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1678802579,"creation_date":1654105908,"question_id":72466117,"body_markdown":"In Java,how to use  RSA_PKCS1_OAEP_PADDING to encrypt? when i use this below ,it shows &quot;javax.crypto.NoSuchPaddingException:RSA/ECB/OAEPPadding unavailable with RSA&quot;.\r\n\r\ncipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;, provider);\r\n\r\nCan you tell me the correct answer?thanks!\r\n","title":"How to use RSA_PKCS1_OAEP_PADDING encrypt in Java","body":"<p>In Java,how to use  RSA_PKCS1_OAEP_PADDING to encrypt? when i use this below ,it shows &quot;javax.crypto.NoSuchPaddingException:RSA/ECB/OAEPPadding unavailable with RSA&quot;.</p>\n<p>cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;, provider);</p>\n<p>Can you tell me the correct answer?thanks!</p>\n"},{"tags":["java","android","fileoutputstream"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1658291056,"post_id":73045965,"comment_id":129012087,"body_markdown":"You could write the file to your apps private storage and when it&#39;s done writing  use the SAF to let the user export it to some location of their choosing.","body":"You could write the file to your apps private storage and when it&#39;s done writing  use the SAF to let the user export it to some location of their choosing."},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1658292349,"post_id":73045965,"comment_id":129012312,"body_markdown":"Is there any example how to do it? I honestly have little experience working with android storage was it was before, and I got even more confused with the mandatory use of SAF","body":"Is there any example how to do it? I honestly have little experience working with android storage was it was before, and I got even more confused with the mandatory use of SAF"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658294015,"post_id":73045965,"comment_id":129012608,"body_markdown":"Have a look [here](https://developer.android.com/training/data-storage). Use `getExternalFilesDir()` or `getExternalCacheDir()`","body":"Have a look <a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">here</a>. Use <code>getExternalFilesDir()</code> or <code>getExternalCacheDir()</code>"},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1658306003,"post_id":73045965,"comment_id":129016070,"body_markdown":"I updated my question with this attempt using getExternalFilesDir(). I was able to create a dir to my path and supposedely a text file, but when I open it on my Android to confirm it&#39;s creation, it&#39;s an empty directory","body":"I updated my question with this attempt using getExternalFilesDir(). I was able to create a dir to my path and supposedely a text file, but when I open it on my Android to confirm it&#39;s creation, it&#39;s an empty directory"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658326930,"post_id":73045965,"comment_id":129024748,"body_markdown":"Did you check the logcat to see if `e.printStackTrace()` produced any output?","body":"Did you check the logcat to see if <code>e.printStackTrace()</code> produced any output?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658327676,"post_id":73045965,"comment_id":129025130,"body_markdown":"Also, check [the docs](https://developer.android.com/reference/android/content/Context#getExternalFilesDirs(java.lang.String)), it doesn&#39;t sound like you can pass your own type string to `getExternalFilesDir`? &quot;May be null for the root of the files directory or one of the following constants...&quot;","body":"Also, check <a href=\"https://developer.android.com/reference/android/content/Context#getExternalFilesDirs(java.lang.String)\" rel=\"nofollow noreferrer\">the docs</a>, it doesn&#39;t sound like you can pass your own type string to <code>getExternalFilesDir</code>? &quot;May be null for the root of the files directory or one of the following constants...&quot;"},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1658389509,"post_id":73045965,"comment_id":129040439,"body_markdown":"Found a working answer here: https://stackoverflow.com/questions/71378449/create-external-file-targeting-android-12. Only one that actually worked","body":"Found a working answer here: <a href=\"https://stackoverflow.com/questions/71378449/create-external-file-targeting-android-12\" title=\"create external file targeting android 12\">stackoverflow.com/questions/71378449/&hellip;</a>. Only one that actually worked"}],"answers":[{"tags":[],"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658391382,"creation_date":1658391382,"answer_id":73062818,"question_id":73045965,"body_markdown":"Working Solution:\r\n\r\n    public void WriteToFile(String fileName, String content){\r\n        File path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\r\n        File newDir = new File(path + &quot;/&quot; + fileName);\r\n        try{\r\n            if (!newDir.exists()) {\r\n                newDir.mkdir();\r\n            }\r\n            FileOutputStream writer = new FileOutputStream(new File(path, filename));\r\n            writer.write(content.getBytes());\r\n            writer.close();\r\n            Log.e(&quot;TAG&quot;, &quot;Wrote to file: &quot;+fileName);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"How to write and constantly update a text file in Android","body":"<p>Working Solution:</p>\n<pre><code>public void WriteToFile(String fileName, String content){\n    File path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\n    File newDir = new File(path + &quot;/&quot; + fileName);\n    try{\n        if (!newDir.exists()) {\n            newDir.mkdir();\n        }\n        FileOutputStream writer = new FileOutputStream(new File(path, filename));\n        writer.write(content.getBytes());\n        writer.close();\n        Log.e(&quot;TAG&quot;, &quot;Wrote to file: &quot;+fileName);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2994,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73062818,"answer_count":1,"score":1,"last_activity_date":1678801672,"creation_date":1658290876,"question_id":73045965,"body_markdown":"I have a camera that I am grabbing values pixel-wise and I&#39;d like to write them to a text file. The newest updates for Android 12 requires me to use storage access framework, but the problem is that it isn&#39;t dynamic and I need to keep choosing files directory. So, this approach it succesfully creates my files but when writting to it, I need to specifically select the dir it&#39;ll save to, which isn&#39;t feasible to me, as the temperature is grabbed for every frame and every pixel. My temperature values are in the temperature1 array, I&#39;d like to know how can I add consistently add the values of temperature1 to a text file?\r\n\r\n\r\n\r\nEDIT: I tried doing the following to create a text file using `getExternalFilesDir()`:\r\n\r\n\r\n      private String filename = &quot;myFile.txt&quot;;\r\n      private String filepath = &quot;myFileDir&quot;;\r\n        public void onClick(final View view) {\r\n            switch (view.getId()){\r\n                case R.id.camera_button:\r\n                    synchronized (mSync) {\r\n                        if (isTemp) {\r\n                            tempTureing();\r\n                            fileContent = &quot;Hello, I am a saved text inside a text file!&quot;;\r\n                            if(!fileContent.equals(&quot;&quot;)){\r\n                                File myExternalFile = new File(getExternalFilesDir(filepath), filename);\r\n                                FileOutputStream fos = null;\r\n                                try{\r\n                                    fos = new FileOutputStream(myExternalFile);\r\n                                    fos.write(fileContent.getBytes());\r\n                                } catch (Exception e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                                Log.e(&quot;TAG&quot;, &quot;file: &quot;+myExternalFile);\r\n                            }\r\n                            isTemp = false;\r\n                            //Log.e(TAG, &quot;isCorrect:&quot; + mUVCCamera.isCorrect());\r\n                        } else {\r\n                            stopTemp();\r\n                            isTemp = true;\r\n                        }\r\n                    }\r\n                    break;\r\n\r\n\r\nI can actually go all the way to the path `/storage/emulated/0/Android/data/com.MyApp.app/files/myFileDir/` but strangely there is no such file as `myFile.txt` inside this directory, how come??","title":"How to write and constantly update a text file in Android","body":"<p>I have a camera that I am grabbing values pixel-wise and I'd like to write them to a text file. The newest updates for Android 12 requires me to use storage access framework, but the problem is that it isn't dynamic and I need to keep choosing files directory. So, this approach it succesfully creates my files but when writting to it, I need to specifically select the dir it'll save to, which isn't feasible to me, as the temperature is grabbed for every frame and every pixel. My temperature values are in the temperature1 array, I'd like to know how can I add consistently add the values of temperature1 to a text file?</p>\n<p>EDIT: I tried doing the following to create a text file using <code>getExternalFilesDir()</code>:</p>\n<pre><code>  private String filename = &quot;myFile.txt&quot;;\n  private String filepath = &quot;myFileDir&quot;;\n    public void onClick(final View view) {\n        switch (view.getId()){\n            case R.id.camera_button:\n                synchronized (mSync) {\n                    if (isTemp) {\n                        tempTureing();\n                        fileContent = &quot;Hello, I am a saved text inside a text file!&quot;;\n                        if(!fileContent.equals(&quot;&quot;)){\n                            File myExternalFile = new File(getExternalFilesDir(filepath), filename);\n                            FileOutputStream fos = null;\n                            try{\n                                fos = new FileOutputStream(myExternalFile);\n                                fos.write(fileContent.getBytes());\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                            Log.e(&quot;TAG&quot;, &quot;file: &quot;+myExternalFile);\n                        }\n                        isTemp = false;\n                        //Log.e(TAG, &quot;isCorrect:&quot; + mUVCCamera.isCorrect());\n                    } else {\n                        stopTemp();\n                        isTemp = true;\n                    }\n                }\n                break;\n</code></pre>\n<p>I can actually go all the way to the path <code>/storage/emulated/0/Android/data/com.MyApp.app/files/myFileDir/</code> but strangely there is no such file as <code>myFile.txt</code> inside this directory, how come??</p>\n"},{"tags":["java","error-handling","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1576044554,"post_id":59272567,"comment_id":104766069,"body_markdown":"If you have a copy of the CiA1 or 2 book then it covers all of this in the error handling chapter.","body":"If you have a copy of the CiA1 or 2 book then it covers all of this in the error handling chapter."}],"answers":[{"tags":[],"owner":{"account_id":5714813,"reputation":56,"user_id":4515458,"display_name":"KinGin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576153356,"creation_date":1576153356,"answer_id":59304509,"question_id":59272567,"body_markdown":"I have mainly used onException() clause as a global exception handler. With quick testing it does not indeed catch the exceptions when put directly into a route. Couple of options that come to my mind are:\r\n\r\n1st option do-try clauses:\r\n\r\n            from(&quot;direct:send-request&quot;)\r\n                .doTry()\r\n                    .to(&quot;direct:send-request-no-retry&quot;)\r\n                .doCatch(HttpOperationFailedException.class)\r\n                    .to(&quot;direct:fix-the-error&quot;)\r\n                    .to(&quot;direct:send-request-no-retry&quot;)\r\n                .doFinally()\r\n                    .whatevs()\r\n                .endDoTry();\r\nBut this is a bit janky since you would have to handle the exception again from the doCatch clause. Another one is to throw custom exception from the &quot;send-request-no-retry&quot;. \r\n\r\n\r\n     from(&quot;direct:send-request-no-retry&quot;)\r\n                .setHeader(&quot;token&quot;).exchange(this::generateToken)\r\n                .doTry()\r\n                    .to(&quot;http://example.com&quot;)\r\n                .doCatch(HttpOperationFailedException.class)\r\n                    .throwException(new CustomExceptionThatExtendsRunTimeException())\r\n                .doFinally();\r\n    \r\n    onException(CustomExceptionThatExtendsRunTimeException.class)\r\n            .handled(true)\r\n            .to(&quot;direct:fix-the-error&quot;)\r\n            .maximumRedeliveries(1)\r\n            .useOriginalMessage()\r\n            .to(&quot;direct:send-request-no-retry&quot;)\r\n            .end();\r\n\r\nI didn&#39;t test this so I&#39;m not sure if this creates an infinite feedback loop or if the maximumRedeliveries will cut it off. If it does you can implement another &quot;direct:send-request-no-retry&quot; route that does not throw the customException but just fails silently or throws the HttpOperationFailedException and pass the request there from onException(). Or set the retryAmount to a header and check that header in onException handler to see if we want to try again.\r\n\r\nThe customException is for the purposes that the onException() clause catches all exceptions from every route of the specified type. And I think you don&#39;t want to pass every failed http request to your retryroute.\r\n\r\n\r\n","title":"How to retry a camel direct route once?","body":"<p>I have mainly used onException() clause as a global exception handler. With quick testing it does not indeed catch the exceptions when put directly into a route. Couple of options that come to my mind are:</p>\n\n<p>1st option do-try clauses:</p>\n\n<pre><code>        from(\"direct:send-request\")\n            .doTry()\n                .to(\"direct:send-request-no-retry\")\n            .doCatch(HttpOperationFailedException.class)\n                .to(\"direct:fix-the-error\")\n                .to(\"direct:send-request-no-retry\")\n            .doFinally()\n                .whatevs()\n            .endDoTry();\n</code></pre>\n\n<p>But this is a bit janky since you would have to handle the exception again from the doCatch clause. Another one is to throw custom exception from the \"send-request-no-retry\". </p>\n\n<pre><code> from(\"direct:send-request-no-retry\")\n            .setHeader(\"token\").exchange(this::generateToken)\n            .doTry()\n                .to(\"http://example.com\")\n            .doCatch(HttpOperationFailedException.class)\n                .throwException(new CustomExceptionThatExtendsRunTimeException())\n            .doFinally();\n\nonException(CustomExceptionThatExtendsRunTimeException.class)\n        .handled(true)\n        .to(\"direct:fix-the-error\")\n        .maximumRedeliveries(1)\n        .useOriginalMessage()\n        .to(\"direct:send-request-no-retry\")\n        .end();\n</code></pre>\n\n<p>I didn't test this so I'm not sure if this creates an infinite feedback loop or if the maximumRedeliveries will cut it off. If it does you can implement another \"direct:send-request-no-retry\" route that does not throw the customException but just fails silently or throws the HttpOperationFailedException and pass the request there from onException(). Or set the retryAmount to a header and check that header in onException handler to see if we want to try again.</p>\n\n<p>The customException is for the purposes that the onException() clause catches all exceptions from every route of the specified type. And I think you don't want to pass every failed http request to your retryroute.</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678801633,"creation_date":1678801633,"answer_id":75734010,"question_id":59272567,"body_markdown":"You can `doTry()` when you `toD` and throw whatever exception you like, and depending on the exception class you can set maximum retry times. `OnException()` still is global but you have more control.\r\n\r\nGlobal `onException()` without `errorHandler()` will let me catch `HttpFailedOperationException()` without problem. \r\n\r\nAlso, you can do `onException().onWhen()` to check some exchange properties. Another way to add some finer control. You use `simple()` expression in `onWhen()`. If it&#39;s true you set maximum retry times. Define another `onWhen()` globally to handle the case where the property is false. \r\n","title":"How to retry a camel direct route once?","body":"<p>You can <code>doTry()</code> when you <code>toD</code> and throw whatever exception you like, and depending on the exception class you can set maximum retry times. <code>OnException()</code> still is global but you have more control.</p>\n<p>Global <code>onException()</code> without <code>errorHandler()</code> will let me catch <code>HttpFailedOperationException()</code> without problem.</p>\n<p>Also, you can do <code>onException().onWhen()</code> to check some exchange properties. Another way to add some finer control. You use <code>simple()</code> expression in <code>onWhen()</code>. If it's true you set maximum retry times. Define another <code>onWhen()</code> globally to handle the case where the property is false.</p>\n"}],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678801633,"creation_date":1575998812,"question_id":59272567,"body_markdown":"With camel, I want to send an HTTP request and, if it fails, take some corrective action and try it once more.\r\n\r\nSending the request is wrapped in a `direct` route and requires the generation of a unique token, apart from that the request should be exactly the same. If the request fails the second time, it should fail the &quot;normal&quot; way.\r\n\r\nI want the sending logic in it&#39;s own route because sometimes I want to call it without retry.\r\n\r\nHow can I set up this scenario with the camel DSL? I tried various combinations of onException and errorHandler but it doesn&#39;t even seem to catch the exception.\r\n\r\nExample (that doesn&#39;t work):\r\n```\r\nfrom(&quot;direct:send-request-no-retry&quot;)\r\n  .setHeader(&quot;token&quot;).exchange(this::generateToken)\r\n  .to(&quot;http://example.com&quot;);\r\n\r\nfrom(&quot;direct:fix-the-error&quot;)\r\n  // ...\r\n  ;\r\n\r\nfrom(&quot;direct:send-request&quot;)\r\n  .onException(HttpOperationFailedException.class)\r\n    .to(&quot;direct:fix-the-error&quot;)\r\n    .maximumRedeliveries(1)\r\n    .useOriginalMessage()\r\n    .end()\r\n  .to(&quot;direct:send-request-no-retry&quot;);\r\n```","title":"How to retry a camel direct route once?","body":"<p>With camel, I want to send an HTTP request and, if it fails, take some corrective action and try it once more.</p>\n\n<p>Sending the request is wrapped in a <code>direct</code> route and requires the generation of a unique token, apart from that the request should be exactly the same. If the request fails the second time, it should fail the \"normal\" way.</p>\n\n<p>I want the sending logic in it's own route because sometimes I want to call it without retry.</p>\n\n<p>How can I set up this scenario with the camel DSL? I tried various combinations of onException and errorHandler but it doesn't even seem to catch the exception.</p>\n\n<p>Example (that doesn't work):</p>\n\n<pre><code>from(\"direct:send-request-no-retry\")\n  .setHeader(\"token\").exchange(this::generateToken)\n  .to(\"http://example.com\");\n\nfrom(\"direct:fix-the-error\")\n  // ...\n  ;\n\nfrom(\"direct:send-request\")\n  .onException(HttpOperationFailedException.class)\n    .to(\"direct:fix-the-error\")\n    .maximumRedeliveries(1)\n    .useOriginalMessage()\n    .end()\n  .to(\"direct:send-request-no-retry\");\n</code></pre>\n"},{"tags":["java","object","concurrency","safe-publication"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1624086962,"post_id":68044494,"comment_id":120266510,"body_markdown":"Is `doSomething` a method of `ThisEscape`?","body":"Is <code>doSomething</code> a method of <code>ThisEscape</code>?"},{"owner":{"account_id":5166793,"reputation":1850,"user_id":4136515,"accept_rate":51,"display_name":"Anand Kadhi"},"score":0,"creation_date":1624087147,"post_id":68044494,"comment_id":120266530,"body_markdown":"That I also really not sure about as the code is an excerpt but most probably it would be a method of EventListener as while EventListener construction we are specifying the behaviour","body":"That I also really not sure about as the code is an excerpt but most probably it would be a method of EventListener as while EventListener construction we are specifying the behaviour"}],"answers":[{"tags":[],"owner":{"account_id":15452950,"reputation":4661,"user_id":11147851,"display_name":"Pavel Smirnov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624140891,"creation_date":1624140891,"answer_id":68051145,"question_id":68044494,"body_markdown":"I believe we should refer to this excerpt:\r\n\r\n&gt; When the inner EvenListener instance is published, so is the enclosing ThisEsape instance.\r\n\r\nWhich makes me think `doSomething()` is a method of `ThisEscape` (otherwise the reference would not escape), meaning `ThisEscape` is a listener for `EventSource`, and it registers itself during construction via overriding `EventListener`&#39;s `onEvent` method. \r\n\r\nIn simple words, it says: &quot;when a new event occurs, call `doSomething()`&quot;.\r\n\r\nAt this point the problem is quite simple. Imagine it, we&#39;ve registered a new listener inside `ThisEscape`&#39;s constructor... and immediately... an event occurs! While one thread is still constructing `ThisEscape`, another one is already calling `doSomething()`, which may lead to a very unpredictable result...","title":"Object Publication and Escape Java concurrency , how does this reference exactly escapes here?","body":"<p>I believe we should refer to this excerpt:</p>\n<blockquote>\n<p>When the inner EvenListener instance is published, so is the enclosing ThisEsape instance.</p>\n</blockquote>\n<p>Which makes me think <code>doSomething()</code> is a method of <code>ThisEscape</code> (otherwise the reference would not escape), meaning <code>ThisEscape</code> is a listener for <code>EventSource</code>, and it registers itself during construction via overriding <code>EventListener</code>'s <code>onEvent</code> method.</p>\n<p>In simple words, it says: &quot;when a new event occurs, call <code>doSomething()</code>&quot;.</p>\n<p>At this point the problem is quite simple. Imagine it, we've registered a new listener inside <code>ThisEscape</code>'s constructor... and immediately... an event occurs! While one thread is still constructing <code>ThisEscape</code>, another one is already calling <code>doSomething()</code>, which may lead to a very unpredictable result...</p>\n"},{"tags":[],"owner":{"account_id":9266162,"reputation":101,"user_id":6881569,"display_name":"Turul Karakaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678801138,"creation_date":1678800333,"answer_id":75733747,"question_id":68044494,"body_markdown":"Actually it requires registering events after completing initialisation of objects (after construction)\r\nso it recommends \r\nuse private construction\r\n\r\n    private SafeListener(){\r\n      listener = new EventListener(){\r\n         public void onEvent(Event e){\r\n           doSomething(e);\r\n         } \r\n      };\r\n    }\r\n    \r\n    public static SafeListener newInstance(EventSource source){\r\n       SafeListener safe = new SafeListener();\r\n       source.registerListener(safe.listener);\r\n       return safe;\r\n    }\r\n\r\nthis one is much safer.","title":"Object Publication and Escape Java concurrency , how does this reference exactly escapes here?","body":"<p>Actually it requires registering events after completing initialisation of objects (after construction)\nso it recommends\nuse private construction</p>\n<pre><code>private SafeListener(){\n  listener = new EventListener(){\n     public void onEvent(Event e){\n       doSomething(e);\n     } \n  };\n}\n\npublic static SafeListener newInstance(EventSource source){\n   SafeListener safe = new SafeListener();\n   source.registerListener(safe.listener);\n   return safe;\n}\n</code></pre>\n<p>this one is much safer.</p>\n"}],"owner":{"account_id":5166793,"reputation":1850,"user_id":4136515,"accept_rate":51,"display_name":"Anand Kadhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678801138,"creation_date":1624086816,"question_id":68044494,"body_markdown":"I was recently going through &quot;Java Concurrency in practice&quot; and came across example of Publication and Escape , after going through it several times I still feel that I didn&#39;t completely understood the example. \r\n\r\n[![Content owner specification][1]][1]\r\n\r\n```\r\npublic class ThisEscape{\r\n       public ThisEscape(EventSource source){\r\n            source.registerListener(\r\n              new EventListener(){\r\n                 public void onEvent(Event e){\r\n                   doSomething(e);\r\n                 }\r\n              }\r\n            )\r\n       }\r\n}\r\n```\r\n&gt;ThisEscape illustrates an important special case of Escape - when the *this* references escapes during construction. When the inner EvenListener instance is publised ,so is the enclosing ThisEsape instance.But and object is in a predictable ,consistent state only after its constructuor return. so publishing an object from within its constructor can publish an incompletely constructed object.This is true even if the publication is the last statement in the constructor.If the this reference escapes during construction, the object is considered not properly constructed.\r\n\r\n```ThisEscape``` cosntructor is registering a EventSource with and EventListener where we are specifying an onEvent behaviour passing an Event instance.\r\nBut here I assume the order of object construction to be ```EventListener --&gt; ThisEscape``` so how the *this* reference of ```ThisEscape``` is being passed here to escape ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zBanE.png","title":"Object Publication and Escape Java concurrency , how does this reference exactly escapes here?","body":"<p>I was recently going through &quot;Java Concurrency in practice&quot; and came across example of Publication and Escape , after going through it several times I still feel that I didn't completely understood the example.</p>\n<p><a href=\"https://i.stack.imgur.com/zBanE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zBanE.png\" alt=\"Content owner specification\" /></a></p>\n<pre><code>public class ThisEscape{\n       public ThisEscape(EventSource source){\n            source.registerListener(\n              new EventListener(){\n                 public void onEvent(Event e){\n                   doSomething(e);\n                 }\n              }\n            )\n       }\n}\n</code></pre>\n<blockquote>\n<p>ThisEscape illustrates an important special case of Escape - when the <em>this</em> references escapes during construction. When the inner EvenListener instance is publised ,so is the enclosing ThisEsape instance.But and object is in a predictable ,consistent state only after its constructuor return. so publishing an object from within its constructor can publish an incompletely constructed object.This is true even if the publication is the last statement in the constructor.If the this reference escapes during construction, the object is considered not properly constructed.</p>\n</blockquote>\n<p><code>ThisEscape</code> cosntructor is registering a EventSource with and EventListener where we are specifying an onEvent behaviour passing an Event instance.\nBut here I assume the order of object construction to be <code>EventListener --&gt; ThisEscape</code> so how the <em>this</em> reference of <code>ThisEscape</code> is being passed here to escape ?</p>\n"},{"tags":["java","kubernetes","heap-memory"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1678791739,"post_id":75730376,"comment_id":133598140,"body_markdown":"This seems similar to [How do I elegantly and safely maximize the amount of heap space allocated to a Java application in Kubernetes?](https://stackoverflow.com/questions/46211535/how-do-i-elegantly-and-safely-maximize-the-amount-of-heap-space-allocated-to-a-j)  If you have access to the [vertical pod autoscaler](https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler) it can address this somewhat.  But fundamentally, it&#39;s what you say: set Kubernetes-level resource limits, let the JVM pick them up automatically, and incrementally tune them.","body":"This seems similar to <a href=\"https://stackoverflow.com/questions/46211535/how-do-i-elegantly-and-safely-maximize-the-amount-of-heap-space-allocated-to-a-j\">How do I elegantly and safely maximize the amount of heap space allocated to a Java application in Kubernetes?</a>  If you have access to the <a href=\"https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler\" rel=\"nofollow noreferrer\">vertical pod autoscaler</a> it can address this somewhat.  But fundamentally, it&#39;s what you say: set Kubernetes-level resource limits, let the JVM pick them up automatically, and incrementally tune them."}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678800943,"creation_date":1678787429,"answer_id":75731496,"question_id":75730376,"body_markdown":"Yes, I have encountered the issue multiple times. You definitely want to keep the memory limit for the k8 to avoid the noisy neighbour problems. The possible solutions you have mentioned are right. Monitoring and load testing are a must to arrive at the number.\r\n\r\nAlong with these, I used the profiling of Java processes to see how GC is getting triggered and whether the memory usage should remain the same or increase with the increase of load. Profiling is a very powerful tool to provide some insights into suboptimal usage of data structures as well.\r\n\r\n**What to profile**\r\n\r\nWhile doing the Java profiling, you need to check \r\n\r\n- What&#39;s the Eden and old-gen usage\r\n- How often full GC is running, the memory utilisation will increase and decrease after the full GC. See the [GC pattern][1]\r\n- How many objects are getting created\r\n- CPU usage, (will increase during the full GC)\r\n\r\n**How to profile Java application**\r\n\r\nHere are a few good resources\r\n\r\n- https://www.baeldung.com/java-profilers#:~:text=A%20Java%20Profiler%20is%20a,thread%20executions%2C%20and%20garbage%20collections.\r\n- https://medium.com/platform-engineer/guide-to-java-profilers-e344ce0339e0\r\n\r\n\r\n**How to Profile Kubernetes Application with Java**\r\n\r\n- https://medium.com/swlh/introducing-kubectl-flame-effortless-profiling-on-kubernetes-4b80fc181852 \r\n- https://www.youtube.com/watch?v=vHTWdkCUAoI \r\n\r\n  [1]: https://dzone.com/articles/interesting-garbage-collection-patterns","title":"Setting memory limits for kubernetes containers in conjunction with java heap","body":"<p>Yes, I have encountered the issue multiple times. You definitely want to keep the memory limit for the k8 to avoid the noisy neighbour problems. The possible solutions you have mentioned are right. Monitoring and load testing are a must to arrive at the number.</p>\n<p>Along with these, I used the profiling of Java processes to see how GC is getting triggered and whether the memory usage should remain the same or increase with the increase of load. Profiling is a very powerful tool to provide some insights into suboptimal usage of data structures as well.</p>\n<p><strong>What to profile</strong></p>\n<p>While doing the Java profiling, you need to check</p>\n<ul>\n<li>What's the Eden and old-gen usage</li>\n<li>How often full GC is running, the memory utilisation will increase and decrease after the full GC. See the <a href=\"https://dzone.com/articles/interesting-garbage-collection-patterns\" rel=\"nofollow noreferrer\">GC pattern</a></li>\n<li>How many objects are getting created</li>\n<li>CPU usage, (will increase during the full GC)</li>\n</ul>\n<p><strong>How to profile Java application</strong></p>\n<p>Here are a few good resources</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-profilers#:%7E:text=A%20Java%20Profiler%20is%20a,thread%20executions%2C%20and%20garbage%20collections\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-profilers#:~:text=A%20Java%20Profiler%20is%20a,thread%20executions%2C%20and%20garbage%20collections</a>.</li>\n<li><a href=\"https://medium.com/platform-engineer/guide-to-java-profilers-e344ce0339e0\" rel=\"nofollow noreferrer\">https://medium.com/platform-engineer/guide-to-java-profilers-e344ce0339e0</a></li>\n</ul>\n<p><strong>How to Profile Kubernetes Application with Java</strong></p>\n<ul>\n<li><a href=\"https://medium.com/swlh/introducing-kubectl-flame-effortless-profiling-on-kubernetes-4b80fc181852\" rel=\"nofollow noreferrer\">https://medium.com/swlh/introducing-kubectl-flame-effortless-profiling-on-kubernetes-4b80fc181852</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=vHTWdkCUAoI\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=vHTWdkCUAoI</a></li>\n</ul>\n"}],"owner":{"account_id":11369754,"reputation":569,"user_id":8335629,"display_name":"Bala krishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678800943,"creation_date":1678780728,"question_id":75730376,"body_markdown":"I would like to know,  if there is an optimal approach for setting memory limits for Kubernetes containers, especially for applications running java.\r\n \r\nFor Java applications, we have to set a heap value in conjunction with Kubernetes resources. it&#39;s like we&#39;re kinda forced to guess at a memory limit for the Kubernetes microservice.\r\n \r\nTo be more clear,\r\n\r\n* in java the heap memory can be limited to memory limits defined in the container, but how to arrive at a specific limit value ?? \r\n* If we don&#39;t set up limits for the container, then the java heap considers the underlying node memory limits rather than at container limits, so it can extend the pod limit to max memory,  which can stress the other pods running in that node.\r\n* If we don&#39;t set up enough memory limits at the container, then we can see containers getting killed with OOM errors.\r\n\r\nThe possible solutions, I can think of is \r\n\r\n1. Monitoring the microservice for some period of time and based on the utilization, choosing the limits\r\n2. Implementing some load testing mechanism and based on the observation setting the limits\r\n\r\n \r\nOther than the above, I would like to get some comments if there is any other approach followed by anyone in setting memory limits for Kubernetes containers.\r\nHas anyone encountered this earlier!!","title":"Setting memory limits for kubernetes containers in conjunction with java heap","body":"<p>I would like to know,  if there is an optimal approach for setting memory limits for Kubernetes containers, especially for applications running java.</p>\n<p>For Java applications, we have to set a heap value in conjunction with Kubernetes resources. it's like we're kinda forced to guess at a memory limit for the Kubernetes microservice.</p>\n<p>To be more clear,</p>\n<ul>\n<li>in java the heap memory can be limited to memory limits defined in the container, but how to arrive at a specific limit value ??</li>\n<li>If we don't set up limits for the container, then the java heap considers the underlying node memory limits rather than at container limits, so it can extend the pod limit to max memory,  which can stress the other pods running in that node.</li>\n<li>If we don't set up enough memory limits at the container, then we can see containers getting killed with OOM errors.</li>\n</ul>\n<p>The possible solutions, I can think of is</p>\n<ol>\n<li>Monitoring the microservice for some period of time and based on the utilization, choosing the limits</li>\n<li>Implementing some load testing mechanism and based on the observation setting the limits</li>\n</ol>\n<p>Other than the above, I would like to get some comments if there is any other approach followed by anyone in setting memory limits for Kubernetes containers.\nHas anyone encountered this earlier!!</p>\n"},{"tags":["java","hdfs","parquet"],"owner":{"account_id":13711745,"reputation":755,"user_id":9893918,"display_name":"Vadim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678800910,"creation_date":1678800910,"question_id":75733875,"body_markdown":"I have Avro messages (SpecificRecord) from Kafka and I want to read messages and write them to HDFS.  I use the parquet-avro and parquet-hadoop of 1.8.1 version.\r\n\r\n    var writer = AvroParquetWriter\r\n        .builder[T](path)\r\n        .withConf(configuration)\r\n        .withSchema(avroSchema)\r\n        .build()\r\n    \r\n    \r\n    writer.write(avroInstance)\r\n\r\n When I try to execute application on the cluster it will throw an exception. Could you please help me to solve this problem. \r\n\r\n    org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdfs.protocol.AlreadyBeingCreatedException): Failed to CREATE_FILE /user/target/_message_14_2-2023-03-14-14-31-07.0_0.in-progress for DFSClient_NONMAPREDUCE_-1766348828_69 on XX.XX.XX.XX because this file lease is currently owned by DFSClient_NONMAPREDUCE_1009776704_69 on XX.XX.XX.XX\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.recoverLeaseInternal(FSNamesystem.java:3158)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.startFileInternal(FSNamesystem.java:2783)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.startFileInt(FSNamesystem.java:2672)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.startFile(FSNamesystem.java:2556)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.create(NameNodeRpcServer.java:736)\r\n    \tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.create(ClientNamenodeProtocolServerSideTranslatorPB.java:408)\r\n\r\n","title":"Writing parquet to HDFS in Java","body":"<p>I have Avro messages (SpecificRecord) from Kafka and I want to read messages and write them to HDFS.  I use the parquet-avro and parquet-hadoop of 1.8.1 version.</p>\n<pre><code>var writer = AvroParquetWriter\n    .builder[T](path)\n    .withConf(configuration)\n    .withSchema(avroSchema)\n    .build()\n\n\nwriter.write(avroInstance)\n</code></pre>\n<p>When I try to execute application on the cluster it will throw an exception. Could you please help me to solve this problem.</p>\n<pre><code>org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdfs.protocol.AlreadyBeingCreatedException): Failed to CREATE_FILE /user/target/_message_14_2-2023-03-14-14-31-07.0_0.in-progress for DFSClient_NONMAPREDUCE_-1766348828_69 on XX.XX.XX.XX because this file lease is currently owned by DFSClient_NONMAPREDUCE_1009776704_69 on XX.XX.XX.XX\n    at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.recoverLeaseInternal(FSNamesystem.java:3158)\n    at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.startFileInternal(FSNamesystem.java:2783)\n    at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.startFileInt(FSNamesystem.java:2672)\n    at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.startFile(FSNamesystem.java:2556)\n    at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.create(NameNodeRpcServer.java:736)\n    at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.create(ClientNamenodeProtocolServerSideTranslatorPB.java:408)\n</code></pre>\n"},{"tags":["java","string","unicode"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1676977622,"post_id":75519612,"comment_id":133241421,"body_markdown":"https://docs.oracle.com/javase/tutorial/i18n/text/normalizerapi.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/i18n/text/normalizerapi.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/i18n/text/normalizerapi.html</a>"},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":2,"creation_date":1676982722,"post_id":75519612,"comment_id":133242999,"body_markdown":"Yes. And here&#39;s the most relevant class: [Normalizer](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html). It&#39;s all built-in. No additional libraries required.","body":"Yes. And here&#39;s the most relevant class: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">Normalizer</a>. It&#39;s all built-in. No additional libraries required."},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1676992824,"post_id":75519612,"comment_id":133246521,"body_markdown":"Stop using Wikipedia as a trusted source. See [Canonical and Compatibility Equivalence](http://unicode.org/reports/tr15/#Canon_Compat_Equivalence)","body":"Stop using Wikipedia as a trusted source. See <a href=\"http://unicode.org/reports/tr15/#Canon_Compat_Equivalence\" rel=\"nofollow noreferrer\">Canonical and Compatibility Equivalence</a>"},{"owner":{"account_id":3676115,"reputation":924,"user_id":3062183,"display_name":"Dean Gurvitz"},"score":0,"creation_date":1677589756,"post_id":75519612,"comment_id":133364459,"body_markdown":"@Codo if any of your would write it as an answer with basic explanation I will accept it","body":"@Codo if any of your would write it as an answer with basic explanation I will accept it"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1678299245,"post_id":75519612,"comment_id":133507335,"body_markdown":"@DeanGurvitz [1] Since your issue seems to be resolved, but nobody has posted an answer, please consider posting a self-answer, and accepting it. That is much more helpful to the SO community than having an unanswered question. [2] As a separate matter, be aware that [each Java release supports a specific version of Unicode](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Character.html) which may impact your code. See [here](https://stackoverflow.com/q/75648995/2985643) for a recent question on that.","body":"@DeanGurvitz [1] Since your issue seems to be resolved, but nobody has posted an answer, please consider posting a self-answer, and accepting it. That is much more helpful to the SO community than having an unanswered question. [2] As a separate matter, be aware that <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Character.html\" rel=\"nofollow noreferrer\">each Java release supports a specific version of Unicode</a> which may impact your code. See <a href=\"https://stackoverflow.com/q/75648995/2985643\">here</a> for a recent question on that."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678370124,"post_id":75519612,"comment_id":133521907,"body_markdown":"Please be aware that normalization and equivalence comparison are not that strongly related. There are many equivalence classes defined in Unicode that go way beyond normalization.","body":"Please be aware that normalization and equivalence comparison are not that strongly related. There are many equivalence classes defined in Unicode that go way beyond normalization."},{"owner":{"account_id":3676115,"reputation":924,"user_id":3062183,"display_name":"Dean Gurvitz"},"score":0,"creation_date":1678436550,"post_id":75519612,"comment_id":133535502,"body_markdown":"It&#39;s weird to me that this question was closed. It is obvious from the content that I wasn&#39;t just looking for some general recommendations on a topic, but rather asking how to perform very specific actions, specifically in Java. I changed the phrasing so hopefully emphasize it even further.","body":"It&#39;s weird to me that this question was closed. It is obvious from the content that I wasn&#39;t just looking for some general recommendations on a topic, but rather asking how to perform very specific actions, specifically in Java. I changed the phrasing so hopefully emphasize it even further."}],"answers":[{"tags":[],"owner":{"account_id":3676115,"reputation":924,"user_id":3062183,"display_name":"Dean Gurvitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678367416,"creation_date":1678367416,"answer_id":75685070,"question_id":75519612,"body_markdown":"Expanding on what&#39;s written in the comments, the built in [Normalizer](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html) contains both an `isNormalized` and `normalize` methods. The `normalize` method receives an argument of the `Normalizer.Form` enum type allowing you to specify how you want to normalize. Example:\r\n\r\n```\r\nSystem.out.println(Normalizer.normalize(&quot;Some text&quot;, Normalizer.Form.NFKD)\r\n```\r\nAlso, as noted [here](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Character.html), each Java release supports a specific version of Unicode with its own standards regarding normalizations.","title":"How to perform Unicode equivalence checks / normalization in Java","body":"<p>Expanding on what's written in the comments, the built in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">Normalizer</a> contains both an <code>isNormalized</code> and <code>normalize</code> methods. The <code>normalize</code> method receives an argument of the <code>Normalizer.Form</code> enum type allowing you to specify how you want to normalize. Example:</p>\n<pre><code>System.out.println(Normalizer.normalize(&quot;Some text&quot;, Normalizer.Form.NFKD)\n</code></pre>\n<p>Also, as noted <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Character.html\" rel=\"nofollow noreferrer\">here</a>, each Java release supports a specific version of Unicode with its own standards regarding normalizations.</p>\n"}],"owner":{"account_id":3676115,"reputation":924,"user_id":3062183,"display_name":"Dean Gurvitz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75685070,"answer_count":1,"score":0,"last_activity_date":1678800549,"creation_date":1676977503,"question_id":75519612,"body_markdown":"In my work I often have to compare strings and names to one another, and I recently came across the concept of [Unicode equivalence](https://en.wikipedia.org/wiki/Unicode_equivalence) which may help generalize many of the operations we do today manually, and maybe solve a lot of other edge cases. \r\n\r\nMy question is: how can I perform Unicode normalization or Unicode-equivalent comparison of strings according to the rules defined in the unicode equivalence specification in Java.\r\n\r\nA brief search in stackoverflow/Google/Apache commons-text library didn&#39;t produce any results for tools that would allow me to do so.","title":"How to perform Unicode equivalence checks / normalization in Java","body":"<p>In my work I often have to compare strings and names to one another, and I recently came across the concept of <a href=\"https://en.wikipedia.org/wiki/Unicode_equivalence\" rel=\"nofollow noreferrer\">Unicode equivalence</a> which may help generalize many of the operations we do today manually, and maybe solve a lot of other edge cases.</p>\n<p>My question is: how can I perform Unicode normalization or Unicode-equivalent comparison of strings according to the rules defined in the unicode equivalence specification in Java.</p>\n<p>A brief search in stackoverflow/Google/Apache commons-text library didn't produce any results for tools that would allow me to do so.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9417,"page":575,"page_size":100}
