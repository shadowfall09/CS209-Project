{"items":[{"tags":["java","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678883619,"creation_date":1678883619,"answer_id":75744752,"question_id":75743974,"body_markdown":"JobRunr uses the default log level you setup using SLF4J.\r\n\r\nIf you add a SLF4J implementation (e.g. logback), you can configure everything using logback.xml or via spring boot.","title":"Setting log level for JobRunr","body":"<p>JobRunr uses the default log level you setup using SLF4J.</p>\n<p>If you add a SLF4J implementation (e.g. logback), you can configure everything using logback.xml or via spring boot.</p>\n"}],"owner":{"account_id":3165443,"reputation":15,"user_id":2675587,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75744752,"answer_count":1,"score":0,"last_activity_date":1678883619,"creation_date":1678879005,"question_id":75743974,"body_markdown":"I am using the JobRunr framework, but cannot set the log level, which is &quot;DEBUG&quot; by default.\r\n\r\nDid Google research, but to no avail.\r\n\r\nThis is how I initialize JobRunr:\r\n\r\n`JobRunr.configure().useStorageProvider(new InMemoryStorageProvider()).useBackgroundJobServer().initialize();`","title":"Setting log level for JobRunr","body":"<p>I am using the JobRunr framework, but cannot set the log level, which is &quot;DEBUG&quot; by default.</p>\n<p>Did Google research, but to no avail.</p>\n<p>This is how I initialize JobRunr:</p>\n<p><code>JobRunr.configure().useStorageProvider(new InMemoryStorageProvider()).useBackgroundJobServer().initialize();</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":7,"creation_date":1396808321,"post_id":22897992,"comment_id":34944417,"body_markdown":"**How** doesn&#39;t it work? Does it explode?","body":"<b>How</b> doesn&#39;t it work? Does it explode?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396808379,"post_id":22897992,"comment_id":34944442,"body_markdown":"What do you call your &quot;current IP&quot; anyway? It is a vague notion. `ip addr` will show all my IP addresses on my system.","body":"What do you call your &quot;current IP&quot; anyway? It is a vague notion. <code>ip addr</code> will show all my IP addresses on my system."},{"owner":{"account_id":241731,"reputation":8846,"user_id":512728,"accept_rate":80,"display_name":"Jan Doggen"},"score":0,"creation_date":1407518044,"post_id":22897992,"comment_id":39260651,"body_markdown":"I&#39;m not a Java programmer, but this does not look like &quot;getting the IP&quot; at all. You are reading web site contents from a URL. So what do you actually want? If you indeed want the current IP use http://stackoverflow.com/questions/9481865/how-to-get-ip-address-of-current-machine-using-java","body":"I&#39;m not a Java programmer, but this does not look like &quot;getting the IP&quot; at all. You are reading web site contents from a URL. So what do you actually want? If you indeed want the current IP use <a href=\"http://stackoverflow.com/questions/9481865/how-to-get-ip-address-of-current-machine-using-java\" title=\"how to get ip address of current machine using java\">stackoverflow.com/questions/9481865/&hellip;</a>"},{"owner":{"account_id":2980285,"reputation":31,"user_id":2530386,"display_name":"Prakash Selvam"},"score":0,"creation_date":1410859306,"post_id":22897992,"comment_id":40473662,"body_markdown":"i can&#39;t post more quetions on this site by above question please.. i am poor in english.. here after  i post clear question. please remove the badges for this question.. i don&#39;t know how to improve this question...pls","body":"i can&#39;t post more quetions on this site by above question please.. i am poor in english.. here after  i post clear question. please remove the badges for this question.. i don&#39;t know how to improve this question...pls"}],"answers":[{"comments":[{"owner":{"account_id":2980285,"reputation":31,"user_id":2530386,"display_name":"Prakash Selvam"},"score":0,"creation_date":1396809740,"post_id":22898109,"comment_id":34945017,"body_markdown":"can you help to get my location by this ip....?","body":"can you help to get my location by this ip....?"},{"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"score":0,"creation_date":1396810689,"post_id":22898109,"comment_id":34945392,"body_markdown":"Android or pure java?\nPlease ask only one question by Thread, open an other Thread for an other question.","body":"Android or pure java? Please ask only one question by Thread, open an other Thread for an other question."}],"tags":[],"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1396811032,"creation_date":1396808902,"answer_id":22898109,"question_id":22897992,"body_markdown":"You can use **Will&#39;s code** on this Thread : https://stackoverflow.com/questions/2939218/getting-the-external-ip-address-in-java#14541376\r\n\r\nHe use Amazon service to get his &quot;external IP&quot;.\r\n\r\nHere his code :\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n\r\n    public class IpChecker {\r\n\r\n        public static String getIp() throws Exception {\r\n            URL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\r\n            BufferedReader in = null;\r\n            try {\r\n                in = new BufferedReader(new InputStreamReader(\r\n                        whatismyip.openStream()));\r\n                String ip = in.readLine();\r\n                return ip;\r\n            } finally {\r\n                if (in != null) {\r\n                    try {\r\n                        in.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**All credits goes to Will.**","title":"How to get IP address in windows machine using java","body":"<p>You can use <strong>Will's code</strong> on this Thread : <a href=\"https://stackoverflow.com/questions/2939218/getting-the-external-ip-address-in-java#14541376\">Getting the &#39;external&#39; IP address in Java</a></p>\n\n<p>He use Amazon service to get his \"external IP\".</p>\n\n<p>Here his code :</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class IpChecker {\n\n    public static String getIp() throws Exception {\n        URL whatismyip = new URL(\"http://checkip.amazonaws.com\");\n        BufferedReader in = null;\n        try {\n            in = new BufferedReader(new InputStreamReader(\n                    whatismyip.openStream()));\n            String ip = in.readLine();\n            return ip;\n        } finally {\n            if (in != null) {\n                try {\n                    in.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>All credits goes to Will.</strong></p>\n"}],"owner":{"account_id":2980285,"reputation":31,"user_id":2530386,"display_name":"Prakash Selvam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1396816844,"accepted_answer_id":22898109,"answer_count":1,"score":-4,"last_activity_date":1678883263,"creation_date":1396808248,"question_id":22897992,"body_markdown":"I use this code to get my current IP:\r\n\r\n    public String getIpAddress() throws NullPointerException,\r\n    \t\tMalformedURLException, IOException {\r\n    \tURL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\r\n    \tBufferedReader in = null;\r\n    \ttry {\r\n    \t\tin = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\twhatismyip.openStream()));\r\n    \t\tString ip = in.readLine();\r\n    \t\treturn ip;\r\n    \t} finally {\r\n    \t\tif (in != null) {\r\n    \t\t\ttry {\r\n    \t\t\t\tin.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nbut the return value is incorrect. how to get the IP properly   \r\n\r\n\r\n","title":"How to get IP address in windows machine using java","body":"<p>I use this code to get my current IP:</p>\n<pre><code>public String getIpAddress() throws NullPointerException,\n        MalformedURLException, IOException {\n    URL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\n    BufferedReader in = null;\n    try {\n        in = new BufferedReader(new InputStreamReader(\n                whatismyip.openStream()));\n        String ip = in.readLine();\n        return ip;\n    } finally {\n        if (in != null) {\n            try {\n                in.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>but the return value is incorrect. how to get the IP properly</p>\n"},{"tags":["java","visualvm"],"answers":[{"comments":[{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":2,"creation_date":1415779944,"post_id":26851207,"comment_id":42319906,"body_markdown":"The correct bug is this one: https://netbeans.org/bugzilla/show_bug.cgi?id=245522 and https://bugs.openjdk.java.net/browse/JDK-8050485. The problem is already fixed in JDK 7u71 and JDK 8u31.","body":"The correct bug is this one: <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=245522\" rel=\"nofollow noreferrer\">netbeans.org/bugzilla/show_bug.cgi?id=245522</a> and <a href=\"https://bugs.openjdk.java.net/browse/JDK-8050485\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8050485</a>. The problem is already fixed in JDK 7u71 and JDK 8u31."},{"owner":{"account_id":1521999,"reputation":1043,"user_id":1421405,"display_name":"ezzadeen"},"score":35,"creation_date":1488998224,"post_id":26851207,"comment_id":72482810,"body_markdown":"I ran into this problem with java version &quot;1.8.0_121&quot;","body":"I ran into this problem with java version &quot;1.8.0_121&quot;"},{"owner":{"account_id":5823092,"reputation":208,"user_id":4590448,"display_name":"Pritesh Kanthaliya"},"score":0,"creation_date":1491461041,"post_id":26851207,"comment_id":73564540,"body_markdown":"@ezzadeen You solved this problem? I am also getting same.","body":"@ezzadeen You solved this problem? I am also getting same."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":12,"creation_date":1499440244,"post_id":26851207,"comment_id":76923460,"body_markdown":"Problem still exists in 1.8.0_131","body":"Problem still exists in 1.8.0_131"},{"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"score":0,"creation_date":1510911660,"post_id":26851207,"comment_id":81646818,"body_markdown":"and with 1.8.0_144","body":"and with 1.8.0_144"},{"owner":{"account_id":2051168,"reputation":406,"user_id":1830155,"display_name":"Hummeling Engineering BV"},"score":0,"creation_date":1516358277,"post_id":26851207,"comment_id":83663385,"body_markdown":"and in 1.8.0_152","body":"and in 1.8.0_152"},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":7,"creation_date":1517939632,"post_id":26851207,"comment_id":84295789,"body_markdown":"still in 1.8.0_162, to put a bit salt","body":"still in 1.8.0_162, to put a bit salt"},{"owner":{"account_id":1520694,"reputation":5745,"user_id":1420441,"accept_rate":100,"display_name":"Henrique de Sousa"},"score":0,"creation_date":1522076004,"post_id":26851207,"comment_id":85992557,"body_markdown":"I also encountered this bug, but upgrading to the latest version fixed the issue.","body":"I also encountered this bug, but upgrading to the latest version fixed the issue."},{"owner":{"account_id":26625,"reputation":3060,"user_id":69471,"display_name":"TMN"},"score":0,"creation_date":1524579269,"post_id":26851207,"comment_id":87024115,"body_markdown":"When I added `-Xverify:none`, the profiling tab didn&#39;t appear the next time I launched.","body":"When I added <code>-Xverify:none</code>, the profiling tab didn&#39;t appear the next time I launched."},{"owner":{"account_id":2050267,"reputation":306,"user_id":1829434,"display_name":"stuhpa"},"score":0,"creation_date":1536587754,"post_id":26851207,"comment_id":91466206,"body_markdown":"The bug is still present in 1.8.0_181. It disappeared with the suggested solution:  -Xverify:none","body":"The bug is still present in 1.8.0_181. It disappeared with the suggested solution:  -Xverify:none"},{"owner":{"account_id":1928385,"reputation":1014,"user_id":1738332,"accept_rate":89,"display_name":"Wesley De Keirsmaeker"},"score":0,"creation_date":1629886203,"post_id":26851207,"comment_id":121803499,"body_markdown":"Also had to use this workarround on JDK 11 in intellij","body":"Also had to use this workarround on JDK 11 in intellij"},{"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"score":0,"creation_date":1659603978,"post_id":26851207,"comment_id":129335529,"body_markdown":"Same problem with 1.8.0_301","body":"Same problem with 1.8.0_301"}],"tags":[],"owner":{"account_id":3146286,"reputation":2046,"user_id":2660707,"display_name":"rafalopez79"},"comment_count":12,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1415646888,"creation_date":1415646888,"answer_id":26851207,"question_id":26834651,"body_markdown":"Here https://netbeans.org/bugzilla/show_bug.cgi?id=191297 appears a workaround:\r\nrun profiled application with -Xverify:none","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>Here <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=191297\" rel=\"noreferrer\">https://netbeans.org/bugzilla/show_bug.cgi?id=191297</a> appears a workaround:\nrun profiled application with -Xverify:none</p>\n"},{"tags":[],"owner":{"account_id":12186961,"reputation":21,"user_id":8896346,"display_name":"Stuart Hansen"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1509999209,"creation_date":1509999209,"answer_id":47144976,"question_id":26834651,"body_markdown":"The workaround I found using IntelliJ is to compile to Java 1.6 byte code.\r\nThe menu option to do so is:  File - Project Structure, then set Project language level to 6.\r\n\r\nThis precludes you from using Java features only available with Java 7 or 8.\r\n","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>The workaround I found using IntelliJ is to compile to Java 1.6 byte code.\nThe menu option to do so is:  File - Project Structure, then set Project language level to 6.</p>\n\n<p>This precludes you from using Java features only available with Java 7 or 8.</p>\n"},{"comments":[{"owner":{"account_id":2559426,"reputation":1044,"user_id":2220759,"display_name":"Torsten Ojaperv"},"score":0,"creation_date":1518095012,"post_id":48675199,"comment_id":84369733,"body_markdown":"Thanks for pointing this out. Ran into this problem today and updated VisualVM. It works now.","body":"Thanks for pointing this out. Ran into this problem today and updated VisualVM. It works now."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1549442250,"creation_date":1518047010,"answer_id":48675199,"question_id":26834651,"body_markdown":"According to this [GitHub issue][1], it&#39;s been fixed. Updating to [version 1.4][2] solved the problem for me.\r\n\r\n\r\n  [1]: https://github.com/oracle/visualvm/issues/33\r\n  [2]: https://visualvm.github.io/download.html","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>According to this <a href=\"https://github.com/oracle/visualvm/issues/33\" rel=\"nofollow noreferrer\">GitHub issue</a>, it's been fixed. Updating to <a href=\"https://visualvm.github.io/download.html\" rel=\"nofollow noreferrer\">version 1.4</a> solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2955,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1561473809,"creation_date":1561473809,"answer_id":56756636,"question_id":26834651,"body_markdown":"If you are using eclipse, then go to **Run/Debug** configuration.\r\nSelect your application from left side and click on **Arguments.**\r\n\r\nHere you will see two text boxes.\r\n\r\n    1. Program Arguments\r\n    2. VM Arguments\r\n\r\nIn VM arguments, enter below commands.\r\n**-Xverify:none**\r\n\r\nClick on apply and then Run/Debug.","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>If you are using eclipse, then go to <strong>Run/Debug</strong> configuration.\nSelect your application from left side and click on <strong>Arguments.</strong></p>\n\n<p>Here you will see two text boxes.</p>\n\n<pre><code>1. Program Arguments\n2. VM Arguments\n</code></pre>\n\n<p>In VM arguments, enter below commands.\n<strong>-Xverify:none</strong></p>\n\n<p>Click on apply and then Run/Debug.</p>\n"},{"tags":[],"owner":{"account_id":3702556,"reputation":323,"user_id":3081830,"display_name":"Spacha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649935140,"creation_date":1649935140,"answer_id":71870788,"question_id":26834651,"body_markdown":"For **IntelliJ**, you can set `-Xverify:none` as follows:\r\n\r\n**Run** &gt; **Edit Configurations...** &gt; **Modify options (Alt + M)** &gt; **Add VM options**.\r\n\r\nThis should reveal a new field **VM options**, to which you can write `-Xverify:none`.","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>For <strong>IntelliJ</strong>, you can set <code>-Xverify:none</code> as follows:</p>\n<p><strong>Run</strong> &gt; <strong>Edit Configurations...</strong> &gt; <strong>Modify options (Alt + M)</strong> &gt; <strong>Add VM options</strong>.</p>\n<p>This should reveal a new field <strong>VM options</strong>, to which you can write <code>-Xverify:none</code>.</p>\n"},{"tags":[],"owner":{"account_id":2387373,"reputation":4304,"user_id":2088053,"accept_rate":50,"display_name":"Yuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882995,"creation_date":1678882995,"answer_id":75744644,"question_id":26834651,"body_markdown":"Just letting others know, adding the VM option `-Xverify:none` is the recommended way as per the official [Troubleshooting Guide][1].\r\n\r\n\r\n  [1]: https://visualvm.github.io/troubleshooting.html","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>Just letting others know, adding the VM option <code>-Xverify:none</code> is the recommended way as per the official <a href=\"https://visualvm.github.io/troubleshooting.html\" rel=\"nofollow noreferrer\">Troubleshooting Guide</a>.</p>\n"}],"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24791,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"answer_count":6,"score":62,"last_activity_date":1678882995,"creation_date":1415576485,"question_id":26834651,"body_markdown":"If I try to profile application, (which is prepared under Eclipse, but running from command line) with the help of VisualVM, I get the following error message\r\n\r\n![enter image description here][1]\r\n\r\nSimultaneously, the project folder is fouled with newly created class files. Although they are already existing in `target/classes`.\r\n\r\nThe project structure is Maven&#39;s, i.e. there is a foder `target/classes` in current directory and I us the following command to run the application\r\n\r\n    java -Xmx16g -cp target/classes tests.Runner01\r\n\r\nHow to fix?\r\n\r\n**UPDATE** \r\n\r\nThe same occurs with conventional java project too.\r\n\r\nBelow it the picture of populated class files, which located where they should not \r\n\r\n![enter image description here][2]\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GPhyQ.png\r\n  [2]: http://i.stack.imgur.com/zuetp.png","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>If I try to profile application, (which is prepared under Eclipse, but running from command line) with the help of VisualVM, I get the following error message</p>\n\n<p><img src=\"https://i.stack.imgur.com/GPhyQ.png\" alt=\"enter image description here\"></p>\n\n<p>Simultaneously, the project folder is fouled with newly created class files. Although they are already existing in <code>target/classes</code>.</p>\n\n<p>The project structure is Maven's, i.e. there is a foder <code>target/classes</code> in current directory and I us the following command to run the application</p>\n\n<pre><code>java -Xmx16g -cp target/classes tests.Runner01\n</code></pre>\n\n<p>How to fix?</p>\n\n<p><strong>UPDATE</strong> </p>\n\n<p>The same occurs with conventional java project too.</p>\n\n<p>Below it the picture of populated class files, which located where they should not </p>\n\n<p><img src=\"https://i.stack.imgur.com/zuetp.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","udp","netty"],"comments":[{"owner":{"account_id":26544556,"reputation":190,"user_id":20174801,"display_name":"Synopsis"},"score":0,"creation_date":1678311342,"post_id":75649400,"comment_id":133510304,"body_markdown":"I&#39;m not sure about that framework, but you give the port 5555 **two** times for each channel and additionally a bind() function usually binds a local socket to listen. I would guess, by using bind() you force the system to use the same local port twice, which does not work.\n\nTry using different port numbers in the bind() call and I **think** you could succeed.","body":"I&#39;m not sure about that framework, but you give the port 5555 <b>two</b> times for each channel and additionally a bind() function usually binds a local socket to listen. I would guess, by using bind() you force the system to use the same local port twice, which does not work.  Try using different port numbers in the bind() call and I <b>think</b> you could succeed."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1678334045,"post_id":75649400,"comment_id":133513438,"body_markdown":"In NIO, this should be fine because I am using the reuse_address option. I did however try to use different port numbers, however it only listens to the first channel regardless","body":"In NIO, this should be fine because I am using the reuse_address option. I did however try to use different port numbers, however it only listens to the first channel regardless"}],"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678882912,"creation_date":1678096793,"question_id":75649400,"body_markdown":"I have a UDP Multicast application which will be hardcoded to listen to specific groups of multicasts addresses. However, while I am able to have one NioDatagramChannel that joins multiple groups, my code cannot handle multiple NioDatagramChannels that listens to separate groups (somewhat like Java NIO selector). The following is the code I wrote:\r\n\r\n```\r\npublic class NettyTest implements Runnable {\r\n    public static void main(String[] args){\r\n        new NettyTest().run();\r\n    }\r\n    @Override\r\n    public void run() {\r\n        MulticastHandler handler = new MulticastHandler();\r\n        MulticastHandler handler2 = new MulticastHandler();\r\n        EventLoopGroup group = new NioEventLoopGroup();\r\n        try{\r\n            UDPChannel channel = new UDPChannel(5555, &quot;eth0&quot;, &quot;239.1.1.1&quot;);\r\n            UDPChannel channel2 = new UDPChannel(5556, &quot;eth0&quot;, &quot;225.1.1.1&quot;);\r\n\r\n            Bootstrap b = new Bootstrap();\r\n            NetworkInterface ni = NetworkInterface.getByName(&quot;eth0&quot;);\r\n            b.group(group)\r\n                    .channel(NioDatagramChannel.class)\r\n                    .option(ChannelOption.SO_REUSEADDR, true)\r\n                    .option(ChannelOption.IP_MULTICAST_IF, ni)\r\n                    .option(ChannelOption.SO_RCVBUF, 1500 * 200)\r\n                    .handler(new ChannelInitializer&lt;NioDatagramChannel&gt;() {\r\n                        @Override\r\n                        protected void initChannel(NioDatagramChannel nioDatagramChannel) throws Exception {\r\n                            nioDatagramChannel.pipeline().addLast(new MulticastHandler());  //&lt;------------- modification\r\n                        }\r\n                    });\r\n\r\n            System.out.println(channel.getMULTICAST_STRING()+&quot; &quot;+channel2.getMULTICAST_STRING());\r\n\r\n            AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\r\n            NioDatagramChannel ch = (NioDatagramChannel)b.bind(5555).sync().channel();\r\n            ch.attr(markerKey).set(channel.getMULTICAST_STRING());\r\n            ch.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), ni).sync();\r\n            group.register(ch);\r\n\r\n            NioDatagramChannel ch1 =(NioDatagramChannel)b.bind(5556).sync().channel();\r\n            ch1.attr(markerKey).set(channel2.getMULTICAST_STRING());\r\n            ch1.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5556), ni).sync();\r\n            group.register(ch1);\r\n\r\n//            ch.closeFuture().await();\r\n//            ch1.closeFuture().await();\r\n            ch.closeFuture();\r\n            ch1.closeFuture();\r\n        } catch (InterruptedException | SocketException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt;{\r\n    private MoldUdpHeader moldUdpHeader = new MoldUdpHeader();\r\n    AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\r\n    @Override\r\n    protected void channelRead0(ChannelHandlerContext channelHandlerContext, DatagramPacket datagramPacket) throws Exception {\r\n        moldUdpHeader.decode(datagramPacket.content().nioBuffer(), 0);\r\n        System.out.println(channelHandlerContext.channel().attr(markerKey).get()+&quot; &quot;+moldUdpHeader.getSeqNum());\r\n    }\r\n}\r\n```\r\n\r\nI have tried the above but it gives a `io.netty.channel.StacklessClosedChannelException at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)`. What is the proper way to be able to process both of these channels? I do not want to combine both into one channel, because the messages on both channels can have same ID but different values (values are specific for that channel).\r\n\r\nEdit: I just found out that either Netty or Log4j (i m not sure which) has been suppressing the console output for the errors that has happened with the sample code above. I found an inconspicuous log file which contains all the error messages Netty has been writing, even though the above does not use loggers at all. The following is the error logs. I have checked up some of the errors and modified my code above (it turns out each channel needs a new handle)\r\n\r\n    2023-03-15 13:56:50,688 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option &#39;IP_MULTICAST_IF&#39; with value &#39;name:eth0 (eth0)&#39; for channel &#39;[id: 0xf46f62a3]&#39;\r\n    io.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat udp.NettyTest.run(NettyTest.java:52) ~[classes/:?]\r\n    \tat udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n    Caused by: java.net.SocketException: No such file or directory\r\n    \tat sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n    2023-03-15 13:56:50,733 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option &#39;IP_MULTICAST_IF&#39; with value &#39;name:eth0 (eth0)&#39; for channel &#39;[id: 0x5085932f]&#39;\r\n    io.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat udp.NettyTest.run(NettyTest.java:57) ~[classes/:?]\r\n    \tat udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n    Caused by: java.net.SocketException: No such file or directory\r\n    \tat sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n\r\n\r\nIt looks like it now receives both channels packets, so thats pretty great.\r\n\r\noutput:\r\n\r\n    239.1.1.1 225.1.1.1\r\n    239.1.1.1 0\r\n    225.1.1.1 0\r\n    225.1.1.1 1\r\n    239.1.1.1 1\r\n    225.1.1.1 2\r\n    239.1.1.1 2\r\n    225.1.1.1 3\r\n    239.1.1.1 3","title":"What is the proper procedure for working with multiple channels in netty?","body":"<p>I have a UDP Multicast application which will be hardcoded to listen to specific groups of multicasts addresses. However, while I am able to have one NioDatagramChannel that joins multiple groups, my code cannot handle multiple NioDatagramChannels that listens to separate groups (somewhat like Java NIO selector). The following is the code I wrote:</p>\n<pre><code>public class NettyTest implements Runnable {\n    public static void main(String[] args){\n        new NettyTest().run();\n    }\n    @Override\n    public void run() {\n        MulticastHandler handler = new MulticastHandler();\n        MulticastHandler handler2 = new MulticastHandler();\n        EventLoopGroup group = new NioEventLoopGroup();\n        try{\n            UDPChannel channel = new UDPChannel(5555, &quot;eth0&quot;, &quot;239.1.1.1&quot;);\n            UDPChannel channel2 = new UDPChannel(5556, &quot;eth0&quot;, &quot;225.1.1.1&quot;);\n\n            Bootstrap b = new Bootstrap();\n            NetworkInterface ni = NetworkInterface.getByName(&quot;eth0&quot;);\n            b.group(group)\n                    .channel(NioDatagramChannel.class)\n                    .option(ChannelOption.SO_REUSEADDR, true)\n                    .option(ChannelOption.IP_MULTICAST_IF, ni)\n                    .option(ChannelOption.SO_RCVBUF, 1500 * 200)\n                    .handler(new ChannelInitializer&lt;NioDatagramChannel&gt;() {\n                        @Override\n                        protected void initChannel(NioDatagramChannel nioDatagramChannel) throws Exception {\n                            nioDatagramChannel.pipeline().addLast(new MulticastHandler());  //&lt;------------- modification\n                        }\n                    });\n\n            System.out.println(channel.getMULTICAST_STRING()+&quot; &quot;+channel2.getMULTICAST_STRING());\n\n            AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\n            NioDatagramChannel ch = (NioDatagramChannel)b.bind(5555).sync().channel();\n            ch.attr(markerKey).set(channel.getMULTICAST_STRING());\n            ch.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), ni).sync();\n            group.register(ch);\n\n            NioDatagramChannel ch1 =(NioDatagramChannel)b.bind(5556).sync().channel();\n            ch1.attr(markerKey).set(channel2.getMULTICAST_STRING());\n            ch1.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5556), ni).sync();\n            group.register(ch1);\n\n//            ch.closeFuture().await();\n//            ch1.closeFuture().await();\n            ch.closeFuture();\n            ch1.closeFuture();\n        } catch (InterruptedException | SocketException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nclass MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt;{\n    private MoldUdpHeader moldUdpHeader = new MoldUdpHeader();\n    AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\n    @Override\n    protected void channelRead0(ChannelHandlerContext channelHandlerContext, DatagramPacket datagramPacket) throws Exception {\n        moldUdpHeader.decode(datagramPacket.content().nioBuffer(), 0);\n        System.out.println(channelHandlerContext.channel().attr(markerKey).get()+&quot; &quot;+moldUdpHeader.getSeqNum());\n    }\n}\n</code></pre>\n<p>I have tried the above but it gives a <code>io.netty.channel.StacklessClosedChannelException at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)</code>. What is the proper way to be able to process both of these channels? I do not want to combine both into one channel, because the messages on both channels can have same ID but different values (values are specific for that channel).</p>\n<p>Edit: I just found out that either Netty or Log4j (i m not sure which) has been suppressing the console output for the errors that has happened with the sample code above. I found an inconspicuous log file which contains all the error messages Netty has been writing, even though the above does not use loggers at all. The following is the error logs. I have checked up some of the errors and modified my code above (it turns out each channel needs a new handle)</p>\n<pre><code>2023-03-15 13:56:50,688 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option 'IP_MULTICAST_IF' with value 'name:eth0 (eth0)' for channel '[id: 0xf46f62a3]'\nio.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at udp.NettyTest.run(NettyTest.java:52) ~[classes/:?]\n    at udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\nCaused by: java.net.SocketException: No such file or directory\n    at sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\n2023-03-15 13:56:50,733 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option 'IP_MULTICAST_IF' with value 'name:eth0 (eth0)' for channel '[id: 0x5085932f]'\nio.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at udp.NettyTest.run(NettyTest.java:57) ~[classes/:?]\n    at udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\nCaused by: java.net.SocketException: No such file or directory\n    at sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\n</code></pre>\n<p>It looks like it now receives both channels packets, so thats pretty great.</p>\n<p>output:</p>\n<pre><code>239.1.1.1 225.1.1.1\n239.1.1.1 0\n225.1.1.1 0\n225.1.1.1 1\n239.1.1.1 1\n225.1.1.1 2\n239.1.1.1 2\n225.1.1.1 3\n239.1.1.1 3\n</code></pre>\n"},{"tags":["java","logging","apache-beam","apache-beam-kafkaio"],"answers":[{"tags":[],"owner":{"account_id":27886429,"reputation":1,"user_id":21293767,"display_name":"Alberto Serna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882876,"creation_date":1677500550,"answer_id":75580441,"question_id":75211881,"body_markdown":"SOLUTION 1: I made it work with **org.apache.log4j.Logger** \r\n\r\n```\r\n   import org.apache.log4j.Logger\r\n//import org.slf4j.{Logger, LoggerFactory}\r\n\r\nobject KafkaConsumer {\r\n\r\n  // NOTE 1: I did not have to set up the below JVM flags in the end\r\n  // (it was only filtering out the logs from the app not the internal beam ones)\r\n  // -Dlog4j.configurationFile=src/main/resources/log4j2.properties\r\n  // -Djava.util.logging.config.file=src/main/resources/log4j2.properties\r\n  //  --beam.log4j2ConfigurationFile=src/main/resources/log4j2.properties\r\n  val log = Logger.getLogger(this.getClass.getName)\r\n\r\n// NOTE 2: it did not work out either\r\n// --sdkHarnessLogLevelOverrides={\\&quot;org.apache.kafka.clients.consumer.internals\\&quot;:\\&quot;ERROR\\&quot;}\r\n\r\n// NOTE 3: I have not been able to filter out using slf4j\r\n//  val log: Logger = LoggerFactory getLogger getClass.getName\r\n\r\n  def main(cmdlineArgs: Array[String]): Unit = {\r\n    import org.apache.logging.log4j.core.config.Configurator\r\n    Configurator.initialize(null, &quot;log4j2.xml&quot;)\r\n    log.info(&quot;Init SCIO Context...&quot;)\r\n```\r\n\r\nbeing log4j2.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot; level=&quot;ERROR&quot;/&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nand build.sbt (I am using SCIO) and I had multiple slfj4 bindings\r\n```\r\nlibraryDependencies ++= Seq(\r\n      &quot;com.spotify&quot; %% &quot;scio-extra&quot; % scioVersion,\r\n      &quot;com.spotify&quot; %% &quot;scio-avro&quot; % scioVersion,\r\n      &quot;com.spotify&quot; %% &quot;scio-core&quot; % scioVersion,\r\n      &quot;com.spotify&quot; %% &quot;scio-test&quot; % scioVersion % Test,\r\n      &quot;com.spotify&quot; %% &quot;scio-google-cloud-platform&quot; % scioVersion,\r\n      &quot;org.apache.beam&quot; % &quot;beam-runners-direct-java&quot; % beamVersion,\r\n      &quot;org.apache.beam&quot; % &quot;beam-runners-google-cloud-dataflow-java&quot; % beamVersion,\r\n//      &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\r\n//      &quot;org.slf4j&quot; % &quot;slf4j-api&quot; % &quot;1.7.36&quot;,\r\n      &quot;com.google.cloud&quot; % &quot;google-cloud-bigquery&quot; % &quot;2.13.2&quot;,\r\n      &quot;com.google.cloud&quot; % &quot;google-cloud-storage&quot; % &quot;1.17.0&quot;,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.16.34&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalatest&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-specs2&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-cats&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalaz&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;jp.ne.opt&quot; %% &quot;bigquery-fake-client&quot; % &quot;0.1.0&quot; % Test,\r\n      (&quot;com.my.jar&quot; % myJar&quot; % jarVersion)\r\n        .exclude(&quot;com.twitter&quot;, &quot;chill_2.11&quot;)\r\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-xml_2.11&quot;)\r\n        .exclude(&quot;com.fasterxml.jackson.module&quot;, &quot;jackson-module-scala_2.11&quot;)\r\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-parser-combinators_2.11&quot;)\r\n        .exclude(&quot;org.slf4j&quot;, &quot;slf4j-log4j12&quot;)\r\n    )\r\n```\r\nwith &quot;-Dlog4j.configurationFile=src/main/resources/log4j2.xml&quot; and these dependencies should suffice too:\r\n\r\n```\r\n&quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\r\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-core&quot; % &quot;2.19.0&quot;,\r\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-api&quot; % &quot;2.19.0&quot;,\r\n &quot;org.apache.logging.log4j&quot; % &quot;log4j-slf4j-impl&quot; % &quot;2.19.0&quot;,\r\n```\r\n\r\nSOLUTION 2:\r\n\r\nwith JVM -Dlog4j.configurationFile=src/main/resources/log4j2.xml\r\n\r\nand \r\n\r\n```\r\nimport org.slf4j.{Logger, LoggerFactory}\r\n\r\nclass MyClass[T] {\r\n  val log: Logger = LoggerFactory getLogger getClass.getName\r\n```\r\n\r\n\r\nafter:\r\n[after_Configurator_initialize][1]\r\n\r\n\r\nbefore:\r\n[before_Configurator_initialize][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yvidz.png\r\n  [2]: https://i.stack.imgur.com/kwVIu.png","title":"Disable Direct Runner Logs in Apache Beam for Kafka Consumer","body":"<p>SOLUTION 1: I made it work with <strong>org.apache.log4j.Logger</strong></p>\n<pre><code>   import org.apache.log4j.Logger\n//import org.slf4j.{Logger, LoggerFactory}\n\nobject KafkaConsumer {\n\n  // NOTE 1: I did not have to set up the below JVM flags in the end\n  // (it was only filtering out the logs from the app not the internal beam ones)\n  // -Dlog4j.configurationFile=src/main/resources/log4j2.properties\n  // -Djava.util.logging.config.file=src/main/resources/log4j2.properties\n  //  --beam.log4j2ConfigurationFile=src/main/resources/log4j2.properties\n  val log = Logger.getLogger(this.getClass.getName)\n\n// NOTE 2: it did not work out either\n// --sdkHarnessLogLevelOverrides={\\&quot;org.apache.kafka.clients.consumer.internals\\&quot;:\\&quot;ERROR\\&quot;}\n\n// NOTE 3: I have not been able to filter out using slf4j\n//  val log: Logger = LoggerFactory getLogger getClass.getName\n\n  def main(cmdlineArgs: Array[String]): Unit = {\n    import org.apache.logging.log4j.core.config.Configurator\n    Configurator.initialize(null, &quot;log4j2.xml&quot;)\n    log.info(&quot;Init SCIO Context...&quot;)\n</code></pre>\n<p>being log4j2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot; level=&quot;ERROR&quot;/&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>and build.sbt (I am using SCIO) and I had multiple slfj4 bindings</p>\n<pre><code>libraryDependencies ++= Seq(\n      &quot;com.spotify&quot; %% &quot;scio-extra&quot; % scioVersion,\n      &quot;com.spotify&quot; %% &quot;scio-avro&quot; % scioVersion,\n      &quot;com.spotify&quot; %% &quot;scio-core&quot; % scioVersion,\n      &quot;com.spotify&quot; %% &quot;scio-test&quot; % scioVersion % Test,\n      &quot;com.spotify&quot; %% &quot;scio-google-cloud-platform&quot; % scioVersion,\n      &quot;org.apache.beam&quot; % &quot;beam-runners-direct-java&quot; % beamVersion,\n      &quot;org.apache.beam&quot; % &quot;beam-runners-google-cloud-dataflow-java&quot; % beamVersion,\n//      &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\n//      &quot;org.slf4j&quot; % &quot;slf4j-api&quot; % &quot;1.7.36&quot;,\n      &quot;com.google.cloud&quot; % &quot;google-cloud-bigquery&quot; % &quot;2.13.2&quot;,\n      &quot;com.google.cloud&quot; % &quot;google-cloud-storage&quot; % &quot;1.17.0&quot;,\n      &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.16.34&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalatest&quot; % &quot;1.16.15&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-specs2&quot; % &quot;1.16.15&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-cats&quot; % &quot;1.16.15&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalaz&quot; % &quot;1.16.15&quot; % Test,\n      &quot;jp.ne.opt&quot; %% &quot;bigquery-fake-client&quot; % &quot;0.1.0&quot; % Test,\n      (&quot;com.my.jar&quot; % myJar&quot; % jarVersion)\n        .exclude(&quot;com.twitter&quot;, &quot;chill_2.11&quot;)\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-xml_2.11&quot;)\n        .exclude(&quot;com.fasterxml.jackson.module&quot;, &quot;jackson-module-scala_2.11&quot;)\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-parser-combinators_2.11&quot;)\n        .exclude(&quot;org.slf4j&quot;, &quot;slf4j-log4j12&quot;)\n    )\n</code></pre>\n<p>with &quot;-Dlog4j.configurationFile=src/main/resources/log4j2.xml&quot; and these dependencies should suffice too:</p>\n<pre><code>&quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-core&quot; % &quot;2.19.0&quot;,\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-api&quot; % &quot;2.19.0&quot;,\n &quot;org.apache.logging.log4j&quot; % &quot;log4j-slf4j-impl&quot; % &quot;2.19.0&quot;,\n</code></pre>\n<p>SOLUTION 2:</p>\n<p>with JVM -Dlog4j.configurationFile=src/main/resources/log4j2.xml</p>\n<p>and</p>\n<pre><code>import org.slf4j.{Logger, LoggerFactory}\n\nclass MyClass[T] {\n  val log: Logger = LoggerFactory getLogger getClass.getName\n</code></pre>\n<p>after:\n<a href=\"https://i.stack.imgur.com/Yvidz.png\" rel=\"nofollow noreferrer\">after_Configurator_initialize</a></p>\n<p>before:\n<a href=\"https://i.stack.imgur.com/kwVIu.png\" rel=\"nofollow noreferrer\">before_Configurator_initialize</a></p>\n"}],"owner":{"account_id":21783085,"reputation":43,"user_id":16084537,"display_name":"Lemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678882876,"creation_date":1674489213,"question_id":75211881,"body_markdown":"Seen a similar question asked, but on dataflow logging and not direct logging.\r\n\r\nBasically, I want to turn off the wave of KafkaIO read (consumer) logs. I have tried setting the logging levels in SDK harness as follows.\r\n```\r\nvar kafkasLogs =\r\n        SdkHarnessOptions.SdkHarnessLogLevelOverrides.from(\r\n            new HashMap&lt;&gt;(\r\n                Map.of(\r\n                    &quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot;,\r\n                    SdkHarnessOptions.LogLevel.ERROR.name())));\r\n    options.setSdkHarnessLogLevelOverrides(kafkasLogs); // extends sdkharnessoptions\r\n```\r\nI have also tried variations of the above but have not been successful in my bid to silence the consumer logs. \r\n\r\nWhat is the way I can shut these logs off without messing with the additional logging of my pipeline?","title":"Disable Direct Runner Logs in Apache Beam for Kafka Consumer","body":"<p>Seen a similar question asked, but on dataflow logging and not direct logging.</p>\n<p>Basically, I want to turn off the wave of KafkaIO read (consumer) logs. I have tried setting the logging levels in SDK harness as follows.</p>\n<pre><code>var kafkasLogs =\n        SdkHarnessOptions.SdkHarnessLogLevelOverrides.from(\n            new HashMap&lt;&gt;(\n                Map.of(\n                    &quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot;,\n                    SdkHarnessOptions.LogLevel.ERROR.name())));\n    options.setSdkHarnessLogLevelOverrides(kafkasLogs); // extends sdkharnessoptions\n</code></pre>\n<p>I have also tried variations of the above but have not been successful in my bid to silence the consumer logs.</p>\n<p>What is the way I can shut these logs off without messing with the additional logging of my pipeline?</p>\n"},{"tags":["java","java-8"],"answers":[{"comments":[{"owner":{"account_id":3845622,"reputation":470,"user_id":3187267,"display_name":"kentsurrey"},"score":0,"creation_date":1420038062,"post_id":27722113,"comment_id":43857276,"body_markdown":"Thanks for the response. I cut down the code for the purposes of the example. The convertedList will have absent values added to it after this in my use case and the originalList does not contain nulls.","body":"Thanks for the response. I cut down the code for the purposes of the example. The convertedList will have absent values added to it after this in my use case and the originalList does not contain nulls."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1420052732,"post_id":27722113,"comment_id":43862660,"body_markdown":"While I would recommend the method ref form over the lambda form, don&#39;t fool yourself that you are &quot;avoiding creation of a lambda&quot; by using the method reference form.  Method refs are converted to functional interfaces via the same machinery as lambdas.  But, these decisions should be made on the basis of code readability/maintainability 99.999% of the time, so you should just go with what is more readable -- which is generally the method ref.","body":"While I would recommend the method ref form over the lambda form, don&#39;t fool yourself that you are &quot;avoiding creation of a lambda&quot; by using the method reference form.  Method refs are converted to functional interfaces via the same machinery as lambdas.  But, these decisions should be made on the basis of code readability/maintainability 99.999% of the time, so you should just go with what is more readable -- which is generally the method ref."}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1420037306,"creation_date":1420034123,"answer_id":27722113,"question_id":27722094,"body_markdown":"You forgot to collect the elements of the `Stream` in a list. It should be:\r\n\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList  = originalList.stream()\r\n                                                        .map((o) -&gt; Optional.of(o))\r\n                                                        .collect(Collectors.toList()); \r\n                                                   //or .collect(Collectors.toCollection(LinkedList::new)); if you want a specific List implementation\r\n\r\nNote that you could avoid the creation of a lamdba and use a method reference in this case with `.map(Optional::of)`. \r\n\r\nI don&#39;t see why you would get a `List` of `Optional` if you know in advance that the elements in the list are non-null. Maybe it was just to get in practice with Java 8, but as @Eran said you should use `Optional::ofNullable` instead.\r\n\r\n","title":"Converting a list of objects to a list of optional objects in Java","body":"<p>You forgot to collect the elements of the <code>Stream</code> in a list. It should be:</p>\n\n<pre><code>List&lt;Optional&lt;Object&gt;&gt; convertedList  = originalList.stream()\n                                                    .map((o) -&gt; Optional.of(o))\n                                                    .collect(Collectors.toList()); \n                                               //or .collect(Collectors.toCollection(LinkedList::new)); if you want a specific List implementation\n</code></pre>\n\n<p>Note that you could avoid the creation of a lamdba and use a method reference in this case with <code>.map(Optional::of)</code>. </p>\n\n<p>I don't see why you would get a <code>List</code> of <code>Optional</code> if you know in advance that the elements in the list are non-null. Maybe it was just to get in practice with Java 8, but as @Eran said you should use <code>Optional::ofNullable</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":3845622,"reputation":470,"user_id":3187267,"display_name":"kentsurrey"},"score":0,"creation_date":1420038231,"post_id":27722127,"comment_id":43857331,"body_markdown":"Thanks for the answer. That&#39;s a good point about the ofNullable method, however in this case I know my list doesn&#39;t contain nulls - its only after this piece of code that I will add absent values to the new list.","body":"Thanks for the answer. That&#39;s a good point about the ofNullable method, however in this case I know my list doesn&#39;t contain nulls - its only after this piece of code that I will add absent values to the new list."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1420034205,"creation_date":1420034205,"answer_id":27722127,"question_id":27722094,"body_markdown":"It looks like you forgot to collect the Stream to a list :\r\n\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList = \r\n        originalList.stream()\r\n                    .map((o) -&gt; Optional.ofNullable(o))\r\n                    .collect(Collectors.toList());\r\n\r\nYou should use `ofNullable` though, since `of` required a non null object (it will throw a `NullPointerException` when passed a null reference).","title":"Converting a list of objects to a list of optional objects in Java","body":"<p>It looks like you forgot to collect the Stream to a list :</p>\n\n<pre><code>List&lt;Optional&lt;Object&gt;&gt; convertedList = \n    originalList.stream()\n                .map((o) -&gt; Optional.ofNullable(o))\n                .collect(Collectors.toList());\n</code></pre>\n\n<p>You should use <code>ofNullable</code> though, since <code>of</code> required a non null object (it will throw a <code>NullPointerException</code> when passed a null reference).</p>\n"}],"owner":{"account_id":3845622,"reputation":470,"user_id":3187267,"display_name":"kentsurrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17737,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":27722113,"answer_count":2,"score":11,"last_activity_date":1678882775,"creation_date":1420034007,"question_id":27722094,"body_markdown":"The following code converts a list of objects into a list of optional objects. Is there an elegant way to do this using Java 8&#39;s streams?\r\n\r\n    List&lt;Object&gt; originalList = Arrays.asList(new Object(), new Object());\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList = new ArrayList&lt;&gt;();\r\n    for (Object object : originalList) {\r\n        convertedList.add(Optional.of(object));\r\n    }\r\n\r\nI tried the following piece of code.\r\n\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList = originalList.stream().map((o) -&gt; Optional.of(o));\r\n\r\nHowever this gives the following compile error:\r\n\r\n    of(T) in Optional cannot be applied to (java.lang.Object)\r\n\r\nThis is using the java.util.Optional class rather than the Guava one.","title":"Converting a list of objects to a list of optional objects in Java","body":"<p>The following code converts a list of objects into a list of optional objects. Is there an elegant way to do this using Java 8's streams?</p>\n\n<pre><code>List&lt;Object&gt; originalList = Arrays.asList(new Object(), new Object());\nList&lt;Optional&lt;Object&gt;&gt; convertedList = new ArrayList&lt;&gt;();\nfor (Object object : originalList) {\n    convertedList.add(Optional.of(object));\n}\n</code></pre>\n\n<p>I tried the following piece of code.</p>\n\n<pre><code>List&lt;Optional&lt;Object&gt;&gt; convertedList = originalList.stream().map((o) -&gt; Optional.of(o));\n</code></pre>\n\n<p>However this gives the following compile error:</p>\n\n<pre><code>of(T) in Optional cannot be applied to (java.lang.Object)\n</code></pre>\n\n<p>This is using the java.util.Optional class rather than the Guava one.</p>\n"},{"tags":["java","string","collections"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1345139190,"post_id":11992694,"comment_id":15992732,"body_markdown":"*&quot;I believe the last 2 checks for keys.contains(null) and keys.contains(&quot;&quot;) are incorrect and will likely thrown runtime exceptions.&quot;*: Why? What exception do you expect?","body":"<i>&quot;I believe the last 2 checks for keys.contains(null) and keys.contains(&quot;&quot;) are incorrect and will likely thrown runtime exceptions.&quot;</i>: Why? What exception do you expect?"},{"owner":{"account_id":1290912,"reputation":1167,"user_id":1243038,"display_name":"Kevin Mangold"},"score":0,"creation_date":1345139234,"post_id":11992694,"comment_id":15992744,"body_markdown":"keys.contains(null) will be fine however keys.contains(&quot;&quot;) will only work in certain situations but shouldn&#39;t throw an exception.","body":"keys.contains(null) will be fine however keys.contains(&quot;&quot;) will only work in certain situations but shouldn&#39;t throw an exception."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1345139613,"post_id":11992694,"comment_id":15992879,"body_markdown":"Man, you have too many nulls flying around your app...","body":"Man, you have too many nulls flying around your app..."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":4,"creation_date":1345142346,"post_id":11992694,"comment_id":15994014,"body_markdown":"Doc says that NPE could be thrown. Anyway some implementations of `List` use `Collection#contains` make me sure to believe the docs.","body":"Doc says that NPE could be thrown. Anyway some implementations of <code>List</code> use <code>Collection#contains</code> make me sure to believe the docs."}],"answers":[{"comments":[{"owner":{"account_id":134653,"reputation":873,"user_id":336925,"accept_rate":100,"display_name":"James Marble"},"score":21,"creation_date":1589413217,"post_id":11992730,"comment_id":109288438,"body_markdown":"The problem with this solution is that `List.contains` is allowed to throw `NullPointerException` if the list is not allowed to contain `null`. For example: `List.of(&quot;foo&quot;, &quot;bar&quot;).contains(null)` will throw!","body":"The problem with this solution is that <code>List.contains</code> is allowed to throw <code>NullPointerException</code> if the list is not allowed to contain <code>null</code>. For example: <code>List.of(&quot;foo&quot;, &quot;bar&quot;).contains(null)</code> will throw!"},{"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"score":1,"creation_date":1661943912,"post_id":11992730,"comment_id":129890795,"body_markdown":"see my comment about org.springframework.util.CollectionUtils to resolve NullPointerException problem","body":"see my comment about org.springframework.util.CollectionUtils to resolve NullPointerException problem"}],"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":2,"down_vote_count":6,"up_vote_count":47,"is_accepted":true,"score":41,"last_activity_date":1345139217,"creation_date":1345139217,"answer_id":11992730,"question_id":11992694,"body_markdown":"     keys.contains(null) || keys.contains(&quot;&quot;)\r\n\r\nDoesn&#39;t throw any runtime exceptions and results `true` if your list has either null (or) empty String.","title":"How to determine if a list of string contains null or empty elements","body":"<pre><code> keys.contains(null) || keys.contains(\"\")\n</code></pre>\n\n<p>Doesn't throw any runtime exceptions and results <code>true</code> if your list has either null (or) empty String.</p>\n"},{"tags":[],"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1345139281,"creation_date":1345139281,"answer_id":11992737,"question_id":11992694,"body_markdown":"This looks fine to me, the only exceptions you would get from `keys.contains(null)` and `keys.contains(&quot;&quot;)` would be if `keys` itself was `null`.\r\n\r\nHowever since you check for that first you know that at this point `keys` is not `null`, so no runtime exceptions will occur.\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>This looks fine to me, the only exceptions you would get from <code>keys.contains(null)</code> and <code>keys.contains(\"\")</code> would be if <code>keys</code> itself was <code>null</code>.</p>\n\n<p>However since you check for that first you know that at this point <code>keys</code> is not <code>null</code>, so no runtime exceptions will occur.</p>\n"},{"tags":[],"owner":{"account_id":556659,"reputation":9922,"user_id":892535,"accept_rate":85,"display_name":"sheidaei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345140063,"creation_date":1345140063,"answer_id":11992892,"question_id":11992694,"body_markdown":"I am not sure but isn&#39;t there any helper class in ApacheCommon library to do that? like when you have the isEmpty for a string and you have isNullOrEmpty in ApacheCommons library ","title":"How to determine if a list of string contains null or empty elements","body":"<p>I am not sure but isn't there any helper class in ApacheCommon library to do that? like when you have the isEmpty for a string and you have isNullOrEmpty in ApacheCommons library </p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398285606,"creation_date":1345140626,"answer_id":11993031,"question_id":11992694,"body_markdown":"Check the list in one pass \r\n\r\n      public static boolean empty(String s) {\r\n        if (s == null)\r\n          return true;\r\n        else if (s.length() == 0)\r\n          return true;\r\n        return false;\r\n      }  \r\n    \r\n      public String normalize(List&lt;String&gt; keys) {\r\n        if(keys == null || keys.size() == 0)\r\n            throw new IllegalArgumentException(&quot;Bad!&quot;);\r\n        for (String key: keys)\r\n          if(empty(key))\r\n             throw new IllegalArgumentException(&quot;Empty!&quot;);\r\n    \r\n        // Rest of method...\r\n        return null;\r\n      }\r\n\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>Check the list in one pass </p>\n\n<pre><code>  public static boolean empty(String s) {\n    if (s == null)\n      return true;\n    else if (s.length() == 0)\n      return true;\n    return false;\n  }  \n\n  public String normalize(List&lt;String&gt; keys) {\n    if(keys == null || keys.size() == 0)\n        throw new IllegalArgumentException(\"Bad!\");\n    for (String key: keys)\n      if(empty(key))\n         throw new IllegalArgumentException(\"Empty!\");\n\n    // Rest of method...\n    return null;\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1678871775,"post_id":45916582,"comment_id":133615492,"body_markdown":"This only works for one string not the whole list","body":"This only works for one string not the whole list"}],"tags":[],"owner":{"account_id":1132853,"reputation":2896,"user_id":1118527,"accept_rate":83,"display_name":"Lama"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1503914995,"creation_date":1503914995,"answer_id":45916582,"question_id":11992694,"body_markdown":"You could also use Apache StringUtils and check if the string isBlank, this will check for null, Emptystring and will also trim your value.\r\n\r\n    if(StringUtils.isBlank(listItemString)){...}\r\n\r\nCheckout StringUtils Docs here:\r\n\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","title":"How to determine if a list of string contains null or empty elements","body":"<p>You could also use Apache StringUtils and check if the string isBlank, this will check for null, Emptystring and will also trim your value.</p>\n\n<pre><code>if(StringUtils.isBlank(listItemString)){...}\n</code></pre>\n\n<p>Checkout StringUtils Docs here:</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html</a></p>\n"},{"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":3,"creation_date":1554517842,"post_id":54135282,"comment_id":97793389,"body_markdown":"`if( keys.stream().anyMatch(String::isBlank) ) { ...`. `String::isBlank` is since Java11.","body":"<code>if( keys.stream().anyMatch(String::isBlank) ) { ...</code>. <code>String::isBlank</code> is since Java11."}],"tags":[],"owner":{"account_id":5482003,"reputation":696,"user_id":4358134,"accept_rate":88,"display_name":"call-me"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1547146782,"creation_date":1547146782,"answer_id":54135282,"question_id":11992694,"body_markdown":"With java 8 you can do:\r\n\r\n\tpublic String normalizeList(List&lt;String&gt; keys) {\r\n\t    boolean bad = keys.stream().anyMatch(s -&gt; (s == null || s.equals(&quot;&quot;)));\r\n\t    if(bad) {\r\n\t    \t//... do whatever you want to do\r\n\t    }\r\n\t}","title":"How to determine if a list of string contains null or empty elements","body":"<p>With java 8 you can do:</p>\n\n<pre><code>public String normalizeList(List&lt;String&gt; keys) {\n    boolean bad = keys.stream().anyMatch(s -&gt; (s == null || s.equals(\"\")));\n    if(bad) {\n        //... do whatever you want to do\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4503853,"reputation":536,"user_id":3661748,"display_name":"cody.tv.weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658858331,"creation_date":1658858331,"answer_id":73127830,"question_id":11992694,"body_markdown":"Aniket gave a really good answer for this as a comment:\r\n\r\n    if( keys.stream().anyMatch(String::isBlank) ) { .... String::isBlank is since Java11.  \r\n    Aniket Sahrawat\r\n    Apr 6, 2019 at 2:30\r\n\r\nSo to tweak your original solution using Aniket&#39;s comment:\r\n\r\n    public String normalize(List&lt;String&gt; keys) {\r\n        if(keys == null || keys.size() == 0  || keys.stream().anyMatch(String::isBlank)){\r\n            throw new IllegalArgumentException(&quot;Bad!&quot;);\r\n        }\r\n    \r\n        // Rest of method...\r\n    }\r\n\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>Aniket gave a really good answer for this as a comment:</p>\n<pre><code>if( keys.stream().anyMatch(String::isBlank) ) { .... String::isBlank is since Java11.  \nAniket Sahrawat\nApr 6, 2019 at 2:30\n</code></pre>\n<p>So to tweak your original solution using Aniket's comment:</p>\n<pre><code>public String normalize(List&lt;String&gt; keys) {\n    if(keys == null || keys.size() == 0  || keys.stream().anyMatch(String::isBlank)){\n        throw new IllegalArgumentException(&quot;Bad!&quot;);\n    }\n\n    // Rest of method...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661938203,"creation_date":1661938203,"answer_id":73553756,"question_id":11992694,"body_markdown":"if you can use [org.springframework.util.CollectionUtils][1]\r\nyou can apply this\r\n\r\n    if(CollectionUtils.isEmpty(coll) || CollectionUtils.containsInstance(coll, null)) {\r\n            // throw ...;\r\n    }\r\n\r\nIt does not throw NullPointerException for immutable collection as List.of().\r\n\r\n  [1]: https://docs.spring.io/spring-android/docs/current/api/org/springframework/util/CollectionUtils.html","title":"How to determine if a list of string contains null or empty elements","body":"<p>if you can use <a href=\"https://docs.spring.io/spring-android/docs/current/api/org/springframework/util/CollectionUtils.html\" rel=\"nofollow noreferrer\">org.springframework.util.CollectionUtils</a>\nyou can apply this</p>\n<pre><code>if(CollectionUtils.isEmpty(coll) || CollectionUtils.containsInstance(coll, null)) {\n        // throw ...;\n}\n</code></pre>\n<p>It does not throw NullPointerException for immutable collection as List.of().</p>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882761,"creation_date":1678871969,"answer_id":75742691,"question_id":11992694,"body_markdown":"    boolean badListInRequest = CollectionUtils.isEmpty(request.getIdList()) ||\r\n                    request.getIdList().stream().anyMatch(s -&gt; (StringUtils.isBlank(s)));\r\n\r\n    if(badListInRequest){\r\n        throw new Exception...\r\n    }","title":"How to determine if a list of string contains null or empty elements","body":"<pre><code>boolean badListInRequest = CollectionUtils.isEmpty(request.getIdList()) ||\n                request.getIdList().stream().anyMatch(s -&gt; (StringUtils.isBlank(s)));\n\nif(badListInRequest){\n    throw new Exception...\n}\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114094,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":11992730,"answer_count":9,"score":28,"last_activity_date":1678882761,"creation_date":1345139096,"question_id":11992694,"body_markdown":"In Java, I have the following method:\r\n\r\n    public String normalizeList(List&lt;String&gt; keys) {\r\n        // ...\r\n    }\r\n\r\nI want to check that `keys`:\r\n\r\n* Is not `null` itself; and\r\n* Is not empty (`size() == 0`); and\r\n* Does not have any `String` elements that are `null`; and\r\n* Does not have any `String` elements that are empty (&quot;&quot;)\r\n\r\nThis is a utility method that will go in a &quot;commons&quot;-style JAR (the class wil be something like `DataUtils`). Here is what I have, but I believe its incorrect:\r\n\r\n    public String normalize(List&lt;String&gt; keys) {\r\n        if(keys == null || keys.size() == 0 || keys.contains(null) || keys.contains(&quot;&quot;))\r\n            throw new IllegalArgumentException(&quot;Bad!&quot;);\r\n\r\n        // Rest of method...\r\n    }\r\n\r\nI believe the last 2 checks for `keys.contains(null)` and `keys.contains(&quot;&quot;)` are incorrect and will likely thrown runtime exceptions. **I know I can just loop through the list inside the `if` statement, and check for nulls/empties there, but I&#39;m looking for a more elegant solution if it exists.**\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>In Java, I have the following method:</p>\n\n<pre><code>public String normalizeList(List&lt;String&gt; keys) {\n    // ...\n}\n</code></pre>\n\n<p>I want to check that <code>keys</code>:</p>\n\n<ul>\n<li>Is not <code>null</code> itself; and</li>\n<li>Is not empty (<code>size() == 0</code>); and</li>\n<li>Does not have any <code>String</code> elements that are <code>null</code>; and</li>\n<li>Does not have any <code>String</code> elements that are empty (\"\")</li>\n</ul>\n\n<p>This is a utility method that will go in a \"commons\"-style JAR (the class wil be something like <code>DataUtils</code>). Here is what I have, but I believe its incorrect:</p>\n\n<pre><code>public String normalize(List&lt;String&gt; keys) {\n    if(keys == null || keys.size() == 0 || keys.contains(null) || keys.contains(\"\"))\n        throw new IllegalArgumentException(\"Bad!\");\n\n    // Rest of method...\n}\n</code></pre>\n\n<p>I believe the last 2 checks for <code>keys.contains(null)</code> and <code>keys.contains(\"\")</code> are incorrect and will likely thrown runtime exceptions. <strong>I know I can just loop through the list inside the <code>if</code> statement, and check for nulls/empties there, but I'm looking for a more elegant solution if it exists.</strong></p>\n"},{"tags":["java","spring-boot","performance","spring-integration","spring-integration-http"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1670590736,"post_id":74741273,"comment_id":131914966,"body_markdown":"I&#39;d suggest to start disabling some of your services to spot a bottleneck. For example I think your &quot;auditing we have another application which we call via Rest api&quot; is guilty. Just turn this option off and you should see a difference. Does it really required to be called within the current request thread? Cannot you put your auditing into some `QueueChannel` to let it to be processed on background in the other thread?","body":"I&#39;d suggest to start disabling some of your services to spot a bottleneck. For example I think your &quot;auditing we have another application which we call via Rest api&quot; is guilty. Just turn this option off and you should see a difference. Does it really required to be called within the current request thread? Cannot you put your auditing into some <code>QueueChannel</code> to let it to be processed on background in the other thread?"},{"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"score":0,"creation_date":1671463163,"post_id":74741273,"comment_id":132098685,"body_markdown":"@ArtemBilan I checked Datadog but i don&#39;t see that auditservice is taking more time.","body":"@ArtemBilan I checked Datadog but i don&#39;t see that auditservice is taking more time."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671463585,"post_id":74741273,"comment_id":132098851,"body_markdown":"As you wish. I&#39;m not familiar with any profiling tools. That&#39;s why I suggest to disable services or one by one or all together and turn on one by one to spot the culprit. The audit service might not take too much time by itself, but requests might wait for free thread in the pool. And that might block your application process.","body":"As you wish. I&#39;m not familiar with any profiling tools. That&#39;s why I suggest to disable services or one by one or all together and turn on one by one to spot the culprit. The audit service might not take too much time by itself, but requests might wait for free thread in the pool. And that might block your application process."}],"answers":[{"tags":[],"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882518,"creation_date":1678727222,"answer_id":75724887,"question_id":74741273,"body_markdown":"I found the root cause of this problem.\r\nThe problem was in the spring core library. We were using the version : 4.3.5 In our code we were using  @Header annotation which was triggering the Spring **GenericConversionService** where there is a converterCache getting created and there was always a cache miss happening because the equals method of TypeDescriptor class had faulty logic for Annotations. Because of this when we were performing the load test, with the increase in the request the performance was degrading rapidly due to increase in Map size and cache miss everytime. \r\n\r\n github url for this issue : https://github.com/spring-projects/spring-framework/issues/19626\r\n\r\ncommit url for fix https://github.com/spring-projects/spring-framework/commit/e38c020535dc5d6b326d5e22f8a59dc35ba7361a: \r\n \r\n\r\n - **Fix 1** : Update Spring version to 4.3.6 or above.\r\n\r\n\r\n - **Fix 2** : I removed reference of @Header annotation as they were few and i could get the header value using the Message object of Spring integration(We also upgraded to the latest version of Spring and SpringBoot later after issue identification).","title":"Spring integration request slowness on increase in load into application","body":"<p>I found the root cause of this problem.\nThe problem was in the spring core library. We were using the version : 4.3.5 In our code we were using  @Header annotation which was triggering the Spring <strong>GenericConversionService</strong> where there is a converterCache getting created and there was always a cache miss happening because the equals method of TypeDescriptor class had faulty logic for Annotations. Because of this when we were performing the load test, with the increase in the request the performance was degrading rapidly due to increase in Map size and cache miss everytime.</p>\n<p>github url for this issue : <a href=\"https://github.com/spring-projects/spring-framework/issues/19626\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/19626</a></p>\n<p>commit url for fix <a href=\"https://github.com/spring-projects/spring-framework/commit/e38c020535dc5d6b326d5e22f8a59dc35ba7361a\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/commit/e38c020535dc5d6b326d5e22f8a59dc35ba7361a</a>:</p>\n<ul>\n<li><p><strong>Fix 1</strong> : Update Spring version to 4.3.6 or above.</p>\n</li>\n<li><p><strong>Fix 2</strong> : I removed reference of @Header annotation as they were few and i could get the header value using the Message object of Spring integration(We also upgraded to the latest version of Spring and SpringBoot later after issue identification).</p>\n</li>\n</ul>\n"}],"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678882518,"creation_date":1670578763,"question_id":74741273,"body_markdown":"We have a web application with java8+Springboot+Spring Integration. We are using the DirectChannels for message transfers within our application. There are two inboundadapter to this application a-SOAP web service b- MQ, Also we have outbound adapter calls to two applications : \r\n\r\n 1. For auditing we have another application which we call via Rest api.\r\n 2. The request recieved by our application is sent to x application these are rest calls.\r\n\r\nFor x application we are doing httpConnection pooling and we have defaultMaxPerRoute value as 100 and maxTotal value as 200.\r\n\r\n**Problem :**\r\n\r\n \r\nwe are doing a load test of our application using 60 users for around 30 mins. intially the application is processing the message really quickly. The request is within application for max 1sec before it makes the call to x application above. \r\n\r\nHowever what we are observing is that after some point the app becomes really slow even simple method execution for a particular request is taking around 2 seconds and the request remains in the application for around 10-15 seconds which is hampering the performance of the application. This is observed for all requests not specific to any type or api.\r\n\r\nWe are not able to understand what is causing this slowness. We have added multiple loggers into our application but still not getting any clue. We even checked applciation logs there is no Out of memory error or there is no CPU getting fully utilized. \r\n\r\nIt will be great if anyone can share some input on what could be wrong or what else should we check. \r\n\r\nBelow is the logs statement for one of the request which is taking time. \r\nI have added loggers at the start and end of each channel. It is evident that even when passing the request from one channel to another it is taking around 2 seconds. Also a simple transformer is taking 2 seconds. So I am not able to identify the root cause for this.\r\n\r\n\r\n \r\n\r\n    channel 1\r\n    2022-11-22 09:24:51 Transformer [INFO] converted the Source object to String xml for message \r\n    2022-11-22 09:24:54 AuditService [DEBUG] Completed first channel for : \r\n    \r\n    \r\n    channel 2\r\n    2022-11-22 09:24:56 AuditService[DEBUG] Creating entry audit for operation\r\n    2022-11-22 09:24:59 AuditService [DEBUG] log just before pre rest channel call\r\n    \r\n    channel 3 \r\n    2022-11-22 09:25:02 AuditService [DEBUG] starting rest pre channel \r\n    \r\n    2022-11-22 09:25:05 RequestTransformer [DEBUG] About to process request \r\n    \r\n    2022-11-22 09:25:05 RequestTransformer [DEBUG] The json after conversion \r\n    \r\n    \r\n    \r\n    channel 4\r\n    2022-11-22 09:25:07 AuditService [DEBUG] Completed request sent audit for operation\r\n    2022-11-22 09:25:08 AuditService[DEBUG] Completed request sent audit for operation\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"Spring integration request slowness on increase in load into application","body":"<p>We have a web application with java8+Springboot+Spring Integration. We are using the DirectChannels for message transfers within our application. There are two inboundadapter to this application a-SOAP web service b- MQ, Also we have outbound adapter calls to two applications :</p>\n<ol>\n<li>For auditing we have another application which we call via Rest api.</li>\n<li>The request recieved by our application is sent to x application these are rest calls.</li>\n</ol>\n<p>For x application we are doing httpConnection pooling and we have defaultMaxPerRoute value as 100 and maxTotal value as 200.</p>\n<p><strong>Problem :</strong></p>\n<p>we are doing a load test of our application using 60 users for around 30 mins. intially the application is processing the message really quickly. The request is within application for max 1sec before it makes the call to x application above.</p>\n<p>However what we are observing is that after some point the app becomes really slow even simple method execution for a particular request is taking around 2 seconds and the request remains in the application for around 10-15 seconds which is hampering the performance of the application. This is observed for all requests not specific to any type or api.</p>\n<p>We are not able to understand what is causing this slowness. We have added multiple loggers into our application but still not getting any clue. We even checked applciation logs there is no Out of memory error or there is no CPU getting fully utilized.</p>\n<p>It will be great if anyone can share some input on what could be wrong or what else should we check.</p>\n<p>Below is the logs statement for one of the request which is taking time.\nI have added loggers at the start and end of each channel. It is evident that even when passing the request from one channel to another it is taking around 2 seconds. Also a simple transformer is taking 2 seconds. So I am not able to identify the root cause for this.</p>\n<pre><code>channel 1\n2022-11-22 09:24:51 Transformer [INFO] converted the Source object to String xml for message \n2022-11-22 09:24:54 AuditService [DEBUG] Completed first channel for : \n\n\nchannel 2\n2022-11-22 09:24:56 AuditService[DEBUG] Creating entry audit for operation\n2022-11-22 09:24:59 AuditService [DEBUG] log just before pre rest channel call\n\nchannel 3 \n2022-11-22 09:25:02 AuditService [DEBUG] starting rest pre channel \n\n2022-11-22 09:25:05 RequestTransformer [DEBUG] About to process request \n\n2022-11-22 09:25:05 RequestTransformer [DEBUG] The json after conversion \n\n\n\nchannel 4\n2022-11-22 09:25:07 AuditService [DEBUG] Completed request sent audit for operation\n2022-11-22 09:25:08 AuditService[DEBUG] Completed request sent audit for operation\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678480658,"post_id":75699957,"comment_id":133547389,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"score":0,"creation_date":1678481421,"post_id":75699957,"comment_id":133547582,"body_markdown":"the code above is ok, but i want to, when i click on txt7, can read .txt and show that .txt in secondactivity","body":"the code above is ok, but i want to, when i click on txt7, can read .txt and show that .txt in secondactivity"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1678564794,"post_id":75699957,"comment_id":133559714,"body_markdown":"If you&#39;re saying you want to click a thing in ActivityA and then open ActivityB and display the text, you&#39;ll need to pass some data to ActivityB through the `Intent` you use to open it. E.g. pass the filename (`&quot;mytextfile.txt&quot;`) and then use the same code up there to open the file and get the text for display: https://developer.android.com/guide/components/activities/parcelables-and-bundles#sdba","body":"If you&#39;re saying you want to click a thing in ActivityA and then open ActivityB and display the text, you&#39;ll need to pass some data to ActivityB through the <code>Intent</code> you use to open it. E.g. pass the filename (<code>&quot;mytextfile.txt&quot;</code>) and then use the same code up there to open the file and get the text for display: <a href=\"https://developer.android.com/guide/components/activities/parcelables-and-bundles#sdba\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>"},{"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"score":0,"creation_date":1678654539,"post_id":75699957,"comment_id":133571193,"body_markdown":"Yes, but how i do that, im new to coding","body":"Yes, but how i do that, im new to coding"},{"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"score":0,"creation_date":1678739581,"post_id":75699957,"comment_id":133589143,"body_markdown":"@cactustictacs And one more thing, in ActivityA, i have many Textview, so if i click on any one, he can shiw specific &quot;textfile.txt&quot;","body":"@cactustictacs And one more thing, in ActivityA, i have many Textview, so if i click on any one, he can shiw specific &quot;textfile.txt&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678882366,"creation_date":1678882366,"answer_id":75744528,"question_id":75699957,"body_markdown":"\r\nTo show the contents of your text file in a textview in another activity you have to pass it through Intent.\r\nHere is your code after clicking on the txt7:\r\n\r\n    txt7.setOnClickListener(View.OnClickListener {\r\n        try {\r\n            val inputStream = assets.open(&quot;mytextfile.txt&quot;)\r\n            val size: Int = inputStream.available()\r\n            val buffer = ByteArray(size)\r\n            inputStream.read(buffer).toString()\r\n            string = String(buffer)\r\n            val intent = Intent(this, SecondActivity::class.java)\r\n            intent.putExtra(&quot;textfile&quot;, string)\r\n            startActivity(intent)\r\n    \r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n    })\r\n\r\nAnd in the SecondActivity:\r\n\r\n    val textfile = intent.getStringExtra(&quot;textfile&quot;)\r\n    \r\n    val textView = findViewById&lt;TextView&gt;(R.id.textView)\r\n    textView.text = textfile\r\n\r\n","title":"how to Read .txt file on new activity when i click textview","body":"<p>To show the contents of your text file in a textview in another activity you have to pass it through Intent.\nHere is your code after clicking on the txt7:</p>\n<pre><code>txt7.setOnClickListener(View.OnClickListener {\n    try {\n        val inputStream = assets.open(&quot;mytextfile.txt&quot;)\n        val size: Int = inputStream.available()\n        val buffer = ByteArray(size)\n        inputStream.read(buffer).toString()\n        string = String(buffer)\n        val intent = Intent(this, SecondActivity::class.java)\n        intent.putExtra(&quot;textfile&quot;, string)\n        startActivity(intent)\n\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n})\n</code></pre>\n<p>And in the SecondActivity:</p>\n<pre><code>val textfile = intent.getStringExtra(&quot;textfile&quot;)\n\nval textView = findViewById&lt;TextView&gt;(R.id.textView)\ntextView.text = textfile\n</code></pre>\n"}],"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75744528,"answer_count":1,"score":0,"last_activity_date":1678882366,"creation_date":1678474200,"question_id":75699957,"body_markdown":"I want to read a .txt file on new activity (for example &quot;secondactivity.tk&quot;). When I click Textview, I succefully read text, but just in the same Activity.\r\n \r\nHere is my code:\r\n\r\n```\r\npackage com.example.coding\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport android.widget.TextView\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport java.io.IOException\r\n\r\nclass Dusterlist : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_dacialist)\r\n        var string = &quot;&quot;\r\n        var myoutput = string\r\n        val txtsh1 = findViewById&lt;TextView&gt;(R.id.txtsh1)\r\n        val txt7 = findViewById&lt;TextView&gt;(R.id.textView7);\r\n        txt7.setOnClickListener(View.OnClickListener {\r\n            try {\r\n                val inputStream = assets.open(&quot;mytextfile.txt&quot;)\r\n                val size: Int = inputStream.available()\r\n                val buffer = ByteArray(size)\r\n                inputStream.read(buffer).toString()\r\n                string = String(buffer)\r\n                var txtdetail = String(buffer)\r\n                txtsh1.text = txtdetail\r\n\r\n            } catch (e: IOException) {\r\n                e.printStackTrace()\r\n                }\r\n\r\n\r\n        } )}\r\n\r\n    }\r\n```\r\n\r\nSo, please, what should I add in the mainactivity and secondactivity?","title":"how to Read .txt file on new activity when i click textview","body":"<p>I want to read a .txt file on new activity (for example &quot;secondactivity.tk&quot;). When I click Textview, I succefully read text, but just in the same Activity.</p>\n<p>Here is my code:</p>\n<pre><code>package com.example.coding\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.TextView\nimport androidx.appcompat.app.AppCompatActivity\nimport java.io.IOException\n\nclass Dusterlist : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_dacialist)\n        var string = &quot;&quot;\n        var myoutput = string\n        val txtsh1 = findViewById&lt;TextView&gt;(R.id.txtsh1)\n        val txt7 = findViewById&lt;TextView&gt;(R.id.textView7);\n        txt7.setOnClickListener(View.OnClickListener {\n            try {\n                val inputStream = assets.open(&quot;mytextfile.txt&quot;)\n                val size: Int = inputStream.available()\n                val buffer = ByteArray(size)\n                inputStream.read(buffer).toString()\n                string = String(buffer)\n                var txtdetail = String(buffer)\n                txtsh1.text = txtdetail\n\n            } catch (e: IOException) {\n                e.printStackTrace()\n                }\n\n\n        } )}\n\n    }\n</code></pre>\n<p>So, please, what should I add in the mainactivity and secondactivity?</p>\n"},{"tags":["java","multithreading","concurrency","java-memory-model","jls"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1669580624,"post_id":74593077,"comment_id":131668571,"body_markdown":"It&#39;s customary to refer to some classes as &quot;thread safe&quot; if all methods use the keyword `synchronized` for example, or if the class is immutable.  There can be some debate over exactly what that means and how it should be implemented, so I think it&#39;s best to add an implementation note what is going on.  To summarize: I think you can say that a class is &quot;correctly synchronized,&quot; but be aware that some folks might debate you.","body":"It&#39;s customary to refer to some classes as &quot;thread safe&quot; if all methods use the keyword <code>synchronized</code> for example, or if the class is immutable.  There can be some debate over exactly what that means and how it should be implemented, so I think it&#39;s best to add an implementation note what is going on.  To summarize: I think you can say that a class is &quot;correctly synchronized,&quot; but be aware that some folks might debate you."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669582068,"post_id":74593077,"comment_id":131668866,"body_markdown":"I use the term _correctly synchronized_ as it&#39;s defined in the JLS (the quote is given in the question).","body":"I use the term <i>correctly synchronized</i> as it&#39;s defined in the JLS (the quote is given in the question)."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669582380,"post_id":74593077,"comment_id":131668933,"body_markdown":"@markspace regarding the term &quot;thread safe&quot; I prefer the definition from Java Concurrency in Practice:\n_&quot;A class is thread-safe if it behaves correctly when accessed from multiple threads, regardless of the scheduling or interleaving of the execution of those threads by the runtime environment, and with no additional synchronization or other coordination on the part of the calling code.&quot;_","body":"@markspace regarding the term &quot;thread safe&quot; I prefer the definition from Java Concurrency in Practice: <i>&quot;A class is thread-safe if it behaves correctly when accessed from multiple threads, regardless of the scheduling or interleaving of the execution of those threads by the runtime environment, and with no additional synchronization or other coordination on the part of the calling code.&quot;</i>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669583652,"post_id":74593077,"comment_id":131669159,"body_markdown":"@JJJ, Re, &quot;correctly synchronized,&quot; I _mostly_ agree with the Brian Goetz definition, but it only works if everybody agrees on what &quot;behaves correctly&quot; means. Sometimes, what is &quot;correct&quot; for a class that can be used in a multi-threaded environment is not always obvious. Sometimes, I like to say that a class is &quot;thread safe&quot; if it doesn&#39;t do anything in a multi-threaded program that would surprise a competent developer _who has read the documentation._","body":"@JJJ, Re, &quot;correctly synchronized,&quot; I <i>mostly</i> agree with the Brian Goetz definition, but it only works if everybody agrees on what &quot;behaves correctly&quot; means. Sometimes, what is &quot;correct&quot; for a class that can be used in a multi-threaded environment is not always obvious. Sometimes, I like to say that a class is &quot;thread safe&quot; if it doesn&#39;t do anything in a multi-threaded program that would surprise a competent developer <i>who has read the documentation.</i>"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669584145,"post_id":74593077,"comment_id":131669237,"body_markdown":"@markspace I suppose I can rephrase the question this way: imagine that I want to create a thread-safe collection. In order to guarantee thread-safety of my collection I can use happens-before, but then I would have to check all possible executions. The JLS provides a way to reduce the number of executions to check for the whole program  - it&#39;s called &quot;correctly synchronized&quot; and it requires checking of only sequential executions. I&#39;m asking if this method can be used on just my collection class, not only on the whole program.","body":"@markspace I suppose I can rephrase the question this way: imagine that I want to create a thread-safe collection. In order to guarantee thread-safety of my collection I can use happens-before, but then I would have to check all possible executions. The JLS provides a way to reduce the number of executions to check for the whole program  - it&#39;s called &quot;correctly synchronized&quot; and it requires checking of only sequential executions. I&#39;m asking if this method can be used on just my collection class, not only on the whole program."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669584715,"post_id":74593077,"comment_id":131669341,"body_markdown":"@SolomonSlow I don&#39;t use &quot;correctly synchronized&quot; as a synonym for &quot;thread safe&quot;. I use &quot;correctly synchronized&quot; as it&#39;s defined in the JLS: the quote with the definition is given in the question. In short &quot;correctly synchronized&quot; == &quot;you only need to check that sequential executions have no data races, and then you are automatically guaranteed that every execution will have no data races, and that every execution will be sequentially consistent&quot;.","body":"@SolomonSlow I don&#39;t use &quot;correctly synchronized&quot; as a synonym for &quot;thread safe&quot;. I use &quot;correctly synchronized&quot; as it&#39;s defined in the JLS: the quote with the definition is given in the question. In short &quot;correctly synchronized&quot; == &quot;you only need to check that sequential executions have no data races, and then you are automatically guaranteed that every execution will have no data races, and that every execution will be sequentially consistent&quot;."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669584955,"post_id":74593077,"comment_id":131669400,"body_markdown":"D&#39;Oh!. I did not mean to say &quot;correctly synchronized.&quot; I meant to say &quot;thread-safe.&quot; At the same time as I was typing that comment, I also was pondering a possible answer\\* to your question, and I guess I mixed them up. Sorry. [\\* I decided against actually answering though.]","body":"D&#39;Oh!. I did not mean to say &quot;correctly synchronized.&quot; I meant to say &quot;thread-safe.&quot; At the same time as I was typing that comment, I also was pondering a possible answer* to your question, and I guess I mixed them up. Sorry. [* I decided against actually answering though.]"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1672735363,"post_id":74593077,"comment_id":132336369,"body_markdown":"@JJJ the quoted text says *sequentially consistent* which does *not* mean sequential executions. Any non-trivial program still has a practically infinite number of possible executions, even when correctly synchronized, so this formal definition was never meant as a check them all tool. Besides that, &#167;17.4.3. says *If a program has no data races, then all executions of the program will appear to be sequentially consistent.* so you would have to assume that there are no data races before you can rely on the sequential consistency to prove the correctness with circular reasoning","body":"@JJJ the quoted text says <i>sequentially consistent</i> which does <i>not</i> mean sequential executions. Any non-trivial program still has a practically infinite number of possible executions, even when correctly synchronized, so this formal definition was never meant as a check them all tool. Besides that, &#167;17.4.3. says <i>If a program has no data races, then all executions of the program will appear to be sequentially consistent.</i> so you would have to assume that there are no data races before you can rely on the sequential consistency to prove the correctness with circular reasoning"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672865287,"post_id":74593077,"comment_id":132371988,"body_markdown":"@Holger I&#39;m not sure I understand what you mean. I could replace &quot;sequential execution&quot; with &quot;sequentially consistent execution&quot; in the question, but IMO the meaning would stay the same: we only need to check that sequential (or SC) executions has no data races in order to guarantee that every possible execution has no data races + in this case every possible execution will appear to be sequential (or SC). (this is what the quote in the question says)","body":"@Holger I&#39;m not sure I understand what you mean. I could replace &quot;sequential execution&quot; with &quot;sequentially consistent execution&quot; in the question, but IMO the meaning would stay the same: we only need to check that sequential (or SC) executions has no data races in order to guarantee that every possible execution has no data races + in this case every possible execution will appear to be sequential (or SC). (this is what the quote in the question says)"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672866764,"post_id":74593077,"comment_id":132372459,"body_markdown":"@Holger _Any non-trivial program still has a practically infinite number of possible executions, even when correctly synchronized, so this formal definition was never meant as a check them all tool_ How do you know what the authors of the JMM meant? IMO since only SC executions need to be checked for the absence of data races, then it&#39;s possible to create a tool that does it automatically.","body":"@Holger <i>Any non-trivial program still has a practically infinite number of possible executions, even when correctly synchronized, so this formal definition was never meant as a check them all tool</i> How do you know what the authors of the JMM meant? IMO since only SC executions need to be checked for the absence of data races, then it&#39;s possible to create a tool that does it automatically."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672867283,"post_id":74593077,"comment_id":132372599,"body_markdown":"@Holger _so you would have to assume that there are no data races before you can rely on the sequential consistency_ No. You can rely on SC after you check that there are no data races in SC executions of your program. The quote I gave in the question (from [&#167;17.4.5 of the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5)) says literally that.","body":"@Holger <i>so you would have to assume that there are no data races before you can rely on the sequential consistency</i> No. You can rely on SC after you check that there are no data races in SC executions of your program. The quote I gave in the question (from <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">&#167;17.4.5 of the JLS</a>) says literally that."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672905510,"post_id":74593077,"comment_id":132379353,"body_markdown":"Do you know about the [Halting problem](https://en.wikipedia.org/wiki/Halting_problem)? It implies that you can not even prove whether the number of possible executions is finite or infinite, not to speak of the idea to check them all for the presence of data races. But anyway, theres a much simpler practical consideration: if it was possible to write such a checking tool, what do you think is the reason that no such tool exist?","body":"Do you know about the <a href=\"https://en.wikipedia.org/wiki/Halting_problem\" rel=\"nofollow noreferrer\">Halting problem</a>? It implies that you can not even prove whether the number of possible executions is finite or infinite, not to speak of the idea to check them all for the presence of data races. But anyway, theres a much simpler practical consideration: if it was possible to write such a checking tool, what do you think is the reason that no such tool exist?"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672931688,"post_id":74593077,"comment_id":132388219,"body_markdown":"@Holger the halting problem means that there could be no algorithm that can efficiently determine if a program halts for EVERY POSSIBLE program, but an effective algorithm for some specific subset of programs is possible. In other words, there can be no tool that can effectively check for data races EVERY POSSIBLE java program, but a tool that works for some subset of java programs is possible. [Java Pathfinder](https://github.com/javapathfinder/jpf-core/wiki/Testing-vs.-Model-Checking) is one example of such tools.","body":"@Holger the halting problem means that there could be no algorithm that can efficiently determine if a program halts for EVERY POSSIBLE program, but an effective algorithm for some specific subset of programs is possible. In other words, there can be no tool that can effectively check for data races EVERY POSSIBLE java program, but a tool that works for some subset of java programs is possible. <a href=\"https://github.com/javapathfinder/jpf-core/wiki/Testing-vs.-Model-Checking\" rel=\"nofollow noreferrer\">Java Pathfinder</a> is one example of such tools."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672932021,"post_id":74593077,"comment_id":132388362,"body_markdown":"@Holger Of course, as the program gets bigger the number of possible executions to check grows exponentially, but fortunately there are some tricks to deal with that. For example Lincheck (another similar tool which for some unknown reason doesn&#39;t have data race detection yet) allows modularity: if an object (no matter how complex it&#39;s inside) is linearizable, then we can consider all its methods atomic and ignore possible interleavings inside them - this drastically reduces the number of interleavings to check and allows us to create and check for data races very large programs.","body":"@Holger Of course, as the program gets bigger the number of possible executions to check grows exponentially, but fortunately there are some tricks to deal with that. For example Lincheck (another similar tool which for some unknown reason doesn&#39;t have data race detection yet) allows modularity: if an object (no matter how complex it&#39;s inside) is linearizable, then we can consider all its methods atomic and ignore possible interleavings inside them - this drastically reduces the number of interleavings to check and allows us to create and check for data races very large programs."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672932195,"post_id":74593077,"comment_id":132388431,"body_markdown":"@Holger [here](https://github.com/Kotlin/kotlinx-lincheck#modular-testing) the modularity in Lincheck is explained.","body":"@Holger <a href=\"https://github.com/Kotlin/kotlinx-lincheck#modular-testing\" rel=\"nofollow noreferrer\">here</a> the modularity in Lincheck is explained."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672932599,"post_id":74593077,"comment_id":132388602,"body_markdown":"@Holger I hope that my original question is more clear to you now. The original question is also (kind of) about modularity: I ask if we can use &quot;correctly synchronized&quot; (as defined in the JLS) with a single class instead of the whole program.","body":"@Holger I hope that my original question is more clear to you now. The original question is also (kind of) about modularity: I ask if we can use &quot;correctly synchronized&quot; (as defined in the JLS) with a single class instead of the whole program."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1673009343,"post_id":74593077,"comment_id":132406624,"body_markdown":"correction: the number of possible SC executions grows not exponentially but [as _O(n!)_](https://math.stackexchange.com/a/77736)","body":"correction: the number of possible SC executions grows not exponentially but <a href=\"https://math.stackexchange.com/a/77736\">as <i>O(n!)</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669581398,"post_id":74593294,"comment_id":131668718,"body_markdown":"I understand that I _&quot;need to ensure that there would be no race conditions is your concurrent custom collection&quot;_. My question is about one of the potential ways of achieving that. My first step is to make sure there are no data races. The (mentioned by you) happens-before requires checking of ALL POSSIBLE executions for that. My question is whether I can use _&quot;correctly synchronized&quot;_ technique, which is also described in the JLS and which only require checking of SEQUENTIAL executions (there are much fewer of them).","body":"I understand that I <i>&quot;need to ensure that there would be no race conditions is your concurrent custom collection&quot;</i>. My question is about one of the potential ways of achieving that. My first step is to make sure there are no data races. The (mentioned by you) happens-before requires checking of ALL POSSIBLE executions for that. My question is whether I can use <i>&quot;correctly synchronized&quot;</i> technique, which is also described in the JLS and which only require checking of SEQUENTIAL executions (there are much fewer of them)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669584372,"post_id":74593294,"comment_id":131669283,"body_markdown":"@JJJ There many ways to synchronize the code. You can use [`Lock`s](https://docs.oracle.com/javase/tutorial/essential/concurrency/newlocks.html), or [`synchronized` keyword](https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html) to guard the critical sections of the code.","body":"@JJJ There many ways to synchronize the code. You can use <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/newlocks.html\" rel=\"nofollow noreferrer\"><code>Lock</code>s</a>, or <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\"><code>synchronized</code> keyword</a> to guard the critical sections of the code."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669584925,"post_id":74593294,"comment_id":131669394,"body_markdown":"@JJJ I&#39;ve provided a dummy example of how to synchronize an `ArrayList` using a `ReentrantReadWriteLock`.","body":"@JJJ I&#39;ve provided a dummy example of how to synchronize an <code>ArrayList</code> using a <code>ReentrantReadWriteLock</code>."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669585882,"post_id":74593294,"comment_id":131669579,"body_markdown":"Thanks. I&#39;m aware of the different ways to synchronize code in java. I&#39;m asking about one specific method that the JLS provides us to validate that programs have no data races. The method is described in the JLS as &quot;correctly synchronized programs&quot;. The method is pretty cheap and guarantees that the program always executes as-if-serial.","body":"Thanks. I&#39;m aware of the different ways to synchronize code in java. I&#39;m asking about one specific method that the JLS provides us to validate that programs have no data races. The method is described in the JLS as &quot;correctly synchronized programs&quot;. The method is pretty cheap and guarantees that the program always executes as-if-serial."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669586917,"post_id":74593294,"comment_id":131669758,"body_markdown":"@JJJ You said that you understand that you understand what **data race** is. When your concurrent implementation is free from *data race* it considered to be correctly synchronized. Makes sense? How to validate - **inspect the data flow**. Java Language Specification is not a testing tutorial (I don&#39;t understand what else you want find in JLS). You need to apply the means of synchronization in a way that prevent *data race*, i.e. - find the critical sections of the code and determine how they need to locked. And there&#39;s no one single correct way to apply synchronization.","body":"@JJJ You said that you understand that you understand what <b>data race</b> is. When your concurrent implementation is free from <i>data race</i> it considered to be correctly synchronized. Makes sense? How to validate - <b>inspect the data flow</b>. Java Language Specification is not a testing tutorial (I don&#39;t understand what else you want find in JLS). You need to apply the means of synchronization in a way that prevent <i>data race</i>, i.e. - find the critical sections of the code and determine how they need to locked. And there&#39;s no one single correct way to apply synchronization."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669588474,"post_id":74593294,"comment_id":131670044,"body_markdown":"_&quot;When your concurrent implementation is free from data race it considered to be correctly synchronized. Makes sense?&quot;_ I took the term &quot;correctly synchronized&quot; from the [JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html) - there it&#39;s different from &quot;when your concurrent implementation is free from data race&quot;. The definition from the JLS is quoted at the start of my question. In addition to defining &quot;correctly synchronized&quot; the quote actually provides a cheap method of proving that a program has no data races (by only checking sequential executions).","body":"<i>&quot;When your concurrent implementation is free from data race it considered to be correctly synchronized. Makes sense?&quot;</i> I took the term &quot;correctly synchronized&quot; from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html\" rel=\"nofollow noreferrer\">JLS</a> - there it&#39;s different from &quot;when your concurrent implementation is free from data race&quot;. The definition from the JLS is quoted at the start of my question. In addition to defining &quot;correctly synchronized&quot; the quote actually provides a cheap method of proving that a program has no data races (by only checking sequential executions)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669588876,"post_id":74593294,"comment_id":131670102,"body_markdown":"@JJJ *&quot;by only checking sequential executions&quot;* - sure, that&#39;s what I meant while saying that you need to inspect the data flow in the all the methods accessing the shared resource (i.e. methods that need to be synchronized). What else do you want to find in JLS?","body":"@JJJ <i>&quot;by only checking sequential executions&quot;</i> - sure, that&#39;s what I meant while saying that you need to inspect the data flow in the all the methods accessing the shared resource (i.e. methods that need to be synchronized). What else do you want to find in JLS?"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669589461,"post_id":74593294,"comment_id":131670211,"body_markdown":"I&#39;m not sure if _&quot;by only checking sequential executions&quot;_ can be applied to my custom collection class only (this is what I&#39;m asking about). In the JLS &quot;correctly synchronized&quot; is defined for the program as a whole. But I want my collection to be data-race-free even in programs with data races. (And BTW any real program has data races because `String.hashCode()` contains data race).","body":"I&#39;m not sure if <i>&quot;by only checking sequential executions&quot;</i> can be applied to my custom collection class only (this is what I&#39;m asking about). In the JLS &quot;correctly synchronized&quot; is defined for the program as a whole. But I want my collection to be data-race-free even in programs with data races. (And BTW any real program has data races because <code>String.hashCode()</code> contains data race)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669590291,"post_id":74593294,"comment_id":131670353,"body_markdown":"@JJJ Do you understand the term *shared resource* (see the link &quot;shared variables&quot; in the answer) ? In a nutshell, it&#39;s a subject of concurrent access (e.g. `array` in the sample code in the answer). For your collection to be *thread safe*, **all** the behavior that that requires interaction with *shared resources* should be synchronized.","body":"@JJJ Do you understand the term <i>shared resource</i> (see the link &quot;shared variables&quot; in the answer) ? In a nutshell, it&#39;s a subject of concurrent access (e.g. <code>array</code> in the sample code in the answer). For your collection to be <i>thread safe</i>, <b>all</b> the behavior that that requires interaction with <i>shared resources</i> should be synchronized."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669590487,"post_id":74593294,"comment_id":131670382,"body_markdown":"@JJJ Regarding *&quot;program as a whole&quot;* - apply encapsulation properly, synchronization should be exercised on the level of separate Classes (which own *shared resources*, and methods dialing with resources should be encapsulated within the class, and resources shouldn&#39;t be exposed outside the class). It not clear how `String` is related to your custom collection, if you&#39;re having hard time with synchronizing `hashCode()` method you might introduce a separate question and explain the problem in details. A quick suggestion - have a look at the code of legacy collections: `Vector` and `Hashtable`.","body":"@JJJ Regarding <i>&quot;program as a whole&quot;</i> - apply encapsulation properly, synchronization should be exercised on the level of separate Classes (which own <i>shared resources</i>, and methods dialing with resources should be encapsulated within the class, and resources shouldn&#39;t be exposed outside the class). It not clear how <code>String</code> is related to your custom collection, if you&#39;re having hard time with synchronizing <code>hashCode()</code> method you might introduce a separate question and explain the problem in details. A quick suggestion - have a look at the code of legacy collections: <code>Vector</code> and <code>Hashtable</code>."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669592976,"post_id":74593294,"comment_id":131670703,"body_markdown":"I cannot &quot;apply encapsulation properly&quot; because the guarantees for &quot;correctly synchronized&quot; are given in the JLS explicitly for the whole program. [The proof](https://stackoverflow.com/a/74421466/20616873) is also for the whole program. I need a proof that &quot;applying encapsulation properly&quot; preserves the guarantees","body":"I cannot &quot;apply encapsulation properly&quot; because the guarantees for &quot;correctly synchronized&quot; are given in the JLS explicitly for the whole program. <a href=\"https://stackoverflow.com/a/74421466/20616873\">The proof</a> is also for the whole program. I need a proof that &quot;applying encapsulation properly&quot; preserves the guarantees"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669598819,"post_id":74593294,"comment_id":131671477,"body_markdown":"@JJJ If there&#39;s at least one method which provides a possibility for the data of a *shared resource* to be corrupted, it doesn&#39;t matter how many methods you&#39;ve synchronized. Your task is to identify every shared resource in the application, find the methods that make use of these resources, and each and every method guard a critical code section.","body":"@JJJ If there&#39;s at least one method which provides a possibility for the data of a <i>shared resource</i> to be corrupted, it doesn&#39;t matter how many methods you&#39;ve synchronized. Your task is to identify every shared resource in the application, find the methods that make use of these resources, and each and every method guard a critical code section."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669598854,"post_id":74593294,"comment_id":131671482,"body_markdown":"@JJJ *&quot;proof that &quot;applying encapsulation properly&quot;* - If behavior that dials with a particular resource is bound to a particular class, i.e. there are no methods that make use of this resource other than by the means of the behavior you&#39;ve synchronized than happens-before relationship is guaranteed for resource. If you&#39;re designing a collection in your project, then its underlying array or nodes would be a *shared resource*. If you synchronized all the collection behavior - it&#39;s thread-safe.","body":"@JJJ <i>&quot;proof that &quot;applying encapsulation properly&quot;</i> - If behavior that dials with a particular resource is bound to a particular class, i.e. there are no methods that make use of this resource other than by the means of the behavior you&#39;ve synchronized than happens-before relationship is guaranteed for resource. If you&#39;re designing a collection in your project, then its underlying array or nodes would be a <i>shared resource</i>. If you synchronized all the collection behavior - it&#39;s thread-safe."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669600514,"post_id":74593294,"comment_id":131671688,"body_markdown":"We&#39;ve deviated from the topic too much.\nI&#39;m only interested if &quot;correctly synchronized&quot; (as it&#39;s defined in the JLS) can be used with a single class instead of the whole program. Discussions about &quot;shared resources&quot;, &quot;encapsulation&quot; and other common practices of synchronization are too vague and off-topic to be useful in answering the question.","body":"We&#39;ve deviated from the topic too much. I&#39;m only interested if &quot;correctly synchronized&quot; (as it&#39;s defined in the JLS) can be used with a single class instead of the whole program. Discussions about &quot;shared resources&quot;, &quot;encapsulation&quot; and other common practices of synchronization are too vague and off-topic to be useful in answering the question."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669601006,"post_id":74593294,"comment_id":131671754,"body_markdown":"@JJJ There&#39;s nothing vague. That&#39;s what I refer to as a [*shared resource*](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1) from the perspective of JSL. In a nutshell, it&#39;s what you&#39;re protecting through synchronization. It&#39;s the **core** of the subject. When there&#39;s no shared sources, that can be mutated, there&#39;s nothing to synchronize to begin with. Is that clear?","body":"@JJJ There&#39;s nothing vague. That&#39;s what I refer to as a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\" rel=\"nofollow noreferrer\"><i>shared resource</i></a> from the perspective of JSL. In a nutshell, it&#39;s what you&#39;re protecting through synchronization. It&#39;s the <b>core</b> of the subject. When there&#39;s no shared sources, that can be mutated, there&#39;s nothing to synchronize to begin with. Is that clear?"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":15,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672764840,"creation_date":1669578398,"answer_id":74593294,"question_id":74593077,"body_markdown":"You need to ensure that there would be no *race conditions* is your concurrent custom collection.\r\n\r\nI.e. multiple threads can access the same element simultaneously only if they are trying to read its value, that&#39;s fine. But if it&#39;s possible if one thread is trying to update the element while another is trying to retrieve its value, or multiple threads a trying to change the same element at the same time (overriding results produced by one-another), that&#39;s a problem. And it can be avoided by synchronizing the mutating code.\r\n\r\n[&#167;17.4.5.&#160;Happens-before Order][data race]\r\n\r\n&gt; When a program contains two **conflicting accesses** (&#167;17.4.1) that are not ordered by a happens-before relationship, it is said to contain a **data race**.\r\n\r\n[&#167;17.4.1.&#160;Shared Variables][conflicting accesses]\r\n\r\n&gt; Two accesses to (reads of or writes to) the same variable are said to be **conflicting** if at least **one of the accesses is a write**.\r\n\r\nHere&#39;s a dummy example of the concurrent list which allows reading its value from multiple threads simultaneously, but if one of the threads is writing a value, all others would be blocked.\r\n\r\nThis can be achieved by using [`ReentrantReadWriteLock`][readWriteLock].\r\n\r\n    public class MyConcurrentArrayList&lt;T&gt; {\r\n        private Object[] array;\r\n        private int size;\r\n        \r\n        private final ReadWriteLock lock = new ReentrantReadWriteLock();\r\n        private final Lock read = lock.readLock();\r\n        private final Lock write = lock.readLock();\r\n        \r\n        // non-mutating operation\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public T get(int i) {\r\n            T result;\r\n            \r\n            read.lock(); // lock the read-lock, from that moment only non-mutating operations (guarded by the readLock) are allowed\r\n            // access the element under the given index\r\n            try {\r\n                result = (T) array[i];\r\n            } finally {\r\n                read.unlock(); // release the read-lock\r\n            }\r\n            return result;\r\n        }\r\n        \r\n        // mutating operation\r\n        public void add(T item) {\r\n            write.lock(); // lock the write-lock, none of the threads would be able to read or update the list until this lock is not released\r\n            \r\n            try {\r\n                // check if the list needs to grow (omitted)\r\n\r\n                array[size++] = item; // add a new element\r\n            } finally {\r\n                write.unlock(); // release the write-lock\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n   [data race]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\r\n\r\n   [conflicting accesses]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\r\n\r\n   [readWriteLock]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html","title":"Could &quot;correctly synchronized&quot; be applied to a class instead of the whole program?","body":"<p>You need to ensure that there would be no <em>race conditions</em> is your concurrent custom collection.</p>\n<p>I.e. multiple threads can access the same element simultaneously only if they are trying to read its value, that's fine. But if it's possible if one thread is trying to update the element while another is trying to retrieve its value, or multiple threads a trying to change the same element at the same time (overriding results produced by one-another), that's a problem. And it can be avoided by synchronizing the mutating code.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">17.4.5.Happens-before Order</a></p>\n<blockquote>\n<p>When a program contains two <strong>conflicting accesses</strong> (17.4.1) that are not ordered by a happens-before relationship, it is said to contain a <strong>data race</strong>.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\" rel=\"nofollow noreferrer\">17.4.1.Shared Variables</a></p>\n<blockquote>\n<p>Two accesses to (reads of or writes to) the same variable are said to be <strong>conflicting</strong> if at least <strong>one of the accesses is a write</strong>.</p>\n</blockquote>\n<p>Here's a dummy example of the concurrent list which allows reading its value from multiple threads simultaneously, but if one of the threads is writing a value, all others would be blocked.</p>\n<p>This can be achieved by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\"><code>ReentrantReadWriteLock</code></a>.</p>\n<pre><code>public class MyConcurrentArrayList&lt;T&gt; {\n    private Object[] array;\n    private int size;\n    \n    private final ReadWriteLock lock = new ReentrantReadWriteLock();\n    private final Lock read = lock.readLock();\n    private final Lock write = lock.readLock();\n    \n    // non-mutating operation\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public T get(int i) {\n        T result;\n        \n        read.lock(); // lock the read-lock, from that moment only non-mutating operations (guarded by the readLock) are allowed\n        // access the element under the given index\n        try {\n            result = (T) array[i];\n        } finally {\n            read.unlock(); // release the read-lock\n        }\n        return result;\n    }\n    \n    // mutating operation\n    public void add(T item) {\n        write.lock(); // lock the write-lock, none of the threads would be able to read or update the list until this lock is not released\n        \n        try {\n            // check if the list needs to grow (omitted)\n\n            array[size++] = item; // add a new element\n        } finally {\n            write.unlock(); // release the write-lock\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1678885172,"post_id":75744464,"comment_id":133619231,"body_markdown":"thank you, I think you are right: the proofs remain valid when only some shared variables are considered.","body":"thank you, I think you are right: the proofs remain valid when only some shared variables are considered."}],"tags":[],"owner":{"account_id":28023034,"reputation":26,"user_id":21403513,"display_name":"user21403513"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678882099,"creation_date":1678881936,"answer_id":75744464,"question_id":74593077,"body_markdown":"In my opinion, it&#39;s possible.\r\n\r\nIf the internal state of the collection is not accessible from the outside, then we can consider the corresponding to the state [shared variables](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1) (that is what the JLS operates with) in isolation from the shared variables in the rest of the program.\r\n\r\n[This answer](https://stackoverflow.com/a/74421466) cites the proof for the whole program. But as I understand, the proofs for both Lemma 2 and Theorem 3 holds even if we add additional restriction that we only consider some shared variables.  \r\nDon&#39;t take my word for it and check [the proofs](https://stackoverflow.com/a/74421466) yourself, but to me it seems like it works.  \r\nThis holds as long as all the actions (reads and writes) on the selected shared variables are taken into consideration.\r\n\r\nP.S. it&#39;s totally possible when simultaneously:\r\n- actions on the selected shared variables (the ones which constitute the internal state of our collection) are sequentially consistent\r\n- actions on the ignored shared variables contain data races\r\n\r\nbecause:\r\n1. it&#39;s always possible to find a total order of all actions in an execution, consistent with program order and synchronization order. From [the citation](https://stackoverflow.com/a/74421466):\r\n    &gt; A topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order.\r\n2. actions on a shared variable are sequentially consistent if every read of the variable returns the latest (in this total order) write to the variable.\r\n3. actions on a shared variable are non-sequentially-consistent if there is a read of the variable which returns a write to the variable that is not the latest (in this total order).\r\n4. it&#39;s possible when both (2) and (3) are present in the execution","title":"Could &quot;correctly synchronized&quot; be applied to a class instead of the whole program?","body":"<p>In my opinion, it's possible.</p>\n<p>If the internal state of the collection is not accessible from the outside, then we can consider the corresponding to the state <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\" rel=\"nofollow noreferrer\">shared variables</a> (that is what the JLS operates with) in isolation from the shared variables in the rest of the program.</p>\n<p><a href=\"https://stackoverflow.com/a/74421466\">This answer</a> cites the proof for the whole program. But as I understand, the proofs for both Lemma 2 and Theorem 3 holds even if we add additional restriction that we only consider some shared variables.<br />\nDon't take my word for it and check <a href=\"https://stackoverflow.com/a/74421466\">the proofs</a> yourself, but to me it seems like it works.<br />\nThis holds as long as all the actions (reads and writes) on the selected shared variables are taken into consideration.</p>\n<p>P.S. it's totally possible when simultaneously:</p>\n<ul>\n<li>actions on the selected shared variables (the ones which constitute the internal state of our collection) are sequentially consistent</li>\n<li>actions on the ignored shared variables contain data races</li>\n</ul>\n<p>because:</p>\n<ol>\n<li>it's always possible to find a total order of all actions in an execution, consistent with program order and synchronization order. From <a href=\"https://stackoverflow.com/a/74421466\">the citation</a>:\n<blockquote>\n<p>A topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order.</p>\n</blockquote>\n</li>\n<li>actions on a shared variable are sequentially consistent if every read of the variable returns the latest (in this total order) write to the variable.</li>\n<li>actions on a shared variable are non-sequentially-consistent if there is a read of the variable which returns a write to the variable that is not the latest (in this total order).</li>\n<li>it's possible when both (2) and (3) are present in the execution</li>\n</ol>\n"}],"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75744464,"answer_count":2,"score":1,"last_activity_date":1678882099,"creation_date":1669576637,"question_id":74593077,"body_markdown":"There is a term _correctly synchronized_ [in the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5):\r\n&gt; A program is correctly synchronized if and only if all sequentially consistent executions are free of data races.\r\n&gt; \r\n&gt; If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (&#167;17.4.3).\r\n\r\nCan this _correctly synchronized_ be applied to something smaller than the whole program, like some collection class?\r\n\r\nIn other words, imagine that I want to create my custom concurrent collection class.  \r\nI want the code of my collection to never produce data races in any program which uses my collection.  \r\nWould it be enough to only check that every possible sequential execution has no data races in order to guarantee that non-sequential executions also cannot produce data races?","title":"Could &quot;correctly synchronized&quot; be applied to a class instead of the whole program?","body":"<p>There is a term <em>correctly synchronized</em> <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">in the JLS</a>:</p>\n<blockquote>\n<p>A program is correctly synchronized if and only if all sequentially consistent executions are free of data races.</p>\n<p>If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (17.4.3).</p>\n</blockquote>\n<p>Can this <em>correctly synchronized</em> be applied to something smaller than the whole program, like some collection class?</p>\n<p>In other words, imagine that I want to create my custom concurrent collection class.<br />\nI want the code of my collection to never produce data races in any program which uses my collection.<br />\nWould it be enough to only check that every possible sequential execution has no data races in order to guarantee that non-sequential executions also cannot produce data races?</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","instance"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678786050,"post_id":75731199,"comment_id":133596560,"body_markdown":"and what is your actual question? Have you tried using an initializer method with the Before annotation?","body":"and what is your actual question? Have you tried using an initializer method with the Before annotation?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678786531,"post_id":75731199,"comment_id":133596698,"body_markdown":"My actual question is how do I spare these code lines and use the initialize only one time in the test class file? I don&#39;t want to write these code lines in every test I create. seems that it is a redundant duplication. I hope I wrote the question in the best simple way... :)","body":"My actual question is how do I spare these code lines and use the initialize only one time in the test class file? I don&#39;t want to write these code lines in every test I create. seems that it is a redundant duplication. I hope I wrote the question in the best simple way... :)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678787183,"post_id":75731199,"comment_id":133596873,"body_markdown":"so ... again: did you try using an initializer method with the Before annotation?","body":"so ... again: did you try using an initializer method with the Before annotation?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678787316,"post_id":75731199,"comment_id":133596906,"body_markdown":"Not sure I really know what you mean.\nI can provide more info about my setup method in my baseTest file...","body":"Not sure I really know what you mean. I can provide more info about my setup method in my baseTest file..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678787448,"post_id":75731199,"comment_id":133596948,"body_markdown":"so, you want to go selenium testing without knowing the basics of tests? what part of my suggestion didn&#39;t you understand?","body":"so, you want to go selenium testing without knowing the basics of tests? what part of my suggestion didn&#39;t you understand?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678827615,"post_id":75731199,"comment_id":133608560,"body_markdown":"Well, I mean what you wrote &quot;initializer method&quot;( not sure if you mean to Java method). BTW- \n1. I&#39;m doing my first steps in selenium testing \n2. I know the &quot;Before&quot; annotation. I used this already\n3. Note that I edit again my main question and I provide more info...","body":"Well, I mean what you wrote &quot;initializer method&quot;( not sure if you mean to Java method). BTW-  1. I&#39;m doing my first steps in selenium testing  2. I know the &quot;Before&quot; annotation. I used this already 3. Note that I edit again my main question and I provide more info..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678865067,"post_id":75731199,"comment_id":133613864,"body_markdown":"using a method that initializes your tests (annotated with Before) is an initializer method. Since you &#39;ve already used that, how don&#39;t you see that that is the answer to your question?","body":"using a method that initializes your tests (annotated with Before) is an initializer method. Since you &#39;ve already used that, how don&#39;t you see that that is the answer to your question?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678873693,"post_id":75731199,"comment_id":133615986,"body_markdown":"Never mind. SORRY. I thought you mean other &quot;Before&quot; annotations (like BeforeTest e.g.) I didn&#39;t know this annotation before. I&#39;m still In the learning process","body":"Never mind. SORRY. I thought you mean other &quot;Before&quot; annotations (like BeforeTest e.g.) I didn&#39;t know this annotation before. I&#39;m still In the learning process"}],"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678882074,"creation_date":1678785822,"question_id":75731199,"body_markdown":"In order to avoid duplicating my code and not inserting these code lines in every test, I would like to know if there is an effective/efficient way that I&#39;ll use only one time in the class/page. I want to initialize the objects at just one time. Thanks for your assistance!\r\n\r\nHere is my code:\r\n\r\n```\r\npublic class ContributionTests extends BaseTest {\r\n    @Test (priority = 1)\r\n    @Severity(SeverityLevel.CRITICAL)\r\n    @Description(&quot;Create a Contribution E2E, using only required fields, and validate the new creation contribution name&quot;)\r\n    public void tc1_CreateContribution() throws InterruptedException {\r\n        MainPage mainPageGP = new MainPage(driver);\r\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\r\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\r\n        ContributionTabPage ctp = new ContributionTabPage(driver);\r\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\r\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\r\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\r\n\r\n        mainPageGP.setMainTab(&quot;Assets&quot;);\r\n        assetTabPage.selectUnderManagementTab();\r\n        getSleep(500);\r\n        assetTabPage.selectAsset(&quot;new Asset- Test on Edge&quot;);\r\n        getSleep(500);\r\n        umap.selectInnerTab(&quot;Contributions&quot;);\r\n}\r\n```\r\n\r\nI didn&#39;t try anything yet but expect to spare a lot of code lines in my test classes.\r\n\r\nAt this time, I insert these initializers in every test:\r\n\r\n```\r\n        MainPage mainPageGP = new MainPage(driver);\r\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\r\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\r\n        ContributionTabPage ctp = new ContributionTabPage(driver);\r\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\r\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\r\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\r\n```\r\n\r\nThis is my &quot;setup&quot; method that I extend from the `BaseTest` class:\r\n\r\n```\r\n    @BeforeClass\r\n    public void setup() throws InterruptedException {\r\n        WebDriverManager.chromedriver().setup();\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.addArguments(&quot;remote-allow-origins=*&quot;);\r\n        driver = new ChromeDriver(chromeOptions);\r\n        driver.manage().window().maximize();\r\n        PropertyUtils u = new PropertyUtils();\r\n        driver.get(u.readProperty(&quot;url&quot;));\r\n        LoginPage lp = new LoginPage(driver);\r\n        lp.loginToPage();\r\n    }\r\n```","title":"Java - Selenium &gt; I want to make the instance one time per page class","body":"<p>In order to avoid duplicating my code and not inserting these code lines in every test, I would like to know if there is an effective/efficient way that I'll use only one time in the class/page. I want to initialize the objects at just one time. Thanks for your assistance!</p>\n<p>Here is my code:</p>\n<pre><code>public class ContributionTests extends BaseTest {\n    @Test (priority = 1)\n    @Severity(SeverityLevel.CRITICAL)\n    @Description(&quot;Create a Contribution E2E, using only required fields, and validate the new creation contribution name&quot;)\n    public void tc1_CreateContribution() throws InterruptedException {\n        MainPage mainPageGP = new MainPage(driver);\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\n        ContributionTabPage ctp = new ContributionTabPage(driver);\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\n\n        mainPageGP.setMainTab(&quot;Assets&quot;);\n        assetTabPage.selectUnderManagementTab();\n        getSleep(500);\n        assetTabPage.selectAsset(&quot;new Asset- Test on Edge&quot;);\n        getSleep(500);\n        umap.selectInnerTab(&quot;Contributions&quot;);\n}\n</code></pre>\n<p>I didn't try anything yet but expect to spare a lot of code lines in my test classes.</p>\n<p>At this time, I insert these initializers in every test:</p>\n<pre><code>        MainPage mainPageGP = new MainPage(driver);\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\n        ContributionTabPage ctp = new ContributionTabPage(driver);\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\n</code></pre>\n<p>This is my &quot;setup&quot; method that I extend from the <code>BaseTest</code> class:</p>\n<pre><code>    @BeforeClass\n    public void setup() throws InterruptedException {\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;remote-allow-origins=*&quot;);\n        driver = new ChromeDriver(chromeOptions);\n        driver.manage().window().maximize();\n        PropertyUtils u = new PropertyUtils();\n        driver.get(u.readProperty(&quot;url&quot;));\n        LoginPage lp = new LoginPage(driver);\n        lp.loginToPage();\n    }\n</code></pre>\n"},{"tags":["java","redis","rabbitmq","microservices"],"owner":{"account_id":28022929,"reputation":11,"user_id":21403428,"display_name":"Nifi Logstash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678881605,"creation_date":1678881605,"question_id":75744413,"body_markdown":"I have one listener service in my microservice and two scheduler service. In the listener service after receiving the message save the last updated date time and scheduler name in &#160;Redis DB.\r\n\r\nCan anyone write a demo code for me?","title":"How to save message coming from RabbitMQ into Redis Cache/DB?","body":"<p>I have one listener service in my microservice and two scheduler service. In the listener service after receiving the message save the last updated date time and scheduler name in Redis DB.</p>\n<p>Can anyone write a demo code for me?</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin","build.gradle"],"owner":{"account_id":27742782,"reputation":51,"user_id":21178914,"display_name":"Eren Talan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678881602,"creation_date":1678881602,"question_id":75744411,"body_markdown":"I&#39;m trying to compile a 6 years old project. I use gradle jdk version 11. I fixed lots of problem but now i&#39;m stuck at this problem. In :app:mergeDebugResources it gaves 2 errors. ( i should say i actually dont know java i just need this project&#39;s apk)\r\n\r\nthe changes i made:\r\n\r\ncom.android.tools.build:gradle:2.3.3 --&gt; com.android.tools.build:gradle:3.6.4\r\n\r\nbuildToolsVersion &#39;25.0.0&#39; --&gt; buildToolsVersion &#39;28.0.3&#39;\r\n\r\n\r\nError 1:\r\n``` \r\n162 exceptions were raised by workers:\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n\r\n```\r\n\r\nError 2 : \r\n\r\n```\r\nError while processing /Users/username/source_ST25NFCApplication_V1.0.6/app/src/main/res/drawable/ic_memory_st_dark_blue_24dp.xml : Can&#39;t process attribute android:fillColor=&quot;@color/st_dark_blue&quot;: references to other resources are not supported by build-time PNG generation\r\n```","title":"android build :app:mergeDebugResources fail","body":"<p>I'm trying to compile a 6 years old project. I use gradle jdk version 11. I fixed lots of problem but now i'm stuck at this problem. In :app:mergeDebugResources it gaves 2 errors. ( i should say i actually dont know java i just need this project's apk)</p>\n<p>the changes i made:</p>\n<p>com.android.tools.build:gradle:2.3.3 --&gt; com.android.tools.build:gradle:3.6.4</p>\n<p>buildToolsVersion '25.0.0' --&gt; buildToolsVersion '28.0.3'</p>\n<p>Error 1:</p>\n<pre><code>162 exceptions were raised by workers:\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n\n</code></pre>\n<p>Error 2 :</p>\n<pre><code>Error while processing /Users/username/source_ST25NFCApplication_V1.0.6/app/src/main/res/drawable/ic_memory_st_dark_blue_24dp.xml : Can't process attribute android:fillColor=&quot;@color/st_dark_blue&quot;: references to other resources are not supported by build-time PNG generation\n</code></pre>\n"},{"tags":["java","jfreechart"],"answers":[{"comments":[{"owner":{"account_id":7740038,"reputation":37,"user_id":5860178,"display_name":"Igor Choriy"},"score":0,"creation_date":1678980150,"post_id":75734445,"comment_id":133641531,"body_markdown":"Thank you very much! You have resolved the issue I had.","body":"Thank you very much! You have resolved the issue I had."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678988318,"post_id":75734445,"comment_id":133644078,"body_markdown":"You are welcome; your [mre] made it _much_ easier.","body":"You are welcome; your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> made it <i>much</i> easier."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678881523,"creation_date":1678803912,"answer_id":75734445,"question_id":75726661,"body_markdown":"[`XYShapeAnnotation`][1] notes that &quot;shape coordinates are specified in data space.&quot; For a `DateAxis`, this is milliseconds since the Java epoch. As an example, the following _ad hoc_ fragment added to your example produces the ellipse show below. It&#39;s a half-day wide and one price unit high.\r\n\r\n    double w = 12 * 60 * 60 * 1000;\r\n    double t = dataset.getX(0, 1).doubleValue() - w;\r\n    final Ellipse2D point2d =\r\n        new Ellipse2D.Double(t + w / 2, 10, w, 1);\r\n\r\n[![Annotation image][2]][2]\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/XYShapeAnnotation.html\r\n  [2]: https://i.stack.imgur.com/36ZCP.png","title":"Why circle is not displayed in JFreeChart?","body":"<p><a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/XYShapeAnnotation.html\" rel=\"nofollow noreferrer\"><code>XYShapeAnnotation</code></a> notes that &quot;shape coordinates are specified in data space.&quot; For a <code>DateAxis</code>, this is milliseconds since the Java epoch. As an example, the following <em>ad hoc</em> fragment added to your example produces the ellipse show below. It's a half-day wide and one price unit high.</p>\n<pre><code>double w = 12 * 60 * 60 * 1000;\ndouble t = dataset.getX(0, 1).doubleValue() - w;\nfinal Ellipse2D point2d =\n    new Ellipse2D.Double(t + w / 2, 10, w, 1);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/36ZCP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/36ZCP.png\" alt=\"Annotation image\" /></a></p>\n"}],"owner":{"account_id":7740038,"reputation":37,"user_id":5860178,"display_name":"Igor Choriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75734445,"answer_count":1,"score":1,"last_activity_date":1678881523,"creation_date":1678739643,"question_id":75726661,"body_markdown":"I am currently experimenting with the JFreeChart library to create an OHLC chart. I would like to draw a horizontal line at a certain price level, for example, at 10.5, and place a point on the line at a specific date, for example, &quot;2021-01-02&quot;. Although my code successfully draws the axis, bars, and a horizontal line at 10.5, but the filled circle/point (point2d) I tried to add is not visible by some reason (probably because of wrong coordinates).\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.annotations.XYShapeAnnotation;\r\nimport org.jfree.chart.axis.DateAxis;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.plot.ValueMarker;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.CandlestickRenderer;\r\nimport org.jfree.data.xy.DefaultHighLowDataset;\r\nimport org.jfree.data.xy.OHLCDataset;\r\nimport org.jfree.data.xy.XYDataset;\r\nimport org.jfree.ui.ApplicationFrame;\r\nimport org.jfree.ui.RectangleInsets;\r\n\r\npublic class OHLCChartDemo extends ApplicationFrame {\r\n\r\n\tpublic OHLCChartDemo(final String title) throws ParseException {\r\n\t\tsuper(title);\r\n\t\tfinal JFreeChart chart = createChart(createDataset());\r\n\t\tsetContentPane(new ChartPanel(chart));\r\n\t}\r\n\r\n\tprivate OHLCDataset createDataset() throws ParseException {\r\n\t\tfinal SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tfinal DefaultHighLowDataset dataset = new DefaultHighLowDataset(&quot;Series 1&quot;,\r\n\t\t\t\tnew Date[] { new Date(df.parse(&quot;2021-01-01&quot;).getTime()), new Date(df.parse(&quot;2021-01-02&quot;).getTime()),\r\n\t\t\t\t\t\tnew Date(df.parse(&quot;2021-01-03&quot;).getTime()), new Date(df.parse(&quot;2021-01-04&quot;).getTime()) },\r\n\t\t\t\tnew double[] { 11.0, 13.0, 9.0, 12.0 }, new double[] { 8.0, 9.0, 7.0, 8.5 },\r\n\t\t\t\tnew double[] { 10.0, 11.0, 8.0, 10.5 }, new double[] { 9.0, 10.0, 8.5, 9.5 },\r\n\t\t\t\tnew double[] { 11.0, 11.0, 9.0, 9.5 });\r\n\t\treturn dataset;\r\n\t}\r\n\r\n\tprivate JFreeChart createChart(final XYDataset dataset) throws ParseException {\r\n\t\tfinal JFreeChart chart = ChartFactory.createCandlestickChart(&quot;OHLC Chart&quot;, &quot;Date&quot;, &quot;Price&quot;, (OHLCDataset) dataset, false);\r\n\t\tchart.setBackgroundPaint(Color.white);\r\n\t\tfinal XYPlot plot = (XYPlot) chart.getPlot();\r\n\t\tplot.setBackgroundPaint(Color.white);\r\n\t\tplot.setDomainGridlinePaint(Color.lightGray);\r\n\t\tplot.setRangeGridlinePaint(Color.lightGray);\r\n\t\tplot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\r\n\t\tplot.setDomainCrosshairVisible(true);\r\n\t\tplot.setRangeCrosshairVisible(true);\r\n\t\tfinal CandlestickRenderer renderer = new CandlestickRenderer();\r\n\t\trenderer.setDrawVolume(false);\r\n\t\tplot.setRenderer(renderer);\r\n\t\tfinal DateAxis axis = (DateAxis) plot.getDomainAxis();\r\n\t\taxis.setDateFormatOverride(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\r\n\t\tfinal NumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();\r\n\t\trangeAxis.setAutoRangeIncludesZero(false);\r\n\r\n\t\tdouble price = 10.5;\r\n\t\tfinal ValueMarker marker = new ValueMarker(price);\r\n\t\tmarker.setPaint(Color.blue);\r\n\t\tplot.addRangeMarker(marker);\r\n\r\n\t\tfinal Ellipse2D point2d = new Ellipse2D.Double(2.5, 10.5, 20, 20);\r\n\t\tXYShapeAnnotation annotation = new XYShapeAnnotation(point2d, new BasicStroke(2.0f), Color.BLACK, Color.BLUE);\r\n\t\tplot.addAnnotation(annotation);\r\n\t\t\r\n\t\treturn chart;\r\n\t}\r\n\r\n\tpublic static void main(final String[] args) throws ParseException {\r\n\t\tfinal OHLCChartDemo demo = new OHLCChartDemo(&quot;OHLC Chart Demo&quot;);\r\n\t\tdemo.pack();\r\n\t\tdemo.setVisible(true);\r\n\t}\r\n}\r\n```\r\n\r\nHow can I draw a filled circle at the intersection of the horizontal line at level (FEX)10.5 and the date (FEX)&quot;2021-01-02&quot;? Alternatively, how can I draw a horizontal line starting from that point and extending to the right end of the chart?","title":"Why circle is not displayed in JFreeChart?","body":"<p>I am currently experimenting with the JFreeChart library to create an OHLC chart. I would like to draw a horizontal line at a certain price level, for example, at 10.5, and place a point on the line at a specific date, for example, &quot;2021-01-02&quot;. Although my code successfully draws the axis, bars, and a horizontal line at 10.5, but the filled circle/point (point2d) I tried to add is not visible by some reason (probably because of wrong coordinates).</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.geom.Ellipse2D;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.annotations.XYShapeAnnotation;\nimport org.jfree.chart.axis.DateAxis;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.plot.ValueMarker;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.CandlestickRenderer;\nimport org.jfree.data.xy.DefaultHighLowDataset;\nimport org.jfree.data.xy.OHLCDataset;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.ui.ApplicationFrame;\nimport org.jfree.ui.RectangleInsets;\n\npublic class OHLCChartDemo extends ApplicationFrame {\n\n    public OHLCChartDemo(final String title) throws ParseException {\n        super(title);\n        final JFreeChart chart = createChart(createDataset());\n        setContentPane(new ChartPanel(chart));\n    }\n\n    private OHLCDataset createDataset() throws ParseException {\n        final SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        final DefaultHighLowDataset dataset = new DefaultHighLowDataset(&quot;Series 1&quot;,\n                new Date[] { new Date(df.parse(&quot;2021-01-01&quot;).getTime()), new Date(df.parse(&quot;2021-01-02&quot;).getTime()),\n                        new Date(df.parse(&quot;2021-01-03&quot;).getTime()), new Date(df.parse(&quot;2021-01-04&quot;).getTime()) },\n                new double[] { 11.0, 13.0, 9.0, 12.0 }, new double[] { 8.0, 9.0, 7.0, 8.5 },\n                new double[] { 10.0, 11.0, 8.0, 10.5 }, new double[] { 9.0, 10.0, 8.5, 9.5 },\n                new double[] { 11.0, 11.0, 9.0, 9.5 });\n        return dataset;\n    }\n\n    private JFreeChart createChart(final XYDataset dataset) throws ParseException {\n        final JFreeChart chart = ChartFactory.createCandlestickChart(&quot;OHLC Chart&quot;, &quot;Date&quot;, &quot;Price&quot;, (OHLCDataset) dataset, false);\n        chart.setBackgroundPaint(Color.white);\n        final XYPlot plot = (XYPlot) chart.getPlot();\n        plot.setBackgroundPaint(Color.white);\n        plot.setDomainGridlinePaint(Color.lightGray);\n        plot.setRangeGridlinePaint(Color.lightGray);\n        plot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\n        plot.setDomainCrosshairVisible(true);\n        plot.setRangeCrosshairVisible(true);\n        final CandlestickRenderer renderer = new CandlestickRenderer();\n        renderer.setDrawVolume(false);\n        plot.setRenderer(renderer);\n        final DateAxis axis = (DateAxis) plot.getDomainAxis();\n        axis.setDateFormatOverride(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\n        final NumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();\n        rangeAxis.setAutoRangeIncludesZero(false);\n\n        double price = 10.5;\n        final ValueMarker marker = new ValueMarker(price);\n        marker.setPaint(Color.blue);\n        plot.addRangeMarker(marker);\n\n        final Ellipse2D point2d = new Ellipse2D.Double(2.5, 10.5, 20, 20);\n        XYShapeAnnotation annotation = new XYShapeAnnotation(point2d, new BasicStroke(2.0f), Color.BLACK, Color.BLUE);\n        plot.addAnnotation(annotation);\n        \n        return chart;\n    }\n\n    public static void main(final String[] args) throws ParseException {\n        final OHLCChartDemo demo = new OHLCChartDemo(&quot;OHLC Chart Demo&quot;);\n        demo.pack();\n        demo.setVisible(true);\n    }\n}\n</code></pre>\n<p>How can I draw a filled circle at the intersection of the horizontal line at level (FEX)10.5 and the date (FEX)&quot;2021-01-02&quot;? Alternatively, how can I draw a horizontal line starting from that point and extending to the right end of the chart?</p>\n"},{"tags":["java","android","subscribe","in-app","android-inapp-purchase"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678936902,"post_id":75743988,"comment_id":133631016,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":5491348,"reputation":1,"user_id":4364487,"display_name":"Yusuf Adbelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678881467,"creation_date":1678879084,"question_id":75743988,"body_markdown":" In-app purchase functionality available in my VPN App. But especially in android 10 version, subscription is not approved. A &quot;confirm the plan&quot; warning appears in the Play store and after a while the subscription is canceled by itself. On other android versions, &quot;confirm plan&quot; message sometimes pops up, but usually it&#39;s confirmed.Also, I added the acknowledge available in my app myself.\r\nPhoto firebase:https://prnt.sc/9ygv1S-LB8YY firebase working.\r\n\r\n\r\n`\r\n```\r\npackage com.svpn.sec.Activities;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.util.Log;\r\nimport android.util.TypedValue;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.RadioButton;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.android.billingclient.api.AcknowledgePurchaseParams;\r\nimport com.android.billingclient.api.AcknowledgePurchaseResponseListener;\r\nimport com.android.billingclient.api.BillingClient;\r\nimport com.android.billingclient.api.BillingClientStateListener;\r\nimport com.android.billingclient.api.BillingFlowParams;\r\nimport com.android.billingclient.api.BillingResult;\r\nimport com.android.billingclient.api.ConsumeParams;\r\nimport com.android.billingclient.api.ConsumeResponseListener;\r\nimport com.android.billingclient.api.Purchase;\r\nimport com.android.billingclient.api.PurchasesResponseListener;\r\nimport com.android.billingclient.api.PurchasesUpdatedListener;\r\nimport com.android.billingclient.api.SkuDetails;\r\nimport com.android.billingclient.api.SkuDetailsParams;\r\nimport com.android.billingclient.api.SkuDetailsResponseListener;\r\nimport com.android.billingclient.api.PurchaseHistoryRecord;\r\n\r\nimport com.android.billingclient.api.BillingClient;\r\nimport com.android.billingclient.api.BillingClientStateListener;\r\nimport com.android.billingclient.api.BillingFlowParams;\r\nimport com.android.billingclient.api.BillingResult;\r\nimport com.android.billingclient.api.Purchase;\r\nimport com.android.billingclient.api.PurchasesUpdatedListener;\r\nimport com.android.billingclient.api.SkuDetails;\r\nimport com.android.billingclient.api.SkuDetailsParams;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.bumptech.glide.Glide;\r\nimport com.svpn.sec.R;\r\nimport com.svpn.sec.Config;\r\nimport com.svpn.sec.Utils.Constants;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.zip.Inflater;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\nimport butterknife.OnClick;\r\nimport pl.droidsonroids.gif.GifImageView;\r\n\r\npublic class UnlockAllActivity&lt;fun&gt; extends AppCompatActivity implements PurchasesUpdatedListener, BillingClientStateListener {\r\n\r\n\r\n    private BillingClient billingClient;\r\n    private Map&lt;String, SkuDetails&gt; skusWithSkuDetails = new HashMap&lt;&gt;();\r\n    private final List&lt;String&gt; allSubs = new ArrayList&lt;&gt;(Arrays.asList(\r\n            Config.all_month_id,\r\n            Config.all_threemonths_id,\r\n            Config.all_sixmonths_id,\r\n            Config.all_yearly_id));\r\n\r\n    private MutableLiveData&lt;Integer&gt; all_check = new MutableLiveData&lt;&gt;();\r\n    @BindView(R.id.one_month)\r\n    RadioButton oneMonth;\r\n    @BindView(R.id.three_month)\r\n    RadioButton threeMonth;\r\n    @BindView(R.id.six_month)\r\n    RadioButton sixMonth;\r\n    @BindView(R.id.one_year)\r\n    RadioButton oneYear;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        billingClient = BillingClient.newBuilder(this)\r\n                .enablePendingPurchases()\r\n                .setListener((billingResult, list) -&gt; {\r\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n                        for(Purchase purchase: list) {\r\n                            if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                                    !purchase.isAcknowledged()) {\r\n                                verifyPurchase(purchase);\r\n                            }\r\n                        }\r\n                    }\r\n                }).build();\r\n        connectToBillingService();\r\n\r\n        setContentView(R.layout.activity_unlock_all_indratech);\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(this);\r\n        View viewUnlockAll = inflater.inflate(R.layout.activity_unlock_all_indratech, null);\r\n        ViewGroup rootUnlockAll = (ViewGroup) viewUnlockAll.getRootView();\r\n        for(int i=0; i&lt;rootUnlockAll.getChildCount(); i++) {\r\n            View child = rootUnlockAll.getChildAt(i);\r\n            if (child instanceof TextView) {\r\n                TextView textView = (TextView) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                textView.setLayoutParams(new ViewGroup.LayoutParams(\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT));\r\n                textView.setTextSize(TypedValue.COMPLEX_UNIT_PX, sizeInPx);\r\n            } else if (child instanceof ProgressBar) {\r\n                ProgressBar progressBar = (ProgressBar) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                progressBar.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\r\n            } else if (child instanceof ImageView) {\r\n                ImageView imageView = (ImageView) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                imageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\r\n            } else if (child instanceof CardView) {\r\n                CardView cardView = (CardView) child;\r\n                float radiusInDp = 10;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int radiusInPx = (int) (radiusInDp * density);\r\n                cardView.setRadius(radiusInPx);\r\n            } else if (child instanceof GifImageView) {\r\n                GifImageView gifImageView = (GifImageView) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                gifImageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\r\n            } else if (child instanceof LinearLayout) {\r\n                LinearLayout linearLayout = (LinearLayout) child;\r\n                float paddingInDp = 10;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int paddingInPx = (int) (paddingInDp * density);\r\n                linearLayout.setPadding(paddingInPx, paddingInPx, paddingInPx, paddingInPx);\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n        billingClient = BillingClient\r\n                .newBuilder(this)\r\n                .setListener(this)\r\n                .enablePendingPurchases()\r\n                .build();\r\n\r\n        connectToBillingService();\r\n\r\n        ButterKnife.bind(this);\r\n        all_check.setValue(-1);\r\n        all_check.observe(this, integer -&gt; {\r\n            switch (integer) {\r\n                case 0:\r\n                    threeMonth.setChecked(false);\r\n                    sixMonth.setChecked(false);\r\n                    oneYear.setChecked(false);\r\n                    break;\r\n                case 1:\r\n                    oneMonth.setChecked(false);\r\n                    sixMonth.setChecked(false);\r\n                    oneYear.setChecked(false);\r\n                    break;\r\n                case 2:\r\n                    threeMonth.setChecked(false);\r\n                    oneMonth.setChecked(false);\r\n                    oneYear.setChecked(false);\r\n                    break;\r\n                case 3:\r\n                    threeMonth.setChecked(false);\r\n                    sixMonth.setChecked(false);\r\n                    oneMonth.setChecked(false);\r\n                    break;\r\n\r\n            }\r\n\r\n            billingClient = BillingClient.newBuilder(this)\r\n                    .enablePendingPurchases()\r\n                    .setListener((billingResult, list) -&gt; {\r\n                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n                            for(Purchase purchase: list) {\r\n                                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                                        !purchase.isAcknowledged()) {\r\n                                    verifyPurchase(purchase);\r\n                                }\r\n                            }\r\n                        }\r\n                    }).build();\r\n            connectToBillingService();\r\n\r\n        });\r\n\r\n        oneMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(0);\r\n        });\r\n        threeMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(1);\r\n        });\r\n        sixMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(2);\r\n        });\r\n        oneYear.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(3);\r\n        });\r\n\r\n    }\r\n\r\n    private void verifyPurchase(Purchase purchase) {\r\n        String requestUrl = &quot;https://us-central1-settrailvpn.cloudfunctions.net/verifyPurchases?&quot; +\r\n                &quot;purchaseToken=&quot; + purchase.getPurchaseToken() + &quot;&amp;&quot; +\r\n                &quot;purchaseTime=&quot; + purchase.getPurchaseTime() + &quot;&amp;&quot; +\r\n                &quot;orderId=&quot; + purchase.getOrderId();\r\n        Activity activity = UnlockAllActivity.this;\r\n\r\n        StringRequest stringRequest = new StringRequest(\r\n                Request.Method.POST,\r\n                requestUrl,\r\n                response -&gt; {\r\n                    try {\r\n                        JSONObject purchaseInfoFromServer = new JSONObject(response);\r\n                        if(purchaseInfoFromServer.getBoolean(&quot;isValid&quot;)) {\r\n\r\n                            AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n                            billingClient.acknowledgePurchase(\r\n                                    acknowledgePurchaseParams,\r\n                                    billingResult -&gt; {\r\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                            trainers();\r\n                                            querySkuDetailsAsync(\r\n                                                    BillingClient.SkuType.SUBS,\r\n                                                    new ArrayList&lt;&gt;(allSubs));\r\n                                        }\r\n                                    }\r\n                            );\r\n                            ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n                            billingClient.consumeAsync(\r\n                                    consumeParams,\r\n                                    (billingResult, s) -&gt; {\r\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                        }\r\n                                    }\r\n                            );\r\n                        }\r\n                    } catch (Exception err) {\r\n\r\n                    }\r\n                },\r\n                error -&gt; {\r\n\r\n                }\r\n        );\r\n\r\n        Volley.newRequestQueue(this).add(stringRequest);\r\n\r\n    }\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Glide.with(this).resumeRequests();\r\n        billingClient.queryPurchasesAsync(\r\n                BillingClient.SkuType.INAPP,\r\n                (billingResult, list) -&gt; {\r\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                        for(Purchase purchase: list) {\r\n                            if(purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                                    !purchase.isAcknowledged()) {\r\n                                verifyPurchase(purchase);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private void trainers() {\r\n        Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\r\n        List&lt;Purchase&gt; purchases = result.getPurchasesList();\r\n        List&lt;String&gt; skus = new ArrayList&lt;&gt;();\r\n\r\n        if (purchases != null) {\r\n            int i = 0;\r\n            for (Purchase purchase : purchases) {\r\n                skus.add(purchase.getSkus().get(i));\r\n                Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\r\n                i++;\r\n            }\r\n\r\n            if (skus.contains(Config.all_month_id) ||\r\n                    skus.contains(Config.all_threemonths_id) ||\r\n                    skus.contains(Config.all_sixmonths_id) ||\r\n                    skus.contains(Config.all_yearly_id)\r\n            ) {\r\n                Config.all_subscription = true;\r\n            } else {\r\n                Config.all_subscription = false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    private void connectToBillingService(){\r\n        billingClient.startConnection(\r\n                new BillingClientStateListener() {\r\n                    @Override\r\n                    public void onBillingServiceDisconnected() {\r\n                        connectToBillingService();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n                        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                            Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\r\n                            List&lt;Purchase&gt; purchases = result.getPurchasesList();\r\n                            List&lt;String&gt; skus = new ArrayList&lt;&gt;();\r\n\r\n                            if (purchases != null) {\r\n                                int i = 0;\r\n                                for (Purchase purchase : purchases) {\r\n                                    skus.add(purchase.getSkus().get(i));\r\n                                    Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\r\n                                    i++;\r\n                                }\r\n\r\n                                if (skus.contains(Config.all_month_id) ||\r\n                                        skus.contains(Config.all_threemonths_id) ||\r\n                                        skus.contains(Config.all_sixmonths_id) ||\r\n                                        skus.contains(Config.all_yearly_id)\r\n                                ) {\r\n                                    Config.all_subscription = true;\r\n                                } else {\r\n                                    Config.all_subscription = false;\r\n                                }\r\n                            }\r\n                            querySkuDetailsAsync(\r\n                                    BillingClient.SkuType.SUBS,\r\n                                    new ArrayList&lt;&gt;(allSubs));\r\n\r\n                            new CountDownTimer(8000, 4000) {\r\n\r\n                                @Override\r\n                                public void onTick(long millisUntilFinished) {\r\n                                    // Her saniye ilem yaplacaksa burada kod yazlabilir.\r\n                                    onResume();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFinish() {\r\n                                    onResume();\r\n                                }\r\n\r\n                            }.start();\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n            trainers();\r\n            querySkuDetailsAsync(\r\n                    BillingClient.SkuType.SUBS,\r\n                    new ArrayList&lt;&gt;(allSubs));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBillingServiceDisconnected() {\r\n        connectToBillingService();\r\n    }\r\n\r\n    @Override\r\n    public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; list) {\r\n        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n            for(Purchase purchase: list) {\r\n                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                        !purchase.isAcknowledged()) {\r\n                    verifyPurchase(purchase);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void querySkuDetailsAsync(@BillingClient.SkuType String skuType, List&lt;String&gt; skuList) {\r\n        SkuDetailsParams params = SkuDetailsParams\r\n                .newBuilder()\r\n                .setSkusList(skuList)\r\n                .setType(skuType)\r\n                .build();\r\n\r\n        billingClient.querySkuDetailsAsync(\r\n                params, (billingResult, skuDetailsList) -&gt; {\r\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; skuDetailsList != null) {\r\n                        for (SkuDetails details : skuDetailsList) {\r\n                            skusWithSkuDetails.put(details.getSku(), details);\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    private void purchase(SkuDetails skuDetails) {\r\n        BillingFlowParams params = BillingFlowParams\r\n                .newBuilder()\r\n                .setSkuDetails(skuDetails)\r\n                .build();\r\n\r\n        billingClient.launchBillingFlow(this, params);\r\n    }\r\n\r\n\r\n    @OnClick(R.id.all_pur)\r\n    void unlockAll() {\r\n        if (all_check.getValue() != null) {\r\n            SkuDetails skuDetails = null;\r\n\r\n            switch (all_check.getValue()) {\r\n                case 0:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_month_id);\r\n                    break;\r\n                case 1:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_threemonths_id);\r\n                    break;\r\n                case 2:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_sixmonths_id);\r\n                    break;\r\n                case 3:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_yearly_id);\r\n                    break;\r\n            }\r\n\r\n            if (skuDetails != null) purchase(skuDetails);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n````\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n52za.png","title":"Can&#39;t fix in-app purchase &quot;confirm plan&quot; issue (Acknowledge)","body":"<p>In-app purchase functionality available in my VPN App. But especially in android 10 version, subscription is not approved. A &quot;confirm the plan&quot; warning appears in the Play store and after a while the subscription is canceled by itself. On other android versions, &quot;confirm plan&quot; message sometimes pops up, but usually it's confirmed.Also, I added the acknowledge available in my app myself.\nPhoto firebase:<a href=\"https://prnt.sc/9ygv1S-LB8YY\" rel=\"nofollow noreferrer\">https://prnt.sc/9ygv1S-LB8YY</a> firebase working.</p>\n<p>`</p>\n<pre><code>package com.svpn.sec.Activities;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.util.Log;\nimport android.util.TypedValue;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.CompoundButton;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.ProgressBar;\nimport android.widget.RadioButton;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.cardview.widget.CardView;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.Observer;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.android.billingclient.api.AcknowledgePurchaseParams;\nimport com.android.billingclient.api.AcknowledgePurchaseResponseListener;\nimport com.android.billingclient.api.BillingClient;\nimport com.android.billingclient.api.BillingClientStateListener;\nimport com.android.billingclient.api.BillingFlowParams;\nimport com.android.billingclient.api.BillingResult;\nimport com.android.billingclient.api.ConsumeParams;\nimport com.android.billingclient.api.ConsumeResponseListener;\nimport com.android.billingclient.api.Purchase;\nimport com.android.billingclient.api.PurchasesResponseListener;\nimport com.android.billingclient.api.PurchasesUpdatedListener;\nimport com.android.billingclient.api.SkuDetails;\nimport com.android.billingclient.api.SkuDetailsParams;\nimport com.android.billingclient.api.SkuDetailsResponseListener;\nimport com.android.billingclient.api.PurchaseHistoryRecord;\n\nimport com.android.billingclient.api.BillingClient;\nimport com.android.billingclient.api.BillingClientStateListener;\nimport com.android.billingclient.api.BillingFlowParams;\nimport com.android.billingclient.api.BillingResult;\nimport com.android.billingclient.api.Purchase;\nimport com.android.billingclient.api.PurchasesUpdatedListener;\nimport com.android.billingclient.api.SkuDetails;\nimport com.android.billingclient.api.SkuDetailsParams;\nimport com.android.volley.Request;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.bumptech.glide.Glide;\nimport com.svpn.sec.R;\nimport com.svpn.sec.Config;\nimport com.svpn.sec.Utils.Constants;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.zip.Inflater;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport butterknife.OnClick;\nimport pl.droidsonroids.gif.GifImageView;\n\npublic class UnlockAllActivity&lt;fun&gt; extends AppCompatActivity implements PurchasesUpdatedListener, BillingClientStateListener {\n\n\n    private BillingClient billingClient;\n    private Map&lt;String, SkuDetails&gt; skusWithSkuDetails = new HashMap&lt;&gt;();\n    private final List&lt;String&gt; allSubs = new ArrayList&lt;&gt;(Arrays.asList(\n            Config.all_month_id,\n            Config.all_threemonths_id,\n            Config.all_sixmonths_id,\n            Config.all_yearly_id));\n\n    private MutableLiveData&lt;Integer&gt; all_check = new MutableLiveData&lt;&gt;();\n    @BindView(R.id.one_month)\n    RadioButton oneMonth;\n    @BindView(R.id.three_month)\n    RadioButton threeMonth;\n    @BindView(R.id.six_month)\n    RadioButton sixMonth;\n    @BindView(R.id.one_year)\n    RadioButton oneYear;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        billingClient = BillingClient.newBuilder(this)\n                .enablePendingPurchases()\n                .setListener((billingResult, list) -&gt; {\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n                        for(Purchase purchase: list) {\n                            if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                                    !purchase.isAcknowledged()) {\n                                verifyPurchase(purchase);\n                            }\n                        }\n                    }\n                }).build();\n        connectToBillingService();\n\n        setContentView(R.layout.activity_unlock_all_indratech);\n\n        LayoutInflater inflater = LayoutInflater.from(this);\n        View viewUnlockAll = inflater.inflate(R.layout.activity_unlock_all_indratech, null);\n        ViewGroup rootUnlockAll = (ViewGroup) viewUnlockAll.getRootView();\n        for(int i=0; i&lt;rootUnlockAll.getChildCount(); i++) {\n            View child = rootUnlockAll.getChildAt(i);\n            if (child instanceof TextView) {\n                TextView textView = (TextView) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                textView.setLayoutParams(new ViewGroup.LayoutParams(\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\n                        ViewGroup.LayoutParams.WRAP_CONTENT));\n                textView.setTextSize(TypedValue.COMPLEX_UNIT_PX, sizeInPx);\n            } else if (child instanceof ProgressBar) {\n                ProgressBar progressBar = (ProgressBar) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                progressBar.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\n            } else if (child instanceof ImageView) {\n                ImageView imageView = (ImageView) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                imageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\n            } else if (child instanceof CardView) {\n                CardView cardView = (CardView) child;\n                float radiusInDp = 10;\n                float density = getResources().getDisplayMetrics().density;\n                int radiusInPx = (int) (radiusInDp * density);\n                cardView.setRadius(radiusInPx);\n            } else if (child instanceof GifImageView) {\n                GifImageView gifImageView = (GifImageView) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                gifImageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\n            } else if (child instanceof LinearLayout) {\n                LinearLayout linearLayout = (LinearLayout) child;\n                float paddingInDp = 10;\n                float density = getResources().getDisplayMetrics().density;\n                int paddingInPx = (int) (paddingInDp * density);\n                linearLayout.setPadding(paddingInPx, paddingInPx, paddingInPx, paddingInPx);\n\n            }\n\n        }\n\n\n        billingClient = BillingClient\n                .newBuilder(this)\n                .setListener(this)\n                .enablePendingPurchases()\n                .build();\n\n        connectToBillingService();\n\n        ButterKnife.bind(this);\n        all_check.setValue(-1);\n        all_check.observe(this, integer -&gt; {\n            switch (integer) {\n                case 0:\n                    threeMonth.setChecked(false);\n                    sixMonth.setChecked(false);\n                    oneYear.setChecked(false);\n                    break;\n                case 1:\n                    oneMonth.setChecked(false);\n                    sixMonth.setChecked(false);\n                    oneYear.setChecked(false);\n                    break;\n                case 2:\n                    threeMonth.setChecked(false);\n                    oneMonth.setChecked(false);\n                    oneYear.setChecked(false);\n                    break;\n                case 3:\n                    threeMonth.setChecked(false);\n                    sixMonth.setChecked(false);\n                    oneMonth.setChecked(false);\n                    break;\n\n            }\n\n            billingClient = BillingClient.newBuilder(this)\n                    .enablePendingPurchases()\n                    .setListener((billingResult, list) -&gt; {\n                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n                            for(Purchase purchase: list) {\n                                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                                        !purchase.isAcknowledged()) {\n                                    verifyPurchase(purchase);\n                                }\n                            }\n                        }\n                    }).build();\n            connectToBillingService();\n\n        });\n\n        oneMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(0);\n        });\n        threeMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(1);\n        });\n        sixMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(2);\n        });\n        oneYear.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(3);\n        });\n\n    }\n\n    private void verifyPurchase(Purchase purchase) {\n        String requestUrl = &quot;https://us-central1-settrailvpn.cloudfunctions.net/verifyPurchases?&quot; +\n                &quot;purchaseToken=&quot; + purchase.getPurchaseToken() + &quot;&amp;&quot; +\n                &quot;purchaseTime=&quot; + purchase.getPurchaseTime() + &quot;&amp;&quot; +\n                &quot;orderId=&quot; + purchase.getOrderId();\n        Activity activity = UnlockAllActivity.this;\n\n        StringRequest stringRequest = new StringRequest(\n                Request.Method.POST,\n                requestUrl,\n                response -&gt; {\n                    try {\n                        JSONObject purchaseInfoFromServer = new JSONObject(response);\n                        if(purchaseInfoFromServer.getBoolean(&quot;isValid&quot;)) {\n\n                            AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n                            billingClient.acknowledgePurchase(\n                                    acknowledgePurchaseParams,\n                                    billingResult -&gt; {\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                                            trainers();\n                                            querySkuDetailsAsync(\n                                                    BillingClient.SkuType.SUBS,\n                                                    new ArrayList&lt;&gt;(allSubs));\n                                        }\n                                    }\n                            );\n                            ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n                            billingClient.consumeAsync(\n                                    consumeParams,\n                                    (billingResult, s) -&gt; {\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                                        }\n                                    }\n                            );\n                        }\n                    } catch (Exception err) {\n\n                    }\n                },\n                error -&gt; {\n\n                }\n        );\n\n        Volley.newRequestQueue(this).add(stringRequest);\n\n    }\n    protected void onResume() {\n        super.onResume();\n        Glide.with(this).resumeRequests();\n        billingClient.queryPurchasesAsync(\n                BillingClient.SkuType.INAPP,\n                (billingResult, list) -&gt; {\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                        for(Purchase purchase: list) {\n                            if(purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                                    !purchase.isAcknowledged()) {\n                                verifyPurchase(purchase);\n                            }\n                        }\n                    }\n                }\n        );\n    }\n\n\n\n\n\n    private void trainers() {\n        Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\n        List&lt;Purchase&gt; purchases = result.getPurchasesList();\n        List&lt;String&gt; skus = new ArrayList&lt;&gt;();\n\n        if (purchases != null) {\n            int i = 0;\n            for (Purchase purchase : purchases) {\n                skus.add(purchase.getSkus().get(i));\n                Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\n                i++;\n            }\n\n            if (skus.contains(Config.all_month_id) ||\n                    skus.contains(Config.all_threemonths_id) ||\n                    skus.contains(Config.all_sixmonths_id) ||\n                    skus.contains(Config.all_yearly_id)\n            ) {\n                Config.all_subscription = true;\n            } else {\n                Config.all_subscription = false;\n            }\n        }\n    }\n\n\n\n\n    private void connectToBillingService(){\n        billingClient.startConnection(\n                new BillingClientStateListener() {\n                    @Override\n                    public void onBillingServiceDisconnected() {\n                        connectToBillingService();\n                    }\n\n                    @Override\n                    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n                        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                            Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\n                            List&lt;Purchase&gt; purchases = result.getPurchasesList();\n                            List&lt;String&gt; skus = new ArrayList&lt;&gt;();\n\n                            if (purchases != null) {\n                                int i = 0;\n                                for (Purchase purchase : purchases) {\n                                    skus.add(purchase.getSkus().get(i));\n                                    Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\n                                    i++;\n                                }\n\n                                if (skus.contains(Config.all_month_id) ||\n                                        skus.contains(Config.all_threemonths_id) ||\n                                        skus.contains(Config.all_sixmonths_id) ||\n                                        skus.contains(Config.all_yearly_id)\n                                ) {\n                                    Config.all_subscription = true;\n                                } else {\n                                    Config.all_subscription = false;\n                                }\n                            }\n                            querySkuDetailsAsync(\n                                    BillingClient.SkuType.SUBS,\n                                    new ArrayList&lt;&gt;(allSubs));\n\n                            new CountDownTimer(8000, 4000) {\n\n                                @Override\n                                public void onTick(long millisUntilFinished) {\n                                    // Her saniye ilem yaplacaksa burada kod yazlabilir.\n                                    onResume();\n                                }\n\n                                @Override\n                                public void onFinish() {\n                                    onResume();\n                                }\n\n                            }.start();\n\n                        }\n\n                    }\n\n                }\n        );\n    }\n\n\n    @Override\n    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n            trainers();\n            querySkuDetailsAsync(\n                    BillingClient.SkuType.SUBS,\n                    new ArrayList&lt;&gt;(allSubs));\n        }\n    }\n\n    @Override\n    public void onBillingServiceDisconnected() {\n        connectToBillingService();\n    }\n\n    @Override\n    public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; list) {\n        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n            for(Purchase purchase: list) {\n                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                        !purchase.isAcknowledged()) {\n                    verifyPurchase(purchase);\n                }\n            }\n        }\n    }\n\n    private void querySkuDetailsAsync(@BillingClient.SkuType String skuType, List&lt;String&gt; skuList) {\n        SkuDetailsParams params = SkuDetailsParams\n                .newBuilder()\n                .setSkusList(skuList)\n                .setType(skuType)\n                .build();\n\n        billingClient.querySkuDetailsAsync(\n                params, (billingResult, skuDetailsList) -&gt; {\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; skuDetailsList != null) {\n                        for (SkuDetails details : skuDetailsList) {\n                            skusWithSkuDetails.put(details.getSku(), details);\n                        }\n                    }\n                }\n        );\n    }\n\n    private void purchase(SkuDetails skuDetails) {\n        BillingFlowParams params = BillingFlowParams\n                .newBuilder()\n                .setSkuDetails(skuDetails)\n                .build();\n\n        billingClient.launchBillingFlow(this, params);\n    }\n\n\n    @OnClick(R.id.all_pur)\n    void unlockAll() {\n        if (all_check.getValue() != null) {\n            SkuDetails skuDetails = null;\n\n            switch (all_check.getValue()) {\n                case 0:\n                    skuDetails = skusWithSkuDetails.get(Config.all_month_id);\n                    break;\n                case 1:\n                    skuDetails = skusWithSkuDetails.get(Config.all_threemonths_id);\n                    break;\n                case 2:\n                    skuDetails = skusWithSkuDetails.get(Config.all_sixmonths_id);\n                    break;\n                case 3:\n                    skuDetails = skusWithSkuDetails.get(Config.all_yearly_id);\n                    break;\n            }\n\n            if (skuDetails != null) purchase(skuDetails);\n        }\n\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","if-statement","conditional-operator"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1678876184,"post_id":75743442,"comment_id":133616647,"body_markdown":"There&#39;s nothing to optimize there. It&#39;s fine as it is and the conditional operator is meant to return a result, not for side effects.","body":"There&#39;s nothing to optimize there. It&#39;s fine as it is and the conditional operator is meant to return a result, not for side effects."},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1678876214,"post_id":75743442,"comment_id":133616653,"body_markdown":"The complexity will stay the same, you could only play code golf","body":"The complexity will stay the same, you could only play code golf"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1678880784,"post_id":75743442,"comment_id":133617968,"body_markdown":"Something to be aware of: using a ternary can cause unintended promotion of arguments, e.g. `return true ? Integer.parseInt(0) : Double.parseInt(0)` would always return a `Double` (on a method with a `Number` return type, for instance).","body":"Something to be aware of: using a ternary can cause unintended promotion of arguments, e.g. <code>return true ? Integer.parseInt(0) : Double.parseInt(0)</code> would always return a <code>Double</code> (on a method with a <code>Number</code> return type, for instance)."}],"answers":[{"tags":[],"owner":{"account_id":17755377,"reputation":15,"user_id":12983404,"display_name":"Notlimitedwolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678880302,"creation_date":1678880302,"answer_id":75744185,"question_id":75743442,"body_markdown":"Ternary operator is used to choose a value, not a variable.\r\n```java\r\npublic void someFunc(Boolean multiplied) {\r\n    Integer counter = multiplied?1:2; //chooses a value 1 or 2 depending on boolean\r\n}\r\n```\r\nSticking to common if-else is the best solution here. However, if you reallt want to go with a ternary operator (and I do not recommend doing this) you can do the following:\r\n\r\n```java\r\nboolean value = getResult();\r\nInteger[] counters = new Integer[] {0, 0};\r\ncounters[value?0:1]+=1;\r\n```","title":"Using ternary operators with boolean return function in java","body":"<p>Ternary operator is used to choose a value, not a variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void someFunc(Boolean multiplied) {\n    Integer counter = multiplied?1:2; //chooses a value 1 or 2 depending on boolean\n}\n</code></pre>\n<p>Sticking to common if-else is the best solution here. However, if you reallt want to go with a ternary operator (and I do not recommend doing this) you can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean value = getResult();\nInteger[] counters = new Integer[] {0, 0};\ncounters[value?0:1]+=1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678881316,"creation_date":1678881316,"answer_id":75744369,"question_id":75743442,"body_markdown":"In case your if statement grows and you have a great number of variables that you want to modify dynamically, look into the [Map](https://en.wikipedia.org/wiki/Associative_array) data structure, in Java specifically, the implementation you&#39;ll most likely end up using is [HashMap](https://www.baeldung.com/java-hashmap).\r\n\r\nHowever, in this case, using a Map is absolutely oversized and only reduces the safety of your code and readability.","title":"Using ternary operators with boolean return function in java","body":"<p>In case your if statement grows and you have a great number of variables that you want to modify dynamically, look into the <a href=\"https://en.wikipedia.org/wiki/Associative_array\" rel=\"nofollow noreferrer\">Map</a> data structure, in Java specifically, the implementation you'll most likely end up using is <a href=\"https://www.baeldung.com/java-hashmap\" rel=\"nofollow noreferrer\">HashMap</a>.</p>\n<p>However, in this case, using a Map is absolutely oversized and only reduces the safety of your code and readability.</p>\n"}],"owner":{"account_id":27474068,"reputation":33,"user_id":20962379,"display_name":"user20962379"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678881316,"creation_date":1678876091,"question_id":75743442,"body_markdown":"    boolean value = getResult();\r\n    if(value)\r\n    \tcount1++;\r\n    else\r\n    \tcount2++;\r\n\r\nHow to optimize it using ternary operator\r\n\r\nto reduce complexity\r\n","title":"Using ternary operators with boolean return function in java","body":"<pre><code>boolean value = getResult();\nif(value)\n    count1++;\nelse\n    count2++;\n</code></pre>\n<p>How to optimize it using ternary operator</p>\n<p>to reduce complexity</p>\n"},{"tags":["java","android","android-studio","dependency-injection","dagger-2"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":2,"creation_date":1542735618,"post_id":53391806,"comment_id":93672337,"body_markdown":"Sounds like Guava version mismatch. Can&#39;t tell you who&#39;s conflicting with who, though. Another possibility is that your &quot;image loader library&quot; if it is a library module, then it should specify Dagger as `api` instead of `implementation`.","body":"Sounds like Guava version mismatch. Can&#39;t tell you who&#39;s conflicting with who, though. Another possibility is that your &quot;image loader library&quot; if it is a library module, then it should specify Dagger as <code>api</code> instead of <code>implementation</code>."},{"owner":{"account_id":6855147,"reputation":2428,"user_id":5270947,"display_name":"Juanes30"},"score":0,"creation_date":1542746717,"post_id":53391806,"comment_id":93677675,"body_markdown":"Do you have additional dependencies to Dagger?","body":"Do you have additional dependencies to Dagger?"},{"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"score":0,"creation_date":1542885754,"post_id":53391806,"comment_id":93733712,"body_markdown":"I just have these dagger dependencies in build.gradle. \n    implementation &quot;com.google.dagger:dagger:2.16&quot;\n    implementation &quot;com.google.dagger:dagger-android-support:2.16&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-compiler:2.16&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.16&quot;","body":"I just have these dagger dependencies in build.gradle.      implementation &quot;com.google.dagger:dagger:2.16&quot;     implementation &quot;com.google.dagger:dagger-android-support:2.16&quot;     annotationProcessor &quot;com.google.dagger:dagger-compiler:2.16&quot;     annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.16&quot;"},{"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"score":1,"creation_date":1542887967,"post_id":53391806,"comment_id":93734945,"body_markdown":"@EpicPandaForce thanks for your suggestion. I just add guava api in my build.gradle file. and problem resolved. Thanks again","body":"@EpicPandaForce thanks for your suggestion. I just add guava api in my build.gradle file. and problem resolved. Thanks again"}],"answers":[{"tags":[],"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678881119,"creation_date":1542888152,"answer_id":53430599,"question_id":53391806,"body_markdown":"Dagger 2 needs Guava so I added Guava library in my `build.gradle` file and problem is resolved.\r\n\r\nAdd this line in `build.gradle`:\r\n\r\n     api &#39;com.google.guava:guava:24.1-android&#39;\r\n","title":"Failed resolution of: Lcom/google/common/collect/ImmutableMap; at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(","body":"<p>Dagger 2 needs Guava so I added Guava library in my <code>build.gradle</code> file and problem is resolved.</p>\n<p>Add this line in <code>build.gradle</code>:</p>\n<pre><code> api 'com.google.guava:guava:24.1-android'\n</code></pre>\n"}],"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3061,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53430599,"answer_count":1,"score":2,"last_activity_date":1678881119,"creation_date":1542712525,"question_id":53391806,"body_markdown":"I am getting this issue after integrating Dagger 2 to implement dependency injection of ImageDownloader library while running the app.\r\n\r\nThis is what I did:\r\n\r\nIn build.gradle. I added these lines:\r\n\r\n    implementation &quot;com.google.dagger:dagger:2.16&quot;\r\n    implementation &quot;com.google.dagger:dagger-android-support:2.16&quot;\r\n    annotationProcessor &quot;com.google.dagger:dagger-compiler:2.16&quot;\r\n    annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.16&quot;\r\n\r\nThis is my class API in which I wanted to separate dependencies from the activity class:\r\n\r\n    public class ImageDownloaderApi {\r\n\r\n        @Inject\r\n        public ImageDownloaderApi(){\r\n        }\r\n    \r\n        //some other methods here\r\n    }\r\n\r\nIn my `MainActivity` I added these lines:\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n        @Inject\r\n        ImageDownloaderApi imageDownloaderApi;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            AndroidInjection.inject(this);\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    }\r\n\r\nThen created an `Application` object:\r\n\r\n    public class MyApplication extends Application {\r\n\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    }\r\n\r\nThen registered the `Application` class via the manifest like this:\r\n\r\n    &lt;application\r\n        android:name=&quot;.MyApplication&quot;\r\n\r\nI created a module named `MyApplicationModule` like this:\r\n\r\n    @Module\r\n    public abstract class MyApplicationModule {\r\n        @ContributesAndroidInjector\r\n        abstract MainActivity contributeActivityInjector();\r\n    }\r\n\r\nI created an interface named `MyApplicationComponent`:\r\n\r\n    @Component(modules = { AndroidInjectionModule.class, MyApplicationModule.class})\r\n    public interface MyApplicationComponent extends AndroidInjector&lt;MyApplication&gt; {\r\n    }\r\n\r\n`MyApplication` class:\r\n\r\n    public class MyApplication extends Application implements HasActivityInjector {\r\n        @Inject\r\n        DispatchingAndroidInjector&lt;Activity&gt; dispatchingAndroidInjector;\r\n\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            DaggerMyApplicationComponent.create().inject(this);\r\n        }\r\n\r\n        @Override\r\n        public DispatchingAndroidInjector&lt;Activity&gt; activityInjector() {\r\n            return dispatchingAndroidInjector;\r\n        }\r\n    }\r\n\r\nNow after this implementation when I run the app in the emulator, the app crashes with the following logs:\r\n\r\n      --------- beginning of crash\r\n\t11-20 14:51:03.201 6745-6745/com.my.app E/AndroidRuntime: FATAL EXCEPTION: main\r\n\t    Process: com.my.app, PID: 6745\r\n\t    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/common/collect/ImmutableMap;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)\r\n\t\tat com.my.app.di.MyApplication.onCreate(MyApplication.java:19)\r\n\t\tat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)\r\n\t\tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)\r\n\t\tat android.app.ActivityThread.access$1500(ActivityThread.java:151)\r\n\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)\r\n\t\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\t\tat android.os.Looper.loop(Looper.java:135)\r\n\t\tat android.app.ActivityThread.main(ActivityThread.java:5254)\r\n\t\tat java.lang.reflect.Method.invoke(Native Method)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\t\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n\t     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.common.collect.ImmutableMap&quot; on path: DexPathList[[zip file &quot;/data/app/com.my.app-1/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.my.app-1/lib/x86, /vendor/lib, /system/lib]]\r\n\t\tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:511)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:469)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)&#160;\r\n\t\tat com.my.app.di.MyApplication.onCreate(MyApplication.java:19)&#160;\r\n\t\tat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)&#160;\r\n\t\tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)&#160;\r\n\t\tat android.app.ActivityThread.access$1500(ActivityThread.java:151)&#160;\r\n\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)&#160;\r\n\t\tat android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n\t\tat android.os.Looper.loop(Looper.java:135)&#160;\r\n\t\tat android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n\t\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n\t\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n\t    \tSuppressed: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\r\n\t\tat java.lang.Class.classForName(Native Method)\r\n\t\tat java.lang.BootClassLoader.findClass(ClassLoader.java:781)\r\n\t\tat java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:504)\r\n\t\t\t\t... 18 more\r\n\t     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\r\n\r\n\r\n\r\nFor additional info. I am also getting this warning line before the logs i posted above\r\n\r\n    11-20 14:51:03.172 6745-6745/? E/libprocessgroup: failed to make and chown /acct/uid_10058: Read-only file system","title":"Failed resolution of: Lcom/google/common/collect/ImmutableMap; at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(","body":"<p>I am getting this issue after integrating Dagger 2 to implement dependency injection of ImageDownloader library while running the app.</p>\n\n<p>This is what I did:</p>\n\n<p>In build.gradle. I added these lines:</p>\n\n<pre><code>implementation \"com.google.dagger:dagger:2.16\"\nimplementation \"com.google.dagger:dagger-android-support:2.16\"\nannotationProcessor \"com.google.dagger:dagger-compiler:2.16\"\nannotationProcessor \"com.google.dagger:dagger-android-processor:2.16\"\n</code></pre>\n\n<p>This is my class API in which I wanted to separate dependencies from the activity class:</p>\n\n<pre><code>public class ImageDownloaderApi {\n\n    @Inject\n    public ImageDownloaderApi(){\n    }\n\n    //some other methods here\n}\n</code></pre>\n\n<p>In my <code>MainActivity</code> I added these lines:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    @Inject\n    ImageDownloaderApi imageDownloaderApi;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        AndroidInjection.inject(this);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n\n<p>Then created an <code>Application</code> object:</p>\n\n<pre><code>public class MyApplication extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n}\n</code></pre>\n\n<p>Then registered the <code>Application</code> class via the manifest like this:</p>\n\n<pre><code>&lt;application\n    android:name=\".MyApplication\"\n</code></pre>\n\n<p>I created a module named <code>MyApplicationModule</code> like this:</p>\n\n<pre><code>@Module\npublic abstract class MyApplicationModule {\n    @ContributesAndroidInjector\n    abstract MainActivity contributeActivityInjector();\n}\n</code></pre>\n\n<p>I created an interface named <code>MyApplicationComponent</code>:</p>\n\n<pre><code>@Component(modules = { AndroidInjectionModule.class, MyApplicationModule.class})\npublic interface MyApplicationComponent extends AndroidInjector&lt;MyApplication&gt; {\n}\n</code></pre>\n\n<p><code>MyApplication</code> class:</p>\n\n<pre><code>public class MyApplication extends Application implements HasActivityInjector {\n    @Inject\n    DispatchingAndroidInjector&lt;Activity&gt; dispatchingAndroidInjector;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        DaggerMyApplicationComponent.create().inject(this);\n    }\n\n    @Override\n    public DispatchingAndroidInjector&lt;Activity&gt; activityInjector() {\n        return dispatchingAndroidInjector;\n    }\n}\n</code></pre>\n\n<p>Now after this implementation when I run the app in the emulator, the app crashes with the following logs:</p>\n\n<pre><code>  --------- beginning of crash\n11-20 14:51:03.201 6745-6745/com.my.app E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.my.app, PID: 6745\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/common/collect/ImmutableMap;\n    at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)\n    at com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)\n    at com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)\n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)\n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)\n    at com.my.app.di.MyApplication.onCreate(MyApplication.java:19)\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)\n    at android.app.ActivityThread.access$1500(ActivityThread.java:151)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5254)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.common.collect.ImmutableMap\" on path: DexPathList[[zip file \"/data/app/com.my.app-1/base.apk\"],nativeLibraryDirectories=[/data/app/com.my.app-1/lib/x86, /vendor/lib, /system/lib]]\n    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\n    at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)\n    at com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)\n    at com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)\n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)\n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)\n    at com.my.app.di.MyApplication.onCreate(MyApplication.java:19)\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)\n    at android.app.ActivityThread.access$1500(ActivityThread.java:151)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5254)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n        Suppressed: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n    at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n            ... 18 more\n     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\n</code></pre>\n\n<p>For additional info. I am also getting this warning line before the logs i posted above</p>\n\n<pre><code>11-20 14:51:03.172 6745-6745/? E/libprocessgroup: failed to make and chown /acct/uid_10058: Read-only file system\n</code></pre>\n"},{"tags":["java","azure-devops","azure-pipelines","sonatype","nexus-iq"],"comments":[{"owner":{"account_id":10291434,"reputation":3048,"user_id":7593083,"accept_rate":86,"display_name":"Maryann Atakpa"},"score":0,"creation_date":1662547659,"post_id":70218995,"comment_id":130029507,"body_markdown":"Did you find a solution to this?","body":"Did you find a solution to this?"},{"owner":{"account_id":17662980,"reputation":41,"user_id":12824396,"display_name":"alexis19apl"},"score":0,"creation_date":1667470946,"post_id":70218995,"comment_id":131176315,"body_markdown":"Hi @Emmac, yes, I did update the java version in our testing server to 14, that solved the issue, hope this helps you as well","body":"Hi @Emmac, yes, I did update the java version in our testing server to 14, that solved the issue, hope this helps you as well"},{"owner":{"account_id":10291434,"reputation":3048,"user_id":7593083,"accept_rate":86,"display_name":"Maryann Atakpa"},"score":0,"creation_date":1667476350,"post_id":70218995,"comment_id":131178153,"body_markdown":"Thanks Alexis. This was what worked for me also to resolve this issue.","body":"Thanks Alexis. This was what worked for me also to resolve this issue."}],"answers":[{"tags":[],"owner":{"account_id":17662980,"reputation":41,"user_id":12824396,"display_name":"alexis19apl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678880145,"creation_date":1678880145,"answer_id":75744154,"question_id":70218995,"body_markdown":"# Solution for this threat\r\nWe performed an update of the **java version** in our testing server to **version 14**, which solved the issue, hope this helps you all the community as well","title":"Azure DevOps NexusIQ task &#39;Error from CLI Command failed with exit code 1: java -jar&#39;","body":"<h1>Solution for this threat</h1>\n<p>We performed an update of the <strong>java version</strong> in our testing server to <strong>version 14</strong>, which solved the issue, hope this helps you all the community as well</p>\n"}],"owner":{"account_id":17662980,"reputation":41,"user_id":12824396,"display_name":"alexis19apl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75744154,"answer_count":1,"score":2,"last_activity_date":1678880894,"creation_date":1638555419,"question_id":70218995,"body_markdown":"# What do I want to accomplish? #\r\n&#39;*Hello to the incredible community of StackOverflow*&#39;\r\n\r\nScan the **packages** of our code with **NexusIQ Task**, in an **Azure DevOps Services Pipeline**\r\n\r\n## Environment ##\r\n\r\n 1. **Azure DevOps Services**--&gt;Pipelines--&gt;Task--&gt;**NexusIQ**\r\n \r\n 2. **NexusIQ Task Parameter(s)**:\r\n\r\n - **Service Connection** = Stablished and whitelisted\r\n\r\n - **Scan Targets** = `**/*.jar, **/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll`\r\n\r\n## Error output ##\r\nPerforming the **Scan** of our code the last bit throws the next error:\r\n\r\n`Error from CLI: Error: Command failed with exit code 1: java -jar`\r\n\r\n## Error log detailed ##\r\n`Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\cli-params.txt\r\n`\r\n##  Troubleshooting details ##\r\n - I did test changing the **Scan Tartget** from `**/*.jar, **/*.war,\r\n   **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll` to `**/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll`\r\n - As can be seen above the `**/*.jar` **file extension** was removed but either way the error output remains the same:\r\n\r\n`Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\cli-params.txt`\r\n\r\n","title":"Azure DevOps NexusIQ task &#39;Error from CLI Command failed with exit code 1: java -jar&#39;","body":"<h1>What do I want to accomplish?</h1>\n<p>'<em>Hello to the incredible community of StackOverflow</em>'</p>\n<p>Scan the <strong>packages</strong> of our code with <strong>NexusIQ Task</strong>, in an <strong>Azure DevOps Services Pipeline</strong></p>\n<h2>Environment</h2>\n<ol>\n<li><p><strong>Azure DevOps Services</strong>--&gt;Pipelines--&gt;Task--&gt;<strong>NexusIQ</strong></p>\n</li>\n<li><p><strong>NexusIQ Task Parameter(s)</strong>:</p>\n</li>\n</ol>\n<ul>\n<li><p><strong>Service Connection</strong> = Stablished and whitelisted</p>\n</li>\n<li><p><strong>Scan Targets</strong> = <code>**/*.jar, **/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll</code></p>\n</li>\n</ul>\n<h2>Error output</h2>\n<p>Performing the <strong>Scan</strong> of our code the last bit throws the next error:</p>\n<p><code>Error from CLI: Error: Command failed with exit code 1: java -jar</code></p>\n<h2>Error log detailed</h2>\n<p><code>Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\cli-params.txt </code></p>\n<h2>Troubleshooting details</h2>\n<ul>\n<li>I did test changing the <strong>Scan Tartget</strong> from <code>**/*.jar, **/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll</code> to <code>**/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll</code></li>\n<li>As can be seen above the <code>**/*.jar</code> <strong>file extension</strong> was removed but either way the error output remains the same:</li>\n</ul>\n<p><code>Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\cli-params.txt</code></p>\n"},{"tags":["java","logging","spring-cloud-sleuth","zipkin"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676377817,"creation_date":1676377817,"answer_id":75447857,"question_id":75436884,"body_markdown":"There&#39;s nothing else there in Sleuth / Micrometer Tracing better than what you&#39;re currently doing as a custom solution","title":"How to propagate updated baggage key back to client from remote server? || spring cloud sleuth","body":"<p>There's nothing else there in Sleuth / Micrometer Tracing better than what you're currently doing as a custom solution</p>\n"},{"tags":[],"owner":{"account_id":4278417,"reputation":1,"user_id":3498496,"display_name":"Ramazan Guner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678880599,"creation_date":1678826034,"answer_id":75738125,"question_id":75436884,"body_markdown":"All services can use a filter class. If request has a baggage field, filter concats -&gt; and appRoute of current service. If there is no baggage field, filter sets appRoute of current service.\r\n\r\nFor example;\r\n&lt;br&gt;\r\nif A calls B and B calls C :\r\n&lt;br&gt;\r\n*A service output:*\r\n&lt;br&gt;\r\nRoute=A\r\n&lt;br&gt;\r\n*B service output:*\r\n&lt;br&gt;\r\nRoute=A-&gt;B\r\n&lt;br&gt;\r\n*C service output:*\r\nRoute:A-&gt;B-&gt;C\r\n&lt;br&gt;\r\n\r\napplication.yaml file for A service:\r\n-----------------------\r\n    spring:\r\n      application:\r\n        name: A-service\r\n      sleuth:\r\n        baggage:\r\n          remote-fields: app-route\r\n          correlation-enabled: true\r\n          correlation-fields: app-route\r\n    system:\r\n      app-route:\r\n       name: A\r\nOther services system.app-route.name value could be B and C\r\n\r\nConfiguration for injecting BaggageField\r\n------------------------------------------\r\n    @Configuration\r\n    public class SleuthConfiguration {\r\n\r\n         @Bean\r\n         BaggageField appRouteField() {\r\n            return BaggageField.create(&quot;app-route&quot;);\r\n         }\r\n    }\r\n\r\nFilter class for all services:\r\n------------------------------------------\r\n    public class LogFilter implements Filter {\r\n\r\n    @Autowired\r\n    private BaggageField appRouteBaggageField;\r\n\r\n    @Value(value = &quot;${system.app-route.name:}&quot;)\r\n    private String appRouteName;\r\n\r\n    @Value(value = &quot;${spring.application.name:-}&quot;)\r\n    private String applicationName;\r\n\r\n    private String appName;\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n        appName = (appRouteName == null || appRouteName.isEmpty()) ? applicationName : appRouteName;\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) {\r\n        updateAppRouteBaggageField();\r\n        logger.info(&quot;Route={}&quot;,appRouteBaggageField.getValue());\r\n    }\r\n\r\n    private void updateAppRouteBaggageField() {\r\n        String appRouteBaggageFieldValue = appRouteBaggageField.getValue();\r\n        appRouteBaggageField.updateValue((appRouteBaggageFieldValue == null || appRouteBaggageFieldValue.isEmpty())\r\n                ? appName : (appRouteBaggageFieldValue + &quot;-&gt;&quot; + appName));\r\n    }\r\n    }\r\n\r\nbuild.gradle file:\r\n------------------\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n\r\n","title":"How to propagate updated baggage key back to client from remote server? || spring cloud sleuth","body":"<p>All services can use a filter class. If request has a baggage field, filter concats -&gt; and appRoute of current service. If there is no baggage field, filter sets appRoute of current service.</p>\n<p>For example;\n<br>\nif A calls B and B calls C :\n<br>\n<em>A service output:</em>\n<br>\nRoute=A\n<br>\n<em>B service output:</em>\n<br>\nRoute=A-&gt;B\n<br>\n<em>C service output:</em>\nRoute:A-&gt;B-&gt;C\n<br></p>\n<h2>application.yaml file for A service:</h2>\n<pre><code>spring:\n  application:\n    name: A-service\n  sleuth:\n    baggage:\n      remote-fields: app-route\n      correlation-enabled: true\n      correlation-fields: app-route\nsystem:\n  app-route:\n   name: A\n</code></pre>\n<p>Other services system.app-route.name value could be B and C</p>\n<h2>Configuration for injecting BaggageField</h2>\n<pre><code>@Configuration\npublic class SleuthConfiguration {\n\n     @Bean\n     BaggageField appRouteField() {\n        return BaggageField.create(&quot;app-route&quot;);\n     }\n}\n</code></pre>\n<h2>Filter class for all services:</h2>\n<pre><code>public class LogFilter implements Filter {\n\n@Autowired\nprivate BaggageField appRouteBaggageField;\n\n@Value(value = &quot;${system.app-route.name:}&quot;)\nprivate String appRouteName;\n\n@Value(value = &quot;${spring.application.name:-}&quot;)\nprivate String applicationName;\n\nprivate String appName;\n\n@Override\npublic void init(FilterConfig filterConfig) {\n    appName = (appRouteName == null || appRouteName.isEmpty()) ? applicationName : appRouteName;\n}\n\n@Override\npublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) {\n    updateAppRouteBaggageField();\n    logger.info(&quot;Route={}&quot;,appRouteBaggageField.getValue());\n}\n\nprivate void updateAppRouteBaggageField() {\n    String appRouteBaggageFieldValue = appRouteBaggageField.getValue();\n    appRouteBaggageField.updateValue((appRouteBaggageFieldValue == null || appRouteBaggageFieldValue.isEmpty())\n            ? appName : (appRouteBaggageFieldValue + &quot;-&gt;&quot; + appName));\n}\n}\n</code></pre>\n<h2>build.gradle file:</h2>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\n</code></pre>\n"}],"owner":{"account_id":7843297,"reputation":117,"user_id":5929089,"display_name":"Adi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75447857,"answer_count":2,"score":0,"last_activity_date":1678880599,"creation_date":1676296983,"question_id":75436884,"body_markdown":"We are currently using spring cloud sleuth for trace context propagation throughout our microservices and it is working perfectly fine.\r\n\r\nI have one requirement where let us say we have three services **A,B and C** and for every request we receive, we create one custom [baggage key][1] at service A and propogate it through B and C.\r\n\r\nhere is the ask, the flow of any request is like **A-&gt;B-&gt;C**\r\n. \r\nI want to update the Baggage key in service B and propagate this update to A so that server A will start printing new Baggage key in its trace context once it receives response from B.\r\n\r\nAs a custom solution, we can receive this updated baggage key in the response header and set it on the trace context but I am looking for more clean approach to handle this through sping cloud sleuth.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/project-features.html#features-baggage","title":"How to propagate updated baggage key back to client from remote server? || spring cloud sleuth","body":"<p>We are currently using spring cloud sleuth for trace context propagation throughout our microservices and it is working perfectly fine.</p>\n<p>I have one requirement where let us say we have three services <strong>A,B and C</strong> and for every request we receive, we create one custom <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/project-features.html#features-baggage\" rel=\"nofollow noreferrer\">baggage key</a> at service A and propogate it through B and C.</p>\n<p>here is the ask, the flow of any request is like <strong>A-&gt;B-&gt;C</strong>\n.\nI want to update the Baggage key in service B and propagate this update to A so that server A will start printing new Baggage key in its trace context once it receives response from B.</p>\n<p>As a custom solution, we can receive this updated baggage key in the response header and set it on the trace context but I am looking for more clean approach to handle this through sping cloud sleuth.</p>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1678886010,"post_id":75744232,"comment_id":133619459,"body_markdown":"Are you storing these conf. files inside the exploded WAR file? Because if they need to be modifiable, that&#39;s a terrible practice. As you&#39;ve seen, every redeploy can cause the current contents to be replaced. Try storing the config files outside of the WAR file, and refer to the location using a system property defined in JBoss that the application can read.","body":"Are you storing these conf. files inside the exploded WAR file? Because if they need to be modifiable, that&#39;s a terrible practice. As you&#39;ve seen, every redeploy can cause the current contents to be replaced. Try storing the config files outside of the WAR file, and refer to the location using a system property defined in JBoss that the application can read."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1678886982,"post_id":75744232,"comment_id":133619775,"body_markdown":"When you restart your jboss, you have to deploy the application if you want to run it. If you want to remove the application from jboss - just remove the war. There is no way to have the application without deploying it","body":"When you restart your jboss, you have to deploy the application if you want to run it. If you want to remove the application from jboss - just remove the war. There is no way to have the application without deploying it"},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1678888421,"post_id":75744232,"comment_id":133620280,"body_markdown":"The scanner can be set not to auto-deploy","body":"The scanner can be set not to auto-deploy"},{"owner":{"account_id":6782356,"reputation":66,"user_id":5222152,"display_name":"alexkidd"},"score":0,"creation_date":1678897936,"post_id":75744232,"comment_id":133623515,"body_markdown":"@ehsavoie ty for the reply, I tried to Scan Enabled = false. But at that time it&#39;s not auto-starting the application. You have to reach the management console and start the app yourself.\nI need a configuration that will not redeploy my .war file in cases where it is necessary to restart the server.","body":"@ehsavoie ty for the reply, I tried to Scan Enabled = false. But at that time it&#39;s not auto-starting the application. You have to reach the management console and start the app yourself. I need a configuration that will not redeploy my .war file in cases where it is necessary to restart the server."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678984378,"post_id":75744232,"comment_id":133642901,"body_markdown":"Note that if your application is not deployed it won&#39;t work. There is a deployment process that occurs when a deployment is found. This can be disable, however the server will effectively not have the deployment.","body":"Note that if your application is not deployed it won&#39;t work. There is a deployment process that occurs when a deployment is found. This can be disable, however the server will effectively not have the deployment."}],"owner":{"account_id":6782356,"reputation":66,"user_id":5222152,"display_name":"alexkidd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678880574,"creation_date":1678880574,"question_id":75744232,"body_markdown":"I&#39;m using JBoss 7.2 eap (WIN10) for a project. Whenever I restart the JBoss for some reason, it redeploys my .war file. This situation causes rewrite my conf. files. I searched for some resources and questions about this topic. So I change the &quot;deployment scanner subsystem&quot; config default to this from standalone.xml. But it still redeploys my .war file after the restart. How can I solve this?\r\n\r\n**Auto Deploy Exploded**\r\n*false*\r\n\r\n**Auto Deploy Xml**\r\n*true*\r\n\r\n**Auto Deploy Zipped**\r\n*false*\r\n\r\n**Deployment Timeout**\r\n*600*\r\n\r\n**Path**\r\n*deployments*\r\n\r\n**Relative To**\r\n*jboss.server.base.dir*\r\n\r\n**Runtime Failure Causes Rollback**\r\n*${jboss.deployment.scanner.rollback.on.failure:false}*\r\n\r\n**Scan Enabled**\r\n*true*\r\n\r\n**Scan Interval** \r\n*5000*","title":"How to disable .war redeploy when JBoss 7.2 restart?","body":"<p>I'm using JBoss 7.2 eap (WIN10) for a project. Whenever I restart the JBoss for some reason, it redeploys my .war file. This situation causes rewrite my conf. files. I searched for some resources and questions about this topic. So I change the &quot;deployment scanner subsystem&quot; config default to this from standalone.xml. But it still redeploys my .war file after the restart. How can I solve this?</p>\n<p><strong>Auto Deploy Exploded</strong>\n<em>false</em></p>\n<p><strong>Auto Deploy Xml</strong>\n<em>true</em></p>\n<p><strong>Auto Deploy Zipped</strong>\n<em>false</em></p>\n<p><strong>Deployment Timeout</strong>\n<em>600</em></p>\n<p><strong>Path</strong>\n<em>deployments</em></p>\n<p><strong>Relative To</strong>\n<em>jboss.server.base.dir</em></p>\n<p><strong>Runtime Failure Causes Rollback</strong>\n<em>${jboss.deployment.scanner.rollback.on.failure:false}</em></p>\n<p><strong>Scan Enabled</strong>\n<em>true</em></p>\n<p><strong>Scan Interval</strong>\n<em>5000</em></p>\n"},{"tags":["java","spring","hibernate","lazydatamodel"],"owner":{"account_id":6678367,"reputation":1,"user_id":5152329,"display_name":"FATH Okyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678880473,"creation_date":1678873964,"question_id":75743037,"body_markdown":"The problem is that when a person&#39;s Doctorate school information changes, other school information also changes. t has degree title, school and department values. For example, the Master&#39;s, Bachelor&#39;s, Associate&#39;s and high school information cannot be changed through the web interface until the doctorate values are changed. When Doctorate values changed, Master&#39;s, Bachelor&#39;s, Associate&#39;s and high school values changed in the same way as Doctorate values on website.\r\n\r\nI am new at Java and can&#39;t figure Hibernate or lazy model caused it.\r\n\r\n```\r\npublic boolean merge(EmployeeEducationInfo obj) {\r\n\tthis.highSchool.merge(obj.getHighSchool());\r\n\tthis.associate.merge(obj.getAssociate());\r\n\tthis.bachelor.merge(obj.getBachelor());\r\n\tthis.master.merge(obj.getMaster());\r\n\tthis.doctoral.merge(obj.getDoctoral());\r\n\r\n\tif(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\r\n\t     this.setEducationStatus(obj.getEducationStatus());\r\n\t}\r\n\tif(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\r\n\t     this.setShortDescription(obj.getShortDescription());\r\n\t}\r\n\tif(this.getDescription().compareTo(obj.getDescription()) != 0) {\r\n\t     this.setDescription(obj.getDescription());\r\n\t}\r\n    \r\n    return true;\r\n}\r\n```\r\nWhen I comment this line `this.doctoral.merge(obj.getDoctoral());` and enter new values on web site, Master&#39;s values now replace license and other values. When I comment the Master&#39;s` //this.master.merge(obj.getMaster());`, Bachelor&#39;s, Associate&#39;s and high school lines respectively by one by, all the values are corrected when I get rid of the comment line. but it only happens for one person, the same error is repeated for a new person on the website.\r\n\r\n```\r\n@With\r\n@Getter\r\n@AllArgsConstructor\r\n@Table(name = &quot;----&quot;, schema = &quot;---&quot;)\r\n@Entity(name = &quot;EmployeeEducationInfo&quot;)\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class EmployeeEducationInfo extends BaseEntity {\r\n\r\n\tprivate static final long serialVersionUID = -1644326415323600803L;\r\n\r\n\t@NonNull\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, unique = true)\r\n\t@GeneratedValue(generator = &quot;employeeEducationInfoSequence&quot;)\r\n\t@GenericGenerator(name = &quot;employeeEducationInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\r\n\t\t\t@Parameter(name = &quot;---&quot;, value = &quot;---&quot;),\r\n\t\t\t@Parameter(name = &quot;---&quot;, value = &quot;1000&quot;), @Parameter(name = &quot;---&quot;, value = &quot;1&quot;),\r\n\t\t\t@Parameter(name = &quot;---&quot;, value = &quot;---&quot;) })\r\n\tprivate Integer id;\r\n\r\n\tpublic EmployeeEducationInfo() {\r\n\t\tdescription = &quot; &quot;;\r\n\t\tshortDescription = &quot; &quot;;\r\n\t}\r\n\r\n\tpublic void setHighSchool(  EmployeeDegreeInfo newhighSchool) {\r\n\t    this. highSchool = newhighSchool;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;HIGH_SCHOOL_DEGREE_ID&quot;)\r\n\tprivate EmployeeDegreeInfo highSchool;\r\n\t\r\n\tpublic void setAssociate(EmployeeDegreeInfo newAssociate) {\r\n\t    this.associate = newAssociate;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;ASSOCIATE_DEGREE_ID&quot;)\r\n\tprivate EmployeeDegreeInfo associate;\r\n\t\r\n\tpublic void setBachelor(EmployeeDegreeInfo newBachelor) {\r\n\t    this.bachelor = newBachelor;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;BACHELOR_DEGREE_ID&quot;, nullable = false, unique = true)\r\n\tprivate EmployeeDegreeInfo bachelor;\r\n\t\r\n\tpublic void setMaster(EmployeeDegreeInfo newMaster) {\r\n\t    this.master = newMaster;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;MASTER_DEGREE_ID&quot;, nullable = false, unique = true)\r\n\tprivate EmployeeDegreeInfo master;\r\n\r\n\tpublic void setDoctoral(EmployeeDegreeInfo newDoctoral) {\r\n\t    this.doctoral = newDoctoral;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DOCTORAL_DEGREE_ID&quot;, nullable = false, unique = true)\r\n\tprivate EmployeeDegreeInfo doctoral;\r\n\r\n\tpublic void setEducationStatus(EducationStatus newEducationStatus) {\r\n\t    this.educationStatus = newEducationStatus;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EducationStatus.class, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;, nullable = false)\r\n\tprivate EducationStatus educationStatus;\r\n\r\n\tpublic int compareTo(EmployeeEducationInfo other) {\r\n\t\treturn this.description.compareTo(other.getDescription());\r\n\t}\r\n\r\n\tpublic EmployeeEducationInfo clone() {\r\n\t\tEmployeeEducationInfo clone = withId(getId());\r\n\r\n\t\tif (getHighSchool() != null) {\r\n\t\t\tclone.setHighSchool(getHighSchool());\r\n\t\t}\r\n\r\n\t\tif (getAssociate() != null) {\r\n\t\t\tclone.setAssociate(getAssociate());\r\n\t\t}\r\n\r\n\t\tif (getBachelor() != null) {\r\n\t\t\tclone.setBachelor(getBachelor());\r\n\t\t}\r\n\r\n\t\tif (getMaster() != null) {\r\n\t\t\tclone.setMaster(getMaster());\r\n\t\t}\r\n\r\n\t\tif (getDoctoral() != null) {\r\n\t\t\tclone.setDoctoral(getDoctoral());\r\n\t\t}\r\n\r\n\t\tif (getEducationStatus() != null) {\r\n\t\t\tclone.setEducationStatus(getEducationStatus());\r\n\t\t}\r\n\r\n\t\treturn clone;\r\n\t}\r\n\t\r\n\tpublic boolean haveDifference(EmployeeEducationInfo obj) {\r\n\t\treturn !(this.id.compareTo(obj.getId()) == 0\r\n\t\t\t\t&amp;&amp; this.educationStatus.getId().compareTo(obj.getEducationStatus().getId()) == 0\r\n\t\t\t\t&amp;&amp; this.shortDescription.compareTo(obj.getShortDescription()) == 0\r\n\t\t\t\t&amp;&amp; this.description.compareTo(obj.getDescription()) == 0);\r\n\t}\r\n\t\r\n\tpublic boolean merge(EmployeeEducationInfo obj) {\r\n//\t\tif(!haveDifference(obj)) {\r\n//\t\t\treturn false;\r\n//\t\t}\r\n\t\t\r\n\t\tthis.highSchool.merge(obj.getHighSchool());\r\n\t\tthis.associate.merge(obj.getAssociate());\r\n\t\tthis.bachelor.merge(obj.getBachelor());\r\n\t\tthis.master.merge(obj.getMaster());\r\n\t\tthis.doctoral.merge(obj.getDoctoral());\r\n\t\t\r\n\t\tif(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\r\n\t\t     this.setEducationStatus(obj.getEducationStatus());\r\n\t\t}\r\n\t\tif(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\r\n\t\t     this.setShortDescription(obj.getShortDescription());\r\n\t\t}\r\n\t\tif(this.getDescription().compareTo(obj.getDescription()) != 0) {\r\n\t\t     this.setDescription(obj.getDescription());\r\n\t\t}\r\n\t    \r\n\t    return true;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@With\r\n@Getter \r\n@AllArgsConstructor\r\n@Table(name = &quot;---&quot;, schema = &quot;---&quot;)\r\n@Entity(name = &quot;-----&quot;)\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class EmployeeDegreeInfo extends BaseEntity {\r\n\tprivate static final long serialVersionUID = -1644326415323600803L;\r\n\r\n\t@NonNull\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, unique = true)\r\n\t@GenericGenerator(name = &quot;employeeDegreeInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\r\n\t    @Parameter(name = &quot;---&quot;, value = &quot;----&quot;),\r\n\t    @Parameter(name = &quot;---&quot;, value = &quot;1000&quot;),\r\n        @Parameter(name = &quot;-----&quot;, value = &quot;1&quot;),\r\n        @Parameter(name = &quot;-----&quot;, value = &quot;----&quot;)\r\n\t})\r\n\t@GeneratedValue(generator = &quot;employeeDegreeInfoSequence&quot;)\r\n\tprivate Integer id;\r\n\t\r\n\tpublic EmployeeDegreeInfo() {\r\n\t\tdescription      = &quot; &quot;;\r\n\t\tshortDescription = &quot; &quot;;\r\n\t}\r\n\t\r\n\tpublic void setGraduationDate(Date newGraduationDate) {\r\n\t    this.graduationDate = newGraduationDate;\r\n\t}\r\n\r\n\t@Temporal(TemporalType.DATE)\r\n\t@Column(name = &quot;GRADUATION_DATE&quot;)\r\n\tprivate Date graduationDate;\r\n\t\r\n\tpublic void setDegree( Degree newDegree) {\r\n\t    this.degree = newDegree;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DEGREE_ID&quot;, nullable = false)\r\n\tprivate Degree degree;\r\n\t\r\n\tpublic void setDegreeTitle(DegreeTitle newDegreeTitle) {\r\n\t    this.degreeTitle = newDegreeTitle;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DEGREE_TITLE_ID&quot;, nullable = false)\r\n\tprivate DegreeTitle degreeTitle;\r\n\t\r\n\tpublic void setSchool(School newSchool) {\r\n\t    this.school = newSchool;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;SCHOOL_ID&quot;)\r\n\tprivate School school;\r\n\t\r\n\tpublic void setEducationStatus(EducationStatus neweducationStatus) {\r\n\t    this.educationStatus = neweducationStatus;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;)\r\n\tprivate EducationStatus educationStatus;\r\n\t\r\n\tpublic int compareTo(EmployeeDegreeInfo other) {\r\n\t\treturn this.description.compareTo(other.getDescription());\r\n    }\r\n\t\r\n\tpublic EmployeeDegreeInfo clone() {\r\n\t\tEmployeeDegreeInfo clone = withId(getId());\r\n\t\t\r\n\t\tif(getDegree() != null) {\r\n\t\t\tclone.setDegree(getDegree());\r\n\t\t}\r\n\t\t\r\n\t\tif(getSchool() != null) {\r\n\t\t\tclone.setSchool(getSchool());\r\n\t\t}\r\n    \t\r\n\t\tif(getEducationStatus() != null) {\r\n\t\t\tclone.setEducationStatus(getEducationStatus().clone());\r\n\t\t}\r\n\t\t\r\n\t\treturn clone;\r\n\t}\r\n\t\r\n\tpublic boolean merge(EmployeeDegreeInfo obj) {\r\n\t\tif(compareDatesWithNullControl(this.graduationDate, obj.getGraduationDate()) != 0) {\r\n\t\t     this.setGraduationDate(obj.getGraduationDate());\r\n\t\t}\r\n\t\tif(this.getDegree().getId().compareTo(obj.getDegree().getId()) != 0) {\r\n\t\t     this.setDegree(obj.getDegree());\r\n\t\t}\r\n\t\tif(this.getDegreeTitle().getId().compareTo(obj.getDegreeTitle().getId()) != 0) {\r\n\t\t     this.setDegreeTitle(obj.getDegreeTitle());\r\n\t\t}\r\n\t\tif(this.getSchool().getId().compareTo(obj.getSchool().getId()) != 0) {\r\n\t\t     this.setSchool(obj.getSchool());\r\n\t\t}\r\n\t\tif(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\r\n\t\t     this.setEducationStatus(obj.getEducationStatus());\r\n\t\t}\r\n\t\tif(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\r\n\t\t     this.setShortDescription(obj.getShortDescription());\r\n\t\t}\r\n\t\tif(this.getDescription().compareTo(obj.getDescription()) != 0) {\r\n\t\t     this.setDescription(obj.getDescription());\r\n\t\t}\r\n\t    \r\n\t    return true;\r\n\t}\r\n}\r\n```\r\n\r\nOn these pages I tried to code setters instead of lazy model. t doesn&#39;t work.","title":"The values of one object affect and change the values of other objects","body":"<p>The problem is that when a person's Doctorate school information changes, other school information also changes. t has degree title, school and department values. For example, the Master's, Bachelor's, Associate's and high school information cannot be changed through the web interface until the doctorate values are changed. When Doctorate values changed, Master's, Bachelor's, Associate's and high school values changed in the same way as Doctorate values on website.</p>\n<p>I am new at Java and can't figure Hibernate or lazy model caused it.</p>\n<pre><code>public boolean merge(EmployeeEducationInfo obj) {\n    this.highSchool.merge(obj.getHighSchool());\n    this.associate.merge(obj.getAssociate());\n    this.bachelor.merge(obj.getBachelor());\n    this.master.merge(obj.getMaster());\n    this.doctoral.merge(obj.getDoctoral());\n\n    if(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\n         this.setEducationStatus(obj.getEducationStatus());\n    }\n    if(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\n         this.setShortDescription(obj.getShortDescription());\n    }\n    if(this.getDescription().compareTo(obj.getDescription()) != 0) {\n         this.setDescription(obj.getDescription());\n    }\n    \n    return true;\n}\n</code></pre>\n<p>When I comment this line <code>this.doctoral.merge(obj.getDoctoral());</code> and enter new values on web site, Master's values now replace license and other values. When I comment the Master's<code> //this.master.merge(obj.getMaster());</code>, Bachelor's, Associate's and high school lines respectively by one by, all the values are corrected when I get rid of the comment line. but it only happens for one person, the same error is repeated for a new person on the website.</p>\n<pre><code>@With\n@Getter\n@AllArgsConstructor\n@Table(name = &quot;----&quot;, schema = &quot;---&quot;)\n@Entity(name = &quot;EmployeeEducationInfo&quot;)\n@EqualsAndHashCode(callSuper = false)\npublic class EmployeeEducationInfo extends BaseEntity {\n\n    private static final long serialVersionUID = -1644326415323600803L;\n\n    @NonNull\n    @Id\n    @Column(name = &quot;ID&quot;, unique = true)\n    @GeneratedValue(generator = &quot;employeeEducationInfoSequence&quot;)\n    @GenericGenerator(name = &quot;employeeEducationInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\n            @Parameter(name = &quot;---&quot;, value = &quot;---&quot;),\n            @Parameter(name = &quot;---&quot;, value = &quot;1000&quot;), @Parameter(name = &quot;---&quot;, value = &quot;1&quot;),\n            @Parameter(name = &quot;---&quot;, value = &quot;---&quot;) })\n    private Integer id;\n\n    public EmployeeEducationInfo() {\n        description = &quot; &quot;;\n        shortDescription = &quot; &quot;;\n    }\n\n    public void setHighSchool(  EmployeeDegreeInfo newhighSchool) {\n        this. highSchool = newhighSchool;\n    }\n\n    @NonNull\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;HIGH_SCHOOL_DEGREE_ID&quot;)\n    private EmployeeDegreeInfo highSchool;\n    \n    public void setAssociate(EmployeeDegreeInfo newAssociate) {\n        this.associate = newAssociate;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;ASSOCIATE_DEGREE_ID&quot;)\n    private EmployeeDegreeInfo associate;\n    \n    public void setBachelor(EmployeeDegreeInfo newBachelor) {\n        this.bachelor = newBachelor;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;BACHELOR_DEGREE_ID&quot;, nullable = false, unique = true)\n    private EmployeeDegreeInfo bachelor;\n    \n    public void setMaster(EmployeeDegreeInfo newMaster) {\n        this.master = newMaster;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;MASTER_DEGREE_ID&quot;, nullable = false, unique = true)\n    private EmployeeDegreeInfo master;\n\n    public void setDoctoral(EmployeeDegreeInfo newDoctoral) {\n        this.doctoral = newDoctoral;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DOCTORAL_DEGREE_ID&quot;, nullable = false, unique = true)\n    private EmployeeDegreeInfo doctoral;\n\n    public void setEducationStatus(EducationStatus newEducationStatus) {\n        this.educationStatus = newEducationStatus;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EducationStatus.class, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;, nullable = false)\n    private EducationStatus educationStatus;\n\n    public int compareTo(EmployeeEducationInfo other) {\n        return this.description.compareTo(other.getDescription());\n    }\n\n    public EmployeeEducationInfo clone() {\n        EmployeeEducationInfo clone = withId(getId());\n\n        if (getHighSchool() != null) {\n            clone.setHighSchool(getHighSchool());\n        }\n\n        if (getAssociate() != null) {\n            clone.setAssociate(getAssociate());\n        }\n\n        if (getBachelor() != null) {\n            clone.setBachelor(getBachelor());\n        }\n\n        if (getMaster() != null) {\n            clone.setMaster(getMaster());\n        }\n\n        if (getDoctoral() != null) {\n            clone.setDoctoral(getDoctoral());\n        }\n\n        if (getEducationStatus() != null) {\n            clone.setEducationStatus(getEducationStatus());\n        }\n\n        return clone;\n    }\n    \n    public boolean haveDifference(EmployeeEducationInfo obj) {\n        return !(this.id.compareTo(obj.getId()) == 0\n                &amp;&amp; this.educationStatus.getId().compareTo(obj.getEducationStatus().getId()) == 0\n                &amp;&amp; this.shortDescription.compareTo(obj.getShortDescription()) == 0\n                &amp;&amp; this.description.compareTo(obj.getDescription()) == 0);\n    }\n    \n    public boolean merge(EmployeeEducationInfo obj) {\n//      if(!haveDifference(obj)) {\n//          return false;\n//      }\n        \n        this.highSchool.merge(obj.getHighSchool());\n        this.associate.merge(obj.getAssociate());\n        this.bachelor.merge(obj.getBachelor());\n        this.master.merge(obj.getMaster());\n        this.doctoral.merge(obj.getDoctoral());\n        \n        if(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\n             this.setEducationStatus(obj.getEducationStatus());\n        }\n        if(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\n             this.setShortDescription(obj.getShortDescription());\n        }\n        if(this.getDescription().compareTo(obj.getDescription()) != 0) {\n             this.setDescription(obj.getDescription());\n        }\n        \n        return true;\n    }\n}\n</code></pre>\n<pre><code>@With\n@Getter \n@AllArgsConstructor\n@Table(name = &quot;---&quot;, schema = &quot;---&quot;)\n@Entity(name = &quot;-----&quot;)\n@EqualsAndHashCode(callSuper = false)\npublic class EmployeeDegreeInfo extends BaseEntity {\n    private static final long serialVersionUID = -1644326415323600803L;\n\n    @NonNull\n    @Id\n    @Column(name = &quot;ID&quot;, unique = true)\n    @GenericGenerator(name = &quot;employeeDegreeInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\n        @Parameter(name = &quot;---&quot;, value = &quot;----&quot;),\n        @Parameter(name = &quot;---&quot;, value = &quot;1000&quot;),\n        @Parameter(name = &quot;-----&quot;, value = &quot;1&quot;),\n        @Parameter(name = &quot;-----&quot;, value = &quot;----&quot;)\n    })\n    @GeneratedValue(generator = &quot;employeeDegreeInfoSequence&quot;)\n    private Integer id;\n    \n    public EmployeeDegreeInfo() {\n        description      = &quot; &quot;;\n        shortDescription = &quot; &quot;;\n    }\n    \n    public void setGraduationDate(Date newGraduationDate) {\n        this.graduationDate = newGraduationDate;\n    }\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;GRADUATION_DATE&quot;)\n    private Date graduationDate;\n    \n    public void setDegree( Degree newDegree) {\n        this.degree = newDegree;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DEGREE_ID&quot;, nullable = false)\n    private Degree degree;\n    \n    public void setDegreeTitle(DegreeTitle newDegreeTitle) {\n        this.degreeTitle = newDegreeTitle;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DEGREE_TITLE_ID&quot;, nullable = false)\n    private DegreeTitle degreeTitle;\n    \n    public void setSchool(School newSchool) {\n        this.school = newSchool;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;SCHOOL_ID&quot;)\n    private School school;\n    \n    public void setEducationStatus(EducationStatus neweducationStatus) {\n        this.educationStatus = neweducationStatus;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;)\n    private EducationStatus educationStatus;\n    \n    public int compareTo(EmployeeDegreeInfo other) {\n        return this.description.compareTo(other.getDescription());\n    }\n    \n    public EmployeeDegreeInfo clone() {\n        EmployeeDegreeInfo clone = withId(getId());\n        \n        if(getDegree() != null) {\n            clone.setDegree(getDegree());\n        }\n        \n        if(getSchool() != null) {\n            clone.setSchool(getSchool());\n        }\n        \n        if(getEducationStatus() != null) {\n            clone.setEducationStatus(getEducationStatus().clone());\n        }\n        \n        return clone;\n    }\n    \n    public boolean merge(EmployeeDegreeInfo obj) {\n        if(compareDatesWithNullControl(this.graduationDate, obj.getGraduationDate()) != 0) {\n             this.setGraduationDate(obj.getGraduationDate());\n        }\n        if(this.getDegree().getId().compareTo(obj.getDegree().getId()) != 0) {\n             this.setDegree(obj.getDegree());\n        }\n        if(this.getDegreeTitle().getId().compareTo(obj.getDegreeTitle().getId()) != 0) {\n             this.setDegreeTitle(obj.getDegreeTitle());\n        }\n        if(this.getSchool().getId().compareTo(obj.getSchool().getId()) != 0) {\n             this.setSchool(obj.getSchool());\n        }\n        if(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\n             this.setEducationStatus(obj.getEducationStatus());\n        }\n        if(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\n             this.setShortDescription(obj.getShortDescription());\n        }\n        if(this.getDescription().compareTo(obj.getDescription()) != 0) {\n             this.setDescription(obj.getDescription());\n        }\n        \n        return true;\n    }\n}\n</code></pre>\n<p>On these pages I tried to code setters instead of lazy model. t doesn't work.</p>\n"},{"tags":["java","arraylist","hashmap","set"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678867888,"post_id":75741797,"comment_id":133614455,"body_markdown":"as commented in code `// if all indices match, set allMismatch to false` - `&quot;cherry&quot;` does not match `&quot;cherries&quot;` -&gt; not all indices match -&gt; allMismatch is not set to false (BTW no CSV, no file related question)","body":"as commented in code <code>&#47;&#47; if all indices match, set allMismatch to false</code> - <code>&quot;cherry&quot;</code> does not match <code>&quot;cherries&quot;</code> -&gt; not all indices match -&gt; allMismatch is not set to false (BTW no CSV, no file related question)"},{"owner":{"account_id":22027676,"reputation":1,"user_id":16295416,"display_name":"Hariharan Murugan"},"score":0,"creation_date":1678868557,"post_id":75741797,"comment_id":133614630,"body_markdown":"@user16320675 thanks for your quick reply ! , yes in the above list only cherry is not matching with cherries where as the other two (apple and banana ) are matching so it shouldnt be considered as a missing list, it is a mismatchedata","body":"@user16320675 thanks for your quick reply ! , yes in the above list only cherry is not matching with cherries where as the other two (apple and banana ) are matching so it shouldnt be considered as a missing list, it is a mismatchedata"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1678869128,"post_id":75741797,"comment_id":133614800,"body_markdown":"Precisely define &quot;missing list&quot; and &quot;mistmatch data&quot; first, please. With the help of &quot;some match&quot;, &quot;all match&quot;, &quot;no match&quot; or alike at least.","body":"Precisely define &quot;missing list&quot; and &quot;mistmatch data&quot; first, please. With the help of &quot;some match&quot;, &quot;all match&quot;, &quot;no match&quot; or alike at least."},{"owner":{"account_id":22027676,"reputation":1,"user_id":16295416,"display_name":"Hariharan Murugan"},"score":0,"creation_date":1678870208,"post_id":75741797,"comment_id":133615084,"body_markdown":"@user16320675 if all the elements of prelist is not matched then it should be considered as missing list other wise it&#39;s a mistmatch. For example instead of cherries if it is a mango then also it should be considered as a mismatch not a missinglist","body":"@user16320675 if all the elements of prelist is not matched then it should be considered as missing list other wise it&#39;s a mistmatch. For example instead of cherries if it is a mango then also it should be considered as a mismatch not a missinglist"}],"answers":[{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678880296,"creation_date":1678880296,"answer_id":75744181,"question_id":75741797,"body_markdown":"Maybe someone else can resolve it by using stream to simplify your code, but anyway it works now and hopefully, it helps you to resolve the problem! Good luck \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Consumer;\r\n    \r\n    \r\n    public class CSVFileComparison {\r\n        public static void main(String[] args) {\r\n            List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\r\n    \r\n            // Add data to preCSV\r\n            List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\r\n            preList1.add(&quot;apple&quot;);\r\n            preList1.add(&quot;cherries&quot;);\r\n            preList1.add(&quot;banana&quot;);\r\n            preCSV.add(preList1);\r\n    \r\n            List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\r\n            preList2.add(&quot;orange&quot;);\r\n            preList2.add(&quot;pear&quot;);\r\n            preList2.add(&quot;grape&quot;);\r\n            preCSV.add(preList2);\r\n    \r\n            List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\r\n            preList3.add(&quot;watermelon&quot;);\r\n            preList3.add(&quot;kiwi&quot;);\r\n            preList3.add(&quot;pineapple&quot;);\r\n            preCSV.add(preList3);\r\n    \r\n            // Add data to postCSV\r\n            List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\r\n            postList1.add(&quot;apple&quot;);\r\n            postList1.add(&quot;banana&quot;);\r\n            postList1.add(&quot;cherry&quot;);\r\n            postCSV.add(postList1);\r\n    \r\n            List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\r\n            postList2.add(&quot;orange&quot;);\r\n            postList2.add(&quot;pear&quot;);\r\n            postList2.add(&quot;grape&quot;);\r\n            postCSV.add(postList2);\r\n    \r\n            List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\r\n    \r\n            Consumer&lt;List&lt;String&gt;&gt; searchList = element -&gt; {\r\n                boolean isfound = false;\r\n                boolean isEqual = false;\r\n                for (List&lt;String&gt; list : postCSV) {\r\n                    List&lt;String&gt; listCopy = new ArrayList&lt;&gt;(list);\r\n                    listCopy.retainAll(element);\r\n                    if (listCopy.size() &gt; 0 &amp;&amp; listCopy.size() != list.size()) {\r\n                        isfound = true;\r\n                    } else if (listCopy.size() == element.size()) {\r\n                        isEqual = true;\r\n                    }\r\n                }\r\n                if (isfound)\r\n                    mismatchedData.add(element);\r\n                else if (!isEqual)\r\n                    missingLists.add(element);\r\n            };\r\n    \r\n            preCSV.stream().forEach(searchList);\r\n    \r\n    \r\n    \r\n            System.out.println(missingLists); // Output: 1\r\n            System.out.println(mismatchedData); // Output: 1\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Compare two List&lt;List&lt;String&gt;&gt; in java and find the incorrect data and missing rows","body":"<p>Maybe someone else can resolve it by using stream to simplify your code, but anyway it works now and hopefully, it helps you to resolve the problem! Good luck</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\n\npublic class CSVFileComparison {\n    public static void main(String[] args) {\n        List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\n\n        // Add data to preCSV\n        List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\n        preList1.add(&quot;apple&quot;);\n        preList1.add(&quot;cherries&quot;);\n        preList1.add(&quot;banana&quot;);\n        preCSV.add(preList1);\n\n        List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\n        preList2.add(&quot;orange&quot;);\n        preList2.add(&quot;pear&quot;);\n        preList2.add(&quot;grape&quot;);\n        preCSV.add(preList2);\n\n        List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\n        preList3.add(&quot;watermelon&quot;);\n        preList3.add(&quot;kiwi&quot;);\n        preList3.add(&quot;pineapple&quot;);\n        preCSV.add(preList3);\n\n        // Add data to postCSV\n        List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\n        postList1.add(&quot;apple&quot;);\n        postList1.add(&quot;banana&quot;);\n        postList1.add(&quot;cherry&quot;);\n        postCSV.add(postList1);\n\n        List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\n        postList2.add(&quot;orange&quot;);\n        postList2.add(&quot;pear&quot;);\n        postList2.add(&quot;grape&quot;);\n        postCSV.add(postList2);\n\n        List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\n\n        Consumer&lt;List&lt;String&gt;&gt; searchList = element -&gt; {\n            boolean isfound = false;\n            boolean isEqual = false;\n            for (List&lt;String&gt; list : postCSV) {\n                List&lt;String&gt; listCopy = new ArrayList&lt;&gt;(list);\n                listCopy.retainAll(element);\n                if (listCopy.size() &gt; 0 &amp;&amp; listCopy.size() != list.size()) {\n                    isfound = true;\n                } else if (listCopy.size() == element.size()) {\n                    isEqual = true;\n                }\n            }\n            if (isfound)\n                mismatchedData.add(element);\n            else if (!isEqual)\n                missingLists.add(element);\n        };\n\n        preCSV.stream().forEach(searchList);\n\n\n\n        System.out.println(missingLists); // Output: 1\n        System.out.println(mismatchedData); // Output: 1\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22027676,"reputation":1,"user_id":16295416,"display_name":"Hariharan Murugan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678880296,"creation_date":1678866486,"question_id":75741797,"body_markdown":"\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n        List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\r\n        List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\r\n\r\n        // Add data to preCSV\r\n        List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\r\n        preList1.add(&quot;apple&quot;);\r\n        preList1.add(&quot;banana&quot;);\r\n        preList1.add(&quot;cherries&quot;);\r\n        preCSV.add(preList1);\r\n\r\n        List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\r\n        preList2.add(&quot;orange&quot;);\r\n        preList2.add(&quot;pear&quot;);\r\n        preList2.add(&quot;grape&quot;);\r\n        preCSV.add(preList2);\r\n\r\n        List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\r\n        preList3.add(&quot;watermelon&quot;);\r\n        preList3.add(&quot;kiwi&quot;);\r\n        preList3.add(&quot;pineapple&quot;);\r\n        preCSV.add(preList3);\r\n\r\n       // Add data to postCSV\r\n        List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\r\n        postList1.add(&quot;apple&quot;);\r\n        postList1.add(&quot;banana&quot;);\r\n        postList1.add(&quot;cherry&quot;);\r\n        postCSV.add(postList1);\r\n\r\n        List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\r\n        postList2.add(&quot;orange&quot;);\r\n        postList2.add(&quot;pear&quot;);\r\n        postList2.add(&quot;grape&quot;);\r\n        postCSV.add(postList2);\r\n\r\n        List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\r\n        List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\r\n\r\n\r\n        for (int i = 0; i &lt; preCSV.size(); i++) {\r\n            List&lt;String&gt; preList = preCSV.get(i);\r\n            boolean rowFound = false;\r\n            for (List&lt;String&gt; postList : postCSV) {\r\n                if (preList.size() == postList.size() &amp;&amp; preList.equals(postList)) {\r\n                    rowFound = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!rowFound) {\r\n                boolean allMismatch = true; // assume all indices mismatch\r\n                for (int j = 0; j &lt; postCSV.size(); j++) {\r\n                    List&lt;String&gt; postList = postCSV.get(j);\r\n                    int mismatch = 0;\r\n                    if (preList.size() == postList.size()) {\r\n                        for (int k = 0; k &lt; preList.size(); k++) {\r\n                            if (!preList.get(k).equals(postList.get(k))) {\r\n                                mismatch++;\r\n                                break; // break as soon as a mismatch is found\r\n                            }\r\n                        }\r\n                        if (mismatch == 0) { // if all indices match, set allMismatch to false\r\n                            allMismatch = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (allMismatch) { // add preList to missingLists if all indices mismatch\r\n                    missingLists.add(preList);\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(missingLists.size()); // Output: 1\r\n        System.out.println(missingLists.get(0)+&quot; &quot;+ missingLists.get(1)); // Output should only contain [watermelon, kiwi, pineapple]\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\nThe above code consider prelist1 as a missing list but it should not be considered as missinglist it should be a mismatched data\r\n\r\n\r\n**Actual Output:** missing contains [apple, banana, cherries] [watermelon, kiwi, pineapple]\r\n**Expected Output:**\r\nmissingLists = [watermelon, kiwi, pineapple]  and \r\nmismatchedData = [apple, banana, cherries]","title":"Compare two List&lt;List&lt;String&gt;&gt; in java and find the incorrect data and missing rows","body":"<pre><code>public static void main(String[] args) throws Exception {\n        List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\n\n        // Add data to preCSV\n        List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\n        preList1.add(&quot;apple&quot;);\n        preList1.add(&quot;banana&quot;);\n        preList1.add(&quot;cherries&quot;);\n        preCSV.add(preList1);\n\n        List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\n        preList2.add(&quot;orange&quot;);\n        preList2.add(&quot;pear&quot;);\n        preList2.add(&quot;grape&quot;);\n        preCSV.add(preList2);\n\n        List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\n        preList3.add(&quot;watermelon&quot;);\n        preList3.add(&quot;kiwi&quot;);\n        preList3.add(&quot;pineapple&quot;);\n        preCSV.add(preList3);\n\n       // Add data to postCSV\n        List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\n        postList1.add(&quot;apple&quot;);\n        postList1.add(&quot;banana&quot;);\n        postList1.add(&quot;cherry&quot;);\n        postCSV.add(postList1);\n\n        List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\n        postList2.add(&quot;orange&quot;);\n        postList2.add(&quot;pear&quot;);\n        postList2.add(&quot;grape&quot;);\n        postCSV.add(postList2);\n\n        List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\n\n\n        for (int i = 0; i &lt; preCSV.size(); i++) {\n            List&lt;String&gt; preList = preCSV.get(i);\n            boolean rowFound = false;\n            for (List&lt;String&gt; postList : postCSV) {\n                if (preList.size() == postList.size() &amp;&amp; preList.equals(postList)) {\n                    rowFound = true;\n                    break;\n                }\n            }\n            if (!rowFound) {\n                boolean allMismatch = true; // assume all indices mismatch\n                for (int j = 0; j &lt; postCSV.size(); j++) {\n                    List&lt;String&gt; postList = postCSV.get(j);\n                    int mismatch = 0;\n                    if (preList.size() == postList.size()) {\n                        for (int k = 0; k &lt; preList.size(); k++) {\n                            if (!preList.get(k).equals(postList.get(k))) {\n                                mismatch++;\n                                break; // break as soon as a mismatch is found\n                            }\n                        }\n                        if (mismatch == 0) { // if all indices match, set allMismatch to false\n                            allMismatch = false;\n                            break;\n                        }\n                    }\n                }\n                if (allMismatch) { // add preList to missingLists if all indices mismatch\n                    missingLists.add(preList);\n                }\n            }\n        }\n\n        System.out.println(missingLists.size()); // Output: 1\n        System.out.println(missingLists.get(0)+&quot; &quot;+ missingLists.get(1)); // Output should only contain [watermelon, kiwi, pineapple]\n\n\n    }\n\n</code></pre>\n<p>The above code consider prelist1 as a missing list but it should not be considered as missinglist it should be a mismatched data</p>\n<p><strong>Actual Output:</strong> missing contains [apple, banana, cherries] [watermelon, kiwi, pineapple]\n<strong>Expected Output:</strong>\nmissingLists = [watermelon, kiwi, pineapple]  and\nmismatchedData = [apple, banana, cherries]</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":1506669,"reputation":585,"user_id":1409896,"accept_rate":73,"display_name":"Prabhath"},"score":0,"creation_date":1427099165,"post_id":29205130,"comment_id":46622407,"body_markdown":"Grete.But i have question ,If i add test implementations, is it affect to original implementations when running the actual code ?.","body":"Grete.But i have question ,If i add test implementations, is it affect to original implementations when running the actual code ?."},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1427108038,"post_id":29205130,"comment_id":46626900,"body_markdown":"@Prabhath No. The provider configuration for the test is (by default) independent from the code which will be in the packaged JAR file.","body":"@Prabhath No. The provider configuration for the test is (by default) independent from the code which will be in the packaged JAR file."},{"owner":{"account_id":8021623,"reputation":515,"user_id":6050113,"display_name":"Nasibulloh Yandashev"},"score":0,"creation_date":1602583200,"post_id":29205130,"comment_id":113759834,"body_markdown":"Hi. I did as you said @SubOptimal but, it did not help me. I wanted to test ServiceLoader stored class, but I got error &quot;Provider not found&quot;. Is there any other ways?","body":"Hi. I did as you said @SubOptimal but, it did not help me. I wanted to test ServiceLoader stored class, but I got error &quot;Provider not found&quot;. Is there any other ways?"}],"tags":[],"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1427096513,"creation_date":1427095981,"answer_id":29205130,"question_id":29204840,"body_markdown":"You need to copy the &quot;provider-configuration file&quot; into your test class directory.\r\n\r\nassuming your test class files are located at \r\n\r\n    test/classes/\r\n\r\nyou need to copy the &quot;provider-configuration file&quot; to \r\n\r\n    test/classes/META-INF/services/your.package.ContextPlugin\r\n\r\nHow to copy the files depend on your build tool (e.g. maven, gradle, ant, ...)\r\n\r\nAs example for maven you should store them in the test resources folder.\r\n\r\n    src/test/resources/META-INF/services/your.package.ContextPlugin","title":"Unit test ServiceLoader","body":"<p>You need to copy the \"provider-configuration file\" into your test class directory.</p>\n\n<p>assuming your test class files are located at </p>\n\n<pre><code>test/classes/\n</code></pre>\n\n<p>you need to copy the \"provider-configuration file\" to </p>\n\n<pre><code>test/classes/META-INF/services/your.package.ContextPlugin\n</code></pre>\n\n<p>How to copy the files depend on your build tool (e.g. maven, gradle, ant, ...)</p>\n\n<p>As example for maven you should store them in the test resources folder.</p>\n\n<pre><code>src/test/resources/META-INF/services/your.package.ContextPlugin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678880153,"creation_date":1678880153,"answer_id":75744158,"question_id":29204840,"body_markdown":"# One test configuration\r\nIf you have only one configuration to test, you can use a `test/resources/META-INF/services/mypackage.MyInterface` file, see @SubOptimal answer. However, if you need to test more than one configuration, this approach does not work. \r\n\r\n# Multiple test configurations\r\nTo test more than configuration, I&#39;m using a custom classloader which overrides the `META-INF/services/mypackage.MyInterface`. Basically, you use this classloader as parameter in `ServiceLoader.load(MyInterface.class, customClassLoader)`.\r\n\r\nThe advantage of this approach is that it does not rely on mocking libraries such as Mockito or Powermock.\r\n\r\nTo create a classloader without `META-INF/services/mypackage.MyInterface` file:\r\n\r\n    new ServiceLoaderTestClassLoader(MyInterface.class)\r\n\r\nTo create a classloader with a `META-INF/services/mypackage.MyInterface` file containing two lines with classes `SubClassOfMyInterface` and `OtherSubClassOfMyInterface`:\r\n\r\n    new ServiceLoaderTestClassLoader(MyInterface.class, SubClassOfMyInterface.class, OtherSubClassOfMyInterface.class) \r\n\r\nThis is the custom classloader source code:\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import java.net.URLConnection;\r\n    import java.net.URLStreamHandler;\r\n    import java.util.Collections;\r\n    import java.util.Enumeration;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    /**\r\n     * Testing classloader for ServiceLoader.\r\n     * This classloader overrides the META-INF/services/&lt;interface&gt; file with a custom definition.\r\n     */\r\n    public class ServiceLoaderTestClassLoader extends URLClassLoader {\r\n        Class&lt;?&gt; metaInfInterface;\r\n        Class&lt;?&gt;[] implementingClasses;\r\n    \r\n        /**\r\n         * Constructs a classloader which has no META-INF/services/&lt;metaInfInterface&gt;.\r\n         *\r\n         * @param metaInfInterface ServiceLoader interface\r\n         */\r\n        public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface) {\r\n            this(metaInfInterface, (Class&lt;?&gt;[]) null);\r\n        }\r\n    \r\n        /**\r\n         * Constructs a fake META-INF/services/&lt;metaInfInterface&gt; file which contains the provided array of classes.\r\n         * When the implementingClasses array is null, the META-INF file will not be constructed.\r\n         * The classes from implementingClasses are not required to implement the metaInfInterface.\r\n         *\r\n         * @param metaInfInterface    ServiceLoader interface\r\n         * @param implementingClasses potential subclasses of the ServiceLoader metaInfInterface\r\n         */\r\n        public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface, Class&lt;?&gt;... implementingClasses) {\r\n            super(new URL[0], metaInfInterface.getClassLoader());\r\n            if (!metaInfInterface.isInterface()) {\r\n                throw new IllegalArgumentException(&quot;the META-INF service &quot; + metaInfInterface + &quot; should be an interface&quot;);\r\n            }\r\n            this.metaInfInterface = metaInfInterface;\r\n            this.implementingClasses = implementingClasses;\r\n        }\r\n    \r\n        @Override\r\n        public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\r\n            if (name.equals(&quot;META-INF/services/&quot; + metaInfInterface.getName())) {\r\n                if (implementingClasses == null) {\r\n                    return Collections.emptyEnumeration();\r\n                }\r\n                URL url = new URL(&quot;foo&quot;, &quot;bar&quot;, 99, &quot;/foobar&quot;, new URLStreamHandler() {\r\n                    @Override\r\n                    protected URLConnection openConnection(URL u) {\r\n                    return new URLConnection(u) {\r\n                        @Override\r\n                        public void connect() {\r\n                        }\r\n    \r\n                        @Override\r\n                        public InputStream getInputStream() throws IOException {\r\n                            return new ByteArrayInputStream(Stream.of(implementingClasses)\r\n                                    .map(Class::getName)\r\n                                    .collect(Collectors.joining(&quot;\\n&quot;))\r\n                                    .getBytes());\r\n                        }\r\n                    };\r\n                    }\r\n                });\r\n    \r\n                return new Enumeration&lt;&gt;() {\r\n                    boolean hasNext = true;\r\n    \r\n                    @Override\r\n                    public boolean hasMoreElements() {\r\n                        return hasNext;\r\n                    }\r\n    \r\n                    @Override\r\n                    public URL nextElement() {\r\n                        hasNext = false;\r\n                        return url;\r\n                    }\r\n                };\r\n            }\r\n            return super.getResources(name);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Unit test ServiceLoader","body":"<h1>One test configuration</h1>\n<p>If you have only one configuration to test, you can use a <code>test/resources/META-INF/services/mypackage.MyInterface</code> file, see @SubOptimal answer. However, if you need to test more than one configuration, this approach does not work.</p>\n<h1>Multiple test configurations</h1>\n<p>To test more than configuration, I'm using a custom classloader which overrides the <code>META-INF/services/mypackage.MyInterface</code>. Basically, you use this classloader as parameter in <code>ServiceLoader.load(MyInterface.class, customClassLoader)</code>.</p>\n<p>The advantage of this approach is that it does not rely on mocking libraries such as Mockito or Powermock.</p>\n<p>To create a classloader without <code>META-INF/services/mypackage.MyInterface</code> file:</p>\n<pre><code>new ServiceLoaderTestClassLoader(MyInterface.class)\n</code></pre>\n<p>To create a classloader with a <code>META-INF/services/mypackage.MyInterface</code> file containing two lines with classes <code>SubClassOfMyInterface</code> and <code>OtherSubClassOfMyInterface</code>:</p>\n<pre><code>new ServiceLoaderTestClassLoader(MyInterface.class, SubClassOfMyInterface.class, OtherSubClassOfMyInterface.class) \n</code></pre>\n<p>This is the custom classloader source code:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.net.URLConnection;\nimport java.net.URLStreamHandler;\nimport java.util.Collections;\nimport java.util.Enumeration;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n/**\n * Testing classloader for ServiceLoader.\n * This classloader overrides the META-INF/services/&lt;interface&gt; file with a custom definition.\n */\npublic class ServiceLoaderTestClassLoader extends URLClassLoader {\n    Class&lt;?&gt; metaInfInterface;\n    Class&lt;?&gt;[] implementingClasses;\n\n    /**\n     * Constructs a classloader which has no META-INF/services/&lt;metaInfInterface&gt;.\n     *\n     * @param metaInfInterface ServiceLoader interface\n     */\n    public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface) {\n        this(metaInfInterface, (Class&lt;?&gt;[]) null);\n    }\n\n    /**\n     * Constructs a fake META-INF/services/&lt;metaInfInterface&gt; file which contains the provided array of classes.\n     * When the implementingClasses array is null, the META-INF file will not be constructed.\n     * The classes from implementingClasses are not required to implement the metaInfInterface.\n     *\n     * @param metaInfInterface    ServiceLoader interface\n     * @param implementingClasses potential subclasses of the ServiceLoader metaInfInterface\n     */\n    public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface, Class&lt;?&gt;... implementingClasses) {\n        super(new URL[0], metaInfInterface.getClassLoader());\n        if (!metaInfInterface.isInterface()) {\n            throw new IllegalArgumentException(&quot;the META-INF service &quot; + metaInfInterface + &quot; should be an interface&quot;);\n        }\n        this.metaInfInterface = metaInfInterface;\n        this.implementingClasses = implementingClasses;\n    }\n\n    @Override\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\n        if (name.equals(&quot;META-INF/services/&quot; + metaInfInterface.getName())) {\n            if (implementingClasses == null) {\n                return Collections.emptyEnumeration();\n            }\n            URL url = new URL(&quot;foo&quot;, &quot;bar&quot;, 99, &quot;/foobar&quot;, new URLStreamHandler() {\n                @Override\n                protected URLConnection openConnection(URL u) {\n                return new URLConnection(u) {\n                    @Override\n                    public void connect() {\n                    }\n\n                    @Override\n                    public InputStream getInputStream() throws IOException {\n                        return new ByteArrayInputStream(Stream.of(implementingClasses)\n                                .map(Class::getName)\n                                .collect(Collectors.joining(&quot;\\n&quot;))\n                                .getBytes());\n                    }\n                };\n                }\n            });\n\n            return new Enumeration&lt;&gt;() {\n                boolean hasNext = true;\n\n                @Override\n                public boolean hasMoreElements() {\n                    return hasNext;\n                }\n\n                @Override\n                public URL nextElement() {\n                    hasNext = false;\n                    return url;\n                }\n            };\n        }\n        return super.getResources(name);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1506669,"reputation":585,"user_id":1409896,"accept_rate":73,"display_name":"Prabhath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5287,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":29205130,"answer_count":2,"score":13,"last_activity_date":1678880153,"creation_date":1427094522,"question_id":29204840,"body_markdown":"I have a method that uses `ServiceLoader` to load services using resources.\r\n    \r\n    public List&lt;String&gt; getContextData(int Id)\r\n    {\r\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n      ServiceLoader&lt;ContextPlugin&gt; serviceLoader =  ServiceLoader.load(ContextPlugin.class);\r\n      for (Iterator&lt;ContextPlugin&gt; iterator = serviceLoader.iterator(); iterator.hasNext();)\r\n      {\r\n        list .addAll(iterator.next().getContextData(Id));\r\n      }\r\n      return list;\r\n    }\r\n\r\nHow should I unit test above method using Junit?","title":"Unit test ServiceLoader","body":"<p>I have a method that uses <code>ServiceLoader</code> to load services using resources.</p>\n\n<pre><code>public List&lt;String&gt; getContextData(int Id)\n{\n  List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n  ServiceLoader&lt;ContextPlugin&gt; serviceLoader =  ServiceLoader.load(ContextPlugin.class);\n  for (Iterator&lt;ContextPlugin&gt; iterator = serviceLoader.iterator(); iterator.hasNext();)\n  {\n    list .addAll(iterator.next().getContextData(Id));\n  }\n  return list;\n}\n</code></pre>\n\n<p>How should I unit test above method using Junit?</p>\n"},{"tags":["java","android-studio","android-fragments"],"owner":{"account_id":28007541,"reputation":1,"user_id":21390682,"display_name":"Sharmika Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678879788,"creation_date":1678878452,"question_id":75743891,"body_markdown":"I want to implement just 3 fixed tabs in my application to profile fragment to tab layout fragment.\r\n\r\nIn my VPadapter class I&#39;m getting this error:\r\n\r\n```\r\nFragmentStatePagerAdapter(android.support.v4.app.FragmentManager)in android.support.v4.app.FragmentStatePagerAdapter cant be applied \r\n```\r\n\r\n`VPadapter class`\r\n\r\n```\r\npackage com.app.greenmoon;\r\n\r\nimport  android.support.v4.app.FragmentManager;\r\nimport android.support.v4.app.Fragment;\r\nimport android.support.v4.app.FragmentStatePagerAdapter;\r\n\r\npublic class VPAdapter extends FragmentStatePagerAdapter {\r\n    public VPAdapter(ProfileFragment fm) {\r\n        super(fm); // got error in this line\r\n    }\r\n\r\n    @Override\r\n    public Fragment getItem(int i) {\r\n        switch (i){\r\n            case 0:\r\n                return new ArticleFragment();\r\n            case 1:\r\n                return new SpeciesFragment();\r\n            case 2:\r\n                return new LikesFragment();\r\n            default:\r\n                return new SpeciesFragment();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return 3;\r\n    }\r\n}\r\n```\r\n\r\n**Why is that error caused and how to solve it?**","title":"How to solve this FragmentStatePagerAdapter(android.support.v4.app.FragmentManager)in android.support.v4.app.FragmentStatePagerAdapter cant be applied","body":"<p>I want to implement just 3 fixed tabs in my application to profile fragment to tab layout fragment.</p>\n<p>In my VPadapter class I'm getting this error:</p>\n<pre><code>FragmentStatePagerAdapter(android.support.v4.app.FragmentManager)in android.support.v4.app.FragmentStatePagerAdapter cant be applied \n</code></pre>\n<p><code>VPadapter class</code></p>\n<pre><code>package com.app.greenmoon;\n\nimport  android.support.v4.app.FragmentManager;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentStatePagerAdapter;\n\npublic class VPAdapter extends FragmentStatePagerAdapter {\n    public VPAdapter(ProfileFragment fm) {\n        super(fm); // got error in this line\n    }\n\n    @Override\n    public Fragment getItem(int i) {\n        switch (i){\n            case 0:\n                return new ArticleFragment();\n            case 1:\n                return new SpeciesFragment();\n            case 2:\n                return new LikesFragment();\n            default:\n                return new SpeciesFragment();\n        }\n    }\n\n    @Override\n    public int getCount() {\n        return 3;\n    }\n}\n</code></pre>\n<p><strong>Why is that error caused and how to solve it?</strong></p>\n"},{"tags":["java","spring","spring-boot","tomcat","keycloak"],"comments":[{"owner":{"account_id":2558390,"reputation":3993,"user_id":2219920,"accept_rate":71,"display_name":"Pulkit"},"score":0,"creation_date":1629462187,"post_id":68861416,"comment_id":121699641,"body_markdown":"can you share the keycloak configuration also.","body":"can you share the keycloak configuration also."}],"answers":[{"tags":[],"owner":{"account_id":22834154,"reputation":1,"user_id":16982151,"display_name":"ZZ_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632386713,"creation_date":1632385291,"answer_id":69296431,"question_id":68861416,"body_markdown":"I have the same problem as you.I found that I use tomcat keycloak adapter, but I also import the springboot-keycloak-adapter in `pom.xml`, I deleted this in my `pom.xml`, package again and `deploy.my` program works fine... Maybe you could check it out. ","title":"Keycloak error with Spring Boot: &quot;not a subtype&quot; on tomcat","body":"<p>I have the same problem as you.I found that I use tomcat keycloak adapter, but I also import the springboot-keycloak-adapter in <code>pom.xml</code>, I deleted this in my <code>pom.xml</code>, package again and <code>deploy.my</code> program works fine... Maybe you could check it out.</p>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678879770,"creation_date":1678879770,"answer_id":75744091,"question_id":68861416,"body_markdown":"org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory **not a subtype**\r\n\r\nThis means that the class ClaimsInformationPointProviderFactory is loaded differently/conflicting in the tomcat and in your application.\r\n**Solution for this is to Check for the jar in tomcat/lib and delete it and restart the server**","title":"Keycloak error with Spring Boot: &quot;not a subtype&quot; on tomcat","body":"<p>org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory <strong>not a subtype</strong></p>\n<p>This means that the class ClaimsInformationPointProviderFactory is loaded differently/conflicting in the tomcat and in your application.\n<strong>Solution for this is to Check for the jar in tomcat/lib and delete it and restart the server</strong></p>\n"}],"owner":{"account_id":2855339,"reputation":107,"user_id":2451717,"display_name":"bluen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678879770,"creation_date":1629458557,"question_id":68861416,"body_markdown":"While developing a spring boot app we are using keycloak. When starting it with the embedded tomcat in vscode everything works as it should.\r\n\r\nOn time of deployment we want to put it on a standalone tomcat server, so we copy the war file over and the application gets started.\r\nWe get a redirect to the keycloak server and after completing the login the redirect back to the page works fine.\r\n\r\nUp on loading the page we get the following error:\r\n```\r\n20-Aug-2021 13:15:31.341 SCHWERWIEGEND [http-nio-8080-exec-10] org.apache.catalina.core.StandardHostValve.invoke Exception Processing /myapplicationpath/\r\n\tjava.util.ServiceConfigurationError: org.keycloak.adapters.authorization.ClaimInformationPointProviderFactory: org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory not a subtype\r\n\t\tat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:590)\r\n\t\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1237)\r\n\t\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\r\n\t\tat java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\r\n\t\tat java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\r\n\t\tat org.keycloak.adapters.authorization.PolicyEnforcer.loadClaimInformationPointProviders(PolicyEnforcer.java:134)\r\n\t\tat org.keycloak.adapters.authorization.PolicyEnforcer.&lt;init&gt;(PolicyEnforcer.java:87)\r\n\t\tat org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:154)\r\n\t\tat org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:147)\r\n\t\tat org.keycloak.adapters.KeycloakDeployment.getPolicyEnforcer(KeycloakDeployment.java:537)\r\n\t\tat org.keycloak.adapters.AuthenticatedActionsHandler.isAuthorized(AuthenticatedActionsHandler.java:150)\r\n\t\tat org.keycloak.adapters.AuthenticatedActionsHandler.handledRequest(AuthenticatedActionsHandler.java:60)\r\n\t\tat org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:62)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\r\n\t\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:835)\r\n```\r\n\r\nThis is our current keycloak.json file:\r\n```\r\n{\r\n  &quot;realm&quot;: &quot;realmname&quot;,\r\n  &quot;auth-server-url&quot;: &quot;https://ourkeycloakserver.com/auth/&quot;,\r\n  &quot;ssl-required&quot;: &quot;none&quot;,\r\n  &quot;resource&quot;: &quot;clientname&quot;,\r\n  &quot;verify-token-audience&quot;: true,\r\n  &quot;credentials&quot;: {\r\n    &quot;secret&quot;: &quot;secret&quot;\r\n  },\r\n  &quot;use-resource-role-mappings&quot;: true,\r\n  &quot;confidential-port&quot;: 0,\r\n  &quot;policy-enforcer&quot;: {}\r\n}\r\n```\r\n\r\nAny idea what we should look at?\r\nThe keycloak configuration is in our application.properties of spring and works fine with embedded tomcat.","title":"Keycloak error with Spring Boot: &quot;not a subtype&quot; on tomcat","body":"<p>While developing a spring boot app we are using keycloak. When starting it with the embedded tomcat in vscode everything works as it should.</p>\n<p>On time of deployment we want to put it on a standalone tomcat server, so we copy the war file over and the application gets started.\nWe get a redirect to the keycloak server and after completing the login the redirect back to the page works fine.</p>\n<p>Up on loading the page we get the following error:</p>\n<pre><code>20-Aug-2021 13:15:31.341 SCHWERWIEGEND [http-nio-8080-exec-10] org.apache.catalina.core.StandardHostValve.invoke Exception Processing /myapplicationpath/\n    java.util.ServiceConfigurationError: org.keycloak.adapters.authorization.ClaimInformationPointProviderFactory: org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory not a subtype\n        at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:590)\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1237)\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\n        at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\n        at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\n        at org.keycloak.adapters.authorization.PolicyEnforcer.loadClaimInformationPointProviders(PolicyEnforcer.java:134)\n        at org.keycloak.adapters.authorization.PolicyEnforcer.&lt;init&gt;(PolicyEnforcer.java:87)\n        at org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:154)\n        at org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:147)\n        at org.keycloak.adapters.KeycloakDeployment.getPolicyEnforcer(KeycloakDeployment.java:537)\n        at org.keycloak.adapters.AuthenticatedActionsHandler.isAuthorized(AuthenticatedActionsHandler.java:150)\n        at org.keycloak.adapters.AuthenticatedActionsHandler.handledRequest(AuthenticatedActionsHandler.java:60)\n        at org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:62)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\n        at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:835)\n</code></pre>\n<p>This is our current keycloak.json file:</p>\n<pre><code>{\n  &quot;realm&quot;: &quot;realmname&quot;,\n  &quot;auth-server-url&quot;: &quot;https://ourkeycloakserver.com/auth/&quot;,\n  &quot;ssl-required&quot;: &quot;none&quot;,\n  &quot;resource&quot;: &quot;clientname&quot;,\n  &quot;verify-token-audience&quot;: true,\n  &quot;credentials&quot;: {\n    &quot;secret&quot;: &quot;secret&quot;\n  },\n  &quot;use-resource-role-mappings&quot;: true,\n  &quot;confidential-port&quot;: 0,\n  &quot;policy-enforcer&quot;: {}\n}\n</code></pre>\n<p>Any idea what we should look at?\nThe keycloak configuration is in our application.properties of spring and works fine with embedded tomcat.</p>\n"},{"tags":["java","sonarlint"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1649172446,"post_id":71754314,"comment_id":126806007,"body_markdown":"Note: If that bug (the presence of `RegieI18n.KEY_ACTION_EXECUTE`) is introduced, your approach won&#39;t prevent it, only conceal it. Existing code will be compiled against the superclass constant anyway.","body":"Note: If that bug (the presence of <code>RegieI18n.KEY_ACTION_EXECUTE</code>) is introduced, your approach won&#39;t prevent it, only conceal it. Existing code will be compiled against the superclass constant anyway."}],"answers":[{"comments":[{"owner":{"account_id":16365212,"reputation":21,"user_id":11819862,"display_name":"Micha&#235;l Droz-dit-Busset"},"score":0,"creation_date":1649225993,"post_id":71754576,"comment_id":126818767,"body_markdown":"Hi, thanks for your answer. In fact, we use i18n properties and every word is stored in a database, where it is extended with some informations (comments, use, creation date, etc.). `.properties` files are generated by a tool from this database. I better understand the idea of the rule now, as it&#39;s only for constants and I didn&#39;t know that they aren&#39;t overriden.","body":"Hi, thanks for your answer. In fact, we use i18n properties and every word is stored in a database, where it is extended with some informations (comments, use, creation date, etc.). <code>.properties</code> files are generated by a tool from this database. I better understand the idea of the rule now, as it&#39;s only for constants and I didn&#39;t know that they aren&#39;t overriden."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649172779,"creation_date":1649172779,"answer_id":71754576,"question_id":71754314,"body_markdown":"This is steering dangerously close to &#39;opinion&#39; which is beyond the scope of SO. Hence, not much opinion in this answer - just the objective basis on which S3252 is based.\r\n\r\nJava is generally called &#39;Object Oriented&#39; and as a consequence, most of its concepts are explained in terms of OO - and presumably your average java coder&#39;s instincts lie in the OO direction.\r\n\r\nThat&#39;s a problem in this case: `static` stuff __does not &quot;do&quot; OO. AT ALL.__ - for example, dynamic dispatch (where if you call `someAnimalRef.makeNoise()` will actually call the Dog class&#39;s `makeNoise()` method if the ref turns out to be referencing an instance of Dog, even though the variable `someAnimalRef` is typed `Animal`) - __does not apply to `static` at all__.\r\n\r\nIn other words, given that this is static stuff, `javac` decides which constant to use (and for an encore, if said constant is Compile Time Constant - i.e. a string or number literal or could have been derived using only baked-in math (no libraries) that involves only literals  then any refs to this variable are straight up replaced with the constant directly).\r\n\r\nThis could be confusing. The way you wrote it, you&#39;re still getting &#39;inheritance&#39; of sorts - but it&#39;s compile time inheritance. Specifically, if you have (store these 3 in separate files):\r\n\r\n```\r\ninterface CommonI18n {\r\n  String KEY_ACTION_EXECUTE = &quot;Execute&quot;;\r\n}\r\n\r\ninterface RegieI18N extends  CommonI18n {\r\n}\r\n\r\nclass Test {\r\n  public static void main(String[] args) {\r\n    System.out.println(RegieI18N.KEY_ACTION_EXECUTE);\r\n  }\r\n}\r\n```\r\n\r\nand run:\r\n\r\n```\r\njavac *.java; java Test\r\n```\r\n\r\nIt prints `Execute`, obviously. If you then edit `RegieI18N.java` to this and recompile __just it__:\r\n\r\n```\r\ninterface RegieI18N extends CommonI18n {\r\n  String KEY_ACTION_EXECUTE = &quot;Uitvoeren&quot;;\r\n}\r\n\r\n// and then on the command line:\r\n\r\njavac RegieI18N.java\r\njava Test\r\n```\r\n\r\nIt __still__ prints `Execute`, even though your intent was obviously that it should be printing `Uitvoeren` now. There are 2 separate reasons for this (and either one is sufficient): [A] Static stuff is resolved 100% by `javac`, so unless you&#39;re recompiling `Test.java`, it&#39;ll never work, and [B] constants like this are inlined.\r\n\r\nThat&#39;s what the underlying idea behind the warning: That this is confusing, and even if not, that this is hampering your future flexibility. You __cannot__ introduce/change any of the i18n stuff unless you recompile __the entire application__. Given that some &#39;incremental compilation&#39; tools will not recompile Test if `Test.class` is newer than `Test.java`, that&#39;s quite a big deal.\r\n\r\n## So to avoid this?\r\n\r\nSimple - don&#39;t use constants. Don&#39;t use `static` if you want the ability to &#39;override in a subtype&#39;. Java has i18n stuff baked in, where you put the data in properties files which you can then ship together with your class files (inside jars, if you want). This interface based strategy seems to have essentially no upside (I guess technically its more performant, but I doubt you could ever measure it, and given that i18n kinda implies &#39;strings that are meant for human eyeballs&#39;, and &#39;meant for human eyeballs&#39; kinda implies: The CPU is so not going to be the bottleneck, you can completely ignore it), the performance upside seems like a _farcically crazy_ misunderstanding of perspective here. Worrying about performance for this is completely wrong. Most likely - there are exceptions to every rule, of course.\r\n\r\nIf somehow you don&#39;t want to use java&#39;s stuff, a good first start is to invoke a method (static if you really need it to be) to get these strings; you don&#39;t want to write `RegieI18N.KEY_ACTION_EXECUTE`, you want to write something like `RegieI18N.getKeyActionExecute()`, or even `RegieI18n.KEY_ACTION_EXECUTE()` (note the parentheses at the end there). You can use code-gen to create these methods if you must. You now have the flexibility to write whatever you feel like in these, and the JVM will never inline or otherwise just eliminate such a call. If later on you decide you want that method to return something else, and you want to deploy it by recompiling _just_ RegieI18n, then now you can.\r\n\r\nYou&#39;re just reinventing wheels badly of course, but that gets rid of the primary concern that S3252 is trying to address.\r\n","title":"SonarLint rule Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)","body":"<p>This is steering dangerously close to 'opinion' which is beyond the scope of SO. Hence, not much opinion in this answer - just the objective basis on which S3252 is based.</p>\n<p>Java is generally called 'Object Oriented' and as a consequence, most of its concepts are explained in terms of OO - and presumably your average java coder's instincts lie in the OO direction.</p>\n<p>That's a problem in this case: <code>static</code> stuff <strong>does not &quot;do&quot; OO. AT ALL.</strong> - for example, dynamic dispatch (where if you call <code>someAnimalRef.makeNoise()</code> will actually call the Dog class's <code>makeNoise()</code> method if the ref turns out to be referencing an instance of Dog, even though the variable <code>someAnimalRef</code> is typed <code>Animal</code>) - <strong>does not apply to <code>static</code> at all</strong>.</p>\n<p>In other words, given that this is static stuff, <code>javac</code> decides which constant to use (and for an encore, if said constant is Compile Time Constant - i.e. a string or number literal or could have been derived using only baked-in math (no libraries) that involves only literals  then any refs to this variable are straight up replaced with the constant directly).</p>\n<p>This could be confusing. The way you wrote it, you're still getting 'inheritance' of sorts - but it's compile time inheritance. Specifically, if you have (store these 3 in separate files):</p>\n<pre><code>interface CommonI18n {\n  String KEY_ACTION_EXECUTE = &quot;Execute&quot;;\n}\n\ninterface RegieI18N extends  CommonI18n {\n}\n\nclass Test {\n  public static void main(String[] args) {\n    System.out.println(RegieI18N.KEY_ACTION_EXECUTE);\n  }\n}\n</code></pre>\n<p>and run:</p>\n<pre><code>javac *.java; java Test\n</code></pre>\n<p>It prints <code>Execute</code>, obviously. If you then edit <code>RegieI18N.java</code> to this and recompile <strong>just it</strong>:</p>\n<pre><code>interface RegieI18N extends CommonI18n {\n  String KEY_ACTION_EXECUTE = &quot;Uitvoeren&quot;;\n}\n\n// and then on the command line:\n\njavac RegieI18N.java\njava Test\n</code></pre>\n<p>It <strong>still</strong> prints <code>Execute</code>, even though your intent was obviously that it should be printing <code>Uitvoeren</code> now. There are 2 separate reasons for this (and either one is sufficient): [A] Static stuff is resolved 100% by <code>javac</code>, so unless you're recompiling <code>Test.java</code>, it'll never work, and [B] constants like this are inlined.</p>\n<p>That's what the underlying idea behind the warning: That this is confusing, and even if not, that this is hampering your future flexibility. You <strong>cannot</strong> introduce/change any of the i18n stuff unless you recompile <strong>the entire application</strong>. Given that some 'incremental compilation' tools will not recompile Test if <code>Test.class</code> is newer than <code>Test.java</code>, that's quite a big deal.</p>\n<h2>So to avoid this?</h2>\n<p>Simple - don't use constants. Don't use <code>static</code> if you want the ability to 'override in a subtype'. Java has i18n stuff baked in, where you put the data in properties files which you can then ship together with your class files (inside jars, if you want). This interface based strategy seems to have essentially no upside (I guess technically its more performant, but I doubt you could ever measure it, and given that i18n kinda implies 'strings that are meant for human eyeballs', and 'meant for human eyeballs' kinda implies: The CPU is so not going to be the bottleneck, you can completely ignore it), the performance upside seems like a <em>farcically crazy</em> misunderstanding of perspective here. Worrying about performance for this is completely wrong. Most likely - there are exceptions to every rule, of course.</p>\n<p>If somehow you don't want to use java's stuff, a good first start is to invoke a method (static if you really need it to be) to get these strings; you don't want to write <code>RegieI18N.KEY_ACTION_EXECUTE</code>, you want to write something like <code>RegieI18N.getKeyActionExecute()</code>, or even <code>RegieI18n.KEY_ACTION_EXECUTE()</code> (note the parentheses at the end there). You can use code-gen to create these methods if you must. You now have the flexibility to write whatever you feel like in these, and the JVM will never inline or otherwise just eliminate such a call. If later on you decide you want that method to return something else, and you want to deploy it by recompiling <em>just</em> RegieI18n, then now you can.</p>\n<p>You're just reinventing wheels badly of course, but that gets rid of the primary concern that S3252 is trying to address.</p>\n"}],"owner":{"account_id":16365212,"reputation":21,"user_id":11819862,"display_name":"Micha&#235;l Droz-dit-Busset"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2043,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1649172932,"accepted_answer_id":71754576,"answer_count":1,"score":1,"last_activity_date":1678879397,"creation_date":1649171747,"question_id":71754314,"body_markdown":"I&#39;ve installed SonarLint for STS a few days ago and I would like to ask a question about the rule [Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)][1].\r\n\r\nIn my code, for some reason (I&#39;m not the company&#39;s architect), there are interfaces containing i18n keys used across many programs. One of those interfaces is called `RegieI18n` and extends `CommonI18n`. When I need a key from `CommonI18n`, I use `RegieI18n` if the class concerns &quot;Regie&quot;, for example `RegieI18n.KEY_ACTION_EXECUTE`, instead of `CommonI18n.KEY_ACTION_EXECUTE`. The rule S3252 is not respected in that case.\r\n\r\nIn my mind, using `RegieI18n` (the child) is useful to prevent developers to re-write some code when, one day, someone decides to override `KEY_ACTION_EXECUTE` with another value for `RegieI18n`. The rule can also be applied to methods (in fact, all accessible members), please don&#39;t focus on the fact that we use i18n keys for the example.\r\n\r\nWhat could be the problem if I use `RegieI18n.KEY_ACTION_EXECUTE` instead of `CommonI18n.KEY_ACTION_EXECUTE`?\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-3252","title":"SonarLint rule Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)","body":"<p>I've installed SonarLint for STS a few days ago and I would like to ask a question about the rule <a href=\"https://rules.sonarsource.com/java/RSPEC-3252\" rel=\"nofollow noreferrer\">Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)</a>.</p>\n<p>In my code, for some reason (I'm not the company's architect), there are interfaces containing i18n keys used across many programs. One of those interfaces is called <code>RegieI18n</code> and extends <code>CommonI18n</code>. When I need a key from <code>CommonI18n</code>, I use <code>RegieI18n</code> if the class concerns &quot;Regie&quot;, for example <code>RegieI18n.KEY_ACTION_EXECUTE</code>, instead of <code>CommonI18n.KEY_ACTION_EXECUTE</code>. The rule S3252 is not respected in that case.</p>\n<p>In my mind, using <code>RegieI18n</code> (the child) is useful to prevent developers to re-write some code when, one day, someone decides to override <code>KEY_ACTION_EXECUTE</code> with another value for <code>RegieI18n</code>. The rule can also be applied to methods (in fact, all accessible members), please don't focus on the fact that we use i18n keys for the example.</p>\n<p>What could be the problem if I use <code>RegieI18n.KEY_ACTION_EXECUTE</code> instead of <code>CommonI18n.KEY_ACTION_EXECUTE</code>?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1678562022,"post_id":75707844,"comment_id":133559318,"body_markdown":"Duplicate? https://stackoverflow.com/questions/9475589/how-to-get-string-from-different-locales-in-android","body":"Duplicate? <a href=\"https://stackoverflow.com/questions/9475589/how-to-get-string-from-different-locales-in-android\" title=\"how to get string from different locales in android\">stackoverflow.com/questions/9475589/&hellip;</a>"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1678562555,"post_id":75707844,"comment_id":133559386,"body_markdown":"If you&#39;re looking for missing translations you could try the Translations Editor in Android Studio (https://developer.android.com/studio/write/translations-editor#correct)","body":"If you&#39;re looking for missing translations you could try the Translations Editor in Android Studio (<a href=\"https://developer.android.com/studio/write/translations-editor#correct\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/translations-editor#corr&zwnj;&#8203;ect</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678879283,"creation_date":1678879253,"answer_id":75744013,"question_id":75707844,"body_markdown":"From directory-tree expand the &quot;values&quot; folder and right click on the strings.xml.\r\nOpen Translator Editor. From there you can check all of your strings and their translations in different languages.","title":"Android how to identify the string is present in string.xml file?","body":"<p>From directory-tree expand the &quot;values&quot; folder and right click on the strings.xml.\nOpen Translator Editor. From there you can check all of your strings and their translations in different languages.</p>\n"}],"owner":{"account_id":3871229,"reputation":474,"user_id":3206452,"display_name":"mdroid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678879283,"creation_date":1678558670,"question_id":75707844,"body_markdown":"How to identify one string is present into string.xml file for one locale and not for other locale?","title":"Android how to identify the string is present in string.xml file?","body":"<p>How to identify one string is present into string.xml file for one locale and not for other locale?</p>\n"},{"tags":["java","android-studio","exoplayer","android-video-player","m3u"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678378967,"post_id":75682891,"comment_id":133524979,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":13962640,"reputation":723,"user_id":10086742,"display_name":"mahdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678874942,"creation_date":1678874942,"answer_id":75743238,"question_id":75682891,"body_markdown":"As mentioned in [Exoplayer release notes][1], `DefaultHttpDataSourceFactory` is removed in version 2.16.0 and you should use `DefaultHttpDataSource.Factory` instead.\r\n\r\n\r\n  [1]: https://github.com/google/ExoPlayer/blob/release-v2/RELEASENOTES.md","title":"error: cannot find symbol import com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory","body":"<p>As mentioned in <a href=\"https://github.com/google/ExoPlayer/blob/release-v2/RELEASENOTES.md\" rel=\"nofollow noreferrer\">Exoplayer release notes</a>, <code>DefaultHttpDataSourceFactory</code> is removed in version 2.16.0 and you should use <code>DefaultHttpDataSource.Factory</code> instead.</p>\n"}],"owner":{"account_id":25464479,"reputation":11,"user_id":19263741,"display_name":"Saif Uddin Shrabon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678879264,"creation_date":1678355494,"question_id":75682891,"body_markdown":"There is an error when building project\r\n\r\n```none\r\nerror: cannot find symbol\r\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\r\n^\r\nsymbol:   class DefaultHttpDataSourceFactory\r\nlocation: package com.google.android.exoplayer2.upstream\r\n```\r\n\r\nCan not import the DefaultHttpDataSourceFactory class. but all dependencies are added. What is this problem&#39;s solution?\r\n\r\nHere is my Gradle dependencies\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.testiptv&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.testiptv&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.18.4&#39;\r\n//    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.18.4&#39;\r\n//    implementation &#39;com.google.android.exoplayer:exoplayer-hls:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.18.4&#39;\r\n  //  implementation &#39;com.google.android.exoplayer:exoplayer-core:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.11.8&#39;\r\n\r\n\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-hls:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-smoothstreaming:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.18.4&#39;\r\n}\r\n```\r\n\r\nHere is my Manifest file\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TestIPTV&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.videoplayer&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            android:screenOrientation=&quot;sensor&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nHere is exoplayer xml design\r\n\r\n```xml\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/root&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.videoplayer&quot;\r\n    android:keepScreenOn=&quot;true&quot;&gt;\r\n\r\n&lt;com.google.android.exoplayer2.ui.PlayerView\r\n    android:id=&quot;@+id/player_view&quot;\r\n    app:show_subtitle_button=&quot;false&quot;\r\n    app:hide_on_touch=&quot;true&quot;\r\n    app:use_controller=&quot;true&quot;\r\n    app:controller_layout_id=&quot;@layout/custom_exo_view&quot;\r\n    app:show_vr_button=&quot;false&quot;\r\n    app:resize_mode=&quot;fill&quot;\r\n    app:show_shuffle_button=&quot;false&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nHere is my Java code that inserts a M3U link that is trying to play Exoplayer.\r\n\r\n```java\r\npackage com.example.testiptv;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.exoplayer2.SimpleExoPlayer;\r\nimport com.google.android.exoplayer2.source.MediaSource;\r\nimport com.google.android.exoplayer2.source.hls.HlsMediaSource;\r\nimport com.google.android.exoplayer2.ui.PlayerView;\r\nimport com.google.android.exoplayer2.upstream.DataSource;\r\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSource;\r\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\r\n\r\npublic class videoplayer extends AppCompatActivity {\r\n\r\n    protected PlayerView playerView;\r\n\r\n    SimpleExoPlayer player;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_videoplayer);\r\n\r\n        playerView = findViewById(R.id.player_view);\r\n        playvideo();\r\n    }\r\n\r\n    private void playvideo() {\r\n        //String videouri = getIntent().getStringExtra(&quot;keyName&quot;);\r\n        String videouri = &quot;https://stmv.video.expressolider.com.br/ghostv/ghostv/playlist.m3u8&quot;;\r\n\r\n        try {\r\n            Uri uri = Uri.parse(videouri);\r\n            player = new SimpleExoPlayer(videoplayer.this);\r\n\r\n            playerView.setPlayer(player);\r\n\r\n            // Create an HTTPS data source factory\r\n            DataSource.Factory dataSourceFactory = new DefaultHttpDataSourceFactory(\r\n                    &quot;exoplayer-codelab&quot;,\r\n                    DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS,\r\n                    DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS,\r\n                    true /* allowCrossProtocolRedirects */,\r\n                    DefaultHttpDataSourceFactory.DEFAULT_SSL_SOCKET_FACTORY);\r\n\r\n            // Create a media source using the data source factory\r\n            MediaSource mediaSource = new HlsMediaSource.Factory(dataSourceFactory).createMediaSource(uri);\r\n            Log.d(TAG, &quot;Media source created: &quot; + (mediaSource != null));\r\n\r\n            // Set the media source for the player\r\n            player.setMediaSource(mediaSource);\r\n\r\n            // Prepare the player\r\n            player.prepare();\r\n\r\n            // Start playing the video\r\n            player.setPlayWhenReady(true);\r\n\r\n        } catch (Exception e) {\r\n            Log.e(TAG, &quot;Error initializing player&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        player.pause();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        player.release();\r\n    }\r\n}\r\n```","title":"error: cannot find symbol import com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory","body":"<p>There is an error when building project</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: cannot find symbol\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\n^\nsymbol:   class DefaultHttpDataSourceFactory\nlocation: package com.google.android.exoplayer2.upstream\n</code></pre>\n<p>Can not import the DefaultHttpDataSourceFactory class. but all dependencies are added. What is this problem's solution?</p>\n<p>Here is my Gradle dependencies</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.testiptv'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.testiptv&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation 'com.android.volley:volley:1.2.1'\n\n    implementation 'com.google.android.exoplayer:exoplayer:2.18.4'\n//    implementation 'com.google.android.exoplayer:exoplayer-ui:2.18.4'\n//    implementation 'com.google.android.exoplayer:exoplayer-hls:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer:2.18.4'\n  //  implementation 'com.google.android.exoplayer:exoplayer-core:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer:2.11.8'\n\n\n    implementation 'com.google.android.exoplayer:exoplayer-core:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer-dash:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer-hls:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer-smoothstreaming:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer-ui:2.18.4'\n}\n</code></pre>\n<p>Here is my Manifest file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n\n    &lt;application\n        android:usesCleartextTraffic=&quot;true&quot;\n\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TestIPTV&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.videoplayer&quot;\n            android:usesCleartextTraffic=&quot;true&quot;\n            android:screenOrientation=&quot;sensor&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Here is exoplayer xml design</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/root&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.videoplayer&quot;\n    android:keepScreenOn=&quot;true&quot;&gt;\n\n&lt;com.google.android.exoplayer2.ui.PlayerView\n    android:id=&quot;@+id/player_view&quot;\n    app:show_subtitle_button=&quot;false&quot;\n    app:hide_on_touch=&quot;true&quot;\n    app:use_controller=&quot;true&quot;\n    app:controller_layout_id=&quot;@layout/custom_exo_view&quot;\n    app:show_vr_button=&quot;false&quot;\n    app:resize_mode=&quot;fill&quot;\n    app:show_shuffle_button=&quot;false&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Here is my Java code that inserts a M3U link that is trying to play Exoplayer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.testiptv;\n\nimport static android.content.ContentValues.TAG;\n\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.exoplayer2.SimpleExoPlayer;\nimport com.google.android.exoplayer2.source.MediaSource;\nimport com.google.android.exoplayer2.source.hls.HlsMediaSource;\nimport com.google.android.exoplayer2.ui.PlayerView;\nimport com.google.android.exoplayer2.upstream.DataSource;\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSource;\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\n\npublic class videoplayer extends AppCompatActivity {\n\n    protected PlayerView playerView;\n\n    SimpleExoPlayer player;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_videoplayer);\n\n        playerView = findViewById(R.id.player_view);\n        playvideo();\n    }\n\n    private void playvideo() {\n        //String videouri = getIntent().getStringExtra(&quot;keyName&quot;);\n        String videouri = &quot;https://stmv.video.expressolider.com.br/ghostv/ghostv/playlist.m3u8&quot;;\n\n        try {\n            Uri uri = Uri.parse(videouri);\n            player = new SimpleExoPlayer(videoplayer.this);\n\n            playerView.setPlayer(player);\n\n            // Create an HTTPS data source factory\n            DataSource.Factory dataSourceFactory = new DefaultHttpDataSourceFactory(\n                    &quot;exoplayer-codelab&quot;,\n                    DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS,\n                    DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS,\n                    true /* allowCrossProtocolRedirects */,\n                    DefaultHttpDataSourceFactory.DEFAULT_SSL_SOCKET_FACTORY);\n\n            // Create a media source using the data source factory\n            MediaSource mediaSource = new HlsMediaSource.Factory(dataSourceFactory).createMediaSource(uri);\n            Log.d(TAG, &quot;Media source created: &quot; + (mediaSource != null));\n\n            // Set the media source for the player\n            player.setMediaSource(mediaSource);\n\n            // Prepare the player\n            player.prepare();\n\n            // Start playing the video\n            player.setPlayWhenReady(true);\n\n        } catch (Exception e) {\n            Log.e(TAG, &quot;Error initializing player&quot;, e);\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        player.pause();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        player.release();\n    }\n}\n</code></pre>\n"},{"tags":["java","sftp","kerberos","jsch"],"comments":[{"owner":{"account_id":2287959,"reputation":11,"user_id":2011563,"display_name":"Aaron"},"score":0,"creation_date":1366907822,"post_id":10881981,"comment_id":23200048,"body_markdown":"For posterity, thuis may be related to: https://issues.apache.org/bugzilla/show_bug.cgi?id=53437","body":"For posterity, thuis may be related to: <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=53437\" rel=\"nofollow noreferrer\">issues.apache.org/bugzilla/show_bug.cgi?id=53437</a>"}],"answers":[{"comments":[{"owner":{"account_id":6127115,"reputation":448,"user_id":4778664,"accept_rate":73,"display_name":"adbar"},"score":0,"creation_date":1468902882,"post_id":10885420,"comment_id":64304253,"body_markdown":"weird that yesterday my code was working fine without this, and now it&#39;ll only work with this. Thanks for this!","body":"weird that yesterday my code was working fine without this, and now it&#39;ll only work with this. Thanks for this!"},{"owner":{"account_id":4535254,"reputation":717,"user_id":3684640,"accept_rate":60,"display_name":"visch"},"score":0,"creation_date":1501269558,"post_id":10885420,"comment_id":77723369,"body_markdown":"Also if for some reason you can&#39;t get to these configuration settings you can just do System.setIn(null)","body":"Also if for some reason you can&#39;t get to these configuration settings you can just do System.setIn(null)"}],"tags":[],"owner":{"account_id":914685,"reputation":2471,"user_id":947756,"accept_rate":94,"display_name":"cardician"},"comment_count":2,"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1338830671,"creation_date":1338830671,"answer_id":10885420,"question_id":10881981,"body_markdown":"Thought I&#39;d post an answer here since in case anyone else ends up running into a similar issue. Turns out I am missing a piece of code that makes all the difference. I just needed to add\r\n\r\n    session.setConfig(&quot;PreferredAuthentications&quot;, \r\n                      &quot;publickey,keyboard-interactive,password&quot;);\r\n\r\nbefore\r\n\r\n    session.connect();\r\n\r\nand everything works perfectly now.","title":"SFTP connection through Java asking for weird authentication","body":"<p>Thought I'd post an answer here since in case anyone else ends up running into a similar issue. Turns out I am missing a piece of code that makes all the difference. I just needed to add</p>\n\n<pre><code>session.setConfig(\"PreferredAuthentications\", \n                  \"publickey,keyboard-interactive,password\");\n</code></pre>\n\n<p>before</p>\n\n<pre><code>session.connect();\n</code></pre>\n\n<p>and everything works perfectly now.</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1633504492,"creation_date":1492673462,"answer_id":43512959,"question_id":10881981,"body_markdown":"*While the solution in the self-accepted answer is correct, it lacks any explanation.*\r\n\r\nThe problem is that the OP have a Kerberos/GSSAPI authentication set as the preferred (the JSch default). Yet OP does not seem to actually use/want it, as OP claims not to specify any username or password for the Kerberos prompts.\r\n\r\n*This problem can appear spontaneously, when either Kerberos gets installed on the the client PC or the server starts to support Kerberos.*\r\n\r\nThe solution is to remove the Kerberos/GSSAPI (`gssapi-with-mic`) from the list of preferred authentication methods in JSch:\r\n\r\n    session.setConfig(\r\n        &quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\r\n","title":"SFTP connection through Java asking for weird authentication","body":"<p><em>While the solution in the self-accepted answer is correct, it lacks any explanation.</em></p>\n<p>The problem is that the OP have a Kerberos/GSSAPI authentication set as the preferred (the JSch default). Yet OP does not seem to actually use/want it, as OP claims not to specify any username or password for the Kerberos prompts.</p>\n<p><em>This problem can appear spontaneously, when either Kerberos gets installed on the the client PC or the server starts to support Kerberos.</em></p>\n<p>The solution is to remove the Kerberos/GSSAPI (<code>gssapi-with-mic</code>) from the list of preferred authentication methods in JSch:</p>\n<pre><code>session.setConfig(\n    &quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4220736,"reputation":603,"user_id":3455589,"display_name":"hmojica"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601050166,"creation_date":1601050166,"answer_id":64067713,"question_id":10881981,"body_markdown":"All answers are correct, I&#39;ll just add here the way it can be done for Spring Integration when trying to integrate with an SFTP server.\r\n\r\nSo, if you are using SFTP Spring Integration and the weird user and password for Kerberos is prompting in the same way the OP is asking.\r\n\r\nThen modify your Spring configuration (I&#39;m using Java Spring Integration config, if you are using XML config you can try to translate it yourself - I really don&#39;t like XML config :P ):\r\n\r\nSo in the bean you are using as SessionFactory you need to add this change in config:\r\n\r\n    @Bean\r\n    public SessionFactory&lt;LsEntry&gt; sftpSessionFactory() {\r\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n        factory.setHost(&quot;hostname&quot;);\r\n        factory.setPort(22);\r\n        factory.setUser(&quot;username&quot;);\r\n        factory.setPassword(&quot;superstrongpassword&quot;);\r\n        factory.setAllowUnknownKeys(true);\r\n        factory.setSessionConfig(buildSessionProperties());\r\n        return new CachingSessionFactory&lt;&gt;(factory);\r\n    }\r\n\r\n    /**\r\n     * Build JSch property PreferredAuthentications without &quot;gssapi-with-mic&quot;\r\n     * This way it won&#39;t prompt for Kerberos authentication every time it tries to connect\r\n     * to the SFTP.\r\n     */\r\n    private Properties buildSessionProperties() {\r\n        Properties sessionProperties = new Properties();\r\n        sessionProperties.setProperty(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\r\n        return sessionProperties;\r\n    }","title":"SFTP connection through Java asking for weird authentication","body":"<p>All answers are correct, I'll just add here the way it can be done for Spring Integration when trying to integrate with an SFTP server.</p>\n<p>So, if you are using SFTP Spring Integration and the weird user and password for Kerberos is prompting in the same way the OP is asking.</p>\n<p>Then modify your Spring configuration (I'm using Java Spring Integration config, if you are using XML config you can try to translate it yourself - I really don't like XML config :P ):</p>\n<p>So in the bean you are using as SessionFactory you need to add this change in config:</p>\n<pre><code>@Bean\npublic SessionFactory&lt;LsEntry&gt; sftpSessionFactory() {\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n    factory.setHost(&quot;hostname&quot;);\n    factory.setPort(22);\n    factory.setUser(&quot;username&quot;);\n    factory.setPassword(&quot;superstrongpassword&quot;);\n    factory.setAllowUnknownKeys(true);\n    factory.setSessionConfig(buildSessionProperties());\n    return new CachingSessionFactory&lt;&gt;(factory);\n}\n\n/**\n * Build JSch property PreferredAuthentications without &quot;gssapi-with-mic&quot;\n * This way it won't prompt for Kerberos authentication every time it tries to connect\n * to the SFTP.\n */\nprivate Properties buildSessionProperties() {\n    Properties sessionProperties = new Properties();\n    sessionProperties.setProperty(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\n    return sessionProperties;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22714252,"reputation":43,"user_id":16879770,"display_name":"vaibhavp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678879096,"creation_date":1678879096,"answer_id":75743992,"question_id":10881981,"body_markdown":"I came across the same issue. But i realised that the application is not blocked if i run the jar file command with `nohup`. It simply ignores the prompt.","title":"SFTP connection through Java asking for weird authentication","body":"<p>I came across the same issue. But i realised that the application is not blocked if i run the jar file command with <code>nohup</code>. It simply ignores the prompt.</p>\n"}],"owner":{"account_id":914685,"reputation":2471,"user_id":947756,"accept_rate":94,"display_name":"cardician"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27437,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":10885420,"answer_count":4,"score":50,"last_activity_date":1678879096,"creation_date":1338815654,"question_id":10881981,"body_markdown":"So I&#39;m writing a little program that needs to connect to a remote server through SFTP, pull down a file, and then processes the file. I came across JSch through some answers here and it looked perfect for the task. So far, easy to use and I&#39;ve got it working, with one minor thing I&#39;d like to fix. I&#39;m using the following code to connect and pull the file down:\r\n\r\n        JSch jsch = new JSch();\r\n        Session session = null;\r\n        try {\r\n            session = jsch.getSession(&quot;username&quot;, &quot;127.0.0.1&quot;, 22);\r\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            session.setPassword(&quot;password&quot;);\r\n            session.connect();\r\n\r\n            Channel channel = session.openChannel(&quot;sftp&quot;);\r\n            channel.connect();\r\n            ChannelSftp sftpChannel = (ChannelSftp) channel;\r\n            sftpChannel.cd(REMOTE_FTP_DIR);\r\n            sftpChannel.lcd(INCOMING_DIR);\r\n            sftpChannel.get(TMP_FILE, TMP_FILE);\r\n            sftpChannel.exit();\r\n            session.disconnect();\r\n        } catch (JSchException e) {\r\n            e.printStackTrace();\r\n        } catch (SftpException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nSo this works and I get the file. I&#39;m running this code on a linux server and when I run the code JSch asks me for my Kerberos username and password. It looks like:\r\n\r\nKerberos username [george]:\r\n\r\nKerberos password for george:\r\n\r\nI just hit enter for both questions and then the program seems to continue on with no problems. However I need this code to be automated through a cron task and so I&#39;d rather not having it pausing the program to ask me these two questions. Is there something I&#39;m not supplying it so that it won&#39;t ask this? Something I need to do to stop it asking? Hopefully someone has some ideas. Thanks.\r\n","title":"SFTP connection through Java asking for weird authentication","body":"<p>So I'm writing a little program that needs to connect to a remote server through SFTP, pull down a file, and then processes the file. I came across JSch through some answers here and it looked perfect for the task. So far, easy to use and I've got it working, with one minor thing I'd like to fix. I'm using the following code to connect and pull the file down:</p>\n\n<pre><code>    JSch jsch = new JSch();\n    Session session = null;\n    try {\n        session = jsch.getSession(\"username\", \"127.0.0.1\", 22);\n        session.setConfig(\"StrictHostKeyChecking\", \"no\");\n        session.setPassword(\"password\");\n        session.connect();\n\n        Channel channel = session.openChannel(\"sftp\");\n        channel.connect();\n        ChannelSftp sftpChannel = (ChannelSftp) channel;\n        sftpChannel.cd(REMOTE_FTP_DIR);\n        sftpChannel.lcd(INCOMING_DIR);\n        sftpChannel.get(TMP_FILE, TMP_FILE);\n        sftpChannel.exit();\n        session.disconnect();\n    } catch (JSchException e) {\n        e.printStackTrace();\n    } catch (SftpException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>So this works and I get the file. I'm running this code on a linux server and when I run the code JSch asks me for my Kerberos username and password. It looks like:</p>\n\n<p>Kerberos username [george]:</p>\n\n<p>Kerberos password for george:</p>\n\n<p>I just hit enter for both questions and then the program seems to continue on with no problems. However I need this code to be automated through a cron task and so I'd rather not having it pausing the program to ask me these two questions. Is there something I'm not supplying it so that it won't ask this? Something I need to do to stop it asking? Hopefully someone has some ideas. Thanks.</p>\n"},{"tags":["java","spring-boot","maven","jakarta-ee","repository"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":0,"creation_date":1678875928,"post_id":75743339,"comment_id":133616574,"body_markdown":"You can use the OrderBy function provided by Spring Data JPA, see this https://stackoverflow.com/a/27427359/9772107","body":"You can use the OrderBy function provided by Spring Data JPA, see this <a href=\"https://stackoverflow.com/a/27427359/9772107\">stackoverflow.com/a/27427359/9772107</a>"}],"answers":[{"tags":[],"owner":{"account_id":13175119,"reputation":56,"user_id":9516271,"display_name":"Hashila"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678876442,"creation_date":1678876442,"answer_id":75743506,"question_id":75743339,"body_markdown":"You can use order by queries in JPA queries, \r\nas an example, there is a table called Student (entity name also Student) with their age and name. You need to query the student list ordered by name. \r\n\r\nthen you can use a JPA repository method like this \r\n\r\n    List&lt;Student&gt; findByOrderByNameDesc();\r\n\r\nor \r\n\r\n    List&lt;Student&gt; findByOrderByNameAsc();","title":"How can I sort string values from DB in repository in functional Queries?","body":"<p>You can use order by queries in JPA queries,\nas an example, there is a table called Student (entity name also Student) with their age and name. You need to query the student list ordered by name.</p>\n<p>then you can use a JPA repository method like this</p>\n<pre><code>List&lt;Student&gt; findByOrderByNameDesc();\n</code></pre>\n<p>or</p>\n<pre><code>List&lt;Student&gt; findByOrderByNameAsc();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27840367,"reputation":1,"user_id":21256954,"display_name":"JoFyNi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678878921,"creation_date":1678878921,"answer_id":75743960,"question_id":75743339,"body_markdown":"    public List&lt;String&gt; getSortedNames() {\r\n    String query = &quot;SELECT name FROM my_table ORDER BY name ASC&quot;;\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n\r\n    try (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/my_database&quot;, &quot;username&quot;, &quot;password&quot;);\r\n         Statement stmt = conn.createStatement();\r\n         ResultSet rs = stmt.executeQuery(query)) {\r\n\r\n        while (rs.next()) {\r\n            String name = rs.getString(&quot;name&quot;);\r\n            names.add(name);\r\n        }\r\n    } catch (SQLException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\n    return names;\r\n}\r\n\r\nThis method retrieves the name column values from the my_table table in ascending order using the ASC keyword in the ORDER BY clause. The retrieved names are stored in a List&lt;String&gt; and returned by the method. Note that you will need to handle any exceptions that may occur during the database access.","title":"How can I sort string values from DB in repository in functional Queries?","body":"<pre><code>public List&lt;String&gt; getSortedNames() {\nString query = &quot;SELECT name FROM my_table ORDER BY name ASC&quot;;\nList&lt;String&gt; names = new ArrayList&lt;&gt;();\n\ntry (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/my_database&quot;, &quot;username&quot;, &quot;password&quot;);\n     Statement stmt = conn.createStatement();\n     ResultSet rs = stmt.executeQuery(query)) {\n\n    while (rs.next()) {\n        String name = rs.getString(&quot;name&quot;);\n        names.add(name);\n    }\n} catch (SQLException ex) {\n    ex.printStackTrace();\n}\n\nreturn names;\n</code></pre>\n<p>}</p>\n<p>This method retrieves the name column values from the my_table table in ascending order using the ASC keyword in the ORDER BY clause. The retrieved names are stored in a List and returned by the method. Note that you will need to handle any exceptions that may occur during the database access.</p>\n"}],"owner":{"account_id":28022165,"reputation":1,"user_id":21402782,"display_name":"Praneeth Mopuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678878921,"creation_date":1678875506,"question_id":75743339,"body_markdown":"How can I sort a string values from DB in repository layer in functional Query?\r\n\r\nException the query that can be utilized","title":"How can I sort string values from DB in repository in functional Queries?","body":"<p>How can I sort a string values from DB in repository layer in functional Query?</p>\n<p>Exception the query that can be utilized</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1673529556,"post_id":75096891,"comment_id":132522945,"body_markdown":"You need [edit] your question to explain in more detail what you&#39;re trying to achieve here, because otherwise a simple `System.out.println(`&quot;[20, 10] [33, 22]&quot;)` is the simplest solution to your issue. Why would you expect the output you give when none of the lists you have contain 20 and 10 in that order and why do you add both to the list 3 times when you only want stuff to be output once? None of that code makes much sense without an explanation of *what* you are trying to do and *why*.","body":"You need <a href=\"https://stackoverflow.com/posts/75096891/edit\">edit</a> your question to explain in more detail what you&#39;re trying to achieve here, because otherwise a simple <code>System.out.println(</code>&quot;[20, 10] [33, 22]&quot;)` is the simplest solution to your issue. Why would you expect the output you give when none of the lists you have contain 20 and 10 in that order and why do you add both to the list 3 times when you only want stuff to be output once? None of that code makes much sense without an explanation of <i>what</i> you are trying to do and <i>why</i>."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1673529642,"post_id":75096891,"comment_id":132522975,"body_markdown":"So you don&#39;t want duplicates? Then you should just use a `Set`, like `Set&lt;List&lt;Integer&gt;&gt;`","body":"So you don&#39;t want duplicates? Then you should just use a <code>Set</code>, like <code>Set&lt;List&lt;Integer&gt;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":7247431,"reputation":27,"user_id":5528906,"accept_rate":75,"display_name":"mavok"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673530141,"creation_date":1673530141,"answer_id":75097030,"question_id":75096891,"body_markdown":"I don&#39;t understand why you need a loop here. It doesn&#39;t make sense, because you are overwriting your values when you use:\r\n\r\n    arrlist.add(count,one);\r\n    arrlist.add(count,two);\r\ncount has the same value in these lines.\r\n\r\nTry this:\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; arrlist = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n    ArrayList&lt;Integer&gt; one = new ArrayList&lt;&gt;();\r\n    one.add(10);\r\n    one.add(22);\r\n    ArrayList&lt;Integer&gt; two = new ArrayList&lt;&gt;();\r\n    two.add(20);\r\n    two.add(33);\r\n    arrlist.add(0,one);\r\n    arrlist.add(1,two);\r\n    System.out.println(arrlist);\r\n\r\n\r\nAnd the output will be: [[10, 22], [20, 33]]\r\n\r\nEdit: But i am still not sure if this is what you want.\r\n","title":"Need to Check the Combination of List2 and List3 in List 1. For Example:- [125, 600] **exists in** [[160, 600], [125, 600],[120,600]]","body":"<p>I don't understand why you need a loop here. It doesn't make sense, because you are overwriting your values when you use:</p>\n<pre><code>arrlist.add(count,one);\narrlist.add(count,two);\n</code></pre>\n<p>count has the same value in these lines.</p>\n<p>Try this:</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; arrlist = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\nArrayList&lt;Integer&gt; one = new ArrayList&lt;&gt;();\none.add(10);\none.add(22);\nArrayList&lt;Integer&gt; two = new ArrayList&lt;&gt;();\ntwo.add(20);\ntwo.add(33);\narrlist.add(0,one);\narrlist.add(1,two);\nSystem.out.println(arrlist);\n</code></pre>\n<p>And the output will be: [[10, 22], [20, 33]]</p>\n<p>Edit: But i am still not sure if this is what you want.</p>\n"}],"owner":{"account_id":27509184,"reputation":1,"user_id":20991405,"display_name":"Sudhir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":1,"score":-7,"last_activity_date":1678878861,"creation_date":1673529387,"question_id":75096891,"body_markdown":"I have Three list\r\n- List 1 `[[[160, 600], [125, 600],[120,600]], [[1003, 70], [1000, 60]], [[1003,90], [970,90],[728, 90]],[[300,250],[300,600],[300,292],[300,600]],[300, 100], [300, 250], [300, 250], [300, 250], [[728, 90], [1003, 90]], [1, 1]]`\r\n\r\n- List 2 `[125, 1000px, 1003, 300px, 300px, 300, 300, 300, 728]`\r\n- List 3 `[600, 50px, 80, 600px, 100px, 250, 250, 250, 90]`\r\n\r\nMy Requirement is, I have to check the Combination of List2 &amp; List3 exists in List 1 or not.\r\n\r\n**For Example:-**\r\n [125, 600]  **exists in**  [[160, 600], [125, 600],[120,600]]\r\n\r\nI am looking for the best possible approach here. ","title":"Need to Check the Combination of List2 and List3 in List 1. For Example:- [125, 600] **exists in** [[160, 600], [125, 600],[120,600]]","body":"<p>I have Three list</p>\n<ul>\n<li><p>List 1 <code>[[[160, 600], [125, 600],[120,600]], [[1003, 70], [1000, 60]], [[1003,90], [970,90],[728, 90]],[[300,250],[300,600],[300,292],[300,600]],[300, 100], [300, 250], [300, 250], [300, 250], [[728, 90], [1003, 90]], [1, 1]]</code></p>\n</li>\n<li><p>List 2 <code>[125, 1000px, 1003, 300px, 300px, 300, 300, 300, 728]</code></p>\n</li>\n<li><p>List 3 <code>[600, 50px, 80, 600px, 100px, 250, 250, 250, 90]</code></p>\n</li>\n</ul>\n<p>My Requirement is, I have to check the Combination of List2 &amp; List3 exists in List 1 or not.</p>\n<p><strong>For Example:-</strong>\n[125, 600]  <strong>exists in</strong>  [[160, 600], [125, 600],[120,600]]</p>\n<p>I am looking for the best possible approach here.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1678877876,"post_id":75743660,"comment_id":133617114,"body_markdown":"IIRC the language specification doesn&#39;t say, so the answer to &quot;how does the lambda store reference to this object&quot; is &quot;however you like as long as it works&quot; :) If you want to ask about a specific implementation of the JVM, please [edit].","body":"IIRC the language specification doesn&#39;t say, so the answer to &quot;how does the lambda store reference to this object&quot; is &quot;however you like as long as it works&quot; :) If you want to ask about a specific implementation of the JVM, please <a href=\"https://stackoverflow.com/posts/75743660/edit\">edit</a>."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1678877975,"post_id":75743660,"comment_id":133617144,"body_markdown":"Also try printing `Arrays.toString(myLambda.getClass().getDeclaredFields())` :-)","body":"Also try printing <code>Arrays.toString(myLambda.getClass().getDeclaredFields())</code> :-)"},{"owner":{"account_id":10337248,"reputation":1807,"user_id":7624937,"accept_rate":40,"display_name":"LLL"},"score":0,"creation_date":1678878040,"post_id":75743660,"comment_id":133617164,"body_markdown":"I&#39;m asking from memory leak perspective, since if lambda will store reference then object will not be garbage collected, so it might cause leaks, right? That&#39;s why I would like to understand it better.","body":"I&#39;m asking from memory leak perspective, since if lambda will store reference then object will not be garbage collected, so it might cause leaks, right? That&#39;s why I would like to understand it better."},{"owner":{"account_id":10337248,"reputation":1807,"user_id":7624937,"accept_rate":40,"display_name":"LLL"},"score":0,"creation_date":1678878184,"post_id":75743660,"comment_id":133617210,"body_markdown":"Good hint with the print, it gives:\n[private final MyClass MyClass$$Lambda$1/0x0000000800000c08.arg$1]\nso it must be stored there!","body":"Good hint with the print, it gives: [private final MyClass MyClass$$Lambda$1/0x0000000800000c08.arg$1] so it must be stored there!"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678878460,"post_id":75743660,"comment_id":133617287,"body_markdown":"&quot;I&#39;m asking from memory leak perspective&quot;. It&#39;s no different from any reference-holding thing. The lambda will prevent `xxx` from being GC-d until itself can be GC-d. In your example, the lambda goes out of scope at the end of `main` and both could be GC-d then.","body":"&quot;I&#39;m asking from memory leak perspective&quot;. It&#39;s no different from any reference-holding thing. The lambda will prevent <code>xxx</code> from being GC-d until itself can be GC-d. In your example, the lambda goes out of scope at the end of <code>main</code> and both could be GC-d then."}],"answers":[{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678878576,"post_id":75743862,"comment_id":133617326,"body_markdown":"&quot;*xxx is effectively final throughout this method. It&#39;s a constant*.&quot; A constant reference. It&#39;s not a constant; it&#39;s mutable.","body":"&quot;<i>xxx is effectively final throughout this method. It&#39;s a constant</i>.&quot; A constant reference. It&#39;s not a constant; it&#39;s mutable."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678880387,"post_id":75743862,"comment_id":133617843,"body_markdown":"@Michael The pointer value is constant. The word &#39;mutable&#39; is more nebulous than your comment makes it out to be (example: For most technical definitions of &#39;immutable&#39;, String __is not__. The point isn&#39;t: &quot;Let&#39;s debate about immutability some more&quot;, the point is: &quot;Define what particular aspect you&#39;re actually interested in&quot;. This answer already makes that clear before using the term - the POINTER VALUE is constant.","body":"@Michael The pointer value is constant. The word &#39;mutable&#39; is more nebulous than your comment makes it out to be (example: For most technical definitions of &#39;immutable&#39;, String <b>is not</b>. The point isn&#39;t: &quot;Let&#39;s debate about immutability some more&quot;, the point is: &quot;Define what particular aspect you&#39;re actually interested in&quot;. This answer already makes that clear before using the term - the POINTER VALUE is constant."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678880518,"post_id":75743862,"comment_id":133617882,"body_markdown":"&quot;*This answer already makes that clear before using the term - the POINTER VALUE is constant*&quot; No, it doesn&#39;t. That&#39;s precisely why I left that comment. You can&#39;t just assert things about the clarity of your writing in the face of someone who&#39;s read it telling you otherwise. The most you can say is &quot;I *think* it&#39;s clear enough&quot;. Fine, but I don&#39;t agree.","body":"&quot;<i>This answer already makes that clear before using the term - the POINTER VALUE is constant</i>&quot; No, it doesn&#39;t. That&#39;s precisely why I left that comment. You can&#39;t just assert things about the clarity of your writing in the face of someone who&#39;s read it telling you otherwise. The most you can say is &quot;I <i>think</i> it&#39;s clear enough&quot;. Fine, but I don&#39;t agree."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678878258,"creation_date":1678878258,"answer_id":75743862,"question_id":75743660,"body_markdown":"First let me just doublecheck that you understand the way java references and objects work or the explanation isn&#39;t going to make any sense:\r\n\r\n&gt; `MyClass xxx = new MyClass();`\r\n\r\nThis [A] reserves some space on the heap large enough to store 1 instance of `MyClass`, [B] constructs a new instance of MyClass into that space, and then [C] assigns the pointer pointing at the location where this object now resides on the heap to `xxx`. Because &#39;pointer&#39;, from C, kinda implies you can e.g. increment it or print it, as an encore, we shall not call it a &#39;pointer&#39; and instead we call it a &#39;reference&#39;. But, it&#39;s.. a pointer.\r\n\r\n&gt; `xxx.value = 777;`\r\n\r\nThis doesn&#39;t &#39;change&#39; anything - `xxx.` is &#39;take variable `xxx`, _follow the pointer_, then go change stuff over on the heap. Which, crucially, means `xxx` does not change. Only the object `xxx` is pointing at is being changed here.\r\n\r\nThus, `xxx` is __effectively final__ throughout this method. It&#39;s a constant. Which means the only thing we need to do here is ensure the lambda continues to know about it. Given that a lambda can &#39;outlive&#39; the context of the method it is created in, this is a bit of an issue: _Ordinarily_, local variables (and method parameters are a kind of local var) are declared on stack and therefore poof out of existence when a method ends. Clearly then, `xxx` cannot live there. At least, not the one the lambda uses.\r\n\r\nJava solves this problem __not__ in the way most languages do. Most languages realize `xxx` has to outlive the method and &#39;hoist it onto the heap&#39;. Java doesn&#39;t do this (after all, things that live on heap, or can escape via lambdas to other threads, all of a sudden need to answer hairy questions such as &quot;does that mean local variables can now be marked `volatile`?&quot;). Instead, java just clones it. Because clones would get real confusing if code also modifies the variable (which of the clones are you modifying?), __your code wouldn&#39;t even compile unless `xxx` is `final`!__ - the one &#39;gift&#39; java gives you is that if your variable _could have been_ marked as `final` without causing issues, i.e. you only write to it once, then you can omit `final` and java will just assume it. Try it! Take that code and reassign `xxx` anywhere (in the lambda or outside of it; does not matter), and you&#39;ll get an error that you can&#39;t use `xxx` in the lambda at all as it is not &#39;effectively final&#39; (the java spec&#39;s term for &quot;either marked final, or could have been so marked without issue&quot;).\r\n\r\nSo now it&#39;s simply: `xxx` in the context of the method itself remains a stack-allocated variable as normal. And the lambda gets a clone of it, which.. yes, lives on heap. There is an object representing this lambda that contains its captured state. Javac knows that only the variables actually used by the lambda need capturing (which may include `this`!), and captures only what is needed.\r\n\r\nLambdas which capture zero state are special in that they don&#39;t need an object at all to represent their state. Instead, those end up, effectively, as static methods and the lambda exists as a MethodRef object at the class/JVM level.\r\n\r\nRegardless of whether your lambda has state or not, you should never use the object identity of one; the JVM spec says your code won&#39;t straight up crash but whether that identity has a meaningful uniqueness is not guaranteed. In other words, don&#39;t use them as keys in maps, don&#39;t lock on them (`synchronized`). Don&#39;t `==` them.","title":"How do lambdas store references to variables","body":"<p>First let me just doublecheck that you understand the way java references and objects work or the explanation isn't going to make any sense:</p>\n<blockquote>\n<p><code>MyClass xxx = new MyClass();</code></p>\n</blockquote>\n<p>This [A] reserves some space on the heap large enough to store 1 instance of <code>MyClass</code>, [B] constructs a new instance of MyClass into that space, and then [C] assigns the pointer pointing at the location where this object now resides on the heap to <code>xxx</code>. Because 'pointer', from C, kinda implies you can e.g. increment it or print it, as an encore, we shall not call it a 'pointer' and instead we call it a 'reference'. But, it's.. a pointer.</p>\n<blockquote>\n<p><code>xxx.value = 777;</code></p>\n</blockquote>\n<p>This doesn't 'change' anything - <code>xxx.</code> is 'take variable <code>xxx</code>, <em>follow the pointer</em>, then go change stuff over on the heap. Which, crucially, means <code>xxx</code> does not change. Only the object <code>xxx</code> is pointing at is being changed here.</p>\n<p>Thus, <code>xxx</code> is <strong>effectively final</strong> throughout this method. It's a constant. Which means the only thing we need to do here is ensure the lambda continues to know about it. Given that a lambda can 'outlive' the context of the method it is created in, this is a bit of an issue: <em>Ordinarily</em>, local variables (and method parameters are a kind of local var) are declared on stack and therefore poof out of existence when a method ends. Clearly then, <code>xxx</code> cannot live there. At least, not the one the lambda uses.</p>\n<p>Java solves this problem <strong>not</strong> in the way most languages do. Most languages realize <code>xxx</code> has to outlive the method and 'hoist it onto the heap'. Java doesn't do this (after all, things that live on heap, or can escape via lambdas to other threads, all of a sudden need to answer hairy questions such as &quot;does that mean local variables can now be marked <code>volatile</code>?&quot;). Instead, java just clones it. Because clones would get real confusing if code also modifies the variable (which of the clones are you modifying?), <strong>your code wouldn't even compile unless <code>xxx</code> is <code>final</code>!</strong> - the one 'gift' java gives you is that if your variable <em>could have been</em> marked as <code>final</code> without causing issues, i.e. you only write to it once, then you can omit <code>final</code> and java will just assume it. Try it! Take that code and reassign <code>xxx</code> anywhere (in the lambda or outside of it; does not matter), and you'll get an error that you can't use <code>xxx</code> in the lambda at all as it is not 'effectively final' (the java spec's term for &quot;either marked final, or could have been so marked without issue&quot;).</p>\n<p>So now it's simply: <code>xxx</code> in the context of the method itself remains a stack-allocated variable as normal. And the lambda gets a clone of it, which.. yes, lives on heap. There is an object representing this lambda that contains its captured state. Javac knows that only the variables actually used by the lambda need capturing (which may include <code>this</code>!), and captures only what is needed.</p>\n<p>Lambdas which capture zero state are special in that they don't need an object at all to represent their state. Instead, those end up, effectively, as static methods and the lambda exists as a MethodRef object at the class/JVM level.</p>\n<p>Regardless of whether your lambda has state or not, you should never use the object identity of one; the JVM spec says your code won't straight up crash but whether that identity has a meaningful uniqueness is not guaranteed. In other words, don't use them as keys in maps, don't lock on them (<code>synchronized</code>). Don't <code>==</code> them.</p>\n"}],"owner":{"account_id":10337248,"reputation":1807,"user_id":7624937,"accept_rate":40,"display_name":"LLL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678878742,"creation_date":1678877317,"question_id":75743660,"body_markdown":"I feel that this is an easy question but I was unable to find answer. After executing this simple code:\r\n\r\n    public class MyClass {\r\n        \r\n        int value;\r\n    \r\n        static interface MyFunctionalInterface {\r\n            void foo();\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n           MyClass xxx = new MyClass();\r\n           MyFunctionalInterface myLambda = () -&gt; System.out.println(&quot;Value: &quot; + xxx.value);\r\n    \r\n           xxx.value = 777;\r\n           myLambda.foo();\r\n           \r\n           xxx.value = 888;\r\n           bar(myLambda);\r\n        }\r\n        \r\n        static void bar(MyFunctionalInterface myLambda) {\r\n            myLambda.foo();\r\n        }\r\n    \r\n    }\r\n\r\nThe result (as expected) is just:\r\n\r\n    Value: 777\r\n    Value: 888\r\n\r\nMy question is about **xxx** object. How does the lambda store reference to this object? Is there some anonymous class created which stores &quot;Value: &quot; string and xxx object? This object still exists in bar function, so it has to be stored somehow somewhere.\r\n\r\n**Edit:**\r\nBasing on hint from @Sweeper it can be concluded that lambdas store references to such variables inside themselves.\r\nIf (with above code) we print:\r\n\r\n    System.out.println(Arrays.toString(myLambda.getClass().getDeclaredFields()));\r\n\r\nwe will get:\r\n\r\n    [private final MyClass MyClass$$Lambda$1/0x0000000800000c08.arg$1]\r\n\r\nHowever, if code is modified and lambda created without xxx:\r\n\r\n    MyFunctionalInterface myLambda = () -&gt; System.out.println(&quot;Just string&quot;);\r\n\r\nThen declared fields will be empty and it will print just &quot;[]&quot;","title":"How do lambdas store references to variables","body":"<p>I feel that this is an easy question but I was unable to find answer. After executing this simple code:</p>\n<pre><code>public class MyClass {\n    \n    int value;\n\n    static interface MyFunctionalInterface {\n        void foo();\n    }\n\n    public static void main(String args[]) {\n       MyClass xxx = new MyClass();\n       MyFunctionalInterface myLambda = () -&gt; System.out.println(&quot;Value: &quot; + xxx.value);\n\n       xxx.value = 777;\n       myLambda.foo();\n       \n       xxx.value = 888;\n       bar(myLambda);\n    }\n    \n    static void bar(MyFunctionalInterface myLambda) {\n        myLambda.foo();\n    }\n\n}\n</code></pre>\n<p>The result (as expected) is just:</p>\n<pre><code>Value: 777\nValue: 888\n</code></pre>\n<p>My question is about <strong>xxx</strong> object. How does the lambda store reference to this object? Is there some anonymous class created which stores &quot;Value: &quot; string and xxx object? This object still exists in bar function, so it has to be stored somehow somewhere.</p>\n<p><strong>Edit:</strong>\nBasing on hint from @Sweeper it can be concluded that lambdas store references to such variables inside themselves.\nIf (with above code) we print:</p>\n<pre><code>System.out.println(Arrays.toString(myLambda.getClass().getDeclaredFields()));\n</code></pre>\n<p>we will get:</p>\n<pre><code>[private final MyClass MyClass$$Lambda$1/0x0000000800000c08.arg$1]\n</code></pre>\n<p>However, if code is modified and lambda created without xxx:</p>\n<pre><code>MyFunctionalInterface myLambda = () -&gt; System.out.println(&quot;Just string&quot;);\n</code></pre>\n<p>Then declared fields will be empty and it will print just &quot;[]&quot;</p>\n"},{"tags":["java","spring","spring-boot","aspect"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678866016,"post_id":75741645,"comment_id":133614057,"body_markdown":"you can create your own annotation, and pass the priority as a parameter to it","body":"you can create your own annotation, and pass the priority as a parameter to it"}],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678878515,"creation_date":1678878515,"answer_id":75743895,"question_id":75741645,"body_markdown":"As @Stultuske said in his comment you can create a custom @Priority annotation.\r\n\r\nYou can create the annotation as follows:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    public @interface Priority {\r\n        public String value() default &quot;LOW&quot;;\r\n    }\r\n\r\nThen you can read the value of this annotation as follows:\r\n\r\n    public Object createErrorEntryLogger(final ProceedingJoinPoint proceedingJoinPoint ) throws Throwable {\r\n        final MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint .getSignature();\r\n        final Method method = methodSignature.getMethod();\r\n        final Priority priority = method.getAnnotation(Priority.class);\r\n        // Do whatever you want with priority.value()\r\n    }","title":"First time trying to use Aspect. What if I want to output a different value for specific logs?","body":"<p>As @Stultuske said in his comment you can create a custom @Priority annotation.</p>\n<p>You can create the annotation as follows:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Priority {\n    public String value() default &quot;LOW&quot;;\n}\n</code></pre>\n<p>Then you can read the value of this annotation as follows:</p>\n<pre><code>public Object createErrorEntryLogger(final ProceedingJoinPoint proceedingJoinPoint ) throws Throwable {\n    final MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint .getSignature();\n    final Method method = methodSignature.getMethod();\n    final Priority priority = method.getAnnotation(Priority.class);\n    // Do whatever you want with priority.value()\n}\n</code></pre>\n"}],"owner":{"account_id":26074175,"reputation":41,"user_id":19773336,"display_name":"Maflec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678878515,"creation_date":1678865456,"question_id":75741645,"body_markdown":"First of all, I am not 100% sure if my code is correct, since this is the first time I am ever using Aspect in Spring, so I will be happy if you point out any errors.\r\n\r\nFirst a little background.\r\nI have an application that uses a logging method that returns a stacktrace, an error message and the priority of that error (Low, Medium, Critical).\r\nIn my manager it looks like this:\r\n\r\n    public UUID createErrorLogEntry(UUID userId, Throwable throwable, ErrorLogEntryPriorityType priority, String errorMessage) {\r\n        ErrorLogEntryEntity errorLogEntryEntity = new ErrorLogEntryEntity(priority, errorMessage);\r\n        errorLogEntryEntity.setNew(true);\r\n        errorLogEntryEntity.setId(UUID.randomUUID());\r\n        if (throwable != null)\r\n            errorLogEntryEntity.setStackTrace(ExceptionUtils.getStackTrace(throwable));\r\n        errorLogEntryEntity.setCreationDateTime(DateTimeUtils.nowUtc());\r\n        errorLogEntryEntity.setCreationUserId(userId);\r\n        errorLogEntryEntity.setChangedDateTime(errorLogEntryEntity.getCreationDateTime());\r\n        errorLogEntryEntity.setChangedUserId(userId);\r\n        errorLogEntryEntity.setPriority(errorLogEntryEntity.getPriority());\r\n        errorLogEntryEntity.setDone(errorLogEntryEntity.isDone());\r\n        errorLogEntryEntity.setMessage(errorLogEntryEntity.getMessage());\r\n        errorLogEntryRepository.save(errorLogEntryEntity);\r\n        return errorLogEntryEntity.getId();\r\n    }\r\n\r\nUp until now I have been manually inserting this into try-blocks on every class in the system, which is very tedious. So I wanted to use Aspect and only target async and scheduled jobs, so I made this class:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class errorEntryLogger {\r\n    \r\n        @Autowired\r\n        private ErrorLogEntryManager errorLogEntryManager;\r\n    \r\n        @Around(&quot;@annotation(org.springframework.scheduling.annotation.Scheduled) &amp;&amp; @annotation(org.springframework.scheduling.annotation.Async)&quot;)\r\n        public Object createErrorEntryLogger(ProceedingJoinPoint pjp) throws Throwable {\r\n            try {\r\n                pjp.proceed();\r\n            } catch (Exception e) {\r\n                errorLogEntryManager.createErrorLogEntry(null, e.fillInStackTrace(), ErrorLogEntryPriorityType.LOW, &quot;An error occurred&quot;);\r\n            }\r\n            return createErrorEntryLogger(pjp);\r\n        }\r\n    }\r\n\r\nBut here is the issue. Doing it this way, all error logs will have a priority of &quot;Low&quot; and a generic error message. \r\nBut what if I have classes where I want to set the priority higher or create more detailed error messages? How would I deal with these while using aspect?\r\n\r\nAgain, if there are better ways to write this code, let me know.","title":"First time trying to use Aspect. What if I want to output a different value for specific logs?","body":"<p>First of all, I am not 100% sure if my code is correct, since this is the first time I am ever using Aspect in Spring, so I will be happy if you point out any errors.</p>\n<p>First a little background.\nI have an application that uses a logging method that returns a stacktrace, an error message and the priority of that error (Low, Medium, Critical).\nIn my manager it looks like this:</p>\n<pre><code>public UUID createErrorLogEntry(UUID userId, Throwable throwable, ErrorLogEntryPriorityType priority, String errorMessage) {\n    ErrorLogEntryEntity errorLogEntryEntity = new ErrorLogEntryEntity(priority, errorMessage);\n    errorLogEntryEntity.setNew(true);\n    errorLogEntryEntity.setId(UUID.randomUUID());\n    if (throwable != null)\n        errorLogEntryEntity.setStackTrace(ExceptionUtils.getStackTrace(throwable));\n    errorLogEntryEntity.setCreationDateTime(DateTimeUtils.nowUtc());\n    errorLogEntryEntity.setCreationUserId(userId);\n    errorLogEntryEntity.setChangedDateTime(errorLogEntryEntity.getCreationDateTime());\n    errorLogEntryEntity.setChangedUserId(userId);\n    errorLogEntryEntity.setPriority(errorLogEntryEntity.getPriority());\n    errorLogEntryEntity.setDone(errorLogEntryEntity.isDone());\n    errorLogEntryEntity.setMessage(errorLogEntryEntity.getMessage());\n    errorLogEntryRepository.save(errorLogEntryEntity);\n    return errorLogEntryEntity.getId();\n}\n</code></pre>\n<p>Up until now I have been manually inserting this into try-blocks on every class in the system, which is very tedious. So I wanted to use Aspect and only target async and scheduled jobs, so I made this class:</p>\n<pre><code>@Aspect\n@Component\npublic class errorEntryLogger {\n\n    @Autowired\n    private ErrorLogEntryManager errorLogEntryManager;\n\n    @Around(&quot;@annotation(org.springframework.scheduling.annotation.Scheduled) &amp;&amp; @annotation(org.springframework.scheduling.annotation.Async)&quot;)\n    public Object createErrorEntryLogger(ProceedingJoinPoint pjp) throws Throwable {\n        try {\n            pjp.proceed();\n        } catch (Exception e) {\n            errorLogEntryManager.createErrorLogEntry(null, e.fillInStackTrace(), ErrorLogEntryPriorityType.LOW, &quot;An error occurred&quot;);\n        }\n        return createErrorEntryLogger(pjp);\n    }\n}\n</code></pre>\n<p>But here is the issue. Doing it this way, all error logs will have a priority of &quot;Low&quot; and a generic error message.\nBut what if I have classes where I want to set the priority higher or create more detailed error messages? How would I deal with these while using aspect?</p>\n<p>Again, if there are better ways to write this code, let me know.</p>\n"},{"tags":["java","elasticsearch","elasticsearch-aggregation","opensearch"],"answers":[{"tags":[],"owner":{"account_id":3633664,"reputation":2409,"user_id":3029337,"display_name":"glenacota"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678871330,"creation_date":1678871330,"answer_id":75742560,"question_id":75740522,"body_markdown":"Assuming that your `userId` field has high cardinality (it&#39;s an identifier, after all), my guess is that the performance of your `terms` aggregation is impaired by the calculation of the global ordinals for that field ([docs][1]). The higher the cardinality of a field, the more resources/time are needed to calculate global ordinals.\r\n\r\nYou can find the recommendations from Elastic to handle these cases in the docs I linked above, basically:\r\n- enabling `eager_global_ordinals` as opposed to the default lazy loading --&gt; you won&#39;t have performance issues at query time because you go through the computation effort at index time (whose performance will be affected, though)\r\n- disabling global ordinals altogether at the expense of higher memory use and of losing their benefits in your sub-aggregation &quot;raf&quot;\r\n\r\nFinal important note: you&#39;re using the `must` compound query for filtering, I would recommend you use the more performant and appropriate `filter` compound query ([docs][2]) (or even a Filter aggregation - [docs][3])\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/eager-global-ordinals.html#_what_are_global_ordinals\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\r\n  [3]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-filter-aggregation.html","title":"slow ElasticSearch query while using term aggregation","body":"<p>Assuming that your <code>userId</code> field has high cardinality (it's an identifier, after all), my guess is that the performance of your <code>terms</code> aggregation is impaired by the calculation of the global ordinals for that field (<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/eager-global-ordinals.html#_what_are_global_ordinals\" rel=\"nofollow noreferrer\">docs</a>). The higher the cardinality of a field, the more resources/time are needed to calculate global ordinals.</p>\n<p>You can find the recommendations from Elastic to handle these cases in the docs I linked above, basically:</p>\n<ul>\n<li>enabling <code>eager_global_ordinals</code> as opposed to the default lazy loading --&gt; you won't have performance issues at query time because you go through the computation effort at index time (whose performance will be affected, though)</li>\n<li>disabling global ordinals altogether at the expense of higher memory use and of losing their benefits in your sub-aggregation &quot;raf&quot;</li>\n</ul>\n<p>Final important note: you're using the <code>must</code> compound query for filtering, I would recommend you use the more performant and appropriate <code>filter</code> compound query (<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\" rel=\"nofollow noreferrer\">docs</a>) (or even a Filter aggregation - <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-filter-aggregation.html\" rel=\"nofollow noreferrer\">docs</a>)</p>\n"},{"tags":[],"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678877606,"creation_date":1678877606,"answer_id":75743717,"question_id":75740522,"body_markdown":"To tune the high cardinality field search you can use [mapper murmur3 plugin][1]\r\n\r\n&gt; The mapper-murmur3 plugin provides the ability to compute hash of\r\n&gt; field values at index-time and store them in the index. This can\r\n&gt; sometimes be helpful when running cardinality aggregations on\r\n&gt; high-cardinality and large string fields.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/plugins/current/mapper-murmur3.html","title":"slow ElasticSearch query while using term aggregation","body":"<p>To tune the high cardinality field search you can use <a href=\"https://www.elastic.co/guide/en/elasticsearch/plugins/current/mapper-murmur3.html\" rel=\"nofollow noreferrer\">mapper murmur3 plugin</a></p>\n<blockquote>\n<p>The mapper-murmur3 plugin provides the ability to compute hash of\nfield values at index-time and store them in the index. This can\nsometimes be helpful when running cardinality aggregations on\nhigh-cardinality and large string fields.</p>\n</blockquote>\n"}],"owner":{"account_id":1738585,"reputation":795,"user_id":1590595,"accept_rate":16,"display_name":"user1590595"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678877606,"creation_date":1678854140,"question_id":75740522,"body_markdown":"I am having around 20million data in ES, If I only query\r\n\r\n```\r\n&quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must&quot;: [\r\n              {\r\n                  &quot;term&quot;: {\r\n                      &quot;uniqueId&quot;: &quot;10921152912079&quot;\r\n                  }\r\n              }\r\n          ]\r\n       \r\n    }\r\n  }\r\n```\r\nThen I am getting results in 1ms, but If I add aggregation on this filtered data, then it is taking around 2sec to execute the query\r\n\r\n```\r\n&quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must&quot;: [\r\n              {\r\n                  &quot;term&quot;: {\r\n                      &quot;uniqueId&quot;: &quot;10921152912079&quot;\r\n                  }\r\n              }\r\n          ]\r\n       \r\n    }\r\n  },\r\n  &quot;aggs&quot;: {\r\n    &quot;users&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;userId&quot;\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;raf&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;randomId&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nSo my question is, If I am aggregating on queried result (max 10 document), why aggregation is so slow that its taking 2sec? Or is it not working on queried result.\r\n\r\nwhile profiling I see high nano seconds during aggregation\r\n\r\n```\r\n&quot;aggregations&quot; : [\r\n          {\r\n            &quot;type&quot; : &quot;GlobalOrdinalsStringTermsAggregator&quot;,\r\n            &quot;description&quot; : &quot;users&quot;,\r\n            &quot;time_in_nanos&quot; : 91737162,\r\n            &quot;breakdown&quot; : {\r\n              &quot;reduce&quot; : 0,\r\n              &quot;build_aggregation_count&quot; : 1,\r\n              &quot;post_collection&quot; : 1878,\r\n              &quot;initialize_count&quot; : 1,\r\n              &quot;reduce_count&quot; : 0,\r\n              &quot;collect_count&quot; : 5,\r\n              &quot;post_collection_count&quot; : 1,\r\n              &quot;build_leaf_collector&quot; : 15302476,\r\n              &quot;build_aggregation&quot; : 76398285,\r\n              &quot;build_leaf_collector_count&quot; : 28,\r\n              &quot;initialize&quot; : 23555,\r\n              &quot;collect&quot; : 10968\r\n            },\r\n            &quot;debug&quot; : {\r\n              &quot;segments_with_multi_valued_ords&quot; : 0,\r\n              &quot;collection_strategy&quot; : &quot;dense&quot;,\r\n              &quot;segments_with_single_valued_ords&quot; : 28,\r\n              &quot;deferred_aggregators&quot; : [\r\n                &quot;raf&quot;\r\n              ],\r\n              &quot;total_buckets&quot; : 9942540,\r\n              &quot;built_buckets&quot; : 1,\r\n              &quot;result_strategy&quot; : &quot;terms&quot;,\r\n              &quot;has_filter&quot; : false\r\n            },\r\n```\r\n\r\nAny help would mean a lot.","title":"slow ElasticSearch query while using term aggregation","body":"<p>I am having around 20million data in ES, If I only query</p>\n<pre><code>&quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;must&quot;: [\n              {\n                  &quot;term&quot;: {\n                      &quot;uniqueId&quot;: &quot;10921152912079&quot;\n                  }\n              }\n          ]\n       \n    }\n  }\n</code></pre>\n<p>Then I am getting results in 1ms, but If I add aggregation on this filtered data, then it is taking around 2sec to execute the query</p>\n<pre><code>&quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;must&quot;: [\n              {\n                  &quot;term&quot;: {\n                      &quot;uniqueId&quot;: &quot;10921152912079&quot;\n                  }\n              }\n          ]\n       \n    }\n  },\n  &quot;aggs&quot;: {\n    &quot;users&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;userId&quot;\n      },\n      &quot;aggs&quot;: {\n        &quot;raf&quot;: {\n          &quot;terms&quot;: {\n            &quot;field&quot;: &quot;randomId&quot;\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n<p>So my question is, If I am aggregating on queried result (max 10 document), why aggregation is so slow that its taking 2sec? Or is it not working on queried result.</p>\n<p>while profiling I see high nano seconds during aggregation</p>\n<pre><code>&quot;aggregations&quot; : [\n          {\n            &quot;type&quot; : &quot;GlobalOrdinalsStringTermsAggregator&quot;,\n            &quot;description&quot; : &quot;users&quot;,\n            &quot;time_in_nanos&quot; : 91737162,\n            &quot;breakdown&quot; : {\n              &quot;reduce&quot; : 0,\n              &quot;build_aggregation_count&quot; : 1,\n              &quot;post_collection&quot; : 1878,\n              &quot;initialize_count&quot; : 1,\n              &quot;reduce_count&quot; : 0,\n              &quot;collect_count&quot; : 5,\n              &quot;post_collection_count&quot; : 1,\n              &quot;build_leaf_collector&quot; : 15302476,\n              &quot;build_aggregation&quot; : 76398285,\n              &quot;build_leaf_collector_count&quot; : 28,\n              &quot;initialize&quot; : 23555,\n              &quot;collect&quot; : 10968\n            },\n            &quot;debug&quot; : {\n              &quot;segments_with_multi_valued_ords&quot; : 0,\n              &quot;collection_strategy&quot; : &quot;dense&quot;,\n              &quot;segments_with_single_valued_ords&quot; : 28,\n              &quot;deferred_aggregators&quot; : [\n                &quot;raf&quot;\n              ],\n              &quot;total_buckets&quot; : 9942540,\n              &quot;built_buckets&quot; : 1,\n              &quot;result_strategy&quot; : &quot;terms&quot;,\n              &quot;has_filter&quot; : false\n            },\n</code></pre>\n<p>Any help would mean a lot.</p>\n"},{"tags":["java","user-interface","dockerfile","x11-forwarding"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678877539,"post_id":75743235,"comment_id":133617011,"body_markdown":"Do you know what `Xvfb` does? It&#39;s a X11 server that renders to some virtual frame buffer (i.e. only into memory) and doesn&#39;t display anything. That means that your application might actually be running, and simply doesn&#39;t show anything, as it runs against that virtual X11 server. Does your app print anything to `stdout`? Did you try putting `System.out.println(&quot;Hello World!&quot;)`  as the first statement in its `main`?","body":"Do you know what <code>Xvfb</code> does? It&#39;s a X11 server that renders to some virtual frame buffer (i.e. only into memory) and doesn&#39;t display anything. That means that your application might actually be running, and simply doesn&#39;t show anything, as it runs against that virtual X11 server. Does your app print anything to <code>stdout</code>? Did you try putting <code>System.out.println(&quot;Hello World!&quot;)</code>  as the first statement in its <code>main</code>?"},{"owner":{"account_id":17193228,"reputation":1,"user_id":12446621,"display_name":"pieterjan"},"score":0,"creation_date":1678964565,"post_id":75743235,"comment_id":133636578,"body_markdown":"@joachimSauer thanks for the input. I resolved the issue since then and have gone the path of combining xming installed locally connected to the docker container. This works. Still had to change a lot of path issues but it&#39;s working now.","body":"@joachimSauer thanks for the input. I resolved the issue since then and have gone the path of combining xming installed locally connected to the docker container. This works. Still had to change a lot of path issues but it&#39;s working now."}],"owner":{"account_id":17193228,"reputation":1,"user_id":12446621,"display_name":"pieterjan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678877409,"creation_date":1678874933,"question_id":75743235,"body_markdown":"I have the following dockerfile \r\n\r\n```none\r\n# Set the base image to openjdk:8-jdk\r\nFROM openjdk:8-jdk\r\n\r\n# Set environment variables\r\nENV DISPLAY=:99\r\n\r\n# Install required packages\r\nRUN apt-get update &amp;&amp; \\\r\napt-get install -y \\\r\ncurl \\\r\nuuid-runtime \\\r\nx11-apps \\\r\nxvfb \\\r\nlibxtst6 &amp;&amp; \\\r\nrm -rf /var/lib/apt/lists/*\r\n\r\n# Set the working directory to /app\r\nWORKDIR /app\r\n\r\n# Create the properties directory and copy the jar file and properties file to the container\r\nCOPY merlin.jar ./\r\nCOPY ./properties/message.properties properties/\r\n\r\n# Start Xvfb and the Java application\r\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;Xvfb :99 -screen 0 1024x768x16 &amp; \\n\\\r\njava -jar -Dserver.address=0.0.0.0 -Dserver.port=8080 merlin.jar &gt; /app/app.log&quot;]\r\n```\r\n\r\nmy file structure is directory: merlin.jar, dockerfile, properties folder containing message.properties file. This was needed since the jar file for some reason contains the file but still can&#39;t be found so I did the commands manually. \r\n\r\nI can build my image just fine but when running it using docker run -it --rm -p 8080:8080 myapp the cli becomes stuck and unresponsive until I ctrl+C. the app.log gives no output. When executing the `CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;Xvfb :99 -screen 0 1024x768x16 &amp; ]` and `\\n\\\r\n    java -jar -Dserver.address=0.0.0.0 -Dserver.port=8080 merlin.jar &gt; /app/app.log&quot;` seperately using commando: docker run -it --rm myapp /bin/bash it indicates the xvfb server works and is running. The second command however makes the cli freeze. I want that users with 0 technical skills can just download docker run this image and have the java GUI open for it&#39;s intended usage. The user shouldn&#39;t have to download anything else. No local x11 servers as they should be done in the dockerfile. I have been stuck on this for a bit now since I lack log information and have limited knowledge about this. Hope someone can assist, thanks in advance!\r\n\r\nedit: I did manage to get it working with a locally setup xming server but i&#39;d like this to work inside the docker container.","title":"java GUI inside docker container stuck on running container","body":"<p>I have the following dockerfile</p>\n<pre class=\"lang-none prettyprint-override\"><code># Set the base image to openjdk:8-jdk\nFROM openjdk:8-jdk\n\n# Set environment variables\nENV DISPLAY=:99\n\n# Install required packages\nRUN apt-get update &amp;&amp; \\\napt-get install -y \\\ncurl \\\nuuid-runtime \\\nx11-apps \\\nxvfb \\\nlibxtst6 &amp;&amp; \\\nrm -rf /var/lib/apt/lists/*\n\n# Set the working directory to /app\nWORKDIR /app\n\n# Create the properties directory and copy the jar file and properties file to the container\nCOPY merlin.jar ./\nCOPY ./properties/message.properties properties/\n\n# Start Xvfb and the Java application\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;Xvfb :99 -screen 0 1024x768x16 &amp; \\n\\\njava -jar -Dserver.address=0.0.0.0 -Dserver.port=8080 merlin.jar &gt; /app/app.log&quot;]\n</code></pre>\n<p>my file structure is directory: merlin.jar, dockerfile, properties folder containing message.properties file. This was needed since the jar file for some reason contains the file but still can't be found so I did the commands manually.</p>\n<p>I can build my image just fine but when running it using docker run -it --rm -p 8080:8080 myapp the cli becomes stuck and unresponsive until I ctrl+C. the app.log gives no output. When executing the <code>CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;Xvfb :99 -screen 0 1024x768x16 &amp; ]</code> and <code>\\n\\ java -jar -Dserver.address=0.0.0.0 -Dserver.port=8080 merlin.jar &gt; /app/app.log&quot;</code> seperately using commando: docker run -it --rm myapp /bin/bash it indicates the xvfb server works and is running. The second command however makes the cli freeze. I want that users with 0 technical skills can just download docker run this image and have the java GUI open for it's intended usage. The user shouldn't have to download anything else. No local x11 servers as they should be done in the dockerfile. I have been stuck on this for a bit now since I lack log information and have limited knowledge about this. Hope someone can assist, thanks in advance!</p>\n<p>edit: I did manage to get it working with a locally setup xming server but i'd like this to work inside the docker container.</p>\n"},{"tags":["java","image","image-processing"],"answers":[{"tags":[],"owner":{"account_id":19065426,"reputation":36,"user_id":13920601,"display_name":"butcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595227796,"creation_date":1595226751,"answer_id":62989791,"question_id":62989677,"body_markdown":"[Pixymeta][1] might be the library you are looking for. It is commercially usable and is free of charge. It&#39;s a successor of [iCafe][2]. \r\n\r\nFor example of the use of the iCafe library for writing to IPTC see [this thread][3].\r\n\r\n\r\n  [1]: https://github.com/dragon66/pixymeta\r\n  [2]: https://github.com/dragon66/icafe\r\n  [3]: https://stackoverflow.com/a/50732994/13920601","title":"How to update metadata of png/jpg/tif images using Java?","body":"<p><a href=\"https://github.com/dragon66/pixymeta\" rel=\"nofollow noreferrer\">Pixymeta</a> might be the library you are looking for. It is commercially usable and is free of charge. It's a successor of <a href=\"https://github.com/dragon66/icafe\" rel=\"nofollow noreferrer\">iCafe</a>.</p>\n<p>For example of the use of the iCafe library for writing to IPTC see <a href=\"https://stackoverflow.com/a/50732994/13920601\">this thread</a>.</p>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678876821,"creation_date":1678876821,"answer_id":75743571,"question_id":62989677,"body_markdown":"It&#39;s supported by the standard Java API since at least Java 1.5 as far as I remember, use the package javax.imageio.metadata, especially [IIOMetadata][1]. There&#39;s an [example in the official documentation][2]. JPEG and PNG are fully supported, [TIFF requires at least Java 9][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/metadata/IIOMetadata.html\r\n  [2]: https://docs.oracle.com/javase/1.5.0/docs/guide/imageio/spec/apps.fm5.html\r\n  [3]: https://openjdk.org/jeps/262","title":"How to update metadata of png/jpg/tif images using Java?","body":"<p>It's supported by the standard Java API since at least Java 1.5 as far as I remember, use the package javax.imageio.metadata, especially <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/metadata/IIOMetadata.html\" rel=\"nofollow noreferrer\">IIOMetadata</a>. There's an <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/imageio/spec/apps.fm5.html\" rel=\"nofollow noreferrer\">example in the official documentation</a>. JPEG and PNG are fully supported, <a href=\"https://openjdk.org/jeps/262\" rel=\"nofollow noreferrer\">TIFF requires at least Java 9</a>.</p>\n"}],"owner":{"account_id":7373609,"reputation":59,"user_id":13222106,"display_name":"Johannes1509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":62989791,"answer_count":2,"score":1,"last_activity_date":1678876821,"creation_date":1595226160,"question_id":62989677,"body_markdown":"Which possibility do I have to write meta data in the form of key-value strings into the file formats .jpg, .tif, .png using Java? In the best case I am looking for a uniform procedure using standard Java tools or a library. Is there a suitable library that can be used free of charge for commercial purposes or can I otherwise access the metadata to change it?","title":"How to update metadata of png/jpg/tif images using Java?","body":"<p>Which possibility do I have to write meta data in the form of key-value strings into the file formats .jpg, .tif, .png using Java? In the best case I am looking for a uniform procedure using standard Java tools or a library. Is there a suitable library that can be used free of charge for commercial purposes or can I otherwise access the metadata to change it?</p>\n"},{"tags":["java","spring","date","jackson","annotations"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1553722984,"post_id":55386761,"comment_id":97495737,"body_markdown":"Take a look on this question: [Spring Boot Jackson date and timestamp Format](https://stackoverflow.com/questions/55256567/spring-boot-jackson-date-and-timestamp-format)","body":"Take a look on this question: <a href=\"https://stackoverflow.com/questions/55256567/spring-boot-jackson-date-and-timestamp-format\">Spring Boot Jackson date and timestamp Format</a>"}],"answers":[{"comments":[{"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"score":0,"creation_date":1553722922,"post_id":55386863,"comment_id":97495723,"body_markdown":"It&#39;s throwing exception.\n\n `exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.util.Date` from String &quot;2019-03-27T13:00:00Z&quot;: expected format &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;`","body":"It&#39;s throwing exception.   <code>exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type </code>java.util.Date` from String &quot;2019-03-27T13:00:00Z&quot;: expected format &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;`"},{"owner":{"account_id":12614113,"reputation":173,"user_id":9172181,"display_name":"codiallo"},"score":0,"creation_date":1553723045,"post_id":55386863,"comment_id":97495760,"body_markdown":"Ah You don&#39;t have milliseconds in your date use \nyyyy-MM-dd&#39;T&#39;HH:mm:ss.XXX","body":"Ah You don&#39;t have milliseconds in your date use  yyyy-MM-dd&#39;T&#39;HH:mm:ss.XXX"},{"owner":{"account_id":12614113,"reputation":173,"user_id":9172181,"display_name":"codiallo"},"score":1,"creation_date":1553723280,"post_id":55386863,"comment_id":97495841,"body_markdown":"If you use java version &gt;= 1.8 use ZonedDateTime instead of Date\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.XXX&quot;)\nprivate ZonedDateTime callStartTime;","body":"If you use java version &gt;= 1.8 use ZonedDateTime instead of Date @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.XXX&quot;) private ZonedDateTime callStartTime;"},{"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"score":0,"creation_date":1553727817,"post_id":55386863,"comment_id":97497361,"body_markdown":"Still it throws an exception. same as above mentioned","body":"Still it throws an exception. same as above mentioned"}],"tags":[],"owner":{"account_id":12614113,"reputation":173,"user_id":9172181,"display_name":"codiallo"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553722717,"creation_date":1553722717,"answer_id":55386863,"question_id":55386761,"body_markdown":"Try this\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;)\r\n\tprivate Date callStartTime;","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p>Try this</p>\n\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\")\nprivate Date callStartTime;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"score":0,"creation_date":1553723649,"post_id":55386929,"comment_id":97495989,"body_markdown":"Got an exception.\n`Cannot deserialize value of type java.time.ZonedDateTime from String &quot;2019-03-27T13:00:00Z&quot;: Text &#39;2019-03-27T13:00:00Z&#39; could not be parsed, unparsed text found at index 19; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type java.time.ZonedDateTime from String &quot;2019-03-27T13:00:00Z&quot;: Text &#39;2019-03-27T13:00:00Z&#39; could not be parsed, unparsed text found at index 19`","body":"Got an exception. <code>Cannot deserialize value of type java.time.ZonedDateTime from String &quot;2019-03-27T13:00:00Z&quot;: Text &#39;2019-03-27T13:00:00Z&#39; could not be parsed, unparsed text found at index 19; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type java.time.ZonedDateTime from String &quot;2019-03-27T13:00:00Z&quot;: Text &#39;2019-03-27T13:00:00Z&#39; could not be parsed, unparsed text found at index 19</code>"},{"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"score":0,"creation_date":1553723723,"post_id":55386929,"comment_id":97496025,"body_markdown":"Also added the all 3 dependencies mentioned in [jackson-modules-8](https://github.com/FasterXML/jackson-modules-java8)","body":"Also added the all 3 dependencies mentioned in <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">jackson-modules-8</a>"},{"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"score":0,"creation_date":1553723789,"post_id":55386929,"comment_id":97496051,"body_markdown":"I am not using ObjectMapper. How do it register it?\nI am just taking date from json and writing it to mysql db in a datetime column.","body":"I am not using ObjectMapper. How do it register it? I am just taking date from json and writing it to mysql db in a datetime column."},{"owner":{"account_id":15487418,"reputation":1884,"user_id":11173046,"display_name":"Not a JD"},"score":0,"creation_date":1553723851,"post_id":55386929,"comment_id":97496080,"body_markdown":"Your use of @JsonProperty (https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonProperty.html) suggests that something somewhere is using Jackson to do JSON parsing which in turn means ObjectMapper is being used.","body":"Your use of @JsonProperty (<a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-annotations/javadoc/2.8/com/&hellip;</a>) suggests that something somewhere is using Jackson to do JSON parsing which in turn means ObjectMapper is being used."},{"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"score":0,"creation_date":1553723984,"post_id":55386929,"comment_id":97496132,"body_markdown":"okay got it. But still getting this exception. How do I resolve it?","body":"okay got it. But still getting this exception. How do I resolve it?"},{"owner":{"account_id":15487418,"reputation":1884,"user_id":11173046,"display_name":"Not a JD"},"score":0,"creation_date":1553724048,"post_id":55386929,"comment_id":97496157,"body_markdown":"Try using &quot;@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;, lenient = OptBoolean.FALSE)&quot; - note the Z, to capture timezone (Zulu in the example case you gave above)","body":"Try using &quot;@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;, lenient = OptBoolean.FALSE)&quot; - note the Z, to capture timezone (Zulu in the example case you gave above)"},{"owner":{"account_id":15487418,"reputation":1884,"user_id":11173046,"display_name":"Not a JD"},"score":0,"creation_date":1553728738,"post_id":55386929,"comment_id":97497650,"body_markdown":"OK - added a small working test. Looks like X was needed, not Z, for your format per https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","body":"OK - added a small working test. Looks like X was needed, not Z, for your format per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a>"}],"tags":[],"owner":{"account_id":15487418,"reputation":1884,"user_id":11173046,"display_name":"Not a JD"},"comment_count":7,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553728700,"creation_date":1553723040,"answer_id":55386929,"question_id":55386761,"body_markdown":"[java.util.Date][1] does not capture time zone data. It only knows about number of millis since the epoch.\r\n\r\nYou could try using one of the modules in [jackson-modules-java8][2] and deserialize into an instance of [ZonedDateTime][3] instead, which is time-zone aware.\r\n\r\nEDIT: try this as a basis for getting it to work:\r\n\r\n    public class SoTest {\r\n        public static void main(String[] args) throws Exception {\r\n            ObjectMapper om = new ObjectMapper().registerModule(new ParameterNamesModule())\r\n                                                .registerModule(new JavaTimeModule());\r\n    \r\n            String s = &quot;{\\&quot;callStartTime\\&quot; : \\&quot;2019-03-27T13:00:00Z\\&quot; }&quot;;\r\n    \r\n            MyType mt = om.readValue(s, MyType.class);\r\n    \r\n            System.out.println(mt.getCallStartTime());\r\n        }\r\n    }\r\n    \r\n    class MyType {\r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;, lenient = OptBoolean.FALSE)\r\n        private ZonedDateTime callStartTime;\r\n    \r\n        public ZonedDateTime getCallStartTime() {\r\n            return callStartTime;\r\n        }\r\n    \r\n        public void setCallStartTime(ZonedDateTime date) {\r\n            this.callStartTime = date;\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [2]: https://github.com/FasterXML/jackson-modules-java8\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">java.util.Date</a> does not capture time zone data. It only knows about number of millis since the epoch.</p>\n\n<p>You could try using one of the modules in <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">jackson-modules-java8</a> and deserialize into an instance of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">ZonedDateTime</a> instead, which is time-zone aware.</p>\n\n<p>EDIT: try this as a basis for getting it to work:</p>\n\n<pre><code>public class SoTest {\n    public static void main(String[] args) throws Exception {\n        ObjectMapper om = new ObjectMapper().registerModule(new ParameterNamesModule())\n                                            .registerModule(new JavaTimeModule());\n\n        String s = \"{\\\"callStartTime\\\" : \\\"2019-03-27T13:00:00Z\\\" }\";\n\n        MyType mt = om.readValue(s, MyType.class);\n\n        System.out.println(mt.getCallStartTime());\n    }\n}\n\nclass MyType {\n    @JsonFormat(pattern = \"yyyy-MM-dd'T'HH:mm:ssX\", lenient = OptBoolean.FALSE)\n    private ZonedDateTime callStartTime;\n\n    public ZonedDateTime getCallStartTime() {\n        return callStartTime;\n    }\n\n    public void setCallStartTime(ZonedDateTime date) {\n        this.callStartTime = date;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1553806216,"creation_date":1553806216,"answer_id":55406647,"question_id":55386761,"body_markdown":"**Simple solution:** I solved it by changing the data type to `String` which completes my aim to capture the value as it is coming from JSON payload. Using `Date` and other data types were converting the value to some different timezone.\r\n\r\n    @JsonProperty(&quot;callStartTime&quot;)\r\n    @Column(name = &quot;call_start_dt&quot;, nullable = false)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, lenient = OptBoolean.FALSE)\r\n    private **String** callStartTime;\r\n\r\n","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p><strong>Simple solution:</strong> I solved it by changing the data type to <code>String</code> which completes my aim to capture the value as it is coming from JSON payload. Using <code>Date</code> and other data types were converting the value to some different timezone.</p>\n\n<pre><code>@JsonProperty(\"callStartTime\")\n@Column(name = \"call_start_dt\", nullable = false)\n@JsonFormat(pattern = \"yyyy-MM-dd HH:mm:ss\", lenient = OptBoolean.FALSE)\nprivate **String** callStartTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10728079,"reputation":1543,"user_id":7895005,"display_name":"Pramod H G"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1600064132,"creation_date":1600064132,"answer_id":63878979,"question_id":55386761,"body_markdown":"There are two possible solutions for this :\r\n\r\n**1. Define ObjectMapper bean and set date format.**\r\n\r\n    @Bean\r\n\tpublic ObjectMapper objectMapper()\r\n\t{\r\n\t   ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n\t   DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t   objectMapper.setDateFormat(df);\r\n\t\t   return objectMapper;\r\n\t}\r\n\r\n**2. Set date format for the particular field using @JsonFormat**\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, lenient = OptBoolean.FALSE)\r\n    private Date createTime;","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p>There are two possible solutions for this :</p>\n<p><strong>1. Define ObjectMapper bean and set date format.</strong></p>\n<pre><code>@Bean\npublic ObjectMapper objectMapper()\n{\n   ObjectMapper objectMapper = new ObjectMapper();\n\n   DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n   objectMapper.setDateFormat(df);\n       return objectMapper;\n}\n</code></pre>\n<p><strong>2. Set date format for the particular field using @JsonFormat</strong></p>\n<pre><code>@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, lenient = OptBoolean.FALSE)\nprivate Date createTime;\n</code></pre>\n"}],"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55406647,"answer_count":4,"score":4,"last_activity_date":1678876541,"creation_date":1553722273,"question_id":55386761,"body_markdown":"I have a value coming in from JSON payload as: \r\n\r\n    &quot;callStartTime&quot; : &quot;2019-03-27 13:00:00&quot;\r\n\r\nEntity.java\r\n\r\n    @JsonProperty(&quot;callStartTime&quot;)\r\n    @Column(name = &quot;call_start_dt&quot;, nullable = false)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, lenient = OptBoolean.FALSE)\r\n    private Date callStartTime;\r\n\r\nWhen I printed it on console, it says:\r\n\r\n    Wed Mar 27 08:00:00 CDT 2019\r\n\r\nI wanted to be the same as it was in json payload. How I can fix it?\r\n\r\nI am just taking date from json and writing it to mysql db in a datetime column. \r\n\r\n","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p>I have a value coming in from JSON payload as: </p>\n\n<pre><code>\"callStartTime\" : \"2019-03-27 13:00:00\"\n</code></pre>\n\n<p>Entity.java</p>\n\n<pre><code>@JsonProperty(\"callStartTime\")\n@Column(name = \"call_start_dt\", nullable = false)\n@JsonFormat(pattern = \"yyyy-MM-dd HH:mm:ss\", lenient = OptBoolean.FALSE)\nprivate Date callStartTime;\n</code></pre>\n\n<p>When I printed it on console, it says:</p>\n\n<pre><code>Wed Mar 27 08:00:00 CDT 2019\n</code></pre>\n\n<p>I wanted to be the same as it was in json payload. How I can fix it?</p>\n\n<p>I am just taking date from json and writing it to mysql db in a datetime column. </p>\n"},{"tags":["java","android","hotspot"],"owner":{"account_id":22821029,"reputation":96,"user_id":16970888,"display_name":"Jamebes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678876524,"creation_date":1678876524,"question_id":75743519,"body_markdown":"My Android 7.1, I cannot turnon hotspot. \r\n[![enter image description here](https://i.stack.imgur.com/2tatP.png)](https://i.stack.imgur.com/2tatP.png)\r\nIf i click switch to turn on then It ok \r\n[![enter image description here](https://i.stack.imgur.com/PlzvP.png)](https://i.stack.imgur.com/PlzvP.png)\r\nMy code to turn on that: ([similar example code in SO](https://stackoverflow.com/questions/6394599/android-turn-on-off-wifi-hotspot-programmatically))\r\nGet wifi config\r\n\r\n    public WifiConfiguration getWifiApConfiguration(Context context) {\r\n    \tWifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n    \ttry {\r\n    \t\tMethod method = wifiManager.getClass().getMethod(&quot;getWifiApConfiguration&quot;);\r\n    \t\t\treturn (WifiConfiguration) method.invoke(wifiManager);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLog.e(this.getClass().toString(), &quot;&quot;, e);\r\n    \t\t\treturn null;\r\n    \t}\r\n    }\r\n\r\nTurn on hotspot\r\n\r\n    public boolean setWifiEnabled(Context context, WifiConfiguration wifiConfig, boolean enabled) {\r\n    \tWifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n    \ttry {\r\n    \t\tif (enabled) { //disables wifi if it&#39;s already enabled\r\n    \t\t\twifiManager.setWifiEnabled(false);\r\n    \t\t}\r\n    \r\n    \t\tMethod method = wifiManager.getClass()\r\n    \t\t\t.getMethod(&quot;setWifiApEnabled&quot;, WifiConfiguration.class, boolean.class);\r\n    \r\n    \t\treturn (Boolean) method.invoke(wifiManager, wifiConfig, enabled);\r\n    \t} catch (Exception e) {\r\n    \t\tLog.e(this.getClass().toString(), &quot;&quot;, e);\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nMy app granded full permssions, I checked :\r\n\r\n    private void checkPermissions() {\r\n    \tPackageManager pm = weakReference.get(). getPackageManager();\r\n    \tString packageName =weakReference.get(). getPackageName();\r\n    \ttry {\r\n    \t\tPackageInfo packageInfo = pm.getPackageInfo(packageName, PackageManager.GET_PERMISSIONS);\r\n    \t\tString[] permissions = packageInfo.requestedPermissions;\r\n    \t\t\tif (permissions != null) {\r\n    \t\t\t\tfor (String permission : permissions) {\r\n    \t\t\t\t\tint hasPermission = ContextCompat.checkSelfPermission(weakReference.get(), permission);\r\n    \t\t\t\t\tif (hasPermission != PackageManager.PERMISSION_GRANTED) {\r\n    \t\t\t\t\tLog.d(&quot;Permission&quot;, &quot;Permission denied for: &quot; + permission);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\tLog.d(&quot;Permission&quot;, &quot;Permission granted for: &quot; + permission);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (PackageManager.NameNotFoundException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\n&gt; Permission granted for: android.permission.ACCESS_WIFI_STATE\r\n&gt; D/Permission: Permission granted for:\r\n&gt; android.permission.CHANGE_WIFI_STATE D/Permission: Permission granted\r\n&gt; for: android.permission.WRITE_SETTINGS D/Permission: Permission\r\n&gt; granted for: android.permission.CHANGE_NETWORK_STATE\r\n\r\n","title":"Can not turn on Hotspot Android","body":"<p>My Android 7.1, I cannot turnon hotspot.\n<a href=\"https://i.stack.imgur.com/2tatP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2tatP.png\" alt=\"enter image description here\" /></a>\nIf i click switch to turn on then It ok\n<a href=\"https://i.stack.imgur.com/PlzvP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PlzvP.png\" alt=\"enter image description here\" /></a>\nMy code to turn on that: (<a href=\"https://stackoverflow.com/questions/6394599/android-turn-on-off-wifi-hotspot-programmatically\">similar example code in SO</a>)\nGet wifi config</p>\n<pre><code>public WifiConfiguration getWifiApConfiguration(Context context) {\n    WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n    try {\n        Method method = wifiManager.getClass().getMethod(&quot;getWifiApConfiguration&quot;);\n            return (WifiConfiguration) method.invoke(wifiManager);\n        } catch (Exception e) {\n            Log.e(this.getClass().toString(), &quot;&quot;, e);\n            return null;\n    }\n}\n</code></pre>\n<p>Turn on hotspot</p>\n<pre><code>public boolean setWifiEnabled(Context context, WifiConfiguration wifiConfig, boolean enabled) {\n    WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n    try {\n        if (enabled) { //disables wifi if it's already enabled\n            wifiManager.setWifiEnabled(false);\n        }\n\n        Method method = wifiManager.getClass()\n            .getMethod(&quot;setWifiApEnabled&quot;, WifiConfiguration.class, boolean.class);\n\n        return (Boolean) method.invoke(wifiManager, wifiConfig, enabled);\n    } catch (Exception e) {\n        Log.e(this.getClass().toString(), &quot;&quot;, e);\n        return false;\n    }\n}\n</code></pre>\n<p>My app granded full permssions, I checked :</p>\n<pre><code>private void checkPermissions() {\n    PackageManager pm = weakReference.get(). getPackageManager();\n    String packageName =weakReference.get(). getPackageName();\n    try {\n        PackageInfo packageInfo = pm.getPackageInfo(packageName, PackageManager.GET_PERMISSIONS);\n        String[] permissions = packageInfo.requestedPermissions;\n            if (permissions != null) {\n                for (String permission : permissions) {\n                    int hasPermission = ContextCompat.checkSelfPermission(weakReference.get(), permission);\n                    if (hasPermission != PackageManager.PERMISSION_GRANTED) {\n                    Log.d(&quot;Permission&quot;, &quot;Permission denied for: &quot; + permission);\n                    } else {\n                    Log.d(&quot;Permission&quot;, &quot;Permission granted for: &quot; + permission);\n                    }\n                }\n            }\n        } catch (PackageManager.NameNotFoundException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<blockquote>\n<p>Permission granted for: android.permission.ACCESS_WIFI_STATE\nD/Permission: Permission granted for:\nandroid.permission.CHANGE_WIFI_STATE D/Permission: Permission granted\nfor: android.permission.WRITE_SETTINGS D/Permission: Permission\ngranted for: android.permission.CHANGE_NETWORK_STATE</p>\n</blockquote>\n"},{"tags":["java","file","upload"],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669673466,"creation_date":1669673466,"answer_id":74607010,"question_id":74603705,"body_markdown":"There&#39;s this [stackoverflow answer][1] for implementing resumable downloads. \r\n\r\nPerhaps you can use [Google APIs - Direct and Resumable Media Uploads][2]. This is just a suggestion: I haven&#39;t used it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22107823/1271785\r\n  [2]: https://developers.google.com/api-client-library/java/google-api-java-client/media-upload","title":"Resumable upload and download code implementation in Java spring boot","body":"<p>There's this <a href=\"https://stackoverflow.com/a/22107823/1271785\">stackoverflow answer</a> for implementing resumable downloads.</p>\n<p>Perhaps you can use <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/media-upload\" rel=\"nofollow noreferrer\">Google APIs - Direct and Resumable Media Uploads</a>. This is just a suggestion: I haven't used it.</p>\n"}],"owner":{"account_id":27075007,"reputation":13,"user_id":20625086,"display_name":"Ajith S P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74607010,"answer_count":1,"score":1,"last_activity_date":1678876304,"creation_date":1669653140,"question_id":74603705,"body_markdown":"Please help me with the code implementation for resumable upload and download of file in Java spring boot.\r\n\r\nIs there any library to use for resumable upload and download files in java   \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Resumable upload and download code implementation in Java spring boot","body":"<p>Please help me with the code implementation for resumable upload and download of file in Java spring boot.</p>\n<p>Is there any library to use for resumable upload and download files in java</p>\n"},{"tags":["java","oop","generics"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1571766434,"post_id":58509727,"comment_id":103347222,"body_markdown":"Even for things that don&#39;t make any sense to be added together?","body":"Even for things that don&#39;t make any sense to be added together?"},{"owner":{"account_id":7501556,"reputation":2621,"user_id":5699679,"display_name":"Avi"},"score":0,"creation_date":1571766462,"post_id":58509727,"comment_id":103347240,"body_markdown":"Not possible, not desirable.","body":"Not possible, not desirable."},{"owner":{"account_id":16220731,"reputation":719,"user_id":11712317,"display_name":"Prince Vegeta"},"score":1,"creation_date":1571767319,"post_id":58509727,"comment_id":103347615,"body_markdown":"@ayush If you are sure that both numbers input will be of same data type, using a `generic` method might help.","body":"@ayush If you are sure that both numbers input will be of same data type, using a <code>generic</code> method might help."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1571768060,"post_id":58509727,"comment_id":103347927,"body_markdown":"If you take a look at the `Arrays class` you will see that methods that do the same operation for primitive types need to be overloaded.","body":"If you take a look at the <code>Arrays class</code> you will see that methods that do the same operation for primitive types need to be overloaded."}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571768137,"creation_date":1571767832,"answer_id":58510096,"question_id":58509727,"body_markdown":"This is not possible because you can&#39;t add arbitrary objects using the `+` operator (see [Java specification for &#39;+&#39; operator](https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.18)).\r\n\r\nIf you don&#39;t care about losing precision in some cases, you could define the type of the parameters to be [`Number`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Number.html) and then call `doubleValue` and/ or `longValue` before doing the addition. The only other way is to write a separate method for each of the primitive types.\r\n\r\nHowever, if you want to add arbitrary objects together, you could create an `Addable` interface which defines an `add(Addable other)` method and implement that method in your classes. I don&#39;t know how you would define such an addition, but ultimately that&#39;s up to you.\r\n\r\nSome classes, like `BigInteger` already have such a method. It is, however, not defined by an interface and only takes objects of the same type.","title":"Generalized method to get sum of any data type in java","body":"<p>This is not possible because you can't add arbitrary objects using the <code>+</code> operator (see <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.18\" rel=\"nofollow noreferrer\">Java specification for '+' operator</a>).</p>\n\n<p>If you don't care about losing precision in some cases, you could define the type of the parameters to be <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Number.html\" rel=\"nofollow noreferrer\"><code>Number</code></a> and then call <code>doubleValue</code> and/ or <code>longValue</code> before doing the addition. The only other way is to write a separate method for each of the primitive types.</p>\n\n<p>However, if you want to add arbitrary objects together, you could create an <code>Addable</code> interface which defines an <code>add(Addable other)</code> method and implement that method in your classes. I don't know how you would define such an addition, but ultimately that's up to you.</p>\n\n<p>Some classes, like <code>BigInteger</code> already have such a method. It is, however, not defined by an interface and only takes objects of the same type.</p>\n"}],"owner":{"account_id":4650743,"reputation":1,"user_id":3767710,"display_name":"asur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678875682,"creation_date":1571766216,"question_id":58509727,"body_markdown":"I want a general method which can give me output for any data type passed to its arguments.\r\n\r\nFor example:\r\n\r\nWe have to write many same implementations for different data types.\r\n\r\n```\r\nclass Test {\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tint x=sum(1,2);\r\n\t\tdouble y=sum(1.11,2.22);\r\n\t\tString z=sum(&quot;1&quot;,&quot;2&quot;);\r\n\t}\r\n\r\n\tstatic public int sum(int a, int b) {\r\n\t\treturn a + b;\r\n\t}\r\n\r\n\tstatic public double sum(double a, double b) {\r\n\t\treturn a + b;\r\n\t}\r\n\r\n\tstatic public String sum(String a, String b) {\r\n\t\treturn a + b;\r\n\t}\r\n}\r\n```\r\n\r\nNeed only one method which can accept any data type and return the output.\r\n","title":"Generalized method to get sum of any data type in java","body":"<p>I want a general method which can give me output for any data type passed to its arguments.</p>\n\n<p>For example:</p>\n\n<p>We have to write many same implementations for different data types.</p>\n\n<pre><code>class Test {\n\n    public static void main(String args[]) {\n        int x=sum(1,2);\n        double y=sum(1.11,2.22);\n        String z=sum(\"1\",\"2\");\n    }\n\n    static public int sum(int a, int b) {\n        return a + b;\n    }\n\n    static public double sum(double a, double b) {\n        return a + b;\n    }\n\n    static public String sum(String a, String b) {\n        return a + b;\n    }\n}\n</code></pre>\n\n<p>Need only one method which can accept any data type and return the output.</p>\n"},{"tags":["java","json","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678874567,"creation_date":1678874567,"answer_id":75743156,"question_id":75742582,"body_markdown":"My issue was with my ObjectMapper that was from package org.codehaus.jackson and my JSON annotations were from fasterxml","title":"Json polymorphism deserialization","body":"<p>My issue was with my ObjectMapper that was from package org.codehaus.jackson and my JSON annotations were from fasterxml</p>\n"}],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678874567,"creation_date":1678871440,"question_id":75742582,"body_markdown":"I am trying to deserialize a JSON file to my classes in Java. I have tried all possible solutions I could find with the JSON annotations, such as `@JsonSubTypes`, `@JsonTypeInfo` and with CLASS, NAME and all I can find. However, none of the solutions worked.\r\n\r\nPlease see below the raw JSON file and classes before the changes.\r\n\r\nJSON file:\r\n```json\r\n{\r\n  &quot;data&quot;: [\r\n    {\r\n        &quot;error_msg&quot;: &quot;error msg 1&quot;,\r\n        &quot;error_code&quot;: &quot;error code 1&quot;,\r\n\t\t&quot;type&quot;: &quot;error&quot;\r\n    },\r\n    {\r\n        &quot;data&quot;: [\r\n          {\r\n\t\t    &quot;error_msg&quot;: &quot;error msg 2&quot;,\r\n\t\t    &quot;error_code&quot;: &quot;error code 2&quot;,\r\n\t\t\t&quot;type&quot;: &quot;error&quot;\r\n          }\r\n        ],\r\n        &quot;name&quot;: &quot;group1&quot;,\r\n\t\t&quot;type&quot;: &quot;group&quot;\r\n     }\r\n  ],\r\n  &quot;name&quot;: &quot;exceptions_db&quot;,\r\n  &quot;version&quot;: &quot;1&quot;\r\n}\r\n```\r\n\r\nJava classes:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ExceptionsModel implements JsonModel{\r\n    private String version;\r\n    private String name;\r\n    private List&lt;ExceptionItem&gt; data;\r\n\r\n    public void setData(List&lt;ExceptionItem&gt; data) {\r\n        if (data.size() &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\r\n        }\r\n        this.data = data;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Error extends ExceptionItem {\r\n    private String error_msg;\r\n    private String error_code;\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Group extends ExceptionItem {\r\n    private String name;\r\n    private List&lt;ExceptionItem&gt; data;\r\n\r\n    public Group(String name, List&lt;ExceptionItem&gt; data) {\r\n        if (data.size() &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\r\n        }\r\n        this.name = name;\r\n        this.data = data;\r\n    }\r\n\r\n    public void setData(List&lt;ExceptionItem&gt; data) {\r\n        if (data.size() &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\r\n        }\r\n        this.data = data;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic abstract class ExceptionItem {\r\n}\r\n```\r\n\r\nEach item in my model and JSON, under data property, can be either a group or error object.\r\n\r\nUPDATE:\r\n\r\nI have tried to add the json annotations to ExceptionItem but still did not work\r\n\r\n```\r\n@JsonTypeInfo(use=JsonTypeInfo.Id.CLASS, include=JsonTypeInfo.As.PROPERTY, property=&quot;type&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Error.class, name = &quot;error&quot;),\r\n        @JsonSubTypes.Type(value = Group.class, name = &quot;group&quot;),\r\n})\r\npublic abstract class ExceptionItem {\r\n}\r\n```\r\n\r\nI am getting the following error:\r\n\r\n```\r\n Can not construct instance of com.altair.infrastructures.propertiesFile.jsonResourceLoader.exceptions.ExceptionItem, problem: abstract types can only be instantiated with additional type information\r\n at [Source: C:\\QA\\TestCaseGenerator\\systemFiles\\exceptions\\Exceptions_DB.json; line: 3, column: 5] (through reference chain: com.altair.infrastructures.propertiesFile.jsonResourceLoader.exceptions.ExceptionsModel[&quot;data&quot;])\r\n```","title":"Json polymorphism deserialization","body":"<p>I am trying to deserialize a JSON file to my classes in Java. I have tried all possible solutions I could find with the JSON annotations, such as <code>@JsonSubTypes</code>, <code>@JsonTypeInfo</code> and with CLASS, NAME and all I can find. However, none of the solutions worked.</p>\n<p>Please see below the raw JSON file and classes before the changes.</p>\n<p>JSON file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: [\n    {\n        &quot;error_msg&quot;: &quot;error msg 1&quot;,\n        &quot;error_code&quot;: &quot;error code 1&quot;,\n        &quot;type&quot;: &quot;error&quot;\n    },\n    {\n        &quot;data&quot;: [\n          {\n            &quot;error_msg&quot;: &quot;error msg 2&quot;,\n            &quot;error_code&quot;: &quot;error code 2&quot;,\n            &quot;type&quot;: &quot;error&quot;\n          }\n        ],\n        &quot;name&quot;: &quot;group1&quot;,\n        &quot;type&quot;: &quot;group&quot;\n     }\n  ],\n  &quot;name&quot;: &quot;exceptions_db&quot;,\n  &quot;version&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>Java classes:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ExceptionsModel implements JsonModel{\n    private String version;\n    private String name;\n    private List&lt;ExceptionItem&gt; data;\n\n    public void setData(List&lt;ExceptionItem&gt; data) {\n        if (data.size() &lt; 1) {\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\n        }\n        this.data = data;\n    }\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Error extends ExceptionItem {\n    private String error_msg;\n    private String error_code;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class Group extends ExceptionItem {\n    private String name;\n    private List&lt;ExceptionItem&gt; data;\n\n    public Group(String name, List&lt;ExceptionItem&gt; data) {\n        if (data.size() &lt; 1) {\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\n        }\n        this.name = name;\n        this.data = data;\n    }\n\n    public void setData(List&lt;ExceptionItem&gt; data) {\n        if (data.size() &lt; 1) {\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\n        }\n        this.data = data;\n    }\n}\n</code></pre>\n<pre><code>public abstract class ExceptionItem {\n}\n</code></pre>\n<p>Each item in my model and JSON, under data property, can be either a group or error object.</p>\n<p>UPDATE:</p>\n<p>I have tried to add the json annotations to ExceptionItem but still did not work</p>\n<pre><code>@JsonTypeInfo(use=JsonTypeInfo.Id.CLASS, include=JsonTypeInfo.As.PROPERTY, property=&quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Error.class, name = &quot;error&quot;),\n        @JsonSubTypes.Type(value = Group.class, name = &quot;group&quot;),\n})\npublic abstract class ExceptionItem {\n}\n</code></pre>\n<p>I am getting the following error:</p>\n<pre><code> Can not construct instance of com.altair.infrastructures.propertiesFile.jsonResourceLoader.exceptions.ExceptionItem, problem: abstract types can only be instantiated with additional type information\n at [Source: C:\\QA\\TestCaseGenerator\\systemFiles\\exceptions\\Exceptions_DB.json; line: 3, column: 5] (through reference chain: com.altair.infrastructures.propertiesFile.jsonResourceLoader.exceptions.ExceptionsModel[&quot;data&quot;])\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"score":0,"creation_date":1499976172,"post_id":45069550,"comment_id":77152360,"body_markdown":"This seems strange - the transform appears to be working on my machine. What command are you using to run your pipeline? This class is defined in one of the maven dependencies of the &quot;sorter&quot; module, so I suppose for some reason it&#39;s just not making it into the classpath of your invocation.","body":"This seems strange - the transform appears to be working on my machine. What command are you using to run your pipeline? This class is defined in one of the maven dependencies of the &quot;sorter&quot; module, so I suppose for some reason it&#39;s just not making it into the classpath of your invocation."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1499985798,"post_id":45069550,"comment_id":77156648,"body_markdown":"Do you have Hadoop installed on your local Windows machine?","body":"Do you have Hadoop installed on your local Windows machine?"},{"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"score":0,"creation_date":1500011624,"post_id":45069550,"comment_id":77163412,"body_markdown":"No, and this transform does not require having Hadoop installed. It only requires having the &quot;hadoop-core&quot; library jar in your classpath, and this jar is a maven dependency of the Apache Beam module that contains the SortValues transform, so if you&#39;re using Apache Beam as a maven dependency, then you definitely have this jar and you don&#39;t need anything else. That&#39;s why my hypothesis is that there&#39;s simply something wrong with the classpath of your program.","body":"No, and this transform does not require having Hadoop installed. It only requires having the &quot;hadoop-core&quot; library jar in your classpath, and this jar is a maven dependency of the Apache Beam module that contains the SortValues transform, so if you&#39;re using Apache Beam as a maven dependency, then you definitely have this jar and you don&#39;t need anything else. That&#39;s why my hypothesis is that there&#39;s simply something wrong with the classpath of your program."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1500032417,"post_id":45069550,"comment_id":77175106,"body_markdown":"Ok, does SortValues transform have a dependency on the version of Apache Beam (I am using 0.6)? Thanks","body":"Ok, does SortValues transform have a dependency on the version of Apache Beam (I am using 0.6)? Thanks"},{"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"score":0,"creation_date":1500059270,"post_id":45069550,"comment_id":77191595,"body_markdown":"Not sure what you mean by dependency? SortValues is a *part* of Apache Beam.","body":"Not sure what you mean by dependency? SortValues is a <i>part</i> of Apache Beam."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1500062272,"post_id":45069550,"comment_id":77192975,"body_markdown":"what I mean is that whether the hadoop-core library jar being a maven dependency of Apache beam module depends on the version of beam version. I am using release-0.6.0 Beam, and I just checked that it doesn&#39;t contain hadoop-core, and nor does any release version below release-2.0.0.","body":"what I mean is that whether the hadoop-core library jar being a maven dependency of Apache beam module depends on the version of beam version. I am using release-0.6.0 Beam, and I just checked that it doesn&#39;t contain hadoop-core, and nor does any release version below release-2.0.0."},{"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"score":0,"creation_date":1500063303,"post_id":45069550,"comment_id":77193496,"body_markdown":"Oh I see. Apologies, I was missing some context here. Looks like this JIRA issue specifically talks about this dependency: https://issues.apache.org/jira/browse/BEAM-1859 - and now I&#39;m no longer sure that the dependency being provided in Beam 2.0.0 is a good thing... So yeah, seems like you need to either use a newer version of Beam which provides it by default, or provide the dependency yourself in your maven file.","body":"Oh I see. Apologies, I was missing some context here. Looks like this JIRA issue specifically talks about this dependency: <a href=\"https://issues.apache.org/jira/browse/BEAM-1859\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/BEAM-1859</a> - and now I&#39;m no longer sure that the dependency being provided in Beam 2.0.0 is a good thing... So yeah, seems like you need to either use a newer version of Beam which provides it by default, or provide the dependency yourself in your maven file."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1500063769,"post_id":45069550,"comment_id":77193744,"body_markdown":"thanks jkff. your input is very helpful here. I just added two hadoop dependencies and it works now. thanks again.","body":"thanks jkff. your input is very helpful here. I just added two hadoop dependencies and it works now. thanks again."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1500064303,"post_id":45069550,"comment_id":77194045,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/149261/discussion-between-bignano-and-jkff).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/149261/discussion-between-bignano-and-jkff\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":2571685,"reputation":123,"user_id":2230252,"display_name":"David Farr"},"score":2,"creation_date":1582139194,"post_id":45111111,"comment_id":106678041,"body_markdown":"I am finding I need to add these dependencies with beam 2.19.0","body":"I am finding I need to add these dependencies with beam 2.19.0"},{"owner":{"account_id":3549768,"reputation":1538,"user_id":2964911,"display_name":"Iraj Hedayati"},"score":0,"creation_date":1668825611,"post_id":45111111,"comment_id":131506986,"body_markdown":"beam 2.42.0 and still need to add this to run it locally","body":"beam 2.42.0 and still need to add this to run it locally"}],"tags":[],"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1500064578,"creation_date":1500063950,"answer_id":45111111,"question_id":45069550,"body_markdown":"As of today, if you use Beam with release version below 2.0.0, you will have to add two hadoop dependencies in your maven pom file  for this SortValues module to work.\r\n\r\n1. add `hadoop-common` version 2.7.3 or later\r\n2. add `hadoop-mapreduce-client-core` version 2.7.3 or later.\r\n\r\nOtherwise, you will just need to use Beam with release version &gt;= 2.0.0.","title":"Does SortValues transform Java SDK extension in Beam only run in hadoop environment?","body":"<p>As of today, if you use Beam with release version below 2.0.0, you will have to add two hadoop dependencies in your maven pom file  for this SortValues module to work.</p>\n\n<ol>\n<li>add <code>hadoop-common</code> version 2.7.3 or later</li>\n<li>add <code>hadoop-mapreduce-client-core</code> version 2.7.3 or later.</li>\n</ol>\n\n<p>Otherwise, you will just need to use Beam with release version >= 2.0.0.</p>\n"}],"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45111111,"answer_count":1,"score":2,"last_activity_date":1678874532,"creation_date":1499905344,"question_id":45069550,"body_markdown":"I have tried the example code of [SortValues][1] transform using `DirectRunner` on local machine (Windows)\r\n\r\n    PCollection&lt;KV&lt;String, KV&lt;String, Integer&gt;&gt;&gt; input = ...\r\n\r\n    PCollection&lt;KV&lt;String, Iterable&lt;KV&lt;String, Integer&gt;&gt;&gt;&gt; grouped =\r\n    input.apply(GroupByKey.&lt;String, KV&lt;String, Integer&gt;&gt;create());\r\n\r\n    PCollection&lt;KV&lt;String, Iterable&lt;KV&lt;String, Integer&gt;&gt;&gt;&gt; groupedAndSorted =\r\n    grouped.apply(SortValues.&lt;String, String, Integer&gt;create(BufferedExternalSorter.options()));\r\n\r\nbut I got the error `PipelineExecutionException: java.lang.NoClassDefFoundError: org/apache/hadoop/io/Writable`. Does this mean this transform function only works in Hadoop environment?  \r\n\r\n  [1]: https://beam.apache.org/documentation/sdks/java-extensions/#sorter","title":"Does SortValues transform Java SDK extension in Beam only run in hadoop environment?","body":"<p>I have tried the example code of <a href=\"https://beam.apache.org/documentation/sdks/java-extensions/#sorter\" rel=\"nofollow noreferrer\">SortValues</a> transform using <code>DirectRunner</code> on local machine (Windows)</p>\n\n<pre><code>PCollection&lt;KV&lt;String, KV&lt;String, Integer&gt;&gt;&gt; input = ...\n\nPCollection&lt;KV&lt;String, Iterable&lt;KV&lt;String, Integer&gt;&gt;&gt;&gt; grouped =\ninput.apply(GroupByKey.&lt;String, KV&lt;String, Integer&gt;&gt;create());\n\nPCollection&lt;KV&lt;String, Iterable&lt;KV&lt;String, Integer&gt;&gt;&gt;&gt; groupedAndSorted =\ngrouped.apply(SortValues.&lt;String, String, Integer&gt;create(BufferedExternalSorter.options()));\n</code></pre>\n\n<p>but I got the error <code>PipelineExecutionException: java.lang.NoClassDefFoundError: org/apache/hadoop/io/Writable</code>. Does this mean this transform function only works in Hadoop environment?  </p>\n"},{"tags":["java","android","countdowntimer"],"comments":[{"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"score":0,"creation_date":1678872967,"post_id":75742788,"comment_id":133615798,"body_markdown":"you have to set before an alarm service (https://stackoverflow.com/questions/24822506/how-to-start-a-service-at-a-specific-time) and when service is invoked you can start your CountDownTimer.\nWith code you posted, the CountDownTimer starts in invocation-time.","body":"you have to set before an alarm service (<a href=\"https://stackoverflow.com/questions/24822506/how-to-start-a-service-at-a-specific-time\" title=\"how to start a service at a specific time\">stackoverflow.com/questions/24822506/&hellip;</a>) and when service is invoked you can start your CountDownTimer. With code you posted, the CountDownTimer starts in invocation-time."},{"owner":{"account_id":26590140,"reputation":1,"user_id":20213493,"display_name":"Ravi Dixit"},"score":0,"creation_date":1678873070,"post_id":75742788,"comment_id":133615820,"body_markdown":"how to get next 5th min?","body":"how to get next 5th min?"}],"answers":[{"tags":[],"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678874493,"creation_date":1678874493,"answer_id":75743138,"question_id":75742788,"body_markdown":"try with this code:\r\n\r\n    try with this code:\r\n\r\n    import java.time.LocalDateTime;\r\n\r\n    public class HelloWorld{\r\n\r\n     public static void main(String []args){\r\n        final LocalDateTime now = LocalDateTime.now();\r\n        System.out.println(&quot;Current time: &quot; + now);\r\n        final int minute = now.getMinute();\r\n        System.out.println(&quot;Current minute: &quot; + minute);\r\n        final int time_to_add = get_time_to_add(minute);\r\n        System.out.println(&quot;Time to add: &quot; + time_to_add);\r\n        final int next_5_minute = (minute + time_to_add) &lt; 60 ? (minute + time_to_add) : 0;\r\n        System.out.println(&quot;Next 5 minute: &quot; + next_5_minute);\r\n     }\r\n     \r\n     private static int get_time_to_add(final int currMinutes)\r\n     {\r\n         int toReturn = 5;\r\n         int newMinute = currMinutes + toReturn;\r\n         while(newMinute % 5 != 0){\r\n             toReturn -= 1;\r\n             newMinute = currMinutes + toReturn;\r\n         }\r\n         return toReturn;\r\n     }\r\n}","title":"Android countdown timer run in every 5th min","body":"<p>try with this code:</p>\n<pre><code>try with this code:\n\nimport java.time.LocalDateTime;\n\npublic class HelloWorld{\n\n public static void main(String []args){\n    final LocalDateTime now = LocalDateTime.now();\n    System.out.println(&quot;Current time: &quot; + now);\n    final int minute = now.getMinute();\n    System.out.println(&quot;Current minute: &quot; + minute);\n    final int time_to_add = get_time_to_add(minute);\n    System.out.println(&quot;Time to add: &quot; + time_to_add);\n    final int next_5_minute = (minute + time_to_add) &lt; 60 ? (minute + time_to_add) : 0;\n    System.out.println(&quot;Next 5 minute: &quot; + next_5_minute);\n }\n \n private static int get_time_to_add(final int currMinutes)\n {\n     int toReturn = 5;\n     int newMinute = currMinutes + toReturn;\n     while(newMinute % 5 != 0){\n         toReturn -= 1;\n         newMinute = currMinutes + toReturn;\n     }\n     return toReturn;\n }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26590140,"reputation":1,"user_id":20213493,"display_name":"Ravi Dixit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678874493,"creation_date":1678872623,"question_id":75742788,"body_markdown":"I want android countdown timer that run every 5th mins, If current time is 02:33 then timer should run automatically at 02:35 for 5 mins and then stop and start again at 02:40.\r\n\r\nhere i want to pass Int T = next 5th min, if current min is 31 then i want 35.\r\n```\r\nprivate void Timer(int t){\r\n        Log.i(&quot;snake&quot;, String.valueOf(t));\r\n        new CountDownTimer(t*1000,1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                long second = (millisUntilFinished / 1000) % 60;\r\n                long minutes = (millisUntilFinished/(1000*60)) % 60;\r\n                timer.setText(&quot;Time Left - &quot; + minutes + &quot;:&quot; + second);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n               \r\n                timer.setText(&quot;Finish&quot;);\r\n               // Timer();\r\n            }\r\n        }.start();\r\n    }\r\n```\r\n","title":"Android countdown timer run in every 5th min","body":"<p>I want android countdown timer that run every 5th mins, If current time is 02:33 then timer should run automatically at 02:35 for 5 mins and then stop and start again at 02:40.</p>\n<p>here i want to pass Int T = next 5th min, if current min is 31 then i want 35.</p>\n<pre><code>private void Timer(int t){\n        Log.i(&quot;snake&quot;, String.valueOf(t));\n        new CountDownTimer(t*1000,1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                long second = (millisUntilFinished / 1000) % 60;\n                long minutes = (millisUntilFinished/(1000*60)) % 60;\n                timer.setText(&quot;Time Left - &quot; + minutes + &quot;:&quot; + second);\n\n            }\n\n            @Override\n            public void onFinish() {\n               \n                timer.setText(&quot;Finish&quot;);\n               // Timer();\n            }\n        }.start();\n    }\n</code></pre>\n"},{"tags":["java","kotlin","swagger-codegen","openapi-generator"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1678888626,"post_id":75743079,"comment_id":133620349,"body_markdown":"openapi-generator has the [Kotlin client generator](https://openapi-generator.tech/docs/generators#client-generators). Have you tried it?","body":"openapi-generator has the <a href=\"https://openapi-generator.tech/docs/generators#client-generators\" rel=\"nofollow noreferrer\">Kotlin client generator</a>. Have you tried it?"},{"owner":{"account_id":19843435,"reputation":11,"user_id":14535747,"display_name":"drugzverya"},"score":0,"creation_date":1678962424,"post_id":75743079,"comment_id":133635871,"body_markdown":"Yes, but I couldn&#39;t to make what I need","body":"Yes, but I couldn&#39;t to make what I need"}],"owner":{"account_id":19843435,"reputation":11,"user_id":14535747,"display_name":"drugzverya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678874159,"creation_date":1678874159,"question_id":75743079,"body_markdown":"I need to generate **client&#39;s code in kotlin** using **swagger-codegen-maven-plugin or openapi-generator-maven-plugin**. For example in Java I can  set plugin **library** as **resttemplate** and I can autowire generated code. Or I can generate **feign client**. I want to do the same in kotlin, but I don&#39;t want to use java-code in kotlin.\r\n\r\nI tried different settings for plugins. I could generate java-code and use it in kotlin, but I want  to generate kotlin code only. And I want to use generated code with spring(If generate java code and set library as resttemplate, then generated code is ready to be autowired without additional settings)","title":"How to generate client code using openapi-maven-plugin or swagger-codegen-maven-plugin in kotlin","body":"<p>I need to generate <strong>client's code in kotlin</strong> using <strong>swagger-codegen-maven-plugin or openapi-generator-maven-plugin</strong>. For example in Java I can  set plugin <strong>library</strong> as <strong>resttemplate</strong> and I can autowire generated code. Or I can generate <strong>feign client</strong>. I want to do the same in kotlin, but I don't want to use java-code in kotlin.</p>\n<p>I tried different settings for plugins. I could generate java-code and use it in kotlin, but I want  to generate kotlin code only. And I want to use generated code with spring(If generate java code and set library as resttemplate, then generated code is ready to be autowired without additional settings)</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosaw"},"score":0,"creation_date":1678874916,"post_id":75743032,"comment_id":133616303,"body_markdown":"From my tests it seems to be true, but I&#39;d love to have a confirmation from SO JPA experts.","body":"From my tests it seems to be true, but I&#39;d love to have a confirmation from SO JPA experts."}],"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosaw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678873945,"creation_date":1678873945,"question_id":75743032,"body_markdown":"In a spring boot application which uses JpaRepositories, if I refresh a Postgres&#39; materialized view immediately after calling `repository.save(entity)`, will the view contain new entities?\r\n\r\nIn a code like this:\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MyService {\r\n    private final MyRepository repository\r\n\r\n    @Transactional\r\n    public Collection&lt;FooEntity&gt; updateDatabaseEntries() {\r\n        // ...\r\n        val saved = repository.saveAll(dataRecords);\r\n        repository.refreshMyView();\r\n        return saved;\r\n    }\r\n}\r\n```\r\n\r\nand Repository:\r\n\r\n``` \r\n@Repository\r\npublic interface MyRepository extends JpaRepository&lt;FooEntity, UUID&gt; {\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(value = &quot;REFRESH MATERIALIZED VIEW myView&quot;, nativeQuery = true)\r\n    void refreshMyView();\r\n}\r\n```\r\n\r\nand a view which accesses Foo entities, for example:\r\n\r\n```\r\nCREATE MATERIALIZED VIEW myView AS SELECT * from foo;\r\n```\r\n\r\nWill `myView` always contain data saved with `saveAll` in the `updateDatabaseEntries` method?\r\n\r\n","title":"Refresh Postgres Materialized view after calling Spring JPA save()","body":"<p>In a spring boot application which uses JpaRepositories, if I refresh a Postgres' materialized view immediately after calling <code>repository.save(entity)</code>, will the view contain new entities?</p>\n<p>In a code like this:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class MyService {\n    private final MyRepository repository\n\n    @Transactional\n    public Collection&lt;FooEntity&gt; updateDatabaseEntries() {\n        // ...\n        val saved = repository.saveAll(dataRecords);\n        repository.refreshMyView();\n        return saved;\n    }\n}\n</code></pre>\n<p>and Repository:</p>\n<pre><code>@Repository\npublic interface MyRepository extends JpaRepository&lt;FooEntity, UUID&gt; {\n\n    @Modifying\n    @Transactional\n    @Query(value = &quot;REFRESH MATERIALIZED VIEW myView&quot;, nativeQuery = true)\n    void refreshMyView();\n}\n</code></pre>\n<p>and a view which accesses Foo entities, for example:</p>\n<pre><code>CREATE MATERIALIZED VIEW myView AS SELECT * from foo;\n</code></pre>\n<p>Will <code>myView</code> always contain data saved with <code>saveAll</code> in the <code>updateDatabaseEntries</code> method?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1607639785,"post_id":64810320,"comment_id":115343924,"body_markdown":"there are 3 ways you can do it this in spring boot, check https://stackoverflow.com/questions/42367975/disable-http-options-method-in-spring-boot-application","body":"there are 3 ways you can do it this in spring boot, check <a href=\"https://stackoverflow.com/questions/42367975/disable-http-options-method-in-spring-boot-application\" title=\"disable http options method in spring boot application\">stackoverflow.com/questions/42367975/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20846237,"reputation":1,"user_id":15311676,"display_name":"iwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614656819,"creation_date":1614656819,"answer_id":66433046,"question_id":64810320,"body_markdown":"you can set \r\n\r\n    spring.mvc.dispatch-trace-request: true\r\n\r\nin your application.yml.\r\n\r\nthen, &quot;org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController&quot;\r\nwill create error response without any trace information.\r\n\r\nregards.\r\n","title":"Customize Spring Boot HTTP TRACE disabled error response","body":"<p>you can set</p>\n<pre><code>spring.mvc.dispatch-trace-request: true\n</code></pre>\n<p>in your application.yml.</p>\n<p>then, &quot;org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController&quot;\nwill create error response without any trace information.</p>\n<p>regards.</p>\n"},{"tags":[],"owner":{"account_id":9686495,"reputation":411,"user_id":7186122,"display_name":"C. Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658866623,"creation_date":1658866623,"answer_id":73129281,"question_id":64810320,"body_markdown":"I was faced with this same issue.\r\n\r\nI found a discussion about this issue here:\r\nhttps://github.com/spring-projects/spring-boot/issues/27372\r\n\r\nExample fix is here:\r\nhttps://github.com/juliojgd/sb-trace-http-test/pull/1/files#diff-aa5c385c4035be84995a138ca69a667c1d5e1460c4d675ab70275b1783f222c3\r\n\r\nNote: Where that example has @Import, replace that with @ImportAutoConfiguration instead.\r\n\r\n\r\nThis resolved the issue for me. Hopefully you have the same experience if you haven&#39;t already addressed it.","title":"Customize Spring Boot HTTP TRACE disabled error response","body":"<p>I was faced with this same issue.</p>\n<p>I found a discussion about this issue here:\n<a href=\"https://github.com/spring-projects/spring-boot/issues/27372\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/27372</a></p>\n<p>Example fix is here:\n<a href=\"https://github.com/juliojgd/sb-trace-http-test/pull/1/files#diff-aa5c385c4035be84995a138ca69a667c1d5e1460c4d675ab70275b1783f222c3\" rel=\"nofollow noreferrer\">https://github.com/juliojgd/sb-trace-http-test/pull/1/files#diff-aa5c385c4035be84995a138ca69a667c1d5e1460c4d675ab70275b1783f222c3</a></p>\n<p>Note: Where that example has @Import, replace that with @ImportAutoConfiguration instead.</p>\n<p>This resolved the issue for me. Hopefully you have the same experience if you haven't already addressed it.</p>\n"},{"tags":[],"owner":{"account_id":11602657,"reputation":99,"user_id":8499316,"display_name":"Pritam Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678873908,"creation_date":1678873908,"answer_id":75743023,"question_id":64810320,"body_markdown":"to enable TRACE in your application we need to add below in \r\n**application.yml**\r\n\r\n    spring:\r\n        mvc:\r\n            dispatch-trace-request: true\r\n\r\n**application.properties**\r\n\r\n    spring.mvc.dispatch-trace-request: true","title":"Customize Spring Boot HTTP TRACE disabled error response","body":"<p>to enable TRACE in your application we need to add below in\n<strong>application.yml</strong></p>\n<pre><code>spring:\n    mvc:\n        dispatch-trace-request: true\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.mvc.dispatch-trace-request: true\n</code></pre>\n"}],"owner":{"account_id":18062591,"reputation":733,"user_id":13129361,"display_name":"Jesse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1678873908,"creation_date":1605208444,"question_id":64810320,"body_markdown":"A security company has flagged our Spring Boot 2.3.4 applications for the error response returned when an HTTP TRACE request is sent.  We are using the Tomcat container which already has the HTTP TRACE disabled by default, however the response does contain TRACE information.  This is the output:\r\n\r\n```\r\n$ curl -k -i -X TRACE --cookie &quot;VULNERABLE=Yes&quot; http://localhost:9090\r\n\r\nHTTP/1.1 405\r\nAllow: HEAD, DELETE, POST, GET, OPTIONS, PUT\r\nContent-Type: message/http\r\nContent-Length: 116\r\nDate: Fri, 16 Oct 2020 20:41:51 GMT\r\n\r\nTRACE /error HTTP/1.1\r\nhost: localhost:9090\r\nuser-agent: curl/7.64.1\r\naccept: */*\r\ncookie: VULNERABLE=Yes\r\n```\r\nThe only way I have been able to change this is to enable HTTP TRACE requests with this code in the configuration class annotated with &quot;@Configuration&quot;:\r\n\r\n```\r\n    @Bean\r\n    public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; tomcatCustomizer() {\r\n        return customizer -&gt; customizer.addConnectorCustomizers(connector -&gt; {\r\n            connector.setAllowTrace(true);  // filtered in the SecurityFilter with custom error\r\n        });\r\n    }\r\n```\r\nThen I have added a servlet filter to intercept the request and return a custom response:\r\n```\r\n@Component\r\n@Order(1)\r\npublic class SecurityFilter implements Filter {\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest,\r\n                         ServletResponse servletResponse,\r\n                         FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n        if (HttpMethod.TRACE.name().equals(request.getMethod())) {\r\n            // trace not allowed\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n            response.setStatus(HttpServletResponse.SC_METHOD_NOT_ALLOWED);\r\n            response.setContentType(&quot;message/http&quot;);\r\n            response.getWriter().println(&quot;TRACE method not allowed&quot;);\r\n            response.getWriter().flush();\r\n            return;\r\n        }\r\n        filterChain.doFilter(servletRequest,servletResponse);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\nThe response from that same curl request is:\r\n```\r\nHTTP/1.1 405 \r\nContent-Type: message/http;charset=ISO-8859-1\r\nTransfer-Encoding: chunked\r\nDate: Thu, 12 Nov 2020 19:11:13 GMT\r\n\r\nTRACE method not allowed\r\n```\r\nHas anyone encountered a similar issue?  It seems like enabling trace just to be able to change the response body is not a good idea.","title":"Customize Spring Boot HTTP TRACE disabled error response","body":"<p>A security company has flagged our Spring Boot 2.3.4 applications for the error response returned when an HTTP TRACE request is sent.  We are using the Tomcat container which already has the HTTP TRACE disabled by default, however the response does contain TRACE information.  This is the output:</p>\n<pre><code>$ curl -k -i -X TRACE --cookie &quot;VULNERABLE=Yes&quot; http://localhost:9090\n\nHTTP/1.1 405\nAllow: HEAD, DELETE, POST, GET, OPTIONS, PUT\nContent-Type: message/http\nContent-Length: 116\nDate: Fri, 16 Oct 2020 20:41:51 GMT\n\nTRACE /error HTTP/1.1\nhost: localhost:9090\nuser-agent: curl/7.64.1\naccept: */*\ncookie: VULNERABLE=Yes\n</code></pre>\n<p>The only way I have been able to change this is to enable HTTP TRACE requests with this code in the configuration class annotated with &quot;@Configuration&quot;:</p>\n<pre><code>    @Bean\n    public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; tomcatCustomizer() {\n        return customizer -&gt; customizer.addConnectorCustomizers(connector -&gt; {\n            connector.setAllowTrace(true);  // filtered in the SecurityFilter with custom error\n        });\n    }\n</code></pre>\n<p>Then I have added a servlet filter to intercept the request and return a custom response:</p>\n<pre><code>@Component\n@Order(1)\npublic class SecurityFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest,\n                         ServletResponse servletResponse,\n                         FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        if (HttpMethod.TRACE.name().equals(request.getMethod())) {\n            // trace not allowed\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\n            response.setStatus(HttpServletResponse.SC_METHOD_NOT_ALLOWED);\n            response.setContentType(&quot;message/http&quot;);\n            response.getWriter().println(&quot;TRACE method not allowed&quot;);\n            response.getWriter().flush();\n            return;\n        }\n        filterChain.doFilter(servletRequest,servletResponse);\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>The response from that same curl request is:</p>\n<pre><code>HTTP/1.1 405 \nContent-Type: message/http;charset=ISO-8859-1\nTransfer-Encoding: chunked\nDate: Thu, 12 Nov 2020 19:11:13 GMT\n\nTRACE method not allowed\n</code></pre>\n<p>Has anyone encountered a similar issue?  It seems like enabling trace just to be able to change the response body is not a good idea.</p>\n"},{"tags":["java","spring","spring-boot","maven","environment-variables"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1678868883,"post_id":75741631,"comment_id":133614730,"body_markdown":"I have developed my own [IntelliJ plugin](https://plugins.jetbrains.com/plugin/18734-springboot-patcher) to be able to launch spring-boot applications via green &quot;play button&quot; and configure launch parameters in pom.xml/settings.xml. Another option is to share run configurations in IntelliJ: https://www.jetbrains.com/help/idea/run-debug-configuration.html#share-configurations","body":"I have developed my own <a href=\"https://plugins.jetbrains.com/plugin/18734-springboot-patcher\" rel=\"nofollow noreferrer\">IntelliJ plugin</a> to be able to launch spring-boot applications via green &quot;play button&quot; and configure launch parameters in pom.xml/settings.xml. Another option is to share run configurations in IntelliJ: <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration.html#share-configurations\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678869087,"post_id":75741631,"comment_id":133614788,"body_markdown":"AndreyB.Panfilov I actually use IntelliJ, but I want to use maven at this time and it is really strange that no one else have no idea except from @JavaLearner1. I tried many examples, but even not running by passing parameters that I normally can with Run configuration.","body":"AndreyB.Panfilov I actually use IntelliJ, but I want to use maven at this time and it is really strange that no one else have no idea except from @JavaLearner1. I tried many examples, but even not running by passing parameters that I normally can with Run configuration."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678870169,"post_id":75741631,"comment_id":133615070,"body_markdown":"I tried this command, but still gives password error. I use &quot;dev&quot; in IntelliJ, I don&#39;t see any problem with this command: `mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.profiles=dev \n-Dspring-boot.run.arguments=&quot;&#39;DB_NAME=demo&#39;,&#39;DB_USERNAME=postgres&#39;,DB_PASSWORD=pass&#39;,&#39;JWT_SECRET=appSecretKey&#39;&quot;`","body":"I tried this command, but still gives password error. I use &quot;dev&quot; in IntelliJ, I don&#39;t see any problem with this command: <code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.profiles=dev  -Dspring-boot.run.arguments=&quot;&#39;DB_NAME=demo&#39;,&#39;DB_USERNAME=pos&zwnj;&#8203;tgres&#39;,DB_PASSWORD=p&zwnj;&#8203;ass&#39;,&#39;JWT_SECRET=app&zwnj;&#8203;SecretKey&#39;&quot;</code>"},{"owner":{"account_id":544843,"reputation":2223,"user_id":914422,"accept_rate":60,"display_name":"ameenhere"},"score":0,"creation_date":1678870451,"post_id":75741631,"comment_id":133615154,"body_markdown":"Can you try removing the leading hyphens (-) and add spaces between properties instead of the comma (,) only for the run.arguments section. So something like `-Dspring-boot.run.arguments=&quot;DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey&quot;`","body":"Can you try removing the leading hyphens (-) and add spaces between properties instead of the comma (,) only for the run.arguments section. So something like <code>-Dspring-boot.run.arguments=&quot;DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey&quot;</code>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678870674,"post_id":75741631,"comment_id":133615217,"body_markdown":"Do you mean `mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.profiles=dev \n-Dspring-boot.run.arguments=&quot;DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey&quot;` ? I tried it and still get &quot;FATAL: password authentication failed for user &quot;${DB_USERNAME}&quot;&quot;. Any idea?","body":"Do you mean <code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.profiles=dev  -Dspring-boot.run.arguments=&quot;DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey&quot;</code> ? I tried it and still get &quot;FATAL: password authentication failed for user &quot;${DB_USERNAME}&quot;&quot;. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678870735,"post_id":75741631,"comment_id":133615231,"body_markdown":"Actually, I normally use these parameters (`DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey`) as Environment Variables in IntelliJ. But  am not sure if I should convert them as Run argument.","body":"Actually, I normally use these parameters (<code>DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey</code>) as Environment Variables in IntelliJ. But  am not sure if I should convert them as Run argument."},{"owner":{"account_id":544843,"reputation":2223,"user_id":914422,"accept_rate":60,"display_name":"ameenhere"},"score":0,"creation_date":1678872114,"post_id":75741631,"comment_id":133615567,"body_markdown":"Can you share where are you using ${DB_USERNAME}? Is it in your application.properties file?","body":"Can you share where are you using ${DB_USERNAME}? Is it in your application.properties file?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678872246,"post_id":75741631,"comment_id":133615610,"body_markdown":"No, it is in `.env` file.","body":"No, it is in <code>.env</code> file."},{"owner":{"account_id":544843,"reputation":2223,"user_id":914422,"accept_rate":60,"display_name":"ameenhere"},"score":0,"creation_date":1678873951,"post_id":75741631,"comment_id":133616046,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252531/discussion-between-ameenhere-and-carol).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252531/discussion-between-ameenhere-and-carol\">continue this discussion in chat</a>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678873992,"post_id":75741631,"comment_id":133616056,"body_markdown":"But I could not understand the relation with the `.env` files. Because, in here we are trying to pass these values via command. Of course we can also read from file, but I am not sure if we can read while we pass these variables via command","body":"But I could not understand the relation with the <code>.env</code> files. Because, in here we are trying to pass these values via command. Of course we can also read from file, but I am not sure if we can read while we pass these variables via command"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678868299,"post_id":75741996,"comment_id":133614557,"body_markdown":"Good explanation, thanks. Then I should use the second one, but when I try `mvn spring-boot:run -Dspring-boot.run.arguments=--DB_NAME=demo,--DB_USERNAME=postgres,--DB_PASSWORD=pass,--JWT_SECRET=appSecretKey \n-Dspring-boot.run.profiles=local,dev` I get &quot;FATAL: password authentication failed for user &quot;${DB_USERNAME}&quot; error. Any idea?","body":"Good explanation, thanks. Then I should use the second one, but when I try <code>mvn spring-boot:run -Dspring-boot.run.arguments=--DB_NAME=demo,--DB_USERNAME=pos&zwnj;&#8203;tgres,--DB_PASSWORD=&zwnj;&#8203;pass,--JWT_SECRET=ap&zwnj;&#8203;pSecretKey  -Dspring-boot.run.profiles=local,dev</code> I get &quot;FATAL: password authentication failed for user &quot;${DB_USERNAME}&quot; error. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678868325,"post_id":75741996,"comment_id":133614564,"body_markdown":"Also, can I read environment variables from `.env` file instead of passing via command?","body":"Also, can I read environment variables from <code>.env</code> file instead of passing via command?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678868581,"post_id":75741996,"comment_id":133614638,"body_markdown":"This is also not working :( `mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-DB_NAME=demo,-DB_USERNAME=postgres,-DB_PASSWORD=pass,-JWT_SECRET=appSecretKey&quot;`","body":"This is also not working :( <code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-DB_NAME=demo,-DB_USERNAME=p&zwnj;&#8203;ostgres,-DB_PASSWORD&zwnj;&#8203;=pass,-JWT_SECRET=ap&zwnj;&#8203;pSecretKey&quot;</code>"},{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1678873227,"post_id":75741996,"comment_id":133615858,"body_markdown":"@Carol From the error - FATAL: password authentication failed for user &quot;${DB_USERNAME}..seems like password issue..can you try to login to db directly?","body":"@Carol From the error - FATAL: password authentication failed for user &quot;${DB_USERNAME}..seems like password issue..can you try to login to db directly?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678873370,"post_id":75741996,"comment_id":133615895,"body_markdown":"I retried again and can connect with the same credentials. Are you sure that the app read variables from this maven command? Because I though the displayed message would be &quot;demo&quot; instead of &quot;${DB_USERNAME}&quot; if it was read. Any idea?","body":"I retried again and can connect with the same credentials. Are you sure that the app read variables from this maven command? Because I though the displayed message would be &quot;demo&quot; instead of &quot;${DB_USERNAME}&quot; if it was read. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678885919,"post_id":75741996,"comment_id":133619428,"body_markdown":"At last step I tried `mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--DB_NAME=demo --DB_USERNAME=postgres --DB_PASSWORD=pass --JWT_SECRET=appSecretKey&quot;`, but the app still tries to read from application.properties file","body":"At last step I tried <code>mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--DB_NAME=demo --DB_USERNAME=postgres --DB_PASSWORD=pass --JWT_SECRET=appSecretKey&quot;</code>, but the app still tries to read from application.properties file"}],"tags":[],"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678867889,"creation_date":1678867889,"answer_id":75741996,"question_id":75741631,"body_markdown":"-Dspring-boot.run.jvmArguments\r\nJVM arguments are used to specify arguments that are passed directly to JVM (Java Virtual Machine). These arguments control the **behavior of JVM itself rather than the Spring Boot Application.** \r\nEx: -Xmx, -XX:+UseG1GC\r\n\r\n-Dspring-boot.run.arguments\r\nArguments are used to specify the arguments that are passed to the Spring Boot application itself. These arguments configure the **behavior of Spring Boot application or provide inputs to it.**\r\nEx: --server.port","title":"Cannot pass environment variables via Maven command in Spring Boot?","body":"<p>-Dspring-boot.run.jvmArguments\nJVM arguments are used to specify arguments that are passed directly to JVM (Java Virtual Machine). These arguments control the <strong>behavior of JVM itself rather than the Spring Boot Application.</strong>\nEx: -Xmx, -XX:+UseG1GC</p>\n<p>-Dspring-boot.run.arguments\nArguments are used to specify the arguments that are passed to the Spring Boot application itself. These arguments configure the <strong>behavior of Spring Boot application or provide inputs to it.</strong>\nEx: --server.port</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":673,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678873836,"creation_date":1678865339,"question_id":75741631,"body_markdown":"I am trying to run my Spring Boot app using maven command and pass some environment variables to this command. Normally, I create some definition on README.md for running application by describing the menus on IntelliJ, but I think it is much better to describe and let users to run or debug app via maven command. \r\n\r\nOn the other hand, there may be an alternative way to run or debug Spring Boot app via Spring commands e.g. `spring-boot:run`. In each case, could you please give an example for:\r\n\r\n- run / debug app via maven commands by passing environment variables  \r\n- run / debug app via maven by READING environment variables from .env file\r\n\r\nI also read [Running your Application with Maven](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run), but could not see debug and reading variables from environment file.\r\n\r\nAlso, could not understand the difference between these:\r\n\r\n```\r\nmvn spring-boot:run -Dspring-boot.run.jvmArguments=...\r\n\r\nmvn spring-boot:run -Dspring-boot.run.arguments=...\r\n```\r\n\r\nHere is my `.env` file; I also copy it and keep as `.env-dev` in case dev profile reads from dev version. Both of them has the following content:\r\n\r\n\r\n```\r\nDB_NAME=demo\r\nDB_USERNAME=postgres\r\nDB_PASSWORD=pass\r\nJWT_SECRET=appSecretKey\r\n```","title":"Cannot pass environment variables via Maven command in Spring Boot?","body":"<p>I am trying to run my Spring Boot app using maven command and pass some environment variables to this command. Normally, I create some definition on README.md for running application by describing the menus on IntelliJ, but I think it is much better to describe and let users to run or debug app via maven command.</p>\n<p>On the other hand, there may be an alternative way to run or debug Spring Boot app via Spring commands e.g. <code>spring-boot:run</code>. In each case, could you please give an example for:</p>\n<ul>\n<li>run / debug app via maven commands by passing environment variables</li>\n<li>run / debug app via maven by READING environment variables from .env file</li>\n</ul>\n<p>I also read <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run\" rel=\"nofollow noreferrer\">Running your Application with Maven</a>, but could not see debug and reading variables from environment file.</p>\n<p>Also, could not understand the difference between these:</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=...\n\nmvn spring-boot:run -Dspring-boot.run.arguments=...\n</code></pre>\n<p>Here is my <code>.env</code> file; I also copy it and keep as <code>.env-dev</code> in case dev profile reads from dev version. Both of them has the following content:</p>\n<pre><code>DB_NAME=demo\nDB_USERNAME=postgres\nDB_PASSWORD=pass\nJWT_SECRET=appSecretKey\n</code></pre>\n"},{"tags":["java","email","smtp","jakarta-mail"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1678690444,"post_id":75718474,"comment_id":133575416,"body_markdown":"No code, no complete error or stack trace, the log seems incomplete and there is not even a question. How can we help?","body":"No code, no complete error or stack trace, the log seems incomplete and there is not even a question. How can we help?"}],"owner":{"account_id":4354622,"reputation":1,"user_id":3553701,"display_name":"Kamlesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678873574,"creation_date":1678687279,"question_id":75718474,"body_markdown":"I am trying to send HTML mail using javax mail library. It throws SMTPFailedException: [EOF] afer waiting for long time. \r\n\r\nNote : This error occurs when mail containing attachment is being sent. \r\n\r\nException from code\r\n\r\n```SMTPFailedException: [EOF] : com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2358)```\r\n\r\nAttached debug logs of javax mail. After this logs it waits for 10 minutes to throw SMTPSendFailedException EOF exception.\r\n\r\n```MIME-Version: 1.0\r\nContent-Type: multipart/related;\r\n        boundary=&quot;----=_Part_0_652648141.1678461860465&quot;\r\n\r\n------=_Part_0_652648141.1678461860465\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;style&gt;table {border-collapse: collapse;width: 100%;} th, td {t=\r\next-align: left;padding: 8px;}tr:nth-child(even) {background-color: #f2f2f2=\r\n;}&lt;/style&gt;&lt;/head&gt;&lt;body style=3D&quot;padding-top:#030303; padding-left:20px; fon=\r\nt:Verdana, Geneva, sans-serif; font-size:17px;&quot;&gt;&lt;div id=3D&quot;main&quot; style=3D&quot;p=\r\nadding-left:50px;padding-top:50px;&quot;&gt;&lt;img src=3D&quot;cid:image&quot; &gt;&lt;br&gt;&lt;div style=\r\n=3D&quot;border: 1px solid black;height:80px;color:#ffffff;background-color:#2e5=\r\ncb8&quot;&gt;&lt;b style=3D&quot;font-size:20px&quot;&gt; 0 finding(s) observed. Runs completed on =\r\nall systems. &lt;/b&gt;&lt;br&gt;&lt;br&gt; Find below a summary  of the checks executed, the=\r\n findings detected and their impact on compliance of the enterprise. &lt;/div&gt;=\r\n&lt;br&gt;&lt;b&gt;&lt;h3&gt;Compliance Summary: &lt;/h3&gt;&lt;/b&gt;&lt;br&gt;&lt;b&gt;Policy name: &lt;/b&gt;admin-OSP_C=\r\nM-policy3&lt;br&gt;&lt;br&gt; On Demand run by started on  2023-03-10 2=\r\n0:54:13 and lasted for 7 seconds..&lt;br&gt;&lt;br&gt;&lt;table style=3D&quot;width:100%;border=\r\n: 1px solid black&quot;&gt;&lt;tr&gt;&lt;th style=3D&quot;border: 1px solid black&quot;&gt;  System Name =\r\n&lt;/th&gt;&lt;th style=3D&quot;border: 1px solid black&quot;&gt;  Status &lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=\r\n=3D&quot;border: 1px solid black&quot;&gt;IN-MUM-ACM1&lt;/td&gt;&lt;td style=3D&quot;border: 1px solid=\r\n black&quot;&gt;Run completed without any errors&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br&gt;&lt;b&gt;&lt;h3&gt;Findin=\r\ngs Summary (Only Failed Controls) : &lt;/h3&gt;&lt;/b&gt;&lt;b&gt;Findings&lt;/b&gt;&lt;br&gt;&lt;br&gt; No fai=\r\nled controls found.&lt;br&gt;&lt;br&gt;For a detailed view of all the findings and obse=\r\nrvations login to Assertion Studio (https://localhost/login.=\r\nhtml)&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div id=3D&quot;footer&quot; style=3D&quot;padding-left:50px; border-bott=\r\nom-style: solid; border-width:1px;&quot;&gt;&lt;/div&gt;&lt;table width=3D&quot;580&quot; border=3D&quot;0&quot;=\r\n&gt;&lt;tr&gt;&lt;td width=3D&quot;354&quot;&gt;2020 &amp;copy; Test&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n------=_Part_0_652648141.1678461860465--```\r\n","title":"Javax mail SMTPSendFailedException EOF while sending email","body":"<p>I am trying to send HTML mail using javax mail library. It throws SMTPFailedException: [EOF] afer waiting for long time.</p>\n<p>Note : This error occurs when mail containing attachment is being sent.</p>\n<p>Exception from code</p>\n<p><code>SMTPFailedException: [EOF] : com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2358)</code></p>\n<p>Attached debug logs of javax mail. After this logs it waits for 10 minutes to throw SMTPSendFailedException EOF exception.</p>\n<pre><code>Content-Type: multipart/related;\n        boundary=&quot;----=_Part_0_652648141.1678461860465&quot;\n\n------=_Part_0_652648141.1678461860465\nContent-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: quoted-printable\n\n&lt;html&gt;&lt;head&gt;&lt;style&gt;table {border-collapse: collapse;width: 100%;} th, td {t=\next-align: left;padding: 8px;}tr:nth-child(even) {background-color: #f2f2f2=\n;}&lt;/style&gt;&lt;/head&gt;&lt;body style=3D&quot;padding-top:#030303; padding-left:20px; fon=\nt:Verdana, Geneva, sans-serif; font-size:17px;&quot;&gt;&lt;div id=3D&quot;main&quot; style=3D&quot;p=\nadding-left:50px;padding-top:50px;&quot;&gt;&lt;img src=3D&quot;cid:image&quot; &gt;&lt;br&gt;&lt;div style=\n=3D&quot;border: 1px solid black;height:80px;color:#ffffff;background-color:#2e5=\ncb8&quot;&gt;&lt;b style=3D&quot;font-size:20px&quot;&gt; 0 finding(s) observed. Runs completed on =\nall systems. &lt;/b&gt;&lt;br&gt;&lt;br&gt; Find below a summary  of the checks executed, the=\n findings detected and their impact on compliance of the enterprise. &lt;/div&gt;=\n&lt;br&gt;&lt;b&gt;&lt;h3&gt;Compliance Summary: &lt;/h3&gt;&lt;/b&gt;&lt;br&gt;&lt;b&gt;Policy name: &lt;/b&gt;admin-OSP_C=\nM-policy3&lt;br&gt;&lt;br&gt; On Demand run by started on  2023-03-10 2=\n0:54:13 and lasted for 7 seconds..&lt;br&gt;&lt;br&gt;&lt;table style=3D&quot;width:100%;border=\n: 1px solid black&quot;&gt;&lt;tr&gt;&lt;th style=3D&quot;border: 1px solid black&quot;&gt;  System Name =\n&lt;/th&gt;&lt;th style=3D&quot;border: 1px solid black&quot;&gt;  Status &lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=\n=3D&quot;border: 1px solid black&quot;&gt;IN-MUM-ACM1&lt;/td&gt;&lt;td style=3D&quot;border: 1px solid=\n black&quot;&gt;Run completed without any errors&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br&gt;&lt;b&gt;&lt;h3&gt;Findin=\ngs Summary (Only Failed Controls) : &lt;/h3&gt;&lt;/b&gt;&lt;b&gt;Findings&lt;/b&gt;&lt;br&gt;&lt;br&gt; No fai=\nled controls found.&lt;br&gt;&lt;br&gt;For a detailed view of all the findings and obse=\nrvations login to Assertion Studio (https://localhost/login.=\nhtml)&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div id=3D&quot;footer&quot; style=3D&quot;padding-left:50px; border-bott=\nom-style: solid; border-width:1px;&quot;&gt;&lt;/div&gt;&lt;table width=3D&quot;580&quot; border=3D&quot;0&quot;=\n&gt;&lt;tr&gt;&lt;td width=3D&quot;354&quot;&gt;2020 &amp;copy; Test&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\n------=_Part_0_652648141.1678461860465--```\n</code></pre>\n"},{"tags":["java","graphql","graphql-java","graphql-java-tools"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1690371137,"post_id":75741783,"comment_id":135343338,"body_markdown":"Does this answer your question? [Java GraphQL - Pass field values to resolver for objects](https://stackoverflow.com/questions/44159753/java-graphql-pass-field-values-to-resolver-for-objects)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44159753/java-graphql-pass-field-values-to-resolver-for-objects\">Java GraphQL - Pass field values to resolver for objects</a>"}],"answers":[{"tags":[],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678868873,"creation_date":1678868873,"answer_id":75742146,"question_id":75741783,"body_markdown":"The solution is to use `ExecutionStepInfo` like so:\r\n\r\n```\r\nenvironment.getExecutionStepInfo()\r\n      .getParent()\r\n      .getArgument(&quot;phone&quot;).toString()\r\n```","title":"How can I propagate graphQL query argument to child dataFetchers using graphQL java","body":"<p>The solution is to use <code>ExecutionStepInfo</code> like so:</p>\n<pre><code>environment.getExecutionStepInfo()\n      .getParent()\n      .getArgument(&quot;phone&quot;).toString()\n</code></pre>\n"}],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75742146,"answer_count":1,"score":0,"last_activity_date":1678873555,"creation_date":1678866359,"question_id":75741783,"body_markdown":"I am using those GraphQL Java dependencies:\r\n```non\r\n|  +- com.graphql-java:graphql-java:jar:17.3:compile\r\n|  |  +- com.graphql-java:java-dataloader:jar:3.1.0:compile\r\n```\r\n\r\nWith this schema:\r\n```\r\nschema {\r\n    query: Query\r\n}\r\n\r\ntype Query {\r\n    users: UsersNamespace\r\n}\r\n\r\n\r\ntype UsersNamespace {\r\n\r\n    userByPhone(phone: String!): User!\r\n}\r\n\r\ntype User {\r\n    id: String!\r\n    photoId: String\r\n}\r\n```\r\n\r\n\r\nUsing this query\r\n```\r\n{\r\n  user1: userByPhone(phone: &quot;375290201111&quot;) {\r\n\t  id\r\n\t  photoId\r\n  }\r\n  user2: userByPhone(phone: &quot;375290202222&quot;) {\r\n\t  id\r\n\t  photoId\r\n  }\r\n}\r\n```\r\n\r\nAssume I have a separate `dataFetcehr` for the User itself and the `photoId` which I get from a different source.\r\n\r\nI want to pass the `phone` argument (or even the alias of the parent user) down to the `photoId` data fetcher.\r\n\r\nI can not save the information on the `GraphQlContext` since the resolution is not performed &quot;Depth-first&quot;, meaning the data fetchers will be called in this order:\r\n 1. `Users` data fetcher for `user1`\r\n 2. `Users` data fetcher for `user2`\r\n 3. `photoId` data fetcher for `user1`\r\n 4. `photoId` data fetcher for `user2`\r\n \r\nSo anything I will save for `user1` will be overridden by `user` data-fetcher.\r\n\r\nHow can I pass down arguments / information to child resolvers under the same alias?\r\n\r\n*Note: `photoId` is always resolved only within a `User`\r\n\r\n\r\n","title":"How can I propagate graphQL query argument to child dataFetchers using graphQL java","body":"<p>I am using those GraphQL Java dependencies:</p>\n<pre><code>|  +- com.graphql-java:graphql-java:jar:17.3:compile\n|  |  +- com.graphql-java:java-dataloader:jar:3.1.0:compile\n</code></pre>\n<p>With this schema:</p>\n<pre><code>schema {\n    query: Query\n}\n\ntype Query {\n    users: UsersNamespace\n}\n\n\ntype UsersNamespace {\n\n    userByPhone(phone: String!): User!\n}\n\ntype User {\n    id: String!\n    photoId: String\n}\n</code></pre>\n<p>Using this query</p>\n<pre><code>{\n  user1: userByPhone(phone: &quot;375290201111&quot;) {\n      id\n      photoId\n  }\n  user2: userByPhone(phone: &quot;375290202222&quot;) {\n      id\n      photoId\n  }\n}\n</code></pre>\n<p>Assume I have a separate <code>dataFetcehr</code> for the User itself and the <code>photoId</code> which I get from a different source.</p>\n<p>I want to pass the <code>phone</code> argument (or even the alias of the parent user) down to the <code>photoId</code> data fetcher.</p>\n<p>I can not save the information on the <code>GraphQlContext</code> since the resolution is not performed &quot;Depth-first&quot;, meaning the data fetchers will be called in this order:</p>\n<ol>\n<li><code>Users</code> data fetcher for <code>user1</code></li>\n<li><code>Users</code> data fetcher for <code>user2</code></li>\n<li><code>photoId</code> data fetcher for <code>user1</code></li>\n<li><code>photoId</code> data fetcher for <code>user2</code></li>\n</ol>\n<p>So anything I will save for <code>user1</code> will be overridden by <code>user</code> data-fetcher.</p>\n<p>How can I pass down arguments / information to child resolvers under the same alias?</p>\n<p>*Note: <code>photoId</code> is always resolved only within a <code>User</code></p>\n"},{"tags":["java","spring","mongodb","configuration"],"owner":{"account_id":10178758,"reputation":1,"user_id":21402328,"display_name":"pawban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678873512,"creation_date":1678873416,"question_id":75742926,"body_markdown":"I&#39;m trying to build solution that will set up connection to MongoDB basing on properties from `application.yaml` file + custom annotation properties.\r\nIt should create mongo template for each datasource and initialize mongo repositories from the package pointed in properties/annotation.\r\n\r\nI used `BeanFacotryPostProcesor` to register `mongoTemplate` bean definition inside `postProcessBeanFactory()` method. Now I would also like to register Mongo repositories bean definitions, but I couldn&#39;t find a way to do it.\r\n","title":"How to register Mongo repository bean programmatically in Spring","body":"<p>I'm trying to build solution that will set up connection to MongoDB basing on properties from <code>application.yaml</code> file + custom annotation properties.\nIt should create mongo template for each datasource and initialize mongo repositories from the package pointed in properties/annotation.</p>\n<p>I used <code>BeanFacotryPostProcesor</code> to register <code>mongoTemplate</code> bean definition inside <code>postProcessBeanFactory()</code> method. Now I would also like to register Mongo repositories bean definitions, but I couldn't find a way to do it.</p>\n"},{"tags":["java","websocket","automated-tests","httpurlconnection","ioexception"],"owner":{"account_id":25732019,"reputation":11,"user_id":19487477,"display_name":"Someshwar Gore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678873477,"creation_date":1678873477,"question_id":75742943,"body_markdown":"FAILED CONFIGURATION: @BeforeMethod setUp\r\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:53584/devtools/browser/87a1db2f-4f8a-436c-a8ba-00d0d29e67d2\r\nBuild info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\nSystem info: host: &#39;QA&#39;, ip: &#39;192.168.0.38&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;16.0.1&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n\tat TestNG_MyFleetMan.MyFleetManAddBookings.setUp(MyFleetManAddBookings.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n\tat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\nSKIPPED CONFIGURATION: @AfterMethod tearDown\r\nSKIPPED CONFIGURATION: @AfterClass tearDownAfterClass\r\nSKIPPED: test\r\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:53584/devtools/browser/87a1db2f-4f8a-436c-a8ba-00d0d29e67d2\r\nBuild info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\nSystem info: host: &#39;QA&#39;, ip: &#39;192.168.0.38&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;16.0.1&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n\tat TestNG_MyFleetMan.MyFleetManAddBookings.setUp(MyFleetManAddBookings.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n\tat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\nI am performing MavenProject-Compile and then test. But showing org.openqa.selenium.remote.http.ConnectionFailedException error","title":"not able to execute the script. After Maver-Test, browser is opening and below errors are showing in the console","body":"<p>FAILED CONFIGURATION: @BeforeMethod setUp\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:53584/devtools/browser/87a1db2f-4f8a-436c-a8ba-00d0d29e67d2\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\nSystem info: host: 'QA', ip: '192.168.0.38', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '16.0.1'\nDriver info: driver.version: ChromeDriver\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.(NettyWebSocket.java:102)\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\nat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\nat org.openqa.selenium.devtools.Connection.(Connection.java:77)\nat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\nat java.base/java.util.Optional.map(Optional.java:260)\nat org.openqa.selenium.chromium.ChromiumDriver.(ChromiumDriver.java:114)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:81)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:49)\nat TestNG_MyFleetMan.MyFleetManAddBookings.setUp(MyFleetManAddBookings.java:52)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\nat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\nat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\nat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\nat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:794)\nat org.testng.TestRunner.run(TestRunner.java:596)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\nat org.testng.SuiteRunner.run(SuiteRunner.java:276)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\nat org.testng.TestNG.runSuites(TestNG.java:1063)\nat org.testng.TestNG.run(TestNG.java:1031)\nat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n<p>SKIPPED CONFIGURATION: @AfterMethod tearDown\nSKIPPED CONFIGURATION: @AfterClass tearDownAfterClass\nSKIPPED: test\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:53584/devtools/browser/87a1db2f-4f8a-436c-a8ba-00d0d29e67d2\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\nSystem info: host: 'QA', ip: '192.168.0.38', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '16.0.1'\nDriver info: driver.version: ChromeDriver\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.(NettyWebSocket.java:102)\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\nat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\nat org.openqa.selenium.devtools.Connection.(Connection.java:77)\nat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\nat java.base/java.util.Optional.map(Optional.java:260)\nat org.openqa.selenium.chromium.ChromiumDriver.(ChromiumDriver.java:114)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:81)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:49)\nat TestNG_MyFleetMan.MyFleetManAddBookings.setUp(MyFleetManAddBookings.java:52)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\nat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\nat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\nat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\nat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:794)\nat org.testng.TestRunner.run(TestRunner.java:596)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\nat org.testng.SuiteRunner.run(SuiteRunner.java:276)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\nat org.testng.TestNG.runSuites(TestNG.java:1063)\nat org.testng.TestNG.run(TestNG.java:1031)\nat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n<p>I am performing MavenProject-Compile and then test. But showing org.openqa.selenium.remote.http.ConnectionFailedException error</p>\n"},{"tags":["java","javascript","jsp"],"comments":[{"owner":{"account_id":188407,"reputation":15372,"user_id":427146,"accept_rate":83,"display_name":"sabithpocker"},"score":0,"creation_date":1372828876,"post_id":17440164,"comment_id":25335001,"body_markdown":"please add more code with an example data","body":"please add more code with an example data"}],"answers":[{"comments":[{"owner":{"account_id":2999311,"reputation":155,"user_id":2545090,"display_name":"Jack"},"score":0,"creation_date":1372829192,"post_id":17440175,"comment_id":25335092,"body_markdown":"Thanks buddy. I have the json string like [a,b,c]. When i use Json.parse(aa); It shows the error. Uncaught reference error.a is not defined. So it must be like [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]. So how to convert like this?","body":"Thanks buddy. I have the json string like [a,b,c]. When i use Json.parse(aa); It shows the error. Uncaught reference error.a is not defined. So it must be like [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]. So how to convert like this?"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1372829407,"post_id":17440175,"comment_id":25335165,"body_markdown":"Dude,you have to add json library to your class path and convert your arraylist on serverside to json string and send it to client.Then JSON.parse() works :)","body":"Dude,you have to add json library to your class path and convert your arraylist on serverside to json string and send it to client.Then JSON.parse() works :)"},{"owner":{"account_id":6207142,"reputation":388,"user_id":4834735,"accept_rate":50,"display_name":"Knu8"},"score":0,"creation_date":1455095543,"post_id":17440175,"comment_id":58331155,"body_markdown":"The second link in the answer is not available anymore.","body":"The second link in the answer is not available anymore."}],"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1455095666,"creation_date":1372828557,"answer_id":17440175,"question_id":17440164,"body_markdown":"When you use `&lt;%=arraylist%&gt;` it calls the `toString()` on list and prints  `[a,b,c]` \r\n\r\nAnd No,you cannot direclty convert From Java `arrayList` to javascript array ,Convert the Java `ArrayList` to `JSON String`, and use `JSON.parse()` to get Javascript `object`.\r\n\r\nHave a look at [*Json objet*][1]  and [*Json in java*][2] \r\n\r\n\r\n\r\n\r\n  [1]: http://www.json.org/\r\n  [2]: https://github.com/stleary/JSON-java","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>When you use <code>&lt;%=arraylist%&gt;</code> it calls the <code>toString()</code> on list and prints  <code>[a,b,c]</code> </p>\n\n<p>And No,you cannot direclty convert From Java <code>arrayList</code> to javascript array ,Convert the Java <code>ArrayList</code> to <code>JSON String</code>, and use <code>JSON.parse()</code> to get Javascript <code>object</code>.</p>\n\n<p>Have a look at <a href=\"http://www.json.org/\" rel=\"nofollow\"><em>Json objet</em></a>  and <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow\"><em>Json in java</em></a> </p>\n"},{"tags":[],"owner":{"account_id":2664839,"reputation":2876,"user_id":2303568,"display_name":"chetan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372831193,"creation_date":1372831193,"answer_id":17440731,"question_id":17440164,"body_markdown":"try this way:\r\n\r\n    var myArray = &lt;%=net.sf.json.JSONSerializer.toJSON(arrayList) %&gt;;\r\n\r\n","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>try this way:</p>\n\n<pre><code>var myArray = &lt;%=net.sf.json.JSONSerializer.toJSON(arrayList) %&gt;;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2162122,"reputation":4710,"user_id":1916061,"accept_rate":62,"display_name":"Parkash Kumar"},"score":0,"creation_date":1426233103,"post_id":17440755,"comment_id":46296139,"body_markdown":"Technique is good, but still you need to parse it to JSON, while assigning to javascript variable.","body":"Technique is good, but still you need to parse it to JSON, while assigning to javascript variable."}],"tags":[],"owner":{"account_id":1399208,"reputation":6264,"user_id":1328300,"accept_rate":79,"display_name":"Uooo"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1372831294,"creation_date":1372831294,"answer_id":17440755,"question_id":17440164,"body_markdown":"Withoug a library:\r\n\r\nJava:\r\n\r\n    public static String toJavascriptArray(String[] arr){\r\n        StringBuffer sb = new StringBuffer();\r\n        sb.append(&quot;[&quot;);\r\n        for(int i=0; i&lt;arr.length; i++){\r\n            sb.append(&quot;\\&quot;&quot;).append(arr[i]).append(&quot;\\&quot;&quot;);\r\n            if(i+1 &lt; arr.length){\r\n                sb.append(&quot;,&quot;);\r\n            }\r\n        }\r\n        sb.append(&quot;]&quot;);\r\n        return sb.toString();\r\n    }\r\n\r\nJSP:\r\n\r\n    var myArray = &lt;%= toJavascriptArray(arrayList) %&gt;;","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>Withoug a library:</p>\n\n<p>Java:</p>\n\n<pre><code>public static String toJavascriptArray(String[] arr){\n    StringBuffer sb = new StringBuffer();\n    sb.append(\"[\");\n    for(int i=0; i&lt;arr.length; i++){\n        sb.append(\"\\\"\").append(arr[i]).append(\"\\\"\");\n        if(i+1 &lt; arr.length){\n            sb.append(\",\");\n        }\n    }\n    sb.append(\"]\");\n    return sb.toString();\n}\n</code></pre>\n\n<p>JSP:</p>\n\n<pre><code>var myArray = &lt;%= toJavascriptArray(arrayList) %&gt;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39685,"reputation":12829,"user_id":114549,"display_name":"aaronvargas"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1377040352,"creation_date":1377040352,"answer_id":18346394,"question_id":17440164,"body_markdown":"Do the following in your JSP page\r\n\r\n    &lt;% List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\r\n    strList.add(&quot;one&quot;);\r\n    strList.add(&quot;two&quot;);\r\n    strList.add(&quot;three&quot;); %&gt;\r\n\r\n    var jsArray = [&lt;% for (int i = 0; i &lt; strList.size(); i++) { %&gt;&quot;&lt;%= strList.get(i) %&gt;&quot;&lt;%= i + 1 &lt; strList.size() ? &quot;,&quot;:&quot;&quot; %&gt;&lt;% } %&gt;];\r\n\r\nThe output will be\r\n\r\n    var jsArray = [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;];\r\n\r\nIf your List was empty it will output\r\n\r\n    var jsArray = [];\r\n","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>Do the following in your JSP page</p>\n\n<pre><code>&lt;% List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\nstrList.add(\"one\");\nstrList.add(\"two\");\nstrList.add(\"three\"); %&gt;\n\nvar jsArray = [&lt;% for (int i = 0; i &lt; strList.size(); i++) { %&gt;\"&lt;%= strList.get(i) %&gt;\"&lt;%= i + 1 &lt; strList.size() ? \",\":\"\" %&gt;&lt;% } %&gt;];\n</code></pre>\n\n<p>The output will be</p>\n\n<pre><code>var jsArray = [\"one\",\"two\",\"three\"];\n</code></pre>\n\n<p>If your List was empty it will output</p>\n\n<pre><code>var jsArray = [];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3578274,"reputation":21,"user_id":2987031,"display_name":"Vivek Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545612858,"creation_date":1410697656,"answer_id":25833206,"question_id":17440164,"body_markdown":"The JavaScript split() method returns an array, so it&#39;s a simple way to convert a Java ArrayList into a JavaScript array.\r\n\r\n    function toJavascript(){\r\n        var array=&quot;&lt;%=javaArrayList%&gt;&quot;;\r\n        array=array.replace(&quot;[&quot;, &quot;&quot;);\r\n        array=array.replace(&quot;]&quot;, &quot;&quot;);\r\n        return javaArray.split(&quot;,&quot;);\r\n    }","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>The JavaScript split() method returns an array, so it's a simple way to convert a Java ArrayList into a JavaScript array.</p>\n\n<pre><code>function toJavascript(){\n    var array=\"&lt;%=javaArrayList%&gt;\";\n    array=array.replace(\"[\", \"\");\n    array=array.replace(\"]\", \"\");\n    return javaArray.split(\",\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5350815,"reputation":4694,"user_id":4264996,"accept_rate":0,"display_name":"madhu527"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678873458,"creation_date":1678873458,"answer_id":75742938,"question_id":17440164,"body_markdown":"Simple \r\n   \r\n\r\n     var jsArray = JSON.parse(yourJavaListObject)","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>Simple</p>\n<pre><code> var jsArray = JSON.parse(yourJavaListObject)\n</code></pre>\n"}],"owner":{"account_id":2999311,"reputation":155,"user_id":2545090,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87222,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":17440175,"answer_count":6,"score":12,"last_activity_date":1678873458,"creation_date":1372828477,"question_id":17440164,"body_markdown":"In my Java code, I have an `ArrayList` of `String`s. I&#39;d like to put this data in a JavaScript variable on a JSP page I&#39;m working on. My first thought was to include it directly, e.g.:\r\n\r\n    var myArray = &lt;%= arrayList %&gt;;\r\n\r\nUnfortunately, when executed, `myArray` is a string in the format `[a,b,c]`, not an actual JavaScript array. How do I get some data from a Java `ArrayList` to a JavaScript array?","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>In my Java code, I have an <code>ArrayList</code> of <code>String</code>s. I'd like to put this data in a JavaScript variable on a JSP page I'm working on. My first thought was to include it directly, e.g.:</p>\n\n<pre><code>var myArray = &lt;%= arrayList %&gt;;\n</code></pre>\n\n<p>Unfortunately, when executed, <code>myArray</code> is a string in the format <code>[a,b,c]</code>, not an actual JavaScript array. How do I get some data from a Java <code>ArrayList</code> to a JavaScript array?</p>\n"},{"tags":["java","http","utf-8","filenames","content-disposition"],"comments":[{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341273636,"post_id":11302361,"comment_id":14871983,"body_markdown":"Here is a sample header that is causing this issue: Content-Disposition:attachment; filename*=UTF-8&#39;&#39;Museum%20%5A%69%86.jpg","body":"Here is a sample header that is causing this issue: Content-Disposition:attachment; filename*=UTF-8&#39;&#39;Museum%20%5A%69%86.jpg"},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1341296488,"post_id":11302361,"comment_id":14876212,"body_markdown":"See http://greenbytes.de/tech/tc2231/#attwithquotedsemicolon - that test case has a space character in a quoted-string and appears to work in Firefox. Are we testing different things?","body":"See <a href=\"http://greenbytes.de/tech/tc2231/#attwithquotedsemicolon\" rel=\"nofollow noreferrer\">greenbytes.de/tech/tc2231/#attwithquotedsemicolon</a> - that test case has a space character in a quoted-string and appears to work in Firefox. Are we testing different things?"},{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341301722,"post_id":11302361,"comment_id":14877927,"body_markdown":"That looks like something else. That test checks for semicolon within a quoted string. My problem is that I have a filename with Chinese characters as well as spaces, so I am using the filename* form, and in token not quoted form since I read some docs that recommended not using quotes with % escapes. With the example from my comment above the Chinese characters are recognized and converted properly, but the %20 is getting mapped to +.","body":"That looks like something else. That test checks for semicolon within a quoted string. My problem is that I have a filename with Chinese characters as well as spaces, so I am using the filename* form, and in token not quoted form since I read some docs that recommended not using quotes with % escapes. With the example from my comment above the Chinese characters are recognized and converted properly, but the %20 is getting mapped to +."},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1341303559,"post_id":11302361,"comment_id":14878554,"body_markdown":"Peter: I was just trying to understand what the test case does on your system; could you please check? Also, your code looks incorrect in that it doesn&#39;t actually convert into UTF-8 first; your example above simply has three (encoded) US-ASCII characters after the whitespace.","body":"Peter: I was just trying to understand what the test case does on your system; could you please check? Also, your code looks incorrect in that it doesn&#39;t actually convert into UTF-8 first; your example above simply has three (encoded) US-ASCII characters after the whitespace."},{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341304610,"post_id":11302361,"comment_id":14878943,"body_markdown":"Julian: Ugh. I remember reading that UTF-8 conversion was needed first and forgot to add it. That is most likely the cause. Recoding now to test.","body":"Julian: Ugh. I remember reading that UTF-8 conversion was needed first and forgot to add it. That is most likely the cause. Recoding now to test."},{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341305864,"post_id":11302361,"comment_id":14879423,"body_markdown":"Yup that was it. I spaced on the UTF-16 to UTF-8 conversion. Sorry for wasting your time Julian. I will clean up my rewritten code and post an update with notes and solution tomorrow. Hopefully someone out there will benefit from my mistake. Thanks again!","body":"Yup that was it. I spaced on the UTF-16 to UTF-8 conversion. Sorry for wasting your time Julian. I will clean up my rewritten code and post an update with notes and solution tomorrow. Hopefully someone out there will benefit from my mistake. Thanks again!"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1341343691,"post_id":11302361,"comment_id":14896410,"body_markdown":"No, the problem was that you treated characters as bytes instead of converting them to bytes first.","body":"No, the problem was that you treated characters as bytes instead of converting them to bytes first."},{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341521431,"post_id":11302361,"comment_id":14951513,"body_markdown":"Balus: Correct. In my mind the UTF-8 conversion implies conversion to bytes. Also merely converting the raw chars to bytes would not be correct.","body":"Balus: Correct. In my mind the UTF-8 conversion implies conversion to bytes. Also merely converting the raw chars to bytes would not be correct."}],"answers":[{"comments":[{"owner":{"account_id":153811,"reputation":3592,"user_id":369330,"accept_rate":70,"display_name":"Gedrox"},"score":0,"creation_date":1378881966,"post_id":11307864,"comment_id":27609114,"body_markdown":"Would like to point out that character `&#39;` isn&#39;t in the allowed list of rfc5987.","body":"Would like to point out that character <code>&#39;</code> isn&#39;t in the allowed list of rfc5987."},{"owner":{"account_id":153811,"reputation":3592,"user_id":369330,"accept_rate":70,"display_name":"Gedrox"},"score":1,"creation_date":1378882944,"post_id":11307864,"comment_id":27609584,"body_markdown":".. but character `\\`` (grave accent symbol, backtick) is. Have edited the answer.","body":".. but character <code>`</code> (grave accent symbol, backtick) is. Have edited the answer."}],"tags":[],"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1378883203,"creation_date":1341306874,"answer_id":11307864,"question_id":11302361,"body_markdown":"So as Julian pointed out in the comments, I made a rookie Java error and forgot to do my character to byte conversion (thus I encoded the character&#39;s codepoint instead of the character&#39;s byte representation), hence the encoding was completely incorrect. This is clearly mentioned as a requirement in RFC 5987. I will be posting corrected code for doing the conversion. Once the encoding is correct, the filename* parameter is recognized properly by the browser and the filename used for the download is correct.\r\n\r\nBelow is the corrected escaping code which operates on the UTF-8 bytes of the string. The filename that was giving me trouble, now properly encoded looks like this:\r\n\r\nContent-Disposition:attachment; filename*=UTF-8&#39;&#39;Museum%20%E5%8D%9A%E7%89%A9%E9%A6%86.jpg\r\n\r\n    public static String rfc5987_encode(final String s) throws UnsupportedEncodingException {\r\n        final byte[] s_bytes = s.getBytes(&quot;UTF-8&quot;);\r\n        final int len = s_bytes.length;\r\n        final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\r\n        final char[] digits = {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n        final byte[] attr_char = {&#39;!&#39;,&#39;#&#39;,&#39;$&#39;,&#39;&amp;&#39;,&#39;+&#39;,&#39;-&#39;,&#39;.&#39;,&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,           &#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;,&#39;^&#39;,&#39;_&#39;,&#39;`&#39;,\t\t                 &#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;g&#39;,&#39;h&#39;,&#39;i&#39;,&#39;j&#39;,&#39;k&#39;,&#39;l&#39;,&#39;m&#39;,&#39;n&#39;,&#39;o&#39;,&#39;p&#39;,&#39;q&#39;,&#39;r&#39;,&#39;s&#39;,&#39;t&#39;,&#39;u&#39;,&#39;v&#39;,&#39;w&#39;,&#39;x&#39;,&#39;y&#39;,&#39;z&#39;,&#39;|&#39;, &#39;~&#39;};\r\n        for (int i = 0; i &lt; len; ++i) {\r\n            final byte b = s_bytes[i];\r\n            if (Arrays.binarySearch(attr_char, b) &gt;= 0)\r\n                sb.append((char) b);\r\n            else {\r\n                sb.append(&#39;%&#39;);\r\n                sb.append(digits[0x0f &amp; (b &gt;&gt;&gt; 4)]);\r\n                sb.append(digits[b &amp; 0x0f]);\r\n            }\r\n        }\r\n\t\t\r\n        return sb.toString();\r\n    }","title":"handling filename* parameters with spaces via RFC 5987 results in &#39;+&#39; in filenames","body":"<p>So as Julian pointed out in the comments, I made a rookie Java error and forgot to do my character to byte conversion (thus I encoded the character's codepoint instead of the character's byte representation), hence the encoding was completely incorrect. This is clearly mentioned as a requirement in RFC 5987. I will be posting corrected code for doing the conversion. Once the encoding is correct, the filename* parameter is recognized properly by the browser and the filename used for the download is correct.</p>\n\n<p>Below is the corrected escaping code which operates on the UTF-8 bytes of the string. The filename that was giving me trouble, now properly encoded looks like this:</p>\n\n<p>Content-Disposition:attachment; filename*=UTF-8''Museum%20%E5%8D%9A%E7%89%A9%E9%A6%86.jpg</p>\n\n<pre><code>public static String rfc5987_encode(final String s) throws UnsupportedEncodingException {\n    final byte[] s_bytes = s.getBytes(\"UTF-8\");\n    final int len = s_bytes.length;\n    final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\n    final char[] digits = {'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};\n    final byte[] attr_char = {'!','#','$','&amp;','+','-','.','0','1','2','3','4','5','6','7','8','9',           'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','^','_','`',                        'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','|', '~'};\n    for (int i = 0; i &lt; len; ++i) {\n        final byte b = s_bytes[i];\n        if (Arrays.binarySearch(attr_char, b) &gt;= 0)\n            sb.append((char) b);\n        else {\n            sb.append('%');\n            sb.append(digits[0x0f &amp; (b &gt;&gt;&gt; 4)]);\n            sb.append(digits[b &amp; 0x0f]);\n        }\n    }\n\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350059,"reputation":873,"user_id":685715,"accept_rate":50,"display_name":"Matt Wallis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651212120,"creation_date":1651163186,"answer_id":72047217,"question_id":11302361,"body_markdown":"## 2022 update\r\n\r\nThis answer adds to an [answer from 10 years ago](https://stackoverflow.com/a/11307864/685715), by providing information about an apache library that has methods to encode and decode strings according to [RFC 5987](https://datatracker.ietf.org/doc/html/rfc5987).\r\n\r\nAn RFC5987 encoder and decoder are available in the class \r\n[org.apache.cxf.attachment.Rfc5987Util](https://cxf.apache.org/javadoc/latest/org/apache/cxf/attachment/Rfc5987Util.html).\r\n\r\nI was able to import the jar into my maven project by adding the dependency:\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n   &lt;artifactId&gt;cxf-core&lt;/artifactId&gt;\r\n   &lt;version&gt;3.5.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n(check for the latest version at https://jar-download.com/artifacts/org.apache.cxf/cxf-core)\r\n\r\n### Test example\r\n```java\r\n@Test\r\npublic void verifyRfc5987EncodingandDecoding() throws UnsupportedEncodingException {\r\n   final String s = &quot;!\\&quot;$&#163;%^&amp;*()_-+={[}]:@~;&#39;#,./&lt;&gt;?\\\\|&#233;&#232;&#230;&#240;&quot;;\r\n\r\n   assertThat(Rfc5987Util.decode(\r\n         Rfc5987Util.encode(s, &quot;UTF-8&quot;),\r\n               &quot;UTF-8&quot;),\r\n         equalTo(s));\r\n}\r\n```","title":"handling filename* parameters with spaces via RFC 5987 results in &#39;+&#39; in filenames","body":"<h2>2022 update</h2>\n<p>This answer adds to an <a href=\"https://stackoverflow.com/a/11307864/685715\">answer from 10 years ago</a>, by providing information about an apache library that has methods to encode and decode strings according to <a href=\"https://datatracker.ietf.org/doc/html/rfc5987\" rel=\"nofollow noreferrer\">RFC 5987</a>.</p>\n<p>An RFC5987 encoder and decoder are available in the class\n<a href=\"https://cxf.apache.org/javadoc/latest/org/apache/cxf/attachment/Rfc5987Util.html\" rel=\"nofollow noreferrer\">org.apache.cxf.attachment.Rfc5987Util</a>.</p>\n<p>I was able to import the jar into my maven project by adding the dependency:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n   &lt;artifactId&gt;cxf-core&lt;/artifactId&gt;\n   &lt;version&gt;3.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>(check for the latest version at <a href=\"https://jar-download.com/artifacts/org.apache.cxf/cxf-core\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.apache.cxf/cxf-core</a>)</p>\n<h3>Test example</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void verifyRfc5987EncodingandDecoding() throws UnsupportedEncodingException {\n   final String s = &quot;!\\&quot;$%^&amp;*()_-+={[}]:@~;'#,./&lt;&gt;?\\\\|&quot;;\n\n   assertThat(Rfc5987Util.decode(\n         Rfc5987Util.encode(s, &quot;UTF-8&quot;),\n               &quot;UTF-8&quot;),\n         equalTo(s));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21659471,"reputation":197,"user_id":15978784,"display_name":"chkpnt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678872992,"creation_date":1678872992,"answer_id":75742856,"question_id":11302361,"body_markdown":"In addition to @matt-wallis answer: In case you&#39;re already using `org.springframework:spring-web` in your project, you might want to use the `ContentDisposition`-builder:\r\n\r\n```java\r\nString contentDispositionHeaderValue = ContentDisposition.attachment()\r\n    .filename(someFilename, StandardCharsets.UTF_8)\r\n    .build()\r\n    .toString();\r\nresponse.addHeader(&quot;Content-Disposition&quot;, contentDispositionHeaderValue);\r\n```\r\n\r\nSee https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html","title":"handling filename* parameters with spaces via RFC 5987 results in &#39;+&#39; in filenames","body":"<p>In addition to @matt-wallis answer: In case you're already using <code>org.springframework:spring-web</code> in your project, you might want to use the <code>ContentDisposition</code>-builder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String contentDispositionHeaderValue = ContentDisposition.attachment()\n    .filename(someFilename, StandardCharsets.UTF_8)\n    .build()\n    .toString();\nresponse.addHeader(&quot;Content-Disposition&quot;, contentDispositionHeaderValue);\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html</a></p>\n"}],"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4260,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":11307864,"answer_count":3,"score":6,"last_activity_date":1678872992,"creation_date":1341270481,"question_id":11302361,"body_markdown":"I have some legacy code I am dealing with (so no I can&#39;t just use a URL with an encoded filename component) that allows a user to download a file from our website. Since our filenames are often in many different languages they are all stored as UTF-8. I wrote some code to handle the RFC5987 conversion to a proper filename* parameter. This works great until I have a filename with non-ascii characters **and** spaces. Per RFC, the space character is not part of attr_char so it gets encoded as %20. I have new versions of Chrome as well as Firefox and they are all converting to %20 to + on download. I have tried not encoding the space and putting the encoded filename in quotes and get the same result. I have sniffed the response coming from the server to verify that the servlet container wasn&#39;t mucking with my headers and they look correct to me. The RFC even has examples that contain %20. Am I missing something, or do all of these browsers have a bug related to this?\r\n\r\nMany thanks in advance. The code I use to encode the filename is below.\r\n\r\nPeter\r\n\r\n    public static boolean bcsrch(final char[] chars, final char c) {\r\n        final int len = chars.length;\r\n        int base = 0;\r\n        int last = len - 1; /* Last element in table */\r\n        int p;\r\n\r\n        while (last &gt;= base) {\r\n            p = base + ((last - base) &gt;&gt; 1);\r\n\r\n            if (c == chars[p])\r\n                return true; /* Key found */\r\n            else if (c &lt; chars[p])\r\n                last = p - 1;\r\n            else\r\n                base = p + 1;\r\n        }\r\n\r\n        return false; /* Key not found */\r\n    }\r\n    \r\n    public static String rfc5987_encode(final String s) {\r\n        final int len = s.length();\r\n        final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\r\n        final char[] digits = {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n        final char[] attr_char = {&#39;!&#39;,&#39;#&#39;,&#39;$&#39;,&#39;&amp;&#39;,&#39;\\&#39;&#39;,&#39;+&#39;,&#39;-&#39;,&#39;.&#39;,&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;,&#39;^&#39;,&#39;_&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;g&#39;,&#39;h&#39;,&#39;i&#39;,&#39;j&#39;,&#39;k&#39;,&#39;l&#39;,&#39;m&#39;,&#39;n&#39;,&#39;o&#39;,&#39;p&#39;,&#39;q&#39;,&#39;r&#39;,&#39;s&#39;,&#39;t&#39;,&#39;u&#39;,&#39;v&#39;,&#39;w&#39;,&#39;x&#39;,&#39;y&#39;,&#39;z&#39;,&#39;|&#39;, &#39;~&#39;};\r\n        for (int i = 0; i &lt; len; ++i) {\r\n            final char c = s.charAt(i);\r\n            if (bcsrch(attr_char, c))\r\n                sb.append(c);\r\n            else {\r\n                final char[] encoded = {&#39;%&#39;, 0, 0};\r\n                encoded[1] = digits[0x0f &amp; (c &gt;&gt;&gt; 4)];\r\n                encoded[2] = digits[c &amp; 0x0f];\r\n                sb.append(encoded);\r\n            }\r\n        }\r\n    \t\r\n        return sb.toString();\r\n    }\r\n\r\n**Update**\r\n\r\nHere is a screen shot of the download dialog I get for a file with Chinese characters with spaces as mentioned in my comment.\r\n\r\n![screen cap of download dialog][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nOpcA.jpg","title":"handling filename* parameters with spaces via RFC 5987 results in &#39;+&#39; in filenames","body":"<p>I have some legacy code I am dealing with (so no I can't just use a URL with an encoded filename component) that allows a user to download a file from our website. Since our filenames are often in many different languages they are all stored as UTF-8. I wrote some code to handle the RFC5987 conversion to a proper filename* parameter. This works great until I have a filename with non-ascii characters <strong>and</strong> spaces. Per RFC, the space character is not part of attr_char so it gets encoded as %20. I have new versions of Chrome as well as Firefox and they are all converting to %20 to + on download. I have tried not encoding the space and putting the encoded filename in quotes and get the same result. I have sniffed the response coming from the server to verify that the servlet container wasn't mucking with my headers and they look correct to me. The RFC even has examples that contain %20. Am I missing something, or do all of these browsers have a bug related to this?</p>\n\n<p>Many thanks in advance. The code I use to encode the filename is below.</p>\n\n<p>Peter</p>\n\n<pre><code>public static boolean bcsrch(final char[] chars, final char c) {\n    final int len = chars.length;\n    int base = 0;\n    int last = len - 1; /* Last element in table */\n    int p;\n\n    while (last &gt;= base) {\n        p = base + ((last - base) &gt;&gt; 1);\n\n        if (c == chars[p])\n            return true; /* Key found */\n        else if (c &lt; chars[p])\n            last = p - 1;\n        else\n            base = p + 1;\n    }\n\n    return false; /* Key not found */\n}\n\npublic static String rfc5987_encode(final String s) {\n    final int len = s.length();\n    final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\n    final char[] digits = {'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};\n    final char[] attr_char = {'!','#','$','&amp;','\\'','+','-','.','0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','^','_','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','|', '~'};\n    for (int i = 0; i &lt; len; ++i) {\n        final char c = s.charAt(i);\n        if (bcsrch(attr_char, c))\n            sb.append(c);\n        else {\n            final char[] encoded = {'%', 0, 0};\n            encoded[1] = digits[0x0f &amp; (c &gt;&gt;&gt; 4)];\n            encoded[2] = digits[c &amp; 0x0f];\n            sb.append(encoded);\n        }\n    }\n\n    return sb.toString();\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Here is a screen shot of the download dialog I get for a file with Chinese characters with spaces as mentioned in my comment.</p>\n\n<p><img src=\"https://i.stack.imgur.com/nOpcA.jpg\" alt=\"screen cap of download dialog\"></p>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1678872437,"post_id":75741677,"comment_id":133615668,"body_markdown":"have u tried anything ? can u add the code ?","body":"have u tried anything ? can u add the code ?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1678899242,"post_id":75741677,"comment_id":133623922,"body_markdown":"This is not really a use case to use Elasticsearch for. You would better be using a relational database for that.","body":"This is not really a use case to use Elasticsearch for. You would better be using a relational database for that."}],"answers":[{"tags":[],"owner":{"account_id":6529929,"reputation":1,"user_id":5051380,"display_name":"Allen Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678872987,"creation_date":1678872987,"answer_id":75742855,"question_id":75741677,"body_markdown":"Maybe you shold use [Multiple levels of parent join][1]. And use [has_child][2] Query.\r\n\r\nHere is my examples.\r\n\r\n    PUT my-index-000001\r\n    {\r\n      &quot;mappings&quot;: {\r\n        &quot;properties&quot;: {\r\n          &quot;my_join_field&quot;: {\r\n            &quot;type&quot;: &quot;join&quot;,\r\n            &quot;relations&quot;: {\r\n              &quot;country&quot;: &quot;address&quot;,  \r\n              &quot;address&quot;: &quot;person&quot; \r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    \r\n    PUT my-index-000001/_doc/1\r\n    {\r\n      &quot;id&quot;: &quot;COUNT_001&quot;,\r\n      &quot;type&quot;: &quot;country&quot;,\r\n      &quot;name&quot;: &quot;India&quot;,\r\n      &quot;my_join_field&quot;: {\r\n        &quot;name&quot;: &quot;country&quot;\r\n      }\r\n    }\r\n    \r\n    PUT my-index-000001/_doc/2?routing=1&amp;refresh\r\n    {\r\n     &quot;id&quot;:&quot;ADDR_001&quot;,\r\n    &quot;type&quot;:&quot;address&quot;,\r\n    &quot;countryId&quot;:&quot;COUNT_001&quot;,\r\n      &quot;my_join_field&quot;: {\r\n        &quot;name&quot;: &quot;address&quot;,\r\n        &quot;parent&quot;: &quot;1&quot;\r\n      }\r\n    }\r\n    \r\n    \r\n    PUT my-index-000001/_doc/3?routing=1&amp;refresh\r\n    {\r\n    &quot;id&quot;:&quot;PER_0001&quot;,\r\n    &quot;type&quot;:&quot;person&quot;,\r\n    &quot;addressId&quot;:&quot;ADDR_001&quot;,\r\n      &quot;my_join_field&quot;: {\r\n        &quot;name&quot;: &quot;person&quot;,\r\n        &quot;parent&quot;: &quot;2&quot;\r\n      }\r\n    }\r\n    \r\n    \r\n    GET my-index-000001/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;has_child&quot;: {\r\n          &quot;type&quot;: &quot;address&quot;,\r\n          &quot;query&quot;: {\r\n            &quot;has_child&quot;: {\r\n              &quot;type&quot;: [\r\n                &quot;person&quot;\r\n              ],\r\n              &quot;query&quot;: {\r\n                &quot;bool&quot;: {\r\n                  &quot;must&quot;: [\r\n                    {\r\n                      &quot;term&quot;: {\r\n                        &quot;type.keyword&quot;: {\r\n                          &quot;value&quot;: &quot;person&quot;\r\n                        }\r\n                      }\r\n                    },\r\n                    {\r\n                      &quot;term&quot;: {\r\n                        &quot;id.keyword&quot;: {\r\n                          &quot;value&quot;: &quot;PER_0001&quot;\r\n                        }\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/8.6/parent-join.html#_multiple_levels_of_parent_join\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/8.6/query-dsl-has-child-query.html","title":"Java Spring + Elasticsearch - Globalsearch: Resolving Logic From Person Type to Country Type","body":"<p>Maybe you shold use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.6/parent-join.html#_multiple_levels_of_parent_join\" rel=\"nofollow noreferrer\">Multiple levels of parent join</a>. And use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.6/query-dsl-has-child-query.html\" rel=\"nofollow noreferrer\">has_child</a> Query.</p>\n<p>Here is my examples.</p>\n<pre><code>PUT my-index-000001\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;my_join_field&quot;: {\n        &quot;type&quot;: &quot;join&quot;,\n        &quot;relations&quot;: {\n          &quot;country&quot;: &quot;address&quot;,  \n          &quot;address&quot;: &quot;person&quot; \n        }\n      }\n    }\n  }\n}\n\n\nPUT my-index-000001/_doc/1\n{\n  &quot;id&quot;: &quot;COUNT_001&quot;,\n  &quot;type&quot;: &quot;country&quot;,\n  &quot;name&quot;: &quot;India&quot;,\n  &quot;my_join_field&quot;: {\n    &quot;name&quot;: &quot;country&quot;\n  }\n}\n\nPUT my-index-000001/_doc/2?routing=1&amp;refresh\n{\n &quot;id&quot;:&quot;ADDR_001&quot;,\n&quot;type&quot;:&quot;address&quot;,\n&quot;countryId&quot;:&quot;COUNT_001&quot;,\n  &quot;my_join_field&quot;: {\n    &quot;name&quot;: &quot;address&quot;,\n    &quot;parent&quot;: &quot;1&quot;\n  }\n}\n\n\nPUT my-index-000001/_doc/3?routing=1&amp;refresh\n{\n&quot;id&quot;:&quot;PER_0001&quot;,\n&quot;type&quot;:&quot;person&quot;,\n&quot;addressId&quot;:&quot;ADDR_001&quot;,\n  &quot;my_join_field&quot;: {\n    &quot;name&quot;: &quot;person&quot;,\n    &quot;parent&quot;: &quot;2&quot;\n  }\n}\n\n\nGET my-index-000001/_search\n{\n  &quot;query&quot;: {\n    &quot;has_child&quot;: {\n      &quot;type&quot;: &quot;address&quot;,\n      &quot;query&quot;: {\n        &quot;has_child&quot;: {\n          &quot;type&quot;: [\n            &quot;person&quot;\n          ],\n          &quot;query&quot;: {\n            &quot;bool&quot;: {\n              &quot;must&quot;: [\n                {\n                  &quot;term&quot;: {\n                    &quot;type.keyword&quot;: {\n                      &quot;value&quot;: &quot;person&quot;\n                    }\n                  }\n                },\n                {\n                  &quot;term&quot;: {\n                    &quot;id.keyword&quot;: {\n                      &quot;value&quot;: &quot;PER_0001&quot;\n                    }\n                  }\n                }\n              ]\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678872987,"creation_date":1678865649,"question_id":75741677,"body_markdown":"We have a &quot;globalsearch&quot; index that stores &quot;person&quot;, &quot;address&quot;, &quot;country&quot; information in one single index:\r\n\r\n    {\r\n    &quot;id&quot;:&quot;PER_0001&quot;,\r\n    &quot;type&quot;:&quot;person&quot;,\r\n    &quot;addressId&quot;:&quot;ADDR_001&quot;\r\n    },\r\n    {\r\n    &quot;id&quot;:&quot;ADDR_001&quot;,\r\n    &quot;type&quot;:&quot;address&quot;,\r\n    &quot;countryId&quot;:&quot;COUNT_001&quot;\r\n    },\r\n    {\r\n    &quot;id&quot;:&quot;COUNT_001&quot;,\r\n    &quot;type&quot;:&quot;country&quot;,\r\n    &quot;name&quot;:&quot;India&quot;\r\n    }\r\n\r\nGiven type=PERSON and id=&quot;PER_001&quot;, how can I &quot;map&quot; or query so that I can retrieve the country COUNT_001 details?\r\n","title":"Java Spring + Elasticsearch - Globalsearch: Resolving Logic From Person Type to Country Type","body":"<p>We have a &quot;globalsearch&quot; index that stores &quot;person&quot;, &quot;address&quot;, &quot;country&quot; information in one single index:</p>\n<pre><code>{\n&quot;id&quot;:&quot;PER_0001&quot;,\n&quot;type&quot;:&quot;person&quot;,\n&quot;addressId&quot;:&quot;ADDR_001&quot;\n},\n{\n&quot;id&quot;:&quot;ADDR_001&quot;,\n&quot;type&quot;:&quot;address&quot;,\n&quot;countryId&quot;:&quot;COUNT_001&quot;\n},\n{\n&quot;id&quot;:&quot;COUNT_001&quot;,\n&quot;type&quot;:&quot;country&quot;,\n&quot;name&quot;:&quot;India&quot;\n}\n</code></pre>\n<p>Given type=PERSON and id=&quot;PER_001&quot;, how can I &quot;map&quot; or query so that I can retrieve the country COUNT_001 details?</p>\n"},{"tags":["java","jdbc","sqlanywhere"],"comments":[{"owner":{"account_id":18824736,"reputation":245,"user_id":13729933,"display_name":"Zabon"},"score":0,"creation_date":1678698631,"post_id":75719088,"comment_id":133577173,"body_markdown":"Have you try to install the driver ? https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver16","body":"Have you try to install the driver ? <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver16\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"},{"owner":{"account_id":8497379,"reputation":21,"user_id":6371567,"display_name":"user6371567"},"score":0,"creation_date":1678774839,"post_id":75719088,"comment_id":133593995,"body_markdown":"This are for MS sql server, I&#39;m using SQL Anywhere. Plus, the same code worked a few days ago, without installing anything.","body":"This are for MS sql server, I&#39;m using SQL Anywhere. Plus, the same code worked a few days ago, without installing anything."}],"answers":[{"tags":[],"owner":{"account_id":8497379,"reputation":21,"user_id":6371567,"display_name":"user6371567"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678872631,"creation_date":1678866935,"answer_id":75741867,"question_id":75719088,"body_markdown":"Well... judging by the logs, it turned out that the database had a forced shut down, like if power was cut. The problem started after that. Some files might got corrupted.","title":"Java and SQL Anywhere: No suitable driver found for jdbc:default:connection","body":"<p>Well... judging by the logs, it turned out that the database had a forced shut down, like if power was cut. The problem started after that. Some files might got corrupted.</p>\n"}],"owner":{"account_id":8497379,"reputation":21,"user_id":6371567,"display_name":"user6371567"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678872631,"creation_date":1678692991,"question_id":75719088,"body_markdown":"I wrote a simple Java (1.8) function which is stored and run on a SQL Anywhere database (17). It does some file processing with some SQL blob INSERT/UPDATE calls.\r\n\r\nSince it runs on a database, the connection was done (as on other functions) like this:\r\n```\r\nConnection conn;\r\nconn = DriverManager.getConnection(&quot;jdbc:default:connection&quot;);\r\n```\r\nThis worked fine across multiple functions and databases, until a client started having problems. When inspecting the server log, I found my exception printouts from try-catch statements:\r\n\r\n&gt; java.sql.SQLException: No suitable driver found for jdbc:default:connection\r\n\r\nNow here is the confusing part: it worked fine for weeks, nothing was changed on the server. Other clients don&#39;t have this problem. Did someone face something similar?","title":"Java and SQL Anywhere: No suitable driver found for jdbc:default:connection","body":"<p>I wrote a simple Java (1.8) function which is stored and run on a SQL Anywhere database (17). It does some file processing with some SQL blob INSERT/UPDATE calls.</p>\n<p>Since it runs on a database, the connection was done (as on other functions) like this:</p>\n<pre><code>Connection conn;\nconn = DriverManager.getConnection(&quot;jdbc:default:connection&quot;);\n</code></pre>\n<p>This worked fine across multiple functions and databases, until a client started having problems. When inspecting the server log, I found my exception printouts from try-catch statements:</p>\n<blockquote>\n<p>java.sql.SQLException: No suitable driver found for jdbc:default:connection</p>\n</blockquote>\n<p>Now here is the confusing part: it worked fine for weeks, nothing was changed on the server. Other clients don't have this problem. Did someone face something similar?</p>\n"},{"tags":["java","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678887570,"post_id":75742601,"comment_id":133619967,"body_markdown":"Run with DEBUG logging enabled to get a full stack trace, and edit the question to add the stack trace. BTW, 2.3.x is no longer supported as OSS: https://spring.io/projects/spring-amqp#support","body":"Run with DEBUG logging enabled to get a full stack trace, and edit the question to add the stack trace. BTW, 2.3.x is no longer supported as OSS: <a href=\"https://spring.io/projects/spring-amqp#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-amqp#support</a>"},{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1678939849,"post_id":75742601,"comment_id":133631350,"body_markdown":"I used jdk1.8 and it only fit with version 2.3.x for version 52.  3.x is version 61.","body":"I used jdk1.8 and it only fit with version 2.3.x for version 52.  3.x is version 61."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678968531,"post_id":75742601,"comment_id":133637664,"body_markdown":"2.4.x works with Java 8.","body":"2.4.x works with Java 8."}],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678872553,"creation_date":1678871540,"question_id":75742601,"body_markdown":"My project built in spring-boot swagger-ui and started ok.\r\nBut now, i want to add new app used Rabbit MQ in project. And I add maven lib in pom.xml.\r\nSource hasn&#39;t error, but when start, it raise error.\r\nSo, how can i fix it?\r\n\r\n     Application run failed\r\n        \r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.amqp.rabbit.config.internalRabbitListenerAnnotationProcessor&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.amqp.rabbit.annotation.RabbitListenerAnnotationBeanPostProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\r\n    \r\n        Failed to introspect Class [org.springframework.amqp.rabbit.annotation.RabbitListenerAnnotationBeanPostProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;properties&gt;\r\n        \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        \t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \t&lt;dependencies&gt;\r\n        \t\t\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t....\r\n     \t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.3.10&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n        \t&lt;build&gt;\r\n        \t\t&lt;plugins&gt;\r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \t\t&lt;/plugins&gt;\r\n        \t&lt;/build&gt;","title":"Error when add maven lib to use rabbit queue","body":"<p>My project built in spring-boot swagger-ui and started ok.\nBut now, i want to add new app used Rabbit MQ in project. And I add maven lib in pom.xml.\nSource hasn't error, but when start, it raise error.\nSo, how can i fix it?</p>\n<pre><code> Application run failed\n    \n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.amqp.rabbit.config.internalRabbitListenerAnnotationProcessor': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.amqp.rabbit.annotation.RabbitListenerAnnotationBeanPostProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\n\n    Failed to introspect Class [org.springframework.amqp.rabbit.annotation.RabbitListenerAnnotationBeanPostProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n            &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            ....\n    &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n                &lt;version&gt;2.3.10&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","timestamp","location","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1678877580,"post_id":75742768,"comment_id":133617027,"body_markdown":"Can you [edit] your question to add a sample of your csv file with the wrong timestamps as well as the timestamps you expected? Do you see the wrong timestamps in your csv or in your log?","body":"Can you <a href=\"https://stackoverflow.com/posts/75742768/edit\">edit</a> your question to add a sample of your csv file with the wrong timestamps as well as the timestamps you expected? Do you see the wrong timestamps in your csv or in your log?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678880848,"post_id":75742768,"comment_id":133617989,"body_markdown":"What relevant observations can you make in your debugger?","body":"What relevant observations can you make in your debugger?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678880931,"post_id":75742768,"comment_id":133618015,"body_markdown":"Consider not using `SimpleDateFormat` and `Date` since they are poorly designed and long outdated.  Look into [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). If for older Android devices (before API level 26), then through desugaring.","body":"Consider not using <code>SimpleDateFormat</code> and <code>Date</code> since they are poorly designed and long outdated.  Look into <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. If for older Android devices (before API level 26), then through desugaring."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678886315,"post_id":75742768,"comment_id":133619558,"body_markdown":"Is this relevant? According to [ScanResult Class](https://learn.microsoft.com/en-us/dotnet/api/android.bluetooth.le.scanresult?view=xamarin-android-sdk-13) `TimestampNanos` *Returns timestamp since boot when the scan record was observed.* Note: since boot, not since the epoch that a Java `Date` uses.","body":"Is this relevant? According to <a href=\"https://learn.microsoft.com/en-us/dotnet/api/android.bluetooth.le.scanresult?view=xamarin-android-sdk-13\" rel=\"nofollow noreferrer\">ScanResult Class</a> <code>TimestampNanos</code> <i>Returns timestamp since boot when the scan record was observed.</i> Note: since boot, not since the epoch that a Java <code>Date</code> uses."}],"owner":{"account_id":27900023,"reputation":1,"user_id":21304500,"display_name":"habascus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678872527,"creation_date":1678872527,"question_id":75742768,"body_markdown":"I&#39;m making a ble scan app for my internship to collect some that about the ble protocol. The problem is in the end of the scan i need it to generate a csv file containing a list of device address, rssi, timestamps of when that device was detected and finally the location of my location when i located that device, &#39;cause i&#39;m planning to use it in a moving car. \r\n\r\nMy problem is that i keep getting innacurate timestamps even if i change the phone i&#39;m using. the timestamps are way off (2002, 2011) and I&#39;m not sure what i&#39;m doing wrong. \r\n\r\nthis is the code i&#39;m using to see the time stamps:\r\n```\r\n            public void onScanResult(int callbackType, ScanResult result) {\r\n                super.onScanResult(callbackType, result);\r\n                String deviceAddress = result.getDevice().getAddress();\r\n                long timestamp = System.currentTimeMillis();\r\n                if (mDeviceTimestamps.containsKey(deviceAddress)) {\r\n                    // Ignore this scan result if we have seen this device within the last minute\r\n                    if (timestamp - mDeviceTimestamps.get(deviceAddress) &lt; 3000) {\r\n                        return;\r\n                    }\r\n                }\r\n                mDeviceTimestamps.put(deviceAddress, timestamp);\r\n                Log.d(TAG, &quot;New Device: &quot; + deviceAddress + &quot;, &quot; + result.getTimestampNanos()/1000);\r\n                mScanResults.add(result);\r\n                }\r\n```\r\n\r\n\r\n\r\n\r\nAnd this is the method I&#39;m using to generate the CSV file.\r\n \r\n```\r\nprivate void generateCsvFile(List&lt;ScanResult&gt; scanResults) {\r\n        if (scanResults.isEmpty()) {\r\n            return;\r\n        }\r\n\r\n\r\n        // Create directory for CSV file\r\n        File dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n        if (!((File) dir).exists()) {\r\n            if (!dir.mkdirs()) {\r\n                Log.e(TAG, &quot;generateCsvFile: failed to create directory&quot;);\r\n                return;\r\n            }\r\n        }\r\n        // Code for generating CSV file containing scan data\r\n        // Use OpenCSV library or similar\r\n        String filename = &quot;scan_&quot; + new Date().getTime() + &quot;.csv&quot;;\r\n        File file = new File(dir, filename);\r\n\r\n        try {\r\n            FileWriter fileWriter = new FileWriter(file, true);\r\n            CSVWriter csvWriter = new CSVWriter(fileWriter);\r\n\r\n            // Add header row to CSV file\r\n            String[] headerRow = {&quot;Device Name&quot;, &quot;Device Address&quot;, &quot;RSSI&quot;, &quot;Timestamp&quot;, &quot;Latitude&quot;, &quot;Longitude&quot;};\r\n            csvWriter.writeNext(headerRow);\r\n            String[] headerRow2 = {&quot;Number of devices&quot;};\r\n            csvWriter.writeNext(headerRow2);\r\n\r\n            // Add row for number of unique devices\r\n            Set&lt;String&gt; uniqueDeviceAddresses = new HashSet&lt;&gt;();\r\n            for (ScanResult result : scanResults) {\r\n                uniqueDeviceAddresses.add(result.getDevice().getAddress());\r\n            }\r\n            String[] numUniqueDevicesRow = {&quot;Number of Unique Devices:&quot;, String.valueOf(uniqueDeviceAddresses.size()), &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n            csvWriter.writeNext(numUniqueDevicesRow);\r\n\r\n            // Loop through scan results and write data to CSV file\r\n            // Replace with your own list of ScanResult objects\r\n            for (ScanResult result : scanResults) {\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_BLUETOOTH_CONNECT_PERMISSION);\r\n                    return;\r\n                }\r\n                String deviceName = result.getDevice().getName();\r\n                if (deviceName == null) {\r\n                    deviceName = &quot;n/a&quot;;\r\n                }\r\n                String deviceAddress = result.getDevice().getAddress();\r\n                int rssi = result.getRssi();\r\n                long timestampMillis = result.getTimestampNanos() / 1000000; // Convert nanoseconds to milliseconds\r\n                String timestamp = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.getDefault()).format(new Date(timestampMillis));\r\n\r\n                // Find the most recent location update that occurred before the timestamp of this scan result\r\n                Location loc = null;\r\n                for (int i = mlocationUpdates.size() - 1; i &gt;= 0; i--) {\r\n                    Location update = mlocationUpdates.get(i);\r\n                    if (update.getTime() &lt;= timestampMillis) {\r\n                        loc = update;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                double lat = (loc != null) ? loc.getLatitude() : 0.0;\r\n                double lon = (loc != null) ? loc.getLongitude() : 0.0;\r\n\r\n                String[] row = {deviceName, deviceAddress, String.valueOf(rssi), timestamp, String.valueOf(lat), String.valueOf(lon)};\r\n                csvWriter.writeNext(row);\r\n            }\r\n\r\n            // Close CSV writer and file writer\r\n            csvWriter.close();\r\n            fileWriter.close();\r\n            Toast.makeText(this, &quot;CSV file generated successfully!&quot;, Toast.LENGTH_SHORT).show();\r\n        } catch (IOException e) {\r\n            Log.e(TAG, &quot;Error writing CSV file&quot;, e);\r\n            Toast.makeText(this, &quot;Error writing CSV file&quot;, Toast.LENGTH_SHORT).show();\r\n            e.printStackTrace();\r\n        }\r\n    }````\r\n`","title":"I want accurate BLE scan timestamps","body":"<p>I'm making a ble scan app for my internship to collect some that about the ble protocol. The problem is in the end of the scan i need it to generate a csv file containing a list of device address, rssi, timestamps of when that device was detected and finally the location of my location when i located that device, 'cause i'm planning to use it in a moving car.</p>\n<p>My problem is that i keep getting innacurate timestamps even if i change the phone i'm using. the timestamps are way off (2002, 2011) and I'm not sure what i'm doing wrong.</p>\n<p>this is the code i'm using to see the time stamps:</p>\n<pre><code>            public void onScanResult(int callbackType, ScanResult result) {\n                super.onScanResult(callbackType, result);\n                String deviceAddress = result.getDevice().getAddress();\n                long timestamp = System.currentTimeMillis();\n                if (mDeviceTimestamps.containsKey(deviceAddress)) {\n                    // Ignore this scan result if we have seen this device within the last minute\n                    if (timestamp - mDeviceTimestamps.get(deviceAddress) &lt; 3000) {\n                        return;\n                    }\n                }\n                mDeviceTimestamps.put(deviceAddress, timestamp);\n                Log.d(TAG, &quot;New Device: &quot; + deviceAddress + &quot;, &quot; + result.getTimestampNanos()/1000);\n                mScanResults.add(result);\n                }\n</code></pre>\n<p>And this is the method I'm using to generate the CSV file.</p>\n<pre><code>private void generateCsvFile(List&lt;ScanResult&gt; scanResults) {\n        if (scanResults.isEmpty()) {\n            return;\n        }\n\n\n        // Create directory for CSV file\n        File dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n        if (!((File) dir).exists()) {\n            if (!dir.mkdirs()) {\n                Log.e(TAG, &quot;generateCsvFile: failed to create directory&quot;);\n                return;\n            }\n        }\n        // Code for generating CSV file containing scan data\n        // Use OpenCSV library or similar\n        String filename = &quot;scan_&quot; + new Date().getTime() + &quot;.csv&quot;;\n        File file = new File(dir, filename);\n\n        try {\n            FileWriter fileWriter = new FileWriter(file, true);\n            CSVWriter csvWriter = new CSVWriter(fileWriter);\n\n            // Add header row to CSV file\n            String[] headerRow = {&quot;Device Name&quot;, &quot;Device Address&quot;, &quot;RSSI&quot;, &quot;Timestamp&quot;, &quot;Latitude&quot;, &quot;Longitude&quot;};\n            csvWriter.writeNext(headerRow);\n            String[] headerRow2 = {&quot;Number of devices&quot;};\n            csvWriter.writeNext(headerRow2);\n\n            // Add row for number of unique devices\n            Set&lt;String&gt; uniqueDeviceAddresses = new HashSet&lt;&gt;();\n            for (ScanResult result : scanResults) {\n                uniqueDeviceAddresses.add(result.getDevice().getAddress());\n            }\n            String[] numUniqueDevicesRow = {&quot;Number of Unique Devices:&quot;, String.valueOf(uniqueDeviceAddresses.size()), &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n            csvWriter.writeNext(numUniqueDevicesRow);\n\n            // Loop through scan results and write data to CSV file\n            // Replace with your own list of ScanResult objects\n            for (ScanResult result : scanResults) {\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_BLUETOOTH_CONNECT_PERMISSION);\n                    return;\n                }\n                String deviceName = result.getDevice().getName();\n                if (deviceName == null) {\n                    deviceName = &quot;n/a&quot;;\n                }\n                String deviceAddress = result.getDevice().getAddress();\n                int rssi = result.getRssi();\n                long timestampMillis = result.getTimestampNanos() / 1000000; // Convert nanoseconds to milliseconds\n                String timestamp = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.getDefault()).format(new Date(timestampMillis));\n\n                // Find the most recent location update that occurred before the timestamp of this scan result\n                Location loc = null;\n                for (int i = mlocationUpdates.size() - 1; i &gt;= 0; i--) {\n                    Location update = mlocationUpdates.get(i);\n                    if (update.getTime() &lt;= timestampMillis) {\n                        loc = update;\n                        break;\n                    }\n                }\n\n                double lat = (loc != null) ? loc.getLatitude() : 0.0;\n                double lon = (loc != null) ? loc.getLongitude() : 0.0;\n\n                String[] row = {deviceName, deviceAddress, String.valueOf(rssi), timestamp, String.valueOf(lat), String.valueOf(lon)};\n                csvWriter.writeNext(row);\n            }\n\n            // Close CSV writer and file writer\n            csvWriter.close();\n            fileWriter.close();\n            Toast.makeText(this, &quot;CSV file generated successfully!&quot;, Toast.LENGTH_SHORT).show();\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Error writing CSV file&quot;, e);\n            Toast.makeText(this, &quot;Error writing CSV file&quot;, Toast.LENGTH_SHORT).show();\n            e.printStackTrace();\n        }\n    }````\n`\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15234909,"reputation":2273,"user_id":10992886,"display_name":"Jordan"},"score":3,"creation_date":1580412608,"post_id":59993124,"comment_id":106099165,"body_markdown":"Is your `FileStorageService` class annotated with `@Service` or `@Component`?  It&#39;s not clear from the code that you&#39;ve included.","body":"Is your <code>FileStorageService</code> class annotated with <code>@Service</code> or <code>@Component</code>?  It&#39;s not clear from the code that you&#39;ve included."},{"owner":{"account_id":14248673,"reputation":153,"user_id":10292872,"display_name":"Akash "},"score":0,"creation_date":1580413508,"post_id":59993124,"comment_id":106099560,"body_markdown":"No jordan it is annotated with  @Autowired","body":"No jordan it is annotated with  @Autowired"},{"owner":{"account_id":15234909,"reputation":2273,"user_id":10992886,"display_name":"Jordan"},"score":0,"creation_date":1580413819,"post_id":59993124,"comment_id":106099694,"body_markdown":"Your constructor is annotated with `@Autowired`, but for Spring to be able to take a class and autowire it into other classes, the entire class needs to be annotated with `@Component`, or one of the other annotations that implement the same interface (such as `@Service` or `@Controller`).  This lets Spring know that this class should be managed by Spring.  If you annotate your service at the top level (just above `public class  FileStorageService`) with `@Service`, that should solve your issue.","body":"Your constructor is annotated with <code>@Autowired</code>, but for Spring to be able to take a class and autowire it into other classes, the entire class needs to be annotated with <code>@Component</code>, or one of the other annotations that implement the same interface (such as <code>@Service</code> or <code>@Controller</code>).  This lets Spring know that this class should be managed by Spring.  If you annotate your service at the top level (just above <code>public class  FileStorageService</code>) with <code>@Service</code>, that should solve your issue."},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1649181504,"post_id":59993124,"comment_id":126809395,"body_markdown":"It is possible that sometimes the class is already imported thru&#39; another Jar which interferes with the existing class or interface.","body":"It is possible that sometimes the class is already imported thru&#39; another Jar which interferes with the existing class or interface."},{"owner":{"account_id":18176022,"reputation":171,"user_id":13224739,"display_name":"Peter Gichia"},"score":0,"creation_date":1683359827,"post_id":59993124,"comment_id":134357705,"body_markdown":"Are your classes stored inside sub-packages ? Try removing them and putting them in the same package as the main class or the root package and try running your program.","body":"Are your classes stored inside sub-packages ? Try removing them and putting them in the same package as the main class or the root package and try running your program."}],"answers":[{"comments":[{"owner":{"account_id":17463885,"reputation":303,"user_id":12661027,"display_name":"Lycanthropeus"},"score":0,"creation_date":1618391969,"post_id":59994805,"comment_id":118585103,"body_markdown":"Small question here. Suppose the FileStorage class mentioned inherits from an interface. Which of them is to be annotated as Service? In my case, I annotated both, and it did not seem to have an issue, but it would be great to know which one is to marked.","body":"Small question here. Suppose the FileStorage class mentioned inherits from an interface. Which of them is to be annotated as Service? In my case, I annotated both, and it did not seem to have an issue, but it would be great to know which one is to marked."},{"owner":{"account_id":17359971,"reputation":2702,"user_id":12576497,"display_name":"RUARO Thibault"},"score":0,"creation_date":1624214126,"post_id":59994805,"comment_id":120291245,"body_markdown":"Check this link: https://stackoverflow.com/questions/16351780/where-should-service-annotation-be-kept-interface-or-implementation. It is best to annotate the implementation class instead of the interface","body":"Check this link: <a href=\"https://stackoverflow.com/questions/16351780/where-should-service-annotation-be-kept-interface-or-implementation\" title=\"where should service annotation be kept interface or implementation\">stackoverflow.com/questions/16351780/&hellip;</a>. It is best to annotate the implementation class instead of the interface"},{"owner":{"account_id":6254116,"reputation":307,"user_id":4863277,"accept_rate":100,"display_name":"Luis Manrique"},"score":0,"creation_date":1630251985,"post_id":59994805,"comment_id":121900270,"body_markdown":"The key for me was where was the class located in a package, Thanks!","body":"The key for me was where was the class located in a package, Thanks!"},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1649191975,"post_id":59994805,"comment_id":126812719,"body_markdown":"Need to ensure that no similar class exists from another imported jar.","body":"Need to ensure that no similar class exists from another imported jar."}],"tags":[],"owner":{"account_id":17359971,"reputation":2702,"user_id":12576497,"display_name":"RUARO Thibault"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1580419889,"creation_date":1580419889,"answer_id":59994805,"question_id":59993124,"body_markdown":"The error seems to indicate that Spring does not know any bean of type `com.primesolutions.fileupload.service.FileStorageService`.\r\n\r\nAs said in the comment, make sure you class `FileStorageService`is annotated by `@Service` or `@Component`:\r\n```\r\n@Service\r\npublic class FileStorageService {\r\n...\r\n}\r\n```\r\nMake also sure that this class is located in a sub-package of your class `FileApplication`. For example, if your `FileApplication` class is located in a package `com.my.package`, make sure your `FileStorageService` is located in the package com.my.package.** (same package or any sub package).\r\n\r\nFew notes to improve your code by the way :\r\n\r\n - When your class has only one not default constructor, the use of `@Autowired` on the constructor is optional.\r\n\r\n - Do not put too much code in your constructor. Use instead the `@PostConstruct` annotation.\r\n```\r\n\r\n    @Service\r\n    public class FileStorageService {\r\n        private FileStorageProperties props;\r\n        // @Autowired is optional in this case\r\n        public FileStorageService (FileStorageProperties fileStorageProperties) {\r\n            this.props = fileStorageProperties;\r\n            this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\r\n                    .toAbsolutePath().normalize();\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            try {\r\n                Files.createDirectories(this.fileStorageLocation);\r\n            } catch (Exception ex) {\r\n                throw new FileStorageException(&quot;Could not create the directory where the uploaded files will be stored.&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n - It is better to avoid the `@Autowired` on a field. Use the constructor instead. It is better for your tests, and more maintainable:\r\n```\r\npublic class FileController {\r\n    private FileStorageService service;\r\n\r\n    public FileController(FileStorageService service) {\r\n        this.service = service;\r\n    }\r\n}\r\n```\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>The error seems to indicate that Spring does not know any bean of type <code>com.primesolutions.fileupload.service.FileStorageService</code>.</p>\n\n<p>As said in the comment, make sure you class <code>FileStorageService</code>is annotated by <code>@Service</code> or <code>@Component</code>:</p>\n\n<pre><code>@Service\npublic class FileStorageService {\n...\n}\n</code></pre>\n\n<p>Make also sure that this class is located in a sub-package of your class <code>FileApplication</code>. For example, if your <code>FileApplication</code> class is located in a package <code>com.my.package</code>, make sure your <code>FileStorageService</code> is located in the package com.my.package.** (same package or any sub package).</p>\n\n<p>Few notes to improve your code by the way :</p>\n\n<ul>\n<li><p>When your class has only one not default constructor, the use of <code>@Autowired</code> on the constructor is optional.</p></li>\n<li><p>Do not put too much code in your constructor. Use instead the <code>@PostConstruct</code> annotation.</p></li>\n</ul>\n\n<pre><code>\n    @Service\n    public class FileStorageService {\n        private FileStorageProperties props;\n        // @Autowired is optional in this case\n        public FileStorageService (FileStorageProperties fileStorageProperties) {\n            this.props = fileStorageProperties;\n            this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\n                    .toAbsolutePath().normalize();\n        }\n\n        @PostConstruct\n        public void init() {\n            try {\n                Files.createDirectories(this.fileStorageLocation);\n            } catch (Exception ex) {\n                throw new FileStorageException(\"Could not create the directory where the uploaded files will be stored.\", ex);\n            }\n        }\n    }\n\n</code></pre>\n\n<ul>\n<li>It is better to avoid the <code>@Autowired</code> on a field. Use the constructor instead. It is better for your tests, and more maintainable:</li>\n</ul>\n\n<pre><code>public class FileController {\n    private FileStorageService service;\n\n    public FileController(FileStorageService service) {\n        this.service = service;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594625717,"creation_date":1594625717,"answer_id":62871202,"question_id":59993124,"body_markdown":"**When @Autowired doesnt work**\r\n\r\nThere are several reasons `@Autowired` might not work.\r\n\r\nWhen a new instance is created not by Spring but by for example manually calling a constructor, the instance of the class will not be registered in the Spring context and thus not available for dependency injection. Also when you use `@Autowired` in the class of which you created a new instance, the Spring context will not be known to it and thus most likely this will also fail.\r\nAnother reason can be that the class you want to use `@Autowired` in, is not picked up by the `ComponentScan`. This can basically be because of two reasons.\r\n\r\n 1. The package is outside the `ComponentScan` search path. Move the\r\n    package to a scanned location or configure the `ComponentScan` to\r\n    fix this.\r\n\r\n\r\n 2. The class in which you want to use `@Autowired` does not have a\r\n    Spring annotation. Add one of the following annotatons to the class:\r\n    `@Component`, `@Repository`, `@Service`, `@Controller`,\r\n    `@Configuration`. They have different behaviors so choose carefully!\r\n    Read more here.\r\n\r\nI solved this problem using : \r\n\r\n`@ComponentScan({ &quot;com.yourpkg.*&quot; })`\r\n\r\n\r\nMake sure you `@ComponentScan` cover all classes contains annotatons : `@Component`, `@Repository`, `@Service`, `@Controller`, `@Configuration`. \r\n\r\nReference : https://technology.amis.nl/2018/02/22/java-how-to-fix-spring-autowired-annotation-not-working-issues/","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p><strong>When @Autowired doesnt work</strong></p>\n<p>There are several reasons <code>@Autowired</code> might not work.</p>\n<p>When a new instance is created not by Spring but by for example manually calling a constructor, the instance of the class will not be registered in the Spring context and thus not available for dependency injection. Also when you use <code>@Autowired</code> in the class of which you created a new instance, the Spring context will not be known to it and thus most likely this will also fail.\nAnother reason can be that the class you want to use <code>@Autowired</code> in, is not picked up by the <code>ComponentScan</code>. This can basically be because of two reasons.</p>\n<ol>\n<li><p>The package is outside the <code>ComponentScan</code> search path. Move the\npackage to a scanned location or configure the <code>ComponentScan</code> to\nfix this.</p>\n</li>\n<li><p>The class in which you want to use <code>@Autowired</code> does not have a\nSpring annotation. Add one of the following annotatons to the class:\n<code>@Component</code>, <code>@Repository</code>, <code>@Service</code>, <code>@Controller</code>,\n<code>@Configuration</code>. They have different behaviors so choose carefully!\nRead more here.</p>\n</li>\n</ol>\n<p>I solved this problem using :</p>\n<p><code>@ComponentScan({ &quot;com.yourpkg.*&quot; })</code></p>\n<p>Make sure you <code>@ComponentScan</code> cover all classes contains annotatons : <code>@Component</code>, <code>@Repository</code>, <code>@Service</code>, <code>@Controller</code>, <code>@Configuration</code>.</p>\n<p>Reference : <a href=\"https://technology.amis.nl/2018/02/22/java-how-to-fix-spring-autowired-annotation-not-working-issues/\" rel=\"nofollow noreferrer\">https://technology.amis.nl/2018/02/22/java-how-to-fix-spring-autowired-annotation-not-working-issues/</a></p>\n"},{"tags":[],"owner":{"account_id":1316659,"reputation":37,"user_id":7373817,"display_name":"Ramesh Bathini"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662463746,"creation_date":1601571623,"answer_id":64160057,"question_id":59993124,"body_markdown":"Make sure to have respective annotations for classes. The same issue  got solved for me when I add `@Service` annotation for interfaces and implemented service classes.","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>Make sure to have respective annotations for classes. The same issue  got solved for me when I add <code>@Service</code> annotation for interfaces and implemented service classes.</p>\n"},{"tags":[],"owner":{"account_id":12847964,"reputation":53,"user_id":9293747,"display_name":"Ajit A Ankalle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601730565,"creation_date":1601730565,"answer_id":64184647,"question_id":59993124,"body_markdown":"Tried with **removing the (exclude = {DataSourceAutoConfiguration.class })** parameter with @SpringBootApplication:\r\n\r\n**Before:**\r\n\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n\r\npublic class SpringBootMain { ...\r\n\r\n**After:**\r\n\r\n@SpringBootApplication\r\n\r\npublic class SpringBootMain { ...\r\n\r\nWorked for me.","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>Tried with <strong>removing the (exclude = {DataSourceAutoConfiguration.class })</strong> parameter with @SpringBootApplication:</p>\n<p><strong>Before:</strong></p>\n<p>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })</p>\n<p>public class SpringBootMain { ...</p>\n<p><strong>After:</strong></p>\n<p>@SpringBootApplication</p>\n<p>public class SpringBootMain { ...</p>\n<p>Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11697339,"reputation":1663,"user_id":8563654,"display_name":"Senthuran"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630599904,"creation_date":1630599904,"answer_id":69033963,"question_id":59993124,"body_markdown":"The class which is going to be Autowired should be marked with **@Service** or **@Component**. Also if the class is in different package then need to add the **@ComponentScan** annotation in the main class as follows.\r\n\r\n    @ComponentScan({&quot;com.beta.replyservice&quot;, &quot;com.beta.ruleService&quot;})\r\n    @SpringBootApplication","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>The class which is going to be Autowired should be marked with <strong>@Service</strong> or <strong>@Component</strong>. Also if the class is in different package then need to add the <strong>@ComponentScan</strong> annotation in the main class as follows.</p>\n<pre><code>@ComponentScan({&quot;com.beta.replyservice&quot;, &quot;com.beta.ruleService&quot;})\n@SpringBootApplication\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6338072,"reputation":175,"user_id":4920921,"display_name":"Johana Lopez 1327"},"score":2,"creation_date":1666363726,"post_id":69043609,"comment_id":130926591,"body_markdown":"That cannot be always the solution, then your Bean is not instantiated -&gt; `NullPointerException`","body":"That cannot be always the solution, then your Bean is not instantiated -&gt; <code>NullPointerException</code>"}],"tags":[],"owner":{"account_id":22610028,"reputation":157,"user_id":16790372,"display_name":"wazirX"},"comment_count":1,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1630665708,"creation_date":1630665708,"answer_id":69043609,"question_id":59993124,"body_markdown":"I solved this problem using where i use @Autowired annotation just replace with this`\r\n\r\n&gt; `@Autowired(required = false)`\r\n\r\n`","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I solved this problem using where i use @Autowired annotation just replace with this`</p>\n<blockquote>\n<p><code>@Autowired(required = false)</code></p>\n</blockquote>\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":23767847,"reputation":1,"user_id":17782370,"display_name":"Sanjay Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662463767,"creation_date":1646062681,"answer_id":71297422,"question_id":59993124,"body_markdown":"I use `@Service` on the service class which has to be Autowired. It solves my error. or you can use `@Autowired(required = false)` to disable the auto wiring for a particular instance.","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I use <code>@Service</code> on the service class which has to be Autowired. It solves my error. or you can use <code>@Autowired(required = false)</code> to disable the auto wiring for a particular instance.</p>\n"},{"tags":[],"owner":{"account_id":24890642,"reputation":1,"user_id":18762669,"display_name":"loubna damri"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649597205,"creation_date":1649594525,"answer_id":71816703,"question_id":59993124,"body_markdown":"I had the same issue.  It was solved for me when I added a dependency on &quot;spring-webmvc&quot;.\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I had the same issue.  It was solved for me when I added a dependency on &quot;spring-webmvc&quot;.</p>\n"},{"tags":[],"owner":{"account_id":21944919,"reputation":1,"user_id":16224920,"display_name":"Shinto Chandy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662463631,"creation_date":1655235888,"answer_id":72622597,"question_id":59993124,"body_markdown":"\r\n=&gt; **Error should look like this:**\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    Description:\r\n    \r\n    Field accountPresentation in june14th.account.TestSpringBoot required a bean of type &#39;june14th.controller.AccountPresentation&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;june14th.controller.AccountPresentation&#39; in your configuration.\r\n\r\n**Solution to the problem:-**\r\n\r\n1. First and most important step is look whether your code has the needed dependencies.\r\n2. Check your Folder structure (this error is mainly due to this problem, always check your package structure) i.e, check wheather the main package and its sub packages are well structured\r\n\r\neg: \r\n\r\n    package X.account; //consider this is my main file package\r\n    package X.controller; //consider this as my presentation file package\r\n\r\nwhen you run this program this will cause our &quot;APPLICATION FAILED TO START&quot; error, because of our package structure..look \r\n\r\n    package X.account; //main file package [the next fie should inside this package i.e as a sub package]\r\n    \r\n    package.X.account.controller // this is the right way\r\n\r\n *I think this should solve your problem.*\r\n\r\n3. `Put @Autowired(required=true) //do only if above will not work`\r\n\r\n\r\n\r\n\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>=&gt; <strong>Error should look like this:</strong></p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\nDescription:\n\nField accountPresentation in june14th.account.TestSpringBoot required a bean of type 'june14th.controller.AccountPresentation' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\nAction:\n\nConsider defining a bean of type 'june14th.controller.AccountPresentation' in your configuration.\n</code></pre>\n<p><strong>Solution to the problem:-</strong></p>\n<ol>\n<li>First and most important step is look whether your code has the needed dependencies.</li>\n<li>Check your Folder structure (this error is mainly due to this problem, always check your package structure) i.e, check wheather the main package and its sub packages are well structured</li>\n</ol>\n<p>eg:</p>\n<pre><code>package X.account; //consider this is my main file package\npackage X.controller; //consider this as my presentation file package\n</code></pre>\n<p>when you run this program this will cause our &quot;APPLICATION FAILED TO START&quot; error, because of our package structure..look</p>\n<pre><code>package X.account; //main file package [the next fie should inside this package i.e as a sub package]\n\npackage.X.account.controller // this is the right way\n</code></pre>\n<p><em>I think this should solve your problem.</em></p>\n<ol start=\"3\">\n<li><code>Put @Autowired(required=true) //do only if above will not work</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26259403,"reputation":11,"user_id":19930976,"display_name":"Abhishek kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662463589,"creation_date":1662461908,"answer_id":73620868,"question_id":59993124,"body_markdown":"When I had the same problem, I just added a default constructor in my service class and it started working. ","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>When I had the same problem, I just added a default constructor in my service class and it started working.</p>\n"},{"tags":[],"owner":{"account_id":9005111,"reputation":574,"user_id":6712167,"display_name":"Ranushka Lakmal Sankalpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668108757,"creation_date":1668108757,"answer_id":74394418,"question_id":59993124,"body_markdown":"\r\n*Solution is*\r\n\r\n\r\n    @Autowired(required = false) \r\n    private FileStorageService fileStorageService;\r\n\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p><em>Solution is</em></p>\n<pre><code>@Autowired(required = false) \nprivate FileStorageService fileStorageService;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17446692,"reputation":456,"user_id":12647580,"display_name":"menoktaokan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678872073,"creation_date":1678872073,"answer_id":75742709,"question_id":59993124,"body_markdown":"When I work with a microservice project I get this error while the project I currently work on has the model class but DB config even though the other microservices have the DB config. I created the DB config and the problem has been solved.","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>When I work with a microservice project I get this error while the project I currently work on has the model class but DB config even though the other microservices have the DB config. I created the DB config and the problem has been solved.</p>\n"}],"owner":{"account_id":14248673,"reputation":153,"user_id":10292872,"display_name":"Akash "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182414,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":59994805,"answer_count":12,"score":15,"last_activity_date":1678872073,"creation_date":1580412154,"question_id":59993124,"body_markdown":"I am new to Spring Boot and I&#39;m getting the following error when writing a file upload API: \r\n\r\n    Error:Description:\r\n    Field fileStorageService in com.primesolutions.fileupload.controller.FileController required a bean of type &#39;com.primesolutions.fileupload.service.FileStorageService&#39; that could not be found.\r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    Action:\r\n    Consider defining a bean of type &#39;com.primesolutions.fileupload.service.FileStorageService&#39; in your configuration.*\r\n\r\n\r\nController class:\r\n\r\n    public class FileController \r\n    {\r\n        private static final Logger logger = LoggerFactory.getLogger(FileController.class);\r\n    \r\n        @Autowired\r\n        private FileStorageService fileStorageService;\r\n    \r\n        @PostMapping(&quot;/uploadFile&quot;)\r\n        public UploadFileResponse uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n            String fileName = fileStorageService.storeFile(file);\r\n    \r\n            String fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath()\r\n                    .path(&quot;/downloadFile/&quot;)\r\n                    .path(fileName)\r\n                    .toUriString();\r\n    \r\n            return new UploadFileResponse(fileName, fileDownloadUri,\r\n                    file.getContentType(), file.getSize());\r\n        }\r\n    \r\n        @PostMapping(&quot;/uploadMultipleFiles&quot;)\r\n        public List&lt;UploadFileResponse&gt; uploadMultipleFiles(@RequestParam(&quot;files&quot;) MultipartFile[] files) {\r\n            return Arrays.asList(files)\r\n                    .stream()\r\n                    .map(file -&gt; uploadFile(file))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nService class:\r\n \r\n\r\n    private final Path fileStorageLocation;\r\n    \r\n    \r\n        @Autowired\r\n        public FileStorageService(FileStorageProperties fileStorageProperties) {\r\n            this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\r\n                    .toAbsolutePath().normalize();\r\n    \r\n            try {\r\n                Files.createDirectories(this.fileStorageLocation);\r\n            } catch (Exception ex) {\r\n                throw new FileStorageException(&quot;Could not create the directory where the uploaded files will be stored.&quot;, ex);\r\n            }\r\n        }\r\n    \r\n        public String storeFile(MultipartFile file) {\r\n            // Normalize file name\r\n            String fileName = StringUtils.cleanPath(file.getOriginalFilename());\r\n    \r\n            try {\r\n                // Check if the file&#39;s name contains invalid characters\r\n                if(fileName.contains(&quot;..&quot;)) {\r\n                    throw new FileStorageException(&quot;Sorry! Filename contains invalid path sequence &quot; + fileName);\r\n                }\r\n    \r\n                // Copy file to the target location (Replacing existing file with the same name)\r\n                Path targetLocation = this.fileStorageLocation.resolve(fileName);\r\n                Files.copy(file.getInputStream(), targetLocation, StandardCopyOption.REPLACE_EXISTING);\r\n    \r\n                return fileName;\r\n            } catch (IOException ex) {\r\n                throw new FileStorageException(&quot;Could not store file &quot; + fileName + &quot;. Please try again!&quot;, ex);\r\n            }\r\n        }\r\n\r\nConfiguration class:\r\n\r\n    @ConfigurationProperties(prefix = &quot;file&quot;)\r\n    public class FileStorageProperties {\r\n    \r\n        private String uploadDir;\r\n    \r\n        public String getUploadDir()\r\n        {\r\n            return uploadDir;\r\n        }\r\n    \r\n        public void setUploadDir(String uploadDir) {\r\n            this.uploadDir = uploadDir;\r\n        }\r\n    }\r\n\r\nMain:\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties({\r\n            FileStorageProperties.class\r\n    })\r\n    public class FileApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(FileApplication.class, args);\r\n        }\r\n    }\r\n\r\nproperties file\r\n\r\n    ## MULTIPART (MultipartProperties)\r\n    # Enable multipart uploads\r\n    spring.servlet.multipart.enabled=true\r\n    # Threshold after which files are written to disk.\r\n    spring.servlet.multipart.file-size-threshold=2KB\r\n    # Max file size.\r\n    spring.servlet.multipart.max-file-size=200MB\r\n    # Max Request Size\r\n    spring.servlet.multipart.max-request-size=215MB\r\n    \r\n    ## File Storage Properties\r\n    # All files uploaded through the REST API will be stored in this directory\r\n    file.upload-dir=C:/Projects/SpringBootProject/Primesolutions/PrimeSolutions/FileUpload\r\n\r\nI&#39;m trying to read the file upload property and pass it to the controller class.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I am new to Spring Boot and I'm getting the following error when writing a file upload API: </p>\n\n<pre><code>Error:Description:\nField fileStorageService in com.primesolutions.fileupload.controller.FileController required a bean of type 'com.primesolutions.fileupload.service.FileStorageService' that could not be found.\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:\nConsider defining a bean of type 'com.primesolutions.fileupload.service.FileStorageService' in your configuration.*\n</code></pre>\n\n<p>Controller class:</p>\n\n<pre><code>public class FileController \n{\n    private static final Logger logger = LoggerFactory.getLogger(FileController.class);\n\n    @Autowired\n    private FileStorageService fileStorageService;\n\n    @PostMapping(\"/uploadFile\")\n    public UploadFileResponse uploadFile(@RequestParam(\"file\") MultipartFile file) {\n        String fileName = fileStorageService.storeFile(file);\n\n        String fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath()\n                .path(\"/downloadFile/\")\n                .path(fileName)\n                .toUriString();\n\n        return new UploadFileResponse(fileName, fileDownloadUri,\n                file.getContentType(), file.getSize());\n    }\n\n    @PostMapping(\"/uploadMultipleFiles\")\n    public List&lt;UploadFileResponse&gt; uploadMultipleFiles(@RequestParam(\"files\") MultipartFile[] files) {\n        return Arrays.asList(files)\n                .stream()\n                .map(file -&gt; uploadFile(file))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n\n<p>Service class:</p>\n\n<pre><code>private final Path fileStorageLocation;\n\n\n    @Autowired\n    public FileStorageService(FileStorageProperties fileStorageProperties) {\n        this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\n                .toAbsolutePath().normalize();\n\n        try {\n            Files.createDirectories(this.fileStorageLocation);\n        } catch (Exception ex) {\n            throw new FileStorageException(\"Could not create the directory where the uploaded files will be stored.\", ex);\n        }\n    }\n\n    public String storeFile(MultipartFile file) {\n        // Normalize file name\n        String fileName = StringUtils.cleanPath(file.getOriginalFilename());\n\n        try {\n            // Check if the file's name contains invalid characters\n            if(fileName.contains(\"..\")) {\n                throw new FileStorageException(\"Sorry! Filename contains invalid path sequence \" + fileName);\n            }\n\n            // Copy file to the target location (Replacing existing file with the same name)\n            Path targetLocation = this.fileStorageLocation.resolve(fileName);\n            Files.copy(file.getInputStream(), targetLocation, StandardCopyOption.REPLACE_EXISTING);\n\n            return fileName;\n        } catch (IOException ex) {\n            throw new FileStorageException(\"Could not store file \" + fileName + \". Please try again!\", ex);\n        }\n    }\n</code></pre>\n\n<p>Configuration class:</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"file\")\npublic class FileStorageProperties {\n\n    private String uploadDir;\n\n    public String getUploadDir()\n    {\n        return uploadDir;\n    }\n\n    public void setUploadDir(String uploadDir) {\n        this.uploadDir = uploadDir;\n    }\n}\n</code></pre>\n\n<p>Main:</p>\n\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties({\n        FileStorageProperties.class\n})\npublic class FileApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(FileApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>properties file</p>\n\n<pre><code>## MULTIPART (MultipartProperties)\n# Enable multipart uploads\nspring.servlet.multipart.enabled=true\n# Threshold after which files are written to disk.\nspring.servlet.multipart.file-size-threshold=2KB\n# Max file size.\nspring.servlet.multipart.max-file-size=200MB\n# Max Request Size\nspring.servlet.multipart.max-request-size=215MB\n\n## File Storage Properties\n# All files uploaded through the REST API will be stored in this directory\nfile.upload-dir=C:/Projects/SpringBootProject/Primesolutions/PrimeSolutions/FileUpload\n</code></pre>\n\n<p>I'm trying to read the file upload property and pass it to the controller class.</p>\n"},{"tags":["java","http","oauth-2.0","google-oauth","vert.x"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":0,"creation_date":1678872322,"post_id":75742696,"comment_id":133615641,"body_markdown":"Make sure that the scopes you define in authHandler and the scopes requested from the user (which are defined in the Google Cloud Console) match exactly.","body":"Make sure that the scopes you define in authHandler and the scopes requested from the user (which are defined in the Google Cloud Console) match exactly."},{"owner":{"account_id":28021535,"reputation":31,"user_id":21402255,"display_name":"Luis Gamez"},"score":0,"creation_date":1678872956,"post_id":75742696,"comment_id":133615796,"body_markdown":"Hey Mojtaba, yes I have added on OAuth consent screen the scopes &quot;./auth/userinfo.email&quot; and &quot;./auth/userinfo.profile&quot; to my app","body":"Hey Mojtaba, yes I have added on OAuth consent screen the scopes &quot;./auth/userinfo.email&quot; and &quot;./auth/userinfo.profile&quot; to my app"},{"owner":{"account_id":8805606,"reputation":93,"user_id":6580416,"display_name":"Yaz"},"score":0,"creation_date":1692117560,"post_id":75742696,"comment_id":135579724,"body_markdown":"You have to put the full scopes: https://www.googleapis.com/auth/userinfo.email, https://www.googleapis.com/auth/userinfo.profile","body":"You have to put the full scopes: <a href=\"https://www.googleapis.com/auth/userinfo.email\" rel=\"nofollow noreferrer\">googleapis.com/auth/userinfo.email</a>, <a href=\"https://www.googleapis.com/auth/userinfo.profile\" rel=\"nofollow noreferrer\">googleapis.com/auth/userinfo.profile</a>"}],"owner":{"account_id":28021535,"reputation":31,"user_id":21402255,"display_name":"Luis Gamez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1678871978,"creation_date":1678871978,"question_id":75742696,"body_markdown":"I&#39;m having some issues when implementing OAuth2.0 Google and Vertx. I&#39;m trying to make a simple example where user just have to ligon with google and after that we print a message on screen with the user name and email:\r\n\r\n```\r\n\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n  public static void main(String[] args) {\r\n    Vertx.vertx().deployVerticle(new MainVerticle());\r\n  }\r\n\r\n  @Override\r\n  public void start(Promise&lt;Void&gt; startPromise) throws Exception {\r\n    final String CLIENT_ID = &quot;CLIENT_ID&quot;;\r\n\r\n    final String CLIENT_SECRET = &quot;CLIENT_SECRET&quot;;\r\n    \r\n    OAuth2Auth authProvider = GoogleAuth.create(vertx, CLIENT_ID,CLIENT_SECRET);\r\n\r\n\r\n    Router router = Router.router(vertx);\r\n\r\n    OAuth2AuthHandler authHandler = OAuth2AuthHandler.create(vertx, authProvider, &quot;http://localhost:8080/callback&quot;).withScopes(List.of(&quot;email&quot;, &quot;profile&quot;));\r\n\r\n\r\n    authHandler.setupCallback(router.route(&quot;/callback&quot;));\r\n\r\n\r\n    router.route(&quot;/login&quot;).handler(authHandler);\r\n\r\n    router.get(&quot;/callback&quot;).handler(ctx -&gt; {\r\n\r\n      String code = ctx.request().getParam(&quot;code&quot;);\r\n      System.out.println(code);\r\n      if(code != null){\r\n        //Obtenemos token de acceso\r\n        authProvider.authenticate(new Oauth2Credentials(new JsonObject().put(&quot;code&quot;, code)), res -&gt; {\r\n          if(res.succeeded()){\r\n            //Almacenamos el usuario\r\n            User user = res.result();\r\n            ctx.setUser(user);\r\n            ctx.put(&quot;token&quot;, user.principal());\r\n            ctx.response().putHeader(&quot;location&quot;, &quot;/protected&quot;).setStatusCode(302).end();\r\n          }else {\r\n            System.out.println(&quot;Error de authentication&quot;);\r\n            ctx.fail(401);\r\n          }\r\n        });\r\n      }else {\r\n        //El usuario ha denegado los permisos\r\n        System.out.println(&quot;El usuario ha denegado los permisos&quot;);\r\n        ctx.fail(401);\r\n      }\r\n    });\r\n\r\n    router.route(&quot;/protected&quot;).handler(RedirectAuthHandler.create(authProvider, &quot;/login&quot;));\r\n\r\n    router.route(&quot;/protected&quot;).handler(ctx -&gt;{\r\n\r\n      if(ctx.user() != null){\r\n        // Usuario identificado\r\n        JsonObject profile = ctx.user().principal();\r\n        String name = profile.getString(&quot;name&quot;);\r\n        String email = profile.getString(&quot;email&quot;);\r\n        ctx.response().end(&quot;Bienvenido, &quot;  + name + &quot; con email &quot; + email);\r\n      }\r\n      }\r\n\r\n    );\r\n\r\n\r\n    router\r\n      .get(&quot;/&quot;)\r\n        .handler(ctc -&gt; ctc.response()\r\n          .putHeader(&quot;content-type&quot;, &quot;text/html&quot;)\r\n          .end(&quot;Hello&lt;br&gt;&lt;a href=\\&quot;/login\\&quot;&gt;Protected by Google&lt;/a&gt;&quot;));\r\n\r\n    vertx.\r\n      createHttpServer()\r\n      .requestHandler(router)\r\n      .listen(8080, http -&gt; {\r\n      if (http.succeeded()) {\r\n        startPromise.complete();\r\n        System.out.println(&quot;HTTP server started on port 8080&quot;);\r\n      } else {\r\n        startPromise.fail(http.cause());\r\n      }\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nAfter logging in with google and accepting the permissions when calling the calback I always get this error and it throw a 403 Forbidden\r\n\r\n```\r\nHTTP server started on port 8080\r\nmar 15, 2023 9:58:57 A.&#160;M. io.vertx.ext.web.RoutingContext\r\nGRAVE: Unhandled exception in router\r\njava.lang.IllegalStateException: principal scope != handler scopes\r\n\tat io.vertx.ext.web.handler.impl.OAuth2AuthHandlerImpl.postAuthentication(OAuth2AuthHandlerImpl.java:349)...\r\n```","title":"How handle scopes OAuth 2.0 Google and Vert.x","body":"<p>I'm having some issues when implementing OAuth2.0 Google and Vertx. I'm trying to make a simple example where user just have to ligon with google and after that we print a message on screen with the user name and email:</p>\n<pre><code>\npublic class MainVerticle extends AbstractVerticle {\n\n  public static void main(String[] args) {\n    Vertx.vertx().deployVerticle(new MainVerticle());\n  }\n\n  @Override\n  public void start(Promise&lt;Void&gt; startPromise) throws Exception {\n    final String CLIENT_ID = &quot;CLIENT_ID&quot;;\n\n    final String CLIENT_SECRET = &quot;CLIENT_SECRET&quot;;\n    \n    OAuth2Auth authProvider = GoogleAuth.create(vertx, CLIENT_ID,CLIENT_SECRET);\n\n\n    Router router = Router.router(vertx);\n\n    OAuth2AuthHandler authHandler = OAuth2AuthHandler.create(vertx, authProvider, &quot;http://localhost:8080/callback&quot;).withScopes(List.of(&quot;email&quot;, &quot;profile&quot;));\n\n\n    authHandler.setupCallback(router.route(&quot;/callback&quot;));\n\n\n    router.route(&quot;/login&quot;).handler(authHandler);\n\n    router.get(&quot;/callback&quot;).handler(ctx -&gt; {\n\n      String code = ctx.request().getParam(&quot;code&quot;);\n      System.out.println(code);\n      if(code != null){\n        //Obtenemos token de acceso\n        authProvider.authenticate(new Oauth2Credentials(new JsonObject().put(&quot;code&quot;, code)), res -&gt; {\n          if(res.succeeded()){\n            //Almacenamos el usuario\n            User user = res.result();\n            ctx.setUser(user);\n            ctx.put(&quot;token&quot;, user.principal());\n            ctx.response().putHeader(&quot;location&quot;, &quot;/protected&quot;).setStatusCode(302).end();\n          }else {\n            System.out.println(&quot;Error de authentication&quot;);\n            ctx.fail(401);\n          }\n        });\n      }else {\n        //El usuario ha denegado los permisos\n        System.out.println(&quot;El usuario ha denegado los permisos&quot;);\n        ctx.fail(401);\n      }\n    });\n\n    router.route(&quot;/protected&quot;).handler(RedirectAuthHandler.create(authProvider, &quot;/login&quot;));\n\n    router.route(&quot;/protected&quot;).handler(ctx -&gt;{\n\n      if(ctx.user() != null){\n        // Usuario identificado\n        JsonObject profile = ctx.user().principal();\n        String name = profile.getString(&quot;name&quot;);\n        String email = profile.getString(&quot;email&quot;);\n        ctx.response().end(&quot;Bienvenido, &quot;  + name + &quot; con email &quot; + email);\n      }\n      }\n\n    );\n\n\n    router\n      .get(&quot;/&quot;)\n        .handler(ctc -&gt; ctc.response()\n          .putHeader(&quot;content-type&quot;, &quot;text/html&quot;)\n          .end(&quot;Hello&lt;br&gt;&lt;a href=\\&quot;/login\\&quot;&gt;Protected by Google&lt;/a&gt;&quot;));\n\n    vertx.\n      createHttpServer()\n      .requestHandler(router)\n      .listen(8080, http -&gt; {\n      if (http.succeeded()) {\n        startPromise.complete();\n        System.out.println(&quot;HTTP server started on port 8080&quot;);\n      } else {\n        startPromise.fail(http.cause());\n      }\n    });\n  }\n}\n</code></pre>\n<p>After logging in with google and accepting the permissions when calling the calback I always get this error and it throw a 403 Forbidden</p>\n<pre><code>HTTP server started on port 8080\nmar 15, 2023 9:58:57 A.M. io.vertx.ext.web.RoutingContext\nGRAVE: Unhandled exception in router\njava.lang.IllegalStateException: principal scope != handler scopes\n    at io.vertx.ext.web.handler.impl.OAuth2AuthHandlerImpl.postAuthentication(OAuth2AuthHandlerImpl.java:349)...\n</code></pre>\n"},{"tags":["java","gmail","gmail-api"],"comments":[{"owner":{"account_id":23932132,"reputation":2051,"user_id":17926478,"display_name":"Lorena Gomez"},"score":0,"creation_date":1678807077,"post_id":75733821,"comment_id":133602836,"body_markdown":"Which email exactly do you want to change the subject to? Is it incoming email, outgoing, or draft? Also, what programming language are you using? Please specify, whenever possible, you need to include a minimal example that reproduces the issue. You can also include the expected behavior, the actual behavior, and how they differ, that would be helpful as well. Please visit [How to Ask](https://stackoverflow.com/help/how-to-ask) have some tips on how to write a question, so the community will be able to help you out in a better way.","body":"Which email exactly do you want to change the subject to? Is it incoming email, outgoing, or draft? Also, what programming language are you using? Please specify, whenever possible, you need to include a minimal example that reproduces the issue. You can also include the expected behavior, the actual behavior, and how they differ, that would be helpful as well. Please visit <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> have some tips on how to write a question, so the community will be able to help you out in a better way."}],"owner":{"account_id":1052697,"reputation":309,"user_id":1056194,"accept_rate":57,"display_name":"Cool Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678871948,"creation_date":1678800733,"question_id":75733821,"body_markdown":"I am just struggling to update the incoming message subject using ModifyMessageRequest(Java API), but it does not work. Here is minimal code example:\r\n\r\n            MessagePart payload = m.getPayload();\r\n            List&lt;MessagePartHeader&gt; headers = payload.getHeaders();\r\n\r\n            for(MessagePartHeader h: headers){\r\n\r\n                if(h.getName().equals(&quot;Subject&quot;)){\r\n                    h.set(&quot;Subject&quot;, &quot;New Subject&quot;);\r\n                }\r\n            }\r\n\r\n            m.setPayload(payload);\r\n            ModifyMessageRequest modifyRequest = new ModifyMessageRequest()\r\n                    .setRemoveLabelIds(List.of(&quot;UNREAD&quot;))\r\n                    .setAddLabelIds(Collections.emptyList());\r\n\r\n\r\n            gmail.users().messages().modify(email, msgId, modifyRequest).execute();\r\n\r\nHowever, only unread messages label changed to Read and subject does not change. Anything missing? I would appreciate help.","title":"Gmail API update Message subject","body":"<p>I am just struggling to update the incoming message subject using ModifyMessageRequest(Java API), but it does not work. Here is minimal code example:</p>\n<pre><code>        MessagePart payload = m.getPayload();\n        List&lt;MessagePartHeader&gt; headers = payload.getHeaders();\n\n        for(MessagePartHeader h: headers){\n\n            if(h.getName().equals(&quot;Subject&quot;)){\n                h.set(&quot;Subject&quot;, &quot;New Subject&quot;);\n            }\n        }\n\n        m.setPayload(payload);\n        ModifyMessageRequest modifyRequest = new ModifyMessageRequest()\n                .setRemoveLabelIds(List.of(&quot;UNREAD&quot;))\n                .setAddLabelIds(Collections.emptyList());\n\n\n        gmail.users().messages().modify(email, msgId, modifyRequest).execute();\n</code></pre>\n<p>However, only unread messages label changed to Read and subject does not change. Anything missing? I would appreciate help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1531814849,"post_id":51376228,"comment_id":89724010,"body_markdown":"[This](https://stackoverflow.com/a/16611566/133203) may give you ideas.","body":"<a href=\"https://stackoverflow.com/a/16611566/133203\">This</a> may give you ideas."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1531814892,"post_id":51376228,"comment_id":89724032,"body_markdown":"[GraphicsEnvironment isHeadless()](https://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html#isHeadless())","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html#isHeadless()\" rel=\"nofollow noreferrer\">GraphicsEnvironment isHeadless()</a>"},{"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"score":3,"creation_date":1531814909,"post_id":51376228,"comment_id":89724046,"body_markdown":"Possible duplicate of [Is there a safe, programmatic way to determine if it&#39;s safe to open a Swing window?](https://stackoverflow.com/questions/5893236/is-there-a-safe-programmatic-way-to-determine-if-its-safe-to-open-a-swing-wind)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5893236/is-there-a-safe-programmatic-way-to-determine-if-its-safe-to-open-a-swing-wind\">Is there a safe, programmatic way to determine if it&#39;s safe to open a Swing window?</a>"}],"answers":[{"tags":[],"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678871730,"creation_date":1678871730,"answer_id":75742636,"question_id":51376228,"body_markdown":"As this question doesn&#39;t seem to ask for a code-snippet and I was looking for a way to simply be able to tell if a Java-installation supports GUI or not and (at least my) Google doesn&#39;t have an answer for that, my current wisdom is to check what&#39;s installed.\r\n\r\nI&#39;m not sure, but I think on Windows there&#39;s a command `javaw` if Java supports GUI. On Linux one has to check what&#39;s installed:\r\n\r\n    [root@host ~]# yum list &quot;*jdk*&quot;\r\n    Last metadata expiration check: 4:50:52 ago on Wed 15 Mar 2023 05:08:08 CET.\r\n    Installed Packages\r\n    copy-jdk-configs.noarch             4.0-2.el8\r\n    java-1.8.0-openjdk.x86_64           1:1.8.0.362.b09-2.el8_7\r\n    java-1.8.0-openjdk-headless.x86_64  1:1.8.0.362.b09-2.el8_7\r\n    Available Packages\r\n    ...\r\n    [root@host ~]#\r\n\r\nSo the Java on this machine would provide a GUI as `java-1.8.0-openjdk.x86_64` is installed. If it would only show `java-1.8.0-openjdk-headless.x86_64` there won&#39;t be a GUI-mode.\r\n\r\nHowever, I don&#39;t see how I could tell it by showing the version as the output is the same for GUI and headless:\r\n\r\n    [user@host bin]$ java -version\r\n    openjdk version &quot;1.8.0_312&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_312-b07)\r\n    OpenJDK 64-Bit Server VM (build 25.312-b07, mixed mode)\r\n    [user@host bin]$","title":"Check installed JRE is headless or full JRE","body":"<p>As this question doesn't seem to ask for a code-snippet and I was looking for a way to simply be able to tell if a Java-installation supports GUI or not and (at least my) Google doesn't have an answer for that, my current wisdom is to check what's installed.</p>\n<p>I'm not sure, but I think on Windows there's a command <code>javaw</code> if Java supports GUI. On Linux one has to check what's installed:</p>\n<pre><code>[root@host ~]# yum list &quot;*jdk*&quot;\nLast metadata expiration check: 4:50:52 ago on Wed 15 Mar 2023 05:08:08 CET.\nInstalled Packages\ncopy-jdk-configs.noarch             4.0-2.el8\njava-1.8.0-openjdk.x86_64           1:1.8.0.362.b09-2.el8_7\njava-1.8.0-openjdk-headless.x86_64  1:1.8.0.362.b09-2.el8_7\nAvailable Packages\n...\n[root@host ~]#\n</code></pre>\n<p>So the Java on this machine would provide a GUI as <code>java-1.8.0-openjdk.x86_64</code> is installed. If it would only show <code>java-1.8.0-openjdk-headless.x86_64</code> there won't be a GUI-mode.</p>\n<p>However, I don't see how I could tell it by showing the version as the output is the same for GUI and headless:</p>\n<pre><code>[user@host bin]$ java -version\nopenjdk version &quot;1.8.0_312&quot;\nOpenJDK Runtime Environment (build 1.8.0_312-b07)\nOpenJDK 64-Bit Server VM (build 25.312-b07, mixed mode)\n[user@host bin]$\n</code></pre>\n"}],"owner":{"account_id":11730780,"reputation":336,"user_id":8586347,"display_name":"thebytewalker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678871730,"creation_date":1531814707,"question_id":51376228,"body_markdown":"How do I check whether the installed JRE is JRE-headless or the FULL-JRE?\r\n\r\nAs headless-JRE&#39;s are lightweight and they do not contain dependencies for GUI components, they are preferred for server applications and embedded systems.","title":"Check installed JRE is headless or full JRE","body":"<p>How do I check whether the installed JRE is JRE-headless or the FULL-JRE?</p>\n\n<p>As headless-JRE's are lightweight and they do not contain dependencies for GUI components, they are preferred for server applications and embedded systems.</p>\n"},{"tags":["java","android","google-play","google-play-console"],"owner":{"account_id":28021456,"reputation":1,"user_id":21402194,"display_name":"q5a6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678871688,"creation_date":1678870010,"question_id":75742350,"body_markdown":"&gt; Violation Request Install Packages Permission: Permission use is not\r\n&gt; directly related to your app&#39;s core purpose.\r\n&gt; \r\n&gt; We found that your app is not compliant with how\r\n&gt; REQUEST_INSTALL_PACKAGES permission is allowed to be used.\r\n&gt; Specifically, the use of the permission is not directly related to the\r\n&gt; core purpose of the app.\r\n\r\nI understand that to fix the issue I need to remove the REQUEST_INSTALL_PACKAGES\r\n\r\n    `&lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;/&gt;`\r\n\r\n\r\nBut the problem is that my app is an APK Installer so it requires the REQUEST_INSTALL_PACKAGES permission I have explained that to the Google Play team via the form they provide but still got this email :\r\n\r\n******************\r\n\r\nIssue found: Permission use is not directly related to your app&#39;s core purpose.\r\n\r\n&gt; We found that your app is not compliant with how\r\n&gt; REQUEST_INSTALL_PACKAGES permission is allowed to be used.\r\n&gt; Specifically, the use of the permission is not directly related to the\r\n&gt; core purpose of the app.\r\n&gt; \r\n&gt; Issue details\r\n&gt; \r\n&gt; We found an issue in the following area(s):\r\n&gt; \r\n&gt;     APK 15\r\n&gt; \r\n&gt; Additionally, follow these steps to bring your app into compliance:\r\n&gt; \r\n&gt; Please remove the use of REQUEST_INSTALL_PACKAGES permission from all\r\n&gt; version codes within the submission. This includes both production and\r\n&gt; testing tracks.\r\n\r\n********\r\n\r\nCan you explain to me what I&#39;m doing wrong and how I can fix this and get my app update approved?!\r\n\r\nThank you","title":"My App update got rejected because of the Request Install Packages Permission","body":"<blockquote>\n<p>Violation Request Install Packages Permission: Permission use is not\ndirectly related to your app's core purpose.</p>\n<p>We found that your app is not compliant with how\nREQUEST_INSTALL_PACKAGES permission is allowed to be used.\nSpecifically, the use of the permission is not directly related to the\ncore purpose of the app.</p>\n</blockquote>\n<p>I understand that to fix the issue I need to remove the REQUEST_INSTALL_PACKAGES</p>\n<pre><code>`&lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;/&gt;`\n</code></pre>\n<p>But the problem is that my app is an APK Installer so it requires the REQUEST_INSTALL_PACKAGES permission I have explained that to the Google Play team via the form they provide but still got this email :</p>\n<hr />\n<p>Issue found: Permission use is not directly related to your app's core purpose.</p>\n<blockquote>\n<p>We found that your app is not compliant with how\nREQUEST_INSTALL_PACKAGES permission is allowed to be used.\nSpecifically, the use of the permission is not directly related to the\ncore purpose of the app.</p>\n<p>Issue details</p>\n<p>We found an issue in the following area(s):</p>\n<pre><code>APK 15\n</code></pre>\n<p>Additionally, follow these steps to bring your app into compliance:</p>\n<p>Please remove the use of REQUEST_INSTALL_PACKAGES permission from all\nversion codes within the submission. This includes both production and\ntesting tracks.</p>\n</blockquote>\n<hr />\n<p>Can you explain to me what I'm doing wrong and how I can fix this and get my app update approved?!</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":23289938,"reputation":15,"user_id":17372169,"display_name":"lostInCodeKeys"},"score":0,"creation_date":1679024810,"post_id":75742621,"comment_id":133650572,"body_markdown":"In the @PostMapping, I tried to implement the code and I am able to pass the &quot;answer&quot; from the textfield over to the results page but the &quot;pokemon&quot; is always returning null.  I&#39;ve tried a few different ways to get the pokemon object referenced as well and have had no success.","body":"In the @PostMapping, I tried to implement the code and I am able to pass the &quot;answer&quot; from the textfield over to the results page but the &quot;pokemon&quot; is always returning null.  I&#39;ve tried a few different ways to get the pokemon object referenced as well and have had no success."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1679043551,"post_id":75742621,"comment_id":133653603,"body_markdown":"Where do you get the pokemon from in the `@GetMapping` ?","body":"Where do you get the pokemon from in the <code>@GetMapping</code> ?"},{"owner":{"account_id":23289938,"reputation":15,"user_id":17372169,"display_name":"lostInCodeKeys"},"score":0,"creation_date":1679168074,"post_id":75742621,"comment_id":133674512,"body_markdown":"I create an instance of the pokemon prior to the GetMapping.  I don&#39;t think it&#39;s best practice to do something like that because I&#39;m very new to Spring still.  I create an instance and then use my method &quot;.getPokemon&quot; in the GetMapping that will call the pokeapi and return a pokemon object from the api service.  I then use that pokemon to be displayed in the GetMapping.  I don&#39;t know how to work with the pokemon though in the @PostMapping.  If I call .getPokemon() again, it&#39;ll generate a new name/image and not the original from the GetMapping.","body":"I create an instance of the pokemon prior to the GetMapping.  I don&#39;t think it&#39;s best practice to do something like that because I&#39;m very new to Spring still.  I create an instance and then use my method &quot;.getPokemon&quot; in the GetMapping that will call the pokeapi and return a pokemon object from the api service.  I then use that pokemon to be displayed in the GetMapping.  I don&#39;t know how to work with the pokemon though in the @PostMapping.  If I call .getPokemon() again, it&#39;ll generate a new name/image and not the original from the GetMapping."}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678871643,"creation_date":1678871643,"answer_id":75742621,"question_id":75739457,"body_markdown":"I would propose to create a dedicated object to store the answer of the user.\r\n\r\nStart by updating your `@GetMapping` to something like this:\r\n\r\n```\r\n@GetMapping(&quot;/play&quot;)\r\npublic String play(Model model) throws JsonProcessingException {\r\n   \r\n    Pokemon pokemon = p.getPokemon();\r\n\r\n    model.addAttribute(&quot;pokemonImage&quot;, pokemon.getImage());\r\n    model.addAttribute(&quot;answer&quot;, new AnswerFormData());\r\n        return &quot;displayPokemon&quot;;\r\n    }\r\n```\r\n\r\nThis makes sure there is an &quot;empty&quot; `AnswerFormData` instance for Thymeleaf to bind with the form in your HTML.\r\n\r\n\r\nWith `AnswerFormData`:\r\n\r\n```\r\npublic class AnswerFormData {\r\n  private String name;\r\n\r\n  // add getter and setter\r\n}\r\n```\r\n\r\nUpdate your template like this:\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Guess that Pokemon v1.0&lt;/title&gt;\r\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;img th:src=&quot;${pokemonImage}&quot;/&gt;\r\n&lt;h1&gt;Who&#39;s That Pokemon?!&lt;/h1&gt;\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/play}&quot; th:object=&quot;${answer}&quot; method=&quot;post&quot;&gt;\r\n  &lt;p&gt;Guess: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;&lt;/p&gt;\r\n  &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nFinally, update the `@PostMapping` like this:\r\n\r\n```\r\n@PostMapping(&quot;/play&quot;)\r\n    public String checkPokemonSubmit(@ModelAttribute(&quot;answer&quot;) AnswerFormData answer, Model model) {\r\n\r\n    // Compare answer.getName() with the name of the pokemon here\r\n    // You can add both the given name and the actual name as separate attributes to the model so the Thymeleaf template can show those\r\n\r\n    model.addAttribute(&quot;pokemon&quot;, pokemon);\r\n    model.addAttribute(&quot;answer&quot;, answer);\r\n\r\n    // It is probably better to use &quot;redirect:/result&quot; to force the browser to do a GET request\r\n    return &quot;simpleResult&quot;;\r\n    }\r\n```\r\n\r\nSee also [Form handling with Thymeleaf][1]\r\n\r\n\r\n  [1]: https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/","title":"How to validate if the textfield input is equal to the object&#39;s name property?","body":"<p>I would propose to create a dedicated object to store the answer of the user.</p>\n<p>Start by updating your <code>@GetMapping</code> to something like this:</p>\n<pre><code>@GetMapping(&quot;/play&quot;)\npublic String play(Model model) throws JsonProcessingException {\n   \n    Pokemon pokemon = p.getPokemon();\n\n    model.addAttribute(&quot;pokemonImage&quot;, pokemon.getImage());\n    model.addAttribute(&quot;answer&quot;, new AnswerFormData());\n        return &quot;displayPokemon&quot;;\n    }\n</code></pre>\n<p>This makes sure there is an &quot;empty&quot; <code>AnswerFormData</code> instance for Thymeleaf to bind with the form in your HTML.</p>\n<p>With <code>AnswerFormData</code>:</p>\n<pre><code>public class AnswerFormData {\n  private String name;\n\n  // add getter and setter\n}\n</code></pre>\n<p>Update your template like this:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Guess that Pokemon v1.0&lt;/title&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;img th:src=&quot;${pokemonImage}&quot;/&gt;\n&lt;h1&gt;Who's That Pokemon?!&lt;/h1&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/play}&quot; th:object=&quot;${answer}&quot; method=&quot;post&quot;&gt;\n  &lt;p&gt;Guess: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;&lt;/p&gt;\n  &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Finally, update the <code>@PostMapping</code> like this:</p>\n<pre><code>@PostMapping(&quot;/play&quot;)\n    public String checkPokemonSubmit(@ModelAttribute(&quot;answer&quot;) AnswerFormData answer, Model model) {\n\n    // Compare answer.getName() with the name of the pokemon here\n    // You can add both the given name and the actual name as separate attributes to the model so the Thymeleaf template can show those\n\n    model.addAttribute(&quot;pokemon&quot;, pokemon);\n    model.addAttribute(&quot;answer&quot;, answer);\n\n    // It is probably better to use &quot;redirect:/result&quot; to force the browser to do a GET request\n    return &quot;simpleResult&quot;;\n    }\n</code></pre>\n<p>See also <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">Form handling with Thymeleaf</a></p>\n"}],"owner":{"account_id":23289938,"reputation":15,"user_id":17372169,"display_name":"lostInCodeKeys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678871643,"creation_date":1678839033,"question_id":75739457,"body_markdown":"I&#39;m creating a &quot;guess that pokemon&quot; game using Spring Boot and Thymeleaf.  It&#39;s very simple.  Displays an image of a pokemon and a textbox that will take user input.  How would I check the textbox value against the pokemon&#39;s name?  \r\nThe Pokemon class has String name and String image (for the image url)\r\n\r\nCode used with the &quot;displayPokemon.html&quot; file\r\n    \r\n    @GetMapping(&quot;/play&quot;)\r\n    public String play(Model model) throws JsonProcessingException {\r\n       \r\n        Pokemon pokemon = p.getPokemon();\r\n\r\n        model.addAttribute(&quot;pokemon&quot;, pokemon);\r\n            return &quot;displayPokemon&quot;;\r\n        }\r\nThe .html file for displaying the pokemon and the textfield\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;title&gt;Guess that Pokemon v1.0&lt;/title&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;img th:src=&quot;${pokemon.image}&quot;/&gt;\r\n    &lt;h1&gt;Who&#39;s That Pokemon?!&lt;/h1&gt;\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/play}&quot; th:object=&quot;${pokemon}&quot; method=&quot;post&quot;&gt;\r\n      &lt;p&gt;Guess: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;&lt;/p&gt;\r\n      &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThis is the current @PostMapping.  It displays the input from the textfield but that is all.\r\n\r\n        @PostMapping(&quot;/play&quot;)\r\n        public String checkPokemonSubmit(@ModelAttribute Pokemon pokemon, Model model) {\r\n\r\n        model.addAttribute(&quot;pokemon&quot;, pokemon);\r\n        return &quot;simpleResult&quot;;\r\n        }\r\n\r\nThe simpleResult.html page\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Guess that Pokemon - Result&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Result&lt;/h1&gt;\r\n    &lt;p th:text=&quot;&#39;Name: &#39; + ${pokemon.name}&quot; /&gt;\r\n    &lt;a href=&quot;/play&quot;&gt;Guess Another Pokemon&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nCurrently, the textfield is pre-filled with the pokemon&#39;s name upon hitting the /play endpoint.  I&#39;d like to have the field be empty then check the input in the field against the pokemon.name from the image it is displaying.  Hopefully that makes sense.  If any other info is needed, I&#39;d be happy to grab it for you guys.    ","title":"How to validate if the textfield input is equal to the object&#39;s name property?","body":"<p>I'm creating a &quot;guess that pokemon&quot; game using Spring Boot and Thymeleaf.  It's very simple.  Displays an image of a pokemon and a textbox that will take user input.  How would I check the textbox value against the pokemon's name?<br />\nThe Pokemon class has String name and String image (for the image url)</p>\n<p>Code used with the &quot;displayPokemon.html&quot; file</p>\n<pre><code>@GetMapping(&quot;/play&quot;)\npublic String play(Model model) throws JsonProcessingException {\n   \n    Pokemon pokemon = p.getPokemon();\n\n    model.addAttribute(&quot;pokemon&quot;, pokemon);\n        return &quot;displayPokemon&quot;;\n    }\n</code></pre>\n<p>The .html file for displaying the pokemon and the textfield</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Guess that Pokemon v1.0&lt;/title&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;img th:src=&quot;${pokemon.image}&quot;/&gt;\n&lt;h1&gt;Who's That Pokemon?!&lt;/h1&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/play}&quot; th:object=&quot;${pokemon}&quot; method=&quot;post&quot;&gt;\n  &lt;p&gt;Guess: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;&lt;/p&gt;\n  &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is the current @PostMapping.  It displays the input from the textfield but that is all.</p>\n<pre><code>    @PostMapping(&quot;/play&quot;)\n    public String checkPokemonSubmit(@ModelAttribute Pokemon pokemon, Model model) {\n\n    model.addAttribute(&quot;pokemon&quot;, pokemon);\n    return &quot;simpleResult&quot;;\n    }\n</code></pre>\n<p>The simpleResult.html page</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Guess that Pokemon - Result&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Result&lt;/h1&gt;\n&lt;p th:text=&quot;'Name: ' + ${pokemon.name}&quot; /&gt;\n&lt;a href=&quot;/play&quot;&gt;Guess Another Pokemon&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Currently, the textfield is pre-filled with the pokemon's name upon hitting the /play endpoint.  I'd like to have the field be empty then check the input in the field against the pokemon.name from the image it is displaying.  Hopefully that makes sense.  If any other info is needed, I'd be happy to grab it for you guys.</p>\n"},{"tags":["java","dropwizard","java-17"],"comments":[{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":1,"creation_date":1678877946,"post_id":75742544,"comment_id":133617136,"body_markdown":"This is a guess, but try using the jakarta EL API instead of the javax. (jakarta.el-api and expressly)\nhttps://mvnrepository.com/artifact/jakarta.el/jakarta.el-api/5.0.1\nhttps://mvnrepository.com/artifact/org.glassfish.expressly/expressly/5.0.0","body":"This is a guess, but try using the jakarta EL API instead of the javax. (jakarta.el-api and expressly) <a href=\"https://mvnrepository.com/artifact/jakarta.el/jakarta.el-api/5.0.1\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/jakarta.el/jakarta.el-api/5.0.1</a> <a href=\"https://mvnrepository.com/artifact/org.glassfish.expressly/expressly/5.0.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.glassfish.expressly/expressly&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1973116,"reputation":9881,"user_id":1771556,"display_name":"Vadim Ashikhman"},"score":0,"creation_date":1696953381,"post_id":75742544,"comment_id":136217174,"body_markdown":"@ThiagoHenriqueHupner Thanks, adding Expressly instead of `org.glassfish:javax.el` helped me to resolve the issue. It might be worth adding this as an answer to the question.","body":"@ThiagoHenriqueHupner Thanks, adding Expressly instead of <code>org.glassfish:javax.el</code> helped me to resolve the issue. It might be worth adding this as an answer to the question."}],"owner":{"account_id":2808554,"reputation":53,"user_id":2415278,"display_name":"siva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678871241,"creation_date":1678871241,"question_id":75742544,"body_markdown":"I am currently upgrading my project from Java 8 to Java 18, along with upgraded bunch of libraries like Apache Spark, Dropwizard, Hibernate, Swagger etc. Right now, my application is coming up in my local however when I try to deploy to servers, service is not coming up and throwing `javax.validation.ValidationException`. \r\n\r\nHere is the full stacktrace:\r\n\r\n```\r\njavax.validation.ValidationException: HV000183: Unable to initialize &#39;javax.el.ExpressionFactory&#39;. Check that you have the EL dependencies on the classpath, or use ParameterMessageInterpolator instead\r\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.buildExpressionFactory(ResourceBundleMessageInterpolator.java:206)\r\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:94)\r\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getDefaultMessageInterpolator(AbstractConfigurationImpl.java:573)\r\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getDefaultMessageInterpolatorConfiguredWithClassLoader(AbstractConfigurationImpl.java:822)\r\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getMessageInterpolator(AbstractConfigurationImpl.java:483)\r\n    at org.hibernate.validator.internal.engine.ValidatorFactoryImpl.&lt;init&gt;(ValidatorFactoryImpl.java:154)\r\n    at org.hibernate.validator.HibernateValidator.buildValidatorFactory(HibernateValidator.java:38)\r\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.buildValidatorFactory(AbstractConfigurationImpl.java:433)\r\n    at io.dropwizard.jersey.validation.Validators.newValidatorFactory(Validators.java:26)\r\n    at io.dropwizard.setup.Bootstrap.&lt;init&gt;(Bootstrap.java:67)\r\n    at io.dropwizard.Application.run(Application.java:86)\r\n    at com.company.Service.main(Service.java:554)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    at javassist.Loader.run(Loader.java:328)\r\n    at com.company.custom.metadata.ServiceRun.run(AServiceRun.java:148)\r\n    at com.company.api.PartnerServiceRun.main(PartnerServiceRun.java:10)\r\n```\r\n\r\nI checked about this on Stackoverflow and some users suggested trying new versions of `Javax.el` libraries but I am still having issue with `3.0.0` and `3.0.1-b08` . Any suggestions or pointers are appreciated. Thanks\r\n\r\n**Trail 1**: Didn&#39;t work\r\n\r\n```\r\n&#39;javax.el:javax.el-api:3.0.0&#39;,\r\n&#39;org.glassfish:javax.el:3.0.0&#39;,\r\n```\r\n\r\n**Trail 2**: Didn&#39;t work\r\n\r\n```\r\n&#39;javax.el:javax.el-api:3.0.1-b06&#39;,\r\n&#39;org.glassfish:javax.el:3.0.1-b08&#39;,\r\n```","title":"Unable to initialize &#39;javax.el.ExpressionFactory&#39;. Check that you have the EL dependencies on the classpath","body":"<p>I am currently upgrading my project from Java 8 to Java 18, along with upgraded bunch of libraries like Apache Spark, Dropwizard, Hibernate, Swagger etc. Right now, my application is coming up in my local however when I try to deploy to servers, service is not coming up and throwing <code>javax.validation.ValidationException</code>.</p>\n<p>Here is the full stacktrace:</p>\n<pre><code>javax.validation.ValidationException: HV000183: Unable to initialize 'javax.el.ExpressionFactory'. Check that you have the EL dependencies on the classpath, or use ParameterMessageInterpolator instead\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.buildExpressionFactory(ResourceBundleMessageInterpolator.java:206)\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:94)\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getDefaultMessageInterpolator(AbstractConfigurationImpl.java:573)\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getDefaultMessageInterpolatorConfiguredWithClassLoader(AbstractConfigurationImpl.java:822)\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getMessageInterpolator(AbstractConfigurationImpl.java:483)\n    at org.hibernate.validator.internal.engine.ValidatorFactoryImpl.&lt;init&gt;(ValidatorFactoryImpl.java:154)\n    at org.hibernate.validator.HibernateValidator.buildValidatorFactory(HibernateValidator.java:38)\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.buildValidatorFactory(AbstractConfigurationImpl.java:433)\n    at io.dropwizard.jersey.validation.Validators.newValidatorFactory(Validators.java:26)\n    at io.dropwizard.setup.Bootstrap.&lt;init&gt;(Bootstrap.java:67)\n    at io.dropwizard.Application.run(Application.java:86)\n    at com.company.Service.main(Service.java:554)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javassist.Loader.run(Loader.java:328)\n    at com.company.custom.metadata.ServiceRun.run(AServiceRun.java:148)\n    at com.company.api.PartnerServiceRun.main(PartnerServiceRun.java:10)\n</code></pre>\n<p>I checked about this on Stackoverflow and some users suggested trying new versions of <code>Javax.el</code> libraries but I am still having issue with <code>3.0.0</code> and <code>3.0.1-b08</code> . Any suggestions or pointers are appreciated. Thanks</p>\n<p><strong>Trail 1</strong>: Didn't work</p>\n<pre><code>'javax.el:javax.el-api:3.0.0',\n'org.glassfish:javax.el:3.0.0',\n</code></pre>\n<p><strong>Trail 2</strong>: Didn't work</p>\n<pre><code>'javax.el:javax.el-api:3.0.1-b06',\n'org.glassfish:javax.el:3.0.1-b08',\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":14077727,"reputation":2867,"user_id":10169530,"display_name":"Fabio Manzano"},"score":1,"creation_date":1535570268,"post_id":52084336,"comment_id":91119571,"body_markdown":"I&#39;ve googled a few cases in which people use OpenJDK with no problems: https://www.tutorialkart.com/apache-kafka/install-apache-kafka-on-ubuntu/ https://linuxhint.com/install-apache-kafka-ubuntu/","body":"I&#39;ve googled a few cases in which people use OpenJDK with no problems: <a href=\"https://www.tutorialkart.com/apache-kafka/install-apache-kafka-on-ubuntu/\" rel=\"nofollow noreferrer\">tutorialkart.com/apache-kafka/install-apache-kafka-on-ubuntu</a> <a href=\"https://linuxhint.com/install-apache-kafka-ubuntu/\" rel=\"nofollow noreferrer\">linuxhint.com/install-apache-kafka-ubuntu</a>"},{"owner":{"account_id":9235424,"reputation":63,"user_id":6860219,"display_name":"Dario R"},"score":0,"creation_date":1535571450,"post_id":52084336,"comment_id":91120068,"body_markdown":"Thanks a lot Fabio. Perhaps is there something on RHEL ?","body":"Thanks a lot Fabio. Perhaps is there something on RHEL ?"},{"owner":{"account_id":14077727,"reputation":2867,"user_id":10169530,"display_name":"Fabio Manzano"},"score":0,"creation_date":1535572581,"post_id":52084336,"comment_id":91120577,"body_markdown":"CentOS seems to work as well: https://www.vultr.com/docs/how-to-install-apache-kafka-on-centos-7","body":"CentOS seems to work as well: <a href=\"https://www.vultr.com/docs/how-to-install-apache-kafka-on-centos-7\" rel=\"nofollow noreferrer\">vultr.com/docs/how-to-install-apache-kafka-on-centos-7</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542431451,"creation_date":1535636872,"answer_id":52098678,"question_id":52084336,"body_markdown":"Oracle JDK is recommended, but Zulu or OpenJDK will work fine for most purposes. OS shouldn&#39;t be a factor because Java is cross platform. \r\n\r\nIn fact, the Ansible Playbooks provided by Confluent will install OpenJDK as a prerequisite for Zookeeper and Kafka. \r\n\r\nYou might even be able to use Java 9 or 10 with the latest release 2.0 of Kafka, though I&#39;m not sure if the same can be said for Zookeeper ","title":"Kafka and OpenJDK","body":"<p>Oracle JDK is recommended, but Zulu or OpenJDK will work fine for most purposes. OS shouldn't be a factor because Java is cross platform. </p>\n\n<p>In fact, the Ansible Playbooks provided by Confluent will install OpenJDK as a prerequisite for Zookeeper and Kafka. </p>\n\n<p>You might even be able to use Java 9 or 10 with the latest release 2.0 of Kafka, though I'm not sure if the same can be said for Zookeeper </p>\n"},{"tags":[],"owner":{"account_id":4045612,"reputation":158,"user_id":3326939,"display_name":"jholusa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678871112,"creation_date":1678871112,"answer_id":75742529,"question_id":52084336,"body_markdown":"As a datapoint, Confluent&#39;s (the biggest company behind Kafka) Docker images use Azul Zulu themselves ([source][1]). \r\n\r\n&gt; The Confluent Docker images are tested and shipped with Azul Zulu OpenJDK. \r\n\r\nSo I would take it as a strong proof that everything works fine. Not to mention that we test it extensively internally.\r\n\r\nJust for you to know, you can also consider trying out [Azul Platform Prime][2], which OpenJDK-based optimized JVM which can give you quite an improvement of Kafka&#39;s performance in terms of throughput and latency. Details can be found [here][3].\r\n\r\n*Disclaimer: I work for Azul, so I&#39;m obviously biased.*\r\n\r\n\r\n  [1]: https://docs.confluent.io/platform/7.3/installation/docker/installation.html#supported-platforms\r\n  [2]: https://docs.azul.com/prime/prime-quick-start-tar\r\n  [3]: https://www.azul.com/blog/kafka-throughput-on-azul-platform-prime-vs-openjdk/","title":"Kafka and OpenJDK","body":"<p>As a datapoint, Confluent's (the biggest company behind Kafka) Docker images use Azul Zulu themselves (<a href=\"https://docs.confluent.io/platform/7.3/installation/docker/installation.html#supported-platforms\" rel=\"nofollow noreferrer\">source</a>).</p>\n<blockquote>\n<p>The Confluent Docker images are tested and shipped with Azul Zulu OpenJDK.</p>\n</blockquote>\n<p>So I would take it as a strong proof that everything works fine. Not to mention that we test it extensively internally.</p>\n<p>Just for you to know, you can also consider trying out <a href=\"https://docs.azul.com/prime/prime-quick-start-tar\" rel=\"nofollow noreferrer\">Azul Platform Prime</a>, which OpenJDK-based optimized JVM which can give you quite an improvement of Kafka's performance in terms of throughput and latency. Details can be found <a href=\"https://www.azul.com/blog/kafka-throughput-on-azul-platform-prime-vs-openjdk/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><em>Disclaimer: I work for Azul, so I'm obviously biased.</em></p>\n"}],"owner":{"account_id":9235424,"reputation":63,"user_id":6860219,"display_name":"Dario R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2997,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678871112,"creation_date":1535568839,"question_id":52084336,"body_markdown":"I have installed Apache Kafka with Java 8 and Oracle JDK. However my company is thinking to move to OpenJDK\r\n\r\nIs there any issues or considerations to implement and use Kafka with OpenJDK?\r\n\r\nIs there some documentation about this relationship (apache kafka&lt;-&gt;OpenJDK).","title":"Kafka and OpenJDK","body":"<p>I have installed Apache Kafka with Java 8 and Oracle JDK. However my company is thinking to move to OpenJDK</p>\n\n<p>Is there any issues or considerations to implement and use Kafka with OpenJDK?</p>\n\n<p>Is there some documentation about this relationship (apache kafka&lt;->OpenJDK).</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":106364,"reputation":159996,"user_id":283366,"accept_rate":100,"display_name":"Phil"},"score":0,"creation_date":1533618802,"post_id":51719183,"comment_id":90399248,"body_markdown":"Code as text, not images please","body":"Code as text, not images please"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1533619087,"post_id":51719183,"comment_id":90399350,"body_markdown":"Those represent different days ... &quot;_2018-08-02T00:00:00+05:30_ &lt;&gt; _2018-18-02_ so even if you go crazy and just substring the first 10 character, it won&#39;t be the same date. But FYI : **S** is for millisecond. You want **X** for timezone ! Like `yyyy-MM-dd&#39;T&#39;HH:mm:ssX`","body":"Those represent different days ... &quot;<i>2018-08-02T00:00:00+05:30</i> &lt;&gt; <i>2018-18-02</i> so even if you go crazy and just substring the first 10 character, it won&#39;t be the same date. But FYI : <b>S</b> is for millisecond. You want <b>X</b> for timezone ! Like <code>yyyy-MM-dd&#39;T&#39;HH:mm:ssX</code>"},{"owner":{"account_id":2764833,"reputation":232392,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1533619322,"post_id":51719183,"comment_id":90399424,"body_markdown":"What is the transformation rule? Subtract 5 1/2 hours and add 10 days?","body":"What is the transformation rule? Subtract 5 1/2 hours and add 10 days?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1533620070,"post_id":51719183,"comment_id":90399649,"body_markdown":"I recommend you avoid the `SimpleDateFormat` class. It is not only long outdated, it is also notoriously troublesome. Today we have so much better in [`java.time`, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you avoid the <code>SimpleDateFormat</code> class. It is not only long outdated, it is also notoriously troublesome. Today we have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API</a>."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1533658529,"post_id":51719270,"comment_id":90423276,"body_markdown":"First half of this Answer is correct. But the suggestion to use the terrible `SimpleDateFormat` &amp; `Date` classes is ill-advised. Instead, use the *ThreeTen-Backport* library that brings most of the *java.time* functionality to Java 6 &amp; Java 7. Further adapted to earlier Android in the *ThreeTenABP* project.","body":"First half of this Answer is correct. But the suggestion to use the terrible <code>SimpleDateFormat</code> &amp; <code>Date</code> classes is ill-advised. Instead, use the <i>ThreeTen-Backport</i> library that brings most of the <i>java.time</i> functionality to Java 6 &amp; Java 7. Further adapted to earlier Android in the <i>ThreeTenABP</i> project."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1533714221,"post_id":51719270,"comment_id":90442315,"body_markdown":"`OffsetDateTime` would be a still better and more precise choice than `ZonedDateTime` since the string has an offset in it and no time zone. The rest of the code could be the same.","body":"<code>OffsetDateTime</code> would be a still better and more precise choice than <code>ZonedDateTime</code> since the string has an offset in it and no time zone. The rest of the code could be the same."}],"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533618999,"creation_date":1533618999,"answer_id":51719270,"question_id":51719183,"body_markdown":"You can use `DateTimeFormatter`:\r\n\r\n    DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\r\n       .format(ZonedDateTime.parse(&quot;2018-08-02T00:00:00+05:30&quot;))\r\n\r\nThat returns `&quot;2018-08-02&quot;`. The `parse` call above understands the ISO format of your input.\r\n\r\nThat&#39;s newer and recommended API. If you&#39;re using Java older than 8, you should use:\r\n\r\n    Date input = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)\r\n                     .parse(&quot;2018-08-02T00:00:00+05:30&quot;);\r\n    String output = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;)\r\n                     .format(input);\r\n\r\nAnd this returns the same string.","title":"How to Format this Date &quot;2018-08-02T00:00:00+05:30&quot; String to this &quot;2018-18-02&quot;","body":"<p>You can use <code>DateTimeFormatter</code>:</p>\n\n<pre><code>DateTimeFormatter.ofPattern(\"yyyy-MM-dd\")\n   .format(ZonedDateTime.parse(\"2018-08-02T00:00:00+05:30\"))\n</code></pre>\n\n<p>That returns <code>\"2018-08-02\"</code>. The <code>parse</code> call above understands the ISO format of your input.</p>\n\n<p>That's newer and recommended API. If you're using Java older than 8, you should use:</p>\n\n<pre><code>Date input = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssXXX\")\n                 .parse(\"2018-08-02T00:00:00+05:30\");\nString output = new SimpleDateFormat(\"yyyy-MM-dd\")\n                 .format(input);\n</code></pre>\n\n<p>And this returns the same string.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533619966,"creation_date":1533619557,"answer_id":51719372,"question_id":51719183,"body_markdown":"You have correct code except this line. Use **XXX** instead of **.S** in the input pattern:\r\n\r\n    DateFormat inputFormat = new SimpleDateFormat(&quot;yyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n\r\nAccording to [Class SimpleDateFormat][1]:\r\n\r\n - **X** - Time zone,  ISO 8601 time zone *(-08; -0080; -08:-00)*\r\n - **S** - Millisecond, Number *(978)*\r\n\r\n**Hint:**\r\n\r\nIn case you have problem with parse date string and do not know what is wrong in your patter, then just print current date and compare it with your input string. Then you can see the difference and fix the pattern:\r\n\r\n    DateFormat inputFormat = new SimpleDateFormat(&quot;yyy-MM-dd&#39;T&#39;HH:mm:ss.S&quot;);\r\n    System.out.println(inputFormat.format(new Date())); // 2018-08-07T08:28:33.800\r\n    \r\n    inputFormat = new SimpleDateFormat(&quot;yyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n    System.out.println(inputFormat.format(new Date())); // 2018-08-07T08:28:33+03:00\r\n\r\n \r\n  [1]: https://docs.oracle.com/javase/8/docs/api/","title":"How to Format this Date &quot;2018-08-02T00:00:00+05:30&quot; String to this &quot;2018-18-02&quot;","body":"<p>You have correct code except this line. Use <strong>XXX</strong> instead of <strong>.S</strong> in the input pattern:</p>\n\n<pre><code>DateFormat inputFormat = new SimpleDateFormat(\"yyy-MM-dd'T'HH:mm:ssXXX\");\n</code></pre>\n\n<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/\" rel=\"nofollow noreferrer\">Class SimpleDateFormat</a>:</p>\n\n<ul>\n<li><strong>X</strong> - Time zone,  ISO 8601 time zone <em>(-08; -0080; -08:-00)</em></li>\n<li><strong>S</strong> - Millisecond, Number <em>(978)</em></li>\n</ul>\n\n<p><strong>Hint:</strong></p>\n\n<p>In case you have problem with parse date string and do not know what is wrong in your patter, then just print current date and compare it with your input string. Then you can see the difference and fix the pattern:</p>\n\n<pre><code>DateFormat inputFormat = new SimpleDateFormat(\"yyy-MM-dd'T'HH:mm:ss.S\");\nSystem.out.println(inputFormat.format(new Date())); // 2018-08-07T08:28:33.800\n\ninputFormat = new SimpleDateFormat(\"yyy-MM-dd'T'HH:mm:ssXXX\");\nSystem.out.println(inputFormat.format(new Date())); // 2018-08-07T08:28:33+03:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1260595,"reputation":7659,"user_id":1218985,"display_name":"1218985"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533619930,"creation_date":1533619930,"answer_id":51719435,"question_id":51719183,"body_markdown":"You can use the ISO pattern like this:\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class DateTimeUtils {\r\n    \r\n    \tpublic static String format(String inputDate, String inputFormat, String outputFormat) throws ParseException {\r\n    \t\tDateFormat fromFormat = new SimpleDateFormat(inputFormat);\r\n    \t\tfromFormat.setLenient(false);\r\n    \t\tDateFormat toFormat = new SimpleDateFormat(outputFormat);\r\n    \t\ttoFormat.setLenient(false);\r\n    \t\tDate date = fromFormat.parse(inputDate);\r\n    \t\treturn toFormat.format(date);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\tSystem.out.println(DateTimeUtils.format(&quot;2018-08-02T00:00:00+05:30&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;, &quot;yyyy-MM-dd&quot;));\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to Format this Date &quot;2018-08-02T00:00:00+05:30&quot; String to this &quot;2018-18-02&quot;","body":"<p>You can use the ISO pattern like this:</p>\n\n<pre><code>import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DateTimeUtils {\n\n    public static String format(String inputDate, String inputFormat, String outputFormat) throws ParseException {\n        DateFormat fromFormat = new SimpleDateFormat(inputFormat);\n        fromFormat.setLenient(false);\n        DateFormat toFormat = new SimpleDateFormat(outputFormat);\n        toFormat.setLenient(false);\n        Date date = fromFormat.parse(inputDate);\n        return toFormat.format(date);\n    }\n\n    public static void main(String[] args) throws ParseException {\n        System.out.println(DateTimeUtils.format(\"2018-08-02T00:00:00+05:30\", \"yyyy-MM-dd'T'HH:mm:ssXXX\", \"yyyy-MM-dd\"));\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1533741250,"post_id":51741129,"comment_id":90460062,"body_markdown":"This is the best Answer. (A) It avoids using the troublesome old date-time classes that are now legacy, supplanted by the *java.time* classes, and (B) it uses `OffsetDateTime` class which is more appropriate than the `ZonedDateTime` class seen in another Answer. An offset-from-UTC is merely a number of hours, minutes, and seconds. We see this in the input used in Question, `+05:30`. A time zone is much more, a history of the past, present, and future changes to the offset used by the people of a particular region. Zones have `Continent/Region` names such as `Asia/Kolkata` or `Europe/Paris`.","body":"This is the best Answer. (A) It avoids using the troublesome old date-time classes that are now legacy, supplanted by the <i>java.time</i> classes, and (B) it uses <code>OffsetDateTime</code> class which is more appropriate than the <code>ZonedDateTime</code> class seen in another Answer. An offset-from-UTC is merely a number of hours, minutes, and seconds. We see this in the input used in Question, <code>+05:30</code>. A time zone is much more, a history of the past, present, and future changes to the offset used by the people of a particular region. Zones have <code>Continent&#47;Region</code> names such as <code>Asia&#47;Kolkata</code> or <code>Europe&#47;Paris</code>."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533714107,"creation_date":1533714107,"answer_id":51741129,"question_id":51719183,"body_markdown":"## java.time\r\n\r\n    public static String getDateUsingOracleFormat(String date) {\r\n    \tOffsetDateTime dateTime = OffsetDateTime.parse(date);\r\n    \tString outputText = dateTime.format(DateTimeFormatter.ISO_LOCAL_DATE);\r\n    \treturn outputText;\r\n    }\r\n\r\nWith this method declaration your `main` prints:\r\n\r\n&gt; 2018-08-02\r\n\r\nBoth your formats (the one you are parsing and the one you are producing) conform with ISO 8601 (link at the bottom). The classes of java.time, the modern Java date and time API, parse and print this format as their default, that is, with out any explicit formatter. Also the formatters are built in, so I am using one for specifying that we want the date formatted without the time of day and the offset from UTC. No need for the error-prone task of writing your own formatters.\r\n\r\n## What went wrong in your code?\r\n\r\nAs others have said, your format pattern string does not match the date-time string you are trying to parse 100 %. The format requires that after that seconds there should be a dot and some milliseconds. Instead you string has an offset, `+05:30`. This causes the exception. By contrast the one-arg `OffsetDateTime.parse` accepts strings with and without milliseconds (since they are optional in ISO 8601) (but does require the offset).\r\n\r\nTheres one more bug in your code: the use of uppercase `YYY` in the format pattern you are formatting to. This will occasionally give you the wrong year. Lowercase `y` is for year of era. Uppercase `Y` is for week year and only useful with a week number.\r\n\r\nAs an aside, since your method is static, you dont need to create an instance to call it. Just do:\r\n\r\n        System.out.println(Kf_Date.getDateUsingOracleFormat(&quot;2018-08-02T00:00:00+05:30&quot;));\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use `java.time`.\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\r\n","title":"How to Format this Date &quot;2018-08-02T00:00:00+05:30&quot; String to this &quot;2018-18-02&quot;","body":"<h2>java.time</h2>\n\n<pre><code>public static String getDateUsingOracleFormat(String date) {\n    OffsetDateTime dateTime = OffsetDateTime.parse(date);\n    String outputText = dateTime.format(DateTimeFormatter.ISO_LOCAL_DATE);\n    return outputText;\n}\n</code></pre>\n\n<p>With this method declaration your <code>main</code> prints:</p>\n\n<blockquote>\n  <p>2018-08-02</p>\n</blockquote>\n\n<p>Both your formats (the one you are parsing and the one you are producing) conform with ISO 8601 (link at the bottom). The classes of java.time, the modern Java date and time API, parse and print this format as their default, that is, with out any explicit formatter. Also the formatters are built in, so I am using one for specifying that we want the date formatted without the time of day and the offset from UTC. No need for the error-prone task of writing your own formatters.</p>\n\n<h2>What went wrong in your code?</h2>\n\n<p>As others have said, your format pattern string does not match the date-time string you are trying to parse 100 %. The format requires that after that seconds there should be a dot and some milliseconds. Instead you string has an offset, <code>+05:30</code>. This causes the exception. By contrast the one-arg <code>OffsetDateTime.parse</code> accepts strings with and without milliseconds (since they are optional in ISO 8601) (but does require the offset).</p>\n\n<p>Theres one more bug in your code: the use of uppercase <code>YYY</code> in the format pattern you are formatting to. This will occasionally give you the wrong year. Lowercase <code>y</code> is for year of era. Uppercase <code>Y</code> is for week year and only useful with a week number.</p>\n\n<p>As an aside, since your method is static, you dont need to create an instance to call it. Just do:</p>\n\n<pre><code>    System.out.println(Kf_Date.getDateUsingOracleFormat(\"2018-08-02T00:00:00+05:30\"));\n</code></pre>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use <code>java.time</code>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1678869091,"post_id":75740244,"comment_id":133614790,"body_markdown":"Please do not confirm to the young ones that we may use the notoriously troublesome and long outdated `DateFormat` and `SimpleDateFormat` classes. We have so much better in [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). Which issue were you having with [my answer](https://stackoverflow.com/a/51741129/5772882)? I tried it myself and it worked for me.","body":"Please do not confirm to the young ones that we may use the notoriously troublesome and long outdated <code>DateFormat</code> and <code>SimpleDateFormat</code> classes. We have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Which issue were you having with <a href=\"https://stackoverflow.com/a/51741129/5772882\">my answer</a>? I tried it myself and it worked for me."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678869315,"post_id":75740244,"comment_id":133614842,"body_markdown":"It seems you are solving a different problem from the one asked about. I think you want `ZonedDateTime.now(ZoneId.of(&quot;America/Argentina/San_Luis&quot;)).truncatedTo(ChronoUnit.SECONDS).format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)`. It just gave `2023-03-15T05:33:51-03:00`, which is the same output I get from your code. Available time zone IDs come from `ZoneId.getAvailableZoneIds()`.","body":"It seems you are solving a different problem from the one asked about. I think you want <code>ZonedDateTime.now(ZoneId.of(&quot;America&#47;Argentina&#47;San_Luis&quot;)).t&zwnj;&#8203;runcatedTo(ChronoUni&zwnj;&#8203;t.SECONDS).format(Da&zwnj;&#8203;teTimeFormatter.ISO_&zwnj;&#8203;OFFSET_DATE_TIME)</code>. It just gave <code>2023-03-15T05:33:51-03:00</code>, which is the same output I get from your code. Available time zone IDs come from <code>ZoneId.getAvailableZoneIds()</code>."}],"tags":[],"owner":{"account_id":10518256,"reputation":33,"user_id":7751671,"display_name":"Tharindu Rukshan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678869566,"creation_date":1678850433,"answer_id":75740244,"question_id":51719183,"body_markdown":"You can find available timeZone using this method\r\n\r\n    System.out.println(TimeZone.getAvailableIDs());\r\n\r\nafter finding you want timeZone use the below code\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n    dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;America/Argentina/San_Luis&quot;));\r\n    System.out.println(dateFormat.format(new Date()));","title":"How to Format this Date &quot;2018-08-02T00:00:00+05:30&quot; String to this &quot;2018-18-02&quot;","body":"<p>You can find available timeZone using this method</p>\n<pre><code>System.out.println(TimeZone.getAvailableIDs());\n</code></pre>\n<p>after finding you want timeZone use the below code</p>\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(&quot;yyy-MM-dd'T'HH:mm:ssXXX&quot;);\ndateFormat.setTimeZone(TimeZone.getTimeZone(&quot;America/Argentina/San_Luis&quot;));\nSystem.out.println(dateFormat.format(new Date()));\n</code></pre>\n"}],"owner":{"account_id":3273743,"reputation":192,"user_id":2756408,"display_name":"Buddhika Lakshan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6009,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1678869566,"creation_date":1533618483,"question_id":51719183,"body_markdown":"    public class Kf_Date {\r\n    \r\n        public static String getDateUsingOracleFormat(String date) {\r\n            try {\r\n                DateFormat inputFormat = new SimpleDateFormat(&quot;yyy-MM-dd&#39;T&#39;HH:mm:ss.S&quot;);\r\n                Date date2 = inputFormat.parse(date);\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;YYY-MM-dd&quot;);\r\n                String outputText = sdf.format(date2);\r\n                return outputText;\r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n                return e.toString();\r\n            }\r\n        }\r\n    \r\n        public static void main(String... args) {\r\n            System.out.println(new Kf_Date().getDateUsingOracleFormat(&quot;2018-08-02T00:00:00+05:30&quot;));\r\n        }\r\n    \r\n    }","title":"How to Format this Date &quot;2018-08-02T00:00:00+05:30&quot; String to this &quot;2018-18-02&quot;","body":"<pre><code>public class Kf_Date {\n\n    public static String getDateUsingOracleFormat(String date) {\n        try {\n            DateFormat inputFormat = new SimpleDateFormat(\"yyy-MM-dd'T'HH:mm:ss.S\");\n            Date date2 = inputFormat.parse(date);\n            SimpleDateFormat sdf = new SimpleDateFormat(\"YYY-MM-dd\");\n            String outputText = sdf.format(date2);\n            return outputText;\n        } catch(Exception e) {\n            e.printStackTrace();\n            return e.toString();\n        }\n    }\n\n    public static void main(String... args) {\n        System.out.println(new Kf_Date().getDateUsingOracleFormat(\"2018-08-02T00:00:00+05:30\"));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","redis","jackson","spring-data-redis","fasterxml"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678886297,"post_id":75742261,"comment_id":133619551,"body_markdown":"i see you have `@JsonInclude(JsonInclude.Include.NON_EMPTY)`, can you try configuring the jackson mapper like this: `mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n`","body":"i see you have <code>@JsonInclude(JsonInclude.Include.NON_EMPTY)</code>, can you try configuring the jackson mapper like this: <code>mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_&zwnj;&#8203;NULL_OBJECT); </code>"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678869467,"creation_date":1678869467,"question_id":75742261,"body_markdown":"I have the below `Sinister` entity\r\n\r\n    @Document\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    public class Sinister {\r\n        ....\r\n    }\r\n\r\n    public String on(FindSinister query) {\r\n        final Map&lt;Object, Object&gt; hashEntries = redisTemplate.opsForHash().entries(Sinister.class.getSimpleName());\r\n        final List&lt;Object&gt; allValuesFromHash = new ArrayList&lt;&gt;(hashEntries.values());\r\n        if (CollectionUtils.isNotEmpty(allValuesFromHash)) {\r\n            final JavaType targetType = objectMapper.getTypeFactory().constructCollectionType(List.class, Sinister.class);\r\n            final List&lt;Sinister&gt; sinisters = objectMapper.readValue(objectMapper.writeValueAsString(allValuesFromHash), targetType);\r\n        }\r\n        ....\r\n    }\r\n\r\nI have the above method when i get the list of entities from redis, the fuction `entries` return a `Map&lt;Object, Object&gt;`, when i tried to convert it to List of Sinister i have the below error:\r\n\r\n    \tcom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `Sinister` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;Sinister&#39;)\r\n     at [Source: (StringReader); line: 1, column: 56495] (through reference chain: java.util.ArrayList[85])&#39; and exception = &#39;null&#39;\r\n    java.lang.reflect.UndeclaredThrowableException","title":"jackson convert a map to list of object","body":"<p>I have the below <code>Sinister</code> entity</p>\n<pre><code>@Document\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder(toBuilder = true)\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\npublic class Sinister {\n    ....\n}\n\npublic String on(FindSinister query) {\n    final Map&lt;Object, Object&gt; hashEntries = redisTemplate.opsForHash().entries(Sinister.class.getSimpleName());\n    final List&lt;Object&gt; allValuesFromHash = new ArrayList&lt;&gt;(hashEntries.values());\n    if (CollectionUtils.isNotEmpty(allValuesFromHash)) {\n        final JavaType targetType = objectMapper.getTypeFactory().constructCollectionType(List.class, Sinister.class);\n        final List&lt;Sinister&gt; sinisters = objectMapper.readValue(objectMapper.writeValueAsString(allValuesFromHash), targetType);\n    }\n    ....\n}\n</code></pre>\n<p>I have the above method when i get the list of entities from redis, the fuction <code>entries</code> return a <code>Map&lt;Object, Object&gt;</code>, when i tried to convert it to List of Sinister i have the below error:</p>\n<pre><code>    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `Sinister` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('Sinister')\n at [Source: (StringReader); line: 1, column: 56495] (through reference chain: java.util.ArrayList[85])' and exception = 'null'\njava.lang.reflect.UndeclaredThrowableException\n</code></pre>\n"},{"tags":["java","multidimensional-array","stack"],"comments":[{"owner":{"account_id":335214,"reputation":5037,"user_id":662177,"display_name":"Fareesh Vijayarangam"},"score":0,"creation_date":1300647992,"post_id":5370658,"comment_id":6069807,"body_markdown":"I&#39;m unable to see how the array you&#39;ve shown is 4x4.","body":"I&#39;m unable to see how the array you&#39;ve shown is 4x4."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1300649378,"post_id":5370658,"comment_id":6069990,"body_markdown":"@Recursor &quot;I really just have no idea where to begin.&quot;  Begin here http://home.earthlink.net/~patricia_shanahan/beginner.html","body":"@Recursor &quot;I really just have no idea where to begin.&quot;  Begin here <a href=\"http://home.earthlink.net/~patricia_shanahan/beginner.html\" rel=\"nofollow noreferrer\">home.earthlink.net/~patricia_shanahan/beginner.html</a>"},{"owner":{"account_id":728132,"reputation":31,"user_id":668475,"display_name":"Recursor"},"score":0,"creation_date":1300650268,"post_id":5370658,"comment_id":6070124,"body_markdown":"Sorry, I must have messed up the formatting. - updated.","body":"Sorry, I must have messed up the formatting. - updated."},{"owner":{"account_id":728132,"reputation":31,"user_id":668475,"display_name":"Recursor"},"score":0,"creation_date":1300650552,"post_id":5370658,"comment_id":6070163,"body_markdown":"@Andrew Thompson I may have overstated that I have no idea.  I know how to solve the problem, in that I did it recursively, I just do not know how using a stack would help.  I realize that it will require going through and using each item as the starting point, then finding the largest subsequence of each starting point.  I am really just unsure of how I would use a stack to do this...","body":"@Andrew Thompson I may have overstated that I have no idea.  I know how to solve the problem, in that I did it recursively, I just do not know how using a stack would help.  I realize that it will require going through and using each item as the starting point, then finding the largest subsequence of each starting point.  I am really just unsure of how I would use a stack to do this..."},{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":0,"creation_date":1300650801,"post_id":5370658,"comment_id":6070201,"body_markdown":"`I have implemented the solution using a recursive algorithm (#1)` - can you show this code?","body":"<code>I have implemented the solution using a recursive algorithm (#1)</code> - can you show this code?"},{"owner":{"account_id":335214,"reputation":5037,"user_id":662177,"display_name":"Fareesh Vijayarangam"},"score":0,"creation_date":1300650906,"post_id":5370658,"comment_id":6070214,"body_markdown":"Set `max` to 0. For each element in the array `x`, push `x` onto the stack, then compare with its neighbours. Of all the neighbours `&gt;x` that aren&#39;t on the stack, find the least, and repeat until there are no neighbours `&gt;x` that are not on the stack. Check the length of the stack and compare against `max`. If `length &gt; max` then `max=length`. Does that help?","body":"Set <code>max</code> to 0. For each element in the array <code>x</code>, push <code>x</code> onto the stack, then compare with its neighbours. Of all the neighbours <code>&gt;x</code> that aren&#39;t on the stack, find the least, and repeat until there are no neighbours <code>&gt;x</code> that are not on the stack. Check the length of the stack and compare against <code>max</code>. If <code>length &gt; max</code> then <code>max=length</code>. Does that help?"},{"owner":{"account_id":728132,"reputation":31,"user_id":668475,"display_name":"Recursor"},"score":0,"creation_date":1300651530,"post_id":5370658,"comment_id":6070329,"body_markdown":"@Fareesh are you sure that the lowest neighbor (that is greater than x) is always going to be included in the subsequence?","body":"@Fareesh are you sure that the lowest neighbor (that is greater than x) is always going to be included in the subsequence?"},{"owner":{"account_id":335214,"reputation":5037,"user_id":662177,"display_name":"Fareesh Vijayarangam"},"score":0,"creation_date":1300652332,"post_id":5370658,"comment_id":6070467,"body_markdown":"Guess not. Would probably have to try multiple combinations. My approach seems a little too brute force-ish in that case.","body":"Guess not. Would probably have to try multiple combinations. My approach seems a little too brute force-ish in that case."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"score":0,"creation_date":1300662608,"post_id":5370658,"comment_id":6071940,"body_markdown":"You should specify the rules more clearly - you can go from each number to all numbers whose x- and y-coordinates differ mostly by one?","body":"You should specify the rules more clearly - you can go from each number to all numbers whose x- and y-coordinates differ mostly by one?"},{"owner":{"account_id":59991,"reputation":2241,"user_id":179341,"accept_rate":83,"display_name":"Dave O."},"score":0,"creation_date":1300667506,"post_id":5370658,"comment_id":6072627,"body_markdown":"Sort the array =&gt; sequence length = n*n???","body":"Sort the array =&gt; sequence length = n*n???"},{"owner":{"account_id":728132,"reputation":31,"user_id":668475,"display_name":"Recursor"},"score":0,"creation_date":1300669545,"post_id":5370658,"comment_id":6072878,"body_markdown":"@paulo ebermann Thanks for editing the post, I don&#39;t know how to do that html stuff...","body":"@paulo ebermann Thanks for editing the post, I don&#39;t know how to do that html stuff..."}],"answers":[{"comments":[{"owner":{"account_id":728132,"reputation":31,"user_id":668475,"display_name":"Recursor"},"score":0,"creation_date":1300669410,"post_id":5372044,"comment_id":6072863,"body_markdown":"thanks I was thinking something to that effect (tree) but that sounds good as well.  Would you say then that the graph would be something like array[x,y] -&gt; all nodes differing by array[x+/-1],[y+/-1] which are &gt; array[x,y], etc.?  I just am not sure where my stack comes into play, when I am retrieving the result?","body":"thanks I was thinking something to that effect (tree) but that sounds good as well.  Would you say then that the graph would be something like array[x,y] -&gt; all nodes differing by array[x+/-1],[y+/-1] which are &gt; array[x,y], etc.?  I just am not sure where my stack comes into play, when I am retrieving the result?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1302405222,"post_id":5372044,"comment_id":6388715,"body_markdown":"@Recursor - treat the problem as two parts.  1) Solve the problem with a recursive algorithm.  2) Turn the recursive algorithm into an iterative algorithm, using a `Stack` to hold the state that was held in local variables / parameters in the recursive version.","body":"@Recursor - treat the problem as two parts.  1) Solve the problem with a recursive algorithm.  2) Turn the recursive algorithm into an iterative algorithm, using a <code>Stack</code> to hold the state that was held in local variables / parameters in the recursive version."}],"tags":[],"owner":{"account_id":239691,"reputation":7904,"user_id":509477,"accept_rate":83,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300660714,"creation_date":1300660714,"answer_id":5372044,"question_id":5370658,"body_markdown":"Because this is homework, here is a hint:\r\nYou can convert your array of numbers to a directed acyclic graph. (It is acyclic because there are no duplicates allowed in the sequence.) After that you can use an algorithm to solve the longest path problem, to find a simple path of maximum length in your graph.","title":"Find the longest increasing subsequence in a 2-D array","body":"<p>Because this is homework, here is a hint:\nYou can convert your array of numbers to a directed acyclic graph. (It is acyclic because there are no duplicates allowed in the sequence.) After that you can use an algorithm to solve the longest path problem, to find a simple path of maximum length in your graph.</p>\n"}],"owner":{"account_id":728132,"reputation":31,"user_id":668475,"display_name":"Recursor"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2989,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678869148,"creation_date":1300647387,"question_id":5370658,"body_markdown":"I have this problem as homework and I really just have no idea where to begin.  I have implemented the solution using a recursive algorithm (#1), but I just cannot figure out how to solve the problem using a stack... any assistance would be great.\r\n\r\nFind the longest increasing sequence of numbers in a 15 x 15 array.  For example, if the array, 4x4, contains\r\n\r\n    97  47  56  36\r\n    35  57  41  13\r\n    89  36  98  75\r\n    25  45  26  17\r\n\r\nthen the longest increasing sequence of numbers is the sequence of length eight consisting of 17, 26, 36, 41, 47, 56, 57, 97.  Note that there are no duplicates in the increasing sequence.\r\n\r\n1. Design a recursive algorithm to solve this problem and implement it in Java.\r\n\r\n2. Design a non-recursive algorithm to solve the same problem using a stack.\r\n","title":"Find the longest increasing subsequence in a 2-D array","body":"<p>I have this problem as homework and I really just have no idea where to begin.  I have implemented the solution using a recursive algorithm (#1), but I just cannot figure out how to solve the problem using a stack... any assistance would be great.</p>\n\n<p>Find the longest increasing sequence of numbers in a 15 x 15 array.  For example, if the array, 4x4, contains</p>\n\n<pre><code>97  47  56  36\n35  57  41  13\n89  36  98  75\n25  45  26  17\n</code></pre>\n\n<p>then the longest increasing sequence of numbers is the sequence of length eight consisting of 17, 26, 36, 41, 47, 56, 57, 97.  Note that there are no duplicates in the increasing sequence.</p>\n\n<ol>\n<li><p>Design a recursive algorithm to solve this problem and implement it in Java.</p></li>\n<li><p>Design a non-recursive algorithm to solve the same problem using a stack.</p></li>\n</ol>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":7,"creation_date":1289709361,"post_id":4172940,"comment_id":4511177,"body_markdown":"Honestly, people, use an IDE. Auto-complete is one of the best ways to learn the language library, and method names are usually pretty self-explanatory.","body":"Honestly, people, use an IDE. Auto-complete is one of the best ways to learn the language library, and method names are usually pretty self-explanatory."},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":1,"creation_date":1433213724,"post_id":4172940,"comment_id":49242558,"body_markdown":"@DenisTulskiy why was your comment necessary?","body":"@DenisTulskiy why was your comment necessary?"},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":1,"creation_date":1433219366,"post_id":4172940,"comment_id":49244063,"body_markdown":"@JohnnyCoder, I guess I was frustrated and it was my way of saying rtfm. I still believe it&#39;s a good advice, though :)","body":"@JohnnyCoder, I guess I was frustrated and it was my way of saying rtfm. I still believe it&#39;s a good advice, though :)"}],"answers":[{"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":17,"creation_date":1457652346,"post_id":4172964,"comment_id":59517145,"body_markdown":"This does not work with Java 8 on the Mac. The background color is the color behind the button. The button is then drawn on top of the black background and the button is gray with gray text. (you cannot read the text). In fact, it&#39;s worse... the black background isn&#39;t drawn at all unless `setOpaque(true)` is called first.","body":"This does not work with Java 8 on the Mac. The background color is the color behind the button. The button is then drawn on top of the black background and the button is gray with gray text. (you cannot read the text). In fact, it&#39;s worse... the black background isn&#39;t drawn at all unless <code>setOpaque(true)</code> is called first."},{"owner":{"account_id":4879878,"reputation":497,"user_id":3933991,"accept_rate":75,"display_name":"William"},"score":4,"creation_date":1526071951,"post_id":4172964,"comment_id":87617002,"body_markdown":"Doesn&#39;t work with Java 8. as @Jason said. The background color is the color behing the button.","body":"Doesn&#39;t work with Java 8. as @Jason said. The background color is the color behing the button."},{"owner":{"account_id":12042631,"reputation":177,"user_id":8809012,"display_name":"Homaei"},"score":3,"creation_date":1591593477,"post_id":4172964,"comment_id":110103738,"body_markdown":"Using `setBorderPainted(false)` would solve the above mentioned issue.","body":"Using <code>setBorderPainted(false)</code> would solve the above mentioned issue."}],"tags":[],"owner":{"account_id":26091,"reputation":178014,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"comment_count":3,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1422630113,"creation_date":1289658175,"answer_id":4172964,"question_id":4172940,"body_markdown":"Check out [JButton][1] documentation. Take special attention to `setBackground` and `setForeground` methods inherited from `JComponent`.\r\n\r\nSomething like:\r\n\r\n    for(int i=1;i&lt;=9;i++)\r\n    {\r\n        JButton btn = new JButton(String.valueOf(i));\r\n        btn.setBackground(Color.BLACK);\r\n        btn.setForeground(Color.GRAY);\r\n        p3.add(btn);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html\r\n","title":"How to set background color of a button in Java GUI?","body":"<p>Check out <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html\" rel=\"noreferrer\">JButton</a> documentation. Take special attention to <code>setBackground</code> and <code>setForeground</code> methods inherited from <code>JComponent</code>.</p>\n\n<p>Something like:</p>\n\n<pre><code>for(int i=1;i&lt;=9;i++)\n{\n    JButton btn = new JButton(String.valueOf(i));\n    btn.setBackground(Color.BLACK);\n    btn.setForeground(Color.GRAY);\n    p3.add(btn);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1289659154,"creation_date":1289658222,"answer_id":4172967,"question_id":4172940,"body_markdown":"    for(int i=1;i&lt;=9;i++) {\r\n        p3.add(new JButton(&quot;&quot;+i) {{\r\n            // initialize the JButton directly\r\n            setBackground(Color.BLACK);\r\n            setForeground(Color.GRAY);\r\n        }});\r\n    }","title":"How to set background color of a button in Java GUI?","body":"<pre><code>for(int i=1;i&lt;=9;i++) {\n    p3.add(new JButton(\"\"+i) {{\n        // initialize the JButton directly\n        setBackground(Color.BLACK);\n        setForeground(Color.GRAY);\n    }});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289658260,"creation_date":1289658260,"answer_id":4172971,"question_id":4172940,"body_markdown":"Use the [setBackground][1] method to set the background and [setForeground][2] to change the colour of your text. Note however, that putting grey text over a black background might make your text a bit tough to read.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/awt/Component.html#setBackground(java.awt.Color)\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/awt/Component.html#setForeground(java.awt.Color)","title":"How to set background color of a button in Java GUI?","body":"<p>Use the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/awt/Component.html#setBackground%28java.awt.Color%29\" rel=\"nofollow\">setBackground</a> method to set the background and <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/awt/Component.html#setForeground%28java.awt.Color%29\" rel=\"nofollow\">setForeground</a> to change the colour of your text. Note however, that putting grey text over a black background might make your text a bit tough to read.</p>\n"},{"tags":[],"owner":{"account_id":204082,"reputation":1214,"user_id":452080,"accept_rate":80,"display_name":"Tanner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1289666405,"creation_date":1289666405,"answer_id":4173549,"question_id":4172940,"body_markdown":"You may or may not have to use setOpaque method to ensure that the colors show up by passing true to the method.","title":"How to set background color of a button in Java GUI?","body":"<p>You may or may not have to use setOpaque method to ensure that the colors show up by passing true to the method.</p>\n"},{"tags":[],"owner":{"account_id":432917,"reputation":1316,"user_id":817961,"accept_rate":83,"display_name":"GregNash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1332443943,"creation_date":1332443943,"answer_id":9829039,"question_id":4172940,"body_markdown":"It seems that the setBackground() method doesn&#39;t work well on some platforms (I&#39;m using Windows 7). I found [this answer][1] to [this question][2] helpful. However, I didn&#39;t entirely use it to solve my problem. Instead, I decided it&#39;d be much easier and almost as aesthetic to color a panel next to the button.\r\n\r\n[1]: https://stackoverflow.com/a/3420431/817961\r\n[2]: https://stackoverflow.com/q/3420311/817961","title":"How to set background color of a button in Java GUI?","body":"<p>It seems that the setBackground() method doesn't work well on some platforms (I'm using Windows 7). I found <a href=\"https://stackoverflow.com/a/3420431/817961\">this answer</a> to <a href=\"https://stackoverflow.com/q/3420311/817961\">this question</a> helpful. However, I didn't entirely use it to solve my problem. Instead, I decided it'd be much easier and almost as aesthetic to color a panel next to the button.</p>\n"},{"comments":[{"owner":{"account_id":7009267,"reputation":191,"user_id":5372746,"accept_rate":56,"display_name":"Michael Arnold"},"score":3,"creation_date":1453773748,"post_id":13753661,"comment_id":57739581,"body_markdown":"I like to use btn.setBackground(New Color(int, int, int));  for RGB values","body":"I like to use btn.setBackground(New Color(int, int, int));  for RGB values"}],"tags":[],"owner":{"account_id":1509549,"reputation":1306,"user_id":1412014,"accept_rate":80,"display_name":"Ali Mohammadi"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1354834205,"creation_date":1354832421,"answer_id":13753661,"question_id":4172940,"body_markdown":"Simple:\r\n\r\n`btn.setBackground(Color.red);`\r\n\r\nTo use RGB values:\r\n\r\n`btn[i].setBackground(Color.RGBtoHSB(int, int, int, float[]));`","title":"How to set background color of a button in Java GUI?","body":"<p>Simple:</p>\n\n<p><code>btn.setBackground(Color.red);</code></p>\n\n<p>To use RGB values:</p>\n\n<p><code>btn[i].setBackground(Color.RGBtoHSB(int, int, int, float[]));</code></p>\n"},{"tags":[],"owner":{"account_id":1238507,"reputation":7238,"user_id":1201614,"accept_rate":82,"display_name":"luca"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438926407,"creation_date":1438918522,"answer_id":31869286,"question_id":4172940,"body_markdown":"Changing the background property might not be enough as the component won&#39;t look like a button anymore. You might need to re-implement the paint method as in [here][1] to get a better result:\r\n\r\n![enter image description here][2]\r\n\r\n  [1]: https://stackoverflow.com/q/7115672/1201614\r\n  [2]: http://i.stack.imgur.com/22uzD.png","title":"How to set background color of a button in Java GUI?","body":"<p>Changing the background property might not be enough as the component won't look like a button anymore. You might need to re-implement the paint method as in <a href=\"https://stackoverflow.com/q/7115672/1201614\">here</a> to get a better result:</p>\n\n<p><img src=\"https://i.stack.imgur.com/22uzD.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":24524035,"reputation":1,"user_id":18436688,"display_name":"Ash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678868875,"creation_date":1678863728,"answer_id":75741416,"question_id":4172940,"body_markdown":"I tried the previous solutions but still couldn&#39;t change the color. Came across another article and solved my problem. The button is made of different layers. Removing all of them helps:\r\n\r\n        btn.setOpaque(true);\r\n        btn.setContentAreaFilled(true);\r\n        btn.setBorderPainted(false);\r\n        btn.setFocusPainted(false);\r\n        btn.setBackground(Color.GRAY); // for the background\r\n        btn.setForeground(Color.white); // for the text","title":"How to set background color of a button in Java GUI?","body":"<p>I tried the previous solutions but still couldn't change the color. Came across another article and solved my problem. The button is made of different layers. Removing all of them helps:</p>\n<pre><code>    btn.setOpaque(true);\n    btn.setContentAreaFilled(true);\n    btn.setBorderPainted(false);\n    btn.setFocusPainted(false);\n    btn.setBackground(Color.GRAY); // for the background\n    btn.setForeground(Color.white); // for the text\n</code></pre>\n"}],"owner":{"account_id":195656,"reputation":259,"user_id":438687,"accept_rate":70,"display_name":"Salar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259668,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":4172964,"answer_count":8,"score":20,"last_activity_date":1678868875,"creation_date":1289657878,"question_id":4172940,"body_markdown":"Below is the code which creates 9 buttons in gridlayout form on a specific pannel3. What i want is to make the background of each button black with grey text over it. \r\nCan anyone help please?\r\n\r\n     for(int i=1;i&lt;=9;i++)\r\n     {\r\n         p3.add(new JButton(&quot;&quot;+i));\r\n     }","title":"How to set background color of a button in Java GUI?","body":"<p>Below is the code which creates 9 buttons in gridlayout form on a specific pannel3. What i want is to make the background of each button black with grey text over it. \nCan anyone help please?</p>\n\n<pre><code> for(int i=1;i&lt;=9;i++)\n {\n     p3.add(new JButton(\"\"+i));\n }\n</code></pre>\n"},{"tags":["java","web-services","jax-ws","soapui"],"comments":[{"owner":{"account_id":8070277,"reputation":911,"user_id":6083277,"display_name":"Romeo Sheshi"},"score":0,"creation_date":1468336627,"post_id":38332788,"comment_id":64080229,"body_markdown":"seems like a classloading problem make sure not having same dependency   lib with different version for jaxb","body":"seems like a classloading problem make sure not having same dependency   lib with different version for jaxb"},{"owner":{"account_id":2460628,"reputation":267,"user_id":2144879,"accept_rate":38,"display_name":"Maforast"},"score":0,"creation_date":1504100572,"post_id":38332788,"comment_id":78882588,"body_markdown":"I solve this kind issue by setting, in request Properties, WS-Addressing to false","body":"I solve this kind issue by setting, in request Properties, WS-Addressing to false"}],"answers":[{"tags":[],"owner":{"account_id":11379965,"reputation":21,"user_id":8343096,"display_name":"S.P"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501439724,"creation_date":1501439724,"answer_id":45403325,"question_id":38332788,"body_markdown":"seems its a late response. I believe adding the below into the header should help you out.\r\n\r\n    \t&lt;wsa:Action&gt;http://....../{operationName}&lt;/wsa:Action&gt;\r\n\t\t&lt;wsa:To&gt;http(s)://.../serviceName&lt;/wsa:To&gt;\r\n\t\t","title":"A required header representing a Message Addressing Property is not present","body":"<p>seems its a late response. I believe adding the below into the header should help you out.</p>\n\n<pre><code>    &lt;wsa:Action&gt;http://....../{operationName}&lt;/wsa:Action&gt;\n    &lt;wsa:To&gt;http(s)://.../serviceName&lt;/wsa:To&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7306088,"reputation":767,"user_id":5566965,"display_name":"mramsath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575202195,"creation_date":1575202195,"answer_id":59125355,"question_id":38332788,"body_markdown":"I came across same exception and  adding(creating) the following class, \r\n\r\n\r\n    public class SoapRequestHeaderModifier implements WebServiceMessageCallback {\r\n\r\n        String action =&quot;http://xxx.xxx.xx.x/PlayerServices/PlayerIntelligence/PlayerManagementService&quot;;\r\n        String uri = &quot;http://xxx.xxx.xx.x/PlayerServices/PlayerIntelligence/PlayerManagementService/SetCode&quot;;\r\n\r\n\r\n        @Override\r\n        public void doWithMessage(WebServiceMessage message) {\r\n            SaajSoapMessage soapMessage = (SaajSoapMessage) message;\r\n            SoapHeader soapHeader = soapMessage.getSoapHeader();\r\n\r\n            QName wsaToQName = new QName(&quot;http://www.w3.org/2005/08/addressing&quot;, &quot;To&quot;, &quot;wsa&quot;);\r\n            SoapHeaderElement wsaTo =  soapHeader.addHeaderElement(wsaToQName);\r\n            wsaTo.setText(uri);\r\n\r\n            QName wsaActionQName = new QName(&quot;http://www.w3.org/2005/08/addressing&quot;, &quot;Action&quot;, &quot;wsa&quot;);\r\n            SoapHeaderElement wsaAction =  soapHeader.addHeaderElement(wsaActionQName);\r\n        wsaAction.setText(action);\r\n        }\r\n\r\n    }\r\n\r\nand providing it as an callback function argument in the webServiceTemplate.marshalSendAndReceive() method helped me solving the issue. \r\n\r\n    JAXBElement&lt;T&gt; response = (JAXBElement&lt;BatchResponse&gt;) webServiceTemplate\r\n                .marshalSendAndReceive(&quot;url?wsdl&quot;, batchRequest,new \r\n    SoapRequestHeaderModifier());\r\n\r\nreffered this, https://stackoverflow.com/questions/49236349/use-soap-1-2-with-webservicegatewaysupport-in-spring","title":"A required header representing a Message Addressing Property is not present","body":"<p>I came across same exception and  adding(creating) the following class, </p>\n\n<pre><code>public class SoapRequestHeaderModifier implements WebServiceMessageCallback {\n\n    String action =\"http://xxx.xxx.xx.x/PlayerServices/PlayerIntelligence/PlayerManagementService\";\n    String uri = \"http://xxx.xxx.xx.x/PlayerServices/PlayerIntelligence/PlayerManagementService/SetCode\";\n\n\n    @Override\n    public void doWithMessage(WebServiceMessage message) {\n        SaajSoapMessage soapMessage = (SaajSoapMessage) message;\n        SoapHeader soapHeader = soapMessage.getSoapHeader();\n\n        QName wsaToQName = new QName(\"http://www.w3.org/2005/08/addressing\", \"To\", \"wsa\");\n        SoapHeaderElement wsaTo =  soapHeader.addHeaderElement(wsaToQName);\n        wsaTo.setText(uri);\n\n        QName wsaActionQName = new QName(\"http://www.w3.org/2005/08/addressing\", \"Action\", \"wsa\");\n        SoapHeaderElement wsaAction =  soapHeader.addHeaderElement(wsaActionQName);\n    wsaAction.setText(action);\n    }\n\n}\n</code></pre>\n\n<p>and providing it as an callback function argument in the webServiceTemplate.marshalSendAndReceive() method helped me solving the issue. </p>\n\n<pre><code>JAXBElement&lt;T&gt; response = (JAXBElement&lt;BatchResponse&gt;) webServiceTemplate\n            .marshalSendAndReceive(\"url?wsdl\", batchRequest,new \nSoapRequestHeaderModifier());\n</code></pre>\n\n<p>reffered this, <a href=\"https://stackoverflow.com/questions/49236349/use-soap-1-2-with-webservicegatewaysupport-in-spring\">Use SOAP 1.2 with WebServiceGatewaySupport in Spring</a></p>\n"},{"tags":[],"owner":{"account_id":14133698,"reputation":199,"user_id":10210883,"display_name":"Prithvi Raj Mundur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664207972,"creation_date":1664207972,"answer_id":73856821,"question_id":38332788,"body_markdown":"Hope below answer might help others facing the error in the subject-line.\r\nIssue got resolved by adding this element to the header list\r\n\r\n    &lt;wsa:MessageID&gt;uuid:d077a3a6-e63d-462f-a06f-db9e55a28350&lt;/wsa:MessageID&gt;\r\nuuid is some random unique number and in SoapUI, it&#39;s set by ticking the Randomly generate messageID option as in the attached snippet:\r\n\r\n[![enable Randomly generate messageId][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hmX2L.png","title":"A required header representing a Message Addressing Property is not present","body":"<p>Hope below answer might help others facing the error in the subject-line.\nIssue got resolved by adding this element to the header list</p>\n<pre><code>&lt;wsa:MessageID&gt;uuid:d077a3a6-e63d-462f-a06f-db9e55a28350&lt;/wsa:MessageID&gt;\n</code></pre>\n<p>uuid is some random unique number and in SoapUI, it's set by ticking the Randomly generate messageID option as in the attached snippet:</p>\n<p><a href=\"https://i.stack.imgur.com/hmX2L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hmX2L.png\" alt=\"enable Randomly generate messageId\" /></a></p>\n"}],"owner":{"account_id":8796624,"reputation":21,"user_id":6574326,"display_name":"Raziye AYDIN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1678868442,"creation_date":1468336308,"question_id":38332788,"body_markdown":"I am getting this error in SOAPUI:\r\n\r\n    &lt;env:Envelope xmlns:env=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\r\n       &lt;env:Header&gt;\r\n          &lt;wsa:Action&gt;http://www.w3.org/2005/08/addressing/fault&lt;/wsa:Action&gt;\r\n       &lt;/env:Header&gt;\r\n       &lt;env:Body&gt;\r\n          &lt;env:Fault&gt;\r\n             &lt;faultcode&gt;wsa:MessageAddressingHeaderRequired&lt;/faultcode&gt;\r\n             &lt;faultstring&gt;A required header representing a Message Addressing Property is not present&lt;/faultstring&gt;\r\n          &lt;/env:Fault&gt;\r\n       &lt;/env:Body&gt;\r\n    &lt;/env:Envelope&gt;\r\n\r\nI used the SoapHeader and SoapElement in my java code. So XML output of code:\r\n\r\n\r\n    &lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n       &lt;S:Header&gt;\r\n          &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n             &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken&quot;&gt;\r\n                &lt;wsse:Username&gt;Username&lt;/wsse:Username&gt;\r\n                &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;Password&lt;/wsse:Password&gt;\r\n                &lt;wsse:Nonce EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;&gt;...&lt;/wsse:Nonce&gt;\r\n                &lt;wsu:Created&gt;2016-05-07T11:57:03.821Z&lt;/wsu:Created&gt;\r\n             &lt;/wsse:UsernameToken&gt;\r\n          &lt;/wsse:Security&gt;\r\n       &lt;/S:Header&gt;\r\n       &lt;S:Body&gt;\r\n          &lt;ns2:getRequestDetail xmlns:ns2=&quot;http://xmlns.oracle.com/scheduler&quot; xmlns:ns3=&quot;http://xmlns.oracle.com/scheduler/types&quot;&gt;\r\n             &lt;ns2:requestId&gt;37&lt;/ns2:requestId&gt;\r\n          &lt;/ns2:getRequestDetail&gt;\r\n       &lt;/S:Body&gt;\r\n    &lt;/S:Envelope&gt;\r\n\r\nnormally in SOAPUI:\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:sch=&quot;http://xmlns.oracle.com/scheduler&quot;&gt;\r\n          &lt;soapenv:Header&gt;\r\n          &lt;wsse:Security soapenv:mustUnderstand=&quot;1&quot;  xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n             &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken&quot;&gt;\r\n                &lt;wsse:Username&gt;Username&lt;/wsse:Username&gt;\r\n                &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;Password&lt;/wsse:Password&gt;\r\n                &lt;wsse:Nonce EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;&gt;...&lt;/wsse:Nonce&gt;\r\n                &lt;wsu:Created&gt;2016-05-07T11:57:03.821Z&lt;/wsu:Created&gt;\r\n             &lt;/wsse:UsernameToken&gt;\r\n          &lt;/wsse:Security&gt;\r\n       &lt;/soapenv:Header&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;sch:getRequestDetail&gt;\r\n             &lt;sch:requestId&gt;37&lt;/sch:requestId&gt;\r\n          &lt;/sch:getRequestDetail&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nI am getting the error in java unit test:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n        at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:107)\r\n        at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\r\n        at com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:135)\r\n        at com.sun.proxy.$Proxy80.getRequestDetail(Unknown Source)\r\n        at tr.com.basarimobile.common.test.EnterpriseSchedulerClientTest.getRequestDetailTest(EnterpriseSchedulerClientTest.java:34)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n        at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n        at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n        at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)\r\n        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n    Caused by: java.lang.ClassCastException: com.sun.xml.bind.v2.runtime.JAXBContextImpl cannot be cast to com.sun.xml.internal.bind.api.JAXBRIContext\r\n        at com.sun.xml.internal.ws.fault.SOAPFaultBuilder$1.run(SOAPFaultBuilder.java:570)\r\n        at com.sun.xml.internal.ws.fault.SOAPFaultBuilder$1.run(SOAPFaultBuilder.java:566)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at com.sun.xml.internal.ws.fault.SOAPFaultBuilder.createJAXBContext(SOAPFaultBuilder.java:565)\r\n        at com.sun.xml.internal.ws.fault.SOAPFaultBuilder.&lt;clinit&gt;(SOAPFaultBuilder.java:555)\r\n        ... 34 more\r\n\r\n\r\nMaybe, The difference between the xml code Causing this error?\r\n\r\nThansk for all,\r\n","title":"A required header representing a Message Addressing Property is not present","body":"<p>I am getting this error in SOAPUI:</p>\n\n<pre><code>&lt;env:Envelope xmlns:env=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:wsa=\"http://www.w3.org/2005/08/addressing\"&gt;\n   &lt;env:Header&gt;\n      &lt;wsa:Action&gt;http://www.w3.org/2005/08/addressing/fault&lt;/wsa:Action&gt;\n   &lt;/env:Header&gt;\n   &lt;env:Body&gt;\n      &lt;env:Fault&gt;\n         &lt;faultcode&gt;wsa:MessageAddressingHeaderRequired&lt;/faultcode&gt;\n         &lt;faultstring&gt;A required header representing a Message Addressing Property is not present&lt;/faultstring&gt;\n      &lt;/env:Fault&gt;\n   &lt;/env:Body&gt;\n&lt;/env:Envelope&gt;\n</code></pre>\n\n<p>I used the SoapHeader and SoapElement in my java code. So XML output of code:</p>\n\n<pre><code>&lt;S:Envelope xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n   &lt;S:Header&gt;\n      &lt;wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n         &lt;wsse:UsernameToken wsu:Id=\"UsernameToken\"&gt;\n            &lt;wsse:Username&gt;Username&lt;/wsse:Username&gt;\n            &lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;Password&lt;/wsse:Password&gt;\n            &lt;wsse:Nonce EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\"&gt;...&lt;/wsse:Nonce&gt;\n            &lt;wsu:Created&gt;2016-05-07T11:57:03.821Z&lt;/wsu:Created&gt;\n         &lt;/wsse:UsernameToken&gt;\n      &lt;/wsse:Security&gt;\n   &lt;/S:Header&gt;\n   &lt;S:Body&gt;\n      &lt;ns2:getRequestDetail xmlns:ns2=\"http://xmlns.oracle.com/scheduler\" xmlns:ns3=\"http://xmlns.oracle.com/scheduler/types\"&gt;\n         &lt;ns2:requestId&gt;37&lt;/ns2:requestId&gt;\n      &lt;/ns2:getRequestDetail&gt;\n   &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n\n<p>normally in SOAPUI:</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sch=\"http://xmlns.oracle.com/scheduler\"&gt;\n      &lt;soapenv:Header&gt;\n      &lt;wsse:Security soapenv:mustUnderstand=\"1\"  xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n         &lt;wsse:UsernameToken wsu:Id=\"UsernameToken\"&gt;\n            &lt;wsse:Username&gt;Username&lt;/wsse:Username&gt;\n            &lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;Password&lt;/wsse:Password&gt;\n            &lt;wsse:Nonce EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\"&gt;...&lt;/wsse:Nonce&gt;\n            &lt;wsu:Created&gt;2016-05-07T11:57:03.821Z&lt;/wsu:Created&gt;\n         &lt;/wsse:UsernameToken&gt;\n      &lt;/wsse:Security&gt;\n   &lt;/soapenv:Header&gt;\n   &lt;soapenv:Body&gt;\n      &lt;sch:getRequestDetail&gt;\n         &lt;sch:requestId&gt;37&lt;/sch:requestId&gt;\n      &lt;/sch:getRequestDetail&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>I am getting the error in java unit test:</p>\n\n<pre><code>java.lang.ExceptionInInitializerError\n    at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:107)\n    at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\n    at com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:135)\n    at com.sun.proxy.$Proxy80.getRequestDetail(Unknown Source)\n    at tr.com.basarimobile.common.test.EnterpriseSchedulerClientTest.getRequestDetailTest(EnterpriseSchedulerClientTest.java:34)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: java.lang.ClassCastException: com.sun.xml.bind.v2.runtime.JAXBContextImpl cannot be cast to com.sun.xml.internal.bind.api.JAXBRIContext\n    at com.sun.xml.internal.ws.fault.SOAPFaultBuilder$1.run(SOAPFaultBuilder.java:570)\n    at com.sun.xml.internal.ws.fault.SOAPFaultBuilder$1.run(SOAPFaultBuilder.java:566)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.xml.internal.ws.fault.SOAPFaultBuilder.createJAXBContext(SOAPFaultBuilder.java:565)\n    at com.sun.xml.internal.ws.fault.SOAPFaultBuilder.&lt;clinit&gt;(SOAPFaultBuilder.java:555)\n    ... 34 more\n</code></pre>\n\n<p>Maybe, The difference between the xml code Causing this error?</p>\n\n<p>Thansk for all,</p>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-authorization-server"],"comments":[{"owner":{"account_id":8594874,"reputation":531,"user_id":6438191,"display_name":"Juan Cabello"},"score":0,"creation_date":1675021966,"post_id":74989945,"comment_id":132834077,"body_markdown":"Hi Sriram, you pointed out two options for the request toekn. What approach did you use at the end? I am having the same issue.","body":"Hi Sriram, you pointed out two options for the request toekn. What approach did you use at the end? I am having the same issue."},{"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"score":0,"creation_date":1676976977,"post_id":74989945,"comment_id":133241245,"body_markdown":"I used the first approach","body":"I used the first approach"}],"answers":[{"comments":[{"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"score":0,"creation_date":1672732411,"post_id":74990094,"comment_id":132335615,"body_markdown":"I&#39;m just using it to get the Authorization code. I feel the problem is in the /oauth2/token endpoint, which is returning invalid_grant.","body":"I&#39;m just using it to get the Authorization code. I feel the problem is in the /oauth2/token endpoint, which is returning invalid_grant."}],"tags":[],"owner":{"account_id":95581,"reputation":10145,"user_id":260229,"accept_rate":50,"display_name":"Mahmoud"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672730178,"creation_date":1672730178,"answer_id":74990094,"question_id":74989945,"body_markdown":"&gt; I am using OIDC Debugger to test it out.\r\n\r\nWhat is the `Authorize URI` that you give the debugger? You cannot use `localhost` there as it needs to be accessible to the debugger.\r\n\r\n\r\nI suggest either setup port forwarding to the 8080 port or use tunneling/reverse proxy like [ngrok](https://ngrok.com/) to temporarily expose your authorization server. Make sure to use the custom forwarding url instead of `localhost`.","title":"Spring Authorization Server 1.0.0: invalid_client error while requesting /oauth2/token","body":"<blockquote>\n<p>I am using OIDC Debugger to test it out.</p>\n</blockquote>\n<p>What is the <code>Authorize URI</code> that you give the debugger? You cannot use <code>localhost</code> there as it needs to be accessible to the debugger.</p>\n<p>I suggest either setup port forwarding to the 8080 port or use tunneling/reverse proxy like <a href=\"https://ngrok.com/\" rel=\"nofollow noreferrer\">ngrok</a> to temporarily expose your authorization server. Make sure to use the custom forwarding url instead of <code>localhost</code>.</p>\n"},{"tags":[],"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672734954,"creation_date":1672734954,"answer_id":74990827,"question_id":74989945,"body_markdown":"I found the problem. In the request to /oauth/token, I had made a typo in the `redirect_uri` parameter. I fixed that, and it worked.\r\n\r\nIt was a silly mistake from my side!","title":"Spring Authorization Server 1.0.0: invalid_client error while requesting /oauth2/token","body":"<p>I found the problem. In the request to /oauth/token, I had made a typo in the <code>redirect_uri</code> parameter. I fixed that, and it worked.</p>\n<p>It was a silly mistake from my side!</p>\n"},{"comments":[{"owner":{"account_id":3147289,"reputation":125,"user_id":2661519,"accept_rate":20,"display_name":"Blessy Khauhelo"},"score":0,"creation_date":1678868910,"post_id":75742074,"comment_id":133614739,"body_markdown":"Got the scripts\n\nhttps://github.com/spring-projects/spring-authorization-server/blob/main/oauth2-authorization-server/src/main/resources/org/springframework/security/oauth2/server/authorization/oauth2-authorization-schema.sql","body":"Got the scripts  <a href=\"https://github.com/spring-projects/spring-authorization-server/blob/main/oauth2-authorization-server/src/main/resources/org/springframework/security/oauth2/server/authorization/oauth2-authorization-schema.sql\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-authorization-server/blob/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":3147289,"reputation":125,"user_id":2661519,"accept_rate":20,"display_name":"Blessy Khauhelo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678868423,"creation_date":1678868423,"answer_id":75742074,"question_id":74989945,"body_markdown":"The example code you followed had this code\r\n\r\n`\r\n\r\n    @Bean\r\n    \tpublic EmbeddedDatabase embeddedDatabase() {\r\n    \t\t// @formatter:off\r\n    \t\treturn new EmbeddedDatabaseBuilder()\r\n    \t\t\t\t.generateUniqueName(true)\r\n    \t\t\t\t.setType(EmbeddedDatabaseType.H2)\r\n    \t\t\t\t.setScriptEncoding(&quot;UTF-8&quot;)\r\n    \t\t\t\t.addScript(&quot;org/springframework/security/oauth2/server/authorization/oauth2-authorization-schema.sql&quot;)\r\n    \t\t\t\t.addScript(&quot;org/springframework/security/oauth2/server/authorization/oauth2-authorization-consent-schema.sql&quot;)\r\n    \t\t\t\t.addScript(&quot;org/springframework/security/oauth2/server/authorization/client/oauth2-registered-client-schema.sql&quot;)\r\n    \t\t\t\t.build();\r\n    \t\t// @formatter:on\r\n    \t}\r\n\r\n`\r\n\r\nthe addScript, where do I find the sql scripts? Because i tried to look for them in resources folder, but could not find them.\r\n","title":"Spring Authorization Server 1.0.0: invalid_client error while requesting /oauth2/token","body":"<p>The example code you followed had this code</p>\n<p>`</p>\n<pre><code>@Bean\n    public EmbeddedDatabase embeddedDatabase() {\n        // @formatter:off\n        return new EmbeddedDatabaseBuilder()\n                .generateUniqueName(true)\n                .setType(EmbeddedDatabaseType.H2)\n                .setScriptEncoding(&quot;UTF-8&quot;)\n                .addScript(&quot;org/springframework/security/oauth2/server/authorization/oauth2-authorization-schema.sql&quot;)\n                .addScript(&quot;org/springframework/security/oauth2/server/authorization/oauth2-authorization-consent-schema.sql&quot;)\n                .addScript(&quot;org/springframework/security/oauth2/server/authorization/client/oauth2-registered-client-schema.sql&quot;)\n                .build();\n        // @formatter:on\n    }\n</code></pre>\n<p>`</p>\n<p>the addScript, where do I find the sql scripts? Because i tried to look for them in resources folder, but could not find them.</p>\n"}],"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74990827,"answer_count":3,"score":0,"last_activity_date":1678868423,"creation_date":1672729031,"question_id":74989945,"body_markdown":"I have setup a simple Spring Authorization Server using the [example][1] provided in the Spring Authorization Server repo.\r\n\r\nI am using [OIDC Debugger][2] to test it out. I am able to get the form login page. I enter my user ID and password, and I&#39;m successfully able to get the Authorization code. The next step is to exchange this code to get the access token (from the `/oauth2/token` endpoint). Here is where I get an error.\r\n\r\nThis is my request to `/oauth2/token`\r\n\r\n    curl --location --request POST &#39;http://localhost:8080/oauth2/token&#39; \\\r\n    --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n    --data-urlencode &#39;grant_type=authorization_code&#39; \\\r\n    --data-urlencode &#39;client_id=messaging-client&#39; \\\r\n    --data-urlencode &#39;client_secret=secret&#39; \\\r\n    --data-urlencode &#39;code=ARfoO0m_srZSzi0RJgryvAyxOEmcoOHAZbFVYJlmng71x1CTv7qdCGD3I-DwG8EuBYBdyUGhmZwo5LBmoXyoxxuEuSZwJ7tPjYvQED7OBriRc4uFky5NbtNKuctz1PGt&#39; \\\r\n    --data-urlencode &#39;redirct_uri=https%3A%2F%2Foidcdebugger.com%2Fdebug&#39;\r\n\r\nWhen I send this request, I get a `401 Unauthorized` error with the body as follows:\r\n\r\n    {\r\n        &quot;error&quot;: &quot;invalid_client&quot;\r\n    }\r\n\r\nMy Security Configuration (just showing the client setup for brevity)\r\n\r\n    @Bean\r\n    \tpublic RegisteredClientRepository registeredClientRepository(JdbcTemplate jdbcTemplate) {\r\n    \t\tRegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n    \t\t\t\t.clientId(&quot;messaging-client&quot;)\r\n    \t\t\t\t.clientSecret(&quot;{noop}secret&quot;)\r\n    \t\t\t\t.clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n    \t\t\t\t.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n    \t\t\t\t.authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n    \t\t\t\t.authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n    \t\t\t\t.redirectUri(&quot;http://127.0.0.1:8080/login/oauth2/code/messaging-client-oidc&quot;)\r\n    \t\t\t\t.redirectUri(&quot;http://127.0.0.1:8080/authorized&quot;)\r\n    \t\t\t\t.redirectUri(&quot;https://oidcdebugger.com/debug&quot;)\r\n    \t\t\t\t.scope(OidcScopes.OPENID)\r\n    \t\t\t\t.scope(OidcScopes.PROFILE)\r\n    \t\t\t\t.scope(&quot;message.read&quot;)\r\n    \t\t\t\t.scope(&quot;message.write&quot;)\r\n    \t\t\t\t.clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\r\n    \t\t\t\t.build();\r\n    \r\n    \t\t// Save registered client in db as if in-memory\r\n    \t\tJdbcRegisteredClientRepository registeredClientRepository = new JdbcRegisteredClientRepository(jdbcTemplate);\r\n    \t\tregisteredClientRepository.save(registeredClient);\r\n    \r\n    \t\treturn registeredClientRepository;\r\n    \t}\r\n\r\nAnd, I am also using `1.0.0` version of the Spring Authorization Server dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat am I missing?\r\n\r\n**Edit: ** I also tried to pass the client ID and secret as a Basic Auth Header (Base64 encoded), as follows:\r\n\r\n  \r\n\r\n      curl --location --request POST &#39;http://localhost:8080/oauth2/token&#39; \\\r\n        --header &#39;Authorization: Basic bWVzc2FnaW5nLWNsaWVudDpzZWNyZXQ=&#39; \\\r\n        --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n        --data-urlencode &#39;grant_type=authorization_code&#39; \\\r\n        --data-urlencode &#39;code=ARfoO0m_srZSzi0RJgryvAyxOEmcoOHAZbFVYJlmng71x1CTv7qdCGD3I-DwG8EuBYBdyUGhmZwo5LBmoXyoxxuEuSZwJ7tPjYvQED7OBriRc4uFky5NbtNKuctz1PGt&#39; \\\r\n    --data-urlencode &#39;redirct_uri=https%3A%2F%2Foidcdebugger.com%2Fdebug&#39;\r\n\r\n\r\nBut this time, I get a `400 Bad Request` error with the following payload\r\n\r\n    {\r\n        &quot;error&quot;: &quot;invalid_grant&quot;\r\n    }\r\n    \r\n\r\n[1]: https://github.com/spring-projects/spring-authorization-server/tree/main/samples/default-authorizationserver\r\n[2]: https://oidcdebugger.com/\r\n","title":"Spring Authorization Server 1.0.0: invalid_client error while requesting /oauth2/token","body":"<p>I have setup a simple Spring Authorization Server using the <a href=\"https://github.com/spring-projects/spring-authorization-server/tree/main/samples/default-authorizationserver\" rel=\"nofollow noreferrer\">example</a> provided in the Spring Authorization Server repo.</p>\n<p>I am using <a href=\"https://oidcdebugger.com/\" rel=\"nofollow noreferrer\">OIDC Debugger</a> to test it out. I am able to get the form login page. I enter my user ID and password, and I'm successfully able to get the Authorization code. The next step is to exchange this code to get the access token (from the <code>/oauth2/token</code> endpoint). Here is where I get an error.</p>\n<p>This is my request to <code>/oauth2/token</code></p>\n<pre><code>curl --location --request POST 'http://localhost:8080/oauth2/token' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'grant_type=authorization_code' \\\n--data-urlencode 'client_id=messaging-client' \\\n--data-urlencode 'client_secret=secret' \\\n--data-urlencode 'code=ARfoO0m_srZSzi0RJgryvAyxOEmcoOHAZbFVYJlmng71x1CTv7qdCGD3I-DwG8EuBYBdyUGhmZwo5LBmoXyoxxuEuSZwJ7tPjYvQED7OBriRc4uFky5NbtNKuctz1PGt' \\\n--data-urlencode 'redirct_uri=https%3A%2F%2Foidcdebugger.com%2Fdebug'\n</code></pre>\n<p>When I send this request, I get a <code>401 Unauthorized</code> error with the body as follows:</p>\n<pre><code>{\n    &quot;error&quot;: &quot;invalid_client&quot;\n}\n</code></pre>\n<p>My Security Configuration (just showing the client setup for brevity)</p>\n<pre><code>@Bean\n    public RegisteredClientRepository registeredClientRepository(JdbcTemplate jdbcTemplate) {\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\n                .clientId(&quot;messaging-client&quot;)\n                .clientSecret(&quot;{noop}secret&quot;)\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                .redirectUri(&quot;http://127.0.0.1:8080/login/oauth2/code/messaging-client-oidc&quot;)\n                .redirectUri(&quot;http://127.0.0.1:8080/authorized&quot;)\n                .redirectUri(&quot;https://oidcdebugger.com/debug&quot;)\n                .scope(OidcScopes.OPENID)\n                .scope(OidcScopes.PROFILE)\n                .scope(&quot;message.read&quot;)\n                .scope(&quot;message.write&quot;)\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\n                .build();\n\n        // Save registered client in db as if in-memory\n        JdbcRegisteredClientRepository registeredClientRepository = new JdbcRegisteredClientRepository(jdbcTemplate);\n        registeredClientRepository.save(registeredClient);\n\n        return registeredClientRepository;\n    }\n</code></pre>\n<p>And, I am also using <code>1.0.0</code> version of the Spring Authorization Server dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What am I missing?</p>\n<p>**Edit: ** I also tried to pass the client ID and secret as a Basic Auth Header (Base64 encoded), as follows:</p>\n<pre><code>  curl --location --request POST 'http://localhost:8080/oauth2/token' \\\n    --header 'Authorization: Basic bWVzc2FnaW5nLWNsaWVudDpzZWNyZXQ=' \\\n    --header 'Content-Type: application/x-www-form-urlencoded' \\\n    --data-urlencode 'grant_type=authorization_code' \\\n    --data-urlencode 'code=ARfoO0m_srZSzi0RJgryvAyxOEmcoOHAZbFVYJlmng71x1CTv7qdCGD3I-DwG8EuBYBdyUGhmZwo5LBmoXyoxxuEuSZwJ7tPjYvQED7OBriRc4uFky5NbtNKuctz1PGt' \\\n--data-urlencode 'redirct_uri=https%3A%2F%2Foidcdebugger.com%2Fdebug'\n</code></pre>\n<p>But this time, I get a <code>400 Bad Request</code> error with the following payload</p>\n<pre><code>{\n    &quot;error&quot;: &quot;invalid_grant&quot;\n}\n</code></pre>\n"},{"tags":["java","arraylist","collections"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":5,"creation_date":1621677901,"post_id":67648195,"comment_id":119571183,"body_markdown":"`items.stream().filter(item -&gt; &quot;Sam&quot;.equals(item.name)).collect(Collectors.toList())`","body":"<code>items.stream().filter(item -&gt; &quot;Sam&quot;.equals(item.name)).collect(Collectors.toList())</code>"},{"owner":{"account_id":13870491,"reputation":1226,"user_id":11152084,"display_name":"Lenzman"},"score":0,"creation_date":1621679299,"post_id":67648195,"comment_id":119571487,"body_markdown":"Do you want to write an answer with this?","body":"Do you want to write an answer with this?"}],"answers":[{"comments":[{"owner":{"account_id":13870491,"reputation":1226,"user_id":11152084,"display_name":"Lenzman"},"score":0,"creation_date":1621679601,"post_id":67648441,"comment_id":119571551,"body_markdown":"Yes. Ok, I will change them to private. Is there any reason to use List instead of ArrayList and thanks for the help.","body":"Yes. Ok, I will change them to private. Is there any reason to use List instead of ArrayList and thanks for the help."},{"owner":{"account_id":18284632,"reputation":2738,"user_id":13312820,"display_name":"Most Noble Rabbit"},"score":0,"creation_date":1621679984,"post_id":67648441,"comment_id":119571647,"body_markdown":"@Lenzman It&#39;s a principle in software engineering - resilience to change. Example 1: If in Java 18 there will be super-duper efficient implementation to the `List`, you will have to replace the `ArrayList` in many places instead of just the place you initialized the list. If you used some method that doesn&#39;t appear in the `List`, this will be even worse..","body":"@Lenzman It&#39;s a principle in software engineering - resilience to change. Example 1: If in Java 18 there will be super-duper efficient implementation to the <code>List</code>, you will have to replace the <code>ArrayList</code> in many places instead of just the place you initialized the list. If you used some method that doesn&#39;t appear in the <code>List</code>, this will be even worse.."},{"owner":{"account_id":18284632,"reputation":2738,"user_id":13312820,"display_name":"Most Noble Rabbit"},"score":0,"creation_date":1621680075,"post_id":67648441,"comment_id":119571663,"body_markdown":"Example 2: requirements might change and you might not need to use `get(5)` but only to traverse the list in the order and add an item. In that case, `LinkedList` might be more suitable.","body":"Example 2: requirements might change and you might not need to use <code>get(5)</code> but only to traverse the list in the order and add an item. In that case, <code>LinkedList</code> might be more suitable."},{"owner":{"account_id":13870491,"reputation":1226,"user_id":11152084,"display_name":"Lenzman"},"score":0,"creation_date":1621682086,"post_id":67648441,"comment_id":119572101,"body_markdown":"OK got it. Thanks Most Needed Rabbit","body":"OK got it. Thanks Most Needed Rabbit"}],"tags":[],"owner":{"account_id":18284632,"reputation":2738,"user_id":13312820,"display_name":"Most Noble Rabbit"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678868300,"creation_date":1621679313,"answer_id":67648441,"question_id":67648195,"body_markdown":"You can do:\r\n\r\n    List&lt;Item&gt; itemsNamedSam = items.stream()\r\n        .filter(item -&gt; item.name.equals(&quot;Sam&quot;))\r\n        .collect(Collectors.toList())\r\n\r\n\r\nFew notes:\r\n\r\n* You should probably make the fields in `Item`- `private`. For example, as things stand you might accidentally reassign the `name` field.\r\n* In most cases, we should work with `List&lt;Item&gt;` (interface), and not `ArrayList&lt;Item&gt;` (implementation).\r\n\r\n","title":"How to get a list of objects with same objects property from an ArrayList by","body":"<p>You can do:</p>\n<pre><code>List&lt;Item&gt; itemsNamedSam = items.stream()\n    .filter(item -&gt; item.name.equals(&quot;Sam&quot;))\n    .collect(Collectors.toList())\n</code></pre>\n<p>Few notes:</p>\n<ul>\n<li>You should probably make the fields in <code>Item</code>- <code>private</code>. For example, as things stand you might accidentally reassign the <code>name</code> field.</li>\n<li>In most cases, we should work with <code>List&lt;Item&gt;</code> (interface), and not <code>ArrayList&lt;Item&gt;</code> (implementation).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13870491,"reputation":1226,"user_id":11152084,"display_name":"Lenzman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621682055,"creation_date":1621679461,"answer_id":67648469,"question_id":67648195,"body_markdown":"With the help of @Alex&#39;s comment, What I ended up doing is:\r\n\r\n     public static List&lt;Item&gt; findItemsByName(Collection&lt;Item&gt; listItems, String name) {\r\n            \r\n         return listItems.stream().filter(item -&gt; name.equals(item.getName()))\r\n        .collect(Collectors.toList());\r\n     }","title":"How to get a list of objects with same objects property from an ArrayList by","body":"<p>With the help of @Alex's comment, What I ended up doing is:</p>\n<pre><code> public static List&lt;Item&gt; findItemsByName(Collection&lt;Item&gt; listItems, String name) {\n        \n     return listItems.stream().filter(item -&gt; name.equals(item.getName()))\n    .collect(Collectors.toList());\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621696302,"creation_date":1621695899,"answer_id":67651002,"question_id":67648195,"body_markdown":"You can remove from a list all elements who doesn&#39;t have &quot;Sam&quot; name by using removeIf method:\r\n\r\n    itemsNamedSam.removeIf(item -&gt; !item.name.equals(&quot;Sam&quot;));","title":"How to get a list of objects with same objects property from an ArrayList by","body":"<p>You can remove from a list all elements who doesn't have &quot;Sam&quot; name by using removeIf method:</p>\n<pre><code>itemsNamedSam.removeIf(item -&gt; !item.name.equals(&quot;Sam&quot;));\n</code></pre>\n"}],"owner":{"account_id":13870491,"reputation":1226,"user_id":11152084,"display_name":"Lenzman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1410,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":67648441,"answer_count":3,"score":-1,"last_activity_date":1678868300,"creation_date":1621677625,"question_id":67648195,"body_markdown":"How to retrieve a list of all the objects in an ArrayList with object property.\r\n\r\n**Model Class:**\r\n\r\n    public class Item {\r\n      private String id;\r\n      private String name;\r\n    }\r\n\r\n\r\n`ArrayList&lt;Item&gt; items = new ArrayList();`\r\n\r\nNow, how can we search ArrayList with a particular name?\r\n\r\nEg: Get all the objects that have the name &quot;Sam&quot;.","title":"How to get a list of objects with same objects property from an ArrayList by","body":"<p>How to retrieve a list of all the objects in an ArrayList with object property.</p>\n<p><strong>Model Class:</strong></p>\n<pre><code>public class Item {\n  private String id;\n  private String name;\n}\n</code></pre>\n<p><code>ArrayList&lt;Item&gt; items = new ArrayList();</code></p>\n<p>Now, how can we search ArrayList with a particular name?</p>\n<p>Eg: Get all the objects that have the name &quot;Sam&quot;.</p>\n"},{"tags":["java","apache-spark","spark-structured-streaming"],"comments":[{"owner":{"account_id":4702751,"reputation":1359,"user_id":3805899,"accept_rate":25,"display_name":"Scott Hsieh"},"score":0,"creation_date":1612188941,"post_id":65992262,"comment_id":116681134,"body_markdown":"Would you mind sharing all of your imports?","body":"Would you mind sharing all of your imports?"},{"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"score":0,"creation_date":1612258499,"post_id":65992262,"comment_id":116704007,"body_markdown":"Thank you for your reply. Kindly check my updated part.","body":"Thank you for your reply. Kindly check my updated part."},{"owner":{"account_id":5130710,"reputation":859,"user_id":4111019,"accept_rate":50,"display_name":"Alchemist"},"score":0,"creation_date":1633987748,"post_id":65992262,"comment_id":122901623,"body_markdown":"@JosephHwang can you please let me know how have you resolve this.  My code also works fine on earlier version of Spark but failing on latest version 3.x of Spark","body":"@JosephHwang can you please let me know how have you resolve this.  My code also works fine on earlier version of Spark but failing on latest version 3.x of Spark"}],"answers":[{"tags":[],"owner":{"account_id":2257663,"reputation":1,"user_id":1988493,"display_name":"Clark Dudek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669845352,"creation_date":1669845352,"answer_id":74634608,"question_id":65992262,"body_markdown":"I was upgrading from Spark 2.x -&gt; 3.x.  I found this error occurs when moving from scala 2.11 to 2.12, for example the artifact below has this problem too.\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\nThe fix I found was to avoid the inline mapping.  In the example above you can split it into it&#39;s own MapFunction class.\r\n\r\n    public class DocumentMapper implements MapFunction&lt;Row, Document&gt; {\r\n\t\t@Override\r\n\t\tpublic Document call(Row row) throws Exception {\r\n\t\t\tString[] parameters = new String[row.mkString().split(&quot;,&quot;).length];\r\n            \r\n        \tCsvMapper csvMapper = new CsvMapper();\r\n        \tparameters = csvMapper.readValue(row.mkString(), String[].class);\r\n            \r\n        \tDateTimeFormatter formatter = DateTimeFormatter.ISO_DATE;\r\n        \tEntityMongoDB data = new EntityMongoDB();//LocalDate.parse(parameters[2], formatter), Float.valueOf(parameters[3]), parameters[4], parameters[5], parameters[6], parameters[7], parameters[8], parameters[9]);\r\n            \r\n        \tString jsonInString = csvMapper.writeValueAsString(data);\r\n\r\n        \tDocument doc = new Document(Document.parse(jsonInString));      \r\n        \treturn doc;\r\n\t\t}\r\n\t}\r\n\r\nThen reference this in the mapping call.\r\n\r\n    Dataset&lt;Row&gt; tempDF = inputDF.map(new DocumentMapper(), mongoEncode).toDF();\r\n\r\nHope this helps other upgraders out there.","title":"Unresolved compilation problem: The method map is ambiguous for the type Dataset&lt;Row&gt;","body":"<p>I was upgrading from Spark 2.x -&gt; 3.x.  I found this error occurs when moving from scala 2.11 to 2.12, for example the artifact below has this problem too.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n    &lt;version&gt;2.4.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The fix I found was to avoid the inline mapping.  In the example above you can split it into it's own MapFunction class.</p>\n<pre><code>public class DocumentMapper implements MapFunction&lt;Row, Document&gt; {\n    @Override\n    public Document call(Row row) throws Exception {\n        String[] parameters = new String[row.mkString().split(&quot;,&quot;).length];\n        \n        CsvMapper csvMapper = new CsvMapper();\n        parameters = csvMapper.readValue(row.mkString(), String[].class);\n        \n        DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE;\n        EntityMongoDB data = new EntityMongoDB();//LocalDate.parse(parameters[2], formatter), Float.valueOf(parameters[3]), parameters[4], parameters[5], parameters[6], parameters[7], parameters[8], parameters[9]);\n        \n        String jsonInString = csvMapper.writeValueAsString(data);\n\n        Document doc = new Document(Document.parse(jsonInString));      \n        return doc;\n    }\n}\n</code></pre>\n<p>Then reference this in the mapping call.</p>\n<pre><code>Dataset&lt;Row&gt; tempDF = inputDF.map(new DocumentMapper(), mongoEncode).toDF();\n</code></pre>\n<p>Hope this helps other upgraders out there.</p>\n"},{"tags":[],"owner":{"account_id":25543412,"reputation":21,"user_id":19329127,"display_name":"ZDF64"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678868139,"creation_date":1678868139,"answer_id":75742037,"question_id":65992262,"body_markdown":"I had the same problem,and solved it.&lt;br&gt;\r\n&lt;b&gt;Here is my codes&lt;/b&gt;&lt;br&gt;\r\nbefore:\r\n```\r\nDataset&lt;Row&gt; newData = dataModel.map(row -&gt; {\r\n    return row;\r\n},Encoders.kryo(Row.class));\r\n```\r\nafter:\r\n\r\n```\r\nDataset&lt;Row&gt; newData = dataModel.map((MapFunction&lt;Row,Row&gt;)row -&gt; {\r\n    return row;\r\n},Encoders.kryo(Row.class));\r\n```\r\nThere is pertty less relate documents on the net,I`m not sure it is a good way. &lt;br&gt;If you have any progress, please share with me.&lt;br&gt;\r\n&lt;b&gt;Best wishes&lt;/b&gt;","title":"Unresolved compilation problem: The method map is ambiguous for the type Dataset&lt;Row&gt;","body":"<p>I had the same problem,and solved it.<br>\n<b>Here is my codes</b><br>\nbefore:</p>\n<pre><code>Dataset&lt;Row&gt; newData = dataModel.map(row -&gt; {\n    return row;\n},Encoders.kryo(Row.class));\n</code></pre>\n<p>after:</p>\n<pre><code>Dataset&lt;Row&gt; newData = dataModel.map((MapFunction&lt;Row,Row&gt;)row -&gt; {\n    return row;\n},Encoders.kryo(Row.class));\n</code></pre>\n<p>There is pertty less relate documents on the net,I`m not sure it is a good way. <br>If you have any progress, please share with me.<br>\n<b>Best wishes</b></p>\n"}],"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678868139,"creation_date":1612180323,"question_id":65992262,"body_markdown":"I try to make java client codes of apache spark 3.0.1. First belows are the pom.xml codes.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.11.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.mongodb.spark&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;mongo-spark-connector_2.12&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.12.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spark-streaming-kafka-0-10_2.12&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spark-sql-kafka-0-10_2.12&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nAnd I make java client codes with spark structured streaming api\r\n\r\n    SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;KafkaMongo_StrctStream&quot;).getOrCreate();\r\n    \t\t\r\n    Dataset&lt;Row&gt; inputDF = spark.read().format(&quot;kafka&quot;).option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9092&quot;).option(&quot;subscribe&quot;, &quot;topicForMongoDB&quot;).option(&quot;startingOffsets&quot;, &quot;earliest&quot;).load().selectExpr(&quot;CAST(value AS STRING)&quot;);\r\n    \t\t\r\n    Encoder&lt;Document&gt; mongoEncode = Encoders.bean(Document.class);\r\n    Dataset&lt;Row&gt; tempDF = inputDF.map(row -&gt; {    //map function throws the exception.\r\n    \t\tString[] parameters = new String[row.mkString().split(&quot;,&quot;).length];\r\n    \t\t\t\r\n    \t\tCsvMapper csvMapper = new CsvMapper();\r\n    \t\tparameters = csvMapper.readValue(row.mkString(), String[].class);\r\n    \t\t\t\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ISO_DATE;\r\n    \t\tEntityMongoDB data = new EntityMongoDB();//LocalDate.parse(parameters[2], formatter), Float.valueOf(parameters[3]), parameters[4], parameters[5], parameters[6], parameters[7], parameters[8], parameters[9]);\r\n    \t\t\t\r\n    \t\tString jsonInString = csvMapper.writeValueAsString(data);\r\n    \r\n    \t\tDocument doc = new Document(Document.parse(jsonInString));\t\t\r\n    \t\treturn doc;\r\n    \t}, mongoEncode).toDF();\r\n\r\n\r\nBut these codes can not run because of the below exception,\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n    \tThe method map(Function1&lt;Row,Document&gt;, Encoder&lt;Document&gt;) is ambiguous for the type Dataset&lt;Row&gt;\r\n\r\n\r\nI can not see any errors on these codes because these codes worked without exceptions on apache spark 2.4 version. These unresolved compilation exception are brought from the apache spark versions matters? Kindly inform me how to solve this issue.\r\n\r\n**= Updated =**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Properties;\r\n    \r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Encoder;\r\n    import org.apache.spark.sql.Encoders;\r\n    import org.apache.spark.sql.Row;\r\n    import org.apache.spark.sql.SparkSession;\r\n    import org.bson.Document;\r\n    \r\n    import com.aaa.etl.pojo.EntityMongoDB;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.dataformat.csv.CsvMapper;\r\n\r\n\r\nFor your information, I also attach the EntityMongoDB class source,\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class EntityMongoDB implements Serializable {\r\n    \r\n    \t@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    \t@JsonDeserialize(using = LocalDateDeserializer.class)\r\n    \tprivate LocalDate date;\r\n    \t\r\n    \tprivate float value;\r\n    \t\r\n    \tprivate String id;\r\n    \t\r\n    \tprivate String title;\r\n    \t\r\n    \tprivate String state;\r\n    \t\r\n    \tprivate String frequency_short;\r\n    \t\r\n    \tprivate String units_short;\r\n    \t\r\n    \tprivate String seasonal_adjustment_short;\r\n    }\r\n\r\n","title":"Unresolved compilation problem: The method map is ambiguous for the type Dataset&lt;Row&gt;","body":"<p>I try to make java client codes of apache spark 3.0.1. First belows are the pom.xml codes.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.10.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\n        &lt;version&gt;2.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;mongo-spark-connector_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;2.12.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.12.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-streaming-kafka-0-10_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-sql-kafka-0-10_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>And I make java client codes with spark structured streaming api</p>\n<pre><code>SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;KafkaMongo_StrctStream&quot;).getOrCreate();\n        \nDataset&lt;Row&gt; inputDF = spark.read().format(&quot;kafka&quot;).option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9092&quot;).option(&quot;subscribe&quot;, &quot;topicForMongoDB&quot;).option(&quot;startingOffsets&quot;, &quot;earliest&quot;).load().selectExpr(&quot;CAST(value AS STRING)&quot;);\n        \nEncoder&lt;Document&gt; mongoEncode = Encoders.bean(Document.class);\nDataset&lt;Row&gt; tempDF = inputDF.map(row -&gt; {    //map function throws the exception.\n        String[] parameters = new String[row.mkString().split(&quot;,&quot;).length];\n            \n        CsvMapper csvMapper = new CsvMapper();\n        parameters = csvMapper.readValue(row.mkString(), String[].class);\n            \n        DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE;\n        EntityMongoDB data = new EntityMongoDB();//LocalDate.parse(parameters[2], formatter), Float.valueOf(parameters[3]), parameters[4], parameters[5], parameters[6], parameters[7], parameters[8], parameters[9]);\n            \n        String jsonInString = csvMapper.writeValueAsString(data);\n\n        Document doc = new Document(Document.parse(jsonInString));      \n        return doc;\n    }, mongoEncode).toDF();\n</code></pre>\n<p>But these codes can not run because of the below exception,</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    The method map(Function1&lt;Row,Document&gt;, Encoder&lt;Document&gt;) is ambiguous for the type Dataset&lt;Row&gt;\n</code></pre>\n<p>I can not see any errors on these codes because these codes worked without exceptions on apache spark 2.4 version. These unresolved compilation exception are brought from the apache spark versions matters? Kindly inform me how to solve this issue.</p>\n<p><strong>= Updated =</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Properties;\n\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Encoder;\nimport org.apache.spark.sql.Encoders;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\nimport org.bson.Document;\n\nimport com.aaa.etl.pojo.EntityMongoDB;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.csv.CsvMapper;\n</code></pre>\n<p>For your information, I also attach the EntityMongoDB class source,</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class EntityMongoDB implements Serializable {\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    private LocalDate date;\n    \n    private float value;\n    \n    private String id;\n    \n    private String title;\n    \n    private String state;\n    \n    private String frequency_short;\n    \n    private String units_short;\n    \n    private String seasonal_adjustment_short;\n}\n</code></pre>\n"},{"tags":["java","spring-integration","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"comments":[{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1678868184,"post_id":75741953,"comment_id":133614531,"body_markdown":"Thank you. do you think it is a good idea I remove retryWhen and instead replace with an doOnError? what is your thought?","body":"Thank you. do you think it is a good idea I remove retryWhen and instead replace with an doOnError? what is your thought?"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":1,"creation_date":1678870210,"post_id":75741953,"comment_id":133615085,"body_markdown":"Unfortunately I can&#39;t call myself a reactor expert, so consider raising a separate issue. But based on my understanding these are two different operations. One will attempt to recover and another admits and deals with failure, so I think there is a way to actually use both. . . retry and if can&#39;t succeed handle error.","body":"Unfortunately I can&#39;t call myself a reactor expert, so consider raising a separate issue. But based on my understanding these are two different operations. One will attempt to recover and another admits and deals with failure, so I think there is a way to actually use both. . . retry and if can&#39;t succeed handle error."},{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1678878792,"post_id":75741953,"comment_id":133617382,"body_markdown":"Sorry I&#39;m asking a lot.  Do you know why actuator shows nothing when this exception occurs? I have included actuator output.","body":"Sorry I&#39;m asking a lot.  Do you know why actuator shows nothing when this exception occurs? I have included actuator output."}],"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678867560,"creation_date":1678867560,"answer_id":75741953,"question_id":75741708,"body_markdown":"When reactive function fails and you are not handling the error properly in it  the stream breaks and can not be recovered by s-c-stream simply because s-c-stream has no control of it. This is a well known limitation of using reactive API. \r\nBasically imperative function is invoked by the framework every time there is a message, hence we have full control of failures and retries.\r\nReactive function is invoked only once during startup to connect the stream provided by the user via user function. Once the stream is connected, s-c-stream plays no role in further processing. \r\nYou can read more about it [here](https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_reactive_functions_support)","title":"Stream cloud stream throws `MessageDispatchingException: Dispatcher has no subscribers` from time to time","body":"<p>When reactive function fails and you are not handling the error properly in it  the stream breaks and can not be recovered by s-c-stream simply because s-c-stream has no control of it. This is a well known limitation of using reactive API.\nBasically imperative function is invoked by the framework every time there is a message, hence we have full control of failures and retries.\nReactive function is invoked only once during startup to connect the stream provided by the user via user function. Once the stream is connected, s-c-stream plays no role in further processing.\nYou can read more about it <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_reactive_functions_support\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75741953,"answer_count":1,"score":0,"last_activity_date":1678868123,"creation_date":1678865849,"question_id":75741708,"body_markdown":"I have a spring cloud stream application that consumes a Kafka topic and eventually update an ElasticSearch index. here is my code:\r\n\r\n    @Bean\r\n    public Consumer&lt;Flux&lt;Message&lt;GraphTextKafkaRecord&gt;&gt;&gt; fetchSeed() {\r\n        return messages -&gt; messages\r\n                .map(message -&gt; {\r\n                    var ack = (Acknowledgment) message.getHeaders().get(ACKNOWLEDGEMENT_KEY);\r\n                    var graphTextRecord = message.getPayload();\r\n                    log.debug(&quot;Fetch message from kafka. message: {}&quot;, graphTextRecord);\r\n                    return Tuples.of(ack, graphTextRecord);\r\n                })\r\n                .filter(tuple -&gt; {\r\n                    var result = appRules.test(tuple.getT2());\r\n                    if (!result) {\r\n                        tuple.getT1().acknowledge();\r\n                        log.debug(&quot;Message: {} has been filtered due to rules defined in application&quot;, tuple.getT2());\r\n                    }\r\n                    return result;\r\n                })\r\n                .map(tuple -&gt; {\r\n                    GraphTextKafkaRecord kafkaRecord = tuple.getT2();\r\n                    return PageQuality\r\n                            .builder(tuple.getT1(), kafkaRecord.url(), kafkaRecord.pageQuality())\r\n                            .pageQualityAlphaScore(kafkaRecord.pageQualityAlpha())\r\n                            .statusCode(kafkaRecord.statusCode())\r\n                            .build();\r\n                })\r\n                .flatMap(esHandler::insertPageQualityScore)\r\n                .retryWhen(Retry.fixedDelay(5, Duration.ofSeconds(5)))\r\n                .subscribe();\r\n    }\r\n\r\n\r\nand it is my related configuration:\r\n\r\n    spring:\r\n      cloud:\r\n        stream:\r\n          default-binder: kafka\r\n          kafka:\r\n            binder:\r\n              auto-create-topics: false\r\n              brokers: ${PAGE_QUALITY_PROD_KAFKA_BROKERS:x.x.x.x:9092}\r\n              enable-observation: false\r\n              consumer-properties:\r\n                allow.auto.create.topics: false\r\n            bindings:\r\n              fetchSeed-in-0:\r\n                consumer:\r\n                  ack-mode: manual\r\n                  enable-dlq: false\r\n                  poll-timeout: 21474836470\r\n                  start-offset: earliest\r\n          bindings:\r\n            fetchSeed-in-0:\r\n              group: page-quality-group-prod\r\n              destination: ${PAGE_QUALITY_PROD_KAFKA_TOPIC_NAME:graph-text}\r\n              consumer:\r\n                max-attempts: 10\r\n                back-off-initial-interval: 500\r\n                back-off-max-interval: 200\r\n                back-off-multiplier: 2.0\r\n      elasticsearch:\r\n        uris: ${PAGE_QUALITY_PROD_ELASTIC_SEARCH_HOST:http://x.x.x.x:9200}\r\n        username: ${PAGE_QUALITY_PROD_ELASTIC_SEARCH_USERNAME:user}\r\n        password: ${PAGE_QUALITY_PROD_ELASTIC_SEARCH_PASSWORD:pass}\r\n        socket-timeout: 30s\r\n        connection-timeout: 30S\r\n\r\nit works well but after a few days it throws the following exception:\r\n\r\n    org.springframework.kafka.listener.ListenerExecutionFailedException: Listener failed\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2944)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2891)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2857)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.lambda$doInvokeRecordListener$56(KafkaMessageListenerContainer.java:2780)\r\n    \tat io.micrometer.observation.Observation.observe(Observation.java:559)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2778)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2630)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2516)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2168)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1523)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1487)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1362)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.springframework.kafka.KafkaException: Failed to execute runnable\r\n    \tat org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.doWithRetry(KafkaInboundEndpoint.java:75)\r\n    \tat org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:461)\r\n    \tat org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:425)\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2877)\r\n    \t... 12 more\r\n    Caused by: org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel &#39;application.fetchSeed-in-0&#39;., failedMessage=GenericMessage [payload=byte[88549], headers={kafka_offset=9184809, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@19b7a34e, deliveryAttempt=10, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=34, kafka_receivedMessageKey=[B@2d72e8c7, kafka_receivedTopic=graph-text, kafka_receivedTimestamp=1678842937842, kafka_acknowledgment=Acknowledgment for graph-text-34@9184809, contentType=application/json, kafka_groupId=page-quality-group-prod}]\r\n    \tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:76)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\r\n    \tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n    \tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n    \tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n    \tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n    \tat org.springframework.integration.endpoint.MessageProducerSupport.lambda$sendMessage$1(MessageProducerSupport.java:262)\r\n    \tat io.micrometer.observation.Observation.observe(Observation.java:492)\r\n    \tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:262)\r\n    \tat org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter.sendMessageIfAny(KafkaMessageDrivenChannelAdapter.java:394)\r\n    \tat org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.lambda$onMessage$0(KafkaMessageDrivenChannelAdapter.java:464)\r\n    \tat org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.lambda$doWithRetry$0(KafkaInboundEndpoint.java:70)\r\n    \tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\r\n    \tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:225)\r\n    \tat org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.doWithRetry(KafkaInboundEndpoint.java:66)\r\n    \t... 15 more\r\n    Caused by: org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload=byte[88549], headers={kafka_offset=9184809, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@19b7a34e, deliveryAttempt=10, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=34, kafka_receivedMessageKey=[B@2d72e8c7, kafka_receivedTopic=graph-text, kafka_receivedTimestamp=1678842937842, kafka_acknowledgment=Acknowledgment for graph-text-34@9184809, contentType=application/json, kafka_groupId=page-quality-group-prod}]\r\n\r\nAlso it is from the actuator:\r\n\r\n    {\r\n      &quot;status&quot;: &quot;UP&quot;,\r\n      &quot;components&quot;: {\r\n        &quot;binders&quot;: {\r\n          &quot;status&quot;: &quot;UP&quot;,\r\n          &quot;components&quot;: {\r\n            &quot;kafka&quot;: {\r\n              &quot;status&quot;: &quot;UP&quot;,\r\n              &quot;details&quot;: {\r\n                &quot;topicsInUse&quot;: [\r\n                  &quot;graph-text&quot;\r\n                ],\r\n                &quot;listenerContainers&quot;: [\r\n                  {\r\n                    &quot;isPaused&quot;: false,\r\n                    &quot;listenerId&quot;: &quot;KafkaConsumerDestination{consumerDestinationName=&#39;graph-text&#39;, partitions=0, dlqName=&#39;null&#39;}.container&quot;,\r\n                    &quot;isRunning&quot;: true,\r\n                    &quot;groupId&quot;: &quot;page-quality-group-prod&quot;,\r\n                    &quot;isStoppedAbnormally&quot;: false\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\nAs you can see it shows everything is normal but the application can&#39;t consumes anymore message.\r\n\r\nI don&#39;t know where the problem might be. \r\n\r\nif you need additional information let me know.\r\n","title":"Stream cloud stream throws `MessageDispatchingException: Dispatcher has no subscribers` from time to time","body":"<p>I have a spring cloud stream application that consumes a Kafka topic and eventually update an ElasticSearch index. here is my code:</p>\n<pre><code>@Bean\npublic Consumer&lt;Flux&lt;Message&lt;GraphTextKafkaRecord&gt;&gt;&gt; fetchSeed() {\n    return messages -&gt; messages\n            .map(message -&gt; {\n                var ack = (Acknowledgment) message.getHeaders().get(ACKNOWLEDGEMENT_KEY);\n                var graphTextRecord = message.getPayload();\n                log.debug(&quot;Fetch message from kafka. message: {}&quot;, graphTextRecord);\n                return Tuples.of(ack, graphTextRecord);\n            })\n            .filter(tuple -&gt; {\n                var result = appRules.test(tuple.getT2());\n                if (!result) {\n                    tuple.getT1().acknowledge();\n                    log.debug(&quot;Message: {} has been filtered due to rules defined in application&quot;, tuple.getT2());\n                }\n                return result;\n            })\n            .map(tuple -&gt; {\n                GraphTextKafkaRecord kafkaRecord = tuple.getT2();\n                return PageQuality\n                        .builder(tuple.getT1(), kafkaRecord.url(), kafkaRecord.pageQuality())\n                        .pageQualityAlphaScore(kafkaRecord.pageQualityAlpha())\n                        .statusCode(kafkaRecord.statusCode())\n                        .build();\n            })\n            .flatMap(esHandler::insertPageQualityScore)\n            .retryWhen(Retry.fixedDelay(5, Duration.ofSeconds(5)))\n            .subscribe();\n}\n</code></pre>\n<p>and it is my related configuration:</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      default-binder: kafka\n      kafka:\n        binder:\n          auto-create-topics: false\n          brokers: ${PAGE_QUALITY_PROD_KAFKA_BROKERS:x.x.x.x:9092}\n          enable-observation: false\n          consumer-properties:\n            allow.auto.create.topics: false\n        bindings:\n          fetchSeed-in-0:\n            consumer:\n              ack-mode: manual\n              enable-dlq: false\n              poll-timeout: 21474836470\n              start-offset: earliest\n      bindings:\n        fetchSeed-in-0:\n          group: page-quality-group-prod\n          destination: ${PAGE_QUALITY_PROD_KAFKA_TOPIC_NAME:graph-text}\n          consumer:\n            max-attempts: 10\n            back-off-initial-interval: 500\n            back-off-max-interval: 200\n            back-off-multiplier: 2.0\n  elasticsearch:\n    uris: ${PAGE_QUALITY_PROD_ELASTIC_SEARCH_HOST:http://x.x.x.x:9200}\n    username: ${PAGE_QUALITY_PROD_ELASTIC_SEARCH_USERNAME:user}\n    password: ${PAGE_QUALITY_PROD_ELASTIC_SEARCH_PASSWORD:pass}\n    socket-timeout: 30s\n    connection-timeout: 30S\n</code></pre>\n<p>it works well but after a few days it throws the following exception:</p>\n<pre><code>org.springframework.kafka.listener.ListenerExecutionFailedException: Listener failed\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2944)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2891)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2857)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.lambda$doInvokeRecordListener$56(KafkaMessageListenerContainer.java:2780)\n    at io.micrometer.observation.Observation.observe(Observation.java:559)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2778)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2630)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2516)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2168)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1523)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1487)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1362)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.kafka.KafkaException: Failed to execute runnable\n    at org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.doWithRetry(KafkaInboundEndpoint.java:75)\n    at org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:461)\n    at org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:425)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2877)\n    ... 12 more\nCaused by: org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel 'application.fetchSeed-in-0'., failedMessage=GenericMessage [payload=byte[88549], headers={kafka_offset=9184809, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@19b7a34e, deliveryAttempt=10, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=34, kafka_receivedMessageKey=[B@2d72e8c7, kafka_receivedTopic=graph-text, kafka_receivedTimestamp=1678842937842, kafka_acknowledgment=Acknowledgment for graph-text-34@9184809, contentType=application/json, kafka_groupId=page-quality-group-prod}]\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:76)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.endpoint.MessageProducerSupport.lambda$sendMessage$1(MessageProducerSupport.java:262)\n    at io.micrometer.observation.Observation.observe(Observation.java:492)\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:262)\n    at org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter.sendMessageIfAny(KafkaMessageDrivenChannelAdapter.java:394)\n    at org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.lambda$onMessage$0(KafkaMessageDrivenChannelAdapter.java:464)\n    at org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.lambda$doWithRetry$0(KafkaInboundEndpoint.java:70)\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:225)\n    at org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.doWithRetry(KafkaInboundEndpoint.java:66)\n    ... 15 more\nCaused by: org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload=byte[88549], headers={kafka_offset=9184809, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@19b7a34e, deliveryAttempt=10, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=34, kafka_receivedMessageKey=[B@2d72e8c7, kafka_receivedTopic=graph-text, kafka_receivedTimestamp=1678842937842, kafka_acknowledgment=Acknowledgment for graph-text-34@9184809, contentType=application/json, kafka_groupId=page-quality-group-prod}]\n</code></pre>\n<p>Also it is from the actuator:</p>\n<pre><code>{\n  &quot;status&quot;: &quot;UP&quot;,\n  &quot;components&quot;: {\n    &quot;binders&quot;: {\n      &quot;status&quot;: &quot;UP&quot;,\n      &quot;components&quot;: {\n        &quot;kafka&quot;: {\n          &quot;status&quot;: &quot;UP&quot;,\n          &quot;details&quot;: {\n            &quot;topicsInUse&quot;: [\n              &quot;graph-text&quot;\n            ],\n            &quot;listenerContainers&quot;: [\n              {\n                &quot;isPaused&quot;: false,\n                &quot;listenerId&quot;: &quot;KafkaConsumerDestination{consumerDestinationName='graph-text', partitions=0, dlqName='null'}.container&quot;,\n                &quot;isRunning&quot;: true,\n                &quot;groupId&quot;: &quot;page-quality-group-prod&quot;,\n                &quot;isStoppedAbnormally&quot;: false\n              }\n            ]\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>As you can see it shows everything is normal but the application can't consumes anymore message.</p>\n<p>I don't know where the problem might be.</p>\n<p>if you need additional information let me know.</p>\n"},{"tags":["java","spring-boot","web-services","soap"],"owner":{"account_id":18106034,"reputation":61,"user_id":13163365,"display_name":"Random Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678867630,"creation_date":1678867630,"question_id":75741964,"body_markdown":"I am making app that will be used as wrapper for another SOAP service - reason is that original service is not ready to make changes to its codebase.\r\nProblem that I am trying to solve is that my soap service receives request and I want to copy its security header 1:1 and send it to original service\r\n```java\r\n@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;DownloadRequest&quot;)\r\n    @ResponsePayload\r\n    public DownloadResponse download(@RequestPayload DownloadRequest request, @SoapHeader(\r\n            value = &quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security&quot;) SoapHeaderElement wsseSecurityHeader\r\n) {\r\n  ABCService ss = new ABCService();\r\n  ABCContract port = ss.getDefaultEndpoint(new WSAddressingFeature());\r\n  Map&lt;String, Object&gt; requestContext = ((BindingProvider) port).getRequestContext();\r\n  requestContext.put(Message.ENDPOINT_ADDRESS, &quot;https://existingservice.com/ABC/Service.svc/&quot;);\r\n  // todo set security header from request to request context?\r\n\r\n  return port.download(requestTodo.getValue());\r\n}\r\n```\r\n\r\nBut I was not able to find much information about wheter this is even possible or how can this be done. I am using Spring Boot 3.0.4 with Java 17 and Spring Boot Webservices alongside Apache cxf.\r\n\r\nMy header looks something like this:\r\n```xml\r\n&lt;wsse:Security\r\n    xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n    soap:mustUnderstand=&quot;true&quot;&gt;\r\n    &lt;wsu:Timestamp wsu:Id=&quot;TS-8f63ee9e-873b-4774-a15c-364731c1f2a9&quot;&gt;\r\n        &lt;wsu:Created&gt;2023-03-14T16:59:14.150Z&lt;/wsu:Created&gt;\r\n        &lt;wsu:Expires&gt;2023-03-14T17:04:14.150Z&lt;/wsu:Expires&gt;\r\n    &lt;/wsu:Timestamp&gt;\r\n    &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-c6cbb8c7-test-4e3b-test-a75c5393test&quot;&gt;\r\n        &lt;wsse:Username&gt;BCD&lt;/wsse:Username&gt;\r\n        &lt;wsse:Password\r\n            Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;\r\n            pass&lt;/wsse:Password&gt;\r\n    &lt;/wsse:UsernameToken&gt;\r\n    &lt;wsse:BinarySecurityToken\r\n        EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\r\n        wsu:Id=&quot;X509-b735test-test-47b0-9b88-test280ca52&quot;&gt;\r\n        MIIItest...&lt;/wsse:BinarySecurityToken&gt;\r\n    &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;\r\n        Id=&quot;SIG-b200test-03ec-test-9fbe-test18f1test&quot;&gt;\r\n        &lt;ds:SignedInfo&gt;\r\n            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                    PrefixList=&quot;soap&quot; /&gt;\r\n            &lt;/ds:CanonicalizationMethod&gt;\r\n            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n            &lt;ds:Reference URI=&quot;#TS-8f63ee9e-873b-4774-a15c-364731c1f2a9&quot;&gt;\r\n                &lt;ds:Transforms&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                            PrefixList=&quot;wsse soap&quot; /&gt;\r\n                    &lt;/ds:Transform&gt;\r\n                &lt;/ds:Transforms&gt;\r\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                &lt;ds:DigestValue&gt;QlWzmtest...&lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n            &lt;ds:Reference URI=&quot;#UsernameToken-c6cbb8c7-test-4e3b-bb9d-test39test1&quot;&gt;\r\n                &lt;ds:Transforms&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                            PrefixList=&quot;soap&quot; /&gt;\r\n                    &lt;/ds:Transform&gt;\r\n                &lt;/ds:Transforms&gt;\r\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                &lt;ds:DigestValue&gt;f2o+nCg+zZktest...&lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n            &lt;ds:Reference URI=&quot;#_450test-test-400b-81be-test144atest&quot;&gt;\r\n                &lt;ds:Transforms&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                &lt;/ds:Transforms&gt;\r\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                &lt;ds:DigestValue&gt;eXm3Ntest...&lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n            &lt;ds:Reference URI=&quot;#_a407test-e677-test-b9f7-test09dtest&quot;&gt;\r\n                &lt;ds:Transforms&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                            PrefixList=&quot;soap&quot; /&gt;\r\n                    &lt;/ds:Transform&gt;\r\n                &lt;/ds:Transforms&gt;\r\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                &lt;ds:DigestValue&gt;WRKiXAtest...&lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n            &lt;ds:Reference URI=&quot;#_1469test-test-419e-b2f7-test28dc8ec5&quot;&gt;\r\n                &lt;ds:Transforms&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                            PrefixList=&quot;soap&quot; /&gt;\r\n                    &lt;/ds:Transform&gt;\r\n                &lt;/ds:Transforms&gt;\r\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                &lt;ds:DigestValue&gt;Du3DP3fQMtest...&lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n            &lt;ds:Reference URI=&quot;#_c2b2c7d7-test-4570-aed3-testd53981aa&quot;&gt;\r\n                &lt;ds:Transforms&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                            PrefixList=&quot;soap&quot; /&gt;\r\n                    &lt;/ds:Transform&gt;\r\n                &lt;/ds:Transforms&gt;\r\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                &lt;ds:DigestValue&gt;fiIdtest...&lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n            &lt;ds:Reference URI=&quot;#_0e60test-e3ef-43c6-test-test2d6ctest&quot;&gt;\r\n                &lt;ds:Transforms&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                            PrefixList=&quot;soap&quot; /&gt;\r\n                    &lt;/ds:Transform&gt;\r\n                &lt;/ds:Transforms&gt;\r\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                &lt;ds:DigestValue&gt;27L2FB6itest...&lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n        &lt;/ds:SignedInfo&gt;\r\n        &lt;ds:SignatureValue&gt;\r\n            kkg+IHgLYK+3test...&lt;/ds:SignatureValue&gt;\r\n        &lt;ds:KeyInfo Id=&quot;KI-096test-c88a-4827-test-ctest22eda66&quot;&gt;\r\n            &lt;wsse:SecurityTokenReference\r\n                xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                wsu:Id=&quot;STR-5e7testc-dba0-4a7a-test-test40876b95&quot;&gt;\r\n                &lt;wsse:Reference URI=&quot;#X509-b735test-1011-test-9b88-test7280ca52&quot;\r\n                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\r\n            &lt;/wsse:SecurityTokenReference&gt;\r\n        &lt;/ds:KeyInfo&gt;\r\n    &lt;/ds:Signature&gt;\r\n&lt;/wsse:Security&gt;\r\n```","title":"Is there a way to copy security header from SOAP request to request that i will be making?","body":"<p>I am making app that will be used as wrapper for another SOAP service - reason is that original service is not ready to make changes to its codebase.\nProblem that I am trying to solve is that my soap service receives request and I want to copy its security header 1:1 and send it to original service</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;DownloadRequest&quot;)\n    @ResponsePayload\n    public DownloadResponse download(@RequestPayload DownloadRequest request, @SoapHeader(\n            value = &quot;{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security&quot;) SoapHeaderElement wsseSecurityHeader\n) {\n  ABCService ss = new ABCService();\n  ABCContract port = ss.getDefaultEndpoint(new WSAddressingFeature());\n  Map&lt;String, Object&gt; requestContext = ((BindingProvider) port).getRequestContext();\n  requestContext.put(Message.ENDPOINT_ADDRESS, &quot;https://existingservice.com/ABC/Service.svc/&quot;);\n  // todo set security header from request to request context?\n\n  return port.download(requestTodo.getValue());\n}\n</code></pre>\n<p>But I was not able to find much information about wheter this is even possible or how can this be done. I am using Spring Boot 3.0.4 with Java 17 and Spring Boot Webservices alongside Apache cxf.</p>\n<p>My header looks something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;wsse:Security\n    xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n    soap:mustUnderstand=&quot;true&quot;&gt;\n    &lt;wsu:Timestamp wsu:Id=&quot;TS-8f63ee9e-873b-4774-a15c-364731c1f2a9&quot;&gt;\n        &lt;wsu:Created&gt;2023-03-14T16:59:14.150Z&lt;/wsu:Created&gt;\n        &lt;wsu:Expires&gt;2023-03-14T17:04:14.150Z&lt;/wsu:Expires&gt;\n    &lt;/wsu:Timestamp&gt;\n    &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-c6cbb8c7-test-4e3b-test-a75c5393test&quot;&gt;\n        &lt;wsse:Username&gt;BCD&lt;/wsse:Username&gt;\n        &lt;wsse:Password\n            Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;\n            pass&lt;/wsse:Password&gt;\n    &lt;/wsse:UsernameToken&gt;\n    &lt;wsse:BinarySecurityToken\n        EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\n        wsu:Id=&quot;X509-b735test-test-47b0-9b88-test280ca52&quot;&gt;\n        MIIItest...&lt;/wsse:BinarySecurityToken&gt;\n    &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;\n        Id=&quot;SIG-b200test-03ec-test-9fbe-test18f1test&quot;&gt;\n        &lt;ds:SignedInfo&gt;\n            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                    PrefixList=&quot;soap&quot; /&gt;\n            &lt;/ds:CanonicalizationMethod&gt;\n            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\n            &lt;ds:Reference URI=&quot;#TS-8f63ee9e-873b-4774-a15c-364731c1f2a9&quot;&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                            PrefixList=&quot;wsse soap&quot; /&gt;\n                    &lt;/ds:Transform&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                &lt;ds:DigestValue&gt;QlWzmtest...&lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n            &lt;ds:Reference URI=&quot;#UsernameToken-c6cbb8c7-test-4e3b-bb9d-test39test1&quot;&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                            PrefixList=&quot;soap&quot; /&gt;\n                    &lt;/ds:Transform&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                &lt;ds:DigestValue&gt;f2o+nCg+zZktest...&lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n            &lt;ds:Reference URI=&quot;#_450test-test-400b-81be-test144atest&quot;&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                &lt;ds:DigestValue&gt;eXm3Ntest...&lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n            &lt;ds:Reference URI=&quot;#_a407test-e677-test-b9f7-test09dtest&quot;&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                            PrefixList=&quot;soap&quot; /&gt;\n                    &lt;/ds:Transform&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                &lt;ds:DigestValue&gt;WRKiXAtest...&lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n            &lt;ds:Reference URI=&quot;#_1469test-test-419e-b2f7-test28dc8ec5&quot;&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                            PrefixList=&quot;soap&quot; /&gt;\n                    &lt;/ds:Transform&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                &lt;ds:DigestValue&gt;Du3DP3fQMtest...&lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n            &lt;ds:Reference URI=&quot;#_c2b2c7d7-test-4570-aed3-testd53981aa&quot;&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                            PrefixList=&quot;soap&quot; /&gt;\n                    &lt;/ds:Transform&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                &lt;ds:DigestValue&gt;fiIdtest...&lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n            &lt;ds:Reference URI=&quot;#_0e60test-e3ef-43c6-test-test2d6ctest&quot;&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                            PrefixList=&quot;soap&quot; /&gt;\n                    &lt;/ds:Transform&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                &lt;ds:DigestValue&gt;27L2FB6itest...&lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n        &lt;/ds:SignedInfo&gt;\n        &lt;ds:SignatureValue&gt;\n            kkg+IHgLYK+3test...&lt;/ds:SignatureValue&gt;\n        &lt;ds:KeyInfo Id=&quot;KI-096test-c88a-4827-test-ctest22eda66&quot;&gt;\n            &lt;wsse:SecurityTokenReference\n                xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n                wsu:Id=&quot;STR-5e7testc-dba0-4a7a-test-test40876b95&quot;&gt;\n                &lt;wsse:Reference URI=&quot;#X509-b735test-1011-test-9b88-test7280ca52&quot;\n                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\n            &lt;/wsse:SecurityTokenReference&gt;\n        &lt;/ds:KeyInfo&gt;\n    &lt;/ds:Signature&gt;\n&lt;/wsse:Security&gt;\n</code></pre>\n"},{"tags":["java","api","post","unirest"],"answers":[{"tags":[],"owner":{"account_id":19233433,"reputation":1,"user_id":14054876,"display_name":"FOCS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678867429,"creation_date":1678867429,"answer_id":75741936,"question_id":75695145,"body_markdown":"Ultimately, the JSON had to be properly formatted.","title":"I&#39;m getting an error on a POST method that uses TeamTailor&#39;s API","body":"<p>Ultimately, the JSON had to be properly formatted.</p>\n"}],"owner":{"account_id":19233433,"reputation":1,"user_id":14054876,"display_name":"FOCS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678867429,"creation_date":1678445257,"question_id":75695145,"body_markdown":"I&#39;m trying to implement two methods: one that creates a candidate that is going to be inserted into teamtailor, the other one takes the candidate and puts it into a job offer. \r\n\r\nApparently, as i&#39;m debugging the method, it looks like it throws an exception when generating the response. If i try to print the body of the request, it gives me a json containing the error. If I try to send the request with postman, it returns a 201. So it creates the candidate effectively.\r\n\r\nProblem is, even if the exception is thrown, the candidate still gets created. \r\n\r\nAdditional problem: I can&#39;t call the other method to create the job application (i.e. put the candidate on the job) if the &quot;createcandidate&quot; one throws an exception.  \r\n\r\nThis is the createCandidateUniRest method:\r\n\r\n\r\n```\r\nprivate String createCandidateUniRest(String nome, String cognome, String email) throws UnirestException {\r\n        Unirest.setTimeouts(0, 0);\r\n        HttpResponse&lt;String&gt; response = Unirest.post(&quot;https://api.teamtailor.com/v1/candidates&quot;)\r\n                .header(&quot;Authorization&quot;, &quot;Token token=&quot; + authToken)\r\n                .header(&quot;X-Api-Version&quot;, &quot;20210218&quot;)\r\n                .header(&quot;Content-Type&quot;, &quot;application/vnd.api+json&quot;)\r\n                .body(&quot;{\\n    &quot; +\r\n                        &quot;\\&quot;data\\&quot;: {\\n        &quot; +\r\n                        &quot;\\&quot;type\\&quot;: \\&quot;candidates\\&quot;,\\n        &quot; +\r\n                        &quot;\\&quot;attributes\\&quot;: {\\n            &quot; +\r\n                        &quot;\\&quot;first-name\\&quot;: \\&quot;&quot; + nome + &quot;\\&quot;,\\n            &quot; +\r\n                        &quot;\\&quot;last-name\\&quot;: \\&quot;&quot; + cognome + &quot;\\&quot;,\\n            &quot; +\r\n                        &quot;\\&quot;email\\&quot;: \\&quot;&quot; + email + &quot;\\&quot;\\n        }\\n    }\\n}&quot;)\r\n                .asString();\r\n\r\n        JSONObject jsonResponse = new JSONObject(response.getBody());\r\n        String candidateId = jsonResponse.getJSONObject(&quot;data&quot;).getString(&quot;id&quot;);\r\n\r\n        return candidateId;\r\n    }\r\n```\r\n\r\nThis is the other method that&#39;s supposed to put the person into the job offer:\r\n\r\n```\r\npublic Response createJobApplication(String nome, String cognome, String email) throws CandidateCreationException {\r\n\r\n        String candidateId = &quot;&quot;;\r\n\r\n        try {\r\n            candidateId = createCandidateUniRest(nome, cognome, email);\r\n        } catch (UnirestException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        OkHttpClient client = new OkHttpClient().newBuilder().build();\r\n        MediaType mediaType = MediaType.parse(&quot;application/vnd.api+json&quot;);\r\n        JsonObject data = new JsonObject();\r\n        JsonObject attributes = new JsonObject();\r\n        attributes.addProperty(&quot;cover-letter&quot;, &quot;&quot;);\r\n        attributes.addProperty(&quot;sourced&quot;, true);\r\n        attributes.addProperty(&quot;send-user-notifications&quot;, true);\r\n        data.add(&quot;attributes&quot;, attributes);\r\n        JsonObject candidate = new JsonObject();\r\n        candidate.addProperty(&quot;type&quot;, &quot;candidates&quot;);\r\n        candidate.addProperty(&quot;id&quot;, candidateId);\r\n        JsonObject relationships = new JsonObject();\r\n        relationships.add(&quot;candidate&quot;, candidate);\r\n        JsonObject job = new JsonObject();\r\n        job.addProperty(&quot;type&quot;, &quot;jobs&quot;);\r\n        job.addProperty(&quot;id&quot;, jobId);\r\n        relationships.add(&quot;job&quot;, job);\r\n        data.add(&quot;relationships&quot;, relationships);\r\n        data.addProperty(&quot;type&quot;, &quot;job-applications&quot;);\r\n        JsonObject jobApplication = new JsonObject();\r\n        jobApplication.add(&quot;data&quot;, data);\r\n        RequestBody body = RequestBody.create(mediaType, jobApplication.toString());\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://api.teamtailor.com/v1/job-applications&quot;)\r\n                .method(&quot;POST&quot;, body)\r\n                .addHeader(&quot;Authorization&quot;, &quot;Token token=&quot; + authToken)\r\n                .addHeader(&quot;X-Api-Version&quot;, &quot;20210218&quot;)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/vnd.api+json&quot;)\r\n                .build();\r\n        try {\r\n            Response response = client.newCall(request).execute();\r\n            return response;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n  \r\n\r\nI tried with postman, and the requests (i.e. TeamTailor&#39;s APIs) seem to work. But my methods don&#39;t. I tried to debug too and I&#39;m getting this error: Must use either different key or  iv for GCM encryption. ","title":"I&#39;m getting an error on a POST method that uses TeamTailor&#39;s API","body":"<p>I'm trying to implement two methods: one that creates a candidate that is going to be inserted into teamtailor, the other one takes the candidate and puts it into a job offer.</p>\n<p>Apparently, as i'm debugging the method, it looks like it throws an exception when generating the response. If i try to print the body of the request, it gives me a json containing the error. If I try to send the request with postman, it returns a 201. So it creates the candidate effectively.</p>\n<p>Problem is, even if the exception is thrown, the candidate still gets created.</p>\n<p>Additional problem: I can't call the other method to create the job application (i.e. put the candidate on the job) if the &quot;createcandidate&quot; one throws an exception.</p>\n<p>This is the createCandidateUniRest method:</p>\n<pre><code>private String createCandidateUniRest(String nome, String cognome, String email) throws UnirestException {\n        Unirest.setTimeouts(0, 0);\n        HttpResponse&lt;String&gt; response = Unirest.post(&quot;https://api.teamtailor.com/v1/candidates&quot;)\n                .header(&quot;Authorization&quot;, &quot;Token token=&quot; + authToken)\n                .header(&quot;X-Api-Version&quot;, &quot;20210218&quot;)\n                .header(&quot;Content-Type&quot;, &quot;application/vnd.api+json&quot;)\n                .body(&quot;{\\n    &quot; +\n                        &quot;\\&quot;data\\&quot;: {\\n        &quot; +\n                        &quot;\\&quot;type\\&quot;: \\&quot;candidates\\&quot;,\\n        &quot; +\n                        &quot;\\&quot;attributes\\&quot;: {\\n            &quot; +\n                        &quot;\\&quot;first-name\\&quot;: \\&quot;&quot; + nome + &quot;\\&quot;,\\n            &quot; +\n                        &quot;\\&quot;last-name\\&quot;: \\&quot;&quot; + cognome + &quot;\\&quot;,\\n            &quot; +\n                        &quot;\\&quot;email\\&quot;: \\&quot;&quot; + email + &quot;\\&quot;\\n        }\\n    }\\n}&quot;)\n                .asString();\n\n        JSONObject jsonResponse = new JSONObject(response.getBody());\n        String candidateId = jsonResponse.getJSONObject(&quot;data&quot;).getString(&quot;id&quot;);\n\n        return candidateId;\n    }\n</code></pre>\n<p>This is the other method that's supposed to put the person into the job offer:</p>\n<pre><code>public Response createJobApplication(String nome, String cognome, String email) throws CandidateCreationException {\n\n        String candidateId = &quot;&quot;;\n\n        try {\n            candidateId = createCandidateUniRest(nome, cognome, email);\n        } catch (UnirestException e) {\n            throw new RuntimeException(e);\n        }\n\n        OkHttpClient client = new OkHttpClient().newBuilder().build();\n        MediaType mediaType = MediaType.parse(&quot;application/vnd.api+json&quot;);\n        JsonObject data = new JsonObject();\n        JsonObject attributes = new JsonObject();\n        attributes.addProperty(&quot;cover-letter&quot;, &quot;&quot;);\n        attributes.addProperty(&quot;sourced&quot;, true);\n        attributes.addProperty(&quot;send-user-notifications&quot;, true);\n        data.add(&quot;attributes&quot;, attributes);\n        JsonObject candidate = new JsonObject();\n        candidate.addProperty(&quot;type&quot;, &quot;candidates&quot;);\n        candidate.addProperty(&quot;id&quot;, candidateId);\n        JsonObject relationships = new JsonObject();\n        relationships.add(&quot;candidate&quot;, candidate);\n        JsonObject job = new JsonObject();\n        job.addProperty(&quot;type&quot;, &quot;jobs&quot;);\n        job.addProperty(&quot;id&quot;, jobId);\n        relationships.add(&quot;job&quot;, job);\n        data.add(&quot;relationships&quot;, relationships);\n        data.addProperty(&quot;type&quot;, &quot;job-applications&quot;);\n        JsonObject jobApplication = new JsonObject();\n        jobApplication.add(&quot;data&quot;, data);\n        RequestBody body = RequestBody.create(mediaType, jobApplication.toString());\n        Request request = new Request.Builder()\n                .url(&quot;https://api.teamtailor.com/v1/job-applications&quot;)\n                .method(&quot;POST&quot;, body)\n                .addHeader(&quot;Authorization&quot;, &quot;Token token=&quot; + authToken)\n                .addHeader(&quot;X-Api-Version&quot;, &quot;20210218&quot;)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/vnd.api+json&quot;)\n                .build();\n        try {\n            Response response = client.newCall(request).execute();\n            return response;\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>I tried with postman, and the requests (i.e. TeamTailor's APIs) seem to work. But my methods don't. I tried to debug too and I'm getting this error: Must use either different key or  iv for GCM encryption.</p>\n"},{"tags":["java","coding-style","maintainability"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678867362,"creation_date":1678622897,"answer_id":75712992,"question_id":75712920,"body_markdown":"is this Java or JavaScript? anyway, you should be able to add some polymorphic behavior into your enum. This means each type of the enum knows how to do something or if it allows doing something. let&#39;s look at a simple Java example:\r\n\r\n    public enum Status {\r\n    \tNEW(true),\r\n    \tIN_PROGRESS(true),\r\n    \tREJECTED(false);\r\n    \r\n    \tprivate final boolean allowsSomething;\r\n    \r\n    \tStatus(boolean allowsSomething) {\r\n    \t\tthis.allowsSomething = allowsSomething;\r\n    \t}\r\n    \r\n    \tpublic boolean allowsSomething() {\r\n    \t\treturn allowsSomething;\r\n    \t}\r\n    }\r\n\r\nNow, let&#39;s refactor your method. Instead of this: \r\n\r\n    void someMethod() {\r\n    \tStatus status = someStatus();\r\n    \tif (status == Status.NEW || status == Status.IN_PROGRESS) {\r\n    \t\t// do something\r\n    \t}\r\n    }\r\n\r\nWe&#39;ll use it like this:\r\n\r\n    void someMethod_refactored() {\r\n    \tStatus status = someStatus();\r\n    \tif (status.allowsSomething()) {\r\n    \t\t// do something\r\n    \t}\r\n    }\r\n\r\nLet&#39;s assume you now want to add an additional value to the enum, for example, `CANCELLED`. You will be forced to specify the `allowsSomething` flag, and then all the clients of this enum will work correctly.\r\n","title":"How to maintain enums (and adding new values) in a very large codebase","body":"<p>is this Java or JavaScript? anyway, you should be able to add some polymorphic behavior into your enum. This means each type of the enum knows how to do something or if it allows doing something. let's look at a simple Java example:</p>\n<pre><code>public enum Status {\n    NEW(true),\n    IN_PROGRESS(true),\n    REJECTED(false);\n\n    private final boolean allowsSomething;\n\n    Status(boolean allowsSomething) {\n        this.allowsSomething = allowsSomething;\n    }\n\n    public boolean allowsSomething() {\n        return allowsSomething;\n    }\n}\n</code></pre>\n<p>Now, let's refactor your method. Instead of this:</p>\n<pre><code>void someMethod() {\n    Status status = someStatus();\n    if (status == Status.NEW || status == Status.IN_PROGRESS) {\n        // do something\n    }\n}\n</code></pre>\n<p>We'll use it like this:</p>\n<pre><code>void someMethod_refactored() {\n    Status status = someStatus();\n    if (status.allowsSomething()) {\n        // do something\n    }\n}\n</code></pre>\n<p>Let's assume you now want to add an additional value to the enum, for example, <code>CANCELLED</code>. You will be forced to specify the <code>allowsSomething</code> flag, and then all the clients of this enum will work correctly.</p>\n"}],"owner":{"account_id":4506470,"reputation":2629,"user_id":3663669,"display_name":"gaganshera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75712992,"answer_count":1,"score":-1,"last_activity_date":1678867362,"creation_date":1678621992,"question_id":75712920,"body_markdown":"In a very large and old codebase, suppose we&#39;re using a database column `status` with enum values as `NEW`, `IN_PROGRESS`, `COMPLETED`, `REJECTED`.\r\n\r\nNow this `status` is used in multiple conditions in code like \r\n```\r\nif (status == `NEW` || status ==  `IN_PROGRESS`) {\r\n  // do something\r\n}\r\n```\r\n\r\nor might be in some SQL statement like\r\n```\r\nWHERE status NOT IN (&quot;REJECTED&quot;)\r\n```\r\n\r\nNow if we want to add a new enum value to `status` eg. &quot;CANCELLED&quot;, then we&#39;d have to handle all the places where `status` was used in the code. \r\n\r\nConsidering that the codebase can be somewhat distributed, large and quite old, it would prove to be very difficult for this sort of change. How can we improve this such that it would be easier to maintain these sort of changes?\r\n\r\nI&#39;m not writing about any particular language, just the concept, as it should be replicable for multiple languages.","title":"How to maintain enums (and adding new values) in a very large codebase","body":"<p>In a very large and old codebase, suppose we're using a database column <code>status</code> with enum values as <code>NEW</code>, <code>IN_PROGRESS</code>, <code>COMPLETED</code>, <code>REJECTED</code>.</p>\n<p>Now this <code>status</code> is used in multiple conditions in code like</p>\n<pre><code>if (status == `NEW` || status ==  `IN_PROGRESS`) {\n  // do something\n}\n</code></pre>\n<p>or might be in some SQL statement like</p>\n<pre><code>WHERE status NOT IN (&quot;REJECTED&quot;)\n</code></pre>\n<p>Now if we want to add a new enum value to <code>status</code> eg. &quot;CANCELLED&quot;, then we'd have to handle all the places where <code>status</code> was used in the code.</p>\n<p>Considering that the codebase can be somewhat distributed, large and quite old, it would prove to be very difficult for this sort of change. How can we improve this such that it would be easier to maintain these sort of changes?</p>\n<p>I'm not writing about any particular language, just the concept, as it should be replicable for multiple languages.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678868093,"post_id":75741756,"comment_id":133614501,"body_markdown":"application.properties looks good but most probably is not on the classpath. Check similar question and answer here: https://stackoverflow.com/questions/75733313/why-cant-i-use-jpa-without-h2","body":"application.properties looks good but most probably is not on the classpath. Check similar question and answer here: <a href=\"https://stackoverflow.com/questions/75733313/why-cant-i-use-jpa-without-h2\" title=\"why cant i use jpa without h2\">stackoverflow.com/questions/75733313/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5869093,"reputation":66,"user_id":4621953,"display_name":"Luman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678866717,"creation_date":1678866717,"answer_id":75741830,"question_id":75741756,"body_markdown":"I guess you don&#39;t have application.properties in \r\n\r\n`G:\\Reek\\development\\Java\\STS\\springboot-backend\\target\\classes`\r\n\r\nIf that is indeed the case,You need to add:\r\n\r\n     &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\nin \\&lt;build\\&gt; child\r\n","title":"Spring Boot application not running-Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>I guess you don't have application.properties in</p>\n<p><code>G:\\Reek\\development\\Java\\STS\\springboot-backend\\target\\classes</code></p>\n<p>If that is indeed the case,You need to add:</p>\n<pre><code> &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n<p>in &lt;build&gt; child</p>\n"}],"owner":{"account_id":23357217,"reputation":9,"user_id":17430025,"display_name":"reek1729"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678866717,"creation_date":1678866156,"question_id":75741756,"body_markdown":"I was running a Spring Boot application and I got the following error\r\n\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n```\r\n+ I am using **MySQL 8.0**\r\n+ I am using **Spring Tool Suite (STS) 4.17.2**\r\n\r\nThis is the **entire console output**\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n[32m :: Spring Boot :: [39m              [2m (v3.0.4)[0;39m\r\n\r\n[2m2023-03-15T12:59:50.801+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.s.app.SpringbootBackendApplication    [0;39m [2m:[0;39m Starting SpringbootBackendApplication using Java 17.0.6 with PID 11308 (G:\\Reek\\development\\Java\\STS\\springboot-backend\\target\\classes started by REEK in G:\\Reek\\development\\Java\\STS\\springboot-backend)\r\n[2m2023-03-15T12:59:50.812+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.s.app.SpringbootBackendApplication    [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[2m2023-03-15T12:59:51.967+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n[2m2023-03-15T12:59:52.026+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 30 ms. Found 0 JPA repository interfaces.\r\n[2m2023-03-15T12:59:52.910+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\r\n[2m2023-03-15T12:59:52.931+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[2m2023-03-15T12:59:52.932+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n[2m2023-03-15T12:59:53.159+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[2m2023-03-15T12:59:53.160+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 2192 ms\r\n[2m2023-03-15T12:59:53.288+05:30[0;39m [33m WARN[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n[2m2023-03-15T12:59:53.311+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n[2m2023-03-15T12:59:53.377+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.b.a.l.ConditionEvaluationReportLogger[0;39m [2m:[0;39m \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n[2m2023-03-15T12:59:53.420+05:30[0;39m [31mERROR[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n\r\n\r\n```\r\n\\\r\n\\\r\n\\\r\nI am using Spring Tool Suite and this is my current **folder structure**\r\n\r\n[folder structure](https://i.stack.imgur.com/8notF.png)\r\n\r\n\\\r\n\\\r\n\\\r\nThis is my **pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springboot.app&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springboot-backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;springboot-backend&lt;/name&gt;\r\n\t&lt;description&gt;Spring Boot RESTful web services&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\\\r\n\\\r\n\\\r\nThis is my **application.properties**\r\n\r\n```\r\nserver.port=8081\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/ems?useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\\\r\n\\\r\n\\\r\n\\\r\nI do not understand what&#39;s wrong, please help me here.\r\n\r\nI tried to run the application and I was expecting that it would run without any errors","title":"Spring Boot application not running-Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>I was running a Spring Boot application and I got the following error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<ul>\n<li>I am using <strong>MySQL 8.0</strong></li>\n<li>I am using <strong>Spring Tool Suite (STS) 4.17.2</strong></li>\n</ul>\n<p>This is the <strong>entire console output</strong></p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m              [2m (v3.0.4)[0;39m\n\n[2m2023-03-15T12:59:50.801+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.s.app.SpringbootBackendApplication    [0;39m [2m:[0;39m Starting SpringbootBackendApplication using Java 17.0.6 with PID 11308 (G:\\Reek\\development\\Java\\STS\\springboot-backend\\target\\classes started by REEK in G:\\Reek\\development\\Java\\STS\\springboot-backend)\n[2m2023-03-15T12:59:50.812+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.s.app.SpringbootBackendApplication    [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[2m2023-03-15T12:59:51.967+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n[2m2023-03-15T12:59:52.026+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 30 ms. Found 0 JPA repository interfaces.\n[2m2023-03-15T12:59:52.910+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\n[2m2023-03-15T12:59:52.931+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[2m2023-03-15T12:59:52.932+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.5]\n[2m2023-03-15T12:59:53.159+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[2m2023-03-15T12:59:53.160+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 2192 ms\n[2m2023-03-15T12:59:53.288+05:30[0;39m [33m WARN[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n[2m2023-03-15T12:59:53.311+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\n[2m2023-03-15T12:59:53.377+05:30[0;39m [32m INFO[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.b.a.l.ConditionEvaluationReportLogger[0;39m [2m:[0;39m \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n[2m2023-03-15T12:59:53.420+05:30[0;39m [31mERROR[0;39m [35m11308[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n\n\n</code></pre>\n<p><br />\n<br />\n<br />\nI am using Spring Tool Suite and this is my current <strong>folder structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/8notF.png\" rel=\"nofollow noreferrer\">folder structure</a></p>\n<p><br />\n<br />\n<br />\nThis is my <strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springboot.app&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-backend&lt;/name&gt;\n    &lt;description&gt;Spring Boot RESTful web services&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><br />\n<br />\n<br />\nThis is my <strong>application.properties</strong></p>\n<pre><code>server.port=8081\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/ems?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p><br />\n<br />\n<br />\n<br />\nI do not understand what's wrong, please help me here.</p>\n<p>I tried to run the application and I was expecting that it would run without any errors</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5256482,"reputation":365,"user_id":4199256,"accept_rate":71,"display_name":"Ramiro Arizpe Giacomelli"},"score":0,"creation_date":1454078358,"post_id":30771181,"comment_id":57895892,"body_markdown":"Hi, you&#39;ve find the solution? Regards.","body":"Hi, you&#39;ve find the solution? Regards."}],"owner":{"account_id":6450293,"reputation":11,"user_id":4997421,"display_name":"Keith Forever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678866678,"creation_date":1433994226,"question_id":30771181,"body_markdown":"i&#39;m using poi to export a word file.\r\nit&#39;s my source.\r\nthe question is that\r\nif the run is a textRun,i can remove it by this method(para.removeRun)\r\nbut if the run is a XWPFHyperlinkRun\r\nit doesn&#39;t work ..\r\nso...how can i remove a XWPFHyperlinkRun?\r\n\r\n    InputStream fs = new FileInputStream(&quot;MY_WORD_FILE_Path&quot;);\r\n         XWPFDocument doc=new XWPFDocument(fs);\r\n         List&lt;XWPFParagraph&gt; paras = doc.getParagraphs();\r\n         for (XWPFParagraph para : paras) {\r\n            para.removeRun(0);\r\n           }\r\n         FileOutputStream out = new FileOutputStream(&quot;D:\\\\testxx.docx&quot;);\r\n                 doc.write(out);\r\n                 out.close();","title":"how to remove a XWPFHyperlinkRun by poi","body":"<p>i'm using poi to export a word file.\nit's my source.\nthe question is that\nif the run is a textRun,i can remove it by this method(para.removeRun)\nbut if the run is a XWPFHyperlinkRun\nit doesn't work ..\nso...how can i remove a XWPFHyperlinkRun?</p>\n\n<pre><code>InputStream fs = new FileInputStream(\"MY_WORD_FILE_Path\");\n     XWPFDocument doc=new XWPFDocument(fs);\n     List&lt;XWPFParagraph&gt; paras = doc.getParagraphs();\n     for (XWPFParagraph para : paras) {\n        para.removeRun(0);\n       }\n     FileOutputStream out = new FileOutputStream(\"D:\\\\testxx.docx\");\n             doc.write(out);\n             out.close();\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi","paragraph"],"comments":[{"owner":{"account_id":5256482,"reputation":365,"user_id":4199256,"accept_rate":71,"display_name":"Ramiro Arizpe Giacomelli"},"score":0,"creation_date":1454166814,"post_id":35075174,"comment_id":57927605,"body_markdown":"Thanks to @Axel Richter for the solution: http://stackoverflow.com/questions/35088893/apache-poi-remove-cthyperlink-low-level-code/35101440#35101440","body":"Thanks to @Axel Richter for the solution: <a href=\"http://stackoverflow.com/questions/35088893/apache-poi-remove-cthyperlink-low-level-code/35101440#35101440\" title=\"apache poi remove cthyperlink low level code\">stackoverflow.com/questions/35088893/&hellip;</a>"}],"owner":{"account_id":5256482,"reputation":365,"user_id":4199256,"accept_rate":71,"display_name":"Ramiro Arizpe Giacomelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678866601,"creation_date":1454029710,"question_id":35075174,"body_markdown":"I have the same problem as this partner: https://stackoverflow.com/questions/30771181/how-to-remove-a-xwpfhyperlinkrun-by-poi\r\n\r\nI can&#39;t convert my .doc to .pdf because of that XWPFHyperlinkRun element.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can remove a simply run paragraph like this:\r\n\r\n    for (XWPFParagraph xwpfParagraph : paragraphs) {\r\n            for (int i = 0; i &lt; xwpfParagraph.getRuns().size(); i++)\r\n           {\r\n              xwpfParagraph.removeRun(i);\r\n           }\r\n        }\r\n\r\nbut hypertextlink don&#39;t......\r\n\r\nIf someone had a solution i will be really grateful.\r\n\r\nThanks, regards.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lPU6H.png","title":"Remove XWPFHyperlinkRun Apache POI","body":"<p>I have the same problem as this partner: <a href=\"https://stackoverflow.com/questions/30771181/how-to-remove-a-xwpfhyperlinkrun-by-poi\">how to remove a XWPFHyperlinkRun by poi</a></p>\n\n<p>I can't convert my .doc to .pdf because of that XWPFHyperlinkRun element.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lPU6H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lPU6H.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can remove a simply run paragraph like this:</p>\n\n<pre><code>for (XWPFParagraph xwpfParagraph : paragraphs) {\n        for (int i = 0; i &lt; xwpfParagraph.getRuns().size(); i++)\n       {\n          xwpfParagraph.removeRun(i);\n       }\n    }\n</code></pre>\n\n<p>but hypertextlink don't......</p>\n\n<p>If someone had a solution i will be really grateful.</p>\n\n<p>Thanks, regards.</p>\n"},{"tags":["java","spring","hibernate","jdbc","h2"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1543204072,"post_id":53472847,"comment_id":93819437,"body_markdown":"What if you use `@Table(schema = &quot;MYTESTDB&quot;, name = &quot;TEST_TABLE&quot;)`?","body":"What if you use <code>@Table(schema = &quot;MYTESTDB&quot;, name = &quot;TEST_TABLE&quot;)</code>?"},{"owner":{"account_id":5562719,"reputation":57,"user_id":5683846,"display_name":"Daim"},"score":0,"creation_date":1543233577,"post_id":53472847,"comment_id":93830878,"body_markdown":"@slaw I will test it and come back to you.","body":"@slaw I will test it and come back to you."}],"answers":[{"comments":[{"owner":{"account_id":1632626,"reputation":850,"user_id":1506881,"display_name":"J&#246;rg"},"score":0,"creation_date":1633936872,"post_id":53480980,"comment_id":122883093,"body_markdown":"Hardcoding schema names into entities should be considered as an anti-pattern. Use spring-config, synonyms, logon-trigger, or something alike instead to keep your code more portable.","body":"Hardcoding schema names into entities should be considered as an anti-pattern. Use spring-config, synonyms, logon-trigger, or something alike instead to keep your code more portable."}],"tags":[],"owner":{"account_id":5562719,"reputation":57,"user_id":5683846,"display_name":"Daim"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543234700,"creation_date":1543234700,"answer_id":53480980,"question_id":53472847,"body_markdown":"Its working now. With the help of @Slaw I am able to use **&quot;Validate&quot;** property. \r\nUse `@Table(schema = &quot;MYTESTDB&quot;, name = &quot;TEST_TABLE&quot;)` instead of `@Table(name = &quot;MYTESTDB.TEST_TABLE&quot;)`. But I had to change a bit more in user entity class. Instead of `@GeneratedValue` annotation I added `@GeneratedValue(strategy = GenerationType.IDENTITY)`. Now everything is working fine. \r\n\r\nThanks @Slaw and @Mykhailo for your valuable time. \r\n","title":"Why Hibernate schema-validation fail to validate schema","body":"<p>Its working now. With the help of @Slaw I am able to use <strong>\"Validate\"</strong> property. \nUse <code>@Table(schema = \"MYTESTDB\", name = \"TEST_TABLE\")</code> instead of <code>@Table(name = \"MYTESTDB.TEST_TABLE\")</code>. But I had to change a bit more in user entity class. Instead of <code>@GeneratedValue</code> annotation I added <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>. Now everything is working fine. </p>\n\n<p>Thanks @Slaw and @Mykhailo for your valuable time. </p>\n"}],"owner":{"account_id":5562719,"reputation":57,"user_id":5683846,"display_name":"Daim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678866397,"creation_date":1543186716,"question_id":53472847,"body_markdown":"The same question has been asked number of times but none of them has solution to my problem.\r\n \r\nI have created a hibernate + H2 + Sprinvg mvc project. I am using java based configuration. I have the following beans related to Datasource, SessionFactory and TransactionManager\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages=&quot;org.testpackage&quot;)\r\n    @EnableWebMvc\r\n    @EnableTransactionManagement\r\n\r\n    public class MyConfiguration extends WebMvcConfigurationSupport {\r\n     \r\n        \r\n    @Bean(initMethod=&quot;start&quot;,destroyMethod=&quot;stop&quot;)\r\n    public org.h2.tools.Server h2WebConsonleServer () throws SQLException {\r\n      return org.h2.tools.Server.createWebServer(&quot;-web&quot;,&quot;-webAllowOthers&quot;,&quot;- \r\n      webDaemon&quot;,&quot;-webPort&quot;, &quot;8082&quot;);\r\n    }\r\n   \r\n    @Bean\r\n    public DataSource getDataSource() {    \t\r\n    \treturn new EmbeddedDatabaseBuilder()\r\n    \t\t    .generateUniqueName(false)\r\n    \t\t    .setName(&quot;mytestdb&quot;)\r\n    \t\t    .setType(EmbeddedDatabaseType.H2)\r\n    \t\t    .addDefaultScripts()\r\n    \t\t    .setScriptEncoding(&quot;UTF-8&quot;)\r\n    \t\t    .ignoreFailedDrops(true)\r\n    \t\t    .build();\r\n    }\r\n    \r\n    @Bean\r\n    public LocalSessionFactoryBean sessionFactory() {\r\n        final LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n        sessionFactory.setDataSource(getDataSource());\r\n        sessionFactory.setHibernateProperties(hibernateProperties());\r\n        sessionFactory.setPackagesToScan(new String[] {&quot;org.testpackage.model&quot;});\r\n\r\n        return sessionFactory;\r\n    }\r\n\r\n    @Bean\r\n    @Autowired\r\n    public HibernateTransactionManager transactionManager(final SessionFactory sessionFactory) {\r\n        final HibernateTransactionManager txManager = new HibernateTransactionManager();\r\n        txManager.setSessionFactory(sessionFactory);\r\n\r\n        return txManager;\r\n    }\r\n\r\n    final Properties hibernateProperties() {\r\n        final Properties hibernateProperties = new Properties();\r\n        hibernateProperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;validate&quot;);\r\n        hibernateProperties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n\r\n        return hibernateProperties;\r\n    }\r\n      //Some more beans  \r\n    }\r\n\r\nI have the following Entity class\r\n\r\n    @Entity\r\n    @Table(name = &quot;MYTESTDB.TEST_TABLE&quot;)\r\n    public class User{\r\n\t\r\n\t@Id\r\n\t@GeneratedValue\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name = &quot;name&quot;)\r\n    private String name;\r\n\t\r\n\t@Column(name = &quot;email&quot;, unique = true)\r\n    private String email;\r\n    \r\n\t\r\n\tpublic User(int id, String name, String email) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic User() {\r\n    }\r\n    //Getters and Setters\r\n    }\r\n\r\nin the DataSource bean I am using addDefaultScripts() and I have 2 sql scripts which create Schema in H2 and insert some predefined value. Which are as follows.\r\n\r\n    //schema.sql Script\r\n    CREATE SCHEMA `MYTESTDB` ;\r\n    Drop TABLE IF EXISTS MYTESTDBDB.TEST_TABLE;\r\n    CREATE TABLE MYTESTDB.TEST_TABLE ( \r\n       ID INT NOT NULL PRIMARY KEY, \r\n       NAME VARCHAR(50) NOT NULL, \r\n       EMAIL VARCHAR(20) NOT NULL, \r\n       );\r\n    CREATE UNIQUE INDEX ON MYTESTDB.TEST_TABLE (EMAIL)\r\n    \r\n    //data.sql Script\r\n    INSERT INTO MYTESTDB.TEST_TABLE(id, name, email) \r\n    VALUES (&#39;1&#39;, &#39;Tom&#39;, &#39;tom12@hotmail.com&#39;);\r\n\r\nIf I use hibernate **hbm2ddl.auto** property value **&quot;create&quot;** everything works fine, hibernate drops the table and recreate it. I have verified it from the web browser. But if I use **&quot;validate&quot;** property I get the following error exception\r\n\r\n    Error creating bean with name &#39;sessionFactory&#39; defined in org.testPackage.configuration.MYConfiguration: Invocation of init method    failed; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [MYTESTDB.TEST_TABLE]\r\n\r\nCan anyone please help me to find out the problem? ","title":"Why Hibernate schema-validation fail to validate schema","body":"<p>The same question has been asked number of times but none of them has solution to my problem.</p>\n\n<p>I have created a hibernate + H2 + Sprinvg mvc project. I am using java based configuration. I have the following beans related to Datasource, SessionFactory and TransactionManager</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages=\"org.testpackage\")\n@EnableWebMvc\n@EnableTransactionManagement\n\npublic class MyConfiguration extends WebMvcConfigurationSupport {\n\n\n@Bean(initMethod=\"start\",destroyMethod=\"stop\")\npublic org.h2.tools.Server h2WebConsonleServer () throws SQLException {\n  return org.h2.tools.Server.createWebServer(\"-web\",\"-webAllowOthers\",\"- \n  webDaemon\",\"-webPort\", \"8082\");\n}\n\n@Bean\npublic DataSource getDataSource() {     \n    return new EmbeddedDatabaseBuilder()\n            .generateUniqueName(false)\n            .setName(\"mytestdb\")\n            .setType(EmbeddedDatabaseType.H2)\n            .addDefaultScripts()\n            .setScriptEncoding(\"UTF-8\")\n            .ignoreFailedDrops(true)\n            .build();\n}\n\n@Bean\npublic LocalSessionFactoryBean sessionFactory() {\n    final LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n    sessionFactory.setDataSource(getDataSource());\n    sessionFactory.setHibernateProperties(hibernateProperties());\n    sessionFactory.setPackagesToScan(new String[] {\"org.testpackage.model\"});\n\n    return sessionFactory;\n}\n\n@Bean\n@Autowired\npublic HibernateTransactionManager transactionManager(final SessionFactory sessionFactory) {\n    final HibernateTransactionManager txManager = new HibernateTransactionManager();\n    txManager.setSessionFactory(sessionFactory);\n\n    return txManager;\n}\n\nfinal Properties hibernateProperties() {\n    final Properties hibernateProperties = new Properties();\n    hibernateProperties.setProperty(\"hibernate.hbm2ddl.auto\", \"validate\");\n    hibernateProperties.setProperty(\"hibernate.show_sql\", \"true\");\n\n    return hibernateProperties;\n}\n  //Some more beans  \n}\n</code></pre>\n\n<p>I have the following Entity class</p>\n\n<pre><code>@Entity\n@Table(name = \"MYTESTDB.TEST_TABLE\")\npublic class User{\n\n@Id\n@GeneratedValue\n@Column(name = \"id\")\nprivate int id;\n\n@Column(name = \"name\")\nprivate String name;\n\n@Column(name = \"email\", unique = true)\nprivate String email;\n\n\npublic User(int id, String name, String email) {\n    super();\n    this.id = id;\n    this.name = name;\n    this.email = email;\n}\n\npublic User() {\n}\n//Getters and Setters\n}\n</code></pre>\n\n<p>in the DataSource bean I am using addDefaultScripts() and I have 2 sql scripts which create Schema in H2 and insert some predefined value. Which are as follows.</p>\n\n<pre><code>//schema.sql Script\nCREATE SCHEMA `MYTESTDB` ;\nDrop TABLE IF EXISTS MYTESTDBDB.TEST_TABLE;\nCREATE TABLE MYTESTDB.TEST_TABLE ( \n   ID INT NOT NULL PRIMARY KEY, \n   NAME VARCHAR(50) NOT NULL, \n   EMAIL VARCHAR(20) NOT NULL, \n   );\nCREATE UNIQUE INDEX ON MYTESTDB.TEST_TABLE (EMAIL)\n\n//data.sql Script\nINSERT INTO MYTESTDB.TEST_TABLE(id, name, email) \nVALUES ('1', 'Tom', 'tom12@hotmail.com');\n</code></pre>\n\n<p>If I use hibernate <strong>hbm2ddl.auto</strong> property value <strong>\"create\"</strong> everything works fine, hibernate drops the table and recreate it. I have verified it from the web browser. But if I use <strong>\"validate\"</strong> property I get the following error exception</p>\n\n<pre><code>Error creating bean with name 'sessionFactory' defined in org.testPackage.configuration.MYConfiguration: Invocation of init method    failed; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [MYTESTDB.TEST_TABLE]\n</code></pre>\n\n<p>Can anyone please help me to find out the problem? </p>\n"},{"tags":["java","android","nfc"],"comments":[{"owner":{"account_id":2822313,"reputation":40033,"user_id":2425802,"display_name":"Michael Roland"},"score":0,"creation_date":1678454077,"post_id":75695662,"comment_id":133540291,"body_markdown":"Could you reveal how you receive your tag handle and where you pass it around in your code?","body":"Could you reveal how you receive your tag handle and where you pass it around in your code?"},{"owner":{"account_id":9053720,"reputation":47,"user_id":6742793,"display_name":"autoimovil"},"score":0,"creation_date":1678455028,"post_id":75695662,"comment_id":133540567,"body_markdown":"I edited the code block to show how I get de Tag handler from the intent.","body":"I edited the code block to show how I get de Tag handler from the intent."},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1678456147,"post_id":75695662,"comment_id":133540852,"body_markdown":"[This Github issue about this same problem](https://github.com/status-im/status-mobile/issues/14815) might be useful","body":"<a href=\"https://github.com/status-im/status-mobile/issues/14815\" rel=\"nofollow noreferrer\">This Github issue about this same problem</a> might be useful"},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1678458607,"post_id":75695662,"comment_id":133541624,"body_markdown":"This seems a logical change as you should not been trying to use old Tag Objects when you should have been dispatched a new one to handle. I note the that Android Bug that @Jorn Rigter indirrect linked to has been closed as won&#39;t fix. So I&#39;ve created a new documentation bug https://issuetracker.google.com/issues/272552420 to cover the fact that the NFC documentation does not reference this new Exception","body":"This seems a logical change as you should not been trying to use old Tag Objects when you should have been dispatched a new one to handle. I note the that Android Bug that @Jorn Rigter indirrect linked to has been closed as won&#39;t fix. So I&#39;ve created a new documentation bug <a href=\"https://issuetracker.google.com/issues/272552420\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/272552420</a> to cover the fact that the NFC documentation does not reference this new Exception"}],"answers":[{"comments":[{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":2,"creation_date":1681382569,"post_id":75716148,"comment_id":134048815,"body_markdown":"And the documentation issue I raised (https://issuetracker.google.com/issues/272552420) has now been marked as fixed in Android 14, so people should be aware that accessing an old Tag object won&#39;t work.","body":"And the documentation issue I raised (<a href=\"https://issuetracker.google.com/issues/272552420\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/272552420</a>) has now been marked as fixed in Android 14, so people should be aware that accessing an old Tag object won&#39;t work."},{"owner":{"account_id":23735715,"reputation":196,"user_id":17754422,"display_name":"Anh Luu"},"score":0,"creation_date":1686195533,"post_id":75716148,"comment_id":134766740,"body_markdown":"@Andrew what about android 13? Do you have any solution that no needed upgrade to Android 14?","body":"@Andrew what about android 13? Do you have any solution that no needed upgrade to Android 14?"},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1686196522,"post_id":75716148,"comment_id":134766836,"body_markdown":"@Anh Luu The solution is the same for 12L upwards, catch the `SecurityException` or generically catch all `Exception`s, the issue I raised was only about documenting this new behaviour in 12L and google just took their time to release the correct documentation","body":"@Anh Luu The solution is the same for 12L upwards, catch the <code>SecurityException</code> or generically catch all <code>Exception</code>s, the issue I raised was only about documenting this new behaviour in 12L and google just took their time to release the correct documentation"}],"tags":[],"owner":{"account_id":2822313,"reputation":40033,"user_id":2425802,"display_name":"Michael Roland"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678652306,"creation_date":1678652306,"answer_id":75716148,"question_id":75695662,"body_markdown":"This is intended by design. The problem here is that you store a tag handle and try to use it later on (maybe even after letting the user press a button or so?). You should never have done this in the first place, NFC is user interaction and you should act immediately upon scanning the tag and keep the transaction as short as possible (after all user&#39;s are not good at holding two devices constantly together for a longer period). Android finally reduced the surface of bad programming habits in that regard (see [here](https://android.googlesource.com/platform/frameworks/base/+/113f3a4a1d9171db7456aa9ae8b0a2b50545c326)) by making sure that your tag handle is current when you try to access a tag. This change prevents access to an invalidated tag handle once tag disconnection or a new tag discovery takes place.","title":"SecurityException while ndef.connect() on Android 13","body":"<p>This is intended by design. The problem here is that you store a tag handle and try to use it later on (maybe even after letting the user press a button or so?). You should never have done this in the first place, NFC is user interaction and you should act immediately upon scanning the tag and keep the transaction as short as possible (after all user's are not good at holding two devices constantly together for a longer period). Android finally reduced the surface of bad programming habits in that regard (see <a href=\"https://android.googlesource.com/platform/frameworks/base/+/113f3a4a1d9171db7456aa9ae8b0a2b50545c326\" rel=\"noreferrer\">here</a>) by making sure that your tag handle is current when you try to access a tag. This change prevents access to an invalidated tag handle once tag disconnection or a new tag discovery takes place.</p>\n"},{"comments":[{"owner":{"account_id":9368200,"reputation":1177,"user_id":6952373,"accept_rate":62,"display_name":"Kartik Agarwal"},"score":0,"creation_date":1681887892,"post_id":75741753,"comment_id":134127544,"body_markdown":"how did you get intent object in onResume?","body":"how did you get intent object in onResume?"},{"owner":{"account_id":14564750,"reputation":301,"user_id":10519836,"display_name":"Karam"},"score":0,"creation_date":1683293758,"post_id":75741753,"comment_id":134348851,"body_markdown":"I don&#39;t think the moving write method to another place is relevant. make sure you read [michael answer](https://stackoverflow.com/a/75716148/10519836)","body":"I don&#39;t think the moving write method to another place is relevant. make sure you read <a href=\"https://stackoverflow.com/a/75716148/10519836\">michael answer</a>"}],"tags":[],"owner":{"account_id":9053720,"reputation":47,"user_id":6742793,"display_name":"autoimovil"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1678866129,"creation_date":1678866129,"answer_id":75741753,"question_id":75695662,"body_markdown":"It seems that on Android 13 you should manage NFC writing once the onResume() was called. I resolved it moving NFC writing from onNewIntent() to onResume().","title":"SecurityException while ndef.connect() on Android 13","body":"<p>It seems that on Android 13 you should manage NFC writing once the onResume() was called. I resolved it moving NFC writing from onNewIntent() to onResume().</p>\n"}],"owner":{"account_id":9053720,"reputation":47,"user_id":6742793,"display_name":"autoimovil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2018,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75741753,"answer_count":2,"score":3,"last_activity_date":1678866129,"creation_date":1678448233,"question_id":75695662,"body_markdown":"I have this code (Java) to write nfc tags:\r\n```\r\nprivate Tag tag;\r\n\r\n@Override\r\nprotected void onNewIntent(Intent intent) {\r\n    if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction())) {\r\n        tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n    }\r\n}\r\n\r\nprivate boolean write(String message, Tag tag) throws IOException, FormatException {\r\n    Ndef ndef = Ndef.get(tag);\r\n    ndef.connect();\r\n    if (ndef.isWritable()) {\r\n        ndef.writeNdefMessage(message);\r\n    }\r\n    ndef.close();\r\n}\r\n```\r\nSaid code was working until I updated my app to be compatible with the latest versions of Android.\r\n\r\nNow running this code on Android 13 gives me the following exception:\r\n```\r\njava.lang.SecurityException: Permission Denial: Tag ( ID: XX XX XX XX XX XX XX ) is out of date\r\n    at android.nfc.Tag.getTagService(Tag.java:388)\r\n    at android.nfc.tech.BasicTagTechnology.connect(BasicTagTechnology.java:73)\r\n    at android.nfc.tech.Ndef.connect(Ndef.java:71)\r\n```\r\n\r\nI understand that there is some compatibility problem but I don&#39;t know what exactly.\r\n\r\nI am thankful for any kind of help.\r\n\r\nUPDATE: Thanks to your feedback and some additional research I came to a solution.\r\n\r\nI was triggering this NFC write from the onNewIntent function. It seems that it is no longer possible due to some security issues. I solved it by triggering this NFC write from the onResume function instead.\r\n\r\nThank you all for your help.","title":"SecurityException while ndef.connect() on Android 13","body":"<p>I have this code (Java) to write nfc tags:</p>\n<pre><code>private Tag tag;\n\n@Override\nprotected void onNewIntent(Intent intent) {\n    if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction())) {\n        tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n    }\n}\n\nprivate boolean write(String message, Tag tag) throws IOException, FormatException {\n    Ndef ndef = Ndef.get(tag);\n    ndef.connect();\n    if (ndef.isWritable()) {\n        ndef.writeNdefMessage(message);\n    }\n    ndef.close();\n}\n</code></pre>\n<p>Said code was working until I updated my app to be compatible with the latest versions of Android.</p>\n<p>Now running this code on Android 13 gives me the following exception:</p>\n<pre><code>java.lang.SecurityException: Permission Denial: Tag ( ID: XX XX XX XX XX XX XX ) is out of date\n    at android.nfc.Tag.getTagService(Tag.java:388)\n    at android.nfc.tech.BasicTagTechnology.connect(BasicTagTechnology.java:73)\n    at android.nfc.tech.Ndef.connect(Ndef.java:71)\n</code></pre>\n<p>I understand that there is some compatibility problem but I don't know what exactly.</p>\n<p>I am thankful for any kind of help.</p>\n<p>UPDATE: Thanks to your feedback and some additional research I came to a solution.</p>\n<p>I was triggering this NFC write from the onNewIntent function. It seems that it is no longer possible due to some security issues. I solved it by triggering this NFC write from the onResume function instead.</p>\n<p>Thank you all for your help.</p>\n"},{"tags":["java","selenium","testing","mobile","appium"],"answers":[{"tags":[],"owner":{"account_id":26446846,"reputation":1,"user_id":20090585,"display_name":"Achal Trivedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678866041,"creation_date":1678364452,"answer_id":75684535,"question_id":74253781,"body_markdown":"I have changes in your code ,check this code below :-\r\n\r\n \r\n\r\n    public static AndroidDriver driver;\r\n    \r\n     public Page1(AndroidDriver driver) {\r\n         \r\n        this.driver = driver;\r\n        PageFactory.initElements(driver, this)\r\n    }\r\n    \r\n      @FindBy(id = &quot;com.tva.z5:id/homeIcon&quot;)\r\n      public WebElement homeIcon;\r\n    \r\n     public void logo() {\r\n    \r\n        homeIcon.click();\r\n    }","title":"java.lang.ExceptionInInitializerError @ appium @appimfielddecorator","body":"<p>I have changes in your code ,check this code below :-</p>\n<pre><code>public static AndroidDriver driver;\n\n public Page1(AndroidDriver driver) {\n     \n    this.driver = driver;\n    PageFactory.initElements(driver, this)\n}\n\n  @FindBy(id = &quot;com.tva.z5:id/homeIcon&quot;)\n  public WebElement homeIcon;\n\n public void logo() {\n\n    homeIcon.click();\n}\n</code></pre>\n"}],"owner":{"account_id":26776652,"reputation":1,"user_id":20372179,"display_name":"user20372179"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678866041,"creation_date":1667139263,"question_id":74253781,"body_markdown":"Hai guys I&#39;m new to appium, please anyone can resolve this issue.\r\n\r\nI&#39;m getting this exception:\r\n\r\njava.lang.ExceptionInInitializerError at\r\n\r\nio.appium.java_client.pagefactory.u tils.ProxyFactory.getEnhanced Prox y(ProxyFactory.java:53)\r\n\r\n: I am automating Mobile app  (Android ). \r\n\r\nSo If I use\r\n\r\nPageFactory.initElements (driver, this); \r\n\r\nand try to find elements by using annotation as @FindBy  MY CODE WORKS.\r\n\r\nBut if try to use\r\n\r\nPageFactory.initElements (new\r\n\r\nAppiumFieldDecorator (driver), this);\r\n\r\n and try to find elements by using annotation as @AndroidFindBy , I&#39;m getting exception.\r\n\r\nMy code :\r\n\r\n\r\npublic class Page1 { // page object class \r\n\r\n    public static AppiumDriver driver;\r\n\r\n    public Page1(AppiumDriver driver) {\r\n\r\n        PageFactory.initElements(new AppiumFieldDecorator(driver), this);\r\n\r\n        this.driver = driver;\r\n\r\n    }\r\n\r\n    @AndroidFindBy(id = &quot;com.tva.z5:id/homeIcon&quot;)\r\n\r\n    public WebElement homeIcon;\r\n\r\n    public void logo() {\r\n\r\n        homeIcon.click();\r\n\r\n    }\r\n\r\n}\r\n\r\n________________________________________________________________________________\r\n\r\npackage appiumtests;  // this is my test\r\n\r\nimport org.testng.annotations.Test;\r\n\r\nimport pages.Weyyak_Page1;\r\n\r\nimport static pages.Weyyak_Page1.driver;\r\n\r\npublic class Test1 {\r\n\r\n    @Test\r\n\r\n    public void test() throws InterruptedException {\r\n\r\n        Page1 lg = new Page1(driver);\r\n\r\n          lg.logo();\r\n\r\n        Thread.sleep(5000);\r\n\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\nI&#39;m getting this exception : \r\n\r\njava.lang.ExceptionInInitializerError\r\n\r\n\tat io.appium.java_client.pagefactory.utils.ProxyFactory.getEnhancedProxy(ProxyFactory.java:53)\r\n\r\n\tat io.appium.java_client.pagefactory.utils.ProxyFactory.getEnhancedProxy(ProxyFactory.java:33)\r\n\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator.proxyForAnElement(AppiumFieldDecorator.java:209)\r\n\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator.access$000(AppiumFieldDecorator.java:61)\r\n\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator$1.proxyForLocator(AppiumFieldDecorator.java:100)\r\n\r\n\tat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:63)\r\n\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator.decorate(AppiumFieldDecorator.java:147)\r\n\r\n\tat org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:111)\r\n\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:103)\r\n\r\n\tat pages.Weyyak_Page1.&lt;init&gt;(Weyyak_Page1.java:15)\r\n\r\n\tat appiumtests.Weyyak_Test1.test(Weyyak_Test1.java:14)\r\n\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\r\n\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n\r\n\tat org.testng.TestRunner.run(TestRunner.java:601)\r\n\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n\r\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @79698539\r\n\r\n\tat net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n\r\n\tat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:339)\r\n\r\n\tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:96)\r\n\r\n\tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:94)\r\n\r\n\tat net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\r\n\tat net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n\r\n\tat net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n\r\n\tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:119)\r\n\r\n\tat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:294)\r\n\r\n\tat net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n\r\n\tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n\r\n\tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n\r\n\tat net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n\r\n\t... 36 more\r\n\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @79698539\r\n\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\r\n\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\r\n\r\n\tat net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\r\n\tat net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n\r\n\tat net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n\r\n\tat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\r\n\tat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:332)\r\n\r\n\t... 48 more\r\n\r\n","title":"java.lang.ExceptionInInitializerError @ appium @appimfielddecorator","body":"<p>Hai guys I'm new to appium, please anyone can resolve this issue.</p>\n<p>I'm getting this exception:</p>\n<p>java.lang.ExceptionInInitializerError at</p>\n<p>io.appium.java_client.pagefactory.u tils.ProxyFactory.getEnhanced Prox y(ProxyFactory.java:53)</p>\n<p>: I am automating Mobile app  (Android ).</p>\n<p>So If I use</p>\n<p>PageFactory.initElements (driver, this);</p>\n<p>and try to find elements by using annotation as @FindBy  MY CODE WORKS.</p>\n<p>But if try to use</p>\n<p>PageFactory.initElements (new</p>\n<p>AppiumFieldDecorator (driver), this);</p>\n<p>and try to find elements by using annotation as @AndroidFindBy , I'm getting exception.</p>\n<p>My code :</p>\n<p>public class Page1 { // page object class</p>\n<pre><code>public static AppiumDriver driver;\n\npublic Page1(AppiumDriver driver) {\n\n    PageFactory.initElements(new AppiumFieldDecorator(driver), this);\n\n    this.driver = driver;\n\n}\n\n@AndroidFindBy(id = &quot;com.tva.z5:id/homeIcon&quot;)\n\npublic WebElement homeIcon;\n\npublic void logo() {\n\n    homeIcon.click();\n\n}\n</code></pre>\n<p>}</p>\n<hr />\n<p>package appiumtests;  // this is my test</p>\n<p>import org.testng.annotations.Test;</p>\n<p>import pages.Weyyak_Page1;</p>\n<p>import static pages.Weyyak_Page1.driver;</p>\n<p>public class Test1 {</p>\n<pre><code>@Test\n\npublic void test() throws InterruptedException {\n\n    Page1 lg = new Page1(driver);\n\n      lg.logo();\n\n    Thread.sleep(5000);\n\n}\n\n}\n</code></pre>\n<p>I'm getting this exception :</p>\n<p>java.lang.ExceptionInInitializerError</p>\n<pre><code>at io.appium.java_client.pagefactory.utils.ProxyFactory.getEnhancedProxy(ProxyFactory.java:53)\n\nat io.appium.java_client.pagefactory.utils.ProxyFactory.getEnhancedProxy(ProxyFactory.java:33)\n\nat io.appium.java_client.pagefactory.AppiumFieldDecorator.proxyForAnElement(AppiumFieldDecorator.java:209)\n\nat io.appium.java_client.pagefactory.AppiumFieldDecorator.access$000(AppiumFieldDecorator.java:61)\n\nat io.appium.java_client.pagefactory.AppiumFieldDecorator$1.proxyForLocator(AppiumFieldDecorator.java:100)\n\nat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:63)\n\nat io.appium.java_client.pagefactory.AppiumFieldDecorator.decorate(AppiumFieldDecorator.java:147)\n\nat org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:111)\n\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:103)\n\nat pages.Weyyak_Page1.&lt;init&gt;(Weyyak_Page1.java:15)\n\nat appiumtests.Weyyak_Test1.test(Weyyak_Test1.java:14)\n\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n\nat java.base/java.lang.reflect.Method.invoke(Method.java:577)\n\nat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n\nat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n\nat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n\nat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n\nat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\n\nat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n\nat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n\nat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n\nat org.testng.TestRunner.privateRun(TestRunner.java:806)\n\nat org.testng.TestRunner.run(TestRunner.java:601)\n\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\n\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\n\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\n\nat org.testng.SuiteRunner.run(SuiteRunner.java:330)\n\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n\nat org.testng.TestNG.runSuites(TestNG.java:1099)\n\nat org.testng.TestNG.run(TestNG.java:1067)\n\nat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n\nat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n</code></pre>\n<p>Caused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @79698539</p>\n<pre><code>at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n\nat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:339)\n\nat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:96)\n\nat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:94)\n\nat net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\nat net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n\nat net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n\nat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:119)\n\nat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:294)\n\nat net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n\nat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\n\nat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\n\nat net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n\n... 36 more\n</code></pre>\n<p>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @79698539</p>\n<pre><code>at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\n\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\n\nat net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n\nat net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n\nat net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n\nat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n\nat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:332)\n\n... 48 more\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":27634095,"reputation":1,"user_id":21092389,"display_name":"Supriya Mohare"},"score":0,"creation_date":1678866202,"post_id":75738174,"comment_id":133614094,"body_markdown":"I didn&#39;t get it. can you please explain it more simply..Actually i &#39;m beginner. and yes I also edit my question...","body":"I didn&#39;t get it. can you please explain it more simply..Actually i &#39;m beginner. and yes I also edit my question..."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678826412,"creation_date":1678826412,"answer_id":75738174,"question_id":75738072,"body_markdown":"The Firebase SDK maps between your Java object and the JSON properties in the database based on [JavaBean property naming conventions](https://stackoverflow.com/questions/1991316/where-is-the-javabean-property-naming-convention-defined), which means it looks at the public getters/setters and fields in your class. If you look at product brand that gives us:\r\n\r\npackage com.example.myapplication;\r\n```\r\npublic class ProductDetailHelperClass {\r\n                               // &#128071;\r\n    public String ProductName, ProductBrand, ProductExpiry, ProductQty,ProductCalories,ProductSugar,ProductFibers,ProductCarbs;\r\n    public String productImage;\r\n    ...\r\n                   // &#128071;\r\n    public String getProductName() {\r\n        return ProductName;\r\n    }\r\n                   // &#128071;\r\n    public void setProductName(String productName) {\r\n        ProductName = productName;\r\n\r\n    }\r\n    ...\r\n```\r\n\r\nAgain, according to JavaBean naming conventions, that first public field defines a property:\r\n```\r\nProductBrand\r\n```\r\n\r\nWhile the getter/setter define a property:\r\n```\r\nproductBrand\r\n```\r\n\r\nThose are two different casings for the same properties, which is what the error message points out.\r\n\r\nSimplest solutions:\r\n\r\n* Remove all the getters/setters, and just use public fields for everything.\r\n* Make your fields private, as folks are supposed to use the getter/setter to access them.\r\n* Make the fields following the naming convention of the properties defined by the getters/setters, so `productBrand` rather than `ProductBrand`.\r\n* Use `@PropertyName` annotations on the getter/setter to explicitly map them to `ProductBrand`/\r\n\r\nNeither of these is pertinently better than the others, so pick whatever feels most natural for you.","title":"com.google.firebase.database.DatabaseException: Found two getters or fields with conflicting case sensitivity for property: productbrand","body":"<p>The Firebase SDK maps between your Java object and the JSON properties in the database based on <a href=\"https://stackoverflow.com/questions/1991316/where-is-the-javabean-property-naming-convention-defined\">JavaBean property naming conventions</a>, which means it looks at the public getters/setters and fields in your class. If you look at product brand that gives us:</p>\n<p>package com.example.myapplication;</p>\n<pre><code>public class ProductDetailHelperClass {\n                               // \n    public String ProductName, ProductBrand, ProductExpiry, ProductQty,ProductCalories,ProductSugar,ProductFibers,ProductCarbs;\n    public String productImage;\n    ...\n                   // \n    public String getProductName() {\n        return ProductName;\n    }\n                   // \n    public void setProductName(String productName) {\n        ProductName = productName;\n\n    }\n    ...\n</code></pre>\n<p>Again, according to JavaBean naming conventions, that first public field defines a property:</p>\n<pre><code>ProductBrand\n</code></pre>\n<p>While the getter/setter define a property:</p>\n<pre><code>productBrand\n</code></pre>\n<p>Those are two different casings for the same properties, which is what the error message points out.</p>\n<p>Simplest solutions:</p>\n<ul>\n<li>Remove all the getters/setters, and just use public fields for everything.</li>\n<li>Make your fields private, as folks are supposed to use the getter/setter to access them.</li>\n<li>Make the fields following the naming convention of the properties defined by the getters/setters, so <code>productBrand</code> rather than <code>ProductBrand</code>.</li>\n<li>Use <code>@PropertyName</code> annotations on the getter/setter to explicitly map them to <code>ProductBrand</code>/</li>\n</ul>\n<p>Neither of these is pertinently better than the others, so pick whatever feels most natural for you.</p>\n"}],"owner":{"account_id":27634095,"reputation":1,"user_id":21092389,"display_name":"Supriya Mohare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678866036,"creation_date":1678825602,"question_id":75738072,"body_markdown":"so I&#39;m getting error when i try to upload data in firebase.i want in following format\r\n![enter image description here](https://i.stack.imgur.com/QFxjf.png)\r\n\r\n\r\nI tried to do changes and it done for 1st time but...after some days it&#39;s showing me error.\r\n\r\nI think i&#39;ve to give litte more details here.So basically I&#39;m trying to upload the data\r\n\r\n[Upload Data before scrolling down][1]\r\n\r\n[Next Part after scroll down][2]\r\n\r\nbut as soon as i cliked save button it give me following error\r\n[error][3]\r\n\r\nI&#39;m using  firebase realtime database and firebase storage\r\n\r\nthis are some code :\r\n\r\n**textActivity.java(code for uploading the data and img**\r\n\r\n   \r\n```\r\npublic class textActivity extends AppCompatActivity {\r\n    TextView ProductName, ProductBrand, ProductExpiry, ProductQty, ProductCalories, ProductSugar,         ProductFibers, ProductCarbs;\r\n\r\n    ImageView uploadbtn, productImage;\r\n    Button submit;\r\n    Uri ImageUri;\r\n    RelativeLayout relativeLayout;\r\n    ProgressDialog dialog;\r\n    BottomNavigationView navigationView;\r\n    public static final String NOTIFICATION_CHANNEL_ID = &quot;10001&quot;;\r\n    private final static String default_notification_channel_id = &quot;default&quot;;\r\n    final Calendar myCalendar = Calendar.getInstance();\r\n\r\n\r\n     private  FirebaseDatabase database;\r\n    //   private DatabaseReference reference;\r\n     private FirebaseStorage firebaseStorage;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n\r\n    super.onCreate(savedInstanceState)  \r\n    setContentView(R.layout.activity_text);\r\n    dialog = new ProgressDialog(this);\r\n    dialog.setMessage(&quot;Please wait...&quot;)\r\n    dialog.setCancelable(false);\r\n    dialog.setTitle(&quot;Product Uploading&quot;);\r\n    dialog.setCanceledOnTouchOutside(false);\r\n\r\n      \r\n    uploadbtn.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n    UploadImage();\r\n    relativeLayout.setVisibility(View.VISIBLE);\r\n    uploadbtn.setVisibility(View.GONE);\r\n    }});\r\n    submit.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n                // saveData();\r\n    dialog.show();\r\n    final StorageReference reference =   firebaseStorage.getReference().child(&quot;Products&quot;).child(System.currentTimeMillis() + &quot;&quot;);\r\n\r\n    reference.putFile(ImageUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt; () {\r\n    @Override\r\n    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n    reference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n    @Override\r\n    public void onSuccess(Uri uri) {\r\n    ProductDetailHelperClass model = new ProductDetailHelperClass();\r\n    model.setProductImage(uri.toString());\r\n\r\n    model.setProductName(ProductName.getText().toString());\r\n    model.setProductBrand(ProductBrand.getText().toString());\r\n    model.setProductExpiry(ProductExpiry.getText().toString());\r\n    model.setProductQty(ProductQty.getText().toString());\r\n    model.setProductCalories(ProductCalories.getText().toString());\r\n    model.setProductSugar(ProductSugar.getText().toString());\r\n    model.setProductFibers(ProductFibers.getText().toString());\r\n    model.setProductCarbs(ProductCarbs.getText().toString());\r\n                                \r\n                                   FirebaseDatabase.getInstance().getReference(&quot;CompleteData&quot;).child(&quot;UserProductDetails&quot;).setValue(model).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n    @Override\r\n    public void onSuccess(Void unused) {\r\n    Toast.makeText(textActivity.this, &quot;Product Upload Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                                                dialog.dismiss();\r\n\r\n    } }).addOnFailureListener(new OnFailureListener() {\r\n    @Override\r\n    public void onFailure(@NonNull Exception e) {\r\n    dialog.dismiss();\r\n    Toast.makeText(textActivity.this, &quot;Error occured&quot;, Toast.LENGTH_SHORT).show();\r\n    }});  }  });} }); } });\r\n\r\n   \r\n\r\n     ProductExpiry.setOnClickListener(new View.OnClickListener() {\r\n     @Override\r\n\r\n     public void onClick(View v) {\r\n     final Calendar c = Calendar.getInstance();\r\n\r\n    int year = c.get(Calendar.YEAR);\r\n    int month = c.get(Calendar.MONTH);\r\n    int day = c.get(Calendar.DAY_OF_MONTH);\r\n    DatePickerDialog datePickerDialog = new DatePickerDialog(textActivity.this,\r\n    new DatePickerDialog.OnDateSetListener() {\r\n    @Override\r\n    public void onDateSet(DatePicker view, int year,int monthOfYear, int dayOfMonth) {\r\n     // on below line we are setting date to our edit text.\r\n    ProductExpiry.setText(dayOfMonth + &quot;-&quot; + (monthOfYear + 1) + &quot;-&quot; + year);\r\n      }},// on below line we are passing year,  // month and day for selected date in our date picker.\r\n     year, month, day);\r\n     datePickerDialog.show();\r\n       }}); }\r\n    private void UploadImage() {\r\n\r\n    Dexter.withContext(this)\r\n    .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n    .withListener(new PermissionListener() {\r\n    @Override\r\n    public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n\r\n    Intent intent = new Intent();\r\n    intent.setType(&quot;image/*&quot;);\r\n    intent.setAction(Intent.ACTION_GET_CONTENT);\r\n    startActivityForResult(intent,101);\r\n    }\r\n    @Override\r\n     public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n                        Toast.makeText(textActivity.this,&quot;Permission    Denied&quot;,Toast.LENGTH_SHORT).show();\r\n    }\r\n    @Override\r\n    public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n\r\n    permissionToken.continuePermissionRequest();\r\n    } }).check();\r\n\r\n\r\n\r\n}\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resulttCode, @Nullable Intent data){\r\n    super.onActivityResult(requestCode,resulttCode,data);\r\n    if(requestCode==101 &amp;&amp; resulttCode ==RESULT_OK){\r\n          ImageUri =  data.getData();\r\n            productImage.setImageURI(ImageUri);\r\n\r\n        }\r\n    }\r\n\r\n```\r\n    \r\n**ProductDetailHelperClass(Helper Class)**\r\n```\r\npackage com.example.myapplication;\r\n\r\npublic class ProductDetailHelperClass {\r\n\r\n    public String ProductName, ProductBrand, ProductExpiry, ProductQty,ProductCalories,ProductSugar,ProductFibers,ProductCarbs;\r\n    public String productImage;\r\n\r\n    public ProductDetailHelperClass() {\r\n    }\r\n\r\n\r\n\r\n\r\n    public ProductDetailHelperClass(String productName, String productBrand, String productExpiry, String productQty, String productCalories, String productSugar, String productFibers, String productCarbs, String productImage) {\r\n\r\n\r\n        ProductName = productName;\r\n        this.ProductBrand = productBrand;\r\n        ProductExpiry = productExpiry;\r\n        ProductQty = productQty;\r\n        ProductCalories = productCalories;\r\n        ProductSugar = productSugar;\r\n        ProductFibers = productFibers;\r\n        ProductCarbs = productCarbs;\r\n        this.productImage = productImage;\r\n    }\r\n\r\n    public String getProductName() {\r\n        return ProductName;\r\n    }\r\n\r\n    public void setProductName(String productName) {\r\n        ProductName = productName;\r\n\r\n    }\r\n\r\n    public String getProductBrand() {\r\n        return ProductBrand;\r\n    }\r\n\r\n    public void setProductBrand(String productBrand) {\r\n        this.ProductBrand = productBrand;\r\n    }\r\n\r\n    public String getProductExpiry() {\r\n        return ProductExpiry;\r\n    }\r\n\r\n    public void setProductExpiry(String productExpiry) {\r\n        ProductExpiry = productExpiry;\r\n    }\r\n\r\n    public String getProductQty() {\r\n        return ProductQty;\r\n    }\r\n\r\n    public void setProductQty(String productQty) {\r\n        ProductQty = productQty;\r\n    }\r\n\r\n    public String getProductImage() {\r\n        return productImage;\r\n    }\r\n\r\n    public void setProductImage(String productImage) {\r\n        this.productImage = productImage;\r\n    }\r\n    public String getProductCalories() {\r\n        return ProductCalories;\r\n    }\r\n\r\n    public void setProductCalories(String productCalories) {\r\n        ProductCalories = productCalories;\r\n    }\r\n\r\n    public String getProductSugar() {\r\n        return ProductSugar;\r\n    }\r\n\r\n    public void setProductSugar(String productSugar) {\r\n        ProductSugar = productSugar;\r\n    }\r\n\r\n    public String getProductFibers() {\r\n        return ProductFibers;\r\n    }\r\n\r\n    public void setProductFibers(String productFibers) {\r\n        ProductFibers = productFibers;\r\n    }\r\n\r\n    public String getProductCarbs() {\r\n        return ProductCarbs;\r\n    }\r\n\r\n    public void setProductCarbs(String productCarbs) {\r\n        ProductCarbs = productCarbs;\r\n    }}\r\n```\r\n\r\n**ProductAdater.java**\r\n\r\n    public class ProjectAdapter extends \r\n    RecyclerView.Adapter&lt;ProjectAdapter.ViewHolder&gt; {\r\n\r\n    ArrayList&lt;ProductDetailHelperClass&gt; list;\r\n    Context context;\r\n\r\n    public ProjectAdapter(ArrayList&lt;ProductDetailHelperClass&gt; list, \r\n    Context context) {\r\n    this.list = list;\r\n    this.context = context;\r\n    }\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int \r\n    viewType) {\r\n    View view = \r\n    LayoutInflater.from(parent.getContext()).inflate(R.layout.item, \r\n    parent, false);\r\n    return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int \r\n    position) {\r\n    ProductDetailHelperClass model = list.get(position);\r\n\r\n\r\n           Picasso.get().load(model.getProductImage()).placeholder(R.drawable.jam2).into(holder.itemImage);\r\n    holder.itemHeadLine.setText(model.getProductName());\r\n    //   holder.itemBrand.setText(model.getProductBrand());         \r\n    holder.itemQty.setText(model.getProductQty());\r\n\r\n    holder.itemExpiry.setText(model.getProductExpiry());\r\n\r\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n    Intent  intent = new Intent(context,SingleProductActivity.class);\r\n    intent.putExtra(&quot;singleImg&quot;,model.getProductImage());\r\n                \r\n    intent.putExtra(&quot;singleHeadLine&quot;,model.getProductName());\r\n    intent.putExtra(&quot;singleBrand&quot;,model.getProductBrand());\r\n    intent.putExtra(&quot;singleQty&quot;,model.getProductQty());\r\n               \r\n    intent.putExtra(&quot;singleExpiry&quot;,model.getProductExpiry());\r\n                \r\n    intent.putExtra(&quot;singleCal&quot;,model.getProductCalories());\r\n    intent.putExtra(&quot;singleSugar&quot;,model.getProductSugar());\r\n                \r\n    intent.putExtra(&quot;singleFiber&quot;,model.getProductFibers());\r\n    intent.putExtra(&quot;singleCarbs&quot;,model.getProductCarbs());\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    context.startActivity(intent);\r\n\r\n    } });}\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n    TextView itemHeadLine, itemQty, itemBrand, itemExpiry;\r\n    ImageView itemImage;\r\n\r\n    public ViewHolder(@NonNull View itemView) {\r\n    super(itemView);\r\n\r\n    itemHeadLine = itemView.findViewById(R.id.itemHeadLine);\r\n    itemQty = itemView.findViewById(R.id.itemQty);\r\n    // itemBrand= itemView.findViewById(R.id.itemBrand);\r\n    itemExpiry = itemView.findViewById(R.id.itemExpiry);\r\n    itemImage = itemView.findViewById(R.id.itemImage);\r\n    }}}\r\n`\r\n\r\n  [1]: https://i.stack.imgur.com/sEGvC.jpg\r\n  [2]: https://i.stack.imgur.com/6sw8G.jpg\r\n  [3]: https://i.stack.imgur.com/MZM1l.png","title":"com.google.firebase.database.DatabaseException: Found two getters or fields with conflicting case sensitivity for property: productbrand","body":"<p>so I'm getting error when i try to upload data in firebase.i want in following format\n<img src=\"https://i.stack.imgur.com/QFxjf.png\" alt=\"enter image description here\" /></p>\n<p>I tried to do changes and it done for 1st time but...after some days it's showing me error.</p>\n<p>I think i've to give litte more details here.So basically I'm trying to upload the data</p>\n<p><a href=\"https://i.stack.imgur.com/sEGvC.jpg\" rel=\"nofollow noreferrer\">Upload Data before scrolling down</a></p>\n<p><a href=\"https://i.stack.imgur.com/6sw8G.jpg\" rel=\"nofollow noreferrer\">Next Part after scroll down</a></p>\n<p>but as soon as i cliked save button it give me following error\n<a href=\"https://i.stack.imgur.com/MZM1l.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>I'm using  firebase realtime database and firebase storage</p>\n<p>this are some code :</p>\n<p><strong>textActivity.java(code for uploading the data and img</strong></p>\n<pre><code>public class textActivity extends AppCompatActivity {\n    TextView ProductName, ProductBrand, ProductExpiry, ProductQty, ProductCalories, ProductSugar,         ProductFibers, ProductCarbs;\n\n    ImageView uploadbtn, productImage;\n    Button submit;\n    Uri ImageUri;\n    RelativeLayout relativeLayout;\n    ProgressDialog dialog;\n    BottomNavigationView navigationView;\n    public static final String NOTIFICATION_CHANNEL_ID = &quot;10001&quot;;\n    private final static String default_notification_channel_id = &quot;default&quot;;\n    final Calendar myCalendar = Calendar.getInstance();\n\n\n     private  FirebaseDatabase database;\n    //   private DatabaseReference reference;\n     private FirebaseStorage firebaseStorage;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n\n    super.onCreate(savedInstanceState)  \n    setContentView(R.layout.activity_text);\n    dialog = new ProgressDialog(this);\n    dialog.setMessage(&quot;Please wait...&quot;)\n    dialog.setCancelable(false);\n    dialog.setTitle(&quot;Product Uploading&quot;);\n    dialog.setCanceledOnTouchOutside(false);\n\n      \n    uploadbtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n    UploadImage();\n    relativeLayout.setVisibility(View.VISIBLE);\n    uploadbtn.setVisibility(View.GONE);\n    }});\n    submit.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n                // saveData();\n    dialog.show();\n    final StorageReference reference =   firebaseStorage.getReference().child(&quot;Products&quot;).child(System.currentTimeMillis() + &quot;&quot;);\n\n    reference.putFile(ImageUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt; () {\n    @Override\n    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n    reference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n    @Override\n    public void onSuccess(Uri uri) {\n    ProductDetailHelperClass model = new ProductDetailHelperClass();\n    model.setProductImage(uri.toString());\n\n    model.setProductName(ProductName.getText().toString());\n    model.setProductBrand(ProductBrand.getText().toString());\n    model.setProductExpiry(ProductExpiry.getText().toString());\n    model.setProductQty(ProductQty.getText().toString());\n    model.setProductCalories(ProductCalories.getText().toString());\n    model.setProductSugar(ProductSugar.getText().toString());\n    model.setProductFibers(ProductFibers.getText().toString());\n    model.setProductCarbs(ProductCarbs.getText().toString());\n                                \n                                   FirebaseDatabase.getInstance().getReference(&quot;CompleteData&quot;).child(&quot;UserProductDetails&quot;).setValue(model).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n    @Override\n    public void onSuccess(Void unused) {\n    Toast.makeText(textActivity.this, &quot;Product Upload Successfully&quot;, Toast.LENGTH_SHORT).show();\n                                                dialog.dismiss();\n\n    } }).addOnFailureListener(new OnFailureListener() {\n    @Override\n    public void onFailure(@NonNull Exception e) {\n    dialog.dismiss();\n    Toast.makeText(textActivity.this, &quot;Error occured&quot;, Toast.LENGTH_SHORT).show();\n    }});  }  });} }); } });\n\n   \n\n     ProductExpiry.setOnClickListener(new View.OnClickListener() {\n     @Override\n\n     public void onClick(View v) {\n     final Calendar c = Calendar.getInstance();\n\n    int year = c.get(Calendar.YEAR);\n    int month = c.get(Calendar.MONTH);\n    int day = c.get(Calendar.DAY_OF_MONTH);\n    DatePickerDialog datePickerDialog = new DatePickerDialog(textActivity.this,\n    new DatePickerDialog.OnDateSetListener() {\n    @Override\n    public void onDateSet(DatePicker view, int year,int monthOfYear, int dayOfMonth) {\n     // on below line we are setting date to our edit text.\n    ProductExpiry.setText(dayOfMonth + &quot;-&quot; + (monthOfYear + 1) + &quot;-&quot; + year);\n      }},// on below line we are passing year,  // month and day for selected date in our date picker.\n     year, month, day);\n     datePickerDialog.show();\n       }}); }\n    private void UploadImage() {\n\n    Dexter.withContext(this)\n    .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n    .withListener(new PermissionListener() {\n    @Override\n    public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    startActivityForResult(intent,101);\n    }\n    @Override\n     public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n                        Toast.makeText(textActivity.this,&quot;Permission    Denied&quot;,Toast.LENGTH_SHORT).show();\n    }\n    @Override\n    public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n\n    permissionToken.continuePermissionRequest();\n    } }).check();\n\n\n\n}\n\n    @Override\n    protected void onActivityResult(int requestCode, int resulttCode, @Nullable Intent data){\n    super.onActivityResult(requestCode,resulttCode,data);\n    if(requestCode==101 &amp;&amp; resulttCode ==RESULT_OK){\n          ImageUri =  data.getData();\n            productImage.setImageURI(ImageUri);\n\n        }\n    }\n\n</code></pre>\n<p><strong>ProductDetailHelperClass(Helper Class)</strong></p>\n<pre><code>package com.example.myapplication;\n\npublic class ProductDetailHelperClass {\n\n    public String ProductName, ProductBrand, ProductExpiry, ProductQty,ProductCalories,ProductSugar,ProductFibers,ProductCarbs;\n    public String productImage;\n\n    public ProductDetailHelperClass() {\n    }\n\n\n\n\n    public ProductDetailHelperClass(String productName, String productBrand, String productExpiry, String productQty, String productCalories, String productSugar, String productFibers, String productCarbs, String productImage) {\n\n\n        ProductName = productName;\n        this.ProductBrand = productBrand;\n        ProductExpiry = productExpiry;\n        ProductQty = productQty;\n        ProductCalories = productCalories;\n        ProductSugar = productSugar;\n        ProductFibers = productFibers;\n        ProductCarbs = productCarbs;\n        this.productImage = productImage;\n    }\n\n    public String getProductName() {\n        return ProductName;\n    }\n\n    public void setProductName(String productName) {\n        ProductName = productName;\n\n    }\n\n    public String getProductBrand() {\n        return ProductBrand;\n    }\n\n    public void setProductBrand(String productBrand) {\n        this.ProductBrand = productBrand;\n    }\n\n    public String getProductExpiry() {\n        return ProductExpiry;\n    }\n\n    public void setProductExpiry(String productExpiry) {\n        ProductExpiry = productExpiry;\n    }\n\n    public String getProductQty() {\n        return ProductQty;\n    }\n\n    public void setProductQty(String productQty) {\n        ProductQty = productQty;\n    }\n\n    public String getProductImage() {\n        return productImage;\n    }\n\n    public void setProductImage(String productImage) {\n        this.productImage = productImage;\n    }\n    public String getProductCalories() {\n        return ProductCalories;\n    }\n\n    public void setProductCalories(String productCalories) {\n        ProductCalories = productCalories;\n    }\n\n    public String getProductSugar() {\n        return ProductSugar;\n    }\n\n    public void setProductSugar(String productSugar) {\n        ProductSugar = productSugar;\n    }\n\n    public String getProductFibers() {\n        return ProductFibers;\n    }\n\n    public void setProductFibers(String productFibers) {\n        ProductFibers = productFibers;\n    }\n\n    public String getProductCarbs() {\n        return ProductCarbs;\n    }\n\n    public void setProductCarbs(String productCarbs) {\n        ProductCarbs = productCarbs;\n    }}\n</code></pre>\n<p><strong>ProductAdater.java</strong></p>\n<pre><code>public class ProjectAdapter extends \nRecyclerView.Adapter&lt;ProjectAdapter.ViewHolder&gt; {\n\nArrayList&lt;ProductDetailHelperClass&gt; list;\nContext context;\n\npublic ProjectAdapter(ArrayList&lt;ProductDetailHelperClass&gt; list, \nContext context) {\nthis.list = list;\nthis.context = context;\n}\n\n\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int \nviewType) {\nView view = \nLayoutInflater.from(parent.getContext()).inflate(R.layout.item, \nparent, false);\nreturn new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int \nposition) {\nProductDetailHelperClass model = list.get(position);\n\n\n       Picasso.get().load(model.getProductImage()).placeholder(R.drawable.jam2).into(holder.itemImage);\nholder.itemHeadLine.setText(model.getProductName());\n//   holder.itemBrand.setText(model.getProductBrand());         \nholder.itemQty.setText(model.getProductQty());\n\nholder.itemExpiry.setText(model.getProductExpiry());\n\nholder.itemView.setOnClickListener(new View.OnClickListener() {\n@Override\npublic void onClick(View view) {\nIntent  intent = new Intent(context,SingleProductActivity.class);\nintent.putExtra(&quot;singleImg&quot;,model.getProductImage());\n            \nintent.putExtra(&quot;singleHeadLine&quot;,model.getProductName());\nintent.putExtra(&quot;singleBrand&quot;,model.getProductBrand());\nintent.putExtra(&quot;singleQty&quot;,model.getProductQty());\n           \nintent.putExtra(&quot;singleExpiry&quot;,model.getProductExpiry());\n            \nintent.putExtra(&quot;singleCal&quot;,model.getProductCalories());\nintent.putExtra(&quot;singleSugar&quot;,model.getProductSugar());\n            \nintent.putExtra(&quot;singleFiber&quot;,model.getProductFibers());\nintent.putExtra(&quot;singleCarbs&quot;,model.getProductCarbs());\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(intent);\n\n} });}\n\n@Override\npublic int getItemCount() {\n    return list.size();\n}\n\npublic class ViewHolder extends RecyclerView.ViewHolder {\n\nTextView itemHeadLine, itemQty, itemBrand, itemExpiry;\nImageView itemImage;\n\npublic ViewHolder(@NonNull View itemView) {\nsuper(itemView);\n\nitemHeadLine = itemView.findViewById(R.id.itemHeadLine);\nitemQty = itemView.findViewById(R.id.itemQty);\n// itemBrand= itemView.findViewById(R.id.itemBrand);\nitemExpiry = itemView.findViewById(R.id.itemExpiry);\nitemImage = itemView.findViewById(R.id.itemImage);\n}}}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","validation","jep"],"comments":[{"owner":{"account_id":2876507,"reputation":786,"user_id":2468417,"display_name":"Viraj Shah"},"score":0,"creation_date":1678951572,"post_id":75741308,"comment_id":133632983,"body_markdown":"**This question requires a specific programming problem. This question is too broad and does not focus on a particular question.** Please fix any typos, provide relevant code examples, solutions you have tried, and any additional information. **Answers that can be easily found with a Google search will be removed.**","body":"<b>This question requires a specific programming problem. This question is too broad and does not focus on a particular question.</b> Please fix any typos, provide relevant code examples, solutions you have tried, and any additional information. <b>Answers that can be easily found with a Google search will be removed.</b>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678951600,"post_id":75741308,"comment_id":133632990,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":21646067,"reputation":15,"user_id":15967386,"display_name":"Tushar"},"score":0,"creation_date":1679030718,"post_id":75741308,"comment_id":133651203,"body_markdown":"It was a simple question about how to add a library into IDE, and I got the answer.\nthank you so much all","body":"It was a simple question about how to add a library into IDE, and I got the answer. thank you so much all"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678865714,"creation_date":1678865714,"answer_id":75741690,"question_id":75741308,"body_markdown":"Create a lib folder if it doesnt exist in a project that is targeted to use jep. Drop the jar file obtained [like getting started here][1] into lib.\r\n\r\nAdd the jar to the Build Path like [this][2]. The add jars option not the add external jars option\r\n\r\n\r\n  [1]: http://www.singularsys.com/jep/doc/html/usage.html\r\n  [2]: https://stackoverflow.com/questions/3280353/how-to-import-a-jar-in-eclipse/3280384#3280384","title":"How to add JEP library in Eclipse to validate the formula?","body":"<p>Create a lib folder if it doesnt exist in a project that is targeted to use jep. Drop the jar file obtained <a href=\"http://www.singularsys.com/jep/doc/html/usage.html\" rel=\"nofollow noreferrer\">like getting started here</a> into lib.</p>\n<p>Add the jar to the Build Path like <a href=\"https://stackoverflow.com/questions/3280353/how-to-import-a-jar-in-eclipse/3280384#3280384\">this</a>. The add jars option not the add external jars option</p>\n"}],"owner":{"account_id":21646067,"reputation":15,"user_id":15967386,"display_name":"Tushar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75741690,"answer_count":1,"score":-1,"last_activity_date":1678865714,"creation_date":1678862860,"question_id":75741308,"body_markdown":"I have downloaded the trial version of ZEP library from http://www.singularsys.com/jep/download-trial.php and extracted it, but now i need you help to add this in the IDE (eclipse) to use it\r\n\r\nwhat is the process to start using the JEP library to validate the formula.","title":"How to add JEP library in Eclipse to validate the formula?","body":"<p>I have downloaded the trial version of ZEP library from <a href=\"http://www.singularsys.com/jep/download-trial.php\" rel=\"nofollow noreferrer\">http://www.singularsys.com/jep/download-trial.php</a> and extracted it, but now i need you help to add this in the IDE (eclipse) to use it</p>\n<p>what is the process to start using the JEP library to validate the formula.</p>\n"},{"tags":["java","multithreading","junit","junit4","system.out"],"comments":[{"owner":{"account_id":7796438,"reputation":1073,"user_id":5897344,"display_name":"Lika"},"score":1,"creation_date":1463906567,"post_id":37372200,"comment_id":62256251,"body_markdown":"with println it works but I need it without new line though...","body":"with println it works but I need it without new line though..."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1463906686,"post_id":37372200,"comment_id":62256279,"body_markdown":"Why? Junit tests should not need human interaction.","body":"Why? Junit tests should not need human interaction."},{"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"score":1,"creation_date":1463906749,"post_id":37372200,"comment_id":62256295,"body_markdown":"I think this has been asked and answered before here: http://stackoverflow.com/questions/1119385/junit-test-for-system-out-println","body":"I think this has been asked and answered before here: <a href=\"http://stackoverflow.com/questions/1119385/junit-test-for-system-out-println\" title=\"junit test for system out println\">stackoverflow.com/questions/1119385/&hellip;</a>"},{"owner":{"account_id":5236921,"reputation":1452,"user_id":4185221,"display_name":"Sunil Dabburi"},"score":0,"creation_date":1463908980,"post_id":37372200,"comment_id":62256863,"body_markdown":"It works fine... I ran the same on Eclipse IDE. It is printing the dots on the same line for every 200ms. Please check on the IDE once.","body":"It works fine... I ran the same on Eclipse IDE. It is printing the dots on the same line for every 200ms. Please check on the IDE once."}],"answers":[{"comments":[{"owner":{"account_id":7796438,"reputation":1073,"user_id":5897344,"display_name":"Lika"},"score":2,"creation_date":1464515978,"post_id":37422651,"comment_id":62511005,"body_markdown":"Thanks for the explanation, that seems to be the reason, but explicit use of System.out.flush(); after each .print(&quot;.&quot;) doesn&#39;t display the output either (when running from within intelliJ IDE). println(&quot;.&quot;) on the other hand does display the output...","body":"Thanks for the explanation, that seems to be the reason, but explicit use of System.out.flush(); after each .print(&quot;.&quot;) doesn&#39;t display the output either (when running from within intelliJ IDE). println(&quot;.&quot;) on the other hand does display the output..."},{"owner":{"account_id":252388,"reputation":989,"user_id":530399,"accept_rate":43,"display_name":"Bikash Gyawali"},"score":0,"creation_date":1503663306,"post_id":37422651,"comment_id":78720670,"body_markdown":"I am also having this problem when running with ant","body":"I am also having this problem when running with ant"}],"tags":[],"owner":{"display_name":"user65839"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1464119489,"creation_date":1464119489,"answer_id":37422651,"question_id":37372200,"body_markdown":"There are many ways people run JUnit tests (from within an IDE, from within a build system like Maven, or from a command line that uses the JUnit library directly). It appears that the way that you&#39;re running it uses a standard output that doesn&#39;t flush on every output. (This is probably intentional, as often tests are run in a batch using a continuous integration system, and the logs reviewed afterward, so not flushing on every write can improve performance.)\r\n\r\nBut, if you need to flush the buffer explicitly, try using [`System.out.flush();`][1] after each `.print` call.\r\n\r\nAnother option, depending on what you&#39;re actually looking to do, may be to use a more full-featured logging system than the built-in System.out stream.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#flush--","title":"System.out.print doesn&#39;t output to console when running from Junit","body":"<p>There are many ways people run JUnit tests (from within an IDE, from within a build system like Maven, or from a command line that uses the JUnit library directly). It appears that the way that you're running it uses a standard output that doesn't flush on every output. (This is probably intentional, as often tests are run in a batch using a continuous integration system, and the logs reviewed afterward, so not flushing on every write can improve performance.)</p>\n\n<p>But, if you need to flush the buffer explicitly, try using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#flush--\" rel=\"noreferrer\"><code>System.out.flush();</code></a> after each <code>.print</code> call.</p>\n\n<p>Another option, depending on what you're actually looking to do, may be to use a more full-featured logging system than the built-in System.out stream.</p>\n"},{"comments":[{"owner":{"account_id":13495527,"reputation":549,"user_id":9736497,"display_name":"Alexandros Kourtis"},"score":0,"creation_date":1639978952,"post_id":50778195,"comment_id":124477077,"body_markdown":"Please exlain further. Which IDE are you talking about? I use Android Studio and these keybindings did not work for me","body":"Please exlain further. Which IDE are you talking about? I use Android Studio and these keybindings did not work for me"}],"tags":[],"owner":{"account_id":13745457,"reputation":17,"user_id":9919289,"display_name":"Leandro Tavares"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1528575593,"creation_date":1528575593,"answer_id":50778195,"question_id":37372200,"body_markdown":"Ctrl + Shift + p and type show test output. Alternatively you can open the output window (Ctrl + J) and choose to see Test Output from a combo box on it&#39;s right upper corner.","title":"System.out.print doesn&#39;t output to console when running from Junit","body":"<p>Ctrl + Shift + p and type show test output. Alternatively you can open the output window (Ctrl + J) and choose to see Test Output from a combo box on it's right upper corner.</p>\n"},{"tags":[],"owner":{"account_id":2192195,"reputation":23364,"user_id":1938889,"accept_rate":65,"display_name":"Drakes"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1550284999,"creation_date":1550284999,"answer_id":54719380,"question_id":37372200,"body_markdown":"This still doesn&#39;t work in IntelliJ 2019. \\*sigh\\*\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        while (true) {\r\n            System.out.print(&quot;.&quot;);\r\n            Thread.sleep(200);\r\n        }\r\n    }\r\n\r\nTo achieve somewhat what you are looking for I had to force a newline periodically like this:\r\n\r\n    @Before\r\n    public void forceConsoleOutput()\r\n    {\r\n    \tnew Thread( () -&gt; {\r\n    \t\tfor ( ; ; )\r\n    \t\t{\r\n    \t\t\t// Does nothing. Why JetBrains?\r\n    \t\t\t// System.out.flush();\r\n    \r\n    \t\t\tSystem.out.println();\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tThread.sleep( 5000 );\r\n    \t\t\t}\r\n    \t\t\tcatch ( InterruptedException e )\r\n    \t\t\t{\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} )\r\n    \t{{\r\n    \t\tstart();\r\n    \t\tSystem.out.println( &quot;Terminated&quot; ); // The threads naturally stop between method tests\r\n    \t}};\r\n    }","title":"System.out.print doesn&#39;t output to console when running from Junit","body":"<p>This still doesn't work in IntelliJ 2019. *sigh*</p>\n\n<pre><code>@Test\npublic void test() throws Exception {\n    while (true) {\n        System.out.print(\".\");\n        Thread.sleep(200);\n    }\n}\n</code></pre>\n\n<p>To achieve somewhat what you are looking for I had to force a newline periodically like this:</p>\n\n<pre><code>@Before\npublic void forceConsoleOutput()\n{\n    new Thread( () -&gt; {\n        for ( ; ; )\n        {\n            // Does nothing. Why JetBrains?\n            // System.out.flush();\n\n            System.out.println();\n            try\n            {\n                Thread.sleep( 5000 );\n            }\n            catch ( InterruptedException e )\n            {\n                e.printStackTrace();\n            }\n        }\n    } )\n    {{\n        start();\n        System.out.println( \"Terminated\" ); // The threads naturally stop between method tests\n    }};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200783,"reputation":788,"user_id":1945240,"display_name":"Duncan O. N."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628588195,"creation_date":1628588195,"answer_id":68724388,"question_id":37372200,"body_markdown":"Alternatively, you can use a logger of your choice. Used `log4j` to printout on console. \r\nImport below dependence on `pom.xml`\r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIn the JUnitTestClass import \r\n\r\n`import org.apache.log4j.Logger;`\r\n\r\nThen declare log\r\n\r\n`public static Logger log = Logger.getLogger(JUnitTest.class.getName());`\r\n\r\nto printout \r\n`log.info(&quot;....&quot;);`\r\n\r\nHope this works for your case.","title":"System.out.print doesn&#39;t output to console when running from Junit","body":"<p>Alternatively, you can use a logger of your choice. Used <code>log4j</code> to printout on console.\nImport below dependence on <code>pom.xml</code></p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In the JUnitTestClass import</p>\n<p><code>import org.apache.log4j.Logger;</code></p>\n<p>Then declare log</p>\n<p><code>public static Logger log = Logger.getLogger(JUnitTest.class.getName());</code></p>\n<p>to printout\n<code>log.info(&quot;....&quot;);</code></p>\n<p>Hope this works for your case.</p>\n"},{"tags":[],"owner":{"account_id":15264052,"reputation":17,"user_id":11013244,"display_name":"Luciano Matos"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678865630,"creation_date":1678450389,"answer_id":75695998,"question_id":37372200,"body_markdown":"Create your logs using `System.out.println()` instead. I know that&#39;s not the best solution but worked for me.","title":"System.out.print doesn&#39;t output to console when running from Junit","body":"<p>Create your logs using <code>System.out.println()</code> instead. I know that's not the best solution but worked for me.</p>\n"}],"owner":{"account_id":7796438,"reputation":1073,"user_id":5897344,"display_name":"Lika"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36750,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":37422651,"answer_count":5,"score":19,"last_activity_date":1678865630,"creation_date":1463906175,"question_id":37372200,"body_markdown":"When running:\r\n\r\n    public static void main(String... args) throws InterruptedException {\r\n        while (true) {\r\n            System.out.print(&quot;.&quot;);\r\n            Thread.sleep(200);\r\n        }\r\n    }\r\n   \r\n\r\nvs. when running same code from junit: \r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        while (true) {\r\n            System.out.print(&quot;.&quot;);\r\n            Thread.sleep(200);\r\n        }\r\n    }\r\n\r\nThere is different behaviour:  \r\nfor the main() - the output is displayed as expected, as the process runs (&quot;.&quot; -&gt; &quot;..&quot; -&gt; &quot;...&quot;)\r\n\r\nhowever, for JUnit, when running same piece of code, No output is displayed as the process runs - It&#39;s flushed only when quitting the test.\r\n\r\nWhy does this happen? Is there any way to workaround it if I need the status to be shown in console during the test run?\r\n\r\nI need to print to the same line, so using println wouldn&#39;t suit.","title":"System.out.print doesn&#39;t output to console when running from Junit","body":"<p>When running:</p>\n\n<pre><code>public static void main(String... args) throws InterruptedException {\n    while (true) {\n        System.out.print(\".\");\n        Thread.sleep(200);\n    }\n}\n</code></pre>\n\n<p>vs. when running same code from junit: </p>\n\n<pre><code>@Test\npublic void test() throws Exception {\n    while (true) {\n        System.out.print(\".\");\n        Thread.sleep(200);\n    }\n}\n</code></pre>\n\n<p>There is different behaviour:<br>\nfor the main() - the output is displayed as expected, as the process runs (\".\" -> \"..\" -> \"...\")</p>\n\n<p>however, for JUnit, when running same piece of code, No output is displayed as the process runs - It's flushed only when quitting the test.</p>\n\n<p>Why does this happen? Is there any way to workaround it if I need the status to be shown in console during the test run?</p>\n\n<p>I need to print to the same line, so using println wouldn't suit.</p>\n"},{"tags":["java","kotlin","module","dependencies"],"owner":{"account_id":26780454,"reputation":11,"user_id":20375371,"display_name":"ShaunSingh1410"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678865535,"creation_date":1678859095,"question_id":75740928,"body_markdown":"It says that there is a duplicate class found in two different modules, but I cannot seem to find and remove the duplicate files. I have tried android.useAndroidX=true\r\n\r\n&#39;android.enableJetifier=true&#39;, still not working. \r\n\r\nI tried \r\n&#39;android.useAndroidX=true&#39;\r\n\r\n&#39;android.enableJetifier=true&#39;, still nothing...","title":"Duplicate class found , but can&#39;t find them to remove them?","body":"<p>It says that there is a duplicate class found in two different modules, but I cannot seem to find and remove the duplicate files. I have tried android.useAndroidX=true</p>\n<p>'android.enableJetifier=true', still not working.</p>\n<p>I tried\n'android.useAndroidX=true'</p>\n<p>'android.enableJetifier=true', still nothing...</p>\n"},{"tags":["java","mongo-collection"],"comments":[{"owner":{"account_id":2337662,"reputation":1395,"user_id":2049614,"accept_rate":83,"display_name":"Kumar Kailash"},"score":0,"creation_date":1412592782,"post_id":26214587,"comment_id":41111240,"body_markdown":"Are you getting any error?","body":"Are you getting any error?"},{"owner":{"account_id":3888131,"reputation":83,"user_id":3219005,"display_name":"user3219005"},"score":0,"creation_date":1412593275,"post_id":26214587,"comment_id":41111430,"body_markdown":"ya im getting error in the line  DBCollection school = db.createCollection(&quot;college&quot;); as required:String,DBObject but found:String","body":"ya im getting error in the line  DBCollection school = db.createCollection(&quot;college&quot;); as required:String,DBObject but found:String"},{"owner":{"account_id":2337662,"reputation":1395,"user_id":2049614,"accept_rate":83,"display_name":"Kumar Kailash"},"score":0,"creation_date":1412594881,"post_id":26214587,"comment_id":41112263,"body_markdown":"could you try DBCollection school = db.createCollection(&quot;college&quot;,null);","body":"could you try DBCollection school = db.createCollection(&quot;college&quot;,null);"},{"owner":{"account_id":3888131,"reputation":83,"user_id":3219005,"display_name":"user3219005"},"score":0,"creation_date":1412595163,"post_id":26214587,"comment_id":41112382,"body_markdown":"@KumarKailash:i tried but its showing the error like this Required : String,DBObject .. but found:String , null","body":"@KumarKailash:i tried but its showing the error like this Required : String,DBObject .. but found:String , null"}],"answers":[{"comments":[{"owner":{"account_id":3888131,"reputation":83,"user_id":3219005,"display_name":"user3219005"},"score":0,"creation_date":1412593377,"post_id":26214727,"comment_id":41111484,"body_markdown":"I dont want to insert document jus i want to create collection","body":"I dont want to insert document jus i want to create collection"},{"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"score":1,"creation_date":1412593962,"post_id":26214727,"comment_id":41111761,"body_markdown":"Well, as said, it&#39;s not really created if you don&#39;t put anything to it. There&#39;s no point in creating collection if you don&#39;t put anything. If you insist you can create the document, followed by a `remove` operation. Then you will see the empty collection","body":"Well, as said, it&#39;s not really created if you don&#39;t put anything to it. There&#39;s no point in creating collection if you don&#39;t put anything. If you insist you can create the document, followed by a <code>remove</code> operation. Then you will see the empty collection"},{"owner":{"account_id":3888131,"reputation":83,"user_id":3219005,"display_name":"user3219005"},"score":0,"creation_date":1412595252,"post_id":26214727,"comment_id":41112417,"body_markdown":"actually my aim is to create empty collection in which i will insert document from external user entry from UI","body":"actually my aim is to create empty collection in which i will insert document from external user entry from UI"},{"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"score":1,"creation_date":1412595685,"post_id":26214727,"comment_id":41112614,"body_markdown":"So, for each insert you will call `db.getCollection(&quot;college&quot;)` anyway which will create the collection if not exist. You don&#39;t need the piece of code above for that purpose.","body":"So, for each insert you will call <code>db.getCollection(&quot;college&quot;)</code> anyway which will create the collection if not exist. You don&#39;t need the piece of code above for that purpose."},{"owner":{"account_id":3888131,"reputation":83,"user_id":3219005,"display_name":"user3219005"},"score":0,"creation_date":1412595962,"post_id":26214727,"comment_id":41112759,"body_markdown":":then could me please help me with a sample for the above","body":":then could me please help me with a sample for the above"},{"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"score":0,"creation_date":1412596214,"post_id":26214727,"comment_id":41112907,"body_markdown":"It seems it has already been done for you: [http://stackoverflow.com/questions/26211965/insert-document-in-mongodb-using-java](http://stackoverflow.com/questions/26211965/insert-document-in-mongodb-using-java)","body":"It seems it has already been done for you: <a href=\"http://stackoverflow.com/questions/26211965/insert-document-in-mongodb-using-java\">http://stackoverflow.com/questions/26211965/insert-document-&zwnj;&#8203;in-mongodb-using-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":0,"creation_date":1644150330,"post_id":26214727,"comment_id":125524280,"body_markdown":"I can report that using `getCollection` doesn&#39;t always create the collection in the most recent MongoDB drivers when used in a replica set.","body":"I can report that using <code>getCollection</code> doesn&#39;t always create the collection in the most recent MongoDB drivers when used in a replica set."}],"tags":[],"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"comment_count":7,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1412594373,"creation_date":1412592904,"answer_id":26214727,"question_id":26214587,"body_markdown":"Indeed you have a compilation error. \r\n\r\nYou should use `db.getCollection(&quot;college&quot;)` which creates the collection if not exist.\r\n\r\nAlso, the collection is lazily created when you add something to it.\r\n\r\nYou can add:\r\n\r\n`school.save(new BasicDBObject(&quot;key&quot; , &quot;value&quot;));`\r\n\r\nThe collection with a single document will be created then.\r\n\r\n","title":"Create Collection in MongoDB Using Java","body":"<p>Indeed you have a compilation error. </p>\n\n<p>You should use <code>db.getCollection(\"college\")</code> which creates the collection if not exist.</p>\n\n<p>Also, the collection is lazily created when you add something to it.</p>\n\n<p>You can add:</p>\n\n<p><code>school.save(new BasicDBObject(\"key\" , \"value\"));</code></p>\n\n<p>The collection with a single document will be created then.</p>\n"},{"tags":[],"owner":{"account_id":2713245,"reputation":108,"user_id":2341167,"display_name":"Jared Darling"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414526435,"creation_date":1414526435,"answer_id":26617430,"question_id":26214587,"body_markdown":"I just recently needed to do this very thing.\r\n\r\nHere is what I used (adapted to your question):\r\n\r\n    String collectionName = &quot;college&quot;);\r\n\r\n    if(!db.collectionExists(collectionName)\r\n    {\r\n      //I can confirm that the collection is created at this point.\r\n      DBCollection school = db.createCollection(collectionName, new BasicDBObject());      \r\n      //I would highly recommend you check the &#39;school&#39; DBCollection to confirm it was actually created\r\n      System.out.println(&quot;Collection %s created successfully&quot;, collectionName);\r\n    }\r\n\r\n","title":"Create Collection in MongoDB Using Java","body":"<p>I just recently needed to do this very thing.</p>\n\n<p>Here is what I used (adapted to your question):</p>\n\n<pre><code>String collectionName = \"college\");\n\nif(!db.collectionExists(collectionName)\n{\n  //I can confirm that the collection is created at this point.\n  DBCollection school = db.createCollection(collectionName, new BasicDBObject());      \n  //I would highly recommend you check the 'school' DBCollection to confirm it was actually created\n  System.out.println(\"Collection %s created successfully\", collectionName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7213300,"reputation":63,"user_id":5506647,"display_name":"Rajan Kumar Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678865534,"creation_date":1446199944,"answer_id":33433492,"question_id":26214587,"body_markdown":"Here I am sharing the working code\r\n\r\n``` lang-java\r\nimport com.mongodb.MongoClient;\r\nimport com.mongodb.MongoException;\r\nimport com.mongodb.WriteConcern;\r\nimport com.mongodb.DB;\r\nimport com.mongodb.DBCollection;\r\nimport com.mongodb.BasicDBObject;\r\nimport com.mongodb.DBObject;\r\nimport com.mongodb.DBCursor;\r\nimport com.mongodb.ServerAddress;\r\nimport java.util.Arrays;\r\n\r\npublic class MongoDBCollection\r\n{\r\n\r\n    public static void main(String args[])\r\n    {\r\n        try\r\n        {\r\n            // Connect to Database\r\n            MongoClient mongoClient=new MongoClient(&quot;localhost&quot;, 27017);\r\n            DB db=mongoClient.getDB(&quot;analytics&quot;);\r\n            System.out.println(&quot;Your connection to DB is ready for Use::&quot; + db);\r\n    \r\n            // Create Collection\r\n            DBCollection linked=db.createCollection(&quot;LinkedIn&quot;, new BasicDBObject()); \r\n            System.out.println(&quot;Collection created successfully&quot;);\r\n        }\r\n    \r\n        catch(Exception e)\r\n        {\r\n            System.out.println(e.getClass().getName() + &quot;:&quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```","title":"Create Collection in MongoDB Using Java","body":"<p>Here I am sharing the working code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.mongodb.MongoClient;\nimport com.mongodb.MongoException;\nimport com.mongodb.WriteConcern;\nimport com.mongodb.DB;\nimport com.mongodb.DBCollection;\nimport com.mongodb.BasicDBObject;\nimport com.mongodb.DBObject;\nimport com.mongodb.DBCursor;\nimport com.mongodb.ServerAddress;\nimport java.util.Arrays;\n\npublic class MongoDBCollection\n{\n\n    public static void main(String args[])\n    {\n        try\n        {\n            // Connect to Database\n            MongoClient mongoClient=new MongoClient(&quot;localhost&quot;, 27017);\n            DB db=mongoClient.getDB(&quot;analytics&quot;);\n            System.out.println(&quot;Your connection to DB is ready for Use::&quot; + db);\n    \n            // Create Collection\n            DBCollection linked=db.createCollection(&quot;LinkedIn&quot;, new BasicDBObject()); \n            System.out.println(&quot;Collection created successfully&quot;);\n        }\n    \n        catch(Exception e)\n        {\n            System.out.println(e.getClass().getName() + &quot;:&quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13404151,"reputation":1,"user_id":9672686,"display_name":"Stas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542966646,"creation_date":1542966646,"answer_id":53444248,"question_id":26214587,"body_markdown":"Here is my way\r\n\r\n            MongoCollection collection;\r\n            String collectionName = &quot;somename&quot;;\r\n            String jsonObject = &quot;{}&quot;;\r\n\r\n            if (!mongoTemplate.collectionExists(collectionName)) {\r\n                collection = mongoTemplate.createCollection(collectionName);\r\n                logger.info(&quot;Collection %s was successfully created&quot;, collectionName);\r\n            } else {\r\n                collection = mongoTemplate.getCollection(collectionName);\r\n            }\r\n\r\n            collection.insertOne(Document.parse(jsonObject));","title":"Create Collection in MongoDB Using Java","body":"<p>Here is my way</p>\n\n<pre><code>        MongoCollection collection;\n        String collectionName = \"somename\";\n        String jsonObject = \"{}\";\n\n        if (!mongoTemplate.collectionExists(collectionName)) {\n            collection = mongoTemplate.createCollection(collectionName);\n            logger.info(\"Collection %s was successfully created\", collectionName);\n        } else {\n            collection = mongoTemplate.getCollection(collectionName);\n        }\n\n        collection.insertOne(Document.parse(jsonObject));\n</code></pre>\n"}],"owner":{"account_id":3888131,"reputation":83,"user_id":3219005,"display_name":"user3219005"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25943,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1678865534,"creation_date":1412592352,"question_id":26214587,"body_markdown":"i want to create collection in mongodb using java.The below is the code i worked with.I can connect to database.But Collection is not happening..please help me\r\n\r\n       import com.mongodb.MongoClient;\r\n       import com.mongodb.DB;\r\n       import com.mongodb.DBCollection;\r\n\r\n       public class CreateCollection{\r\n\r\n         public static void main( String args[] ){\r\n           try{   \r\n\r\n\t         // To connect to mongodb server\r\n             MongoClient mongoClient = new MongoClient( &quot;localhost&quot; , 27017 );\r\n\r\n             // Now connect to your databases\r\n             DB db = mongoClient.getDB( &quot;cms&quot; );\r\n\t         System.out.println(&quot;Connect to database successfully&quot;);\r\n              \r\n             DBCollection school = db.createCollection(&quot;college&quot;);\r\n             System.out.println(&quot;Collection mycol created successfully&quot;);\r\n       \r\n           }catch(Exception e){\r\n\t         System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\r\n\t       }\r\n        } \r\n      }","title":"Create Collection in MongoDB Using Java","body":"<p>i want to create collection in mongodb using java.The below is the code i worked with.I can connect to database.But Collection is not happening..please help me</p>\n\n<pre><code>   import com.mongodb.MongoClient;\n   import com.mongodb.DB;\n   import com.mongodb.DBCollection;\n\n   public class CreateCollection{\n\n     public static void main( String args[] ){\n       try{   \n\n         // To connect to mongodb server\n         MongoClient mongoClient = new MongoClient( \"localhost\" , 27017 );\n\n         // Now connect to your databases\n         DB db = mongoClient.getDB( \"cms\" );\n         System.out.println(\"Connect to database successfully\");\n\n         DBCollection school = db.createCollection(\"college\");\n         System.out.println(\"Collection mycol created successfully\");\n\n       }catch(Exception e){\n         System.err.println( e.getClass().getName() + \": \" + e.getMessage() );\n       }\n    } \n  }\n</code></pre>\n"},{"tags":["java","jersey","jax-rs"],"comments":[{"owner":{"account_id":1259154,"reputation":2738,"user_id":1236128,"accept_rate":86,"display_name":"Jonathan Komar"},"score":0,"creation_date":1556175677,"post_id":13557442,"comment_id":98349505,"body_markdown":"To go along with this: Why doesn&#39;t the JAX-RS document explain this in the first paragraph of the &quot;Providers&quot; chapterthe logically page I turned to when looking for understanding. [JAX-RS Documentation PDF](https://www.google.at/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwjQvJGH1urhAhWnQxUIHZxTBdIQFjAAegQIAhAC&amp;url=https%3A%2F%2Fdownload.oracle.com%2Fjavaee-archive%2Fjax-rs-spec.java.net%2Fjsr339-experts%2Fatt-3593%2Fspec.pdf&amp;usg=AOvVaw3GTe0r3D6zl2A2jAv9Ra2B)","body":"To go along with this: Why doesn&#39;t the JAX-RS document explain this in the first paragraph of the &quot;Providers&quot; chapterthe logically page I turned to when looking for understanding. <a href=\"https://www.google.at/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwjQvJGH1urhAhWnQxUIHZxTBdIQFjAAegQIAhAC&amp;url=https%3A%2F%2Fdownload.oracle.com%2Fjavaee-archive%2Fjax-rs-spec.java.net%2Fjsr339-experts%2Fatt-3593%2Fspec.pdf&amp;usg=AOvVaw3GTe0r3D6zl2A2jAv9Ra2B\" rel=\"nofollow noreferrer\">JAX-RS Documentation PDF</a>"}],"answers":[{"comments":[{"owner":{"account_id":986908,"reputation":5768,"user_id":1005184,"accept_rate":81,"display_name":"Artem Moskalev"},"score":0,"creation_date":1353942435,"post_id":13557596,"comment_id":18589101,"body_markdown":"Thanks. I think I got the idea of the thing =)","body":"Thanks. I think I got the idea of the thing =)"},{"owner":{"account_id":385525,"reputation":2742,"user_id":742703,"accept_rate":69,"display_name":"L-Samuels"},"score":0,"creation_date":1399408162,"post_id":13557596,"comment_id":36046962,"body_markdown":"Well explained @Perception. This really helped in my understanding.","body":"Well explained @Perception. This really helped in my understanding."},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1499836956,"post_id":13557596,"comment_id":77071721,"body_markdown":"Well explained. One question though - how are @provider implementations different from an implementation of javax.ws.rs.core.Feature interface injected through the init param (jersey.config.server.provider.classnames) in web.xml? How is the order controlled?","body":"Well explained. One question though - how are @provider implementations different from an implementation of javax.ws.rs.core.Feature interface injected through the init param (jersey.config.server.provider.classnames) in web.xml? How is the order controlled?"},{"owner":{"account_id":31021,"reputation":57580,"user_id":84916,"accept_rate":83,"display_name":"burntsugar"},"score":0,"creation_date":1546563434,"post_id":13557596,"comment_id":94899906,"body_markdown":"Note the latest version of the JAX-RS specification (Version 2.1 Final Release\nJuly 13, 2017) https://download.oracle.com/otn-pub/jcp/jaxrs-2_1-final-spec/jaxrs-2_1-final-spec.pdf?AuthParam=1546559699_8a1c42b298288ed02e280d293e710306","body":"Note the latest version of the JAX-RS specification (Version 2.1 Final Release July 13, 2017) <a href=\"https://download.oracle.com/otn-pub/jcp/jaxrs-2_1-final-spec/jaxrs-2_1-final-spec.pdf?AuthParam=1546559699_8a1c42b298288ed02e280d293e710306\" rel=\"nofollow noreferrer\">download.oracle.com/otn-pub/jcp/jaxrs-2_1-final-spec/&hellip;</a>"}],"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"comment_count":4,"down_vote_count":0,"up_vote_count":161,"is_accepted":true,"score":161,"last_activity_date":1429714857,"creation_date":1353894107,"answer_id":13557596,"question_id":13557442,"body_markdown":"Providers are a simply a way of extending and customizing the JAX-RS runtime. You can think of them as plugins that (potentially) alter the behavior of the runtime, in order to accomplish a set of (program defined) goals.\r\n\r\nProviders are ***not*** the same as resources classes, they exist, conceptually, at a level in-between resources classes and the JAX-RS implementation. If it helps, you can think of them in the same light as device drivers (existing between user and kernel space). This is a broad generalization.\r\n\r\nThere are three classes of providers defined by the current JAX-RS specification. The commonality between them is that all providers must be identified by the @Provider annotation and follow certain rules for constructor declaration. Apart from that, different provider types may have additional annotations, and will implement different interfaces.\r\n\r\n\r\n----------\r\n\r\n\r\n**Entity Providers**\r\n\r\nThese providers control the mapping of data representations (like XML, JSON, CSV) to their Java object equivalents.\r\n\r\n**Context Providers**\r\n\r\nThese providers control the context that resources can access via @Context annotations.\r\n\r\n**Exception Providers**\r\n\r\nThese providers control the mapping of Java exceptions to a JAX-RS Response instance.\r\n\r\n----------\r\n\r\n\r\nYour runtime will come with a number of predefined providers that will be responsible for implementing a base level of functionality (e.g for mapping to and from XML, translating the most common exceptions etc etc). You can also create your own providers as needed.\r\n\r\nThe [JAX-RS specification](http://download.oracle.com/otn-pub/jcp/jaxrs-1.0-fr-eval-oth-JSpec/jaxrs-1.0-final-spec.pdf) is a good reference for reading up on these different provider types and what they do (see Chapter 4).","title":"What does Provider in JAX-RS mean?","body":"<p>Providers are a simply a way of extending and customizing the JAX-RS runtime. You can think of them as plugins that (potentially) alter the behavior of the runtime, in order to accomplish a set of (program defined) goals.</p>\n\n<p>Providers are <strong><em>not</em></strong> the same as resources classes, they exist, conceptually, at a level in-between resources classes and the JAX-RS implementation. If it helps, you can think of them in the same light as device drivers (existing between user and kernel space). This is a broad generalization.</p>\n\n<p>There are three classes of providers defined by the current JAX-RS specification. The commonality between them is that all providers must be identified by the @Provider annotation and follow certain rules for constructor declaration. Apart from that, different provider types may have additional annotations, and will implement different interfaces.</p>\n\n<hr>\n\n<p><strong>Entity Providers</strong></p>\n\n<p>These providers control the mapping of data representations (like XML, JSON, CSV) to their Java object equivalents.</p>\n\n<p><strong>Context Providers</strong></p>\n\n<p>These providers control the context that resources can access via @Context annotations.</p>\n\n<p><strong>Exception Providers</strong></p>\n\n<p>These providers control the mapping of Java exceptions to a JAX-RS Response instance.</p>\n\n<hr>\n\n<p>Your runtime will come with a number of predefined providers that will be responsible for implementing a base level of functionality (e.g for mapping to and from XML, translating the most common exceptions etc etc). You can also create your own providers as needed.</p>\n\n<p>The <a href=\"http://download.oracle.com/otn-pub/jcp/jaxrs-1.0-fr-eval-oth-JSpec/jaxrs-1.0-final-spec.pdf\" rel=\"noreferrer\">JAX-RS specification</a> is a good reference for reading up on these different provider types and what they do (see Chapter 4).</p>\n"},{"tags":[],"owner":{"account_id":1804475,"reputation":454,"user_id":1641920,"display_name":"A_BOSS"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1434200023,"creation_date":1434200023,"answer_id":30818899,"question_id":13557442,"body_markdown":"The **@Provider** annotation is used for anything that is of interest to the **JAX-RS runtime**, such as **MessageBodyReader** and **MessageBodyWriter**. For HTTP requests, the MessageBodyReader is used to map an HTTP request entity body to method parameters. On the response side, a return value is mapped to an HTTP response entity body by using a MessageBodyWriter. If the application needs to supply additional metadata, such as HTTP headers or a different status code, a method can return a Response that wraps the entity and that can be built using Response.**ResponseBuilder**.\r\n\r\n**@Provider** annotation  gives you the ability to examine incoming and outgoing messages at the raw XML level, and in this way Provider is the counterpart to Dispatch on the client.","title":"What does Provider in JAX-RS mean?","body":"<p>The <strong>@Provider</strong> annotation is used for anything that is of interest to the <strong>JAX-RS runtime</strong>, such as <strong>MessageBodyReader</strong> and <strong>MessageBodyWriter</strong>. For HTTP requests, the MessageBodyReader is used to map an HTTP request entity body to method parameters. On the response side, a return value is mapped to an HTTP response entity body by using a MessageBodyWriter. If the application needs to supply additional metadata, such as HTTP headers or a different status code, a method can return a Response that wraps the entity and that can be built using Response.<strong>ResponseBuilder</strong>.</p>\n\n<p><strong>@Provider</strong> annotation  gives you the ability to examine incoming and outgoing messages at the raw XML level, and in this way Provider is the counterpart to Dispatch on the client.</p>\n"},{"tags":[],"owner":{"account_id":3939135,"reputation":728,"user_id":3853452,"display_name":"maris"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1678865332,"creation_date":1521993693,"answer_id":49477863,"question_id":13557442,"body_markdown":"To do certain activities such as Filtering-Request/Response, Exception Handling, the JAX-RS has its own default implementation logic.\r\nHowever, it allows users to provider their own implementation as well.\r\n\r\nTo provide our own implementation, we need to implement the appropriate classes by specifying them with `@Provider` annotation.\r\n\r\nJAX-RS will do a round of scanning to find the existance of any such user-defined implementation by seaching for `@Provider` annotation.\r\n\r\nFor example:\r\n\r\n    ...\r\n    @Provider\r\n    public class AppExceptionMapper implements ExceptionMapper&lt;Throwable&gt; {\r\n    ...\r\n    \r\n    ...\r\n    @Provider\r\n    @PreMatching\r\n    public class RESTRequestResponseFilter implements ContainerRequestFilter, ContainerResponseFilter {\r\n    ...\r\n\r\n","title":"What does Provider in JAX-RS mean?","body":"<p>To do certain activities such as Filtering-Request/Response, Exception Handling, the JAX-RS has its own default implementation logic.\nHowever, it allows users to provider their own implementation as well.</p>\n<p>To provide our own implementation, we need to implement the appropriate classes by specifying them with <code>@Provider</code> annotation.</p>\n<p>JAX-RS will do a round of scanning to find the existance of any such user-defined implementation by seaching for <code>@Provider</code> annotation.</p>\n<p>For example:</p>\n<pre><code>...\n@Provider\npublic class AppExceptionMapper implements ExceptionMapper&lt;Throwable&gt; {\n...\n\n...\n@Provider\n@PreMatching\npublic class RESTRequestResponseFilter implements ContainerRequestFilter, ContainerResponseFilter {\n...\n</code></pre>\n"}],"owner":{"account_id":986908,"reputation":5768,"user_id":1005184,"accept_rate":81,"display_name":"Artem Moskalev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103014,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":13557596,"answer_count":3,"score":137,"last_activity_date":1678865332,"creation_date":1353892675,"question_id":13557442,"body_markdown":"Could anyone explain to me what a JAX-RS Provider is and what @Provider annotation does? I have been reading documentation but I cant get it.  \r\nIf there are resource classes that service the incoming requests, what do Providers do? How are they different from singleton resource classes when I create a persistent resource class (the one that is not per-request)? Or are those classes also providers?\r\n","title":"What does Provider in JAX-RS mean?","body":"<p>Could anyone explain to me what a JAX-RS Provider is and what @Provider annotation does? I have been reading documentation but I cant get it.<br>\nIf there are resource classes that service the incoming requests, what do Providers do? How are they different from singleton resource classes when I create a persistent resource class (the one that is not per-request)? Or are those classes also providers?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":14052833,"reputation":1260,"user_id":10151066,"display_name":"flutroid"},"score":0,"creation_date":1678822958,"post_id":75736263,"comment_id":133607367,"body_markdown":"Can you add error log in your question?","body":"Can you add error log in your question?"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678865028,"creation_date":1678864639,"answer_id":75741530,"question_id":75736263,"body_markdown":"When you create the following object using:\r\n\r\n    PlayerDetails details=new PlayerDetails(null,false,null);\r\n\r\nIt means that you let Firebase servers assign the `regDate` field [a Firestore timestamp value][1], for the `hasPlayed` field you assign the value of `false`, and for the `optionSkipped` you assign null.\r\n\r\nIf you want your `optionSkipped` field to hold for example an array with four elements:\r\n\r\n    [-1, -1, -1, -1]\r\n\r\nThen you should pass a list as the last argument to the constructor when you create an object of class:\r\n\r\n    List&lt;Integer&gt; optionSkipped = Arrays.asList(-1, -1, -1, -1);    \r\n    PlayerDetails details=new PlayerDetails(null,false,optionSkipped);\r\n\r\nRight after that, the document will look like this:\r\n\r\n    $docId\r\n     |\r\n     --- regDate: March 14, 2023...\r\n     |\r\n     --- hasPlayed: false\r\n     |\r\n     --- optionSkipped: [-1, -1, -1, -1]\r\n\r\nIf you later want to update the `optionSkipped` array with other values using [FieldValue#arrayUnion()][2], then please note that according to the official documentation for [updating elements in an array][3]:\r\n\r\n&gt; You can use `arrayUnion()` and `arrayRemove()` to add and remove elements. `arrayUnion()` adds elements to an array but only elements **not** already present. `arrayRemove()` removes all instances of each given element.\r\n\r\nAs I see in your question, you need to add duplicate elements as in the following example:\r\n\r\n    [0, 0, -1, -1]\r\n\r\nSo to solve this, I recommend you check my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/56110491/firestore-doesnt-store-two-identical-values-while-updating-an-array\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48474957/how-to-add-a-timestamp-in-firestore-with-android/48475027#48475027\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FieldValue#arrayUnion(java.lang.Object...)\r\n  [3]: https://firebase.google.com/docs/firestore/manage-data/add-data#update_elements_in_an_array","title":"How do I write a default arraylist in firestore field by the help of Model Class?","body":"<p>When you create the following object using:</p>\n<pre><code>PlayerDetails details=new PlayerDetails(null,false,null);\n</code></pre>\n<p>It means that you let Firebase servers assign the <code>regDate</code> field <a href=\"https://stackoverflow.com/questions/48474957/how-to-add-a-timestamp-in-firestore-with-android/48475027#48475027\">a Firestore timestamp value</a>, for the <code>hasPlayed</code> field you assign the value of <code>false</code>, and for the <code>optionSkipped</code> you assign null.</p>\n<p>If you want your <code>optionSkipped</code> field to hold for example an array with four elements:</p>\n<pre><code>[-1, -1, -1, -1]\n</code></pre>\n<p>Then you should pass a list as the last argument to the constructor when you create an object of class:</p>\n<pre><code>List&lt;Integer&gt; optionSkipped = Arrays.asList(-1, -1, -1, -1);    \nPlayerDetails details=new PlayerDetails(null,false,optionSkipped);\n</code></pre>\n<p>Right after that, the document will look like this:</p>\n<pre><code>$docId\n |\n --- regDate: March 14, 2023...\n |\n --- hasPlayed: false\n |\n --- optionSkipped: [-1, -1, -1, -1]\n</code></pre>\n<p>If you later want to update the <code>optionSkipped</code> array with other values using <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FieldValue#arrayUnion(java.lang.Object...)\" rel=\"nofollow noreferrer\">FieldValue#arrayUnion()</a>, then please note that according to the official documentation for <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#update_elements_in_an_array\" rel=\"nofollow noreferrer\">updating elements in an array</a>:</p>\n<blockquote>\n<p>You can use <code>arrayUnion()</code> and <code>arrayRemove()</code> to add and remove elements. <code>arrayUnion()</code> adds elements to an array but only elements <strong>not</strong> already present. <code>arrayRemove()</code> removes all instances of each given element.</p>\n</blockquote>\n<p>As I see in your question, you need to add duplicate elements as in the following example:</p>\n<pre><code>[0, 0, -1, -1]\n</code></pre>\n<p>So to solve this, I recommend you check my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/56110491/firestore-doesnt-store-two-identical-values-while-updating-an-array\">Firestore doesn&#39;t store two identical values while updating an array</a></li>\n</ul>\n"}],"owner":{"account_id":16005090,"reputation":43,"user_id":11550789,"display_name":"Ravi S. Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75741530,"answer_count":1,"score":0,"last_activity_date":1678865028,"creation_date":1678813516,"question_id":75736263,"body_markdown":"I have a modal class PlayerDetails:\r\n\r\n```\r\npublic class PlayerDetails{\r\n    @ServerTimestamp\r\n    Date regDate;\r\n    boolean hasPlayed;\r\n    ArrayList&lt;Integer&gt; optionSkipped;\r\n\r\n    PlayerDetails();\r\n\r\n    PlayerDetails(Date regDate, boolean hasPlayed , ArrayList&lt;Integer&gt; optionSkipped){\r\n            this.regDate = regDate;\r\n            this.hasPlayed = hasPlayed;\r\n            this.optionSkipped = optionSkipped;\r\n\r\n     }\r\n} \r\n```\r\n\r\nI want to store ```[-1,-1,-1,-1]``` as default of ```optionSkipped``` in firestore document field. \r\nLike this[![enter image description here][1]][1]\r\n\r\nI present in Firstore database my field optionSkipped is ```null```\r\n\r\nI am inserting data in Firstore like this:\r\n\r\n```\r\nPlayerDetails details=new PlayerDetails(null,false,null);\r\ndatabaserefrence.collection(&quot;game&quot;)\r\n.document(&quot;game1&quot;)\r\n.set(details)\r\n.addOnCompleteListener\r\n..........................\r\n............etc\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Trem.png\r\n\r\n\r\nAfter adding [-1,-1,-1,-1] ArrayList in Firestore.\r\n\r\nI want to update the same array later, like this perhaps [0,0,-1,-1].","title":"How do I write a default arraylist in firestore field by the help of Model Class?","body":"<p>I have a modal class PlayerDetails:</p>\n<pre><code>public class PlayerDetails{\n    @ServerTimestamp\n    Date regDate;\n    boolean hasPlayed;\n    ArrayList&lt;Integer&gt; optionSkipped;\n\n    PlayerDetails();\n\n    PlayerDetails(Date regDate, boolean hasPlayed , ArrayList&lt;Integer&gt; optionSkipped){\n            this.regDate = regDate;\n            this.hasPlayed = hasPlayed;\n            this.optionSkipped = optionSkipped;\n\n     }\n} \n</code></pre>\n<p>I want to store <code>[-1,-1,-1,-1]</code> as default of <code>optionSkipped</code> in firestore document field.\nLike this<a href=\"https://i.stack.imgur.com/6Trem.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Trem.png\" alt=\"enter image description here\" /></a></p>\n<p>I present in Firstore database my field optionSkipped is <code>null</code></p>\n<p>I am inserting data in Firstore like this:</p>\n<pre><code>PlayerDetails details=new PlayerDetails(null,false,null);\ndatabaserefrence.collection(&quot;game&quot;)\n.document(&quot;game1&quot;)\n.set(details)\n.addOnCompleteListener\n..........................\n............etc\n</code></pre>\n<p>After adding [-1,-1,-1,-1] ArrayList in Firestore.</p>\n<p>I want to update the same array later, like this perhaps [0,0,-1,-1].</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1677988396,"post_id":75640085,"comment_id":133445038,"body_markdown":"No.  It is not an abstract class.","body":"No.  It is not an abstract class."},{"owner":{"account_id":6808041,"reputation":2384,"user_id":5456522,"display_name":"The Scientific Method"},"score":3,"creation_date":1677988419,"post_id":75640085,"comment_id":133445041,"body_markdown":"&quot;abstract&quot; keyword is mandatory for a class to be abstract","body":"&quot;abstract&quot; keyword is mandatory for a class to be abstract"}],"answers":[{"tags":[],"owner":{"account_id":5395380,"reputation":182,"user_id":17547033,"display_name":"nik0x1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677999363,"creation_date":1677999363,"answer_id":75640642,"question_id":75640085,"body_markdown":"The `Vehicle` is not an abstract class, because you can instantiation its as opposed to an abstract class (write `new Vehicle()` without additional definitions).","title":"Is an empty class an abstract class?","body":"<p>The <code>Vehicle</code> is not an abstract class, because you can instantiation its as opposed to an abstract class (write <code>new Vehicle()</code> without additional definitions).</p>\n"},{"tags":[],"owner":{"account_id":13505544,"reputation":1,"user_id":9743770,"display_name":"Gaju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678864984,"creation_date":1678393876,"answer_id":75689731,"question_id":75640085,"body_markdown":"No, an empty class without abstract keyword is not an abstract class.\r\n\r\nYou need to write `abstract` during declaring a class to make it abstract.\r\n\r\nE.g\r\n   \r\n\r\n    public abstract class Vehicle {\r\n    \r\n    }\r\n\r\nThis is a good resource for a quick read:\r\n&lt;https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html&gt;","title":"Is an empty class an abstract class?","body":"<p>No, an empty class without abstract keyword is not an abstract class.</p>\n<p>You need to write <code>abstract</code> during declaring a class to make it abstract.</p>\n<p>E.g</p>\n<pre><code>public abstract class Vehicle {\n\n}\n</code></pre>\n<p>This is a good resource for a quick read:\n<a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html</a></p>\n"},{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678395100,"creation_date":1678395100,"answer_id":75689922,"question_id":75640085,"body_markdown":"You can go even further in the &quot;emptiness&quot; and create `new Object()`. But neither Object, nor your Vehicle are actually empty - they have methods like `equals()`, `toString()`, etc. And even if they were actually empty - they still wouldn&#39;t be abstract just because of their emptiness.\r\n\r\nAbstract Classes are simply weird interfaces. Interfaces define some public API, same as Abstract Classes. And then every implementation must... well, implement that API. Does an empty class define an API? Nope. So it would be weird to consider such classes abstract.\r\n\r\nNote, that in modern OOP inheritance is mostly considered a bad practice (look up _Inheritance vs. Composition_). Therefore by definition abstract classes would be considered a bad idea by many.","title":"Is an empty class an abstract class?","body":"<p>You can go even further in the &quot;emptiness&quot; and create <code>new Object()</code>. But neither Object, nor your Vehicle are actually empty - they have methods like <code>equals()</code>, <code>toString()</code>, etc. And even if they were actually empty - they still wouldn't be abstract just because of their emptiness.</p>\n<p>Abstract Classes are simply weird interfaces. Interfaces define some public API, same as Abstract Classes. And then every implementation must... well, implement that API. Does an empty class define an API? Nope. So it would be weird to consider such classes abstract.</p>\n<p>Note, that in modern OOP inheritance is mostly considered a bad practice (look up <em>Inheritance vs. Composition</em>). Therefore by definition abstract classes would be considered a bad idea by many.</p>\n"}],"owner":{"display_name":"user14798306"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75689922,"answer_count":3,"score":0,"last_activity_date":1678864984,"creation_date":1677988212,"question_id":75640085,"body_markdown":"I have an empty class (without attributes and methods), declared without the keyword &quot;abstract&quot; but It has a child class. Is it an abstract class or just a simple parent class.\r\n\r\n    public class Vehicle{\r\n    }","title":"Is an empty class an abstract class?","body":"<p>I have an empty class (without attributes and methods), declared without the keyword &quot;abstract&quot; but It has a child class. Is it an abstract class or just a simple parent class.</p>\n<pre><code>public class Vehicle{\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi","openxml"],"owner":{"account_id":16562127,"reputation":73,"user_id":11967792,"display_name":"abhijit.bhatta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678864801,"creation_date":1678864801,"question_id":75741555,"body_markdown":"I have an excel with two sheets, TransactionDetails and Pivot. The Pivot sheet contains a pivor table, and another table. I need to create a HTML of the pivot table sheet. How can I do this using Apache POI.","title":"Convert excel sheet with Pivot Table to html using Apache POI Java","body":"<p>I have an excel with two sheets, TransactionDetails and Pivot. The Pivot sheet contains a pivor table, and another table. I need to create a HTML of the pivot table sheet. How can I do this using Apache POI.</p>\n"},{"tags":["java","arrays","exception","null"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":3,"creation_date":1678862703,"post_id":75741267,"comment_id":133613429,"body_markdown":"thats because your array is uninitialized. Although you have declared an array variable. It is null because it does not point to an array. `private GradedActivity[] grades = new GradedActivity[NUMBER_OF_GRADES];`","body":"thats because your array is uninitialized. Although you have declared an array variable. It is null because it does not point to an array. <code>private GradedActivity[] grades = new GradedActivity[NUMBER_OF_GRADES];</code>"},{"owner":{"account_id":28020677,"reputation":1,"user_id":21401536,"display_name":"shabbyShoo"},"score":0,"creation_date":1678863017,"post_id":75741267,"comment_id":133613487,"body_markdown":"@experimentunit1998X now it is saying it cannot invoke because &quot;this.grades[index]&quot; is null","body":"@experimentunit1998X now it is saying it cannot invoke because &quot;this.grades[index]&quot; is null"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1678863318,"post_id":75741267,"comment_id":133613534,"body_markdown":"Thats because you never call any of the set methods","body":"Thats because you never call any of the set methods"}],"owner":{"account_id":28020677,"reputation":1,"user_id":21401536,"display_name":"shabbyShoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678876409,"answer_count":0,"score":0,"last_activity_date":1678862583,"creation_date":1678862583,"question_id":75741267,"body_markdown":"Here is the class I am calling in the driver:\r\n\r\npublic class CourseGrades{\r\n\r\n  private final int NUMBER_OF_GRADES = 4;\r\n  private GradedActivity[] grades;\r\n\r\n```\r\n  public CourseGrades(){\r\n  }\r\n\r\n  public void setLab(GradedActivity gradedActivity){\r\n    grades[0] = gradedActivity;\r\n    gradedActivity.setScore(85);\r\n  }\r\n\r\n  public void setPassFailExam(PassFailExam passFailExam){\r\n    grades[1] = passFailExam;\r\n    passFailExam.setScore(85);\r\n  }\r\n\r\n  public void setEssay(Essay essay){\r\n    grades[2] = essay;\r\n    essay.setScore(15, 15, 15, 30);\r\n  }\r\n\r\n  public void setFinalExam(FinalExam finalExam){\r\n    grades[3] = finalExam;\r\n    finalExam.setScore(80);\r\n  }\r\n\r\n\r\n  @Override\r\n  public String toString() {\r\n    String retVal = &quot;&quot;;\r\n\r\n    for (int index = 0; index &lt; grades.length; index++) {\r\n      retVal += (grades[index].getGrade() + &quot;\\n&quot; +\r\n        grades[index].getGrade() + &quot;\\n&quot;);\r\n\r\n    }\r\n\r\n    return retVal;\r\n  }\r\n}\r\n\r\n```\r\n\r\nHere is my driver:\r\n\r\n```\r\npublic class CourseGradesDemo {\r\n  public static void main(String[] args) {\r\n\r\n    CourseGrades courseGrades = new CourseGrades();\r\n\r\n    System.out.println(courseGrades);\r\n\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried giving the array a length but it kept giving me errors.","title":"Driver keeps saying &quot;cannot read the array length because &quot;this.grades&quot; is null","body":"<p>Here is the class I am calling in the driver:</p>\n<p>public class CourseGrades{</p>\n<p>private final int NUMBER_OF_GRADES = 4;\nprivate GradedActivity[] grades;</p>\n<pre><code>  public CourseGrades(){\n  }\n\n  public void setLab(GradedActivity gradedActivity){\n    grades[0] = gradedActivity;\n    gradedActivity.setScore(85);\n  }\n\n  public void setPassFailExam(PassFailExam passFailExam){\n    grades[1] = passFailExam;\n    passFailExam.setScore(85);\n  }\n\n  public void setEssay(Essay essay){\n    grades[2] = essay;\n    essay.setScore(15, 15, 15, 30);\n  }\n\n  public void setFinalExam(FinalExam finalExam){\n    grades[3] = finalExam;\n    finalExam.setScore(80);\n  }\n\n\n  @Override\n  public String toString() {\n    String retVal = &quot;&quot;;\n\n    for (int index = 0; index &lt; grades.length; index++) {\n      retVal += (grades[index].getGrade() + &quot;\\n&quot; +\n        grades[index].getGrade() + &quot;\\n&quot;);\n\n    }\n\n    return retVal;\n  }\n}\n\n</code></pre>\n<p>Here is my driver:</p>\n<pre><code>public class CourseGradesDemo {\n  public static void main(String[] args) {\n\n    CourseGrades courseGrades = new CourseGrades();\n\n    System.out.println(courseGrades);\n\n  }\n}\n\n</code></pre>\n<p>I tried giving the array a length but it kept giving me errors.</p>\n"},{"tags":["java","spring","hibernate","postgresql"],"answers":[{"comments":[{"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"score":1,"creation_date":1434382379,"post_id":30849006,"comment_id":49741964,"body_markdown":"Thanks for this! I tried this and this works but as much as I possible, I want to set it somewhere in my application (I also don&#39;t want to execute sql files for this somewhere).","body":"Thanks for this! I tried this and this works but as much as I possible, I want to set it somewhere in my application (I also don&#39;t want to execute sql files for this somewhere)."}],"tags":[],"owner":{"account_id":4084883,"reputation":1155,"user_id":3354400,"accept_rate":29,"display_name":"jcalloway"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678862522,"creation_date":1434381940,"answer_id":30849006,"question_id":30848854,"body_markdown":"You can try setting the default schema for the jdbc user.\r\n\r\n1. ALTER USER user_name SET search_path to &#39;schema&#39;\r\n\r\n2.  Did you try this property?\r\n```\r\nspring.datasource.schema \r\n```\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\r\n","title":"Spring Boot - How to set the default schema for PostgreSQL?","body":"<p>You can try setting the default schema for the jdbc user.</p>\n<ol>\n<li><p>ALTER USER user_name SET search_path to 'schema'</p>\n</li>\n<li><p>Did you try this property?</p>\n</li>\n</ol>\n<pre><code>spring.datasource.schema \n</code></pre>\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html</a></p>\n"},{"comments":[{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":0,"creation_date":1616762832,"post_id":54651211,"comment_id":118111409,"body_markdown":"And what about JDBC configuration, not JPA?","body":"And what about JDBC configuration, not JPA?"},{"owner":{"account_id":2126013,"reputation":384,"user_id":1888159,"accept_rate":0,"display_name":"Pearl"},"score":1,"creation_date":1618836691,"post_id":54651211,"comment_id":118715532,"body_markdown":"Setting currentSchema=mySchema for JDBCTemplate is not working. I&#39;m using postgres 12.","body":"Setting currentSchema=mySchema for JDBCTemplate is not working. I&#39;m using postgres 12."}],"tags":[],"owner":{"account_id":1869831,"reputation":4089,"user_id":1692341,"accept_rate":90,"display_name":"Steffen"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1549978180,"creation_date":1549978180,"answer_id":54651211,"question_id":30848854,"body_markdown":"Since this is quite old and has no proper answer yet, the right property to set is the following: \r\n\r\n    spring.jpa.properties.hibernate.default_schema=yourschema","title":"Spring Boot - How to set the default schema for PostgreSQL?","body":"<p>Since this is quite old and has no proper answer yet, the right property to set is the following: </p>\n\n<pre><code>spring.jpa.properties.hibernate.default_schema=yourschema\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6315376,"reputation":574,"user_id":4905563,"display_name":"Juan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1639669869,"creation_date":1639669869,"answer_id":70381938,"question_id":30848854,"body_markdown":"With SpringBoot 2.5.5 the only thing that work for me:\r\n\r\naplication.properties\r\n\r\n    spring.datasource.hikari.schema=my_schema\r\naplication.yml version:\r\n\r\n    spring:\r\n      datasource:\r\n        hikari:\r\n          schema: my_schema\r\n    \r\n","title":"Spring Boot - How to set the default schema for PostgreSQL?","body":"<p>With SpringBoot 2.5.5 the only thing that work for me:</p>\n<p>aplication.properties</p>\n<pre><code>spring.datasource.hikari.schema=my_schema\n</code></pre>\n<p>aplication.yml version:</p>\n<pre><code>spring:\n  datasource:\n    hikari:\n      schema: my_schema\n</code></pre>\n"}],"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27373,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54651211,"answer_count":3,"score":8,"last_activity_date":1678862522,"creation_date":1434381444,"question_id":30848854,"body_markdown":"What I am currently doing in my `application.properties` file is:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/myDB?currentSchema=mySchema\r\n\r\nIsn&#39;t there another property for this? Since it looks hacky and according to a post (still finding the link sorry, will update later), it is only applicable to PostgreSQL 9.4.","title":"Spring Boot - How to set the default schema for PostgreSQL?","body":"<p>What I am currently doing in my <code>application.properties</code> file is:</p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/myDB?currentSchema=mySchema\n</code></pre>\n\n<p>Isn't there another property for this? Since it looks hacky and according to a post (still finding the link sorry, will update later), it is only applicable to PostgreSQL 9.4.</p>\n"},{"tags":["java","jakarta-ee","tomcat","servlets","filter"],"comments":[{"owner":{"account_id":387019,"reputation":8590,"user_id":745127,"accept_rate":57,"display_name":"schlingel"},"score":0,"creation_date":1386688277,"post_id":20497479,"comment_id":30638742,"body_markdown":"You know, security by obscurity doesn&#39;t really work.","body":"You know, security by obscurity doesn&#39;t really work."},{"owner":{"account_id":1521680,"reputation":575,"user_id":1421140,"display_name":"Anugoonj"},"score":0,"creation_date":1386693267,"post_id":20497479,"comment_id":30642319,"body_markdown":"Yes am aware, this security requirement is on top of other already implemented robust mechanisms. If this can demotivate at least one illegitimate user from doing something, i think I would break-even :)","body":"Yes am aware, this security requirement is on top of other already implemented robust mechanisms. If this can demotivate at least one illegitimate user from doing something, i think I would break-even :)"}],"answers":[{"tags":[],"owner":{"account_id":387019,"reputation":8590,"user_id":745127,"accept_rate":57,"display_name":"schlingel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386687605,"creation_date":1386687605,"answer_id":20497764,"question_id":20497479,"body_markdown":"There&#39;s a similar question on Stackoverflow here https://stackoverflow.com/questions/3803851/jsf-override-http-headers\r\n\r\nIn short: you need to write a PhaseListener. A filter seems to be called before the JSF servlet so your header will be overwritten when you&#39;re trying to overwrite the response header.","title":"Override X-Powered-By HTTP Header","body":"<p>There's a similar question on Stackoverflow here <a href=\"https://stackoverflow.com/questions/3803851/jsf-override-http-headers\">JSF, override HTTP headers</a></p>\n\n<p>In short: you need to write a PhaseListener. A filter seems to be called before the JSF servlet so your header will be overwritten when you're trying to overwrite the response header.</p>\n"},{"comments":[{"owner":{"account_id":1521680,"reputation":575,"user_id":1421140,"display_name":"Anugoonj"},"score":0,"creation_date":1386693077,"post_id":20497919,"comment_id":30642190,"body_markdown":"@Sotirios Delimanolis : Thanks Setting the header after chaining does not seem to set the custom value. Setting it before does set it but the value &quot;JSF /1.2&quot; gets appended to it. The xpoweredBy init-param was by default set to false. Any other pointers ?","body":"@Sotirios Delimanolis : Thanks Setting the header after chaining does not seem to set the custom value. Setting it before does set it but the value &quot;JSF /1.2&quot; gets appended to it. The xpoweredBy init-param was by default set to false. Any other pointers ?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1386693162,"post_id":20497919,"comment_id":30642249,"body_markdown":"@Anugoonj Check out http://stackoverflow.com/questions/8846090/how-to-remove-duplicate-x-powered-by-jsf-2-0","body":"@Anugoonj Check out <a href=\"http://stackoverflow.com/questions/8846090/how-to-remove-duplicate-x-powered-by-jsf-2-0\" title=\"how to remove duplicate x powered by jsf 2 0\">stackoverflow.com/questions/8846090/&hellip;</a>"}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1386687995,"creation_date":1386687995,"answer_id":20497919,"question_id":20497479,"body_markdown":"You are setting the response header before the rest of the application has had time to process the response. You should set it after the `doFilter` call\r\n\r\n    HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n    // before filters and servlets\r\n    chain.doFilter(request, response);\r\n    // after filters and servlets\r\n    httpResponse.setHeader(&quot;X-Powered-By&quot;,&quot;&quot;);\r\n\r\nAlso, make sure the response [isn&#39;t committed before setting the header][1].  You might have to change what your other servlets are doing or wrap the `HttpServletResponse`.\r\n\r\nIf the header is being added by the Jasper JSP engine, you can check to see if it&#39;s [configured that way][2]. Your Jasper servlet in `$CATALINA_BASE/conf/web.xml` might have the `init-param` `xpoweredBy` set to `true`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2030152/srtservletres-w-warning-cannot-set-header-response-already-committed\r\n  [2]: http://tomcat.apache.org/tomcat-7.0-doc/jasper-howto.html","title":"Override X-Powered-By HTTP Header","body":"<p>You are setting the response header before the rest of the application has had time to process the response. You should set it after the <code>doFilter</code> call</p>\n\n<pre><code>HttpServletResponse httpResponse = (HttpServletResponse) response;\n// before filters and servlets\nchain.doFilter(request, response);\n// after filters and servlets\nhttpResponse.setHeader(\"X-Powered-By\",\"\");\n</code></pre>\n\n<p>Also, make sure the response <a href=\"https://stackoverflow.com/questions/2030152/srtservletres-w-warning-cannot-set-header-response-already-committed\">isn't committed before setting the header</a>.  You might have to change what your other servlets are doing or wrap the <code>HttpServletResponse</code>.</p>\n\n<p>If the header is being added by the Jasper JSP engine, you can check to see if it's <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/jasper-howto.html\" rel=\"nofollow noreferrer\">configured that way</a>. Your Jasper servlet in <code>$CATALINA_BASE/conf/web.xml</code> might have the <code>init-param</code> <code>xpoweredBy</code> set to <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":18343645,"reputation":1,"user_id":13452272,"display_name":"ASHWIN WAIKAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678862432,"creation_date":1678862432,"answer_id":75741249,"question_id":20497479,"body_markdown":"We can remove disable the X Powered By header in Wildfly as well as the Weblogic server.\r\n\r\n*For Wildfly Server=&gt;*\r\n\r\nNavigate to the path ConfigurationSubsystemWeb=&gt;SettingsServlet Containerdefault=&gt;JSP\r\n\r\nWe can see that the X Powered By header configuration,the same we can enable or disable.\r\n\r\n[Wildfly X Powered By header configuration] https://i.stack.imgur.com/gs4TT.png\r\n\r\n*For Weblogic Server=&gt;*\r\n\r\nNavigate to the path Home=&gt;Summary of Domain Partitions=&gt;Summary of Deployments=&gt;Summary of Domain Partitions=&gt;Summary of partition Work managers=&gt;base_domain=&gt;Configurations=&gt;Web Applications\r\n\r\nWe can see that the X Powered By header configuration,the same we can enable with the values or disable.\r\n\r\n[Weblogic X Powered By header configuration] https://i.stack.imgur.com/rFvrM.png\r\n","title":"Override X-Powered-By HTTP Header","body":"<p>We can remove disable the X Powered By header in Wildfly as well as the Weblogic server.</p>\n<p><em>For Wildfly Server=&gt;</em></p>\n<p>Navigate to the path ConfigurationSubsystemWeb=&gt;SettingsServlet Containerdefault=&gt;JSP</p>\n<p>We can see that the X Powered By header configuration,the same we can enable or disable.</p>\n<p>[Wildfly X Powered By header configuration] <a href=\"https://i.stack.imgur.com/gs4TT.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/gs4TT.png</a></p>\n<p><em>For Weblogic Server=&gt;</em></p>\n<p>Navigate to the path Home=&gt;Summary of Domain Partitions=&gt;Summary of Deployments=&gt;Summary of Domain Partitions=&gt;Summary of partition Work managers=&gt;base_domain=&gt;Configurations=&gt;Web Applications</p>\n<p>We can see that the X Powered By header configuration,the same we can enable with the values or disable.</p>\n<p>[Weblogic X Powered By header configuration] <a href=\"https://i.stack.imgur.com/rFvrM.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/rFvrM.png</a></p>\n"}],"owner":{"account_id":1521680,"reputation":575,"user_id":1421140,"display_name":"Anugoonj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6034,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":20497919,"answer_count":3,"score":6,"last_activity_date":1678862432,"creation_date":1386686864,"question_id":20497479,"body_markdown":"As per some security requirement have to set the X-Powered-By header to an empty String. I have been trying to set the header in a filter but when I look at the headers in Firebug I see that the custom header value set by my filter is appended by JSF/ 1.2.\r\n\r\nThe Filter is the first one in the request chain and implicitly the last one in the response chain.\r\nBelow is the sample code that i have written in the doFilter method.\r\n\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\r\n    \t\t\tServletException {\r\n        // App specific logic...\r\n        HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n        httpResponse.setHeader(&quot;X-Powered-By&quot;,&quot;&quot;);\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\nAm using Tomcat 6. As my filter is the last one in the response chain, is tomcat setting this header again after the control goes back to the tomcat connector ?\r\n\r\nHow do I override this value to my custom value ?","title":"Override X-Powered-By HTTP Header","body":"<p>As per some security requirement have to set the X-Powered-By header to an empty String. I have been trying to set the header in a filter but when I look at the headers in Firebug I see that the custom header value set by my filter is appended by JSF/ 1.2.</p>\n\n<p>The Filter is the first one in the request chain and implicitly the last one in the response chain.\nBelow is the sample code that i have written in the doFilter method.</p>\n\n<pre><code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\n            ServletException {\n    // App specific logic...\n    HttpServletResponse httpResponse = (HttpServletResponse) response;\n    httpResponse.setHeader(\"X-Powered-By\",\"\");\n    chain.doFilter(request, response);\n}\n</code></pre>\n\n<p>Am using Tomcat 6. As my filter is the last one in the response chain, is tomcat setting this header again after the control goes back to the tomcat connector ?</p>\n\n<p>How do I override this value to my custom value ?</p>\n"},{"tags":["java","nested-loops"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665470343,"post_id":74023899,"comment_id":130701353,"body_markdown":"You can extract methods to make the code easier to understand. Paradoxically, this will increase the total number of lines.","body":"You can extract methods to make the code easier to understand. Paradoxically, this will increase the total number of lines."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1665470409,"post_id":74023899,"comment_id":130701371,"body_markdown":"`if(itemNames[i] != null) { if(itemNames[i].equals(itemName)) {` can be reduced to `if(itemName.equals(itemNames[i])) {`","body":"<code>if(itemNames[i] != null) { if(itemNames[i].equals(itemName)) {</code> can be reduced to <code>if(itemName.equals(itemNames[i])) {</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1665471265,"post_id":74023899,"comment_id":130701602,"body_markdown":"{actually it is wrong IMHO to (try to) simplify some code without knowing the data structure and specification details. The posted code is using at least 3 arrays, it uses `equals` mixed with `contains`, strings and (apparently) objects, ... hard to understand, also &quot;simplify&quot; can have different meanings: less lines, simpler to understand, no data duplication/triplication, ...}","body":"{actually it is wrong IMHO to (try to) simplify some code without knowing the data structure and specification details. The posted code is using at least 3 arrays, it uses <code>equals</code> mixed with <code>contains</code>, strings and (apparently) objects, ... hard to understand, also &quot;simplify&quot; can have different meanings: less lines, simpler to understand, no data duplication/triplication, ...}"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1678866637,"post_id":74023899,"comment_id":133614193,"body_markdown":"Is there an absolute requirement to use an array for the items? Using a List (typically an ArrayList) instead would remove at least half of your code, and most of the boring parts of it.","body":"Is there an absolute requirement to use an array for the items? Using a List (typically an ArrayList) instead would remove at least half of your code, and most of the boring parts of it."}],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678861974,"creation_date":1678861662,"answer_id":75741170,"question_id":74023899,"body_markdown":"You can also use guard clauses to &quot;un-nest&quot; nested if-statements. This is where you specify conditions to skip the data instead of what conditions you want in order to continue to process the data\r\n\r\n    if(itemNames[i] != null) {\r\n        if(itemNames[i].equals(itemName)) {\r\n            //... more nested loops etc.\r\n        }\r\n    }\r\n\r\ncan be extracted for:\r\n\r\n    if(itemNames[i] == null) {\r\n        return;  //or break/continue depending if its inside a loop or a function\r\n    }\r\n    //other guard clause if statements\r\n    if(itemNames[i].equals(itemName)) {\r\n        //... processing\r\n    }\r\n\r\nof course, if you have more if conditions nested you can then extract them all out to make it more readable. \r\n\r\nAs for nested for loops, that depends on how well you recognize the process of working with your data structure. Can you do it in one for loop? Can you extract one of the loops into a method and call it so that the code looks more readable even if it is still a nested for loop?","title":"Any chance to simplify these nested loops?","body":"<p>You can also use guard clauses to &quot;un-nest&quot; nested if-statements. This is where you specify conditions to skip the data instead of what conditions you want in order to continue to process the data</p>\n<pre><code>if(itemNames[i] != null) {\n    if(itemNames[i].equals(itemName)) {\n        //... more nested loops etc.\n    }\n}\n</code></pre>\n<p>can be extracted for:</p>\n<pre><code>if(itemNames[i] == null) {\n    return;  //or break/continue depending if its inside a loop or a function\n}\n//other guard clause if statements\nif(itemNames[i].equals(itemName)) {\n    //... processing\n}\n</code></pre>\n<p>of course, if you have more if conditions nested you can then extract them all out to make it more readable.</p>\n<p>As for nested for loops, that depends on how well you recognize the process of working with your data structure. Can you do it in one for loop? Can you extract one of the loops into a method and call it so that the code looks more readable even if it is still a nested for loop?</p>\n"}],"owner":{"account_id":25552215,"reputation":5,"user_id":19336408,"display_name":"Xiaolong Guo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678861974,"creation_date":1665470061,"question_id":74023899,"body_markdown":"I&#39;m creating a shoppingcart manager for my school project and there is a method to remove an item from the cart.\r\n\r\n```\r\n        public String removeItem(String itemName) {\r\n            String removeOutput = &quot;Something is wrong&quot;;\r\n            int CAPACITY = 10;\r\n            ShoppingCartManager SCM = new ShoppingCartManager();\r\n            System.out.println(&quot;Enter name of the item:&quot;);\r\n            itemName = SCM.input.nextLine();\r\n            for(int i=0; i &lt; CAPACITY; i++) {\r\n                if(itemNames[i] != null) {\r\n                    if(itemNames[i].equals(itemName)) {\r\n                        itemNames[i] = null;\r\n                        costs[i] = 0;\r\n                        for(int j=0; j &lt; CAPACITY; j++) {\r\n                            if(cartItems[j].toString().contains(itemName)) {\r\n                                for(int k = 0; k &lt; quantities[i]; k++) {\r\n                                    cartItems[j + k] = null;\r\n                                }\r\n                                break;\r\n                            } \r\n                        }\r\n                        quantities[i] = 0;\r\n                        removeOutput = (&quot;[&quot;+itemName+&quot;] is removed from your shopping cart. &quot;);\r\n                        break;\r\n                    } else {\r\n                        removeOutput = (&quot;[&quot;+itemName+&quot;] not found in cart. &quot;);\r\n                    }\r\n                }\r\n                \r\n            }\r\n            return removeOutput;\r\n        }\r\n```\r\n\r\n\r\nThis is the best I can do and the outcome is as expected, I&#39;m just curious if it is possible to simplify that super long nested loop in the method.","title":"Any chance to simplify these nested loops?","body":"<p>I'm creating a shoppingcart manager for my school project and there is a method to remove an item from the cart.</p>\n<pre><code>        public String removeItem(String itemName) {\n            String removeOutput = &quot;Something is wrong&quot;;\n            int CAPACITY = 10;\n            ShoppingCartManager SCM = new ShoppingCartManager();\n            System.out.println(&quot;Enter name of the item:&quot;);\n            itemName = SCM.input.nextLine();\n            for(int i=0; i &lt; CAPACITY; i++) {\n                if(itemNames[i] != null) {\n                    if(itemNames[i].equals(itemName)) {\n                        itemNames[i] = null;\n                        costs[i] = 0;\n                        for(int j=0; j &lt; CAPACITY; j++) {\n                            if(cartItems[j].toString().contains(itemName)) {\n                                for(int k = 0; k &lt; quantities[i]; k++) {\n                                    cartItems[j + k] = null;\n                                }\n                                break;\n                            } \n                        }\n                        quantities[i] = 0;\n                        removeOutput = (&quot;[&quot;+itemName+&quot;] is removed from your shopping cart. &quot;);\n                        break;\n                    } else {\n                        removeOutput = (&quot;[&quot;+itemName+&quot;] not found in cart. &quot;);\n                    }\n                }\n                \n            }\n            return removeOutput;\n        }\n</code></pre>\n<p>This is the best I can do and the outcome is as expected, I'm just curious if it is possible to simplify that super long nested loop in the method.</p>\n"},{"tags":["java","html","spring-boot"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678705438,"post_id":75720961,"comment_id":133579118,"body_markdown":"Do you store your HTML template on your disk?","body":"Do you store your HTML template on your disk?"},{"owner":{"account_id":25529132,"reputation":17,"user_id":19317541,"display_name":"Boots"},"score":0,"creation_date":1678705820,"post_id":75720961,"comment_id":133579232,"body_markdown":"@LajosArpad It stores as a String variable (String email = &quot;&quot;&quot; &lt;center&gt; &lt;img src = ???&gt;&lt;/center&gt;&quot;&quot;&quot;)","body":"@LajosArpad It stores as a String variable (String email = &quot;&quot;&quot; &lt;center&gt; &lt;img src = ???&gt;&lt;/center&gt;&quot;&quot;&quot;)"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":2,"creation_date":1678705873,"post_id":75720961,"comment_id":133579254,"body_markdown":"You can convert BufferedImage to byte array like this https://stackoverflow.com/questions/15414259/java-bufferedimage-to-byte-array-and-back encode the byte array to a base64 string like this https://stackoverflow.com/questions/2418485/how-do-i-convert-a-byte-array-to-base64-in-java and use HTMLs capability to render base64 encoded images like this https://stackoverflow.com/questions/8499633/how-to-display-base64-images-in-html","body":"You can convert BufferedImage to byte array like this <a href=\"https://stackoverflow.com/questions/15414259/java-bufferedimage-to-byte-array-and-back\" title=\"java bufferedimage to byte array and back\">stackoverflow.com/questions/15414259/&hellip;</a> encode the byte array to a base64 string like this <a href=\"https://stackoverflow.com/questions/2418485/how-do-i-convert-a-byte-array-to-base64-in-java\" title=\"how do i convert a byte array to base64 in java\">stackoverflow.com/questions/2418485/&hellip;</a> and use HTMLs capability to render base64 encoded images like this <a href=\"https://stackoverflow.com/questions/8499633/how-to-display-base64-images-in-html\" title=\"how to display base64 images in html\">stackoverflow.com/questions/8499633/&hellip;</a>"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678706863,"post_id":75720961,"comment_id":133579521,"body_markdown":"Did you try generating the QR code and adding it to your String?","body":"Did you try generating the QR code and adding it to your String?"},{"owner":{"account_id":25529132,"reputation":17,"user_id":19317541,"display_name":"Boots"},"score":0,"creation_date":1678709508,"post_id":75720961,"comment_id":133580237,"body_markdown":"@LajosArpad yes, But most email services won&#39;t support base64 images","body":"@LajosArpad yes, But most email services won&#39;t support base64 images"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678709856,"post_id":75720961,"comment_id":133580327,"body_markdown":"Can you upload the image to a trusted server?","body":"Can you upload the image to a trusted server?"}],"answers":[{"tags":[],"owner":{"account_id":25529132,"reputation":17,"user_id":19317541,"display_name":"Boots"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678861746,"creation_date":1678861633,"answer_id":75741167,"question_id":75720961,"body_markdown":"I resolved this by using cid in HTML img tag\r\n\r\nLink: https://stackoverflow.com/a/29205203/19317541","title":"Create a QR code in java and send it as an email in a HTML template (Without saving it as a image file)","body":"<p>I resolved this by using cid in HTML img tag</p>\n<p>Link: <a href=\"https://stackoverflow.com/a/29205203/19317541\">https://stackoverflow.com/a/29205203/19317541</a></p>\n"}],"owner":{"account_id":25529132,"reputation":17,"user_id":19317541,"display_name":"Boots"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75741167,"answer_count":1,"score":0,"last_activity_date":1678861746,"creation_date":1678705093,"question_id":75720961,"body_markdown":"I have already created a QR code in java. I want to send it as an email in an HTML template (img&lt;src=???&gt;). But I don&#39;t want to save that QR code image file on my disk.\r\n\r\nIs there any way to put it as a byte array (or something like that...IDK) into an HTML template?\r\n\r\n    try {\r\n            QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n            BitMatrix bitMatrix = qrCodeWriter.encode(content, BarcodeFormat.QR_CODE, 450, 450);\r\n            File qrImg = new File(&quot;qr-code.png&quot;);\r\n            BufferedImage bfi = MatrixToImageWriter.toBufferedImage(bitMatrix);\r\n            ImageIO.write(bfi, &quot;PNG&quot;, qrImg);\r\n            return qrImg;\r\n        } catch (IOException | WriterException e) {\r\n            throw new RuntimeException(e);\r\n        }","title":"Create a QR code in java and send it as an email in a HTML template (Without saving it as a image file)","body":"<p>I have already created a QR code in java. I want to send it as an email in an HTML template (img&lt;src=???&gt;). But I don't want to save that QR code image file on my disk.</p>\n<p>Is there any way to put it as a byte array (or something like that...IDK) into an HTML template?</p>\n<pre><code>try {\n        QRCodeWriter qrCodeWriter = new QRCodeWriter();\n        BitMatrix bitMatrix = qrCodeWriter.encode(content, BarcodeFormat.QR_CODE, 450, 450);\n        File qrImg = new File(&quot;qr-code.png&quot;);\n        BufferedImage bfi = MatrixToImageWriter.toBufferedImage(bitMatrix);\n        ImageIO.write(bfi, &quot;PNG&quot;, qrImg);\n        return qrImg;\n    } catch (IOException | WriterException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678787057,"post_id":75731276,"comment_id":133596839,"body_markdown":"The problem is that the bytes were already squeezed into a `String`, it&#39;s very likely that data got lost there. You cannot use a String to reliably represent a `byte[]`. I don&#39;t know volley but since that class is called `StringRequest`, there are probably alternatives to it.","body":"The problem is that the bytes were already squeezed into a <code>String</code>, it&#39;s very likely that data got lost there. You cannot use a String to reliably represent a <code>byte[]</code>. I don&#39;t know volley but since that class is called <code>StringRequest</code>, there are probably alternatives to it."},{"owner":{"account_id":3486303,"reputation":304,"user_id":2917150,"accept_rate":100,"display_name":"skafinski"},"score":0,"creation_date":1678800350,"post_id":75731276,"comment_id":133600569,"body_markdown":"@f1sh Thanik you for your comment. I looked again and found something I managed to get it working. It is Volley&#39;s JsonArrayRequest. I&#39;ve posted answer below.","body":"@f1sh Thanik you for your comment. I looked again and found something I managed to get it working. It is Volley&#39;s JsonArrayRequest. I&#39;ve posted answer below."}],"answers":[{"tags":[],"owner":{"account_id":3486303,"reputation":304,"user_id":2917150,"accept_rate":100,"display_name":"skafinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678800548,"creation_date":1678800132,"answer_id":75733707,"question_id":75731276,"body_markdown":"Thanks to @f1sh comment I&#39;ve managed to get it working with JsonArrayRequest from Volley.\r\n\r\nHere is procedure\r\n\r\n    public static void callByte(final Context Context, String URL, Integer Type, final JSONObject jsonObject, final VolleyCallbackByte callback) {\r\n            final RequestQueue requestQueue = Volley.newRequestQueue(Context);\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Type, /*baseUrl + */URL, null,\r\n                new Response.Listener&lt;JSONArray&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONArray response) {\r\n                        callback.onSuccessByte(response);\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        error.printStackTrace();\r\n                        requestQueue.stop();\r\n\r\n                        if (error.networkResponse != null) {\r\n                                callback.onErrorBitmap(error);\r\n                        }\r\n                        else {\r\n                            callback.onError(error.getMessage());\r\n                        }\r\n                    }\r\n                })\r\n        {\r\n\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                String credentials = &quot;lalaa&quot;;\r\n                String auth = &quot;Basic &quot; + Base64.encodeToString(credentials.getBytes(), Base64.NO_WRAP);\r\n                //headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                headers.put(&quot;Authorization&quot;, auth);\r\n                headers.put(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n                return headers;\r\n            }\r\n\r\n            @Override\r\n            protected Response&lt;JSONArray&gt; parseNetworkResponse(NetworkResponse response) {\r\n                try {\r\n\r\n                    JSONArray jsonArray = new JSONArray();\r\n                    for (int i = 0; i &lt; response.data.length; i++) {\r\n                        jsonArray.put(response.data[i]);\r\n                    }\r\n                    return Response.success(jsonArray,\r\n                            HttpHeaderParser.parseCacheHeaders(response));\r\n                } catch (Exception e) {\r\n                    return Response.error(null);\r\n                }\r\n            }\r\n        };\r\n\r\n        requestQueue.add(jsonArrayRequest);\r\n    }\r\n\r\n\r\nAnd here is my call \r\n\r\n    HTTPRequest.callByte(TaskActivity.this, url, Request.Method.GET, null,\r\n        new HTTPRequest.VolleyCallbackByte() {\r\n            @Override\r\n            public void onSuccessByte(JSONArray response) {\r\n                Bitmap bitmap;\r\n                try {\r\n                    byte[] ola = new byte[response.length()];\r\n                    for (int i = 0; i &lt; response.length(); i++) {\r\n                        ola[i] = (byte)response.getInt(i);\r\n                    }\r\n                    bitmap = BitmapFactory.decodeByteArray(ola, 0, response.length());\r\n                    napakaSlika.setImageBitmap(bitmap);\r\n                } catch (Exception e) {\r\n                    Toast.makeText(TaskActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n                String lala = &quot;S&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public void onErrorBitmap(VolleyError result) {\r\n                Toast.makeText(TaskActivity.this, result.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n    });","title":"Volley get image from API","body":"<p>Thanks to @f1sh comment I've managed to get it working with JsonArrayRequest from Volley.</p>\n<p>Here is procedure</p>\n<pre><code>public static void callByte(final Context Context, String URL, Integer Type, final JSONObject jsonObject, final VolleyCallbackByte callback) {\n        final RequestQueue requestQueue = Volley.newRequestQueue(Context);\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Type, /*baseUrl + */URL, null,\n            new Response.Listener&lt;JSONArray&gt;() {\n                @Override\n                public void onResponse(JSONArray response) {\n                    callback.onSuccessByte(response);\n                }\n            },\n            new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    error.printStackTrace();\n                    requestQueue.stop();\n\n                    if (error.networkResponse != null) {\n                            callback.onErrorBitmap(error);\n                    }\n                    else {\n                        callback.onError(error.getMessage());\n                    }\n                }\n            })\n    {\n\n        @Override\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n            Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n            String credentials = &quot;lalaa&quot;;\n            String auth = &quot;Basic &quot; + Base64.encodeToString(credentials.getBytes(), Base64.NO_WRAP);\n            //headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            headers.put(&quot;Authorization&quot;, auth);\n            headers.put(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n            return headers;\n        }\n\n        @Override\n        protected Response&lt;JSONArray&gt; parseNetworkResponse(NetworkResponse response) {\n            try {\n\n                JSONArray jsonArray = new JSONArray();\n                for (int i = 0; i &lt; response.data.length; i++) {\n                    jsonArray.put(response.data[i]);\n                }\n                return Response.success(jsonArray,\n                        HttpHeaderParser.parseCacheHeaders(response));\n            } catch (Exception e) {\n                return Response.error(null);\n            }\n        }\n    };\n\n    requestQueue.add(jsonArrayRequest);\n}\n</code></pre>\n<p>And here is my call</p>\n<pre><code>HTTPRequest.callByte(TaskActivity.this, url, Request.Method.GET, null,\n    new HTTPRequest.VolleyCallbackByte() {\n        @Override\n        public void onSuccessByte(JSONArray response) {\n            Bitmap bitmap;\n            try {\n                byte[] ola = new byte[response.length()];\n                for (int i = 0; i &lt; response.length(); i++) {\n                    ola[i] = (byte)response.getInt(i);\n                }\n                bitmap = BitmapFactory.decodeByteArray(ola, 0, response.length());\n                napakaSlika.setImageBitmap(bitmap);\n            } catch (Exception e) {\n                Toast.makeText(TaskActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n            String lala = &quot;S&quot;;\n        }\n\n        @Override\n        public void onErrorBitmap(VolleyError result) {\n            Toast.makeText(TaskActivity.this, result.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n});\n</code></pre>\n"}],"owner":{"account_id":3486303,"reputation":304,"user_id":2917150,"accept_rate":100,"display_name":"skafinski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75733707,"answer_count":1,"score":1,"last_activity_date":1678861566,"creation_date":1678786272,"question_id":75731276,"body_markdown":"I&#39;m having problem fetching image from API. When i watch response in Postman and save it as image - it saves it just fine and it is valid image. But I cant get it to work in java. \r\n\r\nBelow is my HTTPRequest class\r\n\r\n    public class HTTPRequest {\r\n    \r\n        public interface VolleyCallback{\r\n            void onSuccess(String result);\r\n            void onError(String errorMessage);\r\n        }\r\n    \r\n        public static final int MY_SOCKET_TIMEOUT_MS = 5000;\r\n    \r\n        public static void call(final Context Context, String URL, Integer Type, final VolleyCallback callback) {\r\n    \r\n            final RequestQueue requestQueue = Volley.newRequestQueue(Context);\r\n            StringRequest stringRequest = new StringRequest(Type, URL,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n                            callback.onSuccess(response);\r\n                            requestQueue.stop();\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                            @Override\r\n                            public void onErrorResponse(VolleyError error) {\r\n                                error.printStackTrace();\r\n                                requestQueue.stop();\r\n                                `enter code here`callback.onError(error.getMessage());\r\n                            }\r\n                    }) {\r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                    String credentials = &quot;notvisibletoyou:)&quot;;\r\n                    String auth = &quot;Basic &quot; + Base64.encodeToString(credentials.getBytes(), Base64.NO_WRAP);\r\n                    //headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                    headers.put(&quot;Authorization&quot;, auth);\r\n                    return headers;\r\n                }\r\n    \r\n                @Override\r\n                protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\r\n                    String parsed;\r\n                    try {\r\n                        parsed = new String(response.data, HttpHeaderParser.parseCharset(response.headers));\r\n                    } catch (UnsupportedEncodingException e) {\r\n                        parsed = new String(response.data);\r\n                    }\r\n                    return Response.success(parsed, HttpHeaderParser.parseCacheHeaders(response));\r\n                }\r\n            };\r\n    \r\n            stringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                    MY_SOCKET_TIMEOUT_MS,\r\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n    \r\n            requestQueue.add(stringRequest);\r\n        }\r\n    }\r\n\r\n\r\nHere is my response. You can see result has value.. but if I try to get it to bitmap it just doesn&#39;t work. Bitmap is null.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is code\r\n\r\n    HTTPRequest.call(TaskActivity.this, url, Request.Method.GET,\r\n                                        new HTTPRequest.VolleyCallback() {\r\n                                    \r\n       @Override\r\n       public void onSuccess(String result) \r\n       {\r\n           //bitmap is always null .. while result is not null\r\n           Bitmap bitmap = BitmapFactory.decodeByteArray(result.getBytes(), 0, result.length()); \r\n       }\r\n\r\nAny ideas?\r\n\r\n  [1]: https://i.stack.imgur.com/4p6cW.png","title":"Volley get image from API","body":"<p>I'm having problem fetching image from API. When i watch response in Postman and save it as image - it saves it just fine and it is valid image. But I cant get it to work in java.</p>\n<p>Below is my HTTPRequest class</p>\n<pre><code>public class HTTPRequest {\n\n    public interface VolleyCallback{\n        void onSuccess(String result);\n        void onError(String errorMessage);\n    }\n\n    public static final int MY_SOCKET_TIMEOUT_MS = 5000;\n\n    public static void call(final Context Context, String URL, Integer Type, final VolleyCallback callback) {\n\n        final RequestQueue requestQueue = Volley.newRequestQueue(Context);\n        StringRequest stringRequest = new StringRequest(Type, URL,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        callback.onSuccess(response);\n                        requestQueue.stop();\n                    }\n                },\n                new Response.ErrorListener() {\n                        @Override\n                        public void onErrorResponse(VolleyError error) {\n                            error.printStackTrace();\n                            requestQueue.stop();\n                            `enter code here`callback.onError(error.getMessage());\n                        }\n                }) {\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n                String credentials = &quot;notvisibletoyou:)&quot;;\n                String auth = &quot;Basic &quot; + Base64.encodeToString(credentials.getBytes(), Base64.NO_WRAP);\n                //headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n                headers.put(&quot;Authorization&quot;, auth);\n                return headers;\n            }\n\n            @Override\n            protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\n                String parsed;\n                try {\n                    parsed = new String(response.data, HttpHeaderParser.parseCharset(response.headers));\n                } catch (UnsupportedEncodingException e) {\n                    parsed = new String(response.data);\n                }\n                return Response.success(parsed, HttpHeaderParser.parseCacheHeaders(response));\n            }\n        };\n\n        stringRequest.setRetryPolicy(new DefaultRetryPolicy(\n                MY_SOCKET_TIMEOUT_MS,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n\n        requestQueue.add(stringRequest);\n    }\n}\n</code></pre>\n<p>Here is my response. You can see result has value.. but if I try to get it to bitmap it just doesn't work. Bitmap is null.</p>\n<p><a href=\"https://i.stack.imgur.com/4p6cW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4p6cW.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is code</p>\n<pre><code>HTTPRequest.call(TaskActivity.this, url, Request.Method.GET,\n                                    new HTTPRequest.VolleyCallback() {\n                                \n   @Override\n   public void onSuccess(String result) \n   {\n       //bitmap is always null .. while result is not null\n       Bitmap bitmap = BitmapFactory.decodeByteArray(result.getBytes(), 0, result.length()); \n   }\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":18188794,"reputation":467,"user_id":13234986,"display_name":"herickmota"},"score":0,"creation_date":1626967491,"post_id":68470140,"comment_id":121038356,"body_markdown":"I am having the same issue with the chrome version 92. It works in headless mode, but with the actual browser, it gets stuck at the data; page and loading forever.","body":"I am having the same issue with the chrome version 92. It works in headless mode, but with the actual browser, it gets stuck at the data; page and loading forever."}],"answers":[{"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1627277857,"creation_date":1627277857,"answer_id":68524951,"question_id":68470140,"body_markdown":"**Try to execute your code with:**\r\n\r\n    options.addArguments(&quot;--no-sandbox&quot;);\r\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\r\n\r\nThe /dev/shm partition is too small in certain VM environments, causing Chrome to fail or crash (see http://crbug.com/715363). Use this flag to work-around this issue (a temporary directory will always be used to create anonymous shared memory files).\r\n\r\n**Ref:** \r\n\r\nhttps://peter.sh/experiments/chromium-command-line-switches/","title":"Selenium Chrome Driver v92: No connection (in v91 everything works fine)","body":"<p><strong>Try to execute your code with:</strong></p>\n<pre><code>options.addArguments(&quot;--no-sandbox&quot;);\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\n</code></pre>\n<p>The /dev/shm partition is too small in certain VM environments, causing Chrome to fail or crash (see <a href=\"http://crbug.com/715363\" rel=\"nofollow noreferrer\">http://crbug.com/715363</a>). Use this flag to work-around this issue (a temporary directory will always be used to create anonymous shared memory files).</p>\n<p><strong>Ref:</strong></p>\n<p><a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">https://peter.sh/experiments/chromium-command-line-switches/</a></p>\n"},{"tags":[],"owner":{"account_id":19278984,"reputation":63,"user_id":14091343,"display_name":"Ron Hines"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627565898,"creation_date":1627565898,"answer_id":68577006,"question_id":68470140,"body_markdown":"adding these 2 lines of code worked for me: \r\n\r\n&gt;  options.addArguments(&quot;--no-sandbox&quot;);\r\n&gt; \r\n&gt;  options.addArguments(&quot;--disable-extensions&quot;);\r\n\r\n","title":"Selenium Chrome Driver v92: No connection (in v91 everything works fine)","body":"<p>adding these 2 lines of code worked for me:</p>\n<blockquote>\n<p>options.addArguments(&quot;--no-sandbox&quot;);</p>\n<p>options.addArguments(&quot;--disable-extensions&quot;);</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3316675,"reputation":11,"user_id":2788886,"display_name":"Naveen AutomationLabs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678510567,"creation_date":1678510567,"answer_id":75702862,"question_id":68470140,"body_markdown":"Add the following chromeoptions:\r\n\r\n    ChromeOptions co = new ChromeOptions();\r\n    co.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    WebDriver driver = new ChromeDriver(co);\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n\r\n","title":"Selenium Chrome Driver v92: No connection (in v91 everything works fine)","body":"<p>Add the following chromeoptions:</p>\n<pre><code>ChromeOptions co = new ChromeOptions();\nco.addArguments(&quot;--remote-allow-origins=*&quot;);\nWebDriver driver = new ChromeDriver(co);\ndriver.get(&quot;https://www.google.com&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25893232,"reputation":1,"user_id":19620301,"display_name":"Arju Halder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678861046,"creation_date":1678861046,"answer_id":75741123,"question_id":68470140,"body_markdown":"    ChromeOptions co = new ChromeOptions();    \r\n    co.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    driver = new ChromeDriver(co);\r\ntry using this, it worked for me","title":"Selenium Chrome Driver v92: No connection (in v91 everything works fine)","body":"<pre><code>ChromeOptions co = new ChromeOptions();    \nco.addArguments(&quot;--remote-allow-origins=*&quot;);\ndriver = new ChromeDriver(co);\n</code></pre>\n<p>try using this, it worked for me</p>\n"}],"owner":{"account_id":19278984,"reputation":63,"user_id":14091343,"display_name":"Ron Hines"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3672,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68524951,"answer_count":4,"score":3,"last_activity_date":1678861046,"creation_date":1626873102,"question_id":68470140,"body_markdown":"I updated to Chrome v92 (new chromedriver 92.0.4515.43 was downloaded and chrome browser updated to v92 automatically)\r\n\r\nBut now our tests doesn&#39;t work anymore when starting by jenkins. When i start the tests manually everything works in headless mode.\r\n\r\nThe following error occurs via jenkins:\r\n```\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created\r\nfrom disconnected: Unable to receive message from renderer\r\n&#160; (Session info: headless chrome=92.0.4515.107)\r\nBuild info: version: &#39;4.0.0-beta-3&#39;, revision: &#39;5d108f9a67&#39;\r\nSystem info: host: &#39;xxx&#39; ip: &#39;xxxx&#39;, os.name: &#39;Windows Server 2016&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_202&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, newSession {desiredCapabilities=Capabilities {acceptSslCerts: true, browserName: chrome, goog:chromeOptions: {args: [--disable-notifications, --disable-popup-blocking, --headless, --disable-gpu], extensions: [], prefs: {download.default_directory: C:\\xxxx\\, profile.default_content_settings.popups: 0}}, pageLoadStrategy: normal}}]\r\n&#160; &#160; at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126)\r\n&#160; &#160; at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84)\r\n&#160; &#160; at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62)\r\n&#160; &#160; at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n&#160; &#160; at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:153)\r\n&#160; &#160; at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:128)\r\n&#160; &#160; at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:619)\r\n&#160; &#160; at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:251)\r\n&#160; &#160; at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:173)\r\n&#160; &#160; at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:89)\r\n&#160; &#160; at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:99)\r\n&#160; &#160; at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:86)\r\n&#160; &#160; at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:75)\r\n```\r\n\r\nThis is the code, chrome is initialized\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, FilePath + &quot;\\\\drivers\\\\chromedriver.exe&quot;);\r\nHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\nchromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\nchromePrefs.put(&quot;download.default_directory&quot;, FilePath);\r\nChromeOptions options = new ChromeOptions();\r\nHashMap&lt;String, Object&gt; chromeOptionsMap = new HashMap&lt;String, Object&gt;();\r\noptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\noptions.addArguments(&quot;--disable-notifications&quot;);\r\noptions.addArguments(&quot;--disable-popup-blocking&quot;);\r\noptions.addArguments(&quot;--headless&quot;);\r\noptions.addArguments(&quot;--disable-gpu&quot;);\r\noptions.setCapability(ChromeOptions.CAPABILITY, chromeOptionsMap);\r\noptions.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\r\noptions.setCapability(ChromeOptions.CAPABILITY, options);\r\noptions.setPageLoadStrategy(PageLoadStrategy.NORMAL);\r\ndriver = new ChromeDriver(options);\r\n```\r\n\r\n\r\nWhen installing Chrome v91 with chromedriver v91 everything works fine. So the problem has to do with the update to v92.\r\n\r\nHas anybody an idea?\r\n\r\nSometimes this error occurs:\r\n\r\n```\r\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:60650/devtools/browser/9faa33dd-c789-47f4-acab-261acc7045e7\r\nBuild info: version: &#39;4.0.0-beta-3&#39;, revision: &#39;5d108f9a67&#39;\r\nSystem info: host: &#39;xxx&#39;, ip: &#39;xxx&#39;, os.name: &#39;Windows Server 2016&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_202&#39;\r\nDriver info: driver.version: ChromeDriver\r\n&#160; &#160; at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:104)\r\n&#160; &#160; at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:136)\r\n&#160; &#160; at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:111)\r\n&#160; &#160; at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:73)\r\n&#160; &#160; at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$1(ChromiumDriver.java:102)\r\n&#160; &#160; at java.util.Optional.map(Unknown Source)\r\n&#160; &#160; at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:100)\r\n&#160; &#160; at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:99)\r\n&#160; &#160; at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:86)\r\n&#160; &#160; at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:75)\r\n&#160; &#160; at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&#160; &#160; at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n&#160; &#160; at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&#160; &#160; at java.lang.reflect.Method.invoke(Unknown Source)\r\n&#160; &#160; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:60650/devtools/browser/9faa33dd-c789-47f4-acab-261acc7045e7\r\nBuild info: version: &#39;4.0.0-beta-3&#39;, revision: &#39;5d108f9a67&#39;\r\nSystem info: host: &#39;xxx&#39;, ip: &#39;xxx&#39;, os.name: &#39;Windows Server 2016&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_202&#39;\r\nDriver info: driver.version: ChromeDriver\r\n&#160; &#160; at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:104)\r\n&#160; &#160; at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:136)\r\n&#160; &#160; at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:111)\r\n&#160; &#160; at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:73)\r\n&#160; &#160; at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$1(ChromiumDriver.java:102)\r\n&#160; &#160; at java.util.Optional.map(Unknown Source)\r\n&#160; &#160; at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:100)\r\n&#160; &#160; at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:99)\r\n&#160; &#160; at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:86)\r\n&#160; &#160; at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:75)\r\n&#160; &#160; at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&#160; &#160; at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n&#160; &#160; at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&#160; &#160; at java.lang.reflect.Method.invoke(Unknown Source)\r\n\r\n```","title":"Selenium Chrome Driver v92: No connection (in v91 everything works fine)","body":"<p>I updated to Chrome v92 (new chromedriver 92.0.4515.43 was downloaded and chrome browser updated to v92 automatically)</p>\n<p>But now our tests doesn't work anymore when starting by jenkins. When i start the tests manually everything works in headless mode.</p>\n<p>The following error occurs via jenkins:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created\nfrom disconnected: Unable to receive message from renderer\n (Session info: headless chrome=92.0.4515.107)\nBuild info: version: '4.0.0-beta-3', revision: '5d108f9a67'\nSystem info: host: 'xxx' ip: 'xxxx', os.name: 'Windows Server 2016', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_202'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {desiredCapabilities=Capabilities {acceptSslCerts: true, browserName: chrome, goog:chromeOptions: {args: [--disable-notifications, --disable-popup-blocking, --headless, --disable-gpu], extensions: [], prefs: {download.default_directory: C:\\xxxx\\, profile.default_content_settings.popups: 0}}, pageLoadStrategy: normal}}]\n  at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126)\n  at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84)\n  at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62)\n  at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n  at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:153)\n  at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:128)\n  at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:619)\n  at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:251)\n  at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:173)\n  at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:89)\n  at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:99)\n  at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:86)\n  at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:75)\n</code></pre>\n<p>This is the code, chrome is initialized</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, FilePath + &quot;\\\\drivers\\\\chromedriver.exe&quot;);\nHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\nchromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\nchromePrefs.put(&quot;download.default_directory&quot;, FilePath);\nChromeOptions options = new ChromeOptions();\nHashMap&lt;String, Object&gt; chromeOptionsMap = new HashMap&lt;String, Object&gt;();\noptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\noptions.addArguments(&quot;--disable-notifications&quot;);\noptions.addArguments(&quot;--disable-popup-blocking&quot;);\noptions.addArguments(&quot;--headless&quot;);\noptions.addArguments(&quot;--disable-gpu&quot;);\noptions.setCapability(ChromeOptions.CAPABILITY, chromeOptionsMap);\noptions.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\noptions.setCapability(ChromeOptions.CAPABILITY, options);\noptions.setPageLoadStrategy(PageLoadStrategy.NORMAL);\ndriver = new ChromeDriver(options);\n</code></pre>\n<p>When installing Chrome v91 with chromedriver v91 everything works fine. So the problem has to do with the update to v92.</p>\n<p>Has anybody an idea?</p>\n<p>Sometimes this error occurs:</p>\n<pre><code>org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:60650/devtools/browser/9faa33dd-c789-47f4-acab-261acc7045e7\nBuild info: version: '4.0.0-beta-3', revision: '5d108f9a67'\nSystem info: host: 'xxx', ip: 'xxx', os.name: 'Windows Server 2016', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_202'\nDriver info: driver.version: ChromeDriver\n  at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:104)\n  at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:136)\n  at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:111)\n  at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:73)\n  at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$1(ChromiumDriver.java:102)\n  at java.util.Optional.map(Unknown Source)\n  at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:100)\n  at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:99)\n  at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:86)\n  at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:75)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:60650/devtools/browser/9faa33dd-c789-47f4-acab-261acc7045e7\nBuild info: version: '4.0.0-beta-3', revision: '5d108f9a67'\nSystem info: host: 'xxx', ip: 'xxx', os.name: 'Windows Server 2016', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_202'\nDriver info: driver.version: ChromeDriver\n  at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:104)\n  at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:136)\n  at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:111)\n  at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:73)\n  at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$1(ChromiumDriver.java:102)\n  at java.util.Optional.map(Unknown Source)\n  at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:100)\n  at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:99)\n  at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:86)\n  at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:75)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n\n</code></pre>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678861101,"post_id":75741114,"comment_id":133613163,"body_markdown":"Did you provide command line args?","body":"Did you provide command line args?"},{"owner":{"account_id":8795439,"reputation":107,"user_id":6573483,"display_name":"Towhidul Haque Roni"},"score":1,"creation_date":1678861961,"post_id":75741114,"comment_id":133613305,"body_markdown":"It should work, make sure you have put the command line arguments. \nDebug it by printing the arguments.\n\nScanner should work too. try:\n\nScanner scanner = new Scanner(System.in);\nint port = scanner.nextInt();","body":"It should work, make sure you have put the command line arguments.  Debug it by printing the arguments.  Scanner should work too. try:  Scanner scanner = new Scanner(System.in); int port = scanner.nextInt();"}],"owner":{"account_id":27129612,"reputation":1,"user_id":20672000,"display_name":"AmBert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678886894,"answer_count":0,"score":0,"last_activity_date":1678860937,"creation_date":1678860937,"question_id":75741114,"body_markdown":"I have this line of code in server.java file that create a sever and take the arge[0] as port but it show ArrayIndexOutOfBoundsException\r\n```\r\n//create a Server object\r\n           Server server = new Server();\r\n   \r\n           //show GUI:\r\n           server.pack();\r\n           server.setVisible(true);\r\n           server.setSize(new Dimension(400, 200));\r\n   \r\n           //get RTSP socket port from the command line\r\n           int RTSPport = Integer.parseInt(argv[0]);\r\n           server.RTSP_dest_port = RTSPport;\r\n          \r\n           //Initiate TCP connection with the client for the RTSP session\r\n           ServerSocket listenSocket = new ServerSocket(RTSPport);\r\n           server.RTSPsocket = listenSocket.accept();\r\n           listenSocket.close();\r\n```\r\n\r\nThe same thing goes for client.java file\r\n```\r\n//Create a Client object\r\n           Client theClient = new Client();\r\n           \r\n           //get server RTSP port and IP address from the command line\r\n           //------------------\r\n           int RTSP_server_port = Integer.parseInt(argv[1]);\r\n           String ServerHost = argv[0];\r\n           theClient.ServerIPAddr = InetAddress.getByName(ServerHost);\r\n   \r\n           //get video filename to request:\r\n           VideoFileName = argv[2];\r\n   \r\n           //Establish a TCP connection with the server to exchange RTSP messages\r\n           //------------------\r\n           theClient.RTSPsocket = new Socket(theClient.ServerIPAddr, RTSP_server_port);\r\n```\r\n\r\n\r\nI also try using Scanner and BufferedReader to get port from terminal but the client doesn&#39;t seem to connect to the server. Is there any other way?","title":"How to take sever port from argv[] in java socket?","body":"<p>I have this line of code in server.java file that create a sever and take the arge[0] as port but it show ArrayIndexOutOfBoundsException</p>\n<pre><code>//create a Server object\n           Server server = new Server();\n   \n           //show GUI:\n           server.pack();\n           server.setVisible(true);\n           server.setSize(new Dimension(400, 200));\n   \n           //get RTSP socket port from the command line\n           int RTSPport = Integer.parseInt(argv[0]);\n           server.RTSP_dest_port = RTSPport;\n          \n           //Initiate TCP connection with the client for the RTSP session\n           ServerSocket listenSocket = new ServerSocket(RTSPport);\n           server.RTSPsocket = listenSocket.accept();\n           listenSocket.close();\n</code></pre>\n<p>The same thing goes for client.java file</p>\n<pre><code>//Create a Client object\n           Client theClient = new Client();\n           \n           //get server RTSP port and IP address from the command line\n           //------------------\n           int RTSP_server_port = Integer.parseInt(argv[1]);\n           String ServerHost = argv[0];\n           theClient.ServerIPAddr = InetAddress.getByName(ServerHost);\n   \n           //get video filename to request:\n           VideoFileName = argv[2];\n   \n           //Establish a TCP connection with the server to exchange RTSP messages\n           //------------------\n           theClient.RTSPsocket = new Socket(theClient.ServerIPAddr, RTSP_server_port);\n</code></pre>\n<p>I also try using Scanner and BufferedReader to get port from terminal but the client doesn't seem to connect to the server. Is there any other way?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9650,"page":575,"page_size":100}
